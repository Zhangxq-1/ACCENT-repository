def resource patch context data dict  check access 'resource patch context data dict show context {'model' context 'session' context 'user' context 'auth user obj context user obj dict  get action 'resource show show context {'id'  get or bust data dict 'id' } patched dict resource dict patched data dict return  update update context patched 
def pyramid laplacian image max layer -1 downscale 2 sigma None order 1 mode 'reflect' cval 0  check factor downscale image img as float image if sigma is None sigma 2 * downscale / 6.0 layer 0rows image image image  smooth image sigma mode cval yield image - smoothed image while layer ! max layer layer + 1out rows math rows / float downscale out cols math cols / float downscale resized image resize smoothed image out rows out cols order order mode mode cval cval smoothed image  smooth resized image sigma mode cval prev rows rowsprev cols colsrows resized image resized image prev rows rows and prev cols cols break yield resized image - smoothed image 
def get svc avail path return AVAIL SVR DIRS
def unhex s bits 0for c in s c bytes c if '0' < c < '9' i ord '0' elif 'a' < c < 'f' i ord 'a' - 10 elif 'A' < c < 'F' i ord 'A' - 10 else assert False 'non-hexdigit' + repr c bits bits * 16 + ord c - i return bits 
def walk top topdown True followlinks False names os top dirs nondirs [] [] for name in names if path path top name dirs name else nondirs name if topdown yield top dirs nondirs for name in dirs fullpath path top name if followlinks or not path fullpath for x in walk fullpath topdown followlinks yield x if not topdown yield top dirs nondirs 
def url filename url match upload title re url if match return match 'filename' else return url 
def get preamble latex preamble rc Params u u if type latex preamble list latex preamble u latex preamble return latex preamble 
def sdm spoly f g O K phantom None if not f or not g return sdm zero LM1 sdm LM f LM2 sdm LM g if LM1[0] ! LM2[0] return sdm zero LM1 LM1[1 ]LM2 LM2[1 ]lcm monomial lcm LM1 LM2 m1 monomial div lcm LM1 m2 monomial div lcm LM2 c K - sdm LC f K sdm LC g K r1 sdm add sdm mul term f m1 K O K sdm mul term g m2 c O K O K if phantom is None return r1r sdm add sdm mul term phantom m1 K O K sdm mul term phantom m2 c O K O K return r1 r2 
def analyze modules project task handle taskhandle Null Task Handle resources project python files job set task handle jobset 'nalyzing Modules len resources for resource in resources job set job resource analyze module project resource job set job 
def get sw login version return '-'.join get sw version strip build num True .split '-' [1 -2 ]
def Set Help Menu Other Help main Menu global help I D Mapif help I D Map is None help I D Map { D win32ui I D HELP O T H E Rexclude List [ain Python Documentation 'ythonwin Reference List List All Help Files exclude Fnames []for desc fname in first List if desc in exclude List exclude Fnames fname help Descs []for desc fname in first List if fname not in exclude Fnames help I D Map I D desc fname win32ui Get Main Frame .ook Command Handle Help Other Command cmd I D cmd I D cmd I D + 1 help Menu main Menu Get Sub Menu main Menu Get Menu Item Count - 1 other Help Menu Pos 2enu help Menu Get Sub Menu other Help Menu Pos while other Menu Get Menu Item Count other Menu Delete Menu 0 win32con M F BYPOSITION if help I D Map for id desc fname in help I D Map other Menu Append Menu win32con M F ENABLED | win32con M F STRING id desc else help Menu Enable Menu Item other Help Menu Pos win32con M F BYPOSITION | win32con M F GRAYED
def to location code falcon H T T P 302 raise falcon status H T T P Status code {'location' location 
def select command corrected commands try selector Command Selector corrected commands except No Rule Matched logs 'ofucksgiven returnif not settings confirmation logs corrected command selector return selector text selector for action in read actions if action const A C T I O N SELECT sys '\n' return selector action const A C T I O N ABORT logs 'borted returnelif action const A C T I O N PREVIOUS selector logs text selector elif action const A C T I O N NEXT selector logs text selector 
def partial project endog exog x1 x2 endog exog params np x2 .dot x1 predicted x2 params residual x1 - predicted res Bunch params params fittedvalues predicted resid residual return res 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def test On Sequence Data module dataset target dataset Field 'target' output Module Validator Module Output module dataset ends Sequence Helper Sequence Ends dataset summed output zeros dataset class output []class target []for j in range len output summed output + output j in ends class output argmax summed output class target argmax target summed output zeros dataset class output array class output class target array class target return Validator Performance class output class target 
def get Path edges path Indexes loop z path []for path Index Index in xrange len path Indexes path Index path Indexes Index Index edges Index Intersection get Carve Intersection From Edge edge loop z path carve Intersection return path 
def  has required botocore if not HAS BOTO return Falseelif Loose Version botocore  version   < Loose Version required botocore version return Falseelse return True 
def config option show context data dict return {'success' False 
@preserve value sys 'dont write bytecode def  load module no bytecode filename module file module file path py source description sys write bytecode 1new module imp module os filename [0].replace '-' '_' module file module file path py source description return new module 
def populate tables db prefix tmp prefix bounds bbox 'ST Set S R I D ST Make Box2 D ST Make Point %.6f %.6f ST Make Point %.6f %.6f 900913 ' % bounds db 'BEGIN' for table in 'point' 'line' 'roads' 'polygon' db 'DELETEFROM% prefix s % table s W H E R E S T Intersects way % bbox s ' % locals db 'INSERTINTO% prefix s % table s S E L E C T F R O M tmp prefix s % table s W H E R E S T Intersects way % bbox s ' % locals db 'COMMIT'
def is 1pexp t only process constants True if t and t tensor scalars scalar inputs nonconsts opt rest t only process constants only process constants if len nonconsts 1 maybe exp nonconsts maybe exp and maybe exp tensor if scalars scal sum scalars s in scalars ] scal sum scal sum + s if numpy scal sum 1 return False maybe exp if config 1pexp bug warnings "lthoughyourcurrentcodeisfine pleasenotethat Theanoversionspriorto0 morespecifically priortocommit7987b mayhaveyieldedanincorrectresult Toremovethiswarning eithersetthe 1pexp bug False or bug before return None 
def round if near integer a epsilon 0.0001 if abs a - round a < epsilon return round a else return a 
def make msgid idstring None timeval time utcdate time ' H M S time timeval pid os randint random 100000 if idstring is None idstring ''else idstring '.' + idstring idhost socket msgid '<%s.%s.%s%s@%s>' % utcdate pid randint idstring idhost return msgid 
def get linode id from name name nodes  query 'linode' 'list' [ A T A id ''for node in nodes if name node L A B E L linode id node L I N O D E I D linode idif not linode id raise Salt Cloud Not Found 'hespecifiedname {0} couldnotbefound name 
def did you mean units s all units deprecated units format decomposed def fix deprecated x if x in deprecated units results [ x + u deprecated ' ]decomposed  try decomposed all units format decomposed if decomposed is not None results decomposed return resultsreturn x return did you mean s all units fix fix deprecated 
def is classifier estimator return getattr estimator ' estimator type None 'classifier'
def  get objects obj type lst objs Fake Retrieve Result for key in  db content type lst objs object  db content type return lst objs 
def expandvars path global  varprogif '$' not in path return pathif not  varprog import re varprog re '\\$ \\w+|\\{[^}]*\\} ' i 0while True m  varprog path i if not m break i j m 0 name m 1 if name '{' and name '}' name name -1 ]if name in os tail path ]path path i + os i len path path + tailelse i jreturn path 
def get New Repository return Fill Repository 
def Validate Actions In Target target target dict build file target name target dict 'target name actions target dict 'actions' [] for action in actions action name action 'action name if not action name raise Gyp Error "nonymousactionintarget Anactionmusthavean name % target name inputs action 'inputs' None if inputs is None raise Gyp Error 'ctionintarget % target name action command action 'action' if action command and not action command raise Gyp Error 'mptyactionascommandintarget % target name 
def match hostname cert hostname if not cert raise Value Error u dnsnames []san cert u Alt Name for key value in san if key u D N S if  dnsname match value hostname returndnsnames value if not dnsnames for sub in cert u for key value in sub if key u Name if  dnsname match value hostname returndnsnames value if len dnsnames > 1 raise Certificate Error u % hostname u '.join map repr dnsnames elif len dnsnames 1 if sys info 3] < 2 7 3 and dnsnames u returnraise Certificate Error u % hostname dnsnames else raise Certificate Error u Nameorsubject Alt Namefieldswerefound 
def gf quo ground f a p K return gf mul ground f K a p p K
def  do search conf connargs {}for name in ['server' 'port' 'tls' 'binddn' 'bindpw' 'anonymous'] connargs  config name conf if connargs and connargs connargs Falsetry  filter conf Key Error raise Salt Invocation Error 'missingfilter'  dn  config 'dn' conf scope  config 'scope' conf  lists  config 'lists' conf or []  attrs  config 'attrs' conf or [] attrs  lists +  attrs if not attrs attrs Nonetry result   salt  ['ldap.search']  filter  dn scope attrs **connargs ['results']except Index Error log ' D A Psearchreturnednoresultsforfilter  filter result {}except Exception log 'ailedtoretrievepillardatafrom L D A P \n' exc info True return {}return result 
def test rus fit rus Random Under Sampler random state RND SEED rus X Y assert equal rus c  0 assert equal rus c  1 assert equal rus c [0] 3 assert equal rus c [1] 7
def Missing Metrics Criteria return [] []
def Flag Overrider **flag kwargs def Decorator f 'llowafunctiontosafelychangeflags restoringthemonreturn Decorated *args **kwargs global F L A G Sold flags copy FLAGS for k v in flag kwargs setattr FLAGS k v try return f *args **kwargs finally FLAGS old flagsreturn Decoratedreturn Decorator 
def follow link connection link if link return connection link link else return None 
def add arg f *args **kwargs if not hasattr f 'arguments' f []if args kwargs not in f f 0 args kwargs 
def singleton cls instances {}def getinstance if cls not in instances instances cls return instances getinstance 
def  get pseudo pgp block remaining contents if not remaining contents return Noneblock match PGP BLOCK S T A R T remaining contents if block match block type block match [0]block lines []end line PGP BLOCK END % block type while True if not remaining contents raise Value Error "nterminatedpgpstyleblock lookingfor \n%s" % end line '\n'.join block lines line remaining contents 0 block lines line if line end line return block type '\n'.join block lines else return None 
def plugin cache dir return os tempfile 'lti Snips test vim plugins 
def after script destroy cmd ['terraform' 'destroy' '-force']logging.info 'estroyingcloudproviderresources sys run cmd destroy cmd 
def standard b64encode s return b64encode s 
def import buffer to ast buf module name return hy compile import buffer to hst buf module name 
def merge with func *dicts **kwargs if len dicts 1 and not isinstance dicts dict dicts dicts  get factory merge with kwargs result factory for d in dicts for k v in iteritems d if k not in result result [v]else result v return valmap func result factory 
def text List To Colors Simple names u Names list set names u Names text To Color [ames n for n in names To Color np text To Color text To Color 255 * text To Color - text To Color / text To Color - text To Color textmaps generate Color Map colors [textmaps[int c ] for c in text To Color colors 
def multidict to dict multidict if config A U T O COLLAPSE MULTI KEYS d dict multidict for key value in d if len value 1 d value delse return multidict dict 
def get can enable ldap if has module u return True None else return False _ u L D A Pauthenticationrequiresthepython whichisnotinstalled 
def get ident return -1
def agent leave consul url None node None ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not node raise Salt Invocation Error 'equiredargument function 'agent/force-leave/{0}'.format node res  query consul url consul url function function method 'GET' query params query params if res ret Trueret 'ode node else ret Falseret 'nabletochangestatefor node return ret 
def task cli pip prereqs package manager if package manager in 'dnf' 'yum' return yum install PIP CLI PREREQ YUM package manager package manager sudo True elif package manager 'apt' return sequence [apt get update sudo True apt get install PIP CLI PREREQ APT sudo True ] else raise Unsupported Distribution 
def count values expr sort True result by expr count expr if sort result result 'count' ascending False return result 
def pairwise most common sets from sympy import subsetsfrom collections import defaultdictmost -1 for i j in subsets list range len sets 2 com sets & sets if com and len com > most best defaultdict list best keys []most len com if len com most if com not in best keys best keys com best keys com ].append i j if most -1 return []for k in range len best best keys best keys best best keys key lambda x len x return best keys 
def skip reason def decorator test item if isinstance test item type and issubclass test item Test Case test item  unittest skip   Truetest item  unittest skip why   reasonreturn test item copy test item def skip wrapper *args **kwargs raise Skip Test reason return skip wrapperreturn decorator 
def jet rc 'image' cmap 'jet' im gci if im is not None im cmap cm draw if interactive 
def pperm accessing obj accessed obj *args **kwargs return perm  to player accessing obj accessed obj *args **kwargs
def reconn notice guide light magenta 'oucanuse + light green 'switch' + light magenta 'commandtoreturntoyourstream.\n' guide + light magenta 'ype + light green 'hstream' + light magenta 'formoredetails.' print Nicely guide sys g name g P R E F I X sys 
def runproc cmd proc Popen [cmd] shell True stdin PIPE stdout PIPE stderr PIPE close fds True stdoutdata stderrdata proc return stdoutdata stderrdata 
def convert unreachable exception e error format u Facebookisunreachable exception class map unreachable exception e error message error format % str e exception exception class error message return exception 
def init pool worker signal signal S I G I N T signal S I G IGN
def count ngrams text max ngram size stop words if not isinstance stop words set stop words set stop words words [word.lower for word in WORD R E text if word not in stop words ]ngram counts defaultdict int for i in range len words for n in range 1 max ngram size + 1 if i + n < len words ngram ''.join words i + n ] ngram counts n ngram ] + 1for n in range 1 max ngram size + 1 ngram counts n None ] len words - n + 1 return ngram counts 
def Format Code unformatted source filename '<unknown>' style config None lines None print diff False verify False  Check Python Version style Set Global Style style Create Style From Config style config if not unformatted source '\n' unformatted source + '\n'tree pytree utils Parse Code To Tree unformatted source comment splicer Splice Comments tree continuation splicer Splice Continuations tree subtype assigner Assign Subtypes tree split penalty Compute Split Penalties tree blank line calculator Calculate Blank Lines tree uwlines pytree unwrapper Unwrap Py Tree tree for uwl in uwlines uwl Calculate Formatting Information  Mark Lines To Format uwlines lines reformatted source reformatter Reformat uwlines verify if unformatted source reformatted source return '' if print diff else reformatted source False code diff  Get Unified Diff unformatted source reformatted source filename filename if print diff return code diff code diff ! '' return reformatted source True 
@step 'willconfirmallalerts def i confirm all alerts step world script 'window.confirm function {returntrue;};window.alert function {return;}'
def test ranking ignores identifier quotes completer text u [u'user action u completer matches text collection assert len matches 2
def token urlsafe nbytes None tok token bytes nbytes return base64 b64encode tok .rstrip ' ' .decode 'ascii'
def saturated color factor 150 h color Hue F s color Saturation F v color F a color F s factor * s / 100.0 s max min 1.0 s 0.0 return Q Color Hsv F h s v a .o color 
def  absolute path path relative to None if path and os path return pathif path and relative to is not None  abspath os relative to path if os  abspath log "elativepath path  abspath return  abspathreturn path 
def lonlat2grid lon lat return '%d%s' % lon2zone lon lat2zone lat 
def create continuous query database name query **client args client  client **client args full query ' R E A T E C O N T I N U O U S Q U E R Y O N B E G I N E N D full query name database query client query return True 
def iso now now datetime return '%s.%06d' % now ' H M S now 
@flaskbb.group def plugins pass 
def idz frmi m return  id frmi m 
def run gdb *args **env vars if env vars env os env env vars else env Nonebase cmd 'gdb' '--batch' if gdb major version gdb minor version > 7 4 base cmd + '-iex' 'add-auto-load-safe-path' + checkout hook path out err subprocess Popen base cmd + args stdout subprocess P I P E stderr subprocess P I P E env env .communicate return out err 
def get fasta labels input fasta fp fasta labels []fasta f open input fasta fp 'U' for label seq in parse fasta fasta f fasta labels label [0] return fasta labels 
def n to one arr return where arr 1 [0][0]
def  Auth Function host email passin raw input fn password input fn if not email print 'leaseenterlogincredentialsfor % host email raw input fn 'mail ' if email password prompt 'asswordfor ' % email if passin password raw input fn password prompt else password password input fn password prompt else password Nonereturn email password 
def  openbsd remotes on port which end remotes set try data subprocess output ['netstat' '-nf' 'inet'] except subprocess Called Process Error log 'ailednetstat raiselines data '\n' for line in lines if 'ESTABLISHED' not in line continuechunks line local host local port chunks '.' 1 remote host remote port chunks '.' 1 if which end 'remote port and int remote port ! port continueif which end 'local port and int local port ! port continueremotes remote host return remotes 
def lpmerge L R setitem L.  setitem  [setitem k v for k v in items R if v is not None ]return L
def cleanup version sender instance **kw if kw 'raw' returnfor file  in instance cleanup file file .  class   file 
def flatten list list of list [[] []] return sum list of list []
def  tosequence X if isinstance X Mapping return [ return tosequence X
def check path traversal path user 'root' skip perm errors False for tpath in list path traversal path if not os tpath os R OK msg 'ouldnotaccess tpath if not os tpath msg + 'athdoesnotexist current user salt user if user ! current user msg + 'ryrunningasuser user else msg + 'leasegive user if skip perm errors returnraise Salt Client Error msg 
def htmlsafe json dumps obj dumper None **kwargs if dumper is None dumper json dumper obj **kwargs .replace u u .replace u u .replace u u .replace u u return rv 
def  resp status property def getter self return '%s%s' % self int self def setter self value if isinstance value int long self int valueself self RESPONSE R E A S O N S if isinstance value unicode value value 'utf-8' self int int value '' 1 [0] self self value '' 1 [1]return property getter setter doc "etrieveandsetthe Responsestatus e O K 
def  absolute flat glob pattern dirname basename os pattern if basename if os pattern yield pattern elif os dirname yield pattern return 
def camel to underscore name import stringfor c in string uppercase name name c ' %c' % c return name '_' .lower
def filter sff reads sff data ids to keep None ids to remove None header reads sff dataif ids to keep is not None reads [r for r in reads if r Name in ids to keep ]if ids to remove is not None reads [r for r in reads if r Name not in ids to remove ]header['number of reads len reads return header reads 
def binary search std lib sorted collection item index bisect left sorted collection item if index ! len sorted collection and sorted collection item return indexreturn None 
def test rechunk 1d a np 0 1 300 x da array a chunks 100 * 3 new 50 * 6 x2 rechunk x chunks new assert x2 new assert np x2 a 
def memoized method func None key factory per instance **kwargs return memoized func func key factory key factory **kwargs
def rekey db packer n 0while 1 m  rekey one batch db packer if m 0 breakn + mreturn n 
def  Filters return  cpplint state 
def placeholder *args **kwargs warnings 'default' Deprecation Warning warnings 'ed.placeholder isdeprecated instead Deprecation Warning x tf *args **kwargs tf to collection 'PLACEHOLDERS' x return x 
def libvlc media get duration p md f  Cfunctions 'libvlc media get duration None or  Cfunction 'libvlc media get duration 1 None ctypes longlong Media return f p md 
def initialize Zone Interval Table shape vertexes shape Interval shape Thickness / math len vertexes / 1000.0 shape Zone Table {}for point in vertexes add To Zone Table point shape 
def invitation detail request token invitation Invitation invitation token if not invitation return invitation error request 'hisinvitationisnolongervalid backend getattr settings 'REGISTRATION BACKEND' 'efault Backend return register request backend 
def pipeline code wrapper pipeline code return '\nexported pipeline {}\n\nexported pipeline training features training classes \nresults exported pipeline testing features \n'.format pipeline code 
def expand to match items cfg2newlines {}for configuration lines in items cfg2newlines []maxguard 2 ** 30 while True minimalsourceline maxguardfor configuration lines in items if lines minimalsourceline min minimalsourceline lines if minimalsourceline maxguard breakfor configuration lines in items if lines and lines < minimalsourceline cfg2newlines lines del lines of lines max len x for x in cfg2newlines for newlines in cfg2newlines add number of lines - len newlines newlines ['\n'] * add return cfg2newlines 
def is suppressed warning type subtype suppress warnings if type is None return Falsefor warning type in suppress warnings if '.' in warning type target subtarget warning type '.' 1 else target subtarget warning type None if target type if subtype is None or subtarget is None or subtarget subtype or subtarget '*' return Truereturn False 
def first nibble hex encoding t parts []for c in t x y  get nibbles c parts ' % ord x y return '%' + '%'.join parts 
def test should report both errors and warnings negative expected [ 'one 'one -1 Error 'ariableaassignedbeforeglobaldeclaration 'globala' -1 Warning ]code 'one 2\ndeffoo \na 2ssert Error Assertion Error Are Equal expected compile file code 
def p constant expression opt 2 t pass 
def get best match target name names exact []wildcard start []wildcard end []regex []for name in names if  exact match target name name exact name elif  wildcard match target name name True wildcard start name elif  wildcard match target name name False wildcard end name elif  regex match target name name regex name if len exact > 0 match min exact key len return 'exact' match if len wildcard start > 0 match max wildcard start key len return 'wildcard start match if len wildcard end > 0 match max wildcard end key len return 'wildcard end match if len regex > 0 match regex 'regex' match return None None 
def parse test files option opt opt str opt if ' ' in opt f name rest opt ' ' 1 return f name list map int rest ' ' else return opt []
@get '/admin/<taskid>/flush' def task flush taskid if is admin taskid Data Store dict else for key in list Data Store if Data Store addr request addr del Data Store 'lushedtaskpool %s ' % taskid 'admin' if is admin taskid else request addr return jsonize {'success' True 
def test comparision with c raw events  get data [ 2]c evoked read evokeds evoked nf name condition 0 epochs Epochs raw events event id tmin tmax baseline None preload True proj False evoked epochs eeg reference .apply proj .average sel pick channels c evoked names evoked names evoked data evoked evoked data c evoked true evoked c evoked assert array almost equal evoked data c evoked data 10 assert array almost equal evoked c evoked 12
def mw boot x y num reps 999 tol MACHEP * 100 observed stat obs p mw t x y u stats as or more extreme 0for sampled x sampled y in  get bootstrap sample x y num reps try sample stat sample p mw t sampled x sampled y if sample stat < observed stat - tol u stats as or more extreme + 1except Value Error passreturn observed stat u stats as or more extreme + 1 / num reps + 1
def  get target ch container target picks pick channels container names include [target] ref picks pick types container meg False eeg False ref meg True if len ref picks > 0 picks list set picks - set ref picks if len picks 0 raise Value Error '%snotinchannellist %s ' % target container names return picks 
def graph atlas g return list  generate graphs 
def num cpus try return psutil count except Attribute Error return psutil N U M CPUS
def which program def is exe fpath return os fpath and os fpath os X OK fpath fname os program if fpath if is exe program return programelse for path in os P A T H os exe file os path program if is exe exe file return exe file 
def Parse And Unwrap code dumptree False tree pytree utils Parse Code To Tree code comment splicer Splice Comments tree continuation splicer Splice Continuations tree subtype assigner Assign Subtypes tree split penalty Compute Split Penalties tree blank line calculator Calculate Blank Lines tree if dumptree pytree visitor Dump Py Tree tree target stream sys uwlines pytree unwrapper Unwrap Py Tree tree for uwl in uwlines uwl Calculate Formatting Information return uwlines 
def iri to uri iri if iri is None return irireturn quote force bytes iri safe "/#%[] ;$& + !?*@'~"
def string from module module variable None default None val variable from module module variable variable default default if val if variable return valelse result [v for v in make iter val if isinstance v basestring ]return result if result else default return default 
def  upload param dict timeout data param dict 'json'param dict 'true'param dict 'audio summary util 'track/upload' param dict POST True socket timeout 300 data data return  track from response result timeout 
def Test Data parent None source None include suites None warn on skipped False extensions None if os source return Test Data Directory parent source .populate include suites warn on skipped extensions return Test Case File parent source .populate
def  check reg match sss py sss mf comp tol info py sss py history info info true info py is not None assert true len info py > 0 info mf sss mf history info info in Nonefor inf in info py info mf if n in is None n in  get n moments inf order else assert equal n in  get n moments inf order assert equal inf n in inf assert allclose info py info mf atol comp tol err msg sss py filenames 
def safe int val allow zero True try ret int val except Value Error print "orry '%s'isnotavalidinteger." % val return Falseif not allow zero and ret 0 print 'leaseenteranon return Falsereturn ret 
def pearsonr x y x np x y np y n len x mx x my y xm ym x - mx y - my r num np xm * ym r den np  sum of squares xm *  sum of squares ym r r num / r den r max min r 1.0 -1.0 df n - 2 if abs r 1.0 prob 0.0else t squared r ** 2 * df / 1.0 - r * 1.0 + r prob  betai 0.5 * df 0.5 df / df + t squared return r prob 
def group detail request slug template name 'groups/group detail group get object or 404 Group slug slug is active True if group only and not Group Member member group request return redirect request reverse 'groups join kwargs {'slug' group return render request template name {'group' group 'topic list group }
def has access f if hasattr f ' permission name permission str f permission nameelse permission str f  name  def wraps self *args **kwargs permission str PERMISSION PREFIX + f permission name if self access permission str self  class  .  name   return f self *args **kwargs else log LOGMSG ERR SEC ACCESS D E N I E D permission str self  class  .  name   flash as unicode FLAMSG ERR SEC ACCESS DENIED 'danger' return redirect url for self view  class  .  name   + '.login' f permission name permission strreturn functools wrapper wraps f 
def shift multi x wrg 0.1 hrg 0.1 is random False row index 0 col index 1 channel index 2 fill mode 'nearest' cval 0.0 h w x index x index if is random tx np - hrg hrg * h ty np - wrg wrg * w else tx ty hrg * h wrg * w translation matrix np [[1 0 tx [0 1 ty [0 0 1]] transform matrix translation matrixresults []for data in x results apply transform data transform matrix channel index fill mode cval return np results 
def  standardize structure def mutating helper structure if isinstance structure list structure key  id or key for each in structure mutating helper each elif isinstance structure dict structure dict structure for k v in six structure mutating helper k mutating helper v new structure copy structure mutating helper new structure return new structure 
def slug validator s ok SLUG OK lower True spaces False delimiter '-' message validate slug code validate slug if not s and slugify s ok lower spaces delimiter s raise Validation Error message code code 
def csrf request def  get val token get token request if token is None return ' O T P R O V I D E D return force text token return {'csrf token Simple Lazy Object  get val }
def make table file lines labels dir path filename lines lines 0 ' DCTB '.join labels output open os dir path filename 'w' output '\n'.join lines output 
def  htmldecode text if isinstance text str uchr chrelse def uchr value value > 127 and chr value or chr value def entitydecode match uchr uchr entity match 1 if entity u return uchr int entity ] 16 elif entity u return uchr int entity ] elif entity in name2codepoint return uchr name2codepoint else return match 0 return charrefpat entitydecode text 
def mounts cmd 'mount'ret {}out   salt  ['cmd.run all cmd output out for line in output if not line continueif 'fuse.mfs' in line comps line '' info1 comps ' ' info2 info1 '/' ret {'remote' {'master' info1 'port' info2 'subfolder' '/' + info2 } 'local' comps 'options' comps ' ' '' .replace ' ' '' .split ' ' }return ret 
def aware utcnow return datetime .replace tzinfo utc 
@register u def menu complete backward event event buffer previous 
def  get Full Policy Name policy item policy name return full policy names adml data if policy name in adm policy name map full policy names return adm policy name map full policy names name return full policy names and 'ame in policy item full Policy Name  get Adml Display Name adml data policy item Name if full Policy Name adm policy name map full policy names name full Policy Namepolicy name full Policy Nameelif return full policy names and 'id' in policy item full Policy Name  get Adml Presentation Ref Id adml data policy item if full Policy Name adm policy name map full policy names name full Policy Namepolicy name full Policy Namepolicy name policy name ' ' .rstrip return policy name 
def get default collection bus session None try return Collection bus except Item Not Found Exception return create collection bus 'efault 'default' session 
def DEFINE multichoice name default choices help C O N F I G Add Option type info Multi Choice name name default default choices choices description help 
def  file lines fname try outfile open fname except I O Error return []else out outfile outfile return out 
def get git revision repopath try git programs program 'git' assert git is not None and osp osp repopath '.git' commit programs program git ['rev-parse' '--short' 'HEAD'] cwd repopath .communicate commit commit if PY3 commit commit sys branches programs program git ['branch'] cwd repopath .communicate branches branches PY3 branches branches sys branches branches '\n' active branch [b for b in branches if b '*' ]if len active branch ! 1 branch Noneelse branch active branch None 1 [1]return commit branch except subprocess Called Process Error Assertion Error Attribute Error return None None 
def patch vary headers response newheaders if response header 'ary vary headers cc delim re response Vary else vary headers []existing headers set [header.lower for header in vary headers additional headers [newheader for newheader in newheaders if newheader not in existing headers ]ary ' '.join vary headers + additional headers 
def term div a b domain a lm a lc a b lm b lc bmonom monomial div a lm b lm if domain Field if monom is not None return monom domain a lc b lc else return Noneelif not monom is None or a lc % b lc return monom domain a lc b lc else return None 
def getdirs dirs [i for i in os dname ]dirs filter lambda x not os os dname x dirs return dirs 
def posix Get Link Local I Pv6 Addresses ret List []for interface family address in  interfaces interface native String interface address native String address if family socket A F INET6 and address 'fe80 ' ret List '%s%%%s' % address interface return ret List 
def  get exploration memcache key exploration id version None if version return 'exploration-version %s %s' % exploration id version else return 'exploration %s' % exploration id 
def has freesurfer return 'FREESURFER HOME' in os 
def get session user dept request return request None 
def tarball local 'makestatic' local 'pythonsetup.pysdist--formats gztar capture False 
def Get Manifest Resources filename names None languages None return winresource Get Resources filename [RT MANIFEST] names languages 
def location object pos None object Carbon File F S Ref object object alias object F S New Alias Minimal if not pos return  getlocation object alias return  setlocation object alias pos 
def  get xmodule instance args request task id request info {'username' request 'user id request 'ip' request M E T A R E M O T E ADDR'] 'agent' request M E T A 'HTTP USER AGENT' '' .decode 'latin1' 'host' request M E T A S E R V E R N A M E instance args {'xqueue callback url prefix get xqueue callback url prefix request 'request info request info 'task id task id xmodule instance args 
def  build synset lookup imagenet metadata file lines tf Fast G File imagenet metadata file 'r' .readlines synset to human {}for l in lines if l parts l .split ' DCTB ' assert len parts 2 synset parts parts to human humanreturn synset to human 
def floor to utc day value return value pytz .replace hour 0 minute 0 second 0 microsecond 0
def get layer bytes layer arr []layer layer 'hex' for f s in zip layer 2] layer 2] arr f + s return arr 
def R Conn *args **vars locker try instance name 'redis conn ' + current if not hasattr R Conn instance name setattr R Conn instance name redis Strict Redis *args **vars return getattr R Conn instance name finally locker 
def list query history request DEFAULT PAGE SIZE 100prefix 'q-'share queries request superuserquerydict query request G E T if not share queries querydict query prefix + 'user' ] request name get app name request querydict query prefix + 'type' ] app name page filter params  list query history request querydict query DEFAULT PAGE SIZE prefix filter request G E T prefix + 'search' and request G E T prefix + 'search' or '' if request G E T 'format' 'json' resp {'queries' [massage query history for json app name query history for query history in page list Json Response resp return render 'list history request {'request' request 'page' page 'filter params filter params 'share queries share queries 'prefix' prefix 'filter' filter 
def list windows profile None api key None return salt items 'maintenance windows 'id'   salt  ['config.option'] profile api key opts   opts  
def run stddev tests if settings D A T A B A S E S D E F A U L T DB ALIAS]['ENGINE'] 'django.db.backends.sqlite3' return Falseclass Std Dev Pop object sql function 'STDDEV P O P connection aggregate support Std Dev Pop except return Falsereturn True 
def api model exists rest Api Id model Name region None key None keyid None profile None r describe api model rest Api Id model Name region region key key keyid keyid profile profile return {'exists' bool r 'model' }
@receiver ENROLL STATUS CHANGE def award badge on enrollment sender event None user None **kwargs if badges enabled and event Enroll Status Change award enrollment badge user 
def vgremove vgname cmd ['vgremove' '-f' vgname   salt  ['cmd.run'] cmd python shell False return out 
def validate title value if value is None or not value raise Validation Value Error 'itlecannotbeblank value sanitize html value if value is None or not value raise Validation Value Error 'nvalidtitle if len value > 200 raise Validation Value Error 'itlecannotexceed200characters return True 
def Qualify Dependencies targets all dependency sections [ dep + op for dep in dependency sections for op in '' '!' '/' ]for target target dict in targets target build file gyp Build File target toolset target dict dependency key in all dependency sections dependencies target dict dependency key [] for index in xrange 0 len dependencies dep file dep target dep toolset gyp Resolve Target target build file dependencies toolset if not multiple toolsets dep toolset toolsetdependency gyp Qualified Target dep file dep target dep toolset dependencies dependencyif dependency key ! 'dependencies' and dependency not in target dict raise Gyp Error 'ound + dependency + 'in' + dependency key + 'of' + target + ' butnotindependencies 
def chrome extensions attrs None where None if salt darwin return  osquery cmd table 'chrome extensions attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def get dvr allowed address pair device owners return [n const D E V I C E OWNER LOADBALANCER n const D E V I C E OWNER LOADBALANCERV2]
def  read tag header fid s fid 4 * 4 if len s 0 return Nonereturn Tag *struct.unpack 'ii s 
def find space addr space procs mod base if addr space valid address mod base return addr spacefor proc in procs ps ad proc process address space if ps ad ! None if ps ad valid address mod base return ps adreturn None 
def set Serializer serializer global serser serializer 
def  queue exists queue return queue in list queues 
def job delete by tag tag Job tag tag .delete return job get by tag tag is None 
def  make image square source image side settings T H U M B N A I L SIZE square image Image 'RGBA' side side 255 255 255 0 width side - source image / 2 height side - source image / 2 square image source image width height return square image 
def add Infill Boundary infill Boundary nested Rings infill Point infill Boundary nested Ring in nested Rings if euclidean Point Inside Loop nested Ring infill Point nested Ring Boundaries infill Boundary return 
@genericdef inspect object obj raise Try Next 
def set device request device u response redirect add cache bypass next url request or u set cookie response u device 60 * 60 * 24 * 365 return response 
def Structure Attribute struct info cls dict dict  Structure  dict   cls type struct info  Structure  bases   cls dict cls  module   struct info  gtype   P G Type struct info type cls size struct info is gtype struct struct info gtype structfor method info in struct info methods add method method info cls for field info in struct info fields field name escape identifier field info attr Field Attribute field name field info setattr cls field name attr return cls 
def peer name if suc name name ' Z0 -' raise Salt Invocation Error 'nvalidcharactersinpeername name cmd 'peerprobe{0}'.format name return  gluster cmd 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def term to integer term return int ''.join list map str list term 2
def  get codon list codonseq full rf table codonseq full rf table codon lst []for i k in enumerate full rf table if isinstance k int start ktry end int full rf table i + 1 ] except Index Error end start + 3 this codon str codonseq end if len this codon 3 codon lst this codon else codon lst str this codon elif str codonseq k int k + 3 ] '---' codon lst '---' else codon lst codonseq k int k + 3 ] return codon lst 
def libvlc vlm seek media p instance psz name f percentage f  Cfunctions 'libvlc vlm seek media None or  Cfunction 'libvlc vlm seek media 1 1 1 None ctypes int Instance ctypes char p ctypes float return f p instance psz name f percentage 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def which package path path abspath path prefix which prefix path if prefix is None raise Runtime Error u %s' % path for dist in linked prefix meta is linked prefix dist if any abspath join prefix f path for f in meta yield dist 
def check predictions clf X y n samples len y classes np y n classes classes clf X y .predict X assert array equal clf  classes assert equal predicted n samples assert array equal predicted y probabilities clf proba X assert equal probabilities n samples n classes assert array almost equal probabilities axis 1 np n samples assert array equal probabilities axis 1 y 
def is ip addr list value min None max None return [is ip addr mem for mem in is list value min max ]
def  report failed challs failed achalls problems dict for achall in failed achalls if achall problems achall [] .append achall reporter zope Utility interfaces I Reporter for achalls in six problems reporter message  generate failed chall msg achalls reporter M E D I U M PRIORITY
def enforce port deletion rules resource event trigger **kwargs context kwargs id kwargs id obj trunk objects Sub Port object context port id port id if subport obj raise trunk exc Port In Use As Sub Port port id port id trunk id subport obj id trunk obj trunk objects Trunk object context port id port id if trunk obj raise trunk exc Port In Use As Trunk Parent port id port id trunk id trunk obj 
def perceptron output weights bias x return step function dot weights x + bias 
def users to remove source event source node new node Notification Subscription apps model 'otification Subscription removed users {key [] for key in constants N O T I F I C A T I O N T Y P E S source node new node return removed usersold sub Notification Subscription to subscription key source node id source event old node sub Notification Subscription to subscription key source node id ' '.join source event '_' [ -2 ] if not old sub and not old node sub return removed usersfor notification type in constants N O T I F I C A T I O N TYPES users list getattr old sub notification type .values list 'guids   id flat True + list getattr old node sub notification type .values list 'guids   id flat True subbed removed users type separate users new node users return removed users 
def scheme svg thumbnail scheme file from .. import schemefrom ..canvas import scenefrom ..registry import global registryscheme scheme Scheme errors []scheme load scheme scheme file error handler errors tmp scene scene Canvas Scene tmp scene channel names visible False tmp scene registry global registry tmp scene scheme scheme tmp scene layout .activate svg scene svg tmp scene tmp scene tmp scene Later return svg 
def  to epoch time date if hasattr date 'timestamp' return int date else epoch datetime 0 delta date - epoch return int delta seconds 
def move source destination use sudo False func use sudo and run as root or run func '/bin/mv{0}{1}'.format quote source quote destination 
def  Registry Query Base sysdir key value if sys not in 'win32' 'cygwin' return Nonecmd [os.path.join os 'WINDIR' '' sysdir 'reg.exe' 'query' key value cmd ['/v' value p subprocess Popen cmd stdout subprocess P I P E stderr subprocess P I P E text p [0]if p return Nonereturn text 
def create rule dict from obj rule return dict id rule name rule description rule protocol rule source port range rule port range destination port range rule port range source address prefix rule address prefix destination address prefix rule address prefix access rule priority rule direction rule provisioning state rule state etag rule 
def p4 has move command if not p4 has command 'move' return Falsecmd p4 build cmd ['move' '-k' '@from' '@to'] p subprocess Popen cmd stdout subprocess P I P E stderr subprocess P I P E out err p if err 'nvalidoption > 0 return Falseif err 'disabled' > 0 return Falsereturn True 
def autolog message func inspect .f back codelogging '%s %s in %i' % message func name func filename func firstlineno 
def make decreasing candle open high low close dates **kwargs decrease x decrease y  Candlestick open high low close dates **kwargs .get candle decrease if 'line' in kwargs kwargs 'fillcolor' kwargs else kwargs 'fillcolor'  DEFAULT DECREASING COLOR kwargs 'showlegend' False kwargs 'line' dict color  DEFAULT DECREASING COLOR kwargs 'name' 'ecreasing candle decr data dict type 'box' x decrease x y decrease y whiskerwidth 0 boxpoints False **kwargs return [candle decr data 
def reverse x axes if isinstance axes int axes [axes]slices [ slice None None -1 if i in axes else slice None None None for i in range x ]return x 
def hex to filename path hex if getattr path 'encode' None is not None hex hex 'ascii' dir hex 2]file hex ]return os path dir file 
def  mean image subtraction image means if image shape .ndims ! 3 raise Value Error 'nputmustbeofsize width C>0]' num channels image shape .as list [ -1 ]if len means ! num channels raise Value Error 'len means mustmatchthenumberofchannels channels tf 2 num channels image for i in range num channels channels - means tf 2 channels 
def webapi token saved cb instance created **kwargs if created op u op u webapi token instance op 
def interval *args def add attribute function if not hasattr function u function []for arg in args function arg return functionreturn add attribute 
def create zone manager config configuration Configuration manager manager opts L O G 'oningmode %s.' config get 'zoning mode if config get 'zoning mode 'fabric' L O G ' C Zone Managerenabled zm fc zone manager Zone Manager if zm L O G  LI 'sing F C Zone Manager zm version s Driver drv name s drv version s {'zm version zm version 'drv name zm  class  .  name   'drv version zm version } return zmelse L O G ' C Zone Manager zm version sdisabled {'zm version zm version } return Noneelse L O G ' C Zone Managernotenabledincinder return None 
def Auto Legend chart chart show legend Falselabels []for series in chart if series is None labels '' else labels series chart show legend Trueif chart show legend chart legend labels labels 
def openshift img tagger registry xml parent data osb X M L Sub Element xml parent 'pen Shift Image Tagger mapping [ 'api-url' ' R L 'https //openshift.default.svc.cluster.local' 'test-tag' 'ag 'origin-nodejs-sample latest 'prod-tag' 'ag 'origin-nodejs-sample prod 'namespace' 'namespace' 'test' 'auth-token' 'oken '' 'verbose' 'verbose' False ]convert mapping to xml osb data mapping fail required True 
def authority matrix G nodelist None M nx numpy matrix G nodelist nodelist return M.T * M
def make X Axis xaxis title xaxis range xaxis graph objs X Axis title xaxis title range xaxis range showgrid False zeroline False showline False mirror False ticks '' showticklabels False return xaxis 
def instrument declarative cls registry metadata if ' decl class registry in cls  dict   raise exc Invalid Request Error 'lass % cls cls decl class registry registrycls metadata as declarative cls cls  name   cls  dict  
def foldr fn elems initializer None name None return tf fn elems initializer initializer name name 
def  print baremetal resource resource info resource info utils dict info 
def validate annotated heatmap z x y annotation text if annotation text is not None and isinstance annotation text list utils equal length z annotation text for lst in range len z if len z ! len annotation text raise exceptions Plotly Error 'zandtextshouldhavethesamedimensions' if x if len x ! len z raise exceptions Plotly Error 'oops thexlistthatyouprovideddoesnotmatchthewidthofyourzmatrix if y if len y ! len z raise exceptions Plotly Error 'oops theylistthatyouprovideddoesnotmatchthelengthofyourzmatrix 
def df2idf docfreq totaldocs log base 2.0 add 0.0 return add + math 1.0 * totaldocs / docfreq log base 
def mapping get index doc type hosts None profile None es  get instance hosts profile try ret es mapping index index doc type doc type return retexcept elasticsearch Not Found Error return Nonereturn None 
def is ava value equal attribute type val1 val2 return prep case insensitive val1 prep case insensitive val2 
def apply Filter normalized uri xrd data flt None flt mk Filter flt et parse X R D S xrd data endpoints []for service element in iter Services et endpoints flt Service Endpoints normalized uri service element return endpoints 
def get Absolute Frozen Folder Path file Path folder Name '' if hasattr sys 'frozen' if '.py' in file Path file Path ''.join file Path '\\' [ 2] file Path os file Path 'skeinforge application return get Absolute Folder Path file Path folder Name 
def edxnotes cls if 'edxnotes' in sys from edxnotes import edxnotes as notesreturn notes cls else return cls 
def create lrouter cluster tenant id display name nexthop tags [{'tag' tenant id 'scope' 'os tid name  check and truncate name display name lrouter obj {'display name display name 'tags' tags 'routing config {'default route next hop {'gateway ip address nexthop 'type' 'outer Next Hop 'type' 'ingle Default Route Implicit Routing Config 'type' 'ogical Router Config return json do single request HTTP POST  build uri path LROUTER RESOURCE json lrouter obj cluster cluster except Nvp Api Client Nvp Api Exception L O G _ 'nexceptionoccuredwhilecommunicatingwiththe N V Pcontrollerforcluster %s' cluster raise 
def writestatus text mute False if not mute and config S H O W S T A T U S  writeline text 
def get format fmt None if not fmt fmt config str .lower fmt A L I A S E S fmt fmt try format info config dict command format info format info 'extension' fmt except Key Error raise ui User Error u format fmt except Config Type Error command config str extension fmtkeys config if 'command' in keys command config str elif 'opts' in keys command u config str if 'extension' in keys extension config str return command 'utf-8' extension 'utf-8'
def Print Usage Exit code render dict DEFAULT A R G S render dict os sys print sys  main  '].  doc   % render dict sys sys code 
def s3 store last record id tablename record id session current record id long record id except Value Error return Falseif RCVARS not in session session R C V A R S Storage {tablename record id else session R C V A R S record idreturn True 
def  hash file path if not os path return Falsereturn hashlib open path 'rb' .read .hexdigest
def apply adjustments rgba adjustments if not adjustments return rgbafor adjustment in adjustments name args adjustment adjustment ] if name 'threshold' rgba apply threshold adjustment rgba *args elif name 'curves' rgba apply curves adjustment rgba *args elif name 'curves2' rgba apply curves2 adjustment rgba *args else raise Known Unknown 'nrecognizedcompositeadjustment "%s"withargs%s' % name repr args return rgba 
def  plot window value params max times len params - params if value > max times value len params - params if value < 0 value 0if params start ! value params start valueparams patch x value params update proj callback params 
def tutte graph create using None description ['adjacencylist' "utte Graph 46 [[2 3 4] [5 27] [11 12] [19 20] [6 34] [7 30] [8 28] [9 15] [10 39] [11 38] [40] [13 40] [14 36] [15 16] [35] [17 23] [18 45] [19 44] [46] [21 46] [22 42] [23 24] [41] [25 28] [26 33] [27 32] [34] [29] [30 33] [31] [32 34] [33] [] [] [36 39] [37] [38 40] [39] [] [] [42 45] [43] [44 46] [45] [] []]]G make small undirected graph description create using return G
def  build image data cmap 'gray' import matplotlib as pltfrom matplotlib import Figurefrom matplotlib agg import Figure Canvas Agg as Figure Canvasfigsize data -1 ]if figsize 1 figsize tuple figsize ] data data 0]fig Figure figsize figsize dpi 1.0 frameon False Figure Canvas fig cmap getattr plt cmap plt fig data cmap cmap output Bytes I O fig output dpi 1.0 format 'png' return base64 output .decode 'ascii'
def run on executor fn @functools.wraps fn def wrapper self *args **kwargs callback kwargs 'callback' None future self fn self *args **kwargs if callback self loop future future lambda future callback future return futurereturn wrapper 
def expanded data n 100 expanded training data _ _ network3 data shared '../data/mnist expanded for j in range 3 print 'rainingwithexpandeddata % Clayer runnum % n j net Network [onv Pool Layer image shape mini batch size 1 28 28 filter shape 20 1 5 5 poolsize 2 2 activation fn Re L U Conv Pool Layer image shape mini batch size 20 12 12 filter shape 40 20 5 5 poolsize 2 2 activation fn Re L U Fully Connected Layer n in 40 * 4 * 4 n out n activation fn Re L U Softmax Layer n in n n out 10 ] mini batch size net S G D expanded training data 60 mini batch size 0.03 validation data test data lmbda 0.1 return net 
def find subdirectories package try subdirectories next os package to path package [1]except Stop Iteration subdirectories []return subdirectories 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def  make tag list n 26 lc string len len lc return [{'name' lc i % lc len ] * int math i / lc len + 2 } for i in range 0 n ]
def get free range parent range excluded ranges size PRIMARY VIP RANGE SIZE free cidrs netaddr I P Set [parent range - netaddr I P Set excluded ranges for cidr in free cidrs cidrs if cidr < size return '%s/%s' % cidr size raise Value Error _ 'etworkofsize size s from I Prange parent range sexcluding I Pranges excluded ranges swasnotfound % {'size' size 'parent range parent range 'excluded ranges excluded ranges 
def  authenticate cram md5 credentials sock info source credentials credentials credentials  password digest username password cmd SON [ 'tart 1 'mechanism' 'CRAM-MD5' 'payload' Binary '' 'uthorize 1 ] response sock info source cmd mac hmac H M A C key passwd 'utf-8' digestmod md5 mac response challenge username 'utf-8' + '' + b mac cmd SON [ 'ontinue 1 'd response Id 'payload' Binary challenge ] sock info source cmd 
def test make imbalance 2 X  y  make imbalance X Y ratio 0.25 min c  1 counter Counter y  assert equal counter 500 assert equal counter 125 assert true np [ X i in X for X i in X ]
def  element in child binder root e return any x 'bind ' for x in root to e 
def flavor delete flavor id profile None conn  auth profile return conn delete flavor id 
def user roles exists name roles database user None password None host None port None authdb None try roles  to dict roles except Exception return 'olesprovidedinwrongformat user list user password host port database authdb if isinstance users string types return 'ailedtoconnecttomongodatabase user in users if name dict user .get 'user' for role in roles if not isinstance role dict role {'role' role 'db' database role not in dict user .get 'roles' [] return Falsereturn Truereturn False 
def merge insert ins chunks doc unbalanced start balanced unbalanced end split unbalanced ins chunks doc unbalanced start if doc and not doc -1 ].endswith '' doc -1 ] + ''doc.append '<ins>' if balanced and balanced -1 ].endswith '' balanced -1 ] balanced -1 ][ -1 ]doc.extend balanced doc '</ins>' doc unbalanced end 
def extract task features task features ['task type 'task input 'task id 'requester' 'task state feature dict {feature str getattr task feature for feature in features feature dict task duration sec 'unknown'if hasattr task 'task output and task output is not None try task output json task output except Value Error log 'ouldnotparsetaskoutputasvalidjson %s' task output else if 'duration ms in task output duration sec int task output ms / 1000.0 task feature dict sec duration sec success task message get task completion info task status _ 'omplete if success else _ 'ncomplete task feature dict statustask feature dict message task messagereturn task feature dict 
def get section display name course id course modulestore .get course course id depth 4 section display name [''] * len course children i 0for section in course children section display name own metadata section .get 'display name '' i + 1return section display name 
def displayable path path separator u if isinstance path list tuple return separator displayable path p for p in path elif isinstance path unicode return pathelif not isinstance path str return unicode path try return path  fsencoding 'ignore' except Unicode Error Lookup Error return path 'utf8' 'ignore'
def history not changed proc TIMEOUT proc ' assert proc [TIMEOUT u 
def fig to vega fig notebook False renderer Vega Renderer Exporter renderer .run fig vega html Vega H T M L renderer if notebook return vega htmlelse return vega html 
def ss to index ss if ss 'H' return 0if ss 'E' return 1if ss 'C' return 2assert 0
def basics match original result modified result return all getattr original result member getattr modified result member for member in ['origin' 'message' 'severity' 'debug msg 
@register.inclusion tag 'admin/prepopulated fields js takes context True def prepopulated fields js context prepopulated fields []if 'adminform' in context prepopulated fields context fields if 'inline admin formsets in context for inline admin formset in context admin formsets for inline admin form in inline admin formset if inline admin form is None prepopulated fields inline admin form fields prepopulated fields json []for field in prepopulated fields prepopulated fields json {'id' '#%s' % field id 'name' field 'dependency ids [ '#%s' % dependency id for dependency in field 'dependency list [dependency.name for dependency in field 'ength field length or 50 'nicode getattr field 'allow unicode False } context {'prepopulated fields prepopulated fields 'prepopulated fields json json prepopulated fields json } return context 
def get notifications user notifications []try user return []try if not getattr settings 'HARDTREE ALLOW GRITTER NOTIFICATIONS' False return notificationsrequest Http Request request userstorage default storage request for msg in storage get [0] notifications {'message' msg 'tags' msg get tags } storage store None except passreturn notifications 
def chopstring message key n funcref msglen len message mbits msglen * 8 nbits int math math n 2 nbytes nbits / 8 blocks msglen / nbytes if msglen % nbytes > 0 blocks + 1cypher []for bindex in range blocks offset bindex * nbytes block message offset + nbytes ]value bytes2int block cypher funcref value key n return picklechops cypher 
def validate user data user data try user data base64 user data except Type Error return Falsereturn True 
def test debug stdout logging caplog debug logger debug messages [stream handler debug logger isinstance stream handler logging Stream Handler assert stream handler logging D E B U G create log records stream messages [stream handler r for r in caplog if r > stream handler ]assert stream messages debug messages 
def fnmatch name pat import osname os name pat os pat return fnmatchcase name pat 
def logout request user getattr request 'user' None if hasattr user 'is authenticated and not user authenticated user Noneuser logged out sender user  class   request request user user language request 'django language request if language is not None request language languageif hasattr request 'user' from django import Anonymous Userrequest Anonymous User 
def transform bilogistic t beta delta def  check args beta delta cond1 beta > 0 and beta < 1 and delta > 0 and delta < 1 cond2 beta < 0 and delta < 0 return cond1 | cond2 if not np  check args beta delta raise Value Error 'invalidargs' def  integrant w term1 1 - beta * np w - beta * 1 - t term2 1 - delta * np 1 - w - delta * t np term1 term2 from scipy import quadtransf quad  integrant 0 1 return transf 
def poly TC f K if not f return K return f -1 ]
def uses shib course return course domain and course domain settings S H I B B O L E T H DOMAIN PREFIX
def getenv key default None return environ key default 
def  mt spectra x dpss sfreq n fft None if n fft is None n fft x x - np x axis -1 [ np freqs fftpack n fft 1.0 / sfreq freq mask freqs > 0 freqs freqs mask tapers dpss if dpss > 1 else 1 x mt np len x n tapers freq mask dtype np for idx sig in enumerate x x mt fftpack sig ] * dpss n n fft [ freq mask x mt freqs 
def get Locked Handle runtime Element expression full Expression '  import   "nupic.bindings.research" fromlist [andle .andle ' + expression + ' ' return runtime Element full Expression 
def get qiime temp dir return load qiime config ['temp dir 
def  graded scorable blocks to header course key scorable blocks map Ordered Dict grading context grading context for course course key for assignment type name subsection infos in grading context graded subsections by type for subsection index subsection info in enumerate subsection infos start 1 for scorable block in subsection info descendants header name u type index {subsection name block name scorable block name scorable block name assignment type assignment type name subsection index subsection index subsection name subsection info block name scorable blocks map block [ header name + ' Earned ' header name + ' Possible ' ]return scorable blocks map 
def get account id from arn trail arn return trail arn ' ' [4]
def p expression name t try t names Lookup Error print u Undefinedname % t t 0
def remove result ranges diffs result list file dict result diff dict dict {}for original result in result list mod file dict copy file dict source ranges []previous Nonefor source range in sorted original result code reverse True if previous is not None and source range previous combined sr Source Range previous source range previous combined srelif previous is None previous source rangeelse source ranges previous previous source rangeif previous source ranges previous for source range in source ranges file name source range file remove range mod file dict name source range mod file dict name new filediff dict {}for file name in file dict diff dict name Diff string arrays file dict name mod file dict name result diff dict dict result diff dictreturn result diff dict dict 
def get temp dir temp get environ variable 'TMP' if temp None temp get environ variable 'TEMP' if temp None or '' in temp and os 'nt' temp 'C \\temp'if temp None or '' in temp and os 'posix' temp '/tmp'return temp 
def exec command all *cmdargs **kwargs proc subprocess Popen cmdargs bufsize -1 stdout subprocess P I P E stderr subprocess P I P E **kwargs out err proc if is py3 encoding kwargs 'encoding' if encoding out out encoding err err encoding else out os out err os err return proc out err 
def mask sequence seq maskchar fpos tpos if len maskchar > 1 raise Runtime Error 'nternalerror morethanonecharactergiventomask sequence if fpos < 0 fpos 0if tpos > len seq tpos len seq newseq ''.join seq fpos maskchar * tpos - fpos seq ] return newseq 
def do format value *args **kwargs if args and kwargs raise Filter Argument Error "can'thandlepositionalandkeywordargumentsatthesametime" return soft unicode value % kwargs or args 
def Install Library name version explicit True installed version explicitly installed installed name [one * 2 if name in sys if explicit Check Installed Version name version explicit True returnelif installed version if version installed version returnif explicit if explicitly installed raise Value Error '%s%srequested but % name version installed version Remove Library name else version ob distutils Loose Version version installed ob distutils Loose Version installed version if version ob < installed ob returnelse Remove Library name Add Library name version explicit dep details P A C K A G E S not dep details returnfor dep name dep version in dep details Install Library dep name dep version explicit False 
def getdefaultencoding prefer stream True enc Noneif prefer stream enc get stream enc sys if not enc or enc 'ascii' try enc locale except Exception passenc enc or sys if enc 'cp0' warnings 'nvalidcodepagecp0detected Ifcp1252isincorrectpleaseensureavalidcodepageisdefinedfortheprocess Runtime Warning return 'cp1252'return enc 
@coroutinedef async run ctl args stdin '' endpoint DEFAULT ENDPOINT DEALER queue Queue circusctl process Process target run ctl args args queue stdin endpoint circusctl process while queue yield tornado sleep 0.1 stderr queue stdout queue raise Return stdout stderr 
def  envs branch repo location gitpil  Legacy Git Pillar branch repo location   opts   return gitpil 
def lookup Nameservers name timeout None return get Resolver .ameservers name timeout 
def emit via redis event message room r get redis server try r u frappe json {u'event' event u message u room except redis Connection Error pass 
def mc2mnc mc n len mc mean mc [1] + list mc mc 0mnc [1 mean nn m in enumerate mc ] n nn + 2 mnc 0 for k in range n + 1 mnc + comb n k exact 1 * mc * mean ** n - k return mnc ]
def get Key M row column prefix '' return '%sm%s%s' % prefix row + 1 column + 1
@csrf exempt post request variablesdef api dev fetch api key request username REQ if not dev auth enabled or settings P R O D U C T I O N return json error _ 'evenvironmentnotenabled return data {}user profile authenticate username username realm subdomain get subdomain request return data return data if return data 'inactive realm return json error _ 'ourrealmhasbeendeactivated data {'reason' 'realmdeactivated'} status 403 if return data 'inactive user return json error _ 'ouraccounthasbeendisabled data {'reason' 'userdisable'} status 403 login request user profile return json success {'api key user profile key 'email' user profile 
def test short users list u1 User Profile username 'oscar' display name 'scarthe Grouch pk 1 u2 User Profile username 'grover' display name 'rover pk 2 u3 User Profile username 'cookies!' display name 'ookie Monster pk 3 shortlist users list [u1 u2 u3 size 2 assert shortlist ' '.join user link u1 user link u2 + ' others 
def assert all instances list  class  label 'object' for obj in list  or [] assert instance obj class  label 'object'
def process sms outbox msg outbox contact method 'SMS'
def sh escape command command command '\\' '\\\\' command command '$' '\\$' command command '"' '\\"' command command '`' '\\`' return command 
def levenshtein dist t1 fname t2 fname len t1 fname len t2 fname len t1 fname len t2 fname if len t1 fname > len t2 fname t1 fname t2 fname t2 fname t1 fname len t1 fname len t2 fname len t2 fname len t1 fname current range len t1 fname + 1 for i in xrange 1 len t2 fname + 1 previous current current [i] + [0] * len t1 fname for j in xrange 1 len t1 fname + 1 add delete previous + 1 current j - 1 ] + 1 change previous j - 1 ]if t1 fname j - 1 ] ! t2 fname i - 1 ] change + 1current[j] min add delete change return current t1 fname 
def get user config config file None default config False if default config return copy DEFAULT CONFIG if config file and config file is not USER CONFIG PATH return get config config file try env config file os C O O K I E C U T T E R C O N F I G Key Error if os USER CONFIG PATH return get config USER CONFIG PATH else return copy DEFAULT CONFIG else return get config env config file 
def get color value alpha color Q Color for typ in COLORS if isinstance value typ color Q Color C O L O R S color Alpha F alpha return color 
def  mp compile self sources output dir None macros None include dirs None debug 0 extra preargs None extra postargs None depends None macros objects extra postargs pp opts build self setup compile output dir macros include dirs sources depends extra postargs cc args self get cc args pp opts debug extra preargs pool Pool MAX PROCS try print 'uildingusing % pool processes except passarr [ self obj build cc args extra postargs pp opts for obj in objects async  mp compile one arr pool pool return objects 
def rad rationalize num den if not den Add return num den g a b split surds den a a * sqrt g num  mexpand a - b * num den  mexpand a ** 2 - b ** 2 return rad rationalize num den 
def  get gcd project return os GCD DATASET
def pid is alive pid path '/proc/%s/stat' % pid try stat read one line path except I O Error if not os path return Falseraisereturn stat [2] ! 'Z'
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  get Property Value schema property Name options if property Name not in options params Schema schema Name 'default' in params Schema options Name params Schema options Name None 
def  reassign check clusters base num check check num ] baseclusters base - 1 ] np clusters base - 1 ] clusters num - 1 ] clusters num - 1 ] np [] dtype int 
def rec keep fields rec names if cbook string like names names names u ' arrays []for name in names arrays rec return np arrays names names 
def fixup paths path try import googlegoogle  path  .append '{0}/google'.format path except Import Error passsys 0 path 
def ldap2py val return utf8 decode val 
def get Win Drives assert os 'nt' drives []bitmask windll Get Logical Drives for letter in string if bitmask & 1 drives letter bitmask >> 1return drives 
def  chain stop result service stop maybe Deferred service Service .eferred stop 
def is table doctype def get tables return db list u Doc Typewhereistable 1' tables cache .get value u table get tables return doctype in tables 
def server list profile None conn  auth profile return conn list 
def get auth token request current user users current user if current user is None or current user id is None return False token string token scopes gdata sub string from url request if token string is None return gdata load 'blogger' + current user id single use token gdata Auth Sub Token token string token scopes client gdata G D Client session token client token single use token gdata save session token 'blogger' + current user id return session token 
def days at time days t tz day offset 0 if len days 0 return daysdays Datetime Index days .tz localize None delta pd Timedelta days day offset hours t minutes t seconds t return days + delta .tz localize tz .tz convert 'UTC'
def assert request user is system admin request is system admin request user is system admin request request if not is system admin user db get user db from request request request raise Access Denied Error message 'ystem Administratoraccessrequired user db user db 
@api versions '2.26' @utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg 'tag' metavar '<tag>' nargs '+' help _ 'ag s toadd def do server tag add cs args server  find server cs args utils action on many lambda t server tag t args _ 'equesttoaddtag _ 'nabletoaddtag 
def get view builder req base url req urlreturn View Builder base url 
def  message pb to mapping message pb return {d message pb id 'data' message pb 'attributes' message pb 'ime  pb timestamp to rfc3339 message pb time }
def gf add mul f g h p K return gf add f gf mul g h p K p K
def sublist a b c []for item in a if item not in b c item return c 
def deep update d u for k v in u if isinstance v collections Mapping r deep update d k {} v d relse d u d 
def symptom keys in credential fernet key repository fernet utils utils Fernet Utils C O N F repository credential fernet M A X ACTIVE KEYS return 'fernet' in C O N F and not fernet utils keys 
def  task info update task id values global D A T Atry task info D A T A info id Key Error L O G 'otaskinfofoundwithtaskid task id raise exception Task Not Found task id task id task info values D A T A info id task inforeturn task info 
def  p2p xy projection loc projection Location  Point *xy return loc loc 
def increment index builder val one val 1 return builder val one flags ['nsw']
def module check module ri raw input '[-]python-%snotinstalled wouldyouliketoinstallnow apt [y/n] ' % module module if ri 'y' os 'apt-getinstall-ypython-%s' % module else exit 'xitingduetomissingdependency 
def  downscale images K arr np [K K 3 3] arr 0 0] 1.0 / K * K arr 1 1] 1.0 / K * K arr 2 2] 1.0 / K * K dowscale weight tf arr dtype tf downscaled tf images dowscale weight strides [1 K K 1] padding 'SAME' return downscaled 
def Get Platform Token os module os sys module sys platform sys if hasattr sys module 'getwindowsversion' windows version sys module version info '.'.join str i for i in windows version 4] return platform + '/' + version info elif hasattr os module 'uname' uname os module return '%s/%s' % uname uname else return 'unknown'
def  set protobuf value value pb val attr val  pb attr value val if attr 'key value value pb value Copy From val elif attr 'timestamp value value pb value Copy From val elif attr 'entity value entity pb entity to protobuf val value pb value Copy From entity pb elif attr 'array value l pb value pb value item in val i pb l pb  set protobuf value i pb item elif attr 'geo point value value pb point value Copy From val else setattr value pb attr val 
def chunkreadable iter chunk size 65536 return chunkiter iter chunk size if hasattr iter 'read' else iter 
def list  profile 'splunk' client  get splunk profile searches [x['name'] for x in client searches searches 
def returns clone func def inner self *args **kwargs clone self func clone *args **kwargs return cloneinner local funcreturn inner 
def pr data start 0 end None pprint list islice data start end 
def get layer name fns layers eval fns eval fns 
def this month day t None t t or time t return time t .tm mday 
def execute return success cmd ret  run all cmd if ret ! 0 or 'notsupported' in ret msg 'ommand Failed {0}\n'.format cmd msg + 'eturn Code {0}\n'.format ret msg + 'utput {0}\n'.format ret msg + 'rror {0}\n'.format ret raise Command Execution Error msg return True 
def create countgraph args ksize None multiplier 1.0 fp rate 0.1 args  check fp rate args fp rate if hasattr args u if args tables > 20 if not args print error u E R R O R khmeronlysupportsnumberoftables 20.\n' sys 1 elif args tables > 20 log warn u Warning Maximumrecommendednumberoftablesis20 discardedbyforcenonetheless if ksize is None ksize args ksize > 32 print error u E R R O R khmeronlysupportsk 32.\n' sys 1 if args count tablesize calculate graphsize args u multiplier multiplier return khmer Small Countgraph ksize tablesize args tables else tablesize calculate graphsize args u multiplier multiplier return khmer Countgraph ksize tablesize args tables 
@require chanmsg privilege OP u Youarenotachanneloperator @commands u u @priority u def kickban bot trigger if bot < HALFOP return bot u I text trigger .split argc len text if argc < 4 returnopt Identifier text nick optmask text trigger 3if not opt nick if argc < 5 returnchannel optnick text text 4reason u text ] mask configure Host Mask mask if mask u returnbot [ O D E channel u mask bot [ I C K channel nick reason 
def xor aa bb result bytearray for a b in zip bytearray aa bytearray bb result a ^ b return result 
def  dropout from layer rng layer p srng theano randomstreams Random Streams rng 999999 mask srng n 1 p 1 - p size layer output layer * T mask theano X return output 
def decode encoding None default encoding 'utf-8' body cherrypy encoding is not None if not isinstance encoding list encoding [encoding]body.attempt charsets encodingelif default encoding if not isinstance default encoding list default encoding [default encoding charsets body charsets + default encoding 
def sha512 encode t s hashlib t return s 
def sina xml to url list xml data rawurl []dom parse String xml data for node in dom Elements By Tag Name 'durl' url node Elements By Tag Name 'url' [0]rawurl.append url Nodes return rawurl 
def form for instance instance form Base Form formfield callback lambda f **kwargs f **kwargs model instance  class  opts model metafield list []for f in opts + opts to many if not f continuecurrent value f from object instance formfield formfield callback f initial current value if formfield field list f formfield fields Sorted Dict From List field list return type opts name + 'nstance Form form {'base fields fields ' model model 'save' make instance save instance }
def exc Info Or Failure To Exc Info err if isinstance err Failure err err err err Traceback Object return err 
def complete year spans spans spans key lambda x x for x y in pairwise spans if 'to' not in x x y - 1 if spans and 'to' not in spans -1 ] spans -1 ]['to'] datetime .year
def stacked autoencoder predict theta input size hidden size num classes net config data softmax theta theta hidden size * num classes ].reshape num classes hidden size stack params2stack theta hidden size * num classes ] net config m data [data]z [np.array 0 ]for s in stack z s a -1 ] + np s m 1 .transpose a sigmoid z -1 ] pred softmax predict softmax theta hidden size num classes a -1 ] return pred 
def funcinfo function warnings 'seinspect Deprecation Warning stacklevel 2 code function codename function nameargc code argcountargv code varnames argc function defaultsout []out.append 'hefunction % name argc if defaults required argc - len defaults out 'trequires % required out 'heargumentsrequiredare %s' % argv required out 'additionalargumentsare ' for i in range argc - required j i + required out '%swhichhasadefaultof' % argv defaults return out 
def  update coordinate descent X W Ht l1 reg l2 reg shuffle random state n components Ht H Ht fast dot Ht T Ht X Ht safe sparse dot X Ht if l2 reg ! 0.0 H Ht n components + 1 ] + l2 regif l1 reg ! 0.0 X Ht - l1 regif shuffle permutation random state n components else permutation np n components permutation np permutation dtype np return  update cdnmf fast W H Ht X Ht permutation 
def get Page Word Set page ret Val set if isinstance page unicode _ get Filtered Page Content page ret Val set re '\\w+' _ return ret Val 
def getframeinfo frame context 1 if istraceback frame lineno frame linenoframe frame frameelse lineno frame linenoif not isframe frame raise Type Error 'argisnotaframeortracebackobject' filename getsourcefile frame or getfile frame if context > 0 start lineno - 1 - context // 2 try lines lnum findsource frame except I O Error lines index Noneelse start max start 1 start max 0 min start len lines - context lines lines start + context ]index lineno - 1 - start else lines index Nonereturn Traceback filename lineno frame code name lines index 
def validate gantt df if pd and isinstance df pd Data Frame for key in REQUIRED GANTT KEYS if key not in df raise exceptions Plotly Error 'hecolumnsinyourdataframemustincludethefollowingkeys {0}'.format ' '.join REQUIRED GANTT KEYS num of rows len df chart []for index in range num of rows task dict {}for key in df task dict df task dict return chartif not isinstance df list raise exceptions Plotly Error 'oumustinputeitheradataframeoralistofdictionaries if len df < 0 raise exceptions Plotly Error 'ourlistisempty Itmustcontainatleastonedictionary if not isinstance df dict raise exceptions Plotly Error 'ourlistmustonlyincludedictionaries return df 
def  get sql for pending references model pending references from django import backend get creation moduledata types get creation module .DATA T Y P E Sfinal output []if backend constraints opts model metaif model in pending references for rel class f in pending references rel opts rel class metar table rel opts tabler col f opts tablecol opts field f name .columnr name '%s refs %s %x' % r col col abs hash r table table final output style S Q L KEYWORD 'ALTERTABLE' + ' D D C O N S T R A I N T F O R E I G N K E Y %s R E F E R E N C E S %s %s;' % backend name r table r name backend name r col backend name table backend name col backend deferrable sql del pending references final output 
def list policies ret {}cmd   execute kadmin 'list policies if cmd ! 0 or cmd ret cmd [ -1 ]ret['result'] Falsereturn retret {'policies' []}for i in cmd [1 ] ret i return ret 
def  convert out to series x dates name from statsmodels import String I Ofrom pandas import read tableout read table String I O x skiprows 2 header None return out index dates .rename columns {1 name [name]
def write ast patched ast node result []for child in patched ast node children if isinstance child ast A S T result write ast child else result child return ''.join result 
def list master saltenv 'base' prefix '' return   context  ['fileclient'].file list saltenv prefix 
def test issue 114 template '"""\n%s\n"""'msp ip manager line specialsip manager line specials Falsetry for mgk in ip manager ['line'] raw template % mgk nt equal ip raw raw finally ip manager line specials msp 
def compatible platforms provided required if provided is None or required is None or provided required return Truereq Mac macos Version String required if req Mac prov Mac macos Version String provided if not prov Mac prov Darwin darwin Version String provided if prov Darwin dversion int prov Darwin 1 macosversion '%s.%s' % req Mac 1 req Mac 2 if dversion 7 and macosversion > '10.3' or dversion 8 and macosversion > '10.4' return Truereturn Falseif prov Mac 1 ! req Mac 1 or prov Mac 3 ! req Mac 3 return Falseif int prov Mac 2 > int req Mac 2 return Falsereturn Truereturn False 
def parsestream stream encoding None stack engine Filter Stack stack analyze return stack stream encoding 
def  must skip spec entry is type if not isinstance spec type if entry in getattr spec '  dict  ' {} return Falsespec spec  class  for klass in spec  mro   result klass  dict  .get entry DEFAULT if result is DEFAULT continueif isinstance result staticmethod classmethod return Falseelif isinstance getattr result '  get  ' None Method Wrapper Types return is typeelse return Falsereturn is type 
def parse interval interval string regexp u second s not re regexp interval string raise Value Error u seconds '" return parse timedelta interval string 
def  filter disabled blocks all blocks disabled block names [block.name for block in disabled xblocks ]return [block name for block name in all blocks if block name not in disabled block names ]
def country name for number numobj lang script None region None region codes region codes for country code numobj code if len region codes 1 return  region display name region codes lang script region else region where number is valid u 'ZZ' for region code in region codes if is valid number for region numobj region code if region where number is valid ! u 'ZZ' return U EMPTY S T R I N Gregion where number is valid region codereturn  region display name region where number is valid lang script region 
def setup server config web server Web Server bind config port config ssl certificate config certificate ssl private key config private key  default app key get secret user get user if not user or not user log u Nopasswordsetforwebserver createonebyusing if  app register web server return web server 
def save to well known file credentials well known file None if well known file is None well known file  get well known file config dir os well known file if not os config dir raise O S Error 'onfigdirectorydoesnotexist {0}'.format config dir credentials data credentials data save private file well known file credentials data 
@py.test.mark.parametrize 'item name [item.name for item in six urllib request moved attributes def test move items urllib request item name if sys info 2] > 2 6 assert item name in dir six getattr six item name 
def create request object request dict r request dictrequest object A W S Request method r url r data r headers r request object r return request object 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def fill diagonal offset a val offset return fill diagonal offset  a val offset 
@with setup prepare stdout def test output with success colorless runner Runner join path 'ru' 'success' 'dumb.feature' verbosity 3 no color True runner assert stdout lines u \u0442\u0443\u043f\u0430\u044f\u0444\u0438\u0447\u0430#tests/functional/language specific features 3\n\u0427\u0442\u043e\u0431\u044blettuce\u0431\u044b\u043b\u0431\u043e\u043b\u0435\u0435\u043d\u0430\u0434\u0435\u0436\u043d\u044b\u043c#tests/functional/language specific features 4\n\u041a\u0430\u043a\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442#tests/functional/language specific features 5\n\u042f\u0445\u043e\u0447\u0443\u0447\u0442\u043e\u0431\u044b\u0442\u0435\u0441\u0442\u0431\u044b\u043b\u0437\u0435\u043b\u0435\u043d\u044b\u0439#tests/functional/language specific features 6\n\n\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u041d\u0438\u0447\u0435\u0433\u043e\u043d\u0435\u0434\u0435\u043b\u0430\u0442\u044c#tests/functional/language specific features 8\n\u041f\u0443\u0441\u043a\u0430\u044f\u044f\u043d\u0438\u0447\u0435\u0433\u043e\u043d\u0435\u0434\u0435\u043b\u0430\u044e#tests/functional/language specific features steps 6\n\u0422\u043e\u0433\u0434\u0430\u044f\u0432\u0438\u0436\u0443\u0447\u0442\u043e\u0442\u0435\u0441\u0442\u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f#tests/functional/language specific features steps 10\n\n1feature 1passed \n1scenario 1passed \n2steps 2passed \n'
def config dict filename f open filename 'r' cfglines f f cfgdict {}for line in cfglines line line if not line or line '#' continuetry key value line ' ' except print 'adlineinconfig \n%s' % filename line continuekey key value value if value in [rue 'alse 'one "''" '""'] value eval value else try if '.' in value value float value else value int value except passcfgdict valuereturn cfgdict 
def delete recurring runs **filter data to delete models Recurring Run objects filter data to delete 
def solve a b try return linalg a b except linalg Lin Alg Error return np linalg a b 
def  bgp dispatcher payload cls conf layerif payload is None cls  get cls ' G P Header conf layer elif len payload >  BGP HEADER SIZE and payload 16]  BGP HEADER MARKER message type struct '!B' payload [0]if message type 4 cls  get cls ' G P Keep Alive else cls  get cls ' G P Header return cls 
def set node schedulability facts if 'node' in facts if 'schedulable' not in facts if 'master' in facts facts Falseelse facts Truereturn facts 
def datetime format to js time format format try format format [1]except Index Error passconverted formatreplacements {'%H' 'hh' '%I' 'HH' '%M' 'ii' '%S' 'ss'}for search replace in replacements converted converted search replace return converted 
def render constants generate file 'constant enums cython enums pjoin root 'zmq' 'backend' 'cython' generate file 'constants.pxi' constants pyx pjoin root 'zmq' 'backend' 'cython' generate file 'zmq constants ifndefs pjoin root 'zmq' 'utils'
def  defragment mountpoint mountpoint out   salt  ['cmd.run all 'btrfsfilesystemdefragment-f{0}'.format mountpoint return {'mount point mountpoint 'passed' not out 'log' out or False 'range' False 
def get type from spec info spec info if u in spec info or u in spec info return u File u in spec info or u in spec info return u Number u in spec info return u Boolean u String 
def float format number return '%.3f' % number .rstrip '0' .rstrip '.'
def file in same dir ref file desired file return os * split path ref file [ -1 ] + [desired file 
def view roots r owner r owner is not None try view map owner mapview map dict owner i for o i in iteritems view map except Attribute Error return [r]if r in view map answer []for i in view map answer + view roots owner return answerelse return [r]else return [r]
def  yield all instances emr conn cluster id *args **kwargs for resp in  repeat emr conn instances cluster id *args **kwargs for instance in getattr resp 'instances' [] yield instance 
def  get rcvar name jail None if not available name jail log 'ervice name return Falsecmd '{0}{1}rcvar'.format  cmd jail name for line in   salt  ['cmd.run stdout cmd python shell False .splitlines if ' enable "' not in line continue rcvar _ line ' ' 1 return rcvarreturn None 
def cluster distance cluster1 cluster2 distance agg min return distance agg [distance input1 input2 for input1 in get values cluster1 for input2 in get values cluster2 ]
def uses database name 'sqlite3' try engine settings D A T A B A S E S E N G I N E Key Error engine settings D A T A B A S E E N G I N Ereturn engine 'django.db.backends.%s' % name 
def code verifier n bytes 64 verifier base64 b64encode os n bytes .rstrip ' ' if len verifier < 43 raise Value Error 'erifiertooshort bytesmustbe elif len verifier > 128 raise Value Error 'erifiertoolong bytesmustbe else return verifier 
def execute without nm *cmd **kwargs funcs {test data status cmd get sensor status uninit test data sensor cmd init sensor agent test data dump cmd sdr dump  execute funcs *cmd **kwargs
def mkpartfs device part type fs type start end  validate device device if part type not in set ['primary' 'logical' 'extended'] raise Command Execution Error 'nvalidpart typepassedtopartition if fs type not in set ['ext2' 'fat32' 'fat16' 'linux-swap' 'reiserfs' 'hfs' 'hfs+' 'hfsx' 'NTFS' 'ufs' 'xfs'] raise Command Execution Error 'nvalidfs typepassedtopartition  validate partition boundary start  validate partition boundary end cmd 'parted-m-s--{0}mkpart{1}{2}{3}{4}'.format device part type fs type start end out   salt  ['cmd.run'] cmd .splitlines return out 
def resource id from record tuple record return record id 
def ones and zeros digits return bin random digits .lstrip '0b' .zfill digits 
def constr mul constraints var dict vec size is abs product np vec size offset 0for constr in constraints result mul constr var dict is abs rows cols constr col in range cols if np result product offset + rows ] resultelse product offset + rows ] np result col offset + rowsreturn product 
def triangle sequence creation sequence cs creation sequenceseq []dr cs 'd' dcur dr - 1 * dr - 2 // 2 irun 0drun 0for i sym in enumerate cs if sym 'd' drun + 1tri dcur + dr - 1 * irun else if prevsym 'd' dcur + dr - 1 * irun irun 0dr - drundrun 0irun + 1tri dr * dr - 1 // 2 seq tri prevsym symreturn seq 
def no spm if u N I P Y P E NO MATLAB' in os or Info is None return Trueelse return False 
def test bitwiseshift  test interop set clr integer types py integer types bitwise test cases 
@image comparison baseline images [u'tight layout8 def test tight layout8 fig plt fig tight layout {u'pad' 0.1} ax fig subplot 111 example plot ax fontsize 24
def technical 500 response request exc type exc value tb reporter Exception Reporter request exc type exc value tb html reporter traceback html return Http Response Server Error html mimetype 'text/html'
def git Commit name commit check output ['git' 'show' name universal newlines True .split '\n' [0]assert commit 7] 'commit' return commit ]
@hug.default input format 'application/made-up' def made up formatter data return data 
def drop x cc block id store store ' R O P I N D E Xx cc block id 
def int conv value try value int value except value 0return value 
def read big fid size None buf size 16777216if size is None if not isinstance fid gzip Gzip File size os fid .st size - fid if size is not None segments np [ np 0 size buf size size ]buf bytearray '' * size for start end in zip segments -1 ] segments ] data fid int end - start if len data ! end - start raise Value Error 'eaderror buf end databuf bytes buf else buf ['']new fid buf size while len new > 0 buf new new fid buf size buf ''.join buf return buf 
def generate test machines hostname profilers timeout start timeout stop timeout sync 180 control file []for profiler in profilers control file 'job.profilers.add %s ' %  encode args *profiler profiler sync call  RUNTEST PATTERN % timeout sync timeout start timeout stop hostname  PROF MASTER machines control file profiler sync call for profiler in reversed profilers control file "job.profilers.delete '%s' " % profiler return '\n'.join control file 
def deduce alpha implications implications implications implications + [ Not j Not i for i j in implications res defaultdict set full implications transitive closure implications for a b in full implications if a b continueres b for a impl in res impl a na Not a if na in impl raise Value Error 'implicationsareinconsistent %s->%s%s' % a na impl return res 
def set vif host backend bridge config conf brname tapname None conf type 'bridge'conf.source dev brnameif tapname conf dev tapname 
def is Finite value return  exponent value ! 2047
def active code return get link suffix 'viewfinder'
def connect entry signals post save ping directories handler sender Entry dispatch uid ENTRY PS PING DIRECTORIES post save ping external urls handler sender Entry dispatch uid ENTRY PS PING EXTERNAL URLS post save flush similar cache handler sender Entry dispatch uid ENTRY PS FLUSH SIMILAR CACHE post delete flush similar cache handler sender Entry dispatch uid ENTRY PD FLUSH SIMILAR CACHE
def calc chksums buf unsigned chksum 256 + sum struct '148B' buf 148] + struct '356B' buf 512] signed chksum 256 + sum struct '148b' buf 148] + struct '356b' buf 512] return unsigned chksum signed chksum 
def test exclude columns table Unordered Table [] exclude u assert table [u'alpha' u class Partial Table Unordered Table class Meta exclude u table Partial Table [] assert table [u'i' u class Addon Table Partial Table added tables Column table Addon Table [] assert table [u'i' u u class Exclude Table Unordered Table added tables Column class Meta exclude u table Exclude Table [] assert table [u'i' u u 
def  osx platform data cmd 'system profiler S P Hardware Data Type   salt  ['cmd.run'] cmd grains {}for line in hardware field name _ field val line ' ' if field name 'odel Name key 'model name  clean value key field val if field name 'oot R O M Version key 'boot rom version  clean value key field val if field name ' M C Version system ' key 'smc version  clean value key field val if field name 'erial Number system ' key 'system serialnumber  clean value key field val return grains 
def Use Basic Auth service username password for proxy False deprecation 'se Basic Auth base 64 string base64 '%s %s' % username password base 64 string base 64 string if for proxy header name 'roxy Authorization header name 'uthorization headers name 'asic % base 64 string 
@frappe.whitelist def get all nodes tree method tree args parent tree method frappe attr tree method if not tree method in frappe frappe _ u Not Permitted frappe Permission Error frappe dict frappe dict json tree args frappe dict parentdata tree method out [dict parent parent data data ]to check [d.value for d in data if d to check frappe dict to check data tree method out dict parent frappe dict data data for d in data if d to check d return out 
def test set source model model1 base Base Completion Model model2 base Base Completion Model filter model sortfilter Completion Filter Model model1 filter model pattern 'foo' assert filter model is model1 assert filter model Model is model1 assert filter model 'foo' filter model Source Model model2 assert filter model is model2 assert filter model Model is model2 assert not filter model 
def should recompile source files 'conv util 'conv util 'cudaconv2.cuh' 'filter acts 'img acts 'nvmatrix.cu' 'nvmatrix.cuh' 'nvmatrix kernels 'nvmatrix kernels 'nvmatrix operators 'weight acts stat times [os.stat os this dir source file [ T MTIME] for source file in source files max stat times  logger 'maxdate %f' date if not os cuda convnet so or date > os cuda convnet so [ T MTIME] return Truereturn False 
def get Output File Name original File Name output Extension index None return os original File Name [0] + output Extension 
@must be valid project have permission ADMIN def node identifiers post auth node **kwargs if not node public or node retracted raise H T T P Error http B A D REQUEST if node identifier 'doi' or node identifier 'ark' raise H T T P Error http B A D REQUEST try identifiers  get or create identifiers node except H T T P Error raise H T T P Error http B A D REQUEST for category value in identifiers node identifier value category value node log Node Log E X T E R N A L IDS ADDED params {'parent node node id 'node' node id 'identifiers' identifiers auth auth return identifiers http C R E A T E D 
@not implemented for 'multigraph' def  triangles and degree iter G nodes None if nodes is None nodes nbrs G else nodes nbrs n G for n in G iter nodes for v v nbrs in nodes nbrs vs set v nbrs - {v} gen degree Counter [len vs & set G - {w} for w in vs ntriangles sum [ k * val for k val in gen degree ] yield v len vs ntriangles gen degree 
def package pkg name repos None yes None options None if not is installed pkg name install pkg name repos yes options 
def  access rule method ip None port None proto 'tcp' direction 'in' port origin 'd' ip origin 'd' comment '' if  status csf if ip is None return {'error' 'oumustsupplyanipaddressor C I D R port is None args  build args method ip comment return   csf cmd args else if method not in ['allow' 'deny'] return {'error' 'nlyallowanddenyrulesareallowedwhenspecifyingaport  access rule with port method method ip ip port port proto proto direction direction port origin port origin ip origin ip origin comment comment 
def  getfinder global  finder talkerif not  finder talker  finder talker Finder Finder  finder talker flags  finder talker flags | Apple Events A E Can Interact | Apple Events A E Can Switch Layer return  finder talker 
def acquire for pid dir num available 1 kill signal None my pid my cmd pid file get info pid dir if not os pid dir os pid dir os pid dir 511 pids {pid for pid in  read pids file pid file if getpcmd pid my cmd }if kill signal is not None for pid in pids os pid kill signal print 'entkillsignalto Pids {}'.format pids num available + 1if len pids > num available print 'id s {}alreadyrunning'.format pids if kill signal is not None print 'ote Therehave probably been1other Probablynoneedtorunthisoneaswell return False write pids file pid file pids | {my pid return True 
def test immunohistochemistry data 
def  cleanup callback option opt str value parser result []for choice in value ' ' if choice in CLEANUP CHOICES result choice else parser '%sgot%s whichisnotoneof %s' % opt str choice ' '.join CLEANUP CHOICES if 'NONE' in result and len set result > 1 parser '%s Cannotcleanupbothnothingandsomething % opt str setattr parser option result 
def register sync strategy session strategy cls sync type 'file at src and dest strategy strategy cls sync type strategy strategy session 
def capture signals return Capture Signals ALL SIGNALS
def maximal independent set G nodes None if not nodes nodes set [random.choice list G ] else nodes set nodes if not nodes G raise nx Network X Unfeasible ' % nodes neighbors set *[set G v for v in nodes if set neighbors nodes raise nx Network X Unfeasible ' % nodes indep nodes list nodes available nodes set G .difference neighbors nodes while available nodes node random list available nodes indep nodes node available nodes update list G node + [node] return indep nodes 
def add validator segmentation type validator function if segmentation type in  supported msg _ 'annotredefineexisting % segmentation type raise Key Error msg  supported type validator function 
def is Carbon Tk assert  tk type is not None return  tk type 'carbon'
@block user agents G E T CORS G E T document path indexingdef as json request document slug None document locale None kwargs {'locale' request L A N G U A G E CODE 'current revision  isnull False document slug is not None kwargs document slugkwargs document localeelif 'title' in request G E T kwargs request G E T 'slug' in request G E T kwargs request G E T return Http Response Bad Request document get object or 404 Document **kwargs kuma document .ection I Ds .serialize stale Trueif request authenticated ua cc request M E T A 'HTTP CACHE CONTROL' if ua cc 'no-cache' stale Falsedata document json data stale stale return Json Response data 
def coerce data egdata pdata pack data pegdata pack egdata pdata pdata A E Coerce Desc pegdata return unpack pdata 
def get credit requirements course key namespace None requirements Credit Requirement course requirements course key namespace return [{'namespace' requirement 'name' requirement 'display name requirement name 'criteria' requirement for requirement in requirements 
def  execute3 *args **kargs cmd args -3 ] if args 'raidcom' else args result EXECUTE T A B L E3 cmd CMD SUCCEED if cmd 'pairevtwait' '-d' CONFIG M A P 1 '-nowaits' ' M % INST NUMS[1] EXECUTE T A B L E3 { 'pairevtwait' '-d' CONFIG M A P 1 '-nowaits' ' M % INST NUMS[1] vsp horcm P S U E STDOUT STDERR } return result 
def test run link start link count 1000 if isinstance start link basestring start link int start link 36 links Link by I D range start link - count start link data True return dict False uploader Solr Link Uploader things links return uploader 
def test debug error message prev value config test valuefor mode in ['ignore' 'raise'] try config test value modetry op error message 'msg' raised Falseexcept Value Error raised Trueassert raisedfinally config test value prev value 
def get primary language current site None current site current site or Site current return get languages [current site 
def compose all stream Loader Loader loader Loader stream while loader node yield loader node 
def textinfo from path path encoding None follow symlinks False quick determine lang False return Text Info from path path encoding encoding follow symlinks follow symlinks quick determine lang quick determine lang 
def Create Extension Setting client feed items campaign feed feed item ids platform restrictions None campaign extension setting service client Get Service 'ampaign Extension Setting Service 'v201609' extension feed items [reate Sitelink Feed Item feed items feed item id } for feed item id in feed item ids setting {'extensions' extension feed items platform restrictions extension setting Restrictions platform restrictionscampaign extension setting {d campaign feed Id 'ype 'SITELINK' 'etting extension setting {'operand' campaign extension setting 'operator' ' D D extension setting service [operation]
@rofiler test orm query cols only n session Session bind engine for id  in random ids n session Customer Customer Customer .filter Customer id  .one
@transaction taskdef send first edit email revision pk revision Revision pk revision pk user doc revision revision subject u M D N loc s user smadetheirfirstedit to % doc s % {'loc' doc 'user' user 'doc' doc message render to string 'wiki/email/edited.ltxt' context dict revision doc url absolutify doc absolute url email Email Message subject message settings D E F A U L T FROM EMAIL to [ M A I L LIST SPAM WATCH] headers { Kuma Document Url doc url ' Kuma Editor Username user email 
def copy missing vector a b missing inplace False prefix None if prefix is None prefix find best blas type a b [0]copy prefix copy missing vector map not inplace b np b order 'F' try if not a f contig raise Value Error except a np a copy a b np missing return b 
def filer image from data request path file name file data sha1 None if sha1 is True sha1 hashlib file data .hexdigest upload data Content File file data file name return  filer file from upload model Image request request path path upload data upload data sha1 sha1 
def test parametrized collected from command line testdir py file testdir '\nimportpytest\n@pytest.mark.parametrize "arg" [one 1.3 "2-3"] \ndeftest func arg \npass\n' file name os py file rec testdir run file name + ' ' + 'test func rec passed 3
def test passthrough context form Sample Form form Form Helper form u form template with context {u'prefix' u u u render crispy form form helper form context c assert u Gotprefix foo in html assert u Gotsuffix bar in html 
def  apply scaling cov data picks list scalings scalings  check scaling inputs data picks list scalings scales Noneif isinstance scalings dict n channels len data covinds list zip *picks list [1]assert len data sum len k for k in covinds assert list sorted np covinds list range len data scales np n channels for ch t idx in picks list scales scalings t isinstance scalings np if len scalings ! len data raise Value Error 'calingfactorsanddataareofincompatibleshape scales scalingselif scalings is None passelse raise Runtime Error 'rff if scales is not None assert np scales 0.0 0 data * scales None ] * scales None 
def to fahrenheit celsius return celsius * 1.8 + 32
def strip headers post if '\n\n' in post headers body post '\n\n' 1 return body else return post 
def can access account func @wraps func def wrapper *args **kwargs user getattr g 'user' None user id kwargs 'user id get object or 404 User Model user id if user and user user id or user staff return func *args **kwargs else raise Permission Denied Error return wrapper 
def  Is Color color if not isinstance color basestring return Falsecolor color '#' if len color ! 3 and len color ! 6 return Falsehex letters ' B C D E F letter in color if letter not in hex letters return Falsereturn True 
def  validate str list arg if isinstance arg six types ret [arg]elif isinstance arg Iterable and not isinstance arg Mapping ret []for item in arg if isinstance item six types ret item else ret str item else ret [str arg ]return ret 
def editor test from spyder import qapplicationapp qapplication dialog Collections Editor dialog get test data dialog app 
def has method obj name return callable getattr obj name None 
def  check dir meta name user group mode follow symlinks False stats   salt  ['file.stats'] name None follow symlinks changes {}if not stats changes 'new'return changesif user is not None and user ! stats and user ! stats 'uid' changes userif group is not None and group ! stats and group ! stats 'gid' changes groupsmode salt mode stats mode salt mode mode if mode is not None and mode ! smode changes modereturn changes 
def  many to one input dict return dict key val for keys val in input dict for key in keys 
def require collection playable handler def test can play self collection id **kwargs 'heckifthecurrentusercanplaythecollection rights manager Actor self id can play actor play feconf A C T I V I T Y TYPE COLLECTION collection id can view actor view feconf A C T I V I T Y TYPE COLLECTION collection id if can play and can view return handler self collection id **kwargs else raise self Page Not Found Exceptionreturn test can play 
def read plain file obj type  count if count 0 return []conv DECODE P L A I N ]return conv file obj count 
def get entry point abs path pack None entry point None if not entry point return Noneif os entry point pack base path get pack base path pack name pack common prefix os [pack base path entry point if common prefix ! pack base path raise Value Error 'ntrypointfile % entry point return entry pointentry point abs path get pack resource file abs path pack ref pack resource type 'action' file path entry point return entry point abs path 
def  make profile image name username hash input settings P R O F I L E IMAGE SECRET KEY + username return hashlib hash input 'utf-8' .hexdigest
def local job cmd pollpath name queue to submit '%s;echo$?>%s' % cmd pollpath return to submit 
def  Connect region ec2 region Nonefor r in regions if r region ec2 region rbreakassert ec2 region is not None '"%s"notinthelistofec2regions %s' % region ' '.join k Valid Regions return boto ec2 region ec2 region 
def  allow join condition statement if not statement or not statement return Falselast tok statement prev len statement [1]return last tok in 'on' 'and' 'or'
def  create temporary path return  create carefully '%s.%s.%s.%s' % path int time socket os 
def contextfunction f f Truereturn f 
def outputter data return data 
def edge load centrality G cutoff False betweenness {}for u v in G betweenness u v ] 0.0betweenness[ v u ] 0.0for source in G ubetween  edge betweenness G source cutoff cutoff for e ubetweenv in ubetween betweenness + ubetweenvreturn betweenness 
def  read images sprites dict files tf Glob tf F L A G S filepattern for f in files image scipy f m re 'image  [0-9]+ _ [0-9]+ _ [0-9]+ .jpg' os f if m 1 not in sprites sprites 1 ] dict character sprites 1 ]if m 2 not in character character 2 ] dict pose character 2 ]pose[int m 3 ] imagereturn sprites 
def user password not empty key data errors context if data 'password hash missing is not missing and authz sysadmin context 'user' returnif not 'password1' in data and not 'password2' in data password data 'password' None if not password errors _ 'issingvalue 
def  netstat linux ret []cmd 'netstat-tulpnea'out   salt  ['cmd.run'] cmd for line in out comps line if line 'tcp' ret {'proto' comps 'recv-q' comps 'send-q' comps 'local-address' comps 'remote-address' comps 'state' comps 'user' comps 'inode' comps 'program' comps if line 'udp' ret {'proto' comps 'recv-q' comps 'send-q' comps 'local-address' comps 'remote-address' comps 'user' comps 'inode' comps 'program' comps return ret 
def subscribe document class query sub id schema None topic None lease duration sec DEFAULT LEASE DURATION SEC assert schema is None topic  get document topic document class topic schema  model to entity schema document class return prospective search datastore Entity query sub id schema schema topic topic lease duration sec lease duration sec 
def pyimplementation if hasattr  platform u implementation return  platform implementation elif sys u return u Jython + sys elif hasattr sys u version info v u str p for p in sys version info 3] if sys version info ] v + u + u str p for p in sys version info ] return u Py Py + v else return u C Python 
def format for columns pkgs options running outdated options running outdated header [ackage 'ersion 'atest 'ype header [ackage 'ersion []if any dist is editable x for x in pkgs header 'ocation for proj in pkgs row [proj.project name proj running outdated row proj version row proj filetype if dist is editable proj row proj data row return data header 
def trapz Warp pic cx cy ismask False Y X pic 2]src np [[0 0] [X 0] [X Y] [0 Y]] dst np [[ cx * X cy * Y ] [ 1 - cx * X cy * Y ] [X Y] [0 Y]] tform tf Projective Transform tform src dst im tf pic tform output shape Y X return im if ismask else im * 255 .astype 'uint8'
def  check is permutation indices n samples if len indices ! n samples return Falsehit np n samples dtype bool hit Trueif not np hit return Falsereturn True 
def compute node delete context compute id return I M P L node delete context compute id 
def  convert unsigned data fmt num len data return struct '{0}{0}'.format num fmt .encode u struct '{0}{0}'.format num fmt .encode u *data
def  is mobile ntype return ntype Phone Number Type M O B I L E or ntype Phone Number Type F I X E D LINE OR MOBILE or ntype Phone Number Type P A G E R 
def killall greenlets exception Greenlet Exit block True timeout None greenlets list greenlets if not greenlets returnloop greenlets block waiter Waiter loop callback  killall3 greenlets exception waiter t Timeout start new or dummy timeout try alive waiter if alive joinall alive raise error False finally t else loop callback  killall greenlets exception 
def  api key patch remove conn api Key pvlist response conn api key api Key api Key patch Operations  api key patchops 'remove' pvlist return response 
def get saved rules conf file None family 'ipv4' return  parse conf conf file conf file family family 
@task@needs 'pavelib.prereqs.install prereqs @cmdopts [ 'settings ' 's' 'jangosettings ] def celery options settings getattr options 'settings' 'dev with worker run process django cmd 'lms' settings 'celery' 'worker' '--beat' '--loglevel INFO' '--pythonpath .'
def command map args if multiprocessing process .name ! 'ain Process logger Multiprocessing try return command *args except Exception logger 'ncoderraisedanexception return False 
def set hidden module name user None hidden 1 if user icon get user copy module name user if hidden and icon frappe doc icon icon ignore permissions True returnicon set u hidden else icon frappe doc u Desktop Icon {u'standard' 1 u name module name icon set u hidden 
@ get clientdef task delete client task id session None return client delete task id task id session session 
def handle process exit code exit code if os W I F S I G N A L E D exit code exit code - os W T E R M S I G exit code elif os W I F E X I T E D exit code exit code os W E X I T S T A T U S exit code else raise Runtime Error 'nknownchildexitstatus return exit code 
def synchronize reference stream key lambda x x unused None for left right in leftjoin reference stream key unused yield right 
def  representing matrices basis G ring domain ring ring - 1 def var i return tuple [0] * i + [1] + [0] * u - i def representing matrix m M [ [domain.zero] * len basis for _ in range len basis ]for i v in enumerate basis r ring new monomial mul m v domain .rem G for monom coeff in r j basis monom M coeffreturn Mreturn [representing matrix var i for i in range u + 1 ]
def filename to title filename if utils homepage filename return u Home utils to title filename 
def  spatial median X max iter 300 tol 0.001 if X 1 return 1 np X tol ** 2spatial median old np X axis 0 for n iter in range max iter spatial median  modified weiszfeld step X spatial median old if np spatial median old - spatial median ** 2 < tol breakelse spatial median old spatial medianelse warnings 'aximumnumberofiterations iter Theil Senregressor max iter max iter Convergence Warning return n iter spatial median 
def  build A B lap sparse labels labels labels labels > 0 ]indices np labels unlabeled indices indices labels 0 ]seeds indices indices labels > 0 ]B lap sparse indices seeds indices sparse lap sparse indices unlabeled indices labels rhs []for lab in range 1 nlabels + 1 mask labels indices lab fs sparse matrix mask fs fs rhs B * fs return lap sparse rhs 
def delay denial func func denial True func def wrapped *a **kw return func *a **kw return wrapped 
def add new message id user user profile text try if not verification user id user return get new message for user user if checking conference id conferences get memcached get key 'conferences' for key in conferences conferences dict user user text text time strftime '%H %M %S' date strftime ' profile user profile set memcached get key 'conferences' conferences except data json {'cmd' 'rror 'data' {'msg' str sys info }} return Http Response data content type 'application/json' status 200 return get new message for user user 
def   gen rtag return os   opts  ['cachedir'] 'pkg refresh 
def get recommended exercises subtopic id if not subtopic id return []tree get recommendation tree generate recommendation data return tree id 
def simulate options app path **kwargs return simulate request app 'OPTIONS' path **kwargs
def parse upgrade rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--root-device' dest 'root-device' action 'store' args clean args vars parser args rules parser Noneif args return argsreturn True 
def rewind body body body pos body seek getattr body 'seek' None if body seek is not None and isinstance body pos integer types try body seek body pos except I O Error O S Error raise Unrewindable Body Error 'nerroroccuredwhenrewindingrequestbodyforredirect elif body pos is  FAILEDTELL raise Unrewindable Body Error 'nabletorecordfilepositionforrewindingrequestbodyduringaredirect else raise Value Error 'body posmustbeoftypeinteger insteaditwas % type body pos 
def get New Repository return Fill Repository 
def setup multiprocessing logging queue None from salt import is windowsglobal   MP LOGGING C O N F I G U R E Dglobal   MP LOGGING QUEUE H A N D L E Rif   MP IN MAINPROCESS is True and not is windows returntry logging acquire Lock if   MP LOGGING CONFIGURED is True return  MP LOGGING CONFIGURED Trueif   MP LOGGING QUEUE HANDLER is not None return  remove null logging handler   remove queue logging handler   MP LOGGING QUEUE HANDLER Salt Log Queue Handler queue or get multiprocessing logging queue logging Handler   MP LOGGING QUEUE HANDLER logging Level logging G A R B A G E logging Logger   name   .debug 'ultiprocessingqueueloggingconfiguredfortheprocessrunningunder P I D {0}'.format os time 0.0001 finally logging release Lock 
def test hsl to rgb part 13 assert hsl to rgb 0 100 0 0 0 0 assert hsl to rgb 0 100 10 51 0 0 assert hsl to rgb 0 100 20 102 0 0 assert hsl to rgb 0 100 30 153 0 0 assert hsl to rgb 0 100 40 204 0 0 assert hsl to rgb 0 100 50 255 0 0 assert hsl to rgb 0 100 60 255 51 51 assert hsl to rgb 0 100 70 255 102 102 assert hsl to rgb 0 100 80 255 153 153 assert hsl to rgb 0 100 90 255 204 204 assert hsl to rgb 0 100 100 255 255 255
def unverified raw input super Console Send Keys 'x raw input }"foo "{ }{ENTER}' super Console Send Keys '{ENTER}'
def known Plaintext known key random plaintext stallion A E S known key encrypted string Encode A E S stallion random plaintext return encrypted string 
def add allow top to srs from r2 import Subredditfrom r2 import descfrom r2 import fetch things2q Subreddit query Subreddit spam True False sort desc ' date for sr in fetch things2 q sr top Truesr commit 
def make temp string suffix '' decode True delete True ntf Named Temporary File suffix suffix delete delete if decode ntf base64 string else ntf string ntf 0 return ntf ntf 
def extract Heights array w h array 2ap zeros w h 'int16' heights argmax array > 0 [... -1 ] 2 heights array - heights heights array -1 ] 0 & heights array ] 0ap ] heightsreturn height Map 
def  get count effects effects exog count ind method model params for i in count ind exog0 exog exog0 i - 1effect0 model params exog0 exog0 i + 2effect1 model params exog0 if 'ey' in method effect0 np effect0 effect1 np effect1 effects i effect1 - effect0 / 2 return effects 
def teardown databases old config verbosity parallel 0 keepdb False for connection old name destroy in old config if destroy if parallel > 1 for index in range parallel connection test db number index + 1 verbosity verbosity keepdb keepdb connection test db old name verbosity keepdb 
def validate enabled enabled if isinstance enabled str if enabled not in ['on' 'off' 'yes' 'no'] msg "ac Power Invalid String Valuefor Enabled Stringvaluesmustbe Passed {0}".format enabled raise Salt Invocation Error msg return 'on' if enabled in ['on' 'yes'] else 'off' return 'on' if bool enabled else 'off'
def oedit obj modal True namespace None from spyder import qapplicationapp qapplication if modal obj name ''else assert is text string obj obj name objif namespace is None namespace globals keeper namespace namespace obj namespace name  qapp  '] appresult create dialog obj obj name if result is None return dialog end func resultif modal if dialog  return end func dialog else keeper dialog dialog obj name end func import osif os 'nt' app 
def to edgelist G nodelist None if nodelist is None return G data True else return G nodelist data True 
def get event transaction type return get cache 'event transaction .get 'type' None 
def maybe patch concurrency argv sys short opts [ long opts [u'--pool'] patches {u'eventlet'  patch eventlet u  patch gevent try pool  find option with arg argv short opts long opts except Key Error passelse try patcher patches Key Error passelse patcher from celery import concurrencyconcurrency implementation pool 
def episode by id episode id session None return session Episode .filter Episode episode id .one
def validate password length value message _ 'nvalid Length {0} ' code 'length'min length getattr settings 'PASSWORD MIN LENGTH' None max length getattr settings 'PASSWORD MAX LENGTH' None if min length and len value < min length raise Validation Error message _ 'mustbe{0}charactersormore' .format min length code code elif max length and len value > max length raise Validation Error message _ 'mustbe{0}charactersorfewer' .format max length code code 
def remove logical volumes *paths for path in paths clear logical volume path if paths lvremove 'lvremove' '-f' + paths execute attempts 3 run as root True *lvremove
def i16le c o 0 return unpack '<H' c o + 2 ] [0]
def block collapse expr hasbm lambda expr isinstance expr Matrix Expr and expr Block Matrix rule exhaust bottom up exhaust condition hasbm typed {at Add do one bc matadd bc block plus ident Mat Mul do one bc matmul bc dist Transpose bc transpose Inverse bc inverse Block Matrix do one bc unpack deblock } result rule expr try return result except Attribute Error return result 
def resource def prep r if r if r in 'create' 'update' table r id get vars ' location ' None if location id field table idfield location idfield field Falseorganisation id get vars ' organisation ' None if organisation id field table idfield organisation idfield field Falsereturn Trues3 prepreturn s3 rest controller 
def draw spectral G **kwargs draw G spectral layout G **kwargs
@pytest.mark.parametrize 'parallel' [rue False def test quoted empty values parallel read basic if parallel pytest 'ultiprocessingcanfailwithquotedfields text 'abc\n12"\n"'table read basic text parallel parallel assert table is ma 
def raet minion run cleanup protecteds minion daemons Minion minion cleanup protecteds cleanup protecteds 
def is jframe request request return request M E T A 'HTTP X HUE JFRAME' or request G E T 'format' 'embed'
def machine get idx by hostname hostname machine machine get by hostname hostname if machine is None return Nonereturn machine idx 
def get ignore scope line keyword toignore line line keyword + len keyword ]if toignore 'all' return []else return list String Converter toignore list delimiters ' '
@receiver Signal Handler published def trigger update xblocks cache task sender course key **kwargs tasks import module 'openedx.core.djangoapps.bookmarks.tasks' tasks xblocks cache async [unicode course key ] countdown 0
@lower constant types Uni Tuple @lower constant types Named Uni Tuple def unituple constant context builder ty pyval consts [context.get constant generic builder ty v for v in pyval ir Array Type consts len consts consts 
@login notrequireddef show login page request login errors False redirect to request R E Q U E S T 'next' '/' is first login ever O Auth Backend first login ever request test cookie return render 'oauth-login.mako' request {'action' urlresolvers 'oauth login 'next' redirect to 'first login ever is first login ever 'login errors request 'POST' or login errors 'oogle liboauth C O N S U M E R KEY G O O G L E ! '' and liboauth C O N S U M E R SECRET G O O G L E ! '' 'acebook liboauth C O N S U M E R KEY F A C E B O O K ! '' and liboauth C O N S U M E R SECRET F A C E B O O K ! '' 'inkedin liboauth C O N S U M E R KEY L I N K E D I N ! '' and liboauth C O N S U M E R SECRET L I N K E D I N ! '' 'witter liboauth C O N S U M E R KEY T W I T T E R ! '' and liboauth C O N S U M E R SECRET T W I T T E R ! '' }
def  get token challenge proxy challenge priv key rsa Private Key pkcs1 open settings W I N D O W S VM SECRET .read signature rsa challenge priv key 'SHA-512' sig b64 base64 signature return sig b64 
def int2long val return val + 4294967296 - 4294967296
def Content Generator csv file batch size create csv reader csv create csv writer csv try csv size limit 800000 except Attribute Error passreader create csv reader csv file skipinitialspace True exhausted Falsewhile not exhausted rows written 0content String I O String I O writer create csv writer content try for i in xrange batch size row reader writer row rows written + 1except Stop Iteration exhausted Trueif rows written > 0 yield rows written content 
def parse gid gid try return int gid except Value Error if grp try return grp gid .gr gidexcept Key Error raise Key Error 'roupdoesnotexist %r' % gid raise 
@receiver project import def handle project import sender **kwargs project senderrequest kwargs 'request' attach webhook project project request request 
def preferences attrs None where None if salt darwin return  osquery cmd table 'preferences' attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def getincrementaldecoder encoding decoder lookup encoding .incrementaldecoderif decoder is None raise Lookup Error encoding return decoder 
def get Navigation Line contents Link Text previous Link Text next Link Text return '<p>\n%s/%s/%s\n</p>\n' % previous Link Text next Link Text contents Link Text 
@block user agents G E T CORS G E T document path indexingdef as json request document slug None document locale None kwargs {'locale' request L A N G U A G E CODE 'current revision  isnull False document slug is not None kwargs document slugkwargs document localeelif 'title' in request G E T kwargs request G E T 'slug' in request G E T kwargs request G E T return Http Response Bad Request document get object or 404 Document **kwargs kuma document .ection I Ds .serialize stale Trueif request authenticated ua cc request M E T A 'HTTP CACHE CONTROL' if ua cc 'no-cache' stale Falsedata document json data stale stale return Json Response data 
def create relative media url nav url parsed urlparse url if parsed return urlif url u base u url ]else base nav context pathrelative base nav context relative base if relative base u and url u relative url urlelse relative url u % relative base url if nav context file u is False and nav context path ! u and relative url u relative url u % relative url return relative url 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def decode base64 text encoding 'utf-8' text to bytes text encoding return to unicode base64 text encoding 
def  tag added sender question id tag name **kwargs if tag name config E S C A L A T E TAG NAME escalate question question id 
def last modified date to timestamp last modified date str start datetime last modified date str ' T H %M % delta start - EPOCH return Timestamp delta seconds 
def   ip addr addr address family socket A F INET mask max '32'if address family socket A F INET6 mask max '128'try if '/' not in addr addr '{addr}/{mask max addr addr mask max mask max except Type Error return False ip mask addr '/' 1 try socket pton address family ip except socket return Falsetry mask int mask except Value Error return Falseelse if not 1 < mask < int mask max return Falsereturn True 
def region invalidate namespace region *args if callable namespace if not region region namespace arg regionnamespace namespace arg namespaceif not region raise Beaker Exception 'egionorcallablefunctionnamespaceisrequired else region cache regions Cache get cache namespace region cache key ''.join str x for x in args cache value cache key 
def  get catalogs service type catalog db **kwargs if catalog db is None catalog db get remote catalog db service type **kwargs catalogs catalog db catalogs elif isinstance catalog db V O S Database catalogs catalog db catalogs elif isinstance catalog db V O S Catalog six types catalogs [ None catalog db ]elif isinstance catalog db list for x in catalog db assert isinstance x V O S Catalog six types and not isinstance x V O S Database catalogs [ None x for x in catalog db raise V O S Error u dbmustbeacatalogdatabase alistofcatalogs oracatalog return catalogs 
def user agent return 'python-social-auth-' + social  version  
def is True val val val return val 'true' or val 't' or val '1' or val 'yes'
def get api version version string version string str version string if version string in DEPRECATED VERSIONS L O G  LW 'ersion deprecated version sisdeprecated usingalternativeversion alternative sinstead {'deprecated version version string 'alternative' DEPRECATED V E R S I O N S string version string DEPRECATED V E R S I O N S string strutils int like version string version string '%s.0' % version string api version A P I Version version string check major version api version return api version 
def get board state planes np 3 state state planes ] state state player planes ] state - state player planes ] state go E M P T Y return planes 
def  ordereddict2dict input ordered dict return json json input ordered dict 
@blueprint.route '/<job id methods ['GET'] @blueprint.route '/<job id methods ['GET'] def show job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound related jobs scheduler related jobs job if request wants json return flask job dict True elif isinstance job model images Image Classification Model Job return model images job related jobs related jobs elif isinstance job model images Generic Image Model Job return model images job related jobs related jobs else raise werkzeug Bad Request 'nvalidjobtype 
def build ws upgrade request web socket url extra headers None web socket version DEFAULT PROTOCOL VERSION origin None request headers Headers request headers Sec Web Socket Key gen ws sec key for key value in WEBSOCKET UPGRADE H E A D E R S request headers valueif extra headers is not None for key value in extra headers request headers valuerequest headers Sec Web Socket Version str web socket version if origin is not None request headers Origin originelse scheme 'https //' if 'wss //' in web socket url else 'http //' args scheme web socket url domain request headers Origin '%s%s' % args forged url web socket url string 'wss //' 'https //' 1 forged url forged url 'ws //' 'http //' 1 forged url URL forged url upgrade request Fuzzable Request forged url 'GET' headers request headers return upgrade request 
def bokeh installer env name install string if os 'nt' command string 'activate%s&%s' % env name install string else command string 'sourceactivate%s;%s' % env name install string result subprocess command string shell True executable '/bin/bash' return result 0
def  get plugin methods plugin klass methods inspect plugin klass inspect method names []for name method in methods method properties method  dict  is abstract method properties '  isabstractmethod  ' False if is abstract continuemethod names name return method names 
def binop x op y lineno None col None lineno x if lineno is None else lineno col x offset if col is None else col return ast Bin Op left x op op right y lineno lineno col offset col 
def Combine Places places time resolution sorted places sorted [{'locality' Get Place p 'timestamp' p 'opacity' 1.0 'num combined 1 'total count p count for p in places key itemgetter 'timestamp' place list []def  Get Avg Timestamp p return p / p combined def  Maybe Combine Place p if place list last place place list -1 ]if p last place and abs p -  Get Avg Timestamp last place < time resolution for attr in ['timestamp' 'total count 'num combined last place + p list p for p in sorted places  Maybe Combine Place p for p in place list p  Get Avg Timestamp p return place list 
def f5 reduce f B order Polyn f .ring.orderdomain Polyn f .ring.domainif not Polyn f return fwhile True g ffor h in B if Polyn h if monomial divides Polyn h .LM Polyn f .LM t term div Polyn f .LT Polyn h .LT domain if sig cmp sig mult Sign h t Sign f order < 0 hp lbp mul term h t f lbp sub f hp breakif g f or not Polyn f return f 
def check random port port socket type 'all' assert socket type in 'all' 'tcp' 'udp' 'nvalidsockettype % type socket type assert isinstance port int 'nvalidporttype % type port assert 0 < port < 65535 'nvalidportvalue % port  family socket A F INET sock type Noneif socket type 'udp'  sock type socket S O C K D G R A Melif socket type 'tcp'  sock type socket S O C K S T R E A Mis port working Falseif socket type 'all' if  test port  family socket S O C K DGRAM port is port working  test port  family socket S O C K STREAM port else is port working  test port  family  sock type port return is port working 
def  walk vdi chain session vdi uuid scan default sr session while True vdi ref session xenapi ' D I by uuid vdi uuid vdi rec session xenapi ' D I record vdi ref yield vdi rec parent uuid  get vhd parent uuid session vdi ref if not parent uuid breakvdi uuid parent uuid 
def isnan a return reshape array [ isnan i for i in ravel a ] 'b' shape a 
def get dhcp leases context network ref hosts []host Noneif network ref host host C O N F data in db get associated fixed ips context network ref host host if data and data hosts  host lease data return '\n'.join hosts 
def address pairs fields pairs list zip fields 2] fields 2] if len fields % 2 pairs fields -1 ] return pairs 
def decompose kernel 2x once kernel for mapping in get mappings 2x suffix becomes is full patch templates mappingparams {}match re '^ .* ' + suffix kernel if not match continueparams kernelparams match 1 match re '^ \\d+\\.\\d+ \\. \\d+ ' kernel if not match raise Name Error 'nabletodeterminemajor % kernel params match 1 params match 2 params match 2 + '.%d' % int match 3 - 1 new kernel becomes % params patch list []for template in patch templates patch list template % params return is full new kernel patch list return True kernel None 
def add attachments name attachments from frappe manager import save urlfor a in attachments if isinstance a basestring attach frappe value u File {u'name' a [u'file name u url u private as dict 1 save url attach url attach name u Communication name u Home Attachments attach private 
def average pooling 2d x ksize stride None pad 0 use cudnn True return Average Pooling2 D ksize stride pad False use cudnn x 
def set emulated double number double np [number 0] dtype np double number - double return double 
def fixed quad func a b args n 5 x w  cached roots legendre n x np x if np a or np b raise Value Error 'aussianquadratureisonlyavailableforfinitelimits y b - a * x + 1 / 2.0 + a return b - a / 2.0 * np w * func y *args axis -1 None 
def activities from everything followed by user user id limit offset q  activities from everything followed by user query user id limit + offset return  activities at offset q limit offset 
def save new collection committer id collection commit message "ewcollectioncreatedwithtitle % collection  create collection committer id collection commit message [{'cmd' CMD CREATE NEW 'title' collection 'category' collection 
def  minify source path target path cmd 'java-jar%s%s-o%s' % YUICOMPRESSOR DIR source path target path subprocess call cmd shell True 
def get envs yaml dict env get yaml entry yaml dict 'env' if env is None return ''if isinstance env basestring return env + '\n' if isinstance env list tuple return env + '\n' globals matrix [get yaml entry env name for name in 'global' 'matrix' ]if hasattr matrix 'keys' raise Travis Error 'ops envstoocomplicated lines []if not globals is None if matrix is None raise Travis Error 'globalsectionneedsmatrixsection' lines + globalsif not matrix is None lines matrix return '\n'.join lines + '\n'
def cgsnapshot get context cgsnapshot id return I M P L get context cgsnapshot id 
def process attribute value key value if not cfg C O N F secrets return valueif isinstance value SIMPLE TYPES if key in MASKED ATTRIBUTES BLACKLIST value MASKED ATTRIBUTE V A L U Eelif isinstance value dict value copy value for dict key dict value in six value value key process attribute value key dict key value dict value return value 
def test declarations class Geo Area Table tables Table name tables Column population tables Column assert len Geo Area Table columns 2 assert u in Geo Area Table columns assert not hasattr Geo Area Table u class Country Table Geo Area Table capital tables Column assert len Country Table columns 3 assert u in Country Table columns class Added Mixin tables Table added tables Column class City Table Geo Area Table Added Mixin mayor tables Column assert len City Table columns 4 assert u in City Table columns class Mayorless City Table City Table mayor Noneassert len Mayorless City Table columns 3
def userdata cached userterm userterm ''.join [t.strip .lower for t in userterm '' ] return g query cache userterm 
def  write instance repr out visited name pyop attrdict address out '<' out name if isinstance pyop attrdict Py Dict Object Ptr out ' ' first Truefor pyop arg pyop val in pyop attrdict if not first out ' ' first Falseout pyop arg visited out ' ' pyop val repr out visited out ' ' out 'atremote0x%x>' % address 
def L J Hash hash Str size print 'ash String ' + str hash Str out Buff ctypes char * 16 ret Buff 'ib ctypes Load Library 'labjackud' ec static Lib L J Hash ctypes hash Str ctypes P O I N T E R ctypes char size ctypes out Buff ctypes P O I N T E R ctypes char 0 if ec ! 0 raise Lab Jack Exception ec for i in range 16 ret Buff + out Buff ret Buff 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def test completion alone script result script 'completion' expect error True assert 'ERROR Youmustpass in result 'completionalonefailed--' + result 
def Calculate Data Length data if isinstance data str return len data elif isinstance data list return Noneelif Element Tree data return len Element Tree data elif hasattr data 'read' return Noneelse return len str data 
def splprep x w None u None ub None ue None k 3 task 0 s None t None full output 0 nest None per 0 quiet 1 res  impl x w u ub ue k task s t full output nest per quiet return res 
def  log multivariate normal density diag X means covars n samples n dim X -0.5 * n dim * np 2 * np + np np covars 1 + np means ** 2 / covars 1 - 2 * np X means / covars .T + np X ** 2 1.0 / covars .T return lpr 
def Format Results file obj results out file obj + ' \n' for result in results out + '' + result + 'fingerprinttype\n' for key value in sorted result if key 'name' continueout + '' + key + ' ' if type value is list for v in value if type v is tuple out + ' rev %d type %d certlen %dbytes ' % v v len v else out + v 'hex' + ' ' else out + value 'hex' out + '\n'return out 
def Fix Arg File Name file Name import os path fname os file Name if len path 0 path os os path for syspath in sys if os syspath path breakelse sys path return os fname [0]
def empty str in str if in str is not None and not isinstance in str string types raise Type Error 'rgmustbe Noneorastringtype return in str is None or len in str 0
def get color names names list  color dict names return names 
def wsgi to bytes data if isinstance data bytes return datareturn data 'latin1'
def  is String obj return type obj in types String Types 
def api calls left user domain 'all' max window  rules for user user [ -1 ][0]max calls  rules for user user [ -1 ][1]return  get api calls left user domain max window max calls 
def  To Time Zone t tzinfo if pytz is None return t tzinfo None elif tzinfo if not t t pytz t return tzinfo t tzinfo elif t return pytz t pytz .replace tzinfo None else return t 
def List Projects service projects service .list .execute logging json projects indent 2
def Locate Optional Path file Name search Paths try return Locate Path file Name search Paths except Keyboard Interrupt return None 
def cachedmethod f cache {} def _ *args **kwargs try key f tuple args frozenset kwargs if key not in cache cache f *args **kwargs except key ''.join str _ for _ in f args kwargs if key not in cache cache f *args **kwargs return cache _
def tp write fd buf return get hub .threadpool.apply e Base Exception  write fd buf 
@auth.s3 requires membership 1 def sms outbound gateway s3 strings sms outbound gateway Storage label create T 'reate S M S Outbound Gateway title display T ' M S Outbound Gateway Details title list T ' M S Outbound Gateways title update T 'dit S M S Outbound Gateway label list button T 'ist S M S Outbound Gateways label delete button T 'elete S M S Outbound Gateway msg record created T ' M S Outbound Gatewayadded msg record modified T ' M S Outbound Gatewayupdated msg record deleted T ' M S Outbound Gatewaydeleted msg list empty T 'o S M S Outbound Gatewayscurrentlyregistered return s3 rest controller 
def generate user certificates student course key course None insecure False generation mode 'batch' forced grade None xqueue X Queue Cert Interface if insecure xqueue https Falsegenerate pdf not has html certificates enabled course key course cert xqueue cert student course key course course generate pdf generate pdf forced grade forced grade if cert is None returnif Certificate Statuses passing status cert emit certificate event 'created' student course key course {'user id student 'course id unicode course key 'certificate id cert uuid 'enrollment mode cert 'generation mode generation mode return cert 
def dispersion p q None *gens **args J dispersionset p q *gens **args if not J j S Negative Infinityelse j max J return j 
def p labeled statement 2 t pass 
def collect addon assets node return {'tree js list collect addon js node 'tree css list collect addon css node }
def reload theme value prev if value ! prev config os   file   + '/colorset/' + value + '.json' data load config config if data for d in data c data cycle set config 'THEME' value return valuereturn prev 
def validip6addr address try socket pton socket A F INET6 address except socket Attribute Error return Falsereturn True 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def get Rank Index ruling Separation Width Millimeters screen Ordinate return int round screen Ordinate / ruling Separation Width Millimeters 
def pw Decrypt epw master P W None if not epw Crypto Marker return epw False if master P W is None if Master Password is None   get Master Password if Master Password is None return u False master P W pw Decode Master Password from . E S import decrypt Datafrom . B K D F2 import rehash Password hash Parameters epw epw ].rsplit Delimiter 1 try key rehash Password master P W hash Parameters [ 32]plaintext decrypt Data key base64 epw u except Value Error return u False return plaintext u True 
def get test hooks test files cfg tracer None results []dirs set map os test files for dir in list dirs if os dir 'ftests' dirs os os dir 'tests' dirs list dirs dirs for dir in dirs filename os dir 'checks.py' if os filename module import module filename cfg tracer tracer if tracer is not None hooks tracer module hooks else hooks module hooks results hooks return results 
def encode json data indent None return json data indent indent cls Encoder 
def sanitize hostname hostname if six P Y3 hostname hostname 'latin-1' 'ignore' hostname hostname 'latin-1' elif isinstance hostname six type hostname hostname 'latin-1' 'ignore' hostname re '[_]' '-' hostname hostname re '[^\\w.-]+' '' hostname hostname hostname hostname hostname '.-' return hostname 
def list locations provider 'all' client  get client locations client locations provider return locations 
@require http methods 'DELETE' 'POST' 'PUT' @login required csrf cookiedef  update asset request course key asset key if request 'DELETE' try delete asset course key asset key return Json Response except Asset Not Found Exception return Json Response status 404 elif request in 'PUT' 'POST' if 'file' in request F I L E S return  upload asset request course key else try modified asset json request except Value Error return Http Response Bad Request contentstore .set attr asset key 'locked' modified asset del cached content asset key return Json Response modified asset status 201
def verify oauth request request oauth request consumer token None from treeio import storeif not store nonce request oauth request oauth request nonce return Falsetry oauth server oauth Server oauth server signature method oauth Signature Method HMAC SHA1 oauth server signature method oauth Signature Method PLAINTEXT consumer oauth Consumer consumer 'ascii' 'ignore' consumer 'ascii' 'ignore' if token is not None token oauth Token token 'ascii' 'ignore' token 'ascii' 'ignore' oauth server request oauth request consumer token except oauth Error return Falsereturn True 
def execute count expected def inner Counter fn def wrapped function *args **kwargs count Statement Counter cassandra original function cassandra count executeto return fn *args **kwargs count counter cassandra original functionif len args is 0 test case unittest Test Case '  init  ' else test case args case Equal count counter expected msg "xpectednumberofcassandra {0} doesn {1} ".format expected count counter return to returnwrapped function  name   fn  name  wrapped function  doc   fn  doc  if CQL SKIP EXECUTE return fnelse return wrapped functionreturn inner Counter 
def is method call callfunc node types methods if not isinstance callfunc node astroid Call Func return Falsefunc utils infer callfunc node return isinstance func astroid Bound Method and isinstance func astroid Instance and func in types if types else True and func in methods if methods else True 
def is gzip fp return open fp 'rb' .read 2 '\x1f\x8b'
def get train test reviews None random state None import numpy as npimport randomr random Random random state if reviews is None reviews load U M np reviews test idxs np r range len U len U // 10 train reviews train U idxs M idxs ] 0test np like reviews test U idxs M idxs ] reviews U idxs M idxs ]return train test 
def ssh file opts dest path contents None kwargs None local file None if opts 'file transport 'sftp' 'sftp' return sftp file dest path contents kwargs local file return scp file dest path contents kwargs local file 
def streql s1 s2 if len s1 ! len s2 return Falseb Truefor ch1 ch2 in zip s1 s2 if ch1 ! ch2 b Falsereturn b 
def write html report results dir report path None encoding 'utf8' default report path os results dir 'job report if report path is None report path default report pathrelative links Trueif report path ! default report path relative links Falserendered html generate html report results dir relative links report dir os report path if not os report dir raise Invalid Output Dir Error report dir html result open report path 'w' html result rendered html encoding html result logging 'eportsuccessfullygeneratedat report path 
def onchange *args return attrsetter ' onchange args 
def format html html return html u u .replace u u 
def  p Format Array array  fmt '%.2f' return '[' + ''.join fmt % x for x in array  + ']'
def get makefile filename if  PYTHON BUILD return os  PROJECT BASE 'akefile return os get path 'platstdlib' 'config' 'akefile 
def get file language filename text None ext osp filename [1]if ext '.' ext ext ]language extif not ext if text is None text  enc encoding filename for line in text if not line continueif line '#!' shebang line ]if 'python' in shebang language 'python'else breakreturn language 
def constant x x np x dtype np n eval x np [n eval 1] return f 
def obtain device type model if '881' in model return 'router'else return None 
def find definition project code offset resource None maxfixes 1 fixer fixsyntax Fix Syntax project code resource maxfixes pyname fixer at offset if pyname is not None module lineno pyname definition location name rope Worder code .get word at offset if lineno is not None start module line start lineno def check offset occurrence if occurrence < start return Falsepyname filter occurrences Py Name Filter pyname finder occurrences Finder project name [check offset pyname filter for occurrence in finder occurrences pymodule module return Location occurrence 
def get size start path total size 0for dirpath __ filenames in os start path for f in filenames fp os dirpath f total size + os fp return total size 
def convert to utc dt if not dt return add utc tz dt dt dt dateutil return dt 
def grains refresh D E T A I L S cache Nonereturn grains 
@xfail is win reason 'ssuescipy @xfail is darwin reason 'ssue @importorskip 'scipy' def test scipy special pyi builder pyi builder source 'importscipy.special'
def  nested variable init name None trainable False if isinstance init list or isinstance init tuple result [ nested variable i name trainable for i in init isinstance init tuple return tuple result return resultelse return tf Variable init name name trainable trainable 
def t one sample a popmean 0 tails 'two-sided' t _ ttest 1samp a popmean if isnan t or isinf t return nan nan p tprob t len a - 1 tails return float t p 
def total physical memory try return psutil memory .totalexcept Attribute Error return psutil T O T A L PHYMEM
def  assert no element by context by value wait time MAX WAIT FOR UNEXPECTED ELEMENT try Web Driver Wait context wait time .until E C of element located by value except Timeout Exception return Trueraise K A Lite Timeout 
def test xbm h f s '#define'if h len s ] s return 'xbm'
def get Plugins interface package None if package is None import twisted as packageall Dropins get Cache package for key dropin in iteritems all Dropins for plugin in dropin try adapted interface plugin None except log else if adapted is not None yield adapted 
def pytest terminal summary terminalreporter try get ipython except Name Error returnif not terminalreporter u returnterminalreporter newline terminalreporter line u Sometestsareknowntofailwhenrunfromthe I Pythonprompt butnotlimitedtotestsinvolvingloggingandwarninghandling Unlessyouarecertainastothecauseofthefailure pleasecheckthatthefailureoccursoutside I Pythonaswell Seehttp //docs.astropy.org/en/stable/known issues yellow True bold True 
def  embed bpython shell namespace {} banner '' import bpython  embed bpython shell def wrapper namespace namespace banner '' bpython locals  namespace banner banner return wrapper 
def show instance name call None if call ! 'action' raise Salt Cloud Exception 'heshow instanceactionmustbecalledwith node id get linode id from name name node data get linode kwargs {'linode id node id ips get ips node id state int node data S T A T U S ret {'id' node data L I N O D E I D 'image' node data D I S T R I B U T I O N V E N D O R 'name' node data L A B E L 'size' node data T O T A L R A M 'state'  get status descr by id state 'private ips ips ips 'public ips ips ips ret 
def select proxy url proxies proxies proxies or {} urlparts urlparse url proxy proxies urlparts + ' //' + urlparts if proxy is None proxy proxies urlparts return proxy 
def  handle read field api content form value user cc content if form value and not cc content user cc content api content comment count 0
def merge branch repo branch try check call ['git' 'pull' repo branch stdin io os except Called Process Error check call ['git' 'merge' '--abort'] return Falsereturn True 
def test binary operator subclass class A object def   add   self other return 'a' self  class  .  name     radd     add  class B A def   add   self other return 'b' self  class  .  name     radd     add  class C A passa A b B c C Are Equal a + b 'b' 'B' Are Equal a + c 'a' 'A'
def agent join consul url None address None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not address raise Salt Invocation Error 'equiredargument if 'wan' in kwargs query params kwargs 'agent/join/{0}'.format address res  query consul url consul url function function method 'GET' query params query params if res ret Trueret 'gentjoinedthecluster ret Falseret 'nabletojointhecluster ret 
def get Module With Path path return get Module With Directory Path os path os path 
def   dict replace s d for key value in d s s key value return s 
def default for missing env for param in SECTIONS if param not in env and param ! PARAMETER MERGE STRATEGIES if param in ENCRYPTED PARAM NAMES EVENT SINKS env []else env {}
def source tokens source use exact op types False source sourcereadline String I O source .readlinereturn generate tokens readline use exact op types 
def  abi trim seq record start Falsesegment 20trim start 0cutoff 0.05if len seq record < segment return seq recordelse score list [ cutoff - 10 ** qual / -10.0 for qual in seq record annotations quality score [0]for i in range 1 len score list score cummul score -1 ] + score list if score < 0 cummul score 0 else cummul score score if not start trim start istart Truetrim finish cummul score max cummul score return seq record start trim finish 
def coroutine traceback typ value tb all frames traceback tb tb useful frames []for frame in all frames if frame '<string>' and frame 'raise exc info continueelif frame 'tornado/gen.py' and frame in {'run' 'wrapper'} continueelif frame 'tornado/concurrent.py' and frame 'result' continueuseful frames frame tb list [raceback mostrecentcalllast \n']tb list traceback list useful frames tb list traceback exception only typ value return tb list 
def reverse timestamp dt epoch datetime 1970 1 1 td dt - epoch ts td + td + td * 24 * 3600 * 100000 / 100000 return 9223372036854775807 - ts 
def generate etag data return md5 data .hexdigest
def do dictsort value case sensitive False by 'key' if by 'key' pos 0elif by 'value' pos 1else raise Filter Argument Error 'oucanonlysortbyeither def sort func item value item isinstance value string types and not case sensitive value value return valuereturn sorted value key sort func 
def compile To Temp language payload Source if language 'cs' temp Exe Name settings T E M P DIR + '/temp.exe' temp Source Name settings T E M P DIR + '/temp.cs' f open settings T E M P DIR + '/temp.cs' 'w' f payload Source f os 'mcs-platform x86 winexe + temp Source Name + '-out ' + temp Exe Name return temp Exe Name 
def get request unique id http response prepend None uri str http response uri .url string 'utf-8' body str http response isinstance body str unicode body str body str 'utf-8' 'replace'  to hash body str + uri str hash string str hash  to hash hash string + str zlib  to hash if prepend hash string '%s-%s' % prepend hash string return hash string 
def bytes  s encoding 'latin-1' errors 'strict' if isinstance s text type return s encoding errors return s 
def get cosine vec1 vec2 return numpy vec1 vec2 / numpy vec1 * numpy vec2 
def get driver drivers provider deprecated providers None deprecated constants None deprecated providers deprecated providers or {} if provider in deprecated providers url deprecated providers deprecated providers 'rovidernolongersupported %s pleasevisit %s' % url reason raise Exception msg deprecated constants deprecated constants or {} if provider in deprecated constants old name provider new name deprecated constants url 'https //s.apache.org/lc0140un'msg 'roviderconstant Newconstantisnowcalled Formoreinformationonthischangeandhowtomodifyyourcodetoworkwithit pleasevisit %s' % old name new name url raise Exception msg if provider in drivers mod name driver name drivers mod   import   mod name globals locals [driver name return getattr  mod driver name raise Attribute Error 'rovider % provider 
def fix w602 source aggressive True if not aggressive return sourcereturn refactor source [u'raise'] ignore u traceback 
def dominant expr n terms Add args expr func True term0 terms -1 ]comp [term0]for t in terms -1 ] e term0 / t .combsimp l limit seq e n if l is S Zero term0 tcomp [term0]elif l is None return Noneelif l not in [ Infinity - S Infinity ] comp t if len comp > 1 return Nonereturn term0 
@ship.command 'shoot' @click.argument 'ship' @click.argument 'x' type float @click.argument 'y' type float def ship shoot ship x y click 'hip %s' % ship x y 
def  find set type set setinfo  find set info set if setinfo return setinfo Type return False 
def get warning for invalid pattern pattern if isinstance pattern str hint "ryremovingthestring Thelistofurlpatternsshouldnothaveaprefixstringasthefirstelement pattern elif isinstance pattern tuple hint 'ryusingurl insteadofatuple hint Nonereturn [rror 'our U R Lpattern Ensurethaturlpatternsisalistofurl instances pattern hint hint id '004 ]
def list vlans call None if call ! 'function' raise Salt Cloud System Exit 'helist vlansfunctionmustbecalledwith conn get conn service 'oft Layer Account return conn Network Vlans 
def facility type return s3 rest controller 
def dispose resources device device ctx device 
def Get Printable Strs namespace kinds namespace str namespace or '' if kinds kind str 'all%sentities' % ' '.join kinds else kind str ''return namespace str kind str 
def  get name map saltenv u u name map {}name map get repo data saltenv .get u map {} for k in name map u name map u ] name map u name map 
def health node consul url None node None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not node raise Salt Invocation Error 'equiredargument if 'dc' in kwargs query params kwargs 'health/node/{0}'.format node ret  query consul url consul url function function query params query params return ret 
@check event permissionsdef cancel occurrence request event id template name 'schedule/cancel occurrence *args **kwargs event occurrence get occurrence event id *args **kwargs next kwargs 'next' None or get next url request event absolute url if request ! 'POST' return render to response template name {'occurrence' occurrence 'next' next context instance Request Context request occurrence return Http Response Redirect next 
def  handle Legacy Result result if not isinstance result dict warnings 'he Gerritstatuscallbackusestheoldwaytocommunicateresults Theoutcomemightbenotwhatisexpected message verified reviewed resultresult make Review Result message GERRIT LABEL VERIFIED verified GERRIT LABEL REVIEWED reviewed return result 
def query tasks session if session for item in session session task Singleton Import Task None item for task in task created session yield task else for album in session session log u {1}-{2}' album album album items list album for item in items item Noneitem id Nonetask Import Task None [album.item dir ] items for task in task created session yield task 
def thumbnail url link if link thumbnail if hasattr link 'thumbnail url return link urlelse return ''else return ''
def usergroup exists name None node None nodeids None **connection args conn args  login **connection args zabbix version apiinfo version **connection args try if conn args if Loose Version zabbix version > Loose Version '2.5' if not name name ''ret usergroup get name None **connection args return bool ret else method 'usergroup.exists'params {}if not name and not node and not nodeids return {'result' False 'comment' 'leasesubmitname nodeornodeidsparametertocheckifatleastoneusergroupexists name params nameif Loose Version zabbix version < Loose Version '2.4' if node params nodeif nodeids params nodeidsret  query method params conn args conn args return ret raise Key Errorexcept Key Error return False 
def  mdb get database uri **kwargs if not 'tz aware in kwargs kwargs aware Trueconnection factory Mongo Client parsed uri {}try  parsed uri pymongo parser uri uri except pymongo Invalid U R I db name uri conn Mongo Client passelse if 'replicaset' in  parsed uri connection factory Mongo Replica Set Clientdb name  parsed uri 'database' 'pysaml2'  conn connection factory uri **kwargs  db  conn name 'username' in  parsed uri  db  parsed uri 'username' None  parsed uri 'password' None return  db 
def curve n turns phi np 0 2 * np 2000 return [ np phi * 1 + 0.5 * np n turns * phi np phi * 1 + 0.5 * np n turns * phi 0.5 * np n turns * phi ]
def decargs arglist return [s.decode  encoding for s in arglist 
def directory browser request path '/' directories Dojo File Store path dirsonly True root request G E T 'root' '/' .items context directoriescontent json context return Http Response content content type 'application/json'
def import demo csv part2 job id request vars not job id return "rror No Job I D 'stats'output s3 rest controller 'stats' 'demographic data csv stylesheet 'demographic data total Records output Errors output Ignored output gluon import json as jsonsresponse Content Type 'application/json'return jsons {ecords total Records 'rrors total Errors 'gnored total Ignored 
@should dump thread stackdef stop thread stack dump cancel thread SAVE THREAD PTR dump thread stack 
def get edit extensions edit filetypes get edit filetypes return  get extensions edit filetypes + ['']
def   get location conn vm  location config cloud config value 'location' vm    opts   return conn get zone location 
def  assert n free raw sss lower upper None upper lower if upper is None else upper n free raw sss history info info true lower < n free < upper 'nfreefail %s< %s< %s' % lower n free upper 
def  get dev port var backend instance None port var 'BACKEND P O R T % str backend .lower if instance is not None port var '%s.%d' % port var instance return port var 
def ts function context return context date + context interval 
def  git Init path run Command ['git' 'init' path  git Config path 
def  fastq generic in handle out handle mapping from Bio Seq I O Quality I O import Fastq General Iteratorcount 0null chr 0 for title seq old qual in Fastq General Iterator in handle count + 1qual old qual mapping if null in qual raise Value Error 'nvalidcharacterinqualitystring out handle '@%s\n%s\n+\n%s\n' % title seq qual return count 
def dmp neg f u K if not u return dup neg f K v u - 1 return [dmp neg cf v K for cf in f 
def markup join seq buf []iterator imap soft unicode seq for arg in iterator buf arg if hasattr arg '  html  ' return Markup u .join chain buf iterator return concat buf 
def should be retracted retraction return timezone - retraction date > settings R E T R A C T I O N PENDING TIME
def safe str o return  safe Format str o 
def  eat items value iter parts part end char replace char '' current partchunks [current.replace replace char '' ]while True try current six iterator iter parts except Stop Iteration raise Value Error value chunks current replace char '' if current end char breakreturn ' '.join chunks 
def compress signals signals groups group by all reversed signals key lambda sig sig sig signals []def has none signals return any sig is None for sig in signals for link id signals grouped in groups if len signals grouped > 1 and has none signals grouped ] signals signals grouped signals  Signal link None id else signals signals grouped return list reversed signals 
def lz4 encode old kafka payload data lz4 encode payload header size 7if isinstance data int flg data flg ord data content size bit flg >> 3 & 1 if content size bit header size + 8hc xxhash data header size - 1 ] .digest [ -2 -1 ]return ''.join [data[0 header size - 1 ] hc data size ]]
def normalize openstack facts metadata facts facts metadata zone ipv4 metadata compat ' ' [0]facts['network']['ip'] local ipv4facts ip metadata compat f var h var ip var in [ 'hostname' 'hostname' 'local-ipv4' 'public hostname 'public-hostname' 'public-ipv4' ] try if socket metadata compat var metadata compat var facts var metadata compat var facts var metadata compat var socket facts var metadata compat var facts 
def import dashboard config modules config collections dict for module in modules for key submodule in import submodules module .items if hasattr submodule 'DASHBOARD' dashboard submodule D A S H B O A R Dconfig submodule  dict   elif hasattr submodule 'PANEL' or hasattr submodule 'PANEL GROUP' or hasattr submodule 'FEATURE' config  name  ] submodule  dict  else logging "kipping D A S H B O A R D PANEL PANEL GROUP or F E A T U R Edefined submodule  name   return sorted config key lambda c c  name  '].rsplit '.' 1 [1]
def  get and validate course course key string user course key Course Key string course key string course get course and check access course key user if settings F E A T U R E S E N A B L E VIDEO UPLOAD PIPELINE'] and getattr settings 'VIDEO UPLOAD PIPELINE' None and course and course pipeline configured return courseelse return None 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do shelve cs args  find server cs args .shelve
def get Auto Complete List command '' locals None include Magic 1 include Single 1 include Double 1 attributes []root get Root command terminator '.' try if locals is not None object eval root locals else object eval root except Exception passelse attributes get Attribute Names object include Magic include Single include Double return attributes 
def splittag url path delim tag url '#' if delim return path tag return url None 
def  dec from triple sign coefficient exponent special False self object  new   Decimal self sign signself int coefficientself exp exponentself is special specialreturn self 
def mask or clip other clip if isinstance other clip Image Clip other clip other clip isinstance other clip np return clip image lambda f np f other clip else return clip lambda gf t np gf t other clip frame t 
def make biplot scores output taxa output []ndims len taxa header 'axon DCTB ' + ' DCTB '.join [ 'pc%d' % i for i in xrange ndims ] output header for i taxon in enumerate taxa line taxon + ' DCTB ' line + ' DCTB '.join map str taxa output line return output 
def get transactions link campaigns campaigns [c for c in campaigns if c id ! 0 and c id link id ]if not campaigns return {}bids Bid thing id link id bid dict { b b b for b in bids by campaign {c. id bid dict c id c id ] for c in campaigns bids by campaign 
@snippetdef topic exists client to delete TOPIC NAME 'topic exists %  millis topic client TOPIC NAME to delete topic assert not topic topic assert topic 
def  handle precomputed bsgs base strong gens transversals None basic orbits None strong gens distr None if strong gens distr is None strong gens distr  distribute gens by base base strong gens if transversals is None if basic orbits is None basic orbits transversals  orbits transversals from bsgs base strong gens distr else transversals  orbits transversals from bsgs base strong gens distr transversals only True elif basic orbits is None base len len base basic orbits [one * base len for i in range base len basic orbits list transversals return transversals basic orbits strong gens distr 
def matrix product *matrices return reduce matmul matrices 
def get os platform ver sys if ver 'java' import java java System Property 'os.name' .lower print 'platform %s' % ver return ver 
def get poetry host port timeout d defer Deferred from twisted import reactorfactory Poetry Client Factory d timeout reactor T C P host port factory return d 
def test discretize callable 2d def f x y return x ** 2 + y ** 2 actual discretize model f -5 6 -5 6 y x np 11 11 - 5 desired x ** 2 + y ** 2 assert allclose actual desired 
def whiten individuals loop x transform group iter x new []for g in group iter x g x new np transform x g return np x new 
def  psd func epoch noverlap nfft fs freq mask func return func epoch fs fs nperseg nfft noverlap noverlap nfft nfft window 'hann' [2][... freq mask ]
def Get Java Source Dirs target list target dicts toplevel dir for target name in target list target target dicts name action in target 'actions' [] for input  in action if os input  [1] '.java' and not input .startswith '$' dir  os os os target name input  parent search dir while os parent search not in ['src' 'java'] parent search _ os parent search if not parent search or parent search toplevel dir yield dir  breakelse yield parent search 
def  test owner kwargs user None if user return userif 'owner' in kwargs log 'seofargumentownerfound "owner"isinvalid pleaseuse return kwargs user 
def descr From Doc obj if obj  doc   is None or obj  doc  .isspace return Nonelines [x.strip for x in obj  doc  .split '\n' if x and not x ]return ''.join lines 
def  get size fileno import fcntlimport termiosbuf array 'h' if six P Y2 else u [0 0 0 0] fcntl fileno termios T I O C G W I N S Z buf return buf buf 
def dispatch environ start response mapper result mapper environ environ if result is None raise webob H T T P Not Found json formatter util error formatter handler result 'action' environ args result return handler environ start response 
def cleanup staging area staging path if os staging path shutil staging path 
def parse plain scalar indent Token Class def callback lexer match context text match if len text < context context context returnif text yield match Token Class text context match return callback 
def send patch self path data u content type u follow False **extra from django import Clientresponse super Client self .patch path data data content type content type **extra if follow response self handle redirects response **extra return response 
def create engine *args **kwargs strategy kwargs 'strategy' default strategy strategy strategies strategy *args **kwargs
def  solve as rational f symbol domain f together f deep True g h fraction f if not h symbol return  solve as poly g symbol domain else valid solns  solveset g symbol domain invalid solns  solveset h symbol domain return valid solns - invalid solns 
def  read spec tests path b common path u unicode b encoding FILE ENCODING spec data parse u tests spec data []for data in tests case  deserialize spec test data path cases case return cases 
def google channel settings auth google if not channel redirect URL f 'user' args request vars get vars from s3oauth import Google Plus Accountauth form Google Plus Account channel form auth return {'form' form 
def load vector *names return pkg resources string   name   os 'testdata' *names
def get file filename return os TEST DIR filename 
def get limit choices to from path model path fields get fields from path model path fields remove trailing data field fields limit choices to fields and hasattr fields -1 ] u and getattr fields -1 ].rel u choices to None if not limit choices to return models Q elif isinstance limit choices to models Q return limit choices toelse return models Q **limit choices to 
def bad function unknown module self context from lxml import etreex etree '<hello/>' x None 
def do Auth realm return digest Auth realm + '' + basic Auth realm 
def create grid mesh xs ys zs shape xs shape * shape vertices np length 3 vertices 0] xs length vertices 1] ys length vertices 2] zs length basic indices np [0 1 1 + shape 0 0 + shape 1 + shape ] dtype np inner grid length shape - 1 * shape - 1 offsets np inner grid length offsets + np np shape - 1 shape - 1 offsets np offsets 6 indices np basic indices len offsets + offsets indices indices len indices // 3 3 return vertices indices 
def resolve duplicates session task if task flag in action A S I S action A P P L Y ident task ident found duplicates task duplicates session if ident in session idents or found duplicates session duplicate task found duplicates session choice task True session idents ident 
@cli app 'create-db' @click.option '--app' default 'app' help 'ourapplicationinitdirectory package ' @click.option '--appbuilder' default 'appbuilder' help 'pp Builderobject def create db app appbuilder from flask appbuilder import Base appbuilder import application app appbuilder engine  appbuilder session bind mapper None clause None Base all engine click click ' Bobjectscreated fg 'green'
def get form params data frappe dict frappe dict del data isinstance data u basestring data json data if isinstance data u basestring data json data if isinstance data u basestring data json data if isinstance data u list settings basestring data list settings json data list settings else data list settings Truedata Nonereturn data 
@cronjobs.registerdef reindex users that contributed yesterday if settings S T A G E returntoday datetime yesterday today - timedelta days 1 user ids list Answer created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision reviewed  gte yesterday reviewed  lt today .values list 'reviewer id flat True index task User Mapping Type list set user ids 
def  parse prefix as idd idd pattern number match idd pattern number if match match end match digit match  CAPTURING DIGIT P A T T E R N number end ] if digit match normalized group normalize digits only digit match 1 if normalized group U ZERO return False number return True number end ] return False number 
def str or none val return str val if val is not None else None 
def filter section bears by languages bears languages new bears {}languages set language for language in languages | {'all'} for section in bears new bears tuple bear for bear in bears if {language.lower for language in bear L A N G U A G E S & languages return new bears 
def try passwordless ssh server keyfile paramiko None if paramiko is None paramiko sys 'win32' if not paramiko f  try passwordless opensshelse f  try passwordless paramikoreturn f server keyfile 
def abort global   S C H E Dif   SCHED logging 'erminatingscheduler   S C H E D False 
def  split p dash  allow M O S F S Names and p 1] '-' if dash q string p '-' 1 + 1 elif p 1] ' ' q 0else q string p ' ' + 1 s string p '#' if s -1 or s > q s qelse for c in p s if c not in string letters q 0breakr qif p q + 1 ] ' ' r string p '.' q + 1 + 1 if r 0 r len p return p q p r p ]
@check login required local site accessdef submitter request username grid None template name u local site None if local site try user local site username username except User Does Not Exist raise Http404else user get object or 404 User username username if grid is None or grid u datagrid cls User Page Review Request Data Gridelif grid u datagrid cls User Page Reviews Data Gridelse raise Http404datagrid datagrid cls request user local site local site datagrid [ User Page Review Request Data Grid title local site reverse u local site local site args [username] User Page Reviews Data Grid title local site reverse u local site local site args [username u ]return datagrid to response template name 
def  match names pattern names result []for name in names match pattern name if match result name match 'name' return result 
def  accessible courses list from groups request def filter ccx course access ' C Xscannotbeeditedin Studioandshouldnotbeshowninthisdashboard not isinstance course access id C C X Locator courses list {}in process course actions []instructor courses User Based Role request Course Instructor Role R O L E .courses with role staff courses User Based Role request Course Staff Role R O L E .courses with role all courses filter filter ccx instructor courses | staff courses for course access in all courses course key course access idif course key is None raise Access List Fallbackif course key not in courses list in process course actions Course Rerun State all exclude args {'state' Course Rerun U I State Manager State S U C C E E D E D should display True course key course key try course modulestore .get course course key except Item Not Found Error passif course is not None and not isinstance course Error Descriptor courses list key coursereturn courses list in process course actions 
def add Heights By Bitmap heights text Lines for line in text Lines ] for integer Word in line heights float integer Word 
def flavor get by flavor id context id read deleted None return I M P L get by flavor id context id read deleted 
def flush time return logs buffer .flush time 
def digamma x return polygamma 0 x 
def get mode path if not os path return ''func name '{0}.get mode   virtualname   if   opts  .get 'fun' '' func name log 'hefunction Windowssystems Thevaluereturnedisalways None func name return None 
def tap registry xml parent data tap X M L Sub Element xml parent 'ap Publisher tap 'plugin' 'tap' mappings [ 'results' 'esults None 'fail-if-no-results' 'f No Results False 'failed-tests-mark-build-as-failure' 'ests Mark Build As Failure False 'output-tap-to-console' 'ap To Console True 'enable-subtests' 'ubtests True 'discard-old-reports' 'ld Reports False 'todo-is-failure' 's Failure True 'include-comment-diagnostics' 'omment Diagnostics False 'validate-tests' 'umber Of Tests False 'plan-required' 'equired True 'verbose' 'verbose' True 'show-only-failures' 'nly Failures False ]helpers.convert mapping to xml tap data mappings fail required True 
def hqic llf nobs df modelwc return -2.0 * llf + 2 * np np nobs * df modelwc 
def recently changed packages activity list html context data dict activity stream recently changed packages activity list context data dict offset int data dict 'offset' 0 extra vars {'controller' 'package' 'action' 'activity' 'offset' offset activity streams list to html context activity stream extra vars 
def url concat url args parsed url urlparse url if isinstance args dict parsed query parse qsl parsed url keep blank values True parsed query args elif isinstance args list or isinstance args tuple parsed query parse qsl parsed url keep blank values True parsed query args else err "'args'parametershouldbedict listortuple Not type args raise Type Error err final query urlencode parsed query url urlunparse parsed url parsed url parsed url parsed url final query parsed url return url 
def  process mass form f def wrap request *args **kwargs 'rap 'massform' in request P O S T for key in request P O S T if 'mass-order' in key try order Sale Order pk request P O S T form Mass Action Form request request P O S T instance order if form valid and request permission order mode 'w' form except passreturn f request *args **kwargs wrap  doc   f  doc  wrap  name   f  name  return wrap 
def srepr expr **settings return Repr Printer settings .doprint expr 
def dmp list terms f u K order None def sort terms O return sorted terms key lambda term O term reverse True terms  rec list terms f u if not terms return [ 0 * u + 1 K ]if order is None return termselse return sort terms monomial key order 
def grad sources inputs sources inputs if inputs is None inputs theano [source[0] for source in sources return dict izip inputs theano cost None known grads dict sources wrt inputs consider constant inputs 
def get page models return PAGE MODEL CLASSES
def assert not has text output text assert output text < 0 "utputfilecontainsunexpectedtext % text 
def test dirname return os   file  
def test table groups array index T1 for masked in False True t1 Table T1 masked masked .group by 'a' t2 t1 [0 2] ]assert len t2 2 assert t2 t1 assert t2 t1 assert np t2 np [0 2]
@api versions '2.26' @utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do server tag delete all cs args server  find server cs args server all tags 
def admin media prefix try from django import settingsexcept Import Error return ''return iri to uri settings A D M I N MEDIA PREFIX
def integer to term k n bits None s '{0 0{1}b}'.format abs as int k as int abs n bits or 0 return list map int s 
def  process exists pid try os pid 0 except O S Error return Falsereturn True 
def get computer sleep ret salt utils return result 'systemsetup-getcomputersleep' return salt utils return ret 
def get change advanced settings id list user site check global True use cache True page ids  get page ids for action user user site site action 'change page advanced settings check global check global use cache use cache return page ids 
def disconnect Net To Ms Facility presence 0 Progress Indicator presence 0 User User presence 0 Allowed Actions presence 0 a Tp Pd pd 3 b Message Type mes Type 37 c Cause packet a / b / c if Facility presence is 1 d Facility Hdr iei F 28 eight Bit F 0 packet packet / d if Progress Indicator presence is 1 e Progress Indicator Hdr iei P I 30 eight Bit P I 0 packet packet / e if User User presence is 1 f User User Hdr iei U U 126 eight Bit U U 0 packet packet / f if Allowed Actions presence is 1 g Allowed Actions Hdr iei A A 123 eight Bit A A 0 packet packet / g return packet 
def header quopri len s count 0for c in s if hqre c count + 3else count + 1return count 
def redirect back url source domain parse data urlparse url domain parse data parse data source domain in domain or domain in source domain return urlquery item parse qs query if query item 'url' return query item url 
def  build status data item stream item 'unningin in stream data 'ntermediate Containers [] .append stream .split [ -1 ] if 'uccessfullybuilt in stream data Id stream .split [ -1 ]
def getnodes tree if isinstance tree tuple name subtree treeab [name]al []if len subtree 1 adeg [name]else adeg []for st in subtree b l d getnodes st ab b al l adeg d return ab al adeg return [] [tree] []
def label absent name node None apiserver None ret   salt  ['k8s.label absent name node apiserver return ret 
def wf global  wfif  wf is None  wf workflow Workflow return  wf 
def get plugin media path instance filename return instance media path filename 
def Error Msg import tracebacktype value tb limit None type value tb sys info list traceback tb tb limit + traceback exception only type value return 'raceback innermostlast \n' + '%-20s%s' % string list -1 ] '' list -1 ]
def test cache config enable private browsing config stub tmpdir config stub {'storage' {'cache-size' 1024} 'general' {'private-browsing' False cache cache Disk Cache str tmpdir assert disk cache Size 0 preload cache disk cache assert disk cache Size > 0 config stub 'general' 'private-browsing' True assert disk cache Size 0
def  contains yieldpoint children if isinstance children dict return any isinstance i Yield Point for i in children if isinstance children list return any isinstance i Yield Point for i in children return False 
def show model changes new old None fields None always False old old or new db get type new new changes []for field in old if field 'mtime' or fields and field not in fields continueline  field diff field old new if line changes u {1}'.format field line for field in set new - set old if fields and field not in fields continuechanges u {1}'.format field colorize 'text highlight new [field] if changes or always print  format old if changes print  u changes return bool changes 
def random mac request virttype 'xenpv' if not test user authenticated request return login request expired True random mac remote random mac virttype request return Http Response random mac 
def test sobel v mask np 0 result filters v np size 10 10 np 10 10 bool assert allclose result 0
def candlestick ax quotes width 0.2 colorup 'k' colordown 'r' alpha 1.0 OFFSET width / 2.0 lines []patches []for q in quotes t open close high low q 5]if close > open color coloruplower openheight close - open else color colordownlower closeheight open - close vline Line2 D xdata t t ydata low high color 'k' linewidth 0.5 antialiased True rect Rectangle xy t - OFFSET lower width width height height facecolor color edgecolor color rect alpha alpha lines vline patches rect ax line vline ax patch rect ax view return lines patches 
def create document editor user User get user model user user created User or create username 'conantheeditor' defaults dict email 'user %s@example.com' is active True is staff False is superuser False if user created user password 'testpass' user [create document editor group ]user.save return user 
def  is printable char category unicodedata char return not category 'C' and not category 'Z' or category 's 
def p specifier qualifier list 4 t pass 
def supports librabbitmq if  detect environment u try import librabbitmqexcept Import Error passelse return True 
def success renewal domains z util interfaces I Display .notification 'ourexistingcertificatehasbeensuccessfullyrenewed andthenewcertificatehasbeeninstalled Thenewcertificatecoversthefollowingdomains {oushouldtestyourconfigurationat {1}{2}'.format  gen https names domains os os  gen ssl lab urls domains pause False 
def  get tag repo name try return [x for x in  all tags repo if x name ][0]except Index Error return False 
def setup custom perms parent if not frappe u Custom Doc Perm dict parent parent copy perms parent return True 
def prep pickle for total df agg name 'median' def prep df agg getattr df agg name df Data Frame agg 1 cols list df cols 'timing'df.columns colsdf list df return dfreturn prep df 
def  inherit doc cls def func fn fn  doc   cls  dict  [fn.  name  ].  doc  return fnreturn func 
def p relational expression 3 t pass 
def  get subproject script location subproject entrypoint  get installed entrypoint subproject return ' '.join [entrypoint.module name entrypoint 
def parse date delta value if not value return Nonetry value int value except Value Error return parse date value else return  now + timedelta seconds value 
def  is random access file backed fileobj return isfile fileobj or isinstance fileobj gzip Gzip File 
def get files addon guids addons Addon guid  in addon guids status  in amo V A L I D ADDON STATUSES files []for addon in addons files + addon latest version amo R E L E A S E CHANNEL LISTED .unreviewed filesreturn files 
def  get storage model storage model settings getattr django 'GOOGLE OAUTH2 STORAGE MODEL' None if storage model settings is not None return storage model settings storage model settings property storage model settings property else return None None None 
def parse positional flags source info flags on flags off version info &  ALL VERSIONS or DEFAULT VERSION if version VERSION0 if flags off raise error 'badinlineflags cannotturnflagsoff source source new global flags flags on & ~ info flags if new global flags info flags | new global flagsraise  Unscoped Flag Set info flags else info info | flags on & ~ flags off source space bool info & VERBOSE
def test make function with signature lineno def crashy function *args **kwargs 1 / 0 wrapped make function with signature crashy function u u line u make function with signature crashy function 'a' 'b' \n".strip try wrapped 1 2 except Exception exc cls exc tb sys info assert exc cls is Zero Division Error tb lines traceback tb tb assert u in tb lines -1 ] assert line in tb lines -2 ] and u ' not in tb lines -2 ] else pytest u Thisshouldhavecausedanexception 
def port2string port return struct '>H' port 
def match document topic None result key None result relative url '/ ah search result task queue 'default' result batch size DEFAULT RESULT BATCH SIZE result return document True from google import dbrequest prospective search pb Match Request if isinstance document db Model topic  get document topic document topic doc pb db to protobuf document if result return document request result python document class  doc class M O D E L elif isinstance document datastore Entity topic  get document topic document topic doc pb document To Pb if result return document request result python document class  doc class E N T I T Y else raise Document Type Error request topic topic request document .opy From doc pb if result key request result key result key request result relative url result relative url request result task queue result task queue request result batch size result batch size response prospective search pb Match Response  make sync call 'matcher' 'atch request response 
def success request message extra tags '' fail silently False add message request constants S U C C E S S message extra tags extra tags fail silently fail silently 
def split into n type value parts [x.strip for x in value ';' n - 1 ]if sum 1 for part in parts if part < n raise Value Error 'invalid%sindexentry%r' % type value return parts 
def parse cache control header value on update None cls None if cls is None cls Request Cache Controlif not value return cls None on update return cls parse dict header value on update 
def xml prettify elem text E T elem 'utf-8' reparsed minidom String text return reparsed indent ''
def add member into chatroom self chatroom User Name member List use Invitation False if not use Invitation chatroom self Class chatrooms user Name chatroom User Name if not chatroom chatroom self chatroom chatroom User Name if len chatroom Member List > self Info Invite Start Count use Invitation Trueif use Invitation fun member Key Name 'invitemember' 'nvite Member List else fun member Key Name 'addmember' 'dd Member List url '%s/webwxupdatechatroom?fun %s&pass ticket %s' % self Info fun self Info ticket params {ase Request self Info Base Request 'hat Room Name chatroom User Name member Key Name ' '.join [ser Name for member in member List }headers {'content-type' 'application/json;charset UTF-8' 'ser Agent config U S E R A G E N T self url data json params headers headers return Return Value raw Response r 
def roster opts runner whitelist None return Lazy Loader  module dirs opts 'roster' opts tag 'roster' whitelist whitelist pack {'  runner  ' runner 
def get One Address results return get One Payload results .uad 
def create or update tool dependency app tool shed repository name version type status set status True context app model version tool dependency get tool dependency by name version type repository app tool shed repository name version type else tool dependency get tool dependency by name type repository app tool shed repository name type if tool dependency if set status set tool dependency attributes app tool dependency tool dependency status status else debug msg 'reatinganewrecordforversion % str version str name str tool shed repository revision str tool shed repository debug msg + 'hestatusisbeingsetto % str status log debug msg tool dependency app model Tool Dependency tool shed repository name version type status context tool dependency context return tool dependency 
def  get version from git tag path m GIT DESCRIBE R E G E X  git describe tags path or '' if m is None return None version post commit hash m return version if post commit '0' else '{0}.post{1}+{2}'.format version post commit hash 
def set pricing driver type driver name pricing PRICING D A T A type name pricing 
def DEFINE boolean name default help C O N F I G Add Option type info Bool name name default default description help 
def date to key date return int date ' 
@check is trading as api Execution Context phase EXECUTION PHASE.HANDLE BAR EXECUTION PHASE.SCHEDULED def order target percent id or ins percent style None order book id assure order book id id or ins bar dict Execution Context current bar dict price bar dict book id get simu exchange .account.portfolio.positions[order book id value position * price portfolio value get simu exchange .account.portfolio.portfolio valuereturn order value order book id portfolio value * percent - current value style 
def  log file list list name in path file names '\n'.join file list L O G 'iscovered s in \n{3}\n'.format len file list list name in path file names 
def gf crt U M K None p prod M start K v K u m in zip U M e p // m s _ _ K e m v + e * u * s % m return v % p 
def save child position seq module child name for position child in enumerate seq module display items start 1 if child child name if position ! seq module seq module positionseq module 
def read packet data local sock remote addr opcode unpack '!H' data 2] if opcode < 1 or opcode > 6 logging 'nknownrequestid % opcode remote addr local sock E R R O R Packet 0 'nknownrequest .marshall remote addr return Noneif R E Q U E S T S R E Q CLASS] is None if opcode ! TFTP OPCODE ERROR logging 'nsupportedrequest %s from % opcode R E Q U E S T S R E Q NAME] remote addr local sock E R R O R Packet 2 'nsupportedrequest .marshall remote addr return Nonetry return R E Q U E S T S R E Q CLASS] data local sock remote addr except return None 
def virtual interface list provider names **kwargs client  get client return client action provider provider names names action 'virtual interface list **kwargs
def fmt docstr docstr docstr '\n' '' docstr docstr return docstr 
def find media source url while url '/' url url ]d os os os os n j d d   file   'skins' try media os skins settings O S Q A DEFAULT SKIN url assert f media use skin settings O S Q A DEFAULT S K I Nexcept try media j skins 'default' url assert f media use skin 'default'except media j skins 'common' url try assert f media use skin 'common'except logging 'couldnotfindmediafor%s' % url use skin ''return Nonereturn use skin + '/' + url 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def send moderator action email sender id recipient id intent exploration title email body require moderator email prereqs are satisfied email config feconf V A L I D MODERATOR A C T I O N S user settings user services user settings recipient id sender user settings user services user settings sender id email subject feconf V A L I D MODERATOR A C T I O N S subject fn exploration title email salutation html email config salutation html fn recipient user settings email signoff html email config signoff html fn sender user settings full email content '%s<br><br>%s<br><br>%s<br><br>%s' % email salutation html email body email signoff html EMAIL F O O T E R  send email recipient id sender id intent email subject full email content feconf S Y S T E M EMAIL ADDRESS bcc admin True 
def is valid ipv6 address address allow brackets False if allow brackets if address '[' and address ']' address address -1 ]colon count address ' ' if colon count > 7 return Falseelif colon count ! 7 and ' ' not in address return Falseelif address ' ' > 1 or ' ' in address return Falsefor entry in address ' ' if not re ' 4}$' entry return Falsereturn True 
def add entrance exam milestone course entrance exam namespace choices get namespace choices milestone relationship types get milestone relationship types milestone namespace generate milestone namespace namespace choices 'ENTRANCE EXAM' course milestone add milestone {'name' 'est Milestone 'namespace' milestone namespace 'description' 'esting Courseware Entrance Exam Chapter add course milestone unicode course milestone relationship types R E Q U I R E S milestone add course content milestone unicode course unicode entrance exam milestone relationship types F U L F I L L S milestone 
def iso to javascript timestamp iso secs iso to unix time iso return secs * 1000
def  int To Bin val if val < 0 raise Value Error 'nlypositive Valuesallowed s hex val .lower ret ''if s -1 ] 'l' s s -1 ]for x in s ] if   debug   if x not in  Bit Table raise Assertion Error 'hex returnedstrangeresult ret +  Bit Table ret '0' and len ret > 1 ret ret ]return ret 
def isqref object return isinstance object tuple and len object 2 and isinstance object basestring and isinstance object basestring 
def is solution quad var coeff u v reps dict zip var u v eq Add *[ j * i reps for i j in coeff ] return  mexpand eq 0
def moments image order 3 return  moments cy central image 0 0 order 
@frappe.whitelist def get opening accounts company accounts frappe list u DCTB DCTB DCTB namefromtab Account DCTB DCTB where DCTB DCTB DCTB is group 0and\n DCTB DCTB DCTB report type 'alance Sheet DCTB DCTB DCTB ifnull warehouse '' ''and\n DCTB DCTB DCTB company %s\n DCTB DCTB orderbynameasc company return [{u'account' a u get balance on a } for a in accounts 
def supports firefox file obj apps file obj if not file obj components and not file obj compatibility return apps max  application  in SIGN FOR APPS max  version int  gte version int settings M I N D2C VERSION else return apps max  application  in [ I R E F O X amo A N D R O I D max  version int  gte version int settings M I N NOT D2C VERSION
def  norm version version build '' l string version '.' if build l build try ints map int l except Value Error strings lelse strings map str ints version string strings 3] '.' return version 
def error from serialization exception exception included False type  collection name get model exception id  primary key value exception if exception is not None detail exception resource 'includedresource' if included else 'resource' detail 'ailedtoserialize I D detail resource type  id  return error status 500 detail detail 
def  get job dict from job model model return {'id' model 'time started msec model started msec 'time finished msec model finished msec 'status code model code 'job type model type 'is cancelable model cancelable 'error' model 'human readable time started '' if model started msec is None else utils human readable time string model started msec 'human readable time finished '' if model finished msec is None else utils human readable time string model finished msec }
def get wsgi application django set prefix False return W S G I Handler 
def get page args pages {}for arg in request re match re 'page  .* ' arg if re match pages match int request arg return pages 
def  cast to array dtype in1 in2 if numpy in2 numpy in1 in1 in2 else in1 in1 in2 return in1 
def format Exception exctype value tb skip 0 lines traceback exception exctype value tb lines [lines[0]] + traceback stack [ - skip + 1 ] + ['---exceptioncaughthere---\n'] + lines ] return lines 
def  in x y try return x y except Attribute Error if is list like x try return y x except Attribute Error passreturn x in y 
def  check for unavailable sdk  config vars cflags  config vars 'CFLAGS' '' m re '-isysroot\\s+ \\S+ ' cflags if m is not None sdk m 1 if not os sdk for cv in  UNIVERSAL CONFIG VARS if cv in  config vars and cv not in os flags  config vars re ' ? \\s|$ ' '' flags  save modified value  config vars cv flags return  config vars 
def print Connections switches for sw in switches output '%s ' % sw for intf in sw List link intf link intf1 intf2 link link remote intf1 if intf1 ! sw else intf2 output '%s %s ' % remote sw output '\n'
def custom forward app mapper global conf None **kw warnings 'errordocuments.custom forwardhasbeendeprecated Status Based Forward Deprecation Warning 2 if global conf is None global conf {}return  Status Based Redirect app mapper global conf **kw
def is python interpreter filename real filename os filename if not osp real filename or encoding text file real filename or not is python interpreter valid name filename return Falsetry proc run program filename ['-h'] output to text string proc [0] valid 'ptionsandarguments andcorrespondingenvironmentvariables 'if 'usage ' in output and valid in output return Trueelse return Falseexcept return False 
def reset output state None  state 
def colorize image hue saturation 1 hsv color image hsv 1] saturationhsv 0] huereturn color hsv 
def set emerge default opts value return set var 'EMERGE DEFAULT OPTS' value 
def Canonical Path To Local Path path return utils Smart Str utils Normalize Path path 
def get Largest Center Outset Loop From Loop loop radius threshold Ratio 0.9 if radius 0.0 return loopradius abs radius points get Points From Loop loop radius threshold Ratio centers get Centers From Points points global Intercircle Multiplier * radius largest Center Outset Nonelargest Outset Area -987654321.0 for center in centers outset get Simplified Inset From Clockwise Loop center radius if is Large Same Direction outset center radius if euclidean Path Inside Loop loop outset ! euclidean Widdershins loop center Outset Center Outset center outset outset Area abs euclidean Area Loop outset if outset Area > largest Outset Area largest Outset Area outset Arealargest Center Outset center Outsetif largest Center Outset None return Nonelargest Center Outset euclidean Simplified Loop largest Center Outset radius return largest Center Outset 
@must have addon SHORT NAME 'node' @must be addon authorizer SHORT NAME def figshare folder list node addon **kwargs return node addon folders 
@lower builtin 'is' types Any types Any def generic is context builder sig args lhs type rhs type sig lhs type rhs type if lhs type raise Not Implemented Error 'nodefault`is`implementation' else try eq impl context function ' ' sig except Not Implemented Error return cgutils bitelse return eq impl builder args else return cgutils bit 
def upper s return s 
def  preparse source f compose  replace locals  replace booleans  rewrite assign assert callable f 'fmustbecallable'return tokenize lmap f tokenize string source 
def  assert shielding raw sss erm power shielding factor meg 'mag' picks pick types raw sss meg meg ref meg False if isinstance erm power Base Raw picks erm pick types raw sss meg meg ref meg False assert allclose picks picks erm erm power np erm power erm ** 2 .sum sss power raw sss sss power np np sss power * sss power factor erm power / sss power assert true factor > shielding factor 'hieldingfactor % factor shielding factor 
def type  return Rebulk .rules Type Processor 
def Codesearch Feed From String xml string return atom Create Class From X M L String Codesearch Feed xml string 
@removals.remove message 'sekeystoneauth version '2.1.0' removal version '3.0.0' def load from conf options conf group **kwargs if conf section group conf sectionname conf pluginif not name return Noneplugin class base plugin class name plugin class conf options conf group return plugin class from conf options conf group **kwargs
def get File Paths By Directory directory Name absolute Directory Path os directory Name directory os directory Name file Paths []for file Name in directory file Paths os absolute Directory Path file Name return file Paths 
@locked functiondef store in cache cache location url response hpath bpath calculate cache path cache location url try outf open hpath 'wb' headers str response outf headers outf outf open bpath 'wb' outf response outf except I O Error return Trueelse return False 
def served url r requests url allow redirects False return r code 200
def remove datasource jboss config name profile None log ' MODULEFUNCTION jboss7 datasource name %s profile %s' name profile operation '/subsystem datasources {name} remove name name if profile is not None operation '/profile "{profile}"'.format profile profile + operation return   salt  ['jboss7 cli operation jboss config operation fail on error False 
def  millis to datetime millis opts diff millis % 1000 + 1000 % 1000 seconds millis - diff / 1000 micros diff * 1000 if opts aware dt EPOCH AWARE + datetime seconds seconds microseconds micros if opts dt dt opts return dtelse return EPOCH NAIVE + datetime seconds seconds microseconds micros 
def checks run recently request ten mins datetime .replace tzinfo utc - timedelta minutes 10 most recent Status Check Result time complete  gte ten mins if most recent return Http Response 'hecksrunning return Http Response 'hecksnotrunning 
def parse dmraid rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--name' dest 'name' action 'store' parser argument '--dev' dest 'dev' action 'store' args clean args vars parser args rules parser Nonereturn args 
def compute precision tp fp precision tp / T 1.0 tp + fp return precision 
def Fake Readlink path raise O S Error errno E I N V A L 'nvalidargument path 
def create or resurrect store f parent name translation project try store Store parent parent name name store save False resurrect units False store log user 'system' action STORE RESURRECTED path store path store store except Store Does Not Exist store Store file f parent parent name name translation project translation project return store 
def fill stmt iterable fill len fill len + 1overflow Noneit iter iterable while True buffer  []total len 0if overflow buffer .append overflow total len + len overflow + 1 overflow Nonewhile total len < fill len try new item it buffer .append new item total len + len new item + 1 except Stop Iteration if buffer  breakif overflow yield overflow returnif total len > fill len overflow buffer .pop total len - len overflow - 1 ret ''.join buffer  assert len ret < fill len yield ret 
def  is nthpow residue bign a n m if primitive root m is None for prime power in factorint m .items if not  is nthpow residue bign prime power a n prime power return Falsereturn Truef totient m k f // igcd f n return pow a k m 1
def capacity indicator return s3 rest controller 
def Login Redirect login url hostname port relative url outfile hostname os N G I N X H O S T os N G I N X P O R T url 'http //%s %s%s' % hostname port relative url redirect url 'http //%s %s%s?%s %s' % hostname port login url CONTINUE PARAM urllib dest url outfile 'tatus 3equireslogin output headers []output headers Clear User Info Cookie for header in output headers outfile header outfile 'ocation %s\r\n\r\n' % redirect url 
def  P P I Guess Payload Class p **kargs if len p > 4 t pfh len struct '<HH' p 4] cls get P P I Type t 'default' pfh len + 4out cls p pfh len **kargs if out out conf layer out if len p > pfh len out conf layer p len ] elif len p > pfh len out conf layer p len ] else out conf layer p **kargs return out 
def fuzzy and args rv Truefor ai in args ai fuzzy bool ai if ai is False return Falseif rv rv aireturn rv 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def to query str params comma delimited lists True prefix True if not params return ''query str '?' if prefix else '' for k v in params if v is True v 'true'elif v is False v 'false'elif isinstance v list if comma delimited lists v ' '.join map str v else for list value in v if list value is True list value 'true'elif list value is False list value 'false'else list value str list value query str + k + ' ' + list value + '&' continueelse v str v query str + k + ' ' + v + '&' return query str -1 ]
def trim internal x axes olist []for i bd in enumerate x ilist []for d in bd ilist d - axes i 0 * 2 olist tuple ilist chunks tuple olist return map blocks partial chunk axes axes x chunks chunks dtype x 
def  find peaks evoked npeaks from scipy import argrelmaxgfp evoked axis 0 order len evoked // 30 if order < 1 order 1peaks argrelmax gfp order order axis 0 [0]if len peaks > npeaks max indices np gfp [ - npeaks ]peaks np peaks indices times evoked len times 0 times [evoked.times[gfp.argmax ]]return times 
def parse stories lines only supporting False data []story []for line in lines line line 'utf-8' .strip nid line line '' 1 nid int nid if nid 1 story []if ' DCTB ' in line q a supporting line ' DCTB ' q tokenize q substory Noneif only supporting supporting map int supporting substory [story[ i - 1 ] for i in supporting substory [x for x in story if x substory q a story '' else sent tokenize line story sent return data 
def abort global   S C H E Dif   SCHED logging 'erminatingscheduler   S C H E D False 
def get Top Stories max Results None hdr {ser Agent 'ozilla urllib2 Request URL headers hdr page urllib2 req .read soup Beautiful Soup page matches soup All 'td' class  'title' matches [m.a for m in matches if m and m ! u More ]matches [ N Story m m for m in matches max Results num stories min max Results len matches return random matches num stories return matches 
def estimate location a scale norm None axis 0 initial None maxiter 30 tol 1e-06 if norm is None norm Huber T if initial is None mu np a axis else mu initialfor iter in range maxiter W norm a - mu / scale nmu np W * a axis / np W axis if np np np mu - nmu scale * tol return nmuelse mu nmuraise Value Error 'locationestimatorfailedtoconvergein%diterations' % maxiter 
def  unpack asf image data type size struct from '<bi' data pos 5mime ''while data pos + 2 ] ! '\x00\x00' mime + data pos + 2 ]pos + 2pos + 2description ''while data pos + 2 ] ! '\x00\x00' description + data pos + 2 ]pos + 2pos + 2image data data pos + size ]return mime 'utf-16-le' image data type description 'utf-16-le'
def detectencoding unicode input final False prefix '@charset"'if input prefix pos input '"' len prefix if pos > 0 return input prefix pos True elif final or not prefix input return 'utf-8' False return None False 
def show subnet subnet profile None conn  auth profile return conn subnet subnet 
def first non none response responses default None for response in responses if response is not None return response default 
def get boulder header key bytes pub hex pub exp re 'modulus \\n\\s+00 [a-f0-9\\ \\s]+? \xponent [0-9]+ ' key bytes 'utf8' re M U L T I L I N E | re D O T A L L .groups pub exp '{0 x int pub exp pub exp '0{0}'.format pub exp if len pub exp % 2 else pub exp header {'alg' 'RS256' 'jwk' {'e'  b64 binascii pub exp 'utf-8' 'kty' 'RSA' 'n'  b64 binascii re ' \\s| ' '' pub hex .encode 'utf-8' }}return header 
def OPTIMIZE writer segments from whoosh import Segment Readerfor seg in segments reader Segment Reader writer writer seg writer reader reader reader return []
def plotting positions data alpha 0.4 beta 0.4 data ma data copy False .reshape 1 -1 n data plpos np data dtype float plpos ] 0plpos[data.argsort [ n np 1 n + 1 - alpha / n + 1.0 - alpha - beta return ma plpos mask data mask 
def download video youtube id format 'mp4' callback None download url 'http //%s/download/videos/' % settings C E N T R A L SERVER HOST + '%s/%s' return videos video youtube id settings C O N T E N T ROOT download url format callback 
def simulate request app method 'GET' path '/' query string None headers None body None file wrapper None params None params csv True if not path '/' raise Value Error "pathmuststartwith'/'" if query string and query string '?' raise Value Error "query stringshouldnotstartwith if '?' in path raise Value Error 'leaseusethequery stringparameterinstead if query string is None query string to query str params comma delimited lists params csv prefix False env helpers environ method method path path query string query string or '' headers headers body body file wrapper file wrapper srmock Start Response Mock validator wsgiref app iterable validator env srmock result Result iterable srmock srmock return result 
def get assignment type user group course cohort user group course cohort type 
def first found apps apps tuple apps not found error httplib N O T FOUND def first found app environ start response 'ompoundapplicationreturnedfromthefirst foundfunction result {}def first found start response status response headers "eplacementforstart responseaspassedintofirst found app Calledbyeachapplicationinappsinsteadoftherealstartresponse Checkstheresponsestatus andifanythingotherthan404 sets headers result match  STATUS P A T T E R N status assert status match 'tatusmustbeastringbeginningwith3digitnumber Found %s' % status status code status match 0 if int status code httplib N O T FOUND returnfinal result statusfinal result headers response headersfor app in apps response app environ first found start response if final result start response final result final result headers return responsereturn not found environ start response return first found app 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def get Memory Size try statm open '/proc/self/statm' .readline .split except I O Error return Nonereturn int statm * PAGE SIZE
@bdd.given bdd 'open def open path given quteproc path quteproc path path new tab True 
def validate column specs events next value columns previous value columns required required event fields next value columns previous value columns received set events missing required - received if missing raise Value Error 'vents Loadermissingrequiredcolumns Got Columns {xpected Columns {required}'.format missing sorted missing received sorted received required sorted required 
def  parse date delta value if not value return Nonetry value int value except Value Error passelse delta timedelta seconds value return datetime + delta return  parse date value 
@receiver models save sender Verification Deadline @receiver models delete sender Verification Deadline def invalidate deadline caches sender **kwargs cache Verification Deadline A L L DEADLINES CACHE KEY
def get change column query f new desc frappe u % f for d in desc if d f return u % f f new d 
def str to int int str if int str is None return Noneint str re u \\.\\+]' u int str return int int str 
def get provider name None id None if id is not None provider ALL PROVIDERS BY I D else if name is None name settings D E F A U L T PAYMENT P R O V I D E Rprovider ALL P R O V I D E R S if provider not in settings P A Y M E N T PROVIDERS raise Improperly Configured 'heprovider P A Y M E N T P R O V I D E R S p provider return provider 
def reboot zone single False altinit None smf options None ret {'status' True options ''if single boot options '-s{0}'.format boot options if altinit boot options '-i{0}{1}'.format altinit boot options if smf options boot options '-m{0}{1}'.format smf options boot options if boot options ! '' boot options '--{0}'.format boot options res   salt  ['cmd.run all 'zoneadm{zone}reboot{boot opts zone '-u{0}'.format zone if  is uuid zone else '-z{0}'.format zone boot opts boot options ret res 0 ret res if ret else res ret ret 'zoneadm ' '' if ret '' del ret ret 
def which program def is exe fpath return os fpath and os fpath os X OK fpath fname os program if fpath if is exe program return programelse for path in os P A T H os exe file os path program if is exe exe file return exe file 
def s3 comments represent text show link True text s3 unicode text if len text < 80 return textelif not show link return '%s...' % text 76] else import uuidunique uuid represent DIV DIV text  id unique  class 'hideshowall'  onmouseout "$ '#%s' .hide " % unique A '%s...' % text 76]  onmouseover "$ '#%s' .lass 'hide' .show " % unique return represent 
def make Failure try 1 / 0 except Zero Division Error f failure Failure return f 
def image meta system metadata image meta {}for md key md value in system metadata if md key 'image ' image meta key ]] md valuereturn image meta 
def syspath path prefix True if os  name   ! 'ntpath' return pathif not isinstance path unicode try path path 'utf8' except Unicode Error encoding sys or sys path path encoding 'replace' if prefix and not path WINDOWS MAGIC PREFIX if path u path u U N C + path ] path WINDOWS MAGIC PREFIX + path return path 
def  get assistive access cmd 'ibrary Application Support T C C T C C S E L E C T F R O Maccess   salt  ['cmd.run all cmd output loglevel 'debug' python shell False if call ! 0 comment ''if 'stderr' in call comment + call 'stdout' in call comment + call Command Execution Error 'rror {0}'.format comment out call re ' C C Service Accessibility .* \\|[0-9]{1}\\| [0-9]{1} \\|[0-9]{1}\\|' out re M U L T I L I N E 
def get log file return  log 
def  attach volume module profitbricks datacenter volume server module 'server' if server if not uuid match server server list profitbricks servers datacenter for s in server list if server s server s return profitbricks volume datacenter server volume except Exception e get exception module json msg 'failedtoattachvolume %s' % str e 
def object Save Hook python Object for predicate uuid saver loader in class Info if predicate python Object result saver python Object result  class uuid  '] str uuid return resultreturn {'unpersistable' True 
def Print Categories sys ''.join '%s\n' % cat for cat in  ERROR CATEGORIES sys 0
def test make fixed length events raw read raw fif raw fname events make fixed length events raw id 1 assert true events 3 events zero make fixed length events raw 1 first samp False assert equal events zero 0 0 ] 0 assert array equal events zero 0] events 0] - raw samp tmin tmax raw -1 ]]duration tmax - tmin events make fixed length events raw 1 tmin tmax duration assert equal events 1 assert raises Value Error make fixed length events raw 1 tmin tmax - 0.001 duration assert raises Value Error make fixed length events raw 2.3 assert raises Value Error make fixed length events 'notraw' 2 assert raises Value Error make fixed length events raw 23 tmin tmax 'abc'
def trace method f @functools.wraps f def trace method logging wrapper *args **kwargs if TRACE METHOD return trace f *args **kwargs return f *args **kwargs return trace method logging wrapper 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def fetch google uuid fetch url constants Urlfetch Test Identifiers G O O G L E U R Lreturn fetch fetch url 
def hash params params if isinstance params collections Container and not isinstance params text type binary type if isinstance params collections Mapping try new params frozenset params except Type Error new params set for k v in params new params k hash params v new params frozenset new params elif isinstance params collections Set collections Sequence try new params frozenset params except Type Error new params set for v in params new params hash params v new params frozenset new params else new params frozenset params return new paramsreturn frozenset params 
def  is number match SS number1 number2 try numobj1 parse number1 UNKNOWN REGION return  is number match OS numobj1 number2 except Number Parse Exception _ exc _ sys info if exc type Number Parse Exception I N V A L I D COUNTRY CODE try numobj2 parse number2 UNKNOWN REGION return  is number match OS numobj2 number1 except Number Parse Exception _ exc2 _ sys info if exc2 type Number Parse Exception I N V A L I D COUNTRY CODE try numobj1 parse number1 None keep raw input False  check region False numobj None numobj2 parse number2 None keep raw input False  check region False numobj None return  is number match OO numobj1 numobj2 except Number Parse Exception return Match Type N O T A N U M B E Rreturn Match Type N O T A NUMBER
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def trim win path path if sabnzbd W I N32 and len path > 69 path folder os path maxlen 69 - len path if len folder > maxlen folder folder maxlen os path folder .rstrip '.' return path 
def unicode2local p return p 
def is generator obj if isinstance obj types Generator Type return True C O GENERATOR 32return bool inspect obj or inspect obj and obj code flags & CO GENERATOR
def accumulate Class List class Obj attr list Obj base Class None for base in class Obj  bases   accumulate Class List base attr list Obj if base Class is None or base Class in class Obj  bases   list Obj class Obj  dict  .get attr []
def merge recursive obj a obj b level False return aggregate obj a obj b level map class Aggregated Map sequence class Aggregated Sequence 
def libvlc media is parsed p md f  Cfunctions 'libvlc media is parsed None or  Cfunction 'libvlc media is parsed 1 None ctypes int Media return f p md 
def batch sort input iterator output path buffer size 32000 output class None if not output class output class input iterator  class  chunks []try while True current chunk list islice input iterator buffer size if not current chunk breakcurrent chunk fd filepath tempfile os fd output chunk output class filepath chunks output chunk for elem in current chunk output chunk elem output chunk output file output class output path for elem in heapq *chunks output file elem output file finally for chunk in chunks try chunk os chunk except Exception pass 
def msign x return ma np x 0
def  fastq solexa convert qual in handle out handle alphabet None from Bio Seq I O Quality I O import phred quality from solexamapping dict chr q + 64 str int round phred quality from solexa q for q in range -5 62 + 1 return  fastq convert qual in handle out handle mapping 
def get Intersecting Within Loops loop loop List outset Loop intersecting Within Loops []for other Loop in loop List if get Is Intersecting Within Loop loop other Loop outset Loop intersecting Within Loops other Loop return intersecting Within Loops 
def is keystone version available session version d keystone discover Discover session try d client version except discovery exc Discovery Failure discovery exc Version Not Available return Falseelse return True 
def Module Has Valid Main Function module if hasattr module 'main' and type module is types Function Type arg names var args var kwargs default values inspect module if len arg names 0 return Trueif default values is not None and len arg names len default values return Truereturn False 
def admin password if 'admin password not in DETAILS log 'proxy.fx2 Noadmin passwordin D E T A I L S returning Delldefault return 'calvin'return D E T A I L S 'admin password 'calvin'
def get http searches http url req body host false pos ['i.stack.imgur.com']searched Noneif http url req ! None searched re http search re http url req re I G N O R E C A S E if searched None searched re http search re body re I G N O R E C A S E if searched ! None and host not in false pos searched searched 3 try searched searched 'utf8' except Unicode Decode Error returnif searched in [str num for num in range 0 10 ] returnif len searched > 100 returnmsg 'earched %s' % host unquote searched 'utf8' .replace '+' '' return msg 
def username password authn environ start response reference key redirect uri logger 'heloginpage headers []resp Response mako template 'login.mako' template lookup LOOKUP headers headers argv {'action' '/verify' 'login' '' 'password' '' 'key' key 'authn reference reference 'redirect uri redirect uri 'do authenticationargv %s' % argv return resp environ start response **argv
def get object list klass **kwargs queryset  get queryset klass if hasattr klass 'in trash queryset queryset klass trash ! True kwargs specials extract special queries kwargs for i in kwargs if type kwargs str queryset queryset func getattr klass i kwargs else queryset queryset getattr klass i kwargs obj list apply special queries queryset specials return list obj list 
def parse gid gid try return int gid except Value Error if grp try return grp gid .gr gidexcept Key Error raise Key Error 'roupdoesnotexist %r' % gid raise 
def cal rel os 'cal' .read .split '\n' month rel 0 date rel 0 show calendar month date rel 
def run  task 
@blueprint.route '/summary' methods ['GET'] def summary job job from request if isinstance job dataset images Image Classification Dataset Job return dataset images job elif isinstance job dataset images Generic Image Dataset Job return dataset images job elif isinstance job generic Generic Dataset Job return generic job else raise werkzeug Bad Request 'nvalidjobtype 
def group by video list results result defaultdict list for video subtitles in list results result + subtitles or [] return result 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
@real memoizedef is netbsd return sys 'netbsd'
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
def run system tests options import subprocessmajor version sys info args [sys.executable '-m' 'unittest' '-v' 'gluon.tests']if major version 2 sys 'ython2 else sys 'xperimental Python3 if options coverage has coverage Falsecoverage exec 'coverage2' if major version 2 else 'coverage3' try import coveragehas coverage Trueexcept sys 'overagewasnotinstalled skipping coverage config file os 'gluon' 'tests' 'coverage.ini' coverage config os 'COVERAGE PROCESS START' coverage config file call args [coverage exec 'run' '--rcfile %s' % coverage config '-m' 'unittest' '-v' 'gluon.tests']if has coverage ret subprocess call args else ret 256else ret subprocess call args sys ret and 1
def  numpy zeros m n **options dtype options 'dtype' 'float64' if not np raise Import Errorreturn np m n dtype dtype 
def bucketpanel series bins None by None cat None use by by is not None use cat cat is not None if use by and use cat raise Exception 'mustspecifybyorcat butnotboth elif use by if len by ! 2 raise Exception 'mustprovidetwobucketingseries' xby yby by xbins ybins binsreturn  bucketpanel by series xby yby xbins ybins elif use cat xcat ycat catreturn  bucketpanel cat series xcat ycat else raise Exception 'mustspecifyeithervaluesorcategoriestobucketby'
def survey get Question From Name name series id s3db current s3db seriesq ltable s3db question listqsntable s3db questionquery sertable series id & q ltable id sertable id & q ltable id qsntable & qsntable name record current query .select qsntable qsntable qsntable qsntable q ltable limitby 0 1 .first if record is None loc list current all current levels for row in loc list if row name return survey get Question From Name row series id question {}question row record questionquestion id question row question row question row question row record question list question 
def find paths breadth first from target to target log log u Lookingforallpathsfrom from target to target if from target to target yield [from target returnvisited edges set to walk paths deque [[from target while len to walk paths > 0 cur path to walk paths target cur path -1 ]if len cur path > 1 prev target cur path -2 ]else prev target Nonecurrent edge prev target target if current edge not in visited edges for dep in target dep path cur path + [dep] if dep to target yield dep path else to walk paths dep path visited edges current edge 
def fixed ip get by instance context instance uuid return I M P L ip get by instance context instance uuid 
def named Module name top Level   import   name packages name '.' [1 ]m top Levelfor p in packages m getattr m p return m 
@transaction.non atomic requests P O S T csrf cookie control no cache True no store True must revalidate True @require level 'staff' def calculate grades csv request course id course key Slash Separated Course Key deprecated string course id try lms task calculate grades csv request course key success status _ 'hegradereportisbeingcreated Toviewthestatusofthereport see Pending Tasksbelow return Json Response {'status' success status except Already Running Error already running status _ 'hegradereportiscurrentlybeingcreated Toviewthestatusofthereport see Pending Tasksbelow Youwillbeabletodownloadthereportwhenitiscomplete return Json Response {'status' already running status 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def method name method mname name method if is class private name mname mname ' %s%s' % name method  self  .  class   mname return mname 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def check job dependencies host objects job dependencies host ids [host.id for host in host objects in job models Host id  in host ids ok hosts hosts in jobfor index dependency in enumerate job dependencies ok hosts ok hosts labels  name dependency failing hosts set host for host in host objects - set host for host in ok hosts if failing hosts raise model logic Validation Error {'hosts' 'ost s failedtomeetjobdependencies ' + ' '.join job dependencies + ' ' + ' '.join failing hosts }
def get group symbol locale LC NUMERIC return Locale locale .number symbols 'group' u '
def compute nb X y Z labels [int t for t in y [ for i in range len labels if labels 0 ]ntrain [ for i in range len labels if labels 1 ]poscounts nbsvm dict ptrain [1 2] negcounts nbsvm dict ntrain [1 2] dic r nbsvm ratio poscounts negcounts train X nbsvm text X dic r [1 2] dev X nbsvm text Z dic r [1 2] return train X dev X 
def down iface iface type if iface type not in ['slave'] return   salt  ['cmd.run'] 'ifdown{0}'.format iface return None 
def check cache time path max age if not os path return Falsecache modified time os path .st mtimetime now time if cache modified time < time now - max age return Falseelse return True 
def  set Style node style Map fixed Style ';'.join [ prop + ' ' + style Map for prop in style Map ] if fixed Style ! '' node Attribute 'style' fixed Style elif node Attribute 'style' node Attribute 'style' return node 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def notifier icon path return wf .datafile u Notify Contents Resources 
def random Range start 0 stop 1000 seed None randint random Wichmann Hill seed .randint if seed is not None else random return int randint start stop 
def find orphaned vdi uuids xenapi connected vdi uuids set  find vdis connected to vm xenapi connected vdi uuids all vdi uuids set  find all vdis and system vdis xenapi all vdi uuids connected vdi uuids orphaned vdi uuids all vdi uuids - connected vdi uuids return orphaned vdi uuids 
def broadcast dimensions argpairs numblocks sentinels 1 1 consolidate None L concat [zip inds dims for x inds x dims in join first argpairs first numblocks ] g groupby 0 L g dict k set [d for i d in v for k v in g g2 dict k v - set sentinels if len v > 1 else v for k v in g if consolidate return valmap consolidate g2 if g2 and not set map len g2 set [1] raise Value Error 'hapesdonotalign % g return valmap first g2 
def fully decorated request return Http Response '<html><body>dummy</body></html>'
def verify grad op pt n tests 2 rng None *args **kwargs if rng is None seed rng rng numpy T grad op pt n tests rng *args **kwargs
def  send bulk mail recipient ids sender id intent email subject email html body sender email sender name instance id None  require sender id is valid intent sender id recipients settings user services users settings recipient ids recipient emails [user.email for user in recipients settings html body html cleaner email html body if cleaned html body ! email html body log new error 'riginalemail H T M Lbodydoesnotmatchcleaned H T M Lbody \riginal \leaned \n%s\n' % email html body cleaned html body returnraw plaintext body cleaned html body '<br/>' '\n' .replace '<br>' '\n' .replace '<li>' '<li>-' .replace '</p><p>' '</p>\n<p>' cleaned plaintext body html cleaner html tags raw plaintext body def  send bulk mail in transaction instance id None sender name email '%s<%s>' % sender name sender email email services bulk mail sender name email recipient emails email subject cleaned plaintext body cleaned html body if instance id is None instance id email models Bulk Email Model new id '' email models Bulk Email Model instance id recipient ids sender id sender name email intent email subject cleaned html body datetime return transaction services in transaction  send bulk mail in transaction instance id 
def get pid list return psutil 
def smart translate item data item data if isinstance item data basestring return _ item data elif isinstance item data list return map smart translate item data item data elif isinstance item data dict if 'content' in item data item data _ item data if item data else '' for field field data in item data if isinstance field data dict item data smart translate item data field data elif isinstance field data list item data map smart translate item data field data return item data 
def inverse cosine transform F k x **hints return Inverse Cosine Transform F k x .doit **hints
def  relative to absolute url url url 1 .strip '"\'' if not url 'data ' 'http ' 'https ' '//' url url '../../' settings S T A T I C URL return 'url %s ' % url 
def chem correction melting temp DMSO 0 fmd 0 D M S Ofactor 0.75 fmdfactor 0.65 fmdmethod 1 GC None if DMSO melting temp - D M S Ofactor * DMSO if fmd if fmdmethod 1 melting temp - fmdfactor * fmd if fmdmethod 2 if GC is None or GC < 0 raise Value Error " C melting temp + 0.453 * GC / 100.0 - 2.88 * fmd if fmdmethod not in 1 2 raise Value Error "'fmdmethod'mustbe1or2" return melting temp 
def poly below xmin xs ys if any isinstance var np Masked Array for var in [xs ys numpy np numpy npxs numpy xs ys numpy ys Nx len xs Ny len ys if Nx ! Ny raise Value Error u x xmin * numpy 2 * Nx y numpy 2 * Nx x Nx xsy Nx ysy Nx ] ys -1 ]return x y 
@utils.arg 'snapshot' metavar '<snapshot>' help ' Dofthesnapshot @utils.arg 'display name nargs '?' metavar '<display-name>' help 'ewdisplay @utils.arg '--display-description' metavar '<display-description>' help 'ptionalsnapshotdescription Default None ' default None @utils.service type 'monitor' def do snapshot rename cs args kwargs {}if args name is not None kwargs name args nameif args description is not None kwargs description args description find monitor snapshot cs args .update **kwargs
def test activate after future statements script ['#!/usr/bin/envpython' 'from  future  importwith statement 'from  future  importprint function 'print "ello world ']assert virtualenv script script ['#!/usr/bin/envpython' 'from  future  importwith statement 'from  future  importprint function '' "importos;activate this os os os   file   'activate this ;exec compile open activate this .read activate this 'exec' dict   file   activate this ;delos activate this '' 'print "ello world ']
def test enn fit sample enn Edited Nearest Neighbours random state RND SEED X resampled y resampled enn sample X Y X gt np [[ -0.10903849 -0.12085181 ] [0.01936241 0.17799828] [2.59928271 0.93323465] [1.92365863 0.82718767] [0.25738379 0.95564169] [0.78318102 2.59153329] [0.52726792 -0.38735648 ]] y gt np [0 0 1 1 2 2 2] assert array equal X resampled X gt assert array equal y resampled y gt 
def generate histogram qual fp output dir score min 25 verbose True qual parser parse qual score if qual fp '.gz' qual lines gzip open qual fp else qual lines open qual fp 'U' qual scores qual parser qual lines qual bins bin qual scores qual scores ave bins std dev bins total bases bins suggested trunc pos get qual stats qual bins score min plot qual report ave bins std dev bins total bases bins score min output dir write qual report ave bins std dev bins total bases bins output dir suggested trunc pos if verbose print 'uggestednucleotidetruncationposition Noneifquality + 'scoreaveragedidnotfallbelowtheminimumscoreparameter %s\n' % suggested trunc pos 
def forecast data year quarter if ct check input year quarter is True ct write head data  get forecast data year quarter 1 pd Data Frame df pd Data Frame data columns ct F O R E C A S T COLS df df lambda x str x .zfill 6 return df 
def test table to coord from ...table import Table Columnt Table t column Column data [1 2 3] name u unit u t column Column data [4 5 6] name u unit u c Sky Coord t t assert allclose c u [1 2 3] * u assert allclose c u [4 5 6] * u 
def  fields list to dict fields option name if isinstance fields collections Mapping return fieldsif isinstance fields collections Sequence if not all isinstance field string type for field in fields raise Type Error '%smustbealistofkeynames eachaninstanceof % option name string type  name   return dict fields 1 raise Type Error '%smustbeamappingorlistofkeynames' % option name 
def  rep obj expand False out dict obj if isinstance obj beets Item if app 'INCLUDE PATHS' False out util path out else del out out os util obj except O S Error out 0return outelif isinstance obj beets Album del out expand out [ rep item for item in obj ]return out 
def dmp ground content f u K from sympy import Q Qif not u return dup content f K if dmp zero p f u return K cont v K u - 1 if K QQ for c in f cont K cont dmp ground content c v K else for c in f cont K cont dmp ground content c v K if K one cont breakreturn cont 
def  check pair minterm1 minterm2 index -1 for x i j in enumerate zip minterm1 minterm2 if i ! j if index -1 index xelse return -1 return index 
def test rechunk blockshape new shape new chunks 10 10 4 3 new blockdims normalize chunks new chunks new shape old chunks 4 4 2 3 3 3 1 a np 0 1 100 .reshape 10 10 x da array a chunks old chunks check1 rechunk x chunks new chunks assert check1 new blockdims assert np check1 a 
def is 64bit capable addr space x86 64 flag addr addr space symbol ' x86 64 flag if x86 64 flag addr x86 64 flag obj Object 'int' offset x86 64 flag addr vm addr space ret x86 64 flag 1 else ret Truereturn ret 
def get afe job id tag match re '^ [0-9]+ -.+/.+$' tag if match return match 1 return ''
def s3 endpoint for region region region  fix region region if not region or region  S3 REGION WITH NO LOCATION CONSTRAINT return  S3 REGIONLESS E N D P O I N Telse return  S3 REGION ENDPOINT % {'region' region 
def Get Server Parms host port try int port except port 119opt sabnzbd servers "...withthefollowingmeaningfor'opt' \ontroltheuseof I Pv6 Usenetserveraddresses Meaning \n0 don usewhenavailableandreachable DEFAULT \n2 forceusage when S A Bnzbd \n"try ips socket host port 0 socket S O C K STREAM if opt 2 or opt 1 and sabnzbd E X T E R N A L IPV6 or opt 1 and sabnzbd balancing 2 return ipselse return [ip for ip in ips if ' ' not in ip ]except if opt 2 or opt 1 and sabnzbd E X T E R N A L IPV6 or opt 1 and sabnzbd balancing 2 try return socket host port socket A F INET6 socket S O C K STREAM socket I P P R O T O IP socket A I CANONNAME except passreturn None 
def win service get name service Windows Service name None service display name service query config ['display name service 
@domain constructor loss target 0 def quadratic1 return {'loss' hp 'x' -5 5 - 3 ** 2 'status' base S T A T U S OK}
def timestamp parameter timestamp allow none True if timestamp is None if allow none return Noneraise Value Error 'imestampvaluecannotbe None if isinstance timestamp datetime return timestamp + 'Z' if isinstance timestamp compat if not ISO 8601.match timestamp raise Value Error 'nvalidtimestamp % S O % timestamp return timestampraise Value Error 'annotaccepttype % type timestamp 
def switch On sample Rate 48000 output Device None buffer Size None t0 core Time try global pyoimport pyoglobal have Michave Mic Trueexcept Import Error msg 'icrophoneclassnotavailable needspyo //code.google.com/p/pyo/'logging.error msg raise Import Error msg if pyo Created sound Snd Server Sampling Rate sample Rate else sound rate sample Rate if output Device sound Snd Server Output Device output Device if buffer Size sound Snd Server Buffer Size buffer Size logging '%s switchon %dhz took %   file  .strip '.py' sample Rate core Time - t0 
def build ems log message 0 driver name app version driver mode dest 'clusternode' if driver mode 'cluster' else '7modecontroller' ems log  build base ems log message driver name app version ems log '0'ems log 'pen Stack Cinderconnectedto % dest return ems log 
def test latex to png dvipng fails when no cmd for command in ['latex' 'dvipng'] yield check latex to png dvipng fails when no cmd command 
def expand makefile vars s vars while 1 m  findvar1 rx s or  findvar2 rx s if m beg end m s s beg + vars m 1 + s ] else breakreturn s 
def Get Time Zone Names key  winreg Open Key Ex  winreg H K E Y LOCAL MACHINE Time Zone Info Reg Key return  Reg Key Enumerator key 
def register linter linter checker Exceptions Checker linter 
def get valid os versions os versions []try for breed in get valid breeds os versions + SIGNATURE C A C H E except passreturn uniquify os versions 
def  set symlink ownership path user group try   salt  ['file.lchown'] path user group except O S Error passreturn  check symlink ownership path user group 
def sync renderers saltenv 'base' return salt   opts   'renderers' saltenv saltenv [0]
def valid username user if not isinstance user string types return Falseif len user > 32 return Falsereturn VALID U S E R N A M E user is not None 
def  last stack str stack extract stack for s in stack -1 ] if op 'vispy' 'gloo' 'buffer.py' not in   file   breakreturn format list [s] [0]
def  find address range addresses first last addresses ip in addresses ] if ip ip last ip + 1 last ipelse breakreturn first last 
def p word given topic word topic beta 0.1 return topic word counts + beta / topic counts + W * beta 
def get scanner hass config info config D O M A I N info CONF HOST username info CONF USERNAME password info CONF PASSWORD port info CONF PORT scanner Netgear Device Scanner host username password port return scanner if scanner init else None 
def plot images separately images fig plt for j in xrange 1 7 ax fig subplot 1 6 j ax images j - 1 ] cmap matplotlib plt np [] plt np [] plt 
def sub S G M L Refs s return re sgmlrefsub  repl S G M L Refs s 
def get bbox header lbrt rotated False l b r t lbrtif rotated rotate u % l + r 0 else rotate u info u Bounding Box %d%d%d%d' % l b np r np t hires bbox info u Hi Res Bounding Box %.6f%.6f%.6f%.6f' % l b r t return u [bbox info hires bbox info rotate 
def bool or str *text def bool or value obj if obj in text return objelse return asbool obj return bool or value 
@pytest.mark.parametrize u expected tokens [ u [u"l'" u u [u"j'" u ] def test issue768 fr tokenizer w infix text expected tokens tokens fr tokenizer w infix text assert len tokens 2 assert [t.text for t in tokens expected tokens 
def add service protocol service protocol cmd '--permanent--service {0}--add-protocol {1}'.format service protocol return   firewall cmd cmd 
def make friedman3 n samples 100 noise 0.0 random state None generator check random state random state X generator n samples 4 X[ 0] * 100X[ 1] * 520 * np X[ 1] + 40 * np X[ 3] * 10X[ 3] + 1y np X[ 1] * X[ 2] - 1 / X[ 1] * X[ 3] / X[ 0] + noise * generator n samples return X y 
def  check second range sec if np sec 60.0 warn Illegal Second Warning sec u Treatingas0sec +1min' elif sec is None passelif np sec < -60.0 or np sec > 60.0 raise Illegal Second Error sec 
def init mock addon short name user settings None node settings None import factoriesuser settings user settings or factories Mock Addon User Settings node settings node settings or factories Mock Addon Node Settings settings A D D O N S R E Q U E S T E D short name addon config Addon Config short name short name full name short name owners [ser 'ode categories [torage user settings model user settings node settings model node settings models [user settings node settings settings A D D O N S AVAILABLE D I C T config name addon configsettings A D D O N S A V A I L A B L E addon config return addon config 
def expect failure with message message def test decorator func def test decorated self *args **kwargs self Raises Regexp segmentio Event Validation Error message func self *args **kwargs self no events emitted return test decoratedreturn test decorator 
def test pprint nameless col col table Column [1.0 2.0] assert str col .startswith 'one 
def show quickpanel captions entries show cancel False if show cancel Quickpanel Cancel Entries Quickpanelelse Quickpanel Entries Quickpanel Quickpanel captions entries .show quickpanel 
def transfer accept context transfer id user id project id return I M P L accept context transfer id user id project id 
def null formatter view value return Markup ' U L L 
def change password username password  xml '<RIBCLVERSION " O G I N U S E R LOGIN " A S S W O R D " S E R INFOMODE " O D USERUSER LOGIN " A S S W O R Dvalue " O D U S E R U S E R I N F O L O G I N R I B C L username password return   execute cmd 'hange password  xml 
def  image tag delete all context image id delete time None session None tags updated count  image child entry delete all models Image Tag image id delete time session return tags updated count 
def sanitize name raw value value force text raw value value unicodedata 'NFKC' value value re '[^\\w\\s. -]' '' value flags re U .strip return mark safe re '[-\\s]+' '-' value flags re U 
def  infer fill value val if not is list like val val [val]val np val copy False if is datetimelike val return np 'a T dtype val elif is object dtype val dtype lib dtype  ensure object val if dtype in ['datetime' 'datetime64'] return np 'a T dtype  NS DTYPE elif dtype in ['timedelta' 'timedelta64'] return np 'a T dtype  TD DTYPE return np 
def Email Check email if not EMAIL R E email raise Value Error _ 'otavalidemail %s' % email return email 
def  Check Facet Depth depth if depth is None return Noneelse return  Check Integer depth 'depth' zero ok False upper bound MAXIMUM DEPTH FOR FACETED SEARCH
def post save user group instance raw created **kwargs from cms import get current usercreator get current user if not creator or not created or creator anonymous returnpage user Page User Group group ptr id instance created by creator page user  dict  .update instance  dict   page user 
def disable module module if is module enabled module run as root 'a2dismod%s' % module 
def test monitor based save best cv handle filename tempfile skip if no sklearn trainer yaml parse test yaml monitor based save best cv % {'save path filename trainer loop os filename 
@gof.local optimizer [dd S D def local addsd ccode node if isinstance node sparse Add S D and theano new node Add S D ccode format node *node.inputs return [new node False 
@register.simple tag takes context True def no params with context context return 'no params with context Expectedresult contextvalue %s ' % context 
def sm flavor delete context sm flavor id return I M P L flavor delete context sm flavor id 
def O S X Get Raw Device path device map Get Mountpoints path utils Smart Unicode path mount point path utils Normalize Path path '/' result rdf paths Path Spec pathtype rdf paths Path Spec Path Type O S while mount point try result fs type device map point fs type in ['ext2' 'ext3' 'ext4' 'vfat' 'ntfs' 'pple HFS' 'hfs' 'msdos'] result rdf paths Path Spec Path Type O Selse result rdf paths Path Spec Path Type U N S E Tpath utils Normalize Path path mount point ] return result path except Key Error mount point os mount point 
def add source zone source permanent True if source in get sources zone permanent log 'ourceisalreadyboundtozone cmd '--zone {0}--add-source {1}'.format zone source if permanent cmd + '--permanent'return   firewall cmd cmd 
def user has language set request if hasattr request u and request LANGUAGE SESSION KEY is not None return Trueif LANGUAGE COOKIE NAME in request C O O K I E S return Truereturn False 
def norm l21 tf Z shape n orient if Z Z2 Z *shape l21 norm np stft norm2 Z2 .reshape -1 n orient .sum axis 1 l21 norm l21 norm else l21 norm 0.0return l21 norm 
def  Add Properties For Extensions descriptor cls extension dict descriptor by namefor extension name extension field in extension dict constant name extension name + ' FIELD NUMBER' setattr cls constant name extension field 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def format freshdesk ticket creation message ticket cleaned description convert html to markdown ticket content '%s<%s>created[ticket#%s] %s \n\n' % ticket name ticket email ticket ticket content + '~~~quote\n%s\n~~~\n\n' % cleaned description content + 'ype *riority *tatus **%s**' % ticket ticket ticket return content 
def base64 len s groups of 3 leftover divmod len s 3 n groups of 3 * 4 if leftover n + 4return n 
@run oncedef  load sqlalchemy models keystone root os os os   file   '..' '..' '..' for root dirs files in os keystone root root root keystone root ]if root 'backends' and 'sql.py' in files module root 'keystone.%s' % root os '.' .lstrip '.' module components module root '.' module without backends ''for x in range 0 len module components - 1 module without backends + module components + '.' module without backends module without backends '.' module name module root + '.sql'   import   module name 
def validate location uri location if not location raise exception Bad Store Uri _ 'nvalidlocation %s' % location elif location 'http //' 'https //' return locationelif location 'file ///' 'filesystem ///' msg _ 'ilebasedimportsarenotallowed Pleaseuseanon raise exception Bad Store Uri msg else supported ['http']msg _ 'hegivenuriisnotvalid Pleasespecifyavalidurifromthefollowinglistofsupporteduri supported s % {'supported' supported raise urllib U R L Error msg 
def build fragments list boot info res []segment run table boot info run entry segment run table run frags segment run entry run entry table boot info frag number fragment run entry table i frag number in zip range 1 n frags + 1 itertools first frag number res 1 frag number return res 
def staff level mode session prep r if mode is not None auth return Trues3 prepoutput s3 rest controller return output 
def  typecheck name value *types if not types types unicode if not isinstance value types raise Type Error 'expected{}for{} got 'or'.join [t.  name   for t in types name repr value return value 
def  map rect to scene self rect return self Transform .ect rect 
def gen column names n col names list DEFAULT COLUMN NAMES if n < len col names return list take n col names else n left n - len col names labels [''.join item for item in take n left itertools DEFAULT COLUMN NAMES DEFAULT COLUMN NAMES ]col names labels return col names 
def carray ptr shape dtype None from .typing.ctypes utils import from ctypestry ptr ptr as parameter except Attribute Error passif dtype is not None dtype np dtype if isinstance ptr ctypes void p if dtype is None raise Type Error 'explicitdtyperequiredforvoid*argument' p ptrelif isinstance ptr ctypes Pointer ptrty from ctypes ptr  class   assert isinstance ptrty types C Pointer ptr dtype as dtype ptrty if dtype is not None and dtype ! ptr dtype raise Type Error "mismatchingdtype'%s'forpointer%s" % dtype ptr dtype ptr dtypep ctypes ptr ctypes void p else raise Type Error 'expectedactypespointer got % ptr nbytes dtype * np shape dtype np return  get array from ptr p nbytes dtype .reshape shape 
def fix win sys argv encoding global  SYS ARGV P R O C E S S E Dif  SYS ARGV PROCESSED return Falsefrom ctypes import byref c int POINTER windll W I N F U N C T Y P Efrom ctypes import LPCWSTR L P W S T R Get Command Line W WINFUNCTYPE LPWSTR 'et Command Line W windll Command Line To Argv W WINFUNCTYPE POINTER LPWSTR LPCWSTR POINTER c int 'ommand Line To Argv W windll argc c int 0 argv unicode Command Line To Argv W Get Command Line W byref argc argv [argv unicode encoding 'replace' for i in xrange 0 argc ]if not hasattr sys 'frozen' argv argv ]while len argv > 0 arg argv not arg u or arg u breakargv argv ]if arg u breakif arg u argv u argv SYS ARGV PROCESSED Truereturn True 
def Check For Question Pending task vm task vm is not None and isinstance vm vim Virtual Machine qst vm qst is not None raise Task Blocked 'askblocked User Interventionrequired 
def wait for unit state reactor docker client unit name expected activation states def is in states units for unit in units if unit unit name if unit state in expected activation states return Truedef check if in states responded docker client responded Callback is in states return respondedreturn loop until reactor check if in states 
def check bitdepth colortype bitdepth colortype if bitdepth not in 1 2 4 8 16 raise Format Error 'invalidbitdepth%d' % bitdepth if colortype not in 0 2 3 4 6 raise Format Error 'invalidcolourtype%d' % colortype if colortype & 1 and bitdepth > 8 raise Format Error 'ndexedimages colourtype cannothavebitdepth bitdepth .eehttp / R R E C P N G % bitdepth colortype if bitdepth < 8 and colortype not in 0 3 raise Format Error 'llegalcombinationofbitdepth %d andcolourtype %d .eehttp / R R E C P N G % bitdepth colortype 
def load confs conf source None if conf source is None conf source  configs from dir get desktop root 'conf' conf configobj Config Obj for in conf in conf source conf in conf return conf 
def installed name enabled True ret {'name' name 'result' True 'comment' '' 'changes' {}}is installed   salt  ['assistive.installed'] name if is installed is enabled   salt  ['assistive.enabled'] name if enabled ! is enabled   salt  ['assistive.enable'] name enabled ret 'pdatedenableto enabled else ret 'lreadyinthecorrectstate   salt  ['assistive.install'] name enabled ret 'nstalled name return ret 
def  scale normalize X X make nonnegative X row diag np 1.0 / np X axis 1 .squeeze col diag np 1.0 / np X axis 0 .squeeze row diag np np row diag 0 row diag col diag np np col diag 0 col diag if issparse X n rows n cols X dia matrix row diag [0] shape n rows n rows c dia matrix col diag [0] shape n cols n cols an r * X * c else an row diag np * X * col diag return an row diag col diag 
def  add p tags raw body return '<p>{raw body raw body raw body 
def is parsed result successful parsed result return parsed result Response Metadata H T T P Status Code < 300
def Get Local Time Zone tz Reg Key ' Y S T E M Current Control Set Control Time Zone Information  winreg Open Key Ex  winreg H K E Y LOCAL MACHINE tz Reg Key local  Reg Key Dict key fix Standard Time local Standard Name local Daylight Name and local Standard Bias local Daylight Bias key Name [tandard Name 'ime Zone Key Name sys > 6 ]ame local Name Name   Time Zone Key Name Workaround standard Name return Time Zone Info standard Name fix Standard Time 
def  filter domain id from parents domain id tree new tree Noneif tree parent children next iter tree if parent ! domain id new tree {parent  filter domain id from parents domain id children }return new tree 
def all not none iterable for element in iterable if element is None return Falsereturn True 
def test call accepts func single pos passes @accepts int def foo int 1 passt time for i in range 0 10000 foo 5 return time - t 
def  interfaces ifaddrs ifaddrs p if getifaddrs pointer ifaddrs < 0 raise O S Error results []try while ifaddrs if ifaddrs addr family ifaddrs addr familyif family AF INET addr cast ifaddrs addr POINTER sockaddr in elif family AF INET6 addr cast ifaddrs addr POINTER sockaddr in6 else addr Noneif addr packed ''.join map chr addr addr addr ] packed  maybe Cleanup Scope Index family packed results ifaddrs name family inet ntop family packed ifaddrs ifaddrs nextfinally freeifaddrs ifaddrs return results 
def  find root thread count 10 relative False follow False threads []results {}errors {}done threading Event work queue Queue work os root [] if not relative root Noneargs root follow done work results errors for i in range thread count t threading Thread target  find worker args args t Truet threads t work done for t in threads t return results errors 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def test instantiation File Link fl display File Link 'example.txt'
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def remove header headers name name name i 0result Nonewhile i < len headers if headers name result headers headers + 1return result 
def get yaml basepath if  handler dir is None set builtins dir DEFAULT DIR return  handler dir 
def resource remove path path if path not in resource paths return Logger 'esource remove % path resource paths path 
def libvlc set app id p instance id version icon f  Cfunctions 'libvlc set app id None or  Cfunction 'libvlc set app id 1 1 1 1 None None Instance ctypes char p ctypes char p ctypes char p return f p instance id version icon 
def  number desc for type metadata num type if num type Phone Number Type P R E M I U M RATE return metadata rateelif num type Phone Number Type T O L L FREE return metadata freeelif num type Phone Number Type M O B I L E return metadata num type Phone Number Type F I X E D LINE or num type Phone Number Type F I X E D LINE OR MOBILE return metadata lineelif num type Phone Number Type S H A R E D COST return metadata costelif num type Phone Number Type V O I P return metadata num type Phone Number Type P E R S O N A L NUMBER return metadata numberelif num type Phone Number Type P A G E R return metadata num type Phone Number Type U A N return metadata num type Phone Number Type V O I C E M A I L return metadata return metadata desc 
def  safe Format fmt String fmt Dict try text fmt String % fmt Dict except Keyboard Interrupt raiseexcept try text 'nvalidformatstringorunformattableobjectinlogmessage %r %s' % fmt String fmt Dict except try text ' N F O R M A T T A B L E O B J E C T W R I T T E N T O L O Gwithfmt MESSAGELOST' % fmt String except text 'PATHOLOGICALERRORINBOTHFORMATSTRINGANDMESSAGEDETAILS M E S S A G E L O S T  PY3 if isinstance text bytes text text 'utf-8' elif isinstance text unicode text text 'utf-8' return text 
@not implemented for 'undirected' @not implemented for 'multigraph' def is tournament G return all v in G ^ u in G for u v in combinations G 2 and G of selfloops 0
def cache translations objects languages None meta None if not objects return objectslanguages set languages or if meta is None meta objects parler meta model meta map dict object object for object in objects languages set object current language for object in objects master ids object map for master ids in batch master ids 950 for translation in xlate model master id  in master ids language code  in languages master object map id translations cache model code translationsetattr translation translation  class  .master.cache name master return objects 
def sanity Test vm vm 'sudo-nmn--testpingall' if vm ['0%dropped' pexpect T I M E O U T timeout 45 0 log 'anitycheck O K else log 'anitycheck F A I L E D log 'anitycheckoutput ' log vm 
def get num actions env gym game num actions env space num actions 
def  if none match passes target etag etags if not target etag return Trueelif etags ['*'] return Falseelse target etag target etag 'W/' etags etag 'W/' for etag in etags return target etag not in etags 
def parse keywords strings [] keywords {}for string in strings if ' ' in string funcname indices string ' ' else funcname indices string None if funcname not in keywords if indices inds []for x in indices ' ' if x -1 ] 'c' inds int x -1 ] 'c' else inds int x indices tuple inds keywords indicesreturn keywords 
def add defaults var fun case sensitive False var items set DEFAULT VARIABLES fun items set DEFAULT FUNCTIONS var items var fun items fun if not case sensitive var items set k for k in var items fun items set k for k in fun items return var items fun items 
def  resume O S value hash D B Retrieve HASHDB KEYS.OS if not value returnos valueif os and os ! 'one info Msg " B M Soperatingsystem % os logger info Msg if conf and conf ! os message " B M Soperating % conf message + 'system butfromapastscaninformationonthe + ' R Lsqlmapassumestheback D B M S + 'operatingsystemis%s.' % os message + 'oyoureallywanttoforcetheback D B M S + ' Svalue N read Input message default 'N' if not test or test in 'n' 'N' conf oselse conf os Backend Os conf 
def check serialize msg json msg 
def Unpack Int Set data if len data > 13 and data 4] '\xff\xff\xff\xff' return set bitmask to intlist zlib data ] else return set struct '<' + 'I' * len data // 4 data 
def get project root name root Path settings P R O J E C T ROOT if root '' root root root 
def get captcha challenge http body captcha base url 'http //www.google.com/accounts/' contains captcha challenge Falsecaptcha parameters {}for response line in http body if response line 'rror Captcha Required contains captcha challenge Trueelif response line 'aptcha Token ' captcha parameters response line ]elif response line 'aptcha Url ' captcha parameters '%s%s' % captcha base url response line ] if contains captcha challenge return captcha parameterselse return None 
def  check valid version npm version distutils Loose Version salt 'npm--version' output loglevel 'quiet' valid version distutils Loose Version '1.2' if npm version < valid version raise Command Execution Error "'npm'isnotrecentenough {0}<{1} .lease Upgrade npm version valid version 
def get setup section app module label icon config get config app module for section in config if section u _ u Setup return {u'label' label u icon u section 
def is distributed router router try requested router type router attributes Attribute Error requested router type router 'distributed' if validators attr set requested router type return requested router typereturn cfg C O N F distributed 
def check password password encoded setter None preferred u if not password or not is password usable encoded return Falsepreferred get hasher preferred hasher identify hasher encoded must update hasher ! preferred is correct hasher password encoded if setter and is correct and must update setter password return is correct 
def  Varint Encoder local chr chrdef Encode Varint write value bits value & 127 value >> 7while value write local chr 128 | bits bits value & 127 value >> 7return write local chr bits return Encode Varint 
def test coffee data 
def set attributes name attributes region None key None keyid None profile None ret Trueconn  get conn region region key key keyid keyid profile profile queue obj conn queue name if not queue obj log 'ueue name ret Falseif isinstance attributes string types attributes json attributes for attr val in six attributes attr set queue obj attribute attr val if not attr set msg 'ailedtosetattribute {1}onqueue{2}'log.error msg attr val name ret Falseelse msg 'etattribute {1}onqueue{2}'log.info msg attr val name return ret 
def remote docker client ip docker host *args return remote command client ip 'DOCKER TLS VERIFY 1' 'DOCKER HOST {}'.format docker host 'docker' + args 
@service DOMAIN SERVICE FLASH def flash service hass call if not TARGET ID returnif core on hass TARGET ID core off hass TARGET ID time 10 core on hass TARGET ID else core on hass TARGET ID time 10 core off hass TARGET ID
def validate auth mechanism properties option value value validate string option value props {}for opt in value ' ' try key val opt ' ' except Value Error raise Value Error 'authmechanismpropertiesmustbekey valuepairslike S E R V I C E NAME mongodb not % opt if key not in  MECHANISM PROPS raise Value Error 'ustbeoneof % key tuple  MECHANISM PROPS if key 'CANONICALIZE HOST NAME' props validate boolean or string key val else props valreturn props 
def loopback T L S Connection trust Root private Key File chained Cert File None class Context Factory object def get Context self 'reateacontextfortheserversideoftheconnection an S S Lcontextusingacertificateandkey C Open S S L S S L Context S S L Context S S L T L Sv1 METHOD if chained Cert File is not None ctx certificate chain file chained Cert File ctx privatekey file private Key File ctx privatekey return ctxserver Opts Context Factory client Opts sslverify Open S S L Certificate Options trust Root trust Root return  loopback T L S Connection server Opts client Opts 
def long Test test Method def new Test Method *args **kwargs if Test Option Parser  long   is None raise Exception 'est Option Parsermustbeusedinordertouse Testdecorator if Test Option Parser  long   return test Method *args **kwargs else msg 'kippinglongtest %s' % test Method  name   return unittest msg test Method *args **kwargs return new Test Method 
def set Grid Logger set Logger Class Grid Logger 
def query tasks session if session for item in session session task Singleton Import Task None item for task in task created session yield task else for album in session session log u {1}-{2}' album album album items list album for item in items item Noneitem id Nonetask Import Task None [album.item dir ] items for task in task created session yield task 
def random ascii length 20 ascii only False return  join chars string letters length 
@register.simple tag takes context False def explicit no context arg return 'explicit no context Expectedresult %s' % arg 
def setlocale category locale None if locale and type locale is not type '' locale normalize  build localename locale return  setlocale category locale 
def make Stack element layers []for child in element Nodes if child Type child E L E M E N T NODE if child Name 'stack' stack make Stack child layers stack elif child Name 'layer' layer make Layer child layers layer else raise Exception 'nknownelement % child Name print >>sys.stderr 'akingastackwith % len layers return Stack layers 
def is ratelimited request name rate method ['POST'] skip if lambda r False if skip if request or request perm 'sumo.bypass ratelimit request Falseelse ratelimit ratelimited request increment True ip False rate rate keys user or ip name if request if hasattr request 'user' and request authenticated key 'user"{}"'.format request else ip request M E T A 'HTTP X CLUSTER CLIENT IP' request M E T A R E M O T E ADDR'] key 'anonymoususer {} '.format ip Record 'sumo.ratelimit' '{key}hittheratelimitfor{name}' key key name name return request 
def  prepare values clip True out None if clip return np values 0.0 1.0 out out elif out is None return np values copy True else out ] np values return out 
def code gen blocks decl ''head ''tail ''for block in blocks decl + block head + '\n{\n%s' % block tail '%s\n}\n' % block + tail return decl + head + tail 
def set Privacy List disp list resp disp Send And Wait For Response Iq 'set' NS PRIVACY payload [list] if is Result Node resp return 1
def tensorproduct *args if len args 0 return S Oneif len args 1 return  arrayfy args if len args > 2 return tensorproduct tensorproduct args args *args[2 ] a b map  arrayfy args if not isinstance a N Dim Array or not isinstance b N Dim Array return a * b al list a bl list b product list [ i * j for i in al for j in bl Immutable Dense N Dim Array product list a + b 
def wassuccessful patch result return make instancemethod Text Test Result Successful result 
def staff org site json table s3db human resourceotable s3db organisationquery table id request & table id otable records db query .select table id otable otable response Content Type 'application/json'return records 
def  filter documents request queryset flatten True type filters request G E T 'type' None sort request G E T 'sort' '-last modified search text request G E T 'text' None return   filter documents type filters sort search text queryset flatten 
def robust scale X axis 0 with centering True with scaling True quantile range 25.0 75.0 copy True s Robust Scaler with centering with centering with scaling with scaling quantile range quantile range copy copy if axis 0 return s transform X else return s transform X.T .T
def certificate downloadable status student course key current status certificate status for student student course key response data {'is downloadable False 'is generating True if current status in [ertificate Statuses Certificate Statuses else False 'is unverified True if current status Certificate Statuses else False 'download url None 'uuid' None current status Certificate Statuses response data downloadable Trueresponse data url current status url or get certificate url student course key response data current status response data 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do resize revert cs args  find server cs args .revert resize 
def get mcp version driver location location driver get location by id location if 'MCP2.0' in location return '2.0'return '1.0'
@ noconds  True def  hankel transform f r k nu name simplify True from sympy import besselj F integrate f * besselj nu k * r * r r 0 oo if not F Integral return  simplify F simplify True if not F Piecewise raise Integral Transform Error name f 'couldnotcomputeintegral' F cond F F Integral raise Integral Transform Error name f 'integralinunexpectedform' return  simplify F simplify cond 
def  instantiate proxy tuple proxy bindings None if proxy in bindings return bindings if proxy do not recurse obj proxy if len proxy > 0 raise Not Implemented Error 'positionalargumentsnotyetsupportedinproxyinstantiation' kwargs dict k  instantiate v bindings for k v in six proxy obj checked call proxy kwargs try obj src proxy srcexcept Attribute Error passbindings objreturn bindings 
def Is Block In Name Space nesting state is forward declaration if is forward declaration return len nesting state > 1 and isinstance nesting state -1 ]  Namespace Info return len nesting state > 1 and nesting state -1 ].check namespace indentation and isinstance nesting state -2 ]  Namespace Info 
def get Faces geometry Output faces [aces geometry Output faces return faces 
def test elemwise4 shape 3 4 a tcn constructor theano asarray numpy *shape dtype 'float32' 'a' b tensor c tensor f pfunc [b c [] updates [ a a + b 'x' 0 * c 0 'x' ] mode mode with gpu has elemwise Falsefor i node in enumerate f has elemwise has elemwise or isinstance node tensor Elemwise assert not has elemwise f theano asarray numpy 4 dtype 'float32' theano asarray numpy 3 dtype 'float32'
def user is admin user db is system admin user is system admin user db user db if is system admin return Trueis admin user has role user db user db role System Role A D M I N if is admin return Truereturn False 
@flake8extdef check builtins gettext logical line tokens filename lines noqa if noqa returnmodulename os filename .split '/' [0]if '%s/tests' % modulename in filename returnif os filename in 'i18n.py' ' i18n returntoken values [t[1] for t in tokens wrapper '%s. i18n % modulename if '_' in token values i18n import line found Falsefor line in lines split line [elm.rstrip ' ' for elm in line ]if len split line > 1 and split line 'from' and split line i18n wrapper and '_' in split line i18n import line found Truebreakif not i18n import line found msg 'N341  frompythonbuiltinsmoduleisused Use from % i18n wrapper yield 0 msg 
def add rule name localport protocol 'tcp' action 'allow' dir 'in' ret {'name' name 'result' True 'changes' {} 'comment' ''}commit Falsecurrent rules   salt  ['firewall.get rule name if not current rules commit Trueret {'newrule' name   opts  ['test'] ret not commit or None return retif commit ret   salt  ['firewall.add rule name localport protocol action dir if not ret ret 'ouldnotaddrule ret 'rulewiththatnamealreadyexists ret 
def insertion sort collection for index in range 1 len collection while 0 < index and collection < collection index - 1 ] collection collection index - 1 ] collection index - 1 ] collection index - 1return collection 
def  instance name instance return getattr instance 'OS-EXT-SRV-ATTR instance name None 
def  clip warp output input image output image order mode cval clip if clip and order ! 0 min val input image max val input image preserve cval mode 'constant' and not min val < cval < max val if preserve cval cval mask output image cval np output image min val max val out output image if preserve cval output image mask cval 
def assert error response status code headers None **kwargs headers headers or {} def error cmp response body body return isinstance response body dict and set response body set list body + ['error'] and all response body k v for k v in body assert json response response status code kwargs headers error cmp 
def get valid domains domains valid domains []for domain in domains try valid domains util domain sanity domain except errors Configuration Error continuereturn valid domains 
def remove prefix string prefix if string prefix return string prefix ]else return string 
def bbox to array arr label 0 max bboxes 64 bbox width 16 arr pad bbox arr max bboxes bbox width return arr ]
def create Encoder encoder Multi Encoder encoder Multiple Encoders {'consumption' {'fieldname' u 'type' 'calar Encoder 'name' u 'minval' 0.0 'maxval' 100.0 'nput True 'w' 21 'n' 500} 'timestamp time Of Day {'fieldname' u 'type' 'ate Encoder 'name' u time Of Day 'f Day 21 9.5 }} return encoder 
def freeze includes import pyimport  pytestresult list  iter all modules py result + list  iter all modules  pytest return result 
def isbuiltin object return isinstance object types Builtin Function Type 
def detect stream try json stream return Trueexcept Value Error return False 
def get profile model if not getattr settings u A C C O U N T S PROFILE MODEL' None raise Profile Not Configuredtry return apps model settings A C C O U N T S PROFILE MODEL except Value Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lmustbeoftheform label name except Lookup Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lreferstomodel % settings A C C O U N T S PROFILE MODEL
def notify merge failure subproject error status subscriptions Profile merge failure subproject users set mails []for subscription in subscriptions mails subscription merge failure subproject error status users subscription id for owner in subproject mails owner merge failure subproject error status mails get notification email u u A D M I N S u failure subproject {u'subproject' subproject u status u error send mails mails 
def betweenness sequence creation sequence normalized True cs creation sequenceseq []lastchar 'd'dr float cs 'd' irun 0drun 0dlast 0.0for i c in enumerate cs if c 'd' b dlast + irun - 1 * irun / dr + 2 * irun * i - drun - irun / dr drun + 1else if lastchar 'd' dlast bdr - drundrun 0irun 0b 0irun + 1seq.append float b lastchar cif normalized order len cs scale 1.0 / order - 1 * order - 2 seq [ s * scale for s in seq seq 
def urlsafe b64decode s return b64decode s '-_'
def test iht sample wrong X iht Instance Hardness Threshold random state RND SEED iht X Y assert raises Runtime Error iht np 100 40 np [0] * 50 + [1] * 50
def get patterns for title path title app apphook pool apphook title urls url patterns []for pattern list in get app urls app urls title title if path and not path '/' path + '/'page id title patterns + recurse patterns path pattern list page id return url patterns 
def add certificate exception course key student certificate exception if len Certificate Whitelist certificate white list course key student > 0 raise Value Error _ 'tudent username {user} alreadyincertificateexceptionlist .format user student certificate white list __ Certificate Whitelist or create user student course id course key defaults {'whitelist' True 'notes' certificate exception 'notes' '' } generated certificate Generated Certificate certificates user student course id course key status Certificate Statuses .first exception dict {'id' certificate white list 'user email student 'user name student 'user id student 'certificate generated generated certificate and generated certificate date ' %Y' 'created' certificate white list '%A % %Y' } return exception 
def  add var var value makeconf  get makeconf layman 'source/var/lib/layman/make.conf'fullvar '{0} "{1}"'.format var value if   salt  ['file.contains'] makeconf layman cmd ['sed' '-i' '/{0}/i\\{1}'.format layman '/' '\\/' fullvar makeconf  salt  ['cmd.run'] cmd else   salt  ['file.append'] makeconf fullvar 
def  minimize dogleg fun x0 args jac None hess None **trust region options if jac is None raise Value Error 'acobianisrequiredfordoglegminimization if hess is None raise Value Error 'essianisrequiredfordoglegminimization return  minimize trust region fun x0 args args jac jac hess hess subproblem Dogleg Subproblem **trust region options 
def copy to master registry xml parent data cm X M L Sub Element xml parent 'opy To Master Notifier cm 'plugin' 'copy-to-slave' X M L Sub Element cm 'includes' .text ' '.join data 'includes' [''] X M L Sub Element cm 'excludes' .text ' '.join data 'excludes' [''] mappings [ 'run-after-result' 'fter Result Finalised True 'destination' 'older '' ]helpers.convert mapping to xml cm data mappings fail required True if data 'destination' '' X M L Sub Element cm 'estination Folder .text 'true'
def datetime to timestamp x if isinstance x datetime return timestamp x return x 
def get data files dirs results []for directory in dirs for root dirs files in os directory files [os.path.join root file  for file  in files root files return results 
def Detect Executable Paths source values vars map None detector Create Windows Registry Executable Paths Detector vars map vars map for source value in source values for result in detector Detect source value yield result 
def check executable executable logger logging Logger   name   logger "heckingexecutable executable executable path find executable executable found executable path is not None if found logger "xecutable '%s'" executable executable path else logger "xecutable executable return found 
def test takes args assert not hug args function with kwargs assert hug args function with args assert not hug args function with neither assert hug args function with both 
def normalize kernel dimensions griddim blockdim def check dim dim name if not isinstance dim tuple list dim [dim]else dim list dim if len dim > 3 raise Value Error '%smustbeasequenceof1 2or3integers got % name dim for v in dim if not isinstance v numbers Integral raise Type Error '%smustbeasequenceofintegers got % name dim while len dim < 3 dim 1 return dimgriddim check dim griddim 'griddim' blockdim check dim blockdim 'blockdim' return griddim blockdim 
def np where cond x y return np cond x y 
def  construct target list targets target entries []for entry in targets if not isinstance entry Gtk Target Entry entry Gtk Target Entry *entry target entries entry return target entries 
def append random bottlecap phrase message bottlecap Nonetry wp Wiki Page Frontpage g page gold bottlecaps split list re '^[*-]' wp flags re M U L T I L I N E choices [item.strip for item in split list if item ]if len choices bottlecap choice choices except Not Found passif bottlecap message + '\n\n>' + bottlecap return message 
def get lazy gettext domain def  lazy gettext msg 'reateandreturna Messageobject Messageencapsulatesastringsothatwecantranslateitlaterwhen Message msg domain return  lazy gettext 
def get edge attributes G name if G multigraph edges G keys True data True else edges G data True return {x[ -1 ] x -1 ][name] for x in edges if name in x -1 ] }
def get logger global  loggerif not  logger import logging atexitif hasattr atexit 'unregister' atexit  exit function atexit  exit function else atexit exithandlers  exit function {} atexit exithandlers  exit function {}  check logger class  logger logging Logger LOGGER NAME return  logger 
def get edit filetypes pygments exts  get pygments extensions favorite exts ['.py' '.R' '.jl' '.ipynb' '.md' '.pyw' '.pyx' '.C' ' P P exts [ext for ext in pygments exts if ext not in favorite exts ]all exts tuple favorite exts + other exts text filetypes _ 'upportedtextfiles all exts return [text filetypes + EDIT FILETYPES
def generate Version File Data version if version is not None prerelease ' prerelease %r' % version else prerelease ''data 'hisisanauto Donoteditit versions Version %r %s %s %s%s \n' % version version version version prerelease return data 
def parse atomic source info saved flags info subpattern  parse pattern source info source ' ' finally info saved flagssource space bool info & VERBOSE return Atomic subpattern 
def  create entry entry body updated str datetime .isoformat if datetime .utcoffset is None updated str + '+00 00'entry start '<?xmlversion "1.0"encoding "utf-8"standalone "yes"?>\n<entryxmlns d "http //schemas.microsoft.com/ado/2007/08/dataservices"xmlns m "http //schemas.microsoft.com/ado/2007/08/dataservices/metadata"xmlns "http /tom "application/xml">\n{body}</content></entry>'return entry start updated updated str body entry body 
def sudo popen *args **kwargs user kwargs 'user' None full command [SUDO PATH SUDO PRESERVE ENVIRONMENT A R G user full command [SUDO USER ARG user full command args log 'bouttoexecutethefollowingsudocommand % ''.join full command p Popen full command shell False stdout PIPE stderr PIPE return p 
def create sitemap app exception if not app theme options 'base url '' or exception is not None or not app links returnfilename app + '/sitemap.xml' print 'eneratingsitemap % filename root E T Element 'urlset' root 'xmlns' 'http //www.sitemaps.org/schemas/sitemap/0.9' for link in app links url E T Sub Element root 'url' E T Sub Element url 'loc' .text link E T Element Tree root .write filename 
def get Min first second return min first second 
def enable dbc *args if not ENABLE DBC return Falsetry from logilab import weaverfrom logilab import Contract Aspectexcept Import Error sys 'arning logilab Contractsdisabled return Falsefor arg in args weaver module arg Contract Aspect return True 
def  check and uninstall python ret python user None ret  python installed ret python user user if ret if ret   salt  ['pyenv.default'] 'system' runas user if   salt  ['pyenv.uninstall python python runas user ret Trueret 'ninstalled 'uccessfullyremovedpython retelse ret Falseret 'ailedtouninstallpython retelse ret Trueret 'python{0}isalreadyabsent'.format python return ret 
@blueprint.route '/jobs/<job id data methods ['GET'] def job table data job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound model output fields set return flask {'job' json dict job model output fields }
def mlab tempfile dir None valid name re u for n in range 100 f tempfile Named Temporary File suffix u prefix u matlab ' dir dir fname os os f [0]if valid name fname breakf else raise Value Error u Couldnotmaketempfileafter100tries return f 
@register useless canonicalize specialize optimizer [ Rebroadcast def local useless rebroadcast node if isinstance node T Rebroadcast x node numpy x node return [x]else new axis {}for dim bc in list node if x ! bc new axis bcif new axis node returnelse r T Rebroadcast *list new axis x copy stack trace node r return [r]
def addresses from address family address family return Addresses tuple address family 
def pperm above accessing obj accessed obj *args **kwargs return perm above  to player accessing obj accessed obj *args **kwargs
def apply user permissions doctype ptype user None role permissions get role permissions frappe meta doctype user user return role permissions u user permissions {} .get ptype 
def all estimates reviews k 1 reviews reviews float k - 1 nusers nmovies reviews np like reviews for u in range nusers ureviews np reviews u axis 0 ureviews - ureviews 0 ureviews / ureviews 0 + 1e-05 ureviews ureviews T for m in np reviews > 0 [0] estimates u m ] nn movie ureviews reviews u m k return estimates 
def  check psd data inst tmin tmax picks proj from ..io.base import Base Rawfrom ..epochs import Base Epochsfrom ..evoked import Evokedif not isinstance inst Base Epochs Base Raw Evoked raise Value Error 'pochs Raw or Evoked Gottype type inst time mask  time mask inst tmin tmax sfreq inst if picks is None picks  pick data channels inst with ref meg False if proj inst inst .apply proj sfreq inst isinstance inst Base Raw start stop np time mask [0][[0 -1 ]] data times inst start stop + 1 ]elif isinstance inst Base Epochs data inst data [ picks time mask isinstance inst Evoked data inst time mask data sfreq 
def blend *cols **kwargs return Blend *cols **kwargs
def discretize linear 1D model x range x np x range - 0.5 x range + 0.5 values intermediate grid model x return 0.5 * values intermediate grid ] + values intermediate grid -1 ]
def  ar transparams params newparams 1 - np - params / 1 + np - params .copy tmp 1 - np - params / 1 + np - params .copy for j in range 1 len params a newparams kiter in range j tmp - a * newparams j - kiter - 1 ] newparams j tmp j newparams 
def get password vm  return config cloud config value 'password' vm    opts   default config cloud config value 'passwd' vm    opts   search global False search global False 
def add bgp error metadata code sub code def desc 'unknown' if  EXCEPTION R E G I S T R Y code sub code is not None raise Value Error ' G P S Exceptionwithcode % code sub code def decorator subclass 'etsclassconstantsforexceptioncodeandsub Ifgivenclassissub B G P S Exceptionwesetsclassconstants issubclass subclass B G P S Exception  EXCEPTION REGISTRY[ code sub code ] subclasssubclass C O D E codesubclass S U B CODE sub codesubclass D E F DESC def descreturn subclassreturn decorator 
@abortsdef test aborts on nonexistent roles merge [] ['badrole'] [] {}
def get Window Given Text Repository file Name gcode Text repository skein Skeinlayer Skein skein Gcode file Name gcode Text repository return Skein Window repository skein 
def iflatten x for el in x if is listlike el for el  in iflatten el yield el  else yield el 
def corner shi tomasi image sigma 1 Axx Axy Ayy structure tensor image sigma response Axx + Ayy - np Axx - Ayy ** 2 + 4 * Axy ** 2 / 2 return response 
def send reset password instructions user token generate reset password token user reset link url for security 'reset password token token  external True send mail config value 'EMAIL SUBJECT PASSWORD RESET' user 'reset instructions user user reset link reset link reset password instructions sent app get current object user user token token 
def  patch stopall for patch in list  patch active patches patch 
def nested parse with titles state content node surrounding title styles state stylessurrounding section level state levelstate styles []state.memo.section level 0try return state parse content 0 node match titles 1 finally state styles surrounding title stylesstate level surrounding section level 
def guess ext fname sniff order is multi byte False file ext Nonefor datatype in sniff order 'omeclassesmaynothaveasnifffunction whichisok Infact the Tabularand Textclassesare2examplesofclassesthatshouldneverhave Sincetheseclassesaredefaultclasses theycontain sotheyshouldbecalled orderhavenotbeen if datatype fname file ext datatype extbreakexcept passif file ext 'tsv' if is column based fname ' DCTB ' 1 is multi byte is multi byte file ext 'tabular'if file ext is not None return file extheaders get headers fname None is binary Falseif is multi byte is binary Falseelse for hdr in headers for char in hdr is binary util binary char if is binary breakif is binary breakif is binary return 'data'if is column based fname ' DCTB ' 1 is multi byte is multi byte return 'tabular'return 'txt'
def filter query params key remove params def filter url return filter query params url remove params return filter 
def retina figure fig **kwargs pngdata print figure fig fmt 'retina' **kwargs if pngdata is None return w h  pngxy pngdata metadata {'width' w // 2 'height' h // 2 }return pngdata metadata 
def get tenant keystone name tenants [x for x in keystone if x name ]count len tenants if count 0 raise Key Error 'okeystonetenantswithname % name elif count > 1 raise Value Error '%dtenantswithname%s' % count name else return tenants 
def make top env build dir os L C ALL'] ' env S Cons Environment Environment ENV os top env Ensure S Cons Version 2 0 top env Decider ' D5 top env Set Option 'implicit cache 1 top env Set Option 'max drift 1 top env Variant Dir build dir '.' duplicate 0 return top env 
def my calibration sz row col szfx 2555 * col / 2592 fy 2586 * row / 1936 K diag [fx fy 1] K[ 0 2 ] 0.5 * col K[ 1 2 ] 0.5 * row return K
def request app setup hass config add devices config path discovery info None configurator get component 'configurator' def fitbit configuration callback callback data 'heactionstodowhenourconfigurationcallbackiscalled path hass FITBIT CONFIG FILE if os config path config file config from file config path if config file DEFAULT CONFIG error msg "oudidn 'pleasetryagain' configurator errors  C O N F I G U R I N G error msg else setup platform hass config add devices discovery info else setup platform hass config add devices discovery info start url '{}{}'.format hass url FITBIT AUTH CALLBACK PATH description 'leasecreatea Fitbitdeveloperappat /orthe O Auth2 Application Typechoose Personal Setthe Callback U R Lto Theywillprovideyoua Client I Dandsecret Theseneedtobesavedintothefilelocatedat {hencomebackhereandhitthebelowbutton start url config path submit 'havesavedmy Client I Dand Client Secretintofitbit C O N F I G U R I N G configurator config hass 'itbit fitbit configuration callback description description submit caption submit description image '/static/images/config fitbit app 
def  write stc filename tmin tstep vertices data fid open filename 'wb' fid np 1000 * tmin dtype '>f4' .tostring fid np 1000 * tstep dtype '>f4' .tostring fid np vertices dtype '>u4' .tostring fid np vertices dtype '>u4' .tostring fid np data dtype '>u4' .tostring fid np data T dtype '>f4' .tostring fid 
def fix value return value + 2 ** 32 if value < 0 else value 
def alias diff refcounts before refcounts after return set t for t in refcounts after if refcounts after > refcounts before t -1
def binom tost reject interval low upp nobs alpha 0.05 x low stats alpha nobs low + 1 x upp stats alpha nobs upp - 1 return x low x upp 
def data profiling required f @wraps f def decorated function *args **kwargs if current app L O G I N DISABLED'] or not current user anonymous and current user profiling return f *args **kwargs else flash 'hispagerequiresdataprofilingprivileges 'error' return redirect url for 'admin.index' return decorated function 
def  url path '' return HTTP BASE URL + path 
@task queue 'web' def update search version pk commit delete non commit files True version Version pk version pk if version type sphinx page list process all json files version build dir False elif version type mkdocs page list process mkdocs json version build dir False else log 'nknowndocumentationtype %s' version type returnlog msg ''.join [page['path'] for page in page list log ' Search Index Sending Data %s[%s]' version log msg index search request version version page list page list commit commit project scale 0 page scale 0 section False delete delete non commit files 
def demo update two filename f get contents filename if not len f return ''f f + '\n' return f 
def filter err status application 'app' ticket 'tkt' routes THREAD L O C A L status > 399 and routes onerror keys set '%s/%s' % application status '%s/*' % application '*/%s' % status '*/*' for key redir in routes onerror if key in keys if redir '!' breakelif '?' in redir url redir + '&' + 'code %s&ticket %s' % status ticket else url redir + '?' + 'code %s&ticket %s' % status ticket return urlreturn status 
def cython protocol handler colparser from cassandra parser import make recv results rowsclass Fast Result Message Result Message 'ythonversionof Result Messagethathasafasterimplementationof results row to type dict v k for k v in Result Message codes recv results rows classmethod make recv results rows colparser class Cython Protocol Handler  Protocol Handler 'se Fast Result Messagetodecodequeryresultmessagemessages opcodes  Protocol Handler types by opcode my opcodes Fast Result Message Fast Result Messagemessage types by opcode my opcodescol parser colparserreturn Cython Protocol Handler 
def add markdown cell work notebook text markdown cell {'cell type 'markdown' 'metadata' {} 'source' [rst2md text ]}work notebook markdown cell 
def  conv comp comp first last chs ccomp dict ctfkind np [comp[first]['coeff type save calibrated False  add kind ccomp n col comp row last - first + 1 col names comp n col names [comp[p]['sensor name for p in range first last + 1 ]data np n row n col for ii coeffs in enumerate comp last + 1 ] data ] coeffs ]ccomp['data'] dict row names row names col names col names data data nrow len row names ncol len col names mk 'proper gain 'qgain'  calibrate comp ccomp chs row names col names mult keys mk flip True return ccomp 
def anon url *url url u map str url uri pattern u //'unicode uri pattern re uri pattern re U N I C O D E if not re unicode uri pattern url url u //' + url return u sickrage Core Config A N O N REDIRECT url 
def  determine scaling policies scaling policies scaling policies from pillar pillar scaling policies copy   salt  ['config.option'] scaling policies from pillar {} if not scaling policies and len pillar scaling policies > 0 scaling policies pillar scaling policiesreturn scaling policies 
def pick By Distribution distribution r None if r is None r randomx r 0 sum distribution for i d in enumerate distribution if x < d return ix - d 
def truncated tetrahedron graph create using None G path graph 12 create using G edges from [ 0 2 0 9 1 6 3 11 4 11 5 7 8 10 ] G 'runcated Tetrahedron Graph G
@ F F I u Extern Context Type Constraint Type Id ' def extern satisfied by context handle constraint id cls id c  F F I handle context handle return c id constraint id  .satisfied by type c id cls id 
def dict from expr expr **args rep opt  dict from expr expr build options args return rep opt 
def index groups request group form forms Group Create Form request P O S T or None if group form valid group group form group request group member request Group Membership M E M B E R return redirect reverse 'groups group edit args [group.url] query Group non functional areas template 'groups/index groups {'group form group form  list groups request template query context 
def wps execute layer attribute statistics layer name field url '%s/ows' % ogc server settings L O C A T I O N request render to string 'layers/wps execute gs aggregate {'layer name 'geonode %s' % layer name 'field' field response http post url request timeout ogc server settings T I M E O U T username ogc server settings password ogc server settings exml etree response result {}for f in [in 'ax 'verage 'edian 'tandard Deviation 'um fr exml f if fr is not None result fr result ' A exml 'ount if count is not None result Count int count else result Count 0result['unique values ' A result 
def set extend l index item empty Value None if index > len l l + [alue * index - len self + 1 l item 
def braycurtis u v u  validate vector u v  validate vector v dtype np return abs u - v .sum / abs u + v .sum
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def cell update context cell name values return I M P L update context cell name values 
def is valid device dev regex re '/dev/sd[a-z]$' try return regex dev is not None except Type Error return False 
def get elliptic curve name for curve in get elliptic curves if curve name return curveraise Value Error 'unknowncurvename' name 
@cronjobs.registerdef reindex users that contributed yesterday if settings S T A G E returntoday datetime yesterday today - timedelta days 1 user ids list Answer created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision reviewed  gte yesterday reviewed  lt today .values list 'reviewer id flat True index task User Mapping Type list set user ids 
def getargvalues frame args varargs varkw getargs frame code return Arg Info args varargs varkw frame locals 
def get limited to project headers global  E N F O R C E Rif not  ENFORCER  ENFORCER policy Enforcer if not  E N F O R C E R 'context is admin {} {'roles' headers ' Roles '' .split ' ' } return headers ' Tenant Id 
def gettempprefix return template 
def find paste config if C O N F deploy file paste config C O N F deploy filepaste config value paste configif not os paste config paste config C O N F file paste config elif C O N F file paste config C O N F file config value paste configelse paste config C O N F file 'keystone.conf' paste config value 'keystone.conf'if not paste config or not os paste config raise exception Config File Not Found config file paste config value return paste config 
def issue owner repository number return gh owner repository number 
def Screen if Turtle screen is None Turtle screen  Screen return Turtle screen 
def find system symbol img instruction addr sdk info None return D Sym Symbol symbol instruction addr instruction addr image addr img addr image vmaddr img vmaddr uuid img cpu name get cpu name img type img subtype object path img sdk info sdk info 
def post form view request return post form response 
def  delete ntp servers servers return   salt  ['ntp.delete servers commit False *servers
def  is credit requirement xblock required methods ['get credit requirement namespace 'get credit requirement name 'get credit requirement display name method name in required methods if not callable getattr xblock method name None L O G G E R ' Block unicode xblock method name return Falsereturn True 
def gf sub ground f a p K if not f a - a % p else a f -1 ] - a % p if len f > 1 return f -1 ] + [a] if not a return []else return [a]
def depend log 'nstallingpackagedependencies run 'sudoapt-get-qyupdate' run 'sudoapt-get-qyinstallkvmcloud-utilsgenisoimageqemu-kvmqemu-utilse2fsprogscurlpython-setuptoolsmtoolszip' run 'sudoeasy installpexpect 
def opts pkg ret {}ret.update   opts   ret   grains  return ret 
def no assert equal true false logical line  start re re 'assert Not ?qual True False '  end re re 'assert Not ?qual .* \\s+ True False \\ $' if  start re logical line or  end re logical line yield 0 'N355 assert Equal A True False assert Equal True False A assert Not Equal A True False orassert Equal True False A sentencesmustnotbeused Useassert True A orassert False A instead 
def  parse optional fh optional {tart Kern Data  parse kern pairs 'tart Composites  parse composites {tart Kern Data {} 'tart Composites {}}for line in fh line line if not line continuekey line [0]if key in optional d optional fh l d Start Kern Data d Start Composites return l 
def no prereq install vals {'0' False '1' True 'true' True 'false' False os 'NO PREREQ INSTALL' 'alse .lower try return vals Key Error return False 
@register.inclusion tag u def bootstrap pagination page **kwargs pagination kwargs kwargs pagination kwargs pagereturn get pagination context **pagination kwargs 
def  parse belongs to key belongs to inventory for item in belongs to if key not in inventory appended du if array inventory item key if appended logger 'dded key item 
@ensure csrf cookiedef update session language request if request 'PATCH' data json request language data LANGUAGE KEY settings L A N G U A G E CODE if request LANGUAGE SESSION KEY None ! language request L A N G U A G E SESSION KEY] unicode language return Http Response 200
def  inet pton win address family ip string addr sockaddr addr family address familyaddr size ctypes int ctypes addr str to addr ctypes 3 S A String To Address Aif str to addr ip string address family None ctypes addr ctypes addr size ! 0 raise socket ctypes Format Error if address family socket A F INET return ctypes at addr addr 4 if address family socket A F INET6 return ctypes at addr addr 16 raise socket 'unknownaddressfamily'
def register sizes regs in sizes sizes {}bigger {}smaller {}for l in regs for r s in zip l in sizes sizes sfor r in l bigger [r  for r  in l if sizes ] > sizes or r r  ]smaller[r] [r  for r  in l if sizes ] < sizes ]return lists regs sizes bigger smaller 
def idz copycols A k idx A np A return  id copycols A k idx 
def  complex expand series context builder ty initial x coefs assert ty in types domain binary sig typing * [ty] * 3 accum context complex builder ty value initial ONE context constant ty float 1.0 for coef in reversed coefs constant context constant ty float coef value numbers mul impl context builder binary sig [x accum getvalue ] accum setvalue value accum builder ONE builder accum constant accum builder accum constant return accum getvalue 
def s lego lego type value None options {} name 'LEGO %08x' % len blocks C U R R E N T if not legos B I N key lego type raise sex Sully Runtime Error 'INVALIDLEGOTYPESPECIFIED %s' % lego type lego legos B I N type name blocks C U R R E N T value options blocks C U R R E N T lego blocks C U R R E N T 
def logsumexp x axis None return Log Sum Exp axis x 
def get test uids offset 0 count 1 pootle path '^/language0/' from pootle store import T R A N S L A T E Dfrom pootle store import Unitunits Unit store  pootle path  regex pootle path .filter state TRANSLATED begin units / 2 + offset return list units begin + count ].values list 'pk' flat True 
def nanmin a axis None out None keepdims False res core a axis axis out out keepdims keepdims if content res .any warnings 'll Na Nsliceencountered Runtime Warning return res 
def  construct divmod result left result index name dtype constructor left constructorreturn constructor result index index name name dtype dtype constructor result index index name name dtype dtype 
def parse enum key value enumeration return parse enum csv key value enumeration 1 [0]
def  int from json value field if  not null value field return int value 
def licensed cmd ' \indows System32   salt  ['cmd.run'] cmd return 'icense Status Licensed in out 
def get docker version info result Noneif is service running 'docker' version info yaml load get version output '/usr/bin/docker' 'version' if 'erver in version info result {'api version version info Server A P Iversion 'version' version info Server Version result 
@rule u ?u .* https //\\S+ .*' def title auto bot trigger if re bot + u trigger returnif u cache in bot and trigger in bot cache if bot cache > 1 returnurls re url finder trigger if len urls 0 returnresults process urls bot trigger urls bot seen url urls -1 ]for title domain in results 4] message u % title domain if message ! trigger bot message 
def repr attrs instance *attrs orig repr template '<{0.  class  .  module  }.{0.  class  .  name  }objectat{1 #x}'if attrs repr template orig repr template + ' ' + ' '.join ['{0} {{0.{0}}}'.format attr for attr in attrs repr template + '>'orig repr template + '>'try return repr template instance id instance except Exception return orig repr template instance id instance 
def  nsort roots separated False if not all r number for r in roots raise Not Implemented Errorkey [[i.n 2 .as real imag [0] for i in r real imag ] for r in roots any i prec 1 for k in key for i in k raise Not Implemented Error 'couldnotcomputerootwithprecision' key [ 1 if i else 0 r i for r i in key sorted zip key roots if separated r []i []for im _ _ v in key if im i v else r v return r i _ roots zip *key return list roots 
def check extras dist attr value try for k v in value if ' ' in k k m k ' ' 1 if pkg resources marker m raise Distutils Setup Error 'nvalidenvironmentmarker ' + m list pkg resources requirements v except Type Error Value Error Attribute Error raise Distutils Setup Error "'extras require 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def saveimage filename im if len im 3 cv2 filename 255 * im -1 ] else cv2 filename 255 * im 
def Validate Xsrf Token token action user str  Make User Str token obj memcache token namespace MEMCACHE NAMESPACE if not token obj return False token str token action token objif user str ! token str or action ! token action return Falsereturn True 
def make csrf token req session id ts None ts '%x' % ts if ts is not None else time payload [req.server.secret session id ts '%s-%s' % ts b64w sha512b '-'.join payload 
@skip unless environ 'GALAXY TEST INCLUDE SLOW' def test conda resolution failure base path mkdtemp prefix 'x' * 80 try job dir os base path '000' dependency manager Dependency Manager base path resolver Conda Dependency Resolver dependency manager auto init True auto install True use path exec False conda context resolver contextassert len list conda util conda targets conda context 0 dependency resolver name 'samtools' version None type 'package' job directory job dir assert dependency commands None is None installed targets list conda util conda targets conda context assert len installed targets 0 finally shutil base path 
def enable module module if not is module enabled module run as root 'a2enmod%s' % module 
def get cluster host req params cluster version None if cluster version is not False and req version request cluster version cluster name params 'cluster' msg _ 'neandonlyoneofclusterandhostmustbeset else cluster name Nonemsg _ 'ostfieldismissing host params 'host' if bool cluster name bool host raise exception Invalid Input reason msg return cluster name host 
def  Create Style From Config Parser config section 'yapf' if config section 'yapf' else 'style' if config option 'style' 'based on style based on config 'style' 'based on style .lower base style  STYLE NAME TO F A C T O R Y on elif config option 'yapf' 'based on style based on config 'yapf' 'based on style .lower base style  STYLE NAME TO F A C T O R Y on else base style  GLOBAL STYLE FACTORY for option value in config section if option 'based on style continueoption option if option not in  STYLE OPTION VALUE CONVERTER raise Style Config Error 'nknownstyleoption option try base style  STYLE OPTION VALUE C O N V E R T E R value except Value Error raise Style Config Error "'{}'isnotavalidsettingfor{}.".format value option return base style 
def  get inst ip port return  servers ip port None 
def  elements to dict data position obj end opts result opts class pos positionfor key value pos in  iterate elements data position obj end opts result valueif pos ! obj end raise Invalid B S O N 'badobjectorelementlength' return result 
def calculate results sim params env data portal splits None txns None commissions None txns txns or [] splits splits or {} commissions commissions or {} perf tracker perf Performance Tracker sim params get calendar 'NYSE' env results []for date in sim params for txn in filter lambda txn txn date txns perf tracker transaction txn try commissions for date commissions comm in commissions for date perf tracker commission comm except Key Error passtry splits for date splits tracker splits splits for date except Key Error passmsg perf tracker market close date data portal perf tracker tracker last sale prices date False data portal msg perf tracker account True results copy msg return results 
def get values for names names default value None result {}kvp dbs Key Value Pair by names names names name to kvp db map {}for kvp db in kvp dbs name to kvp db map db kvp db name in names result name to kvp db map name default value return result 
def maybe unroll group g try size len g except Type Error try size g  length hint   except Attribute Error Type Error return gelse return list g [0] if size 1 else g else return g if size 1 else g 
def pid by open file path if is available 'lsof' results call GET PID BY FILE LSOF % path [] if len results 1 pid results if pid return int pid return None 
@deprecated u def allequal seq if len seq < 2 return Trueval seq i in xrange 1 len seq thisval seq thisval ! val return Falsereturn True 
def  extract argmax and embed embedding output projection None update embedding True def loop function prev _ 'functionthatfeedpreviousmodeloutputratherthangroundtruth.'if output projection is not None prev tf plus b prev output projection output projection prev symbol tf prev 1 emb prev tf lookup embedding prev symbol if not update embedding emb prev tf gradient emb prev return emb prevreturn loop function 
def parse metadata state descriptions state string result {}state string state string if state string cols map strip state string ';' for c in cols colname vals map strip c ' ' 1 vals map strip vals ' ' result set vals return result 
def get auth from url url if url url unquote url parsed urlparse url return parsed parsed else return '' ''
def unmanaged D L L twain Environment Get Environment Variable 'ystem Root + '\\twain.dll' File Copy twain DLLS DIR + '\\twain.dll'
def dset sheet dataset ws  package dataset package dicts False for i sep in enumerate dataset separators  offset i package sep +  offset sep for i row in enumerate  package for j col in enumerate row if i 0 and dataset ws i j col bold ws frozen Truews split pos 1elif len row < dataset ws i j col bold else try if '\n' in col ws i j col wrap else ws i j col except Type Error ws i j col 
def  find dumb path challbs preferences path []for i challb in enumerate challbs supported next True for pref c in preferences if isinstance challb pref c False if supported path i else  report no chall path return path 
def  get top docs count top qs Wiki Document Visits related 'document' .filter period LAST 90 DAYS .order by '-visits' [ count [v.document for v in top qs 
def Array typecode or type size or initializer **kwds from multiprocessing import Arrayreturn Array typecode or type size or initializer **kwds
def  is task name value return is classic task name value or is task object value 
def cache page *args **kwargs if len args ! 1 or callable args raise Type Error 'cache pagehasasinglemandatorypositionalargument timeout cache timeout args alias kwargs 'cache' None key prefix kwargs 'key prefix None if kwargs raise Type Error 'cache pagehastwooptionalkeywordarguments cacheandkey prefix return decorator from middleware with args Cache Middleware cache timeout cache timeout cache alias cache alias key prefix key prefix 
def  add runner options for opt parser opt name include deprecated True conf  RUNNER O P T S name conf 'deprecated' and not include deprecated returnswitches conf 'switches' or [] for args kwargs in switches kwargs dict kwargs deprecated aliases kwargs 'deprecated aliases None kwargs opt nameif kwargs 'callback' kwargs 'action' 'callback' kwargs 'nargs' 1 kwargs 'type' 'string' if kwargs 'action' 'append' kwargs []else kwargs Noneparser option *args **kwargs if deprecated aliases and include deprecated help 'eprecatedalias % 'es' if len deprecated aliases > 1 else '' args -1 ] parser option *deprecated aliases **combine dicts kwargs dict help help 
def open file filename mode 'r' encoding None errors 'strict' lazy False atomic False if lazy return Lazy File filename mode encoding errors atomic atomic f should close open stream filename mode encoding errors atomic atomic if not should close f Keep Open File f return f 
def  make key value map entity property names value map dict name [] for name in property names for prop in entity list if prop in value map value map ].append datastore types Property Value To Key Value prop if datastore types K E Y SPECIAL PROPERTY in value map value map types K E Y SPECIAL PROPERTY] [datastore types Reference To Key Value entity ]return value map 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def equal any *values return I M P L any *values
def ver global  verif not  ver p subprocess Popen ['git' '--version'] stdout subprocess P I P E gvs p  git wait 'git--version' p m re 'gitversion \\S+.\\S+ ' gvs if not m raise Git Error 'git--versionweirdoutput %r' % gvs  ver tuple m 1 .split '.' needed '1' '5' '3' '1' if  ver < needed raise Git Error 'gitversion%sorhigherisrequired;youhave%s' % '.'.join needed '.'.join  ver return  ver 
def render doc thing title 'ython Library Documentation %s' forceload 0 object name resolve thing forceload desc describe object module inspect object if name and '.' in name desc + 'in' + name name '.' ] elif module and module is not object desc + 'inmodule' + module  name   if type object is  OLD INSTANCE TYPE object object  class  elif not inspect object or inspect object or inspect object or inspect object or inspect object or isinstance object property object type object desc + 'object'return title % desc + '\n\n' + text object name 
@task@cmdopts [ 'suite ' 's' 'estsuitetorun 'coverage' 'c' 'untestundercoverage ] @timeddef test js run options options 'run'test js options 
def get Bottom Paths paths bottom 999999999.9for path in paths for point in path bottom min bottom point return bottom 
def normaltest a axis 0 a axis  chk asarray a axis s _ skewtest a axis k _ kurtosistest a axis k2 s * s + k * k return Normaltest Result k2 distributions k2 2
def svnadmin available return os django S V N A D M I N PATH
def ensure csrf cookie cross domain func def  inner *args **kwargs if args request args M E T A C R O S S DOMAIN CSRF COOKIE USED'] Truereturn ensure csrf cookie func *args **kwargs return  inner 
def yield dynamic descriptor descendants descriptor user id module creator None stack [descriptor]while len stack > 0 next descriptor stack stack get dynamic descriptor children next descriptor user id module creator yield next descriptor 
def sensitivity score y true y pred labels None pos label 1 average 'binary' sample weight None s _ _ sensitivity specificity support y true y pred labels labels pos label pos label average average warn for 'sensitivity' sample weight sample weight return s 
def url to parts url scheme urlparse url .schemeschemeless url len scheme + 3 ]parts urlparse u //' + schemeless path parts or u path path ] if path and path u else path return urlparts scheme unquote parts or u or None parts unquote parts or u or None unquote parts or u or None unquote path or u or None dict parse qsl parts 
def Thing2 Literal o d return string literal o d 
def  get display cls format dummy lambda *args **kwargs None try import I Python as displayexcept Import Error return dummyif format in IPYTHON NO DISPLAY FORMATS return dummyelif format in IPYTHON IMAGE FORMATS return partial display Image format format elif format 'svg' return display S V Gelse raise Value Error "nknownformat graph % format 
def parse call group source info ch pos if ch 'R' group '0'else group ch + source while DIGITS source ' ' return Call Group info group pos 
def  api test osd name output kwargs logging 'ending O S Dnotification res sabnzbd notify osd ' A Bnzbd T 'est Notification return report output error res 
def proplist root fn result []for path in propfiles root fn try f open path except I O Error continuewhile 1 line f if line 'END' breakassert line 'K' L int line [1] key f L result key f line f assert line 'V' L int line [1] value f L f f return result 
def user media path what default os settings M E D I A ROOT what key '{0} P A T H what return getattr settings key default 
def get All Pages referenceable method Name *args **kw d defer Deferred referenceable Remote method Name Callback Page Collector d *args **kw return d 
def  process image annotations image return {'faces'  make faces from pb image annotations 'labels'  make entity from pb image annotations 'landmarks'  make entity from pb image annotations 'logos'  make entity from pb image annotations 'properties'  make image properties from pb image properties annotation 'safe searches  make safe search from pb image search annotation 'texts'  make entity from pb image annotations }
def sampled live config var def sampled decorator fn @functools.wraps fn def sampled fn *a **kw if random > g config config var return Noneelse return fn *a **kw return sampled fnreturn sampled decorator 
def  json format dict data pretty False if pretty return json data sort keys True indent 2 else return json data 
def is bulk request request content type request typereturn 'ext bulk in content type 
def parse firstboot rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--enable' '--enabled' dest 'enable' action 'store true parser argument '--disable' '--disabled' dest 'disable' action 'store true parser argument '--reconfig' dest 'reconfig' action 'store true args clean args vars parser args rules parser Nonereturn args 
def cell with item cell name item if cell name is None return itemreturn cell name +  CELL ITEM SEP + str item 
def  invalidate string dtypes dtype set non string dtypes dtype set -  string dtypes if non string dtypes ! dtype set raise Type Error "stringdtypesarenotallowed use 
@receiver COURSE CERT AWARDED sender Generated Certificate def create course badge sender user course key status **kwargs course badge check user course key 
def inputvars a return [v for v in inputs makeiter a if isinstance v tt Tensor Variable ]
def write features to file filename locs desc savetxt filename hstack locs desc 
def pw Decode epw if not epw Encode Marker return epwreturn base64 epw ].encode u [32 -32 ].decode u 
def is valid med med return isinstance med numbers Integral and 0 < med < 4294967295
def  Validate Sources For O S X spec all sources if spec 'type' None ! 'static library returnbasenames {}for source in all sources name ext os source is compiled file ext in ['.c' '.cc' '.cpp' '.cxx' '.m' '.mm' '.s' '.S'] if not is compiled file continuebasename os name basenames basename [] .append source error ''for basename files in basenames if len files > 1 error + '%s %s\n' % basename ''.join files if error print 'staticlibrary%shasseveralfileswiththesamebasename \n' % spec name + error + ' S Xwillgenerate + 'warningsforthem.' raise Gyp Error 'uplicatebasenamesinsourcessection seelistabove 
def  get epochs delayed ssp raw read raw fif raw fname events read events event name picks  get picks raw reject dict mag 4e-12 epochs delayed ssp Epochs raw events 10] event id tmin tmax picks picks proj 'delayed' reject reject return epochs delayed ssp 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def make Getpass *passphrases passphrases iter passphrases def fake Getpass _ return next passphrases return fake Getpass 
def wait for http server host port for i in range 10 conn httplib H T T P Connection host port conn 'GET' '/' if conn .status 200 breaktime 0.1 else template "est H T T Pserveronhost O K template % host port raise Exception message 
def creategroup name primary cluster id replication group description wait None region None key None keyid None profile None ret {'name' name 'result' None 'comment' '' 'changes' {}}is present   salt  ['boto elasticache exists name region key keyid profile if not is present if   opts  ['test'] ret 'eplication name ret Nonecreated   salt  ['boto elasticache replication group name primary cluster id replication group description wait region key keyid profile if created config   salt  ['boto elasticache replication group name region key keyid profile ret Noneret configret Trueelse ret Falseret 'ailedtocreate name else ret '{0}replicationgroupexists.'.format name ret Truereturn ret 
def  list files folder pattern for root folders files in os folder for filename in files if fnmatch filename pattern yield os root filename 
def get socket inherit socket try if iswindows import win32api win32conflags win32api Get Handle Information socket return bool flags & win32con H A N D L E FLAG INHERIT else import fcntlflags fcntl socket fcntl F GETFD return not bool flags & fcntl F D CLOEXEC except import tracebacktraceback exc 
def find sockdir for dir in SEARCH DIRS for dirpath dirnames dirfiles in os dir followlinks True for name in dirfiles if utils sockfile os dirpath name and 'PGSQL' in name return dirpath 
def Copy To Clipboard string h Wnd lib Get Console Window if lib Open Clipboard h Wnd cstring ffi 'char[]' string size ffi cstring h Global lib Global Alloc lib G M E M MOVEABLE size buffer lib Global Lock h Global lib buffer cstring size lib Global Unlock h Global res lib Empty Clipboard res lib Set Clipboard Data lib C F TEXT buffer lib Close Clipboard 
def test train predict3 import tempfilesp Sequence Pattern 'sorted' in seq len 10 out seq len 10 tempdir tempfile ts2s T F Learn Seq2 Seq sp seq2seq model 'embedding attention data dir tempdir name 'attention' tf default graph ts2s num epochs 1 num points 1000 weights output fn 1 weights input fn 0 assert os ts2s output fn tf default graph sp Sequence Pattern 'sorted' in seq len 20 out seq len 8 tf default graph ts2s T F Learn Seq2 Seq sp seq2seq model 'embedding attention data dir 'DATA' name 'attention' verbose 1 x np 0 9 20 prediction y ts2s x weights input fn 1 assert len prediction 8 os 'rm-rf%s' % tempdir 
def as Bytes obj if isinstance obj list return map as Bytes obj elif isinstance obj dict return dict as Bytes k as Bytes v for k v in obj elif isinstance obj unicode return obj 'utf-8' else return obj 
def get edit filters edit filetypes get edit filetypes return  get filters edit filetypes 
def get hasher algorithm 'default' if hasattr algorithm 'algorithm' return algorithmelif algorithm 'default' return get hashers [0]else hashers get hashers by algorithm try return hashers Key Error raise Value Error "nknownpasswordhashingalgorithm Didyouspecifyitinthe P A S S W O R D H A S H E R Ssetting % algorithm 
def   kwargs option to dict raw value kwargs {}if raw value for binding in raw value ' ' name value binding ' ' if value 'true' value Trueelif value 'false' value Falseelif value value int value kwargs valuereturn kwargs 
def get confirmation question while True response input u y ' % question .lower if re u response is not None breakprint u Incorrectoption % response return response u 
def  get linux adapter name and ip address mac address network adapters  get linux network adapters return  get adapter name and ip address network adapters mac address 
@synchronized IO LOCK def save data data  id path do pickle True silent False if not silent logging 'avingdatafor  id path path os path  id try  f open path 'wb' if do pickle if cfg pickle pickler pickle Pickler  f 2 else pickler c Pickle Pickler  f 2 pickler data  f  f pickler memo del picklerelse  f data  f  f except logging T 'aving path logging 'raceback ' exc info True 
def  get priceful request item quantity if hasattr item 'get price info if hasattr item 'is variation parent if item variation parent return item cheapest child price info request quantity return item price info request quantity quantity if hasattr item 'get total cost return item total cost request assert isinstance item Priceful return item 
def get parent pid return psutil Process .ppid
@apply to text filedef typogrify sans widont data if typo is None req missing ['typogrify'] 'usethetypogrify sans widontfilter data  normalize html data data typo data data typo data data typo quotes data return data 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
@raises Value Error def test randomize corrmat tail error a rs 3 30 algo corrmat a 'hello'
def get Slice Element Z slice Element id Value slice Element Dictionary return float id Value 'z ' ].strip
def  module to dict module omittable lambda k k '_' return dict [ k repr v for k v in module  dict  .items if not omittable k ]
def can delete cc content context return  is author or privileged cc content context 
def acl group add hosts id hosts group models Acl Group get id group for acl violation acl group hosts models Host get bulk hosts group *hosts group host membership change 
def  getitem array1d context builder arrayty array idx wraparound ptr cgutils item pointer builder arrayty array [idx] wraparound wraparound return load item context builder arrayty ptr 
def disable profiling profile service signal frame current time strftime ' H M S path File Path '/var/lib/flocker' path path 'profile-{service}-{current time service service current time current time profile stats path 
def is abstract node return A B S T R A C T node 
def Insert Nodes After new nodes target for node in reversed new nodes  Insert Node At node target after True 
def get recipients doc fetched from email account False recipients split emails doc if recipients recipients filter email list doc recipients [] return recipients 
def get safe settings settings dict {}for k in dir settings if k settings dict cleanse setting k getattr settings k return settings dict 
def  lin field coeff surf mult rmags cosmags ws bins n jobs parallel p fun _ parallel func  do lin field coeff n jobs nas np splitcoeffs parallel p fun surf t tn ta rmags cosmags ws bins for t tn ta in zip nas surf n jobs nas surf nn n jobs nas surf area n jobs return mult * np coeffs axis 0
def run crawler projects get projects for file path project in projects logging u Processing % file path if api key is not None try add ohloh metadata project except logging u Skipping Ohlohmetadataforproject % project save project project file path logging u Writingtotables write to table projects logging u Done 
def Dot return Leaf token D O T '.'
def get log format server  DEFAULT SERVER log format types get log format types format id  get wmi setting ' Is Smtp Server Setting 'og Plugin Clsid server for key in log format types if str format id log format types return key L O G 'nabletodeterminelogformat return None 
def  full live path cli config lineagename return os cli config dir lineagename 
def activity funding return s3 rest controller 
def  shared login request csession request request csession 'logged in None if csession key is None csession elif player authenticated if not sesslogin csession in player sesslogin player Player D B id sesslogin try authenticate autologin player login request player except Attribute Error logger trace 
def is valid email email return '@' in email and '.' in email 
def  normalize dataframe dataframe index data dataframe grouped data index sort False counted grouped averaged counted axis 1 return averaged 
def latest stable version get metadata loads get environ 'LE AUTO JSON URL' 'https //pypi.python.org/pypi/certbot/json' return str max Loose Version r for r in metadata if re '^[0-9.]+$' r 
def set stay open new stay open global stay openstay open new stay open 
def empty if none fn def wrapper value if value is None return ''return fn value return wrapper 
def get repository metadata by repository id changeset revision app id changeset revision metadata only False if metadata only repository metadata get repository metadata by changeset revision app id changeset revision if repository metadata and repository metadata return repository metadata Nonereturn get repository metadata by changeset revision app id changeset revision 
def get cmdclass cmdclass versioneer cmdclass try from wheel wheel import bdist wheelexcept Import Error bdist wheel Noneif bdist wheel is not None cmdclass wheel bdist wheelreturn cmdclass 
def is torrent or nzb file filename if not isinstance filename str unicode return Falsereturn filename u [2].lower in [u'nzb' u 
def get instance public methods instance instance members inspect instance instance methods {}for name member in instance members if not name '_' if inspect member instance methods memberreturn instance methods 
def register service by type request url request P O S T 'url' type request P O S T 'type' url  clean url url services Service base url url if services > 0 return type server  verify service type url type if type 'WMS' or type 'OWS' return  process wms service url type None None wms server elif type 'REST' return  register arcgis url url None None None 
def manual variable initialization value global  MANUAL VAR INIT MANUAL VAR INIT value 
def str File p f case Sensitive True buf type p buf len max len p 2 ** 2 ** 2 ** 2 if not case Sensitive p p while 1 r f buf len - len p if not case Sensitive r r bytes read len r if bytes read 0 return Falsel len buf + bytes read - buf len if l < 0 buf buf + r else buf buf ] + r if buf p ! -1 return True 
def get content b None c request f request l 'en' format 'markmin' def openfile import ospath os request 'private' 'content' l c f b + '.' + format return open file path mode 'r' try openedfile openfile except Exception I O Error l 'en'openedfile openfile if format 'markmin' html MARKMIN str T openedfile markmin dict else html str T openedfile openedfile return html 
def ckplayer get info by xml ckinfo e ET.XML ckinfo video dict {'title' '' 'links' [] 'size' 0 'flashvars' ''}if ' text in dictify e ['ckplayer']['info'][0]['title'][0] video dict dictify e ['ckplayer']['info'][0]['title'][0][' text if ' text in dictify e ['ckplayer']['video'][0]['size'][0] video dict sum [int i text for i in dictify e ['ckplayer']['video']] if ' text in dictify e ['ckplayer']['video'][0]['file'][0] video dict [i['file'][0][' text for i in dictify e ['ckplayer']['video']]if ' text in dictify e ['ckplayer']['flashvars'][0] video dict dictify e ['ckplayer']['flashvars'][0][' text return video dict 
def convert Date Property model prop kwargs if prop now or prop now add return Nonereturn f Date Field format ' **kwargs
def test eager does upgrade dependecies when no longer satisfied script script install local 'simple 1.0' expect error True result script install local '--upgrade' '--upgrade-strategy eager 'require simple expect error True assert script packages / 'require simple % pyversion not in result deleted 'shouldhaveinstalledrequire simple 1.0'assert script packages / 'simple-3.0-py%s.egg-info' % pyversion in result created 'shouldhaveinstalledsimple 3.0'assert script packages / 'simple-1.0-py%s.egg-info' % pyversion in result deleted 'shouldhaveuninstalledsimple 1.0'
def safe str cmp a b if isinstance a text type a a 'utf-8' if isinstance b text type b b 'utf-8' if  builtin safe str cmp is not None return  builtin safe str cmp a b if len a ! len b return Falserv 0if PY2 for x y in izip a b rv | ord x ^ ord y else for x y in izip a b rv | x ^ y return rv 0
def check index ind dimension if isinstance ind list x np ind if x > dimension .any or x < - dimension .any raise Index Error 'ndexoutofbounds % dimension elif isinstance ind slice returnelif ind > dimension raise Index Error 'ndexisnotsmallerthandimension %d' % ind dimension elif ind < - dimension msg 'egativeindexisnotgreaterthannegativedimension -%d'raise Index Error msg % ind dimension 
def cinder todo format physical line pos physical line 'TODO' pos1 physical line 'TODO ' pos2 physical line '#' if pos ! pos1 and pos2 > 0 and pos2 < pos return pos 'CINDERN101 Use T O D O NAME '
def Run In Transaction function *args **kwargs return Run In Transaction Options None function *args **kwargs
def get temp imagefilename url img  urlopen url .read im Image Bytes I O img f tempfile Named Temporary File delete False suffix '.png' fname f im fname 'PNG' return fname 
@staticmethoddef Python Partial func *args **keywords def newfunc *fargs **fkeywords newkeywords keywords newkeywords fkeywords return func * args + fargs **newkeywords newfunc funcnewfunc argsnewfunc keywordsreturn newfunc 
def all collectors return C O L L E C T O R S 
def directory path use sudo False owner '' group '' mode '' func use sudo and run as root or run if not is dir path func 'mkdir-p"% path s % locals if owner and  owner path use sudo ! owner or group and  group path use sudo ! group func 'chown% owner s % group s path s % locals if mode and  mode path use sudo ! mode func 'chmod% mode s path s % locals 
def debug host 'localhost' port 6000 authkey 'secretpassword' init host port authkey qdb debug 
def theilslopes y x None alpha 0.95 y ma y .flatten if x is None x ma len y dtype float else x ma x .flatten if len x ! len y raise Value Error 'ncompatiblelengths %s<>%s ' % len y len x m ma or ma x ma y y mask x mask my y x x .astype float return stats theilslopes y x alpha alpha 
def  gem command ruby None runas None gem bin None cmdline [ gem bin or 'gem' ] + command if gem bin is None if   salt  ['rvm.is installed runas runas return   salt  ['rvm.do'] ruby cmdline runas runas if not salt windows and   salt  ['rbenv.is installed runas runas if ruby is None return   salt  ['rbenv.do'] cmdline runas runas else return   salt  ['rbenv.do with ruby ruby cmdline runas runas ret   salt  ['cmd.run all cmdline runas runas python shell False if ret 0 return ret raise Command Execution Error ret 
def get steps pkg distribution package source Package Source if distribution not in PACKAGED CLIENT DISTRIBUTIONS raise Usage Error 'istribution Availabledistributions %s' % distribution ' '.join PACKAGED CLIENT DISTRIBUTIONS package manager DOCKER I M A G E S managersteps [ensure minimal setup package manager task cli pkg install distribution package source ]return steps 
def uml format source language css class return u "%s"><code>%s</code></pre>' % css class  escape source 
def dead code elimination graph du ud for node in graph for i ins in node loc with ins [ ] reg ins lhs if reg is not None if reg i not in du if ins call ins defined var elif ins side effect continueelse update chain graph i du ud graph ins i 
def execute from command line argv None utility Management Utility argv utility 
def transform to group ids group names mapping id identity api resource api def resolve domain domain "eturndomainid Inputisadictionarywithadomainidentifiedeitherbya Inthelattercasesystemwillattempttofetchdomainobject returns domain rtype str id domain 'id' or resource api domain by name domain 'name' .get 'id' return domain idfor group in group names try group dict identity api group by name group resolve domain group yield group dict except exception Group Not Found raise exception Mapped Group Not Found group id group mapping id mapping id 
def get theme sass dirs system theme dir if system not in 'lms' 'cms' raise Value Error '"system"musteitherbe"lms"or"cms"' dirs []system sass dir path system / 'static' / 'sass' sass dir theme dir / system / 'static' / 'sass' css dir theme dir / system / 'static' / 'css' dependencies SASS LOOKUP D E P E N D E N C I E S system [] if sass dir css dir p dirs {'sass source dir system sass dir 'css destination dir css dir 'lookup paths dependencies + [ sass dir / 'partials' system sass dir / 'partials' system sass dir } dirs {'sass source dir sass dir 'css destination dir css dir 'lookup paths dependencies + [ sass dir / 'partials' system sass dir / 'partials' system sass dir } return dirs 
def p declaration list 1 t pass 
def transfer get context transfer id return I M P L get context transfer id 
def validate configuration configuration schema {'$schema' 'http //json-schema.org/draft-04/schema#' 'type' 'object' 'required' ['version' 'control-service' 'dataset'] 'properties' {'version' {'type' 'number' 'maximum' 1 'minimum' 1} 'control-service' {'type' 'object' 'required' ['hostname'] 'properties' {'hostname' {'type' 'string' 'format' 'hostname'} 'port' {'type' 'integer'}}} 'dataset' {'type' 'object' 'properties' {'backend' {'type' 'string'}} 'required' ['backend']} 'logging' {'type' 'object'}}}v Draft4 Validator schema format checker Format Checker v configuration 
def get dataset backend test case backend environ 'FLOCKER ACCEPTANCE VOLUME BACKEND' if backend is None raise Skip Test 'etacceptancetestingvolumebackendusingthe + 'FLOCKER ACCEPTANCE VOLUME B A C K E N Denvironmentvariable return backend loader backend 
def check is left name lhs rhs  split left right name if lhs u return Trueelif rhs u ' return Trueelif rhs u return Truereturn False 
def enable caching  option  opt str  value  parser debug 'nabling Caching global CACHECACHE Cache Tree Cache Storage invalidator Invalidator config C A C H E True 
def  regexify subfmts subfmts new subfmts []for subfmt tuple in subfmts subfmt in subfmt tuple strptime code regex in u Y u ? ' u u ? 2} ' u u ? 2} ' u H u ? 2} ' u M u ? 2} ' u S u ? 2} ' subfmt in subfmt in strptime code regex if u not in subfmt in subfmt tuple subfmt tuple re subfmt in + u subfmt tuple new subfmts subfmt tuple return tuple new subfmts 
def help stream s '' * 2 usage '\n'usage + s + grey u + 'witchingstreams usage + s * 2 + light green ' K B + 'willswitchtopublicstreamandfollow"' + light yellow 'AKB' + '"keyword.\n' usage + s * 2 + light green 'switchmine' + 'willswitchtoyourpersonalstream.\n' usage + s * 2 + light green 'switchmine-f' + 'willprompttoenterthefilter.\n' usage + s * 3 + light yellow 'nlynicks + ' N C L U D E O N L Y usage + s * 3 + light yellow 'gnorenicks + ' X C L U D E usage + s * 2 + light green 'switchlist' + "witterlist Youwillbeaskedforlistname print Nicely usage 
def strip eps font filename inf open filename filecache []in ttf Falsefor line in inf if 'itstream in line line line 'itstream Vera Sans Roman 'rial if line 'egin Font in ttf Trueif line 'nd Font in ttf Falsecontinueif in ttf continueelse filecache line inf ouf open filename 'w+' ouf ''.join filecache ouf 
def add edited exploration id user id exploration id user contributions get user contributions user id strict False if not user contributions create user contributions user id [] [exploration id elif exploration id not in user contributions exploration ids user contributions exploration ids exploration id user contributions exploration ids  save user contributions user contributions 
def Xcode Version global XCODE VERSION C A C H Eif XCODE VERSION CACHE return XCODE VERSION C A C H Etry version list Get Stdout ['xcodebuild' '-version'] .splitlines if len version list < 2 raise Gyp Error 'xcodebuildreturnedunexpectedresults' except version C L T Version if version version re ' \\d\\.\\d\\.?\\d* ' version .groups [0]else raise Gyp Error 'o Xcodeor C L Tversiondetected version list [version '']version version list version list -1 ]version version [ -1 ].replace '.' '' version version + '0' * 3 - len version .zfill 4 if build build build [ -1 ]XCODE VERSION CACHE version build return XCODE VERSION CACHE
def  filter nodes superclass all nodes  all nodes node names node  name   for node in all nodes if issubclass node superclass return frozenset node names 
def get interface language try locale language locale [0]except Value Error locale language DEFAULT L A N G U A G Elanguage DEFAULT L A N G U A G Eif locale language is not None spyder languages get available translations for lang in spyder languages if locale language lang language locale languagebreakelif locale language lang or lang locale language language langbreakreturn language 
def  plugin replace role name contents plugins for p in plugins role hook p role hook name if role hook return role hook contents return ' {0} `{1}`'.format name contents 
def wrap things *things if not things return []wrapped [rapped thing for thing in things hasattr things 'add props things props c wrapped return wrapped 
def destroy resource resource try resource except err None 'estroyingresource 
def backend cache page handler cache time None cache name None if not cache time cache time settings C A C H E T I M Eif not cache name cache name 'default'if caching is enabled @condition last modified func partial calc last modified cache name cache name @cache control no cache True @cache page cache time cache cache name def backend cache page wrapper fn request *args **kwargs return handler request *args **kwargs else def backend cache page wrapper fn request *args **kwargs return handler request *args **kwargs return backend cache page wrapper fn 
def threshold niblack image window size 15 k 0.2 m s  mean std image window size return m - k * s 
def get fontconfig fonts fontext u fontext get fontext synonyms fontext return [fname for fname in  call fc list if os fname [1][1 ] in fontext ]
def test make imbalance invalid ratio y  np X y [0] 1ratio 0.5assert raises Value Error make imbalance X y  ratio 
def recursive sort obj if isinstance obj dict for v in obj recursive sort v elif isinstance obj list obj for i in obj recursive sort i return obj 
def install rbenv name user None ret {'name' name 'result' None 'comment' '' 'changes' {}}if   opts  ['test'] ret 'benvissettobeinstalled retreturn  check and install rbenv ret user 
def  get version from pkg info package name try pkg info file open 'PKG-INFO' 'r' except I O Error O S Error return Nonetry pkg info email from file pkg info file except email Message Error return Noneif pkg info 'ame None ! package name return Nonereturn pkg info 'ersion None 
def vstack tables join type u metadata conflicts u tables  get list of tables tables if len tables 1 return tables name map Ordered Dict out  vstack tables join type col name map  merge col meta out tables col name map metadata conflicts metadata conflicts  merge table meta out tables metadata conflicts metadata conflicts return out 
def reduce list data set seen set return [item for item in data set if item not in seen and not seen item ]
def  init log log dir desktop logging PROC NAME log dir if os 0 desktop log dir g user uid g user gid 
def skip if windows reason def decorator func return unittest If platform not in [arwin 'inux reason func return decorator 
def  compat name new name compat name None if compat name is not None assert 'slave' in compat name assert new name '' or 'worker' in new name new namereturn compat namecompat replacements {'worker' 'slave' 'orker 'lave name new nameassert 'slave' not in compat name assert 'worker' in compat name for new word old word in iteritems compat replacements compat name compat name new word old word assert compat name ! new name assert 'slave' in compat name assert 'worker' not in compat name return compat name 
def will expire certificate days ret {}if os certificate try ret certificateret days dayscert  get certificate obj certificate  check time datetime + datetime days days  expiration date cert not after .get datetime ret  parse subject cert subject [ N  expiration date ' H %M %S' <  check time ' H %M %S' ret expire Trueelse ret expire Falseexcept Value Error passreturn ret 
def get script header script text executable sys executable wininst False from distutils scripts import first line refirst script text + '\n' .splitlines [0]match first line re first options ''if match options match 1 or '' if options options '' + options if wininst executable 'python.exe'else executable nt quote arg executable hdr '#!% executable s options s % locals if unicode hdr 'ascii' 'ignore' .encode 'ascii' ! hdr if options if options .startswith '-' options '-x' + options [1 ] else options '-x'executable fix jython executable executable options hdr '#!% executable s options s % locals return hdr 
def get restart freeze ret salt utils return result 'systemsetup-getrestartfreeze' return salt utils enabled salt utils return ret 'on'
def normalize argv args size 0 args list args for idx val in enumerate args if to int val is not None args to int val if size and idx size return args idx size 0 return argsfor i in range len args size args + [one args 
def get cpu temp res os 'vcgencmdmeasure temp .readline t cpu float res 'temp ' '' .replace " '' return t cpu 
def compare a b if HAVE COMPARE DIGEST return hmac digest a b result len a ^ len b for i in xrange len b result | ord a i % len a ] ^ ord b return result 0
def Get Output File return rl 
def fixb2context root root class 'ext '<B2>' root class 'ext '2 Motion root class 'ext 'aste Selection 
def  make subtarget targetctx flags subtargetoptions {}if flags subtargetoptions boundcheck Trueif flags subtargetoptions nrt Trueerror model callconv error model flags model targetctx subtargetoptions model error modelreturn targetctx **subtargetoptions
def cache required func def wrapper self *args **kwargs if not self cached criterias log u Nonecacheddata Synchronizing self database return func self *args **kwargs return wrapper 
def  get tz tz zone tslib timezone tz if zone is None zone tslib seconds tz return zone 
def  Seq I O to alignment iterator handle format alphabet None seq count None from Bio import Seq I Oassert format in Seq I O Format To Iterator if seq count seq record iterator Seq I O handle format alphabet records []for record in seq record iterator records record if len records seq count yield Multiple Seq Alignment records alphabet records []if records raise Value Error 'heckseq countargument notenoughsequences else records list Seq I O handle format alphabet if records yield Multiple Seq Alignment records alphabet 
@salt.utils.decorators.which 'rar' def rar rarfile sources template None cwd None runas None if isinstance sources string types sources [s.strip for s in sources ' ' ]cmd ['rar' 'a' '-idp' '{0}'.format rarfile ]cmd.extend sources return   salt  ['cmd.run'] cmd cwd cwd template template runas runas python shell False .splitlines
def clear B A C K E N D 
def test topicsread topic user topicsread Topics Read topicsread id user id topic id topic idtopicsread read datetime topicsread assert topicsread is not None topicsread topicsread Topics Read by topic id topicsread id .first assert topicsread is None 
def test line split sp completer Completion Splitter t [ 'runsome/scrip' '' 'some/scrip' 'runscripts/er' 'ror.pyfoo' 'scripts/er' ' O M '' 'HOM' 'printsys.pa' '' 'sys.pa' 'print sys '' 'sys.pa' "execfile 'scripts/er" '' 'scripts/er' 'a[x.' '' 'x.' 'a[x.' 'y' 'x.' 'cd"some file '' 'some file ]check line split sp t check line split sp [map str p for p in t 
def init mappings mappings for sectname section in mappings for optname mapping in section default mapping default log 'aveddefaultfor {!r}'.format sectname optname default value config sectname optname log 'etting sectname optname value mapping value 
def  studio wrap xblock xblock view frag context display name only False if not context 'is pages view None and view in PREVIEW VIEWS root xblock context 'root xblock is root root xblock and xblock root xblock is reorderable  is xblock reorderable xblock context template context {'xblock context context 'xblock' xblock 'show preview context 'show preview True 'content' frag 'is root is root 'is reorderable is reorderable 'can edit context 'can edit True 'can edit visibility context 'can edit visibility True 'can add context 'can add True }html render to string 'studio xblock wrapper template context frag wrap fragment frag html return frag 
def pass through info inner *args **kw   traceback info   inforeturn inner *args **kw
def decorated dummy dec name warnings 'hefunction dummy I Python4 Deprecation Warning stacklevel 2 dummy lambda None dummy  name   namereturn dec dummy 
def print event e event dict {'retweet' notify retweet 'favorite' notify favorite 'unfavorite' notify unfavorite 'follow' notify follow 'list member added notify list member added 'list member removed notify list member removed 'list user subscribed notify list user subscribed 'list user unsubscribed notify list user unsubscribed dict e lambda *args None e 
def peep hash argv parser Option Parser usage 'usage %proghashfile[file...]' description 'rintapeephashlineforoneormorefiles forexample "#sha256 oz42d Zy6 Gowxw8 Ael Dt O4g Rg T W x Pdoo H484k I5 E O Y _ paths parser args args argv if paths for path in paths print '#sha256 ' hash of file path return ITS FINE ITS F I N Eelse parser usage return COMMAND LINE ERROR
def  atanh p x prec R p R 1 c [one]p2 rs square p x prec for k in range 1 prec c one / 2 * k + 1 s rs series from list p2 c x prec s rs mul s p x prec return s 
def matcher pattern txt if txt pattern txt txt txt pattern ].strip return not txt or txt '"' else return False 
def random powerlaw tree sequence n gamma 3 seed None tries 100 if seed is not None random seed z nx sequence n exponent gamma zseq [min n max int round s 0 for s in z nx sequence tries exponent gamma swap [min n max int round s 0 for s in z deg in swap if 2 * n - sum zseq 2 return zseqindex random 0 n - 1 zseq swap raise nx Network X Error 'xceededmax %d attemptsforavalidtreesequence % tries 
def run on appengine gdata service store tokens True single user mode False deadline None gdata service client App Engine Http Client deadline deadline gdata service store App Engine Token Store gdata service store tokens store tokensgdata service set current token single user modereturn gdata service 
def histogram async image data rpc None image Image image data return image async rpc 
def placement init global  ENFORCER P L A C E M E N Tif not  ENFORCER PLACEMENT rules policy Rules jsonutils {'placement' 'role admin  ENFORCER PLACEMENT policy Enforcer CONF rules rules use conf False 
def  ip range splitter ips block size 256 out []count 0for ip in ips out ip count + 1if count > block size - 1 yield out out []count 0if out yield out 
def impl ret untracked ctx builder retty ret return ret 
def usage parser help sys 2
def get vm id kwargs None call None if call 'action' raise Salt Cloud System Exit 'heget vm idfunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None if name is None raise Salt Cloud System Exit 'heget vm idfunctionrequiresaname try ret list nodes [name]['id']except Key Error raise Salt Cloud System Exit "he V M name return ret 
def trim str string max len concat char if len string > max len return string max len - len concat char ] + concat char return string 
def  sniffnfix pg9 hex value try if value 'x' return binascii value ] elif value '\\x' return binascii value ] else return valueexcept Exception return value 
def import no db in virt logical line filename if 'nova/virt' in filename and not filename 'fake.py' if logical line 'fromnovaimportdb' yield 0 'N307 nova 
def  precord model klass further classes set if issubclass klass P Record attr name ' precord fields attr name ' pclass fields {u'category' u u {}}for name field info in getattr klass attr name .items record sorted fqpn cls for cls in field info for cls in field info further classes cls return record further classes 
def grouped correlation formatter bt rhos pvals f rhos f pvals f hs grouping category category values md key header ['OTU'] + [ 'ho %s %s' % grouping category c for c in category values + [ 'val %s %s' % grouping category c for c in category values + [isherpopulationcorrelation 'ishercombinedp 'omogeneitypval md key num lines len f rhos lines [' DCTB '.join header ]for i in range num lines tmp rhos [x[i] for x in rhos pvals [x[i] for x in pvals [bt.ids axis 'observation' [i]] + tmp rhos + tmp pvals + [f rhos + [f pvals + [f hs lines ' DCTB '.join map str tmp nls  add metadata bt md key lines return nls 
def make environment relocatable home dir home dir lib dir inc dir bin dir path locations home dir activate this os bin dir 'activate this if not os activate this logger "heenvironmentdoesn % activate this fixup scripts home dir bin dir fixup pth and egg link home dir 
def get network adapter type adapter type if adapter type 'vmxnet' return vim Virtual Vmxnet elif adapter type 'vmxnet2' return vim Virtual Vmxnet2 elif adapter type 'vmxnet3' return vim Virtual Vmxnet3 elif adapter type 'e1000' return vim Virtual E1000 elif adapter type 'e1000e' return vim Virtual E1000e 
def  quotify mystr quote '"'l len mystr for i in range l if mystr '\\' and i + 1 < l and mystr i + 1 ] "'" quote "'"breakelif mystr '\\' and i + 1 < l and mystr i + 1 ] '"' quote '"'breakelif mystr "'" quote '"'breakelif mystr '"' quote "'"breakreturn quote + mystr + quote 
def addgroup name group name  cmd quote name group  cmd quote group .lstrip "'" .rstrip "'" user info name if not user return Falseif group in user return Truecmd 'netlocalgroup"{0}"{1}/add'.format group name ret   salt  ['cmd.run all cmd python shell True return ret 0
def solve discrete lyapunov a q complex step False eye np a if not complex step a H a .transpose a H I inv np a H + eye b np a H - eye a H I inv c 2 * np np np a + eye q a H I inv return solve sylvester b .transpose b - c else a H a a H I inv np a H + eye b np a H - eye a H I inv c 2 * np np np a + eye q a H I inv return solve sylvester b b - c 
def summarize text ratio 0.2 word count None split False sentences  clean text by sentences text if len sentences 0 logger 'nputtextisempty returnif len sentences 1 raise Value Error 'inputmusthavemorethanonesentence' if len sentences < INPUT MIN LENGTH logger 'nputtextisexpectedtohaveatleast + str INPUT MIN LENGTH + 'sentences.' corpus  build corpus sentences most important docs summarize corpus corpus ratio ratio if word count is None else 1 extracted sentences  extract important sentences sentences corpus most important docs word count extracted sentences key lambda s s return  format results extracted sentences split 
def custom check cmd ignore retcode False p custom popen cmd out err p if p and not ignore retcode raise Rar Exec Error 'heck return out 
def test allknn fit allknn All K N N random state RND SEED allknn X Y assert equal allknn c  0 assert equal allknn c  2 assert equal allknn c [0] 4 assert equal allknn c [1] 16 assert equal allknn c [2] 20
def  split ref line line fields line '\n\r' .split '' if len fields ! 2 raise Packed Refs Exception 'invalidrefline%r' % line sha name fieldsif not valid hexsha sha raise Packed Refs Exception 'nvalidhexsha % sha if not check ref format name raise Packed Refs Exception 'invalidrefname%r' % name return sha name 
def  guess day first parameter groups if  is int groups and valid year int groups 4] return Falseelif  is int groups -1 ] and valid year int groups -1 ][ -4 ] return Trueelif  is int groups and int groups 2] > 31 return Falseelif  is int groups -1 ] and int groups -1 ][ -2 ] > 31 return True 
def  get user info user None if not user user   salt  ['config.option'] 'user' userinfo   salt  ['user.info'] user if not userinfo if user 'salt' userinfo  get user info else raise Salt Invocation Error 'ser user return userinfo 
def generate relationship base direction return fn attrname local cls referred cls **kw if return fn is backref return return fn attrname **kw elif return fn is relationship return return fn referred cls **kw else raise Type Error 'nknownrelationshipfunction %s' % return fn 
def  if unmodified since passes last modified if unmodified since return last modified and last modified < if unmodified since 
def lorem parser token bits list token contents tagname bits bits -1 ] ! 'random' if not common bits if bits -1 ] in 'w' 'p' 'b' method bits else method 'b'if len bits > 1 count bits else count '1'count parser filter count if len bits ! 1 raise template Template Syntax Error 'ncorrectformatfor % tagname return Lorem Node count method common 
def check children options for col in all living collectors now int time if col 0 and col datapoint < now - options inactivity time L O G 'erminatingcollector col now - col datapoint col if not options inactive collectors register collector Collector col col col col col 
def collapse Nested Lists items pieces []for i in items if i is None pieces ['' 'NIL'] elif isinstance i Dont Quote Me int long pieces ['' network String str i ] elif isinstance i bytes unicode if  needs Literal i pieces ['' '{' int To Bytes len i '}' I M A P4 Server i else pieces [''  quote i ] elif hasattr i 'read' d i pieces ['' '{' int To Bytes len d '}' I M A P4 Server d else pieces ['' ' ' + collapse Nested Lists i + ' ' ] return ''.join pieces ]
def approx hess cs x f epsilon None args kwargs {} n len x h  get epsilon x 3 epsilon n ee np h hess np h h n len x for i in range n for j in range i n hess i j ] f * x + 1j * ee ] + ee ] + args **kwargs - f * x + 1j * ee ] - ee ] + args **kwargs .imag / 2.0 / hess i j ] hess j i ] hess i j ]return hess 
def list ports zone permanent True cmd '--zone {0}--list-ports'.format zone if permanent cmd + '--permanent'return   firewall cmd cmd .split
def strong Random size return os size 
@receiver job was rejected def on job was rejected sender job rejecting user **kwargs send job review message job rejecting user 'jobs/email/job was rejected subject 'jobs/email/job was rejected 
def broadcast chunks *chunkss if len chunkss 1 return chunkss max map len chunkss chunkss2 [ 1 * n - len c + c for c in chunkss []for i in range n step1 [c[i] for c in chunkss2 all c 1 for c in step1 step2 step1else step2 [c for c in step1 if c ! 1 ]if len set step2 ! 1 raise Value Error 'hunksdonotalign %s' % str step2 result step2 return tuple result 
def  crop image vertically img target height x y img y > target height slice height min y - target height 10 bottom img 0 y - slice height x y top img 0 0 x slice height if  image entropy bottom <  image entropy top img img 0 0 x y - slice height else img img 0 slice height x y x y img img 
def get url conn urlopen url resp conn conn return resp 
def  Longest Run seq value off -1 max run 0i 0while i < len seq run 0while i + run < len seq and seq i + run ] value run + 1if run > max run off imax run runi + 1 + run return off max run 
def incorporate methods source destination methods default None wrapper None override False for method in methods if hasattr destination method and not override raise Attribute Error 'annotaddmethod method + "opreventthiserrorset True if hasattr source method if wrapper is None setattr destination method getattr source method else setattr destination method wrapper source method else setattr destination method None 
def from time year 0 month 0 day 0 hours 0 minutes 0 seconds 0 microseconds 0 timezone 0 return '20151224113047.000000-480'
def encode string encoding None if type string is not ustr return stringreturn string encoding or u u 
def  process long opt option parser rargs values dests arg rargs 0 if ' ' in arg opt next arg arg ' ' 1 rargs 0 next arg else opt argopt option parser match long opt opt option option parser long opt before processing [x for x in rargs option value nargs option nargs 1 value rargs 0 else value tuple rargs nargs del rargs nargs value Noneoption opt value values option parser if dests is None or option in dests length difference len rargs before processing - len rargs for item in [opt] + rargs before processing length difference yield option item 
def  get head types pat if isinstance pat pytree Node Pattern pytree Leaf Pattern if pat is None raise  Every Nodereturn set [pat.type] if isinstance pat pytree Negated Pattern if pat return  get head types pat raise  Every Nodeif isinstance pat pytree Wildcard Pattern r set for p in pat for x in p r  get head types x return rraise Exception "hno Idon % pat 
def isiterable obj return hasattr obj '  iter  '
def init mpstate return Cmdlong Module mpstate 
def  decode string escape py3 str  return codecs str  'unicode escape 
def Index Yaml For Query kind ancestor props serialized yaml []serialized yaml '-kind %s' % kind if ancestor serialized yaml 'ancestor yes if props serialized yaml 'properties ' for name direction in props serialized yaml '-name %s' % name if direction DESCENDING serialized yaml 'direction desc return '\n'.join serialized yaml 
def parse taxonomy to otu metadata lines labels ['taxonomy' 'score'] process fs [taxa split float result {}for line in lines line line fields line ' DCTB ' id  fields [0]result[id ] {}for i field in enumerate fields ] try label labels Index Error continuetry value process fs field except Index Error raise Value Error 'oofewprocessfunctionsprovided n %d .' % len process fs result ][label] valuereturn result 
def ode nth linear euler eq nonhomogeneous variation of parameters eq func order match returns 'sol' x func func matchgensol ode nth linear euler eq homogeneous eq func order match returns 'both' match gensol r -1 ] r -1 ] / r order eq f x ] sol  solve variation of parameters eq func order match return Eq f x r + sol - r * r order eq f x ]
def column family definition keyspace column family sys  sys mgr try return vars sys keyspace column families keyspace [column family except Exception log 'nvalid Keyspace C Fcombination return None 
def  run in namespace f *args namespace namespace manager namespace try namespace manager namespace LOG NAMESPACE return f *args finally namespace manager namespace namespace 
def probability of qty user settings if qty in ['exercise' 'video'] return sqrt user settings level * 3 * user settings in program if qty 'completed' return 0.33 * user settings level + 0.66 * user settings of learning * 2 * user settings in program if qty 'attempts' return 0.33 * user settings level + 0.55 * user settings in program / probability of 'completed' user settings / 5
def  randint seed None if seed is None return random isinstance seed int return random Random seed .randintelif is sequence seed seed list seed seed def give a b seq seed a b as int a as int b w b - a if w < 0 raise Value Error ' randintgotemptyrange try x seq except Attribute Error raise Value Error ' randintexpectsalist except Index Error raise Value Error ' randintsequencewastooshort if a < x < b return xelse return give a b seq return giveelse raise Value Error ' randintgotanunexpectedseed 
def chgid name gid root None pre info info name if gid pre info return Truecmd ['usermod' '-g' '{0}'.format gid name root is not None cmd '-R' root   salt  ['cmd.run'] cmd python shell False return info name .get 'gid' gid 
def module disabled module disable module module reload service 'apache2'
def html quote string return '"%s"' % html escape string .replace '\n' '%#10;' .replace '\r' '&#13;' .replace ' DCTB ' '&#9;'
def  get result type result if result Run ! 1 raise Value Error '%rhasrun%dtests 1expected' % result result Run total sum map len [result.errors result result Successes result Failures result reasons if total > 1 raise Value Error '%rhasmorethanonekindofresult %rfound' % result total if len result > 0 return  Result Type len result > 0 return  Result Type len result Successes > 0 return  Result Type successelif len result Failures > 0 return  Result Type failureelif len result reasons > 0 return  Result Type return  Result Type 
def profiled func @wraps func def wrapped func *args **kwargs fn func  name   + '.profile' prof c Profile Profile retval prof func *args **kwargs prof stats fn return retvalreturn wrapped func 
def ensure Minimal required Version if  version Tuple psychopy  version   <  version Tuple required Version msg  translate 'equiredminimalversion {} .' raise Runtime Error msg required Version psychopy  version   return psychopy  version  
def column *args **kwargs responsive kwargs 'responsive' None sizing mode kwargs 'sizing mode 'fixed' children kwargs 'children' None if responsive sizing mode  convert responsive responsive  verify sizing mode sizing mode children  handle children children children *args col children []for item in children if isinstance item Layout D O M item mode sizing modecol children item else raise Value Error 'nly Layout D O Mitemscanbeinsertedintoacolumn Triedtoinsert %softype%s' % item type item return Column children col children sizing mode sizing mode **kwargs
def get extra args extra {}if py version > 3 extra 2to3'] Truereturn extra 
def null list pages size res []for page in pages if size > 4096 size - 4096else page page size s in page '\x00' if s ! '' res s return res 
def test no shadowed builtins driver create clidriver help command driver help command top level params set driver help command .arg table errors []for command name command obj in help command table sub help command obj help command if hasattr sub help 'command table for sub name sub command in sub help table op help sub command help command arg table op help tablefor arg name in arg table if any p arg name for p in top level params errors 'hadowing Prefixingatopleveloption %s.%s.%s' % command name sub name arg name if errors raise Assertion Error '\n' + '\n'.join errors 
def get fullnames ret frappe u full nameasfullname \n DCTB DCTB DCTB user imageasimage gender email username DCTB DCTB fromtab Userwhereenabled 1anduser type "ebsite User as dict 1 d {}for r in ret d rreturn d 
def load tables words []utable numpy path to tables + 'utable.npy' btable numpy path to tables + 'btable.npy' f open path to tables + 'dictionary.txt' 'rb' for line in f words line 'utf-8' .strip f utable Ordered Dict zip words utable btable Ordered Dict zip words btable return utable btable 
@pytest.mark.parametrize u text2 [ u u ] def test vocab lexeme hash en vocab text1 text2 lex1 en vocab en vocab {lex1 lex1 lex2 lex2 lexes  text1 assert lexes  text2 
def is css file path ext os path [1].lower return ext in [u'.css']
def color text color code readline False if sys 'win32' and os 'TERM' ! 'xterm' return str text if readline return '\x01\x1b[%dm\x02%s\x01\x1b[0m\x02' % color code text return '\x1b[%dm%s\x1b[0m' % color code text 
def set buildoverrides facts facts if 'buildoverrides' in facts buildoverrides facts 'config' in buildoverrides if 'admission plugin config not in facts facts plugin config dict facts plugin config buildoverrides return facts 
def cholesky a lower False l u  cholesky a if lower return lelse return u 
def encode String string encoded String ''try for char in string octal '%o' % ord char encoded String + '\\' + 3 - len octal * '0' + octal except return -1 'rrorencodingstring return 0 encoded String 
def get channel layer alias u if django V E R S I O N > 9 django set prefix False else django return channel layers layer 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def swap16 value return value & 255 << 8 | value >> 8
def is shadowed identifier ip return identifier in ip ns or identifier in ip global ns or identifier in ip table or iskeyword identifier 
def copymode src dst if hasattr os 'chmod' st os src mode stat S IMODE st mode os dst mode 
def  sweep poly phase t poly intpoly polyint poly phase 2 * pi * polyval intpoly t return phase 
def genlaguerre n alpha monic False if alpha < -1 raise Value Error 'alphamustbe>-1' if n < 0 raise Value Error 'nmustbenonnegative.' if n 0 n1 n + 1 else n1 n x w mu0 roots genlaguerre n1 alpha mu True wfunc lambda x exp - x * x ** alpha if n 0 x w [] [] hn  gam n + alpha + 1 /  gam n + 1 kn -1 ** n /  gam n + 1 p orthopoly1d x w hn kn wfunc 0 inf monic lambda x eval genlaguerre n alpha x return p 
def imul a b a * breturn a 
def test stratified dataset k fold skip if no sklearn mapping {'dataset iterator 'tratified Dataset K Fold yaml test yaml dataset iterator % mapping trainer yaml parse test yaml trainer loop 
def Login Service Redirect dest url endpoint ah url outfile redirect url '%s?%s %s' % endpoint CONTINUE PARAM urllib '%s?%s %s' % ah url CONTINUE PARAM dest url outfile 'tatus 3edirectingtologinservice U R L outfile 'ocation %s\r\n' % redirect url outfile '\r\n'
def tuple2keyevent past event return Q Key Event *past event 
def  convert to idn url parts list urlparse url try parts u except Unicode Encode Error host parts u ' 1 newhost []port u len host 2 port host for h in host u newhost h u .decode u parts u newhost if port parts + u ' + port return urlparse parts else return url 
def limited func def f standard False **args insert pos len inline stack res func **args if len res > LINE LEN LIMIT name inline stack u L O N G inline stack inline stack insert pos name res u var var \nreturn%s\n' % name res inline stack name res return name + u ' else return resf  dict  [u'standard'] funcreturn f 
def entry choices user page for entry in wizard pool entries if entry has add permission user page page yield entry entry 
def make spiral num points 100 num turns 4 height 12 radius 2.0 xnot None ynot None znot None coords list []znot -4 if znot is None else znot xnot radius if xnot is None else xnot ynot 0 if ynot is None else ynot theta not np ynot xnot coords list xnot ynot znot for point in range num points znot + height / num points theta not + 2 * np * num turns / num points xnot np theta not * radius ynot np theta not * radius coords list xnot ynot znot return coords list 
def monthdelta date delta m y date + delta % 12 date + date + delta - 1 // 12 if not m m 12d min date [31 29 if y % 4 0 and not y % 400 0 else 28 31 30 31 30 31 31 30 31 30 31][ m - 1 ] return date day d month m year y 
def string camelcase string return CAMELCASE INVALID C H A R S '' string 
def rel href src dst src dir os src return os dst src dir 
def key value minion id pillar pillar key 'redis pillar key type   salt  ['redis.key type minion id if key type 'string' return {pillar key   salt  ['redis.get key minion id }elif key type 'hash' return {pillar key   salt  ['redis.hgetall'] minion id }elif key type 'list' list size   salt  ['redis.llen'] minion id if not list size return {}return {pillar key   salt  ['redis.lrange'] minion id 0 list size - 1 }elif key type 'set' return {pillar key   salt  ['redis.smembers'] minion id }elif key type 'zset' set size   salt  ['redis.zcard'] minion id if not set size return {}return {pillar key   salt  ['redis.zrange'] minion id 0 set size - 1 }return {}
def assert array identical a b assert array equal a b assert equal a b 
def get all objects gc gcl gc objects olist {} getr gcl olist del olist olist ]del olist gcl ]del olist sys getframe ]return olist 
def  get mri header fname import nibabel as nibimg nib fname try return img Attribute Error return img header 
def for int dtypes combination names 'dtype' no bool False full None if no bool types  int dtypeselse types  int bool dtypesreturn for dtypes combination types names full 
def chown for id maps path id maps uid maps str ' '.join [ id map to config id map for id map in id maps if isinstance id map vconfig Libvirt Config Guest U I D Map ] gid maps str ' '.join [ id map to config id map for id map in id maps if isinstance id map vconfig Libvirt Config Guest G I D Map ] execute 'nova-idmapshift' '-i' '-u' uid maps str '-g' gid maps str path run as root True 
def changeset revision reviewed by user user repository changeset revision for review in repository if review revision changeset revision and review user return Truereturn False 
def empty assets db return tmp assets db equities None 
def javadoc registry xml parent data root X M L Sub Element xml parent 'avadoc Archiver if 'directory' in data X M L Sub Element root 'ir .text data 'directory' '' X M L Sub Element root 'll .text str data 'keep-all-successful' False .lower
def is symbolic batch batch return  is batch all batch lambda x isinstance x theano Variable 
def hosting service url test view request repo id return Http Response str repo id 
def reverse bisect left a x lo 0 hi None if lo < 0 raise Value Error 'lomustbenon-negative' if hi is None hi len a while lo < hi mid lo + hi // 2 if x > a hi midelse lo mid + 1 return lo 
def get installed categories shop return configuration shop SAMPLE CATEGORIES KEY or []
def make variant item code template item code variant if variant code returnabbreviations []for attr in variant item attribute frappe u values v DCTB DCTB DCTB from Item Attribute Item Attribute Value DCTB DCTB DCTB DCTB on i v \n DCTB DCTB DCTB wherei % attribute sandv value % attribute value s {u'attribute' attr u value attr value as dict True if not item attribute returnif item attribute values returnabbreviations item attribute if abbreviations variant code u template item code u abbreviations if variant code variant name variant code 
@constructordef argmin x axis None keepdims False x as tensor variable x str x type str x if str x type 'float' or str x type in int dtypes return argmax - x axis axis keepdims keepdims else raise Not Implemented Error 
def imt token i None m None t None clss itypes [t] if t and not isinstance t list else t mpatterns [m] if m and not isinstance m list else m if token is None return Falseelif clss and isinstance token clss return Trueelif mpatterns and any token *pattern for pattern in mpatterns return Trueelif types and any [ token in ttype for ttype in types return Trueelse return False 
def write logline logfile msg timestamp format None msg msg '\n' if timestamp format msg prepend timestamp msg timestamp format logfile msg + '\n'
def get profile pictures by user ids user ids user settings models user models User Settings Model multi user ids result {}for model in user settings models if model result model picture data urlelse result Nonereturn result 
def init addon app addon name routes True import path 'website.addons.{0}'.format addon name addon module importlib module import path data vars addon module data settings A D D O N S D E S C R I P T I O N addon name '' data settings A D D O N S U R L addon name None return Addon Config **{key.lower value for key value in data }
def queue instances instances for instance id in instances node  get node instance id instance id for name in node if instance id node Id   utils  ['cloud.cache node node   active provider name     opts  
def get Transferred Surrounding Loops insides loop transferred Surroundings []for inside Index in xrange len insides - 1 -1 -1 inside Surrounding insides Index is Path Inside Loop loop inside Surrounding transferred Surroundings inside Surrounding del insides Index transferred Surroundings 
def get same name files files path list filename same name files []for fname in files path list if filename os fname same name files path components fname return same name files 
def  pad input  len len input if  len Card return inputelif  len > Card strlen  len % Card if strlen 0 return inputelse return input + '' * Card - strlen else strlen  len % Card return input + '' * Card - strlen 
def send flowgram to socket identifier flowgram socket trim False if trim flowgram flowgram Quality Trimmed Flowgram if not hasattr flowgram 'spaced flowgram spaced flowgram seq ''.join map str flowgram flowgram flowgram spaced flowgram seqelse spaced flowgram seq flowgram flowgramdata '%s%d%s\n' % identifier len flowgram spaced flowgram seq save send socket data 
def disable trace global app or defaultapp or default  app or default 
@mock opsworks ec2def test ec2 integration opsworks boto3 u region name u stack id opsworks stack Name u S1 Region u Service Role Arn u arn Default Instance Profile Arn u arn [tack Id id opsworks layer Stack Id stack id Type u Name u S1 L1 Shortname u S1 L1 [ayer Id id opsworks instance Stack Id stack id Layer Ids [layer id Instance Type u [nstance Id boto3 u region name u reservations ec2 instances [eservations reservations instance Instance Id instance id reservations ec2 instances [eservations Instances of 1 instance reservations Instances instance opsworks instances Stack Id stack id [nstances Instance Id opsworks instance Ec2 Instance Id instance Private Ip Address opsworks instance Private Ip 
def  get track function for task student xmodule instance args None source page 'x module task request info xmodule instance args 'request info {} if xmodule instance args is not None else {} task info {'student' student 'task id  get task id from xmodule args xmodule instance args }return lambda event type event task track request info task info event type event page source page 
def state name sname return sname '.' 1 [0]
def pop percentile image selem out None mask None shift x False shift y False p0 0 p1 1 return  apply percentile cy pop image selem out out mask mask shift x shift x shift y shift y p0 p0 p1 p1 
def  get truncated setting value value max length None if isinstance value basestring and max length is not None and len value > max length return value max length True else return value False 
def load biosql ini DBTYPE if not os 'biosql.ini' raise Missing External Dependency Error 'io S Q Ltestconfigurationfilebiosql seebiosql ' config configparser Config Parser config 'biosql.ini' DBHOST config DBTYPE 'dbhost' DBUSER config DBTYPE 'dbuser' DBPASSWD config DBTYPE 'dbpasswd' TESTDB config DBTYPE 'testdb' return DBHOST DBUSER DBPASSWD TESTDB
def check ignore error ignore error stderr if not ignore error or not stderr return Falseif not isinstance ignore error six types ignore error '|'.join ignore error if re ignore error stderr return Truereturn False 
def destroy instance id call None if call 'function' raise Salt Cloud System Exit 'hedestroyactionmustbecalledwith --destroy -aor--action.' instance data show instance instance id call 'action' name instance data name  utils  ['cloud.fire event 'event' 'destroyinginstance' 'salt/cloud/{0}/destroying'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] params {'action' 'erminate Instances 'zone'  get specified zone provider get configured provider 'instances.1' instance id query params   utils  ['cloud.fire event 'event' 'destroyedinstance' 'salt/cloud/{0}/destroyed'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def merge section dicts lower higher for name in higher if name in lower lower higher ignore defaults True else lower higher lower 
def check ambigous flowgram max allowed 4 if max allowed < 3 raise Value Error 'rrorincallingcheck ambigous allowedshouldbeatleast3 count 0for signal in flowgram if signal < 0.5 count + 1if count > max allowed return Trueelse count 0return False 
def fixed ip count by project context project id session None return I M P L ip count by project context project id session session 
def get dirs in path file path names os file path result []for name in names full path os file path name if not os full path continueresult full path return result 
def reorder coords coords sample ids order try result array [coords[sample ids sample id ] for sample id in order except Value Error raise Value Error 'nknownsample I D %s' % sample id return result 
def test Enabled Data Store psychopy mon name 'onitor code 'gap endo que launch Hub Server psychopy monitor name psychopy mon name experiment code exp code display io 'isplay Psychopy Monitor Name ' display Psychopy Monitor Name print 'isplay Default Eye Distance ' display Default Eye Distance print 'isplay Physical Dimensions ' display Physical Dimensions from pprint import pprintprint 'xperiment Metadata ' pprint io Experiment Meta Data print 'ession Metadata ' pprint io Session Meta Data io 
def get Doubled Round Z overhanging Segment segment Round Z endpoint overhanging Segment Z endpoint - endpoint Endpoint round Z * segment Round Zif abs round Z 0.0 return complex if round Z < 0.0 round Z * -1.0 round Z Length abs round Z return round Z * round Z / round Z Length 
def mask password cmd if len cmd > 3 and cmd 'raidcom' and cmd '-login' tmp list cmd tmp strutils dict password {'password' ''} .get 'password' else tmp cmdreturn ''.join [six.text type c for c in tmp 
def in6 getscope addr if in6 isgladdr addr or in6 isuladdr addr scope IPV6 ADDR G L O B A Lelif in6 islladdr addr scope IPV6 ADDR L I N K L O C A Lelif in6 issladdr addr scope IPV6 ADDR S I T E L O C A Lelif in6 ismaddr addr if in6 ismgladdr addr scope IPV6 ADDR G L O B A Lelif in6 ismlladdr addr scope IPV6 ADDR L I N K L O C A Lelif in6 ismsladdr addr scope IPV6 ADDR S I T E L O C A Lelif in6 ismnladdr addr scope IPV6 ADDR L O O P B A C Kelse scope -1 elif addr ' 1' scope IPV6 ADDR L O O P B A C Kelse scope -1 return scope 
def  get classifier lang cls lang 'erl and Perl Classifier or U D L Classifier return cls 
def get ca certs path CA CERTS ['/opt/datadog-agent/embedded/ssl/certs/cacert.pem' os os tornado  file   'ca-certificates.crt' '/etc/ssl/certs/ca-certificates.crt']for f in CA CERTS if os f return freturn None 
def jpx Encode stream encoded Stream ''return -1 'px Encodenotsupportedyet 
def  compute breadcrumbs path show hidden False breadcrumbs []breadcrumbs.append '[root]' '/' path parts path '/' [1 -1 ]full path '/'for part in path parts full path + part + '/' url append ''if show hidden url append '?hidden 1'breadcrumbs.append part full path + url append return breadcrumbs 
def test constant folding x tensor mode theano mode 'FAST COMPILE' .excluding 'fusion' f theano [x] [ x * 2 x + x ] mode mode topo f assert len topo 2 x tensor 3 assert x 0 mode theano mode 'FAST COMPILE' .excluding 'fusion' f theano [] [ x * 2 x + x ] mode mode topo f assert len topo 2 assert all [isinstance n Deep Copy Op for n in topo 
def restart process name run as root 'supervisorctlrestart% name s % locals 
def bigaddrspacetest f def wrapper self if max memuse < MAX Py ssize t if verbose sys 'kipping % f  name   else return f self return wrapper 
def calc circumcenters tetrahedrons num tetrahedrons np tetrahedrons np num 4 1 axis 2 sums np tetrahedrons ** 2 axis 2 d np sums np a axis 2 dx np d 1 axis 2 dy np d 2 axis 2 dz np d 3 axis 2 dx np dx dy - np dy dz np dz a np a nominator np dx dy dz denominator 2 * a return nominator / denominator .T
def  handle Model Runner Exception job I D model I D jobs D A O experiment Dir logger e msg String I O String I O print >>msg 'xceptionoccurredwhilerunningmodel %r %s ' % model I D e type e traceback exc None msg completion Reason jobs D A O C M P L REASON E R R O Rcompletion Msg msg logger completion Msg if type e is not Invalid Connection Exception jobs D A O Update Results model I D results None num Records 0 if type e Job Fail Exception worker Cmp Reason jobs D A O Get Fields job I D [ompletion Reason [0]if worker Cmp Reason Client Jobs D A O C M P L REASON SUCCESS jobs D A O Set Fields job I D fields dict cancel True worker Completion Reason Client Jobs D A O C M P L REASON ERROR worker Completion Msg ' '.join str i for i in e use Connection I D False ignore Unchanged True return completion Reason completion Msg 
def rfft inp norm None s inp ]cond norm  unitary norm scaling 1if cond norm 'ortho' scaling T s .astype inp return rfft op inp s / scaling 
def parse Param line if line '' return None '' elif line 1] ! '"' mode 1else mode 2res ''io Bytes I O line if mode 2 io 1 while 1 a io 1 if a '"' if mode 2 io 1 return res io elif a '\\' a io 1 if a '' return None line elif a '' if mode 1 return res io else return None line elif a '' if mode 1 return res io res + a 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def get active web certificate course is preview mode None certificates getattr course 'certificates' '{}' configurations certificates 'certificates' [] for config in configurations if config 'is active or is preview mode return configreturn None 
def get Heuristic Char Encoding page ret Val detect page ['encoding']if ret Val info Msg "heuristicsdetectedwebpagecharset'%s'" % ret Val single Time Log Message info Msg logging I N F O ret Val return ret Val 
@task@needs 'clean' 'clean bootstrap def nuke for d in [options.superpack.builddir options if os d shutil d 
def paste deploy app paste config file app name conf setup paste factories conf try return deploy 'config %s' % paste config file name app name finally teardown paste factories 
def test sub module defs jedi Script 'fromjedi.apiimportclasses;classes' .goto definitions assert [d.full name for d in defs ['jedi.api.classes'] defs jedi Script 'importjedi.api;jedi.api' .goto definitions assert [d.full name for d in defs ['jedi.api']
def get Adapter Factory from Interface to Interface default self global Registryif not isinstance from Interface interface Interface Class from Interface declarations By from Interface factory self from Interface to Interface if factory is None factory defaultreturn factory 
def fake plug vifs *args **kwargs pass 
def  brick get connector properties multipath False enforce multipath False return DEFAULT CONNECTOR
def Drt Variable Expression variable if is indvar variable return Drt Individual Variable Expression variable elif is funcvar variable return Drt Function Variable Expression variable elif is eventvar variable return Drt Event Variable Expression variable else return Drt Constant Expression variable 
def test ada init ratio 'auto'ada ADASYN ratio ratio random state RND SEED assert equal ada state RND SEED
def has roles var roles match all False var roles getattr var 'roles' [] matches any isinstance var role role  class   for var role in var roles for role in roles return all matches if match all else any matches 
def get port from device device L O G _ 'get port from device called session db session sg binding port sg db Security Group Port Binding idquery session models v2 Port sg db Security Group Port Binding group id query query sg db Security Group Port Binding models v2 Port sg binding port query query models v2 Port device port and sgs query if not port and sgs returnport port and sgs manager Quantum Manager plugin port dict plugin make port dict port port dict groups []for port in db sg id in port and sgs if sg id port dict groups sg id port dict group rules []port dict group source groups []port dict ips [ip['ip address for ip in port ips port dict 
def call fp intrinsic builder name args mod builder lc Function mod name [a.type for a in args return builder intr args 
def  execute q table context model context model Sessionreturn session q 
def trg redirect uid res type res id new rid cr assert isinstance new rid long int return Workflow Service cr uid res type res id .redirect new rid 
def versionstring build True extra True if build first 3else first 2s '.'.join str n for n in   version  [ first if build and extra s + ''.join str n for n in   version  [3 ] return s 
def simple Open I D Transformer endpoint if 'http //openid.net/signon/1.0' not in endpoint uris return Nonedelegates list endpoint element '{http /elegate assert len delegates 1 delegate delegates endpoint delegate 
def subrange exercise mult lb ub m Multiset Partition Traverser assert m partitions mult m partitions slow mult ma Multiset Partition Traverser mc Multiset Partition Traverser md Multiset Partition Traverser a it ma range mult lb ub b it part range filter multiset partitions taocp mult lb ub c it part range filter mc small mult ub lb sum mult d it part range filter md large mult lb 0 ub for sa sb sc sd in zip longest a it b it c it d it assert compare multiset states sa sb assert compare multiset states sa sc assert compare multiset states sa sd 
def capture output environ start response application warnings 'wsgilib.capture outputhasbeendeprecatedinfavorofwsgilib output Deprecation Warning 2 data []output String I O def replacement start response status headers exc info None if data data ] []data.append status data headers start response status headers exc info return output iter application environ replacement start response try for item in app iter output item finally if hasattr app iter 'close' app iter if not data data None if len data < 2 data None data output return data 
def add Geometry List element Node faces for face in faces face Element xml simple reader Element Node face To Attributes face Element face Element Name 'lement Node element Nodeelement Node Nodes face Element 
def make fastq single in fasta quals out fp label transform split lib transform outfile open out fp 'w' for rec seq id in iter fastq in fasta quals label transform outfile rec + '\n' outfile 
def  get code w scope data position obj end opts element name code end position +  UNPACK INT data position + 4 ] [0] code position  get string data position + 4 code end opts element name scope position  get object data position code end opts element name if position ! code end raise Invalid B S O N 'scopeoutsideofjavascriptcodeboundaries' return Code code scope position 
@get '/scan/<taskid>/log' def scan log taskid json log messages list if taskid not in Data Store logger 'nvalidtask I Dprovidedtoscan log ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D for time  level message in Data Store db ' E L E C Ttime level message F R O Mlogs W H E R Etaskid ? R D E R B Yid A S C taskid json log messages {'time' time  'level' level 'message' message logger 'etrievedscanlogmessages % taskid return jsonize {'success' True 'log' json log messages 
def get parsed text return str Template Parser text 
def assert Dimensions self x y w h win None if win is None win self win assert info x infoassert info y infoassert info w infoassert info h info 
def  get title from contents meta data piece meta data ]title Nonefor i line in enumerate piece if re rst title line and i > 0 title meta data i - 1 ].strip breakif re rst title line and i > 0 and re rst title meta data i + 2 ] title meta data i + 1 ].strip breakif re md title line title re md title line [0]breakreturn title 
def pythonize name name s1  first cap regex '\\1_\\2' name s2  number cap regex '\\1_\\2' s1 return  end cap regex '\\1_\\2' s2 .lower
def compute Nearest Neighbor username users distances []for user in users if user ! username distance manhattan users users distances distance user distances return distances 
def parse human timedelta s cal parsedatetime Calendar dttm dttm from timtuple datetime .timetuple d cal s dttm [0]d datetime d year d mon d mday d hour d min d sec return d - dttm 
def Deterministic name var model None model modelcontext model var model for name model var model random variable var return var 
def get declared fields bases attrs with base fields True fields [ field name attrs field name for field name obj in attrs if isinstance obj Field ]fields.sort lambda x y cmp x counter y counter if with base fields for base in bases -1 ] if hasattr base 'base fields fields base fields + fields else for base in bases -1 ] if hasattr base 'declared fields fields base fields + fields return Sorted Dict fields 
def apply parallel function array chunks None depth 0 mode None extra arguments extra keywords {} if not dask available raise Runtime Error "ouldnotimport Pleaseinstallusing if chunks is None shape array ncpu cpu count except Not Implemented Error ncpu 4chunks  get chunks shape ncpu if mode 'wrap' mode 'periodic'elif mode 'symmetric' mode 'reflect'elif mode 'edge' mode 'nearest'def wrapped func arr return function arr *extra arguments **extra keywords darr da array array chunks chunks return darr overlap wrapped func depth boundary mode .compute
def send followup email for monthly fee payment email event name date amount payment url send email to email action MONTHLY PAYMENT FOLLOWUP EMAIL subject MAILS[MONTHLY PAYMENT FOLLOWUP E M A I L event name event name date date html MAILS[MONTHLY PAYMENT FOLLOWUP E M A I L event name event name date date payment url payment url amount amount app name get settings ['app name 
def name to cat fname cat None if cat is None and fname '{{' n fname '}}' if n > 2 cat fname n fname fname n + 2 ].strip logging 'ob fname cat return fname cat 
def ec2 add priv launch key argument table operation model session **kwargs argument table Launch Key Argument session operation model 'priv-launch-key'
def get account by id account id account Account Account account id .first manager class account registry account type account manager class . load account db account return account 
def attr gt accessing obj accessed obj *args **kwargs return attr accessing obj accessed obj *args **{'compare' 'gt'}
def get object range page page size max id 5start min page - 1 * page size max id end min start + page size max id + 1 return range start end 
def sign int message dkey n return decrypt int message dkey n 
def submittable timestamp timestamp return str timezone timestamp .split u [0]
def get portaudio version return pa version 
def  strip exc exc return re 'ommand ' '' exc 
def header elements fieldname fieldvalue if not fieldvalue return []result []for element in fieldvalue ' ' if fieldname 'ccept or fieldname 'TE' hv Accept Element str element else hv Header Element str element result hv return list reversed sorted result 
def make model tuple model try if isinstance model tuple model tuple modelelif isinstance model str app label model name model '.' model tuple app label model name else model tuple model meta label model meta name assert len model tuple 2 return model tupleexcept Value Error Assertion Error raise Value Error "nvalidmodelreference Stringmodelreferencesmustbeoftheform label Model Name % model 
def restore echo fdesc sys attrs termios fdesc attrs attrs | termios E C H O termios fdesc termios T C S A D R A I N attrs 
def get return value answer gateway client target id None name None if is error answer [0] if len answer > 1 type answer OUTPUT C O N V E R T E R answer ] gateway client if answer REFERENCE TYPE raise Py4 J Java Error u Anerroroccurredwhilecalling target id u name value else raise Py4 J Error u Anerroroccurredwhilecalling Trace \n{3}\n'.format target id u name value else raise Py4 J Error u Anerroroccurredwhilecalling target id u name else type answer type VOID TYPE returnelse return OUTPUT C O N V E R T E R answer ] gateway client 
def abspardir path return osp osp path os 
def copy globals source globs only names None ignore missing names False names to ignore dunder names to keep '  implements  ' '  all  ' '  imports  ' cleanup globs True if only names if ignore missing names items k getattr source k  NONE for k in only names else items k getattr source k for k in only names else items iteritems source  dict   copied []for key value in items if value is  NONE continueif key in names to ignore continueif key '__' and key not in dunder names to keep continueglobs valuecopied key if cleanup globs if 'copy globals in globs del globs globals copied 
def  group or org revision list context data dict model context  get or bust data dict 'id' group model Group id if group is None raise Not Foundrevision dicts []for revision object revisions in group related revisions revision dicts model as dict revision include packages False include groups False return revision dicts 
def normalize b a num den b a den np 1d den num np 2d  align nums num if den ! 1 raise Value Error 'enominatorpolynomialmustberank if num > 2 raise Value Error 'umeratorpolynomialmustberank if np den 0 raise Value Error 'enominatormusthaveatleastonnonzeroelement den np zeros den 'f' num den num / den den / den leading zeros 0for col in num T if np col 0 atol 1e-14 leading zeros + 1else breakif leading zeros > 0 warnings 'adlyconditionedfiltercoefficients numerator theresultsmaybemeaningless Bad Coefficients if leading zeros num leading zeros - 1num num leading zeros ]if num 1 num num ]return num den 
def  create poller operation try operation name operation Key Error raise Malformed Operation u Failedtoparseoperation couldnotfindkeynamein {}'.format operation if 'zone' in operation zone url parts unicode operation .split '/' try project zone url parts -3 ]zone zone url parts -1 ]except Index Error raise Malformed Operation "'zone'keyofoperationhadunexpectedform {xpected .*/ ?ulloperation {}.".format operation operation return Zone Operation Poller zone unicode zone project unicode project operation name unicode operation name else try project unicode operation Link .split '/' [ -4 ]except Key Error raise Malformed Operation u Failedtoparseglobaloperation couldnotfindkeyself Linkin {}'.format operation except Index Error raise Malformed Operation "ink {xpected .*/ ?ulloperation {}.".format operation Link operation return Global Operation Poller project unicode project operation name unicode operation name 
def get I D lang None if lang val langelse try val prefs Key Error val locale Get Locale if not val val code From Wx Id L A N G U A G E D E F A U L T language wx Id From Code Key Error logging 'ocale usingdefault % val language wx L A N G U A G E D E F A U L Treturn language val 
def provider Is Authoritative provider I D canonical I D lastbang canonical I D '!' parent canonical I D lastbang parent provider I D 
def S all hac x d nlags 1 r np d r 1weights weights bartlett nlags return aggregate cov x d r r weights weights 
def compile Feature R E name feature R E list parser Content R E feature R E 2 name feature R E 6 name return re ''.join feature R E 
def  is reviewer locale user from kitsune import Localetry locale team Locale locale locale except Locale Does Not Exist log 'ocalenotcreatedfor % locale return Falsereturn user in locale team 
def wrap text width 70 **kwargs w Text Wrapper width width **kwargs return w text 
def is builtin name if name in builtins return Trueif name in SPECIAL BUILTINS return Truereturn False 
def  replacestrings source match re 'var*  \\w+ \\ \\[" .*? "\\];' source re D O T A L L if match varname strings match startpoint len match 0 lookup strings '" "' variable '%s[%%d]' % varname for index value in enumerate lookup source source variable % index '"%s"' % value return source ]return source 
def list states saltenv 'base' return  client .list states saltenv 
def get cache base suffix None if suffix is None suffix '.distlib'if os 'nt' and 'LOCALAPPDATA' in os result os '$localappdata' else result os '~' if os result usable os result os W OK if not usable logger 'irectoryexistsbutisnotwritable %s' result else try os result usable Trueexcept O S Error logger 'nabletocreate result exc info True usable Falseif not usable result tempfile logger 'efaultlocationunusable using result return os result suffix 
def change assembly version registry xml parent data cav builder tag 'hange Assembly Version X M L Sub Element xml parent cav builder tag X M L Sub Element cav 'task' .text data 'version' '1.0.0' X M L Sub Element cav 'ile .text str data 'assembly-file' 'ssembly Info 
def  get proto use ssl config cloud config value 'use ssl get configured provider   opts   search global False default True if use ssl is True return 'https'return 'http'
def params from doc func doc inspect func cfg yaml doc for task in cfg for module params in task for k v in params if k in ['nics'] and type v str params [v]task[module] collections str params return cfg server 
def remove certificate exception course key student try certificate exception Certificate Whitelist user student course id course key except Object Does Not Exist raise Value Error _ 'ertificateexception user {user} doesnotexistincertificatewhitelist Pleaserefreshthepageandtryagain .format user student try generated certificate Generated Certificate user student course id course key generated certificate log u Certificateinvalidatedfor student course key except Object Does Not Exist passcertificate exception 
def p statement list 2 t pass 
@event u def load taskless manager Simple Persistence 
def getproxies environment proxies {}for name value in os name name if value and name -6 ] ' proxy proxies -6 ]] valuereturn proxies 
def unregister file path pkg None conn None if conn is None conn init conn ' E L E T E F R O Mfiles W H E R Epath ?' path 
def  remove identity node graph node portinputs portoutputs  node ports graph node for field connections in list portoutputs if portinputs  propagate internal output graph node field connections portinputs else  propagate root output graph node field connections graph nodes from [node] logger u Removedtheidentitynode % node 
def datasets for lddas trans lddas dataset ids [x.dataset id for x in lddas trans session trans Dataset .filter trans Dataset  dataset ids .all return datasets 
@depends HAS PYVMOMI def get vsan enabled host username password protocol None port None host names None service instance salt service instance host host username username password password protocol protocol port port host names  check hosts service instance host host names ret {}for host name in host names host ref  get host ref service instance host host name host name vsan config host ref Host Configif vsan config is None msg " S A N System Config Managerisunsetforhost host name log msg ret {host name {rror msg else ret {host name { S A N Enabled vsan config return ret 
def get courses accessible to user request if Global Staff .has user request courses in process course actions  accessible courses summary list request else try courses in process course actions  accessible courses list from groups request except Access List Fallback courses in process course actions  accessible courses summary list request return courses in process course actions 
def sort A K As By Similarity movie title  titles Only True  preferred Lang None language movie Language m title movie l title title if isinstance l title unicode l title l title 'utf8' scores []score difflib Sequence Matcher None m title 'utf8' l title .ratio scores score movie None for language aka in akas Languages movie m title aka if isinstance m title unicode m title m title 'utf8' score difflib Sequence Matcher None m title l title .ratio if  preferred Lang and  preferred Lang language score + 1scores.append score aka language scores reverse True if  titles Only return [x[1] for x in scores scores 
def create epoch x points epoch freq minibatch markers epoch axis if epoch axis x np points last e 0for e idx e in enumerate minibatch markers e minibatches e - last e if e idx + 1 % epoch freq 0 x e idx // epoch freq ] e idx + e minibatches - 1 // e minibatches last e eelse x minibatch markers epoch freq - 1 epoch freq - 1 return x 
def format p value for num iters p num iters if num iters < 10 return 'oofewiterstocomputep num iters %d ' % num iters decimal places int log10 num iters + 1 result '%1.' + '%df' % decimal places % p return result 
def projective rule parse demo grammar Dependency Grammar u print grammar pdp Projective Dependency Parser grammar trees pdp [u'the' u u u u for tree in trees print tree 
def build Tag Map default *args built {}for portion in args if hasattr portion 'items' for k v in portion built velif is List portion for k in portion built defaultelse built defaultreturn built 
def ycbcr2rgb ycbcr arr ycbcr arr 0] - 16arr[... 1] - 128arr[... 2] - 128return  convert rgb from ycbcr arr 
def default opener filename from subprocess import callcmds {'darwin' ['open'] 'linux2' ['xdg-open'] 'win32' ['cmd.exe' '/C' 'start' '']}cmd cmds + [filename] call cmd 
def  remove complex types dictionary for k v in six dictionary if isinstance v dict dictionary  remove complex types v elif hasattr v 'to eng string dictionary v eng string return dictionary 
def create api key import timetry from hashlib import md5except Import Error from md5 import md5import randomt str time r str random m md5 t m r return m 
@lru cache 1024 def get block env blockhash assert isinstance env Env blk rlp env blockhash Block env env return Cached Block cached blk 
def Map To Ranks t pairs enumerate t sorted pairs sorted pairs key itemgetter 1 ranked enumerate sorted pairs resorted sorted ranked key lambda trip trip ranks [ trip + 1 for trip in resorted ranks 
def  reciprocity iter G nodes n G iter nodes for node in n pred set G node succ set G node overlap pred & succ n total len pred + len succ if n total 0 yield node None else reciprocity 2.0 * float len overlap / float n total yield node reciprocity 
def register D O M Implementation name factory registered factory 
def  get course id store course data return store course key course data course data course data 
def approx fprime x f eps None *args if eps is None eps np np ca  .eps grad np like x step np like x for idx in np x step eps * max abs x 1.0 grad f * x + step + args - f * x - step + args / 2 * step step 0.0return grad 
def   consolidate node results node data node dict node data copy {}for key in node data value node data value ! '<<inherit>>' if isinstance value dict node data copy value elif isinstance value list node data copy value ]else node data copy valuefor field in node data copy data item node data copy field in results fielddata results isinstance fielddata dict results data item elif isinstance fielddata list or isinstance fielddata tuple results data item results uniquify results elif field ! 'distro' results data itemelse results data itemdict removals results 'kernel options dict removals results 'kernel options post dict removals results 'autoinstall meta dict removals results 'template files dict removals results 'boot files dict removals results 'fetchable files 
def points to document view url required locale None try return not not  doc components from url url required locale required locale except  Not Document View return False 
def iter strides c contig arr shape None shape arr if shape is None else shape itemsize arr gen yield itemsize sum 1for s in reversed shape ] sum * s yield sum * itemsize for i in reversed list gen yield i 
def  init bind completion log 'nitializingbindcompletion model miscmodels Bind Completion Model  instances Completion model 
def   list All Bridges Unix device List {evices static Lib L J U S B Get Dev Count 1281 for i in xrange num Devices try device open Lab Jack 1281 1 first Found False dev Number i + 1 device device List device Number ] device  dict  except Lab Jack Exception passreturn device List 
def Delete Index index  Call 'elete Index index api base pb Void Proto 
def  create carefully path fd os path os O CREAT | os O EXCL | os O RDWR 438 try return open path 'rb+' finally os fd 
def assert alerts ea inst calls assert ea inst count len calls for call num call args in enumerate ea inst args list assert not any [ match not in calls num for match in call args assert len call args len calls num 
def fileglob pathname return [g for g in glob pathname if os g ]
def install upgrade package upgrade False progress hook None global hook download filenameif upgrade operation '[up]upgrading'else operation '[in]installing'logger.info "{0}'{1}'to{2}".format operation package dataset data path remote src package dataset data pathcached Falseif not cached hook download filename remote srctemp filename download from url remote src filename None progress hook progress hook else passlogger "[in]runninginstallscriptsforpackage'{0}'".format package install package package temp filename dataset data path update installed list 'i' package 
def  Test Terminate Account tester user cookie request dict validator tester user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict actual dict tester Send Request 'terminate account user cookie request dict op dict tester Derive Notification Op Dict user id device id request dict validator Validate Terminate Account user id op dict tester Compare Response Dicts 'terminate account user id request dict {} actual dict return actual dict 
def  get Accessible Attribute attribute Name if attribute Name in global Accessible Attribute Dictionary return global Accessible Attribute Dictionary Name None 
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
def memory info process pmem getattr process 'memory info None or process memory info return pmem pmem 
def pci device prop match pci dev specs def  matching devices spec return all pci dev k v for k v in spec return any  matching devices spec for spec in specs 
def is Windows Drive Letter Path filepath return re ' ' filepath is not None 
def  transliterate u xlate u unicodedata 'NFD' u u u [ u if  is unicode combining x else x for x in u u  translate u xlate return unicode u 
def  active mounts solaris ret for line in   salt  ['cmd.run stdout 'mount-v' .split '\n' comps re '\\s+' '' line .split ret {'device' comps 'fstype' comps 'opts'  resolve user group names comps '/' }return ret 
def  reduce code code return marshal imp magic marshal code 
def files re match multiline file1 file2 attributes None local file open file1 'U' .read if attributes is None attributes {}if attributes 'sort' False history data open file2 'U' .readlines history data history data ''.join history data else history data open file2 'U' .read assert re local file history data re M U L T I L I N E 'ultiline Regularexpressiondidnotmatchdatafile 
def  get course key course key or id return Course Key string course key or id if isinstance course key or id basestring else course key or id 
def  create gpg user None gnupghome None if not gnupghome gnupghome  get user gnupghome user if GPG 1 3 1 gpg gnupg G P G homedir gnupghome else gpg gnupg G P G gnupghome gnupghome return gpg 
def Uninstall Module conf module name params options log lambda *args None loader dll Get Loader Module Name conf module name False  Patch Params Module params loader dll False Uninstall params options log 1 'ninstallationcomplete 
def  decode and join header header separator u if not header return headerreturn separator unicode s c or 'us-ascii' for s c in email header header 
def  link token result return None 
def get table description cursor table name cursor ' E L E C T F R O M L I M I T1 % quote name table name return cursor 
def remote api shell servername appid path secure rpc server factory os A U T H DOMAIN'] 'appscale'remote api stub Configure Remote Api appid path auth func servername servername save cookies True secure secure rpc server factory rpc server factory remote api stub Maybe Invoke Authentication os S E R V E R SOFTWARE'] 'evelopment remote api shell /1.0'if not appid appid os A P P L I C A T I O N I D '%s>' % appid if readline is not None readline and bind 'tab complete atexit lambda readline history file HISTORY PATH if os HISTORY PATH readline history file HISTORY PATH if '' not in sys sys 0 '' preimported locals {'memcache' memcache 'urlfetch' urlfetch 'users' users 'db' db 'ndb' ndb banner BANNER local preimported locals 
def split path mapping volume path drive volume config splitdrive volume path if u ' in volume config host container volume config u ' 1 return container drive + host else return volume path None 
def copy xxmodule c directory filename  get xxmodule path if filename is None raise unittest Skip Test 'cannotfindxxmodule.c testmustruninthepythonbuilddir ' shutil filename directory 
def  unpack user v uv v email unicode uv .decode 'utf-8' auth domain unicode uv domain .decode 'utf-8' obfuscated gaiaid uv gaiaid .decode 'utf-8' obfuscated gaiaid unicode obfuscated gaiaid federated identity Noneif uv federated identity federated identity unicode uv identity .decode 'utf-8' value users User email email  auth domain auth domain  user id obfuscated gaiaid federated identity federated identity return value 
def  get mysql db version from django import connectionconn connection conn 'SELECTVERSION ' version conn return version and str version or ''
def merge list old new if not old return newif isinstance new list old new return oldelse return ' '.join [old new 
def extract param pairs params prefix '' keyname '' valuename '' plist extract param list params prefix kvs [ p p for p in plist if keyname in p and valuename in p ]return dict kvs 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def mpf norm mpf prec sign man expt bc mpfif not man if not bc return  mpf zeroelse return mpffrom mpmath import M P Zrv mpf normalize sign MPZ man expt bc prec rnd return rv 
def extrapolate statistics scope c {}for k v in list scope if isinstance v dict v extrapolate statistics v elif isinstance v list tuple v [extrapolate statistics record for record in v hasattr v '  call  ' v v scope c vreturn c 
def set invalid utime path try os path -1 -100000000000 except O S Error Overflow Error os path -1 -1
def un camel case s return re ' ?< \\w [A-Z] ' '\\1' s 
def cql typename casstypename return lookup casstype casstypename .cql parameterized type 
def create directory repo remote path repoif repo 'ssh //' _ remote path parse ssh path repo repo run command repo 'mkdir-p%s' % remote path cd False 
def p abstract declarator 3 t pass 
def s group name values group primitives name values blocks C U R R E N T group 
def  create params parent argslist list def check python2 nested param node 'ython2allowsparamstolooklike a b c `` whichis Python3hasditched Jedicurrentlyjustignoresthoseconstructs node 'tfpdef' and node ' ' try first argslist list Index Error return []if first in 'name' 'tfpdef' if check python2 nested param first return [first]else return [aram [first] parent ]elif first '*' return [first]else children first children []start 0for end child in enumerate children + [one 1 if child is None or child ' ' param children children end param children if check python2 nested param param children new children + param childrenelif param children '*' and param children ' ' new children + param childrenelse new children Param param children parent start endreturn new children 
def compile user lists files user source node node move {key [] for key in constants N O T I F I C A T I O N T Y P E S {key [] for key in constants N O T I F I C A T I O N T Y P E S {key [] for key in constants N O T I F I C A T I O N T Y P E S len files 0 move warn remove categorize users user 'file updated source node 'file updated node for file path in files path file path '/' t move t warn t remove categorize users user path + ' file updated source node path + ' file updated node for notification in constants N O T I F I C A T I O N TYPES move list set move .union set t move warn list set warn .union set t warn remove list set remove .union set t remove return move warn remove 
def to str value if sys info > 2 retval str value else retval to str py27 value return retval 
def  format block device mapping bdm keys 'ame 'device name 'ame 'virtual name item {}for name k in keys if k in bdm item bdm bdm 'no device item Device Trueif 'snapshot id in bdm or 'volume id in bdm ebs keys 'd 'snapshot id 'd 'volume id 'ize 'volume size 'n Termination 'delete on termination ebs {}for name k in ebs keys if k in bdm if k 'snapshot id ebs ec2utils to ec2 snap id bdm elif k 'volume id ebs ec2utils to ec2 vol id bdm else ebs bdm 'd in ebs item ebsreturn item 
def get head repo path try ref open os repo path '.git' 'HEAD' 'r' .read .strip [5 ].split '/' branch ref -1 ]commit open os repo path '.git' *ref 'r' .read .strip [ 7]return branch commit except return None 
def gpuarray shared constructor value name None strict False allow downcast None borrow False broadcastable None target notset if target 'gpu' or target 'cpu' raise Type Error 'notforme' if not isinstance value numpy pygpu Gpu Array raise Type Error 'pu Arrayrequired if target is notset target Noneif not move to gpu value raise Type Error 'edonotmovethatdatabydefaulttothe G P U try get context target except Context Not Defined if target is None raise Type Error 'odefaultcontextandnocontextspecified raiseif broadcastable is None broadcastable False * value type Gpu Array Type value broadcastable context name target deviceval pygpu value copy not borrow context type return Gpu Array Shared Variable type type value deviceval name name strict strict 
def get subnet name ret salt utils return result 'systemsetup-getlocalsubnetname' return salt utils return ret 
def remez numtaps bands desired weight None Hz 1 type 'bandpass' maxiter 25 grid density 16 try tnum {'bandpass' 1 'differentiator' 2 'hilbert' 3}[type]except Key Error raise Value Error "ypemustbe 'differentiator' or if weight is None weight [1] * len desired bands np bands .copy return sigtools remez numtaps bands desired weight tnum Hz maxiter grid density 
def get dataset ids deployment for node in deployment for manifestation in node yield manifestation id 
def serve static request path insecure False **kwargs if not django settings D E B U G and not insecure raise Improperly Configured u Thestaticfilesviewcanonlybeusedindebugmodeorifthe if not settings P I P E L I N E ENABLED and settings P I P E L I N E COLLECTOR ENABLED default collector request files [path] return serve request path document root django settings S T A T I C ROOT **kwargs
@not implemented for 'undirected' def attracting components G scc list nx connected components G c G nx G scc for n in c G if c G degree n 0 yield scc 
def ids from fasta lines lines ids []for line in lines if not line '>' continueid id from fasta label line line ids id return ids 
def create file system name performance mode 'urpose keyid None key None profile None region None **kwargs import osimport base64creation token base64 os 46 ['-' '_'] tags {ey 'ame 'alue name  get conn key key keyid keyid profile profile region region response client file system Creation Token creation token Performance Mode performance mode if 'ile System Id in response client tags File System Id response File System Id Tags tags if 'ame in response response Name namereturn response 
def save sections sections default section sections if bool default section 'save' 'false' conf writer Conf Writer str default section 'config' Constants coafile else returnexcept Value Error conf writer Conf Writer str default section 'save' '.coafile' conf writer sections sections conf writer 
def rword length 5 s ''for i in range length if i % 2 0 t  consonantselse t  vowelss + random t return s 
def test from castra with selection castra pytest 'castra' blosc pytest 'blosc' if Loose Version blosc  version   '1.3.0' or Loose Version castra  version   < '0.1.8' pytest df pd Data Frame {'x' ['a' 'b' 'c' 'd'] 'y' [2 3 4 5]} index pd Index [1.0 2.0 3.0 4.0] name 'ind' a dd pandas df 2 b dd castra a castra assert eq b b > 3 ].x df df > 3 ].x
def temperature energy return [ si K si V lambda x x /  si /  si B lambda x x *  si /  si B ]
def raises *exceptions valid 'or'.join [e.  name   for e in exceptions def decorate func name func  name  def newfunc *arg **kw try func *arg **kw except exceptions passexcept raiseelse message '%s didnotraise % name valid raise Assertion Error message newfunc make decorator func newfunc return newfuncreturn decorate 
def remove taps module brew path taps failed unchanged removed msg False 0 0 '' for tap in taps failed changed msg remove tap module brew path tap if failed breakif changed removed + 1else unchanged + 1if failed msg 'removed %d unchanged %d error ' + msg msg msg % removed unchanged elif removed changed Truemsg 'removed %d unchanged %d' % removed unchanged else msg 'removed %d unchanged %d' % removed unchanged return failed changed msg 
def writable connection pool account id pool size 1 pool map dict return  get connection pool account id pool size pool map False 
def cr context method method api 'cr context method 
def create api error from http exception e response e explanation response ['message']except Value Error explanation response cls A P I Errorif response code 404 if explanation and 'osuchimage in str explanation or 'notfound doesnotexistornoreadaccess in str explanation cls Image Not Foundelse cls Not Foundraise cls e response response explanation explanation 
def print list extracted list file None if file is None file sys filename lineno name line in extracted list  print file 'ile line in % filename lineno name if line  print file '%s' % line 
def spawn personal stream args stuff None g g ' R E F I X u2str emojize format prefix th threading Thread target stream args c U S E R DOMAIN'] args g name th Trueth 
def compile device template pyfunc debug False inline False from .descriptor import C U D A Target Descdft Device Function Template pyfunc debug debug inline inline class device function template Abstract Template key dftdef generic self args kws assert not kws return dft args typingctx C U D A Target Desc user function dft device function template return dft 
def  siftdown max heap startpos pos newitem heap pos > startpos parentpos pos - 1 >> 1 parent heap cmp lt parent newitem heap parentpos parentposcontinuebreakheap newitem 
def decint raw forward True val 0byts bytearray src bytearray raw if not forward src for bnum in src byts bnum & 127 if bnum & 128 breakif not forward byts for byte in byts val << 7val | bytereturn val len byts 
def  abort msgs if not isinstance msgs list msgs [msgs]for msg in msgs log msg sys msg + '\n\n' sys 'uildfailed Seelogfileforfurtherdetails sys 1
def  raise if duplicate entry error integrity error engine name def get columns from uniq cons or name columns uniqbase 'uniq 'if not columns uniqbase if engine name 'postgresql' return [columns[ columns '_' + 1 columns '_' ]]return [columns]return columns uniqbase ].split '0' [1 ]if engine name not in ['mysql' 'sqlite' 'postgresql'] returnm  DUP KEY RE D B name integrity error if not m returncolumns m 1 if engine name 'sqlite' columns columns .split ' ' else columns get columns from uniq cons or name columns raise exception D B Duplicate Entry columns integrity error 
def test With No Kwargs io launch Hub Server keyboard io print '**PRESSAKEYTOCONTINUE.....' while not keyboard Events io 0.25 print ' Keyboard Eventwas Detected Test io 
def Build Server Conf keys vimsupport Get Vim Globals Keys server conf {}for key in keys if not key YCM VAR PREFIX continuenew key key YCM VAR PREFIX ]new value vimsupport Vim Expression To Python Type u ' + key server conf key new valuereturn server conf 
def handle text mic profile messages [ couldyourepeatthat 'yapologies couldyoutrysayingthatagain 'aythatagain 'begyourpardon random messages mic message 
def minute to session column close locs data out if column 'open'  minute to session open close locs data out elif column 'high'  minute to session high close locs data out elif column 'low'  minute to session low close locs data out elif column 'close'  minute to session close close locs data out elif column 'volume'  minute to session volume close locs data out return out 
def get Base U R L req name req M E T A H T T P H O S T name name name ' ' ]except passtry port int req M E T A S E R V E R PORT'] except port 80proto req M E T A S E R V E R P R O T O C O L 'HTTPS' in proto proto 'https'else proto 'http'if port in [80 443] or not port port ''else port ' %s' % port url '%s //%s%s/' % proto name port return url 
def filter blobnames for prefix candidates prefix sep matches set if not prefix for name in candidates if name '*' continueif sep in name matches name name sep ] True else matches name False else sep len len sep sepped prefix sep prefix for name in candidates if name '*' continueif name sepped prefix + sep subname name len sepped prefix + sep len ]if sep in subname subname subname subname sep ]is partial match Trueelse is partial match Falsematches subname is partial match return matches 
def  has constant term p x R p R x zm R monoma [0] * R a 1miv tuple a for expv in p if monomial min expv miv zm return Truereturn False 
def is exp summary editable exp summary user id None return user id is not None and user id in exp summary ids or user id in exp summary ids or exp summary owned 
def validate equal length *args length len args if any len lst ! length for lst in args raise exceptions Plotly Error 'ops Yourdatalistsorndarraysshouldbethesamelength 
def print timing msg None debug False prefix msgif isinstance msg types Function Type prefix msg namedef wrap f func *arg **kargs 'awtimingfunction time res func *arg **kargs time2 time msg '%stook%0.3fmins' % prefix time2 - time1 / 60.0 if debug log msg else log msg return resif isinstance msg types Function Type return decorator wrap f msg else return decorator wrap f 
def build resources options verify nodejs builder Builder '.' options if '.' in options builder all else builder dirs options 
def must have write permission or public wiki func @functools.wraps func def wrapped *args **kwargs  inject nodes kwargs wiki kwargs addon 'wiki' if wiki and wiki publicly editable return func *args **kwargs else return must have permission 'write' func *args **kwargs return wrapped 
def group snapshot create context values return I M P L snapshot create context values 
def  example short number for cost region code cost metadata Phone Metadata metadata for region region code if metadata is None return U EMPTY S T R I N Gdesc Noneif cost Short Number Cost T O L L FREE desc metadata freeelif cost Short Number Cost S T A N D A R D RATE desc metadata rateelif cost Short Number Cost P R E M I U M RATE desc metadata rateelse passif desc is not None and desc number is not None return desc numberreturn U EMPTY STRING
def  is path in directories filename directories fixed path os os filename for parent in directories fixed parent os os parent if os [fixed path fixed parent fixed parent return Truereturn False 
def recv item json try item id request raise HTTP 400 current message False 400 'ovalueprovided stable s3db sitertable s3db recvittable s3db track itemrtable lambda dt dt 10] query ittable item id item id & rtable ittable id & rtable id stable & rtable s3db ship status R E C E I V E D & ittable False records db query .select rtable rtable stable ittable output '[%s %s' % json dict id str T 'eceived quantity '#' records [1 ] response Content Type 'application/json'return output 
def service get by args context host binary return I M P L get by args context host binary 
def  symlink check name target force user group pchanges {}if not os name and not   salt  ['file.is link name pchanges namereturn None 'ymlink name target pchanges if   salt  ['file.is link name if   salt  ['file.readlink'] name ! target pchanges namereturn None 'ink name target pchanges else result Truemsg 'hesymlink name if not  check symlink ownership name user group result Nonepchanges '{0} {1}'.format * get symlink ownership name msg + ' buttheownershipofthesymlinkwouldbechangedfrom {3}to{0} {1}'.format user group * get symlink ownership name return result msg pchanges else if force return None 'hefileordirectory name target pchanges return False 'ileordirectoryexistswherethesymlink Didyoumeantouseforce name pchanges 
@deprecated Version 'wisted 11 0 0 'inspect.getmro' def all Your Base class Obj base Class None l [] accumulate Bases class Obj l base Class return l 
def  format date dt return '%s %02d%s%04d%02d %02d % M T % [on 'ue 'ed 'hu 'ri 'at 'un ] dt [an 'eb 'ar 'pr 'ay 'un 'ul 'ug 'ep 'ct 'ov 'ec dt - 1 ] dt dt dt dt 
def copytodir src dstdir dst pathjoin dstdir os src copy src dst 
def ylabel s *args **kwargs return gca .set ylabel s *args **kwargs
def get signals signums return dict s signal s for s in signums 
def stack search start expand mode 'bfs' build inv False if mode not in 'bfs' 'dfs' raise Value Error 'modeshouldbebfsordfs' mode rval set set rval list list if mode 'bfs' start pop start start pop start inv {}while start l start pop if id l not in rval set rval list l rval set id l expand l expand l if expand l if build inv for r in expand l expand inv r [] .append l start expand l assert len rval list len rval set if build inv return rval list expand inv return rval list 
def copula bv min u v return np u v 
def calculate mantl vars func @wraps func def inner *args **kwargs name attrs groups func *args **kwargs if attrs u u u attrs is server Trueelse attrs is server Falseif attrs u routable False groups u routable return name attrs groups return inner 
def fcontext add or delete policy action name filetype None sel type None sel user None sel level None if action not in ['add' 'delete'] raise Salt Invocation Error 'ctionssupportedare not action cmd 'semanagefcontext--{0}'.format action if filetype is not None  validate filetype filetype cmd + '--ftype{0}'.format filetype if sel type is not None cmd + '--type{0}'.format sel type if sel user is not None cmd + '--seuser{0}'.format sel user if sel level is not None cmd + '--range{0}'.format sel level cmd + '' + re name return   salt  ['cmd.run all cmd 
def  make task name cls addons None base name '.'.join [cls.  module   cls  name  ] extra ''if addons extra ';%s' % ' '.join [str a for a in addons return base name + extra 
def global date format date formatted date getdate date .strftime u B Y return formatted date u and formatted date ] or formatted date 
def oauth enabled decorated function None scopes None **decorator kwargs def curry wrapper wrapped function @wraps wrapped function def enabled wrapper request *args **kwargs return url decorator kwargs 'return url request full path user oauth django util User O Auth2 request scopes return url setattr request django util settings prefix user oauth return wrapped function request *args **kwargs return enabled wrapperif decorated function return curry wrapper decorated function else return curry wrapper 
def O Auth Authorize Token C G I method parameters outfile oauth callback Get First parameters  OAUTH CALLBACK PARAM '' if method 'GET' outfile 'tatus 200\r\n' outfile 'ontent Type text outfile '\r\n' outfile Render Token Approval Template oauth callback elif method 'POST' if oauth callback outfile 'tatus 3edirectingtocallback U R L outfile 'ocation %s\r\n' % oauth callback outfile '\r\n' else outfile 'tatus 200\r\n' outfile 'ontent Type text outfile '\r\n' outfile Render Token Approved Template else outfile 'tatus 4nsupportedmethod 
def cert get serial cert return cert 
@cached query Subreddit Query Cache def get spam filtered links sr id return Link query Link id sr id Link spam True Link ! 'mod-removed' sort db sort 'new'
def run network interacting from args *a **kw return retry effect with timeout run from args *a **kw timeout  T I M E O U T seconds 
def is ip addr value if not isinstance value string type raise Vdt Type Error value value value try dotted Quad To Num value except Value Error raise Vdt Value Error value return value 
def estimate sigma im average sigmas False multichannel False if multichannel nchannels im -1 ]sigmas [estimate sigma im c multichannel False for c in range nchannels ]if average sigmas sigmas np sigmas return sigmaselif im -1 ] < 4 msg 'imageissize{0}onthelastaxis butmultichannelis False Ifthisisacolorimage pleasesetmultichannelto Trueforpropernoiseestimation msg im -1 ] coeffs pywt im wavelet 'db2' detail coeffs coeffs 'd' * im ]return  sigma est dwt detail coeffs distribution 'aussian 
def extract live config config plugins live config config sections config del live config  name  ']parsed Config Value Parser live config parsed spec Globals config spec for plugin in plugins parsed spec plugin config return parsed 
def get cluster addr for job submission if is yarn if get yarn .LOGICAL N A M E return get yarn .LOGICAL N A M E conf get cluster conf for job submission if conf is None return Nonereturn '%s %s' % conf H O S T conf P O R T 
def sort Loops In Order Of Area is Descending loops loops key euclidean Area Loop Absolute reverse is Descending 
def  init command completion log 'nitializingcommandcompletion model miscmodels Command Completion Model  instances Completion model 
def cmdline pid return psutil Process pid .cmdline
def test dpi dpi get dpi assert dpi > 0.0 assert isinstance dpi float 
def  filter crowd proposals roidb crowd thresh for ix entry in enumerate roidb overlaps entry overlaps crowd inds np overlaps axis 1 -1 [0]non gt inds np entry classes 0 [0]if len crowd inds 0 or len non gt inds 0 continueiscrowd [int True for _ in xrange len crowd inds ]crowd boxes ds utils to xywh entry inds ] non gt boxes ds utils to xywh entry gt inds ] ious C O C Omask non gt boxes crowd boxes iscrowd bad inds np ious axis 1 > crowd thresh [0]overlaps[non gt inds inds ] -1 roidb overlaps scipy matrix overlaps return roidb 
def  check ldev ldev info ldev existing ref if ldev info ! NORMAL STS msg utils log MSG.INVALID LDEV FOR MANAGE raise exception Manage Existing Invalid Reference existing ref existing ref reason msg vol attr set ldev info attr if not ldev info type 'OPEN-V' or len vol attr < 2 or not vol attr  PERMITTED TYPES msg utils log MSG.INVALID LDEV ATTR FOR MANAGE ldev ldev ldevtype utils N V O L LDEV TYPE raise exception Manage Existing Invalid Reference existing ref existing ref reason msg if ldev info size % utils G I G A B Y T E PER BLOCK SIZE msg utils log MSG.INVALID LDEV SIZE FOR MANAGE ldev ldev raise exception Manage Existing Invalid Reference existing ref existing ref reason msg if ldev info port msg utils log MSG.INVALID LDEV PORT FOR MANAGE ldev ldev raise exception Manage Existing Invalid Reference existing ref existing ref reason msg 
def do translate message translation function global  defaulteol message message and message str u str u .replace str u str u or None t getattr  active u None if t is not None result getattr t translation function eol message else if  default is None from django import settings default translation settings L A N G U A G E CODE result getattr  default translation function eol message if isinstance message Safe Data return mark safe result return result 
def age restricted content limit age limit if age limit is None return Falseif content limit is None return Falsereturn age limit < content limit 
def choplist n seq r []for x in seq r x if len r n yield tuple r r []return
def sort thing ids by data value type id thing ids value name limit None desc False thing table data table get thing table type id join thing table data table data table id thing table id query sa [thing table id sa  thing table id  thing ids thing table False thing table False data table value name .select from join sort column data table desc sort column sa sort column query query by sort column if limit query query limit rows query return Results rows lambda row row id 
def test noeffect keys super Console Send Keys 'edirect Start }rue }{ENTER}' test Regex 'onsole Send Keys ' A C K S P A C E D E L E T E H O M E L E F T E N T E R test Regex + 'onsole Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex 
@register.filterdef comment filter comment text filter func settings C O M M E N T F I L T E Rif not filter func def filter func s return linebreaksbr urlize s autoescape True autoescape True elif not callable filter func filter func import dotted path filter func return filter func comment text 
def make vals val klass klass inst None prop None part False base64encode False cinst Noneif isinstance val dict cinst klass .loadd val base64encode base64encode else try cinst klass .set text val except Value Error if not part cis [make vals sval klass klass inst prop True base64encode for sval in val klass inst prop cis else raiseif part return cinstelif cinst cis [cinst]setattr klass inst prop cis 
def assert element text output path verify assertions function children text xml find text output path verify assertions function text children 
def statistic return s3 rest controller 
def get requester auth context pecan 'auth' None user db auth context 'user' None if auth context else None if not user db L O G 'authisdisabled fallingbacktosystem user username cfg C O N F user username user db username 
def html override tool apiopts cherrypy cherrypy blacklist apiopts 'app path '/app' apiopts 'static path '/static' if 'app' not in cherrypy returnif request info url blacklist returnif request 'ccept '*/*' returntry wants html cherrypy 'text/html' except cherrypy H T T P Error returnelse if wants html ! 'text/html' returnraise cherrypy Internal Redirect apiopts 'app path '/app'
def get http connect account func container func object func def http connect ipaddr port device partition method path headers None query string None a c o split path path 1 3 True if o func object funcelif c func container funcelse func account funcresp func ipaddr port device partition method path headers headers query string query string return respreturn http connect 
def find maltparser parser dirname if os parser dirname  malt dir parser dirnameelse  malt dir find dir parser dirname env vars u M A L T PARSER' malt dependencies [u'' u u malt jars set find jars within path  malt dir  jars set os jar [1] for jar in  malt jars malt dependencies set [u'log4j.jar' u u assert malt dependencies  jars assert any filter lambda i i u and i u  jars return list  malt jars 
def plot top left image image ] np 14 28 image 14 ] np 28 14 fig plt ax fig subplot 1 1 1 ax image cmap matplotlib plt np [] plt np [] plt 
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
def get crypto hiddenimports try modname 'rypto Cipher A E S aes modname except Import Error modname 'rypto Cipher A E S aes modname return modname 
def test type for c in Script 'importos;os.path.' .completions assert c 
def set manageiq facts if unset facts if 'common' not in facts if 'version gte 3 1 or 1 1' not in facts raise Open Shift Facts Internal Error 'nvalidinvocation Therequiredfactsarenotset if 'use manageiq not in facts facts manageiq facts gte 3 1 or 1 1']return facts 
def Fake O R M *args if not args in  orm cache  orm cache  Fake O R M *args return  orm cache 
def test moon data 
def blackmanharris M sym True if  len guards M return np M M needs trunc  extend M sym w  cos win M [0.35875 0.48829 0.14128 0.01168] return  truncate w needs trunc 
def tb iter tb while tb is not None yield tb tb tb next 
def save positions recursively up user request field data cache xmodule course None current module xmodulewhile current module parent location modulestore .get parent location current module parent Noneif parent location parent descriptor modulestore .get item parent location parent get module for descriptor user request parent descriptor field data cache current module key course course if parent and hasattr parent 'position' save child position parent current module current module parent 
def  raw input contains national prefix raw input national prefix region code nnn normalize digits only raw input if nnn national prefix try return is valid number parse nnn national prefix ] region code except Number Parse Exception return Falsereturn False 
def fold arg vars typevars args vararg kws n pos args len args kwds [kw for kw var in kws [typevars[a.name] for a in args + [typevars[var.name] for kw var in kws vararg is not None argtypes typevars if not all a for a in argtypes returnargs tuple a for a in argtypes pos args args n pos args vararg is not None if not isinstance args -1 ] types Base Tuple raise Type Error '*argsinfunctioncallshouldbeatuple got % args -1 ] pos args + args -1 ].typesargs args -1 ]kw args dict zip kwds args pos args ] return pos args kw args 
def  execute2 *args **kargs cmd args -3 ] if args 'raidcom' else args result EXECUTE T A B L E2 cmd CMD SUCCEED return result 
def build simple test command name return build schema test name str command name + u Tests schema {u'$ref' u + command name } schema store SCHEMAS failing instances {roperties [rr u u Extra u {esult u 'required' [{}] 'type' [[] u None {rr 1} {rr {}} {rr None passing instances [rr u {rr u Somethingwentwrong 
def  responds result type data None msg '' return {'result' result type map type 'message' msg 'data' {} if not data else data }
def notify new comment unit comment user report source bugs mails []subscriptions Profile new comment unit comment user for subscription in subscriptions mails subscription new comment unit comment user if comment is None and report source bugs ! u send notification email u report source bugs u comment unit {u'unit' unit u comment u unit user user send mails mails 
def  ln gamma function alpha if alpha < 0 raise Value Errorx alphaf 0if x < 7 f 1z xwhile z < 7 f * zz + 1x zf - log f z 1 / x * x return f + x - 0.5 * log x - x + 0.918938533204673 + -0.000595238095238 * z + 0.000793650793651 * z - 0.002777777777778 * z + 0.083333333333333 / x 
def  make Packages parent attributes result attrs {}for name value in list attributes if parent is None if isinstance value dict module Module Type name module  dict  .update  make Packages module value result result moduleelse result valueelif isinstance value dict module Module Type parent  name   + '.' + name module  dict  .update  make Packages module value result result parent  name   + '.' + name ] moduleattrs moduleelse attrs valuereturn attrs 
def time zones for number numobj ntype number type numobj if ntype Phone Number Type U N K N O W N return  UNKNOWN TIME ZONE L I S Telif not  can be geocoded ntype return  country level time zones for number numobj return time zones for geographical number numobj 
def  get handler methods handler methods []for method in get app .allowed methods if getattr handler  normalize handler method method None methods method return methods 
def random normal return inverse normal cdf random 
def merge series target other function operator missing object results []for x y in itertools longest target other fillvalue missing assert x is not missing and y is not missing 'seriesmustbesamelength'assert x y 'seriestimestampsmustmatch'results.append x function x y return results 
def splitpasswd user global  passwdprogif  passwdprog is None import re passwdprog re '^ [^ ]* .* $' re S match  passwdprog user if match return match 1 2 return user None 
def private api f f api Truereturn f 
def  active mounts openbsd ret for line in   salt  ['cmd.run stdout 'mount-v' .split '\n' comps re '\\s+' '' line .split parens re '\\ .*? \\ ' line re D O T A L L if len parens > 1 nod   salt  ['cmd.run stdout 'ls-l{0}'.format comps nod ''.join nod .split '' ret {'device' comps 'fstype' comps 'opts'  resolve user group names parens ' ' 'major' str nod ' ' 'minor' str nod 'device uuid parens ret {'device' comps 'fstype' comps 'opts'  resolve user group names parens ' ' }return ret 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def Set Location List diagnostics vim u 0 {0} '.format json diagnostics 
def get course enrollment info course id include expired False course key Course Key string course id try course Course Overview from id course key except Course Overview Does Not Exist msg u Requestedenrollmentinformationforunknowncourse course course id log msg raise Course Not Found Error msg else return Course Serializer course include expired include expired .data
def volume type qos associate context type id qos specs id return I M P L type qos associate context type id qos specs id 
def  astroid bootstrapping astroid builtin None if astroid builtin is None from logilab import builtinsastroid builtin Astroid B U I L D E R build builtins for cls node cls in CONST C L S if cls is type None proxy build class 'one Type proxy astroid builtinelse proxy astroid builtin cls  name   [0]if cls in dict list set tuple node cls proxied proxyelse  CONST P R O X Y proxy 
def morgue morgue tabs [ T 'orgue Details '' T 'odies 'body' ]rheader S3 Resource Header [[ T 'orgue 'name' ]] tabs morgue tabs def prep r s3db location filter r if r and r and not r field r field Truereturn Trues3 prepoutput s3 rest controller rheader rheader return output 
def theano parzen data mu sigma x dataa x 0 'x' 1 - mu 'x' 0 1 / sigma E log mean exp -0.5 * a ** 2 .sum 2 Z mu * T sigma * numpy numpy * 2 return E - Z
def test columnize long size 11items [ l * size for l in 'abc']for row first in [rue False out text items row first row first displaywidth size - 1 nt equal out '\n'.join items + [''] 'row first {0}'.format row first 
def decrypt aes secret key sha S H A256 sha key for  i in range 1 1000 + 1 sha secret 60] aeskey sha data ''for i in range 60 len secret 16 aes A E S aeskey AES.MODE CBC '\x00' * 16 buf secret i + 16 ]if len buf < 16 buf + 16 - len buf * '\x00' data + aes buf return data 
def  combine details detailses result {}for details in detailses gather details details result return pmap result 
def read number s start position m  READ NUMBER V A L U E s start position if not m or not m 1 or m 2 raise Read Error 'number' start position if m 2 return float m m else return int m m 
def mxp parse text text text '&' '&amp;' .replace '<' '&lt;' .replace '>' '&gt;' text LINKS S U B MXP SEND text return text 
def date from relative day base date time dow base date datetime base date base date base date time time dow dow if time 'this' or time 'coming' num H A S H W E E K D A Y S this week day base date num elif time 'last' or time 'previous' num H A S H W E E K D A Y S previous week day base date num elif time 'next' or time 'following' num H A S H W E E K D A Y S next week day base date num 
def name dev return info dev .get 'N' None 
def test cubic prec Chart datas chart Chart interpolate 'cubic' interpolation precision 200 chart make data chart datas chart low Chart interpolate 'cubic' interpolation precision 5 chart low make data chart datas assert len chart > len chart low 
def extract Text Tag Content page page page or '' if REFLECTED VALUE MARKER in page page re ' ?si [^\\s>]*%s[^\\s<]*' % REFLECTED VALUE MARKER '' page return filter None  .group 'result' .strip for _ in re TEXT TAG REGEX page 
def  coil trans to loc coil trans coil trans coil trans np return np coil trans T 3] 1 0 .flatten
def topic list request slug template name 'groups/topics/topic list group get object or 404 Group slug slug is active True topic list Group Topic group group is active True return render request template name {'group' group 'topic list topic list 
def enrollment mode display mode verification status course id show image Falseimage alt ''enrollment title ''enrollment value ''display mode  enrollment mode display mode verification status course id if display mode DISPLAY VERIFIED if verification status in [VERIFY STATUS NEED TO VERIFY VERIFY STATUS SUBMITTED] enrollment title _ 'ourverificationispending enrollment value _ 'erified Pending Verification show image Trueimage alt _ ' Dverificationpending elif verification status VERIFY STATUS APPROVED enrollment title _ "ou enrollment value _ 'erified show image Trueimage alt _ ' D Verified Ribbon Badge elif display mode DISPLAY HONOR enrollment title _ "ou enrollment value _ 'onor Code elif display mode DISPLAY PROFESSIONAL enrollment title _ "ou enrollment value _ 'rofessional Ed return {'enrollment title unicode enrollment title 'enrollment value unicode enrollment value 'show image show image 'image alt unicode image alt 'display mode  enrollment mode display mode verification status course id }
def delete files cookie tokens filelist url ''.join [ A N API URL 'filemanager?channel chunlei 0&web 1&opera delete '&bdstoken ' tokens data 'filelist ' + encoder uri component json filelist req net url headers {ontent const C O N T E N T FORM UTF8 'ookie cookie output } data data if req content req json content else return None 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def expose api raw func return expose api func to json False 
def get host name for vm session instance host ref get host ref for vm session instance return session call method vutil 'get object property host ref 'name'
@register canonicalize specialize optimizer [ Tensor From Scalar def local tensor scalar tensor node if isinstance node T Tensor From Scalar s node s and isinstance s T Scalar From Tensor t s [t]
def gf exquo f g p K q r gf div f g p K if not r return qelse raise Exact Quotient Failed f g 
def random normal variable shape mean scale dtype None name None seed None if dtype is None dtype floatx shape tuple map int shape tf dtype  convert string dtype dtype if seed is None seed np 1000000000.0 value tf normal initializer mean scale dtype tf dtype seed seed shape return variable value dtype dtype name name 
def  get terminal size linux def ioctl GWINSZ fd 'ioctl G W I N S Z import fcntlimport termioscr struct 'hh' fcntl fd termios T I O C G W I N S Z '1234' return crexcept passcr ioctl GWINSZ 0 or ioctl GWINSZ 1 or ioctl GWINSZ 2 if not cr or cr 0 0 try fd os os os O RDONLY cr ioctl GWINSZ fd os fd except passif not cr or cr 0 0 try cr os L I N E S os C O L U M N S except returnreturn int cr int cr 
def cpu usage return  Get System Stats .cpu
def  symlink src dest try os src dest except O S Error warn 'ouldnotcreatesymboliclink Checkthatyourpartitionhandlessymboliclinks Thefilewillbecopiedinstead % dest shutil src dest 
def  add image collection image image prep {'id' image 'name' image 'created at image at 'file' image 'min disk image disk 'min ram image ram 'owner' image 'protected' image 'status' image 'tags' image 'updated at image at 'visibility' image attr in ['container format 'disk format 'size'] if attr in image image prep image type collection is dict collection image prepelif type collection is list collection image prep else msg '"collection"is{0}'.format type collection + 'insteadofdictorlist.' log msg raise Type Error msg return collection 
def get num con cat con by sample cat by sample num con cat defaultdict float num con 0for sample connects in con by sample sample categories cat by sample s con in connects if s con not in cat by sample continuefor s cat con cat in zip sample categories cat by sample con if s cat con cat num con cat cat + 0.5num con + 0.5return num con cat num con 
def login redirect request ignorable nexts u if u in settings I N S T A L L E D APPS from mezzanine import urlsignorable nexts + urls S I G N U P URL urls L O G I N URL urls L O G O U T URL next next url request or u if next in ignorable nexts next settings L O G I N REDIRECT U R Lif next u next get script prefix else try next reverse next except No Reverse Match passreturn redirect next 
def allow api profiling handler if not settings D E B U G return handlerelse def aap wrapper fn request *args **kwargs response handler request *args **kwargs if not request ajax and response Content Type 'application/json' response '<body>%s</body>' % response response Content Type 'text/html'return responsereturn aap wrapper fn 
def eccentricity jd T jd - jd1950 / 36525.0 p -1.26e-07 -4.193e-05 0.01673011 return np p T
def greenthread yield dbapi con con record greenthread 0
def get Code From Param Str val tmp re '^ \\$ +' '' val tmp2 re ' [^\\\\] \\$ +' '\\1' tmp return re '[\\\\]\\$' '$' tmp2 
def parse Primitive Category chunks primitives families var if chunks u if chunks is None if var is None var C C G Var return var var catstr chunks catstr in families cat cvar families var is None var cvarelse cat cat [ cvar var ] return cat var if catstr in primitives subscrs parse Subscripts chunks return Primitive Category catstr subscrs var raise Assertion Error u String + catstr + u 
def rational polynomial2 data return data - 3 ** 4 + data - 3 ** 3 - data - 3 / data - 2 ** 4 + 10
def  token splittable token if '_' in token return Falseelse try return not unicodedata 'GREEKSMALLLETTER' + token except Key Error passif len token > 1 return Truereturn False 
def get memory usage pid os process subprocess Popen "ps-orss%s|awk'{sum+ $ N D % pid shell True stdout subprocess P I P E stdout list process [0].split '\n' return int stdout list 
def   remove pyc pyo fname if osp fname [1] '.py' for ending in 'c' 'o' if osp fname + ending os fname + ending 
@block user agents required document pathdef select locale request document slug document locale doc get object or 404 Document locale document locale slug document slug return render request 'wiki/select locale {'document' doc 
def mark content as spam user by user for question in Question creator user question as spam by user for answer in Answer creator user answer as spam by user 
def style Id from name name return {'caption' 'aption 'heading1' 'eading1 'heading2' 'eading2 'heading3' 'eading3 'heading4' 'eading4 'heading5' 'eading5 'heading6' 'eading6 'heading7' 'eading7 'heading8' 'eading8 'heading9' 'eading9 name name '' ''
def mock unfrackpath noop path return path 
def read element id stream char  read stream 1 byte ord char if byte & 128 return byteelif byte & 64 return unpack '>H' char +  read stream 1 [0]elif byte & 32 b h unpack '>BH' char +  read stream 2 return b * 2 ** 16 + h elif byte & 16 return unpack '>L' char +  read stream 3 [0]else Value Error 'otan Element I D 
def kurtosis iterable sample False a iterable if isinstance iterable list else list iterable return moment a 4 sample / moment a 2 sample ** 2.0 or 1 - 3
def shuffled iterable **kwargs seed kwargs 'seed' return sorted list iterable key lambda x random 
def  get stdout stderr False if stderr stream u stream u stream getattr sys stream if I Python I O Stream is None return sys streamipyio stream getattr ipyio stream if isatty sys stream and isatty ipyio stream return ipyio streamelse return sys stream 
def serve in child sock if os 0 try serve socket sock finally sys 
def unexpo intpart fraction expo if expo > 0 f len fraction intpart fraction intpart + fraction expo fraction ] if expo > f intpart intpart + '0' * expo - f elif expo < 0 i len intpart intpart fraction intpart expo intpart ] + fraction if expo < - i fraction '0' * - expo - i + fraction return intpart fraction 
def base Transform val from pybrain import Modulefrom inspect import isclassif isinstance val Module return val isclass val return val  name  else return str val 
def resolve relation scope model relation if relation RECURSIVE RELATIONSHIP CONSTANT relation scope modelif isinstance relation str if '.' not in relation relation '%s.%s' % scope model meta label relation return relation 
def  item to resource record set iterator resource return Resource Record Set api repr resource iterator 
def drive test test driver class test driver test driver class sys test driver 
def get Translated Complex Path path translate Complex translated Complex Path []for point in path translated Complex Path point + translate Complex return translated Complex Path 
def mlsd conn path '' facts None facts facts or [] if facts conn 'OPTSMLST' + ';'.join facts + ';' if path cmd ' L S D % path else cmd ' L S D []conn.retrlines cmd lines for line in lines facts found _ name line ftplib C R L F .partition '' entry {}for fact in facts found -1 ].split ';' key _ value fact ' ' entry ] value yield name entry 
def add Menu Entities To Menu menu menu Entities for menu Entity in menu Entities menu Entity To Menu menu 
def powershell registry xml parent data ps X M L Sub Element xml parent 'ower Shell X M L Sub Element ps 'command' .text data 
def get Nearest Point On Segment segment Begin segment End point segment Difference segment End - segment Begin if abs segment Difference < 0.0 return segment Beginpoint Minus Segment Begin point - segment Begin begin Plane Dot get Dot Product point Minus Segment Begin segment Difference difference Plane Dot get Dot Product segment Difference segment Difference intercept begin Plane Dot / difference Plane Dot intercept max intercept 0.0 intercept min intercept 1.0 return segment Begin + segment Difference * intercept 
def  partitions of index values divisions values if divisions is None msg 'annotuselocon Data Framewithoutknowndivisions Value Error msg results defaultdict list values pd Index values dtype object for val in values i bisect right divisions val div min len divisions - 2 max 0 i - 1 results val return results 
def test feature first scenario tag extraction feature Feature string FEATURE22 assert that feature .deep equals ['onetag']
def  safe postlogin redirect redirect to safehost default redirect '/' if is safe url url redirect to host safehost return redirect redirect to return redirect default redirect 
def decode bits received bitvec rec received bitvecsyn numpy DEFAULT H rec % 2 try err numpy DEFAULT SYNDROME L U T syn ] except Key Error return None 4 corrected rec + err % 2 return corrected numpy err 
def  unquote or none s if s is None return sreturn url unescape s encoding None plus False 
@utils.arg '--all-tenants' action 'store const const 1 default 0 help _ 'topserver s inanothertenantbyname Adminonly .' @utils.arg 'server' metavar '<server>' nargs '+' help _ 'ameor I Dofserver s .' def do stop cs args find args {'all tenants args tenants action on many lambda s  find server cs s **find args .stop args _ 'equesttostopserver _ 'nabletostopthespecifiedserver s .'
def var tag var tag var hasattr tag 'trace' and len tag and len tag 4 if isinstance tag tuple list path line _ src tag -1 ]else path line _ src tag os path path path '<' '' path path '>' '' src src return [path line src return None 
def  iscount X X np X remainder np and np and np X % 1.0 0 axis 0 X 0 ! 0 np X > 0 axis 0 dummy  isdummy X remainder np remainder [0].tolist for idx in dummy remainder idx return np remainder 
def find lexer class name if name in  lexer cache return  lexer cache module name lname aliases _ _ in L E X E R S if name lname  load lexers module name return  lexer cache cls in find plugin lexers if cls name return cls 
def get upload to instance filename return instance upload to filename 
def discount episode rewards rewards [] gamma 0.99 discounted r np like rewards dtype np running add 0for t in reversed xrange 0 rewards if rewards ! 0 running add 0running add running add * gamma + rewards discounted r running addreturn discounted r 
def url is embeddable image url parsed url Url Parser url if parsed url extension .lower in {'jpg' 'gif' 'png' 'jpeg'} if parsed url not in g image domains return Falsereturn Truereturn False 
def test vector sympy v1 3 * j assert v1 j * 3 assert v1 {j 3} v2 3 * i + 4 * j + 5 * k v3 2 * i + 4 * j + i + 4 * k + k assert v3 v2 assert v3  hash   v2  hash  
@ docstring 'recording' def get recording by id id includes [] release status [] release type [] params  check filter and make params 'recording' includes release status release type return  do mb query 'recording' id includes params 
def get All Files In dir tag '' extension '.pickle' allfiles os dir res []for f in allfiles if f - len extension ] extension and f len tag ] tag res f - len extension ] return res 
def Register Class Factories clsids flags None clsctx None if flags is None flags pythoncom R E G C L S MULTIPLEUSE | pythoncom R E G C L S SUSPENDED if clsctx is None clsctx pythoncom C L S C T X LOCAL S E R V E Rret []for clsid in clsids if clsid not in ['-' '/'] factory pythoncom Make Py Factory clsid reg Id pythoncom Co Register Class Object clsid factory clsctx flags ret factory reg Id return ret 
def get boundary return 'b08c02-53d780-e2bc43-1d5278-a3c0d9-a5c0d9'
def split addresses email string list return [f for f in [s.strip for s in email string list u ' ] if f 
def module by name module name  def construct import univention modules module univention module name  univention uldap position base dn module return modulereturn  singleton 'module/%s' % module name  construct 
@requires application def test functionality proxy  test basics 'gl2debug'
def col update fid uid body url build url RESOURCE id fid route 'col' params make params uid uid return request 'put' url json body params params 
def list share cookie tokens uk page 1 num 100start 100 * page - 1 url ''.join [ A N URL 'pcloud/feed/getsharelist?' '&t ' util '&categor 0&auth type 1&request location share home '&start ' str start '&limit ' str num '&query uk ' str uk '&channel chunlei 0&web 1' '&bdstoken ' tokens req net url headers {ookie cookie output 'eferer const S H A R E REFERER} if req content req json content else return None 
@open file 0 mode 'rb' def read pajek path encoding 'UTF-8' lines line encoding for line in path return parse pajek lines 
def create swap disk vm  linode id swap size None kwargs {}if not swap size swap size get swap size vm  kwargs {inode I D linode id 'abel vm ['name'] 'ype 'swap' 'ize swap size result  query 'linode' 'disk.create' args kwargs return  clean data result 
def map references value field actual course key if not value return valueif isinstance field Reference return value into course actual course key if isinstance field Reference List return [sub.map into course actual course key for sub in value isinstance field Reference Value Dict return {key ele into course actual course key for key ele in value }return value 
def log Sum Exp A B out None if out is None out numpy A indicator1 A > B indicator2 numpy not indicator1 out A + numpy numpy B - A out B + numpy numpy A - B return out 
def get comment list parser token return Comment List Node token parser token 
def parse prototype text m re symbol text if not m raise Value Error 'nvalidfunctionnameforexportprototype s m 0 e m 0 symbol text e text e + 1 ]return symbol functype 
def sanitize filename filename if isinstance filename str unicode filename re u u filename filename re u "<>|?]' u filename filename re u u filename filename filename u return filenamereturn u 
def generate hash txt None length None import hashlib timefrom .utils import random stringdigest hashlib txt or u + repr time + repr random string 8 .hexdigest if length digest digest length digest 
def wsgi path item environ name try return environ args Key Error Index Error return None 
def dedent content content force text content whitespace counts [ len line - len line u for line in content [1 ] if line ]tab counts [ len line - len line u DCTB ' for line in content [1 ] if line ]if whitespace counts whitespace pattern u + u * min whitespace counts content re re whitespace pattern re M U L T I L I N E u content elif tab counts whitespace pattern u + u DCTB ' * min whitespace counts content re re whitespace pattern re M U L T I L I N E u content return content 
def  tkerror err pass 
def get G N U Translator Gcode File Type Tuples file Type Tuples get Translator File Type Tuples file Type Tuples 'codetextfiles '*.gcode' file Type Tuples return file Type Tuples 
def  service by name name services  available services name name if name in services return services service in six services if service path name return service basename ext os service if basename name return servicereturn False 
def  get pkgng version jail None chroot None root None cmd  pkg jail chroot root + ['--version'] return   salt  ['cmd.run'] cmd .strip
def fullcascade attr doc '' def getter self return getattr self items attr def setter self value for item in self setattr item attr value return property fget getter fset setter doc doc 
@then u def step see record updated context  expect exact context u U P D A T E1 timeout 2
def handle var value context if isinstance value Filter Expression or isinstance value Variable return value context stringval QUOTED S T R I N G value if stringval return stringval u try return Variable value .resolve context except Variable Does Not Exist return value 
def change user cookie security secure remember if secure set secure session cookie remember else delete secure session cookie if not c is loggedin returnuser name c PRIVATE SESSION COOKIES + [ user name + '_' + c name for c name in PRIVATE USER COOKIES] for name cookie in c if name in securable cookie secureif name in PRIVATE SESSION COOKIES if name ! ' options cookie Trueif remember and name g cookie cookie N E V E Rcookie True 
def master open try master fd slave fd os except Attribute Error O S Error passelse slave name os slave fd os slave fd return master fd slave name return  open terminal 
def new parser harness results dirpath if not path results dirpath raise Bad Results Directory Errorkeyval path path results dirpath KEYVAL job keyval utils keyval keyval path status version job keyval S T A T U S V E R S I O N status lib status version job parser job results dirpath status log filepath path results dirpath 'status.log' if not path status log filepath raise Bad Results Directory Errorreturn Parser Harness parser job job keyval status version status log filepath 
def  execute task arg cache dsk None if isinstance arg list return [ execute task a cache for a in arg istask arg func args arg arg ] args2 [ execute task a cache for a in args func *args2 elif not ishashable arg return argelif arg in cache return cache return arg 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def disable quota volume name cmd 'volumequota{0}disable'.format name if not  gluster cmd return Falsereturn True 
def sync rheader r tabs [] if r 'html' if r 'sync repository T current Trepository r r and r name 'log' and not r id purge log A T 'emovealllogentries  href r method 'delete' else purge log ''if repository if repository or repository 'filesync' and repository tabs T 'anual Synchronization 'now' rheader tabs s3 rheader tabs r tabs rheader DIV TABLE TR TH '%s ' % T 'ame repository TH '' purge log TR TH 'URL ' repository TH '' '' rheader tabs return rheaderreturn None 
def var to list var if isinstance var list return varif not var return []return [var]
def create patch viewer grid shape vis chains m pv Patch Viewer grid shape vis chains 3] is color vis chains -1 ] 3 for i in xrange m pv patch vis chains ] rescale False return pv 
def update blog supernav latest entry Blog Entry feed id 1 .latest rendered box  render blog supernav latest entry box Box label 'supernav-python-blog' box rendered boxbox 
def  percent Decode text try quoted Bytes text 'ascii' except Unicode Encode Error return textunquoted Bytes urlunquote quoted Bytes try return unquoted Bytes 'utf-8' except Unicode Decode Error return text 
def own metadata module return module explicitly set fields by scope Scope 
def richardson A k n N s S Zerofor j in range 0 N + 1 s + A k Integer n + j .doit * n + j ** N * -1 ** j + N / factorial j * factorial N - j return s 
def column or 1d y warn False shape np y if len shape 1 return np y if len shape 2 and shape 1 if warn warnings 'column Pleasechangetheshapeofyto n samples forexampleusingravel .' Data Conversion Warning stacklevel 2 return np y raise Value Error 'badinputshape{0}'.format shape 
def  item to row iterator resource return  row from json resource iterator 
@parse data databasedef get content parents ids None **kwargs if ids Parent Item parent values Item Parent .join Parent on Item Parent .where Item  ids .distinct if parent values is None parent values list return parent valueselse return list 
def equate Rectangular Dot X point return Value point return Value 
def extract client header rewrited headers {}dbgprint 'rowser Request Headers ' request for head name head value in request head name l head name if head name l in 'host' 'content-length' continueelif head name l 'content-type' and head value '' continueelif head name l 'accept-encoding' and 'br' in head value or 'sdch' in head value  str buff ''if 'gzip' in head value  str buff + 'gzip 'if 'deflate' in head value  str buff + 'deflate'if  str buff rewrited headers name l  str buffcontinueelse rewrited headers name l client requests text rewrite head value if head name l 'cookie' rewrited headers name l regex remove  zmirror verify  header '' rewrited headers name l dbgprint 'iltered Browser Request Headers ' rewrited headers return rewrited headers 
def niche Schematas type size rept int size / type return [ '#' * i * rept + '1' * rept + '#' * type - i - 1 * rept for i in range type ]
def combine cmds *cmds cmd combine values *cmds if cmd is None return Noneelif isinstance cmd string types return shlex split cmd else return list cmd 
def generate datafile old number items 1000 from utils import get names generate datasetfrom pprint import pprintfilename 'samples.py'dataset generate dataset number items fo open filename 'wb' fo '#!/usr/bin/envpython\n' fo '#-*-coding utf fo 'rainaetic http //www.thenetplanet.com\n\n' fo 'SAMPLES ' pprint dataset fo fo print '%sgeneratedwith%dsamples' % filename number items 
def get Twist Precision Radians element Node return math get Twist Precision element Node 
def register linter linter checker Exceptions Checker linter 
def map type cffi type kind getattr cffi type 'kind' '' if kind 'union' raise Type Error 'osupportfor C F F Iunion elif kind 'function' if cffi type raise Type Error 'varargfunctionisnotsupported' restype map type cffi type argtypes [map type arg for arg in cffi type templates restype *argtypes elif kind 'pointer' pointee cffi type pointee 'void' return types return types C Pointer map type pointee else result  type map .get cffi type if result is None raise Type Error cffi type return result 
def update site backward apps schema editor Site apps model u u Site Site or create id settings S I T E ID defaults {u'domain' u u u 
def pycodestylemod add ignore ignore code if ignore code not in pycodestylemod D E F A U L T IGNORE default ignore pycodestylemod D E F A U L T I G N O R E ' ' default ignore ignore code pycodestylemod D E F A U L T IGNORE ' '.join default ignore 
def dtype info name dtype dtype np dtype if dtype in 'S' 'U' length re ' \\d+ ' dtype .group 1 type name STRING TYPE NAMES[ not six P Y2 dtype ]out type name + length else out dtype out 
def not implemented for *graph types @decoratordef  not implemented for f *args **kwargs graph args {'directed' graph directed 'undirected' not graph directed 'multigraph' graph multigraph 'graph' not graph multigraph }match Truetry for t in graph types match match and terms except Key Error raise Key Error 'useoneormoreof' 'directed undirected multigraph graph if match raise nx Network X Not Implemented 'notimplementedfor%stype' % ''.join graph types else return f *args **kwargs return  not implemented for 
def subscribe to collection user id collection id subscriptions model user models User Subscriptions Model user id strict False if not subscriptions model subscriptions model user models User Subscriptions Model id user id if collection id not in subscriptions model ids subscriptions model ids collection id subscriptions model 
def test cleanup after install script data script 'install' '--no-index' '--find-links %s' % data links 'simple' build script path / 'build' src script path / 'src' assert not exists build 'build/dirstillexists %s' % build assert not exists src 'unexpectedsrc/direxists %s' % src script no temp 
def model dependencies model checked models None depends set checked models checked models or set for field in model meta + model meta to many depends field dependencies field checked models for base in model  bases   if issubclass base models Model and hasattr base ' meta and not base meta depends base new to check depends - checked models while new to check checked model new to check if checked model model or checked model in checked models continuechecked models checked model deps model dependencies checked model checked models for dep in deps if dep not in depends and dep not in new to check and dep not in checked models new to check dep depends dep return depends 
def run twisted apps port static dir '.' interface '0.0.0.0' import twisted twisted twisted import Resourcefrom twisted import W S G I Resourcefrom twisted import reactorif static dir ! None static dir os static dir logging 'registeringstaticfolder%ron/' % static dir root twisted File static dir else root Resource for app url in apps resource W S G I Resource reactor reactor app logging 'registering%ron/%s' % app url root Child url resource site twisted Site root reactor T C P port site interface interface logging 'listeningon %s %d' % interface port return reactor 
def args arg list parser argparse Argument Parser usage '% prog s description 'pen Stack Inventory Generator epilog 'nventory Generator Licensed Apache2 parser argument '--config' help 'athcontainingtheuserdefinedconfigurationfiles required False default None parser argument '--list' help 'istallentries action 'store true parser argument '--check' help "onfigurationcheckonly don action 'store true parser argument '-d' '--debug' help 'utputdebugmessagestologfile Fileisappendedto notoverwritten action 'store true default False parser argument '-e' '--environment' help 'irectorythatcontainsthebaseenv Defaultsto O S A R O O T required False default os   file   return vars parser args arg list 
def get limited to project headers global  E N F O R C E Rif not  ENFORCER  ENFORCER policy Enforcer if not  E N F O R C E R 'context is admin {} {'roles' headers ' Roles '' .split ' ' } return headers ' Tenant Id 
def dest namespace name return name '-' '_' + '_'
def MAX ds count timeperiod - 2 ** 31 return call talib with ds ds count talib M A X timeperiod 
def overwrite novel deltas baseline deltas dates get indexes dates idx get indexes deltas T S FIELD N A M E 'right' - get indexes deltas A D FIELD N A M E 'left' < 1 novel deltas deltas idx novel deltas deltas ~ novel idx ]cat pd baseline novel deltas ignore index True copy False cat values TS FIELD NAME inplace True return cat non novel deltas 
def compare files self result file ref file self Equal result file ref file self Equal result file ref file self Equal result file key ref file key self Equal result file ref file self Equal result file update ref file update self Equal result file type ref file type self Equal result file type ref file type self Equal result file name ref file name 
def  test args import pandas as pdreturn {'start' pd Timestamp '2013-10-07' tz 'utc' 'end' pd Timestamp '2013-11-30' tz 'utc' 'capital base 100000}
def tamper payload **kwargs ret Val ''if payload ret Val '%s%ssp password % payload '--' if not any _ if _ in payload else None for _ in '#' '--' else '' return ret Val 
def readbytes filename buffersize 1024 infile open filename 'rb' for byte in filebytes infile buffersize yield byte 
def squeeze a axis None return a axis 
def lineagename for filename config filename if not config filename '.conf' raise errors Cert Storage Error 'renewalconfigfilenamemustendin.conf' return os config filename - len '.conf' ]
def filter Authorized Keys fp for line in fp line line '\n' if line COMMENT continueif  COMMAND R E line continue yield line 
def companion a a np 1d a if a ! 1 raise Value Error 'ncorrectshapefor if a < 2 raise Value Error 'helengthof if a 0 raise Value Error 'hefirstcoefficientin first row - a ] / 1.0 * a n a np n - 1 n - 1 dtype first row c first rowc list range 1 n - 1 list range 0 n - 2 ] 1return c 
def get single color func color old r old g old b Image Color color rgb max 255.0 h s v colorsys to hsv old r / rgb max old g / rgb max old b / rgb max def single color func word None font size None position None orientation None font path None random state None 'andomcolorgeneration Additionalcoloringmethod Itpicksarandomvaluewithhueand Parameters font size position orientation ignored state random Randomobjector None default None \farandomobjectisgiven thisisusedforgeneratingrandom random state is None random state Random r g b colorsys to rgb h s random state 0.2 1 return 'rgb { .0f} { .0f} { .0f} '.format r * rgb max g * rgb max b * rgb max return single color func 
def get mode path if not os path return ''func name '{0}.get mode   virtualname   if   opts  .get 'fun' '' func name log 'hefunction Windowssystems Thevaluereturnedisalways None func name return None 
@check db locksdef api request app *api path **kwargs base url app kwargs 'headers' {} if 'uthorization not in headers headers auth header app 'admin' url ujoin base url 'api' *api path method kwargs 'method' 'get' f getattr requests method resp f url **kwargs assert "frame-ancestors'self'" in resp Content Security Policy assert ujoin app url 'security/csp-report' in resp Content Security Policy assert 'http' not in resp Content Security Policy return resp 
def secondary with tags server selector tag sets selection return apply tag sets tag sets secondary server selector selection 
def prepare js for gettext js def escape quotes m 'sedinaregextoproperlyescapedoublequotes m 0 if s '"' return '\\"'else return slexer Js Lexer c []for name tok in lexer js if name 'regex' tok ' E G E X name 'string' if tok "'" guts re '\\\\.|.' escape quotes tok -1 ] tok '"' + guts + '"' elif name 'id' tok tok '\\' 'U' c tok return ''.join c 
def Build Budget Operations batch job helper budget operations [{'xsi type 'udget Operation 'operand' {'name' 'atchbudget % uuid 'd batch job helper Get Id 'amount' {mount '50000000'} 'ethod 'STANDARD'} 'operator' ' D D budget operations 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def list nodes conn None call None if call 'action' raise Salt Cloud System Exit 'helist nodesfunctionmustbecalledwith ret {}nodes list nodes full conn call for node in nodes ret {'name' node prop in 'id' 'image' 'size' 'state' 'private ips 'public ips ret nodes prop return ret 
def exec python *args **kwargs cmdargs kwargs   wrap python args kwargs return exec command *cmdargs **kwargs
def req req drivers row if hasattr row 'req req row row reqtry req ref row reftype row Attribute Error return Noneif type 1 s3db current s3db sendquery stable ! True & stable ref req ref drivers current query .select stable name stable phone stable plate no if drivers drivers [ '%s%s%s' % driver name or '' driver phone or '' driver plate no or '' for driver in drivers ' '.join drivers return current N O N E 
def check server host port ajax if host 'localhost' and sabnzbd A M B I LOCALHOST return bad Parameter Response T 'arning L O C A L H O S Tisambiguous usenumerical I P ajax if Get Server Parms host int conv port return ''else return bad Parameter Response T 'erveraddress %s"isnotvalid.' % host port ajax 
def atoi s try return int s or '0' except Value Error return 0
def getopenfilename parent None caption '' basedir '' filters '' selectedfilter '' options None return  qfiledialog wrapper 'pen File Name parent parent caption caption basedir basedir filters filters selectedfilter selectedfilter options options 
def pluralize word pos NOUN custom {} return word + 's'
def extend safe target source for elt in source if elt not in target target elt 
def  alarms present name alarms alarms from pillar region key keyid profile tmp   salt  ['config.option'] alarms from pillar {} if alarms tmp dictupdate tmp alarms merged return value {'name' name 'result' True 'comment' '' 'changes' {}}for _ info in six tmp info name + '' + info info name + '' + info info {oad Balancer Name [name]}kwargs {'name' info 'attributes' info 'region' region 'key' key 'keyid' keyid 'profile' profile   states  ['boto cloudwatch alarm **kwargs if not results 'result' merged return value results results 'changes' {} ! {} merged return value results 'comment' in results merged return value + results merged return value 
def get org prefs orgname None profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/org/preferences'.format profile url auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def topology func *args **kwargs argtypes [GEOM P T R args argtypes + argsfunc argtypesfunc kwargs 'restype' GEOM PTR func kwargs 'errcheck' check geom return func 
def stream download cookie tokens path url ''.join [ C S URL D 'file?method download '&path ' encoder uri component path '&app id 250528'] req net without redirect url headers {ookie cookie output } if req return reqelse return None 
def rastrigin individual return 10 * len individual + sum gene * gene - 10 * cos 2 * pi * gene for gene in individual 
def get image file path instance return os C O N F path instance 'disk'
def  Verbose Level return  cpplint state level 
def colgen *lstcol **kargs if len lstcol < 2 lstcol * 2trans kargs 'trans' lambda x y z x y z while 1 for i in range len lstcol for j in range len lstcol for k in range len lstcol if i ! j or j ! k or k ! i yield trans lstcol i + j % len lstcol ] lstcol j + k % len lstcol ] lstcol k + i % len lstcol ]
def test reset dhist  ip cell 'tmp [dfordin dh  ip 'cd' + os nt  file    ip 'cd-' nt true len  ip ns dh > 0  ip 'reset-fdhist' nt equal len  ip ns dh 0  ip cell ' dh [dfordintmp]'
def describe token expr expr if ' ' in expr type value expr ' ' 1 if type 'name' return valueelse type exprreturn  describe token type type 
def connect s3 access key None secret key None node settings None if node settings is not None if node settings account is not None access key secret key node settings account key node settings account secret connection S3 Connection access key secret key calling format Ordinary Calling Format return connection 
def oo combine dict data in joiner ' ' out joiner '' if not isinstance data dict raise errors Ansible Filter Error '|failedexpectsfirstparamisadict[oo combine dict Got Type %s' % str data str type data return out joiner [in joiner [k str v ] for k v in data ]
def worktree state head u H E A D update index False display untracked True paths None if update index git index refresh True staged unmerged staged deleted staged submods diff index head paths paths modified unstaged deleted modified submods diff worktree paths untracked display untracked and untracked files paths paths or [] if unmerged unmerged set set unmerged modified [path for path in modified if path not in unmerged set ]upstream changed diff upstream head staged modified unmerged untracked upstream changed return {u'staged' staged u modified u unmerged u untracked u changed upstream changed u deleted staged deleted u deleted unstaged deleted u staged submods | modified submods }
def lookup object spec parts target spec ' ' if ' ' in spec else spec None module   import   parts for part in parts '.' [1 ] + [target] if target else [] module getattr module part return module 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def check environment if os 'TRAVIS' 'true' is travis Truenon pr os 'TRAVIS PULL REQUEST' 'false' and os 'TRAVIS BRANCH' 'master' else is travis non pr Falsereturn is travis non pr 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def lab2lch lab lch  prepare lab array lab a b lch 1] lch 2] lch 1] lch 2]  cart2polar 2pi a b return lch 
def unique modules directory found {}for entry in sorted os directory if entry '_' continuemodule is module entry if module if module not in found found entry yield module elif is package os directory entry if entry not in found found entry yield entry 
def get pkg name args pkg path recipes dir args dirinput dir os os recipes dir pkg path recipe meta Meta Data input dir return recipe meta value 'package/name'
def read Double data try number struct '>d' data 8] [0]rest data ]return number rest except struct print 'rror toofewbytesfordouble data len data return 0 data 
def peer2str addr if isinstance addr I Pv4 Address res u {0} {1}'.format addr addr elif  HAS IPV6 and isinstance addr I Pv6 Address res u {0} {1}'.format addr addr elif isinstance addr U N I X Address res u {0}'.format addr elif isinstance addr Pipe Address res u res u {0}'.format addr return res 
def int coercable string try int string return Trueexcept Value Error return False 
def  calc end text start if len text 1 new end start + Position 0 len text else new end Position start + len text - 1 len text -1 ] return new end 
def  compute targets rois overlaps labels gt inds np overlaps 1 [0]if len gt inds 0 return np rois 5 dtype np ex inds np overlaps > cfg T R A I N B B O X THRESH [0]ex gt overlaps bbox overlaps np rois inds ] dtype np np rois inds ] dtype np gt assignment ex gt overlaps axis 1 gt rois rois inds assignment ]ex rois rois inds ]targets np rois 5 dtype np targets ex inds 0 ] labels inds inds 1 ] bbox transform ex rois gt rois return targets 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def trunc s length if not s return ''if len s > length return s length - 4 ] + '...' return s 
def add Twist Portions interpolation Twist remainder Portion Direction twist Precision last Portion Direction interpolation Twist Directions -1 ]if remainder Portion Direction last Portion Direction returnlast Twist interpolation Twist Y By Portion last Portion Direction remainder Twist interpolation Twist Y By Portion remainder Portion Direction twist Segments int math abs remainder Twist - last Twist / twist Precision if twist Segments < 1 returnportion Difference remainder Portion Direction - last Portion Direction twist Segments Plus One float twist Segments + 1 for twist Segment in xrange twist Segments additional Portion portion Difference * float twist Segment + 1 / twist Segments Plus One portion Direction Portion Direction last Portion Direction + additional Portion interpolation Twist Directions portion Direction 
def support enumeration g return list support enumeration gen g 
def play Movie In Window the Window the File movie Box the Movie load Movie the File the Movie Set Movie Box movie Box the Movie Go To Beginning Of Movie the Movie Movies Task 0 the Movie Start Movie while not the Movie Is Movie Done and not Evt Button the Movie Movies Task 0
def  Get Group By Key entity property names return frozenset prop prop .erialize To String for prop in entity list if prop in property names 
def write metadata tag stream metadata SCRIPT TAG ' L V TAG HEADER LEN 11if metadata stream SCRIPT TAG write unsigned int 24 stream len metadata stream '\x00\x00\x00\x00\x00\x00\x00' stream metadata write unsigned int stream FLV TAG HEADER LEN + len metadata 
def generate Persistent Job G U I D return 'JOB UUID1-' + str uuid 
def get all params layer unwrap shared True **tags layers get all layers layer params chain iterable l params unwrap shared unwrap shared **tags for l in layers return utils params 
@must be logged indef user choose mailing lists auth **kwargs user auth data escape html request json if json data for list name subscribe in json data if list name settings O S F HELP LIST update osf help mails subscription user user subscribe subscribe else update mailchimp subscription user list name subscribe else raise H T T P Error http B A D REQUEST data dict message long "ustprovideadictionaryoftheformat Boolean user all mailing lists {}all mailing lists user mailing lists all mailing lists user mailing lists return {'message' 'uccessfullyupdatedmailinglists 'result' all mailing lists 200
def blockcut expr rowsizes colsizes rowbounds bounds rowsizes colbounds bounds colsizes return Block Matrix [atrix Slice expr rowbound colbound for colbound in colbounds for rowbound in rowbounds 
@transaction.non atomic requests P O S Tdef generate user cert request course id if not request authenticated log u Anonusertryingtogeneratecertificatefor course id return Http Response Bad Request _ 'oumustbesignedinto name .format platform name configuration helpers value 'PLATFORM NAME' settings P L A T F O R M NAME student request key Course Key string course id course modulestore .get course course key depth 2 if not course return Http Response Bad Request _ 'ourseisnotvalid if not is course passed course None student request return Http Response Bad Request _ 'ourcertificatewillbeavailablewhenyoupassthecourse certificate status certs api downloadable status student course if certificate status downloadable return Http Response Bad Request _ 'ertificatehasalreadybeencreated elif certificate status generating return Http Response Bad Request _ 'ertificateisbeingcreated else certs api user certificates student course course course generation mode 'self'  track successful certificate generation student course return Http Response 
def fixcommand c forbidden characters ['-']c c for char in forbidden characters c c char '' if c 'def' return 'qdef'return c 
def import status handler host None core name None verbose False if not  is master and  get none or value host is None errors ['solr.import statuscanonlybecalledby  get return dict False errors errors extra ['command status verbose extra 'verbose true url  format url handler host host core name core name extra extra return  http request url 
def  fastq illumina convert fastq solexa in handle out handle alphabet None from Bio Seq I O Quality I O import solexa quality from phredmapping ''.join [chr 0 for ascii in range 0 64 ] + [chr 64 + int round solexa quality from phred q for q in range 0 62 + 1 ] + [chr 0 for ascii in range 127 256 ] assert len mapping 256 return  fastq generic in handle out handle mapping 
def extra padding x original size padding return  resize original size 0 padding padding 
def to unicode value if not isinstance value six types raise Value Error 'alue % value if not isinstance value six type value six value return value 
def write Feature File font path fout open path 'w' fout font fout 
def  check balances cursor b cursor "\nselectp.username expected balanceasactual \nselectusername sum a asexpected \nselectparticipantasusername sum amount asa status 'unknown'orstatus 'succeeded' \ngroupbyparticipant\n\nunionall\n\nselectparticipantasusername sum amount asa status 'unknown'orstatus<>'failed' \ngroupbyparticipant\n\nunionall\n\nselecttipperasusername sum -amount asa sum amount asa 'to-participant'\ngroupbyparticipant\n\nunionall\n\nselectparticipantasusername sum -amount asa 'to-team'\ngroupbyparticipant\n\nunionall\n\nselecttippeeasusername sum amount asa asfoo asfoo2 foo2 assert len b 0 'conflictingbalances {}'.format b 
def tmpdir global  tmpdirif not  tmpdir def cleanup shutil  tmpdir import atexitatexit cleanup  tmpdir os tempfile 'anki temp if not os  tmpdir os  tmpdir return  tmpdir 
def  args to val func args from .google imports import gqlvals []for arg in args if isinstance arg int long basestring val Parameter arg elif isinstance arg gql Literal val arg Get else raise Type Error 'nexpectedarg %r ' % arg vals val if func 'nop' if len vals ! 1 raise Type Error '"nop"requiresexactlyonevalue' return vals Parameterized Function func vals if pfunc parameterized return pfuncelse return pfunc {} {}
def test docs generated botocore session botocore session session boto3 Session region name 'us-east-1' for service name in session available services generated docs Service Documenter service name session session .document service generated docs generated docs 'utf-8' client boto3 service name 'us-east-1' yield  assert has title generated docs client yield  assert has client documentation generated docs service name client try paginator model botocore session paginator model service name yield  assert has paginator documentation generated docs service name client sorted paginator model paginator config except Data Not Found Error passif client names waiter model botocore session waiter model service name yield  assert has waiter documentation generated docs service name client waiter model if service name in session available resources resource boto3 service name 'us-east-1' yield  assert has resource documentation generated docs service name resource 
@then 'thecommandoutputshouldcontainlogrecordsfromcategories' def step command output should contain log records from categories context assert context 'REQUIRE context column 'category' record schema context record row schema Log Record Table with row schema context record schema step command output should contain log records context context columns ['level' 'message']
def  out file fn handle log Sys handle '----' + fn + '----' for line in fileinput fn line line '\n' handle line handle '-' * 30
def get conv gradweights shape 1axis image shape top shape border mode subsample dilation if None in [image shape top shape border mode subsample dilation return Noneif subsample ! 1 or border mode 'half' return Noneif border mode 'full' kernel shape top shape - image shape elif border mode 'valid' kernel shape image shape - top shape else if border mode < 0 raise Value Error 'border modemustbe 0' kernel shape image shape + 2 * border mode - top shape if dilation > 1 kernel shape kernel shape / dilation return kernel shape + 1
def normalize lat lng arg if isinstance arg dict if 'lat' in arg and 'lng' in arg return arg arg if 'latitude' in arg and 'longitude' in arg return arg arg if  is list arg return arg arg raise Type Error 'xpectedalat butgot % type arg .  name  
def csv header print  'erver I D Sponsor Server Name Timestamp Distance Ping Download Upload sys 0
def type callable func from .typing.templates import Callable Template infer infer globalif not callable func and not isinstance func str raise Type Error '`func`shouldbeafunctionorstring' try func name func  name  except Attribute Error func name str func def decorate typing func def generic self return typing func self name '%s Callable Template % func name bases Callable Template class dict dict key func generic generic template type name bases class dict infer template if hasattr func '  module  ' infer global func types Function template return decorate 
def Set Connect Kwargs **kwargs global  connect kwargs connect kwargs dict kwargs 
def filter by latest metadata changeset revision that has invalid tools trans repository repository metadata get latest repository metadata if it includes invalid tools trans repository if repository metadata is not None return repository metadata revisionreturn None 
def resolve code if not code return None None if not isinstance code basestring raise Value Error 'nvalidlanguagecodespecifiedbyparser code re '[^a-z]' code [0][ 3]for spec in codes if code in spec -1 ] return code spec -1 ] return code u Unknown %r ' % code 
def get image meta from headers response result {}properties {}if hasattr response 'getheaders' headers response else headers response for key value in headers key str key if key 'x-image-meta-property-' field name key 'x-image-meta-property-' ].replace '-' '_' properties name value or None elif key 'x-image-meta-' field name key 'x-image-meta-' ].replace '-' '_' result name value or None result propertiesif 'size' in result try result int result except Value Error raise exception Invalidfor key in 'is public 'deleted' 'protected' if key in result result bool from string result return result 
def ask for port sys 'vailableports \n' ports []for n port desc hwid in enumerate sorted comports 1 sys '---{ 2} { 20}{}\n'.format n port desc ports port while True port raw input 'nterportindexorfullname ' try index int port - 1 if not 0 < index < len ports sys 'nvalidindex continueexcept Value Error passelse port ports port 
def normalize data query bounds lower upper time tz lower - datetime days 1 if time is not None return normalize data query time lower time tz normalize data query time upper time tz return lower upper 
def flatten expr new new cls expr  class  args []for arg in expr if arg  class   cls args arg else args arg return new expr  class   *args
def in6 ismgladdr str return in6 isincluded str 'ff0e ' 16
def guard top only Nzb Queue top only cfg only 
def  get default route version subnet if subnet 'gateway' and subnet 'address' gateway subnet return []if version 4 return [{'network' '0.0.0.0' 'netmask' '0.0.0.0' 'gateway' gateway version 6 return [{'network' ' ' 'netmask' ' ' 'gateway' gateway 
def additions mount mount point tempfile ret   salt  ['mount.mount'] mount point '/dev/cdrom' if ret is True return mount pointelse raise O S Error ret 
def req item onaccept form form vars form id form vars 'req id None if not req id req id s3 get last record id 'req req if not req id raise HTTP 500 'annotgetreq id req update status req id item id form vars 'item id None db current db catalog itemcats db citable id item id .select citable category id rictable db req item categoryfor cat in cats item category id cat category idquery rictable False & rictable id req id & rictable category id item category id exists db query .select rictable limitby 0 1 if not exists rictable req id req id item category id item category id 
def  log multivariate normal density tied X means covars cv np covars means 1 1 return  log multivariate normal density full X means cv 
def  find milestone revisions config milestone branch None script alembic script Script Directory config config return [ m label for m in  get revisions script for label in m labels or [one if milestone in getattr m 'neutron milestone [] and branch is None or branch in m labels ]
def os detection exec exec method try linux1 exec method 'echo-nw3af' linux2 exec method 'head-n1/etc/passwd' except Base Framework Exception passelse if 'w3af' in linux1 and linux2 ' ' > 3 om 'dentifiedremote O Sas Linux returning return 'linux'try win1 exec method ' Y S T E M R O O T win2 exec method 'echo/?' except Base Framework Exception passelse if '[fonts]' in win1 and 'ECHO' in win2 om 'dentifiedremote O Sas Windows returning return 'windows'raise Base Framework Exception 'ailedtoget O S 
def fmt search value search match if search match caseless re re search match re I G N O R E C A S E for variation in re caseless value value re caseless u "hlmatch">{0}</span>'.format variation value return value 
@register.inclusion tag 'zinnia/tags/dummy.html' def get draft entries number 5 template 'zinnia/tags/entries draft return {'template' template 'entries' Entry status DRAFT [ number 
def populate xheaders request response model object id from django import settingsif request M E T A 'REMOTE ADDR' in settings I N T E R N A L IPS or hasattr request 'user' and request active and request staff response X Object Type '%s.%s' % model meta label model meta name response X Object Id str object id 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  find spec from path name path None if name not in sys return  find spec name path else module sys module is None return Nonetry spec module  spec  except Attribute Error raise Value Error '{}.  spec  isnotset name else if spec is None raise Value Error '{}.  spec  is None name return spec 
def Evaluate Prefix prefix path regex if path regex prefix return ' A T C H regex string path regex not path regex string KNOWN PATH REGEX PREFIX logging 'nrecognizedregexformat beingpessimistic %s' path regex string return ' O S S I B L E prefix  Literal Prefix path regex string KNOWN PATH REGEX PREFIX ] if literal prefix prefix return ' O S S I B L E prefix literal prefix return ' O S S I B L E 'NO MATCH'
def address book to list address book ab A B Address Book Address Book people address book return [ab person to dict person for person in people 
def debug src src pm False globs None testsrc script from examples src debug script testsrc pm globs 
def testdoc cli arguments Test Doc .execute cli arguments 
def get Arc Path element Node begin element Node Previous Vertex Vector3 end evaluate Vector3 From Element Node element Node large Arc Flag evaluate Evaluated Boolean True element Node 'rc Flag radius lineation Complex By Prefix element Node 'radius' complex 1.0 1.0 sweep Flag evaluate Evaluated Boolean True element Node 'lag x Axis Rotation math evaluate Evaluated Float 0.0 element Node 'xis Rotation arc Complexes svg reader Arc Complexes begin Axis end Axis large Arc Flag radius sweep Flag x Axis Rotation path []if len arc Complexes < 1 return [ end - begin / float len arc Complexes z begin point Index in xrange len arc Complexes point Complex arc Complexes Index + increment Zpath Vector3 point Complex point Complex z if len path > 0 path -1 ] endreturn path 
def extra view dispatch request view theme get current theme request view func get view by name theme view if not view func msg '%s/%s Notfound % getattr theme 'identifier' None view return Http Response Not Found msg return view func request 
def window Sequence Eval DS winsz result si old 0idx 0x []y []seq res []for i si in enumerate D S index ].astype int tar D S si - 1 ]curr x si oldcorrect 0.0wrong 0.0while curr x < si x curr x if result tar correct + 1.0y + [1.0 1.0]else wrong + 1.0y + [0.0 0.0]idx + 1curr x + winszx curr x seq res 100.0 * correct / correct + wrong print 'sequence%dcorrect %g12.2%%' % i seq res -1 ] seq res array seq res print 'totalfractionofcorrectsequences ' 100.0 * float seq res > 0.5 .sum / seq res 
def new data None return S H A224 Hash .new data 
def valid any uri item try part urlparse item except Exception raise Not Valid 'ny U R I if part 'urn' and part '' return Truereturn True 
def require name version None def decorator obj @functools.wraps obj def func wrapped *args **kwargs if is installed name version return obj *args **kwargs else msg '"%s"in"%s"requires"%s'msg msg % obj obj  module   name if not version is None msg + '%s' % version raise Import Error msg + '"' return func wrappedreturn decorator 
def get infile filename if filename '.gz' fin Gzip File filename 'rb' else fin open filename 'U' return fin 
def freecpu return node info ['free cpus 
def get New Repository return Fill Repository 
def hincrbyfloat key field increment 1.0 host None port None db None password None server  connect host port db password return server key field amount increment 
def get dev count for disk bus disk bus if disk bus 'ide' return 4else return 26
@click.command 'renew-lets-encrypt' def renew lets encrypt from bench encrypt import renew certsrenew certs 
def make img name file ext '.png' fn []for i in range 0 30 fn choice ALPHABET return ''.join fn + file ext 
def md5 shard word return 'server%d' % ord hashlib word .digest [ -1 ] % 4
def cc plugin name srcs [] deps [] warning 'yes' defs [] incs [] optimize [] prefix None suffix None extra cppflags [] extra linkflags [] allow undefined True **kwargs target Cc Plugin name srcs deps warning defs incs optimize prefix suffix extra cppflags extra linkflags allow undefined blade kwargs blade target target 
def random layout G center None dim 2 import numpy as np G center  process params G center dim shape len G dim pos np shape + center pos pos np pos dict zip G pos return pos 
def set activity type requires tablename sector ids attable s3db activity typeif sector ids atstable s3db activity type sectorrows db .select attable atstable id left atstable attable atstable type id activity type ids [row.project activity type for row in rows if not row activity type sector id or row activity type sector id in sector ids ]else activity type ids []s3db[tablename].activity type id IS EMPTY OR IS ONE OF db 'project activity type s3base S3 Represent lookup 'project activity type filterby 'id' filter opts activity type ids sort True 
@receiver Signal Handler deleted def  listen for course delete sender course key **kwargs Course Overview id course key .delete from cms index import Course About Search Indexer Course About Search Indexer deleted items course key 
def make Bad Request code BAD REQUEST **result return Bad Request code result 
def Set Global Style style global  styleglobal  GLOBAL STYLE F A C T O R Yfactory  Get Style Factory style if factory  GLOBAL STYLE FACTORY factory style style 
def render template string source **context ctx  app ctx stack template context context return  render ctx env string source context ctx 
def api version f @wraps f def wrapped *args **kwargs rv f *args **kwargs rv A P I Version   version  return rvreturn wrapped 
def  same Frag f g if hasattr f 'efn or hasattr g 'efn or hasattr f 'reak or hasattr g 'reak return 0for a in 'ame 'ize 'olor 'olor 'rise' 'underline' 'strike' 'link' if getattr f a None ! getattr g a None return 0return 1
def  replace tab with space line escapechar quotechar newline []in quote Falselastchar ' O N E char in line if char quotechar and lastchar ! escapechar in quote not in quote if char ' DCTB ' and not in quote char ''lastchar charnewline char return ''.join newline 
def make vector raise Not Implemented Error 'TODO implementthisfunction 
def  allow CTRL C other pass 
def safe getattr object name default try return getattr object name default except Exception return default 
def metadef namespace get context namespace name session None session session or get session return metadef namespace api context namespace name session 
def test value formatter line Line value formatter lambda x str x + u '\xe2\x80\xb0' line '_' [ 10 ** 4 10 ** 5 23 * 10 ** 4 ] q line pyquery assert len q '.y.axis.guides' 11 assert q '.axis.ytext' .map texts list map lambda x str x + u '\xe2\x80\xb0' map float range 20000 240000 20000
def  python installed ret python user None default   salt  ['pyenv.default'] runas user for version in   salt  ['pyenv.versions'] user if version python ret Trueret 'equestedpythonexists default python breakreturn ret 
def score match pattern mimetype EXACT TYPE 1ANY TYPE 0.7EXACT SUBTYPE 1VND SUBTYPE 0.9ANY SUBTYPE 0.8score 0if pattern mimetype score + EXACT T Y P Eelif pattern u score + ANY T Y P Eelse return 0if pattern mimetype score + EXACT S U B T Y P Eelif pattern u or mimetype u score + ANY S U B T Y P Eelse pattern subtype pattern u mimetype subtype mimetype u if len mimetype subtype > 1 if len pattern subtype > 1 if pattern subtype mimetype subtype score + VND S U B T Y P Eelif pattern subtype mimetype subtype score + VND S U B T Y P Eelif len pattern subtype > 1 if pattern subtype mimetype subtype score + VND S U B T Y P Ereturn score 
def test listwriter lst []writer html List Writer lst for i in range 5 writer i for ch in 'abcde' writer ch assert lst [0 1 2 3 4 'a' 'b' 'c' 'd' 'e']
def unparse input dict output None encoding 'utf-8' full document True short empty elements False **kwargs if full document and len input dict ! 1 raise Value Error 'ocumentmusthaveexactlyoneroot must return Falseif output is None output String I O must return Trueif short empty elements content handler X M L Generator output encoding True else content handler X M L Generator output encoding if full document content handler Document for key value in input dict  emit key value content handler full document full document **kwargs if full document content handler Document if must return value output try value value encoding except Attribute Error passreturn value 
def min uuid from time timestamp return uuid from time timestamp 141289400074368 128
def bzr wc target exists plain force test 'bzr wc target exists plain force '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabric import runfrom fabtools import is dirfrom fabtools import requirerun 'mkdir%s' % wt assert not is dir path wt '.bzr' require copy REMOTE URL wt force True assert wc exists wt 
def  get bti dev t adjust 0.0 translation 0.0 0.02 0.11 flip t np [[0.0 -1.0 0.0] [1.0 0.0 0.0] [0.0 0.0 1.0]] rad np adjust adjust t np [[1.0 0.0 0.0] [0.0 np rad - np rad ] [0.0 np rad np rad ]] m nm t np 4 m nm t 3 3] np flip t adjust t m nm t 3 3] translationreturn m nm t 
def prep jid nocache False passed jid None if passed jid is None jid salt jid else jid passed jidcb   get connection try cb .add str jid {'nocache' nocache ttl  get ttl except couchbase Key Exists Error if passed jid is None return prep jid nocache nocache return jid 
def validate read preference dummy value if not isinstance value  Server Mode raise Type Error '%risnotareadpreference.' % value return value 
def mpl palette name n colors 6 brewer qual pals {ccent 8 'ark2 8 'aired 12 'astel1 9 'astel2 8 'et1 9 'et2 8 'et3 12}if name ' d pal ['#333333']pal.extend color palette name ' d ' r 2 cmap blend palette pal n colors as cmap True else cmap getattr mpl name if name in brewer qual pals bins np 0 1 brewer qual pals [ n colors bins np 0 1 n colors + 2 [1 -1 ]palette list map tuple cmap bins [ 3] return  Color Palette palette 
def gentoo mirrors contains value return var contains 'GENTOO MIRRORS' value 
def add nexusport binding port id vlan id switch ip instance id L O G _ 'add nexusport binding called session db session binding nexus models v2 Nexus Port Binding port id vlan id switch ip instance id session binding session return binding 
def educate quotes s s single quote start re '&#8217;' s s double quote start re '&#8221;' s s double quote sets re '&#8220;&#8216;' s s single quote sets re '&#8216;&#8220;' s s decade abbr re '&#8217;' s s opening single quotes regex '\\1&#8216;' s s closing single quotes regex '\\1&#8217;' s s closing single quotes regex 2.sub '\\1&#8217;\\2' s s s "'" '&#8216;' s opening double quotes regex '\\1&#8220;' s s closing double quotes regex '&#8221;' s s closing double quotes regex 2.sub '\\1&#8221;' s return s '"' '&#8220;'
def  get gcp libcloud credentials service account email None credentials file None project id None if service account email is None or credentials file is None try import secretsdisplay msg "hismethodofspecifyingcredentialsisdeprecated Pleaseuseenvvarsor Ansible Y A M Lfilesinstead % secrets  file   version 2.5 except Import Error secrets Noneif hasattr secrets 'GCE PARAMS' if not service account email service account email secrets G C E P A R A M S not credentials file credentials file secrets G C E P A R A M S params getattr secrets 'GCE KEYWORD PARAMS' {} if not project id project id keyword params 'project' None return service account email credentials file project id 
def copy to ram storage import shutilram Ram Storage for name in storage f storage file name r ram file name shutil f r f r return ram 
def  group List By l index tmpd {}for item in l tmpd item [] .append item res tmpd return res 
def b str or bytes if not isinstance str or bytes bytes return str or bytes 'ascii' else return str or bytes 
def get user return os 'REMOTE USER'
def get to timestamp base base if base < Freq Group F R BUS return Freq Group F R D A Yif Freq Group F R HR < base < Freq Group F R SEC return Freq Group F R S E Creturn base 
def classmethod2func class  method  return '%s.%s' % class2func class  method2func method 
def funshion id to urls id html get content 'http //pm.funshion.com/v5/media/play/?id {id}&cl aphone 5'.format id id return select url from video api html 
def make low rank matrix n samples 100 n features 100 effective rank 10 tail strength 0.5 random state None generator check random state random state n min n samples n features u _ linalg generator n samples n mode 'economic' v _ linalg generator n features n mode 'economic' singular ind np n dtype np low rank 1 - tail strength * np -1.0 * singular ind / effective rank ** 2 tail tail strength * np -0.1 * singular ind / effective rank s np n * low rank + tail return np np u s v T 
def Check For Copyright filename lines error for line in range 1 min len lines 11 if re 'opyright lines re I breakelse error filename 0 'legal/copyright' 5 'ocopyrightmessagefound Youshouldhavealine "opyright Copyright Owner 
def  normalize handler method method return method .replace '-' '_'
def  scrub empty str values dct keys to scrub for key in keys to scrub if key in dct and dct '' del dct 
def border crossing return s3 rest controller rheader s3db rheader 
def parse monitor message msg if len msg ! 2 or len msg ! 6 raise Runtime Error 'nvalideventmessageformat %s' % msg event {'event' struct ' hi msg [0] 'value' struct ' hi msg [1] 'endpoint' msg event 
def define delta name description manager counters counter  Delta Counter name description manager counter return counter 
def bdate range start None end None periods None freq 'B' tz None normalize True name None closed None **kwargs return Datetime Index start start end end periods periods freq freq tz tz normalize normalize name name closed closed **kwargs
def  default conflict solver match conflicting match if len conflicting match < len match return conflicting matchelif len match < len conflicting match return matchreturn None 
def list upgrades refresh False root None **kwargs upgrades {}cmd ['pacman' '-S' '-p' '-u' '--print-format' '%n%v']if root is not None cmd '-r' root if refresh cmd '-y' call   salt  ['cmd.run all cmd python shell False output loglevel 'trace' if call ! 0 comment ''if 'stderr' in call comment + call 'stdout' in call comment + call comment comment ' ' + comment raise Command Execution Error 'rrorlistingupgrades + comment else out call line in salt out '\n' try pkgname pkgver line except Value Error continueif pkgname 'downloading' and '.db' in pkgver continueupgrades pkgverreturn upgrades 
def set collection path collation apps schema editor if schema editor u schema editor u A L T E R T A B L Ewagtailcore collection A L T E R C O L U M Npath T Y P E V A R C H A R 255 C O L L A T E C 
def reduced min part size f import moto as s3modelorig size s3model U P L O A D PART MIN S I Z E f def wrapped *args **kwargs try s3model U P L O A D PART MIN SIZE REDUCED PART S I Z Ereturn f *args **kwargs finally s3model U P L O A D PART MIN SIZE orig sizereturn wrapped 
def get module hash src code key to hash [l.strip for l in src code '\n' ]if key to hash + list map str key c link key key msg 'hisshouldnothappenunlesssomeonemodifiedthecodethatdefinesthe C Linkerkey inwhichcaseyoushouldensurethispieceofcodeisstillvalid andthis Assertion Errormayberemovedormodifiedtoaccomodatethischange 'assert c link key ' Linker key error msgfor key element in c link key ] if isinstance key element tuple to hash + list key element elif isinstance key element string types if key element 'md5 ' breakelif key element 'NPY ABI VERSION 0x' or key element 'c compiler str ' to hash key element else raise Assertion Error error msg else raise Assertion Error error msg return hash from code '\n'.join to hash 
def  Generate Request Log Id sec int  request time usec int 1000000 *  request time - sec h hashlib str  request id .digest [ 4]packed struct Struct '>LL' .pack sec usec return binascii hex packed + h 
def global reaching centrality G weight None normalized True if nx negatively weighted G weight weight raise nx Network X Error 'edgeweightsmustbepositive' total weight G weight weight if total weight < 0 raise nx Network X Error 'izeof Gmustbepositive if weight is not None as distance lambda u v d total weight / d weight 1 shortest paths nx path G weight as distance else shortest paths nx path G centrality local reaching centralitylrc [centrality G node paths paths weight weight normalized normalized for node paths in shortest paths ]max lrc max lrc return sum max lrc - c for c in lrc / len G - 1
def bokeh pull name rawtext text lineno inliner options None content None app inliner issue num int text if issue num < 0 raise Value Errorexcept Value Error msg inliner 'ithubpullrequestnumbermustbeanumbergreaterthanorequalto1 % text line lineno prb inliner rawtext rawtext msg return [prb] [msg] node make gh link node app rawtext 'pull' 'pullrequest' 'pull' str issue num options return [node] []
def send catch log signal Any sender Anonymous *arguments **named dont log named 'dont log  Ignored Exception spider named 'spider' None responses []for receiver in live Receivers get All Receivers sender signal try response robust Apply receiver signal signal sender sender *arguments **named if isinstance response Deferred logger 'annotreturndeferredsfromsignalhandler % receiver s {'receiver' receiver extra {'spider' spider except dont log result Failure except Exception result Failure logger 'rrorcaughtonsignalhandler % receiver s {'receiver' receiver exc info True extra {'spider' spider else result responseresponses receiver result return responses 
def aggregate values from key host state key name aggrlist host state {aggr.metadata[key name for aggr in aggrlist if key name in aggr }
def rand text alpha length bad '' chars upper Alpha + lower Alpha return rand base length bad set chars 
def  extract graph and keys vals dsk {}keys []for v in vals if hasattr v ' dasks for d in v dasks dsk d else dsk v keys v keys return dsk keys 
def get create job common args local args arg names _ _ _ inspect create job common return dict item for item in local args if item in arg names 
def update inc initial key count initial initial or {} initial count + initial key 0 return initial 
def yaml load source loader yaml Loader def construct yaml str self node u Overridethedefaultstringhandlingfunctiontoalwaysreturn self scalar node class Loader loader u Defineacustomloaderderivedfromthegloballoadertoleavethe Loader constructor u yaml 2002 str construct yaml str try return yaml source Loader finally if hasattr source u source 
def fetch and delete entities database table schema first key entities only False backoff timeout 30batch size 1000last key first key + '\x00' + TERMINATING STRING logging 'eletingapplicationdataintherange {0}-{1}'.format first key last key db Datastore Factory Datastore database if entities only and table METADATA TABLE returnlogging 'eletingdatafrom table start inclusive Truewhile True try entities db query table schema first key last key batch size start inclusive start inclusive if not entities logging 'oentitiesfoundfor table breakfor ii in entities db delete table ii logging 'eleted len entities first key entities -1 ].keys [0]start inclusive Falseexcept App Scale D B Connection Error logging 'rrorwhiledeletingdata time backoff timeout 
def dvr due followups r S3 Request 'dvr' 'case activity args [] get vars {} r resource resource r FS 'followup' True & FS 'followup date < datetime .date & FS 'completed' ! True & FS 'person id case False resource filter query return resource 
def round corner radius fill corner Image u L radius radius 0 draw Image Draw Draw corner draw 0 0 radius * 2 radius * 2 180 270 fill fill return corner 
def  Maybe Setup Transaction request keys return  Get Connection . set request transaction request 
def  base module conf file disable gpg check disablerepo enablerepo base dnf Base  configure base module base conf file disable gpg check  specify repositories base disablerepo enablerepo base sack load system repo 'auto' return base 
def get Packed Geometry Output By Loop element Node side Loop side Loop element Node return get Geometry Output By Manipulation element Node side Loop 
def action peek json body try decoded jsonutils body except Value Error msg _ ' S O N raise exception Malformed Request Body reason msg if len decoded ! 1 msg _ 'toomanybodykeys' raise exception Malformed Request Body reason msg return list decoded [0]
def new db session return create session application engine autoflush True autocommit False 
def  cook slots period increment width height tdiff datetime minutes increment num period - period .seconds / tdiff s period []for i in range num sl period time slot s s + tdiff sl int height / float num * i sl int height / float num slots sl s s + tdiff return slots 
def group update db context group host cluster name group {'host' host 'updated at timeutils 'cluster name cluster name group return group 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def S ISLNK mode return S IFMT mode S IFLNK
def  get duration element return element stopped - element started .seconds if hasattr element ' started else None 
def  get new state file name zone return STATE FILENAME + '.' + zone 
def diff document resource def old doc new doc diff {}fields list resource def + [ E R S I O N app L A T E S T VERSION'] resource def field app L A S T UPDATED'] app D A T E CREATED'] app E T A G app L I N K S if resource def delete is True fields app D E L E T E D for field in fields if field in new doc and field not in old doc or new doc ! old doc diff new doc field in app V E R S I O N DIFF INCLUDE'] if field in new doc diff new doc diff 
def compute ukbench score src imlist nbr images len imlist pos zeros nbr images 4 for i in range nbr images pos [ w - 1 for w in src imlist [ 4]]score array [ pos // 4 i // 4 for i in range nbr images ] * 1.0 return sum score / nbr images 
def Generate Blob Key time func time random func random timestamp str time func tries 0while tries < 10 number str random func digester hashlib digester timestamp digester number blob key base64 b64encode digester datastore key datastore Key path blobstore B L O B INFO KIND blob key namespace '' try datastore Get datastore key tries + 1except datastore errors Entity Not Found Error return blob keyreturn None 
def fromurl url ps Patch Set urlopen url if ps 0 return psreturn False 
@click.group def cli app pass 
def test overloading assert A & B And A B assert A | B Or A B assert A & B | C Or And A B C assert A >> B Implies A B assert A << B Implies B A assert ~ A Not A assert A ^ B Xor A B
def get global id *args **kargs raise  stub error 
def  update all uuids to ids t images t image members t image properties images list t images .execute new id 1for image in images old id image images .where t images old id .values id new id .execute t image members .where t image members id old id .values image id new id .execute t image properties .where t image properties id old id .values image id new id .execute t image properties .where and  or  t image properties 'kernel id t image properties 'ramdisk id t image properties old id .values value new id .execute new id + 1
def test Number new assert Number 1 is S One assert Number 2 .  class   is Integer assert Number -622 .  class   is Integer assert Number 5 3 .  class   is Rational assert Number 5.3 .  class   is Float assert Number '1' is S One assert Number '2' .  class   is Integer assert Number '-622' .  class   is Integer assert Number '5/3' .  class   is Rational assert Number '5.3' .  class   is Float raises Value Error lambda Number 'cos' raises Type Error lambda Number cos a Rational 3 5 assert Number a is a 
def get numbered constants eq num 1 start 1 prefix 'C' if isinstance eq Expr eq [eq]elif not iterable eq raise Value Error 'xpected Exproriterablebutgot % eq atom set set .union *[i.free symbols for i in eq ncs numbered symbols start start prefix prefix exclude atom set Cs [next ncs for i in range num ]return Cs if num 1 else tuple Cs 
def  rec inflate g M v i K if not v return dup inflate g M K if M < 0 raise Index Error ' got % M w j v - 1 i + 1 g [ rec inflate c M w j K for c in g [g[0]]for coeff in g ] for _ in range 1 M result dmp zero w result coeff return result 
def format msg *attr if DISABLE COLOR SUPPORT return msgif RESET in msg return ''.join [format comp *attr for comp in msg RESET ] encodings []for text attr in attr text attr encoding stem tools to camel case text attr None encoding FG E N C O D I N G text attr encoding encoding BG E N C O D I N G text attr encoding encoding ATTR E N C O D I N G text attr encoding if encoding encodings encoding if encodings prefix suffix CSI % ';'.join encodings RESET if Attr R E A D L I N E ESCAPE in attr prefix '\x01%s\x02' % prefix suffix '\x01%s\x02' % suffix return prefix + msg + suffix else return msg 
def generate clone url from repo info tup app repo info tup toolshed name owner changeset revision prior installation required only if compiling contained td parse repository dependency tuple repo info tup tool shed url get tool shed url from tool shed registry app toolshed return util url tool shed url pathspec ['repos' owner name 
def response httprepr response s ' T T P % response R E S P O N S E S response '' if response s + response string + '\r\n' s + '\r\n's + response s 
def  ln B alpha return np gammaln alpha - gammaln np alpha 
def create bias variable name shape initializer tf initializer value 0.0 dtype tf return tf Variable initializer shape shape name 
def get random string length 12 allowed chars u A B C D E F G H I J K L M N O P Q R S T U V W X Y Z0123456789 if not using sysrandom random hashlib u % random time settings S E C R E T KEY .encode u .digest return u [random.choice allowed chars for i in range length ]
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def get valid perms doctype None roles get roles perms get perms for roles custom perms get perms for roles u Custom Doc Perm doctypes with custom perms list set [d.parent for d in custom perms for p in perms if not p in doctypes with custom perms custom perms p if doctype return [p for p in custom perms if p doctype ]else return custom perms 
def check reserved word attr name if datastore types R E S E R V E D PROPERTY N A M E attr name raise Reserved Word Error "annotdefineproperty Allnamesbothbeginningandendingwith  'arereserved." if attr name in  RESERVED WORDS or attr name in dir Model raise Reserved Word Error "annotdefinepropertyusingreservedword attr name s Ifyouwouldliketousethisnameinthedatastoreconsiderusingadifferentnamelike attr name s andaddingname '% attr name s % locals 
def mangle ident argtys return PREFIX + mangle identifier ident + mangle args argtys 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def path subst path mapping newpath []plen len path n 0while n < plen result path result '%' for key value in mapping if path key n and not path '%ext' n n + len key - 1 result valuebreaknewpath result n + 1return ''.join newpath 
def  is unorderable exception e if PY36 return "'>'notsupportedbetweeninstancesof" in str e elif PY3 return 'unorderable' in str e return False 
def  finalize ufunc signature cres args return type if return type is None if cres raise Type Error 'returntypemustbespecifiedforobjectmode' else return type cres typeassert return type ! types return return type *args
def test hosts decorator overrides env hosts with task decorator first @task@hosts 'bar' def command passeq hosts command ['bar'] env {'hosts' ['foo']}
def storage factory klass location base url return klass location location base url base url 
def gcc llvm if gcc llvm llvm is None try p out output subprocess Popen [theano.config.cxx '--version'] output p out + p out except O S Error output b '' gcc llvm llvm b 'llvm' in output return gcc llvm llvm 
def  print report job info for ji in job info print '%-15s%13sfor%17s %s ' % ji id ji  format timedelta ji ji 
def print obj obj lib fmt None album isinstance obj library Album fmt  pick format album fmt if isinstance fmt Template template fmtelse template Template fmt print  obj template template 
def is process started by init result Falseinit pid 1if os init pid result Truereturn result 
def convert password context password password password or '' if six P Y3 and isinstance password bytes password password 'utf-8' meta {}for i in range CHUNKS meta 'password %d' % i ] password CHUNK L E N G T H password C H U N K LENGTH ]return meta 
def split provision value global  provision rxif  provision rx is None  provision rx re ' [ Z ]\\w* ? \ Z ]\\w* * ? \\s*\\ \\s* [^ \\s]+ \\s*\\ ?$' value value m  provision rx value if not m raise Value Error 'illegalprovidesspecification %r' % value ver m 2 or None if ver ver distutils Strict Version ver return m 1 ver 
def test rus sample wt fit rus Random Under Sampler random state RND SEED assert raises Runtime Error rus X Y
def test shift schedule backend default lr init 0.1interval 1sch Shift Schedule interval for epoch in range 10 lr sch learning rate learning rate lr init epoch epoch assert np lr lr init / 2 ** epoch 
def attach usage plan to apis plan id apis region None key None keyid None profile None return  update usage plan apis plan id apis 'add' region region key key keyid keyid profile profile 
@pytest.mark.parametrize 'env expected [ {'FOO' 'bar'} '' {'FOO' 'bar' 'LC ALL' 'baz'} 'LC ALL baz {'LC ALL' 'baz' 'PYTHONFOO' 'fish'} 'LC ALL baz P Y T H O N F O O fish {'DE' 'KDE' 'DESKTOP SESSION' 'plasma'} 'DE K D E D E S K T O P SESSION plasma {'QT5 IM MODULE' 'fcitx' 'QT IM MODULE' 'fcitx'} 'QT IM MODULE fcitx {'LANGUAGE' 'foo' 'LANG' 'en US.UTF-8'} 'LANG en US.UTF-8' {'FOO' 'bar' 'QUTE BLAH' '1'} 'QUTE BLAH 1' ] ids lambda e e def test get environment vars monkeypatch env expected for key in os monkeypatch key for k v in env monkeypatch k v assert crashdialog get environment vars expected 
def  handle picks epochs if any 'ICA' in k for k in epochs names picks pick types epochs misc True ref meg False exclude [] else picks pick types epochs meg True eeg True eog True ecg True seeg True ecog True ref meg False fnirs True exclude [] return picks 
def outer a b out None n a b shape n m if out is None return core core a b None n m 1 ret shape if out ! n * m raise Value Error 'utputarrayhasaninvalidsize if out contiguous return core core a b out n m 1 ret shape else out ] core core a b None n m 1 ret shape return out 
@ile System directory current directory 'django' 'brocolis' def test harvest uses test runner status out run scenario 'leaves' 'disabled' assert equals status 0 out assert 'ustomtestrunnerenabled in out 
def get Is Identity Tetragrid tetragrid for column in xrange 4 for row in xrange 4 if column row if tetragrid ! 1.0 return Falseelif tetragrid ! 0.0 return Falsereturn True 
def json convert *kinds def register json converter function for kind in kinds json converters functionreturn functionreturn register json converter 
def copyfileobj src dst length None if length 0 returnif length is None shutil src dst return B U F S I Z E 16 * 1024 blocks remainder divmod length BUFSIZE for b in xrange blocks buf src BUFSIZE if len buf < BUFSIZE raise I O Error 'endoffilereached' dst buf if remainder ! 0 buf src remainder if len buf < remainder raise I O Error 'endoffilereached' dst buf return 
def chunk xml xml depth 0 data etree xml root xml 'add' and 'add' or 'delete' content length len data if content length <  CHUNK SIZE yield data else depth + 1print 'WARNING Chunking depth %s ' % depth half len xml / 2 left half xmlright half etree Element root right half xml ] for chunk in chunk xml left half depth depth yield chunk for chunk in chunk xml right half depth depth yield chunk 
@register opt @local optimizer [pecify Shape Gpu From Host def local gpu specify Shape 0 node if isinstance node tensor Specify Shape input node input and isinstance input Host From Gpu return [host from gpu tensor shape as cuda ndarray variable input *node.inputs[1 ] ]if isinstance node Gpu From Host host input node host input and isinstance host input tensor Specify Shape specifyshape node host input [tensor.specify shape as cuda ndarray variable specifyshape node *specifyshape node ] ]return False 
def delete url url  cache cached url url 
def pack object header type num delta base size header []c type num << 4 | size & 15 size >> 4while size header c | 128 c size & 127 size >> 7header.append c if type num OFS DELTA ret [ delta base & 127 ]delta base >> 7while delta base delta base - 1ret.insert 0 128 | delta base & 127 delta base >> 7header.extend ret elif type num REF DELTA assert len delta base 20 header + delta basereturn bytearray header 
def memoize autodiff func cache {}@wraps func def memoizer op tree be next error None "fparamsinthecaches returnresultsdirectly Othewise addtocache Arguments \nop tree Op Tree Node theop Backend computationbackendtosupplytothefunc error Tensoror Op Tree Node optional nextlayer op tree be next error if key not in cache cache func op tree be next error return cache memoizer 
def is Inference Available return any is Technique Available _ for _ in PAYLOAD.TECHNIQUE.BOOLEAN PAYLOAD.TECHNIQUE.STACKED PAYLOAD.TECHNIQUE.TIME
def  generate Inference Args options token Replacements inference Type options Type Inference Args options 'rgs None result Inference Args {ield  get Predicted Field options [0]if inference Type in Inference Type Temporal Next Step Inference Type Temporal Anomaly assert predicted Field "nference Type Fieldspecifiedintheinference Argsdictionary % inference Type if option Inference Args if options Prediction Steps alt Option Inference Args copy option Inference Args alt Option Inference Args Steps '$REPLACE M E Inference Args pprint alt Option Inference Args result Inference Args result Inference Args "'$REPLACE ME'" 'teps else result Inference Args pprint option Inference Args token Replacements I N F E R E N C E ARGS'] result Inference Argstoken Replacements P R E D I C T I O N FIELD'] predicted Field 
def get Alteration File Line Blindly file Name return ' <ile %s <ile ' % file Name 
def compute fps f x x0 0 dir 1 hyper True order 4 rational True full False f sympify f x sympify x if not f x return Nonex0 sympify x0 if dir '+' dir S Oneelif dir '-' dir - S One elif dir not in [ One - S One ] raise Value Error "irmustbe else dir sympify dir return  compute fps f x x0 dir hyper order rational full 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def  handle stream line line line json line if 'error' in line content 'ERROR ' + line else content line 'stream' '' for streamline in content '\n' if streamline yield streamline 
def  get headers params return {uthorization ' Auth oauth params key }
def write events filename event list check fname filename 'events' '.eve' '-eve.fif' '-eve.fif.gz' '-eve.lst' '-eve.txt' ext splitext filename [1].lower if ext '.fif' or ext '.gz' fid start file filename start block fid FIFF.FIFFB MNE EVENTS write int fid FIFF.FIFF MNE EVENT LIST event list T end block fid FIFF.FIFFB MNE EVENTS end file fid else f open filename 'w' for e in event list f '%6d%6d%3d\n' % tuple e f 
def atol s base 10 return  long s base 
def mean bilateral image selem out None mask None shift x False shift y False s0 10 s1 10 return  apply bilateral cy mean image selem out out mask mask shift x shift x shift y shift y s0 s0 s1 s1 
def no admin disabled f @functools.wraps f def wrapper *args **kw addon kw 'addon' if addon and addon amo S T A T U S DISABLED raise http Http404 return f *args **kw return wrapper 
def mocksignature func mock None skipfirst False if mock is None mock Mock signature func  getsignature func skipfirst src 'lambda% signature s  mock  % signature s ' % {'signature' signature funcopy eval src dict  mock  mock  copy func details func funcopy funcopy mockreturn funcopy 
def avg pool3d input kernel size stride None return  functions Avg Pool3d kernel size stride input 
def is position sup pos1 pos2 return pos1 > pos2 
def get Arc Distance relative Location split Line half Plane Line Distance 0.5 * abs relative Location Axis 2 radius get Double From Character Split Line 'R' split Line if radius None i Float get Double From Character Split Line 'I' split Line j Float get Double From Character Split Line 'J' split Line radius abs complex i Float j Float angle 0.0if radius > 0.0 half Plane Line Distance Over Radius half Plane Line Distance / radius if half Plane Line Distance < radius angle 2.0 * math half Plane Line Distance Over Radius else angle math * half Plane Line Distance Over Radius return abs complex angle * radius relative Location 
def s3 fullname bulk record ids [] truncate True db current db personquery ptable record ids rows db query .select ptable ptable name ptable name ptable name represents {}for row in rows fname mname lname '' '' '' if row name fname row name if row name mname row name if row name lname row name represent s3 format fullname fname mname lname truncate represents representreturn represents 
@pytest.hookimpl tryfirst True hookwrapper True def pytest runtest makereport item call outcome yield rep outcome result setattr item 'rep ' + rep rep 
def notify about instance action context instance host action phase None binary 'nova-compute' exception None ips  get instance ips instance flavor flavor notification Flavor Payload instance fault priority  get fault and priority from exc exception payload instance notification Instance Action Payload instance instance fault fault ip addresses ips flavor flavor notification instance notification Instance Action Notification context context priority priority publisher notification base Notification Publisher context context host host binary binary event type notification base Event Type object 'instance' action action phase phase payload payload notification context 
def pure nash brute gen g for a in np *g.nums actions if g nash a yield a 
def a is not b a b return a is not b 
def lowstate file refs chunks refs {}for chunk in chunks saltenv 'base'crefs []for state in chunk if state '  env  ' saltenv chunk state 'saltenv' saltenv chunk state '__' continuecrefs salt refs chunk if crefs if saltenv not in refs refs []refs[saltenv].append crefs return refs 
def test double install fail script data result script 'install' 'pip *' 'pip 7.1.2' expect error True msg "oublerequirementgiven pip 7.1.2 alreadyinpip * name 'pip' "assert msg in result 
def  parallel fit estimator estimator X y sample weight if sample weight is not None estimator X y sample weight else estimator X y return estimator 
def  coordinate Sign hemisphere return 1 if hemisphere in 'NE' else -1
def dmp raise f l u K if not l return fif not u if not f return dmp zero l k l - 1 return [dmp ground c k for c in f u - 1 return [dmp raise c l v K for c in f 
def test fk5 galactic fk5 FK5 ra 1 * u dec 2 * u direct fk5 to Galactic indirect fk5 to FK4 .transform to Galactic assert direct indirect .degree < 1e-10 direct fk5 to Galactic indirect fk5 to F K4 No E Terms .transform to Galactic assert direct indirect .degree < 1e-10
def execute section section global bear list local bear list print results cache log printer console printer try running processes int section except Value Error log printer "nabletoconvertsetting Fallingbackto C P Ucount running processes get cpu count except Index Error running processes get cpu count processes arg dict instantiate processes section local bear list global bear list running processes cache log printer console printer console printer logger thread Log Printer Thread arg dict queue log printer processes logger thread for runner in processes runner try return process queues processes arg dict queue arg dict result dict arg dict result dict arg dict dict print results section cache log printer console printer console printer arg dict result dict arg dict result dict arg dict dict finally logger thread Falsefor runner in processes runner 
def  build regex range ws True invert False exclude None if exclude is None exclude []regex ''in range Falselast Nonelast added Nonedef valid char char if char in exclude result Falseelif ws result  is printable char else result  is printable char and unicodedata char ! 's if invert is True return not result return resultfor c in  get all chars if valid char c if not in range regex + re c last added cin range Trueelse if in range and last ! last added regex + '-' + re last in range Falselast celse if in range regex + '-' + re c return regex 
def  cert base path cacert path None return cert base path cacert path 
def missing name jail None return name not in get all jail 
def index From Coordinates coordinates dimensions index 0for i dimension in enumerate dimensions index * dimensionindex + coordinates index 
@positional def get version data session url authenticated None headers {ccept 'application/json'}resp session url headers headers authenticated authenticated try body resp resp except Value Error passelse try return body resp Key Error Type Error passtry return body resp Key Error passtry return [body resp Key Error passerr text resp 50] + '...' if len resp > 50 else resp msg _ 'nvalid Response Badversiondatareturned %s' % err text raise exceptions Discovery Failure msg 
def  parse Local Variables line paren '-*-'start line paren + len paren end line paren if start -1 or end -1 raise Value Error '%rnotavalidlocalvariabledeclaration' % line items line end ';' local Vars {}for item in items if len item 0 continuesplit item ' ' if len split ! 2 raise Value Error '%rcontainsinvaliddeclaration%r' % line item local Vars ] split return local Vars 
def Keyword Analyzer lowercase False commas False if commas tokenizer Comma Separated Tokenizer else tokenizer Space Separated Tokenizer if lowercase tokenizer tokenizer | Lowercase Filter return tokenizer 
def uts s encoding errors if errors 'utf-8' try return s encoding 'strict' except Unicode Encode Error x []for c in s try x c encoding 'strict' except Unicode Encode Error x c 'utf8' return ''.join x else return s encoding errors 
def  make int array return array str u 
def allresults tree leaf yieldify return treeapply tree {list branch tuple branch leaf leaf 
def latest version *names **kwargs refresh salt true kwargs 'refresh' True if refresh refresh db def get version pkg info return pkg info or pkg info versions dict dict key get version val for key val in six  info *names if len names 1 return next six versions dict else return versions dict 
def write Value List To Repository Writer repository Writer setting repository Writer setting for item in setting if item ! '[]' repository Writer global Spreadsheet Separator repository Writer item repository Writer '\n'
@decorators.api view ['GET'] @decorators.permission classes permissions Allow Any @decorators.renderer classes J S O N Renderer def cname request host request G E T 'host' if not host return Response {'error' ' E Targrequired status status H T T P 400 BAD REQUEST host clean url host slug cname to slug host return Response {'host' host 'slug' slug 
def check dist import platformtry return platform distribution [0].lower .strip except Attribute Error return platform [0].lower .strip
def load Mime Types mimetype locations None init mimetypes init mimetype locations mimetypes map {'.conf' 'text/plain' '.diff' 'text/plain' '.flac' 'audio/x-flac' '.java' 'text/plain' '.oz' 'text/x-oz' '.swf' 'application/x-shockwave-flash' '.wml' 'text/vnd.wap.wml' '.xul' 'application/vnd.mozilla.xul+xml' '.patch' 'text/plain'} return mimetypes map 
def dvi match query body id ptable s3db personntable s3db notebtable s3db bodyquery ptable False & ptable True & ntable id ptable id & ntable 1 body btable id not body return queryif body of recovery q ntable < body of recovery | ntable None query query & q if body group and body group ! 1 q ptable group None | ptable group 1 | ptable group body group query query & q if body and body ! 1 q ptable None | ptable 1 | ptable body return query 
def python version return  sys version [1]
def test tps az np 0.0 2 * np 20 endpoint False pol np 0 np 12 [1 -1 ]sph np np 1 az pol indexing 'ij' sph 3 -1 assert equal sph 200 source  sph to cart sph T destination source destination * 2destination[ 0] + 1warp Spherical Surface Warp .fit source 2] destination 2] destination est warp source assert allclose destination est destination atol 0.01
def Get Class For C L S I D clsid clsid str clsid if C L S I D To Class Has Class clsid return C L S I D To Class Get Class clsid mod Get Module For C L S I D clsid if mod is None return Nonetry return C L S I D To Class Get Class clsid except Key Error return None 
def draw scree graph dir path data file link background color label color generate eps data dimensions len data props {}props['title'] ' Co A Scree Plot First ' % dimensions props 'ractionof Variance 'rincipalcomponent coords {}x points [x for x in range dimensions ]c data [ float x / 100.0 for x in data coords Variance x points c data 'o' 'r' cum var [c data ix in range dimensions - 1 cum var cum var + c data ix + 1 ] xy coords Cumulativevariance x points cum var 's' 'b' img src eps link make line plot dir path data file link background color label color xy coords xy coords props props x len 4.5 y len 4.5 generate eps generate eps return IMG SRC % img src eps link 
def get available backends manager Extension Manager namespace BACKENDS NAMESPACE invoke on load False return manager 
def winrm cmd session command flags **kwargs log 'xecuting Win R Mcommand {0}{1}'.format command flags r session cmd command flags return r code 
def create script command import osimport os as pathimport subprocessimport tempfile fd script file tempfile prefix 'lxc-attach-script' f os fd 'wb' try f ATTACH TEMPLATE % {'container command command f finally f os script file int '0700' 8 stdout file os tempfile prefix 'lxc-attach-script-log' [0] 'ab' stderr file os tempfile prefix 'lxc-attach-script-err' [0] 'ab' try subprocess Popen [script file stdout stdout file stderr stderr file .communicate finally stderr file stdout file os script file 
def  req environ property environ field def getter self return self environ field None def setter self value if isinstance value unicode self field value 'utf-8' else self field valuereturn property getter setter doc 'etandsetthe W S G Ienvironment % environ field 
def detect face face file max results 4 image content face file batch request [{'image' {'content' base64 image content .decode 'utf-8' } 'features' [{'type' 'FACE DETECTION' 'esults max results get vision service request service .annotate body {'requests' batch request response request return response Annotations 
@pytest.mark.parametrize u u index zip test positions test position indices def test subpixel indices position subpixel index assert np subpixel indices position subsampling subpixel index 
def frucht graph create using None G cycle graph 7 create using G edges from [[0 7] [1 7] [2 8] [3 9] [4 9] [5 10] [6 10] [7 11] [8 11] [8 9] [10 11]] G 'rucht Graph G
def  get config app version current config version development  inspect environment global  cached configif development and  new request or not  cached config  cached config  fetch from local file or Config if  cached config  conf  version < current config version newconfig  fetch latest from memcache app version if not newconfig or newconfig  conf  version < current config version newconfig  fetch latest from datastore app version  cached config newconfig or  cached config return  cached config 
def fix win codec try codecs 'cp65001' return Falseexcept Lookup Error codecs lambda name name 'cp65001' and codecs 'utf-8' or None return True 
def rr Cell Change Order a Tp Pd pd 6 b Message Type mes Type 8 c Cell Description d Nc Mode And Spare Half Octets packet a / b / c / d return packet 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def extract metadata name seps name '-' artist title Noneif seps 1 pos name '-' artist name pos title name pos + 3 ].strip else title name return dict artist artist title title 
def properties options None return default api options 
def update dme username password dme id ip address dme url 'https //www.dnsmadeeasy.com/servlet/updateip'dme url + '?username %s&password %s&id %s&ip %s's urllib dme url % username password dme id ip address return s 
def backup get all by host context host return I M P L get all by host context host 
def timetrace message idstring tracemessage 'TEST MESSAGE' final False if message tracemessage try prefix tlast t0 message None 2 tlast t0 float tlast float t0 except Index Error Value Error t0 time tlast t0t t0else t1 time print '**timetrace %s d T %fs total %fs.' % idstring t1 - tlast t1 - t0 if final message '****%s total ****' % tracemessage t1 - t0 else message '%s%f%f' % tracemessage t1 t0 return message 
def top clusters tree k def item node return node leaf - node node heap [item tree ]while len heap < k _ cl heap cl leaf assert all n leaf for _ n in heap break key cl heapq heap left right cl cl heapq heap item left heapq heap item right return [n for _ n in heap 
def img as ubyte image force copy False return convert image np force copy 
def stylesheet params **kwargs result {}for key val in kwargs if isinstance val basestring val  etree X S L T val elif val is None raise Type Error 'onenotallowedasastylesheetparameter elif not isinstance val  etree X Path val unicode val result valreturn result 
def java test name srcs deps [] resources [] source encoding None warnings None main class ' Unit Core exclusions [] testdata [] target under test '' **kwargs target Java Test name srcs deps resources source encoding warnings main class exclusions testdata target under test kwargs blade target target 
def get locale from lang lang if not lang or lang 'dbg' lang 'en'return Locale translation locale lang 
def site config dir appname None appauthor None version None multipath False if sys in ['win32' 'darwin'] path site data dir appname appauthor if appname and version path os path version else path os 'XDG CONFIG DIRS' '/etc/xdg' pathlist [os.path.expanduser x os for x in path os ]if appname if version appname os appname version pathlist [os.sep.join [x appname for x in pathlist multipath path os pathlist else path pathlist path 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def check balances minimum 100 min float float minimum result get balances if result < min float return Falsereturn True 
def prepare roidb imdb roidb imdb i in xrange len imdb index roidb imdb path at i gt overlaps roidb overlaps max overlaps gt overlaps axis 1 max classes gt overlaps axis 1 roidb classes max classesroidb overlaps max overlapszero inds np max overlaps 0 [0]assert all max classes inds 0 nonzero inds np max overlaps > 0 [0]assert all max classes inds ! 0
def  get slogdet diag walker a if isinstance a types Complex @register jitabledef cmplx diag walker n a sgn csgn sgn + 0j acc 0.0for k in range n absel np a k k ] csgn csgn * a k k ] / absel acc acc + np absel return csgn acc return cmplx diag walkerelse @register jitabledef real diag walker n a sgn acc 0.0for k in range n v a k k ]if v < 0.0 sgn - sgn v - v acc acc + np v return sgn + 0.0 acc return real diag walker 
def  add implied job id d if not d 'job id if d 'task id d id  to job id d id elif d 'application id d id  to job id d id 
def distutils scheme dist name user False home None root None from distutils import Distributionscheme {}d Distribution {'name' dist name d config files i d command obj 'install' create True i user or i i home or i i root or i i options for key in SCHEME KEYS scheme getattr i 'install ' + key if running under virtualenv scheme os sys 'include' 'site' 'python' + sys 3] dist name if root is not None scheme os root os scheme [1 ] return scheme 
@pytest.mark.usefixtures 'back up rc def test get user config valid user config path custom config shutil 'tests/test-config/valid-config.yaml' user config path conf config user config assert conf custom config 
def open Serial port 0 rate 19200 timeout 1 snap Serial port port rate rate tout timeout 
def between expr lower bound upper bound expr  literal as binds expr return expr lower bound upper bound 
@notification handlerdef simple push notification registrations Push Notification Registration creator notification for reg in registrations  send simple push reg url notification 
@ get clientdef task delete client task id session None return client delete task id task id session session 
def  get metadata from file meta data meta {}if not meta data return metaif not meta data meta data meta data ]for i line in enumerate meta data if not line breakmatch re meta line if match meta match u not in meta t  get title from contents meta data if t is not None meta treturn meta 
def export table bigquery cloud storage path project id dataset id table id export format 'CSV' num retries 5 compression 'NONE' job data {eference {d project id 'd str uuid } 'configuration' {'extract' {able {d project id 'd dataset id 'd table id 'ris [cloud storage path 'ormat export format 'compression' compression bigquery .insert project Id project id body job data .execute num retries num retries 
def test rgb to hsl part 15 assert rgb to hsl 0 51 0 120 100 10 assert rgb to hsl 0 102 0 120 100 20 assert rgb to hsl 0 153 0 120 100 30 assert rgb to hsl 0 204 0 120 100 40 assert rgb to hsl 0 255 0 120 100 50 assert rgb to hsl 51 255 51 120 100 60 assert rgb to hsl 102 255 102 120 100 70 assert rgb to hsl 153 255 153 120 100 80 assert rgb to hsl 204 255 204 120 100 90
def ckeditor config request default config Editor Toolbar name 'default' if default config code default config code ''context {'editor config code 'redirect pattern REDIRECT CONTENT 'allowed tags ''.join ALLOWED TAGS }return render request 'wiki/ckeditor config context content type 'application/x-javascript'
def colors pass 
def test unpack http url with urllib response without content type data  real session Pip Session def  fake session get *args **kwargs resp  real session *args **kwargs del resp Content Type respsession Mock session  fake session geturi path to url data 'simple-1.0.tar.gz' link Link uri temp dir mkdtemp try unpack http url link temp dir download dir None session session assert set os temp dir set ['PKG-INFO' 'setup.cfg' 'setup.py' 'simple' 'simple.egg-info'] finally rmtree temp dir 
def publish parts source source path None source class io String Input destination path None reader None reader name 'standalone' parser None parser name 'restructuredtext' writer None writer name 'pseudoxml' settings None settings spec None settings overrides None config section None enable exit status None output pub publish programmatically source source source path source path source class source class destination class io String Output destination None destination path destination path reader reader reader name reader name parser parser parser name parser name writer writer writer name writer name settings settings settings spec settings spec settings overrides settings overrides config section config section enable exit status enable exit status return pub 
def enqueue feedback message batch email task user id taskqueue services task feconf T A S K URL FEEDBACK MESSAGE EMAILS {'user id user id feconf D E F A U L T FEEDBACK MESSAGE EMAIL COUNTDOWN SECS
def  validate sr radius if isinstance radius Quantity sr angle radius u else sr angle radius * u return sr angle 
def libvlc video get spu delay p mi f  Cfunctions 'libvlc video get spu delay None or  Cfunction 'libvlc video get spu delay 1 None ctypes int64 Media Player return f p mi 
def required module list docstring None if not docstring return []ret []modules parse docstring docstring .get 'deps' [] for mod in modules try imp module mod except Import Error ret mod return ret 
def set all param values layer values **tags params get all params layer **tags if len params ! len values raise Value Error 'mismatch got % len values len params for p v in zip params values if p value .shape ! v raise Value Error 'mismatch parameterhasshape % p value .shape v else p value v 
def get rotation change value label return  check range and return 'rotationchange' label -4 4
def factory name u **kwargs if name not in registry raise Exception u Askedunknownvalidator % name return registry **kwargs
def new canvas *args **kwargs allnums  pylab helpers Gcf num max allnums + 1 if allnums else 1 Figure Class kwargs 'igure Class Figure figure Figure Class *args **kwargs canvas Figure Canvas figure fig manager Figure Manager Q T canvas num return fig manager 
def  Get Field By Name message descriptor field name try return message descriptor by name name Key Error raise Value Error 'rotocolmessagehasno % field name 
def  bytes chr py3 i return bytes [i]
def generate token length 20 chars UNICODE ASCII CHARACTER SET return u choice chars for x in range length 
def get remote login ret salt utils return result 'systemsetup-getremotelogin' enabled salt utils enabled salt utils return ret return enabled 'on'
def  primitive f p ring f ring ring {}for monom coeff in f if monom -1 ] not in coeffs coeffs -1 ]] {}coeffs[monom[ -1 ]][monom[ -1 ]] coeffcont []for coeff in iter coeffs cont gf gcd cont gf from dict coeff p dom p dom yring ring symbols ring k - 1 ] contf yring dense cont .trunc ground p return contf f contf ring ring 
def eval js js e Eval Js return e js 
def get context loop positions context try loop counter context Key Error return 0 0 try page context obj Key Error return loop counter loop counter total loop counter page - 1 * page page + loop counter return total loop counter loop counter 
def period range start None end None periods None freq 'D' name None return Period Index start start end end periods periods freq freq name name 
def isintlike x if not isscalarlike x return Falsetry return bool int x x except Type Error Value Error return False 
def test fnpickling class tmpdir fn str tmpdir 'test2.pickle' obj1 'astring'obj2 To Be Pickled obj1 fnpickle obj2 fn res fnunpickle fn assert res obj2 
def add to recent scan name md5 url try db obj Recent Scans D B MD5 md5 if not db obj new db obj Recent Scans D B NAME name MD5 md5 URL url TS timezone new db obj except Print Exception ' R R O R Adding Scan U R Lto Database 
def  build editable options req regexp re '[\\?#&] ? ]+ ? ]+ ' matched regexp req if matched ret dict for option in matched name value optionif name in ret raise Exception '%soptionalreadydefined' % name ret valuereturn retreturn None 
def has ever registered user id user settings get user settings user id strict True return bool user settings and user settings agreed to terms 
def update status msg **redis kwargs pid getpid red Strict Redis **redis kwargs key 'pid-%d-statuses' % pid msg '%.6f%s' % time msg red key msg red key 60 * 60 red key 0  keep 
def dir setup test dir pkg temp dir tempfile 'temp' config dir tempfile 'config' work dir tempfile 'work' os temp dir constants C O N F I G DIRS MODE os config dir constants C O N F I G DIRS MODE os work dir constants C O N F I G DIRS MODE test configs pkg resources filename pkg os 'testdata' test dir shutil test configs os temp dir test dir symlinks True return temp dir config dir work dir 
def feed data func new name *args **kwargs @wraps func def wrapper self return func self *args **kwargs wrapper  name   new nameif func  doc   try wrapper  doc   func  doc  .format *args **kwargs except Index Error Key Error passreturn wrapper 
def elu x alpha 1.0 res tf x if alpha 1 return reselse return tf x > 0 res alpha * res 
def  graph connected component graph node id n node graph sparse graph graph graph connected nodes np n node dtype np nodes to explore np n node dtype np nodes to explore id Truefor _ in range n node last num component connected nodes np or connected nodes nodes to explore out connected nodes if last num component > connected nodes breakindices np nodes to explore [0]nodes to explore False for i in indices if sparse graph neighbors graph .ravel else neighbors graph or nodes to explore neighbors out nodes to explore return connected nodes 
def validate weigher weigher weight classes C O N F scheduler classesif 'nova.scheduler.weights.all weighers in weight classes return Truereturn weigher in weight classes 
def get Bus Freq if import Ctypes Failed return Falsemib ctypes int * 2 CTL HW HW BUS FREQ val ctypes int int Size ctypes int ctypes val cocoa ctypes mib 2 ctypes val ctypes int Size 0 0 return val 
def grouper n iterable fillvalue None args [iter iterable ] * n return it longest fillvalue fillvalue *args
def get recent **redis kwargs pid getpid red Strict Redis **redis kwargs processes []messages []for key in red 'pid-*-statuses' try now time pid int key '-' [1] msgs [msg.split '' 1 for msg in red key 0  keep ]msgs [ now - float t pid msg for t msg in msgs continueelse messages + msgsprocesses + msgs 1]messages.sort processes return processes messages 
def gaussian x mean stddev tmp -0.5 * sum x - mean / stddev ** 2 return np tmp / np 2.0 * np 0.5 * len x * stddev 
def  read double fid n 1 return np fid '>f8' n 
def  get certificate obj cert if isinstance cert M2 Crypto X509 X509 return certtext  text or file cert text get pem entry text pem type 'CERTIFICATE' return M2 Crypto X509 cert string text 
def make simp z def simp expr 'fficientlysimplifytherationalfunction numer denom expr numer denom c numer denom poly numer z .cancel poly denom z return c * numer expr / denom expr return simp 
@pytest.mark.skipif u H A S SCIPY' def test poisson conf frequentist confidence gehrels nlh np [ 0 0 1.841 1 0.173 3.3 2 0.708 4.638 3 1.367 5.918 4 2.086 7.163 5 2.84 8.382 6 3.62 9.584 7 4.419 10.77 8 5.232 11.95 9 6.057 13.11 10 6.891 14.27 ] assert allclose funcs conf interval nlh 0] interval u nlh 1 ].T rtol 0.001 atol 0.001
def get challenge for url url if not url raise Value Error ' R Lcannotbe None url parse url return  cache url 
def loopback Async server client pump Policy identity Pump Policy server To Client  Loopback Queue client To Server  Loopback Queue server Connection  Loopback Transport server To Client client Connection  Loopback Transport client To Server return  loopback Async Body server server To Client client client To Server pump Policy 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
@pytest.mark.skipif ' A S BLEACH' def test multicolumn write escape col1 [1 2 3]col2 [ 1.0 1.0 2.0 2.0 3.0 3.0 ]col3 [ '<a></a>' '<a></a>' 'a' '<b></b>' 'b' 'b' 'c' 'c' 'c' ]table Table [col1 col2 col3 names 'C1' 'C2' 'C3' expected '<html>\n<head>\n<metacharset "utf-8"/>\n<metacontent "text/html;charset U T F "ontent C1 "2 "3 html H T M L htmldict {'raw html cols 'C3'} .write table [0].strip assert out expected 
@condition etag func lambda r WEAK ETAG def etag view weak request return Http Response FULL RESPONSE
def manual id singleton prompt u Enter I D '.format 'recording' if singleton else 'release' return input  prompt .strip
def plural s number suffix 's' return s number number s suffix if number % 100 ! 1 else ''
def requires partial expr if not isinstance expr symbols collections Iterable return len set expr > 1 return sum not s integer for s in expr symbols > 1
def close git review requests payload server url review id to commits map defaultdict list branch name payload u if not branch name return review id to commits mapcommits payload u [] for commit in commits commit hash commit u commit message commit u review request id get review request id commit message server url commit hash commit entry u %s ' % branch name commit hash 7] review id to commits map request id commit entry close all review requests review id to commits map 
def get current app frame None if frame None frame inspect .f backwhile frame module inspect frame code if not module raise Exception 'omoduleforcode frame .erhapsyouhaveanold + '.pycfilehangingaround?' % repr frame code repr frame app get app for module module if app return appframe frame backreturn None 
def get New Derivation element Node return Grid Derivation element Node 
def Dev Only field return field if settings D E V MODE else None 
def create unbound method func cls if six P Y2 return Method Type func None cls if six P Y3 return func 
def has pairs profile return len profile > 0 and isinstance profile list 
def test double install script data result script 'install' 'pip' 'pip' expect error False msg "oublerequirementgiven pip alreadyinpip name 'pip' "assert msg not in result 
def python version tuple if hasattr sys 'version info return sys info 3]return tuple string  sys version [1] '.'
@requires pyopengl def test glplus gl gl 'gl+' fnames set [name for name in dir gl if name 'gl' ] assert len fnames function names .difference ['gl2'] > 50 cnames set [name for name in dir gl if name 'GL' ] assert len cnames constant names > 50 gl gl 'gl2'  test function names gl  test constant names gl 
def get commit dates refs repo dir None result []for ref in refs commit get commit items ref cp repo dir result commit sec return result 
def fix review counts Local Site Profile direct incoming request count None total incoming request count None pending outgoing request count None total outgoing request count None starred public request count None Group incoming request count None 
def  collect assets cmd system **kwargs try if kwargs C O L L E C T S T A T I C LOG DIR ARG] is None collectstatic stdout str ''else collectstatic stdout str '>{output dir output dir kwargs C O L L E C T S T A T I C LOG DIR ARG] sys system except Key Error collectstatic stdout str '>/dev/null'return collectstatic stdout str 
def load certificate request type buffer if isinstance buffer  text type buffer buffer 'ascii' bio  new mem buf buffer if type FILETYPE PEM req  lib P E M read bio X509 REQ bio  ffi N U L L  ffi N U L L  ffi N U L L elif type FILETYPE ASN1 req  lib X509 REQ bio bio  ffi N U L L else raise Value Error ' I L E T Y P E P E Mor F I L E T Y P E ASN1' if req  ffi N U L L  raise current error x509req X509 Req  new   X509 Req x509req req  ffi req  lib X509 REQ free return x509req 
def variable from module module variable None default None if not module return defaultmod mod import module if variable result []for var in make iter variable if var result mod  dict  .get var default else result [val for key val in mod  dict  .items if not key '_' or ismodule val ]if len result 1 return result result 
def get default config key try path os   file   + '/colorset/config' data load config path return data raise Exception 'hisconfigkeydoesnotexistindefault 
def gep inbounds builder ptr *inds **kws return gep builder ptr inbounds True *inds **kws
def sql flush style connection only django False reset sequences True allow cascade False if only django tables connection table names only existing True include views False else tables connection names include views False seqs connection list if reset sequences else statements connection flush style tables seqs allow cascade return statements 
def create menu menu items parent None nodes []default fn import string settings O S C A R DASHBOARD DEFAULT ACCESS FUNCTION for menu dict in menu items try label menu dict Key Error raise Improperly Configured 'olabelspecifiedformenuitemindashboard children menu dict 'children' [] if children node Node label label icon menu dict 'icon' None access fn menu dict 'access fn default fn create menu children parent node else node Node label label icon menu dict 'icon' None url name menu dict 'url name None url kwargs menu dict 'url kwargs None url args menu dict 'url args None access fn menu dict 'access fn default fn if parent is None nodes node else parent child node return nodes 
def quit Server ignored reactor 
def make signature func spec signature func if spec is None n wo defaults len spec defaults '' * n wo defaults else n wo defaults len spec - len spec defaults '' * n wo defaults + spec args []for i var default in enumerate zip spec defaults args var if default '' else var + ' ' + repr default if spec args '*' + spec if spec args '**' + spec return args spec 
@dec.onlyif unicode pathsdef test unicode cwd wd tempfile suffix u old wd os os wd try app Base I Python Application app profile dir app config files app config file suppress errors False finally os old wd 
def set enrollment attributes user id course id attributes  data api .add or update enrollment attr user id course id attributes 
def choose names installer if installer is None logger 'oinstaller pickingnamesmanually return  choose names manually domains list installer all names names get valid domains domains if not names return  choose names manually 'onameswerefoundinyourconfigurationfiles code names  filter names names if code display util O K and names return nameselse return []
def core freq config set kodi setting all settings try version Pi Version except I O Error version 'i B version 'i B if int kodi setting 250 return 'remove this line version 'i2 if int kodi setting 450 return 'remove this line kodi setting 
def logsumexp x axis None return Log Sum Exp axis x 
def test no stdlib collections2 import collectionsmatplotlib import module 'matplotlib'   import  kwargs {'fromlist' ['collections']} min module version '1.1.0' catch Runtime Error if matplotlib assert collections ! matplotlib 
def removed participants original participants update participants original table {part['email'] part 'name' for part in original participants if 'email' in part }update table {part['email'] part 'name' for part in update participants if 'email' in part }ret []for email in original table if email not in update table ret dict email email name original table return ret 
def clear B A C K E N D 
def bound socket *args **kwargs sock SOCKET SOCKET *args **kwargs sock SOURCE 0 return sock 
def read subject names path folder names []for dirname dirnames filenames in os path for subdirname in dirnames folder names subdirname return folder names 
def addon can be signed validation summary validation 'signing summary {} return summary 'low' 0 0 and summary 'medium' 0 0 and summary 'high' 0 0
def metadata request return {'display version getattr settings 'DISPLAY VERSION' False 'version' getattr settings 'VERSION' 'N/A' 'shop name settings O S C A R SHOP NAME 'shop tagline settings O S C A R SHOP TAGLINE 'homepage url settings O S C A R HOMEPAGE 'use less getattr settings 'USE LESS' False 'language neutral url path strip language code request 'google analytics id getattr settings 'GOOGLE ANALYTICS ID' None }
def test nonunique prefix completion super Console Send Keys 'edirect Start }{ }{ENTER}' test Regex 'onsole Send Keys ' A B E N T E R super Console Send Keys ' A B T A B E N T E R test Regex + ' yorickyak 'onsole Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex Are Equal remove Prompts get Test Output [1] []
def  bad copy bad request err msg bad request err msg 'ofilefoundinrequest POST' and 'o in err msg 
def Time2 Internaldate date time if isinstance date time int float dt datetime date time timezone .astimezone elif isinstance date time tuple try gmtoff date time gmtoffexcept Attribute Error if time dst date time dst -1 dst time time date time [8]gmtoff - time time [dst] else gmtoff - time delta timedelta seconds gmtoff dt datetime tzinfo timezone delta *date time 6] elif isinstance date time datetime if date time is None raise Value Error 'date timemustbeaware dt date timeelif isinstance date time str and date time date time -1 ] '"' '"' return date timeelse raise Value Error 'date timenotofaknowntype fmt ' H %M % Months return dt fmt 
def  sh complex to real sh order if order 0 return np sh else return np 2.0 * np if order > 0 else np sh 
def addsitepackages known paths for sitedir in getsitepackages if os sitedir addsitedir sitedir known paths return known paths 
def unsetenv name os ''del os 
def avail images call None if call 'action' raise Salt Cloud System Exit 'heavail imagesfunctionmustbecalledwith orwiththe server user password  get xml rpc auth ' '.join [user password image pool server auth -2 -1 -1 [1]images {}for image in  get xml image pool images 'NAME' .text]  xml to dict image return images 
def enable name **kwargs cmd '/usr/sbin/svcadmenable{0}'.format name return not   salt  ['cmd.retcode'] cmd python shell False 
def  format str *args return tuple []for i in args r repr i if isinstance i bytes or isinstance i unicode and '\n' in i stripped ''if isinstance i unicode and r 'u' stripped r r ]elif isinstance i bytes and r 'b' stripped r r ]quote char r quote char in "'" '"' quote charassert r r -1 ] r r -1 ]r stripped + 3 * quote char + '\\\n' + re ' ?<!\\\\ \\\\\\\\ * \\\\n' '\\1\\n' r + 3 * quote char r re '\\n' '\\\\n\\\\\\n' r return tuple r return tuple return tuple 
def sum bilateral image selem out None mask None shift x False shift y False s0 10 s1 10 return  apply bilateral cy sum image selem out out mask mask shift x shift x shift y shift y s0 s0 s1 s1 
@bp.route '/desert' def desert page force int request 'page' 1 0 if not page return abort 404 paginator Topic by reply count 0 .order by Topic .paginate page paginator fill topics paginator return render template 'topic/topics.html' paginator paginator endpoint 'topic.desert'
def find window for buffer name cli buffer name from prompt toolkit import Command Line Interfaceassert isinstance cli Command Line Interface from .containers import Windowfrom .controls import Buffer Controlfor l in cli cli if isinstance l Window and isinstance l Buffer Control if l name buffer name return l 
def parse ng86 lines results sequences []for line in lines line floats res re '-*\\d+\\.\\d+' line line floats [float val for val in line floats res row res re '^ [^\\s]+? ? \\s+-?\\d+\\.\\d+|\\s*$|-1.0000\\s*\\ ' line if matrix row res is not None seq name matrix row res 1 .strip sequences seq name results name {}for i in range 0 len line floats 3 NG86 { G86 line floats N G86 N line floats i + 1 ] G86 S line floats i + 2 ]results[seq name i // 3 ]] {'NG86' N G86 i // 3 ]][seq name {'NG86' N G86 results sequences 
def  prep pull   context  ['dockerng. pull status [x[ 12] for x in images all True ]
def make logentry elements maxrevision doc xml String make changes output maxrevision return doc Elements By Tag Name 'logentry'
def technical 500 response request exc type exc value tb reporter Exception Reporter request exc type exc value tb html reporter traceback html return Http Response Server Error html mimetype 'text/html'
def dolog fmt *args logfp fmt % args + '\n'
def dup eval f a K if not a return dup TC f K result K c in f result * aresult + creturn result 
def normalize Name name if isinstance name unicode joiner u joiner '%s%s'sname name ' ' if len sname 2 name joiner % sname sname return name 
def  to job id task id return 'job ' + ' '.join task id '_' [1 3]
def  is dns subdomain name dns subdomain re '^[a-z0-9\\.-]{1 253}$' if dns subdomain name log 'ame { N Ssubdomain name return Trueelse log 'ame { N Ssubdomain name return False 
def organization delete context data dict return  group or org delete context data dict is org True 
def test strip s '<scri<script>pt>alert 1 </scr</script>ipt>'eq  'pt&gt;alert 1 ipt clean s strip True s '<scri<scri<script>pt>pt>alert 1 </script>'eq  'pt&gt;pt&gt;alert 1 ' clean s strip True 
def  do overwrite fs path copy data path dest path + '. hue new copy data path dest cur stats fs path try fs as superuser fs path dest stat module S IMODE cur stats except logging 'ouldnotchmodnewfile % path dest path try fs as superuser fs path dest cur stats cur stats except logging 'ouldnotchownnewfile % path dest path fs path skip trash True fs path dest path 
def edit profile request form class success url None template name 'profiles/private/edit profile extra context None try profile obj request Object Does Not Exist return Http Response Redirect reverse 'profiles profile create if success url is None success url reverse 'profiles profile detail kwargs {'username' request if request 'POST' form form class data request P O S T files request F I L E S instance profile obj if form valid form return Http Response Redirect success url else form form class instance profile obj if extra context is None extra context {}context Request Context request for key value in extra context context callable value and value or value return render to response template name {'form' form 'profile' profile obj 'user' profile obj context instance context 
def  contains block level tag el if el in block level tags or el in block level container tags return Truefor child in el if  contains block level tag child return Truereturn False 
def  is cluster volume cluster id ebs volume if ebs volume is not None actual cluster id [alue for tag in ebs volume if tag Key CLUSTER ID LABEL ]if actual cluster id [actual cluster id actual cluster idtry actual cluster id UUID hex actual cluster id except Value Error INVALID FLOCKER CLUSTER ID flocker cluster id actual cluster id volume id ebs volume .write return Falseif actual cluster id cluster id return Truereturn False 
def rearrange by divisions df column divisions max branch None shuffle None partitions df partitions set partitions pre divisions divisions meta pd Series [0] df2 df  partitions partitions df3 rearrange by column df2 ' partitions max branch max branch npartitions len divisions - 1 shuffle shuffle df4 df3 ' partitions axis 1 df4 df3 partitions drop columns ' partitions df return df4 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def search relationship session instance relation filters None sort None group by None model get model instance related model get related model model relation query session query session related model relationship getattr instance relation primary keys set primary key value inst for inst in relationship if not primary keys return query FALSE query query primary key value related model .in  primary keys return search session related model filters filters sort sort group by group by  initial query query 
def cluster node add node extra args None cmd ['pcs' 'cluster' 'node' 'add']cmd + [node]if isinstance extra args list tuple cmd + extra argsreturn   salt  ['cmd.run all cmd output loglevel 'trace' python shell False 
def delete cache security group name region None key None keyid None profile None **args return  delete resource name name param 'ache Security Group Name desc 'cachesecuritygroup' res type 'cache security group region region key key keyid keyid profile profile **args
def fetch stream from url url config data None handlers None return code return message response open url url config data data handlers handlers if return code and return code http client .OK return responseelse raise U R L Fetch Error return message 
def  check for changes entity type ret existing modified ret Trueif isinstance existing dict and isinstance modified dict if 'generation' in modified del modified 'generation' in existing del existing cmp modified existing 0 ret '{entity type Nochangesmade entity type entity type else ret '{entity type Note Onlyparametersspecifiedwereenforced Seechangesfordetails entity type entity type ret existing modified cmp modified existing 0 ret '{entity type Nochangesmade entity type entity type else ret '{entity type Note Onlyparametersspecifiedwereenforced Seechangesfordetails entity type entity type ret existingret modifiedreturn ret 
def tone freq 440 sec 2 rate 44100 vol 0.99 samples sec * rate time steps np 0.0 1.0 1.0 / samples scaling 2 * np * freq * sec return np time steps * scaling * vol 
def parse cost term source cost coeff parse count source ch source if ch not in 'dis' raise Parse Error if ch in cost raise error 'repeatedfuzzycost' source source cost int coeff or 1
def get And Clear node node Id result get node node Id if result clear Node result return result 
def make service options def make stub 'elperfunctionformakingastubtotalktoservice path options 'credentials path None http httplib2 Http http apiclient user agent http 'pinnaker Stackdriver Agent if credentials path logging 'sing Stackdriver Credentialsfrom credentials path credentials Service Account Credentials json keyfile name credentials path scopes Stackdriver Metrics Service W R I T E SCOPE else logging 'sing Stackdriver Credentialsfromapplicationdefault credentials Google Credentials application default http credentials http return apiclient 'monitoring' 'v3' http http return Stackdriver Metrics Service make stub options 
def test none Constant o1 Constant None Type T None name 'one Const o2 Constant None Type T None name 'one Const assert o1 o2 assert None Const o1 assert o1 None Const assert None Const o2 assert o2 None Const import six Pickle as pickleimport theanofrom theano import tensorx tensor 'x' y tensor x kwargs {}if theano in [ebug Mode 'DEBUG MODE'] kwargs {'mode' 'FAST R U N theano [x] [y] **kwargs pickle pickle f 
def user data dir appname None appauthor None version None roaming False if system 'win32' if appauthor is None appauthor appnameconst roaming and 'CSIDL APPDATA' or 'CSIDL LOCAL APPDATA' path os  get win folder const if appname if appauthor is not False path os path appauthor appname else path os path appname elif system 'darwin' path os 'ibrary Application Support if appname path os path appname else path os 'XDG DATA HOME' os '~/.local/share' if appname path os path appname if appname and version path os path version return path 
def reshape unchecked a shape strides raise Not Implemented Error 
def get id token params urllib {'grant type 'urn ietf params oauth grant jwt 'assertion' generate jwt } headers {ontent Type 'application/x-www-form-urlencoded'}conn httplib H T T P S Connection 'www.googleapis.com' conn 'POST' '/oauth2/v4/token' params headers res json conn .read conn return res token 
def get Float By Prefix Side default Value element Node prefix side if element Node None return default Valueif side ! None key prefix + 'ver Side if key in element Node default Value euclidean Float From Value evaluate Evaluated Value Obliviously element Node key * side return evaluate Evaluated Float default Value element Node prefix 
def test monitoring batch size trainer yaml parse test yaml trainer loop 
def normcase s if not isinstance s bytes str raise Type Error "normcase argumentmustbestrorbytes not s  class  .  name   return s  get altsep s  get sep s .lower
def test lowercase html dirty u E M C L A S S " O O B A R E M u " O O B A R  clean bleach dirty attributes ['class']
@handle response format login required admin required def index perspectives request response format 'html' query  get filter query request G E T perspectives Perspective query .order by 'name' filters Filter Form request 'perspective' request G E T message request 'message' '' return render to response 'core/administration/index perspectives {'perspectives' perspectives 'filters' filters 'message' message context instance Request Context request response format response format 
def unescape s assert isinstance s basestring s s ' DCTB ' ' ' s s '\\ ' ' ' s s '\\n' '\n' s s '\\\\' '\\' return s 
def index exists index hosts None profile None es  get instance hosts profile try if not isinstance index list index [index]if es index index return Trueelse return Falseexcept elasticsearch Not Found Error return Noneexcept elasticsearch Connection Error return Nonereturn None 
def launch arrayeditor data title '' xlabels None ylabels None dlg Array Editor assert dlg and check data title xlabels xlabels ylabels ylabels dlg dlg return dlg value 
def get completion badge course id user from student import Course Enrollmentbadge classes Course Enrollment user user course id course id .order by '-is active if not badge classes return Nonemode badge classes modulestore .get course course id if not course badges return Nonereturn Badge Class badge class slug course slug course id mode issuing component '' criteria criteria course id description badge description course mode course id course id mode mode display name course name image file handle Course Complete Image Configuration for mode mode 
def convert md to rst md path rst temp path command 'pandoc--write rst %s%s' % rst temp path md path print 'convertingwithpandoc %sto%s\n-->%s' % md path rst temp path command if os rst temp path os rst temp path os command if not os rst temp path s 'rrorrunning %idyouinstallpandocperthe % command   file   sys s return read rst temp path 
def execsitecustomize try import sitecustomizeexcept Import Error passexcept Exception if sys sys *sys.exc info else print >>sys.stderr "'importsitecustomize'failed;use-vfortraceback"
def destroy instance id call None if call 'function' raise Salt Cloud System Exit 'hedestroyactionmustbecalledwith --destroy -aor--action.' instance data show instance instance id call 'action' name instance data name  utils  ['cloud.fire event 'event' 'destroyinginstance' 'salt/cloud/{0}/destroying'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] params {'action' 'erminate Instances 'zone'  get specified zone provider get configured provider 'instances.1' instance id query params   utils  ['cloud.fire event 'event' 'destroyedinstance' 'salt/cloud/{0}/destroyed'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def snmp wrapper a device oid snmp dict snmp preprocessor a device oid snmp data snmp get oid v3 **snmp dict return snmp extract snmp data 
def closing tag state text i formats user data ch text ch in space chars return [ 1 None ]pos text u i if pos -1 return [ len text - i formats ]state.parse N O R M A Lnum pos - i + 1 ans [ 1 formats tag ]if num > 1 ans 0 num - 1 formats add tag data user data Tag End pos False False return ans 
def delay delay callback *args **kwargs return reactor Later delay callback *args **kwargs
def  make key args kwds typed kwd mark object fasttypes set int str frozenset type None sorted sorted tuple tuple type type len len key argsif kwds sorted items sorted kwds key + kwd markfor item in sorted items key + itemif typed key + tuple type v for v in args if kwds key + tuple type v for k v in sorted items elif len key 1 and type key in fasttypes return key  Hashed Seq key 
@ship.command 'new' @click.argument 'name' def ship new name click 'reatedship % name 
def get Complex By Comma String value Comma String try split Line value Comma String ' ' '' .split return complex float split Line float split Line except passreturn None 
def util from pants import markdown to html utilsreturn markdown to html utils 
def copy asset source destination excluded lambda path False context None renderer None if not os source returnensuredir destination if os source copy asset file source destination context renderer returnfor root dirs files in walk source reldir relative path source root for dir in dirs ] if excluded posixpath reldir dir dirs dir else ensuredir posixpath destination reldir dir for filename in files if not excluded posixpath reldir filename copy asset file posixpath root filename posixpath destination reldir context renderer 
def default connection selector connection app blame return handlers Base Connection Handler 
@blueprint.route '/<job id methods ['GET'] @blueprint.route '/<job id methods ['GET'] def show job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound related jobs scheduler related jobs job if request wants json return flask job dict True elif isinstance job model images Image Classification Model Job return model images job related jobs related jobs elif isinstance job model images Generic Image Model Job return model images job related jobs related jobs else raise werkzeug Bad Request 'nvalidjobtype 
def test scenario sentences can be solved scenario Scenario string OUTLINED SCENARIO assert equals len scenario steps 12 expected sentences [iven Ihaveentered20intothecalculator 'nd Ihaveentered30intothecalculator 'hen Ipressadd 'hentheresultshouldbe50onthescreen 'iven Ihaveentered2intothecalculator 'nd Ihaveentered5intothecalculator 'hen Ipressadd 'hentheresultshouldbe7onthescreen 'iven Ihaveentered0intothecalculator 'nd Ihaveentered40intothecalculator 'hen Ipressadd 'hentheresultshouldbe40onthescreen step expected sentence in zip scenario steps expected sentences assert equals type step Step assert equals step expected sentence 
def save workbook workbook filename writer Excel Writer workbook writer filename return True 
def remove comments css iemac Falsepreserve Falsecomment start css '/*' while comment start > 0 preserve css comment start + 2 comment start + 3 ] '!' comment end css '*/' comment start + 2 if comment end < 0 if not preserve css css comment start comment end > comment start + 2 if css comment end - 1 ] '\\' comment start comment end + 2 iemac Trueelif iemac comment start comment end + 2 iemac Falseelif not preserve css css comment start + css comment end + 2 ] else comment start comment end + 2 comment start css '/*' comment start return css 
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
def add toolbar item for plugins toolbar action global TOOLBAR ITEMS PLUGINSTOOLBAR ITEMS P L U G I N S toolbar action 
def  on Resize width height if height 0 height 1 L Viewport 0 0 width height G L Matrix Mode GL.GL PROJECTION G L Load Identity G L Ortho -1 1 -1 1 -1 1 G L Matrix Mode GL.GL MODELVIEW G L Load Identity 
def ieerstr2tree s chunk types [ O C A T I O N u O R G A N I Z A T I O N u P E R S O N u D U R A T I O N u D A T E u C A R D I N A L u P E R C E N T u M O N E Y u M E A S U R E root label u S m  IEER DOC R E s if m return {u'text'  ieer read text m u root label u m u u m u u time m u time u  ieer read text m u root label }else return  ieer read text s root label 
def format exc limit None try etype value tb sys info return ''.join format exception etype value tb limit finally etype value tb None 
def pos tag tokens tagset None lang 'eng' tagger  get tagger lang return  pos tag tokens tagset tagger 
def  allocations dict allocations key fetcher resource provider None allocation data collections dict for allocation in allocations key key fetcher allocation if 'resources' not in allocation data allocation data {}resource class allocation classallocation data class allocation not resource provider generation allocation provider data generationresult {'allocations' allocation data resource provider result provider generation resource provider result 
def get issues project 'statsmodels/statsmodels' state 'closed' pulls False which 'pulls' if pulls else 'issues' url 'https //api.github.com/repos/%s/%s?state %s&per page %i' % project which state PER PAGE return get paged request url headers make auth header 
def dict to packet out d po of packet out po id d 'buffer id -1 po port  fix of int d 'in port of O F P P NONE actions d 'actions' [] actions [dict to action a for a in actions actionsif 'output' in d a of action output port  fix of int d po a if 'data' in d data dict to packet d if hasattr data 'pack' data data po datareturn po 
@jit nopython True cache True def lemke howson tbl tableaux bases init pivot max iter init player 0for k in bases if k init pivot init player 1breakpls [init player 1 - init player ]pivot init pivot m n tableaux tableaux slack starts m 0 argmins np max m n dtype np  converged Falsenum iter 0while True for pl in pls row min lex min ratio test tableaux pivot slack starts argmins pivoting tableaux pivot row min bases min pivot pivot bases min num iter + 1if pivot init pivot converged Truebreakif num iter > max iter breakelse continuebreakreturn converged num iter 
def snapshot created name ami name instance name wait until available True wait timeout seconds 300 **kwargs ret {'name' name 'result' True 'comment' '' 'changes' {}}if not   salt  ['boto ec2 image ami name ami name instance name instance name **kwargs ret 'ailedtocreatenew A M I name ami name ami name ret Falsereturn retret 'reatednew A M I name ami name ami name ret {ami name ami name not wait until available return retstarttime time while True images   salt  ['boto ec2 images ami name ami name return objs True **kwargs if images and images 'available' breakif time - starttime > wait timeout seconds if images ret ' M Istillinstate state images else ret ' M Iwithname name ami name ami name ret Falsereturn retsleep 5 return ret 
def get client login token http body return gdata client login token string http body 
def generate yml filename specs def  to builtin elements 'ecursivelyconvertelementstobuilt []for e in elements if isinstance e ebml Master Element result e e e e e e  to builtin e else result e e e e e e None if isinstance e io Bytes I O else e return resultvideo io os TEST DIR filename 'rb' yml io os EBML VALIDATION DIR filename + '.yml' 'w' yaml dump  to builtin ebml video specs yml 
def bucket url suffix return 'gs //{}/{}/{}'.format BUCKET NAME TEST FOLDER suffix 
def verify log opts level LOG L E V E L S str opts 'log level .lower logging N O T S E T if level < logging I N F O log 'nsecureloggingconfigurationdetected Sensitivedatamaybelogged 
def name match match skey get key   opts   return skey match match 
def As Validator validator if isinstance validator str unicode return Regex validator type validator if isinstance validator type return Type validator if isinstance validator list tuple set return Options *tuple validator if isinstance validator Validator return validatorelse raise Attribute Definition Error '%sisnotavalidvalidator' % str validator 
def multipart byteranges to document iters input file boundary read chunk size 4096 for headers body in mime to document iters input file boundary read chunk size first byte last byte length parse content range headers 'content-range' yield first byte last byte length headers body 
def ll actual predicted actual np actual predicted np predicted err np all 'ignore' score - actual * np predicted + 1 - actual * np 1 - predicted np divide err over err under err invalid err if type score np score score ] 0elif np score score 0return score 
def get cflags return get var 'CFLAGS'
def check executable executable logger logging Logger   name   logger "heckingexecutable executable executable path find executable executable found executable path is not None if found logger "xecutable '%s'" executable executable path else logger "xecutable executable return found 
def libvlc event type name event type f  Cfunctions 'libvlc event type name None or  Cfunction 'libvlc event type name 1 None ctypes char p ctypes uint return f event type 
def update credential tenant id credential id new user name None new password None session db session try cred session network models v2 Credential .filter by tenant id tenant id .filter by credential id credential id .one if new user name cred name new user nameif new password cred new passwordsession cred session return credexcept exc No Result Found raise c exc Credential Not Found credential id credential id tenant id tenant id 
def find related module package related name try importlib module package except Import Error package _ _ package u if not package raisetry pkg path importlib module package .  path  except Attribute Error returntry  imp module related name pkg path except Import Error returnreturn importlib module u package related name 
def Indexes Xml To Index Definitions xml str parser Indexes Xml Parser return parser Parse xml str 
def set werkzeug log color from django import color stylefrom werkzeug import W S G I Request Handlerfrom werkzeug internal import  log style color style  orig log W S G I Request Handler werk log self type message *args try msg '%s--[%s]%s' % self string self date time string message % args http code str args except return  orig log type message *args if http code '2' msg  style H T T P SUCCESS msg elif http code '1' msg  style H T T P INFO msg elif http code '304' msg  style H T T P NOT MODIFIED msg elif http code '3' msg  style H T T P REDIRECT msg elif http code '404' msg  style H T T P NOT FOUND msg elif http code '4' msg  style H T T P BAD REQUEST msg else msg  style H T T P SERVER ERROR msg  log type msg W S G I Request Handler werk log 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def filter koan names lines for line in lines line line if line '#' continueif line yield line return 
def start introspection server global INTROSPECTION S E R V E Rif INTROSPECTION SERVER is None if DEBUG INTROSPECTION import timetime str 'oggingtime %s' % time time logging ' ' * len time str logging time str logging ' ' * len time str INTROSPECTION SERVER Introspection Server INTROSPECTION S E R V E R return INTROSPECTION SERVER
def certbot version build script dir return re '^  version   [\'"] .+ [\'"].*' file contents join dirname build script dir 'certbot' '  init  .py' re M .group 1
def has valid signature method headers dict body dict access key secret key _ expected signature _ generate signed message method headers dict body dict access key secret key authorization headers dict Authorization auth token post signature authorization ' ' _ post access key auth token if post access key ! access key log 'ostedaccesskeydoesnotmatchours log 'heiraccess %uraccess %s' post access key access key return Falseif post signature ! expected signature log 'ostedsignaturedoesnotmatchexpected log 'heirsig %xpected %s' post signature expected signature return Falsereturn True 
def delete from backend context uri **kwargs loc location location from uri uri store get store from uri context uri loc try return store loc except Not Implemented Error raise exception Store Delete Not Supported 
def next power of 2 n n - 1shift 1while n + 1 & n n | n >> shift shift * 2return max 4 n + 1
def  import module reload 'alse from sympy import import moduletry namespace namespace default translations import commands M O D U L E S Key Error raise Name Error "'%s'modulecan'tbeusedforlambdification" % module if namespace ! namespace default if reload namespace namespace namespace default else returnfor import command in import commands if import command 'import module module eval import command if module is not None namespace module  dict   continueelse try exec  import command {} namespace continueexcept Import Error passraise Import Error "can'timport'%s'with'%s'command" % module import command for sympyname translation in translations namespace namespace 'bs not in namespace namespace Abs abs 
def copy sample files app sample files tool path None sample files copied None dest path None filenames not to copy ['tool data table conf files copied util sample files copied for filename in sample files filename sans path os filename [1]if filename sans path not in filenames not to copy and filename not in sample files copied if tool path filename os tool path filename if is data index sample file filename copy sample file app filename dest path dest path 
def sanitize for filename text default None out []for c in text if c in valid filename chars out c else out '_' out ''.join out if out in invalid filenames if default is None return sanitize for filename str unique id return defaultreturn out 
def  make path *parts return u + u quote plus  escape p ' *' for p in parts if p not in SKIP IN PATH
def  parse url default Port None url url parsed http url scheme parsed urlunparse '' '' + parsed ] if default Port is None if scheme 'https' default Port 443else default Port 80 host port parsed default Port if ' ' in host host port host ' ' try port int port except Value Error port default Portif path '' path '/'return scheme host port path 
def fix route53 ids params model **kwargs input shape model shapeif not input shape or not hasattr input shape 'members' returnmembers [name for name shape in input shape if shape in [esource Id 'elegation Set Id ]for name in members if name in params orig value params orig value '/' [ -1 ]logger.debug '%s%s->%s' name orig value params 
def input thread log stdin is alive quit close before term done Falseclosed Falsealive Truewriters [stdin]while writers and alive _ to write _ select [] writers [] 1 if to write log '%rreadyformoreinput' stdin done stdin if done writers []if close before term stdin closed True alive _ is alive while alive quit 1 alive _ is alive if not closed stdin 
def sector def prep r s3db location filter r return Trues3 prepreturn s3 rest controller 
def get Rotate Matrix Tetragrid prefix xml Element rotate Matrix Matrix z Angle get Removed Float By Keys ['axisclockwisez' 'observerclockwisez' 'z'] prefix xml Element z Angle - get Removed Float By Keys ['axiscounterclockwisez' 'observercounterclockwisez'] prefix xml Element if z Angle ! 0.0 rotate Matrix Tetragrid rotate Matrix Other Times Self get Diagonal Switched Tetragrid - z Angle [0 1] .etragridx Angle get Removed Float By Keys ['axisclockwisex' 'observerclockwisex' 'x'] prefix xml Element x Angle - get Removed Float By Keys ['axiscounterclockwisex' 'observercounterclockwisex'] prefix xml Element if x Angle ! 0.0 rotate Matrix Tetragrid rotate Matrix Other Times Self get Diagonal Switched Tetragrid - x Angle [1 2] .etragridy Angle get Removed Float By Keys ['axiscounterclockwisey' 'observerclockwisey' 'y'] prefix xml Element y Angle - get Removed Float By Keys ['axisclockwisey' 'observercounterclockwisey'] prefix xml Element if y Angle ! 0.0 rotate Matrix Tetragrid rotate Matrix Other Times Self get Diagonal Switched Tetragrid y Angle [0 2] .etragridreturn rotate Matrix Tetragrid 
def speed elemwise collapse2 shape 30 40 50 600 a cuda ndarray Cuda Ndarray theano asarray numpy *shape dtype 'float32' a theano asarray numpy *shape dtype 'float32' a2 tcn constructor a 'a' a3 a2 2]b tcn Cuda Ndarray Type False False False False c a3 + b * tensor 1 + b ** a3 f pfunc [b] [c] mode mode with gpu v theano asarray numpy *shape dtype 'float32' v v 2]v cuda ndarray Cuda Ndarray v time for i in range 100 f v time 
def multidict ordered pairs d defaultdict list for k v in ordered pairs d v for k v in d if len v 1 d v dict d 
@env.catch exceptionsdef reload changes changes resources changes changed resources moved  get moved resources changes current env f in resources bufnr env 'bufnr "%s" ' % f path env buffer bufnr path env f in moved path moved pathenv 'eload f path path bufnr env file path 'e!' force True env '%shasbeenchanged.' % f path history True env buffer current 
def whitespace around named parameter equals logical line tokens parens 0no space Falseprev end Nonemessage '251unexpectedspacesaroundkeyword token type text start end line in tokens if no space no space Falseif start ! prev end yield prev end message elif token type tokenize O P if text ' ' parens + 1elif text ' ' parens - 1elif parens and text ' ' no space Trueif start ! prev end yield prev end message prev end end 
def file upload view verify request form data request P O S T form data request F I L E S for key value in form data if key ' hash continueif key + ' hash not in form data continuesubmitted hash form data key + ' hash ]if isinstance value Uploaded File new hash hashlib value .hexdigest else new hash hashlib value .hexdigest if new hash ! submitted hash return Http Response Server Error largefile request F I L E S field2 File Model obj largefile largefile return Http Response ''
@CELERY A P P send ccx course published course key course key Course Locator string course key for ccx in Custom Course For Ed X course id course key try ccx key C C X Locator course locator course key unicode ccx except Invalid Key Error log 'ttempttopublishcoursewithdeprecatedid Course % C X %s' course key ccx continueresponses Signal Handler published sender ccx course key ccx key for rec response in responses log 'ignalfiredwhencourseispublished Receiver %esponse %s' rec response 
def list first rs return rs if len rs 1 else None 
def set template path template context defaults saltenv 'base' **kwargs path   salt  ['cp.get template path path dest None template template saltenv saltenv context context defaults defaults **kwargs return set file path saltenv **kwargs
def console pool get all by host type context host console type return I M P L pool get all by host type context host console type 
def retry jenkins session url params print 'etrying url if params jenkins session url + 'ith Parameters data params else jenkins session url + '/build'
def creates models model def decorated func @wraps func @writes models model def wrapped data field if field raise Not Implemented Error 'ustusethewrites modelsdecoratortoupdatemodels return func data return decorated 
def parse token stream stream soft delimiter hard delimiter return [[sum len token for token in sentence it for sentence it in split at block it soft delimiter ] for block it in split at stream hard delimiter ]
def validate api key and source api key in headers api key query params if not api key in headers and not api key query params L O G ' P Ikeyisnotfoundinheaderorqueryparameters raise exceptions Api Key Not Provided Error ' P Ikeyisnotprovided if api key in headers L O G ' P Ikeyprovidedinheaders if api key query params L O G ' P Ikeyprovidedinqueryparameters return validate api key api key in headers or api key query params 
def is process started by superserver result Falsestdin fd sys  stdin  .fileno if is socket stdin fd result Truereturn result 
def wrap rolling func method name @wraps func def rolling arg window *args **kwargs warnings 'eprecation Warning dd {0}isdeprecatedandwillberemovedinafutureversion replacewithdf ... .{0} ... '.format method name rolling kwargs {}method kwargs {}for k v in kwargs if k in {'min periods 'center' 'win type 'axis' 'freq'} rolling kwargs velse method kwargs vrolling arg window **rolling kwargs return getattr rolling method name *args **method kwargs return rolling 
def  create eeg els chs return [ create eeg el ch for ch in chs 
def step 1c w if len w > 2 and w 'y' 'Y' and is consonant w -2 ] return w -1 ] + 'i' return w 
def rotate dimensions num dims src dim dest dim dim list range num dims step 1 if dest dim > src dim else -1 for x in xrange src dim dest dim step dim list dim list x + step ] dim list x + step ] dim list return dim list 
def test bootstrap units data rs 50 ids np range 10 5 bwerr rs 0 2 10 bwerr bwerr rm data + bwerr seed 77boots orig algo data rm random seed seed boots rm algo data rm units ids random seed seed nose greater boots rm boots orig 
def Convert Strings To Column Headers proposed headers headers []for input string in proposed headers sanitized input string .replace '_' '' .replace ' ' '' .replace '' '' header count headers sanitized if header count > 0 headers '%s %i' % sanitized header count + 1 else headers sanitized return headers 
def ftp publisher registry xml parent data ftp X M L Sub Element xml parent ' T P Publisher ftp 'plugin' 'ftppublisher' entries X M L Sub Element ftp 'entries' if 'uploads' in data upload mapping [ 'file-path' 'ath '' 'source-file' 'ile '' ]for upload in data entry X M L Sub Element entries 'ntry helpers mapping to xml entry upload upload mapping fail required True mapping [ 'site-name' 'ame None 'use-timestamps' 'imestamps False 'flatten-files' 'flatten' False 'skip-publishing' 'skip' False ]helpers.convert mapping to xml ftp data mapping fail required True 
def common instructions profile if has pairs profile and profile inst list profile -1 ]else inst list profileresult [ op opcode count for op count in enumerate inst list if count > 0 ]result.sort key operator 2 reverse True return result 
def prlctl sub cmd args None runas None cmd ['prlctl' sub cmd args cmd  normalize args args return   salt  ['cmd.run'] cmd runas runas 
def webapi token deleted cb instance **kwargs mail webapi token instance u 
def normalize b a num den b a den np 1d den num np 2d  align nums num if den ! 1 raise Value Error 'enominatorpolynomialmustberank if num > 2 raise Value Error 'umeratorpolynomialmustberank if np den 0 raise Value Error 'enominatormusthaveatleastonnonzeroelement den np zeros den 'f' num den num / den den / den leading zeros 0for col in num T if np col 0 atol 1e-14 leading zeros + 1else breakif leading zeros > 0 warnings 'adlyconditionedfiltercoefficients numerator theresultsmaybemeaningless Bad Coefficients if leading zeros num leading zeros - 1num num leading zeros ]if num 1 num num ]return num den 
def askdirectory **options return apply Directory Browser options .show
def proceed request if request authenticated return submit request agreement form forms Dev Agreement Form {'read dev agreement True instance None request request return render request 'submit/terms.html' {'step' 'terms' 'agreement form agreement form 'proceed' True 
def Cache fn def fn Cache *args **kwargs 'achefunction args and tuple args or None kwargs and frozenset kwargs or None if key not in fn  cached   fn  cached  [key] cache fn *args **kwargs else cache fn  cached  [key]return cachedef Reset Cache 'esetcache  cached   {}setattr fn '  cached  ' {} setattr fn '  resetcache  ' Reset Cache fn Cache  name   fn  name  fn Cache  doc   fn  doc  fn Cache  dict  .update fn  dict   return fn Cache 
def  format plugin info table info table column lengths info table 0  separator ' ' column lengths info table 1 'lugin 'escription info table 2  separator '-' column lengths info table  separator ' ' column lengths 
def get local addresses async target '198.41.0.4' addresses []local ip get local ip for target if local ip addresses local ip if sys 'cygwin' d  cygwin hack find addresses target else d  find addresses via config def  collect res for addr in res if addr ! '0.0.0.0' and not addr in addresses addresses addr return addressesd Callback  collect return d 
def inplace column scale X scale if isinstance X sp matrix inplace csr row scale X.T scale elif isinstance X sp matrix inplace csr column scale X scale else  raise typeerror X
def  build convergence loop table I Convergence Loop Inputs O Convergence Loop Outputs S Convergence Loop Statestable Transition Table table table Transition S.STOPPED I.STATUS UPDATE [O.STORE INFO O.CONVERGE] S.CONVERGING table table Transitions S.CONVERGING {I.STATUS UPDATE [O.STORE INFO] S.CONVERGING I.STOP [] S.CONVERGING STOPPING I.SLEEP [O.SCHEDULE WAKEUP] S.SLEEPING } table table Transitions S.CONVERGING STOPPING {I.STATUS UPDATE [O.STORE INFO] S.CONVERGING I.SLEEP [] S.STOPPED } table table Transitions S.SLEEPING {I.WAKEUP [O.CLEAR WAKEUP O.CONVERGE] S.CONVERGING I.STOP [O.CLEAR WAKEUP] S.STOPPED I.STATUS UPDATE [O.STORE INFO O.UPDATE MAYBE WAKEUP] S.SLEEPING } return table 
def arctan x return Arctan x 
def isplit string sep ' DCTB \n\x0b\x0c\r' a []for ch in string if ch not in sep a ch continueif a yield ''.join a a []if a yield ''.join a 
def htsafe text text smart unicode text safe string smart unicode sanitizer html text return Markup safe string 
def apply matches d some map list d [0]keys some map if 'tag' in keys and not equal fields d 'tag' returnif 'artist' in keys if equal fields d 'artist' artist some map field 'title'elif equal fields d 'title' artist some map field 'artist'else returnfor item in d if not item item artistelse title field 'title'for item in d if bad title item item six type d field if 'track' in d and item 0 item int d 
@image comparison baseline images [vent Collection plot  default def test  Event Collection  get segments _ coll props generate Event Collection plot check segments coll props props props props 
def  default response times A n vals linalg A r min abs real vals if r 0.0 r 1.0tc 1.0 / r t linspace 0.0 7 * tc n return t 
def bottom up once rule fns basic fns return do one lambda expr sall bottom up rule fns fns expr rule 
def get entity key prefix pb return dbconstants K E Y D E L I M I T E R [prefix str encode index pb pb ]
def detach N B D nbd srun 'qemu-nbd-d' + nbd 
def wait until condition browser condition timeout 10 frequency 1.0 Web Driver Wait browser timeout timeout poll frequency frequency ignored exceptions Element Not Visible Exception Stale Element Reference Exception .until lambda x condition browser 
def test ast good lambda can compile u lambda ' can compile u lambda '
def  is number geographical numobj num type number type numobj return num type Phone Number Type F I X E D LINE or num type Phone Number Type F I X E D LINE OR MOBILE or numobj code in  GEO MOBILE COUNTRIES and num type Phone Number Type M O B I L E 
def Find Renderer For Object rdf obj return Value Renderer rdf obj 
def set Logger Class logging Class assert issubclass logging Class I Logger 'lassmustsubclass I Logger  Logger Class Logger Class logging Class 
def  can be internationally dialled numobj metadata Phone Metadata for region region code for number numobj None if metadata is None return Truensn national significant number numobj return not  is number matching desc nsn metadata international dialling 
def parse graphml graphml string node type str reader Graph M L Reader node type node type glist list reader string graphml string return glist 
def unmountvolume volume putaway volume 
def convert timedelta obj if not PY2 and isinstance obj bytes bytearray obj obj 'ascii' m TIMEDELTA R E obj if not m return Nonetry groups list m groups -1 ]  convert second fraction groups -1 ] negate -1 if groups else 1 hours minutes seconds microseconds groups ]tdelta datetime hours int hours minutes int minutes seconds int seconds microseconds int microseconds * negate return tdeltaexcept Value Error return None 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def time openpyxl optimised start time clock workbook openpyxl Workbook optimized write True worksheet workbook sheet for row in range row max // 2 string data [ 'ow %ol %d' % row col for col in range col max ]worksheet.append string data num data [ row + col for col in range col max ]worksheet.append num data workbook 'openpyxl opt elapsed clock - start time print elapsed time 'openpyxl optimised ' elapsed 
def disassociate qos specs context specs id type id try get qos specs context specs id db specs disassociate context specs id type id except db exc D B Error L O G  LE ' Berror ' L O G  LW 'ailedtodisassociateqosspecs id swithtype % vol type id s dict id specs id vol type id type id raise exception Qo S Specs Disassociate Failed specs id specs id type id type id 
def  search param in docstr docstr param str patterns [re.compile p % re param str for p in DOCSTRING PARAM P A T T E R N S Nonefor pattern in patterns match pattern docstr if match found [ strip rst role match 1 ]breakif found is not None return foundfound  search param in numpydocstr docstr param str if found is not None return foundreturn []
def test add to end a dedent 'bc \ndefabc self \nself.x 3wo Abc \ndefh self \nself\n' b 'defg self \nself.'assert jedi Script a 8 12 'example.py' .completions assert jedi Script a + b path 'example.py' .completions a a -1 ] + '.\n' assert jedi Script a 8 13 'example.py' .completions assert jedi Script a + b path 'example.py' .completions
def Checked Eval file contents ast compiler file contents assert isinstance ast Module c1 ast Children assert c1 is None assert isinstance c1 Stmt c2 c1 Children assert isinstance c2 Discard c3 c2 Children assert len c3 1 return Check Node c3 []
def d3write fct path *args **kwargs formatter Py Dot Formatter *args **kwargs graph formatter fct graph dot path 
def bit length intval assert isinstance intval INT TYPES if intval > 0 return len bin intval - 2 else return len bin - intval - 1 - 2
def execute string buf **kw fp String I O buf kw ['<stringbuffer>']if not kw key 'no reset kw reset True execute script fp **kw
def odnoklassniki oauth sig data client secret suffix md5 '{0 s s data token client secret .encode 'utf-8' .hexdigest check list sorted ['{0 s {1 s key value for key value in data if key ! 'access token ] return md5 ''.join check list + suffix .encode 'utf-8' .hexdigest
def  process os dirs starting dir template linters options summary results out for root dirs files in os starting dir if is skip dir SKIP DIRS root del dirscontinuedirs key lambda s s  process os dir root files template linters options summary results out 
def build path result tests name return build schema test name str name + u Tests schema {u'$ref' u + name } schema store SCHEMAS failing instances {roperties [rr u u Mountpoint u u u {esult u 'required' [{} {ountpoint u 'type' [[] u None passing instances [rr u Somethingwentwrong {rr u u Mountpoint u 
def unregister auth backend backend cls warn u auth backend isdeprecated Usereviewboard backends instead Deprecation Warning auth backends backend cls 
def truncate title title if not title return _ u none ' if len title > 25 return u % title 22] return title 
def  compare acl current desired region key keyid profile ocid  get canonical id region key keyid profile return   utils  ['boto3.json objs equal current  acl to grant desired ocid 
def  import db engine SQLITE global My S Q Ldbglobal sqliteif engine MYSQL import My S Q Ldbwarnings 'ignore' My S Q Ldb Warning if engine SQLITE try import sqlite3 as sqliteexcept import pysqlite2 as sqlite 
def pairs item list for i item1 in enumerate item list for item2 in item list i + 1 ] yield item1 item2 
def pretty match match string underline char '^' start match end match string  LINE R G X linesep string start line pos string linesep 0 start if start line pos -1 start line pos 0result []else result [string[ start line pos line pos + len linesep offset start - start line pos underline '' * offset + underline char * end - start end line pos string linesep end if end line pos -1 string string line pos ]result.append string result underline else end string end line pos + len linesep ]string string line pos end line pos string result underline result end return linesep result .rstrip
def  print hat  self expr return '\\hat{%s}' % str expr .lower
def module Moved For Split orig Module Name new Module Name module Desc project Name project U R L glob Dict warnings 'oved For Splitisdeprecatedsince Twisted9 Deprecation Warning stacklevel 2
def  save nodes workflow nodes for node in nodes if node type is 'kill' continuetry Node workflow workflow node type node type name node except Node Does Not Exist node 
def p optend p if len p 2 p p p None 
def initial has dependencies tree to process has dependencies []for n in tree include self True if n not in to process has dependencies n return has dependencies 
def mark safe s if isinstance s Safe Data return sif isinstance s str or isinstance s Promise and s delegate str return Safe String s if isinstance s unicode Promise return Safe Unicode s return Safe String str s 
def uuid4 if  uuid generate random  buffer ctypes string buffer 16  uuid generate random  buffer return UUID bytes  buffer try import osreturn UUID bytes os 16 version 4 except import randombytes [chr random 256 for i in range 16 ]return UUID bytes bytes version 4
def get doc hooks if not hasattr local u events hooks hooks get hooks u events {} out {}for key value in hooks if isinstance key tuple for doctype in key append hook out doctype value else append hook out key value local events hooks outreturn local events hooks 
def get size from backend context uri loc location location from uri uri store get store from uri context uri loc return store size loc 
def drop redundant messages messages sorted messages sorted messages key len reverse True filtered messages set for message in sorted messages for filtered message in filtered messages if message in filtered message breakelse filtered messages message return filtered messages 
def  get etree type etree e etree '<foo/>' return  get type e 
def render template string source **context ctx  app ctx stack template context context return  render ctx env string source context ctx 
def from edgelist edgelist create using None G  prep create using create using G edges from edgelist return G
def scala test name srcs deps [] resources [] source encoding None warnings None testdata [] **kwargs target Scala Test name srcs deps resources source encoding warnings testdata kwargs blade target target 
def alchemy to dict obj if not obj return Noned {}for c in obj  table  .columns value getattr obj c if type value datetime value value d valuereturn d 
def isabs s s splitdrive s [1]return len s > 0 and s 1] in  get bothseps s 
def is exiting return  exiting or  exiting is None 
@memoizedef check key ver return check version get key ver 
def pval lf Dmax n if n > 100 Dmax * n / 100.0 ** 0.49 n 100pval np -7.01256 * Dmax ** 2 * n + 2.78019 + 2.99587 * Dmax * np n + 2.78019 - 0.122119 + 0.974598 / np n + 1.67997 / n return pval 
def gl Buffer Data target data usage if isinstance data int size datadata ctypes voidp 0 else if not data C CONTIGUOUS'] or not data A L I G N E D data data 'C' data  datasize data .nbytesdata data .ctypes.datares  lib Buffer Data target size data usage 
def propagate method1 method2 if method1 for attr in INHERITED ATTRS if hasattr method1 attr and not hasattr method2 attr setattr method2 attr getattr method1 attr return method2 
def flatten fieldsets fieldsets field names []for name opts in fieldsets for field in opts if type field tuple field names field else field names field return field names 
def pth path return 'img/icons/ratings/' + path 
def heapreplace heap item returnitem heap item siftup heap 0 return returnitem 
@doctest decodef full path start Path files files list strings files base os start Path [0]return [os.path.join base f for f in files 
def new scratch view window text new view window file new view scratch True if is ST3 new view command 'append' {'characters' text else new edit new view edit new view new edit 0 text new view edit new edit return new view 
def collapse braces src text nesting 0start index 0collapsed src text u index char in enumerate src text if nesting 0 collapsed src text + charif char u if nesting 0 start index index + 1 nesting + 1if char u if nesting > 0 nesting - 1if nesting 0 collapsed src text + charif nesting ! 0 collapsed src text + src text index ]return collapsed src text 
def make paginated api response results None count 0 num pages 0 next link None previous link None return {'pagination' {'next' next link 'previous' previous link 'count' count 'num pages num pages 'results' results or [] }
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def copy index matrix A B index index rows False index cols False is diagonal False inplace False prefix None if prefix is None prefix find best blas type A B [0]copy prefix copy index matrix map not inplace B np B order 'F' try if not A f contig raise Value Error except A np A copy A B np index index rows index cols is diagonal return B
def attributes checker item attributes None try attrgetter *attributes item return Trueexcept Attribute Error return False 
def remove callable dic for key value in dic if callable value del dic dic 
def test read no header names No Header table 'ohn Mary Bob ascii table Reader ascii Fixed Width No Header names 'ame 'hone 'TCP' assert equal tuple dat 'ame 'hone 'TCP' assert equal dat 'ary assert equal dat '555-1234' assert equal dat '192.168.1.9'
def renewal file for certname config certname path os config configs dir '{0}.conf'.format certname if not os path raise errors Cert Storage Error 'ocertificatefoundwithname expected .'.format certname path return path 
def gradient image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy gradient image selem out out mask mask shift x shift x shift y shift y 
def key to english key english ''for index in range 0 len key 8 subkey key index + 8 ]skbin  key2bin subkey p 0for i in range 0 64 2 p p +  extract skbin i 2 skbin  key2bin subkey + chr p << 6 & 255 for i in range 0 64 11 english english + wordlist extract skbin i 11 ] + '' return english -1 ]
def  check mrk version header tags [rain Vision Data Exchange Marker File Version1 'rain Vision Data Exchange Marker File Version2 header not in tags raise Value Error 'urrentlyonlysupport not Contact M N E Developersforsupport % str tags header 
def on Global Bases Del key DEBUG MSG 'lobal Bases Del %s' % key 
def safe repr fmt *args **kwargs if not is py3 fmt fmt 'utf-8' out fmt *args **kwargs return out 'utf-8' else return fmt *args **kwargs
def skip doctest f f doctest Truereturn f 
def  quote escape item rex sqlquote re "'" re M return rex sqlquote "''" item 
def angle2trig theta c cos theta * pi / 180 s sin theta * pi / 180 return c s - s c 
@frappe.whitelist def delete items import jsonil json frappe dict u doctype frappe dict u for i d in enumerate il try frappe doc doctype d if len il > 5 frappe realtime u dict progress [ i + 1 len il ] title _ u Deleting .format doctype user frappe except Exception pass 
def tag detail request slug template name 'blog/tag detail **kwargs tag get object or 404 Tag name  iexact slug return list detail list request queryset Tagged Item by model Post tag .filter status 2 extra context {'tag' tag template name template name **kwargs
def rr Initialisation Request a Tp Pd pd 6 b Message Type mes Type 60 c Ciph Key Seq Nr And Mac Mode And Channel Coding Request e Mobile Station Classmark2 f Tlli g Channel Request Description h Gprs Measurement Results packet a / b / c / e / f / g / h return packet 
def default argv return ['--quick' '--colors No Color '--no-term-title' '--no-banner' '--autocall 0']
def cherrypy logging log path log handler log cherrypy file ''log.error file 'ytes getattr log 'rot max Bytes 524288 backup Count getattr log 'rot backup Count 3 fname getattr log 'rot error file log path h log handler fname 'a' max Bytes backup Count h Level logging D E B U G h Formatter cherrypy cplogging log log Handler h 
def  unwrap dict dictionary index string index index string ' ' for k in index dictionary dictionary dictionary 
def libvlc audio get track p mi f  Cfunctions 'libvlc audio get track None or  Cfunction 'libvlc audio get track 1 None ctypes int Media Player return f p mi 
def lcm a b tmp a awhile tmp a % b ! 0 tmp a + areturn tmp a 
def  serialize blobs artifact blobs {}for blob in artifact serialized blob []if isinstance blob declarative List Attribute Definition for b in blob value artifact or [] serialized blob {'size' b 'locations' b 'checksum' b 'item key b key else b blob value artifact if not b continueserialized blob {'size' b 'locations' b 'checksum' b 'item key b key blobs serialized blobreturn blobs 
def get url conn urlopen url resp conn conn return resp 
def get model from url params app name model name model registry by natural key app name model name if model is None raise Http404return model 
def make linear colorscale colors scale 1.0 / len colors - 1 return [[ i * scale color for i color in enumerate colors ]
def pagebreak type 'page' orient 'portrait' validtypes ['page' 'section']if type not in validtypes tmpl 'agebreakstyle Validstyles %s.'raise Value Error tmpl % type validtypes pagebreak makeelement 'p' if type 'page' run makeelement 'r' br makeelement 'br' attributes {'type' type run br pagebreak run elif type 'section' p Pr makeelement 'r sect Pr makeelement 'r if orient 'portrait' pg Sz makeelement 'z attributes {'w' '12240' 'h' '15840'} elif orient 'landscape' pg Sz makeelement 'z attributes {'h' '12240' 'w' '15840' 'orient' 'landscape'} sect Pr pg Sz p Pr sect Pr pagebreak p Pr return pagebreak 
def hello1 return 'ello World 
def get timezone zone None if zone is None return L O C A L T Zif not isinstance zone string types return zonetry return  pytz zone except  pytz Unknown Time Zone Error raise Lookup Error 'nknowntimezone % zone 
def lang exists cursor lang query " E L E C Tlanname F R O Mpg language W H E R Elanname '%s'" % lang cursor query return cursor > 0
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def test tab completion delete qtmodeltester fake web tab qtbot app stub win registry tabbed browser stubs tabbed browser stubs [fake web tab Q Url 'https //github.com' 'it Hub 0 fake web tab Q Url 'https //wikipedia.org' 'ikipedia 1 fake web tab Q Url 'https //duckduckgo.com' 'uck Duck Go 2 ]tabbed browser stubs [fake web tab Q Url 'https //wiki.archlinux.org' 'rch Wiki 0 ]model miscmodels Tab Completion Model qtmodeltester display may return none Trueqtmodeltester model view  mock view index model 0 1 qtbot qtbot widget view model cur item view actual [tab.url for tab in tabbed browser stubs actual [ Url 'https //github.com' Q Url 'https //duckduckgo.com' ]
@float32 float Xdef test stochasatic pool samples ds 3stride 3rng numpy Random State 220 data rng 0 10 size 1 ds ds 1 .astype 'float32' x theano s max stochastic max pool c01b x ds ds stride stride f theano [x] s max mode mode with gpu samples []for i in xrange 300 samples numpy f data [ 0 0 0 0 ] counts Counter samples data data ds * ds data data data -1 ]for i in range len data - 1 assert counts > counts i + 1 ]]
def test epochs copy raw events picks  get data epochs Epochs raw events 5] event id tmin tmax picks picks preload True reject reject flat flat copied epochs assert array equal epochs data copied data epochs Epochs raw events 5] event id tmin tmax picks picks preload False reject reject flat flat copied epochs data epochs data copied data copied data assert array equal data copied data 
def next rising utc hass entity id None entity id entity id or ENTITY ID state hass ENTITY ID try return dt util datetime state S T A T E ATTR NEXT RISING] except Attribute Error Key Error return None 
def get rollback name return  proxy cmd 'get rollback name 
def  prepare lab array arr arr np arr shape arr shape -1 ] < 3 raise Value Error 'nputarrayhaslessthan3colorchannels return dtype as float arr force copy True 
def Get Child Node Text node child tag default '' for child in node if Get Tag child child tag return child or default return default 
def get python inc plat specific 0 prefix None if prefix is None prefix plat specific and EXEC PREFIX or PREFIX if os 'posix' if python build buildir os sys if plat specific inc dir buildirelse srcdir os os buildir get config var 'srcdir' inc dir os srcdir 'nclude return inc dirreturn os prefix 'include' 'python' + get python version elif os 'nt' return os prefix 'include' elif os 'os2' return os prefix 'nclude else raise Distutils Platform Error "don Pythoninstallsits Cheaderfilesonplatform % os 
def prepare commentdoc s result []lines [line.strip for line in s .splitlines ]for line in lines if line '# ' line line ]if line and line '' line line ]result.append line if result and result -1 ] result '' return result 
def supports S Reg endpoint return endpoint Extension ns uri 1 1 or endpoint Extension ns uri 1 0
def ciphering Mode Command a Tp Pd pd 6 b Message Type mes Type 53 c Rr Cause d Cipher Mode Setting Andcipher Response packet a / b / c / d return packet 
def resolve i18n message message messages locale default locale None if not message or not isinstance message basestring return messagematch MSG R E message if match is None return messagelocale find language locale if default locale default locale find language default locale msgid match 'msgid' default {'message' message locale in messages message messages msgid default elif default locale in messages message messages locale msgid default if not isinstance message dict return default message 
def save auto data filename pass 
def merge service dicts from files base override version new service merge service dicts base override version if u in override new service override u in base new service base new service 
def  extract variants address variants str def entries for entry in variants str u ' key _ value entry u ' if not key or not value raise Value Error u Invalidvariantsafterthe {}'.format address yield key value return tuple entries 
def call hook message attachment None color 'good' short False identifier None channel None username None icon emoji None base url 'https //hooks.slack.com/services/'if not identifier identifier  get hook id url  urljoin base url identifier if not message log 'messageisrequiredoption' if attachment payload {'attachments' [{'fallback' message 'color' color 'pretext' message 'fields' [{'value' attachment 'short' short payload {'text' message channel payload channelif username payload usernameif icon emoji payload emoji icon emojidata  urlencode {'payload' json payload ensure ascii False } result salt url method 'POST' data data status True if result < 201 return Trueelse return {'res' False 'message' result 'body' result }
def unsafe f f callable Truereturn f 
def get wake on network ret salt utils return result 'systemsetup-getwakeonnetworkaccess' return salt utils enabled salt utils return ret 'on'
def do reverse value if isinstance value string types return value -1 ]try return reversed value except Type Error try rv list value rv return rvexcept Type Error raise Filter Argument Error 'argumentmustbeiterable'
def set option option invalue return  ldap function call None  ldap option option invalue 
def ghost x depth boundary depth2 coerce depth x depth boundary2 coerce boundary x boundary depth values [depth2.get i 0 for i in range x ]for d c in zip depth values x if d > min c raise Value Error 'heoverlappingdepth Rechunkyourarray % d min c x2 boundaries x depth2 boundary2 x3 ghost internal x2 depth2 trim dict k v * 2 if boundary2 k 'none' ! 'none' else 0 for k v in depth2 x4 chunk x3 trim return x4 
def Time Series data None x None y None builder type Line Builder **kws builder type BUILDER T Y P E S builder type builder type kws xkws yreturn create and build builder type data **kws
def sync from db f @functools.wraps f def wrapper self *args **kwargs if self time to sync self cell db sync return f self *args **kwargs return wrapper 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def description of file name 'stdin' u Universal Detector for line in file u line u result u result return '%s %swithconfidence%s' % name result result else return '%s noresult % name 
def check id ID name u I D config None pos None if ID is not None and not xml check id ID warn or raise W02 W02 name ID config pos return Falsereturn True 
def valid window lengths underlying buffer length return iter range 1 underlying buffer length + 1
def add env url saltenv if not url 'salt //' return url path senv parse url return create path saltenv 
def decrypt master key master key cipher private key key R S A Key private key cipher PKCS1 O A E P key return cipher master key cipher 
def direct delete container node part account container conn timeout 5 response timeout 15 headers None if headers is None headers {}path '/%s/%s' % account container add timestamp 'x-timestamp' not in k for k in headers  make req node part 'DELETE' path gen headers headers add timestamp 'ontainer conn timeout response timeout 
def  tokenize description empty  matching String u description colon  matching String u ' description equals  matching String u ' description backslash  matching String u description current emptyops colon + equals next Ops {colon colon + equals equals colon iter iterbytes description for n in iterdesc if n in iterbytes ops yield  STRING current yield  OP n current emptyops next Ops n backslash current + next iterdesc else current + n yield  STRING current 
def write ctf comp fid comps if len comps < 0 returnstart block fid FIFF.FIFFB MNE CTF COMP for comp in comps start block fid FIFF.FIFFB MNE CTF COMP DATA write int fid FIFF.FIFF MNE CTF COMP KIND comp if comp 'save calibrated False write int fid FIFF.FIFF MNE CTF COMP CALIBRATED comp calibrated if not comp 'save calibrated True comp deepcopy comp data 1.0 / comp None * comp * 1.0 / comp None ] comp datawrite named matrix fid FIFF.FIFF MNE CTF COMP DATA comp end block fid FIFF.FIFFB MNE CTF COMP DATA end block fid FIFF.FIFFB MNE CTF COMP
def python compiler return  sys version [6]
def  rfc3339 nanos to datetime dt str with nanos  RFC3339 N A N O S dt str if with nanos is None raise Value Error 'imestamp %r doesnotmatchpattern %r' % dt str  RFC3339 N A N O S bare seconds datetime with nanos 'no fraction  RFC3339 NO FRACTION fraction with nanos 'nanos' if fraction is None micros 0else scale 9 - len fraction nanos int fraction * 10 ** scale micros nanos // 1000 return bare seconds microsecond micros tzinfo UTC
def  translate conductor summary view context vol image id None d {}d['id'] vol vol vol zone vol zone at vol at name vol name description vol description vol type id and vol 'conductor type d type vol type d type str vol type id L O G _ 'vol %s' vol context context if vol 'conductor metadata metadata vol 'conductor metadata d dict item item for item in metadata elif vol 'metadata' and isinstance vol 'metadata' dict d vol d {}if vol 'conductor glance metadata d 'true'else d 'false'return d 
def get start command package result 'gcloud' 'beta' 'emulators' package 'start' extra E X T R A package return result + extra 
def inherit name object Type clear existing acl False ret {'name' name 'result' True 'changes' {} 'comment' 'et   salt  ['win dacl inheritance name object Type if t Ret if not t Ret Inheritance if   opts  ['test'] ret Noneret Inheritance 'nabled 'nheritanceissettobeenabled Existing A C Ls 'resettoberemoved if clear existing acl else 'resettobekept return rete Ret   salt  ['win dacl inheritance name object Type clear existing acl if e Ret ret Trueret dict ret *et else ret Falseret ''.join [ret['comment'] e Ret elif   opts  ['test'] ret Noneret 'nheritanceisenabled ret Falseret t Ret ret 
def  pick error log interpretation def yield errors for log type in 'step' 'history' 'task' errors log interpretation log type {} .get 'errors' for error in errors or yield error errors  merge and sort errors yield errors if errors return errors return None 
def get test packages all packages get package directories local diff local diff branch parser get parser args parser args if args is not UNSET SENTINEL verify packages args all packages return sorted args elif local diff is not None changed packages get changed packages 'HEAD' local diff all packages return follow dependencies changed packages all packages elif in travis changed packages get travis directories all packages return follow dependencies changed packages all packages else return all packages 
def enforced Local Path relpath dirpath context 'ath parsed dir urlparse dirpath parsed rel urlparse relpath if parsed rel not in 'file' '' raise Core Known Unknown '%spathmustbealocalfilepath absoluteor //" not % context relpath if parsed dir not in 'file' '' and parsed rel ! 'file' raise Core Known Unknown '%spathmuststartwith"file //"inaremoteconfiguration "%s"relativeto%s ' % context relpath dirpath if parsed rel 'file' return parsed rel parsed dir 'file' return urljoin parsed dir parsed rel return pathjoin dirpath relpath 
def  do imports components done {}for name in components if name in done continuer  do import name if r is False return Falsemembers dict inspect sys done r sys members return done 
@logic.validate logic package list schema def current package list with resources context data dict model context data dict 'limit' offset data dict 'offset' 0 user context not 'offset' in data dict and 'page' in data dict log 'sethe page data dict limit offset page - 1 * limit else offset 0 check access 'current package list with resources context data dict search package search context {'q' '' 'rows' limit 'start' offset 'include private authz sysadmin user } return search 'results' []
def  immediately after node try pos node tree node current node except Attribute Error return []idx len pos - 1 while 0 < idx and pos len current - 1 idx - 1current current if idx < 0 return []pos list pos idx + 1 ] pos -1 ] + 1after tree [after] +  leftmost descendants after 
def post detail request slug year month day **kwargs posts Noneif request superuser posts Post else posts Post return date based detail request year year month month day day date field 'publish' slug slug queryset posts **kwargs
def test wheel no compiles pyc script data script 'install' '--no-compile' 'simple.dist 0.1' '--no-index' '--find-links ' + data links exists [os.path.exists script packages path / 'simpledist/  init  .pyc' ]exists + glob script packages path / 'simpledist/  pycache  /  init  *.pyc' assert not any exists 
@register u def edit and execute event buff event bufferbuff in editor event buff action and handle event buff 
def usecase5 x N for k in range N print x x x 
def texinfo check build if sys ! 'win32' if os 'sphinx-build-btexinfo-dbuild/doctrees.build/texinfo' raise System Exit 'uilding Texinfofailed os 'build/texinfo' if os 'make' raise System Exit 'endering Texinfofailed os '../..' else print 'texinfobuildhasnotbeentestedonwindows'
def fixed ip get by instance context instance uuid return I M P L ip get by instance context instance uuid 
def test strongly typed events def f global calledcalled Trueglobal calledcalled Falseev Iron Python Test Events ev Instance Test + Iron Python Test Event Test Delegate f ev Call Instance Are Equal called True called Falseev Instance Test - Iron Python Test Event Test Delegate f ev Call Instance Are Equal called False 
def reap fileserver cache dir cache base find func for saltenv in os cache base env base os cache base saltenv for root dirs files in os env base if len dirs 0 and len files 0 if time - os root > 60 os root continuefor file  in files file path os root file  file rel path os file path env base try filename _ hash type file rel path '.' 2 except Value Error log 'oundinvalidhashfile file  continueret find func filename saltenv saltenv if ret '' os file path 
def month by abbreviation abbrev try return [s[ 3] for s in ENGLISH MONTH N A M E S abbrev + 1 except Value Error return None 
def parse megam weights s features count explicit True if numpy is None raise Value Error 'hisfunctionrequiresthatnumpybeinstalled assert explicit 'non-explicitnotsupportedyet'lines s .split '\n' weights numpy features count 'd' for line in lines if line fid weight line weights fid ] float weight return weights 
def test cnot if not mpl skip 'matplotlibnotinstalled' else from sympy import Circuit Plotc Circuit Plot CNOT 1 0 2 labels labeller 2 assert c 2 assert c 2 assert c ['q 1' 'q 0'] c Circuit Plot CNOT 1 0 2 assert c 2 assert c 2 assert c []
def dup sub mul f g h K return dup sub f dup mul g h K K
def  find required chars block range full coverage required exceptions chars defined in block  defined characters in range block range if full coverage required return chars defined in blockelse if not exceptions return set if exceptions  EXCEPTION STARTER exceptions exceptions  EXCEPTION STARTER ]chars to exclude  multiple range string to set exceptions return chars defined in block - chars to exclude else chars to limit to  multiple range string to set exceptions return chars defined in block & chars to limit to 
def generate argument parser for metadata metadata parameters metadata argparse Argument Parser description metadata for parameter name parameter options in parameters name parameter name '_' '-' description parameter options type parameter options parameter options 'required' False default value parameter options 'default' None immutable parameter options 'immutable' False if immutable continueargs [ '--%s' % name ]kwargs {'help' description 'required' required default value is not None kwargs default valueif  type 'string' kwargs strelif  type 'integer' kwargs intelif  type 'boolean' if default value is False kwargs 'store false kwargs 'store true argument *args **kwargs return parser 
def Eval Exponential Cdf x lam return 1 - math - lam * x 
def  sphinx version major minor micro level serial sys inforelease '%s%s' % major minor if micro release + '%s' % micro if level 'candidate' release + 'rc%s' % serial elif level ! 'final' release + '%s%s' % level serial return release 
def check course access course key user None ip address None url None if not settings F E A T U R E S 'EMBARGO' return Truecourse is restricted Restricted Course restricted course course key if not course is restricted return Trueif user is not None and has course author access user course key return Trueif ip address is not None user country from ip  country code from ip ip address if not Country Access Rule country access course key user country from ip log u Blockinguser I Paddress getattr user 'id' 'ot Authenticated course key url ip address user country from ip return Falseif user is not None user country from profile  get user country from profile user if not Country Access Rule country access course key user country from profile log u Blockinguser user course key url user country from profile return Falsereturn True 
def single source dijkstra G source target None cutoff None weight 'weight' return multi source dijkstra G {source} cutoff cutoff target target weight weight 
def  set reply headers new message previous message if previous message id header new message reply to previous message id headerif previous message new message previous message + [previous message id header else new message [previous message id header 
def  Log Invalid Run Levels states valid invalid set for state in states if state not in valid invalid state if invalid logging 'nvalidinitrunlevel s encountered %s' ' '.join invalid 
def sync modules saltenv 'base' return salt   opts   'modules' saltenv saltenv [0]
def generate filename and delete previous ffile name before delete None new filename ffile filename ffile name try orig instance ffile  class  .objects.get id ffile orig field file getattr orig instance ffile orig filename orig field file orig filename and new filename ! orig filename if before delete before delete orig field file orig field file except ffile  class  .oes Not Exist passreturn new filename 
def intersection *entities from .entity import Geometry Entityfrom .point import Pointif len entities < 1 return []entities list entities for i e in enumerate entities if not isinstance e Geometry Entity try entities Point e except Not Implemented Error raise Value Error 'eometry Entityandcannotbemadeinto Point % str e res entities entities for entity in entities ] newres []for x in res newres x entity res newresreturn res 
def get exog N num nonconst covariates cor length uncorrelated exog sp N num nonconst covariates if cor length 0 exog uncorrelated exogelse cov matrix sp num nonconst covariates num nonconst covariates j sp num nonconst covariates for i in range num nonconst covariates cov matrix ] sp - sp i - j / cor length chol linalg cov matrix exog sp uncorrelated exog chol return exog 
def in6 iseui64 x eui64 inet pton socket A F INET6 ' ff fe00 0' x in6 and inet pton socket A F INET6 x eui64 return x eui64 
def probabilistic hough line img threshold 10 line length 50 line gap 10 theta None if img ! 2 raise Value Error 'heinputimage D if theta is None theta np - np / 2 np / 2 180 return  probabilistic hough line img threshold line length line gap theta 
def test list json script data script 'install' '-f' data links '--no-index' 'simple 1.0' 'simple2 3.0' result script 'list' '--format json data json result assert {'name' 'simple' 'version' '1.0'} in data assert {'name' 'simple2' 'version' '3.0'} in data 
def setup args parser cli arg parser parser argument '-j' '--uuid' required True help ' U I Dofthe Virtual Machineyouwanttoaddanoteto parser argument '-m' '--message' required True help 'essagetoaddtothenotesfield my args parser args return cli for password my args 
def dictadd *dicts result {}for dct in dicts result dct return result 
def near identical im1 im2 diff Image Chops im1 im2 .histogram for color in diff ] if color return Falsereturn True 
def normalize resource url resource url try protocol name split resource url resource url except Value Error protocol u resource urlif protocol u and os name protocol u //'name normalize resource name name False None elif protocol u protocol u //'name normalize resource name name False None elif protocol u protocol u 'name normalize resource name name True else protocol + u //'return u [protocol name 
def stop On Error case reactor publisher None if publisher is None from twisted import log as publisherrunning [one stop If Error event if running and event 'rror running reactor publisher Observer stop If Error case Cleanup publisher Observer stop If Error 
def has pattern try from pattern import parsereturn Trueexcept Import Error return False 
def import optional mod name try return import module mod name except Import Error passexcept Exception msg 'ailedtoimportoptionalmodule mod name logger msg 
def get default hparams return H Params batch size 64 residual blocks 2 n couplings 2 n scale 4 learning rate 0.001 momentum 0.1 decay 0.001 l2 coeff 5e-05 clip gradient 100.0 optimizer 'adam' dropout mask 0 base dim 32 bottleneck 0 use batch norm 1 alternate 1 use aff 1 skip 1 data constraint 0.9 n opt 0
def rootcontext cls cls enforce context manager cls 
def stub set host enabled context host name enabled results {rue 'enabled' False 'disabled'}if host name 'notimplemented' raise Not Implemented Error elif host name 'dummydest' raise exception Compute Host Not Found host host name elif host name 'service not available raise exception Compute Service Unavailable host host name elif host name 'host c2 return results not enabled ]else return results 
def sum entries operator return lo Lin Op lo S U M ENTRIES 1 1 [operator] None 
def  write data writer data data data '&' '&amp;' .replace '<' '&lt;' data data '"' '&quot;' .replace '>' '&gt;' writer data 
def randompass import randomimport stringrandom lower ''.join random string lowercase for x in range 6 upper ''.join random string uppercase for x in range 6 number ''.join random string for x in range 6 punct ''.join random string for x in range 6 p lower + upper + number + punct return ''.join random p len p 
def decode mailbox name name def demodify m s m if s '+' return '+-'return '+' + s -1 ].replace ' ' '/' + '-' ret MUTF7 SHIFT R E demodify name try return ret 'utf-7' .encode 'utf-8' except Unicode Decode Error Unicode Encode Error return name 
def get seq lengths seq lengths bc counts all seq lengths seq lengths all seq ids set seq lengths bad seq ids set bc counts None .union set bc counts F A I L E D good seq ids all seq ids - bad seq ids good seq lengths map seq lengths  getitem   good seq ids return all seq lengths good seq lengths 
def run  task 
def ds add ds days ds datetime ds ' if days ds ds + timedelta days return ds [ 10]
def  genbank convert fasta in handle out handle alphabet None from Bio Gen Bank Scanner import Gen Bank Scannerrecords Gen Bank Scanner .parse records in handle do features False return Seq I O records out handle 'fasta'
def get project root settings mod   import   settings S E T T I N G S MODULE {} {} [''] return os os settings mod  file  
def stream func @wraps func def wrapped manager *args **kwargs offset limit kwargs ' offset None kwargs ' limit None qs func manager *args **kwargs if isinstance qs dict qs manager **qs elif isinstance qs list tuple qs manager *qs if offset or limit qs qs limit qs generic relations return wrapped 
def list cats default True lst [cat['name'] for cat in config ordered categories ]if default lst '*' lst 0 'efault return lst 
def twinx ax None if ax is None ax gca ax1 ax draw if interactive return ax1 
def get stylesheet list settings assert not settings and settings path 'stylesheetandstylesheet patharemutuallyexclusive settings path or settings or [] if not isinstance stylesheets list stylesheets [path.strip for path in stylesheets ' ' ]return [find file in dirs path settings dirs for path in stylesheets 
def numpy cupy array almost equal decimal 6 err msg '' verbose True name 'xp' type check True accept error False def check func x y array array almost equal x y decimal err msg verbose return  make decorator check func name type check accept error 
def search tree root glob match ext found files []for path in glob os root glob match if path ext found files path else for root dirs files in os path for file in files if file ext found files os root file return sorted found files 
def test install editable uninstalls existing from path script data to install data 'simplewheel-1.0' result script install local to install assert 'uccessfullyinstalledsimplewheel in result simple folder script packages / 'simple' result installed 'simple' editable False assert simple folder in result created str result result script 'install' '-e' to install install path script packages / 'simplewheel.egg-link' assert install path in result created str result assert 'oundexistinginstallation simplewheel1 in result assert 'ninstallingsimplewheel in result assert 'uccessfullyuninstalledsimplewheel in result assert simple folder in result deleted str result 
def execute action doctype name action **kwargs doc frappe doc doctype name doc try getattr doc action **kwargs except Exception frappe if frappe log msg json frappe log -1 ] .get u else msg u + frappe traceback + u doc comment u Comment _ u Action Failed + u + msg doc update 
def secs to timestr secs compact False return  Secs To Timestr Helper secs compact .get value 
def process article args text lemmatize title pageid argstext filter wiki text if lemmatize result utils text else result tokenize text return result title pageid 
def  decrypt ciphertext cipher translate newlines False cmd [ get gpg exec '--homedir'  get key dir '-d']proc Popen cmd stdin PIPE stdout PIPE stderr PIPE shell False decrypted data decrypt error proc input cipher '\\n' '\n' if translate newlines else cipher if not decrypted data log 'ouldnotdecryptcipher received %s' cipher decrypt error return cipherelse return str decrypted data 
def find audio period aclip t min 0.1 t max 2 t res 0.01 chunksize int t res * aclip chunk duration 1.0 * chunksize / aclip v np [ c ** 2 .sum for c in aclip chunks chunksize ] v v - v corrs np v v mode 'full' [ - len v ]corrs[ int t min / chunk duration ] 0corrs[int t max / chunk duration ] 0return chunk duration * np corrs 
def get Tricomplexskew X transform Words skew X math math float transform Words return [complex 1.0 0.0 complex skew X 1.0 complex ]
def dictreverse d return dict [ v k for k v in d ]
def TR1 rv def f rv if rv is sec a rv S One / cos a elif rv is csc a rv S One / sin a return rvreturn bottom up rv f 
def dup legendre n K seq [ [ K i in range 2 n + 1 a dup mul ground dup lshift seq -1 ] 1 K K 2 * i - 1 i K b dup mul ground seq -2 ] K i - 1 i K seq dup sub a b K return seq 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def benchmark Func iter args def decorator func benchmark Funcs func args iter return funcreturn decorator 
def get filepaths dire return read in os dire 'FILEPATHS'
def compare config return   proxy  ['napalm.call'] 'compare config **{}
def error page 404 status message traceback version return '\n<html>\n<head>\n<scripttype "text/javascript">\n<!--\nlocation.href location location \'+location.port \'\' +\'/sabnzbd/\';\n//-->\n</script>\n</head>\n<body><br/></body>\n</html>\n'
def notification if c for e in c print event e print Nicely '' else print Nicely magenta 'othingatthistime 
def qnwcheb n a 1 b 1 return  make multidim func  qnwcheb1 n a b 
def line2d p0 p1 x0 y0 p0 2] x1 y1 p1 2]if x0 x1 a -1 b 0c x1elif y0 y1 a 0b 1c - y1 else a y0 - y1 b x0 - x1 c x0 * y1 - x1 * y0 return a b c 
def parse timedelta val if not val return Noneval val if '.' in val val float val return timedelta hours int val minutes 60 * val % 1.0 f Hour 'h' in val or ' ' in val f Min 'm' in val or ' ' in val for noise in 'minu teshour ' val val noise '' val val val val hr 0.0mi 0val.reverse if f Hour hr int val if f Min mi int val if len val > 0 and not hr hr int val return timedelta hours hr minutes mi 
def Set Variable output variable name value output 'set ' output variable name output '"' output C Make String Escape value output '" \n'
def check or raise id value message u W A M Pmessageinvalid if type value not in six types raise Protocol Error u invalidtype I D message type value if value < 0 or value > 9007199254740992 raise Protocol Error u invalidvalue I D message value return value 
def get String value return str value 
def Str *strs if len strs 1 return Str1 strs else result Alt *tuple map Str1 strs result 'tr %s ' % ' '.join map repr strs return result 
def tgrep tokenize tgrep string parser  build tgrep parser False if isinstance tgrep string binary type tgrep string tgrep string return list parser String tgrep string 
def  csr matrix indices S m n S i in range m for j in range S S i + 1 ] row index col index i S yield row index col index 
def list from csv comma separated str if comma separated str return [v.strip for v in comma separated str ' ' if v ]return []
def draw if interactive pass 
def test find number 4 s 'thequickbrownfox54.6jumped'r find number s assert s r '54.6'
def scan multilang tokens module elem tokenizer perl lexer Perl Multi Lang Lexer tokens parser perl parser Parser tokenizer lang 'erl H T M L provide full docs g Provide Full Docs parser Name ''parser.parse parse tree parser CIX No Header module elem csl tokens tokenizer csl tokens return csl tokens tokenizer perl code 
def  allocate data data data buffer data shape dtype if data is None if isinstance data buffer string types data np data buffer mode 'w+' dtype dtype shape data shape else data np data shape dtype dtype return data 
def escape md section text snob False text md backslash matcher '\\\\\\1' text if snob text md chars matcher all '\\\\\\1' text text md dot matcher '\\1\\\\\\2' text text md plus matcher '\\1\\\\\\2' text text md dash matcher '\\1\\\\\\2' text return text 
def embed id x W ignore label None return Embed I D Function ignore label ignore label x W
def sort fasta by abundance fasta lines fasta out f seq index {}count 0for seq id seq in parse fasta fasta lines count + 1try seq index seq id except Key Error seq index [seq id []for k v in seq index seqs len v k v del seq index for count seq seq ids in seqs -1 ] for seq id in seq ids fasta out f '>%s\n%s\n' % seq id seq 
def oo pods match component pods deployment type component if not isinstance pods list raise errors Ansible Filter Error 'failedexpectstofilteronalist' if not isinstance deployment type string types raise errors Ansible Filter Error 'failedexpectsdeployment typetobeastring if not isinstance component string types raise errors Ansible Filter Error 'failedexpectscomponenttobeastring' image prefix 'openshift/origin-'if deployment type in ['enterprise' 'online' 'openshift-enterprise'] image prefix 'openshift3/ose-'elif deployment type 'atomic-enterprise' image prefix 'aep3 beta pods []image regex image prefix + component + '.*' for pod in pods for container in pod if re image regex container matching pods pod breakreturn matching pods 
def move in stack move up frame Frame selected python frame while frame if move up iter frame frame else iter frame frame if not iter frame breakif iter frame python frame if iter frame iter frame summary returnframe iter frameif move up print 'nabletofindanolderpythonframe else print 'nabletofindanewerpythonframe 
def maintenance period 'daily' maintenance Noneresult 'ot Implemented Error settings template if templates ! 'default' template location settings template location if not isinstance templates tuple list templates templates for template in templates -1 ] package 'applications.%s.%s.templates.%s' % appname template location template name 'maintenance'try maintenance getattr   import   package fromlist [name] name except Import Error Attribute Error passelse breakif maintenance is None try from templates import maintenanceexcept Import Error passif maintenance is not None if period 'daily' result maintenance Daily db return result 
def Seconds Since timestamp return time - timestamp 
def safe indexing X indices if hasattr X 'iloc' try return X Value Error warnings 'opyinginputdataframeforslicing Data Conversion Warning return X .iloc[indices]elif hasattr X 'shape' if hasattr X 'take' and hasattr indices 'dtype' and indices 'i' return X indices axis 0 else return X return [ for idx in indices 
def all templates templates defaultdict list for category descriptor in X Block classes if not hasattr descriptor 'templates' continuetemplates descriptor return templates 
def strip html content to text html content text content re ' \\s|&nbsp;|// +' '' html to text html content text content re '<!\\[CDATA\\[.*\\]\\]>' '' text content text content re '<!--.*-->' '' text content return text content 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
def copy location new node old node for attr in 'lineno' 'col offset if attr in old node attributes and attr in new node attributes and hasattr old node attr setattr new node attr getattr old node attr return new node 
def find variant name version None prod Nonefor prod in SUPPORTED VARIANTS if prod name if version is None return prod prod version for v in prod if v version return prod v return None None 
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def test bad module all testsdir os   file   sys 0 testsdir try results module completion 'frombad allimport nt in 'puppies' results for r in results nt is instance r str finally sys testsdir 
def ipfunc return 'ipfunc'
def filter oauth params params is oauth lambda kv kv u ' if isinstance params dict return list filter is oauth list params else return list filter is oauth params 
def quote c assert isinstance c bytes and len c 1 c ord c return ESCAPE + bytes HEX[ c // 16 ] HEX[ c % 16 ]
def gcd *a if len a > 1 return reduce gcd2 a if hasattr a '  iter  ' return reduce gcd2 a return a 
def test evoked baseline evoked read evokeds fname condition 0 baseline None evoked Evoked Array np like evoked evoked evoked evoked baseline None None assert allclose evoked np like evoked 
def naive grouped rowwise apply data group labels func func args out None if out is None out np like data for row label row out row in zip data group labels out for label in np label row locs label row label out row func row *func args return out 
def sanitize filename filename if isinstance filename str unicode filename re u u filename filename re u "<>|?]' u filename filename re u u filename filename filename u return filenamereturn u 
def multi constructor import loader tag suffix node if '.' not in tag suffix raise yaml Y A M L Error "!import tagsuffixcontainsno return try to import tag suffix 
def nova docstring multiline start physical line previous logical tokens if is docstring physical line previous logical pos max [physical line i for i in START DOCSTRING TRIPLE] if len tokens 0 and pos ! -1 and len physical line pos + 4 if physical line in START DOCSTRING TRIPLE return pos 'N404 multilinedocstringshouldstartwithasummary 
def  is import valid documents return isinstance documents list and all isinstance d dict for d in documents and all all k in d for k in 'pk' 'model' 'fields' for d in documents and all all k in d for k in 'uuid' 'owner' for d in documents 
def rebuild node doctype parent left parent field from frappe import nown now right left + 1 result frappe u S E L E C Tname F R O M W H E R E %s' % doctype parent field u parent for r in result right rebuild node doctype r right parent field frappe u U P D A T E S E Tlft %s rgt %s modified %s\n DCTB DCTB W H E R Ename %s'.format doctype left right n parent return right + 1
def parse neighbors graph neighbors vars [] graph defaultdict list for var in vars graph []specs [spec.split ' ' for spec in neighbors ';' ]for v v neighbors in specs v v graph v [] for u in v neighbors graph u graph v return graph 
@deprecated 'hefunctionsample gaussianisdeprecatedin0 Usenumpy normalinstead def sample gaussian mean covar covariance type 'diag' n samples 1 random state None  sample gaussian mean covar covariance type 'diag' n samples 1 random state None 
def p4 system cmd real cmd p4 build cmd cmd expand isinstance real cmd six types retcode subprocess real cmd shell expand if retcode raise Called Process Error retcode real cmd 
@pytest.mark.skipif ' A S YAML' def test ecsv astropy objects in meta t Q Table [ [1 2] * u [4 5]] names ['a' 'b'] tm  get time c Sky Coord [[1 2] [3 4]] [[5 6] [7 8]] unit 'deg' frame 'fk4' obstime Time '2016-01-02' location Earth Location 1000 2000 3000 unit u unit u / u t {'tm' tm 'c' c 'unit' unit String I O t out format 'ascii.ecsv' t2 Q Table out format 'ascii.ecsv' compare time tm t2 compare coord c t2 assert t2 unit 
def set vif guest frontend config conf mac model driver conf addr macif model is not None conf modelif driver is not None conf name driver 
def  get callback info callback module name getattr callback '  module  ' None func name callback  name  if inspect callback class name reflection class name callback  self   fully qualified False return [module name class name func name return [module name func name 
def check endpoint url url substitutions dict zip WHITELISTED PROPERTIES itertools '' try url '$ ' '% ' % substitutions except Key Error Type Error Value Error raise exception U R L Validation Error url 
def p initializer list 1 t pass 
def final touches s2 r deg g R s2 r - 1 for i in range s2 if R[ 0 i ] 0 continueelse breakmr s2 - i + deg g + 1 i 0while mr ! 0 and r + i < s2 s2 r + i ] rotate r R i + 1 i + 1mr - 1return s2 
def current route path request *elements **kw return request route path *elements **kw
def  get vistara configuration return {'client id   opts  ['vistara']['client id 'client key   opts  ['vistara']['client key 'client secret   opts  ['vistara']['client secret 
def set token unique key token str result memcache unique key token str if not result result memcache unique key if result 0 return Falseif Token key name unique key t token str .put return Truereturn None 
def sync output saltenv 'base' return salt   opts   'output' saltenv saltenv [0]
def convert to uuids migrate engine primary table name foreign tables revision table name None dropped fk constraints drop constraints and alter types primary table name foreign tables revision table name add fk constraints migrate engine dropped fk constraints primary table name create uuids migrate engine primary table name revision table name 
def remove filename outliers filename return  filename version re '<version>/' filename 
def redis key user domain return [ 'ratelimit %s %s %s %s' % type user user domain keytype for keytype in ['list' 'zset' 'block']]
def strseq object convert join joinseq if type object in list tuple return join map lambda o c convert j join strseq o c j object else return convert object 
def do lzop get creds url path decrypt do retry True blobstore get blobstore storage Storage Layout url return blobstore lzop get creds url path decrypt do retry do retry 
def split fasta on sample ids to dict seqs result {}for sample id seq id seq in split fasta on sample ids seqs try result id seq id seq except Key Error result id [ seq id seq ]return result 
def Render To Response handler template file template params template params  Get Default Params template params rendered  template  Get Template Path template file template params handler rendered 
def allow CORS GET func @wraps func def  added header request *args **kwargs response func request *args **kwargs if 'GET' request and switch is active 'application ACAO' response Access Control Allow Origin '*'return responsereturn  added header 
def img to array img dim ordering 'default' if dim ordering 'default' dim ordering K dim ordering if dim ordering not in {'th' 'tf'} raise Value Error 'nknowndim ordering ' dim ordering x np img dtype 'float32' if len x 3 if dim ordering 'th' x x 2 0 1 elif len x 2 if dim ordering 'th' x x 1 x x else x x x x 1 else raise Value Error 'nsupportedimageshape ' x return x 
@register.tag 'timezone' def timezone tag parser token bits token contents if len bits ! 2 raise Template Syntax Error "'%s'takesoneargument timezone " % bits tz parser filter bits nodelist parser 'endtimezone' parser first token return Timezone Node nodelist tz 
def  get context keyspaces connections if keyspaces if not isinstance keyspaces list tuple raise Value Error 'keyspacesmustbealistoratuple.' if connections if not isinstance connections list tuple raise Value Error 'connectionsmustbealistoratuple.' keyspaces keyspaces if keyspaces else [one connections connections if connections else [one return product connections keyspaces 
def clean translations sender **kwargs if hasattr  to save 'translations'  to save {}
def  get brew commands brew path prefix brew cmd path brew path prefix + BREW CMD PATH return [name[ -3 ] for name in os brew cmd path if name '.rb' '.sh' ]
@facebook required scope ['publish actions 'user status def decorator example scope request graph if graph return Http Response 'authorized' else return Http Response 'userdeniedorerror'
def templates *args return js helper 'static/scripts/templates/compiled/' *args
def safe load stream return load stream Safe Loader 
def optimize providers providers tmp providers {}optimized providers {}for name data in six providers if 'location' not in data data DEFAULT L O C A T I O Nif data not in tmp providers tmp providers {}creds data data if creds not in tmp providers tmp providers {'name' name 'data' data location tmp data in six tmp providers for creds data in six tmp data  id  key creds name data data data  name not in optimized providers optimized providers name  datareturn optimized providers 
def set credit requirements course key requirements invalid requirements  validate requirements requirements if invalid requirements invalid requirements ' '.join invalid requirements raise Invalid Credit Requirements invalid requirements try credit course Credit Course credit course course key course key except Credit Course Does Not Exist raise Invalid Credit Course old requirements Credit Requirement course requirements course key course key requirements to disable  get requirements to disable old requirements requirements if requirements to disable Credit Requirement credit requirements requirements to disable for order requirement in enumerate requirements Credit Requirement or update course requirement credit course requirement order 
def dict merge a b result dict **b for key value in a if isinstance value collections Mapping value dict merge value result key {} result valuereturn result 
def getmsg f extra ns None must pass False src '\n'.join  pytest code Code f .source .lines mod rewrite src code compile mod '<test>' 'exec' ns {}if extra ns is not None ns extra ns py  code ns func ns  name  ]try func except Assertion Error if must pass pytest "shouldn'thaveraised" s str sys info [1] if not s 'assert' return 'ssertion Error ' + s return selse if not must pass pytest "functiondidn'traiseatall"
@pytest.mark.parametrize 'verbose' [rue False def test color yes collection on non atty testdir verbose testdir "\nimportpytest\n@pytest.mark.parametrize 'i' range 10 \ndeftest this i \nassert1\n" args ['--color yes verbose args '-vv' result testdir *args assert 'testsessionstarts' in result assert '\x1b[1m' in result assert 'collecting10items' not in result if verbose assert 'collecting...' in result assert 'collected10items' in result 
@commands u u @example u Y T T def update channel format bot trigger if bot < OP returntformat trigger 2 if not tformat bot u Whatformatdoyouwantmetouse Tryusinghttp //strftime.nettomakeone.' tz get timezone bot bot None None trigger old format bot channel value trigger u format bot channel value trigger u format tformat try timef format time db bot zone tz channel trigger except bot u Thatformatdoesn Tryusinghttp //strftime.nettomakeone." bot channel value trigger u format old format returnbot channel value trigger u format tformat bot u Gotit Timesinthischannelwillnowappearas Ifthetimezoneiswrong youmighttrythesettzandchanneltzcommands ' % timef 
def bitceil N if hasattr int 'bit length return 1 << int N - 1 .bit length else N int N - 1 for i in [1 2 4 8 16 32] N | N >> i return N + 1
def parse custom num formats root xmlns custom formats {}num fmts root Q Name xmlns 'mts .text if num fmts is not None num fmt nodes num fmts Q Name xmlns 'mt .text for num fmt node in num fmt nodes custom formats num fmt node 'mt Id ] num fmt node 'ode return custom formats 
def pmin sampled mean var n samples 1000 rng None if rng is None rng numpy Random State 232342 samples rng n samples len mean * numpy var + mean winners samples T samples axis 1 .wincounts winners axis 0 assert wincounts mean return old div wincounts 'float64' wincounts 
def demo template statistics postag incremental stats True template stats True 
def add defaults var fun case sensitive False var items set DEFAULT VARIABLES fun items set DEFAULT FUNCTIONS var items var fun items fun if not case sensitive var items set k for k in var items fun items set k for k in fun items return var items fun items 
def is detach process context required result Trueif is process started by init or is process started by superserver result Falsereturn result 
def  parsed version user None host None port None maintenance db None password None runas None psql version version user host host port port maintenance db maintenance db password password runas runas if psql version return distutils Loose Version psql version else log 'ttempttoparseversionof Postgresserverfailed Istheserverresponding return None 
def gethostbyaddr ip address return get hub .resolver.gethostbyaddr ip address 
def minorticks on gca .minorticks on 
def spawnu *args **kwargs kwargs 'encoding' 'utf-8' return spawn *args **kwargs
@hug.get def made up hello return 'hello'
def test save load save model Dummy Model 1 monitor Monitor monitor model num examples 2num features 3num batches 1batch size 2dataset Dummy Dataset num examples num features monitor dataset dataset dataset num batches num batches batch size batch size vis batch T mean vis batch data specs monitor input space monitor input source monitor channel name 'mean' ipt vis batch val mean dataset dataset data specs data specs saved to string monitor monitor from string saved saved again to string monitor 
def  Decode Value pb value val type if val type in  STRING TYPES return  Decode U T F8 pb value return pb value 
def broadcast to array shape return core to array shape 
def  skew symmetric cross a return np [[0.0 - a a [a[2] 0.0 - a ] [ - a a 0.0]]
def client From String reactor description args kwargs  parse description aname args 0 name aname for plugin in get Plugins I Stream Client Endpoint String Parser if plugin name return plugin Stream Client *args **kwargs if name not in  client Parsers raise Value Error 'nknownendpointtype %r' % aname kwargs  client Parsers *args **kwargs return  endpoint Client Factories reactor **kwargs
def encode params params dict encoded [ smart str k smart str v for k v in params dict ]encoded dict dict encoded return encoded dict 
def item um from name name for um pattern in um patterns m re um pattern name if m um m 1 .strip name re um pattern '' name name re ' $' '' name .strip return name um return name None 
def get rng return  rng 
def get crawl args message msg message args [unicode to str msg spider ]del msg project msg spider msg 'settings' {} for k v in stringify dict msg keys only False .items args + ['-a']args + [ '%s %s' % k v ]for k v in stringify dict settings keys only False .items args + ['-s']args + [ '%s %s' % k v ]return args 
def list nictags include etherstubs True ret {}nictagadm  check nictagadm cmd '{nictagadm}list-d"|"-p{estubs}'.format nictagadm nictagadm estubs '-L' if not include etherstubs else '' res   salt  ['cmd.run all cmd retcode res retcode ! 0 ret Error res if 'stderr' in res else 'ailedtogetlistofnictags else header ['name' 'macaddress' 'link' 'type']for nictag in res nictag nictag '|' nictag data {}for field in header nictag data nictag field ]ret[nictag data nictag datadel ret data ret 
def is Image Type t return hasattr t 'im'
def initial password email if settings I N I T I A L PASSWORD SALT is not None encoded key settings I N I T I A L PASSWORD SALT + email .encode 'utf-8' digest hashlib encoded key .digest return base64 digest [ 16].decode 'utf-8' else return None 
def ndarray print nd try x nd except Type Error Not Implemented Error x nd if isinstance nd ndarray offset nd nd offset 'unknown'flags 'unknown'print "ndarray %s shape %s strides %s suboffsets %s offset %s format '%s' itemsize %s flags %s " % x nd nd nd offset nd nd flags sys 
def service model service return {'name' service 'admin' service 'url' service 'prefix' service url if service else '' 'command' service 'pid' service if service else 0 }
def  conn queue queue dir   opts  ['sqlite queue dir os queue dir '{0}.db'.format queue log 'onnectingto {0}'.format db con lite db tables  list tables con if queue not in tables  create table con queue return con 
def Get Runlevels Non L S B states if not states return set convert table {'0' '0' '1' '1' '2' '2' '3' '3' '4' '4' '5' '5' '6' '6' 'S' '1' 's' '1'} Log Invalid Run Levels states convert table return set [convert table for s in states if s in convert table ]
def init Target Set schemata size test set []for _ in range size test list random 0 1 for _ in range len schemata for i x in enumerate schemata if x '0' test 0elif x '1' test 1test set test return test set 
def parse reftuples lh container rh container refspecs if not isinstance refspecs list refspecs [refspecs]ret []for refspec in refspecs ret parse reftuple lh container rh container refspec return ret 
@task@needs 'generate setup 'minilib' 'get source 'virtualenv' def env install venv options [ path venv / 'bin' / 'easy install '.']
def corr2cov corr std corr np corr std  np std cov corr * np std  std  return cov 
def p logical or expression 1 t pass 
def  get normal name orig enc enc orig enc 12].lower .replace '_' '-' if enc 'utf-8' or enc 'utf-8-' return 'utf-8'if enc in 'latin-1' 'iso-8859-1' 'iso-latin-1' or enc 'latin-1-' 'iso-8859-1-' 'iso-latin-1-' return 'iso-8859-1'return orig enc 
def get pxe config file path instance return os C O N F root instance 'config'
def parse type attrtype uattribute attrtype .strip if uattribute '{' return 'nominal'elif uattribute len 'real' ] 'real' return 'numeric'elif uattribute len 'integer' ] 'integer' return 'numeric'elif uattribute len 'numeric' ] 'numeric' return 'numeric'elif uattribute len 'string' ] 'string' return 'string'elif uattribute len 'relational' ] 'relational' return 'relational'elif uattribute len 'date' ] 'date' return 'date'else raise Parse Arff Error 'unknownattribute%s' % uattribute 
def new thread mails post users and watches post url add utm post absolute url 'kbforums-thread' c {'post' post 'post html post parsed 'author' post 'host' Site current .domain 'thread' post 'forum' post 'post url post url emails with users and watches subject  lazy u text template 'kbforums/email/new thread html template 'kbforums/email/new thread context vars c users and watches users and watches 
def to fs from unicode unic if is unicode unic try string unic FS ENCODING except Unicode Error Type Error passelse return stringreturn unic 
def format U I D List Lines msgs get Uidl for i m in enumerate msgs if m is not None uid get Uidl i yield '%d%s\r\n' % i + 1 uid 
def  stride stride spec if stride spec is None return [1 1 1 1]elif isinstance stride spec int return [1 stride spec stride spec 1]elif len stride spec 1 return [1 stride spec stride spec 1]elif len stride spec 2 return [1 stride spec stride spec 1]else assert len stride spec 4 return stride spec 
def HA1 realm username password algorithm if not realm realm u H ' '.join [username.encode 'utf-8' realm 'utf-8' password 'utf-8' ] algorithm 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def compare version v1 v2 s1 Strict Version v1 s2 Strict Version v2 if s1 s2 return 0elif s1 > s2 return -1 else return 1
def proplist root fn result []for path in propfiles root fn try f open path except I O Error continuewhile 1 line f if line 'END' breakassert line 'K' L int line [1] key f L result key f line f assert line 'V' L int line [1] value f L f f return result 
@cache permissiondef can upload dictionary user project return check permission user project 'trans.upload dictionary 
def lock parent directory filename timeout 10 return lock path os filename timeout timeout 
def get os name from eol chars eol chars for chars os name in EOL CHARS if eol chars chars return os name 
def test set join node tmpdir os str tmpdir wf pe Workflow name u inputspec pe Node Identity Interface fields [u'n'] name u inputspec [ u [1 2 1 3 2] ]pre join1 pe Node Increment Interface name u join1 wf inputspec u pre join1 u join pe Join Node Set Interface joinsource u joinfield u name u wf pre join1 u join u wf assert  set len 3 u Thejoin Setoutputvalueisincorrect %s.' %  set len 
def test basic call on method through api instance coroutine class API object def hello world self return 'ello World instance API @hug.call @asyncio.coroutinedef hello world return api instance world assert api instance world 'ello World assert hug api '/hello world .data 'ello World 
def  set window time slices times t idx  [t[ -1 ] for t in slices times idx ]
def mrv max3 f expsf g expsg union expsboth x if not isinstance f Subs Set raise Type Error 'ubs Set if not isinstance g Subs Set raise Type Error 'ubs Set if f Subs Set return g expsg elif g Subs Set return f expsf elif f g return union expsboth c compare list f [0] list g [0] x if c '>' return f expsf elif c '<' return g expsg else if c ! ' ' raise Value Error 'cshouldbe ' return union expsboth 
def resident since 0.0 return  Vm B 'm R S S ' - since 
def test find package not found result search packages info ['abcd3'] assert len list result 0
def hr search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'hrm' 'human resource 
def p command let bad p p 'BADEXPRESSIONINLET'
def Get User Agent product tokens []product tokens 'oogle api product tokens appengine rpc Get Platform Token python version '.'.join str i for i in sys info product tokens 'ython % python version return ''.join product tokens 
def dataset id from name name return unicode UUID bytes md5 name u .digest version 4
def  onset to seconds raw onset meas date raw date meas date is None meas date 0elif not np meas date if len meas date > 1 meas date meas date + meas date / 1000000.0 else meas date meas date raw time is None orig time meas dateelse orig time raw time - raw first time annot start orig time - meas date + onset return annot start 
def get exporter name return E X P O R T E R S 
@set databasedef get or create item **kwargs if item return Item or get **parse model data item 
def merge environments environment files files params param schemata if not environment files returnavailable strategies {}for filename in environment files raw env files env env fmt raw env strategies in file parsed env env fmt P A R A M E T E R MERGE STRATEGIES {} for section key section value in parsed env if section value if section key in env fmt P A R A M E T E R S env fmt P A R A M E T E R DEFAULTS params key new strategies merge parameters params key section value param schemata strategies in file available strategies filename available strategies new strategies else params key merge map params key section value 
def present Stimulus direction win start Phase num if direction 1 frame Indices num 0 4 else frame Indices num 3 -1 -1 for cycles in range cycles Time for ii in frame Indices this Stim stim Frames Stim Phase start Phase for n in range n Frames this Stim win win 
def  check fmdump return salt 'fmdump'
def find files roots generated resources None ignored patterns IGNORED PATTERNS ignored dirs IGNORED DIRS ignored path regexps IGNORED PATH REGEXPS allowed extensions None if generated resources is None generated resources set if isinstance roots string types roots [roots]if isinstance allowed extensions string types allowed extensions set [allowed extensions for root in roots for path dirs files in os root path posixpath path os '/'  remove ignored directories path dirs ignored dirs ignored path regexps for filename in files filepath posixpath path filename if filename 'generated resources  process generated resources path filepath generated resources continueif not all not fnmatch filename x for x in ignored patterns continueif not  check allowed extension filepath allowed extensions continue yield filepath 
def get Bottom By Paths paths bottom 9.876543219876543e+17for path in paths for point in path bottom min bottom point return bottom 
def attempt bc correction curr bc all bcs barcode type 'golay 12' corrected bc get exact bc matches curr bc all bcs if corrected bc return corrected bc 0 if barcode type 'golay 12' corrected bc num errors decode golay 12 curr bc elif barcode type 'hamming 8' corrected bc num errors decode barcode 8 curr bc elif barcode type 0 corrected bc num errors '' 0 else corrected bc num errors correct barcode curr bc all bcs return corrected bc num errors 
def partition list journal return ceph cfg list journal 
def result to city result country region if 'city' in result mapbox city result args {'name' mapbox city 'country' country 'region' region {'mapbox id mapbox city 'lat' mapbox city 'lng' mapbox city lookup args query Q **lookup args | Q mapbox id mapbox city city qs City query .distinct if city qs if city qs 2 deduplicate cities city qs city qs city qs **args city city qs city City **args return city 
def  generate X random bits while True x  get Random Number random bits if 2 < x < 2 ** bits - 2 return x 
def executed patchmodule if patchmodule u ' patchmodule patchmodule u ' u done frappe value u Patch Log {u'patch' patchmodule return done 
def conv3d input filters input shape None filter shape None border mode 'valid' subsample 1 1 1 filter flip True filter dilation 1 1 1 input as tensor variable input filters as tensor variable filters conv op Abstract Conv3d imshp input shape kshp filter shape border mode border mode subsample subsample filter flip filter flip filter dilation filter dilation return conv op input filters 
def send reply exchange req msg producer None retry False retry policy None **props return producer msg exchange exchange retry retry retry policy retry policy **dict {u'routing key req to u id req u id u serializers to name type u encoding req encoding **props
def get line style line style {}style['alpha'] line alpha if style is None style 1style['color'] color to hex line color style line linewidth style get dasharray line style line zorder return style 
@utils.arg 'id' metavar '<id>' help _ 'nique I Doftheservergrouptoget def do server group get cs args server group cs groups args  print server group details cs [server group 
def toggle log module number file loc None toggle False mod mod inst get mod num module number if not mod is None and not mod inst is None and hasattr H O U S E inst 'log' if toggle H O U S E inst True file loc else H O U S E inst False else Error "oduledoesnothavealoggerordoesn 
def download and uncompress tarball tarball url dataset dir filename tarball url '/' [ -1 ]filepath os dataset dir filename def  progress count block size total size sys 'ownloading % filename float count * block size / float total size * 100.0 sys filepath _ urllib tarball url filepath  progress print statinfo os filepath print 'uccessfullydownloaded filename statinfo size 'bytes.' tarfile filepath 'r gz .extractall dataset dir 
def get draft moderator action email intent try require moderator email prereqs are satisfied return  get email config intent .valueexcept Exception return ''
@post '/option/<taskid>/set' def option set taskid if taskid not in Data Store logger 'nvalidtask I Dprovidedtooption set ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D for option value in request Data Store option option value logger 'equestedtosetoptions % taskid return jsonize {'success' True 
def jira registry xml parent data X M L Sub Element xml parent 'ira Issue Updater 
def top contributors questions start None end None locale None product None count 10 page 1 query Answer Metrics Mapping Type .facet 'creator id filtered True size BIG NUMBER query query by asker False query  apply filters query start end locale product return  get creator counts query count page 
def  isinfinity num num str num .lower return  infinity map num 0
def  base args config args ['--debug' '--json-logging' '--no-err-windows']if config args + ['--backend' 'webengine']else args + ['--backend' 'webkit']args.append 'about blank return args 
def  get all recipient ids exploration id thread id author id exploration rights rights manager exploration rights exploration id owner ids set exploration rights ids participant ids get all thread participants exploration id thread id sender id set [author id batch recipient ids owner ids - sender id other recipient ids participant ids - batch recipient ids - sender id return batch recipient ids other recipient ids 
def grid points in poly shape verts return  grid points in poly shape verts 
def test type   clrtype   Assert hasattr type '  clrtype  ' if not is netstandard Assert 'etsthe N E Ttypewhichis in type  clrtype  .  doc   type  clrtype  .  doc   Are Equal type  clrtype   type type Are Equal type  clrtype   float float Are Equal type  clrtype   System Double float Are Equal type  clrtype   float System Double Assert not type  clrtype   float type Assert type  clrtype   float ! type 
def escape cell cell cell cell u u cell cell u u cell cell u u return cell 
def test normal basic yield check normal basic False yield check normal basic False True yield check normal basic True 
def  convert ascii format format reverse False if reverse recformat kind dtype  dtype to recformat format itemsize dtype kind 'a' return 'A' + str itemsize elif N U M P Y2 F I T S recformat 'L' return '1 kind 'i' width 1 + len str 2 ** itemsize * 8 width max width ASCII DEFAULT WIDTHS['I'][0] return 'I' + str width elif kind 'f' if itemsize > 8 format ' format ' '.'.join str w for w in ASCII DEFAULT W I D T H S return format + width else format width precision  parse ascii tformat format recformat A S C I I2 N U M P Y format 'I' and width < 4 recformat 'i2'elif format 'A' recformat + str width return recformat 
def algorithm list return [eq fit Z I G ' E Seq2 nbinom 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def normalize fieldsets fieldsets result []for name options in fieldsets result name normalize dictionary options return result 
def delete org orgid profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile response requests '{0}/api/orgs/{1}'.format profile url orgid auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def handle reset request for rec in Record rec fail 'ancelled return Http Response Redirect request 
def connected return {'out'   proxy  ['napalm.ping'] }
def max layout dimensions dimensions min  max [d.min for d in dimensions if d is not None ] max  max [d.max for d in dimensions if d is not None ] preferred max [d.preferred for d in dimensions return Layout Dimension min min  max max  preferred preferred 
def html escape t html escape table {'&' '&amp;' '"' '&quot;' "'" '&#039;' '>' '&gt;' '<' '&lt;'}return ''.join html escape table c c for c in t 
def  labels inertia X x squared norms centers precompute distances True distances None n samples X - np n samples np if distances is None distances np shape 0 dtype X if sp X inertia  k means assign labels csr X x squared norms centers labels distances distances else if precompute distances return  labels inertia precompute dense X x squared norms centers distances inertia  k means assign labels array X x squared norms centers labels distances distances return labels inertia 
def ext on list name lst for ext in lst if name ext > 0 return Truereturn False 
def solve linear system LU matrix syms if matrix ! matrix - 1 raise Value Error 'owsshouldbeequaltocolumns A matrix matrix matrix matrix matrix - 1 ]soln A L Usolve b solutions {}for i in range soln solutions soln i 0 ]return solutions 
def is git repo sourcepath os os os nipype  file   os gitpathgit os sourcepath u if os gitpathgit return Trueelse return False 
def get rect ymin data return min data data data data 
def exec python *args **kwargs cmdargs kwargs   wrap python args kwargs return exec command *cmdargs **kwargs
def  get table list from django import connection get introspection modulecursor connection return get introspection module .get table list cursor 
def test dbnull if is netstandard clr Add Reference 'ystem Data Common if System D B Null Value Assert Unreachable 
def rotate naive lst dist lst ] lst len lst ] + lst dist 
def write forward meas info fid info info check consistency start block fid FIFF.FIFFB MNE PARENT MEAS FILE write string fid FIFF.FIFF MNE FILE NAME info file if info id is not None write id fid FIFF.FIFF PARENT BLOCK ID info id meg head t info 'dev head t info 'ctf head t if meg head t is None fid raise Value Error 'ead write coord trans fid meg head t if 'chs' in info write int fid FIFF.FIFF NCHAN len info for k c in enumerate info c deepcopy c c k + 1 write ch info fid c if 'bads' in info and len info > 0 start block fid FIFF.FIFFB MNE BAD CHANNELS write name list fid FIFF.FIFF MNE CH NAME LIST info end block fid FIFF.FIFFB MNE BAD CHANNELS end block fid FIFF.FIFFB MNE PARENT MEAS FILE
def remove pad buf if len buf > 0 and len buf % 16 0 encrypted key buf 5]key xor encrypted key bytes [19 51 123 238 240] dec xor buf key return dec 20]
def n name return objc register Name  utf8 name 
def get Mininet Version vm vm '~/mininet/bin/mn--version' vm version vm .strip return version 
def in6 ptop str return inet ntop socket A F INET6 inet pton socket A F INET6 str 
def get pdata path base name recurs base name base name os '_' return join PYLINT HOME '%s%s%s' % base name recurs '.stats'
def decode return codec 'ascii' def outer f def wrap *args **kwargs res f *args **kwargs if res is not None return res codec return resreturn wrapreturn outer 
def quadratic batch size 128 num dims 10 stddev 0.01 dtype tf def build 'uildslossgraph tf variable 'x' shape [batch size num dims dtype dtype initializer tf normal initializer stddev stddev w tf variable 'w' shape [batch size num dims num dims dtype dtype initializer tf uniform initializer trainable False y tf variable 'y' shape [batch size num dims dtype dtype initializer tf uniform initializer trainable False product tf tf matmul w tf dims x -1 return tf mean tf sum product - y ** 2 1 return build 
@decorator.decoratordef convert masks to RGB f clip *a **k if clip clip clip RGB return f clip *a **k
def find and assign anonymous cart request queryset Cart token request signed cookie Cart C O O K I E NAME default None if not token returncart get anonymous cart from token token token cart queryset queryset if cart is None returncart user request carts to close Cart .filter user request carts to close carts to close token token carts to close status Cart C A N C E L E D last status change now 
def common subexpression expr *exprs if not exprs return exprexprs expr + exprs all leaves [expr. leaves for expr in exprs set *map set all leaves if not leaves raise Value Error 'ocommonleavesfoundinexpressions % list exprs pathlist [list path expr leaf for expr in exprs for leaf in leaves reduce ordered intersect pathlist if not common raise Value Error 'ocommonsubexpressionfoundinpathstoleaf %s' % list map set pathlist return first common 
def db asset add **kwargs group id list kwargs 'groups' asset Asset **kwargs asset group select []for group id in group id list group Asset Group id group id group select group asset group select 
def Is Surrounded By Brackets tok paren count 0brace count 0sq bracket count 0previous token tok tokenwhile previous token if previous token ' ' paren count - 1elif previous token '}' brace count - 1elif previous token ']' sq bracket count - 1if previous token ' ' if paren count 0 return Trueparen count + 1elif previous token '{' if brace count 0 return Truebrace count + 1elif previous token '[' if sq bracket count 0 return Truesq bracket count + 1previous token previous token tokenreturn False 
def sanitize index ind if isinstance ind Number ind2 int ind if ind2 ! ind raise Index Error 'adindex Mustbeinteger %s' % ind else return ind2if hasattr ind 'tolist' ind ind if isinstance ind list and ind and isinstance ind bool ind [a for a b in enumerate ind if b indif isinstance ind list return [sanitize index i for i in ind isinstance ind slice return slice sanitize index ind sanitize index ind sanitize index ind if ind is None return indtry return sanitize index np ind .tolist except raise Type Error 'nvalidindextype type ind ind 
def get Files With File Type Without Words file Type words [] file In Directory '' files With File Type []for file Path in get File Paths file In Directory if is File With File Type Without Words file Type file Path words files With File Type file Path files With File Type return files With File Type 
def autoencoder results hidden units training data test inputs actual test results mnist loader data nn net train autoencoder hidden units training data plot test results net test inputs 
def make test program class extra tests class Pystache Test Program Test Program 'nstantiatinganinstanceofthisclassrunsalltests create Tests self 'oadtestsandsetself Test Suiteinstance Compare /est Suite Pystache Test Program self .ests self Tests extra tests return Pystache Test Program 
def add pool member lb name port pool name if   opts  ['load balancers lb None username password list   opts  ['load balancers else raise Exception 'nabletofind lb F5 F5 Mgmt lb username password F5 pool member name port pool name return True 
def Load Window Size section state '' if state state state + '' left win32ui Get Profile Val section state + 'left' 0 top win32ui Get Profile Val section state + 'top' 0 right win32ui Get Profile Val section state + 'right' 0 bottom win32ui Get Profile Val section state + 'bottom' 0 return left top right bottom 
def dmp irreducible p f u K _ factors dmp factor list f u K if not factors return Trueelif len factors > 1 return Falseelse _ k factors k 1
def  get dtype dtype if np dtype np return np else return np 
def  default logfile exe name if salt windows tmp dir os   opts  ['cachedir'] 'tmp' if not os tmp dir os tmp dir logfile tmp tempfile Named Temporary File dir tmp dir prefix exe name suffix '.log' delete False logfile logfile tmp tmp else logfile salt join '/var/log' '{0}.log'.format exe name return logfile 
def text File Log Observer out File time Format time Format R F C3339 def format Event event return format Event As Classic Log Text event format Time lambda e format Time e time Format return File Log Observer out File format Event 
def entropy image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy entropy image selem out out mask mask shift x shift x shift y shift y out dtype np 
@click.command 'set-url-root' @click.argument 'site' @click.argument 'url-root' def set url root site url root from bench config import set url rootset url root site url root 
def assert datetime equal dt1 dt2 allowance 500 assert abs dt1 - dt2 < dt milliseconds allowance 
def init Iterate container generator return container generator 
def group creating from src group id None group snapshot id None return I M P L creating from src group id group snapshot id 
def recurrence term c f return sum c * f n n + i for i in range len c 
def capture journal reactor host output file def get journald output formatter journald json formatter output file ran run ssh reactor reactor host host username 'root' command ['journalctl' '--lines' '0' '--output' 'export' '--follow' '-u' 'docker' '-u' 'flocker-control' '-u' 'flocker-dataset-agent' '-u' 'flocker-container-agent' '-u' 'flocker-docker-plugin'] handle stdout formatter ran Errback write failure logger None ran Callback lambda ignored formatter '' return ranreturn loop until reactor get journald output repeat 2.0
def attach public projects same owner queryset user as field 'public projects same owner attr model queryset user is None or user anonymous sql ' E L E C T0 sql ' E L E C T C O U N T id \ R O Mprojects projectp aux W H E R Ep aux private False A N D aux id {tbl}.owner id sql tbl model meta table user id user queryset queryset select {as field sql return queryset 
def asciify path path sep replace if os path path os os path components path os for index item in enumerate path components path components unidecode item .replace os sep replace if os path components unidecode item .replace os sep replace return os path components 
def nl s if not isinstance s string types return sreturn s '\n' os 
@with sessiondef log once message logger logging Logger u once once level logging I N F O suppressed level f logger V E R B O S E session None from flexget import managerif not manager log u D Bnotinitialized oncewillnotworkproperly logger once level message returndigest hashlib digest message u u md5sum digest if session Log Message .filter by md5sum md5sum .first logger suppressed level message return Falserow Log Message md5sum session row logger once level message return True 
def diagonal a offset 0 axis1 0 axis2 1 return a offset axis1 axis2 
def get all creators to which learner has subscribed user id subscriptions model user models User Subscriptions Model user id strict False return subscriptions model ids if subscriptions model else []
def redirect request processor page request target page redirect to target request if target extra path request feincms extra context u path u if extra path u return Http Response Redirect target logger u Pageredirecton page absolute url extra path raise Http404 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def safe dumps *args **kwargs try dumped json allow nan False *args **kwargs except Value Error obj swap inf nan copy args dumped json obj allow nan False **kwargs if kwargs 'escape closing tags True return dumped '</' '<\\/' return dumped 
def Smart Unicode string if type string ! unicode try return string  unicode   except Attribute Error Unicode Error return str string .decode 'utf8' 'ignore' return string 
def hist fig hist data plot height plot width x range None epoch axis True name hdata dh dw bins offset hist dataif x range is None x range 0 dw fig figure plot height plot height plot width plot width title name x axis label x label epoch axis x range x range y range offset offset + bins fig image [hdata] x [0] y [offset] dw [dw] dh [dh] palette 'pectral11 return fig 
def Find Tlbs With Description desc ret []items Enum Tlbs for item in items if item desc ret item return ret 
def badfetch mail msg url parm {'url' url 'msg' msg send with template 'badfetch' parm 
def raw file request attachment id filename qs Attachment related 'current revision attachment get object or 404 qs pk attachment id if attachment revision is None raise Http404if request host settings A T T A C H M E N T HOST rev attachment revisionif settings D E B U G rev rev D E F A U L T CHUNK SIZE response Streaming Http Response rev content type rev type response Last Modified convert to http date rev try response Content Length rev O S Error passresponse X Frame Options ' L L O W F R O M % settings D O M A I N return responseelse return redirect attachment file url permanent True 
def summary stats curve periods total return curve -1 ]returns curve curve sharpe ratio returns periods max dd dd duration max drawdown pnl stats [ 'otal Return '%0.2f%%' % total return - 1.0 * 100.0 'harpe Ratio '%0.2f' % sharpe 'ax Drawdown '%0.2f%%' % max dd * 100.0 'rawdown Duration '%d' % dd duration ]return stats 
def chall to challb chall status kwargs {'chall' chall 'uri' chall + ' uri 'status' status status messages S T A T U S VALID kwargs {'validated' datetime } return messages Challenge Body **kwargs
def get node attributes G name return {n d for n d in G if name in d }
def page from word word return page from reference Reference word 
def Auth Sub Token From Url url token Token From Url url if token return 'uth Subtoken %s' % token return None 
def Generate Auth Sub Request Url next scopes hd 'default' secure False session True request url 'https /uth Sub Request include scopes in next True if isinstance scopes list scope ''.join scopes else scope scopesif include scopes in next if next '?' > -1 next + '&%s' % urllib {SCOPE URL PARAM NAME scope else next + '?%s' % urllib {SCOPE URL PARAM NAME scope return gdata Generate Auth Sub Url next next scope scope secure secure session session request url request url domain hd 
def get Complex Path By Multiplier multiplier path complex Path []for point in path complex Path multiplier * point return complex Path 
def get values cluster if is leaf cluster return clusterelse return [value for child in get children cluster for value in get values child ]
def format summary line web url user base tip branch node revcount tip - base plural 's' if revcount > 1 else '' if web url shortlog base url web url '/' + '/shortlog/' summary url '{shortlog}{tip}?revcount {revcount}'.format shortlog shortlog base url tip tip - 1 revcount revcount formatted commit count '[{revcount}commit{s}] {url} '.format revcount revcount s plural url summary url else formatted commit count '{revcount}commit{s}'.format revcount revcount s plural return u `{tip} {node}` \n\n'.format user user commits formatted commit count branch branch tip tip node node 12]
def usergroup update usrgrpid **connection args conn args  login **connection args try if conn args method 'usergroup.update'params {'usrgrpid' usrgrpid  params extend params **connection args ret  query method params conn args conn args return ret raise Key Errorexcept Key Error return ret 
def compute md5 fp buf size 8192 size None return compute hash fp buf size size hash algorithm md5 
def render cert by uuid request certificate uuid try certificate Generated Certificate certificates verify uuid certificate uuid status Certificate Statuses return render html view request certificate unicode certificate id except Generated Certificate Does Not Exist raise Http404 
def get monitors and dependencies account monitor names debug False monitors all monitors account debug monitor names  find dependent monitors monitors monitor names requested mons []for mon in monitors if mon in monitor names requested mons mon return requested mons 
def clean string text if isinstance text six types return text UNI SPECIAL CHARS .strip return text None STR SPECIAL CHARS .strip
def add Faces Given Text stl Text triangle Mesh vertex Index Table lines archive Text Lines stl Text vertexes []for line in lines if line 'vertex' ! -1 vertexes get Vertex Given Line line add Faces Given Vertexes triangle Mesh vertex Index Table vertexes 
def  stream requests sample language code None max alternatives None profanity filter None speech context None single utterance None interim results None config request  make streaming request sample language code language code max alternatives max alternatives profanity filter profanity filter speech context Speech Context phrases speech context single utterance single utterance interim results interim results yield config request while True data sample sample size if not data break yield Streaming Recognize Request audio content data 
def solve a b try return linalg a b except linalg Lin Alg Error return np linalg a b 
def get Tokens End Loc import inspectfstack inspect try for f in fstack ] if f ' parse No Cache endloc f locals endlocelse raise Parse Fatal Exception 'okens End Loc finally del fstack 
def Check Property request trusted request app id prop indexed True name prop value prop meaning prop Check request trusted or not datastore types R E S E R V E D PROPERTY N A M E name "cannotstoreentitywithreservedpropertyname'%s'" % name Check prop ! entity pb Property I N D E X VALUE 'ntitieswithincompletepropertiescannotbewritten is blob meaning in  BLOB MEANINGS if indexed Check not is blob 'BLOB ENITY P R O T Oor T E X Tproperty + name + 'mustbeinaraw propertyfield max length datastore types MAX STRING L E N G T Helse if is blob Check value stringvalue 'BLOB/ENTITY P R O T O T E X Trawproperty + name + 'musthaveastringvalue' max length datastore types MAX RAW PROPERTY B Y T E Sif meaning entity pb Property A T O M LINK max length datastore types MAX LINK PROPERTY L E N G T H Check Property Value name value max length 
def list teams profile 'github' ignore cache False key 'github.{0} teams  get config value profile 'org name if key not in   context   or ignore cache client  get client profile organization client organization  get config value profile 'org name teams data organization teams teams {}for team in teams data teams {'id' team 'slug' team 'description' team raw Data 'permission' team 'privacy' team raw Data  context  [key] teamsreturn   context  [key]
def generate ratings addon num for n in range 1 num + 1 username 'testuser-{s}'.format s get random string email '{username}@example.com'.format username username user  created User Profile or create username email email email defaults {'display name email Review addon addon user user rating random 0 6 title 'est Review n n body 'reviewtext'
def canonical free base gens g num free g g formsize len g if not base return g ]transversals get transversals base gens m len base for x in sorted g -2 ] if x not in base base x h gfor i transv in enumerate transversals b base i [size] * num free s Nonefor sk in transv h1  af rmul h sk hi [h1.index ix for ix in range num free ]if hi < h i h i his skif s h  af rmul h s return h 
def floating ip get all by project context project id return I M P L ip get all by project context project id 
def iter topography info layout None on pick None fig None fig facecolor 'k' axis facecolor 'k' axis spinecolor 'k' layout scale None return  iter topography info layout on pick fig fig facecolor axis facecolor axis spinecolor layout scale 
def get language bidi lang get language if lang is None return Falseelse base lang get language .split '-' [0]return base lang in settings L A N G U A G E S BIDI
def report similarities sect stats old stats lines ['' 'now' 'previous' 'difference']lines + table lines from stats stats old stats 'nb duplicated lines 'percent duplicated lines sect Table children lines cols 4 rheaders 1 cheaders 1
def  patch stopall for patch in list  patch active patches patch 
def rackconnect vm  return config cloud config value 'rackconnect' vm    opts   default False search global False 
def choose lines source number seed None generator random if seed is not None generator seed sources source '\n' return [generator.choice sources for n in range number ]
def test arguments def function argument1 argument2 passassert tuple hug function with kwargs 'argument1' assert tuple hug function with args 'argument1' assert tuple hug function with neither 'argument1' 'argument2' assert tuple hug function with both 'argument1' 'argument2' 'argument3'
@contextfilterdef number format context value value str value negative Falseaddzero Noneif value '-' value value ]negative Trueif '.' in value point value '.' if point len value - 2 addzero Trueelse point len value while point < len value - 3 if value len value - 1 ] '0' value value len value - 1 ]else breakwhile point > 3 value value point - 3 ] + ' ' + value point - 3 ] point value ' ' if addzero value + '0'if negative value '-' + value return value 
def  sort components ica order copy True assert ica components  len order if copy ica ica ica matrix  ica matrix [ order matrix  ica matrix [order ]if isinstance order np order list order if ica ica [order.index ic for ic in ica k in ica .keys ica [k] [order.index ic for ic in ica [k]]return ica 
def check isinstance obj cls if isinstance obj cls return objraise Exception _ 'xpectedobjectoftype %s' % str cls return cls 
def saltversioninfo from salt import   version info  return {'saltversioninfo' list   version info   }
def assess assess tables impact tables tablename '%s %s' % module resourcename table db prep r if session and r 'create' and r redirect URL f 'assess short mobile return Trueresponse preptabs [ T 'dit Details None T 'aselines 'baseline' T 'mpacts 'impact' T 'ummary 'summary' ]rheader lambda r assess rheader r tabs return s3 rest controller rheader rheader 
@open file 1 mode 'wb' def write gml G path stringizer None for line in generate gml G stringizer path line + '\n' .encode 'ascii'
def generate matches patterns nodes if not patterns yield 0 {} else p rest patterns patterns ] for c0 r0 in p matches nodes if not rest yield c0 r0 else for c1 r1 in generate matches rest nodes ] r {}r.update r0 r r1 yield c0 + c1 r 
def add monitor for name function in globals .items if not inspect function continueargs inspect function [0]if args and name 'monitor' exec 'pep8.%s %s' % name name 
def qos specs disassociate all context qos specs id return I M P L specs disassociate all context qos specs id 
def  error on bad paths fs paths for path in paths if path '-' returnif fs path returnraise Value Error 'tleastonevalidpathisrequired Nonefoundin % paths 
def validate host host allowed hosts for pattern in allowed hosts pattern pattern match pattern u or pattern u and host pattern or host pattern ] or pattern host if match return Truereturn False 
def plugin install app fobj request filename upname apath '../deposit/%s' % filename request try write file upname fobj 'wb' path apath app request w2p unpack plugin upname path fix newlines path return upnameexcept Exception os upname return False 
def  kpost url data headers {ontent Type 'application/json'}log.trace 'urlis {0} datais {1}'.format url data ret http url method 'POST' header dict headers data json data if ret 'error' return retelse return json ret 'body'
def del tags name None kwargs None call None instance id None resource id None if kwargs is None kwargs {}if 'tags' not in kwargs raise Salt Cloud System Exit 'tagortagsmustbespecifiedusingtags list of tags if not name and 'resource id in kwargs instance id kwargs id kwargs id not instance id instance id  get node name [d {ction 'elete Tags 'esource Id instance id idx tag in enumerate kwargs ' ' params Tag Key idx ] tagaws params setname 'et location get location provider get provider opts   opts   sigver '4' if resource id return get tags resource id resource id else return get tags instance id instance id 
def fix namespace raw return NULL NAMESPACE R E G E X u raw 
def  parse quota mount opts cmd 'repquota-vp{0}{1}'.format opts mount out   salt  ['cmd.run'] cmd python shell False .splitlines mode 'header'if '-u' in opts quotatype 'sers '-g' in opts quotatype 'roups {quotatype {}}for line in out if not line continuecomps line if mode 'header' if 'lockgracetime in line blockg inodeg line ';' blockgc blockg ' ' inodegc inodeg ' ' ret Block Grace Time blockgc -1 ]node Grace Time inodegc -1 ]elif line '-' mode 'quotas'elif mode 'quotas' if len comps < 8 continueif not comps in ret ret {}ret[quotatype][comps[0]]['block-used'] comps comps comps comps comps comps comps comps ret 
def test embed embed dense L Embed I D 5 10 embed sparse L Embed I D 5 10 embed dense W ] np 5 10 .astype 'float32' embed sparse W ] np 5 10 .astype 'float32' embed sparse W 1 ] / 100000.0dhl dense 01 dirichlet likelihood embed dense alpha 0.1 .datadhl sparse 01 dirichlet likelihood embed sparse alpha 0.1 .datamsg 'parsevectorhashigherlikelihoodthandensewithalpha 0.1'assert dhl sparse 01 > dhl dense 01 msg 
def delta seconds before after delta after - before return datetime seconds delta 
def is accessible bucket name bucket name scope 'https //www.googleapis.com/auth/devstorage.read write 'https //%s.commondatastorage.googleapis.com/' % bucket name auth token _ app identity access token scope result urlfetch url method urlfetch H E A D headers {uthorization ' Auth % auth token 'x-goog-api-version' '2'} return result and result code 200
def get instructor task history course id usage key None student None task type None instructor tasks Instructor Task course id course id if usage key is not None or student is not None _ task key encode problem and student input usage key student instructor tasks instructor tasks task key task key if task type is not None instructor tasks instructor tasks task type task type return instructor tasks by '-id'
def all weighers if C O N F cost functions is not None or C O N F fill first cost fn weight is not None L O G _ 'least costhasbeendeprecatedinfavorofthe R A M Weigher return least cost least cost weighers return Host Weight Handler .get all classes 
def decompress data results []while data decomp B Z2 Decompressor try res decomp data except O S Error if results breakelse raiseresults res if not decomp raise Value Error 'ompresseddataendedbeforetheend data decomp datareturn ''.join results 
@require G E T required required 'wiki.add revisionakismetsubmission 'wiki.add documentspamattempt 'users.add userban raise exception True def spam request yesterday datetime - datetime days 1 data Spam Dashboard Historical Stats .get yesterday if not data return render request 'dashboards/spam.html' {'processing' True return render request 'dashboards/spam.html' data 
def idzr svd A k A np A U V S ier  id svd A k if ier raise  RETCODE E R R O Rreturn U V S
def add X M L From Vertexes depth output vertexes for vertex Index in xrange len vertexes vertex vertexes Index X M L From X Y Z depth + 1 vertex Index output vertex vertex vertex 
def extrude filename '' if filename '' extrude Files get G Code Files Which Are Not Log Files returnextrude File filename 
def pt value return dpi2px value 'pt'
def config file provider registry xml parent data cfp X M L Sub Element xml parent 'onfig File Build Step cfp 'plugin' 'config-file-provider' config file provider builder cfp data 
def build ems log message 1 driver name app version vserver flexvol pools aggregate pools message {'pools' {'vserver' vserver 'aggregates' aggregate pools 'flexvols' flexvol pools log  build base ems log message driver name app version ems log '1'ems log json message return ems log 
def simpler string thrift obj L []for key value in thrift obj  dict  .iteritems if value is None continueif hasattr value 'thrift spec L '%s %s' % key simpler string value else L '%s %r' % key value return '%s %s ' % thrift obj  class  .  name   ' '.join L
def patch python logging handlers logging Stream Handler Stream Handlerlogging File Handler File Handlerlogging Sys Log Handler Sys Log Handlerlogging Watched File Handler Watched File Handlerlogging Rotating File Handler Rotating File Handlerif sys info > 3 2 logging Queue Handler Queue Handler 
def partition lst f save keys False d collections Ordered Dict for l in lst c f l s d c [] s l if save keys return delse return d 
def schedule probes probes test False commit True return   salt  ['net.load template 'schedule probes probes probes test test commit commit 
def func name return name 
def  apply user agent headers user agent if user agent is not None if 'user-agent' in headers headers user agent + '' + headers else headers user agentreturn headers 
@memoizedef check key ver return check version get key ver 
def skip if lib missing libname text None soname ctypes library libname if not text text 'lib%s.so' % libname return skipif not soname and ctypes C D L L soname reason 'required%smissing' % text 
def reserve for production production order pass 
def Set Target Property output target name property name values sep '' output 'set target properties ' output target name output 'PROPERTIES' output property name output '"' for value in values output C Make String Escape value output sep output '" \n'
def lagrange interpolate x y precision 250 **kwargs n len x - 1 delta x [ x2 - x1 for x1 x2 in zip x x ] ]for i in range n + 1 yield x y if i n or delta x 0 continuefor s in range 1 precision X x + s * delta x / precision s 0for k in range n + 1 p 1for m in range n + 1 if m k continueif x - x p * X - x / x - x s + y * p yield X s 
def logmgf from counts counts noise eps l q compute q noisy max counts noise eps return logmgf exact q 2.0 * noise eps l 
@pytest.fixture autouse True def prerequisites config stub fake save manager config stub {'general' {'private-browsing' False 
def evaluate expression expression context compiled expr environment expression expression if isinstance context Lazy Dict context context compiled expr **context
@not implemented for 'directed' def efficiency G u v return 1 / nx path length G u v 
def test show dots line Line line '_' [1 2 3] q line pyquery assert len q '.dots' 3 line dots Falseq line pyquery assert len q '.dots' 0
def provision rackspace node package source distribution variants commands []commands.append run remotely username get default username distribution address node commands sequence [provision package source package source distribution node variants variants ] return sequence commands 
def normpath path slash dot u u if isinstance path unicode else '/' '.' if path '' return dotinitial slashes path '/' if initial slashes and path '//' and not path '///' initial slashes 2comps path '/' new comps []for comp in comps if comp in '' '.' continueif comp ! '..' or not initial slashes and not new comps or new comps and new comps -1 ] '..' new comps comp elif new comps new comps comps new compspath slash comps if initial slashes path slash * initial slashes + path return path or dot 
def get all comments q Comment query sort desc ' date return make results q 
def  Get App Id request if request app id return request id else return None 
def  ask for it by name name bits str name .split '.' if len bits > 1 modulename '.'.join bits -1 ] else modulename bits   import   modulename {} {} bits -1 ] if len bits 1 return moduleelse return getattr module bits -1 ]
def pr get path pe id s3db current s3db affiliationrtable s3db rolequery atable ! True & atable id rtable & atable id pe id & rtable ! True & rtable type OU roles current query .select rtable rtable id rtable rtable type multipath S3 Multi Path append multipath role in roles path S3 Multi Path [role.pe id if role is None ppath pr role rebuild path role else ppath S3 Multi Path role path role id ppath cut pe id for p in path append p return multipath 
def make check exc type template pred actual funcname if isinstance funcname str def get funcname _ return funcnameelse get funcname funcnamedef  check func argname argvalue if pred argvalue raise exc type template % {'funcname' get funcname func 'argname' argname 'actual' actual argvalue } return argvaluereturn  check 
def  create players jsonf None if jsonf is None jsonf  player json filetry data json open jsonf .read except I O Error return {}players {}for playerid in data players Player data return players 
def add error e saved errors e log '%-70s\n' % e 
def setup fast link prog builder top env new link action Make Action fast link prog action '$LINKCOMSTR' program S Cons Builder Builder action new link action emitter '$PROGEMITTER' prefix '$PROGPREFIX' suffix '$PROGSUFFIX' src suffix '$OBJSUFFIX' src builder 'bject target scanner S Cons Scanner Prog Program Scanner top env B U I L D E R S Program program 
def stop training log likelihood change num iterations if VERBOSE print 'llchange %f' % log likelihood change if log likelihood change < 0.01 return 1elif num iterations > 10 return 1else return 0
def normal power effect size nobs alpha alternative 'two-sided' sigma 1.0 d effect sizeif alternative in ['two-sided' '2s'] alpha  alpha / 2.0 elif alternative in ['smaller' 'larger'] alpha  alphaelse raise Value Error "alternativehastobe'two-sided' 'larger'" + "or'smaller'" pow  0if alternative in ['two-sided' '2s' 'larger'] crit stats alpha  pow  stats crit - d * np nobs / sigma if alternative in ['two-sided' '2s' 'smaller'] crit stats alpha  pow  + stats crit - d * np nobs / sigma return pow 
def  Property Name proto field name return proto field name 
def make meter query for resource start timestamp start timestamp op end timestamp end timestamp op source query None start rts end rts get start end rts start timestamp end timestamp mq []start op start timestamp op or 'ge' end op end timestamp op or 'lt' if start rts filter value start rts + ' ' + quote source if source else start rts mq  Qualifier Filter OP SIGN R E V op filter value if end rts filter value end rts + ' ' + quote source if source else end rts mq  Qualifier Filter OP SIGN R E V op filter value if mq meter q ' N D mq meter q  Qualifier Filter ' ' '' + 'AND' + meter q query meter q if not query else query + 'AND' + meter q return query 
@depends HAS ESX CLI def get syslog config host username password protocol None port None esxi hosts None cmd 'systemsyslogconfigget'ret {}if esxi hosts if not isinstance esxi hosts list raise Command Execution Error "'esxi hosts for esxi host in esxi hosts response salt host username password cmd protocol protocol port port esxi host esxi host ret {esxi host  format syslog config response } else response salt host username password cmd protocol protocol port port ret {host  format syslog config response } return ret 
def rollback unless managed if not is managed connection rollback else set dirty 
def Adjust Candidate Insertion Text candidates def New Candidate Insertion Text to insert text after cursor overlap len Overlap Length to insert text after cursor if overlap len return to insert - overlap len ]return to inserttext after cursor vimsupport Text After Cursor if not text after cursor return candidatesnew candidates []for candidate in candidates if isinstance candidate dict new candidate candidate if u not in new candidate new candidate new candidate candidate New Candidate Insertion Text new candidate text after cursor new candidates new candidate elif isinstance candidate str or isinstance candidate bytes new candidates {u'abbr' candidate u New Candidate Insertion Text candidate text after cursor } return new candidates 
def Check Useless Component Modules virtualenv interpreter virtualenv pip os os virtualenv interpreter 'pip' component modules set subprocess output [virtualenv pip 'freeze'] env Get Clean Environment .splitlines client modules dict x x for x in pip installed distributions for component name in component modules if ' ' not in component name continue dist name version component name ' ' if dist name in SKIPPED MODULES continueclient mod version client modules dist name if client mod version is not None print 'selessclientmodule % dist name if client mod version ! version print 'onflictingcomponentmoduleversion %s withclientversion %s ' % version client mod version 
def create Python Object Builder env try pyobj env B U I L D E R S Python Object Key Error pyobj S Cons Builder Builder action {} emitter {} prefix '$PYEXTOBJPREFIX' suffix '$PYEXTOBJSUFFIX' src builder [ File ' X X File source scanner Source File Scanner single source 1 env B U I L D E R S Python Object pyobjreturn pyobj 
def ssl protocols labels return  SSL PROTOCOLS LABELS
def rss if not auth has role ADMIN auth tablename 'msg rss s3db rsss3 strings Storage title display T ' S S Post Details title list T ' S S Posts label list button T 'iew R S S Posts label delete button T 'elete Post msg record deleted T ' S S Postdeleted msg list empty T 'o Postsavailable s3db tablename editable False insertable False list fields ['id' 'date' 'body'] return s3 rest controller 
def mnc2mvsk args mnc mnc2 mnc3 mnc4 argsmc mncmc2 mnc2 - mnc * mnc mc3 mnc3 - 3 * mc * mc2 + mc ** 3 mc4 mnc4 - 4 * mc * mc3 + 6 * mc * mc * mc2 + mc ** 4 return mc2mvsk mc mc2 mc3 mc4 
@interruptabledef xread fh size -1 encoding None errors u return decode fh size encoding encoding errors errors 
def  Absolute Path filename application root python lib _ lib suffix filename '$PYTHON LIB/' if lib filename os python lib suffix else filename os application root filename if filename os or os filename filename os filename '  init  .py' return filename 
def figaspect arg isarray hasattr arg 'shape' figsize min np 4.0 2.0 figsize max np 16.0 16.0 if isarray nr nc arg 2]arr ratio float nr / nc else arr ratio float arg fig height rc Params np fig height / arr ratio fig height newsize / min 1.0 * newsize / figsize min newsize / max 1.0 * newsize / figsize max newsize np newsize figsize min figsize max return newsize 
@ignore warnings category Deprecation Warning def test fit predict lrng np Random State 101 n samples n dim n comps 100 2 2 mu np [[8 8]] component 0 lrng n samples n dim component 1 lrng n samples n dim + mu X np component 0 component 1 for m constructor in mixture G M M mixture V B G M M mixture D P G M M model m constructor n components n comps covariance type 'full' min covar 1e-07 n iter 5 random state np Random State 0 assert fit predict correct model X model mixture G M M n components n comps n iter 0 z model predict X assert np z 0 'uick Initialization Failed 
def load dynamic class fqn subclass if not isinstance fqn basestring return fqncls load class from name fqn if cls subclass or not issubclass cls subclass raise Type Error '%sisnotavalid%s' % fqn subclass  name   return cls 
def ttest ind x1 x2 alternative 'two-sided' usevar 'pooled' weights None None value 0 cm Compare Means Descr Stats W x1 weights weights ddof 0 Descr Stats W x2 weights weights ddof 0 tstat pval dof cm ind alternative alternative usevar usevar value value return tstat pval dof 
def get Title From Name title if title -1 ] ' ' title title -1 ]racket Index title ' ' if space Bracket Index > -1 return title space Bracket Index title 
def list inactive vms conn   get conn vms []for id  in conn Defined Domains vms id  return vms 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def job name jobs  jobs if name in jobs return {'job' jobs None 
@ile System directory current directory 'django' 'cucumber' def test django against cucumber django project status out run scenario assert 'beforeharvest' in out assert 'afterharvest' in out 
def set p to zero pvect i new pvect T subtensor pvect 0.0 new pvect new pvect / new pvect return new pvect 
def Validate Certificate Hostname cert hostname hosts Get Valid Hosts For Cert cert boto 'validatingservercertificate hostname %s certificatehosts %s' hostname hosts for host in hosts host re host '.' '\\.' .replace '*' '[^.]*' if re '^%s$' % host re hostname re I return Truereturn False 
def get path to egg path lastpath Nonewhile path and path ! lastpath if os path [1].lower '.egg' if os path or os path return pathlastpath pathpath os path return None 
def angle point1 point2 angle Q Line F point1 point2 .angle if angle > 180 return angle - 360 else return angle 
def compile internal typingctx targetctx library func args return type flags locals pipeline Pipeline typingctx targetctx library args return type flags locals return pipeline extra func 
def test lex line counting multi inner entry tokenize ' foo ' [0]inner entry inner line 1 assert inner column 2 inner entry inner line 2 assert inner column 5
def get jobs server  connect jobs server jobs if jobs return jobsreturn {}
def model to dict instance fields None exclude None from django import Many To Many Fieldopts instance metadata {}for f in opts fields + opts fields + opts to many if not getattr f u False continueif fields and not f in fields continueif exclude and f in exclude continueif isinstance f Many To Many Field if instance is None data []else data list f from object instance .values list u flat True else data f from object instance return data 
def mk Compound Filter parts transformers []filters []for subfilter in parts try subfilter list subfilter except Type Error if hasattr subfilter 'ervice Endpoints filters subfilter elif hasattr subfilter 'asic Service Endpoint transformers subfilter Basic Service Endpoint elif callable subfilter transformers subfilter else raise filter type errorelse filters mk Compound Filter subfilter if transformers filters Transform Filter Maker transformers if len filters 1 return filters return Compound Filter filters 
def test unit division by string u1 u u us / u1 u Unit us / u1 assert u1 / us u1 / u Unit us 
def timestamp custom value date format DATE STR FORMAT local True try date dt util from timestamp value if local date dt util local date return date date format except Value Error Type Error return value 
def split arg string string rv []for match in re ' \' [^\'\\\\]* ? \\\\.[^\'\\\\]* * \'|" [^"\\\\]* ? \\\\.[^"\\\\]* * "|\\S+ \\s*' string re S arg match .strip if arg 1] arg -1 ] and arg 1] in '"\'' arg arg -1 ].encode 'ascii' 'backslashreplace' .decode 'unicode-escape' try arg type string arg except Unicode Error passrv arg return rv 
def educate Single Backticks str str re '`' '&#8216;' str str re "'" '&#8217;' str return str 
def Replace All pattern rep s if pattern not in  regexp compile cache  regexp compile cache sre compile pattern return  regexp compile cache rep s 
def get bumper settings video bumper settings copy getattr video 'video bumper {} for lang transcript url in bumper settings 'transcripts' {} .items bumper settings transcript url '/static/' '' return bumper settings 
def extract command text return text [0].split '@' [0][1 ] if is command text else None 
def stde x1 x2 ddof 0 axis 0 x1 np x1 x2 np x2 return np x1 - x2 ddof ddof axis axis 
@autojitdef mandel x y max iters i 0c complex x y z 0jfor i in range max iters z z * z + c if z * z + z * z > 4 return ireturn 255
def test generate accepted kwargs source dictionary {'argument1' 1 'argument2' 2 'hey' 'there' 'hi' 'hello'}kwargs hug accepted kwargs function with kwargs 'bacon' 'argument1' source dictionary assert kwargs source dictionary kwargs hug accepted kwargs function with args 'bacon' 'argument1' source dictionary assert kwargs {'argument1' 1} kwargs hug accepted kwargs function with neither 'argument1' 'argument2' source dictionary assert kwargs {'argument1' 1 'argument2' 2} kwargs hug accepted kwargs function with both 'argument1' 'argument2' source dictionary assert kwargs source dictionary 
def get test content type obj return u 
def time to seconds x if isinstance x time return x * 60 + x * 60 + x * 10 ** 6 + x / 10 ** 6 if is str x return xreturn x and max 0 min x 24 * 3600 - 10 ** -6
def is sequence of booleans obj if not cbook obj return False it isinstance x bool for x in obj if all  it return Truereturn False 
def  validate format req values amazon formats 'aki' 'ari' 'ami' disk format values 'disk format container format values 'container format if 'disk format in values if disk format not in C O N F format formats msg _ "nvaliddiskformat % disk format raise H T T P Bad Request explanation msg request req if 'container format in values if container format not in C O N F format formats msg _ "nvalidcontainerformat % container format raise H T T P Bad Request explanation msg request req if any f in amazon formats for f in [disk format container format if disk format is None values format container formatelif container format is None values format disk formatelif container format ! disk format msg _ "nvalidmixofdiskandcontainerformats Whensettingadiskorcontainerformattooneof 'ari' or thecontaineranddiskformatsmustmatch raise H T T P Bad Request explanation msg request req 
def getchar echo False f  getcharif f is None from . termui impl import getchar as freturn f echo 
def  build es excerpt result first only False bits [m.strip for m in chain *result.es meta ]if first only and bits excerpt bits excerpt EXCERPT J O I N E R bits return jinja2 Markup clean excerpt excerpt 
def cap history rheader r rheader Noneif r 'html' record r record T current Tdb current current r 'cap alert history alert id record s3db info historyrow db itable history id alert id .select itable limitby 0 1 .first tabs [ T 'lert Details None T 'nformation 'info history T 'rea 'area history T 'esource Files 'resource history ]rheader tabs s3 rheader tabs r tabs rheader DIV TABLE TR TH '%s ' % T 'lert TD A s3db alert represent alert id record  href URL c 'cap' f 'alert' args [alert id 'update'] rheader tabs return rheader 
def test epoch combine ids raw events picks  get data epochs Epochs raw events {'a' 1 'b' 2 'c' 3 'd' 4 'e' 5 'f' 32} tmin tmax picks picks preload False events new merge events events [1 2] 12 epochs new combine event ids epochs ['a' 'b'] {'ab' 12} assert equal epochs new 'ab' assert array equal events new epochs new 
def create or resurrect dir tp name parent try directory Directory parent parent name name directory Falseexcept Directory Does Not Exist directory Directory name name parent parent tp tp return directory 
def rangename3drel book ref3d browx None bcolx None r1c 0 coords ref3d ref3d sheetrangerel book coords 2] relflags 2] rngdesc rangename2drel coords 6] relflags 6] browx bcolx r1c if not shdesc return rngdescreturn '%s!%s' % shdesc rngdesc 
def request wants json request best request mimetypes match ['application/json' 'text/html'] return best 'application/json' and request mimetypes > request mimetypes 
def ffill across cols df columns name map df inplace True for column in columns column name name map column categorical dtype df name df pd df name column value else df name df name column value .astype column 
def test columns flag script data script 'install' '-f' data links '--no-index' 'simple 1.0' 'simple2 3.0' result script 'list' '--format columns assert 'ackage in result str result assert 'ersion in result str result assert 'simple 1.0 ' not in result str result assert 'simple1.0' in result str result assert 'simple23.0' in result str result 
def  reshape clusters clusters sample shape if len clusters > 0 and isinstance clusters np if clusters bool clusters [c.reshape sample shape for c in clusters clusters [np.unravel index c sample shape for c in clusters clusters 
def get session input try display color B GREEN + '[' + color B YELLOW + 'session' + color B GREEN + '][' + color B YELLOW + 'number' + color B GREEN + ']' + color B WHITE + '>' tmp raw input display module number tmp '' if not module is None and not number is None return int module int number except Exception Error 'ustspecify return None None 
def test real func @functools.wraps func def guard func *args **kwargs real kwargs ' test real None if not real raise Exception 'orgottomockorpass test real True func  name   return func *args **kwargs return guard func 
def set system info key value obj Noneobj meta Session System Info .filter by key key .first if obj and obj unicode value returnif not obj obj System Info key value else obj unicode value from ckan import reporev repo revision rev 'et infotable key meta Session obj meta Session return True 
def create feed and todo add info comment **{u'subject' _ u E R P Next Setup Complete }
def xor key data avoid '\x00\n' size None size size or context if len data % size log 'atamustbepaddedtosizeforxor key words lists size data columns [''] * size for word in words for i byte in enumerate word columns + bytealphabet list chr n for n in range 256 if chr n not in avoid result ''for column in columns if context random alphabet for c2 in alphabet if all chr ord c ^ ord c2 in alphabet for c in column result + c2breakelse return Nonereturn result xor data result 
def Render Token Approved Template return TOKEN APPROVED TEMPLATE
def frombuffer mode size data decoder name 'raw' *args  check size size if len args 1 and isinstance args tuple args args decoder name 'raw' if args warnings "thefrombufferdefaultsmaychangeinafuturerelease;forportability changethecalltoread \nfrombuffer mode size data 'raw' mode 0 1 " Runtime Warning stacklevel 2 args mode 0 -1 if args in  MAPMODES im new mode 1 1 im im new core buffer data size decoder name None 0 args im 1return imreturn frombytes mode size data decoder name args 
def wrap non libcloud exceptions func @wraps func def decorated function *args **kwargs try return func *args **kwargs except Exception e sys info [1]if isinstance e Libcloud Error raise eif len args > 1 driver args driver Nonefault getattr e 'fault' None if fault and getattr fault 'string' None message fault message e Libcloud Error value message driver driver return decorated function 
def  run command cmd logging ''.join cmd pipe subprocess P I P Eproc subprocess Popen cmd stdin pipe stdout pipe stderr pipe close fds True out err proc if proc is not os E X OK raise Xenstore Error cmd proc err out return proc out 
def html2pdf data filename open file False pdf pisa Create P D F six String I O data file filename 'wb' if open file and not pdf pisa Viewer filename return not pdf 
def exportdb cmd 'udevadminfo--export-db'udev result   salt  ['cmd.run all cmd output loglevel 'quiet' if udev result raise Command Execution Error udev result return  parse udevadm info udev result 
def from prufer sequence sequence n len sequence + 2 degree Counter chain sequence range n T nx graph n not orphaned set index u min k for k in range n if degree 1 for v in sequence T edge u v not orphaned u degree - 1if v < index and degree 1 u velse index u min k for k in range index + 1 n if degree 1 orphans set T - not orphaned u v orphans T edge u v return T
def get Sab Acces Method host None params {u'mode' u u u urljoin host u data helpers U R L url params params session session returns u verify False if not data return False data return  check Sab Response data 
def get interface stats snmp device snmp user stat type row number oid dict {'in octets '1.3.6.1.2.1.2.2.1.10' 'out octets '1.3.6.1.2.1.2.2.1.16' 'in ucast pkts '1.3.6.1.2.1.2.2.1.11' 'out ucast pkts '1.3.6.1.2.1.2.2.1.17'}if not stat type in oid dict raise Value Error 'nvalidvalueforstat type {}' % stat type row number int row number oid oid dict type oid + '.' + str row number snmp data snmp get oid v3 snmp device snmp user oid return int snmp extract snmp data 
def depth first search node visit lambda node False traversable lambda node edge True  visited None stop visit node  visited  visited or {}  visited Truefor n in node if stop return Trueif traversable node node n is False continueif not n in  visited stop depth first search n visit traversable  visited return stop 
@lower getattr types Memory View 'nbytes' def array nbytes context builder typ value arrayty make array typ array arrayty context builder value dims cgutils tuple builder array typ res builder array array return impl ret untracked context builder typ res 
def add stokes axis to wcs wcs add before ind inds [ i + 1 for i in range wcs ]inds.insert add before ind 0 newwcs wcs inds newwcs before ind u S T O K E S before ind u S T O K E S newwcs 
def security group in use context group id return I M P L group in use context group id 
def succeed without changes name ret {'name' name 'changes' {} 'result' True 'comment' 'uccess ret 
def python version string version None major minor micro release level serial split python version version s '%d.%d' % major minor if micro > 0 s + '.%d' % micro if release level ! 'final' s + release level + '%s' % serial return s 
def directories path list use sudo False owner '' group '' mode '' for path in path list directory path use sudo owner group mode 
def recursive glob path pattern for root dirnames filenames in os path followlinks True for filename in fnmatch filenames pattern yield os root filename 
def base62 encode num alphabet ALPHABET if num 0 return alphabet []base len alphabet while num rem num % base num num // base arr alphabet arr return ''.join arr 
def scroll backward event half False w  current window for event event b event bufferif w and w info info w infoscroll height info heightif half scroll height // 2y max 0 b position row - 1 height 0while y > 0 line height info height for line y if height + line height < scroll height height + line heighty - 1else breakb position b row col to index y 0
def run conv nnet2 classif use gpu seed isize ksize bsize n train 10 check isfinite True verbose 0 version -1 utt rng seed train params x shape y shape mode build conv nnet2 classif use gpu use gpu isize isize ksize ksize n batch bsize verbose verbose version version check isfinite check isfinite xval my rand *x shape yval my rand *y shape lr theano asarray 0.01 dtype 'float32' rvals my zeros n train for i in xrange n train rvals train xval yval lr [0]
def  convert to array of mor mors array of mors Data Object array of mors Managed Object Reference morsreturn array of mors 
def  iterate trans views function **kwargs from scipy import imreadimport matplotlib as pltimport mayavifig function **kwargs assert isinstance fig mayavi Scene views [ 90 90 0 90 0 -90 ] fig2 axes plt 1 len views for view ax in zip views axes mayavi view view tempdir  Temp Dir temp fname op tempdir 'test.png' if fig is not None fig png temp fname im imread temp fname else im np 2 2 3 ax im ax 'off' mayavi fig img  fig to img fig fig2 return img 
def test fourier series square wave square wave Piecewise 1 x < pi -1 True s fourier series square wave x 0 2 * pi assert s 3 4 / pi * sin x + 4 / 3 * pi * sin 3 * x + 4 / 5 * pi * sin 5 * x assert s approximation 4 4 / pi * sin x * sinc pi / 4 + 4 / 3 * pi * sin 3 * x * sinc 3 * pi / 4
def set match strings match Dict value for key in match Dict v match Dict not isinstance v str continuel len value if v l value match Dict type keymatch Dict string v l string v ]if next string match Dict string next stringbreakelif key 'addr' and value in v match Dict type key pre string next string v .split value 1 if pre string match Dict string v len pre string ]if next string match Dict string v len pre string + l ]ict string v pre string ][ l 
def educate ellipses s return s '...' '&#8230;' .replace '...' '&#8230;'
def datepublisher response processor page request response expires page end dateif expires is not None delta expires - timezone delta int delta * 86400 + delta patch response headers response delta 
def str regexes regex template Template 'matchgroup Normal + 'start + ${raw}${sep}+' + 'end +${sep}+' + '${skip}' + '${contains}' skip regex Template 'skip +\\\\\\\\\\|\\\\${sep}+' for raw in '' ' for separator in "'" '"' '"""' "'''" if len separator 1 skip skip regex sep separator else skip ''contains 'contains python Escape if not raw else '' yield regex template raw raw sep separator skip skip contains contains 
def get Diagonal Switched Tetragrid angle Degrees diagonals unit Polar euclidean Widdershins Unit Polar math angle Degrees diagonal Switched Tetragrid get Identity Matrix Tetragrid for diagonal in diagonals diagonal Switched Tetragrid unit Polar Switched Tetragrid - unit Polar diagonal Switched Tetragrid unit Polar diagonal Switched Tetragrid 
def validate api version version if float version < legacy api M I N VERSION return Falseif float version > legacy api M A X VERSION return Falsereturn True 
def crc16 string value 0 crc16 table []for byte in range 256 crc 0for bit in range 8 if byte ^ crc & 1 crc crc >> 1 ^ 40961 else crc >> 1byte >> 1crc16 table crc for ch in string value crc16 table ord ch ^ value & 255 ] ^ value >> 8 return value 
def  get metrics jobs date None if not date date Update Count max Max 'date' ['max']stats {'addon total updatepings lambda Update Count date date .aggregate sum Sum 'count' ['sum'] 'collector updatepings lambda Update Count addon settings A D D O N COLLECTOR ID date date .count }return stats 
def  make index prob size rv np size size 1 cumprob np prob return np and np [ 0 cumprob -1 ] ] < rv rv < cumprob 
def add vecs to vocab vocab vectors length len vectors vocab vectors length for word vec in vectors vocab vecreturn vocab 
def circulant graph n offsets create using None G empty graph n create using template 'circulant graph %d [%s] ' template % n ' '.join str j for j in offsets for i in range n for j in offsets G edge i i - j % n G edge i i + j % n return G
def worktree browser update True settings None view worktree browser widget None update update settings settings view return view 
def sum outer product loop x group iter mom 0for g in group iter x g x + np x g x g return mom 
def evaluate sents inputs grammar model assignment trace 0 return [[ syn sem model u % sem assignment trace trace for syn sem in interpretations for interpretations in interpret sents inputs grammar ]
def configured cluster for nodes reactor certificates nodes dataset backend dataset backend configuration dataset backend config file provider None logging config None default volume size get default volume size dataset backend configuration cluster Cluster all nodes pvector nodes control node nodes agent nodes nodes dataset backend dataset backend default volume size default volume size certificates certificates dataset backend config file dataset backend config file configuring perform make dispatcher reactor configure cluster cluster dataset backend configuration provider logging config configuring Callback lambda ignored cluster return configuring 
def object shasign record False res model '' res id None **kw secret request parameter .get param 'database.secret' shasign Falsetimestamp int time if record shasign sha1 '%s%s%s%s' % record name record secret timestamp .hexdigest elif res model and res id shasign sha1 '%s%s%s%s' % res model res id secret timestamp .hexdigest return shasign timestamp 
def list2cmdline seq result []needquote Falsefor arg in seq bs buf []if result result '' needquote '' in arg or ' DCTB ' in arg if needquote result '"' for c in arg if c '\\' bs buf c elif c '"' result '\\' * len bs buf * 2 bs buf []result.append '\\"' else if bs buf result bs buf bs buf []result.append c if bs buf result bs buf if needquote result bs buf result '"' return ''.join result 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def test compute recall tp pyval 4ys pyval np [0 1 1 0 1 1 0] tp shared X tp pyval name 'tp' ys shared X ys pyval name 'ys pyval recall py tp pyval / ys pyval recall compute recall ys tp assert np recall recall py 
def  built in directive directive directive Truereturn directive 
def  retrieve extra groups conf key None delimiter ' ' results []for parsed file in cfg C O N F cparser for parsed item in parsed file if parsed item not in cfg C O N F items key and parsed item delimiter if not key or key items results parsed item return results 
def getdecoder encoding return lookup encoding .decode
def unique ancestors node results []try current node except Attribute Error return resultswhile current and len current 1 results current current current return results 
def  order json data srv new data Ordered Dict for field in FIELD O R D E R new data sorted dict data data field None data Ordered Dict sorted data key lambda t t for key in data new data sorted dict data return new data 
def get localzone return  get localzone 
def prepend dev device name return device name and '/dev/' + strip dev device name 
def get wiki title wiki url try content requests wiki url .textreturn content 'title' [1].split '-' [0].split '>' [1].strip except return os wiki url .replace '_' ''
def  triangle coords r geom best r1 geom nn geom geom geom geom geom geom r - r1 z np rr * tri nn v1 np rr * r12 v2 np rr * r13 det a * b - c * c x b * v1 - c * v2 / det y a * v2 - c * v1 / det return x y z 
def normalize paths value parent os if not value or isinstance value list return valuepaths []for path in value ' ' if '/' in path path os os parent path paths path '/' return paths 
def localcontext ctx None if ctx is None ctx getcontext return  Context Manager ctx 
def  set read options request eventual transaction id if eventual and transaction id is not None raise Value Error 'alsewheninatransaction opts request optionsif eventual opts consistency  datastore pb2 Read Options E V E N T U A Lelif transaction id opts transaction id 
def  group type get full context id return  group type get context id session None inactive False expected fields 'group specs 'projects'
def process app global key value options app globals from config details key key get globals key key if options if 'name' in options key options value or options 'default' '' data type options 'type' if data type 'bool' value asbool value elif data type 'int' value int value elif data type 'split' value value return key value 
def get crawler spidercls None settings dict None from scrapy import Crawler Runnerfrom scrapy import Spiderrunner Crawler Runner settings dict return runner crawler spidercls or Spider 
def read tag info fid tag  read tag header fid if tag is None return Noneif tag 0 fid tag 1 elif tag > 0 fid tag 0 return tag 
def parse data function def wrapper *args **kwargs dicts kwargs 'dicts' True expanded kwargs 'expanded' True output function *args **kwargs if dicts and output try if expanded output map unparse model data output else output [item for item in output ]except Type Error Operational Error logging 'ocontentdatabasefilefound output []return outputreturn wrapper 
def test install folder using slash in the end script script path 'mock' .mkdir pkg path script path / 'mock' pkg path 'setup.py' .write mock100 setup py result script 'install' 'mock' + os egg folder script packages / 'mock-100.1-py%s.egg-info' % pyversion assert egg folder in result created str result 
def product mul self other method 0 from sympy import Productif type self type other if method 0 if self other return Product self * other *self.limits elif method 1 if simplify self - other 0 if len self len other 1 i self self self other other other i j if x2 y1 + 1 return Product self i x1 y2 elif x1 y2 + 1 return Product self i x2 y1 return Mul self other 
def delete secondary backup base path if not remove '{0}{1}'.format base path BACKUP ROLLBACK SUFFIX logging 'osecondarybackuptoremove Skipping 
def parse kconfig data config {}NOT SET 'isnotset'if not data returnfor line in data if NOT SET in line line line NOT SET 1 [0]name line '#' config Noneif ' ' in line k v line ' ' 1 if v 'y' v Trueelif v 'n' v Falseelse try v int v 0 except Value Error passconfig vconfig {k.replace 'CONFIG ' '' v for k v in config }return config 
def in top k predictions targets k predictions top k T predictions [ - k ] result _ theano lambda prediction target any equal prediction target sequences [predictions top k targets return result 
@snippetdef topic exists client to delete TOPIC NAME 'topic exists %  millis topic client TOPIC NAME to delete topic assert not topic topic assert topic 
def getwords line line line ' DCTB ' '' .strip return [w for w in line '' if w 
def instantiate descriptor **field data system get test descriptor system course key Slash Separated Course Key 'org' 'course' 'run' usage key course key usage key 'html' 'ample Html return system xblock from class Html Descriptor scope ids Scope Ids None None usage key usage key field data Dict Field Data field data 
def get project request project skip acl False project get object or 404 Project slug project if not skip acl project acl request return project 
def get added demultiplex field ids bcs added field fasta label added demultiplex field for curr bc added field in ids bcs added field curr added field curr bc added field added demultiplex field 'run prefix curr label slice fasta label len curr added field ]if curr label slice curr added field return curr label sliceelse if curr added field not in fasta label continuecurr label slice fasta label added demultiplex field + ' ' [1][0 len curr added field ]if curr label slice curr added field return curr label slicereturn None 
def report failure exception raise Failed Execution 'xceptionencountered Rerunwithloglevel D E B U Gand Elasticsearchlogsformoreinformation Exception {0}'.format exception 
def ensure fs mode filepath desired mode S IWRITE mode stat filepath [ST M O D E not mode & desired mode chmod filepath mode | desired mode 
def CAN MODERATE article user return  is staff for article article user 
def sympy config mpl backend if mpl backend is not None lines '\nfromsympy.interactiveimportinit session session \n%matplotlib{0}\n'.format mpl backend else lines '\nfromsympy.interactiveimportinit session session \n'return lines 
def Get Comment plist global commentslabel plist Label Noneif label in comments comment comments comment 
def RGS enum m if m < 1 return 0elif m 1 return 1else return bell m 
def guess lexer  text **options best lexer [0.0 None lexer in  iter lexerclasses rv lexer text  text if rv 1.0 return lexer **options if rv > best lexer best lexer ] rv lexer if not best lexer or best lexer is None raise Class Not Found 'nolexermatchingthetextfound' return best lexer **options
@anonymous csrf template 'questions/{mobile/}marketplace developer request def marketplace developer request request template error message Noneif request 'GET' form Marketplace Developer Request Form request else form Marketplace Developer Request Form request request P O S T if form valid try form ticket return Http Response Redirect reverse 'questions.marketplace aaq success except Zendesk Error error message ZENDESK ERROR M E S S A G Ereturn render request template {'form' form 'error message error message 
@ ec dispatcher for ops Migration Script def  migration script ops context directive phase version path cli get version branch path context release cli C U R R E N T RELEASE branch phase autogen kwargs {}cli. check bootstrap new branch phase version path autogen kwargs op ops Migration Script new rev id ops Upgrade Ops ops [d for d in  assign directives context directive ops phase ] ops Downgrade Ops ops [] message directive **autogen kwargs if not op ops empty return op 
def  generate failed chall msg failed achalls error failed achalls error messages acme error error typ error [hefollowingerrorswerereportedbytheserver ']for achall in failed achalls msg 'omain %ype %etail %s' % achall typ achall if typ in  ERROR HELP msg '\n\n' msg  ERROR H E L P return ''.join msg 
def get detail view name model return '% model name s % {'app label model meta label 'model name model meta name }
def get installed products shop return configuration shop SAMPLE PRODUCTS KEY or []
def set vif host backend hostdev pci config conf pci slot conf conf conf conf pci utils pci address fields pci slot 
def find tex file filename format None cmd ['kpsewhich']if format is not None cmd + [ '--format ' + format ]cmd + [filename]matplotlib.verbose.report 'find tex file %s %s' % filename cmd 'debug' pipe subprocess Popen cmd stdout subprocess P I P E result pipe [0].rstrip matplotlib 'find tex fileresult %s' % result 'debug' return result 
def get descriptors image filtered coords wid 5 desc []for coords in filtered coords patch image coords - wid coords + wid + 1 coords - wid coords + wid + 1 ].flatten desc patch return desc 
def running name sig None return status name .get name False 
def skip unless importable module msg None try   import   module except Import Error return skip if True msg else return skip if False msg 
def get current timezone name return  get timezone name get current timezone 
def copytree src dst copydates 1 if os src mkdirs dst files os src for f in files copytree os src f os dst f copydates else copy src dst 1 copydates 
def is ascii encoding encoding try return codecs encoding .name 'ascii' except Lookup Error return False 
@patch 'static replace storage autospec True @patch 'static replace autospec True def test static url with query mock modulestore mock storage mock storage value Falsemock modulestore value Mock Mongo Module Store pre text ' M B E Dsrc " Alec04 controller Config File / Alec04 config value1 value2 text ' M B E Dsrc " Alec04 controller Config File %c4x Forg Fcourse Fasset F L Alec04 config value1 value2 equals post text replace static urls pre text DATA DIRECTORY COURSE KEY
def list repos basedir None basedirs  normalize basedir basedir repos {}log.debug 'earchingforreposin basedirs for bdir in basedirs if not os bdir continuefor repofile in os bdir repopath '{0}/{1}'.format bdir repofile if not repofile '.repo' continuefilerepos  parse repo file repopath [1]for reponame in filerepos repo filerepos repopathrepos reporeturn repos 
def load npz file loaded np file try matrix format loaded Key Error raise Value Error 'hefile file try cls getattr scipy '{} matrix matrix format except Attribute Error raise Value Error 'nknownmatrixformat matrix format if matrix format in 'csc' 'csr' 'bsr' return cls loaded loaded loaded shape loaded elif matrix format 'dia' return cls loaded loaded shape loaded elif matrix format 'coo' return cls loaded loaded loaded shape loaded else raise Not Implemented Error 'oadisnotimplementedforsparsematrixofformat matrix format 
def coroutine func replace callback True return  make coroutine wrapper func replace callback True 
def add pair to dict key value dictionary if key in dictionary dictionary value else dictionary [value]
def gemset list ruby 'default' runas None gemsets []output  rvm do ruby ['rvm' 'gemset' 'list'] runas runas if output regex re '^ [^]+ ' for line in output match regex line if match gemsets match 1 return gemsets 
def Is Confirmed Cookie confirm time return confirm time is not None and util Get Current Timestamp < confirm time +  CONFIRM TIME LIMIT
def dnslookup str if str '' str ''if str in string try value socket str [0]except value 'ookupfailed try value socket str except value 'ookupfailed value 
def init parser parser argparse Argument Parser description 'estoreapplicationcodeanddata main args parser argument group 'mainargs' main args argument '-a' '--app-id' required True help 'heapplication I Dtorestoredataunder main args argument '-b' '--backup-dir' required True help 'hebackupdirectorytorestoredatafrom main args argument '-c' '--clear-datastore' required False action 'store true default False help 'tartwithacleandatastore main args argument '-d' '--debug' required False action 'store true default False help 'isplaydebugmessages return parser 
def get all eip addresses addresses None allocation ids None region None key None keyid None profile None return [x.public ip for x in  get all eip addresses addresses allocation ids region key keyid profile ]
def find first level groups span string enclosing opening closing enclosingdepth []result []for i c in enumerate string if c opening depth i elif c closing try start depth end iif not depth result start end + 1 except Index Error passreturn result 
@deprecated u def allpairs x return [ s f for i f in enumerate x for s in x i + 1 ]]
def real name magic func magic name magic func  name  if magic name 'magic ' magic name magic name 'magic ' ]return getattr magic func 'argcmd name magic name 
def create Ticket Message raw Ticket H M A C Key assert len raw Ticket const T I C K E T LENGTH assert len H M A C Key const T I C K E T HMAC KEY LENGTH padding mycrypto Random random 0 const M A X PADDING LENGTH - const T I C K E T LENGTH mark mycrypto H M A C SHA256 128 H M A C Key raw Ticket hmac mycrypto H M A C SHA256 128 H M A C Key raw Ticket + padding + mark + util Epoch return raw Ticket + padding + mark + hmac 
def  keygen callback return 
def get New Repository return Fill Repository 
def author name import getpassname getpass try import pwdlogin namename pwd login [4]name ''.join name ' ' if not name name loginexcept passtry name name 'utf-8' except Attribute Error passreturn name 
def spawn main pipe handle parent pid None tracker fd None assert is forking sys if sys 'win32' import msvcrtfrom .reduction import steal handlenew handle steal handle parent pid pipe handle fd msvcrt osfhandle new handle os O RDONLY else from . import semaphore trackersemaphore tracker semaphore tracker fd tracker fdfd pipe handleexitcode  main fd sys exitcode 
def process command command options command registry for entry in command registry if command entry name entry commandline request options returnraise Value Error 'nknowncommand command 
def mark Location stream RADIUS 5000stream.seek - RADIUS 1 output Doc open 'y P D F2 pdf Location 'w' output Doc stream RADIUS output Doc 'HERE' output Doc stream RADIUS output Doc stream - RADIUS 1
def missing int L sum n 0sum n less 1 0for i in range len L + 1 sum n + isum n less 1 sum L return sum n - sum n less 1
def on Log Wrote log Data pass 
def test more than one package result list search packages info [ip 'pytest' 'irtualenv assert len result 3
def  get Accessible Attribute attribute Name if attribute Name in global Accessible Attribute Dictionary return global Accessible Attribute Dictionary Name None 
def send email confirmation request user signup False from .models import Email Address Email Confirmation C O O L D O W N PERIOD timedelta minutes 3 email user email user if email try email address Email Address for user user email if not email address if app settings E M A I L CONFIRMATION HMAC send email Trueelse send email not Email Confirmation sent  gt now - COOLDOWN PERIOD email address email address .exists if send email email address confirmation request signup signup else send email Falseexcept Email Address Does Not Exist send email Trueemail address Email Address email request user email signup signup confirm True assert email addressif send email get adapter request .add message request messages I N F O 'account/messages/email confirmation sent {'email' email if signup get adapter request .stash user request user pk to url str user 
def trim custom directories repo older than days None if not repo returnif older than days is None older than days settings value 'PACKAGES' 'custom max age type int default 40 cmd 'find.-typef-atime+%s-execrm-f{}\\;' % older than days repo run command repo cmd ignore status True 
def  check targets y true y pred check consistent length y true y pred type true type of target y true type pred type of target y pred y type set [type true type pred if y type set ['binary' 'multiclass'] y type set ['multiclass'] if len y type > 1 raise Value Error "an type true type pred y type y type if y type not in ['binary' 'multiclass' 'multilabel-indicator'] raise Value Error '{0}isnotsupported'.format y type if y type in ['binary' 'multiclass'] y true column or 1d y true y pred column or 1d y pred if y type 'multilabel' y true csr matrix y true y pred csr matrix y pred y type 'multilabel-indicator'return y type y true y pred 
def skip unless importable module msg None try   import   module except Import Error return skip if True msg else return skip if False msg 
def find template template name template paths config globals pathsfor path in template paths if os os path template name 'utf-8' return os path template name 
def do cli manager options if options action u entry list lists options returnif options action u entry list list options returnif options action u entry list show options returnif options action u entry list add options returnif options action u entry list del options returnif options action u entry list purge options return 
def  search param in docstr docstr param str patterns [re.compile p % re param str for p in DOCSTRING PARAM P A T T E R N S Nonefor pattern in patterns match pattern docstr if match found [ strip rst role match 1 ]breakif found is not None return foundfound  search param in numpydocstr docstr param str if found is not None return foundreturn []
def precession matrix Capitaine fromepoch toepoch mat fromto2000 matrix transpose  precess from J2000 Capitaine fromepoch mat 2000toto  precess from J2000 Capitaine toepoch return np mat 2000toto mat fromto2000 
def  check mode handle mode ''if hasattr handle 'mode' mode handle mode 1 returnmode str mode if mode and 'U' in mode raise Value Error ' F Ffilesmust N O Tbeopenedinuniversalnewlinesmode Binarymodeisrecommended althoughon Unixthedefaultmodeisalsofine .' elif mode and 'B' not in mode and sys 'win32' raise Value Error ' F Ffilesmustbeopenedinbinarymodeon Windows 
def optwrap text if not BODY WIDTH return textassert wrap 'equires Python2 ''newlines 0for para in text '\n' if len para > 0 if para is not '' and para is not '-' and para is not '*' for line in wrap para BODY WIDTH result + line + '\n' result + '\n'newlines 2elif not onlywhite para result + para + '\n' newlines 1elif newlines < 2 result + '\n'newlines + 1return result 
def  get ips networks v4s networks 'v4' v6s networks 'v6' public ips []private ips []if v4s for item in v4s ip type item 'type' ip address item 'ip address if ip type 'public' public ips ip address if ip type 'private' private ips ip address if v6s for item in v6s ip type item 'type' ip address item 'ip address if ip type 'public' public ips ip address if ip type 'private' private ips ip address return public ips private ips 
def  searchsorted array val side u if hasattr array u return array val side side begin 0end len array while begin < end mid begin + end // 2 if val > array begin mid + 1 elif val < array end midelif side u begin mid + 1 else end midreturn begin 
def save history try readline history file c H I S T O R Y FILENAME'] except pass 
def parse File Paths page if page for regex in FILE PATH REGEXES for match in re regex page abs File Path match 'result' .strip page page abs File Path '' if is Windows Drive Letter Path abs File Path abs File Path posix To Nt Slashes abs File Path if abs File Path not in kb File Paths kb File Paths abs File Path 
def  set D N S Cache def  getaddrinfo *args **kwargs if args in kb return kb kb socket getaddrinfo *args **kwargs return kb not hasattr socket ' getaddrinfo socket getaddrinfo socket  getaddrinfo 
def diff expression tracked gitcmds branch current gitcmds branch if tracked and current ref tracked + u + current else ref u expression qtutils window ref 
def parse auth header header parts header if parts ! 'bearer' raise Cas Token Error 'nsupportedauthorizationtype elif len parts 1 raise Cas Token Error 'issingtoken elif len parts > 2 raise Cas Token Error 'okencontainsspaces return parts 
def verify iterator data assert Equal results count 0for count result in enumerate results 1 params get all primitive params result assert Equal len params len result msg 'ottherightnumberofcolumns for expected actual in zip params result assert Equal actual expected return count 
def init mpstate return Cmdlong Module mpstate 
def debugfile filename args None wdir None post mortem False debugger pdb Pdb filename debugger filename debugger wait for mainpyfile 1debugger.mainpyfile filenamedebugger user requested quit 0if os 'nt' filename filename '\\' '/' debugger 'runfile %r args %r wdir %r ' % filename args wdir 
@receiver Signal Handler published def course published handler sender course key **kwargs if not isinstance course key C C X Locator send ccx course published unicode course key 
def Dump G C ob A Ds Get Object 'GC ' IID I A Ds Container for sub ob in ob print ' Cob %s %s ' % sub ob Name sub ob A Ds Path 
def symptom minimum password age greater than expires days min age C O N F compliance password ageexpires C O N F compliance expires daysreturn min age > expires if min age > 0 and expires > 0 else False 
def p direct declarator 3 t pass 
def values reducer aggregation fn return partial reduce with aggregation fn 
def choice argument values try value argument .strip except Attribute Error raise Value Error 'mustsupplyanargument;choosefrom%s' % format values values if value in values return valueelse raise Value Error '"%s"unknown;choosefrom%s' % argument format values values 
def dfs absent path cmd return  hadoop cmd 'dfs' 'stat' path if 'osuchfileordirectory in cmd return return Trueelse return False 
def configure cloud init cloudcfg open '/etc/cloud/cloud.cfg' 'w' cloudcfg CLOUD INIT CFG cloudcfg 
def migrate legacy obj legacy guid file logger 'igratinglegacy Guid legacy guid file id storage obj get or create storage file legacy guid file legacy guid file  id legacy guid file id guid obj Guid legacy guid file id guid obj storage objguid obj return storage obj 
def clean course key course key padding char return 'course {}'.format b32encode unicode course key .replace ' ' padding char 
def PASCALVOC manifest file manifest root rois per img 256 height 1000 width 1000 inference False CLASSES '  background  ' 'aeroplane' 'bicycle' 'bird' 'boat' 'bottle' 'bus' 'car' 'cat' 'chair' 'cow' 'diningtable' 'dog' 'horse' 'motorbike' 'person' 'pottedplant' 'sheep' 'sofa' 'train' 'tvmonitor' do transforms not inference image decode cfg dict height height width width flip enable do transforms crop enable False fixed aspect ratio True localization cfg dict rois per image rois per img class names CLASSES scaling factor 1.0 / 16 return dict manifest filename manifest file manifest root manifest root type 'image localization image image decode cfg cache directory get data cache or nothing subdir 'pascalvoc cache shuffle every epoch do transforms shuffle manifest do transforms minibatch size 1 macrobatch size 100 localization localization cfg 
def resolve action bundle default debug None allow debug True if not settings D E B U G or not allow debug return True True if default debug is None default debug settings A S S E T S D E B U Gdebug bundle if bundle is not None else default debug if debug 'merge' return True False elif debug is True return False False elif debug is False return True True else raise Value Error 'nvaliddebugvalue %s' % debug 
def image volume cache get and update last used context image id **filters return I M P L volume cache get and update last used context image id **filters
def get shared secret key provider id secret getattr settings 'CREDIT PROVIDER SECRET KEYS' {} .get provider id if isinstance secret unicode try secret str secret except Unicode Encode Error secret Nonelog u Sharedsecretkeyforcreditprovider A S C I Iunicode provider id return secret 
def is ipv4 filter ip options None return  is ipv ip 4 options options 
def  service path name if not SERVICE DIR raise Command Execution Error 'ouldnotfindservicedirectory return os SERVICE DIR name 
def new figure manager given figure num figure canvas Figure Canvas Mac figure manager Figure Manager Mac canvas num return manager 
def  contains ch type info ch type if not isinstance ch type string types raise Value Error '`ch type class Itmustbe actual class type ch type meg extras ['mag' 'grad' 'planar1' 'planar2']fnirs extras ['hbo' 'hbr']valid channel types sorted [key for key in  PICK TYPES KEYS if key ! 'meg' ] + meg extras + fnirs extras if ch type not in valid channel types raise Value Error 'ch typemustbeoneof not % valid channel types ch type if info is None raise Value Error 'annotcheckforchannelsoftype None % ch type return ch type in [channel type info ii for ii in range info ]
def test make eeg average ref proj raw read raw fif raw fname preload True eeg mne types raw meg False eeg True assert true not np raw data axis 0 < 1e-19 car make eeg average ref proj raw reref raw reref proj car reref proj assert array almost equal reref data axis 0 0 decimal 19 raw ref applied Trueassert raises Runtime Error make eeg average ref proj raw 
def dealias dsk keys None dependencies None keys keys or set if not isinstance keys set keys set keys if not dependencies dependencies {k get dependencies dsk k for k in dsk set k for k task in dsk if ishashable task and task in dsk dsk2 inline dsk aliases inline constants False for k in aliases keys del dsk2 dsk2 
def  convert to line delimits s if not s '[' and s -1 ] ']' return ss s -1 ]from pandas import convert json to linesreturn convert json to lines s 
@then 'thecommandoutputshouldcontainthefollowinglogrecords' def step command output should contain log records context assert context 'REQUIRE context columns ['category' 'level' 'message'] format getattr context 'log record format context format for row in context output Log Record Table output for row row format context steps u Thenthecommandoutputshouldcontain \n"""\n{expected output expected output output 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def recursive keypairs d for name value in sorted d if isinstance value dict for subname subvalue in recursive keypairs value yield '%s %s' % name subname subvalue elif isinstance value tuple list yield name list map lambda x unicode x .encode 'utf-8' value else yield name value 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def  iter module files for module in list sys if module is None continuefilename getattr module '  file  ' None if filename old Nonewhile not os filename old filenamefilename os filename if filename old breakelse if filename -4 ] in '.pyc' '.pyo' filename filename -1 ] yield filename 
def max pool 2x2 input  return tf pool input  ksize [1 2 2 1] strides [1 2 2 1] padding 'SAME'
@addon view switch 'reviews-translate' @non atomic requestsdef translate request addon review id language review get object or 404 Review pk review id addon addon if '-' in language language language '-' [0]if request ajax title r  retrieve translation review language body r  retrieve translation review language return http Http Response json {'title' title 'body' body status r code else return redirect settings G O O G L E TRANSLATE REDIRECT U R L lang language text urlquote review safe ''
def Create L D I F dn record base64 attrs None cols 76 f String I O ldif writer L D I F Writer f base64 attrs cols '\n' ldif writer dn record s f f return s 
def verify zmq if zmq is None raise unittest Skip Test 
def git Status path cmd git Cmd Base path + ['status' '--porcelain'] return run Subprocess cmd stderr None universal newlines True 
def exit set Config Options exit Cleanup False atexit run exitfuncs if sys 'darwin' for fd in range 3 4096 if fd not in [7] os fd else os 3 4096 os exit 0
def test sp2 sp Sequence Pattern 'sorted' in seq len 20 out seq len 5 x np 0 9 20 y sp output sequence x assert len y 5 y exp sorted x [ 5]assert all y y exp 
def find all stacktraces data rv []exc container data 'xception if exc container for exc in exc container stacktrace exc 'stacktrace' if stacktrace rv stacktrace exc stacktrace data 'tacktrace if stacktrace rv stacktrace None threads data 'threads' if threads for thread in threads stacktrace thread 'stacktrace' if stacktrace rv stacktrace thread return rv 
def any2utf text errors 'strict' encoding 'utf8' if isinstance text unicode return text 'utf8' return unicode text encoding errors errors .encode 'utf8'
def  create dispatcher class cls classname bases dict  if hasattr cls 'dispatch' dispatch base cls  class  else dispatch base  Dispatchevent names [k for k in dict  if  is event name k ]dispatch cls type 'ispatch % classname dispatch base {'  slots  ' event names dispatch cls event names event namesdispatch inst cls set dispatch cls dispatch cls for k in dispatch cls event names setattr dispatch inst k  Cls Level Dispatch cls dict [k]  registrars cls for super  in dispatch cls  bases   if issubclass super   Dispatch and super  is not  Dispatch for ls in super . events event descriptors setattr dispatch inst ls ls dispatch cls event names ls if getattr cls ' dispatch target None cls dispatch target dispatcher cls 
def is hg installed return programs program 'hg' is not None 
def  data files vendor libs data [ app path u u  app path u u  app path u u  app path u u  app path u u  app path u u  app path u u  app path u u  app path u u  package u  package u  package u ]if vendor libs data [ package u  package u patch ] data [ app path localedir u for localedir in glob u L C MESSAGES' ] return data 
def parse list header value result []for item in parse http list value if item 1] item -1 ] '"' item unquote header value item -1 ] result item return result 
def get disabled return  get svc list status 'DISABLED'
def fill in subscriptions apps schema editor Project apps model u u Project Group apps model u u Group Profile apps model u u Profile for project in Project for owner in project try owner project except Profile Does Not Exist passif project acl try group Group name project for user in group set try user project except Profile Does Not Exist passexcept Group Does Not Exist pass 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get exercises from topics topic Id list exs []for topic in topic Id list if topic exercises get topic contents topic id topic kinds [xercise [ 5]for e in exercises exs + [e['id']]return exs 
def bad title title for pat in BAD TITLE PATTERNS if re pat title re I G N O R E C A S E return Truereturn False 
def extract zip source tempdir tempfile zip Safe Unzip source try if zip valid zip to dest tempdir except rm local tmp dir tempdir raisereturn tempdir 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def pretty indent elem level 0 i '\n' + level * '' if len elem if not elem or not elem elem i + '' if not elem or not elem elem ifor elem in elem pretty indent elem level + 1 if not elem or not elem elem ielif level and not elem or not elem elem i 
def row norms X squared False if issparse X if not isinstance X csr matrix X csr matrix X norms csr row norms X else norms np 'ij ij X X if not squared np norms norms return norms 
def display waypoints wploader map mission list wploader list polygons wploader list map object mp slipmap Slip Clear Layer 'ission for i in range len polygons p polygons len p > 1 map object mp slipmap Slip Polygon 'mission%u' % i p layer 'ission linewidth 2 colour 255 255 255 labeled wps {}for i in range len mission list next list mission list j in range len next list if next list not in labeled wps map object mp slipmap Slip Label 'miss cmd % i j polygons str next list 'ission colour 0 255 255 labeled wps list i j 
def gf from dict f p K n h max f [] if isinstance n SYMPY INTS for k in range n -1 -1 h f k K % p else n nfor k in range n -1 -1 h f k K % p return gf trunc h p 
def patch user model def get absolute url self return reverse 'users.profile' args [self.pk] User absolute url get absolute url 
def usecase4 x N for k in range N y x y x y 
def get Is Bracketed word if len word < 2 return Falsefirst Character word Character word -1 ]if first Character ' ' and last Character ' ' return Truereturn first Character '[' and last Character ']'
def sort dict by values adict return Ordered Dict sorted adict key lambda item item 
def gf rem f g p K return gf div f g p K [1]
def encode string encoding None if type string is not ustr return stringreturn string encoding or u u 
def  get spreadsheet headers client spreadsheet key worksheet id headers []query Cell Query query row '1'query.min row '1'feed client Get Cells Feed spreadsheet key worksheet id query query visibility 'public' projection 'values' while True for entry in feed headers entry next link feed Get Next Link if next link feed client Get next link converter Spreadsheets Cells Feed From String else breakreturn headers 
def store multiple option opt value parser *args **kwargs for attribute in args setattr parser attribute None for key value in kwargs setattr parser key value 
def get minions log 'sqlite3returner<get minions conn  get conn ret None cur conn sql ' E L E C T D I S T I N C Tid F R O Msalt returns sql data cur ret []for minion in data ret minion  close conn conn return ret 
def  pty size from fabric import win32if not win32 import fcntlimport termiosimport struct default rows default cols 24 80 rows cols default rows default cols if not win32 and isatty sys fmt ' H struct fmt 0 0 try result fcntl sys termios T I O C G W I N S Z buffer rows cols struct fmt result if rows 0 rows default rowsif cols 0 cols default colsexcept Attribute Error passreturn rows cols 
def create directories for d in config S E C U R E D R O P DATA ROOT config S T O R E DIR config G P G KEY DIR config T E M P DIR if not os d os d 
def update mappings mappings section option try mapping mappings Key Error returnvalue config section option mapping value 
def store Row location row country statistic row if statistic 'ewcases returnvalue row value in None '' '' value Noneelse value int value date t xlrd as tuple row 0 date '%d-%02d-%02d' % date t date t date t source row org get org from db source country if row ! None source url row else source url ''if statistic not in statistics statistics {}if location not in statistics statistics {}statistics[statistic][location][date] [value org source url 
def test terminal summary warnings are displayed testdir testdir "\ndefpytest terminal summary terminalreporter \nconfig terminalreporter 'C1' 'internalwarning' \n" result testdir '-rw' result lines [1 '* 1pytest-warningsin*']
def update etag is at header req name if ' ' in name raise Value Error 'eadernamemustnotcontaincommas existing req ' Backend Etag Is At req X Backend Etag Is At csv append existing name 
def build ffi for binding module prefix modules pre include '' post include '' libraries [] extra compile args [] extra link args [] types []includes []functions []macros []customizations []for name in modules module name module prefix + name   import   module name module sys name module T Y P E S macros module M A C R O S functions module F U N C T I O N S includes module I N C L U D E S customizations module C U S T O M I Z A T I O N S verify source '\n'.join [pre include + includes + [post include + functions + customizations ffi build ffi cdef source '\n'.join types + functions + macros verify source verify source libraries libraries extra compile args extra compile args extra link args extra link args return ffi 
def g return 5
def get Enumerator Keys Always List enumerator keys if keys  class   ! list return [keys]if len keys 1 return keysreturn get Enumerator Keys Except For One Argument enumerator keys 
def reverify hosts **filter data hosts models Host objects filter data models Acl Group for acl violation hosts hosts for host in hosts models Special Task special task host models Special Task Task V E R I F Y return list sorted host for host in hosts 
def freqresp system w None n 10000 if isinstance system lti if isinstance system Transfer Function Zeros Poles Gain sys systemelse sys system as zpk elif isinstance system dlti raise Attribute Error 'freqrespcanonlybeusedwithcontinuous-timesystems.' else sys lti *system . as zpk if sys ! 1 or sys ! 1 raise Value Error 'freqresp requiresa S I S O singleinput singleoutput system if w is not None wor N welse wor N nif isinstance sys Transfer Function w h freqs sys sys wor N wor N elif isinstance sys Zeros Poles Gain w h freqs zpk sys sys sys wor N wor N return w h 
def Multi Indicator pos size dtype x numpy size dtype dtype if hasattr pos '  iter  ' for i in pos x 1else x 1return x 
def besselap N norm 'phase' if abs int N ! N raise Value Error 'ilterordermustbeanonnegativeinteger if N 0 p []k 1else p 1 /  bessel zeros N a last  falling factorial 2 * N N // 2 ** N if norm in 'delay' 'mag' k a lastif norm 'mag' norm factor  norm factor p k p / norm factork norm factor ** - N * a last elif norm 'phase' p * 10 ** - math a last / N k 1else raise Value Error 'normalizationnotunderstood' return asarray [] asarray p dtype complex float k 
def get padding type kernel params input shape output shape k h k w s h s w p h p w kernel paramss o h np input shape / float s h s o w np input shape / float s w if output shape s o h and output shape s o w return ' A M E o h np input shape - k h + 1.0 / float s h v o w np input shape - k w + 1.0 / float s w if output shape v o h and output shape v o w return ' A L I D None 
def Dir Check path path Path Check path if not os path raise Value Error _ 'otadirectory %s' % path return path 
def get user dept request user id request user id user dept User id user id .deptreturn user dept 
def paging Request Type1 Mobile Id presence 0 a L2 Pseudo Length b Tp Pd pd 6 c Message Type mes Type 33 d Page Mode And Channel Needed f Mobile Id packet a / b / c / d / f if Mobile Id presence is 1 g Mobile Id Hdr iei M I 23 eight Bit M I 0 packet packet / g h P1 Rest Octets packet packet / h return packet 
def deprecate bear bear bear run bear warn deprecation and run *args **kwargs logging 'hebear Use bear  name   bear  bases  [0].  name   return bear run *args **kwargs bear warn deprecation and runreturn bear 
def test solve variable trajectory t0 k0 tol 0 np [5.0] 0.001 results  compute variable length solns model t0 k0 g  termination condition tol tol for integrator numeric solution in results ti numeric solution 0]analytic solution solow analytic solution ti k0 *valid params np allclose numeric solution analytic solution diff numeric solution -1 1 ] - solow steady state *valid params nose less equal diff tol 
def sample iter lambdify expr condition None numsamples S Infinity **kwargs if condition ps pspace Tuple expr condition else ps pspace expr rvs list ps fn lambdify rvs expr **kwargs if condition given fn lambdify rvs condition **kwargs try d ps args [d[rv] for rv in rvs *args if condition given fn *args except Exception raise Type Error 'xpr def return generator count 0while count < numsamples d ps args [d[rv] for rv in rvs condition gd given fn *args if gd ! True and gd ! False raise Value Error 'onditionsmustnotcontainfreesymbols if not gd continue yield fn *args count + 1return return generator 
def dnn gradinput3d kerns topgrad img shp border mode 'valid' subsample 1 1 conv mode 'conv' kerns gpu contiguous kerns topgrad gpu contiguous topgrad img shp theano tensor variable img shp desc Gpu Dnn Conv Desc border mode border mode subsample subsample conv mode conv mode img shp kerns out gpu alloc empty *img shp return Gpu Dnn Conv3d Grad I kerns topgrad out desc 
def pbkdf2 bin data salt iterations 1000 keylen 24 hashfunc None hashfunc hashfunc or hashlib mac hmac data None hashfunc def  pseudorandom x mac mac h mac h x return [ord _ for _ in h ]buf []for block in range 1 - - keylen // mac size + 1 rv u  pseudorandom salt +  pack int block for i in range iterations - 1 u  pseudorandom ''.join map chr u rv starmap xor zip rv u buf rv return ''.join map chr buf [ keylen 
def make validation result data if not settings E X P O S E VALIDATOR TRACEBACKS if data data _ 'nerroroccurredvalidatingthemanifest if data for msg in data for k v in msg msg escape all v linkify k in 'message' 'description' return data 
def find System Library name if os name return nameif is unix return find Library name elif is win return getfullnameof name else return ctypes library name 
def device from request request from mezzanine import settingstry for device _ in settings D E V I C E USER AGENTS if device request C O O K I E S return deviceexcept Key Error try user agent request M E T A H T T P USER A G E N T except Key Error passelse try user agent user agent u for device ua strings in settings D E V I C E USER AGENTS for ua string in ua strings if ua string in user agent return deviceexcept Attribute Error Unicode Decode Error Unicode Encode Error passreturn u 
def get image files from fobj layer file layer file 0 archive file Archive layer file tar file tarfile fileobj archive file files read tarfile tar file return files 
def format error error code message return {'errors' [{'code' error code 'message' message 
def get available languages stopword files os os settings S T O P W O R D S DIR two dig codes [f.split '-' [1].split '.' [0] for f in stopword files d in two dig codes assert len d 2 return two dig codes 
def irfft x n None axis -1 overwrite x False tmp  asfarray x if not numpy tmp raise Type Error '1stargumentmustberealsequence' try work function  DTYPE TO R F F T Key Error raise Value Error 'type%sisnotsupported' % tmp overwrite x overwrite x or  datacopied tmp x return  raw fft tmp n axis -1 overwrite x work function 
def test out with nonstring null table Table [[3]] masked True out String I O ascii table out Writer Ipac fill values [ masked -99999 ] expected out '|col0|\n|long|\n||\n|-99999|\n3\n'assert out .strip .splitlines expected out 
def  build service test service Agent Loop Service reactor Memory Reactor Clock deployer Controllable Deployer u [] [] host u port 1234 context factory Client Context Factory era uuid4 service status Stub F S M return service 
def parse form data environ stream factory None charset 'utf-8' errors 'replace' max form memory size None max content length None cls None silent True return Form Data Parser stream factory charset errors max form memory size max content length cls silent .parse from environ environ 
def sanitize module name module name module name module name '-' '_' .replace '.' '_' if module name not in string letters module name 'a' + module name return module name 
def hardware report options sys list hardware return succeed None 
@lower builtin 'getitem' types Buffer types Array def fancy getitem array context builder sig args aryty idxty sig ary idx argsary make array aryty context builder ary if idxty 0 idxty idx normalize index context builder idxty idx res  getitem array generic context builder sig type aryty ary idxty idx return impl ret borrowed context builder sig type res else return fancy getitem context builder sig args aryty ary idxty idx 
def normalize paths value parent os if not value or isinstance value list return valuepaths []for path in value ' ' if '/' in path path os os parent path paths path '/' return paths 
def left d threshold sequence n m cs ['d'] + ['i'] * n - 1 if m < n cs 'd'return csif m > n * n - 1 / 2 raise Value Error 'oomanyedgesforthismanynodes cs n - 1 ] 'd'sum n - 1 ind 1while sum < m cs 'd'sum + indind + 1if sum > m cs sum - m ] 'i'return cs 
def  unicode string encoding None if isinstance string compat unicode string stringelif isinstance string compat if encoding is None encoding sys encoding is None encoding locale unicode string string encoding 'ignore' else unicode string compat string return unicode string '\x00' '' .strip
def  solve abs f symbol domain if not domain subset S Reals raise Value Error filldedent 'bsolutevaluescannotbeinvertedinthe p q r Wild 'p' Wild 'q' Wild 'r' pattern match f p * Abs q + r or {} if not pattern match p S Zero .is zero f p f q f r pattern match pattern match pattern match q pos cond solve univariate inequality f q > 0 symbol relational False q neg cond solve univariate inequality f q < 0 symbol relational False sols q pos solveset real f p * f q + f r symbol .intersect q pos cond sols q neg solveset real f p * - f q + f r symbol .intersect q neg cond return Union sols q pos sols q neg else return Condition Set symbol Eq f 0 domain 
def r Update original updates dict Pairs [ original updates ]while len dict Pairs > 0 original updates dict Pairs for k v in updates if k in original and isinstance original dict and isinstance v dict dict Pairs original v else original v 
def is plural text return text PLURAL SEPARATOR ! -1
def square soft input list squared []neg [ x ** 2 for x in input list if x < 0 ]pos [ x ** 2 for x in input list if x > 0 ]neg.reverse while len squared ! len input list if not neg squared pos elif not pos squared neg elif pos > neg squared neg 0 else squared pos 0 return squared 
def  get tag repo name try return [x for x in  all tags repo if x name ][0]except Index Error return False 
@requires pandasdef test to data frame for path in [edf path bdf path raw read raw edf path stim channel None preload True _ times raw 10]df raw data frame assert true df raw names .all assert array equal np times * 1000.0 df 10] df raw data frame index None scalings {'eeg' 10000000000000.0} assert true 'time' in df assert array equal df 0] raw data * 10000000000000.0
@frappe.whitelist def make width property setter doc if isinstance doc basestring doc json doc if doc u Property Setter and doc u frappe doc doc .insert ignore permissions True 
def get gold and foreign reserves rdint vs request Request vs M A C R O URL % vs P T Y P E vs D O M A I N S rdint vs M A C R O TYPE[2] 5 200 rdint text urlopen request timeout 10 .read text text 'gbk' reg Sym re '\\ count .*? \\}' datastr reg Sym text datastr datastr datastr 'data ' [1]js json datastr df pd Data Frame js columns vs G O L D AND FOREIGN CURRENCY RESERVES for i in df df df lambda x np x is None '--' x return df 
def  parse pkg string pkg pkg name separator pkg ver pkg '-' return pkg name separator pkg ver 
def upcast int8 nfunc fn def ret *args **kwargs args list args for i a in enumerate args if getattr a 'dtype' None in 'int8' 'uint8' args a 'float32' return fn *args **kwargs return ret 
def symlink list saltenv 'base' backend None fileserver salt Fileserver   opts   load {'saltenv' saltenv 'fsbackend' backend fileserver list load load 
def   WCS unpickle   cls dct fits data self cls  new   cls self  dict  .update dct buffer io Bytes I O fits data hdulist fits buffer WCS.  init   self hdulist hdulist return self 
def install gem name version None install args None override args False return install name version version source 'ruby' install args install args override args override args 
@image comparison baseline images [u'tight layout2 def test tight layout2 fig ax1 ax2 ax3 ax4 plt nrows 2 ncols 2 example plot ax1 example plot ax2 example plot ax3 example plot ax4 plt layout 
def  show normalized node full node public ips full node 'eip' [] if public ips public ip public ips addr ips [public ip ips []for vxnet in full node 'vxnets' [] private ip vxnet 'private ip None if private ip private ips private ip normalized node {'id' full node id 'image' full node id 'size' full node type 'state' full node 'private ips private ips 'public ips public ips normalized node 
def parse Target Url url ret Val urlif not re '^http[s]* //' ret Val re I and not re '^ws[s]* //' ret Val re I if re ' 443[/]*$' ret Val ret Val 'https //' + ret Val else ret Val 'http //' + ret Val return ret Val 
def generate shell test target source env target str target script open target 'w' print >>script '#!/bin/sh'print >>script 'utogeneratedwrappershellscriptbyblade >>script 'set-e\n'for s in source print >>script '.%s' % os str s print >>scriptscript.close os target 493 return None 
def  Get Secret io loop secret print '%s \n%s' % secret  Get Secrets Manager .et Secret secret io loop 
def sum x axis None return Sum axis x 
def test adjust sigmoid cutoff one image np 0 255 4 np .reshape 8 8 expected np [[1 1 1 2 2 2 2 2] [3 3 3 4 4 4 5 5] [5 6 6 7 7 8 9 10] [10 11 12 13 14 15 16 18] [19 20 22 24 25 27 29 32] [34 36 39 41 44 47 50 54] [57 61 64 68 72 76 80 85] [89 94 99 104 108 113 118 123]] dtype np result exposure sigmoid image 1 5 assert array equal result expected 
def get metrics global NIMETRICS LAST NIMETRICS S N M P T A B L Eif time - N I M E T R I C S > NIMETRICS CACHE MAX metrics {}for para in N I P A R A M S if para 'switch ' ipaddr name N I P A R A M S ' ' threading Thread run Snmp oid Dict ipaddr snmp Table S N M P T A B L E build Dict oid Dict snmp Table name metrics dict newmetrics **metrics LAST NIMETRICS dict NIMETRICS NIMETRICS {'time' time 'data' metrics [NIMETRICS LAST NIMETRICS]
def register linter linter checker Exceptions Checker linter 
@expect dimensions array 2 def permute rows seed array rand np Random State seed return np along axis rand 1 array 
def validate response response content response code response codetry parsed content response except Value Error message content if content else 'o Content raise exceptions Plotly Request Error message status code content message ''if isinstance parsed content dict error parsed content 'error' if error message errorelif response returnif not message message content if content else 'o Content raise exceptions Plotly Request Error message status code content 
def  get user attempts request ip get ip request username request P O S T USERNAME FORM FIELD None if USE USER AGENT ua request M E T A 'HTTP USER AGENT' '<unknown>' [ 255]attempts Access Attempt user agent ua ip address ip username username trusted True else attempts Access Attempt ip address ip username username trusted True if not attempts params {'ip address ip 'trusted' False USE USER AGENT params agent uaif should lock out by combination user and ip params usernameattempts Access Attempt **params return attempts 
def unload kvm kvm arch get kvm arch def unload module mod return utils 'rmmod%s' % mod unloaded unload module kvm arch if not unloaded unloaded unload module 'kvm' return unloaded 
def iso G1 glist for G2 in glist if isomorphic G1 G2 return Truereturn False 
def parse episode identifier ep id error Noneidentified by Noneif isinstance ep id int if ep id < 0 error u by u re u ?i ^ 4 3}$' ep id identified by u re u ep id identified by u try ep id int ep id if ep id < 0 error u by u Value Error error u % ep id if error raise Value Error error return identified by 
def ensure ca filesystem ca dir ca folder if not os ca path genrootca sh path os os os   file   'CA' 'genrootca.sh' start os fileutils tree ca dir os ca dir utils 'sh' genrootca sh path os start 
def  select datastore session data stores best match datastore regex None storage policy None allowed ds types ALL SUPPORTED DS TYPES if storage policy matching ds  filter datastores matching storage policy session data stores storage policy if not matching ds return best matchelse matching ds data storesfor obj content in matching ds if not hasattr obj content 'et continuepropdict vm util dict obj content Set if  is datastore valid propdict datastore regex allowed ds types new ds ds obj Datastore ref obj content name propdict capacity propdict freespace propdict Space if best match is None or new ds > best match best match new dsreturn best match 
def test cp32527 d {'1' 1 '2' 1 '3' 1 'a7' 1 'a8' 1}d.pop 'a7' d 5expected 1actual d .count 'a8' Are Equal actual expected 
def shared floatx value name None borrow False dtype None **kwargs if dtype is None dtype theano Xreturn theano theano asarray value dtype dtype name name borrow borrow **kwargs
def get prerequisite courses display course descriptor pre requisite courses []if is prerequisite courses enabled and course descriptor requisite courses for course id in course descriptor requisite courses course key Course Key string course id required course descriptor modulestore .get course course key prc {'key' course key 'display' get course display string required course descriptor }pre requisite courses prc return pre requisite courses 
def unormalize ustring ignorenonascii None substitute None if ignorenonascii is not None warn 'ignorenonasciiisdeprecated usesubstitutenamedparameterinstead Deprecation Warning stacklevel 2 if ignorenonascii substitute ''res []for letter in ustring ] try replacement MANUAL UNICODE M A P Key Error replacement  uninormalize 'NFKD' letter [0]if ord replacement > 2 ** 7 if substitute is None raise Value Error "can'tdealwithnon-asciibasedcharacters" replacement substituteres replacement return u res 
def  set device mtu dev mtu None if mtu utils 'ip' 'link' 'set' dev 'mtu' mtu run as root True check exit code [0 2 254]
def attach closed points queryset as field 'closed points attr model queryset 'SELECTSUM projects points \ R O Muserstories rolepoints I N N E R J O I Nuserstories userstory O Nuserstories userstory userstories rolepoints story id I N N E R J O I Nprojects points O Nuserstories rolepoints id projects points W H E R Euserstories userstory id { N Duserstories userstory closed True sql tbl model meta table queryset queryset select {as field sql return queryset 
def reset format cache global  format cache  format modules cache format cache {} format modules cache {}
def access warn request msg None ai Access Info request ai logging W A R N msg 
def consensus score a b similarity 'jaccard' if similarity 'jaccard' similarity  jaccardmatrix  pairwise similarity a b similarity indices linear assignment 1.0 - matrix n a len a n b len b return matrix indices 0] indices 1] ].sum / max n a n b 
def event id name encode types event types [ canonical type type  for type  in encode types signature '{event name {canonical types '.format event name name canonical types ' '.join event types return big endian to int utils event signature 
def libvlc media list player pause p mlp f  Cfunctions 'libvlc media list player pause None or  Cfunction 'libvlc media list player pause 1 None None Media List Player return f p mlp 
@with setup prepare stdout def test output when could not find features colorless path fs join abspath dirname   file   'no features 'unexistent-folder' runner Runner path verbosity 3 no color True runner assert stdout lines 'ops % path 
def  build tmp access args method ip ttl port direction comment opt  get opt method args '{0}{1}{2}'.format opt ip ttl if port args + '-p{0}'.format port if direction args + '-d{0}'.format direction if comment args + '#{0}'.format comment return args 
@treeio login required response format process mass opportunity formdef opportunity index request response format 'html' query Q status  hidden False if request G E T if 'status' in request G E T and request G E T query  get filter query request G E T else query query &  get filter query request G E T filters Opportunity Filter Form request '' request G E T statuses Object by request request Sale Status mode 'r' opportunities Object by request request Opportunity query mode 'r' massform Opportunity Mass Action Form request return render to response 'sales/opportunity index {'opportunities' opportunities 'filters' filters 'massform' massform 'statuses' statuses context instance Request Context request response format response format 
@pytest.mark.parametrize 'fmt name class fmt name classes def test roundtrip masked fmt name class fmt name fmt cls fmt name classif not getattr fmt cls ' io registry can write True returnif fmt name 'html' and not HAS BEAUTIFUL SOUP or fmt name 'fixed width returnt simple table masked True out String I O fast fmt name in ascii F A S T CLASSES try ascii t out format fmt name fast writer fast except Import Error returnkwargs {'names' t if 'no header in fmt name else {} t2 ascii out format fmt name fast reader fast guess False **kwargs assert t t2 for col col2 in zip t t2 assert col col2 assert np col col2 
def ensure experimental test fn def wrapper self *args **kwargs Junit Tests Concurrency Integration Test U S E EXPERIMENTAL RUNNER Truetest fn self *args **kwargs Junit Tests Concurrency Integration Test U S E EXPERIMENTAL RUNNER Falsetest fn self *args **kwargs return wrapper 
def datestr2num d if cbook string like d dt dateutil d return date2num dt else return date2num [dateutil.parser.parse s for s in d 
def gf random n p K return [ + [K int uniform 0 p for i in range 0 n ]
def test is int int enum usertypes 'num ['item'] is int True no int enum usertypes 'num ['item'] assert isinstance int enum int assert not isinstance no int enum int 
def call method class obj method *args if method retriever args args -1 ]else assert args -1 ] is not None 'oargumentgiven class obj  class  .  name   ' Torrent rt obj class objelse rt obj class obj rt objif not method available rt obj  handle unavailable rpc method method rt obj m Multicall class obj m method *args ret value m [0]return ret value 
def validate streamline x y if np is False raise Import Error 'igure Factory streamlinerequiresnumpy for index in range len x - 1 if x index + 1 ] - x - x - x > 0.0001 raise exceptions Plotly Error 'xmustbea1dimensional evenlyspacedarray for index in range len y - 1 if y index + 1 ] - y - y - y > 0.0001 raise exceptions Plotly Error 'ymustbea1dimensional evenlyspacedarray 
def no Longer Provides object interface directly Provides object directly Provided By object - interface if interface By object raise Value Error 'anonlyremovedirectlyprovidedinterfaces 
def  write buffer to hash buffer object hash obj digest block size 8192 block buffer object digest block size while len block > 0 hash obj block block buffer object digest block size 
def configure logging path None global  logging configuredif  logging configured return logging configured Trueif path is False returnelif path is None path '/tmp/universe-{}.log'.format os logger 'ritinglogstofile %s' path extra logger Level logging D E B U G if path '-' returnroot logger logging Logger formatter logging Formatter '[% asctime s message s handler logging File Handler path 'w' encoding 'UTF-8' handler Formatter formatter root logger Handler handler extra logger Falseextra logger Handler handler 
def get Selected Plugin repository for plugin in repository Plugins if plugin return pluginreturn None 
def test hashable hash interval 1 1 hash interval 1 1 is valid True hash interval -4 -0.5 hash interval -2 -0.5 hash interval 0.25 8.0
def show fwrule kwargs None call None if call ! 'function' raise Salt Cloud System Exit 'heshow fwrulefunctionmustbecalledwith if not kwargs or 'name' not in kwargs log 'ustspecifynameofnetwork return Falseconn get conn return  expand item conn get firewall kwargs 
def  get exploration summaries from models exp summary models exploration summaries [get exploration summary from model exp summary model for exp summary model in exp summary models {}for exp summary in exploration summaries result summary exp summaryreturn result 
def assert warnings fn warnings regex False from .assertions import eq  emits warningcanary []orig warn util capture warnings *args **kw orig warn *args **kw popwarn warnings 0 canary popwarn if regex assert re popwarn args else eq  args popwarn util util capture warningsresult emits warning fn assert canary 'owarningwasemitted result 
def report flaky tests output flaky tests for test in flaky tests output '{}\n'.format test 
def kullback leibler vec1 vec2 num features None if scipy vec1 vec1 vec1 if scipy vec2 vec2 vec2 if isbow vec1 and isbow vec2 if num features ! None dense1 sparse2full vec1 num features dense2 sparse2full vec2 num features return entropy dense1 dense2 else max len max len vec1 len vec2 dense1 sparse2full vec1 max len dense2 sparse2full vec2 max len return entropy dense1 dense2 else if len vec1 1 vec1 vec1 len vec2 1 vec2 vec2 scipy vec1 vec2 
def path glob pattern current dir None if not current dir current dir pathlib Path elif not isinstance current dir pathlib Path current dir pathlib Path str current dir for p in current dir pattern yield Path str p 
def generate categories app None type None categories []categories choices C A T E G O R I E S category choice in categories choices defaults {'slug' category choice 'db name unicode category choice 'application' app 'misc' category choice 'type' type 'weight' category choice category created Category or create id category choice defaults defaults if not created category name defaults 'db name category  dict  .update **defaults category categories category return categories 
def  exp1 p x prec R p R 1 for precx in  giant steps prec pt p - rs log p1 x precx tmp rs mul pt p1 x precx p1 + tmpreturn p1 
def summation f *symbols **kwargs return Sum f *symbols **kwargs .doit deep False 
def convert X M L Element geometry Output xml Element xml Element X M L Processor .hildren geometry Output xml Element 
def datastore upsert context data dict schema context 'schema' dsschema upsert schema records data dict 'records' None data dict errors  validate data dict schema context if records data dict recordsif errors raise p Validation Error errors p access 'datastore upsert context data dict if not data dict 'force' False resource id data dict id check read only context resource id data dict url config url id data dict id sql sqlalchemy u S E L E C T1 F R O M table metadata W H E R Ename id A N Dalias of I S N U L L results db get engine data dict .execute resources sql id res id res exists results > 0 if not res exists raise p Object Not Found p  u Resource res id result db context data dict result 'id' None result 'connection url return result 
def  build Resolvers config from twisted import client cache hosts ca cl [] [] if config ca cache Cache Resolver verbose config if config cl hosts Resolver file config if config cl client Resolver resolvconf config return ca cl 
def volume show name profile None conn  auth profile return conn show name 
def get topic similarities dict topic similarities entity recommendations models Topic Similarities Model recommendations models T O P I C SIMILARITIES ID strict False if topic similarities entity is None topic similarities entity  create default topic similarities return json topic similarities entity 
def lol tuples head ind values dummies if not ind return headif ind not in dummies return lol tuples head + values ind ] values dummies else return [lol tuples head + v ind ] values dummies for v in dummies 
def  is dns label name dns label re '^[a-z0-9][a-z0-9\\.-]{1 62}$' if dns label name return Trueelse return False 
@ensure csrf cookie control no cache True no store True must revalidate True @require level 'staff' def get coupon codes request course id course id Slash Separated Course Key deprecated string course id coupons Coupon course id course id query features [ 'code' _ 'oupon Code 'course id _ 'ourse Id 'percentage discount _ 'iscount 'description' _ 'escription 'expiration date _ 'xpiration Date 'is active _ 's Active 'code redeemed count _ 'ode Redeemed Count 'total discounted seats _ 'otal Discounted Seats 'total discounted amount _ 'otal Discounted Amount ]db columns [x[0] for x in query features columns [x[1] for x in query features list instructor analytics codes features db columns coupons course id __ data rows instructor analytics dictlist coupons list db columns return instructor analytics csv response 'oupons csv columns data rows 
def  create transport serializers transport serializers []for serializer id in transport if serializer id u try from autobahn import Msg Pack Serializerexcept Import Error passelse serializers Msg Pack Serializer batched True serializers Msg Pack Serializer elif serializer id u try from autobahn import Json Serializerexcept Import Error passelse serializers Json Serializer batched True serializers Json Serializer else raise Runtime Error "nknownserializer serializer id return serializers 
@ile System directory current directory 'django' 'alfaces' def test excluding apps separated by comma status out commands 'pythonmanage.pyharvest--verbosity 3--no-color--avoid-apps donothing foobar assert equals status 0 out assert 'estthedjangoapp D O N O T H I N G not in out assert 'estthedjangoapp F O O B A R not in out 
def add glob to array  bondmems result []if isinstance  bondmems list for  entry in  bondmems if re '-'  entry  entry 'glob' +  entry result  entry return ''.join result return  bondmems 
def Binary S I Dto String S I D sid if not sid return ''str sid components [ord sid ]if len sid > 8 subauthority count ord sid identifier authority struct '>H' sid 4] [0]identifier authority << 32identifier authority | struct '>L' sid 8] [0]str sid components identifier authority start 8for i in range subauthority count authority sid start + 4 ]if not authority breakif len authority < 4 raise Value Error "nbinary S I D component Expected4bytes found %s " ' '.join [str ord c for c in sid i len authority authority str sid components struct '<L' authority [0] start + 4return ' % '-'.join [str x for x in str sid components 
@with open mode 'r' @with sizes 'medium' def read big chunks f f 0 while f 4096 pass 
def  get per location glob tasks outputs regexes paths [o.path for o in outputs [r.search p for r p in zip regexes paths ]for m p t in zip matches paths tasks if m is None raise Not Implemented Error "ouldn % p t n groups len matches positions [most common m i m i for m in matches [0] for i in range 1 n groups + 1 ]glob list paths for start end in positions glob glob start + ['[0-9]'] * end - start + glob ] return ''.join glob .rsplit '/' 1 [0]
def  ternary filter ternary value return ternary value constants T E R N A R Y YES
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def get bucket metadata bucket service create service req service .get bucket bucket return req 
def  check excludes includes chs info None allow bads False from .meas info import Infoif not isinstance chs list tuple np if allow bads is True if not isinstance info Info raise Value Error 'upplyaninfoobjectifallow badsistrue elif chs ! 'bads' raise Value Error 'fchsisastring itmustbe else chs info raise Value Error 'include/excludemustbelist tuple ndarray or + 'ouprovidedtype type chs return chs 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def make identifier name if isinstance name bytes identifier name 'utf-8' else identifier nameidentifier identifier identifier identifier u u identifier re u \xe2\x80\x93]+' u identifier identifier re u ]" u identifier identifier identifier u u if identifier 'route-' identifier 'kalos-' + identifier if not identifier u u .isalnum raise Value Error identifier return identifier 
def clear placeholder cache placeholder lang site id version int time * 1000000  set placeholder cache version placeholder lang site id version []
def   Get Element Tree protocol server port path ssl Context if protocol 'https' kwargs {'context' ssl Context if ssl Context else {} conn http client H T T P S Connection server port port **kwargs elif protocol 'http' conn http client H T T P Connection server port port else raise Exception 'rotocol + protocol + 'notsupported.' conn 'GET' path response conn if response 200 try tree Element Tree response return treeexcept Expat Error passreturn None 
def remove module outliers module if module 35] 'enerated Method Accessor return 'enerated Method Accessor  java enhancer re '\\1<auto>' module 
def vocabulary update context data dict model context id data dict 'id' if not vocab id raise Validation Error {'id' _ 'idnotindata' } vocab model Vocabulary vocab id if vocab is None raise Not Found _ 'ouldnotfindvocabulary % vocab id data dict vocab data dict key 'name' if data dict vocab del data dict check access 'vocabulary update context data dict schema context 'schema' or schema .default update vocabulary schema data errors  validate data dict schema context if errors model Session raise Validation Error errors updated vocab model save dict update data context if not context 'defer commit model return model dictize dictize updated vocab context 
def get view content file name active window sublime window active view active window view if active view name file name return  get view content active view view active window open file file name if view return  get view content view for window in sublime if window active window continueview window open file file name return  get view content view 
def Cgi Dict From Parsed Url url environ {}if url is not None environ S E R V E R PORT'] str url elif url 'https' environ S E R V E R PORT'] '443'elif url 'http' environ S E R V E R PORT'] ' U E R Y STRING'] url S E R V E R NAME'] url url environ P A T H INFO'] urlparse url else environ P A T H INFO'] '/'return environ 
def register linter linter checker Exceptions Checker linter 
def status raw name None user None conf file None bin env None ret   salt  ['cmd.run all  ctl cmd 'status' name conf file bin env runas user python shell False return  get return ret 
def parse uid uid if U I D Field Mixin U I D SEPARATOR not in uid raise Value Error 'nvaliduid %s' % uid parsed uid U I D Field Mixin U I D SEPARATOR if len parsed < 2 raise Value Error 'nvalidormalformeduid %s' % uid resource type parsed remainder parsed ]return resource type uid remainder 
def install signal handlers signal signal S I G T E R M  async terminate signal signal S I G I N T  async terminate 
def feed view request url feed dict None if not feed dict raise django Http404 'ofeedsareregistered try slug param url '/' 1 except Value Error slug param url '' try f feed dict Key Error raise django Http404 "lug % slug try feedgen f slug request .get feed param except views Feed Does Not Exist raise django Http404 'nvalidfeedparameters Slug butotherparameters orlackthereof arenot % slug response django Http Response mimetype feedgen type feedgen response 'utf-8' return response 
def bump cache for pk cls pk cache version '%s-%s' %  get namespace prefix cls pk 
def getraw timeout None cs []c getch timeout while c ! None cs c if c None breakc getch return cs 
def  Add Or Append dictionary key value if key in dictionary existing value dictionary isinstance existing value list existing value value else dictionary [existing value value dictionary value 
def zone type return s3 rest controller 
def accum Np Dicts d0 d1 for k in d1 if k in d0 d0 + d1 d0 d1 
def term job jid return signal job jid signal S I G T E R M 
def apply choice session task if task returnif task task metadata plugins 'import task apply session session task task task session 
def outdated langpacks langpacks get installed language packs force True for langpack in langpacks langpackversion Loose Version langpack 'software version or SHORTVERSION current software version Loose Version SHORTVERSION if current software version > langpackversion yield langpack 
def bytes2words data length 8 return np data dtype np 
def delete org user userid orgname None profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/org/users/{1}'.format profile url userid auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def show ikepolicy ikepolicy profile None conn  auth profile return conn ikepolicy ikepolicy 
def  Add Mock J S O N Response mock client url response dict def  Create Response request return httpclient H T T P Response request 200 headers {ontent Type 'application/json'} buffer String I O json response dict mock client url  Create Response 
def init mpstate return Cmdlong Module mpstate 
def random port sock socket socket A F INET socket S O C K STREAM sock 'localhost' 0 port sock [1]sock.close return port 
def  convert params sql params args [sql]if params is not None if hasattr params 'keys' args + [params]else args + [list params ]return args 
def  find build tool toolname return  find executable toolname or  read output '/usr/bin/xcrun-find%s' % toolname or ''
def  create dispatcher class cls classname bases dict  if hasattr cls 'dispatch' dispatch base cls  class  else dispatch base  Dispatchevent names [k for k in dict  if  is event name k ]dispatch cls type 'ispatch % classname dispatch base {'  slots  ' event names dispatch cls event names event namesdispatch inst cls set dispatch cls dispatch cls for k in dispatch cls event names setattr dispatch inst k  Cls Level Dispatch cls dict [k]  registrars cls for super  in dispatch cls  bases   if issubclass super   Dispatch and super  is not  Dispatch for ls in super . events event descriptors setattr dispatch inst ls ls dispatch cls event names ls if getattr cls ' dispatch target None cls dispatch target dispatcher cls 
def ssh file opts dest path contents None kwargs None local file None if opts 'file transport 'sftp' 'sftp' return sftp file dest path contents kwargs local file return scp file dest path contents kwargs local file 
def is setuptools installed python cmd 'python' version package version 'setuptools' python cmd python cmd return version is not None 
def opt options k defval '' try data getattr options k except return defvalreturn n2s data 
def instance get all by grantee security groups context group ids return I M P L get all by grantee security groups context group ids 
def   oneshot resume when global   PAUSE E N Dif   PAUSE END is not None and when >   PAUSE END - 5 and when <   PAUSE END + 55   PAUSE END Nonelogging 'esumeafterpause sabnzbd all else logging 'gnoringcancelledresume 
@utils.arg 'aggregate' metavar '<aggregate>' help _ 'ameor I Dofaggregate @utils.arg 'host' metavar '<host>' help _ 'hehosttoaddtotheaggregate def do aggregate add host cs args aggregate  find aggregate cs args aggregate cs host aggregate args print _ 'ost host shasbeensuccessfullyaddedforaggregate aggregate id s % {'host' args 'aggregate id aggregate  print aggregate details cs aggregate 
def load source name pathname if six P Y2 import impreturn imp source name pathname else loader importlib Source File Loader name pathname return loader module name 
def fetch journal entry db access key result db access get entity JOURNAL TABLE [key] JOURNAL SCHEMA if len result 0 return Noneif JOURNAL SCHEMA[0] in result [0] ent string result J O U R N A L S C H E M A ent string dbconstants T O M B S T O N E return Nonereturn entity pb Entity Proto .arse From String ent string else return None 
def D N S Service Register flags 0 interface Index k D N S Service Interface Index Any name None regtype  NO DEFAULT domain None host None port  NO DEFAULT txt Record '' call Back None  NO D E F A U L T regtype  NO D E F A U L T port port socket port if not txt Record txt Len txt Record 1 '\x00' else txt Len txt Record  string to length and void p txt Record @ D N S Service Register Replydef  callback sd Ref flags error Code name regtype domain context if call Back is not None call Back sd Ref flags error Code name regtype domain  global lock try sd Ref  D N S Service Register flags interface Index name regtype domain host port txt Len txt Record  callback None finally  global lock sd Ref add callback  callback return sd Ref 
def test hexoct class foo object def   hex   self return selfdef   oct   self return selfclass bar def   hex   self return selfdef   oct   self return self Assert Error Type Error hex foo Assert Error Type Error oct foo Assert Error Type Error hex bar Assert Error Type Error oct bar 
def get create or change title request instance name field None if not instance return _ u New % instance meta name if name field name getattr instance name field None else name u % instance if name return force text name return _ u Unnamed % instance meta name 
def download all recommended False restart True to download  get available recommended restart for name in to download download name return list downloads 
def base64 b64decode instr if six P Y3 b salt bytes instr data base64 b try return salt str data except Unicode Decode Error return datareturn base64 instr 
def get netmask ip subnet if ip 4 return str subnet netaddr .netmask return subnet netaddr . prefixlen 
def dup invert f g K s h dup half gcdex f g K if h [ return dup rem s g K else raise Not Invertible 'zerodivisor'
def test cache size leq max cache size config stub tmpdir limit 100config stub {'storage' {'cache-size' limit 'general' {'private-browsing' False cache cache Disk Cache str tmpdir assert disk cache Cache Size limit preload cache disk cache 'http //www.example.com/' preload cache disk cache 'http //qutebrowser.org' preload cache disk cache 'http //foo.xxx' preload cache disk cache 'http //bar.net' assert disk cache < limit assert disk cache Size < limit + 100
def detect java comm names for name in names try mod my import name mod Serial Portreturn modexcept Import Error Attribute Error passraise Import Error 'o Java Communications A P Iimplementationfound 
def get user data userid profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile response requests '{0}/api/users/{1}'.format profile url userid auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def Is Mac Bundle flavor spec is mac bundle int spec 'mac bundle 0 ! 0 and flavor 'mac' if is mac bundle assert spec ! 'none' 'mac bundletargetscannothavetypenone target ' % spec name return is mac bundle 
def getdata im offset 0 0 **params class Collector object data []def write self data self data im fp Collector try im params get local header fp im offset 0 Image File save im fp [ 'gif' 0 0 + im 0 R A W M O D E ] fp '\x00' finally del im fp 
def  smart subs expr sub dict expr  crawl expr  tan repl func def  recurser expr sub dict num den  fraction decomp expr if den ! 1 denom subbed  recurser den sub dict if denom subbed 0 expr simplify expr else num subbed  recurser num sub dict return num subbed / denom subbed val  sub func expr sub dict if val is not None return valnew args  recurser arg sub dict for arg in expr return expr *new args return  recurser expr sub dict 
def  expand subject public key info encoded spki Der Sequence .decode encoded nr elements 2 algo Der Sequence .decode spki nr elements 1 2 algo oid Der Object Id .decode algo spk Der Bit String .decode spki .valueif len algo 1 algo params Noneelse try Der Null .decode algo algo params Noneexcept algo params algo algo oid spk algo params 
def ppa name auto accept True keyserver None assert name 'ppa ' user repo name ].split '/' 2 release float distrib release if release > 12.04 repo repo '.' '_' auto accept '--yes' if auto accept else '' else auto accept ''if not isinstance keyserver basestring and keyserver keyserver keyserver keyserver keyserver '--keyserver' + keyserver else keyserver ''distrib distrib codename source '/etc/apt/sources.list.d/% user s repo s distrib s % locals if not is file source if release > 14.04 package 'software-properties-common' else package 'python-software-properties' run as root 'add-apt-repository% auto accept s keyserver s name s % locals pty False update index 
def  masq config masq if masq is None masq []lines [MASQ H E A D E R entry in masq entry 'interface' 'eth0' entry 'address' '-' entry 'proto' '-' entry 'port' '-' if isinstance entry list entry ' '.join entry lines MASQ FORMAT % entry file '/etc/shorewall/masq' contents ''.join lines use sudo True 
def parse search string string criteria {}for match in CRITERION R X string field match 'field' or '*' criteria match 'pattern' return criteria 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def display menu stdscr menu y erase menu stdscr menu y stdscr menu y 4 'sethecursorkeystomove andspaceor Entertotoggleacell stdscr menu y + 1 4 'E rasetheboard R andomfill S teponceor C ontinuously Q uit 
def collect feature locations paths strict True locations []for path in paths if os path for dirpath dirnames filenames in os path dirnames for filename in sorted filenames if filename '.feature' location File Location os dirpath filename locations location elif path '@' locations Feature List Parser file path ] else location File Location Parser path if not location '.feature' raise Invalid Filename Error location elif location locations location elif strict raise File Not Found Error path return locations 
def asynchronous function *args **kwargs return Asynchronous Request function *args **kwargs
def lookup Service name timeout None return get Resolver .ervice name timeout 
def check solutions eq s diophantine eq factors Mul args eq var list eq symbols var key default sort key while s solution s for f in factors if diop simplify f zip var solution 0 breakelse return Falsereturn True 
def temp db filename try h test db fname tempfile ' Bio S Q L dir '/dev/shm' except O S Error h test db fname tempfile ' Bio S Q L os h return test db fname 
def  should profile production default return False 
def idz diffsnorm m n matveca matveca2 matvec matvec2 its 20 return  id diffsnorm m n matveca matveca2 matvec matvec2 its 
def set attrib file path attribs path os path ATTRIB FILE try f open path 'w' except returnfor item in attribs f '%s\n' % item f 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def placeholder *args **kwargs warnings 'default' Deprecation Warning warnings 'ed.placeholder isdeprecated instead Deprecation Warning x tf *args **kwargs tf to collection 'PLACEHOLDERS' x return x 
def  escape argspec obj iterable for key value in iterable if hasattr value '  html  ' or isinstance value basestring obj escape value return obj 
def add ignored fields patterns assert isinstance patterns list tuple ignored fields patterns 
def  recv tag raw sock s sock 4 * 4 if len s ! 16 raise Runtime Error 'otenoughbytesreceived somethingiswrong Makesurethemne rt serverisrunning tag Tag *np.fromstring s '>i4' n received 0rec buff [s]while n received < tag n buffer min 4096 tag - n received this buffer sock n buffer rec buff this buffer n received + len this buffer if n received ! tag raise Runtime Error 'otenoughbytesreceived somethingiswrong Makesurethemne rt serverisrunning buff ''.join rec buff return tag buff 
def get Host ip try return socket ip [0]except Exception return False 
def contains profiler func tuple has profiler Falsefor value in func tuple if isinstance value six types has profiler | INVALID PROFILER FUNC in value return has profiler 
def locate cuda if 'CUDAHOME' in os home os C U D A H O M E pjoin home 'bin' 'nvcc' else default path pjoin os 'usr' 'local' 'cuda' 'bin' nvcc find in path 'nvcc' os P A T H + os + default path if nvcc is None raise Environment Error 'henvccbinarycouldnotbelocatedinyour P A T H Eitheraddittoyourpath orset C U D A H O M E home os os nvcc cudaconfig {'home' home 'nvcc' nvcc 'include' pjoin home 'include' 'lib64' pjoin home 'lib64' }for k v in cudaconfig if not os v raise Environment Error 'he C U D A % k v return cudaconfig 
def  init setting completions log 'nitializingsettingcompletion  instances Completion configmodel Setting Section Completion Model  instances Completion {} instances Completion {}for sectname in configdata D A T A opt model configmodel Setting Option Completion Model sectname  instances Completion opt model instances Completion {}for opt in configdata D A T A val model configmodel Setting Value Completion Model sectname opt  instances Completion val model 
def shb response if py3k h response else h [] key value None None for line in response if line if line in ' DCTB ' value + line else if key and value h key value key value line ' ' 1 key key value value if key and value h key value return '%s%s' % response response h response 
def diameter G e None if e is None e eccentricity G return max e 
def enable plugin name runas None if runas is None and not salt windows runas salt user cmd [ get rabbitmq plugin 'enable' name   salt  ['cmd.run all cmd runas runas python shell False return  format response ret 'nabled 
def set hostname name commit changes True ret {'name' name 'changes' {} 'result' True 'comment' ''}ret['changes']   salt  ['junos.set hostname name commit changes return ret 
def get rand pass C R Y P T O R rand pass 20
def get jobflow id emr connection name ret emr connection clusters cluster states LIVE STATES clusters ret return [cluster.id for cluster in clusters if cluster name ][0]except Index Error return 
def test str cat where clause sql with null t symbol 't' discover sql with null s t t < 200 ]c1 s cat s sep '--' bres compute c1 sql with null return type pd Series df s compute s sql with null return type pd Data Frame exp df s df s '--' assert all exp ~ exp ] bres ~ bres ] assert all exp ].index bres ].index
def move secondary backup base path source '{0}{1}'.format base path BACKUP ROLLBACK SUFFIX target base pathif not rename source target logging 'osecondarybackuptorestore Skipping 
def object state instance state  inspect mapped object instance if state is None raise exc Unmapped Instance Error instance else return state 
def show user id  return show item 'user' id 
@jsonifydef delete record self arg dict cmd ['xenstore-rm' '/local/domain/% dom id s path s % arg dict ] ret result  run command cmd return result 
def osd discover return ceph cfg discover 
def bench R2 def hermite n y if n 1 return 2 * y if n 0 return 1return 2 * y * hermite n - 1 y - 2 * n - 1 * hermite n - 2 y .expand a hermite 15 y 
def read  path key None profile None result  query 'GET' path profile profile decode True decode type 'json' data result 'data' {} if key is None return datavalue data key if value is None log 'hekeywasnotfound return value 
def read element date stream size if size ! 8 raise Size Error size nanoseconds unpack '>q'  read stream 8 [0]return datetime 2001 1 1 0 0 0 0 None + timedelta microseconds nanoseconds // 1000
def passwd changes attrs None where None return  osquery cmd table 'passwd changes attrs attrs where where 
@testing.requires testing data nibabel def test plot bem assert raises I O Error plot bem subject 'bad-subject' subjects dir subjects dir assert raises Value Error plot bem subject 'sample' subjects dir subjects dir orientation 'bad-ori' plot bem subject 'sample' subjects dir subjects dir orientation 'sagittal' slices [25 50] plot bem subject 'sample' subjects dir subjects dir orientation 'coronal' slices [25 50] brain surfaces 'white' plot bem subject 'sample' subjects dir subjects dir orientation 'coronal' slices [25 50] src src fname 
def test astronaut astronaut data assert equal astronaut 512 512 3
def  get used lun ids for mappings mappings used luns set map lambda lun int lun mappings used luns 0 return used luns 
def execute streaming diginorm ifilename fifo utils temp filename u in dir os fifo script u [ u u u u u fifo fifo thread threading Thread target utils args script args in dir thread ifile io ifilename u fifofile io fifo u chunk ifile 8192 while len chunk > 0 fifofile chunk chunk ifile 8192 fifofile thread return in dir + u 
def create normal player session name password if  throttle session maxlim 5 timeout 5 * 60 session ' Youmadetoomanyconnectionattempts Tryagaininafewminutes return Noneplayer authenticate username name password password if not player session 'ncorrectlogininformationgiven  throttle session player Player D B player from name name if player player failed login session return Nonebans Server Config 'server bans if bans and any tup player for tup in bans or any tup session for tup in bans if tup string 'ouhavebeenbannedandcannotcontinuefromhere Ifyoufeelthisbanisinerror pleaseemailanadmin string session session 'oodbye Disconnecting return Nonereturn player 
def  task info get task id global D A T Atry task info D A T A info id Key Error msg  LW 'ouldnotfindtaskinfo % task id L O G msg raise exception Task Not Found task id task id return task info 
def get http expiry  Expirestype  num if  Expirestype 'd' expire date datetime + datetime days  num elif  Expirestype 'h' expire date datetime + datetime hours  num else expire date datetime + datetime minutes  num return expire date '%a % H %M %SGMT'
@cli.command @click.argument 'result-file' type click Path exists True required True def plot result file results df pd pickle result file show draw result result file results df 
def  to ndimage mode mode mode translation dict dict edge 'nearest' symmetric 'reflect' reflect 'mirror' if mode in mode translation dict mode mode translation dict mode 
def  pad input  len len input if  len Card return inputelif  len > Card strlen  len % Card if strlen 0 return inputelse return input + '' * Card - strlen else strlen  len % Card return input + '' * Card - strlen 
def Check Empty Block Body filename clean lines linenum error line clean lines Match '\\s* for \\s*\\ ' line if matched end line end linenum end pos Close Expression clean lines linenum line ' ' if end pos > 0 and Match ';' end line pos ] if matched 1 'if' error filename end linenum 'whitespace/empty conditional body 5 'mptyconditionalbodiesshoulduse else error filename end linenum 'whitespace/empty loop body 5 'mptyloopbodiesshoulduse 
def get profile for user user if not hasattr user u mezzanine profile profile model get profile model profile manager profile model default manager user state user field get profile user fieldname profile model user  class   profile created profile manager or create **{user field user profile useruser mezzanine profile profilereturn user mezzanine profile 
@with devicedef which name which cmd ' F S \ I N A R Y % $PATH \ B I N A R Y B I N A R Y % name which cmd which cmd return process ['sh' '-c' which cmd .recvall .strip
def list delete t slug raw input light magenta 'ourlistthatyouwanttodelete ' rl True try t slug '-'.join slug owner screen name g name print Nicely green slug + 'listisdeleted.' except debug option print Nicely red 'opssomethingiswrongwith Twitter '
def web url for view name  absolute False  guid False *args **kwargs url url for 'sf Web Renderer  {0}'.format view name *args **kwargs if  guid url  get guid url for url if  absolute return urlparse website settings D O M A I N url return url 
def test adapthist scalar img skimage as ubyte data adapted exposure adapthist img kernel size 64 clip limit 0.02 assert adapted 0.0 assert adapted 1.0 assert img adapted full scale skimage intensity skimage as float img assert almost equal peak snr full scale adapted 102.066 3 assert almost equal norm brightness err full scale adapted 0.038 3
def remaining args old Args new Arg List pattern '\\s+'.join re a for a in new Arg List + '\\s*$' match Obj re pattern old Args return old Args Obj ]
def is theme dir  dir theme sub directories {'lms' 'cms'}return bool os  dir and theme sub directories os  dir 
def set default locale code global  default localeglobal  supported locales default locale code supported locales frozenset list  translations + [ default locale 
def to label name capitalize True label name '_' '' if capitalize label label return label 
def parse m2m commands ids []for command in commands if isinstance command tuple list if command in 1 4 ids command elif command 5 ids []elif command 6 ids list command else ids command return ids 
def get os info ua filepath '/etc/os-release' if os filepath os ua  get systemd os release var 'PRETTY NAME' filepath filepath if not os ua os ua  get systemd os release var 'NAME' filepath filepath if os ua return os uareturn ''.join get python os info 
def get Profile Setting name if name in temp Override return temp Override settings Dictionaryif name in settings Dictionary and settings Dictionary Profile return settings Dictionary Value traceback stack sys 'rror "%s"notfoundinprofilesettings\n' % name return ''
def  parse U N I X factory address mode '666' backlog 50 lockfile True return address factory {'mode' int mode 8 'backlog' int backlog ' I D bool int lockfile }
def bundle if len request 2 s3db 'budget bundle update next URL f 'bundle kit item args request return s3 rest controller rheader s3db rheader 
def test continuous error y np 0 1 15 nm Near Miss random state RND SEED version VERSION NEARMISS assert warns User Warning nm X y 
def return Connected server client cio Bytes I O sio Bytes I O client Connection File Wrapper cio server Connection File Wrapper sio pump I O Pump client server cio sio pump pump return pump 
def test allknn sample wrong X allknn All K N N random state RND SEED allknn X Y assert raises Runtime Error allknn np 100 40 np [0] * 50 + [1] * 50
def build auth sub data http request timestamp nonce return '%s%s%s%s' % http request str http request str timestamp nonce 
def get base public api url if cfg C O N F url api url get url without trailing slash cfg C O N F url else L O G '"auth.api url api url 'http //%s %s' % cfg C O N F cfg C O N F return api url 
def optional args decorator @wraps decorator def wrapper *args **kwargs def dec f return decorator f *args **kwargs is decorating not kwargs and len args 1 and callable args if is decorating f args []return dec f else return decreturn wrapper 
def vb get machine name **kwargs vbox vb get box machine vbox Machine name return vb xpcom to attribute dict machine ' Machine **kwargs
def get data path file name None if file name is None file name ''return os DATA DIR file name 
def patch cache lfu lock obj import lfu cacheimport lfu cache with locklfu lock1lvl lfu cache with lock cache1lvl lock obj lfu lock2lvl lfu cache with lock cache2lvl lock obj   patch lfu cache 'cache1lvl' lfu lock1lvl   patch lfu cache 'cache2lvl' lfu lock2lvl 
def same domain url1 url2 if not url1 Valid raise Invalid Url Error url1 if not url2 Valid raise Invalid Url Error url2 suffix1 url1 Level Domain suffix2 url2 Level Domain if suffix1 '' return url1 url2 if suffix1 ! suffix2 return Falsedomain1 url1 [ - len suffix1 ].split '.' [ -1 ]domain2 url2 [ - len suffix2 ].split '.' [ -1 ]return domain1 domain2 
@blueprint.route '/meters' def list meters all rq flask rq conn meters project acl limited to project rq metaquery  get metaquery rq return flask meters [m.as dict for m in meters 
def get string property device type property key cf C F String Create With C String k C F Allocator Default property 'mac roman k C F String Encoding Mac Roman C F Container iokit I O Registry Entry Create C F Property device type key k C F Allocator Default 0 output Noneif C F Container output cf C F String Get C String Ptr C F Container 0 if output is not None output output 'mac roman cf C F Release C F Container return output 
def reqs *f return [req for subreq in  reqs *f for req in subreq 
def check object name name if regex object name name is None return Falsereturn True 
def doc checksum docstr import hashlibconverted hashlib docstr .hexdigest return converted 
def set price list and rate quotation cart settings  set price list quotation cart settings quotation list currency quotation quotation conversion rate quotation rate Nonefor item in quotation u item list rate item percentage item item Nonequotation method u price list and item details if hasattr frappe u manager frappe manager cookie u price list quotation price list 
def newdir dirs dirs set dirs newdirs set [i for i in os dname if not os os dname i ] newdir newdirs dirs if len newdir ! 1 msg "herewasmorethanonedirectorycreated Don Exception msg newdir newdir return newdir 
def families root None displayof None if not root root tkinter default rootargs if displayof args '-displayof' displayof return root root 'font' 'families' *args
@login required http methods 'POST' @ensure csrf cookiedef certificate activation handler request course key string course key Course Key string course key string store modulestore try course  get course and check access course key request except Permission Denied msg _ 'ermission Denied Failedinauthenticating .format user request return Json Response {'error' msg status 403 data json request is active data 'is active False certificates Certificate Manager certificates course for certificate in certificates certificate active is activebreakstore item course request cert event type 'activated' if is active else 'deactivated' Certificate Manager event cert event type {'course id unicode course } return Http Response status 200
def determine timestamp item for key in [imestamp 'reated if key in item return item Value Error 'ouldnotdeterminetimestampkeyfor item 'kind' item 
def register draft only model class fields follow format if revision manager registered model class raise Registration Error 'eversion % model class if model class meta and not revision manager registered list model class meta [0] raise Registration Error '%risaproxymodel anditsparenthasnotbeenregisteredwith Reversion % model class opts model class metalocal fields opts fields + opts many to many if fields is None fields [field.name for field in local fields tuple fields follow tuple follow try registration info Version Adapter fields fields follow follow format format for concrete model True ignore duplicates False except Type Error registration info Version Adapter model class registration info fieldsregistration info followregistration info formatif hasattr revision manager ' registration key for model model key revision manager registration key for model model class else model key model classrevision manager registered models key registration info 
def parse dsymutil data module sys map {}sys map {}want lower [' Idle P M L4 map {}type map {}for line in data ents line match re "\\[.*?\\ [^\\ ]+ \\ \ Fa [ Fa \\s' \\w+ '" line if match sym type addr name match sym type sym type addr int addr 16 if addr 0 or name '' continueif not name in sys map sys map [ addr sym type ]oldaddr sys map addr < oldaddr and name in want lower sys map [ addr sym type ]if not addr in type map type map name [sym type type map sym type return sys map 
@require role 'admin' def idc list request header title path1 path2 u I D C u u I D C posts I D C keyword request G E T 'keyword' '' if keyword posts I D C Q name  contains keyword | Q comment  contains keyword else posts I D C name 'ALL' .order by 'id' contact list p contacts page range current page show first show end pages posts request return my render 'jasset/idc list locals request 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def concat l res []for k in l res k return res 
def weighted Utest g1 w1 g2 w2 from scipy import normimport numpyn1 sum w1 n2 sum w2 u1 0.0for x1 wx1 in zip g1 w1 for x2 wx2 in zip g2 w2 if x1 x2 u1 + 0.5 * wx1 * wx2 elif x1 > x2 u1 + wx1 * wx2 mu n1 * n2 / 2.0 sigu numpy n1 * n2 * n1 + n2 + 1 / 12.0 z u1 - mu / sigu conf norm z return conf 
def render s context None if context is None context {}t get env .from string s return t context 
def add existing tag tag name tag manager tag Tag name  iexact tag name tag manager tag return tag 
def memory since 0.0 ans get memory ans / float 1024 ** 2 return ans - since 
def multi Evaluate repeat def decorator func def inner *args **kwargs result 0.0for dummy in range repeat result + func *args **kwargs return result / repeat return innerreturn decorator 
def is bytes obj return isinstance obj bytes type 
def sweep B best worst front stairs fstairs [] [] iter best iter best next best next iter best False for h in worst while next best and h 2] < next best 2] insert Truefor i fstair in enumerate fstairs if front front best if fstair > next best insert Falseelse del stairs fstairs insert idx bisect right stairs - next best stairs idx - next best fstairs idx next best next best next iter best False idx bisect right stairs - h if 0 < idx < len stairs fstair max fstairs idx key front  getitem   front max front front + 1
def instance group get by instance context instance uuid return I M P L group get by instance context instance uuid 
def  is quota refresh needed quota usage max age refresh Falseif quota usage use < 0 L O G 'in usehasdroppedbelow0 Quota Usage %s' dict quota usage refresh Trueelif quota usage refresh is not None quota usage refresh - 1if quota usage refresh < 0 refresh Trueelif max age and timeutils - quota usage at .seconds > max age refresh Truereturn refresh 
def is possible short number for region short number region dialing from if isinstance short number Phone Number short number national significant number short number metadata Phone Metadata metadata for region region dialing from if metadata is None return Falsegeneral desc metadata descreturn  is number possible for desc short number general desc 
def  parse empty args context builder sig args arrshapetype sig args sig typereturn arrtype  parse shape context builder arrshapetype arrshape 
def get num recurring **filter data return models Recurring Run count filter data 
def create contact contact party type party contact contact .split u contact frappe doc {u'doctype' u Contact u name contact u name len contact > 1 and contact or u } contact u dict link doctype party type link name party contact 
def load ipython extension ipython if not ipython line magic 'sql' ipython line magic 'load ext 'sql' ipython magic function pgcli line magic 'line' 'pgcli'
def test color image unsupported error img np 20 20 3 keypoints np [[7 5] [11 13]] assert raises Value Error BRIEF .extract img keypoints 
def clear site cache sender **kwargs instance kwargs del SITE C A C H E Key Error pass 
def cublas shutdown C U D A Matrix 0 cudamat shutdown 
def Self Reference Property verbose name None collection name None **attrs if 'reference class in attrs raise Configuration Error 'onotprovidereference classtoself return Reference Property  SELF REFERENCE verbose name collection name **attrs
def serve request path document root None insecure False **kwargs if not settings D E B U G and not insecure raise Improperly Configured "hestaticfilesviewcanonlybeusedindebugmodeorifthethe normalized path posixpath urllib path .lstrip '/' absolute path finders normalized path if not absolute path raise Http404 "'%s'couldnotbefound" % path document root path os absolute path return static request path document root document root **kwargs
def  ipv6 host host if host '[' and host ']' host host '%25' '%' .strip '[]' return host 
def get list json object parent node name child node name None if not json object return []return list []if isinstance json object node name list for detail in json object node name if child node name return list detail node name else return list detail elif child node name return list json object node name node name else return list json object node name return return list 
def add args options arg parser interface inputs interface spec for name spec in sorted interface transient None .items desc u interface get trait desc inputs name spec [ len name + 2 ]args {}if spec trait type traits Bool args u true hasattr spec u and spec if spec trait type Input Multi Path args u parser argument name help desc **args else if spec trait type Input Multi Path args u parser argument u % name dest name help desc **args return arg parser 
def site prefix scheme u if settings H T T P S 'on' else u return u //{}'.format scheme settings S I T E NAME
def is forest G if len G 0 raise nx Network X Pointless Concept 'hasnonodes if G directed components nx connected component subgraphselse components nx component subgraphsreturn all len c - 1 c of edges for c in components G
def  entity schema to prospective search schema schema add entry all names []for python type names in schema all names names for name in names model type  Get Model Type For Entity Type python type if not model type continue add schema entry model type name add entry if len all names ! len set all names duplicate names all namesfor name in set all names duplicate names name raise Schema Error 'uplicatenamesinschema %s' % duplicate names 
def select rows view row indices command Q Item Selection Model Clear And Select selmodel view Model model view selection Q Item Selection for row in row indices index model row 0 selection index index selmodel selection command | Q Item Selection Model Rows 
def parse creole markup return creole parser markup 
def set offload devname **kwargs for param value in kwargs if param 'tcp segmentation offload value value 'on' and 1 or 0 try ethtool tso devname value except I O Error return 'otsupported show offload devname 
def  is convertible to index other if isinstance other Timedelta Index return Trueelif len other > 0 and other type not in 'floating' 'mixed-integer' 'integer' 'mixed-integer-float' 'mixed' return Truereturn False 
def p initializer 1 t pass 
@command 'encoders?' def show encs out 'ncodingprofiles %s\n\n' % c c for x e in enumerate g sel ' %sselected%s ' % c c if config E N C O D E R x else '' out + '%2d.%s%s\n' % x e sel g outmessage 'nter message % c c 
def make touch strip mode message mode mode bytes if mode Touch Strip Modes C U S T O M PITCHBEND mode bytes int '1111001' 2 elif mode Touch Strip Modes C U S T O M VOLUME mode bytes int '0000001' 2 elif mode Touch Strip Modes C U S T O M PAN mode bytes int '0010001' 2 elif mode Touch Strip Modes C U S T O M DISCRETE mode bytes int '0011001' 2 elif mode Touch Strip Modes C U S T O M FREE mode bytes int '0001011' 2 elif mode Touch Strip Modes M O D W H E E L mode bytes int '0000100' 2 elif mode Touch Strip Modes P I T C H B E N D mode bytes int '1111000' 2 else raise Runtime Error 'ouchstripmode % mode return make message 23 mode bytes 
def send notification center title msg gtype if sabnzbd D A R W I N VERSION < 8 return T 'otavailable tool ncenter path if tool try command [tool '-title' title '-message' msg '-group' Tx N O T I F I C A T I O N gtype 'other' ]proc subprocess Popen command stdout subprocess P I P E stderr subprocess P I P E shell False output proc proc if 'otificationdelivered in output or 'emovingpreviously in output output ''except logging 'annotrunnotifier tool logging 'raceback ' exc info True output 'otifiertoolcrashed output 'otifierappnotfound output '*\n'
def  bem specify coils bem coils coord frame mults n jobs coils coord frame  check coil frame coils coord frame bem rmags cosmags ws bins  concatenate coils coils lens np np [ 0 [len s for s in bem ] sol np bins -1 ] + 1 bem lims np [np.arange 0 sol 100 [sol.shape[0]]] for o1 o2 surf mult in zip lens -1 ] lens ] bem bem mult coeff  lin field coeff surf mult rmags cosmags ws bins n jobs for start stop in zip lims -1 ] lims ] sol stop + np coeff stop bem o2 sol * multsreturn sol 
def choose string g1 g2 v1 c1 g1 v2 c2 g2if not v1 return g2elif not v2 return g1 v1 v2 v1 v2 v1l v2l v1 v2 combined prob 1 - 1 - c1 * 1 - c2 if v1l v2l return v1 combined prob elif v1l u + v2l return v1 combined prob elif v2l u + v1l return v2 combined prob elif v2l in v1l return v2 combined prob elif v1l in v2l return v1 combined prob elif c1 > c2 return v1 c1 - c2 else return v2 c2 - c1 
def  gc rule from pb gc rule pb rule name gc rule pb Which Oneof 'rule' if rule name is None return Noneif rule name 'max num versions return Max Versions G C Rule gc rule pb num versions elif rule name 'max age max age  helpers duration pb to timedelta gc rule pb age return Max Age G C Rule max age elif rule name 'union' return G C Rule Union [ gc rule from pb rule for rule in gc rule pb elif rule name 'intersection' rules [ gc rule from pb rule for rule in gc rule pb G C Rule Intersection rules else raise Value Error 'nexpectedrulename rule name 
def  should retry resp return resp code httplib R E Q U E S T TIMEOUT or resp code > 500 and resp code < 600
def unsigned I D obj rval  id Function obj if rval < 0 rval +  H U G E I N Treturn rval 
def create engine *args **kwargs strategy kwargs 'strategy' default strategy strategy strategies strategy *args **kwargs
@float32 float Xdef test stochasatic pool samples ds 3stride 3rng numpy Random State 220 data rng 0 10 size 1 ds ds 1 .astype 'float32' x theano s max stochastic max pool c01b x ds ds stride stride f theano [x] s max mode mode with gpu samples []for i in xrange 300 samples numpy f data [ 0 0 0 0 ] counts Counter samples data data ds * ds data data data -1 ]for i in range len data - 1 assert counts > counts i + 1 ]]
@not implemented for 'undirected' def transitive reduction G if not is directed acyclic graph G raise nx Network X Error 'ransitivereductiononlyuniquelydefinedondirectedacyclicgraphs TR nx Di Graph T R nodes from G for u in G u edges set G for v in G u edges - {y for x y in nx edges G v } R edges from u v for v in u edges return TR
def cython enums lines []for name in all names if no prefix name lines 'enum ZMQ {0}"{0}"'.format name else lines 'enum ZMQ {0}'.format name return dict ZMQ ENUMS '\n'.join lines 
def  win path to bytes path for encoding in 'ASCII' 'MBCS' try return path encoding except Unicode Encode Error Lookup Error passreturn path 
def  filterargs source argsregex "}\\ ' .* ' * \\d+ * \\d+ *' .* '\\.split\\ '\\|'\\ * \\d+ * .* \\ \\ "args re argsregex source re D O T A L L .groups try return args args '|' int args int args except Value Error raise Unpacking Error 'orruptedp 
def R p q if p in consonants or q in consonants return R creturn R v 
def s num mutations return blocks C U R R E N T mutations 
def task enable docker head repository distribution if is centos or rhel distribution return sequence [put content dedent '[virt7-testing]\nname virt7 http //cbs.centos.org/repos/virt7-testing/x86 64/os/\nenabled 1\ngpgcheck 0\n' path '/etc/yum.repos.d/virt7-testing.repo' ] else raise Distribution Not Supported distribution distribution 
@snippetdef topic subscription client to delete TOPIC NAME 'topic subscription %  millis SUB DEFAULTS 'topic subscription %  millis SUB ACK90 'topic subscription %  millis topic client TOPIC NAME topic to delete topic sub defaults topic SUB DEFAULTS sub defaults to delete sub defaults expected names set expected names sub defaults name sub ack90 topic SUB ACK90 ack deadline 90 sub ack90 to delete sub ack90 expected names sub ack90 name sub names set def do something with sub sub names sub name for subscription in topic subscriptions do something with subscription assert sub names expected names 
def smtp login email passwd connectfun global  email from  smtp  smtp connectdef connect smtp connectfun smtp email passwd return smtp email from email smtp connect connect smtp  smtp connect 
def  fetch raw metadata api key cache retries environ for page number in count 1 key 'metadata-page-%d' % page number try raw cache Key Error for _ in range retries try raw pd csv format metadata url api key page number parse dates ['oldest available date 'newest available date usecols ['dataset code 'name' 'oldest available date 'newest available date breakexcept Value Error raw pd Data Frame [] breakexcept Exception passelse raise Value Error 'ailedtodownloadmetadatapage % page number retries cache rawif raw break yield raw 
def set user password name password **client args if not user exists name **client args log "ser name return Falseclient  client **client args client user password name password return True 
def highlight faces image faces output filename im Image image draw Image Draw Draw im for face in faces box [ v 'x' 0.0 v 'y' 0.0 for v in face Bounding Poly box + [box[0]] width 5 fill '#00ff00' im output filename 
def Create A F F4 Object stat response client id token sync False stat response aff4 grr V F S G R R Client Pathspec To U R N stat response client id if stat response name stat response mode & ~ stat type mask stat response mode | stat S I F R E Gif stat S ISDIR stat response mode ftype standard V F S Directoryelse ftype aff4 grr V F S Filefd aff4 F A C T O R Y Create stat response ftype mode 'w' token token fd Set fd Schema S T A T stat response fd Set fd Schema P A T H S P E C stat response fd Close sync sync 
def tablesample selectable sampling name None seed None return  interpret as from selectable .tablesample sampling name name seed seed 
def save design request form type  design explicit save authorized get design request design assert form valid sub design form formif type  models H Q L design cls beeswax H Q Ldesignelif type  models I M P A L A design cls beeswax H Q Ldesignelif type  models S P A R K from spark import Spark Designdesign cls Spark Designsub design form form raise Value Error _ 'nvaliddesigntype type s % {'type' type } design obj design cls sub design form query type type  name form data form data  save design request design type  design obj explicit save name desc 
def dyld find name executable path None env None name ensure utf8 name executable path ensure utf8 executable path for path in dyld image suffix search chain dyld override search name env dyld executable path search name executable path dyld default search name env env if os path return pathraise Value Error 'dylib%scouldnotbefound' % name 
def  astnode s try import compilerexcept Import Error return eval s p compiler '  tempvalue   ' + s return p Children [hildren [hildren [1]
def generate commit table start ref end ref header u Author Summary Commit J I R A Release Notes Verified link u //github.com/edx/edx-platform/commit/{sha}]'rows [header]commits get commits not in prs start ref end ref for commit in commits rows u notes author commit summary commit u u commit commit link sha commit jira u '.join parse ticket references commit release notes u verified u return u rows 
def host status hostname None **kwargs if not hostname raise Command Execution Error 'issinghostnameparameter target 'host'numeric kwargs 'numeric' data  status query target hostname enumerate numeric ret {'result' data ret ret data 'json data {} .get 'data' {} .get target {} .get 'status' not numeric and 'nknown or 2 else ret data ret 
def squared error gradient x i y i beta return [ -2 * x ij * error x i y i beta for x ij in x i 
def detach disk name None kwargs None call None if call ! 'action' raise Salt Cloud System Exit 'hedetach Diskactionmustbecalledwith if not name log 'ustspecifyaninstancename return Falseif not kwargs or 'disk name not in kwargs log 'ustspecifyadisk nametodetach return Falsenode name namedisk name kwargs name get conn node conn get node node name disk conn get volume disk name   utils  ['cloud.fire event 'event' 'detachdisk' 'salt/cloud/disk/detaching' args {'name' node name 'disk name disk name sock dir   opts  ['sock dir transport   opts  ['transport'] result conn volume disk node   utils  ['cloud.fire event 'event' 'detacheddisk' 'salt/cloud/disk/detached' args {'name' node name 'disk name disk name sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def libvlc media player next frame p mi f  Cfunctions 'libvlc media player next frame None or  Cfunction 'libvlc media player next frame 1 None None Media Player return f p mi 
def  add user user state if not user staff and Course Creator user user .count 0 entry Course Creator user user state state entry return Truereturn False 
def string value value value u u .replace u u .replace u u .replace u u if value u value value -1 ] + u return u % value 
def extract args expected *args **kwargs routed args dict zip expected args for name in kwargs if name not in expected raise Key Error 'invalidinputname {}'.format name elif name in routed args raise Type Error "gotmultiplevaluesforargument'{}'".format name else routed args kwargs set expected ! set routed args raise Value Error 'missingvaluesforinputs {}'.format [name for name in expected if name not in routed args ] return Ordered Dict key routed args for key in expected 
def mean absolute percentage error y true y pred diff tf y true - y pred / tf by value tf y true 1e-08 np return 100.0 * tf mean diff 
@locked functiondef store in cache cache location url response hpath bpath calculate cache path cache location url try outf open hpath 'wb' headers str response outf headers outf outf open bpath 'wb' outf response outf except I O Error return Trueelse return False 
def group member delete context data dict None  check access 'group member delete context data dict return  group or org member delete context data dict 
@ api version 1.21 @ client version '1.5.0' def remove volume name response  client wrapper 'remove volume name  clear context return response 
def crowding distance individuals fitnesses distances collections lambda 0 individuals list individuals n obj len fitnesses for i in range n obj individuals key lambda x fitnesses normalization float fitnesses - fitnesses -1 ]][i] distances 1e+100distances[individuals[ -1 ]] 1e+100tripled list zip individuals individuals -1 ] individuals ] for pre ind post in tripled distances + fitnesses - fitnesses / normalization return distances 
def format image notification image return {'id' image id 'name' image 'status' image 'created at timeutils image at 'updated at timeutils image at 'min disk image disk 'min ram image ram 'protected' image 'checksum' image 'owner' image 'disk format image format 'container format image format 'size' image 'is public image 'public' 'properties' dict image properties 'tags' list image 'deleted' False 'deleted at None 
def  get xml rpc vm  get configured provider xml rpc config cloud config value 'xml rpc vm    opts   search global False user config cloud config value 'user' vm    opts   search global False password config cloud config value 'password' vm    opts   search global False server salt client Server Proxy xml rpc return server user password 
def  randdm pnts if pnts > 2 D np pnts * pnts - 1 / 2 else raise Value Error 'henumberofpointsinthedistancematrixmustbeatleast2 return D
def test clone should rstrip trailing slash in repo url mocker clone dir mocker 'cookiecutter.vcs.is vcs installed autospec True return value True mock subprocess mocker 'cookiecutter.vcs.subprocess.check output autospec True vcs 'https //github.com/foo/bar/' clone to dir clone dir no input True mock subprocess called once with ['git' 'clone' 'https //github.com/foo/bar'] cwd clone dir stderr subprocess S T D O U T 
def encode params utf8 params encoded []for k v in params encoded k u if isinstance k unicode type else k v u if isinstance v unicode type else v return encoded 
def  email check and list emails field if isinstance emails types String Types check email valid value else for address in iter emails check email valid address field 
def  chop end misc line return re ' '' line 
def indent element level 0 indent ' DCTB ' def empty text return not text or not text def indent  element level last child count len element if child count if empty element element '\n' + indent * level + 1 if empty element element '\n' + indent * level + -1 if last else 0 for i child in enumerate element indent  child level + 1 i child count - 1 elif empty element element '\n' + indent * level + -1 if last else 0 return indent  element level True 
def get Loops By Segments Dictionary segments Dictionary width points []for endpoint in get Vertical Endpoints segments Dictionary width 0.1 * width width points endpoint for endpoint in euclidean Endpoints From Segment Table segments Dictionary points endpoint return triangle mesh Descending Area Oriented Loops points points width + width 
def index to one index return dindex to 1[index]
def pci devices attrs None where None return  osquery cmd table 'pci devices attrs attrs where where 
def cli plugin requests config req inst req auth config inst set configurator req inst config req auth set configurator req auth config if config req inst set configurator req inst 'nginx' req auth set configurator req auth 'nginx' if config req inst set configurator req inst 'apache' req auth set configurator req auth 'apache' if config req auth set configurator req auth 'standalone' if config req auth set configurator req auth 'webroot' if config req auth set configurator req auth 'manual' logger 'equestedauthenticator req auth req inst return req auth req inst 
def dispose event for _ value in D E V I C E S value 
def is style file filename return STYLE FILE P A T T E R N filename is not None 
def remove tagids source return  modify tagids source False 
def sph2cart *args if len args 1 elev args ]azim args ]radius args ]s Array Trueelif len args 3 elev args args args As Array Falsez radius * numpy radians elev x radius * numpy radians elev * numpy radians azim y radius * numpy radians elev * numpy radians azim if return As Array return numpy [x y z else return x y z 
def get index of first statement src text preprocessor directive u text preprocessor directivepattern text + u + multi line comment pattern text + u + single line comment pattern text + u + whitespace pattern re pattern text re M | re S match iter pattern src text index 0for match in match iter if match ! index breakindex match return index 
def mod bufsize iface *args **kwargs if   grains  ['kernel'] 'inux if os '/sbin/ethtool' return  mod bufsize linux iface *args **kwargs return False 
def optional type  return type  type None 
def capacity assessment S3 S Q L Inline Component s3base S3 S Q L Inline Componentcrud fields ['organisation id 'date' 'person id crud fields s3db capacity indicatorrows db table ! True .select table table table table table orderby table section Nonefor row in rows name 'number%s' % row if row ! section label section row label ''cappend S3 S Q L Inline Component 'data' name name label label fields row 'indicator id 'rating' 'ranking' filterby dict field 'indicator id options row multiple False crud form s3base S3 S Q L Custom Form *crud fields s3db 'org capacity assessment crud form crud form return s3 rest controller 
def extract link from set cookie header http response header name header value try cookie parse cookie header value except raise Stop Iterationfor key in cookie try path cookie Key Error continueif path try yield http response url .url join path except Value Error msg 'heapplicationsenta U R L theheadervaluewas "%s"'om.out.debug msg % header name header value 
def mtime path return os path .st mtime 
def e Get Raw S Handle p I O Type Channel p Value x1 pass 
def  get instance hass try return  I N S T A N C E S Key Error  I N S T A N C E S Configurator hass if DOMAIN not in hass hass DOMAIN return  I N S T A N C E S 
@bdd.then bdd 'thepageshouldnotcontaintheplaintext"{text}"' def check not contents plain quteproc text content quteproc content .strip assert text not in content 
def html translate callback value if not value return valuetry parser etree H T M L Parser encoding 'utf-8' trans X M L Translator callback 'html' parser wrapped '<div>%s</div>' % encode value root etree wrapped parser trans root value trans done [5 -6 ]except Value Error  logger 'annottranslatemalformed H T M L usingsourcevalueinstead return value 
def is valid url url if not DISALLOWED IPS return Trueparsed urlparse url if not parsed return Falseserver hostname get server hostname if parsed server hostname return Truetry ip addresses set addr for _ _ _ _ addr in socket parsed 0 except socket return Falsefor addr in ip addresses ip address addr ip address server hostname return Trueip address ipaddress address six type ip address for ip network in DISALLOWED IPS if ip address in ip network return Falsereturn True 
def targets tgt tgt type 'glob' **kwargs roster order   opts  .get 'roster order 'public' 'private' 'local' cached data   runner  ['cache.grains'] tgt tgt tgt type tgt type ret {}for server grains in cached data ret   opts  .get 'roster defaults {} .copy ret {'host' extract ipv4 roster order grains 'ipv4' [] } return ret 
@ api version 1.21 @ client version '1.5.0' def volumes filters None response  client wrapper 'volumes' filters filters  clear context return response 
def  import module from path module name plugin path module Noneif PY2 info imp module module name [plugin path if info module imp module module name *info elif sys info 2] < 3 3 loader importlib Path Finder module module name [plugin path if loader module loader module module name else spec importlib Path Finder spec module name [plugin path if spec module spec module module name return module 
@cli.resultcallback def process commands processors stream for processor in processors stream processor stream for _ in stream pass 
def edge expansion G S T None weight None if T is None T set G - set S num cut edges cut size G S T T weight weight return num cut edges / min len S len T
def stereo motorcycle return load 'motorcycle left load 'motorcycle right np  os data dir 'motorcycle disp ['arr 0']
def extract tarball tarball extracted cat file to cmd tarball 'tarxvf-2>/dev/null' return output True .splitlines dir Nonefor line in extracted line re '^./' '' line if not line or line '.' continuetopdir line '/' [0]if os topdir if dir assert dir topdir else dir topdirif dir return direlse raise Name Error 'extractingtarballproducednodir'
def dates from str dates return lmap date parser dates 
def log2 x ln2 math 2.0 try bin n binary repr x [1 ]except Assertion Error Type Error return math x / ln2 else if u in bin n return math x / ln2 else return len bin n 
def fixed ip get by address context address columns to join None return I M P L ip get by address context address columns to join columns to join 
def validate configuration configuration schema {'$schema' 'http //json-schema.org/draft-04/schema#' 'type' 'object' 'required' ['version' 'control-service' 'dataset'] 'properties' {'version' {'type' 'number' 'maximum' 1 'minimum' 1} 'control-service' {'type' 'object' 'required' ['hostname'] 'properties' {'hostname' {'type' 'string' 'format' 'hostname'} 'port' {'type' 'integer'}}} 'dataset' {'type' 'object' 'properties' {'backend' {'type' 'string'}} 'required' ['backend']} 'logging' {'type' 'object'}}}v Draft4 Validator schema format checker Format Checker v configuration 
def like return  distro 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def reset no Gamma True OK init if no Gamma and OK set Video Mode NOGAMMACORRECT
def scale face face scaled face - face scaled / scaled return scaled 
def test rmtree retries tmpdir monkeypatch monkeypatch shutil 'rmtree' Failer duration 1 .call rmtree 'foo'
def snapshot create request conf request isinstance conf basestring config json conf snapshot Map Snapshot config clean config conf map Map id config return Http Response num encode snapshot content type 'text/plain' else return Http Response 'nvalid J S O N content type 'text/plain' status 500
def get position size fd 1 info get console screen buffer info fd return info Cursor Position X info Cursor Position Y info Size X info Size Y 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def intersect chunks old chunks new chunks cmo cumdims label old chunks 'o' cmn cumdims label new chunks 'n' sums [sum o for o in old chunks [sum n for n in old chunks not sums sums2 raise Value Error 'annotchangedimensionsfromto % sums2 old to new [ intersect 1d  breakpoints cm cm for cm in zip cmo cmn ]cross1 product *old to new cross chain tuple product *cr for cr in cross1 return cross 
@synchronized NZB LOCK def save compressed folder filename data here os os misc path folder if filename '.nzb' filename + '.gz'else filename + '.nzb.gz'logging.info 'ackingup os folder filename try f gzip Gzip File filename 'wb' f data f f except logging T 'aving os folder filename logging 'raceback ' exc info True os here 
def get proxy *args **kwargs return proxy Service Proxy *args **kwargs
def get extra values conf  prepend out []out.extend [  prepend name for name in conf values for name in conf if name not in conf values out get extra values conf  prepend + name return out 
def test live monitoring verify zmq p mp Process target train mlp p correct result set ['train objective 'train y col norms max 'train y row norms min 'train y nll 'train y col norms mean 'train y max max class 'train y min max class 'train y row norms max 'train y misclass 'train y col norms min 'train y row norms mean 'train y mean max class 'learning rate 'training seconds this epoch 'total seconds last epoch monitor lm Live Monitor result set monitor channels .data if result ! correct result raise Value Error str result assert result correct result monitor lm Live Monitor monitor channels ['train objective start 0 end 2 assert len monitor objective record 2 monitor lm Live Monitor monitor channels ['train objective start 1 end 2 assert len monitor objective record 1 p assert raises Assertion Error monitor channels 0 assert raises Assertion Error monitor channels [] assert raises Assertion Error monitor channels ['train objective start 2 end 1
def number metadata registry xml parent data pdef base metadata registry xml parent data 'metadata-number' value data 'value' '' X M L Sub Element pdef 'value' .text value 
def header encode header charset 'iso-8859-1' keep eols False maxlinelen 76 eol NL if not header return headerif not keep eols header fix eols header quoted []if maxlinelen is None max encoded 100000else max encoded maxlinelen - len charset - MISC LEN - 1 for c in header if c ''  max append quoted '_' max encoded elif not hqre c  max append quoted c max encoded else  max append quoted ' %02X' % ord c max encoded joiner eol + '' return joiner [ ' ?%s?q?%s? ' % charset line for line in quoted 
def  get value from value pb value pb value type value pb Which Oneof 'value type if value type 'timestamp value result  pb timestamp to datetime value pb value elif value type 'key value result key from protobuf value pb value elif value type 'boolean value result value pb valueelif value type 'double value result value pb valueelif value type 'integer value result value pb valueelif value type 'string value result value pb valueelif value type 'blob value result value pb valueelif value type 'entity value result entity from protobuf value pb value elif value type 'array value result [ get value from value pb value for value in value pb value value type 'geo point value result Geo Point value pb point value value pb point value elif value type 'null value result Noneelse raise Value Error 'alueprotobufdidnothaveanyvalueset return result 
def get maxrate ratelimits size last func Noneif size size int size for ratesize rate func in ratelimits if size < ratesize breaklast func funcif last func return last func size return None 
def  get int data position dummy0 dummy1 dummy2 end position + 4 return  UNPACK INT data end [0] end 
def get render ctx return getattr g ' admin render ctx None 
def  split vars files data v vars []v files []for token in data tokens pname token name value token value enc pname smart str pname encoding DEFAULT ENCODING if is file like value if not value v files enc pname value else v vars enc pname '' elif hasattr value 'ile v files enc pname value else value smart str value encoding DEFAULT ENCODING v vars enc pname value return v vars v files 
def fetch tracks user page limit network pylast Last F M Network api key config key user obj Custom User user network results total pages user obj top tracks by page limit limit page page return [{'mbid' track if track else '' 'artist' {'name' track 'name' track 'playcount' track for track in results total pages 
def test translation class Translation Table tables Table text tables Column verbose name ugettext lazy u Text table Translation Table [] assert u Text table 
def call kw model name args kwargs method getattr type model name if getattr method ' api None 'model' return call kw model method model args kwargs else return call kw multi method model args kwargs 
def get Descriptive Extension gcode Text lines archive Text Lines gcode Text return '.' + get Description Carve lines + get Description Fill lines + get Description Multiply lines + get Description Speed lines 
def test rgb to hsl part 8 assert rgb to hsl 153 153 102 60 20 50 assert rgb to hsl 204 204 51 60 60 50 assert rgb to hsl 255 255 0 60 100 50
def xpath elem path return elem path namespaces NS
def consistencygroup get all by project context project id filters None marker None limit None offset None sort keys None sort dirs None return I M P L get all by project context project id filters filters marker marker limit limit offset offset sort keys sort keys sort dirs sort dirs 
def test clrtype returns existing python types global calledclass Py Sub Type1 type passclass Py Sub Type2 Py Sub Type1 passclass Py Sub Type3 Py Sub Type2 Py Sub Type1 passfor x in [bool buffer type range type ''.index type Base Exception dict type Ellipsis file float type sys getframe 0 xrange int long unicode tuple type lambda 3 type None type object  str   Py Sub Type1 Py Sub Type2 Py Sub Type3 called Falseclass My Type type def   clrtype   self global calledcalled Truereturn xclass X object   metaclass   My Type Are Equal called True 
def  append params oauth params params merged list params merged oauth params merged key lambda i i 'oauth ' return merged 
def volume get iscsi target num context volume id return I M P L get iscsi target num context volume id 
def check color option opt value if re '[a-z0-9]+$' value re I return valueif re '#[a-f0-9]{6}' value re I return valuemsg 'option%s invalidcolor %r shouldbeeitherhexadecimalvalueorpredefinedcolor Option Value Error msg % opt value 
def install requirements virtualenv path requirements file path pip path os virtualenv path 'bin/pip' cmd [pip path 'install' '-U' '-r' requirements file path get env for subprocess command exit code stdout stderr run command cmd cmd env env if exit code ! 0 raise Exception 'ailedtoinstallrequirementsfrom %s stderr %s ' % requirements file path stdout stderr return True 
def  get epochs delayed ssp raw read raw fif raw fname events read events event name picks  get picks raw reject dict mag 4e-12 epochs delayed ssp Epochs raw events 10] event id tmin tmax picks picks proj 'delayed' reject reject return epochs delayed ssp 
def name extractor subject result subjectfor name in re SUBJECT FN MATCHER subject name name '"' if name and RE NORMAL N A M E name result namereturn platform encode result 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def do patch activate script venv path script path os venv path 'bin' 'activate' file obj open script path lines file obj for i line in enumerate lines if line 'VIRTUAL ENV ' lines 'VIRTUAL ENV "%s"\n' % venv path file obj file obj open script path 'w' file obj ''.join lines file obj 
def os script os  vm  None opts None minion '' if minion minion salt config to yaml minion if os os  return   render script os  vm  opts minion if os '{0}.sh'.format os  return   render script '{0}.sh'.format os  vm  opts minion for search path in opts scripts search path if os os search path os  return   render script os search path os  vm  opts minion if os os search path '{0}.sh'.format os  return   render script os search path '{0}.sh'.format os  vm  opts minion return ''
def get Split Line Before Bracket Semicolon line bracket Semicolon Index min line ';' line ' ' if bracket Semicolon Index < 0 return line return line bracket Semicolon Index 
def generate keys local " release 
def add Trailing Space articles  sp Articles [] sp Unicode Articles []for article in articles if article -1 ] not in "'" '-' article + '' sp Articles article  sp Unicode Articles article 'utf 8' return  sp Articles  sp Unicode Articles 
def  is descriptor mobile available descriptor if Ignore Mobile Available Flag Config enabled or descriptor available return ACCESS G R A N T E Delse return Mobile Availability Error 
def optimizer from config config custom objects None all classes {'sgd' SGD 'rmsprop' R M Sprop 'adagrad' Adagrad 'adadelta' Adadelta 'adam' Adam 'adamax' Adamax 'nadam' Nadam 'tfoptimizer' T F Optimizer name config name custom objects and class name in custom objects cls custom objects name class name in get custom objects cls get custom objects [class name if class name not in all classes raise Value Error 'ptimizerclassnotfound ' class name cls all classes name ]return cls config config 
def enumerate backends config bpm bpm from config config return [plug.name for _ _ plug in bpm Plugin Candidates ]
def assert token equal x y if not tokens equal x y msg u Thetokensdiffer {0!r}! {1!r}'.format x y pytest msg return True 
def changequery query None **kw if query is None query web method 'get' for k v in iteritems kw if v is None query k None else query vout web query out + '?' + urlencode query doseq True return out 
def reconcile message new message session from inbox import Messageif new message uid is None q session Message .filter Message id new message id Message sha256 new message sha256 return q if '-' not in new message uid existing message session Message .filter Message id new message id Message uid new message uid Message created .first version Noneelse expected public id version new message uid '-' existing message session Message .filter Message id new message id Message id expected public id Message created .first if existing message is None return Noneif version is None or int version existing message existing message id header new message id headerexisting message new message message body new message bodyreturn existing message 
def  get labels node apiserver url url '{0}/api/v1/nodes/{1}'.format apiserver url node ret http url if 'body' in ret ret json ret 'body' elif ret 'status' 0 404 return "ode node else return retreturn ret 'metadata' {} .get 'labels' {}
def p compound statement 3 t pass 
def  join chars chars length mult int length / len chars + 1 mult chars chars * mult return ''.join random mult chars length 
def test read normal table '\n#comment withblanklineabove \n \ol1 Col2 \n1.2"hello"\n2.4\'sworlds\n \n'reader ascii reader Reader ascii R S T dat reader table assert equal dat [ol1 'ol2 assert almost equal dat 2.4 assert equal dat '"hello"' assert equal dat "'sworlds"
def validate storage type storage type if storage type not in VALID STORAGE TYPES raise Value Error ' B Instance Storage Typemustbeoneof %s' % ' '.join VALID STORAGE TYPES return storage type 
def dice coefficient string1 string2 def bigrams s return set s i + 2 ] for i in xrange len s - 1 nx bigrams string1 ny bigrams string2 nt nx ny return 2.0 * len nt / len nx + len ny or 1
def grp from gid gid global  gid to grp cache  name to grp cache entry cached  cache key value grp gid  gid to grp cache if entry and not cached  name to grp cache name entryreturn entry 
def parse series tokens for token in tokens if token 'STRING' raise Value Error 'tringtokensnotallowedinseries s ''.join token for token in tokens .strip if s 'odd' return 2 1 elif s 'even' return 2 0 elif s 'n' return 1 0 if 'n' not in s return 0 int s a b s 'n' 1 if not a a 1elif a '-' or a '+' a int a + '1' else a int a if not b b 0else b int b return a b 
def bundle item s3 lambda r r 's3json' return s3 rest controller 
@frappe.whitelist def get assessment details assessment plan return frappe list u Assessment Evaluation Criteria fields [u'evaluation criteria u score filters {u'parent' assessment plan order by u 
def get capture size state maximum 8 planes np maximum state state for x y in state legal moves n captured 0for neighbor group in state groups around x y gx gy next iter neighbor group if state counts 1 and state gx gy ] ! state player n captured + len state sets planes min n captured maximum - 1 x y ] 1return planes 
def get Alias domain try data socket ex domain alias repr data return aliasexcept Exception return False 
def p4 describe change ds p4 Cmd List ['describe' '-s' str change ] if len ds ! 1 die 'p4describe-s%ddidnotreturn1result %s' % change str ds d ds 'xit Code in d die 'p4describe-s%dexitedwith%d %s' % change d Exit Code str d if 'code' in d if d 'error' die 'p4describe-s%dreturnederrorcode %s' % change str d if 'time' not in d die 'p4describe-s%dreturnedno"time" %s' % change str d return d 
def  prepare topomap pos ax pos x pos 0]pos y pos 1] hide frame ax if any [ not pos y not pos x ] raise Runtime Error 'opositioninformationfound cannotcomputegeometriesfortopomap return pos x pos y 
def  future expose api anonymous func to json True return  future expose api func to json to json user required False 
def instance mock request cls name None spec set True **kwargs name name if name is not None else request return create autospec cls  name name spec set spec set instance True **kwargs
def latex output graph self node graph node node hash get graph hash node name 'inheritance%s' % graph hash dest path os os setup ' images if not os dest path os dest path pdf path os os dest path name + '.pdf' graph dot [pdf '-o%s' % pdf path ] name parts graph options {'size' '"6.0 6.0"'} return '\n\\includegraphics{%s}\n\n' % pdf path 
def func name return name 
def change user password user password user encrypt password password  datastore user send password changed notice user password changed app get current object user user get current object 
def bad app return None 
def try parse field field name value parser dict parser parser dict field name if parser is not None return try or none parser value else return value 
def base64 decode s if not isinstance s bytes s s 'ascii' 'replace' decoded decodebytes s return decoded 
def track validation stats json result addons linter False result json json result result kind 'success' if result 0 else 'failure' runner 'linter' if addons linter else 'validator' statsd 'devhub.{}.results.all.{}'.format runner result kind listed tag 'listed' if result else 'unlisted' signable tag 'is signable if addon can be signed result else 'is not signable statsd 'devhub.{}.results.{}.{}'.format runner listed tag result kind statsd 'devhub.{}.results.{}.{}'.format runner listed tag signable tag 
def format Size size size int size steps 0sizes ['B' 'i B 'i B 'i B 'i B size > 1000 size / 1024.0steps + 1return '%.2f%s' % size sizes 
def add Sparse Endpoints double Infill Width endpoints horizontal Segments Dictionary horizontal Segments Dictionary Key infill Solidity removed Endpoints solid Surface Thickness surrounding X Intersections segments horizontal Segments Dictionary Segments Dictionary Key segment in segments add Sparse Endpoints From Segment double Infill Width endpoints horizontal Segments Dictionary horizontal Segments Dictionary Key infill Solidity removed Endpoints segment solid Surface Thickness surrounding X Intersections 
def is empty object n last if n return Falselast last markers {' ' ';'}if not last or last -1 ] in markers return Falsereturn True 
def is editable type value return get color name value not in UNSUPPORTED COLOR CUSTOM TYPE COLOR
def compute live map cfg blocks var use map var def map live map {}for offset in blocks live map var use map fix point progress return tuple len v for v in live map old point Nonenew point fix point progress while old point ! new point for offset in live map for inc blk  data in cfg offset live map blk | live map - var def map blk old point new pointnew point fix point progress return live map 
def attach sub item filename item filename 
def  copy np state r ptr ints index r state [1 3] helperlib set state ptr index [int x for x in ints return ints index 
def flavor extra set request flavor id metadata flavor novaclient request .flavors.get flavor id if not metadata return Nonereturn flavor keys metadata 
def nice classname obj if inspect obj cls name obj  name  else cls name obj  class  .  name  mod inspect obj if mod name mod  name  if name 'org.python.core.' name name 'org.python.core.' ]return '%s.%s' % name cls name else return cls name 
def mathjax for markdown pelicanobj mathjax script mathjax settings config {}config['mathjax script mathjax scriptconfig tag class 'math'config['auto insert mathjax settings insert if isinstance pelicanobj 'MD EXTENSIONS' list pelicanobj M D E X T E N S I O N S Pelican Math Jax Extension config else pelicanobj M A R K D O W N 'extensions' [] .append Pelican Math Jax Extension config except sys *sys.exc info sys 'rror Math Jaxisnon sys 
def jinja for django template name context None **kw if context is None context {}context instance kw 'context instance request context instance d in context instance context d return jingo request template name context **kw
def colorize log info level text if info level not in LOG L E V E L S raise Value Error 'rong level %s' % info level log LOG L E V E L S level '[%s%s%s]%s' % log log C O L O R S text 
def normalize delete at timestamp timestamp return '%010d' % min max 0 float timestamp 9999999999
def migrate up manager if db utils tables exist manager management environ settings from django import management as content managementfrom django import management as auth managementfrom django import models as db modelscontent management all contenttypes for app in db models apps auth management permissions app None 2 manager script migration 059.UP SQL
def get repository files folder path contents []for item in os folder path if item '.hg' continuecontents item if contents contents return contents 
def is dyad weight w return is weight w and all is dyad f for f in w 
def remove Glyph Overlap glyph manager Boolean Operation Manager contours glyph Contours manager contours glyph Point Pen 
def  logm superdiag entry l1 l2 t12 if l1 l2 f12 t12 / l1 elif abs l2 - l1 > abs l1 + l2 / 2 f12 t12 * np l2 - np l1 / l2 - l1 else z l2 - l1 / l2 + l1 u  unwindk np l2 - np l1 if u f12 t12 * 2 * np z + np * 1j * u / l2 - l1 else f12 t12 * 2 * np z / l2 - l1 return f12 
def bundle if len request 2 s3db 'budget bundle update next URL f 'bundle kit item args request return s3 rest controller rheader s3db rheader 
def join with timeout q timeout 2 q tasks done try endtime time + timeout while q tasks remaining endtime - time if remaining < 0.0 raise Runtime Error 'aitingforqueuetocleartimedout q tasks done remaining finally q tasks done 
def check geom offset result func cargs offset -1 check err result geom ptr byref cargs offset offset return check geom geom func cargs 
def get machid mac b '%012x' % uuid mac re '..' mac mac + ['00' '00']from codecs import encodemac ''.join [encode h 'hex codec for h in mac -1 ]] ids np np mac np count 2 return ids 
def inheriting field data kvs return Inheriting Field Data inheritable names Inheritance Mixin kvs kvs 
def test tmpdir fallback tox env testdir monkeypatch monkeypatch 'USER' raising False monkeypatch 'USERNAME' raising False testdir '\nimportpytest\ndeftest some tmpdir \nasserttmpdir.isdir \n' reprec testdir run reprec passed 1
def  get role name from file path dirs path dirs dirs 'roles' + 1 ]
def  authenticate consumer key consumer secret token data {'client id consumer key 'client secret consumer secret 'grant type 'client credentials 'scope' ' M S resource 'https //api.telstra.com/v1/oauth/token'token response requests token resource params token data timeout 10 .json if 'error' in token response return Falsereturn token response 
def  fast construct edges G radius p pos nx node attributes G 'pos' nodes coords list zip *pos.items kdtree K D Tree coords edge indexes kdtree pairs radius p edges nodes nodes for u v in edge indexes G edges from edges 
def p expression statement t pass 
def add http if no scheme url match re '^\\w+ //' url flags re I if not match parts urlparse url scheme 'http ' if parts else 'http //' url scheme + url return url 
def setup fast link sharelib builder top env new link actions []new link actions S Cons Defaults Shared Check new link actions Make Action fast link sharelib action '$SHLINKCOMSTR' sharedlib S Cons Builder Builder action new link actions emitter '$SHLIBEMITTER' prefix '$SHLIBPREFIX' suffix '$SHLIBSUFFIX' target scanner S Cons Scanner Prog Program Scanner src suffix '$SHOBJSUFFIX' src builder 'hared Object top env B U I L D E R S Shared Library sharedlib 
def get Canonical I D iname xrd tree xrd list xrd tree xrd tag xrd list try canonical I D xri X R I xrd list canonical I D tag [0].text except Index Error return Nonechild I D canonical I D for xrd in xrd list ] parent sought child I D child I D '!' ]parent xri X R I xrd canonical I D tag if parent sought ! parent raise X R D S Fraud '%rcannotcomefrom%s' % child I D parent child I D parent soughtroot xri Authority iname if not xri Is Authoritative root child I D raise X R D S Fraud '%rcannotcomefromroot%r' % child I D root return canonical I D 
def normalise email email clean email email if '@' in clean email local host clean email '@' return local + '@' + host return clean email 
def test outputs taps check x tensor 'x' y tensor 'y' f lambda x y [x] outputs info {'initial' y 'taps' [0]}assert raises Value Error theano f x outputs info outputs info {'initial' y 'taps' [ -1 -1 ]}assert raises Value Error theano f x outputs info print 'done'
def get current site configuration from openedx import get current sitesite get current site try return getattr site 'configuration' None except Site Configuration Does Not Exist return None 
def get nav close fund type 'all' sub type 'all' ct write head nums  get fund num ct S I N A NAV COUNT URL % ct P T Y P E ct D O M A I N S ct N A V CLOSE KEY ct N A V CLOSE API ct N A V CLOSE T2 type ct N A V CLOSE T3 type fund df  parse fund data ct S I N A NAV DATA URL % ct P T Y P E ct D O M A I N S ct N A V OPEN KEY ct N A V CLOSE API nums ct N A V CLOSE T2 type ct N A V CLOSE T3 type 'close' return fund df 
def test install editable from hg script tmpdir pkg path  create test package script name 'testpackage' vcs 'hg' args ['install' '-e' 'hg+%s#egg testpackage % path to url pkg path ]result script *args **{'expect error True result installed 'testpackage' with files ['.hg']
def test show with files not found script data editable data 'etup Py U T F8 script 'install' '-e' editable result script 'show' '-f' 'etup Py U T F8 lines result assert len lines 11 assert 'ame Setup Py U T F8 in lines assert 'ersion 0.0.0' in lines assert any line 'ocation ' for line in lines assert 'equires ' in lines assert 'iles ' in lines assert 'annotlocateinstalled in lines 
def  patch arrays A R R A Y S {'meta paths [ 'traces' ] 'items' list TRACE NAMES }
def  serialize item item stream qtutils stream stream item stream Q String item qtutils stream stream Q Byte Array stream Int32 0 stream Bool False qtutils stream stream Q Url stream Int32 0 qtutils stream stream item url stream Bool False stream Int64 int time stream Int 200
def get Lifted Output derivation geometry Output xml Element if derivation Type [ 1] 'm' return geometry Outputgeometry Output Vertexes matrix Connection Vertexes geometry Output translation Vector3 0.0 0.0 - euclidean Bottom Path geometry Output Vertexes euclidean Vector3 Path geometry Output Vertexes translation return geometry Output 
def  read typedesc f typedesc {'typecode'  read long f 'varflags'  read long f }if typedesc & 2 2 raise Exception 'ystemvariablesnotimplemented typedesc typedesc & 4 4 typedesc typedesc & 32 32 if typedesc typedesc desc  read arraydesc f typedesc desc  read structdesc f elif typedesc typedesc desc  read arraydesc f return typedesc 
def default ssl cacerts return SSL C A C E R T S 
def image snapshot revert call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'heimage snapshot revertfunctionmustbecalledwith if kwargs is None kwargs {}image id kwargs 'image id None image name kwargs 'image name None snapshot id kwargs 'snapshot id None if snapshot id is None raise Salt Cloud System Exit "heimage snapshot revertfunctionrequiresa id if image id if image name log "oththe id name id elif image name image id get image id kwargs {'name' image name else raise Salt Cloud System Exit "heimage snapshot revertfunctionrequireseitheran id name server user password  get xml rpc auth ' '.join [user password response server auth int image id int snapshot id data {'action' 'image.snapshotrevert' 'reverted' response 'snapshot id response 'error code response data 
def mock verify token testcase patcher mock 'ournalist token testcase Cleanup patcher testcase journalist verify token patcher testcase journalist verify token value True 
@command 'vp' def vp msg util F 'currentpl' txt util F 'adviseadd' if g else util F 'advisesearch' failmsg util F 'plempty' + '' + txt paginatesongs g msg msg failmsg failmsg 
def render s context None if context is None context {}t get env .from string s return t context 
def basic extractor document train set word features  get words from dataset train set tokens  get document tokens document features dict u {0} '.format word word in tokens for word in word features return features 
def parse keqv list l encoded list [u.encode 'utf-8' for u in l parsed urllib2 keqv list encoded list return dict k 'utf-8' v 'utf-8' for k v in encoded parsed 
def toeplitz c r None c np c .ravel if r is None r c else r np r .ravel vals np r -1 0 -1 ] c a b np len c len r - 1 -1 -1 ]indx a + b return vals 
def ip6 interfaces if salt proxy return {}ret {}ifaces  get interfaces for face in ifaces iface ips []for inet in ifaces 'inet6' [] if 'address' in inet iface ips inet for secondary in ifaces 'secondary' [] if 'address' in secondary iface ips secondary ret iface ipsreturn {'ip6 interfaces ret 
def is Being Written filepath ctime max os filepath os filepath if ctime > time - 60 return Truereturn False 
def get hash from file hash path dvd basename hash file open hash path 'r' for line in hash file if dvd basename in line return line [0]
def plug interface cluster lswitch id port type attachment None lport obj {}if attachment lport obj uuid attachmentlport obj typereturn  plug interface cluster lswitch id port lport obj 
def env absent name user 'root' name name ret {'name' name 'result' True 'changes' {} 'comment' ''}if   opts  ['test'] status  check cron env user name ret Noneif status 'absent' ret Trueret 'ronenv name elif status 'present' or status 'update' ret 'ronenv name return retdata   salt  ['cron.rm env user name if data 'absent' ret 'ronenv name return retif data 'removed' ret "ronenv name user ret {user name retret 'ronenv name user data ret Falsereturn ret 
def confusion matrix rater a rater b min rating None max rating None assert len rater a len rater b if min rating is None min rating min rater a + rater b if max rating is None max rating max rater a + rater b num ratings int max rating - min rating + 1 conf mat [[0 for i in range num ratings ] for j in range num ratings ]for a b in zip rater a rater b conf mat a - min rating ][ b - min rating ] + 1return conf mat 
def make iprofiledblockdeviceapi tests profiled blockdevice api factory dataset size class Tests I Profiled Block Device A P I Tests Mixin Test Case def set Up self super Tests self .p self profiled blockdevice api factory self self size dataset sizereturn Tests 
def get body barycentric posvel body time ephemeris None return  get body barycentric posvel body time ephemeris 
def required field attrs self widget attrs field widget attrs self widget if self and 'required' not in attrs attrs 'required'return attrs 
@task@cmdopts [ 'suite ' 's' 'estsuitetorun 'coverage' 'c' 'untestundercoverage ] @timeddef test js run options options 'run'test js options 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def save to well known file credentials well known file None if well known file is None well known file  get well known file config dir os well known file if not os config dir raise O S Error 'onfigdirectorydoesnotexist {0}'.format config dir credentials data credentials data save private file well known file credentials data 
def  invalidate queue q val None sync True def  qsize len len return 1def  put item passdef  get return valif sync q try q 2q. qsize  qsizeq put  putq get  getq empty All q full All finally if sync q 
def  plot sensors pos x pos y sensors ax from matplotlib import Circleif sensors is True for x y in zip pos x pos y ax artist Circle xy x y radius 0.003 color 'k' else ax pos x pos y sensors 
@add divider highlight group u divider def uptime pl days format u d hours format u d minutes format u d seconds format u d shorten len 3 try seconds  get uptime except Not Implemented Error pl u Unabletogetuptime Youshouldinstallpsutilmodule return None minutes seconds divmod seconds 60 hours minutes divmod minutes 60 days hours divmod hours 24 time formatted list filter None [ days format days days if days and days format else None hours format hours hours if hours and hours format else None minutes format minutes minutes if minutes and minutes format else None seconds format seconds seconds if seconds and seconds format else None ] [0 shorten len u time formatted .strip
def  convert string array data encoding itemsize None if encoding is not None and len data data Series data .str.encode encoding .values.reshape data if itemsize is None itemsize lib len string array  ensure object data data np data dtype ' % itemsize return data 
def modify label id **data models Label get id .update object data 
def  pick data or ica info ch names [c['ch name for c in info 'ICA' in ' '.join ch names picks pick types info exclude [] misc True else picks  pick data channels info exclude [] with ref meg False return picks 
def Get Compiler Path target list data options build file _ _ gyp Parse Qualified Target target list make global settings dict data file 'make global settings {} for key value in make global settings dict if key in ['CC' 'CXX'] return os options dir value for key in ['CC target 'CC' 'CXX'] compiler os key if compiler return compilerreturn 'gcc'
def  combine args first *rest if hasattr first '  iter  ' and not isinstance first Tree Element or isinstance first type or isinstance first basestring or isinstance first dict if rest raise Value Error 'rgumentsmustbeeitherasinglelistoftargets orseparatelyspecifiedtargets e t1 t2 t3 butnotboth return firstreturn itertools [first] rest 
def discover sourcemap result sourcemap result 'sourcemap' result 'x-sourcemap' if not sourcemap parsed body result '\n' if len parsed body > 10 possibilities parsed body 5] + parsed body -5 ] else possibilities parsed bodyfor line in possibilities if line 21] in 'apping U R L ' 'apping U R L ' sourcemap line ].rstrip if sourcemap if '/*' in sourcemap and sourcemap -2 ] '*/' index sourcemap '/*' if index 0 raise Assertion Error 'react-nativecommentfoundatbadlocation %d %r' % index sourcemap sourcemap sourcemap index urljoin result sourcemap return sourcemap 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  is pid running on unix pid try os pid 0 except O S Error return Falseelse return True 
def test find default import path test apps monkeypatch tmpdir monkeypatch os 'FLASK APP' raising False assert find default import path None monkeypatch os 'FLASK APP' 'notanapp' assert find default import path 'notanapp' tmpfile tmpdir 'testapp.py' tmpfile '' monkeypatch os 'FLASK APP' str tmpfile expect rv prepare exec for file str tmpfile assert find default import path expect rv 
def prepare asides to store asides source asides Noneif asides source asides []for asd in asides source aside fields {}for asd field key asd field val in asd aside fields field key asd field val from asd asides {'aside type asd ids type 'fields' aside fields return asides 
def human Duration Nanosec nsec if nsec < 1000 return u % nsec usec nsec divmod nsec 1000 if usec < 1000 return u % usec + float nsec / 1000 msec usec divmod usec 1000 if msec < 1000 return u % msec + float usec / 1000 return human Duration msec 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def find vbd by number session vm ref dev number vbd refs session V M V B Ds vm ref requested device str dev number if vbd refs for vbd ref in vbd refs try user device session V B D userdevice vbd ref if user device requested device return vbd refexcept session Xen A P I Failure msg 'rrorlookingup V B D % vbd ref vm ref L O G msg exc info True 
def cas login request next page None required False ret django cas login request next page required if request authenticated user request User Profile or create user user defaults {'name' user return ret 
def scale time units time seconds arr unit if unit u return list map lambda x x * 1.0 / 60 time seconds arr elif unit u return list map lambda x x * 1.0 / 60 * 60 time seconds arr elif unit u return list map lambda x x * 1.0 / 24 * 60 * 60 time seconds arr return time seconds arr 
def bridge has service port bridge return bridge has port bridge is trunk service port 
def discard Logs global logfilelogfile Null File 
def test continuous error y np 0 1 15 nm Near Miss random state RND SEED version VERSION NEARMISS assert warns User Warning nm X y 
def get document from index doc id index index gae search Index index return  search document to dict index doc id 
def  validate coord center if isinstance center Sky Coord icrscoord center to ICRS .frameelif isinstance center Base Coordinate Frame icrscoord center to ICRS else icrscoord ICRS Longitude center unit u Latitude center unit u return icrscoord icrscoord 
def get exploration snapshots metadata exploration id exploration get exploration by id exploration id current version exploration nums range 1 current version + 1 return exp models Exploration Model snapshots metadata exploration id version nums 
def  install instrumented lookups  install lookups dict instance state  instrumentation factory of instance dict  instrumentation factory of manager of class  instrumentation factory of class 
def kaiser M beta sym True if  len guards M return np M M needs trunc  extend M sym n np 0 M alpha M - 1 / 2.0 w special beta * np 1 - n - alpha / alpha ** 2.0 / special beta return  truncate w needs trunc 
def needs Running Reactor reactor thunk reactor When Running thunk 
def dpkg search for binutils arch util packages []try filename 'bin/%s*linux*-%s' % arch util output subprocess output ['dpkg' '-S' filename for line in output .splitlines package path line ' ' 1 packages package except O S Error passexcept subprocess Called Process Error passreturn packages 
def screenwords imgdata if config T E S S E R A C T CMD is not None proc subprocess Popen [ E S S E R A C T CMD 'stdin' 'stdout'] stdin subprocess P I P E stdout subprocess P I P E proc imgdata proc words set result []size M A X V A L L E Nfor line in proc if size 0 breakfor word in line if word not in words if len word < size words word result word size - len word else size 0breakif result return result 
def  img2arr im assert im 'L' return numpy numpy im numpy im im 
def user get user id None name None profile None **connection args kstone auth profile **connection args ret {}if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid user kstone user id except keystoneclient Not Found msg "ouldnotfinduser user id log msg return {rror msg dict value getattr user value None for value in dir user if not value '_' and isinstance getattr user value None six type dict bool str tenant id getattr user 'd None if tenant id ret id tenant idreturn ret 
def entrypoints namespace try from pkg resources import iter entry pointsexcept Import Error return iter [] return ep ep for ep in iter entry points namespace 
def text string value encoding 'utf-8' if isinstance value bytes return value encoding return value 
def ode sol simplicity sol func trysolving True if iterable sol for i in sol if ode sol simplicity i func trysolving trysolving oo return ooreturn len str sol if sol Integral return ooif sol func and not sol func or sol func and not sol func return -2 if trysolving try sols solve sol func if not sols raise Not Implemented Errorexcept Not Implemented Error passelse return -1 return len str sol 
@mobile template 'questions/{mobile/}marketplace.html' def marketplace request template None return render request template {'categories' MARKETPLACE CATEGORIES}
def load backends backends force load False global B A C K E N D S C A C H Eif force load BACKENDSCACHE {}if not BACKENDSCACHE for auth backend in backends backend module member auth backend if issubclass backend Base Auth B A C K E N D S C A C H E backendreturn BACKENDSCACHE
def test init max time mins tpot obj T P O T Classifier max time mins 30 generations 1000 assert tpot obj 1000000 assert tpot obj time mins 30
def unpublish collection committer id collection id  unpublish activity committer id collection id feconf A C T I V I T Y TYPE COLLECTION
def HT SINE ds count ret call talib with ds ds count talib H T SINE if ret is None ret None None return ret 
def  reinstall default lookups  install lookups dict instance state  default state getter instance dict  default dict getter manager of class  default manager getter  instrumentation factory extended False 
def plot specgrams base dir CHART DIR plt genres ['classical' 'jazz' 'country' 'pop' 'rock' 'metal']num files 3 f axes plt len genres num files for genre idx genre in enumerate genres for idx fn in enumerate glob os GENRE DIR genre '*.wav' if idx num files breakaxis axes genre idx idx ]axis.yaxis.set major formatter Eng Formatter axis title '%ssong%i' % genre idx + 1 plot specgram axis fn specgram file os base dir 'pectrogram Genres plt specgram file bbox inches 'tight' plt 
def nth n iterable default None return next islice iterable n None default 
def maybe fileno f try return fileno f except FILENO ERRORS pass 
def p abstract declarator opt 1 t pass 
@foregrounddef mpl args stdin None from xontrib import showshow 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def drange dstart dend delta step delta + delta / SECONDS PER DAY + delta / MUSECONDS PER DAY f1  to ordinalf dstart f2  to ordinalf dend return np f1 f2 step 
def cosine distances X Y if X is Y X Y np X else X np X Y np Y if X ! Y raise Value Error 'ncompatibledimensionfor Xand Ymatrices return 1.0 - ssd X Y 'cosine'
def  find closest point on leg p1 p2 p0 if np p2 p1 d np p0 - p1 ** 2 return d p1 d21 p2 - p1 d01 p0 - p1 proj np d01 d21 / np d21 d21 if proj < 0 proj 0if proj > 1 proj 1pc p1 + proj * d21 d np pc - p0 ** 2 return d pc 
def config absent name ret {'name' name 'result' False 'changes' {} 'comment' ''}matches   salt  ['nxos.cmd'] 'find' name if not matches ret Trueret 'onfigisalreadyabsent   opts  ['test'] is True ret Noneret 'onfigwillberemoved nameelse   salt  ['nxos.cmd'] 'delete config name matches   salt  ['nxos.cmd'] 'find' name if not matches ret Trueret 'uccessfullydeletedconfig nameelse ret Falseret 'ailedtodeleteconfig ret 
def strip path fpath if not fpath return fpathtry file path file name os fpath except file name fpathreturn file name 
def parse from strings name code pxds None level None initial pos None context None allow struct enum decorator False if context is None context String Parse Context name assert isinstance code  unicode 'unicodecodesnippetsonlyplease'encoding ' T F name nameif initial pos is None initial pos name 1 0 code source String Source Descriptor name code scope context module module name pos initial pos need pxd False buf String I O code scanner Pyrex Scanner buf code source source encoding encoding scope scope context context initial pos initial pos ctx Parsing Ctx allow struct enum decorator allow struct enum decorator if level is None tree Parsing module scanner 0 module name ctx ctx tree scopetree pxd Falseelse tree Parsing code scanner level level ctx ctx tree scopereturn tree 
def isleapyear year msg 'se leap yearpropertyinstead msg Future Warning year np year return np or year % 400 0 np and year % 4 0 year % 100 > 0
def event fire consul url None name None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not name raise Salt Invocation Error 'equiredargument if 'dc' in kwargs query params kwargs 'node' in kwargs query params kwargs 'service' in kwargs query params kwargs 'tag' in kwargs query params kwargs 'event/fire/{0}'.format name res  query consul url consul url query params query params method 'PUT' function function if res ret Trueret 'vent name ret ret ret Falseret 'loning A C Litem kwargs return ret 
def  get annot fname annot fname subject hemi parc subjects dir if annot fname is not None hemis [op.basename annot fname [ 2]]if hemis not in ['lh' 'rh'] raise Value Error 'ouldnotdeterminehemispherefromfilename filenamehastostartwith annot fname [annot fname if hemi not in ['lh' 'rh' 'both'] raise Value Error 'hemihastobe"lh" "rh" or if hemi 'both' hemis ['lh' 'rh']else hemis [hemi]subjects dir get subjects dir subjects dir raise error True dst op subjects dir subject 'label' '%%s.%s.annot' % parc annot fname [ dst % hemi  for hemi  in hemis annot fname hemis 
def make tmp name length 8 return ''.join sample list lowercase length 
def set language changer request func request language changer func 
def from dtype dtype if dtype is None try return FROM D T Y P E Key Error if dtype in 'SU' return  from str dtype dtype if dtype in ' return  from datetime dtype dtype if dtype in 'V' subtype from dtype dtype return types Nested Array subtype dtype raise Not Implemented Error dtype else return from struct dtype dtype 
def resolve path path root if not os path path os root path return path 
def expand tokens tokens equal False for token in tokens for pre in token tags yield pre if not equal or not token when equal if token whitespace yield token + token whitespace else yield token for post in token tags yield post 
def get mistral api url api version DEFAULT API VERSION if cfg C O N F url api url get url without trailing slash cfg C O N F url api url '%s/%s' % api url api version else L O G '"mistral.api url usingauth url api url get full public api url api version api version return api url 
def get simple version version string if not version string return ''return re '[< >]' '' version string 
def get internal resource **lookup datasource config D O M A I N datasource 'aggregation' if aggregation return  perform aggregation resource aggregation aggregation else return  perform find resource lookup 
def html annotate merge annotations tokens old tokens new s Insensitive Sequence Matcher a tokens old b tokens new commands s opcodes for command i1 i2 j1 j2 in commands if command 'equal' eq old tokens old i2 new tokens new j2 annotations eq old eq new 
def  parse query query if query is None query 'full'query query ' ' return Q U E R I E S *query[1 ]
def tkinter clipboard get try from tkinter import Tk Tcl Errorexcept Import Error raise Try Next 'ettingtextfromtheclipboardonthisplatformrequirestkinter root Tk root try text root get except Tcl Error raise Clipboard Emptyfinally root text py3compat unicode text py3compat D E F A U L T ENCODING return text 
def time format value format string tf Time Format value return tf format string 
@task def assets ctx dev False watch False if os ! HERE os HERE npm 'npminstall'if not dev npm + '--production'ctx.run npm echo True bower install ctx webpack ctx clean False watch watch dev dev 
def cmd run module cmd check rc True return module command cmd '' check rc check rc 
def wildcard to regexp instring regexp string ''if instring ! '*' regexp string + '^'regexp string + instring '*' ' .* ' .replace '?' ' .{1} ' if instring -1 ] ! '*' regexp string + '$'return regexp string 
def get slave delay name metrics get metrics [0]if 'rs status my State not in metrics or metrics status my State ! 2 result 0else master {}slave {}try for member in metrics status members if member 1 master memberif member ' ' [0] socket slave memberresult max 0 master - slave / 1000 except Key Error result 0return result 
def merge dict1 dict2 for key val2 in dict2 if val2 is not None val1 dict1 key if isinstance val2 dict if val1 is None val1 {}if isinstance val1 Alias val1 val1 val2 elif isinstance val1 tuple alias others val1others others merge others val2 val1 alias others else val1 val1 merge val1 val2 else val1 val2dict val1 
def try set language lang try django lang if trans real . catalog is None raise Exception 'nvalidlanguage except Exception django 'en'
def tick update position tick tickxs tickys labelpos for label on in tick tick On tick tick On if on label position labelpos tick On tick On True False tick linestyle u tick marker u tick data tickxs tickys tick data 0 0
def  compute gapopen num hsp gapopen 0for seq type in 'query' 'hit' seq str getattr hsp seq type .seq gapopen + len re  RE GAPOPEN seq return gapopen 
def  is uuid zone return len zone 36 and zone '-' 8
def  create xblock child info xblock course outline graders include children predicate NEVER user None course None child info {}child category xblock primary child category xblock if child category child info {'category' child category 'display name xblock type display name child category default display name child category }if xblock children and include children predicate xblock child info [create xblock info child include child info True course outline course outline include children predicate include children predicate parent xblock xblock graders graders user user course course for child in xblock children ]return child info 
def handle Friends qry try get User Name except return  skype Error try return  find Friends qry '' False except Environment Error return Py Fred 'ch.xtin.skypingalfred.error' False .tem 'skypeupdate' 'skypeupdate' 'o Skype Friends Found 'seskypeupdatetocachefriends True 'update' . M L except return Py Fred Generic Error 
@require G E T required csrf cookiedef manage user standing request if not request staff raise Http404all disabled accounts User Standing account status User Standing A C C O U N T DISABLED all disabled users [standing.user for standing in all disabled accounts ['username' 'account changed by []for user in all disabled users row [user.username user by row context {'headers' headers 'rows' rows render to response 'manage user standing context 
def kdd mapk actual predicted k 10 return np [kdd apk a p k for a p in zip actual predicted ]
def  is scalar e e sympify e if isinstance e Expr if e Integer or e Float or e Rational or e Number or e Symbol and e commutative return Truereturn False 
def is abs url url regex re '^ ? http s // ? ? [A-Z0-9] ? [A-Z0-9-]{0 61}[A-Z0-9] ?\\. + ? [A-Z]{2 6}\\.?|[A-Z0-9-]{2 }\\.? |localhost|\\d{1 3}\\.\\d{1 3}\\.\\d{1 3}\\.\\d{1 3}|\\[?[A-F0-9]* [A-F0-9 ]+\\]? ? \\d+ ? ? /?|[/?]\\S+ $' re I G N O R E C A S E c regex re regex return c regex url is not None 
def print terms terms parent for term in terms if type terms ! dict print ' DCTB ' + parent + term else print terms terms parent + term + '.'
def compute node get all context return I M P L node get all context 
def  list groups request template query context {} sort form forms Sort Form request G E T show pagination Falseif sort form valid query query by sort form data 'name' else query query by 'name' paginator Paginator query settings I T E M S PER PAGE page request G E T 'page' 1 try groups paginator page except Page Not An Integer groups paginator 1 except Empty Page groups paginator paginator pages if paginator > settings I T E M S PER PAGE show pagination Truedata {'groups' groups 'page' page 'sort form sort form 'show pagination show pagination context return render request template data 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  Check List Type settings allowed type name allow none True if settings is None if not allow none raise Type Error 'one whichisnotallowed % name return settingsif not isinstance settings tuple list raise Type Error '%sisnotalist.' % name if not all isinstance i allowed type for i in settings type list list set type setting for setting in settings raise Type Error "%scontainstypesthatdon'tmatch%s %s" % name allowed type  name   type list return settings 
def test footer disable on table class Table tables Table name tables Column country tables Column footer 'otal ' table Table MEMORY DATA show footer False assert table footer is False 
def find vbd by number session vm ref dev number vbd refs session V M V B Ds vm ref requested device str dev number if vbd refs for vbd ref in vbd refs try user device session V B D userdevice vbd ref if user device requested device return vbd refexcept session Xen A P I Failure msg 'rrorlookingup V B D % vbd ref vm ref L O G msg exc info True 
def metadata forward if C O N F host ! '127.0.0.1' iptables manager rule 'PREROUTING' ' N A T %s' % C O N F host C O N F port else iptables manager rule 'PREROUTING' ' E D I R E C T % C O N F port iptables manager 
def  check minions directories pki dir minions accepted os pki dir salt Key A C C minions pre os pki dir salt Key P E N D minions rejected os pki dir salt Key R E J minions denied os pki dir salt Key D E N return minions accepted minions pre minions rejected minions denied 
def read element binary stream size return Bytes I O stream size 
def new data None return S H A224 Hash .new data 
def  formatparam param value None quote True if value is not None and len value > 0 if isinstance value tuple param + '*'value utils rfc2231 value value value if quote or tspecials value return '%s "%s"' % param utils value else return '%s %s' % param value else return param 
def normalize date date return date tzinfo tz 
def random quaternion rand None if rand is None rand numpy 3 else assert len rand 3 r1 numpy 1.0 - rand r2 numpy rand pi2 math * 2.0 t1 pi2 * rand t2 pi2 * rand return numpy [ numpy t2 * r2 numpy t1 * r1 numpy t1 * r1 numpy t2 * r2 ]
def get Normals interpolation Offset offset portion Direction normals [rom portion Direction - 0.0001 portion To portion Direction + 0.0001 if portion From > 0.0 normals offset - interpolation Offset Vector3 By Portion Portion Direction portion From .ormalized if portion To < 1.0 normals interpolation Offset Vector3 By Portion Portion Direction portion To - offset .ormalized return normals 
def document delete index doc type id hosts None profile None es  get instance hosts profile try if not index exists index index return Trueelse result es index index doc type doc type id id if result 'found' False return Trueexcept elasticsearch Not Found Error return Nonereturn None 
def hexdump src length 16 prefix '' n 0left length // 2 right length - left result []src bytearray src while src s src src length src ] l r s left s ] hexa '%-*s' % left * 3 ''.join [ '%02x' % x for x in l hexb '%-*s' % right * 3 ''.join [ '%02x' % x for x in r lf l FILTER rf r FILTER result '%s%04x%s%s%s%s' % prefix n hexa hexb lf rf n + lengthreturn '\n'.join result 
def Git File filename mode 'rb' bufsize -1 if 'a' in mode raise I O Error 'itfiles if '+' in mode raise I O Error 'itfiles if 'b' not in mode raise I O Error 'itfiles if 'w' in mode return  Git File filename mode bufsize else return io filename mode bufsize 
def Get C S V Generator Factory kind csv filename batch size csv has header openfile open create csv reader csv loader Loader Registered Loader kind loader Loader  openfile openfileloader Loader  create csv reader create csv readerrecord generator loader records csv filename def Create Generator request manager progress queue progress generator unused kinds 'nitializea Upload Work Itemgenerator Args \nrequest manager A Request Managerinstance queue A Progress Queueinstancetosendprogressinformation generator Ageneratorofprogressinformationor None kinds Thekindsbeinggenerated ignoredinthismethod .eturns \n Upload Work Item Generatorinstance Upload Work Item Generator request manager progress queue progress generator record generator csv has header batch size return Create Generator 
def Create Parser query input string antlr3 A N T L R String Stream query lexer Query Lexer With Errors input string tokens antlr3 Common Token Stream lexer parser Query Parser With Errors tokens return parser 
def  time to seconds past midnight time expr if time expr is None return Noneif time expr ' ' 1 time expr + ' 00' hour minute second [int p 10 for p in time expr ' ' ]return hour * 60 * 60 + minute * 60 + second 
def postmap available already emitted warning [] POSTMAP PATH '/usr/sbin/postmap'if not os POSTMAP PATH if already emitted warning passelse already emitted warning True logger 'ookin A D V A N C E D I N S T A L L A T I O Nforthesectionaboutpostfixformoreinformation POSTMAP PATH return Falsereturn True 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def write pack header f num objects f 'PACK' f struct '>L' 2 f struct '>L' num objects 
def sort by pval lines ind def  nan safe sort line 'ortlinesbasedonpvalsandforcenanstohaveinfpval float line ' DCTB ' [ind] if not isnan val return valelse return infreturn [lines[0]] + sorted lines ] key  nan safe sort 
def mbasename s base os s if base '.py' base base -3 ]if base in set ['base' '  init  '] base os os s + '.' + base return base 
def bool false check value if value in  bool false value ''return value 
def norm weight nin nout None scale 0.01 ortho True if nout is None nout ninif nout nin and ortho W ortho weight nin else W scale * numpy nin nout return W 'float32'
def checkerboard return load 'chessboard G R A Y 
def get file list data dir file ext file ext file ext if isinstance file ext list else [file ext file names [os.path.join data dir fn for fn in os data dir if any fn ext for ext in file ext ]return file names 
def  Put Crypt Keyset io loop secret  Get Secrets Manager .ut Secret secret json secrets Create Crypt Keyset secret io loop 
def create vpnservice subnet router name admin state up True profile None conn  auth profile return conn vpnservice subnet router name admin state up 
def Local Time t time year str t year [ -1 ]month str t mon if len month 1 month '0' + month return year + month 
def  get container infos container status base status client  get client try container info client container container if container info  valid status id  container info Id out container info except Exception passif not status raise Command Execution Error 'ontainer id container if 'id' not in status and 'd in status status status Id status 
def sample from pvect pvect onehot sample rng n 1 pvals pvect sample onehot sample return sample 
def  dash Capitalize name return '-'.join [word.capitalize for word in name '-' ]
def rebuild s return construct deconstruct s 
def get vswitch for vlan interface session vlan interface cluster None host mor vm util host ref session cluster vswitches ret session call method vim util 'get dynamic property host mor 'ost System 'config.network.vswitch' if not vswitches ret returnvswitches vswitches ret Host Virtual Switchfor elem in vswitches try for nic elem in elem if str nic elem .split '-' [ -1 ].find vlan interface ! -1 return elem Attribute Error pass 
def dmp abs f u K if not u return dup abs f K v u - 1 return [dmp abs cf v K for cf in f 
def test cleanup after egg info exception script data result script 'install' '-f' data links '--no-index' 'brokenegginfo 0.1' expect error True build script path / 'build' assert not exists build 'build/dirstillexists %s' % result script no temp 
def prepare data seqs labels maxlen None lengths [len s for s in seqs maxlen is not None new seqs []new labels []new lengths []for l s y in zip lengths seqs labels if l < maxlen new seqs s new labels y new lengths l lengths new lengthslabels new labelsseqs new seqsif len lengths < 1 return None None None n samples len seqs maxlen numpy lengths x numpy maxlen n samples .astype 'int64' x mask numpy maxlen n samples .astype tf for idx s in enumerate seqs x lengths idx sx mask lengths idx 1.0return x x mask labels 
def test iradon angles size 100image np size + np size [ -1 ] nb angles 200theta np 0 180 nb angles endpoint False radon image 200 radon image theta theta circle False reconstructed iradon radon image 200 circle False delta 200 np abs  rescale intensity image -  rescale intensity reconstructed assert delta 200 < 0.03 nb angles 80radon image 80 radon image theta theta circle False s radon image 80.sum axis 0 assert np s s rtol 0.01 reconstructed iradon radon image 80 circle False delta 80 np abs image / np image - reconstructed / np reconstructed assert delta 80 > delta 200
def list option s return List Value Component s 
def get collection titles and categories collection ids collection list [ get collection from model e if e else None for e in collection models Collection Model multi collection ids ]result {}for collection in collection list if collection is None logging 'ouldnotfindcollectioncorrespondingtoid else result {'title' collection 'category' collection result 
@task rate limit '50/m' def update denorm *pairs **kw log 'pdatingreviewdenorms % len pairs update denorm limit using kw 'using' for addon user in pairs reviews list Review .using using .filter addon addon user user .order by 'created' if not reviews continuefor idx review in enumerate reviews review count idxreview latest Falsereviews -1 ].is latest Truefor review in reviews review 
def regex filter in e routes THREAD L O C A L e 'QUERY STRING' None e W E B2 P Y ORIGINAL URI'] e P A T H INFO'] + query and '?' + query or '' if routes in path regex uri e routes in 'routes in e P A T H INFO'] rmatch regex redirect path if rmatch raise HTTP int rmatch 1 location rmatch 2 items path '?' 1 e P A T H INFO'] items len items > 1 if query query items + '&' + query else query items Q U E R Y STRING'] querye R E Q U E S T URI'] e P A T H INFO'] + query and '?' + query or '' return e 
def locscale grad y loc scale dlldy *args yst y - loc / scale dlldloc - dlldy yst *args / scale dlldscale -1.0 / scale - dlldy yst *args * y - loc / scale ** 2 return dlldloc dlldscale 
def basic check run complete f f filepaths [l.strip for l in f fp in filepaths if not exists fp return Falsereturn True 
def cache security group exists name region None key None keyid None profile None return bool describe cache security groups name name region region key key keyid keyid profile profile 
def zcard key host None port None db None password None server  connect host port db password return server key 
def write table fits input output overwrite False table hdu table to hdu input if isinstance output string types and os output if overwrite os output else raise I O Error 'ileexists {0}'.format output table hdu output 
def   remove temp logging handler if is logging configured return  remove null logging handler root logger logging Logger global LOGGING TEMP H A N D L E Rfor handler in root logger if handler is LOGGING TEMP HANDLER root logger Handler LOGGING TEMP HANDLER LOGGING TEMP HANDLER Nonebreakif sys info > 2 7 logging Warnings True 
def  default callback zip src path fi nfiles sys 'ddingtozip %dof%d %s\n' % fi + 1 nfiles src path 
def validate mapped group ids group ids mapping id identity api for group id in group ids try identity api group group id except exception Group Not Found raise exception Mapped Group Not Found group id group id mapping id mapping id 
def update port token public url port id mac address calico network headers {ontent Type 'application/json' ' Auth Token token {'port' {'allowed address pairs [{'ip address calico network 'mac address mac address url public url + 'v2.0/ports/' + port id r requests auth url headers headers data json payload parsed json json r if r code ! 200 or 'eutron Error in parsed json sys 'ERROR Unabletoupdateport %s\n' % parsed json Neutron Error exit 1 else return r code 
def clone rtcpath update rt as path new rt as assert path and new rt as if not path or path family ! RF RTC UC raise Value Error 'xpected R T N L R Ipath old nlri path rt nlri Route Target Membership N L R I new rt as old nlri target return Rtc Path path new rt nlri path version num pattrs path map nexthop path is withdraw path withdraw 
def is Directory Setting return settings Read Repository Polyfile Repository .etting 
def  decode cert issuer backend ext data ptr ptr backend ffi 'constunsignedchar**' value backend lib X509 EXTENSION get data ext data ptr ptr value backend lib GENERAL NAMES backend ffi N U L L data ptr ptr value if gns backend ffi N U L L backend consume errors raise Value Error "he C R L Entry Extension O I D C E R T I F I C A T E ISSUER gns backend ffi gns backend lib G E N E R A L NAMES free return x509 Certificate Issuer  decode general names backend gns 
def get ping payload size mtu ip version if not mtu return Noneif ip version 4 ip header 20icmp header 8else ip header 40icmp header 4res mtu - ip header - icmp header if res < 0 raise lib exc Bad Request message 'MTU % mtu distoolowfor I Pv ip version d % {'mtu' mtu 'ip version ip version return res 
def set transient widget master relx 0.5 rely 0.3 expose 1 widget widget master widget idletasks if master ismapped m width master width m height master height m x master rootx m y master rooty else m width master screenwidth m height master screenheight m x m y 0w width widget reqwidth w height widget reqheight x m x + m width - w width * relx y m y + m height - w height * rely widget '+%d+%d' % x y if expose widget return widget 
def normals vertices indices vertices indices mapping compact vertices indices T vertices N np T[ 1] - T[ 0] T[ 2] - T[ 0] L np np N * N axis 1 L[ L 0 ] 1.0N / L[ np np like vertices normals 0]] + Nnormals 1]] + Nnormals 2]] + NL np np normals * normals axis 1 L[ L 0 ] 1.0normals / L[ np normals 
def real user or none user assert user is None or user anonymous or isinstance user get user model return user if user and not user anonymous else None 
def gelman rubin mtrace if mtrace < 2 raise Value Error 'elman Rubindiagnosticrequiresmultiplechainsofthesamelength Rhat {}for var in mtrace x np mtrace values var combine False num samples x B num samples * np np x axis 1 axis 0 ddof 1 W np np x axis 1 ddof 1 axis 0 Vhat W * num samples - 1 / num samples + B / num samples Rhat np Vhat / W return Rhat 
def store mapping mapping outdir prefix fh open outdir + '/' + prefix + ' mapping 'w' for key valuelist in mapping fh '%s ' % key for v in valuelist fh ' DCTB %s' % v fh '\n' fh 
def loss fun logits labels labels tf labels tf cross entropy tf softmax cross entropy with logits logits logits labels labels name 'cross entropy per example cross entropy mean tf mean cross entropy name 'cross entropy tf to collection 'losses' cross entropy mean return tf n tf collection 'losses' name 'total loss 
def  missing warn warnings 'neoftheclustersisempty Re 
def list accounts status result  query action 'accounts' command 'current' return result 
def should move move opt None return  bool fallback move opt config bool or config bool 
def  check estimator estimator if not hasattr estimator 'decision function and not hasattr estimator 'predict proba raise Value Error 'hebaseestimatorshouldimplementdecision functionorpredict proba 
def  dont fail on exist error if isinstance error Azure Conflict Http Error return Falseelse raise error 
def short cycle task *args **kwargs def decorator f f short cycle task Truef ticks between runs kwargs 'ticks between runs 0 return fif kwargs return decoratorelse return decorator args 
def method overridden method name klass instance method getattr klass method name default method getattr method u  func  ' method return default method is not getattr instance method name .  func  
def Meta Information title authors _ 'nknown from calibre import Metadatami Noneif hasattr title 'title' and hasattr title 'authors' mi titletitle mi mi Metadata title authors other mi 
def random ip network random ['192.0.2' '198.51.100' '203.0.113'] ip address '{}.{}'.format network random 256 return ip address 
def get view name view cls suffix None name view cls  name  name formatting trailing string name u View name formatting trailing string name u View Set name formatting to spaces name if suffix name + u + suffix return name 
def generate private uuid node wname private uuid str uuid wiki key to mongo key wname node private uuids key private uuidnode return private uuid 
def  minimal polynomial sq p n x from sympy import  is sum surdsp sympify p n sympify n r  is sum surds p if not n Integer or not n > 0 or not  is sum surds p return Nonepn p ** Rational 1 n p - xwhile 1 p1  separate sq p if p1 is p p p1 {x x ** n } breakelse p p1if n 1 p1 Poly p if p x ** p1 x < 0 p - p p p [1]return pfactors factor list p [1]result  choose factor factors x pn return result 
def connectionist temporal classification x t blank symbol input length None label length None if not isinstance x collections Sequence raise Type Error 'ariables if not isinstance blank symbol int raise Type Error 'blank symbolmustbenon assert blank symbol > 0 assert blank symbol < x assert len x 2 if input length is None xp cuda array module x input length chainer Variable xp len x len x dtype numpy volatile 'auto' label length chainer Variable xp len t len t dtype numpy volatile 'auto' return Connectionist Temporal Classification blank symbol input length label length t *x
def test api invite existing user client outbox user f User Factory role f Role Factory f Membership Factory project role user role is admin True client role url reverse 'memberships-list' data {'role' role 'project' role 'username' user client url json data assert response code 201 response len outbox 1 assert user 1 message outbox message [user.email] assert 'ddedtotheproject in message 
def delete Directory directory subfolder Name sub Directory os directory subfolder Name if os sub Directory shutil sub Directory 
def convert kernel kernel dim ordering None if dim ordering is None dim ordering K dim ordering if not 4 < kernel < 5 raise Value Error 'nvalidkernelshape ' kernel slices [slice None None -1 for _ in range kernel ]no flip slice None None slice None None if dim ordering 'th' slices 2] no flipelif dim ordering 'tf' slices -2 ] no flipelse raise Value Error 'nvaliddim ordering ' dim ordering return np kernel 
def   random string size 6 return 'RS-' + ''.join random string uppercase + string for x in range size 
def check exists manager names type if type TABLE TYPE info table ' A B L E S type VIEW TYPE info table ' I E W S raise Exception ' A B L E T Y P Eor V I E W TYPE' query ' E L E C Ttable name F R O Minformation schema W H E R Etable schema %%s' % info table rows manager query manager db name existing names [row[0] for row in rows name in names if name not in existing names raise Name Missing Exception '%smissingfromdatabase stopping % name 
def generate Tiny U R L URL target 'http //tinyurl.com/api-create.php?url ' + URL response urllib2 target return response 
def term width fallback config width int try import fcntlimport termiosexcept Import Error return fallbacktry buf fcntl 0 termios T I O C G W I N S Z '' * 4 except I O Error return fallbacktry height width struct 'hh' buf except struct return fallbackreturn width 
def revcmap data data r {}for key val in six data if callable val valnew  reverser val else valnew [ 1.0 - x y1 y0 for x y0 y1 in reversed val ]data r valnewreturn data r 
def prune vocab vocab min reduce trim rule None result 0old len len vocab for w in list vocab if not keep vocab item w vocab min reduce trim rule result + vocab vocab 'prunedout%itokenswithcount< %i before after ' old len - len vocab min reduce old len len vocab return result 
@blueprint.route '/resources/<resource>/meters' def list meters by resource resource rq flask rq conn meters resource resource project acl limited to project rq metaquery  get metaquery rq return flask meters [m.as dict for m in meters 
def dateify datestring return denumify datestring 'XXXX-XX-XXXX XX XX'
def has job name return name in  jobs 
def Create Bidding Strategy client bidding strategy service client Get Service 'idding Strategy Service version 'v201609' shared bidding strategy {'name' 'aximize Clicks % uuid 'cheme {'xsi type 'arget Spend Bidding Scheme 'eiling {mount '2000000'}}}operation {'operator' 'ADD' 'operand' shared bidding strategy bidding strategy service [operation] new bidding strategy response "haredbiddingstrategywithname I D % new bidding strategy new bidding strategy new bidding strategy Scheme Bidding Scheme Type return new bidding strategy 
def test should report multiple warnings negative expected [ 'ariableaassignedbeforeglobaldeclaration 'globala' -1 Warning 'ariablebassignedbeforeglobaldeclaration 'globalb' -1 Warning ]code 'deffoo \na 2\nglobala\n\ndefbar \nb 2ssert Error Assertion Error Are Equal expected compile file code 
def relation *arg **kw return relationship *arg **kw
def gallery request media type 'image' if media type 'image' media qs Image locale request L A N G U A G E CODE elif media type 'video' media qs Video locale request L A N G U A G E CODE else raise Http404media paginate request media qs per page ITEMS PER PAGE drafts  get drafts request image drafts if drafts else None image form  init media form Image Form request image if request 'POST' image form valid return render request 'gallery/gallery.html' {'media' media 'media type media type 'image form image form 'submitted' request 'POST' }
def connected caveman graph l k G nx graph l k G 'connected caveman graph %s %s ' % l k for start in range 0 l * k k G edge start start + 1 G edge start start - 1 % l * k return G
def triu m k 0 return m * 1 - tri m m k k - 1 dtype m 
def key pair get all by user context user id return I M P L pair get all by user context user id 
def test suggested multiple column names with dot completer complete event text u S E L E C Tusers users len u S E L E C Tusers users result set completer completions Document text text cursor position position complete event assert set result set testdata u 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def response httprepr response s ' T T P % response R E S P O N S E S response '' if response s + response string + '\r\n' s + '\r\n's + response s 
@register.tag u def do filter parser token _ rest token None 1 filter expr parser filter u % rest for func unused in filter expr if getattr func u decorated function func .  name   in u u raise Template Syntax Error u Usethe % func  name   nodelist parser u parser first token return Filter Node filter expr nodelist 
def  validate inputs image markers mask if not isinstance markers np list tuple markers regular seeds image markers elif markers ! image raise Value Error 'arkers shape musthavesameshapeasimage shape ' % markers image if mask is not None and mask ! image raise Value Error 'maskmusthavesameshapeasimage' if mask is None mask np image bool return image np markers np mask np 
def get node info nodes [ode Info Tags H O S T get br service url appscale info db master ip Node Info Tags R O L E 'db master Node Info Tags I N D E X None 0for node in appscale info db slave ips host get br service url node if host not in nodes nodes {ode Info Tags H O S T host Node Info Tags R O L E 'db slave Node Info Tags I N D E X index index + 1index 0for node in appscale info zk node ips nodes {ode Info Tags H O S T get br service url node Node Info Tags R O L E 'zk' Node Info Tags I N D E X index index + 1return nodes 
def hilbert x  cache  cache tmp asarray x if iscomplexobj tmp return hilbert tmp + 1j * hilbert tmp n len x omega  cache n if omega is None if len  cache > 20 while  cache  cache def kernel k if k > 0 return 1.0elif k < 0 return -1.0 return 0.0omega convolve convolution kernel n kernel d 1  cache omegaoverwrite x  datacopied tmp x return convolve tmp omega swap real imag 1 overwrite x overwrite x 
def default user agent  implementation platform implementation if  implementation ' Python  implementation version platform version elif  implementation 'y Py  implementation version '%s.%s.%s' % sys version info sys version info sys version info if sys version info ! 'final'  implementation version ''.join [ implementation version sys version info elif  implementation 'ython  implementation version platform version elif  implementation 'ron Python  implementation version platform version else  implementation version 'nknown ''.join [ 'python-requests/%s' %   version   '%s/%s' %  implementation  implementation version '%s/%s' % platform platform ]
def file  attrs None where None return  osquery cmd table 'file' attrs attrs where where 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def compute node search by hypervisor context hypervisor match return I M P L node search by hypervisor context hypervisor match 
def test node joinsource tmpdir os str tmpdir wf pe Workflow name u inputspec pe Node Identity Interface fields [u'n'] name u inputspec [ u [1 2] ]join pe Join Node Set Interface joinsource inputspec joinfield u name u assert join inputspec u Thejoinsourceisnotsettothenodename 
def triangulate vertices n len vertices vertices np vertices zmean vertices 2].mean vertices 2d vertices 2]segments np np n + 1 2 [1 -1 ]segments[ -2 ] n - 1 0 if  TRIANGLE AVAILABLE vertices 2d triangles  triangulate cpp vertices 2d segments else vertices 2d triangles  triangulate python vertices 2d segments vertices np len vertices 2d 3 vertices 2] vertices 2dvertices[ 2] zmeanreturn vertices triangles 
def  load Linux So try l ctypes C D L L 'liblabjackusb.so' use errno True except Type Error l ctypes C D L L 'liblabjackusb.so' l L J U S B Stream errcheckl L J U S B Read errcheckreturn l 
def get admin index app from django import capfirstfrom django import get modelsoutput []app models get models app app label app models meta labeloutput '{%%ifperms.%s%%}' % app label output '<divclass "module"><h2>%s</h2><table>' % app label for model in app models if model meta output MODULE TEMPLATE % {'app' app label 'mod' model meta name 'name' capfirst model meta name plural 'addperm' model meta add permission 'changeperm' model meta change permission } output '</table></div>' output '{%endif%}' return output 
def dumps obj key None salt u serializer J S O N Serializer compress False data serializer .dumps obj is compressed Falseif compress compressed zlib data if len compressed < len data - 1 data compressedis compressed Truebase64d b64 encode data if is compressed base64d '.' + base64d return Timestamp Signer key salt salt .sign base64d 
def start replay replay file name **kwargs settings Replay Settings replay file name **kwargs  patch httplib settings  patch requests settings  patch urllib3 settings 
def register variable name value   build rules value 
def test routing class based method view with sub routing @hug.object.http methods class End Point object def get self return 'hithere!'@hug.object.urls '/home/' def post self return 'bye'assert hug api 'endpoint' .data 'hithere!' assert hug api 'home' .data 'bye'
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def alias command command table existing name new name current command table name copy argument command table existing name new name current UNDOCUMENTED True 
def generate credits component start date end date result []for translation in component set authors Change list translation start date end date if not authors continueresult {translation.language.name sorted set authors } return result 
def set Data data global P O R Tif PORT is None raise Runtime Error 'ortaddressmustbesetusingset Port Address P O R T Data data 
def has instructor access for class user course id course get course overview with access user 'staff' course id return bool has access user 'staff' course 
def test rgb to hsl part 1 pass 
def autolabel rects for rect in rects height rect height ax rect x + rect width / 2.0 1.05 * height '%d' % int height ha 'center' va 'bottom'
def color groups groups colors data color order group num -1 for g in natsort groups if g not in colors group num + 1if group num len data color order group num 0colors[g] data color order num 
def check dict ref dict tst dict def to list x if isinstance x tuple x list x if isinstance x list for i xel in enumerate x x to list xel return xfailed dict {}for key value in list ref dict newval to list tst dict if newval ! value failed dict value newval return failed dict 
def deny ip return   apf cmd '-d{0}'.format ip 
def  run suite suite if verbose runner unittest Text Test Runner sys verbosity 2 else runner Basic Test Runner result runner suite if not result Successful if len result 1 and not result err result len result 1 and not result err result err 'errorsoccurred;runinverbosemodefordetails'raise Test Failed err 
def Make Renewed Response reference json k Verify Response Renewed Expired return json {'status' 0 'receipt' reference 'latest receipt base64 'fakeencodedreceipt' 'latest expired receipt info reference expired receipt info 
def get exit status http status follow False if 300 < http status < 399 and not follow return Exit Status E R R O R HTTP 3 Xelif 400 < http status < 499 return Exit Status E R R O R HTTP 4 Xelif 500 < http status < 599 return Exit Status E R R O R HTTP 5 Xelse return Exit Status O K 
def  get metadata from filename by regex filename metadata regexp unslugify titles lang match re metadata regexp filename meta {}if match for key value in match .items k key .strip if k u and unslugify titles meta unslugify value lang discard numbers False else meta valuereturn meta 
def list  profile 'splunk' client  get splunk profile searches [x['name'] for x in client searches searches 
def match rules rules app action for rule in rules ' ' rule app rule action rule ' ' if rule app '*' or rule app app if rule action '*' or rule action action or action '%' return Truereturn False 
@command 'pl\\s+%s' % PL def plist parturl if parturl in g pls ytpl plitems g pls util 'etchingplaylistusingpafy c c ytpl pafy playlist2 parturl plitems util Iter Slicer ytpl g pls ytpl plitems def pl seg s e return [ideo i i i for i in plitems e 'howing You Tubeplaylist % c + ytpl + c loadmsg 'etrieving You Tubeplaylist pl seg length len ytpl msg msg loadmsg loadmsg 
def unstyle text return strip ansi text 
def core status host None core name None ret  get return dict if not  check for cores err ['solr.reload corecanonlybecalledby ret {'success' False 'errors' err if  get none or value core name is None and  check for cores success Truefor name in   opts  ['solr.cores'] resp reload core host name if not resp success Falsedata {name {'data' resp  update return dict ret success data resp resp return retextra ['action STATUS' 'core {0}'.format core name ]url  format url 'admin/cores' host host core name None extra extra return  http request url 
def p declaration list 2 t pass 
def windows get fileid path import win32filefrom pywintypes import errorif isbytestring path path path filesystem encoding try h win32file Create File W path 0 0 None win32file O P E N EXISTING win32file F I L E FLAG BACKUP SEMANTICS 0 try data win32file Get File Information By Handle h finally win32file Close Handle h except error Environment Error return Nonereturn data data data 
def  numa cell supports pagesize request host cell inst cell avail pagesize [page.size kb for page in host cell pagesize reverse True def verify pagesizes host cell inst cell avail pagesize inst cell mem inst cell * units Ki for pagesize in avail pagesize if host cell fit hugepages pagesize inst cell mem return pagesizeif inst cell MEMPAGES SMALL return verify pagesizes host cell inst cell avail pagesize -1 ] elif inst cell MEMPAGES LARGE return verify pagesizes host cell inst cell avail pagesize -1 ] elif inst cell MEMPAGES ANY return verify pagesizes host cell inst cell avail pagesize else return verify pagesizes host cell inst cell [inst cell 
def most popular word reducer user words and counts word counts Counter for word count in words and counts word counts + count word count word counts common 1 [0] yield user word count 
def   csf cmd cmd csf cmd '{0}{1}'.format salt 'csf' cmd out   salt  ['cmd.run all csf cmd if out ! 0 if not out ret out ret out Command Execution Error 'csffailed {0}'.format ret else ret out ret 
def is present name output Popen ['locale' '-a'] stdout PIPE .communicate [0]output to native output return any fix case name fix case line for line in output 
def get node by name and ip module lb driver name ip nodes lb driver get nodes found nodes []if not is ipv4 addr ip module json msg "ode I Pv4address % ip found nodes [node for node in nodes if node name and node ip ]if len found nodes 0 return Noneelif len found nodes 1 return found nodes module json msg "orethanonenodeofname % name 
def  pkl filepath *args **kwargs py3 suffix kwargs 'py3 suffix ' py3 basename ext splitext args -1 ] if sys info > 3 basename + py3 suffixnew args args -1 ] + basename + ext return join *new args 
def default prefixer request http Http Request request M E T A S C R I P T NAME'] ''prefixer amo Prefixer request prefixer settings D E F A U L T A P Pprefixer settings L A N G U A G E C O D Eamo url prefix prefixer 
def generate random id return 'id' + generate random string 6
def test roberts diagonal1 image np 10 10 0 expected ~ np 10 10 -1 .astype bool | np 10 10 -2 .astype bool .transpose expected  mask filter result expected None result filters image .astype bool assert close result expected 
def render message tpl name **context tpl  tpl lookup template tpl name return tpl **context
@pytest.mark.usefixtures 'clean system 'remove additional dirs def test cookiecutter input extra context monkeypatch monkeypatch 'cookiecutter.prompt.read user variable lambda var default default main 'tests/fake-repo-pre' no input False extra context {'repo name 'fake-project-input-extra'} assert os 'fake-project-input-extra'
def list master saltenv 'base' prefix '' return   context  ['fileclient'].file list saltenv prefix 
def org root organisation name organisation id if not organisation id return Nonedb current current s3db organisationbtable s3db organisation alias 'org branch organisation ltable s3db organisation branchquery btable organisation id join ltable ! True & btable ! True & otable ! True & btable ltable id & otable ltable id row db query & join .select otable limitby 0 1 .first if row is not None return org root organisation name row else row db otable organisation id .select otable limitby 0 1 .first if row return row 
def get quantifier ch input iter if ch in '*?+' try ch2 escaped input iter except Stop Iteration ch2 Noneif ch2 '?' ch2 Noneif ch '+' return 1 ch2 return 0 ch2 quant []while ch ! '}' ch escaped input iter quant ch quant quant -1 ]values ''.join quant .split ' ' try ch escaped input iter except Stop Iteration ch Noneif ch '?' ch Nonereturn int values ch 
def parse url overrides kw anchor ''qs ''app url Nonehost Nonescheme Noneport Noneif ' query in kw query kw ' query if isinstance query string types qs '?' + url quote query QUERY SAFE elif query qs '?' + urlencode query doseq True if ' anchor in kw anchor kw ' anchor anchor url quote anchor ANCHOR SAFE anchor '#' + anchor if ' app url in kw app url kw ' app url if ' host in kw host kw ' host if ' scheme in kw scheme kw ' scheme if ' port in kw port kw ' port return app url scheme host port qs anchor 
@memoize 'missing traffic time 60 * 10 def get missing traffic start end time points get time points 'hour' start end q Session Sitewide Pageviews .filter Sitewide Pageviews 'hour' .filter Sitewide Pageviews  time points found [t for t in q [t for t in time points if t not in found ]
def valid ua signature request signed headers 'ser Agent 'lient Vendor I D signature header SIGNATURE UA HEADER payload '|'.join '{} {}'.format h request h or '' for h in signed headers return valid signature payload request signature header field 'ua'
def log handlers opts ret Lazy Loader  module dirs opts 'log handlers int type 'handlers' base path os SALT BASE PATH 'log' opts tag 'log handlers return Filter Dict Wrapper ret '.setup handlers 
@receiver pre delete sender Cohort Membership def remove user from cohort sender instance **kwargs instance user group instance instance user group 
def schema concat exprs new fields []for c in exprs schema c isinstance schema Record new fields schema elif isinstance schema Unit Option new fields c name schema else raise Type Error 'llschemasmusthave Recordor Unitshape Got % schema return dshape Record new fields 
def libvlc media player set chapter p mi i chapter f  Cfunctions 'libvlc media player set chapter None or  Cfunction 'libvlc media player set chapter 1 1 None None Media Player ctypes int return f p mi i chapter 
def  dst x type n None axis -1 overwrite x False normalize None x0 n copy made   fix shape x n axis 'DST' if type 1 and n < 2 raise Value Error ' S T Iisnotdefinedforsize overwrite x overwrite x or copy made nm  get norm mode normalize if np x0 return  raw dst x0 type n axis nm overwrite x + 1j *  raw dst x0 type n axis nm overwrite x else return  raw dst x0 type n axis nm overwrite x 
def render items vert items if isinstance items dict items items return ' '.join '<b>{}</b> {}'.format key value for key value in items if value is not None and value is not False 
def  is cluster done cluster return cluster 'TERMINATING' or hasattr cluster 'enddatetime'
def enable password auth sshd config '/etc/ssh/sshd config  update ssh setting sshd config 'assword Authentication 'yes'
def vol activity hours month row try thisdate row activity hours Attribute Error return current N O N E not thisdate return current N O N E thisdate thisdate datetime year month 1 return first '%y-%m'
def isinstancemethod cls obj return  isinstancemethod cls obj 
def  handle convert in handle in format out handle out format alphabet None try f  converter in format out format ]except Key Error f Noneif f return f in handle out handle alphabet else records Seq I O in handle in format alphabet return Seq I O records out handle out format 
def run shell job job log 'unningshelljob os job dir cmd './%s%s' % job job file for job log "xecutingcommand % cmd sh cmd 
@receiver dbsignals save sender Webapp dispatch uid 'webapp.pre generate apk def pre generate apk sender None instance None **kw if kw 'raw' returnif not getattr settings 'PRE GENERATE APKS' False log 'ebapp { P Kpre a instance returnfrom . import tasksgenerated Falseif instance in mkt W E B A P P S APPROVED STATUSES app devs set d for d in instance types if mkt D E V I C E M O B I L E in app devs or mkt D E V I C E T A B L E T in app devs tasks generate apk instance generated Truelog 'ebapp { P Kpre a instance result 'YES' if generated else 'NO'
def pkcs emsa pkcs1 v1 5 encode M em Len h h Len  hash Func Params Func  hash Func Params H h Func M h Leading Digest Info  hash Func Params T h Leading Digest Info + H t Len len T if em Len < t Len + 11 warning 'pkcs emsa pkcs1 v1 5 encode intendedencodedmessagelengthtooshort return None P S '\xff' * em Len - t Len - 3 EM '\x00' + '\x01' + PS + '\x00' + T return EM
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def List Tables service project id tables service .list project Id project id .execute logging json tables indent 2
def assert tokens equal x y if len x ! len y msg u Thetokenssequenceshavedifferentlengths {0!r}! {1!r}\n'msg + u msg len x len y pformat x pformat y diffs [ a b for a b in zip x y if not tokens equal a b ]if len diffs > 0 msg [hetokensequencesdiffer ']for a b in diffs msg + [u'' u + repr a u + repr b ]msg u msg pytest msg return True 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def stack tup axis 0 return concatenate [cupy.expand dims x axis for x in tup axis 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def get path formats subview None path formats []subview subview or config for query view in subview query PF KEY Q U E R I E S query query path formats query Template view str return path formats 
def educate dashes oldschool inverted s return s '---' '&#8211;' .replace '--' '&#8212;'
def curfft inp norm None s inp ]cond norm  unitary norm scaling 1if cond norm 'ortho' scaling T s .astype 'float32' return curfft op inp s / scaling 
def convert time to hour minute hour minute convention if hour is None hour 0if minute is None minute 0if convention is None convention 'am'hour int hour minute int minute if convention 'pm' hour + 12return {'hours' hour 'minutes' minute 
def all return M I G R A T I O N S 
def convert Phone Number Property model prop kwargs return get Text Field kwargs 
def leapfrog H q p epsilon n steps def full update p q p p + epsilon * H q q + epsilon * H p return p q p p + 0.5 * epsilon * H q q + epsilon * H p if tt n steps 1 p seq q seq _ theano full update outputs info [p q n steps n steps - 1 p q p seq -1 ] q seq -1 ] p + 0.5 * epsilon * H q return q p 
def unstopped tokenstream return t for t in tokenstream if not t 
def Open Document Image doc Open Document 'application/vnd.oasis.opendocument.image' doc Image doc Element doc return doc 
def get Teardrop Path By End Start end radius start xml Element inclination get Inclination end start return get Teardrop Path inclination radius xml Element 
def raise event f @wraps f def decorated *args **kwargs r f *args **kwargs method request method in 'GET' 'POST' 'PATCH' 'DELETE' 'PUT' event name 'on post ' + method resource args if args else None getattr app event name resource request r if resource getattr app event name + '_' + resource request r return rreturn decorated 
def cov nearest cov method 'clipped' threshold 1e-15 n fact 100 return all False from statsmodels helpers import cov2corr corr2cov cov  std  cov2corr cov return std True if method 'clipped' corr  corr clipped cov  threshold threshold elif method 'nearest' corr  corr nearest cov  threshold threshold n fact n fact cov  corr2cov corr  std  if return all return cov  corr  std  else return cov 
def  get format timedelta64 values nat rep 'a T box False values int values np consider values values int ! i Na T one day nanos 86400 * 1000000000.0 even days np and consider values values int % one day nanos ! 0 .sum 0 all sub day np and consider values np values int > one day nanos .sum 0 if even days format 'even day all sub day format 'sub day format 'long'def  formatter x if x is None or lib x return nat repif not isinstance x Timedelta x Timedelta x result x repr base format format if box result "'{0}'".format result return resultreturn  formatter 
def build output worklist force False output path abspath output source paths []for f files in worklist source paths map abspath files update needed Falseif not os output path if not settings A S S E T S AUTO CREATE and not force raise Merge Error "'%s'needstobecreated but A S S E T S AUTO C R E A T Eisdisabled % output else update needed Trueelif not force update needed get updater output path source paths if update needed or force output output pathtry try for filters files in worklist output merge map abspath files output filters output path close False finally if hasattr output 'close' output except if os output path os output path raise 
def  stc gen data sfreq tmin combo False vertices [np.arange data np 0 ]for d in data if not combo stc Source Estimate data d vertices vertices tmin tmin tstep 1 / float sfreq yield stc else arr d Source Estimate data d ] vertices vertices tmin tmin tstep 1 / float sfreq yield arr stc 
def get app info app loc if not os app loc msg 'otadirectory %s' % app loc L O G msg raise Value Error msg save cwd os os app loc try cmdv [ N V PYTHON 'setup.py' '--name' '--version' '--description' ' O G "unning % ''.join cmdv popen subprocess Popen cmdv stdout subprocess P I P E stderr subprocess P I P E res popen stdout stderr popen if res ! 0 L O G 'rrorgettingapplicationinfofrom \n%s' % app loc stderr raise O S Error stderr L O G 'ommandoutput \n<<<\n%s\n>>>' % stdout return stdout '\n' [ 4]finally os save cwd 
def get File Paths file In Directory '' directory Name os if file In Directory ! '' directory Name os file In Directory absolute Directory Path os directory Name directory os directory Name file Paths []for file Name in directory file Paths os absolute Directory Path file Name return file Paths 
def skill competencies table s3db skillttable s3db skill typertable s3db competency ratingquery table request & table type id ttable & rtable type id table type id records db query .select rtable rtable orderby ~ rtable response Content Type 'application/json'return records 
def test interacting iterators class A object def   iter   cls return clsdef next self return 3class B object def   iter   cls return A def next self return 2b B Are Equal next b 2
def p small stmts p if len p 4 p p + [p[3]] else p [p[1]]
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def load chromosome chr name cur chromosome Basic Chromosome Chromosome chr name chr segment info all chr info name seg info num in range len chr segment info label fill color scale chr segment info info num seg info num 0 cur segment Basic Chromosome Telomere Segment elif seg info num len chr segment info - 1 cur segment Basic Chromosome Telomere Segment 1 else cur segment Basic Chromosome Chromosome Segment if label ! '' cur segment labelif fill color is not None cur segment color fill colorcur segment scalecur chromosome cur segment cur chromosome num 19return cur chromosome 
def test pprint py3 bytes val str 'val' if PY2 else bytes 'val' encoding 'utf-8' blah u 'utf-8' if PY2 else bytes 'bl\xc3\xa4h' encoding 'utf-8' dat np [val blah dtype [ str 'col' 'S10' ] t table Table dat assert t ['col' '----' 'val' u 
def ascii Hex Encode stream try encoded Stream stream 'hex' except return -1 'rrorinhexadecimalconversion return 0 encoded Stream 
def servejs import gluon Content Type gluon '.js' return 'alert "hisisa Javascriptdocument itisnotsupposedtorun ;'
def test language russian lang Language 'ru' assert equals lang u assert equals lang u Russian assert equals lang u assert equals lang u assert equals lang u assert equals lang u assert equals lang outline u 
def remove coding text sub re re u \\s*.*-\\*-$' flags re M U L T I L I N E return sub re u text 
def load ipython extension ipython if not ipython line magic 'sql' ipython line magic 'load ext 'sql' ipython magic function pgcli line magic 'line' 'pgcli'
def lpol2index ar ar np ar index np ar [0]coeffs ar coeffs index 
def custom generate access cookie input dict flask request return generate ip verify hash input dict 
def security group get context security group id columns to join None return I M P L group get context security group id columns to join 
def quit global qdb listener connif qdb sys None qdb Noneif conn conn conn Noneif listener listener listener None 
def beacon config log 'twilio txt msgbeaconstarting ret []if not all [config['account sid config token config number return retoutput {}output['texts'] []client Twilio Rest Client config sid config token messages client to config number log 'ummessages {0}'.format len messages if len messages < 1 log 'wiliobeaconhasnotexts return retfor message in messages item {}item['id'] str message item str message item str message  item str message sent item []if int message media media client message .list if len media for pic in media item str pic output item message ret output return ret 
def getlineno frame return frame lineno 
def  Get This Module Object And Name return  Get Module Object And Name globals 
def write evokeds fname evoked  write evokeds fname evoked 
def  Renamed tool msvs name msbuild name setting type def  Translate value msbuild settings msbuild tool settings  Get M S Build Tool Settings msbuild settings tool msbuild tool settings name setting type Convert To M S Build value  msvs validators name name setting type Validate M S V S msbuild validators name name setting type Validate M S Build msvs to msbuild converters name name  Translate 
def handle wallclock metric common props sample wallclock samples []wallclock sample dict common props wallclock sample sample samples wallclock sample return wallclock samples 
def errors from deserialization exceptions exceptions included False def  to error exception detail exception status exception error status status detail detail errors list map  to error exceptions if len errors 1 status errors status 400return errors response status errors 
@strategy options option def baked lazyload loadopt attr return loadopt relationship strategy attr {'lazy' 'baked select 
def  decimate surface points triangles reduction if 'DISPLAY' not in os and sys ! 'win32' os E T S TOOLKIT'] 'null'try from tvtk import tvtkfrom tvtk import configure inputexcept Import Error raise Value Error 'hisfunctionrequiresthe T V T Kpackagetobeinstalled if triangles > len points - 1 raise Value Error 'hetrianglesrefertoundefinedpoints Pleasecheckyourmesh src tvtk Poly Data points points polys triangles decimate tvtk Quadric Decimation target reduction reduction configure input decimate src decimate out decimate out array return out array tris tris / 4 4 [ 1 ]
def constant time compare actual expected actual len len actual expected len len expected result actual len ^ expected len if expected len > 0 for i in xrange actual len result | ord actual ^ ord expected i % expected len ] return result 0
def  make find query query try query sympify query except Sympify Error passif isinstance query type return lambda expr isinstance expr query elif isinstance query Basic return lambda expr expr query is not None return query 
@pytest.mark.parametrize u number [ u u u u ] def test issue736 en tokenizer text number tokens en tokenizer text assert len tokens 2 assert tokens number 
def  gen tag low return '{0[state]} |-{0[  id  ]} |-{0[name]} |-{0[fun]}'.format low 
def load results dir package dirpath tgz filepath path package dirpath RESULTS DIR TARBALL if not path tgz filepath return None None tgz tarfile tgz filepath 'r gz tmp dirpath autotemp unique id 'scenario base results dirname tgz .nametgz.extract results dirname tmp dirpath for info in tgz tgz info tmp dirpath return tmp dirpath path tmp dirpath results dirname 
def copy c string c string s ctypes c string ctypes char p .valuereturn '' + s 
def instance system metadata get context instance uuid return I M P L system metadata get context instance uuid 
def  nth linear match eq func order x func x {x}terms {i S Zero for i in range -1 order + 1 }for i in Add args eq if not i func terms -1 ] + ielse c f i independent func if not isinstance f Derivative and set f one x or f func return Noneelse terms f ] ] + creturn terms 
@cache control no cache True def project badge request project slug version slug request G E T 'version' LATEST style request G E T 'style' 'flat' try version Version request .get project  slug project slug slug version slug except Version Does Not Exist url 'https //img.shields.io/badge/docs-unknown%20version-yellow.svg?style {style}'.format style style return Http Response Redirect url version builds version type 'html' state 'finished' .order by '-date' if not version builds url 'https //img.shields.io/badge/docs-no%20builds-yellow.svg?style {style}'.format style style return Http Response Redirect url last build version builds last build color 'brightgreen'else color 'red'url 'https //img.shields.io/badge/docs-%s-%s.svg?style %s' % version '-' '--' color style return Http Response Redirect url 
def no freesurfer if Info is None return Trueelse return False 
def add uids doctree condition for node in doctree condition node uuid4 .hex yield node 
def post issue comment issue comment text github auth closed issue issue closed issue 'closed'r requests 'https /han % issue data json {'body' comment text auth github auth try r for status time 1 return Trueexcept requests H T T P Error return False 
@pick context manager writerdef compute node delete context compute id result model query context models Compute Node .filter by id compute id .soft delete synchronize session False if not result raise exception Compute Host Not Found host compute id 
def generate key bytes hash alg salt key nbytes keydata bytes digest bytes if len salt > 8 salt salt 8]while nbytes > 0 hash obj hash alg if len digest > 0 hash obj digest hash obj b key hash obj salt digest hash obj size min nbytes len digest keydata + digest size - sizereturn keydata 
def overload attribute typ attr from .typing.templates import make overload attribute templatedef decorate overload func template make overload attribute template typ attr overload func infer getattr template return overload funcreturn decorate 
def evtop app None app app or default app state app State display Curses Monitor state app display screen refresher Display Thread display refresher try capture events app state display except Exception refresher Truerefresher display raiseexcept Keyboard Interrupt System Exit refresher Truerefresher display 
def recreate image codebook labels w h d codebook np w h d label idx 0for i in range w for j in range h image codebook idx idx + 1return image 
def get alembic configs script locations {}if C O N F script location  get subproject script location C O N F script locations C O N F script locationelse for subproject ep in migration entrypoints script locations  get subproject script location subproject configs []project seq sorted script locations if len project seq > 1 and 'neutron' in project seq project seq 0 project seq project seq 'neutron' for project in project seq config alembic config Config neutron alembic ini config main option 'neutron project project script location script locations main option 'script location script location  set version locations config config config C O N Fconfigs config return configs 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def show with diff image reference title plt figsize 5 3.3 plt 1 2 1 plt 'mage plt image vmin 0 vmax 1 cmap plt interpolation 'nearest' plt plt plt 1 2 2 difference image - reference plt 'ifference norm %.2f ' % np np difference ** 2 plt difference vmin -0.5 vmax 0.5 cmap plt Pu Or interpolation 'nearest' plt plt plt title size 16 plt adjust 0.02 0.02 0.98 0.79 0.02 0.2
def set default subparser self name args None subparser found Falsefor arg in sys ] if arg in ['-h' '--help'] breakelse for x in self subparsers actions if not isinstance x argparse Sub Parsers Action continuefor sp name in x name parser map if sp name in sys ] subparser found Trueif not subparser found if args is None sys 1 name else args 0 name 
def  is staff for article article user return user staff or user superuser or user is article course staff user article 
def migration get by id and instance context migration id instance uuid return I M P L get by id and instance context migration id instance uuid 
def get provider name None id None if id is not None provider ALL PROVIDERS BY I D else if name is None name settings D E F A U L T PAYMENT P R O V I D E Rprovider ALL P R O V I D E R S if provider not in settings P A Y M E N T PROVIDERS raise Improperly Configured 'heprovider P A Y M E N T P R O V I D E R S p provider return provider 
def  make streaming request sample language code max alternatives profanity filter speech context single utterance interim results config Recognition Config encoding sample sample rate sample rate language code language code max alternatives max alternatives profanity filter profanity filter speech context speech context streaming config Streaming Recognition Config config config single utterance single utterance interim results interim results config request Streaming Recognize Request streaming config streaming config return config request 
def handshake in memory client conn server conn client conn connect state server conn accept state for conn in [client conn server conn try conn handshake except Want Read Error passinteract in memory client conn server conn 
def symmetry bowker table warnings 'eprecated usestats Table Symmetryinstead Deprecation Warning table np table k k2 table k ! k2 raise Value Error 'tableneedstobesquare' upp idx np indices k 1 tril table T idx table idx tril - triu ** 2 / tril + triu + 1e-20 .sum df k * k - 1 / 2.0 pval stats stat df return stat pval df 
def  dict subset keys master dict return dict [ k v for k v in six master dict if k in keys ]
def get conn vm  get configured provider driver get driver Provider D I M E N S I O N D A T A region config cloud config value 'region' vm    opts   user id config cloud config value 'user id vm    opts   key config cloud config value 'key' vm    opts   if key is not None log 'imension Dataauthenticatingusingpassword return driver user id key region region 
def libxml2debug testfunction try import libxml2except Import Error return testfunctiondef newfunc *args **kwargs libxml2 Memory 1 testfunction *args **kwargs libxml2 Parser leaked bytes libxml2 Memory 0 assert leaked bytes 0 'libxml2memoryleakdetected %dbytes' % leaked bytes if 'LIBXML2 DEBUGLEAKS' in os return newfuncelse return testfunction 
@pytest.fixture scope u def celery worker parameters return {}
def degree pearson correlation coefficient G x 'out' y 'in' weight None nodes None try import scipy as statsexcept Import Error raise Import Error 'ssortativityrequires Sci Py http //scipy.org/' xy node degree xy G x x y y nodes nodes weight weight x y zip *xy return stats x y [0]
def sync list settings for key data in frappe .hgetall ' list settings .iteritems doctype user key ' ' frappe 'insertinto  List Settings user doctype data values %s %s %s \n DCTB DCTB DCTB onduplicatekeyupdatedata %s' user doctype data data 
def common pairs profile if not has pairs profile return []result [ op1 op2 opcode opcode count for op1 op1profile in enumerate profile -1 ] for op2 count in enumerate op1profile if count > 0 ]result.sort key operator 2 reverse True return result 
def filter re replace val pattern repl return re pattern repl str val 
def expand score new net new layer net layer old cl net net layer old cl net net layer 0 0 old cl net 
def reorder missing matrix matrix missing reorder rows False reorder cols False is diagonal False inplace False prefix None if prefix is None prefix find best blas type matrix [0]reorder prefix reorder missing matrix map not inplace matrix np matrix order 'F' reorder matrix np missing reorder rows reorder cols is diagonal return matrix 
def is required question required question 'required' False if not required properties question 'properties' False if properties and isinstance properties list for item property in enumerate properties if isinstance property dict and property 'required' False required Truebreakreturn required 
def iscsi get nodes cmd 'iscsiadm--modenode'output utils output cmd pattern ' \ { \\d+ \\d+\\s+ [\\w\\.\\- \\d]+ 'nodes []if 'orecordsfound not in output nodes re pattern output return nodes 
def file List paths relative False folders False if not isinstance paths list paths [paths]files []def append directory name if not name '.' path os directory name files path for path in paths for directory dirnames filenames in os path followlinks True if folders for dirname in dirnames append directory dirname for filename in filenames append directory filename if relative files map apply lambda x x len path + 1 ] files return files 
def get html theme path cur dir os os os   file   return cur dir 
def batch with dynamic pad images and captions batch size queue capacity add summaries True enqueue list []for image caption in images and captions caption length tf caption [0]input length tf dims tf caption length 1 0 input seq tf caption [0] input length target seq tf caption [1] input length indicator tf input length dtype tf enqueue list [image input seq target seq indicator images input seqs target seqs mask tf join enqueue list batch size batch size capacity queue capacity dynamic pad True name 'batch and pad if add summaries lengths tf tf sum mask 1 1 tf summary 'caption length min tf min lengths tf summary 'caption length max tf max lengths tf summary 'caption length mean tf mean lengths return images input seqs target seqs mask 
def mathematica code expr **settings return M Code Printer settings .doprint expr 
def  Base64 Encode Attachments mime message for item in mime message payload if item content maintype not in ['multipart' 'text'] and 'ontent Transfer Encoding not in item encoders base64 item 
def  get layer initializers initializers layer name fields if initializers is None return Noneif isinstance initializers dict and layer name in initializers return  get initializers initializers name fields return  get initializers initializers fields 
def  rewrite assign tok toknum tokval tokreturn toknum ' ' if tokval ' ' else tokval 
def submit jobs commands prefix qiime config load qiime config CLUSTER JOBS SCRIPT qiime config jobs fp not CLUSTER JOBS SCRIPT raise Application Not Found Error 'cluster jobs fpnotsetinconfigfile if not exists CLUSTER JOBS SCRIPT or which CLUSTER JOBS SCRIPT raise Application Not Found Error 'cluster jobs fpnotin P A T Horprovidedasfullpath outfilename join get qiime temp dir '%s commands % prefix fh open outfilename 'w' fh '\n'.join commands fh cmd '%s-ms%s%s' % CLUSTER JOBS SCRIPT outfilename prefix system cmd remove outfilename 
def template pattern flags 0 return  compile pattern flags | TEMPLATE
def chain transports *args if len args < 2 raise Value Error 'chain transportsneedsatleast2transports class Wrapped Transport Transport Wrapper cls chain list args return Wrapped Transport 
def get sprot raw id return  urlopen 'http //www.uniprot.org/uniprot/%s.txt' % id 
def named Object name class Split name '.' module named Module '.'.join class Split -1 ] return getattr module class Split -1 ]
def make cluster id test type tmp uuid uuid4 tagged cluster id UUID fields tmp uuid low tmp uuid mid tmp uuid hi version test type tmp uuid seq low MARKER return tagged cluster id 
def safe get design request design type design id None design Noneif design id is not None design authorized get design request design id if design is None design Saved Query owner request type design type return design 
def wheel version source dir try dist [d for d in pkg resources on path None source dir ][0]wheel data dist metadata 'WHEEL' wheel data Parser .parsestr wheel data version wheel data Wheel Version version tuple map int version '.' return versionexcept return False 
def  create image thumbnail file path longest side settings T H U M B N A I L SIZE pad False original image Image file path original image original image 'RGBA' file width file height original image width height  scale dimensions file width file height longest side resized image original image width height Image A N T I A L I A S io String I O String I O if pad padded image  make image square resized image longest side padded image io 'PNG' else resized image io 'PNG' return Content File io 
def  enable atrun   salt  ['service.enable'] 'com.apple.atrun'   salt  ['service.start'] 'com.apple.atrun' return  atrun enabled 
def fix log params targets logger 'igratingregistration cancelled registration approved retraction cancelled embargo approved embargo cancelled andembargo terminatedlogs count 0for log in targets node id log Node node id if node registration log get registered from node log node idlog node log 'pdatingparamsoflog {} params {} andoriginal node {}'.format log id log log log node log count + 1logger.info '{}logsmigrated'.format count 
def  get auth type entity id includes if 'user-tags' in includes or 'user-ratings' in includes return AUTH Y E Selif entity 'collection' if not id return AUTH Y E Selse return AUTH I F S E Telse return AUTH NO
def Format Function Call func *args **kwargs while type func is partial args func + args if func kwargs func func func '%s%s' % func  name   Format Arguments *args **kwargs
def remove job submit sidebar box apps schema editor Box apps model u u Box try submit box Box label u submit box except Box Does Not Exist pass 
def get Interpret Plugin file Name import Plugin File Names get Import Plugin File Names for import Plugin File Name in import Plugin File Names file Type Dot '.' + import Plugin File Name if file Name - len file Type Dot ].lower file Type Dot import Plugins Directory Path get Plugins Directory Path plugin Module archive Module With Directory Path import Plugins Directory Path import Plugin File Name if plugin Module ! None return plugin Moduleprint 'ouldnotfindplugintohandle + file Name return None 
def from X M Lname string retval sub ' x F F F F ' '' string def fun matchobj return  from Unicode Hex matchobj 0 retval sub ' x A Za ' fun retval return retval 
def has name return   salt  ['file.file exists  cert file name 'cert'
def check duplicate segments segments is partial func None if is partial func is not None segments [s for s in segments if not is partial func s ]fully specifieds [tuple sorted s for s in segments len set fully specifieds ! len fully specifieds raise Segments Contain Duplicate Entry 
def form for fields field list fields Sorted Dict [ f f for f in field list if f return type 'orm For Fields Base Form {'base fields fields 
def if Platform Supported f @wraps f def wrapper self *args **kwargs supported platform Type 'posix' if supported return f self *args **kwargs else e self Raises Not Implemented Error Skip Test self Exception f self *args **kwargs if isinstance e Not Implemented Error self True str e .startswith 'unningisnotimplementedon return wrapper 
def stop Dtmf Acknowledge a Tp Pd pd 3 b Message Type mes Type 50 packet a / b return packet 
def is currently visible to students xblock try published modulestore .get item xblock revision Module Store Enum Revision Option only except Item Not Found Error return Falseif published to staff only return Falseif 'detached' not in published class tags and published is not None return datetime UTC > published return True 
def get glib sysconf dirs if is win return [os.path.join get gi libdir ' Lib '2.0' 'etc' ]statement "\nimportgi\ngi.require version ' Lib '2.0' \ Lib G Lib system config dirs \n"data dirs eval statement statement if not data dirs logger " I Repository2 Pleasemakesurelibgirepository return data dirs 
def setup axes2 fig rect tr Polar Axes Polar Transform pi np ticks [ 0 '$0$' 0.25 * pi '$\\frac{1}{4}\\pi$' 0.5 * pi '$\\frac{1}{2}\\pi$' ]grid locator1 Fixed Locator [v for v s in angle ticks tick formatter1 Dict Formatter dict angle ticks grid locator2 Max N Locator 2 grid helper floating axes Grid Helper Curve Linear tr extremes 0.5 * pi 0 2 1 grid locator1 grid locator1 grid locator2 grid locator2 tick formatter1 tick formatter1 tick formatter2 None ax1 floating axes Floating Subplot fig rect grid helper grid helper fig subplot ax1 aux ax ax1 aux axes tr aux ax ax1 0.9return ax1 aux ax 
def object name to class name object name if object name in TRACE NAMES return string to class name object name if object name in OBJECT NAME TO CLASS NAME return OBJECT NAME TO CLASS N A M E name object name in ARRAYS return 'list'else return 'dict'
def get packs base paths system packs base path get system packs base path packs base paths cfg C O N F base paths or '' if packs base paths ' ' packs base paths packs base paths -1 ]result []if system packs base path result system packs base path packs base paths packs base paths ' ' result result + packs base paths result [path for path in result if path list Ordered Set result return result 
def addslash method @functools.wraps method def wrapper self *args **kwargs if not self '/' if self in 'GET' 'HEAD' uri self + '/' if self uri + '?' + self self uri permanent True returnraise H T T P Error 404 return method self *args **kwargs return wrapper 
def load all unload all plugins config 'ckan.plugins' '' .split + find system plugins if 'synchronous search not in plugins and asbool config 'ckan.search.automatic indexing True log 'oadingthesynchronoussearchplugin plugins 'synchronous search load *plugins
def show stack name None profile None h client  auth profile if not name return {'result' False 'comment' 'arameternamemissingor None ret {}stack h client name links {}for link in stack links link name {'status' stack status 'id' stack 'name' stack name 'creation' stack time 'owner' stack owner 'reason' stack status reason 'parameters' stack 'links' links Trueexcept exc H T T P Not Found return {'result' False 'comment' 'ostack name }return ret 
def  is Python Identifier string return '' not in string and '.' not in string and '-' not in string 
def rsync ip ip try socket pton socket A F INET6 ip except socket return ipelse return '[%s]' % ip 
def test saving state exclude domain include entity hass recorder hass hass recorder {'include' {'entities' 'test.recorder'} 'exclude' {'domains' 'test'}} states  add entities hass ['test.recorder' 'test2.recorder'] assert len states 2
def update qq api request data data {} defaults {'openid' session 'qq openid 'access token session 'qq token [0] 'oauth consumer key QQ APP I D data return defaults 
def  stabilizer degree generators alpha orb [alpha]table {alpha list range degree }table inv {alpha list range degree }used [alse * degree used Truegens [x. array form for x in generators gens []for b in orb for gen in gens temp gen used is False gen temp  af rmul gen table orb temp table gen temptable inv  af invert gen temp used Trueelse schreier gen  af rmuln table inv gen table if schreier gen not in stab gens stab gens schreier gen return [ af new x for x in stab gens 
def source read app docname source if docname ! 'extensions/plugins-toolkit' returnsource  ''for name thing in inspect toolkit custom docstring toolkit overrides name if inspect thing source  + format function name thing docstring custom docstring elif inspect thing source  + format function name thing docstring custom docstring elif inspect thing source  + format class name thing docstring custom docstring elif isinstance thing types Object Type source  + format object name thing docstring custom docstring else assert False "omeoneadded {phinxextensiondoesn Ifyou youneedtoaddanewformat * functionforithereorthedocswon name name thing thing source + source 
def convert X M L Element geometry Output xml Element xml Element X M L Processor .hildren geometry Output xml Element 
def check lyrics fetched lyrics dirs len [d for d in os LYRICS ROOT DIR if os os LYRICS ROOT DIR d ] return lyrics dirs > 1
def get diff opcode generator class return  generator 
def has no console errors selenium logs selenium log 'browser' severe errors [l for l in logs if l 'level' 'SEVERE' ]non network errors [l for l in severe errors if l 'type' ! 'network' ]if len non network errors 0 return Trueelse pytest 'onsoleerrors %s' % non network errors if len non network errors 0 and len severe errors ! 0 warn 'herewereseverenetworkerrors thismayormaynothaveaffectedyourtest %s' % severe errors canvas selenium element by tag name 'canvas' wait for canvas resize canvas selenium 
def double redirect view request return Http Response Redirect '/permanent redirect view 
def  convert to and validate length unit unit allow dimensionless False try unit u Unit unit assert unit equivalent u or allow dimensionless and unit u unscaled except Type Error Assertion Error raise u Units Error u Unit unit return unit 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def  Rule Expand Path path input file path path '$ Input Name ' os os input file [1] [0] path path '$ Input Dir ' os input file path path '$ Input Ext ' os os input file [1] [1] path path '$ Input File Name ' os input file [1] path path '$ Input Path ' input file return path 
def spherical in n z derivative False if derivative return  spherical in d n z else return  spherical in n z 
def is encrypted file file obj start pos 0 count -1 current position file obj try file obj start pos vaulttext file obj count try b vaulttext to bytes to text vaulttext encoding 'ascii' errors 'strict' encoding 'ascii' errors 'strict' except Unicode Error Type Error return Falsefinally file obj current position return is encrypted b vaulttext 
def is online user return user > time diff 
def permutation Filter perm return True 
def get non shed tool panel configs app config filenames []for config filename in app configs tree error message xml util xml config filename if tree is None continueroot tree tool path root 'tool path None if tool path is None config filenames config filename return config filenames 
def spans to relative spans prev 0for left right in spans yield left - prev right - left prev right 
def get impl version info if get abbr impl 'pp' return sys info sys version info sys version info else return sys info sys info 
def coordinates From Index index dimensions coordinates [0] * len dimensions shifted indexfor i in xrange len dimensions - 1 0 -1 coordinates shifted % dimensions shifted shifted / dimensions coordinates shiftedreturn coordinates 
def test validation k fold skip if no sklearn from pylearn2 validation iterators import Validation K Foldn 30cv Validation K Fold n for train valid test in cv assert np np train valid test .size n assert valid n / cv folds assert test n / cv folds 
def  date to datetime value if not isinstance value datetime raise Type Error 'annotconverttodatetimeexpecteddatevalue % value return datetime value value value 
def lint thread module reporter gui gui 'processingmodule s 'un args [module] reporter reporter exit False gui queue 'DONE'
def make ref target directive ref type indextemplates None **kwargs class vars dict ref type ref type indextemplates indextemplates class vars kwargs return type ' B Ref Target Directive % ref type B B Ref Target Directive class vars 
def get Enumerator Keys Except For One Argument enumerator keys if len keys 0 return range 0 len enumerator begin Index keys Index keys len keys 2 if begin Index None begin Index 0if end Index None end Index len enumerator return range begin Index end Index step keys Index Default 0ndex Default len enumerator if step < 0 begin Index Default end Index Default - 1 end Index Default -1 if begin Index None begin Index begin Index Defaultif end Index None end Index end Index Defaultreturn range begin Index end Index step 
@cache permissiondef can upload dictionary user project return check permission user project 'trans.upload dictionary 
def check valid sig args kwargs num pos only func keyword exclude sigspec sigif len args < num pos only return Falseif keyword exclude kwargs dict kwargs for item in keyword exclude kwargs item None try func *args **kwargs return Trueexcept Type Error return False 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  parse message chunks f Bytes I O ''.join chunks k Nonev ''eof Falsefor l in f if l '' v + l ]else if k is not None yield k v '\n' if l '\n' break k v l '' 1 else eof Trueif k is not None yield k v '\n' yield None None if not eof yield None f f 
def libvlc audio output set p mi psz name f  Cfunctions 'libvlc audio output set None or  Cfunction 'libvlc audio output set 1 1 None ctypes int Media Player ctypes char p return f p mi psz name 
def clean config config patterns comment out list []for line in config if line .startswith '#' continueif '#' in line pure line line line '#' ]else pure line lineif pure line .endswith ' ' comment out list line continueif any [re.search pat pure line for pat in patterns comment out list line new config [ line if line not in comment out list else '#' + line for line in config new config 
def external script script p1 p2 p3 None p4 None command [script p1 p2 p3 p4 stup need shell command creationflags build command command env fix env logging 'unninguserscript %s %s ' script p1 p2 p subprocess Popen command shell need shell stdin subprocess P I P E stdout subprocess P I P E stderr subprocess S T D O U T startupinfo stup env env creationflags creationflags except logging 'ailedscript Traceback ' script exc info True return 'annotrunscript % script -1 output p ret p return output ret 
def ensure not within tag definition cursor forward True block offset cursor cursor In Block b boundary next tag boundary block offset forward False if b is None return Falseif boundary start if forward block boundary next tag boundary block offset if block is not None cursor Position block + boundary + 1 return Trueelse cursor Position b + boundary return Truereturn False 
def batch inv a return Batch Inv a 
def setup environ settings mod original settings path None warnings "he environ youlikelyneedtoupdateyour Django1 https //docs.djangoproject.com/en/dev/releases/1.4/ ." Pending Deprecation Warning if '  init  .py' in settings mod  file   p os settings mod  file   else p settings mod  file   project directory settings filename os p if project directory os or not project directory project directory os project name os project directory settings name os settings filename [0]if settings name '$py' settings name settings name -3 ]if original settings path os D J A N G O SETTINGS MODULE'] original settings pathelse os D J A N G O SETTINGS MODULE'] os 'DJANGO SETTINGS MODULE' '%s.%s' % project name settings name sys os project directory os import module project name sys return project directory 
def  get channel channel   salt  ['config.get'] 'mattermost.channel' or   salt  ['config.get'] 'mattermost channel return channel 
def bounds sizes low 0rv []for size in sizes rv low low + size low + sizereturn rv 
def rm known host user None hostname None config None port None if not hostname return {'status' 'error' 'error' 'hostnameargumentrequired'}full  get known hosts file config config user user if isinstance full dict return fullif not os full return {'status' 'error' 'error' 'nownhostsfile full }ssh hostname  hostname and port to ssh hostname hostname port cmd ['ssh-keygen' '-R' ssh hostname '-f' full result   salt  ['cmd.run'] cmd python shell False if os 0 and user uinfo   salt  ['user.info'] user os full uinfo uinfo return {'status' 'removed' 'comment' cmd result 
def setsebools pairs persist False if not isinstance pairs dict return {}if persist cmd ' cmd 'setsebool'for boolean value in six pairs cmd '{0}{1} {2}'.format cmd boolean value return not   salt  ['cmd.retcode'] cmd python shell False 
def  translate interface attachment view port info return {'net id port info id 'port id port info 'mac addr port info address 'port state port info 'fixed ips port info 'fixed ips None }
def parse args kwargs parser token bits token '' if len bits < 1 raise template Template Syntax Error "'%s'takesatleastoneargument" % bits if token '"' end quote token '"' 14 + 1 args [ariable token end quote ]kwargs start end quoteelse try next space token '' 14 kwargs start next space + 1 except Value Error next space Nonekwargs start Noneargs [ariable token next space ]kwargs {}kwargs list token start ].split ' ' for kwargs item in kwargs list if ' ' in kwargs item k v kwargs item ' ' 1 k k kwargs template Variable v return args kwargs 
def exact div p d allow divzero False if not isinstance p int long or not isinstance d int long raise Type Error 'unsupportedoperandtype s %rand%r' % type p .  name   type d .  name   if d 0 and allow divzero n 0if p ! n * d raise Value Error 'osolutioncouldbefound else n r divmod p d if r ! 0 raise Value Error 'osolutioncouldbefound assert p n * d return n 
def hessian matrix eigvals Hxx Hxy Hyy return  image orthogonal matrix22 eigvals Hxx Hxy Hyy 
def system Information Type1 a L2 Pseudo Length l2p Length 21 b Tp Pd pd 6 c Message Type mes Type 25 d Cell Channel Description e Rach Control Parameters f Si1 Rest Octets packet a / b / c / d / e / f return packet 
def histogram metric name *args **kwargs if 'tags' in kwargs kwargs  clean tags kwargs dog stats api metric name *args **kwargs
def  channels changed params len channels if params start + params channels > len channels params start len channels - params channels if params start < 0 params start 0params['plot fun 
def resource type from id context resource id known types {'i' 'instance' 'r' 'reservation' 'vol' 'volume' 'snap' 'snapshot' 'ami' 'image' 'aki' 'image' 'ari' 'image'}type marker resource id '-' [0]return known types type marker 
def security group destroy context security group id return I M P L group destroy context security group id 
def  check partial fit first call clf classes None if getattr clf 'classes ' None is None and classes is None raise Value Error 'classesmustbepassedonthefirstcalltopartial fit elif classes is not None if getattr clf 'classes ' None is not None if not array equal clf  unique labels classes raise Value Error '`classes %r`isnotthesameasonlastcalltopartial fit was %r' % classes clf  else clf  unique labels classes return Truereturn False 
def build song rep song md list [u'title' u u divider u filtered filter song md song md list no singletons False return divider filtered 
def gf frobenius monomial base g p K n gf degree g if n 0 return []b [0] * n b [1]if p < n for i in range 1 n mon gf lshift b i - 1 ] p K b gf rem mon g p K elif n > 1 b gf pow mod [ K p g p K for i in range 2 n b gf mul b i - 1 ] b p K b gf rem b g p K return b 
def  asa d1 l d2 xy Line 0 0 slope  slope d1 .intersection Line l 0 slope  slope 180 - d2 [0]return Triangle 0 0 l 0 xy 
def printer string quiet False debug False **kwargs if debug and not DEBUG returnif debug out ' E B U G %s\x1b[0m' % string else out stringif not quiet print  out **kwargs
def netstats return  nodetool 'netstats'
def get prodoc entry id cgi 'http //www.expasy.ch/cgi-bin/get-prodoc-entry' return  urlopen '%s?%s' % cgi id 
def  build html slider slices range slides klass slider id start value None if start value is None start value slices range len slices range // 2 ]return slider template slider id slider id klass slides klass step slices range - slices range minvalue slices range maxvalue slices range -1 ] startvalue start value 
def squeeze seq seq return sub ' [ G C Tacgt \\1+' '\\1' seq 
def ec2 instance create context instance uuid id None return I M P L instance create context instance uuid id 
@register uncanonicalize optimizer [ Reshape def local reshape dimshuffle node if isinstance node T Reshape input  node input .owner and isinstance input .owner.op Dim Shuffle new order input .owner.op.new orderoffset 0for dim in new order if dim 'x' continueelif dim ! offset return Falseelse offset + 1return [ input .owner.inputs[0] node ndim node ]return False 
@utils.arg 'os' metavar '<os>' help _ 'ypeof O S @utils.arg 'architecture' metavar '<architecture>' help _ 'ypeofarchitecture @utils.arg 'version' metavar '<version>' help _ 'ersion @utils.arg 'url' metavar '<url>' help _ 'URL.' @utils.arg 'md5hash' metavar '<md5hash>' help _ ' D5hash @utils.arg 'hypervisor' metavar '<hypervisor>' default 'xen' help _ 'ypeofhypervisor def do agent create cs args result cs args args args args args args utils dict result dict 
def on Login App Ready INFO MSG 'ogin App Ready bootstrap Group Index %s bootstrap Global Index %s' % os 'KBE BOOTIDX GROUP' os 'KBE BOOTIDX GLOBAL'
@pytest.mark.parametrize 'parallel' [rue False def test store comments parallel read basic text '\n#headercomment\nabc\n#comment2\n#comment3\n123\n456\n'table read basic text parallel parallel check meta True assert equal table ['headercomment' 'comment2' 'comment3']
@utils.arg 'host' metavar '<hostname>' help _ 'ameofhost def do host describe cs args result cs args columns ['HOST' 'PROJECT' 'cpu' 'memory mb 'disk gb list result columns 
def get python library path dlls get Imports sys for filename in dlls for name in PYDYLIB NAMES if os filename name if is win and not os filename filename getfullnameof filename return filenameif is unix for name in PYDYLIB NAMES python libname find Library name if python libname return python libnameelif is darwin prefixes [compat.base prefix os compat prefix 'lib' ]for prefix in prefixes for name in PYDYLIB NAMES full path os prefix name if os full path return full pathreturn None 
def async quit global  shutting down shutting down True 
def zone present domain type profile zones libcloud dns module zones profile if not type type 'master'matching zone [z for z in zones if z domain ]if len matching zone > 0 return state result True 'onealreadyexists else result libcloud dns module zone domain profile type return state result result 'reatednewzone 
def allocated size allocation unit requested size allocation unit int allocation unit requested size int requested size previous interval size requested size // allocation unit * allocation unit if previous interval size < requested size return previous interval size + allocation unit else return requested size 
def number Document document chapter Number i 1for node in domhelpers Nodes Named document 'h2' label dom Text label '%s.%d' % chapter Number i node Before label node Child i + 1
def missing name jail None return name not in get all jail 
def make fake client client docker Docker Client client make fake api client return client 
def get enabled jail None ret []service  cmd jail prf  get jail path jail if jail else '' for svc in   salt  ['cmd.run'] '{0}-e'.format service .splitlines ret os svc for svc in get all jail if svc in ret continueif not os '{0}/etc/rc.conf.d/{1}'.format prf svc continueif enabled svc jail jail ret svc return sorted ret 
def num obs linkage Z Z np Z order 'c' is valid linkage Z throw True name 'Z' return Z + 1
def render to kmz *args **kwargs return Http Response compress kml loader to string *args **kwargs content type 'application/vnd.google-earth.kmz'
def create random subfolder destination folder name str uuid if destination 's3 //' parts destination '/' parts folder name return '/'.join parts else parts list os destination parts folder name path os *parts os path return path 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def invitation retrieve request response format 'html' if request return Http Response Redirect '/' email request R E Q U E S T 'email' None key request R E Q U E S T 'key' None if email and key try invitation Invitation email email key key except raise Http404else raise Http404if request P O S T form Invitation Form invitation request P O S T if form valid profile form username profile form data authenticate username username password password if user invitation login request user return Http Response Redirect '/' else form Invitation Form invitation return render to response 'core/invitation retrieve {'invitation' invitation 'form' form context instance Request Context request response format response format 
def  Get Value value pb if value pb in  PROTO FIELDS STRING VALUE if value pb string value return value pb value return Noneif value pb document pb Field Value D A T E if value pb string value return search util Deserialize Date value pb value return Noneif value pb document pb Field Value N U M B E R if value pb string value return float value pb value return Noneif value pb document pb Field Value G E O if value pb geo geo pb value pb return Geo Point latitude geo pb longitude geo pb return Noneraise Type Error 'ield Valuetype % value pb 
def check index exists manager table name index name query ' E L E C T1 F R O Minformation schema W H E R Etable schema % N Dtable name % N Dindex name %s'rows manager query manager db name table name index name return bool rows 
def Document List Acl Entry From String xml string return atom Create Class From X M L String Document List Acl Entry xml string 
def generate context name '' argspec '' note '' math False collapse False img path '' if img path and os 'nt' img path img path '\\' '/' context {'math on 'true' if math else '' 'name' name 'argspec' argspec 'note' note 'collapse' collapse 'img path img path 'css path CSS PATH 'js path JS PATH 'jquery path JQUERY PATH 'mathjax path MATHJAX PATH 'right sphinx version '' if sphinx  version   < '1.1' else 'true' 'platform' sys context 
def append cxxflags value return append var 'CXXFLAGS' value 
def split entry entry a entry ' ' d Noneif entry .startswith 'd' d Truea 0 if len a 2 a None t e p at t if t 'u' t 'user'elif t 'g' t 'group'elif t 'm' t 'mask'elif t 'o' t 'other'else t Nonereturn [d t e p 
def is Neg Inf value return  sign value 1 and  exponent value 2047 and  zero mantissa value 
def test status status input 'idtheplot s displaycorrectly y ' while not status 'y' 'n' print '' status input 'nexpectedanswer Pleasetypeyorn if status 'n' Error Report input 'leasedescribetheproblem ' return Error Report 
def is virginica test fi t reverse example test example > t if reverse test not test return test 
def  pick bad channels event params bads params  select bads event params bads  plot update raw proj params None 
def api server api services **kwargs if 'protocols' in kwargs raise Type Error "  init   gotanunexpectedkeywordargument return  Api Server api services **kwargs
def  extract meta x nonempty False if isinstance x  Frame Scalar return x meta nonempty if nonempty else x meta elif isinstance x list return [ extract meta  x nonempty for  x in x isinstance x tuple return tuple [ extract meta  x nonempty for  x in x elif isinstance x dict res {}for k in x res  extract meta x nonempty return reselse return x 
def  secure Enough String path secureish String armor sha1 random Bytes 64 .digest [ 16]return  coerce To Filesystem Encoding path secureish String 
def register checker lang u checker None color None priority 1 global NOTIFICATIONS C H E C K E R Scheckers NOTIFICATIONS C H E C K E R S lang [] checkers checker color priority NOTIFICATIONS C H E C K E R S checkers 
def keep warm callback event context lambda handler event {} context context 
def set std streams blocking if not fcntl returnfor f in sys  stdout   sys  stderr   fileno f flags fcntl fileno fcntl F GETFL fcntl fileno fcntl F SETFL flags & ~ os O NONBLOCK
def should Refresh ex List MAX REFRESH AGE SECS 86400cache db con db D B Connection 'cache.db' rows cache db con ' E L E C Tlast refreshed F R O Mscene exceptions refresh W H E R Elist ?' [ist if rows last Refresh int rows refreshed return int time datetime .timetuple > last Refresh + MAX REFRESH AGE SECS else return True 
def convert to group ids groups vpc id None vpc name None region None key None keyid None profile None log 'securitygroupcontents{0}pre-conversion'.format groups group ids []for group in groups group id get group id name group vpc id vpc id vpc name vpc name region region key key keyid keyid profile profile if not group id raise Command Execution Error 'ouldnotresolve Security Groupname Group I D group else group ids str group id log 'securitygroupcontents{0}post-conversion'.format group ids return group ids 
def wavebarrier raise  stub error 
def date created document return document D A T E CREATED] if config D A T E CREATED in document else epoch 
def uni2html u htmlentities list for c in u ord c ord c if ord c < 128 if ord c > 31 htmlentities c else try htmlentities '&%s;' % codepoint2name c except Key Error passreturn ''.join htmlentities 
def validate resampler func method args kwargs if len args + len kwargs > 0 if method in RESAMPLER NUMPY OPS raise Unsupported Function Call 'se ... .{func} instead func method else raise Type Error 'toomanyargumentspassedin'
def make readable fn st os fn st mode st moderead all stat S I R U S Rread all | stat S I R G R Pread all | stat S I R O T Hos fn st mode | read all 
def resource create default resource views context data dict resource dict  get or bust data dict 'resource'  check access 'resource create default resource views context data dict dataset dict data dict 'package' create datastore views paste data dict 'create datastore views False return ckan views to resource context resource dict dataset dict view types [] create datastore views create datastore views 
@check event permissionsdef cancel occurrence request event id template name 'schedule/cancel occurrence *args **kwargs event occurrence get occurrence event id *args **kwargs next kwargs 'next' None or get next url request event absolute url if request ! 'POST' return render to response template name {'occurrence' occurrence 'next' next context instance Request Context request occurrence return Http Response Redirect next 
def object build methoddescriptor node member localname func build function getattr member '  name  ' None or localname doc member  doc   func Nonenode local node func localname 
def quote String Argument argument return argument '\\' '\\\\' .replace ' ' '\\ '
def last Colorized Line source if not isinstance source bytes source source 'utf-8' w V T102 Writer p Token Printer w .printtokens Bytes I O source for token in  tokenize s token Type string start end line tokenp token Type string start end line line str w .encode 'utf-8' return line 
def vary on headers *headers def decorator func @wraps func def inner func *args **kwargs response func *args **kwargs patch vary headers response headers return responsereturn inner funcreturn decorator 
def Area Under Curve x y if x ! y raise Value Error 'xandyshouldhavethesameshapetocomputeareaundercurve butx %sandy.shape %s.' % x y if x < 2 raise Value Error 'tleast2pointsareneededtocomputeareaundercurve butx %s' % x order np x x x y np x area np h * y ] + y -1 ] / 2.0 return area 
def spatiotemporal cubes file tuples shape n patches numpy rng None frame lookup Frame Lookup [ a b for a b in file tuples file lookup Ordered Dict file tuples patch length patch height patch width shapedone 0rng make np rng rng which method 'random integers while done < n patches frame rng integers 0 len frame lookup - 1 filename file length frame no frame lookup file length - frame no < patch length continue _ video height video width file lookup 3]last row video height - patch height last col video width - patch width row rng integers 0 last row col rng integers 0 last col patch slice slice frame no frame no + patch length slice row row + patch height slice col col + patch width done + 1 yield filename patch slice 
def list floating ips call None if call 'action' raise Salt Cloud System Exit 'helist floating ipsfunctionmustbecalledwith orwiththe fetch Truepage 1ret {}while fetch items query method 'floating ips command '?page ' + str page + '&per page 200' for floating ip in items ips ret ip {}for item in six floating ip ret ip floating ip + 1try fetch 'next' in items except Key Error fetch Falsereturn ret 
def  get list of tables tables from .table import Table Rowif not isinstance tables collections Sequence tables [tables]if any not isinstance x Table Row for x in tables or len tables 0 raise Type Error u Tableorsequenceof Tablesor Rows tables [ x if isinstance x Table else Table x for x in tables tables 
def patch time from gevent import sleepimport timepatch item time 'sleep' sleep 
def get errno name n if isinstance n string t return getattr errno n return n 
def get tab entry info entry separator needle index path None None None match needle re ' .*? ' + separator entry match index re separator + ' [0-9]{1} ' entry match path re separator + '[0-9]{1}' + separator + ' .* ' entry if match needle needle match needle 1 if match index index int match index 1 if match path path match path 1 return needle index path 
def get tempurl keys from metadata meta return [get valid utf8 str value for key value in meta if key in 'temp-url-key' 'temp-url-key-2' ]
def  sanitize ipv4 mapping ip str if not ip str .startswith '0000 0000 0000 0000 0000 ffff ' return ip strhextets ip str ' ' if '.' in hextets -1 ] return ip stripv4 address '%d.%d.%d.%d' % int hextets 2] 16 int hextets 4] 16 int hextets 2] 16 int hextets 4] 16 result ' '.join hextets 6] result + ' ' + ipv4 address return result 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def convert in file in format out file out format in kwargs None out kwargs None if in kwargs is None in kwargs {}if out kwargs is None out kwargs {}qresults parse in file in format **in kwargs return write qresults out file out format **out kwargs 
def make substitutions conf r re CONF VARIABLE REGEX def sub s depth 0 if depth > 100 logging 'axrecursiondepthexceededwhensubstitutingjobconfvalue %s' % s return sm r s if m for g in [g for g in m if g in conf ] substr '${%s}' % g s s substr sub conf depth + 1 return sfor k v in conf conf sub v return conf 
def is online user return user > time diff 
def cholesky banded ab overwrite ab False lower False check finite True if check finite ab asarray chkfinite ab else ab asarray ab pbtrf get lapack funcs 'pbtrf' ab c info pbtrf ab lower lower overwrite ab overwrite ab if info > 0 raise Lin Alg Error '%d-thleadingminornotpositivedefinite' % info if info < 0 raise Value Error 'illegalvaluein%d-thargumentofinternalpbtrf' % - info return c 
@register.inclusion tag 'authority/permission request approve link takes context True def permission request approve link context perm user context user authenticated if user perm 'authority.approve permission requests return base link context perm 'authority-approve-permission-request' return {'url' None 
def dump body m body body m if body is None else body if isinstance body buffer t body bytes t body return u {1}b '.format truncate safe repr body 1024 len m 
def run  task 
def symptom keys in Fernet key repository fernet utils utils Fernet Utils C O N F tokens repository C O N F tokens active keys return 'fernet' in C O N F and not fernet utils keys 
@register opt @local optimizer [pu Contiguous def local gpu contiguous gpu contiguous node if isinstance node Gpu Contiguous inp node inp and isinstance inp Gpu Contiguous return [inp]
def enable log to stdout logname log logging Logger logname log Level logging D E B U G ch logging Stream Handler ch Level logging D E B U G formatter logging Formatter u asctime s name s levelname s message s ch Formatter formatter log Handler ch 
def test root mean absolute error y real np [0.0 1.0 0.0 2.0 3.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert equals 0.0 mean absolute error y real y pred y real np [3.0 1.0 2.0 1.0 1.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert almost equals 1.6 mean absolute error y real y pred 
def  loc loc str expected seq length strand if ' ' in loc str ref loc str loc str ' ' else ref Nonetry s e loc str '..' except Value Error assert '..' not in loc str if '^' in loc str s e loc str '^' if int s + 1 int e pos  pos s elif int s expected seq length and e '1' pos  pos s else raise Value Error 'nvalidbetweenlocation % repr loc str return Seq Feature Feature Location pos pos strand ref ref else s loc stre loc strreturn Seq Feature Feature Location  pos s -1  pos e strand ref ref 
def  change state name action expected *args **kwargs pre state name if action ! 'restart' and pre expected return {'result' False 'state' {'old' expected 'new' expected 'comment' "ontainer name expected } client wrapper action name *args **kwargs  clear context try post state name except Command Execution Error post Noneret {'result' post expected 'state' {'old' pre 'new' post ret 
def build fault cls e tb include traceback False if hasattr cls ' amf code code cls amf codeelse code cls  name  details Noneif include traceback details traceback exception cls e tb return remoting Error Fault code code description unicode e details details 
def opendir dialog caption path options Qt Widgets Q File Dialog Show Dirs Only | Qt Widgets Q File Dialog Dont Resolve Symlinks return compat parent active window caption caption basedir path options options 
def get Hex value return hex value 
def atoi s try return int s or '0' except Value Error return 0
def parse css data props {}for names values in PROPERTY D I C T allowed values []for value in values if value '<' and value -1 ] '>' key value -1 ]if key in COMMON VALUES allowed values + COMMON V A L U E S allowed values value allowed values + ['all' 'inherit' 'initial' 'unset']for name in names props sorted allowed values return props 
def test lex mangling bang entry tokenize 'foo!' assert entry [y Symbol 'foo bang ] entry tokenize '!' assert entry [y Symbol '!' ] entry tokenize 'im!foo' assert entry [y Symbol 'im!foo' ] entry tokenize '.foo!' assert entry [y Symbol '.foo bang ] entry tokenize 'foo.bar!' assert entry [y Symbol 'foo.bar bang ] entry tokenize 'foo!.bar' assert entry [y Symbol 'foo bang ] entry tokenize '.foo!.bar.baz!' assert entry [y Symbol '.foo bang bang ]
def show artifact id  return show item 'artifact' id 
def my kde bandwidth obj fac 1.0 / 5 return np obj -1.0 / obj + 4 * fac 
def dyld image suffix search iterator env None suffix dyld image suffix env if suffix is None return iteratordef  inject iterator iterator suffix suffix for path in iterator if path '.dylib' yield path - len '.dylib' ] + suffix + '.dylib' else yield path + suffix yield path return  inject 
def file like name return os name or os name or name '.py' or not ident re os name [0]
def  wrapped Log Prefix wrapper wrapped if I Logging Context By wrapped log Prefix wrapped Prefix else log Prefix wrapped  class  .  name  return '%s %s ' % log Prefix wrapper  class  .  name  
def discover sensors topic payload parts topic '/' unit payload 'units' '' domain parts domain 'temperature' name parts unit 'F' unit TEMP F A H R E N H E I Telse unit TEMP C E L S I U Sreturn Arwn Sensor name 'temp' unit if domain 'barometer' return Arwn Sensor 'arometer 'pressure' unit if domain 'wind' return Arwn Sensor 'ind Speed 'speed' unit Arwn Sensor 'ind Gust 'gust' unit Arwn Sensor 'ind Direction 'direction' '\xc2\xb0'
def  raw fft x n axis direction overwrite x work function if n is None n x n ! x x copy made  fix shape x n axis overwrite x overwrite x or copy made if n < 1 raise Value Error 'nvalidnumberof F F Tdatapoints %d specified % n if axis -1 or axis len x - 1 r work function x n direction overwrite x overwrite x else x swapaxes x axis -1 r work function x n direction overwrite x overwrite x r swapaxes r axis -1 return r 
def allcap differential words is different Falseallcap words 0for word in words if word allcap words + 1cap differential len words - allcap words if cap differential > 0 and cap differential < len words is different Truereturn is different 
def get osarch ret subprocess Popen 'rpm--eval"%{ host cpu shell True close fds True stdout subprocess P I P E stderr subprocess P I P E .communicate [0]return ret or 'unknown'
def direct get account node part account marker None limit None prefix None delimiter None conn timeout 5 response timeout 15 end marker None reverse None path '/' + account return  get direct account container path 'ccount node part marker marker limit limit prefix prefix delimiter delimiter end marker end marker reverse reverse conn timeout conn timeout response timeout response timeout 
def has handshake pyrit target capfile if not program exists 'pyrit' return Falsecmd ['pyrit' '-r' capfile 'analyze']proc Popen cmd stdout PIPE stderr DN proc hit essid Falsefor line in proc [0].split '\n' if line '' or line None continueif line 'ccess Point ! -1 hit essid line " '" + target + "' " ! -1 and line .find target ! -1 elif hit essid and line ' good ' ! -1 or line ' workable ' ! -1 return Truereturn False 
def  get opt method opts {'allow' '-a' 'deny' '-d' 'unallow' '-ar' 'undeny' '-dr' 'tempallow' '-ta' 'tempdeny' '-td' 'temprm' '-tr'}return opts 
def  get index and key nodes position nodes before [c for c in nodes if c pos < position ]if nodes before -1 ].type 'arglist' nodes before [c for c in nodes before -1 ].children if c pos < position ]key str Noneif nodes before last nodes before -1 ]if last 'argument' and last pos < position key str last last ' ' key str nodes before -2 ].valuereturn nodes before ' ' key str 
def public decrypt pub message verifier salt R S A X931 Verifier pub Key 'PEM' return verifier message 
def attach handlers app settings if settings U S E POSTGRES add handlers app django handlers else add handlers app mongo handlers add handlers app celery task handlers add handlers app transaction handlers add handlers app postcommit handlers add handlers app {'before request framework private key add handlers app {'before request framework request 'after request framework request return app 
def  prompt user variable var name default value return click var name default default value 
def validate hooks config validate hook config hook 'pre' validate hook config hook 'post' validate hook config hook 'renew'
def paths to 3d segments with codes paths zs 0 zdir u if not iterable zs zs np len paths * zs segments []codes list []for path pathz in zip paths zs segs codes path to 3d segment with codes path pathz zdir segments segs codes list codes return segments codes list 
def interfaces4 all False out {}for name addrs in interfaces all all .items addrs [addr for fam addr in addrs if fam socket A F INET ]if addrs or all out addrsreturn out 
def find xem absolute numbering indexer id indexer absolute number if indexer id is None or absolute number is None return absolute numberindexer id int indexer id indexer int indexer xem refresh indexer id indexer main db con db D B Connection rows main db con ' E L E C Tscene absolute number F R O Mtv episodes W H E R Eindexer ?andshowid ?andabsolute number ?andscene absolute number 0' [indexer indexer id absolute number if rows return int rows absolute number 
def  dark parse accept lang header accept browser langs parse accept lang header accept django langs []for lang priority in browser langs lang CHINESE LANGUAGE CODE M A P lang lang django langs lang priority return django langs 
def  increase indent global  INDENT INDENT +  INDENT STEP
def cluster setup nodes pcsclustername 'pcscluster' extra args None cmd ['pcs' 'cluster' 'setup']cmd + ['--name' pcsclustername + nodesif isinstance extra args list tuple cmd + extra argsreturn   salt  ['cmd.run all cmd output loglevel 'trace' python shell False 
def dummy pass 
def libvlc audio output list release p list f  Cfunctions 'libvlc audio output list release None or  Cfunction 'libvlc audio output list release 1 None None ctypes P O I N T E R Audio Output return f p list 
def libvlc get fullscreen p mi f  Cfunctions 'libvlc get fullscreen None or  Cfunction 'libvlc get fullscreen 1 None ctypes int Media Player return f p mi 
def add catalog discover hack service type old new  discover VERSION H A C K S discover hack service type old new 
def find scopes for services service names None result scopes []if service names is None for service name scopes in AUTH S C O P E S result scopes scopes else for service name in service names result scopes AUTH S C O P E S name return result scopes 
def Render Http Response request start time time response HTTP REQUEST H A N D L E R Handle Request request total time time - start time log L O G G E R Log Http Api Call request response method name response ' A P I Method 'unknown' if response code 200 status ' U C C E S S response code 403 status ' O R B I D D E N response code 404 status 'NOT F O U N D response code 501 status 'NOT I M P L E M E N T E D status 'SERVER E R R O R request 'HEAD' metric name 'api access probe latency metric name 'api method latency S T A T S Record Event metric name total time fields method name 'http' status return response 
def export string template None **extra def wrapped f endpoint f  module   + '.' + f  name   [16 ]if template is not None old f fdef f **kwargs rv old f **kwargs if not isinstance rv Response rv Template Response template ** rv or {} return rvf  name   old f  name  f  doc   old f  doc  exported views f string extra return freturn wrapped 
def create containers logger conf  func on containers logger conf 'put concurrency client container 
def assert rpm headers test case expected headers rpm path output check output ['rpm' '--query' '--info' '--package' rpm path actual headers parse colon dict output assert dict contains test case expected headers actual headers 'issing R P M Headers '
def is running from reloader return os 'WERKZEUG RUN MAIN' 'true'
def detect range line None if '[' in line return Trueelse return False 
def  upgrade schema engine inspector reflection Inspector engine engine conn engine if 'task id not in [x['name'] for x in inspector columns 'tasks' ] logger 'pgrading Db Task Historyschema Addingtasks id conn ' L T E R T A B L Etasks A D D C O L U M Ntask id V A R C H A R 200 ' conn ' R E A T E I N D E Xix task id O Ntasks task id '
def normalize eols raw contents lines list raw contents if lines list and lines list -1 ] lines list '' return '\n'.join lines list 
@not implemented for 'undirected' def dag longest path G weight 'weight' default weight 1 dist {}for v in nx sort G us [ dist + data weight default weight u for u data in G ]maxu max us key lambda x x if us else 0 v dist maxu if maxu > 0 else 0 v u Nonev max dist key lambda x dist path []while u ! v path v u vv dist return path 
def determine how to read input input obj get chunk Noneif isinstance input obj Queue log msg 'queue'get chunk get queue chunk reader input obj elif callable input obj log msg 'callable'get chunk get callable chunk reader input obj elif hasattr input obj 'read' log msg 'filedescriptor'get chunk get file chunk reader input obj elif isinstance input obj basestring log msg 'string'get chunk get iter string reader input obj elif isinstance input obj bytes log msg 'bytes'get chunk get iter string reader input obj elif isinstance input obj Generator Type log msg 'generator'get chunk get iter chunk reader iter input obj else try it iter input obj except Type Error raise Exception 'unknowninputobject' else log msg 'generaliterable'get chunk get iter chunk reader it return get chunk log msg 
def  block shape values ndim 1 shape None if values < ndim if shape is None shape values values tuple 1 + shape return values 
def Set Custom Fonts rmldoc for family font filename mode in Custom T T Fonts if os filename and os filename rmldoc T T Font Mapping family font filename mode return True 
def  open logfile logfile base name timestamp int time while True logfile name '%s.%d-%d.gz' % logfile base name timestamp os if not os logfile name breaktimestamp + 1logfile gzip Gzip File logfile name 'w' return logfile 
def isiterable obj return hasattr obj '  iter  '
def  create shape flat names try _ shape str flat names -1 ].rsplit '__' 1 except Value Error return return tuple int i + 1 for i in shape str '_'
@blueprint.route '/projects/<project>/meters/<meter>' def list samples by project project meter check authorized project project return  list samples project project meter meter 
def  item to table iterator resource return Table api repr resource iterator 
def clique removal G graph G with data False c i i i ramsey R2 graph cliques [c i [i i graph graph nodes from c i c i i i ramsey R2 graph if c i cliques c i if i i isets i i maxiset max isets key len return maxiset cliques 
def get Axial Margin circle Radius number Of Sides polygon Radius return polygon Radius * math math / float number Of Sides - circle Radius 
def format to raw context method None raise Not Implemented Error 'rawformatisnotsupportedyet'
def to choices x return [ y y for y in x 
def setencoding encoding 'ascii'if 0 import localeloc locale if loc encoding loc 0 encoding 'undefined'if encoding ! 'ascii' sys encoding 
def  convert nn nl val if val < 20 return to 19 nl dcap dval in k 20 + 10 * v for v k in enumerate tens nl if dval + 10 > val if val % 10 return dcap + '-' + to 19 nl val % 10 ] return dcap 
def test routing instance class End Point object @hug.objectdef one self return 'one'@hug.objectdef two self return 2hug.object.get End Point assert hug api 'one' .data 'one' assert hug api 'two' .data 2
def  step parameters step param map legacy False param dict param map step id {} .copy if legacy param dict param map str step {} else param dict param map str step index {} step uuid step step uuid uuid params param map str step uuid {} param dict uuid params if param dict if 'param' in param dict and 'value' in param dict param dict dict param dict param dict param dict params  flatten step params param dict return new params 
def command from fabtools import package as require deb packagefrom fabtools import package as require rpm packagefrom fabtools import package as require portage packagefrom fabtools import distrib familyres run 'bzr--version' quiet True if res family distrib family if family 'debian' require deb package 'bzr' elif family 'gentoo' require portage package 'bzr' elif family 'redhat' require rpm package 'bzr' else raise Unsupported Family supported ['debian' 'redhat' 'gentoo']
@treeio login required response format process mass formdef index request response format 'html' if request G E T filters Filter Form request G E T if filters valid query  get filter query request G E T else query Q else query Q filters Filter Form events Object by request request Event query context  get default context request context {'events' events 'filters' filters return render to response 'events/index' context context instance Request Context request response format response format 
def find json raw ret {}for ind in range len raw working '\n'.join raw [ind ] try ret json working object hook decode dict except Value Error continueif ret return retif not ret raise Value Error 
def  m isenabled if HAS UPSTART return Magic Mock return value True else return Magic Mock return value False 
def  select namespaces query context session L O G 'context.is admin % is admin s % owner s {'is admin context admin 'owner' context query ns session models Metadef Namespace if context admin return query nselse if context is not None query query ns or  models Metadef Namespace context models Metadef Namespace 'public' else query query ns models Metadef Namespace 'public' return query 
def make diff image im1 im2 ds im1 im2 np max ds es max ds es 4 dtype int diff 3] 128diff[... 3] 255diff[ ds ds min ds 3 ] + im1 3]diff[ es es min es 3 ] - im2 3]diff np diff 0 255 .astype np return diff 
def get quantifier ch input iter if ch in '*?+' try ch2 escaped input iter except Stop Iteration ch2 Noneif ch2 '?' ch2 Noneif ch '+' return 1 ch2 return 0 ch2 quant []while ch ! '}' ch escaped input iter quant ch quant quant -1 ]values ''.join quant .split ' ' try ch escaped input iter except Stop Iteration ch Noneif ch '?' ch Nonereturn int values ch 
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def  build html image img id div klass img klass caption None show True html []add style u if show else u "display none html u "%s"id "%s"%s>' % div klass id add style html u "thumbnail">' html u "%s"alt ""style "width 90%%;"src "data image %s">' % img klass img html u if caption html u % caption html u return u html 
def send emails to subscribers creator id exploration id exploration title creator name user services username creator id email subject '%shaspublishedanewexploration!' % creator name email body template 'i <oucanplayithere <ahref "https /hanks andhappylearning Bestwishes <he Oppia Team not feconf C A N SEND EMAILS log new error 'hisappcannotsendemailstousers returnif not feconf C A N SEND SUBSCRIPTION EMAILS log new error 'hisappcannotsendsubscriptionemailstousers returnrecipient list subscription services all subscribers of creator creator id recipients usernames user services usernames recipient list recipients preferences user services users email preferences recipient list for index username in enumerate recipients usernames if recipients preferences receive subscription email email body email body template % username creator name exploration id exploration title EMAIL F O O T E R  send email recipient list feconf S Y S T E M COMMITTER ID feconf E M A I L INTENT SUBSCRIPTION NOTIFICATION email subject email body feconf N O R E P L Y EMAIL ADDRESS
def connect to mongodb db host port 27017 tz aware True user None password None retry wait time 0.1 proxy True **kwargs if kwargs 'et mongo client class pymongo Mongo Replica Set Clientelse mongo client class pymongo Mongo Clientmongo conn pymongo Database mongo client class host host port port tz aware tz aware document class dict **kwargs db if proxy mongo conn Mongo Proxy mongo conn wait time retry wait time if user is not None and password is not None mongo conn user password return mongo conn 
def set Attribute Dictionary To Matrix attribute Dictionary matrix4 X4 matrix Tetragrid get Identity Matrix Tetragrid matrix4 X4 Tetragrid for row in xrange 4 for column in xrange 4 key get Matrix Key row column attribute Dictionary str matrix Tetragrid 
def register opt2 tracks *tags **kwargs def f local opt name kwargs and kwargs 'name' or local opt  name   if isinstance local opt theano D B opt local optelse opt theano optimizer tracks local opt gpu optimizer2 name opt 'fast run 'gpuarray' *tags return local optreturn f 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def  rank dists ranks1 ranks2 ranks1 dict ranks1 ranks2 dict ranks2 for k in ranks1 try yield k ranks1 - ranks2 except Key Error pass 
def Value typecode or type *args **kwds from multiprocessing import Valuereturn Value typecode or type *args **kwds
def show volume kwargs None call None if not kwargs kwargs {}return describe volumes kwargs call 
def course filename prefix generator course id separator '_' return get valid filename unicode separator .join [course id course id course id 
def set cmap cmap cmap cm cmap cmap rc u cmap cmap im gci if im is not None im cmap cmap 
def event location return s3 rest controller 
def remove admin access permissions apps schema editor Content Type apps model u Content Type Permission apps model u Permission wagtailadmin content type Content Type app label u model u Permission content type wagtailadmin content type codename u admin .delete
def busday count mask Na T begindates enddates out None if out is None out empty broadcast begindates enddates .shape dtype float beginmask isnat begindates endmask isnat enddates out busday count where beginmask  not Na T begindates where endmask  not Na T enddates out out out beginmask | endmask ] nanreturn out 
def clean noise output string for noise in NOISE output string output string noise + '\n' '' output string output string noise '' return output string 
def tensorhead name typ sym comm 0 matrix behavior 0 sym tensorsymmetry *sym S Tensor Type typ sym th S name comm matrix behavior matrix behavior return th 
def pick channels cov orig include [] exclude 'bads' exclude orig if exclude 'bads' else exclude sel pick channels orig include include exclude exclude res deepcopy orig res len sel if not res res orig sel res orig [orig['names'][k] for k in sel [name for name in orig if name in res ]res['eig'] Noneres Nonereturn res 
def  Add Mock J S O N Response mock client url response dict def  Create Response request return httpclient H T T P Response request 200 headers {ontent Type 'application/json'} buffer String I O json response dict mock client url  Create Response 
def no style class dummy def   getattr   self attr return lambda x x return dummy 
def W S G I Server server address wsgi app from . import wsgiserverwsgiserver adapters {'builtin' 'web.wsgiserver.ssl builtin Builtin S S L Adapter 'pyopenssl' 'web.wsgiserver.ssl pyopenssl Open S S L Adapter wsgiserver Cherry Py W S G I Server server address wsgi app server name 'localhost' def create ssl adapter cert key import typescherrypy types Module Type 'cherrypy' cherrypy wsgiserversys cherrypysys wsgiserverfrom wsgiserver pyopenssl import py Open S S L Adapteradapter py Open S S L Adapter cert key del sys sys adapterif server adapter is None and getattr server 'ssl certificate None and getattr server 'ssl private key None server adapter create ssl adapter server certificate server private key server not sys 'java' return server 
def cfset to set cfset count cf C F Set Get Count cfset buffer c void p * count cf C F Set Get Values cfset byref buffer return set [cftype to value c void p buffer for i in range count ]
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  encode int name value dummy0 dummy1 if -2147483648 < value < 2147483647 return '\x10' + name +  PACK INT value else try return '\x12' + name +  PACK LONG value except struct raise Overflow Error ' S O Ncanonlyhandleupto8 
def libvlc media player set equalizer p mi p equalizer f  Cfunctions 'libvlc media player set equalizer None or  Cfunction 'libvlc media player set equalizer 1 1 None ctypes int Media Player ctypes void p return f p mi p equalizer 
def num plurals catalog message if not message if not isinstance message basestring raise Translation Error 'oundpluralformsfornon returnelif catalog is None returnmsgstrs message not isinstance msgstrs list tuple msgstrs msgstrs if len msgstrs ! catalog plurals raise Translation Error 'rongnumberofpluralforms expected ' % catalog plurals 
def parse rescue rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--nomount' dest 'nomount' action 'store true parser argument '--romount' dest 'romount' action 'store true args clean args vars parser args rules parser Nonereturn args 
def gen dom authzr domain unused new authzr uri challs combos True return acme util authzr messages S T A T U S PENDING domain challs [ T A T U S PENDING] * len challs combos 
def  inv totient estimate m primes [ d + 1 for d in divisors m if isprime d + 1 ] a b 1 1 for p in primes a * pb * p - 1 L m U int math m * float a / b P p 2primes []while P < U p nextprime p primes p P * p P // pb 1for p in primes -1 ] b * p - 1 U int math m * float P / b return L U
def submit problem grade report request course key task type 'grade problems class calculate problem grade reporttask input {}task key ''return submit task request task type task class course key task input task key 
def find title url verify True response requests url stream True verify verify headers default headers try content ''for byte in response content chunk size 512 content + byteif '</title>' in content or len content > max bytes breakcontent content u errors u finally response content title tag data u content content quoted title u content start content u end content u if start -1 or end -1 returntitle web content start + 7 end title title [ 200]title u title title re dcc u title return title or None 
def  status apf status 0table iptc Table iptc Table F I L T E R for chain in table if 'sanity' in chain status 1return True if status else False 
def Maxwell name a return rv name Maxwell Distribution a 
def underline regions r []for region in regions start region end region while start < end r sublime Region start start + 1return r 
def ffmpeg extract subclip filename t1 t2 targetname None name ext os filename if not targetname T1 T2 [int 1000 * t for t in [t1 t2 name + ' U B %d.%s' name T1 T2 ext cmd [get setting 'FFMPEG BINARY' '-y' '-i' filename '-ss' '%0.2f' % t1 '-t' '%0.2f' % t2 - t1 '-vcodec' 'copy' '-acodec' 'copy' targetname call cmd 
def  invalidate queue q val None sync True def  qsize len len return 1def  put item passdef  get return valif sync q try q 2q. qsize  qsizeq put  putq get  getq empty All q full All finally if sync q 
def dot inp matrix if 'int' in inp and inp 2 return matrix ]elif 'int' in inp return matrix 'float' in inp and inp 3 shape0 inp inp inp T T inp shape0 * shape1 shape2 matrix else return T T inp matrix 
def  has effective handler logger while True if logger return Trueif not logger return Falselogger logger 
def open Explorer filename if sys 'win32' or sys 'cygwin' subprocess Popen 'explorer/select "%s"' % filename if sys 'darwin' subprocess Popen ['open' '-R' filename if sys 'linux' if os '/usr/bin/xdg-open' subprocess Popen ['/usr/bin/xdg-open' os filename [0]]
def calc easing degree for proportion proportion return - math proportion + 1
def get versioned asset url asset path try locator Static Content location from path asset path content Asset Manager locator as stream True return Static Content version to asset path asset path content digest except Invalid Key Error Item Not Found Error passreturn asset path 
def  get declared fields bases attrs fields [ field name attrs field name for field name obj in list six attrs if isinstance obj Field ]fields.sort key lambda x x counter for base in bases -1 ] if hasattr base 'base fields fields list base fields + fields return Ordered Dict fields 
def answer entrance exam problem course request problem user None if not user user request dict {'value' 1 'max value 1 'user id user data cache Field Data Cache for descriptor descendents course user course depth 2 module get module user request problem ids id field data cache . xmodulemodule problem 'grade' grade dict 
def is case sensitive path is case sensitive Falseif not iswindows name1 name2 'calibre test case sensitivity 'calibre Tes T Ca Se sensiti Vit Y Txt f1 f2 os path name1 os path name2 if os f1 os f1 open f1 'w' .close is case sensitive not os f2 os f1 return is case sensitive 
def is bsd return platform in 'arwin 'ree B S D 'pen B S D 
def re subm pat repl string r re compile pat proxy  re subm proxy r proxy  call   string return r repl string proxy 
def multislice assign llst rlst lslices rslices if cmp structure llst rlst lslices rslices < 0 raise Value Error 'lvalueandrvaluehavedifferentstructures' return m assign llst rlst lslices rslices 
def add label dependencies test  log or execute repr test test labels subject 'cleardependenciesfrom' for label name in test ' ' label name label name .lower if not label name continuetry label models Label name label name except models Label Does Not Exist log dependency not found label name continue log or execute repr label test labels label subject 'adddependencyto%s' % test 
def qos specs associate context qos specs id type id return I M P L specs associate context qos specs id type id 
def execute Left Operations evaluators operation Level for negative Index in xrange - len evaluators -1 evaluator Index negative Index + len evaluators evaluators Index Left Operation evaluators evaluator Index operation Level 
def  find handlers app names handlers []for module name in app names handlers  handlers module name return handlers 
def get disk usage d if platform 'inux try return int subprocess Popen ['du' '-sb' d stdout subprocess P I P E .communicate [0].split [0] except raise Cleanup Exception 'roscleanisnotsupportedonthisplatform' elif platform 'ree B S D try return int subprocess Popen ['du' ' d stdout subprocess P I P E .communicate [0].split [0] * 1024 except raise Cleanup Exception 'roscleanisnotsupportedonthisplatform' else raise Cleanup Exception 'roscleanisnotsupportedonthisplatform'
def zone absent domain profile zones libcloud dns module zones profile matching zone [z for z in zones if z domain ]if len matching zone 0 return state result True 'onealreadyabsent else result libcloud dns module zone matching zone profile return state result result 'eletedzone 
def send catch log signal Any sender Anonymous *arguments **named dont log named 'dont log  Ignored Exception spider named 'spider' None responses []for receiver in live Receivers get All Receivers sender signal try response robust Apply receiver signal signal sender sender *arguments **named if isinstance response Deferred logger 'annotreturndeferredsfromsignalhandler % receiver s {'receiver' receiver extra {'spider' spider except dont log result Failure except Exception result Failure logger 'rrorcaughtonsignalhandler % receiver s {'receiver' receiver exc info True extra {'spider' spider else result responseresponses receiver result return responses 
def roc tests [] x FPR lambda TP TN FP FN float FP / FP + TN or 1 y TPR lambda TP TN FP FN float TP / TP + FN or 1 return sorted [ 0.0 0.0 1.0 1.0 ] + [ x *m y *m for m in tests 
def libvlc media new callbacks instance open cb read cb seek cb close cb opaque f  Cfunctions 'libvlc media new callbacks None or  Cfunction 'libvlc media new callbacks 1 1 1 1 1 1 class result Media ctypes void p Instance Media Open Cb Media Read Cb Media Seek Cb Media Close Cb ctypes void p return f instance open cb read cb seek cb close cb opaque 
def  get options raw options apply config if not raw options return parse args [u''] apply config apply config if isinstance raw options dict options parse args [u''] apply config apply config for name value in raw options if not hasattr options name raise Value Error u Nosuchoption name expected type type getattr options name if not isinstance expected type str unicode if isinstance value str unicode raise Value Error u Option name setattr options name value else options raw optionsreturn options 
def instance logger instance echoflag None if instance name name '%s.%s.%s' % instance  class  .  module   instance  class  .  name   instance name else name '%s.%s' % instance  class  .  module   instance  class  .  name   instance echo echoflagif echoflag in False None logger logging Logger name else logger Instance Logger echoflag name instance logger 
def create context manager connection return I M P L context manager connection connection 
def  intc overflow x msg None if x > iinfo intc .max if msg is None msg '%rcannotfitintoanintc' % x raise Overflow Error msg return intc x 
def  image property update context prop ref values session None  drop protected attrs models Image Property values values Falseprop ref values prop ref session session return prop ref 
def get vlan vlanid module command 'showvlanid' + vlanid body execute show command command module try vlan table body T A B L E vlanbriefid R O W vlanbriefid Type Error Index Error return {}key map {'vlanshowbr-vlanid-utf' 'vlan id 'vlanshowbr-vlanname' 'name' 'vlanshowbr-vlanstate' 'vlan state 'vlanshowbr-shutstate' 'admin state apply key map key map vlan table value map {'admin state {'shutdown' 'down' 'noshutdown' 'up'}}vlan apply value map value map vlan vlan vni get vni vlanid module return vlan 
def Task Message name id None args kwargs {} callbacks None errbacks None chain None shadow None utc None **options from celery import uuidfrom kombu import dumpsid id or uuid message Mock name u Task Message id message {u'id' id u name u shadow {u'callbacks' callbacks u errbacks u chain options message type message encoding message dumps args kwargs embed serializer u message args kwargs embed return message 
def  async raise tid exctype if not inspect exctype raise Type Error 'nlytypescanberaised notinstances ' res ctypes Py Thread State Set Async Exc ctypes long tid ctypes object exctype if res 0 raise Value Error 'invalidthreadid' elif res ! 1 ctypes Py Thread State Set Async Exc ctypes long tid None raise System Error 'y Thread State Set Async Excfailed 
@dec.skip without 'pandas' def test dataframe key completion import pandasip get ipython complete ip Completer ns pandas Data Frame {'hello' [1] 'world' [2]} _ matches complete line buffer "d['" nt in 'hello' matches nt in 'world' matches 
def urlquote plus url safe u return force text quote plus force str url force str safe 
def require student from identifier unique student identifier try return get student from identifier unique student identifier except User Does Not Exist raise Dashboard Error _ 'ouldnotfindstudentmatchingidentifier {student identifier .format student identifier unique student identifier 
def set ssh key public key  xml '<RIBCLVERSION " O G I N U S E R LOGIN " A S S W O R D " I B INFOMODE " M P O R T SSH K E Y B E G I N S S H K E Y E N D S S H K E Y I M P O R T SSH K E Y R I B I N F O L O G I N R I B C L public key return   execute cmd 'mport SSH Publickey  xml 
def get RMSE results true params diff results true params - true params raw RMSE sp diff ** 2 .sum param norm sp true params ** 2 .sum return raw RMSE / param norm 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def test blocking with whitelist config stub basedir download stub data tmpdir tmpdir filtered blocked hosts BLOCKLIST HOSTS[1 ]blocklist create blocklist data tmpdir blocked hosts filtered blocked hosts name 'blocked-hosts' line format 'one per line config stub {'content' {'host-block-lists' [blocklist] 'host-blocking-enabled' True 'host-blocking-whitelist' WHITELISTED H O S T S blocker adblock Host Blocker host blocker hosts assert urls host blocker 
def make Service config if config quoter quoters Fortune Quoter [config['file']] else quoter quoters Static Quoter config port int config factory quoteproto Q O T D Factory quoter return internet T C P Server port factory 
def add Modlist entry ignore attr types None ignore attr types list dict map string ignore attr types or [] modlist []for attrtype in entry if ignore attr types key string attrtype continueattrvaluelist filter lambda x x ! None entry if attrvaluelist modlist attrtype entry return modlist 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def measure runtime func def time taken obj num 'rintsthetimetakenbyfunctorunagivennumberofsamples Args \nobj object Theclassinstancefuncbelongsto int Thenumberofsamplestorunwith Returns \esultoffunc time result func obj num end time print '%sspent%fsecondsfor%dinstances' % func  name   end - start num return resultreturn time taken 
def priority value def decorator target target valuereturn targetreturn decorator 
def revdict d return dict v k for k v in iteritems d 
@click.command 'lets-encrypt' @click.argument 'site' @click.option '--custom-domain' def setup letsencrypt site custom domain from bench encrypt import setup letsencryptsetup letsencrypt site custom domain bench path '.'
def get search regex query ignore case True regex text [char for char in query if char ! '' ]regex text '.*'.join regex text regex ' {0} '.format regex text if ignore case pattern re regex re I G N O R E C A S E else pattern re regex return pattern 
def le  a b msg None assert a < b msg or '%r! %r' % a b 
def lfu cache maxsize 100 def decorating function user function cache {}use count Counter kwd mark object @functools.wraps user function def wrapper *args **kwds key argsif kwds key + kwd mark + tuple sorted kwds use count + 1try result cache + 1except Key Error result user function *args **kwds cache resultwrapper + 1if len cache > maxsize for key _ in nsmallest maxsize // 10 use count key itemgetter 1 del cache use count resultdef clear cache use count wrapper wrapper 0wrapper.hits wrapper 0wrapper.clear clearreturn wrapperreturn decorating function 
def arrayize Value value if not is List Like value value [value]return value 
def test exit assert usertypes Exit 0 assert usertypes Exit 1
def wait for state vmid state timeout 300 start time time node get vm status vmid vmid if not node log 'wait for state No V Mretrievedbasedongivencriteria raise Salt Cloud Execution Failurewhile True if node state log 'ost node state return Truetime 1 if time - start time > timeout log 'imeoutreachedwhilewaitingfor node state return Falsenode get vm status vmid vmid log 'tatefor "{1}"insteadof"{2}"'.format node node state 
def get resource versions resource type return  get cached tracker .get resource versions resource type 
def part rebulk Rebulk .regex defaults flags re I G N O R E C A S E abbreviations [dash] validator {'  parent  ' seps surround prefixes ['pt' 'part']def validate roman match 'alidatearomanmatchifsurroundedbyseparators parammatch \n typematch \n return \n rtype \n'if int coercable match return Truereturn seps surround match rebulk build or pattern prefixes + '-? ? + numeral + ' ' prefixes prefixes validate all True private parent True children True formatter parse numeral validator {'part' compose validate roman lambda m 0 < m < 100 } return rebulk 
def del connection info user True section keypath reg info user try hive  winreg Connect Registry None section key  winreg Open Key hive keypath  winreg Delete Key key 'api'  winreg Close Key key except Windows Error if user del connection info user False passfinally  winreg Close Key hive 
def install Reactor reactor import twisted sysif 'twisted.internet.reactor' in sys raise error Reactor Already Installed Error 'reactoralreadyinstalled' twisted reactorsys reactor 
@with setup step runner environ def test successful behave as step passes runnable step Step string 'iven Ihaveastepwhichcallsthe as runnable step True assert runnable step 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
def hist x bins 10 ax None **kwargs arglist list signature np .parameters.keys [1 ]np hist kwds dict key kwargs for key in arglist if key in kwargs hist bins histogram x bins **np hist kwds if ax is None import matplotlib as pltax plt return ax x bins **kwargs
def get list payload context builder list type value payload type types List Payload list type payload context data builder value ptrty context data type payload type .as pointer payload builder payload ptrty return context data helper builder payload type ref payload 
def askopenfilename **kwargs try from Tkinter import Tkimport tk File Dialog as filedialogexcept Import Error from tkinter import Tk filedialogroot Tk root root filenames filedialog **kwargs root return filenames 
def test adjust sigmoid cutoff half image np 0 255 4 np .reshape 8 8 expected np [[1 1 2 2 3 3 4 5] [5 6 7 9 10 12 14 16] [19 22 25 29 34 39 44 50] [57 64 72 80 89 99 108 118] [128 138 148 158 167 176 184 192] [199 205 211 217 221 226 229 233] [236 238 240 242 244 246 247 248] [249 250 250 251 251 252 252 253]] dtype np result exposure sigmoid image 0.5 10 assert array equal result expected 
@deprecated u def unmasked index ranges mask compressed True mask mask mask m np 1 mask 1 indices np len mask + 1 mdif m ] - m -1 ] i0 np mdif -1 indices i1 np mdif 1 indices assert len i0 len i1 if len i1 0 return Noneif not compressed return np i0 np i1 np axis 1 seglengths i1 - i0 breakpoints np seglengths ic0 np 0 breakpoints -1 ] ic1 breakpointsreturn np ic0 np ic1 np axis 1
def env *vars **kwargs for v in vars value os v None if value return valuereturn kwargs 'default' ''
def get subscribed mailchimp list id return get members mailchimp list id 'subscribed'
def rate rate if rate if isinstance rate basestring ops _ modifier rate '/' return RATE MODIFIER MAP[ modifier or 's' ] int ops or 0 return rate or 0 return 0
def add To Paths Recursively paths vector3 Lists if vector3 Lists  class   Vector3 or vector3 Lists  class  .  name   'ector3 Index paths [ists returnpath []for vector3 List in vector3 Lists if vector3 List  class   list add To Paths Recursively paths vector3 List elif vector3 List  class   Vector3 path vector3 List if len path > 0 paths path 
def arguments section args types if len args 0 return ''def serialize arg idx return serialize argument at idx idx args 'self->arg%d' % idx types parts [serialize arg i for i in xrange len args ]return '\n DCTB DCTB ' + ' '.join parts + ' '
def motion string motion return  motion names motion str motion 
@dec.onlyif unicode pathsdef test unicode cwd wd tempfile suffix u old wd os os wd try app Base I Python Application app profile dir app config files app config file suppress errors False finally os old wd 
def iokit devicetree attrs None where None if salt darwin return  osquery cmd table 'iokit devicetree attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
@ helpers 3 def credentials from clientsecrets and code filename scope code message None redirect uri 'postmessage' http None cache None device uri None flow flow from clientsecrets filename scope message message cache cache redirect uri redirect uri device uri device uri credentials flow exchange code http http return credentials 
def get enabled auth backends global  enabled auth backendsglobal  auth backend settingif not  enabled auth backends or  auth backend setting ! settings A U T H E N T I C A T I O N BACKENDS  enabled auth backends []for backend in get backends if not isinstance backend Auth Backend warn u Authenticationbackendsshouldinheritfromreviewboard Auth Backend Pleaseupdate % backend  class   for field default in u None u registration False u change name False u change email False u change password False if not hasattr backend field warn u Authenticationbackendsshoulddefinea Pleasedefineitin Auth Backend % field backend  class   setattr backend field False  enabled auth backends backend  auth backend setting settings A U T H E N T I C A T I O N B A C K E N D Sreturn  enabled auth backends 
def check valid package package cyg arch 'x86 64' mirrors None if mirrors is None mirrors [{DEFAULT MIRROR DEFAULT MIRROR K E Y L O G 'hecking Valid Mirrors {0}'.format mirrors for mirror in mirrors for mirror url key in mirror if package in  get all packages mirror url cyg arch return Truereturn False 
def get within delta key app None txt config value key app app values txt return timedelta **{values[1] int values }
def weighted y return linkage y method 'weighted' metric 'euclidean'
def calc F R r beta var beta nobs df from scipy import fhyp np R beta len beta 1 - r RSR np R np var beta R.T q len r F np hyp T np inv RSR hyp .squeeze / q p value 1 - f F q nobs - df return F q nobs - df p value 
def create userstory **kwargs owner kwargs 'owner' None if not owner owner User Factory project kwargs 'project' None if project is None project Project Factory owner owner defaults {'project' project 'owner' owner 'milestone' Milestone Factory project project owner owner }defaults.update kwargs return User Story Factory **defaults
def print visit num pages goal details goal details print 'isit Num Pages Goal print 'omparison Type %s' % goal details 'ype print 'alue %s' % goal details 'alue 
def  get queue name prefix return u {} '.format config id 
def clean old jobs serv  get serv ret None living jids set serv 'load *' to remove []for ret key in serv 'ret *' load key ret key 'ret ' 'load ' 1 if load key not in living jids to remove ret key if len to remove ! 0 serv *to remove 
def type name value if inspect value cls valueelse cls value  class  if cls  module   in set [u'builtins' u  builtin  '] return cls  name  return u % cls  module   cls  name  
def  is xblock reorderable xblock context try return xblock in context items except Key Error return False 
def get makefile filename if  PYTHON BUILD return os  PROJECT BASE 'akefile return os get path 'platstdlib' 'config' 'akefile 
@not implemented for 'directed' @not implemented for 'multigraph' def preferential attachment G ebunch None def predict u v return G u * G v return  apply prediction G predict ebunch 
def keep lazy *resultclasses if not resultclasses raise Type Error 'oumustpassatleastoneargumenttokeep lazy .' def decorator func lazy func lazy func *resultclasses @wraps func def wrapper *args **kwargs for arg in list args + list kwargs if isinstance arg Promise breakelse return func *args **kwargs return lazy func *args **kwargs return wrapperreturn decorator 
def test radius neighbors boundary handling X np [[1.5] [3.0] [3.01]] radius 3.0for algorithm in ALGORITHMS nbrs neighbors Nearest Neighbors radius radius algorithm algorithm .fit X results nbrs neighbors [[0.0]] return distance False assert equal results 1 assert equal results object assert array equal results [0 1]
def make virtual offset block start offset within block offset if within block offset < 0 or within block offset > 65536 raise Value Error 'equire0 within block offset got % within block offset if block start offset < 0 or block start offset > 281474976710656 raise Value Error 'equire0 block start offset got % block start offset return block start offset << 16 | within block offset 
def  render tab lst ret []for pre in lst ret '{0}\n'.format pre for cron in lst ret '{0}{1}{2}{3}\n'.format cron cron cron TAG return ret 
def XOR x y result ''for a b in zip x y if sys info < 3 0 result + chr ord a ^ ord b else result + bytes [ a ^ b ] return result 
def  get firewall rules firewall rules ret []for key value in firewall rules if 'protocol' not in firewall rules raise Salt Cloud Config Error "hefirewallrule key ret Firewall Rule name key protocol firewall rules 'protocol' None source mac firewall rules 'source mac None source ip firewall rules 'source ip None target ip firewall rules 'target ip None port range start firewall rules 'port range start None port range end firewall rules 'port range end None icmp type firewall rules 'icmp type None icmp code firewall rules 'icmp code None return ret 
def effective principals request return request principals 
def  dnsname match dn hostname max wildcards 1 pats []if not dn return Falseparts dn '.' leftmost parts parts ]wildcards leftmost '*' if wildcards > max wildcards raise Certificate Error ' N Sname ' + repr dn if not wildcards return dn hostname if leftmost '*' pats '[^.]+' elif leftmost 'xn--' or hostname 'xn--' pats re leftmost else pats re leftmost .replace '\\*' '[^.]*' for frag in remainder pats re frag pat re '\\A' + '\\.'.join pats + '\\Z' re I G N O R E C A S E return pat hostname 
def project present name description None enabled True profile None **connection args return tenant present name description description enabled enabled profile profile **connection args 
def programme return s3 rest controller 
def cuckoo init quiet False debug False artwork False test False cur path os os CUCKOO ROOT logo check working directory check configs check version create structure if artwork import timetry while True time 1 logo except Keyboard Interrupt returninit logging if quiet log Level logging W A R N elif debug log Level logging D E B U G init modules init tasks init yara init binaries init rooter init routing if test return Result Server os cur path 
def to key literal or identifier if literal or identifier u Identifier return literal or identifier literal or identifier u Literal k literal or identifier isinstance k float return unicode float repr k elif u in literal or identifier return compose regex k elif isinstance k bool return u if k else u elif k is None return u return unicode k 
def keyring auth del **kwargs return ceph cfg auth del **kwargs
def h2vp v z n 1 if not isinstance n int or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n 0 return hankel2 v z else return  bessel diff formula v z n hankel2 -1
def  raw hex id obj packed struct '@P' id obj return ''.join map  replacer packed 
def test get phantom dipoles assert raises Value Error get phantom dipoles 0 assert raises Value Error get phantom dipoles 'foo' for kind in 'vectorview' 'otaniemi' pos ori get phantom dipoles kind assert equal pos 32 3 assert equal ori 32 3
def generate themes num owner post save update search index sender Addon dispatch uid 'addons.search.index' user generate user owner for name category in  yield name and cat num app FIREFOX type ADDON PERSONA theme create theme name name generate addon user and category theme user category generate theme images theme generate translations theme generate collection theme generate ratings theme 5
@task.task ignore result True def remove share share share remove 
def list hosts call None if call 'action' raise Salt Cloud System Exit 'helist hostsfunctionmustbecalledwith return avail locations 
def check extra requirements pkgname pkgver if pkgver and 'pkg.check extra requirements in   salt   return   salt  ['pkg.check extra requirements pkgname pkgver return True 
@control command variadic u id args [ u text t ] signature u N def terminate state signal task id **kwargs return revoke state task id terminate True signal signal 
def  trim files files trim output count 100if not isinstance trim output bool count trim outputif not isinstance trim output bool and trim output is False and len files > count files files count 'isttrimmedafter count return files 
def commands out []for plugin in find plugins out + plugin return out 
def inv item total weight row try inv item getattr row 'inv inv item except Attribute Error inv item rowtry quantity inv item Attribute Error return 0.0try supply item getattr row 'supply item weight supply item Attribute Error itable current inv itemstable current itemquery itable inv item & itable id stable supply item current query .select stable limitby 0 1 .first if not supply item returnelse weight supply item weight is None return current N O N E return quantity * weight 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def na value for dtype dtype dtype pandas dtype dtype if is datetime64 dtype dtype or is datetime64tz dtype dtype or is timedelta64 dtype dtype return Na Telif is float dtype dtype return np is integer dtype dtype return 0elif is bool dtype dtype return Falsereturn np 
def describe api resource rest Api Id path region None key None keyid None profile None r describe api resources rest Api Id region region key key keyid keyid profile profile resources r 'resources' if resources is None return rfor resource in resources if resource path return {'resource' resource {'resource' None 
def fix js args func fcode six function code func fargs fcode varnames fcode argcount - 2 fcode argcount fargs 'this' 'arguments' or fargs 'arguments' 'var' return funccode append arguments six function code func 'this' 'arguments' return types Function Type code six function globals func func  name   closure six function closure func 
def add sync methods cls for name in cls  dict  .keys if name ' async sync name name -6 ]if not hasattr cls sync name setattr cls sync name  make sync method name return cls 
def get level request if hasattr request ' messages storage request messageselse storage default storage request return storage 
def is Loop Intersecting Loop loop other Loop for point Index in xrange len loop point Begin loop Index End loop point Index + 1 % len loop ]if is Line Intersecting Loop other Loop point Begin point End return Truereturn False 
def tp write fd buf return get hub .threadpool.apply e Base Exception  write fd buf 
def handle text mic profile messages [ couldyourepeatthat 'yapologies couldyoutrysayingthatagain 'aythatagain 'begyourpardon random messages mic message 
def k clique communities G k cliques None if k < 2 raise nx Network X Error 'k %d kmustbegreaterthan1 % k if cliques is None cliques nx cliques G cliques [frozenset c for c in cliques if len c > k ]membership dict defaultdict list for clique in cliques for node in clique membership dict clique perc graph nx Graph perc graph nodes from cliques for clique in cliques for adj clique in  get adjacent cliques clique membership dict if len clique adj clique > k - 1 perc graph edge clique adj clique for component in nx components perc graph yield frozenset *component
def should shard by property range filters if not filters return Falsefor f in filters if f ! ' ' return Truereturn False 
def var contains var value setval get var var value value '\\' '' if setval is None return Falsereturn value in setval 
@click.command 'set-ssl-certificate' @click.argument 'site' @click.argument 'ssl-certificate-path' def set ssl certificate site ssl certificate path from bench config import set ssl certificateset ssl certificate site ssl certificate path 
def Parse Enum field value enum descriptor field typetry number int value 0 except Value Error enum value enum descriptor by name value None if enum value is None raise Value Error 'numtype % enum descriptor name value else enum value enum descriptor by number number None if enum value is None raise Value Error 'numtype % enum descriptor name number return enum value 
def  maybe raise exception assert 'OAUTH ERROR CODE' in os error os O A U T H ERROR C O D E error assert 'OAUTH ERROR DETAIL' in os error detail os O A U T H ERROR D E T A I L error str user service pb User Service Error N O T ALLOWED raise Not Allowed Error error detail elif error str user service pb User Service Error O A U T H INVALID REQUEST raise Invalid O Auth Parameters Error error detail elif error str user service pb User Service Error O A U T H INVALID TOKEN raise Invalid O Auth Token Error error detail elif error str user service pb User Service Error O A U T H ERROR raise O Auth Service Failure Error error detail else raise O Auth Service Failure Error error detail 
def validate comma separated value if not re u A Z0 \\.]+$' value raise Validation Error u value 
def passivemode msg protocol host '127.0.0.1' port 12345 msg 'ntering Passive Mode %s .' % ftp Host Port host port return msg protocol encoding 
@check is trading as api Execution Context phase EXECUTION PHASE.HANDLE BAR EXECUTION PHASE.SCHEDULED def order percent id or ins percent style None assert 0 < percent < 1 portfolio value get simu exchange .account.portfolio.portfolio valuereturn order value id or ins portfolio value * percent style 
def traverse topologically start node get parents get children filter func None yield descendants of unyielded False return  traverse generic start node get parents get parents get children get children filter func filter func yield descendants of unyielded yield descendants of unyielded 
def get algorithm algorithm global  hashesif  hashes is None  setup hashes if isinstance algorithm str unicode algorithm dns text algorithm if sys < 33882624 and algorithm HMAC SHA384 or algorithm HMAC SHA512 raise Not Implemented Error ' S I Galgorithm + str algorithm + 'ython2 try return algorithm digestable  hashes except Key Error raise Not Implemented Error ' S I Galgorithm + str algorithm + 'isnotsupported'
def serialize part xml part elm return etree part elm encoding u U T F standalone True 
def stub out http backend stubs class Fake H T T P Connection object def   init   self *args **kwargs passdef getresponse self if len FAKE RESPONSE STACK return FAKE RESPONSE S T A C K return utils Fake H T T P Response def request self * args ** kwargs passdef close self passdef fake get conn class self *args **kwargs return Fake H T T P Connectionstubs Set Store ' get conn class fake get conn class 
def force unlock get lock min wait 0 max wait 0.001 timeout 0 release lock 
def get access logs config access log Literal 'access log + Zero Or More parameter + semicolon access log python Style Comment for directive in access log String config .ist path directive path 'off' or path 'syslog ' continueformat name 'combined'if len directive > 2 and ' ' not in directive format name directive yield path format name 
def fetch things t class since until batch fn None *query params **extra query dict from r2 import ascif not batch fn batch fn lambda x x query params [ t class date > since t class date < until t class spam True False ] + list query params query dict {'sort' asc ' date 'limit' 100 'data' True dict extra query dict q t class query *query params **query dict orig rules deepcopy q rules things list q while things things batch fn things for t in things yield t q rules deepcopy orig rules q after t things list q 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def stringified dict contains value key value str dict value str value try key index str dict key + len key + 3 except Value Error return Falsetry comma index str dict ' ' key index except Value Error comma index str dict '}' key index return str value str dict index comma index '"\''
def extract vars above *names caller N S sys getframe 2 .f localsreturn dict k caller N S for k in names 
def make compute text deps func lambda self safe eval text SAFE EVAL BASE {'self' self mode 'exec' deps [arg.strip for arg in deps or '' .split ' ' ]return api *deps func 
def from html one html code **kwargs tables from html html code **kwargs try assert len tables 1 except Assertion Error raise Exception 'orethanone H T M Lcode Usefrom htmlinstead return tables 
def test qtable column conversion qtab table Q Table [[1 2] [3 4.2]] names ['i' 'f'] assert isinstance qtab table Column assert isinstance qtab table Column qtab 'km/s'assert isinstance qtab u Quantity assert isinstance qtab table Column assert isinstance qtab u Quantity assert isinstance qtab u Quantity assert not isinstance qtab u Quantity assert not isinstance qtab u Quantity qtab u u / u ** 2 assert isinstance qtab u Dex 
def test gen matrix print   name   + '.' + test gen matrix  name   matrices Matrices for matrix dict in matrices matrix dicts x gth solve matrix dict A yield Stationary Dist Sum One x yield Stationary Dist Nonnegative x yield Stationary Dist Equal To Known matrix dict dist x 
def  get next request next request P O S T 'next' request G E T 'next' request M E T A 'HTTP REFERER' None if not next next request next 
def recent scans request db obj Recent Scans D B .order by '-TS' context {'title' 'ecent Scans 'entries' db obj 'general/recent.html'return render request template context 
def  sort gens gens **args opt build options args gens order wrt {} None if opt is not None gens order wrt {} opt for i gen in enumerate opt gens order i + 1 def order key gen gen str gen if wrt is not None try return - len wrt + wrt gen gen 0 except Value Error pass name index  re gen gen .groups if index index int index else index 0try return gens order name index except Key Error passtry return  gens order name index except Key Error passreturn  max order name index try gens sorted gens key order key except Type Error passreturn tuple gens 
def query http server host port path '' def query req get 'http //{host} {port}{path}'.format host host port port path path timeout SOCKET TIMEOUT FOR POLLING persistent False def failed failure Message message type u http query failed reason unicode failure .write return Falsereq Callbacks content failed return reqd verify socket host port d Callback lambda _ loop until reactor query return d 
def  check ne builtin clash expr names expr names &  ne builtins if overlap s ' '.join map repr overlap raise Num Expr Clobbering Error 'ariablesinexpression %s ' % expr s 
def  mediainfo screen size filename try if mediainfo  media info mediainfo filename for track in  media info if track type u Video return track track except O S Error Type Error passreturn None None 
def  patch configdata monkeypatch stubs symbol data collections Ordered Dict [ 'general' sections Key Value 'time' value Setting Value stubs Fake Config Type 'fast' 'slow' default 'slow' 'sanillusion Lunchtimedoublyso 'volume' value Setting Value stubs Fake Config Type '0' '11' default '11' 'oesto11 'ui' sections Key Value 'gesture' value Setting Value stubs Fake Config Type 'on' 'off' default 'off' 'aggleyourhandstocontrolqutebrowser 'mind' value Setting Value stubs Fake Config Type 'on' 'off' default 'off' 'nablemind experimental ' 'voice' value Setting Value stubs Fake Config Type 'on' 'off' default 'off' 'hethertorespondtovoicecommands 'searchengines' sections Value List stubs Fake Config Type stubs Fake Config Type 'DEFAULT' 'https //duckduckgo.com/?q {}' ] monkeypatch symbol data 
def  int to enum value enum klass try return enum klass value except Value Error return value 
def beneficiary s3db 'project beneficiary deletable False editable False insertable False list btn A T 'eneficiary Report  href URL c 'project' f 'beneficiary' args 'report' vars get vars  class 'action-btn' return s3 rest controller hide filter False 
def login notrequired func func notrequired Truereturn func 
def up iface iface type None if iface type not in ['slave'] return   salt  ['cmd.run'] 'iplinkset{0}up'.format iface return None 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def test alias args commented nargs am  ip manageralias name 'comargcount'cmd 'echothisis%%sacommentedoutargandthisisnot%s'am.define alias alias name cmd assert am alias alias name thealias am alias alias name nt equal thealias 1
def flake8ext f f   name  return f 
def assert grammar typechecking grammar types test obj class Bad Type object passfor name objects in grammar types for obj in objects tmp obj obj setattr test obj name tmp obj nt equal getattr test obj name tmp obj bad obj Bad Type nt raises regexp Value Error name + '.*' + obj  name   setattr test obj name bad obj nt equal getattr test obj name tmp obj 
def dup gf sqf part f K f dup convert f K K g gf sqf part f K K return dup convert g K K
def  xml escape attr attr skip single quote True escaped attr '&' '&amp;' .replace '"' '&quot;' .replace '<' '&lt;' .replace '>' '&gt;' if not skip single quote escaped escaped "'" '&#39;' return escaped 
@with setup prepare stderr def test try to import terrain sandbox path ojoin '..' 'sandbox' original path abspath '.' os sandbox path try import lettucereload lettuce raise Assertion Error 'herunnershouldraise Import Error except Lettuce Runner Error assert stderr lines with traceback 'ettucehastriedtoloadtheconventionalenvironmentmodule checkitscontentsandtrytorunlettuceagain Originaltracebackbelow \raceback mostrecentcalllast \ile lettuce core file s line44 in fs File System import "terrain" \ile lettuce fs file s line63 in import imp module name fp pathname description \ile terrain file s line18 Syntax Error invalidsyntax % {'lettuce core file abspath join lettuce dir '  init  .py' 'lettuce fs file abspath join lettuce dir 'fs.py' 'terrain file abspath lettuce path '..' 'tests' 'functional' 'sandbox' 'terrain.py' } finally os original path 
@image comparison baseline images [u'image interps def test image interps X np 100 X X 5 20 fig plt ax1 fig subplot 311 ax1 X interpolation u ax1 title u ax1 ylabel u ax2 fig subplot 312 ax2 X interpolation u ax2 ylabel u ax3 fig subplot 313 ax3 X interpolation u ax3 ylabel u 
def gluechops string key n funcref message ''chops decode64chops string for cpart in chops mpart funcref cpart key n message + int2bytes mpart return message 
def shared floatx nans shape **kwargs return shared floatx numpy * numpy shape **kwargs
def  record purchase params order ccnum str params 'req card number '' first digit re '\\d' ccnum str if first digit ccnum ccnum str digit ]else ccnum '####'if settings F E A T U R E S 'LOG POSTPAY CALLBACKS' log 'rder %s' order json params order first params 'req bill to forename '' last params 'req bill to surname '' street1 params 'req bill to address line1 '' street2 params 'req bill to address line2 '' city params 'req bill to address city '' state params 'req bill to address state '' country params 'req bill to address country '' postalcode params 'req bill to address postal code '' ccnum ccnum cardtype CARDTYPE M A P 'req card type '' ] processor reply dump json params 
def  cache provider details conn None D E T A I L S locations { E T A I L S sizes { E T A I L S images {}locations avail locations conn images avail images conn sizes avail sizes conn for key location in six locations D E T A I L S locations location D E T A I L S locations locationfor key image in six images D E T A I L S images image D E T A I L S images imagefor key vm size in six sizes D E T A I L S sizes size vm size D E T A I L S sizes vm size 
@treeio login required control private True max age 31536000 def contact view picture request contact id response format 'html' response Http Response content type 'image/png' render identicon contact id * 5000 .save response 'PNG' return response 
def  image member delete all context image id delete time None session None members updated count  image child entry delete all models Image Member image id delete time session return members updated count 
@click.group @click.option '--version' is flag True is eager True callback print bench version expose value False def bench command bench path '.' import benchfrom bench import get current frappe versionfrom bench import setup loggingbench frappe version bench path bench path setup logging bench path bench path 
def parse url url encoding None if isinstance url Parse Result return urlreturn urlparse to unicode url encoding 
def convert dash mpl dash if mpl dash in DASH MAP return DASH M A P dash return 'solid'
def is svn page html return re 'evision ' html and re 'oweredby ? <a[^>]*?> ?ubversion html re I 
def qos specs get by name context name return I M P L specs get by name context name 
def unhandled Exception Message err Msg 'tisrecommendedtoretryyour % VERSION STRING err Msg + 'itlab Msg + "ftheexceptionpersists pleaseopenanewissue % GIT PAGE err Msg + "at'%s'" % ISSUES PAGE err Msg + 'sg + 'he Msg + 'developerswilltrytoreproducethebug fixitaccordingly Msg + 'sg + 'pocsuiteversion %s\n' % VERSION STRING[ VERSION S T R I N G '/' + 1 ] err Msg + 'ythonversion %s\n' % PYVERSION err Msg + 'peratingsystem %s\n' % PLATFORM err Msg + 'ommandline %s\n' % re '.+?\\bpocsuite.py\\b' 'pocsuite.py' ''.join sys return err Msg 
def find meta meta meta match re '^  {meta}   [\'\\"] [^\'\\"]* [\'\\"]'.format meta meta META FILE re M if meta match return meta match 1 raise Runtime Error 'nabletofind  {meta}  string meta meta 
def cc config append None **kwargs if 'extra incs in kwargs extra incs kwargs incs isinstance extra incs basestring and '' in extra incs console '%s cc config extra incshasbeenchangedtolist % blade config file name kwargs incs extra incs blade config config 'cc config append kwargs 
def  check 1d x if not hasattr x u or len x < 1 return np 1d x else try x None xexcept Index Error Type Error return np 1d x 
def test copy doc class A def m1 'ocstringform1 B def m1 passclass C A @copy doc A def m1 passassert equal C  doc   'ocstringform1 assert raises Value Error copy doc B C 
def get google project result fetch GOOGLE METADATA URL + '/project/project-id' google True return result if result else None 
def test feature ptbr from string ru Language 'ru' feature Feature string FEATURE language ru assert equals feature u assert equals feature u scenario feature equals scenario u assert equals scenario -1 ].hashes [{u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '100' u '2' u '50'} {u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '28' u '7' u '4'} {u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '0' u '5' u '0'}]
def tan x return Tan x 
def detect worksheets archive content types read content types archive valid sheets dict path ct for ct path in content types if ct VALID WORKSHEET rels dict read rels archive for sheet in read sheets archive rel rels sheet id sheet Id sheet 'state' 'visible' if '/' + rel in valid sheets or 'worksheets' in rel yield rel 
def  get default context request types Object by request request Item Type parent  isnull True statuses Object by request request Item Status locations Object by request request Location massform Mass Action Form request context {'statuses' statuses 'types' types 'massform' massform 'locations' locations context 
def Translation model class Inner models Model parent models Foreign Key model related name u on delete models C A S C A D E language code models Char Field _ u max length 10 choices settings L A N G U A G E S default settings L A N G U A G E S editable len settings L A N G U A G E S > 1 class Meta unique together u u code abstract Truedef short language code self return short language code self code def save self *args **kwargs super Inner self .save *args **kwargs self translation cache save data Truedef delete self *args **kwargs super Inner self .delete *args **kwargs self translation cache delete data Truereturn Inner 
def custom identity verify identity dict true or false Truereturn true or false 
def convert data size size default sufix 'B' orders {'B' 1 'K' 1024 'M' 1024 * 1024 'G' 1024 * 1024 * 1024 'T' 1024 * 1024 * 1024 * 1024 }order re ' [b Kk Mm Gg Tt ' size -1 ] if not order size + default sufixorder [default sufix int float size -1 ] * orders ]
def memoize when activated fun @functools.wraps fun def wrapper self if not wrapper activated return fun self else try ret cache Key Error ret cache fun self return retdef cache activate 'ctivatecache activated Truedef cache deactivate 'eactivateandclearcache activated Falsecache cache {}wrapper.cache activated Falsewrapper activate cache activatewrapper deactivate cache deactivatereturn wrapper 
def widgetbox *args **kwargs responsive kwargs 'responsive' None sizing mode kwargs 'sizing mode 'fixed' children kwargs 'children' None if responsive sizing mode  convert responsive responsive  verify sizing mode sizing mode children  handle children children children *args widget children []for item in children if isinstance item Widget item mode sizing modewidget children item else raise Value Error 'nly Widgetscanbeinsertedintoa Widget Box Triedtoinsert %softype%s' % item type item return Widget Box children widget children sizing mode sizing mode **kwargs
def vis detections im class name dets thresh 0.3 import matplotlib as pltim im 2 1 0 ]for i in xrange np 10 dets bbox dets 4]score dets i -1 ]if score > thresh plt plt im plt .add patch plt Rectangle bbox bbox bbox - bbox bbox - bbox fill False edgecolor 'g' linewidth 3 plt '{}{ .3f}'.format class name score plt 
def  Argb To Rgba Tuple argb unsigned argb argb % 4294967296 return unsigned argb >> 16 & 255 unsigned argb >> 8 & 255 unsigned argb & 255 unsigned argb >> 24 & 255
def cleanup repo url url parsed urlparse url if parsed and parsed return url u {1}@'.format parsed parsed u elif parsed return url u parsed u return url 
def get host name hostname get address override if not hostname try hostname socket except passif not hostname or hostname 'localhost' or hostname '127.' hostname get local address return hostname 
def anon nodename hostname None prefix u return nodename u [prefix str os ] hostname or gethostname 
def request token request if not hasattr request ' xblock token request xblock token uuid .get hex return request xblock token 
def pipe list synonym name def getter self attr getattr self name if attr return attr u .split u def setter self value if isinstance value str setattr self name value else setattr self name u value return synonym name descriptor property getter setter 
def must have permission permission def wrapper func @functools.wraps func def wrapped *args **kwargs  inject nodes kwargs node kwargs Auth kwargs request dict kwargs user kwargs user is None raise H T T P Error http U N A U T H O R I Z E D if not node permission user permission raise H T T P Error http F O R B I D D E N return func *args **kwargs return wrappedreturn wrapper 
def parse irc colors string in string utils str string parsed string ''parts RE ANSI E S C A P E S in string + [''] for part sep in zip parts 2] parts 2] pstring RE IRC C O L O R sub irc part parsed string + '%s%s' % pstring sep parsed string RE M X P '\\2' parsed string return parsed string 
def get int or uuid value try uuid U U I D value return valueexcept Value Error Attribute Error return int value 
def isproperty obj return type obj property 
def attach my role permissions queryset user as field 'my role permissions attr model queryset user is None or user anonymous sql " E L E C T sql ' E L E C Tusers role F R O Mprojects membership L E F T J O I Nusers user O Nprojects membership id users user L E F T J O I Nusers role O Nusers role projects membership id W H E R Eprojects membership id { N D user {user id sql tbl model meta table user id user queryset queryset select {as field sql return queryset 
def CDLSEPARATINGLINES bar Ds count return call talib with ohlc bar Ds count talib C D L S E P A R A T I N G L I N E S 
def to be implemented request pagevars {'page title 'o Be Implemented render request 'tbi.html' pagevars 
def list courses request username org None filter  None user get effective user request username return get courses user org org filter  filter 
def reps toposort r r sympify r E []for c1 k1 v1 in enumerate r for c2 k2 v2 in enumerate r if k1 in v2 symbols E c1 c2 return [r[i] for i in topological sort range len r E ]
def  normalize entity value if ndb is not None and isinstance value ndb Model return Noneif getattr value ' populate internal entity None return value populate internal entity return value 
@command 'playurl\\s .*[- a A Z0 \\s- ? f ?' def play url url override override override if override else '_' g mode 'normal'yt url url print title 1 if len g 1 play override '1' '_' if g line sys 
def  mdata grains {}mdata list salt 'mdata-list' mdata get salt 'mdata-get' grains uuid   salt  ['cmd.run'] '{0}sdc server uuid mdata get if 'FAILURE' in grains uuid or 'ometadata in grains uuid grains uuid 'nknown   salt  ['cmd.run'] '{0}sdc datacenter name mdata get if 'FAILURE' in grains or 'ometadata in grains grains 'nknown mdata grain in   salt  ['cmd.run'] mdata list .splitlines grain data   salt  ['cmd.run'] '{0}{1}'.format mdata get mdata grain if mdata grain 'roles' grain data grain data ' ' grains grain dataelif not mdata grain 'sdc ' if 'mdata' not in grains grains {}mdata grain mdata grain '-' '_' mdata grain mdata grain ' ' '_' grains grain grain datareturn grains 
def quotestrip word if not word return Nonewhile word "'" and word "'" or word '"' and word '"' word word -1 ]return word 
def splitpasswd user global  passwdprogif  passwdprog is None import re passwdprog re '^ [^ ]* .* $' re S match  passwdprog user if match return match 1 2 return user None 
def AVGPRICE bar Ds count return call talib with ohlc bar Ds count talib A V G P R I C E 
def Dump Local Users path 'in N T //%s computer % local name ob A Ds Get Object path IID I A Ds Container ob Filter [ser 'roup for sub ob in ob print 'ser Group %s %s ' % sub ob Name sub ob A Ds Path 
@validate 'graph' def valid field in graph arch return all child 'field' for child in arch '/graph/*'
def fake fetch image context image instance **kwargs ds name kwargs 'datastore name file path kwargs 'file path ds file path '[' + ds name + ']' + file path  add file ds file path 
def get strategy name return 'store type 
def check running hub lockfilename is running Falselockfiledict {}try lockfiledict read lockfile lockfilename except I O Error return is running lockfiledict if u in lockfiledict try proxy xmlrpc Server Proxy lockfiledict u u allow none 1 proxy is running Trueexcept xmlrpc Protocol Error is running Trueexcept SSL EXCEPTIONS is running Trueexcept socket passreturn is running lockfiledict 
def test nm3 sample wt fit ratio 'auto'nm3 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS assert raises Runtime Error nm3 X Y
def unicode wrap func *args **kwargs return to text func *args **kwargs nonstring 'passthru'
def get or create cart from request request cart queryset Cart if request authenticated return get or create user cart request cart queryset else token request signed cookie Cart C O O K I E NAME default None return get or create anonymous cart from token token cart queryset 
def assignment Complete a Tp Pd pd 6 b Message Type mes Type 41 c Rr Cause packet a / b / c return packet 
def symmetric decrypt decrypt key ciphertext return decrypt key Decrypt binascii ciphertext 
def Jump To Tab tab number vim u tab number 
def gf add f g p K if not f return gif not g return fdf gf degree f dg gf degree g if df dg return gf strip [ a + b % p for a b in zip f g ] else k abs df - dg if df > dg h f f k f ] else h g g k g ] return h + [ a + b % p for a b in zip f g ]
def  zero triband a lower 0 nrow ncol a lower for i in range nrow a ncol - i ] 0.0else for i in range nrow a 0 i 0.0return a 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def include admin script script path if not absolute url re script path script path '%s%s' % settings A D M I N MEDIA PREFIX script path return '<scripttype "text/javascript"src "%s"></script>' % script path 
@box Series Type def box series typ val c series make series c c typ value val classobj c c object Series indexobj c typ series arrayobj c typ array series seriesobj c function objargs classobj arrayobj indexobj return seriesobj 
def  router request router method data None if router not in ROUTERS return Falsereq data json [dict action router method method data data type 'rpc' tid 1 ] config   salt  ['config.option'] 'zenoss' log 'akingrequesttorouter router method url '{0}/zport/dmd/{1} router config 'hostname' R O U T E R S response  session .post url data req data if re 'name "  ac name response log 'equestfailed Badusername raise Exception 'equestfailed Badusername return json response .get 'result' None 
@must be valid project have permission WRITE @must not be registrationdef remove pointer from folder auth node pointer id **kwargs if pointer id is None raise H T T P Error http B A D REQUEST pointer id node at pointer id pointer Pointer pointer id if pointer is None raise H T T P Error http B A D REQUEST try node pointer pointer auth auth except Value Error raise H T T P Error http B A D REQUEST node 
def unnotify thing possible recipients None from r2 import butlererror message 'nabletounnotifythingoftype %r' % thing notification handler thing notify function butler mention notification error message error message possible recipients possible recipients 
def build Tag Map default *args built {}for portion in args if hasattr portion 'items' for k v in portion built velif is List portion for k in portion built defaultelse built defaultreturn built 
def get observer settings def observer msg u Reportdocutils Nikolauser Errorcodemapping \ U M N A M E N U M N A M E docutils l logbook D E B U G D E B U G I N F O I N F O W A R N I N G W A R N I N G E R R O R E R R O R S E V E R E C R I T I C A L {0 1 1 2 2 4 3 5 4 6}text docutils Element msg line msg + settings ln if u in msg else 0 out u source settings colon u ' if line else u line line text text settings errormap out return observer 
def valid qname val try prefix localpart val ' ' return valid ncname prefix and valid ncname localpart except Value Error return valid ncname val 
def index entry from stat stat val hex sha flags mode None if mode is None mode cleanup mode stat val mode return stat val ctime stat val mtime stat val dev stat val ino mode stat val uid stat val gid stat val size hex sha flags 
def prune expr lin op if lin op is lo V A R I A B L E return Falseelif lin op in [ C A L A R CONST lo D E N S E CONST lo S P A R S E CONST lo P A R A M return Truepruned args []is constant Truefor arg in lin op arg constant prune expr arg if not arg constant is constant Falsepruned args arg lin op ] pruned args ]return is constant 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def test custom inverse reset class Test Model Model inputs outputs u @propertydef inverse self return models Shift @staticmethoddef evaluate return 0m Test Model assert isinstance m models Shift m models Scale assert isinstance m models Scale del m isinstance m models Shift 
def get browsers html get settings B R O W S E R S STATS PAGE html html u html html u "w3-table-allnotranslate">' [1]html html u [0]browsers re u .+? <' html re U N I C O D E browsers [ V E R R I D E S browser browser for browser in browsers statistics re u "right"> .+? \\s' html re U N I C O D E return list zip browsers browsers statistics 
def  init flow exceptions global  flow exceptions flow exceptions add flow exception datastore errors Rollback try from webob import excexcept Import Error passelse add flow exception exc H T T P Exception 
def remotes cwd user None password None redact auth True ignore retcode False cwd  expand path cwd user command ['git' 'remote' '--verbose']ret {}output  git run command cwd cwd user user password password ignore retcode ignore retcode ['stdout']for remote line in salt output '\n' try remote remote info remote line None 1 except Value Error continuetry remote url action remote info None 1 except Value Error continueaction action ' ' .rstrip ' ' .lower if action not in 'fetch' 'push' log "nknownaction action remote cwd continueif redact auth remote url salt http basic auth remote url ret remote {} [action] remote urlreturn ret 
def host delete hostids **connection args conn args  login **connection args try if conn args method 'host.delete'if not isinstance hostids list params [hostids]else params hostidsret  query method params conn args conn args return ret raise Key Errorexcept Key Error return ret 
def set maxdays name maxdays pre info info name if maxdays pre info return Truecmd ' maxdays name   salt  ['cmd.run'] cmd python shell False post info info name if post info ! pre info return post info maxdays return False 
def pci device get all by parent addr context node id parent addr return I M P L device get all by parent addr context node id parent addr 
def raw key None if key ret   pillar  .get key {} else ret   pillar  return ret 
def render from entry template string entry variables copy entry variables datetime if hasattr entry u and entry is not None if u not in variables variables entry name entry render template string variables 
def  not a coeff expr return expr in [ Na N S Infinity S Negative Infinity S Complex Infinity 
def width from max int value return int math math value + 1 2
def get link target link target os link if not os target target os os link target return os target 
@log list volumesdef get blockdevice volume api blockdevice id for volume in api volumes if volume id blockdevice id return volumeraise Unknown Volume blockdevice id 
def  import ldap groups connection groupname pattern import members False recursive import members False sync users True import by dn False failed users None if desktop L D A P S U B G R O U P S .lower 'suboordinate' return  import ldap suboordinate groups connection connection groupname pattern groupname pattern import members import members recursive import members recursive import members sync users sync users import by dn import by dn failed users failed users else return  import ldap nested groups connection connection groupname pattern groupname pattern import members import members recursive import members recursive import members sync users sync users import by dn import by dn failed users failed users 
def  class cov X y priors None shrinkage None classes np y covs []for group in classes Xg X[ y group ]covs.append np 2d  cov Xg shrinkage return np covs axis 0 weights priors 
def wait Listening client None server '127.0.0.1' port 80 timeout None run Cmd client if client else partial quiet Run shell True if not run Cmd 'whichtelnet' raise Exception 'ouldnotfindtelnet server I P server if isinstance server basestring else server I P cmd ' A % server I P port time 0result run Cmd cmd while 'onnected not in result if 'oroute in result rtable run Cmd 'route' error 'norouteto%s \n%s' % server rtable return Falseif timeout and time > timeout error 'couldnotconnectto%sonport%d\n' % server port return Falsedebug 'waitingfor' server 'tolistenonport' port '\n' info '.' sleep 0.5 time + 0.5result run Cmd cmd return True 
def  set user stylesheet stylesheet shared user stylesheet .encode 'utf-8' url urlutils url 'text/css;charset utf stylesheet Q Web Settings Settings .ser Style Sheet Url url 
def  section special exams course access course key course data {'section key 'special exams 'section display name _ 'pecial Exams 'access' access 'course id unicode course key }return section data 
def get Priority Strict element prio str element 'priority' if prio str is not None prio val int prio str if prio val > 0 return prio valelse raise Value Error 'riorityvaluesmustbenon return Max 
@testing.requires testing data freesurfer nibabel def test vertex to mni fs nibabel n check 1000subject 'sample'vertices rng 0 100000 n check hemis rng 0 1 n check coords vertex to mni vertices hemis subject subjects dir 'nibabel' coords 2 vertex to mni vertices hemis subject subjects dir 'freesurfer' assert allclose coords coords 2 atol 0.1
def margulis gabber galil graph n create using None if create using is None create using nx Multi Graph elif create using directed or not create using multigraph msg '`create using nx Network X Error msg G create using G for x y in itertools range n repeat 2 for u v in x + 2 * y % n y x + 2 * y + 1 % n y x y + 2 * x % n x y + 2 * x + 1 % n G edge x y u v G 'margulis gabber galil graph {0} '.format n return G
@testing.requires testing data freesurfer nibabel def test source space from label tempdir  Temp Dir aseg fname op subjects dir 'sample' 'mri' 'aseg.mgz' label names get volume labels from aseg aseg fname volume label label names np * len label names ]pos dict assert raises Value Error setup volume source space 'sample' pos pos volume label volume label mri aseg fname assert raises Runtime Error setup volume source space 'sample' mri None volume label volume label assert raises Value Error setup volume source space 'sample' volume label 'ello World mri aseg fname src setup volume source space 'sample' subjects dir subjects dir volume label volume label mri aseg fname add interpolator False assert equal volume label src name out name op tempdir 'temp-src.fif' write source spaces out name src src from file read source spaces out name  compare source spaces src src from file mode 'approx'
def partition lst f save keys False d collections Ordered Dict for l in lst c f l s d c [] s l if save keys return delse return d 
def getfilename package relative To None if relative To is None relative To os path os relative To os package '.' if os path + '/  init  .py' return pathfilename path + '.py' if os filename return filenamereturn None 
def  get codon fold codon table def find fold class codon forward table base set ['A' 'T' 'C' 'G'] fold ''codon base lst [i for i in codon i b in enumerate codon base lst other base base - set b aa []for j in other base codon base lst jtry aa forward table codon base lst ] except Key Error aa 'stop' if aa forward table 0 fold + '0'elif aa forward table in 1 2 fold + '2'elif aa forward table 3 fold + '4'else raise Runtime Error 'nknown Error cannotassignthepositiontoafold codon base lst breturn foldfold table {}for codon in codon table table if 'U' not in codon fold table find fold class codon codon table table fold table '---'return fold table 
def requirements to mulled targets requirements package requirements [r for r in requirements if r 'package' ]targets [build target r r for r in package requirements targets 
def  build url url projects branches ret ''all built {}all not building {}for project in projects built not building build branches project branches if not built update imported docs project slug LATEST .pk msg ' U R L Build Syncingversionsfor % project log msg all built builtall not building not buildingfor project slug built in all built if built msg ' U R L Build Build Started %s[%s]' % url ''.join built log info project slug msg msg ret + msgfor project slug not building in all not building if not building msg ' U R L Build Not Building %s[%s]' % url ''.join not building log info project slug msg msg ret + msgif not ret ret ' U R L Build Noknownbrancheswerepushedto Http Response ret 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def get themes root static path os root 'static' templates path os root 'templates' themes os os static path 'themes' if '  common  ' in themes themes '  common  ' return static path templates path themes 
def modfacl acl type acl name '' perms '' *args **kwargs recursive kwargs 'recursive' False  raise on no files *args cmd 'setfacl'if recursive cmd + ' + '-m'cmd '{0}{1} {2} {3}'.format cmd  acl prefix acl type acl name perms for dentry in args cmd + '"{0}"'.format dentry   salt  ['cmd.run'] cmd python shell False return True 
def elided text text font None width 300 pos 'middle' from Py Qt5 Qt import Q Font Metrics Q Applicationfm Q Application Metrics if font is None else font if isinstance font Q Font Metrics else Q Font Metrics font delta 4ellipsis u remove middle x mid len x // 2 return x max 0 mid - delta // 2 ] + ellipsis + x mid + delta // 2 ] chomp {'middle' remove middle 'left' lambda x ellipsis + x ] 'right' lambda x x - delta ] + ellipsis }[pos]while len text > delta and fm text > width text chomp text return unicode text 
def  to qemu format fmt return TO QEMU FORMAT M A P 
def git working dir func @wraps func def set git working dir self *args **kwargs cur wd os os self tree dir try return func self *args **kwargs finally os cur wd return set git working dir 
def get Import Radius element Node if element Node None return 0.36preferences skeinforge craft Craft Preferences 'carve' import Coarseness get Import Coarseness element Node preferences layer Height skeinforge craft Craft Value 'ayer Height preferences layer Height get Cascade Float Without Self layer Height element Node 'eight edge Width Over Height skeinforge craft Craft Value 'dge Widthover Height preferences edge Width Over Height get Cascade Float Without Self edge Width Over Height element Node 'idth Over Height return get Cascade Float Without Self 0.5 * import Coarseness * layer Height * edge Width Over Height element Node 'adius 
@login required http methods ['GET' 'POST'] @mobile template 'users/{mobile/}edit settings def edit settings request template if request 'POST' form Settings Form request P O S T if form valid form for user request messages message request messages I N F O _ u Yoursettingshavebeensaved return Http Response Redirect reverse 'users.edit settings return render request template {'form' form values request initial dict for v in values try initial literal eval v except Syntax Error Value Error initial v Settings Form initial initial return render request template {'form' form 
def  impose f order X if X contiguous return check array X.T copy False order 'F' True else return check array X copy False order 'F' False 
def locale info grains {}grains['locale info {}if salt proxy return grainstry grains info grains info locale except Exception grains info 'unknown'grains['locale info 'unknown'grains['locale info   salt system encoding  return grains 
def handle snapshot config spec object ref reloc spec template vm  if 'snapshot' not in vm  return Noneallowed types [FLATTEN DISK FULL CLONE COPY ALL DISKS FULL CLONE CURRENT STATE LINKED CLONE QUICK LINKED C L O N E spec get clonespec for valid snapshot config spec object ref reloc spec template vm  if not clone spec raise Salt Cloud System Exit 'nvaliddiskmovetypespecifiedsupportedtypesare ''.join allowed types return clone spec 
def  arg bytes signed dvi _ return dvi arg bytes signed 
def  get source address course id course title truncate True course title no quotes re '"' '' course title course name re '[^\\w.-]' '_' course id from addr format u title Course Staff name email format address course title no quotes 'artialfunctionforformattingthefrom addr Since title no quotes wedefinethisfunctiontomake title no quotes from addr format course title course title no quotes course name course name from email configuration helpers value 'email from address settings B U L K EMAIL DEFAULT FROM EMAIL from addr format address course title no quotes __ encoded from addr forbid multi line headers 'from' from addr 'utf-8' escaped encoded from addr escape encoded from addr if len escaped encoded from addr > 320 and truncate from addr format address course name return from addr 
def sample dict d n 10 use random True selected keys random list d min len d n if use random else itertools iterkeys d n return [ key d for key in selected keys 
def unescape new line escaped return ESCAPE C H A R u u p ESCAPE CHAR + u .split ESCAPE CHAR + u for p in escaped ESCAPE CHAR + ESCAPE CHAR
@pytest.mark.skipif ' A S BLEACH' def test raw html write clean import bleacht Table [['<script>x</script>'] ['<p>y</p>'] ['<em>y</em>']] names ['a' 'b' 'c'] out String I O t out format 'ascii.html' htmldict {'raw html cols t expected '<tr>\n<td>&lt;script&gt;x&lt;/script&gt;</td>\n<td>&lt;p&gt;y&lt;/p&gt;</td>\n<td><em>y</em></td>\n</tr>'assert expected in out out String I O t out format 'ascii.html' htmldict {'raw html cols t 'raw html clean kwargs {'tags' bleach A L L O W E D TAGS + ['p'] }} expected '<tr>\n<td>&lt;script&gt;x&lt;/script&gt;</td>\n<td><p>y</p></td>\n<td><em>y</em></td>\n</tr>'assert expected in out 
def start I O Hub global ioimport timepsychopy mon name 'onitor code 'events'sess code 'S {0}'.format long time time iohub config {'psychopy monitor name psychopy mon name ' C U dict serial port 'auto' monitor event types [nalog Input Event 'igital Input Event 'experiment code exp code 'session code sess code launch Hub Server **iohub config 
def  add sld boilerplate symbolizer return 'tyled Layer Descriptorversion "1.0.0"xmlns "http //www.opengis.net/sld"xmlns ogc "http //www.opengis.net/ogc"\nxmlns xlink "http //www.w3.org/1999/xlink"xmlns xsi "http / M L Schema schema Location "http //www.opengis.net/sldhttp /tyled Layer Descriptor Named Layer Name name s Name User Style Name name s Name Title name s Title Feature Type Style Rule + symbolizer + 'ule Feature Type Style User Style Named Layer Styled Layer Descriptor 
def mine get tgt fun tgt type 'glob' opts None ret {}serial salt Serial opts checker Ck Minions opts minions checker minions tgt tgt type cache salt Cache opts for minion in minions mdata cache 'minions/{0}'.format minion 'mine' if mdata is None continuefdata mdata fun if fdata ret fdatareturn ret 
def set permission perms permission 0for name in dir PERMS if name '_' continueif name in perms and perms permission | getattr PERMS name return permission 
def add user name password None runas None clear pw Falseif password is None clear pw Truepassword ''.join random System Random .choice string uppercase + string for x in range 15 if runas is None and not salt windows runas salt user if salt windows python shell Truecmd '"{0}"add user   context  ['rabbitmqctl'] name password else python shell Falsecmd [  context  ['rabbitmqctl'] 'add user name password   salt  ['cmd.run all cmd output loglevel 'quiet' runas runas python shell python shell if clear pw try clear password name runas except Exception delete user name runas raisemsg 'dded  format response res msg 
def parse backend uri backend uri if backend uri ' ' -1 raise Invalid Cache Backend Error 'ackend U R Imuststartwithscheme //' scheme rest backend uri ' ' 1 if not rest '//' raise Invalid Cache Backend Error 'ackend U R Imuststartwithscheme //' host rest ]qpos rest '?' if qpos ! -1 params dict parse qsl rest qpos + 1 ] host rest qpos params {}if host '/' host host -1 ]return scheme host params 
def svm save model model file name model libsvm save model model file name model 
def get Section Reference entry headers get First Ancestor With Section Header entry my Header find Node Just Before entry headers return get Section Number my Header 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  get backup name basename utctime datetime utctime utctime ' %H%M%S' return '{}-{}.json'.format basename utctime 
@require P O S Tdef join group request url group get object or 404 Group url url profile to add request group member profile to add messages request _ 'ouarealreadyinthisgroup elif group pending member profile to add messages request _ 'ourrequesttojointhisgroupisstillpending elif group new members 'no' messages request _ 'hisgroupisnotacceptingrequeststojoin else if group new members 'yes' status Group Membership M E M B E Rmessages request _ 'ouhavebeenaddedtothisgroup if group status Group Membership P E N D I N G T E R M Selif group new members 'by request status Group Membership P E N D I N Gmessages request _ 'ourmembershiprequesthasbeensenttothegroupcurator s .' group member profile to add status status return redirect reverse 'groups show group args [group.url]
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def save load jid load minions None serv  get serv ret None serv jid json load  append list serv 'jids' jid 
def has pair ip alias hosts  list hosts return ip in hosts and alias in hosts 
def mapall *args return list lazy mapall *args
def list sizes provider 'all' client  get client sizes client sizes provider return sizes 
def backends return {'backends' user backends data g get helper 'AUTHENTICATION BACKENDS' get helper 'STORAGE' do import True }
def  centre x oshape start np x - np oshape // 2 + 1 out x s s + n for s n in zip start oshape ]]return out 
def set carrier name  local name 
def create Dict data index return dict key values for key values in data 
def  format elemcreate etype script False *args **kw spec Noneopts if etype in 'image' 'vsapi' if etype 'image' iname args  format mapdict {one args ]} [1]spec '%s%s' % iname imagespec else class name part id args 2]statemap  format mapdict {one args ]} [1]spec '%s%s%s' % class name part id statemap opts  format optdict kw script elif etype 'from' spec args len args > 1 opts args if script spec '{%s}' % spec opts ''.join map str opts return spec opts 
def Patch Start New Thread thread module thread threading module threading thread module new thread  Make Start New Thread thread module new thread reload threading module 
def utf8 encode value if isinstance value six type return  utf8 encoder value [0]elif isinstance value six type return valueelse value cls name reflection class name value fully qualified False raise Type Error 'valuemustbebasestring not % value cls name 
def p typedef p setattr thrift stack -1 ] p p 
@utils.service type 'monitor' def do absolute limits cs args limits cs .absolutecolumns [ame 'alue list limits columns 
def is widget required attribute widget if DBS3 SET REQUIRED SET DISABLED and not get bootstrap setting u required return Falseif not widget required return Falseif isinstance widget Admin File Widget Hidden Input File Input Checkbox Input Checkbox Select Multiple return Falsereturn True 
def get completed courses student all certs certificate api certificates for user student return [{'course id unicode cert key 'mode' cert for cert in all certs if certificate api passing status cert ]
def letterbox image shape assert len image 3 assert len shape 2 assert image < shape assert image < shape if image shape and image shape return image rval np shape shape image dtype image rstart shape - image / 2 cstart shape - image / 2 rend rstart + image cend cstart + image rval rend cstart cend imagereturn rval 
def image resize and sharpen image size preserve aspect ratio False factor 2.0 if image ! 'RGBA' image image 'RGBA' image size Image A N T I A L I A S if preserve aspect ratio size image Image Enhance Sharpness image resized image sharpener factor image Image 'RGBA' size 255 255 255 0 image resized image size - resized image / 2 size - resized image / 2 return image 
def load all account types for account type in account registry  get or create account type account type 
def ensure social link website link if link '' or link is None return linkif link '/' ! -1 return linkelse return website + '/' + link 
def unary math extern fn f32extern f64extern int restype False f restype types if int restype else None def float impl context builder sig args 'mplement Floatinput argsmod builder type sig context value type input type func name {types.float32 f32extern types f64extern type Type lty [lty] fn cgutils pure function builder fnty name func name res builder fn val res context builder res input type sig type return impl ret untracked context builder sig type res lower fn types Float float impl unary math int impl fn float impl return float impl 
def  parse allow allow seen protos {}allow dict []protocols allow ' ' for p in protocols pairs p ' ' if pairs not in ['tcp' 'udp' 'icmp'] raise Salt Cloud System Exit 'nsupportedprotocol Mustbetcp udp oricmp pairs if len pairs 1 or pairs 'icmp' seen protos []elif pairs not in seen protos seen protos [pairs[1]]else seen protos pairs for k in seen protos d { P Protocol k len seen protos > 0 d seen protos dict d log 'firewallallowedprotocols/ports {0}'.format allow dict return allow dict 
def extract from query term filter regexp end of word boundary True re string '\\b%s \\s* %s ' % filter regexp if end of word boundary re string + '\\b'match re re string term if match term term match 0 '' .strip value match 1 else value Nonereturn term value 
def  get options raw options apply config if not raw options return parse args [u''] apply config apply config if isinstance raw options dict options parse args [u''] apply config apply config for name value in raw options if not hasattr options name raise Value Error u Nosuchoption name expected type type getattr options name if not isinstance expected type str unicode if isinstance value str unicode raise Value Error u Option name setattr options name value else options raw optionsreturn options 
def create batch id return str int time [ -6 ]
def  parse json s def  obj hook pairs 'convertjsonobjecttopythonobject'o Json Dict for k v in pairs o k ] vreturn oreturn json s object hook  obj hook 
def unpack4 v assert len v 4 return struct '<I' v [0]
def markdown unescape field obj field name if isinstance obj Model setattr obj field name markdown unescape getattr obj field name elif isinstance obj dict obj name markdown unescape obj name else raise Type Error u Unexpectedtype unescape field % obj 
def  in process find conf file conf src dir conf file name use sample True dflt src dir os os os   file   os os os 'etc' conf src dir dflt src dir if conf src dir is None else conf src dir conf file path os conf src dir conf file name if os conf file path return conf file pathif use sample conf file name + '-sample'conf file path os dflt src dir conf file name if os conf file path return conf file pathmsg 'ailedtofindconfigfile % conf file name raise In Process Exception msg 
def round to float number precision rounded Decimal str floor number + precision / 2 // precision * Decimal str precision return float rounded 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def  format error html msg return u "error msg msg msg 
def add request suffix string return string + REQUEST SUFFIX
def stop Listening global  listenerlogging acquire Lock try if  listener  listener 1 listener Nonefinally logging release Lock 
def read env key value envkey key '.' '_' .replace '-' '_' .upper return native value os envkey value 
def cgi Handler environ config './tilestache.cfg' debug False if debug import cgitbcgitb path info environ 'PATH INFO' None query string environ 'QUERY STRING' None script name environ 'SCRIPT NAME' None status code headers content request Handler2 config path info query string script name headers 'ontent Length str len content stdout 'tatus %d\n' % status code for k v in headers stdout '%s %s\n' % k v stdout '\n' stdout content 
def test category save database category Category title 'est Category category assert category 'est Category 
def  clade to bitstr clade tree term names clade term names set term for term in clade clades terminal True return  Bit String bool name in clade term names for name in tree term names 
def  validate flavor parameter flavor if flavor is not None if flavor 'sqlite' warnings "the'flavor'parameterisdeprecatedandwillberemovedinafutureversion as S Q L Alchemyisnotinstalled Future Warning stacklevel 2 else raise Value Error 'databaseflavor{flavor}isnotsupported'.format flavor flavor 
def get course milestones fulfillment paths course id user id if not settings F E A T U R E S 'MILESTONES APP' return Nonereturn milestones api course milestones fulfillment paths course id user id 
def chart runner chart scales axes marks for i scale in enumerate scales nt dict equal chart scale for i axis in enumerate axes nt dict equal chart axis for i mark in enumerate marks nt dict equal chart mark 
def cleanup  lib R A N D cleanup 
def get docs url path name version None return urljoin DOCS BASE get rtd version version version path name 
def grad *args **kwargs return theano disconnected inputs 'ignore' *args **kwargs
def config file provider builder xml parent data xml files X M L Sub Element xml parent 'iles files data 'files' [] for file in files xml file X M L Sub Element xml files 'anaged File mapping [ 'file-id' 'd None 'target' 'ocation '' 'variable' 'variable' '' ]convert mapping to xml xml file file mapping fail required True 
def convert sv char c if 65 < ord c - 64 < 90 return chr ord c - 64 else try return chr ord c - 128 except Value Error return c 
def rgb2xyz rgb arr  prepare colorarray rgb .copy mask arr > 0.04045 arr np arr + 0.055 / 1.055 2.4 arr ~ mask ] / 12.92return  convert xyz from rgb arr 
def order tables from databases appdir str None order tool Order Tables From Databases appdir str return order tool tables 
def education level return s3 rest controller 'pr' 'education level 
def row2poly row deg x k 0poly []leng len row while row 0 k k + 1 for j in range deg + 1 if k + j < leng poly row k + j ] return Poly poly x 
def get jobs server  connect jobs server jobs if jobs return jobsreturn {}
def lookup Mail Box name timeout None return get Resolver .ail Box name timeout 
def flavor list request try return api list request except Exception exceptions request _ 'nabletoretrieveinstanceflavors return []
def Scan client table callback def  On Scan retry cb count result for item in result if options names item dict [ k v for k v in item if k in options names ] pprint item if result key retry cb result key count + len result else return callback 'scanned%ditems' % count + len result def  Scan last key None count 0 client Scan table partial  On Scan  Scan count None limit 50 excl start key last key  Scan 
def refresh hive hive names timeout 0.5 for hostname in hive names if hive is not None hive [ I M E O U T pexpect E O F timeout timeout 
@add divider highlight group u divider def uptime pl days format u d hours format u d minutes format u d seconds format u d shorten len 3 try seconds  get uptime except Not Implemented Error pl u Unabletogetuptime Youshouldinstallpsutilmodule return None minutes seconds divmod seconds 60 hours minutes divmod minutes 60 days hours divmod hours 24 time formatted list filter None [ days format days days if days and days format else None hours format hours hours if hours and hours format else None minutes format minutes minutes if minutes and minutes format else None seconds format seconds seconds if seconds and seconds format else None ] [0 shorten len u time formatted .strip
def make Build Dir tmp Dir tempfile os os tmp Dir 'RPMS' 'noarch' os os tmp Dir 'SPECS' os os tmp Dir 'BUILD' os os tmp Dir 'SOURCES' os os tmp Dir 'SRPMS' log format 'reated R P Mbuildstructurein path r path tmp Dir return tmp Dir 
def displayable path path separator u if isinstance path list tuple return separator displayable path p for p in path elif isinstance path unicode return pathelif not isinstance path str return unicode path try return path  fsencoding 'ignore' except Unicode Error Lookup Error return path 'utf8' 'ignore'
def dirty name target user None username None password None ignore unversioned False ret {'name' name 'result' True 'comment' '' 'changes' {}}return  fail ret 'hisfunctionisnotimplementedyet 
def action allowed user user app action allowed any match rules group app action for group in user return allowed 
def superpack name pyver numver return 'scipy-%s-win32-superpack-python%s.exe' % numver pyver 
def compiler version version info subprocess output ['solc' '--version'] match re 'ersion [0-9a-z.-]+ /' version info re M U L T I L I N E if match return match 1
def get reg code validity registration code request limiter reg code already redeemed Falsecourse registration Nonetry course registration Course Registration Code code registration code except Course Registration Code Does Not Exist reg code is valid Falseelse if course registration valid reg code is valid Trueelse reg code is valid Falsereg code already redeemed Registration Code Redemption registration code redeemed registration code if not reg code is valid AUDIT L O G 'edemptionofainvalid Registration Code registration code limiter bad request counter request raise Http404 return reg code is valid reg code already redeemed course registration 
def apply to window sequence window size function step None seqlen len sequence if step is None step max window size // 2 1 else step max step 1 results []pos 0while pos < seqlen - window size + 1 start middle end pos pos + window size + pos // 2 pos + window size fragment sequence end function fragment results middle value pos + stepif pos ! seqlen - window size pos seqlen - window size start middle end pos pos + window size + pos // 2 pos + window size fragment sequence end function fragment results middle value return results 
def responder url function zsock zcontext zmq R E P zsock url while True word zsock zsock function word 
def match xfs options dev needed options tmp mount dir tempfile cmd 'mount%s%s' % dev tmp mount dir utils output cmd xfs growfs os os A U T O D I R 'tools' 'xfs growfs cmd '%s-n%s' % xfs growfs dev try current option utils output cmd finally cmd 'umount%s' % dev utils output cmd ignore status True os tmp mount dir cmd ' % needed options dev needed out utils output cmd needed out re 'internallog' 'internal' needed out if current option needed out return Trueelse return False 
def splder tck n 1 if isinstance tck B Spline return tck n else return  impl tck n 
def load library lib name None lib cls None try if lib cls return lib cls lib else return ctypes C D L L lib except Exception if name lib msg '%s %s ' % name lib else lib msg liblib msg + 'couldnotbeloaded'if sys 'cygwin' lib msg + 'incygwin' L O G G E R lib msg exc info True return None 
def add user name password None runas None clear pw Falseif password is None clear pw Truepassword ''.join random System Random .choice string uppercase + string for x in range 15 if runas is None and not salt windows runas salt user if salt windows python shell Truecmd '"{0}"add user   context  ['rabbitmqctl'] name password else python shell Falsecmd [  context  ['rabbitmqctl'] 'add user name password   salt  ['cmd.run all cmd output loglevel 'quiet' runas runas python shell python shell if clear pw try clear password name runas except Exception delete user name runas raisemsg 'dded  format response res msg 
def set rng new rng global  rng rng new rng 
def rebuild s return construct deconstruct s 
def prepare suites from test cases case class list test suites []for cls in case class list test suites unittest Test Loader .ests From Test Case cls return test suites 
def cp key c ring return lbp key lbp c ring Num c lbp key lbp c ring Num c 
def python prereqs installation for req file in PYTHON REQ FILES pip install req file req file 
def  strftime1900 d format if d < 1900 return strftime format 1900 + d [1 ] .replace '1900' str d 1 return datetime d format 
def delete service name restart True out   mgmt name 'service' 'delete' if restart if out 'success' return   firewall cmd '--reload' return out 
def Doc File Suite *paths **kw suite unittest Test Suite if kw 'module relative True kw  normalize module kw 'package' for path in paths suite Test Doc File Test path **kw return suite 
def convert symbol mpl symbol if isinstance mpl symbol list symbol list for s in mpl symbol symbol + [convert symbol s ]return symbolelif mpl symbol in SYMBOL MAP return SYMBOL M A P symbol return 'dot'
def report tracking id client id requestable extra info None extra headers None return [ request data extra headers for data extra headers in payloads tracking id client id requestable extra info extra headers ]
def find source space hemi src xave src 0].sum if xave < 0 hemi int FIFF.FIFFV MNE SURF LEFT HEMI else hemi int FIFF.FIFFV MNE SURF RIGHT HEMI return hemi 
def  make env opts os opts env {}for k v in opts key u S T ' + k .replace u u ' env vfor k v in os opts key u O S ' + k .replace u u ' env vreturn env 
def decrypt password private key password unencoded base64 password cmd ['openssl' 'rsautl' '-decrypt' '-inkey' private key subprocess Popen cmd stdin subprocess P I P E stdout subprocess P I P E stderr subprocess P I P E out err proc unencoded proc if proc raise Decryption Failure err return out 
@checker '.rst' severity 0 def check line length fn lines for lno line in enumerate lines if len line > 81 if line [0] not in '+|' and 'http //' not in line and not line .startswith '..function' '..method' '..cfunction' yield lno + 1 'linetoolong'
def is https enabled return bool SSL C E R T I F I C A T E and SSL PRIVATE K E Y 
def  parse settings source opts iface type enabled iface adapters salt Ordered Dict adapters salt Ordered Dict adapters iface typeadapters salt Ordered Dict iface data adapters data [opts['source']]return adapters 
def  hmac sha256 key msg return hmac key msg hashlib .digest
def get sorts request attr info sort keys list args request 'sort key sort dirs list args request 'sort dir if len sort keys ! len sort dirs msg _ 'henumberofsort keysandsort dirsmustbesame raise exc H T T P Bad Request explanation msg valid dirs [ O R T DIRECTION ASC constants S O R T DIRECTION D E S C keys [x for x in sort keys if x not in attr info ]if absent keys msg _ '%sisinvalidattributeforsort keys % absent keys raise exc H T T P Bad Request explanation msg invalid dirs [x for x in sort dirs if x not in valid dirs ]if invalid dirs msg _ "% invalid dirs sisinvalidvalueforsort dirs validvalueis asc s desc s % {'invalid dirs invalid dirs 'asc' constants S O R T DIRECTION ASC 'desc' constants S O R T DIRECTION DESC} raise exc H T T P Bad Request explanation msg return zip sort keys [ x constants S O R T DIRECTION ASC for x in sort dirs 
def  order cluster tree Z q deque tree to tree Z q tree nodes []while q node q if not node leaf bisect left nodes node q node right q node left return nodes 
def plt closeall n 10 for i in range n plt 
def  normalize args args if isinstance args six types return shlex args if isinstance args tuple list return [str arg for arg in args return [str args ]
@deprecated u def unmasked index ranges mask compressed True mask mask mask m np 1 mask 1 indices np len mask + 1 mdif m ] - m -1 ] i0 np mdif -1 indices i1 np mdif 1 indices assert len i0 len i1 if len i1 0 return Noneif not compressed return np i0 np i1 np axis 1 seglengths i1 - i0 breakpoints np seglengths ic0 np 0 breakpoints -1 ] ic1 breakpointsreturn np ic0 np ic1 np axis 1
def summary option return s3 rest controller 
def  get session server if server in  sessions return  sessions  get spacewalk configuration server if not config raise Exception "oconfigfor server session  get client and key config url config config atexit  disconnect session session client session session sessions client key return client key 
def setup conf opts [tr Opt 'dhcp driver default 'nsmasq help _ 'hedriverusedtomanagethe D H C Pserver cfg Bool Opt 'force' default False help _ 'eletethenamespacebyremovingalldevices ]conf cfg C O N Fconf opts opts agent config root helper conf conf opts dhcp O P T S return conf 
def Ping **kwargs return rule port 8 proto 'icmp' **kwargs
def Raw Array typecode or type size or initializer type  typecode to type typecode or type typecode or type if isinstance size or initializer int long type  type  * size or initializer obj  new value type  ctypes ctypes obj 0 ctypes obj return objelse type  type  * len size or initializer result  new value type  result  init   *size or initializer return result 
def  env root repo saltenv if saltenv 'base' trunk os repo repo if os trunk return trunkelse return Nonebranches os repo repo if os branches and saltenv in os branches return os branches saltenv tags os repo repo if os tags and saltenv in os tags return os tags saltenv return None 
def  log History Item action showid season episode quality resource provider version -1 log Date datetime .strftime History format resource ss resource main db con db D B Connection main db con ' N S E R T I N T Ohistory action date showid season episode quality resource provider version VALUES ? ? ? ? ? ? ? ? ? ' [action log Date showid season episode quality resource provider version 
def trailing whitespace physical line physical line physical line '\n' physical line physical line '\r' physical line physical line '\x0c' stripped physical line if physical line ! stripped return len stripped '291trailingwhitespace 
def  rightmost descendants node try rightmost leaf max node except Attribute Error return []return [node[rightmost leaf i for i in range 1 len rightmost leaf + 1 ]
def  get aa regex codon table stop '*' unknown 'X' from Bio Data Codon Table import Codon Tableif not isinstance codon table Codon Table raise Type Error 'nputtableisnotainstanceof Bio Data Codon Tableobject aa2codon {}for codon aa in codon table table aa2codon aa [] .append codon for aa codons in aa2codon aa2codon  codons2re codons aa2codon  codons2re codon table codons aa2codon '...'return aa2codon 
def  api retry all name output kwargs return report output keyword 'status' data retry all jobs 
def sbool s if isinstance s str return s in ['true' '1' 't' 'y' 'yes' 'yeah' 'yup' 'certainly' 'uh-huh'] else return bool s 
def http date timestamp None if timestamp is None timestamp time s email timestamp localtime False usegmt True return s 
def delete Logged Snatch release size provider release prepare Failed Name release failed db con db D B Connection 'failed.db' failed db con ' E L E T E F R O Mhistory W H E R Erelease ? N Dsize ? N Dprovider ?' [release size provider 
def get16 Byte U U I D uuid return hashlib uuid .hexdigest [ 16]
def ends With str suffix return str - len suffix ] suffix 
def  read old pack fid tag shape rlims offset float np fid 4 dtype '>f4' scale float np fid 4 dtype '>f4' data np fid tag - 8 dtype '>i2' data data * scale data + offsetreturn data 
def tamper payload **kwargs ret Val ''if payload ret Val '%s%ssp password % payload '--' if not any _ if _ in payload else None for _ in '#' '--' else '' return ret Val 
def Find Files In directory pattern return glob os directory pattern 
def  bootstrap fedora name **kwargs dst  make container root name if not kwargs 'version' False if   grains  ['os'].lower 'fedora' version   grains  ['osrelease']else version '21'else version '21'cmd 'yum-y--releasever {0}--nogpg--installroot {1}--disablerepo "*"--enablerepo fedorainstallsystemdpasswdyumfedora version dst ret   salt  ['cmd.run all cmd python shell False if ret ! 0  build failed dst name return ret 
def versions information return salt information 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def enable notifications user User Preference or create user user key NOTIFICATION PREF KEY defaults {'value' Username Cipher user }
def set symbols handler file extension symbols handler global SYMBOLS HANDLERSYMBOLS H A N D L E R extension symbols handler 
def in6 isvalid address try socket pton socket A F INET6 address return Trueexcept return False 
def file list *packages errors []ret []cmd ['pacman' 'l len packages > 0 and os packages packages list packages cmd '-r' packages 0 cmd packages out   salt  ['cmd.run'] cmd output loglevel 'trace' python shell False for line in salt out '\n' if line 'error' errors line else comps line ret ''.join comps ] return {'errors' errors 'files' ret 
def dependencies snippet path '' if isinstance snippet Function return snippet path elif isinstance snippet collections Mapping def mkpath key return '.'.join [path six type key ] deps dependencies value mkpath key for key value in snippet return itertools iterable deps elif not isinstance snippet six types and isinstance snippet collections Iterable def mkpath idx return ''.join [path '[%d]' % idx ] deps dependencies value mkpath i for i value in enumerate snippet return itertools iterable deps else return []
def setgid gid os parse gid gid 
@command 'set|showconfig' def showconfig width util .widthwidth - 30s '%s%-17s%s %s\n'out '%s%-17s%s%s%s\n' % c 'ey 'alue '' * width c for setting in config val config not util known player config P L A Y E R and val known player continueif g size and setting 'MAX RESULTS' continueif g size and setting 'CONSOLE WIDTH' continueout + s % c setting c val g outg 'nter % c c g + 'nter % c c 
def is Procedure Done gcode Text procedure if gcode Text '' return Falseextruder Initialization Index gcode Text ' <nitialization ' if extruder Initialization Index -1 metadata Begin Index gcode Text '<metadata>' metadata End Index gcode Text '</metadata>' if metadata Begin Index ! -1 and metadata End Index ! -1 attribute String "ame '%s'" % procedure return gcode Text attribute String metadata Begin Index metadata End Index ! -1 return Falsereturn gcode Text get Tag Bracketed Procedure procedure 0 extruder Initialization Index ! -1
def acquit fmri return  fmadm action fmri 'acquit' fmri 
def log likelihood emp cov precision p precision likelihood  - np emp cov * precision + fast logdet precision log likelihood  - p * np 2 * np log likelihood  / 2.0return log likelihood 
def associate user backend user uid social user None *args **kwargs if social user or not user return Nonetry social User Social Auth social auth user uid backend except Integrity Error return social auth user backend uid user social user social user *args **kwargs else return {'social user social 'user' social 'new association True 
def butter2d hp size cutoff n 3 return 1.0 - butter2d lp size cutoff n 
def get releases in collection collection limit None offset None params {}if limit params limitif offset params offsetreturn  do mb query 'collection' '%s/releases' % collection [] params 
def get group name id group if re '\\d+' str group group info grp group else group info grp group return group info group info 
def is valid target if nick re target return Trueelse return False 
def stop gradient variables return theano grad variables 
def token offsets tokens end offset 0previous end row 0previous end column 0for t in tokens token type t string t start row start column t end row end column t offset + start columnif previous end row start row end offset - previous end columnstart offset end offsetend offset + len token string yield token type token string start offset end offset previous end row end rowprevious end column end column 
def sm flavor update context sm flavor id values return I M P L flavor update context values 
def  get conversion multiplier big unit code small unit code if big unit code 14 return 1c big unit codefactor 1while c < small unit code try c mult  factors Key Error return Nonefactor * multif c small unit code return factorelse return None 
def From Import package name name leafs for leaf in name leafs leaf children [eaf token N A M E 'from' Leaf token N A M E package name prefix '' Leaf token N A M E 'import' prefix '' Node syms as names name leafs ]imp Node syms from children return imp 
@register u def vi editing mode event event mode Editing Mode V I 
@login required shopping cart enableddef remove item request item id request G E T 'id' or request P O S T 'id' or '-1' items Order Item id item id status 'cart' .select subclasses if not len items log u Cannotremovecart Order Itemid %oes Not Existoritemisalreadypurchased item id else item items item request Order cart item from order item request item order type return Http Response 'OK'
def get data name if name in editors return editors raw data return current container .raw data name 
def get sql initial data apps return style E R R O R "hisactionhasbeenrenamed Try % ''.join apps and apps or ['app1' 'app2']
def make tag decorator known tags def tag *tags 'agatestmethodwiththegiventags Canbeusedinconjunctionwiththe t in tags if t not in known tags raise Value Error 'unknowntag %r' % t def decorate func if not callable func or isinstance func type or not func  name  .startswith 'test ' raise Type Error '@tag ... shouldbeusedontestmethods try s func Attribute Error s func set s tags return funcreturn decoratereturn tag 
def set trace import pdbimport sysstdout sys sys  stdout  pdb Pdb .set trace sys getframe .f back 
def get application return tornado Application [ '/?' Main Handler dict backup recovery service Backup Service ]
def global max col vals index col vals without None [x for x in col vals if x is not None ] max col min col zip *col vals without None return max max col min min col 
def test Enabled Data Store Auto Session Code import timefrom pprint import pprintpsychopy mon name 'onitor code 'gap endo que code 'S {0}'.format long time time print 'urrent Session Codewillbe ' sess code io launch Hub Server psychopy monitor name psychopy mon name experiment code exp code session code sess code display io 'isplay Psychopy Monitor Name ' display Psychopy Monitor Name print 'isplay Default Eye Distance ' display Default Eye Distance print 'isplay Physical Dimensions ' display Physical Dimensions print 'xperiment Metadata ' pprint io Experiment Meta Data print 'ession Metadata ' pprint io Session Meta Data io 
def  machine bytes machine hash hashlib if PY3 machine hash socket .encode else machine hash socket return machine hash [0 3]
def unregister disp host resp disp Send And Wait For Response Iq 'set' NS REGISTER to host payload [ode 'remove' ] if is Result Node resp return 1
def remove queue name prefix name prefix  get queue name prefix if not name prefix raise Value Error u Queuename name return name prefix ]
def  mk tree basedir tempfile return basedir 
def plaintext html keep [] replace blocks linebreaks 2 indentation False if isinstance html Element html html not keep  contains   'script' html strip javascript html if not keep  contains   'style' html strip inline css html if not keep  contains   'form' html strip forms html if not keep  contains   'comment' and not keep  contains   '!--' html strip comments html html html '\r' '\n' html strip tags html exclude keep replace replace html decode entities html html collapse spaces html indentation html collapse tabs html indentation html collapse linebreaks html linebreaks html html return html 
def isrecursive object return  safe repr object {} None 0 [2]
def urlsafe base64 encode s return base64 b64encode s .rstrip '\n '
def get language bidi lang get language if lang is None return Falseelse base lang get language .split '-' [0]return base lang in settings L A N G U A G E S BIDI
def header expand headers collector []if isinstance headers dict headers list headers elif isinstance headers basestring return headerselif isinstance headers str return headers 'latin-1' elif headers is None return headersfor i value params in enumerate headers  params []for p k p v in list params  params '%s %s' % p k p v collector value collector ';' if len params collector ';'.join  params if not len headers i + 1 collector ' ' if collector -1 ] in ' ' ';' del collector -1 ]return ''.join collector 
def explode rdn rdn notypes 0 flags 0 if not rdn return []rdn decomp str2dn rdn flags [0]if notypes return [ avalue or '' for atype avalue dummy in rdn decomp return [' '.join atype escape dn chars avalue or '' for atype avalue dummy in rdn decomp 
def num to bytes num bval ''bval + bytes chr 255 & num >> 24 bval + bytes chr 255 & num >> 16 bval + bytes chr 255 & num >> 8 bval + bytes chr 255 & num >> 0 return bval 
def migrate local facts facts migrated facts copy facts migrated facts migrate docker facts migrated facts migrated facts migrate common facts migrated facts migrated facts migrate node facts migrated facts migrated facts migrate hosted facts migrated facts migrated facts migrate admission plugin facts migrated facts return migrated facts 
def  set attribute func function attribute value orig func functionwhile isinstance orig func partial orig func orig func orig func attribute value 
def MGF1 mgf Seed mask Len hash T b '' for counter in xrange ceil div mask Len hash size c long to bytes counter 4 hobj hash hobj mgf Seed + c T T + hobj assert len T > mask Len return T[ mask Len 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def format response action response return { 'esponse % action { 'esult % action response 
def  scipy univariate kde data bw gridsize cut clip try kde stats kde data bw method bw except Type Error kde stats kde data if bw ! 'scott' msg 'gnoringbandwidthchoice pleaseupgradescipytouseadifferentbandwidth msg User Warning if isinstance bw string types bw 'scotts' if bw 'scott' else bw bw getattr kde '%s factor % bw * np data grid  kde support data bw gridsize cut clip y kde grid return grid y 
def zpk2ss z p k return tf2ss *zpk2tf z p k 
def  retry on unavailable exc return exc to code exc Status Code U N A V A I L A B L E 
def test make imbalance multiclass y  np 1000 y [100 500] 1y [500 ] 2 X  y  make imbalance X y  ratio 0.1 min c  0 counter Counter y  assert equal counter 90 assert equal counter 400 assert equal counter 500 assert true np [ X i in X for X i in X ]
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def Crop Observations env if env 'flashgames' False spec runtime spec 'flashgames' .server registry  Crop Observations env x 18 y 84 height spec width spec elif env 'atari' False and env 'vnc' False return  Crop Observations env height 194 width 160 else return env 
def set stock basics dat ts stock basics engine create engine ct ENGINE  dat sql 'stock basics engine if exists 'replace'
def get environ environ for key in 'REMOTE ADDR' 'SERVER NAME' 'SERVER PORT' if key in environ yield key environ 
def  Names Not In names mapping return [name for name in names if name not in mapping ]
def Check Flow Can Be Started On Client flow name flow cls flow G R R Flow Get Plugin flow name if not flow cls A C L ENFORCED or flow cls return Trueelse raise access control Unauthorized Access "low % flow name 
def preprocess input x dim ordering 'default' if dim ordering 'default' dim ordering K dim ordering assert dim ordering in {'tf' 'th'} if dim ordering 'th' x x -1 ]x[ 0 ] - 103.939x[ 1 ] - 116.779x[ 2 ] - 123.68else x x -1 ]x[ 0] - 103.939x[ 1] - 116.779x[ 2] - 123.68return x 
def test result jobs bg Background Job Manager j jobs sleeper j nt equal j t short 
def find clickable id with wait context id str **kwargs return  find clickable elem with wait context By I D id str **kwargs
def convert Byte String Property model prop kwargs return get Text Field kwargs 
def issue line issue template '#{number}{tags}{title}'tags issue tags issue params {'title' issue .rstrip '.' 'number' issue 'tags' ''.join '[{}]'.format tag for tag in tags + '' if tags else '' }return template **params
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def simple class factory model attrs return model 
def rheber shazeline random [name for name value in globals .items if type value is type rheber ]
@management.before requestdef check fresh login if not login fresh return current app manager refresh 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def set printoptions precision None threshold None edgeitems None linewidth None profile None if profile is not None if profile 'default' PRINT O P T S 4PRINT O P T S 1000PRINT O P T S 3PRINT O P T S 80elif profile 'short' PRINT O P T S 2PRINT O P T S 1000PRINT O P T S 2PRINT O P T S 80elif profile 'full' PRINT O P T S 4PRINT O P T S float 'inf' PRINT O P T S 3PRINT O P T S 80if precision is not None PRINT O P T S precisionif threshold is not None PRINT O P T S thresholdif edgeitems is not None PRINT O P T S edgeitemsif linewidth is not None PRINT O P T S linewidth 
def serialize for reading element return etree element encoding u pretty print True 
def isabs s s splitdrive s [1]return len s > 0 and s 1] in  get bothseps s 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def  check ruby ret ruby user None match version Truematch micro version Falsemicro version regex re '- [0-9]{4}\\.[0-9]{2}|p[0-9]+ $' if micro version regex ruby match micro version Trueif re '^[a-z]+$' ruby match version Falseruby re '^ruby-' '' ruby for impl version default in   salt  ['rvm.list'] runas user if impl ! 'ruby' version '{impl}-{version}'.format impl impl version version if not match micro version version micro version regex '' version if not match version version re '-.*' '' version if version ruby ret Trueret 'equestedrubyexists defaultbreakreturn ret 
def test get inst data raw read raw fif fname raw raw tmax 1.0 assert equal  get inst data raw raw data raw channels raw names 2] epochs  segment raw raw 0.5 assert equal  get inst data epochs epochs data evoked epochs assert equal  get inst data evoked evoked evoked tmax 0.1 picks list range 2 freqs np [50.0 55.0] n cycles 3tfr tfr morlet evoked freqs n cycles return itc False picks picks assert equal  get inst data tfr tfr assert raises Type Error  get inst data 'foo'
def test freeze with local option script result script install local 'initools 0.2' result script 'freeze' expect stderr True expected textwrap ' N I Tools 0.2\nwsgiref . L A N K L I N E result script 'freeze' '--local' expect stderr True expected textwrap ' N I Tools 0 L A N K L I N E  check output result expected 
def bitswap s out []for c in s out unbits bits str c [ -1 ] return ''.join out 
@access log level logging W A R N def kill task attempt request attemptid ret request task attempt request from string attemptid return render json {}
def set tcp md5sig s addr key impls {ree B S D  set tcp md5sig bsd 'inux  set tcp md5sig linux 'et B S D  set tcp md5sig bsd platform try impl impls Key Error raise Not Implemented Error ' C P M D5unsupportedonthisplatform impl s addr key 
def  needs update cloud module router network internal subnet ids if router state up ! module state up return Trueif router gateway info if router gateway info 'enable snat True ! module snat return Trueif network if not router gateway info return Trueelif router gateway info id ! network return Trueif module fixed ips for new iface in module fixed ips subnet cloud subnet new iface exists Falsefor existing iface in router gateway info fixed ips if existing iface id subnet if 'ip' in new iface if existing iface address new iface exists Truebreakelse exists Truebreakif not exists return Trueif module existing subnet ids []for port in cloud router interfaces router 'internal' if 'fixed ips in port for fixed ip in port ips existing subnet ids fixed ip id if set internal subnet ids ! set existing subnet ids return Truereturn False 
def get Tree Walker tree Type implementation None **kwargs tree Type tree Type if tree Type not in tree Walker Cache if tree Type u from . import domtree Walker Cache Type dom Tree Walkerelif tree Type u from . import genshitree Walker Cache Type genshi Tree Walkerelif tree Type u from . import etree lxmltree Walker Cache Type etree lxml Tree Walkerelif tree Type u from . import etreeif implementation is None implementation default etreereturn etree E Tree Module implementation **kwargs .ree Walkerreturn tree Walker Cache tree Type 
def task weight 1 def decorator func func func task weight weightreturn func Checkiftaskwasusedwithoutparentheses notcalled likethis \n\n@task\ndefmy task \npass\n'if callable weight func weightweight 1return decorator func func else return decorator func 
def contrastive x0 x1 y margin 1 return Contrastive margin x0 x1 y 
def is compat major ver 1 import openpyxlver Loose Version openpyxl  version   if major ver 1 return Loose Version start ver < ver < Loose Version stop ver elif major ver 2 return Loose Version stop ver < ver else raise Value Error 'cannottestforopenpyxlcompatibilitywithver{0}'.format major ver 
def lang drop cursor lang cascade cursor ' A V E P O I N Tansible pgsql lang drop try if cascade cursor ' R O P L A N G U A G E C A S C A D E % lang else cursor ' R O P L A N G U A G E % lang except cursor ' O L L B A C K T O S A V E P O I N Tansible pgsql lang drop cursor ' E L E A S E S A V E P O I N Tansible pgsql lang drop return Falsecursor ' E L E A S E S A V E P O I N Tansible pgsql lang drop return True 
def Strip Whitespace stream last type Nonehas space Falseignore group frozenset Comparison Punctuation for token type value in stream if last type if token type in Whitespace has space Truecontinueelif token type in Whitespace Whitespace Newline ignore group continueif has space if not ignore group last type token type yield Whitespace '' has space False yield token type value last type token type 
def irecv shape dtype source tag return M P I Recv source tag shape dtype 
def environmentfilter f f Truereturn f 
def get history items return [readline.get history item i for i in xrange 1 readline current history length + 1 ]
def  in memory up to date cache length return  module values and  module values update and  module values update > time - cache length * 60 * 60
def encode node node id links None score 1 node {}if links is not None node sorted links node scorereturn J S O N Protocol node id node + '\n'
def  rebuild function code reduced globals name cell values if cell values cells tuple  dummy closure v .  closure  [0] for v in cell values else cells code  rebuild code *code reduced modname globals  name  ']try  rebuild module modname except Import Error del globals  name  ']return Function Type code globals name cells 
def fetch url 'https //techblog.willshouse.com/2012/01/03/most-common-user-agents/'page requests url page html page path '//*[@id "post-2229"]/div[2]/table/tbody'return page path [0]
def get config db value key return settings value 'AUTOTEST WEB' key 
def generate signature data rsa key import base64try from tlslite import keyfactoryexcept Import Error from gdata import keyfactoryprivate key keyfactory Private Key rsa key signed private key And Sign data if hasattr base64 'b64encode' return base64 signed else return base64 signed .replace '\n' ''
def list stacks env None  init rosstack env env return  rosstack 
def make static urls absolute request html def replace __ prefix quote rest 'unctiontoactuallydoasinglerelative request absolute uri prefix + rest return quote + processed + quote return process static urls html replace 
def test replay dump template name monkeypatch mocker user config data user config file monkeypatch 'tests/fake-repo-tmpl' mock replay dump mocker 'cookiecutter.main.dump' mocker 'cookiecutter.main.generate files cookiecutter '.' no input True replay False config file user config file mock replay dump called once with user config data dir 'fake-repo-tmpl' mocker A N Y 
def map indices py arr return dict [ x i for i x in enumerate arr ]
def get Minimum By Vector3 Paths paths minimum Vector3 9.876543219876543e+17 9.876543219876543e+17 9.876543219876543e+17 for path in paths for point in path minimum point return minimum 
def sort root accounts roots def compare roots a b if a type ! b type and a type u Balance Sheet return -1 if a type ! b type and a type u Asset return -1 if a type u Liability and b type u Equity return -1 if a type u Income and b type u Expense return -1 return 1roots.sort compare roots 
def do nothing return 
def builtin format id fmt return BUILTIN FORMATS R E V E R S E fmt 
def tsem a limits None inclusive True True axis 0 ddof 1 a ma a .ravel if limits is None n float a return a axis axis ddof ddof / ma n am trima a limits inclusive sd np am axis axis ddof ddof return sd / np am 
def gradients loss variables return tf loss variables colocate gradients with ops True 
def get d H2 lab1 lab2 lab1 np lab1 lab2 np lab2 a1 b1 np lab1 -1 [1 3] a2 b2 np lab2 -1 [1 3]C1 np a1 b1 C2 np a2 b2 term C1 * C2 - a1 * a2 + b1 * b2 return 2 * term 
def only skips tests run reasons return has results tests run Equals tests run skipped After Preprocessing lambda xs list unicode x for x in xs Equals reasons 
def bulk client actions stats only False **kwargs success failed 0 0 errors []for ok item in streaming bulk client actions **kwargs if not ok if not stats only errors item failed + 1else success + 1return success failed if stats only else errors 
def teardown shutil TMP TEST DIR sys old syspath 
def get sentiment label sentiment if sentiment < 0 return -1 elif sentiment > 0 return 1else return 0
def sync proxymodules saltenv 'base' return salt   opts   'proxy' saltenv saltenv [0]
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def extract options field list option list []for field in field list if len field .split ! 1 raise Bad Option Error 'extensionoptionfieldnamemaynotcontainmultiplewords' name str field .lower body field len body 0 data Noneelif len body > 1 or not isinstance body nodes or len body ! 1 or not isinstance body nodes Text raise Bad Option Data Error 'extensionoptionfieldbodymaycontain\nasingleparagraphonly option ' % name else data body option list name data return option list 
def make arg reduction func argfunc is nan func False chunk partial arg chunk func argfunc combine partial arg combine func argfunc if is nan func agg partial nanarg agg func argfunc else agg partial arg agg func argfunc @wraps argfunc def _ x axis None split every None return arg reduction x chunk combine agg axis split every return _
def align targets predictions targets if getattr predictions 'broadcastable' None False True and getattr targets 'ndim' None 1 targets as theano expression targets .dimshuffle 0 'x' return predictions targets 
def initialize db db 
def directional variance X w return sum directional variance i x i w for x i in X
def get Arounds From Path path radius threshold Ratio 0.9 radius abs radius points get Points From Path path radius threshold Ratio return get Arounds From Path Points points radius threshold Ratio 0.9
def agent checks consul url None ret {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retfunction 'agent/checks'ret  query consul url consul url function function method 'GET' return ret 
def nvlist2 thelist names None for _ _ value in nvlist thelist names for each in nvlist value yield each 
def test filter net filter valid Falsetry scapy filter None net filter except Scapy Exception passexcept valid Truereturn valid 
def gf rshift f n K if not n return f [] else return f - n ] f - n ]
def replace Urls sheet Or Style replacer ignore Import Rules False if not ignore Import Rules and not isinstance sheet Or Style css C S S Style Declaration for importrule in r for r in sheet Or Style if r r I M P O R T RULE importrule replacer importrule def style Declarations base ' S S Style Declarations hasattr base 'ules for rule in base Rules for s in style Declarations rule yield s elif hasattr base 'style' yield base elif isinstance sheet Or Style css C S S Style Declaration yield base for style in style Declarations sheet Or Style for p in style Properties all True for v in p Value if v v U R I v replacer v 
def lc value if not value return ''return value .strip '.'
def information content synset global IC M A Xif not IC IC[NOUN] {}IC[VERB] {}for s in open IC CORPUS .readlines [1 ] s s id w pos int s -1 ] float s s -1 ] 'n' and NOUN or VERB if len s 3 and s 'ROOT' I C I C 0 0 + w if w ! 0 I C wif w > IC MAX IC MAX wreturn I C synset {} .get synset 0.0 / IC MAX
def set permissions obj name principal permissions access mode 'grant' applies to 'this folder subfolders files obj type 'file' reset perms False protected None if reset perms dacl Dacl obj type obj type else dacl Dacl obj name obj type dacl ace principal access mode dacl ace principal access mode permissions applies to dacl acl dacl obj name protected return True 
@auth.s3 requires membership 1 def errors from gluon import apathfrom gluon import listdirfor item in request if item 7] 'delete ' os apath '%s/errors/%s' % appname item ] r request func lambda p os apath '%s/errors/%s' % appname p r request .st mtime tickets sorted listdir apath '%s/errors/' % appname r request '^\\w.*' key func reverse True return dict app appname tickets tickets 
def imod a b a % breturn a 
def make binary operator eval oper f g return lambda inputs params tuple oper x y for x y in zip f inputs params g inputs params 
def col name None dtype None if dtype is None dtype config Xtype Cuda Ndarray Type dtype dtype broadcastable False True return type name 
def get c type name if isinstance name asdl Id name name name in asdl types return nameelse return '%s ty % name 
def  create unverified context protocol PROTOCOL S S Lv23 cert reqs None check hostname False purpose Purpose S E R V E R AUTH certfile None keyfile None cafile None capath None cadata None if not isinstance purpose  A S N1 Object raise Type Error purpose context S S L Context protocol context | OP NO S S Lv2context | OP NO S S Lv3if cert reqs is not None context mode cert reqscontext hostname check hostnameif keyfile and not certfile raise Value Error 'certfilemustbespecified' if certfile or keyfile context cert chain certfile keyfile if cafile or capath or cadata context verify locations cafile capath cadata elif context mode ! CERT NONE context default certs purpose return context 
def Corr xs ys xs np xs ys np ys meanx varx Mean Var xs meany vary Mean Var ys corr Cov xs ys meanx meany / math varx * vary return corr 
def  get gid name if getgrnam is None or name is None return Nonetry result getgrnam name except Key Error result Noneif result is not None return result None 
def Function fname klassname ' %s Function % fname c globals [klassname] return c 
def get scheme names return tuple sorted  S C H E M E S 
def directives cmd '  detect os ret {}out   salt  ['cmd.run'] cmd out out '\n DCTB ' ' DCTB ' for line in out if not line continuecomps line ' DCTB ' desc '\n'.join comps ] ret descreturn ret 
def xml2json from elementtree el preserve whitespaces False res {}if el '{' ns name el '}' 1 res nameres ns ]else res el {}for k v in el res vkids []if el and preserve whitespaces or el ! '' kids el for kid in el kids xml2json from elementtree kid preserve whitespaces if kid and preserve whitespaces or kid ! '' kids kid res kidsreturn res 
def reverse dict d result {}for key in d for val in d result result val tuple + key return result 
def  pretty exemplars exemplars lu outstr u + u \n\n'.format lu for i sent in enumerate exemplars outstr + u i sent outstr + u outstr 
def metric to Christoffel 1st expr matrix twoform to matrix expr if not matrix symmetric raise Value Error 'hetwo coord sys expr Coord System .pop deriv matrices [matrix.applyfunc lambda a d a for d in coord sys vectors ]indices list range coord sys christoffel [[[ deriv matrices i j ] + deriv matrices i k ] - deriv matrices j k ] / 2 for k in indices for j in indices for i in indices Immutable Dense N Dim Array christoffel 
def get headers from request req headers getattr req 'META' {} if headers headers {'-'.join [part.capitalize for part in k '_' ] .replace 'ttp '' v for k v in headers }remote addr headers ' Forwarded For or headers 'emote Addr headers Remote Addr remote addr ' ' [0].strip if remote addr else None else headers getattr req 'headers' {} headers {k v for k v in headers }emote Addr req addrreturn headers 
def darken color percent return adjust color 2 - percent 
def check owner user project permission if project is None return Falseif not hasattr user 'acl permissions owner user permissions owner {}if project not in user permissions owner user permissions owner project id user .exists if not user permissions owner return Falsegroup Group name 'wners app perm permission '.' return group content type  app label app codename perm .exists
def for CF orders name 'order' return for orders ['C' 'F'] name 
def  unpack tarfile filename extract dir try tarobj tarfile filename except tarfile Tar Error raise Read Error '%sisnotacompressedoruncompressedtarfile' % filename try tarobj extract dir finally tarobj 
def  snapshot metadata update context snapshot id metadata delete pass 
def  validate args args unpassable types  get unpassable types args if unpassable types msg "argumentsoftype'%s'cannotbepassedtoremoteprofilers"msg % ' '.join t  name   for t in unpassable types raise Type Error msg 
def  get search paths preferred path None suffix None search paths [os.path.join '/etc' 'openstack deploy ]if preferred path is not None search paths 0 os preferred path if suffix search paths [os.path.join p suffix for p in search paths search paths 
def mongo uses error check store if hasattr store 'mongo wire version return store wire version < 1 if hasattr store 'modulestores' return any [mongo uses error check substore for substore in store return False 
def test horizontal mask line vgrad _ np 1 11j 1 11j]vgrad[5 ] 1mask np like vgrad mask ] 0expected np like vgrad expected -1 1 -1 ] 0.2expected[4 7 1 -1 ] 0for grad func in filters h filters h filters h result grad func vgrad mask yield assert close result expected 
def get results raw url build import relog get vbench log 'https //api.travis-ci.org/builds/%s' % build if not log returnl [x.strip for x in log '\n' if re '.vbench-gist-raw url x ]if l s l re ' https //[^\\s]+ ' s if m return m 0
def config items **kwargs return kwargs 
def timeuntil value arg None from django import timesincefrom datetime import datetimeif not value return ''if arg return timesince arg value return timesince datetime value 
def  parser dispatch flavor valid parsers list  valid parsers if flavor not in valid parsers raise Value Error '%risnotavalidflavor validflavorsare % flavor valid parsers if flavor in 'bs4' 'html5lib' if not  HAS HTML5LIB raise Import Error 'html5libnotfound pleaseinstallit if not  HAS BS4 raise Import Error 'eautiful Soup4 bs4 notfound pleaseinstallit import bs4if bs4  version   Loose Version '4.2.0' raise Value Error "ou Beautiful Soup4 4.2.0 thathasbeenknowntocauseproblemsoncertainoperatingsystemssuchas Debian Pleaseinstallaversionof Beautiful Soup4 4.2.0 bothearlierandlaterreleaseswillwork elif not  HAS LXML raise Import Error 'lxmlnotfound pleaseinstallit return  valid parsers 
def remove copying files for filename in ['COPYING'] os os PROJECT DIRECTORY filename 
def ring return  nodetool 'ring'
def sqlalchemy options options prefix 'sqlalchemy ' sa keys [key for key in options if key prefix ]sa options {}for key in sa keys sa key key ]sa options key options key sa options coalesce options sa options SQLALCHEMY OPTION TYPES return sa options 
def is 64bit return sizeof c ulong ! sizeof c void p 
def do capitalize s return soft unicode s .capitalize
def  load mixed class category component class X Block class category select settings X B L O C K SELECT FUNCTION mixologist Mixologist settings X B L O C K MIXINS return mixologist component class 
def render s context None if context is None context {}t get env .from string s return t context 
def   get network conn vm  network config cloud config value 'network' vm    opts   default 'default' search global False return conn get network network 
def Shutdown D B if hasattr D B Client ' instance D B Client Instance .hutdown 
def  read int64 f return np struct '>q' f 8 [0]
def  accessible courses summary list request def course filter course summary 'ilteroutunusableandinaccessiblecourses course summary 'templates' return Falsereturn has studio read access request course summary courses summary filter course filter modulestore .get course summaries in process course actions get in process course actions request return courses summary in process course actions 
def shelter registration s3 strings shelter registration Storage label create T 'egister Person title display T 'egistration Details title list T 'egistered People title update T 'dit Registration label list button T 'ist Registrations msg record created T 'egistrationadded msg record modified T 'egistrationupdated msg record deleted T 'egistrationentrydeleted msg list empty T 'opeoplecurrentlyregisteredinthisshelter output s3 rest controller return output 
def test score tpot obj T P O T Classifier try tpot obj testing features testing classes assert Falseexcept Value Error pass 
def  Copy Field To Protocol Buffer field pb pb name field 'utf-8' field value pb pb value if field field value pb language field 'utf-8' if field is not None field Copy Value To Protocol Buffer field value pb return pb 
def list records after None before None ret {}fmdump  check fmdump cmd '{cmd}{after}{before}'.format cmd fmdump after '-t{0}'.format after if after else '' before ' before if before else '' res   salt  ['cmd.run all cmd retcode res {}if retcode ! 0 result Error 'errorexecutingfmdump'else result  parse fmdump res return result 
def get gentoo mirrors return get var 'GENTOO MIRRORS'
def by url backend None loader None url Noneif backend and u //' in backend url backend scheme _ _ url u //' if u in scheme backend url url u 1 else backend schemereturn by name backend loader url 
def p variable p if len p 2 p p None None elif len p 5 p p p None else p p p p 
def suggest type full text text before cursor if full text '\\i' return Path try stmt Sql Statement full text text before cursor except Type Error Attribute Error return []if stmt tok1 stmt first if tok1 and tok1 '\\' text stmt before cursor + stmt before cursor return suggest special text return suggest based on last token stmt token stmt 
def  get default session if DEFAULT SESSION is None setup default session return DEFAULT SESSION
def collect addon css node visited None css []for addon config in settings A D D O N S AVAILABLE D I C T css addon config css 'files' [] return css 
def  flatten params params def get string value if isinstance value unicode return unicode value .encode 'utf-8' else return str value param list []for key value in params key get string key if isinstance value basestring param list key get string value else try iterator iter value except Type Error param list key str value else param list key get string v for v in iterator return param list 
def ncut cost cut D W cut np cut cut cost  ncut cy cost cut W assoc a D assoc b D ~ cut ].sum return cut cost / assoc a + cut cost / assoc b 
def build move descriptions for m in Move f moves open 'data/moves.csv' 'rb' f descrips open 'data/move effects 'rb' for row in csv f moves delimiter ' ' if str row m for drow in csv f descrips delimiter ' ' if str row str drow s str drow .replace '$effect chance str row s s '[' '' s s ']' '' m sm print 'addeddescriptionto%s' % m 
@frappe.whitelist def save report data frappe dictif frappe u Report data d frappe doc u Report data else d frappe doc u Report d name data doctype data type u Report Builder data doc d .save frappe _ u .format d return d 
def  select free device existing local devices frozenset existing sorted devices sorted existing IN USE DEVICES devices sorted devices .write for suffix in 'fghijklmonpqrstuvwxyz' next local device 'xvd' + suffix next local sd device 'sd' + suffix file name u + unicode suffix possible devices [next local device next local sd device not local devices possible devices return file name N O AVAILABLE DEVICE devices sorted devices .write raise No Available Device 
def  params url return parse qs urlparse url .query
@sopel.module.commands u def interactive shell bot trigger global consoleif not trigger bot u Onlyadminscanstarttheinteractiveconsole returnif u running in bot and bot running bot u Consolealreadyrunning returnif not sys  stdout  .isatty bot u Attyisrequiredtostarttheconsole returnif bot daemon bot u Can returnold stdout sys stderr sys sys  stdout  sys sys  stderr  banner1 u Sopelinteractiveshell embedded I Python 'banner2 u Toexit typeexit u Interactiveshellclosed Interactive Shell Embed banner1 banner1 banner2 banner2 exit msg exitmsg bot running Truebot u console bot running Falsesys old stdoutsys old stderr 
def read string table xml source root fromstring text xml source nodes safe iterator root '{%s}si' % SHEET MAIN NS strings get string node for node in nodes return Indexed List strings 
def reindent source indent size reindenter Reindenter source return reindenter indent size 
def load manifest package name bootstrap version '0.7' if package name in  bootstrapped returnsys  generate python path package name  rospack + sys 
def get Import Coarseness element Node preferences None if element Node None return 1.0if preferences None preferences skeinforge craft Craft Preferences 'carve' import Coarseness skeinforge craft Craft Value 'mport Coarseness preferences return get Cascade Float Without Self import Coarseness element Node 'oarseness 
def  task info update task id values global D A T Atry task info D A T A info id Key Error L O G 'otaskinfofoundwithtaskid task id raise exception Task Not Found task id task id task info values D A T A info id task inforeturn task info 
def test give classifier wrong obj ratio 'auto'classifier 2bc Balance Cascade ratio ratio random state RND SEED return indices True estimator classifier assert raises Value Error bc sample X Y
def httranslate text return Markup _ text 
def insert pdb editor Widget line index editor Widget Cursor Position indentation get indentation editor Widget line editor Widget At '%simportpdb;pdb.set trace \n' % indentation line 0
@with setup prepare stdout def test output with success colorful runner Runner join abspath dirname   file   'output features 'runner features verbosity 3 no color False runner assert stdout lines 'eature Dumbfeature features features 1nordertotestsuccess features features 2saprogrammer features features 3wanttoseethattheoutputisgreen features features 4cenario Donothing features features 6iven Idonothing features features steps 6 Given Idonothing features features steps 6\x1b[0m\n\n\x1b[1;37m1feature \x1b[1;32m1passed\x1b[1;37m \x1b[0m\n\x1b[1;37m1scenario \x1b[1;32m1passed\x1b[1;37m \x1b[0m\n\x1b[1;37m1step \x1b[1;32m1passed\x1b[1;37m \x1b[0m\n'
def search items bus attributes service obj bus get object bus SS PATH service iface dbus Interface service obj SERVICE IFACE locked unlocked service iface Search Items attributes signature 'a{ss}' for item path in locked + unlocked yield Item bus item path 
def get column letter col idx if not 1 < col idx < 18278 msg 'olumnindexoutofbounds %s' % col idx raise Column String Index Exception msg ordinals []temp col idxwhile temp quotient remainder divmod temp 26 if remainder 0 quotient - 1remainder 26ordinals.append remainder + 64 temp quotientordinals return ''.join [chr ordinal for ordinal in ordinals 
def get default datatype expr if expr integer return default datatypes isinstance expr Matrix Base for element in expr if not element integer return default datatypes default datatypes return default datatypes 
def  openstack auth from config auth plugin 'password' **config if auth plugin 'rackspace' plugin class Rackspace Authelse plugin class get plugin class auth plugin plugin options plugin class options plugin kwargs {}for option in plugin options if option in config plugin kwargs config plugin class **plugin kwargs 
def fix env if sabnzbd D A R W I N env os if 'PYTHONPATH' in env del env P Y T H O N P A T H 'PYTHONHOME' in env del env P Y T H O N H O M E envelse return None 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def gettemp basename exec dir os sys file onedir os exec dir '..' '..' basename file onefile os exec dir '..' basename if os file onedir return file onedirelse return file onefile 
def write bytes data urlpath name function None compression None encoding None **kwargs mode 'wb' if encoding is None else 'wt' fs names myopen get fs paths myopen urlpath compression mode name function name function num len data encoding encoding **kwargs return [delayed write block to file pure False d myopen f mode 'wb' for d f in zip data names ]
def  get splunk search props search props search search search props 
def job exists name None if not name raise Salt Invocation Error 'equiredparameter server  connect if server exists name return Trueelse return False 
def grid margin spacing *widgets layout Qt Widgets Q Grid Layout layout Spacing spacing set margin layout margin for row in widgets item row isinstance item Qt Widgets Q Widget layout Widget *row elif isinstance item Qt Widgets Q Layout Item layout Item *row return layout 
def get icon name default None resample False icon path get image path name default None if icon path is not None icon Q Icon icon path elif isinstance default Q Icon icon defaultelif default is None try icon get std icon name -4 ] except Attribute Error icon Q Icon get image path name default else icon Q Icon get image path name default if resample icon0 Q Icon for size in 16 24 32 48 96 128 256 512 icon0 Pixmap icon size size return icon0else return icon 
def test install exit status code when blank requirements file script script path 'blank.txt' .write '\n' script 'install' '-r' 'blank.txt'
def get exploration summary by id exploration id exp summary model exp models Exp Summary Model exploration id if exp summary model exp summary get exploration summary from model exp summary model return exp summaryelse return None 
def parse dwarf parser D W A R F Parser for line in open sys 'r' .readlines parser line line parser output 
def xml mapping parser path pass 
def use app backend name None call reuse True global default appif default app is not None names default app name .replace ' ' '' .strip ' ' names [name for name in names '' if name backend name and backend name not in names raise Runtime Error 'anonlyselectabackendonce alreadyusing % names else if call reuse default app return default appdefault app Application backend name return default app 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
@click.command 'auto-update' def setup auto update from bench import setup auto updatesetup auto update 
def gabor image frequency theta 0 bandwidth 1 sigma x None sigma y None n stds 3 offset 0 mode 'reflect' cval 0 assert n D image 2 g gabor kernel frequency theta bandwidth sigma x sigma y n stds offset filtered real ndi image np g mode mode cval cval filtered imag ndi image np g mode mode cval cval return filtered real filtered imag 
def id to svd B idx proj if  is real B U V S backend id2svd B idx + 1 proj else U V S backend id2svd B idx + 1 proj return U S V
def is period array return isinstance array A B C Period Index or is period arraylike array 
def chebyu n monic False base jacobi n 0.5 0.5 monic monic if monic return basefactor sqrt pi / 2.0 *  gam n + 2 /  gam n + 1.5 base scale factor return base 
def setup tv host mac name customize hass add devices from pylgtv import Web Os Clientfrom pylgtv import Py L G T V Pair Exceptionfrom websockets import Connection Closedclient Web Os Client host if not client registered if host in  CONFIGURING try client except Py L G T V Pair Exception  L O G G E R 'onnectedto L Gweb O S T V host returnexcept O S Error Connection Closed  L O G G E R 'nabletoconnecttohost host returnelse  L O G G E R ' Gweb O S T V host request configuration host mac name customize hass add devices returnif client registered and host in  CONFIGURING request id  C O N F I G U R I N G host configurator get component 'configurator' configurator done request id add devices [g Web O S Device host mac name customize ] True 
def  dotsum x y if sparse x return x y .sum else return np x y 
def   ipv4 quad value return salt addr value value ' Pv4address 
def  to loc ll if isinstance ll int float or len ll > 0 return llelse return 0.0
def  HCCM2 hessian inv scale if scale 1 scale scale None hessian inv H np np xxi scale xxi T return H
def s3 get last record id tablename session current RCVARS in session and tablename in session R C V A R S return session R C V A R S return None 
def python 3000 has key logical line noqa pos logical line '.has key ' if pos > -1 and not noqa yield pos "601 key isdeprecated use 
def create Fill For Surroundings radius should Extra Loops Be Added surrounding Loops for surrounding Loop in surrounding Loops create Extra Fill Loops radius should Extra Loops Be Added surrounding Loop 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def step2 form factory mixin cls entry form class attrs None if attrs is None attrs {}class name 'izard Step2 Form class type entry form class Form Class meta class class name mixin cls entry form class attrs return Form Class 
def het breuschpagan resid exog het x np exog het y np resid ** 2 nobs nvars x OLS y x .fit fval resols resols pvaluelm nobs * resols return lm stats lm nvars - 1 fval fpval 
def get locale from lang lang if not lang or lang 'dbg' lang 'en'return Locale translation locale lang 
def  make laplacian sparse edges weights pixel nb edges + 1 diag np pixel nb i indices np edges edges j indices np edges edges data np - weights - weights lap sparse matrix data i indices j indices shape pixel nb pixel nb connect - np lap axis 1 lap sparse matrix np data connect np i indices diag np j indices diag shape pixel nb pixel nb return lap 
def enable server server try config config 'servers' server .enable.set 1 except logging T 'ryingtosetstatusofnon server returnconfig config Downloader server server server 
def  check remove last super user obj if not user obj superuser returnall active su User is superuser  exact True is active  exact True num active su all active su if num active su < 1 raise Popup Exception _ 'oactivesuperuserconfigured if num active su 1 raise Popup Exception _ 'oucannotremovethelastactivesuperuserfromtheconfiguration error code 401
def spidercls for request spider loader request default spidercls None log none False log multiple False snames spider loader by request request if len snames 1 return spider loader snames if len snames > 1 and log multiple logger 'orethanonespidercanhandle % request s snames s {'request' request 'snames' ' '.join snames } if len snames 0 and log none logger 'nabletofindspiderthathandles % request s {'request' request return default spidercls 
@given " def step impl context go to manage page context start intro context modal context find css class with wait context MODAL CLASS wait time 30 context button modal element by class name SKIP BUTTON CLASS context button modal element by class name NEXT BUTTON CLASS context button modal element by class name BACK BUTTON CLASS
def latlng arg if is string arg return argnormalized normalize lat lng arg return '%s %s' % format float normalized format float normalized 
def get thread analytics multi exploration ids return feedback jobs continuous Feedback Analytics Aggregator thread analytics multi exploration ids 
def simple traceback limit stack trace traceback stack limit limit [ -2 ]return '\n'.join '-'.join os filename function name str line number for filename line number function name text in stack trace 
def  write instance repr out visited name pyop attrdict address out '<' out name if isinstance pyop attrdict Py Dict Object Ptr out ' ' first Truefor pyop arg pyop val in pyop attrdict if not first out ' ' first Falseout pyop arg visited out ' ' pyop val repr out visited out ' ' out 'atremote0x%x>' % address 
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
def apply rollback datastore name return  get client .apply rollback datastore name 
def pinv extended X rcond 1e-15 X np X X X u s vt np X 0 s orig np s m u vt rcond * np s for i in range min n m if s > cutoff s 1.0 / s else s 0.0res np np vt np s np np u return res s orig 
def adjust split point split point log sp split pointwhile True parent sp if parent is None or barename parent in {u'body' u or parent and parent or parent sp > 0 breaksp parentif sp is not split point log u Adjustedsplitpointtoancestor return sp 
def split filter value for quotes value validate quotes value tmp re '\n" #iffoundadouble-quote\n[^\\"\\\\]*#takecharacterseithernon-quotesorbackslashes\n ? \\\\.#takebackslashesandcharacterafterit\n[^\\"\\\\]* *#takecharacterseithernon-quotesorbackslashes\n #beforedouble-quote\n" ?#adouble-quotewithcommamaybe\n| [^ ]+ ?#ifnotfounddouble-quotetakeanynon-comma\n#characterswithcommamaybe\n| #ifwehaveonlycommatakeemptystring\n' re V E R B O S E return [ val or val for val in re tmp value ]
def assert is subclass subcls cls msg '' assert issubclass subcls cls '%sisnotasubclassof%s\n%s' %  safe cls name subcls  safe cls name cls msg 
def get Client Spec spec List p4 Cmd List 'client-o' if len spec List ! 1 die 'utputfrom expecting1 % len spec List entry spec List name entry Client keys [k for k in entry if k 'iew ]view View client name for view num in range len view keys k 'iew % view num if k not in view keys die 'xpectedviewkey % k view entry return view 
def Cancel Batch Job client batch job max poll attempts MAX POLL ATTEMPTS batch job service client Get Service 'atch Job Service 'v201605' batch job ' A N C E L I N G {'operator' 'SET' 'operand' batch job job service [operation] poll attempt 0while poll attempt in range max poll attempts and batch job ! 'CANCELED' sleep interval 30 * 2 ** poll attempt + random 0 10000 / 1000 print 'atch Jobnotfinishedcanceling sleepingfor % sleep interval time sleep interval batch job Get Batch Job client batch job poll attempt + 1if batch job 'CANCELED' print 'atch Jobwith I D % batch job else print 'atch Jobwith I D % batch job max poll attempts 
def remove template s n open n close 0 0 starts ends [] [] in template Falseprev c Nonefor i c in enumerate iter s if not in template if c '{' and c prev c starts i - 1 in template Truen open 1if in template if c '{' n open + 1elif c '}' n close + 1if n open n close ends i in template False n open n close 0 0 prev c cs ''.join [s[ end + 1 start for start end in zip starts + [one [ -1 ] + ends ] return s 
def literal eval node or string  safe names {one None 'rue True 'alse False isinstance node or string basestring node or string parse node or string mode 'eval' if isinstance node or string Expression node or string node or string  convert node if isinstance node Str return node isinstance node Num return node isinstance node Tuple return tuple map  convert node elif isinstance node List return list map  convert node elif isinstance node Dict return dict  convert k  convert v for k v in zip node node elif isinstance node Name if node in  safe names return  safe names Value Error 'malformedstring' return  convert node or string 
def list joysticks print 'vailablejoysticks ' print for jid in range pygame count j pygame Joystick jid print ' {} {}'.format jid j name 
def recursive copy source dest for root _ files in os source path from source root source '' .lstrip '/' target directory os dest path from source if not os target directory os target directory for name in files file path from source os source path from source name target path os target directory name shutil file path from source target path 
def choose plugin prepared question opts [ plugin ep with name + 'isconfigured if plugin ep else '' for plugin ep in prepared True disp z util interfaces I Display code index disp question opts help label 'ore Info force interactive True if code display util O K plugin ep prepared plugin ep z util interfaces I Display .notification 'heselectedpluginencounteredanerrorwhileparsingyourserverconfigurationandcannotbeused Theerrorwas \n\n{0}'.format plugin ep pause False else return plugin epelif code display util H E L P if prepared msg 'eported Error %s' % prepared else msg prepared .more info z util interfaces I Display .notification msg force interactive True else return None 
def squeeze a axis None return a axis 
@np.deprecate message 'splineisdeprecatedinscipy0.19.0 use Bsplineclassinstead def spline xk yk xnew order 3 kind 'smoothest' conds None return spleval splmake xk yk order order kind kind conds conds xnew 
def Token From Url url if url '?' > -1 query params url '?' [1]else query params urlfor pair in query params '&' if pair 'token ' return pair ]return None 
def  get host utilization context host ram mb disk gb instances instance get all by host context host vms len instances free ram mb ram mb - F L A G S host memory mb free disk gb disk gb - F L A G S host disk mb * 1024 work 0for instance in instances free ram mb - instance mbfree disk gb - instance gbfree disk gb - instance gbif instance state in [vm states B U I L D I N G vm states R E B U I L D I N G vm states M I G R A T I N G vm states R E S I Z I N G work + 1return dict free ram mb free ram mb free disk gb free disk gb current workload work running vms vms 
def test high order autoencoder init corruptor Binomial Corruptor corruption level 0.5 model Higher Order Contractive Autoencoder corruptor corruptor num corruptions 2 nvis 5 nhid 7 act enc 'sigmoid' act dec 'sigmoid' X tensor data np 10 5 .astype config X ff theano [X] model order penalty X assert type ff data np 
def run  task 
@anonymous csrf template 'questions/{mobile/}marketplace refund def marketplace refund request template error message Noneif request 'GET' form Marketplace Refund Form request else form Marketplace Refund Form request request P O S T if form valid try form ticket return Http Response Redirect reverse 'questions.marketplace aaq success except Zendesk Error error message ZENDESK ERROR M E S S A G Ereturn render request template {'form' form 'error message error message 
def get schema for action parameters action db from st2common db import get runnertype by namerunner type get runnertype by name action db type parameters schema {}deep update parameters schema runner type parameters deep update parameters schema action db runner parameter names runner type parameters for name schema in six action db if name not in runner parameter names continuefor attribute value in six schema runner param value runner type parameters attribute validate runner parameter attribute override action ref action db param name name attr name attribute runner param attr value runner param value action param attr value value schema get schema for resource parameters parameters schema parameters schema if parameters schema schema action db action db schema action db schema 
def decipher bifid6 msg key msg key _  prep msg key None bifid6 key padded key key bifid6 return decipher bifid msg '' key 
@then u def step see db connected context  expect exact context u Youarenowconnectedtodatabase timeout 2
def  iter id iterable for item in iterable yield id item item 
def test no dot at all q Line .render pyquery assert q '.text-overlaytext' .text 'odata 
def colorscale to colors colorscale color list []for item in colorscale color list item return color list 
def add prerequisite course course key prerequisite course key if not is prerequisite courses enabled return Nonemilestone name _ 'ourse id course id .format course id unicode course key prerequisite course id unicode prerequisite course key milestone milestones api milestone {'name' milestone name 'namespace' unicode prerequisite course key 'description' _ 'ystemdefinedmilestone } milestones api course milestone course key 'requires' milestone milestones api course milestone prerequisite course key 'fulfills' milestone 
def machine get by hostname hostname try machine Machine hostname hostname return machineexcept Machine Does Not Exist return None 
@register.filterdef comment filter comment text filter func settings C O M M E N T F I L T E Rif not filter func def filter func s return linebreaksbr urlize s autoescape True autoescape True elif not callable filter func filter func import dotted path filter func return filter func comment text 
def get ninja project file path extension '.nja'return get ninja file path extension only first True 
def string2lines astring tab width 8 convert whitespace 0 whitespace re '[\x0b\x0c]' if convert whitespace astring whitespace '' astring return [s.expandtabs tab width .rstrip for s in astring ]
def sliceable dim pad 0 dim0 np dim -1 ] + pad return dim0 dim -1 ]
def setup app app role 'rfc' rfclink return 
def filter traceback entry raw filename entry filenameis generated '<' in raw filename and '>' in raw filename if is generated return Falsep py entry return p ! cutdir1 and not p cutdir2 and not p cutdir3 
def  normalize entity value if ndb is not None and isinstance value ndb Model return Noneif getattr value ' populate internal entity None return value populate internal entity return value 
def get Time return monotonic Clock Time 
def mon create **kwargs return ceph cfg create **kwargs
def get saved policy table 'filter' chain None conf file None family 'ipv4' if not chain return 'rror Chainneedstobespecified  parse conf conf file family family try return rules Key Error return None 
def get Python Directory Names directory Name python Directory Names []directory os directory Name for file Name in directory subdirectory Name os directory Name file Name if os subdirectory Name if os os subdirectory Name '  init  .py' python Directory Names subdirectory Name return python Directory Names 
def simple plot x np - np np 256 endpoint True y cos y sin np x np x plt figsize 8 6 dpi 80 plt 'plottitle' plt True plt 'xlabel' plt -4.0 4.0 plt np -4 4 9 endpoint True plt 'ylabel' plt -1.0 1.0 plt np -1 1 9 endpoint True plt x y cos 'b--' linewidth 2.0 label 'cos' plt x y sin 'g-' linewidth 2.0 label 'sin' plt loc 'upperleft' shadow True plt return 
def  average weight G path weight None path length len path - 1 if path length < 0 return 0if weight is None return 1 / path length total weight sum G for i j in pairwise path return total weight / path length 
def rsa crt dmp1 private exponent p return private exponent % p - 1
def add Geometry List element Node faces for face in faces face Element xml simple reader Element Node face To Attributes face Element face Element Name 'lement Node element Nodeelement Node Nodes face Element 
def get log content logfile f open logfile content f f os logfile return content 
def Parse Arguments argv opts args getopt argv ] 'h' ['debug' 'help' 'url ' 'filename ' 'cookie ' 'batch size ' 'kind '] url Nonefilename Nonecookie ''batch size 10kind Noneencoding Nonefor option value in opts if option '--debug' logging Logger .evel logging D E B U G if option in '-h' '--help' Print Usage Exit 0 if option '--url' url valueif option '--filename' filename valueif option '--cookie' cookie valueif option '--batch size batch size int value if batch size < 0 print >>sys.stderr 'batch sizemustbe1orlarger Print Usage Exit 1 if option '--kind' kind valuereturn url filename cookie batch size kind 
def get field java object field name command proto F I E L D COMMAND NAME + proto F I E L D GET SUBCOMMAND NAME + java object target id + u + field name + u + proto E N D COMMAND PART answer java object gateway client command command if answer proto N O MEMBER COMMAND or is error answer [0] raise Py4 J Error u field name java object target id else return get return value answer java object gateway client java object target id field name 
@event u cleanup def db cleanup manager session existing tasks list manager + [one session Simple Key Value .filter ~ Simple Key Value  existing tasks .delete synchronize session False 
def left Group ignored avatar q avatar q Callback quit Server return q 
def  copy interfaces info interfaces ret {}for interface in interfaces  interface attrs cpy set for attr in ATTRS attr dict Hashabledict attr dict repr interfaces  interface attrs cpy attr dict ret  interface attrs cpyreturn ret 
def serialize num val if isinstance val bool return str int val return str val 
def delete serving url blob key rpc None rpc delete serving url async blob key rpc rpc result 
def  logistic loss and grad w X y alpha sample weight None n samples n features X np like w w c yz  intercept dot w X y if sample weight is None sample weight np n samples out - np sample weight * log logistic yz + 0.5 * alpha * np w w z expit yz z0 sample weight * z - 1 * y grad n features safe sparse dot X.T z0 + alpha * w if grad > n features grad -1 ] z0 return out grad 
def get ids bcs added field header mapping data barcode type 'golay 12' added demultiplex field None sample id ix header 'ample I D bc ix header 'arcode Sequence if added demultiplex field added demultiplex ix header added demultiplex field ids bcs added field {}for line in mapping data if barcode type 0 curr bc ''else curr bc line ix added demultiplex field curr added field line demultiplex ix curr added field ''ids bcs added field upper curr bc curr added field ] line id ix ids bcs added field 
def replace file file name data base dir os os file name tmp file tempfile Named Temporary File 'w+' dir base dir delete False tmp file data tmp file os tmp file 420 os tmp file file name 
@add handler 'help' def qute help url try utils file 'html/doc/index.html' except O S Error html jinja 'error.html' title 'rrorwhileloadingdocumentation url url Display String error "hismostlikelymeansthedocumentationwasnotgeneratedproperly Ifyouarerunningqutebrowserfromthegitrepository pleaserunscripts Ifyou pleaseuse reporttoreportit icon '' return 'text/html' html urlpath url if not urlpath or urlpath '/' urlpath 'index.html'else urlpath urlpath '/' if not docutils up to date urlpath message 'ourdocumentationisoutdated Pleasere path 'html/doc/{}'.format urlpath if urlpath '.png' return 'image/png' utils file path binary True else data utils file path return 'text/html' data 
def  Test Build Archive tester user cookie user id device id tester Get Ids From Cookie user cookie request dict {'email' 'user1@emailscrubbed.com'}actual dict tester Send Request 'build archive user cookie request dict tester Compare Response Dicts 'build archive user id request dict {} actual dict return actual dict 
def simplegeneric func registry {}def wrapper *args **kw ob args cls ob  class  except Attribute Error cls type ob try mro cls  mro  except Attribute Error try class cls cls object passmro cls  mro  [1 ]except Type Error mro object for t in mro if t in registry return registry *args **kw else return func *args **kw try wrapper  name   func  name  except Type Error Attribute Error passdef register typ func None if func is None return lambda f register typ f registry funcreturn funcwrapper  dict   func  dict  wrapper  doc   func  doc  wrapper registerreturn wrapper 
def synchronous Is Valid User user return user in [lice 'ngus 'gnes 
def extend image size virt size get disk size image if virt size > size returnutils 'qemu-img' 'resize' image size resize2fs image 
def is relationship model fieldname mapper sqlalchemy inspect model return fieldname in mapper 
def split pootle path pootle path slash count pootle path u parts pootle path u 3 [1 ]language code Noneproject code Nonectx ''if slash count ! 0 and pootle path ! '/projects/' if slash count 2 language code parts pootle path '/projects/' project code parts parts slash count ! 1 language code parts code parts parts dir path filename os ctx if dir path dir path u [dir path ''] return language code project code dir path filename 
def get configuration options agent config options yaml load agent config Content validate configuration configuration configuration configuration 'port' 4524 path agent config configuration Certificate P E M path 'cluster.crt' .ontent configuration Node Credential path path 'node' return configuration 
def generate bins generic values binner closed lenidx len values lenbin len binner if lenidx < 0 or lenbin < 0 raise Value Error 'nvalidlengthforvaluesorforbinner if values < binner raise Value Error 'aluesfallsbeforefirstbin if values lenidx - 1 ] > binner lenbin - 1 ] raise Value Error 'aluesfallsafterlastbin bins np lenbin - 1 dtype np j 0bc 0for i in range 0 lenbin - 1 r bin binner i + 1 ]while j < lenidx and values < r bin or closed 'right' and values r bin j + 1bins[bc] jbc + 1return bins 
def upper consonant y w a []p Nonefor ch in w if ch 'y' and p is None or p in VOWELS a 'Y' else a ch p chreturn ''.join a 
def buildmod *modules missing [module for module in modules if not os module ]if missing return 'rror Thefile {0} doesnotexist ' '.join missing cmd ['znc-buildmod']cmd.extend modules out   salt  ['cmd.run'] cmd python shell False .splitlines return out -1 ]
def non structured query table query None **kwargs client  get client client tableif query is None query parts []for key value in kwargs query parts '{0} {1}'.format key value query '^'.join query parts query str query response client query return response 
def is hybi00 headers return 'ec Web Socket Key1 in headers and 'ec Web Socket Key2 in headers 
def fix frame records filenames records fixed records []for frame filename line no func name lines index in records filename py3compat unicode py2 filename 'utf-8' if not filename '.pyx' '.pxd' '.pxi' better fn frame globals '  file  ' None if isinstance better fn str filename better fnfixed records frame filename line no func name lines index return fixed records 
def fullrank X r None if r is None r np matrix rank X V D U L X full matrices 0 order np D order order -1 ]value []for i in range r value V[ order return np np value .astype np 
def add translations translation translations folder os current app path 'translations' source file os translations folder 'messages.pot' subprocess ['pybabel' 'extract' '-F' 'babel.cfg' '-k' 'lazy gettext '-o' source file '.'] subprocess ['pybabel' 'init' '-i' source file '-d' translations folder '-l' translation 
def add path path config None log 'ddpath % path if not path return []added []parent os path if parent and os os path '  init  .py' added add path parent config elif not path in sys log 'insert%sintosys.path' path sys 0 path added path if config and config Dirs for dirname in config Dirs dirpath os path dirname if os dirpath sys 0 dirpath added dirpath return added 
@core helper 'h.nav named linkisdeprecatedpleaseuseh link N O T E youwillneedtopasstheroute nameasanamedparameter def nav named link text named route **kwargs return nav link text named route named route **kwargs
def get logging manager manage stdout and stderr False redirect fds False if redirect fds manager Fd Redirection Logging Manager else manager Logging Manager if manage stdout and stderr manager stdout manager stderr return manager 
def rm alias alias if not get target alias return Truelines   parse aliases out []for line alias line target line comment in lines if line alias ! alias out line alias line target line comment   write aliases file out return True 
def AZ s None if not s return uppercaset type s is str if t s [s]rv [check and join i .split uppercase filter True for i in s t return rv rv 
def libvlc audio get track count p mi f  Cfunctions 'libvlc audio get track count None or  Cfunction 'libvlc audio get track count 1 None ctypes int Media Player return f p mi 
def clean path filename url filename url file name path url path without file .encode DEFAULT ENCODING if filename res path ]res + clean filename filename else res clean path url path .encode DEFAULT ENCODING [1 ]return res 
def is done pkt if pkt '43' return Truereturn False 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def volume metadata get context volume id return I M P L metadata get context volume id 
def maybe iso8601 dt if not dt returnif isinstance dt datetime return dtreturn parse iso8601 dt 
def  list iter host None path None tgt host or '*' client salt local client   opts  ['conf file for container info in client iter tgt 'lxc.list' kwarg {'path' path if not container info continueif not isinstance container info dict continuechunk {}id  next six container info if host and host ! id  continueif not isinstance container info ] dict continueif 'ret' not in container info ] continueif not isinstance container info ]['ret'] dict continuechunk ] container info ]['ret'] yield chunk 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def geo apps namespace True runtests False from django import connectionfrom django import GEOS P R E P A R Efrom django import HAS G D A Lapps ['geoapp' 'relatedapp']if not connection apps 'distapp' if connection and connection apps 'geogapp' if HAS GDAL if connection and GEOS PREPARE apps 'geo3d' apps 'layermap' if runtests return [ 'django.contrib.gis.tests' app for app in apps namespace return [ 'django.contrib.gis.tests.%s' % app for app in apps return apps 
def  is enrollment code an update course user redemption code enrollment mode is active Course Enrollment mode for user user course return not is active or enrollment mode ! redemption code slug 
def  format date dt return '%s %02d%s%04d%02d %02d % M T % [on 'ue 'ed 'hu 'ri 'at 'un ] dt [an 'eb 'ar 'pr 'ay 'un 'ul 'ug 'ep 'ct 'ov 'ec dt - 1 ] dt dt dt dt 
def on Cell App Death addr WARNING MSG 'ell App Death %s' % str addr 
def load palette file href bytes urlopen file href .read count t index unpack '!HH' bytes 768 + 4 ] t index t index < 255 and t index or None palette []for offset in range 0 count if offset t index rgb 255 153 0 else rgb unpack '!BBB' bytes offset * 3 offset + 1 * 3 ] palette rgb bits int ceil log len palette / log 2 return palette bits t index 
def strip lines text output text '\r\n' '' output output '\r' '' output output '\n' '' return output 
def clear memo cache source d pth os settings M E M O DIR domain to filename source if os d pth os d pth else print 'memofilefor' source 'hasalreadybeendeleted!'
def group feed reader group mode 'div' counter '5' url 'http //groups.google.com/group/%s/feed/rss v2 0 topics %s' % group counter from gluon import feedparserg feedparser url if mode 'div' html XML TAG.BLOCKQUOTE UL *[LI A entry + '-' + entry ' ' ]  href entry  target ' blank for entry in g  class 'nfo  style 'padding-bottom 5px;' else html XML UL *[LI A entry + '-' + entry ' ' ]  href entry  target ' blank for entry in g return html 
def  sorted resource labels labels head [label for label in TOP RESOURCE LABELS if label in labels ]tail sorted label for label in labels if label not in TOP RESOURCE LABELS return head + tail 
def mkfs os type fs label target run as root True specified fs None mkfs command  MKFS C O M M A N D os type  DEFAULT MKFS COMMAND or '' % {'fs label fs label 'target' target if mkfs command utils run as root run as root *mkfs command else if not specified fs specified fs C O N F ephemeral formatif not specified fs specified fs  DEFAULT FS BY O S T Y P E os type  DEFAULT FILE SYSTEM utils specified fs target fs label run as root run as root 
def make chunk iter stream separator limit None buffer size 10 * 1024 stream make limited stream stream limit  read stream split re ' %s ' % re separator .splitbuffer []while 1 new data  read buffer size if not new data breakchunks  split new data new buf []for item in chain buffer chunks if item separator yield ''.join new buf new buf []else new buf item buffer new bufif buffer yield ''.join buffer 
def chunks n *args keypoints []for i in xrange 0 len args n keypoints i i + n random keypoints for a b in keypoints yield [arg[a b for arg in args 
def format U I D List Lines msgs get Uidl for i m in enumerate msgs if m is not None uid get Uidl i yield '%d%s\r\n' % i + 1 uid 
def raw interface configs cmd ['netsh' 'interface' 'ip' 'show' 'config']return   salt  ['cmd.run'] cmd python shell False 
def get selinux context path out   salt  ['cmd.run'] ['ls' '-Z' path python shell False try ret re '\\w+ \\w+ \\w+ \\w+' out .group 0 except Attribute Error ret 'oselinuxcontextinformationisavailablefor path return ret 
def  Get Calling Module return  Get Calling Module Object And Name [1]
def build output worklist force False output path abspath output source paths []for f files in worklist source paths map abspath files update needed Falseif not os output path if not settings A S S E T S AUTO CREATE and not force raise Merge Error "'%s'needstobecreated but A S S E T S AUTO C R E A T Eisdisabled % output else update needed Trueelif not force update needed get updater output path source paths if update needed or force output output pathtry try for filters files in worklist output merge map abspath files output filters output path close False finally if hasattr output 'close' output except if os output path os output path raise 
def compute node update context compute id values auto adjust True return I M P L node update context compute id values auto adjust 
def  points to dig points n idx points use hpi idx idents list range 1 4 + list range 1 n idx points + 1 - 3 dig []for idx in range points point info dict zip FIFF INFO DIG FIELDS FIFF INFO DIG DEFAULTS point info points idx < 3 point info FIFF.FIFFV POINT C A R D I N A Lpoint info idx idents 2 < idx < n idx points and use hpi point info FIFF.FIFFV POINT H P Ipoint info idx idents idx > 4 point info FIFF.FIFFV POINT E X T R Apoint info idx + 1 - len idx idents if 2 < idx < n idx points and not use hpi passelse dig + [point info dig 
def module parent packages full modname prefix ''parents []for pkg in full modname '.' [0 -1 ] prefix + '.' + pkg if prefix else pkg parents prefix return parents 
def pip version MIN PIP VERSION pip cmd 'pip' python cmd 'python' setuptools python cmd python cmd if not is pip installed version python cmd python cmd pip cmd pip cmd install pip python cmd python cmd 
@register specialize optimizer [ def local mul to sqr node if node T if len node 2 if node is node return [ node ]
@pytest.mark.parametrize 'text expected [ 'foo|bar' 'foo|ar' 'foobar|' 'foobar|' '|foobar' '|oobar' 'f<oo>bar' 'f|bar' ] def test rl delete char text expected lineedit bridge lineedit aug text text bridge delete char assert lineedit text expected 
def normalize path for engine path drive tail splitdrive path if drive path u + drive .rstrip u ' + tail return path u u 
def add git host key module url accept hostkey True create dir True if is ssh url url fqdn get fqdn url if fqdn known host check hostkey module fqdn if not known host if accept hostkey rc out err add host key module fqdn create dir create dir if rc ! 0 module json msg 'failedtoadd%shostkey %s' % fqdn out + err else module json msg 'etaccept hostkeyto Trueormanuallyaddthehostkeypriortorunningthegitmodule % fqdn 
def  covar mstep spherical *args cv  covar mstep diag *args return np cv axis 1 [ np 1 cv 
def virtual interface create provider names **kwargs client  get client return client action provider provider names names action 'virtual interface create **kwargs
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def save main static files static generator global  MAIN STATIC F I L E Sif static generator D E F A U L T LANG']  MAIN LANG  MAIN STATIC FILES static generator 
def Ends With Python path return path and PYTHON BINARY R E G E X path is not None 
def convert in file in format out file out format in kwargs None out kwargs None if in kwargs is None in kwargs {}if out kwargs is None out kwargs {}qresults parse in file in format **in kwargs return write qresults out file out format **out kwargs 
def  ofc id return 'ofc-%s' % id 
def  preprocess file file name raw content utils file content file name force lf endings True comments [c for c in  RE C O M M E N T raw content ]content list raw content for m in comments for i in range m m content ''content ''.join content return raw content content 
def  isdummy X X np X if X > 1 ind np X .astype bool max np X axis 0 1 min np X axis 0 0 remainder np X % 1.0 0 axis 0 ind min & max & remainder if X 1 ind np [ind] return np ind [0]
def count bcd digits bcd count 0while bcd > 0 count + 1bcd >> 4return count 
def  get safe url url parts urlsplit url if parts is None return urlelse frags list parts if parts frags '{0}@{1} {2}'.format parts parts parts else frags '{0}@{1}'.format parts parts return urlunsplit frags 
def  address family address if address '[' and address ']' return socket A F I N E T6for af in socket A F INET socket A F INET6 try socket pton af address return afexcept Value Error Attribute Error socket continuereturn socket A F UNSPEC
def gis marker retrieve filename path None if not path path current marker '/' in filename  path filename filename '/' image open os path  path filename 'rb' else image open os path filename 'rb' return filename image 
@register.inclusion tag u menu takes context True def admin dropdown menu context template vars context user context user staff template vars menu app list admin app list context if user superuser sites Site else try sites user except Object Does Not Exist sites Site template vars menu sites list sites template vars menu selected site id current site id template vars context vars context template vars 
def make django command name django command None help None if django command is None django command name name name help help add help option False context settings dict ignore unknown options True @click.argument 'management args nargs -1 type click U N P R O C E S S E D @click.pass contextdef inner ctx management args from sentry import djangoctx args django command + management args ctx django return inner 
def ostypecode x s ''for i in range 4 x c divmod x 256 s chr c + s return s 
def contract creation exceptions return {olumn ['.'.join [table 'project id for table in get tables ] sa Index get tables }
def make script file directory effects builder Script Builder effects fd filename tempfile dir directory text True os fd builder os fd os filename 365 return os filename 
def urlquote plus url safe u return force text quote plus force str url force str safe 
def get product search handler class if settings O S C A R PRODUCT SEARCH HANDLER is not None return import string settings O S C A R PRODUCT SEARCH HANDLER if is solr supported return get class 'catalogue.search handlers 'roduct Search Handler elif is elasticsearch supported return get class 'catalogue.search handlers ' S Product Search Handler else return get class 'catalogue.search handlers 'imple Product Search Handler 
def  sizes dev dev  devbase dev block sizes 'hw sector size 'minimum io size 'physical block size 'logical block size discard sizes 'discard max bytes 'discard max hw bytes sysfs   salt  ['sysfs.read'] 'size' 'queue/hw sector size '../queue/hw sector size 'queue/discard max bytes '../queue/discard max bytes root  syspath dev discard sysfs 'queue/discard max bytes sysfs '../queue/discard max bytes None block sysfs 'queue/hw sector size sysfs '../queue/hw sector size None return 512 * sysfs block discard 
def list fonts directory extensions pattern u [ u % ext ext for ext in extensions return cbook Files directory pattern 
def wrapper ruby string wrapper prefix runas None *binaries cmd ['wrapper' ruby string wrapper prefix binaries return  rvm cmd runas runas 
def axis name None cols None values None units None ax {ame Order ['name' 'units' 'title']if name is not None ax nameif values is not None ax valuesif units is not None ax unitsif cols is not None ax []for c in cols if type c ! list and type c ! tuple c [c]col {}for i in range 0 len c col Name Order c col return ax 
def sector def prep r s3db location filter r return Trues3 prepreturn s3 rest controller 
def parse set imp union source info version info &  ALL VERSIONS or DEFAULT VERSION items [parse set member source info ]while True saved pos source source ']' source saved posbreakif version VERSION1 and any source op for op in SET OPS source saved posbreakitems parse set member source info if len items 1 return items Set Union info items 
def  New Index From Index Spec Pb index spec pb source  SOURCE PB TO SOURCES M A P index spec pb index Noneif index spec pb namespace index Index name index spec pb namespace index spec pb source source else index Index name index spec pb source source return index 
def failed seg return seg marked is False and seg uploaded is False 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def sanitize output output if output is None return ''else return output '\r\n'
@with settings foo ['foo'] bar {'bar' 'bar'} baz 'baz' qux set 'qux' def test require complex non empty values require 'foo' 'bar' 'baz' 'qux'
def change root new root pathname if os 'posix' if not os pathname return os new root pathname else return os new root pathname ] elif os 'nt' drive path os pathname if path '\\' path path ]return os new root path else raise Distutils Platform Error "nothingknownaboutplatform'%s'" % os 
def prepare request dict request dict endpoint url context None user agent None r request dictif user agent is not None headers r User Agent user agenturl  urljoin endpoint url r path if r string encoded query string percent encode sequence r string if '?' not in url url + '?%s' % encoded query string else url + '&%s' % encoded query string r urlr contextif context is None r {}
def build application server log 'buildingwebapplication' api Modbus Api Web App server register Bottle register api routes api register register web routes api register return register 
def  mountpoint to number mountpoint if mountpoint '/dev/' mountpoint mountpoint ]if re '^[hs]d[a-p]$' mountpoint return ord mountpoint 3] - ord 'a' elif re '^x?vd[a-p]$' mountpoint return ord mountpoint -1 ] - ord 'a' elif re '^[0-9]+$' mountpoint return int mountpoint 10 else L O G  LW 'ountpointcannotbetranslated %s' mountpoint return -1
@intercept errors User A P I Internal Error ignore errors [ser A P I Request Error def activate account activation key try registration Registration activation key activation key except Registration Does Not Exist raise User Not Authorizedelse registration 
def resource uuid value try uuid U U I D value return valueexcept Value Error if len value < 64 if six P Y2 and isinstance value six type value value 'utf-8' return uuid RESOURCE ID NAMESPACE value .hexraise Value Error _ 'engthoftransformableresourceid whichismaxallowedcharacters 
def  multi dot three A B C cost1 A * A * B + A * B * C cost2 B * B * C + A * A * C if cost1 < cost2 return  dot  dot A B C else return  dot A  dot B C
def find recursion etype value records if not is recursion error etype value records return len records 0 records [r[1 4] for r in records frames records - len records // 4 ]frames repeated set inner frames last seen at {}longest repeat 0i len records for frame in reversed records i - 1if frame not in frames repeated last unique ibreakif frame in last seen at distance last seen at - i longest repeat max longest repeat distance last seen at ielse last unique 0return last unique longest repeat 
def stereo2mono x if x 1 return xelif x 2 return x 1] / 2 + x 0] / 2 else return -1
def create from sequence bits if len bits 1 name bits root Category depth 1 name name except Category Does Not Exist root Category root name name except Category Multiple Objects Returned raise Value Error 'herearemorethanonecategorieswithname 1' % name return [root]else parents create from sequence bits -1 ] parent name parents -1 ] bits -1 ] try child parent children .get name name except Category Does Not Exist child parent child name name except Category Multiple Objects Returned raise Value Error 'herearemorethanonecategorieswithname % name parent parents child return parents 
def ADOSC bar Ds count fastperiod - 2 ** 31 slowperiod - 2 ** 31 return call talib with hlcv bar Ds count talib A D O S C fastperiod slowperiod 
def chain dot *arrs return reduce lambda x y np y x arrs -1 ]
def get groups for container inventory container name groups {k for k v in inventory if 'hosts' in v and container name in v }return groups 
def obfuscate language text level 0.0 language 'default' global  LANGUAGE H A N D L E Rif not  LANGUAGE HANDLER try  LANGUAGE HANDLER Language Handler db key 'language handler except Language Handler Does Not Exist if not  LANGUAGE HANDLER from evennia import create script LANGUAGE HANDLER create script Language Handler return  LANGUAGE H A N D L E R text level level language language 
def make app config None config config or {} app Cool Magic Application config from werkzeug import Shared Data Middlewareapp Shared Data Middleware app {'/public' path path   file   'public' } app local manager middleware app return app 
def  convert key to str key if isinstance key six type return str key return key 
def check hl group name hl group context mark context echoerr return  highlight group spec hl group context mark context mark context context echoerr echoerr [1]
def Connection server queue config path host port protocol server ' ' if not protocol in 'st' raise Exception 'nknownprotocol %s' % protocol c Tcp Connection server queue config path c return c 
def  get flash params esp args detect flash size esp args flash mode {'qio' 0 'qout' 1 'dio' 2 'dout' 3}[args.flash mode size freq esp flash size arg args size flash size freq + {'40m' 0 '26m' 1 '20m' 2 '80m' 15}[args.flash freq struct 'BB' flash mode flash size freq 
def qos specs create context values return I M P L specs create context values 
@pytest.mark.skipif "hasattr sys 'pypy version info " def test install from wheel with headers script data package data 'headers.dist-0.1-py2.py3-none-any.whl' result script 'install' package '--no-index' expect error False dist info folder script packages / 'headers.dist-0.1.dist-info' assert dist info folder in result created dist info folder result created result 
def shell sort collection gaps [701 301 132 57 23 10 4 1]for gap in gaps i gapwhile i < len collection temp collection iwhile j > gap and collection j - gap ] > temp collection collection j - gap ]j - gapcollection tempi + 1return collection 
def Get Generate Path assert not is readonly 'hydoyouwantthegenpathforareadonlystore os win32com  gen path   except os passtry fname os win32com  gen path   '  init  .py' os fname except os f open fname 'w' f 'eneratedfile C O Mcache f 'importwin32com\n' f 'if  path  [ -1]! win32com  gen path     path  .append win32com  gen path   \n' f return win32com  gen path  
def get acl groups **filter data acl groups models Acl Group objects filter data for acl group in acl groups acl group obj models Acl Group id acl group acl group [user.login for user in acl group obj ]acl group [host.hostname for host in acl group obj ]return rpc utils for serialization acl groups 
def fake service orm **updates db service fake db service **updates service models Service **db service return service 
def test log sum exp 2 x np [ -100.0 100.0] x shared X x stable log sum exp x .eval assert np stable 100.0
def add lookup namespace directory package None prepend False templates L O O K U P namespace if not templates L O O K U P templates Dynamic Template Lookup module directory settings M A K O MODULE DIR output encoding 'utf-8' input encoding 'utf-8' default filters ['decode.utf8'] encoding errors 'replace' if package directory pkg resources filename package directory templates directory directory prepend prepend 
def mocked get recording by id id  includes [] release status [] release type [] releases {mport Music Brainz Id Test I D RECORDING 0 'VALID RECORDING 0' 'TAGARTIST' Import Music Brainz Id Test I D RECORDING 1 'VALID RECORDING 1' 'DISTANT MATCH' }return {'recording' {'title' releases ][0] 'id' id  'length' 59 'artist-credit' [{'artist' {'name' releases ][1] 'id' 'some-id'}}]}}
def libvlc audio get volume p mi f  Cfunctions 'libvlc audio get volume None or  Cfunction 'libvlc audio get volume 1 None ctypes int Media Player return f p mi 
def execute until empty taskqueue queue 'default' handlers map None task run counts collections lambda 0 while taskqueue Get Tasks queue new counts execute all tasks taskqueue queue handlers map for handler cls in new counts task run counts cls + new counts cls task run counts 
def sum combine s t from sympy import Sumused [alse * len s t for method in range 2 for i s term1 in enumerate s t if not used for j s term2 in enumerate s t if not used and i ! j temp sum add s term1 s term2 method if isinstance temp Sum or isinstance temp Mul s t temps term1 s t Trueresult S Zerofor i s term in enumerate s t if not used result Add result s term return result 
def post upgrade name if name not in  tracker upgrade return Falsereturn  tracker upgrade 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def pca data ncomp None standardize True demean True normalize True gls False weights None method 'svd' pc PCA data ncomp ncomp standardize standardize demean demean normalize normalize gls gls weights weights method method return pc pc pc pc pc pc pc 
def minimize *rules **kwargs objective kwargs 'objective' identity def minrule expr return min [rule expr for rule in rules key objective return minrule 
def service get all computes by hv type context hv type include disabled False return I M P L get all computes by hv type context hv type include disabled include disabled 
def  arg cache name return wf .cachefile u name 
def wait for notification page def  is saving 'hetherornotthenotificationiscurrentlyshowing page css '.wrapper-notification-mini.is-shown' .presentdef  is saving done 'hetherornotthenotificationisfinishedshowing page css '.wrapper-notification-mini.is-hiding' .mpty Promise  is saving 'otificationshouldhavebeenshown try interval 0.1 timeout 60 .fulfill Empty Promise  is saving done 'otificationshouldhavebeenhidden try interval 0.1 timeout 60 .fulfill
def get programs by run programs enrollments programs by run {}course ids [unicode e id for e in enrollments program in programs for course code in program codes for run in course code modes run id run key run id in course ids program list programs by run run id list if program not in program list program list program for program list in programs by run program list key lambda p p return programs by run course ids 
def encipher hill msg key symbols None pad 'Q' assert key squareassert len pad 1 msg pad A  prep msg pad symbols map {c i for i c in enumerate A }P [map[c] for c in msg N len A k key len P m r divmod n k if r P P + [map[pad]] * k - r m + 1rv ''.join [A[ c % N ] for j in range m for c in list key * Matrix k 1 [ for i in range k * j k * j + 1 ] ] return rv 
def check password strength password password unicode password n math len set password num re '[0-9]' password is not None and re '^[0-9]*$' password is None caps password ! password and password ! password extra re ' Z0 password is None score len password * n + caps + num + extra / 20 password strength {0 'eak 1 'edium 2 'trong 3 'ery Strong password strength 3 int score ]
def get yaml path builtin name runtime '' if  handler dir is None set builtins dir DEFAULT DIR available builtins set  available builtins if runtime 'python27' available builtins available builtins - BUILTINS NOT AVAIABLE IN PYTHON27 if builtin name not in available builtins raise Invalid Builtin Name 'vailablehandlersare %s' % builtin name ' '.join sorted available builtins return  get yaml path builtin name runtime 
def localsite request local site name getattr request u local site name None return {u'local site name local site name u All Perms Wrapper request local site name }
def test completion option for command script res env setup completion script 'pipsearch--' '2' assert '--help' in res 'autocompletefunctioncouldnotcomplete``--``'
def p dimlist p if len p 4 p p p else p [p[1]]
def convert String List Property model prop kwargs return String List Property Field **kwargs
def diffsets with comments review current pair if not review returndiffsets Diff Set files  comments  review review diffsets diffsets files  comments  interfilediff  isnull True diffsets diffsets for diffset in diffsets yield {u'diffset' diffset u current current pair diffset and current pair is None }
def  U func numpy x1 y1 x2 y2 if x1 x2 and y1 y2 return 0.0r 2 x2 - x1 ** 2 + y2 - y1 ** 2 return r 2 * np r 2
def constructor float loader node value loader scalar node return float value 
def get os sslcertfile l get os sslcertfile searchpath if l None return Nonefor f in l assert type f type '' if os f and os f or os f return freturn None 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def local Up images filters targets num Modules X padding Start module Stride num Img Colors num Groups 1 num Images images Filters filters targets num Images num Filters * num Modules X * num Modules X '%s%d%d-%d-%d' % targets  str   num Images num Filters num Modules X num Modules X  Conv Net Up images mat filters mat targets mat num Modules X - padding Start module Stride num Img Colors num Groups 
def libvlc media player get media p mi f  Cfunctions 'libvlc media player get media None or  Cfunction 'libvlc media player get media 1 class result Media ctypes void p Media Player return f p mi 
def add lazy relation cls field relation operation if relation RECURSIVE RELATIONSHIP CONSTANT app label cls meta labelmodel name cls  name  else try app label model name relation '.' except Value Error app label cls meta labelmodel name relationexcept Attribute Error app label relation meta labelmodel name relation meta namemodel get model app label model name seed cache False only installed False if model operation field model cls else key app label model name value cls field operation pending lookups key [] .append value 
def  preformat objects modules objects output {}if objects for module in modules output {'module' module 'label' _ module 'count' 0 'objects' {}}for key in objects if objects module if hasattr objects 'count' output + objects objects _ objects output objects output 
def install middlewares app settings if settings 'newrelic config ini file settings config settings env ini file env app newrelic W S G I Application Wrapper app if asbool settings 'profiler enabled profile dir settings dir Profiler Middleware app profile dir profile dir restrictions '*kinto.core*' return app 
def latin to vcg st for char in st if char not in string letters try num ord char if num > 192 st st char '\\fi%d' % ord char except passreturn st 
def sanitize param value valid characters valid chars character map mapped chars invalid character 'X' if isinstance value string types return sanitize text value valid characters valid characters character map character map invalid character invalid character elif isinstance value list return [sanitize text x valid characters valid characters character map character map invalid character invalid character for x in value raise Exception 'nknownparametertype %s ' % type value 
def get built statics path r2 path get r2 path return os r2 path 'build' 'public'
def cb Pick Mailbox result proto mboxes mbox mboxes int result or '1' - 1 ]return proto mbox .allback cb Examine Mbox proto 
def  time to micros time seconds time * 60 * 60 + time * 60 + time return 1000000 * seconds + time 
def test rewriting html "<ahref 'foo'>bar</a><ahref 'http //alpha.com'>baz</a>"assert true '<ahref "/proxy/abc.com/80/sub/foo">bar</a>' in  rewrite links Url Lib File Wrapper html 'http //abc.com/sub/' msg 'elativelinks assert true '<ahref "/proxy/alpha.com/80/">baz</a>' in  rewrite links Url Lib File Wrapper html 'http //abc.com/sub/' msg 'bsolutelinks html "<ahref 'http //alpha.com 1234/bar'>bar</a><ahref 'http //alpha.com -1/baz'>baz</a>"assert true '<ahref "/proxy/alpha.com/1234/bar">bar</a><a>baz</a>' in  rewrite links Url Lib File Wrapper html 'http //abc.com/sub/' msg ' R Lwithinvalidport html '\n<imgsrc "/static/hadoop-logo.jpg"/><br>\n'rewritten  rewrite links Url Lib File Wrapper html 'http //abc.com/sub/' assert true '<imgsrc "/proxy/abc.com/80/static/hadoop-logo.jpg">' in rewritten msg 'ewriteimages 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def fake site name name default None if name 'SITE NAME' return 'openedx.localhost'else return default 
def set Default Privacy List disp listname None return set Active Privacy List disp listname 'default'
def get Sequence Index Plus One From Text file Text craft Sequence get Read Craft Sequence for craft Sequence Index in xrange len craft Sequence - 1 -1 -1 procedure craft Sequence Sequence Index gcodec Procedure Done file Text procedure return craft Sequence Index + 1 return 0
def  check available name  status  systemctl status name sd version salt   context   if sd version is not None and sd version > 231 return 0 <  status < 4 out  status if 'couldnotbefound' in out return Falsefor line in salt out '\n' match re '\\s+loaded \\s+ \\S+ ' line if match ret match 1 ! 'not-found' breakelse raise Command Execution Error "ailedtogetinformationonunit % name return ret 
def remove latex commands s chars []FOUND SLASH Falsefor c in s if c '{' if FOUND SLASH FOUND SLASH Falseelif c '}' passelif c '\\' FOUND SLASH Trueelif not FOUND SLASH chars c elif c FOUND SLASH Falsereturn ''.join chars 
def  get cohort representation cohort course group id partition id cohorts group info for cohort cohort assignment type cohorts assignment type cohort return {'name' cohort 'id' cohort 'user count cohort 'assignment type assignment type 'user partition id partition id 'group id group id 
def get full pci id pci id cmd " % pci id status full id commands cmd if status ! 0 return Nonereturn full id 
def flatten expr new new cls expr  class  args []for arg in expr if arg  class   cls args arg else args arg return new expr  class   *args
def Chi Squared name k return rv name Chi Squared Distribution k 
def get app submodules submodule name for name module in get app modules if module has submodule module submodule name yield name import module u % name submodule name 
def rate rate if rate if isinstance rate basestring ops _ modifier rate '/' return RATE MODIFIER MAP[ modifier or 's' ] int ops or 0 return rate or 0 return 0
def regions language x a language [] for tag language region iso639 iso3166 in LANGUAGE R E G I O N if iso639 x a iso3166 return sorted a key lambda tag tag ! x and tag or ''
def  next datetime with utc hour table name utc hour today datetime start date time datetime year today month today day today hour utc hour minute  get deterministic value for table name table name 60 second  get deterministic value for table name table name 60 if start date time < datetime one day datetime days 1 start date time + one dayreturn start date time 
def assert allclose actual desired rtol 1e-07 atol 0 err msg '' verbose True numpy allclose cupy actual cupy desired rtol rtol atol atol err msg err msg verbose verbose 
@receiver REGISTER USER def email marketing register user sender user None profile None **kwargs email config Email Marketing Configuration if not email config returnif user anonymous returnupdate user  create sailthru user vars user user user site  get current site new user True 
def get std icon name size None if not name 'SP ' name 'SP ' + name icon Q Widget .style .con getattr Q Style name if size is None return iconelse return Q Icon icon size size 
def  get indices input items wanted items try iter input items except raise Value Error 'heinput itemstosearchmustbeiterable try len wanted items except wanted items [wanted items isinstance wanted items basestring wanted items [wanted items [input items item for item in wanted items if item in input items ]
def  sinch x x2 x * x if abs x < 0.0135 return 1 + x2 / 6.0 * 1 + x2 / 20.0 * 1 + x2 / 42.0 else return np x / x 
def donate import webbrowserwebbrowser u //donate.wikimedia.org/w/index.php?title Special Fundraiser Landing Page new 2
def get state rules stats exploration id state name exploration exp services exploration by id exploration id state exploration name keys []for group in state groups for rule in group specs rule keys  OLD SUBMIT HANDLER NAME rule classified rule if state outcome rule keys  OLD SUBMIT HANDLER NAME exp domain D E F A U L T RULESPEC STR answer logs stats domain State Rule Answer Log multi exploration id [{'state name state name 'rule str rule key for rule key in rule keys results {}for ind answer log in enumerate answer logs results rule keys ] {'answers' answer log top answers 5 'rule hits answer log answer count results 
def get url conn urlopen url resp conn conn return resp 
def unpack handshake pay paylen len pay offset 0payarr []while offset < paylen h pay offset + 4 ] t l24 struct '3s h l struct '>I' '\x00' + l24 [0]payarr.append t l pay offset + 4 offset + 4 + l ] offset offset + l + 4 return payarr 
def write record pair read1 read2 fileobj  rec pair u * 2  rec pair no qual u * 2 if hasattr read1 u assert hasattr read2 u recstr  rec pair % read1 read1 read1 read2 read2 read2 else recstr  rec pair no qual % read1 read1 read2 read2 try fileobj bytes recstr u except Type Error fileobj recstr 
def  naive eval x t c k if x t i kelse i np t x - 1 assert t < x < t i + 1 ] assert i > k and i < len t - k return sum c i - j ] *  naive B x k i - j t for j in range 0 k + 1
def w2p pack filename path compiled False filenames None filename abspath filename path abspath path tarname filename + '.tar' if compiled tar compiled tarname path '^[\\w\\.\\-]+$' exclude content from ['cache' 'sessions' 'errors'] else tar tarname path '^[\\w\\.\\-]+$' filenames filenames exclude content from ['cache' 'sessions' 'errors'] w2pfp gzopen filename 'wb' tarfp open tarname 'rb' w2pfp tarfp w2pfp tarfp os tarname 
def select query query type 'list nodes select client  get client info client query query type return info 
def condense semicolons css return re ';;+' ';' css 
def scala fat library name srcs [] deps [] resources [] source encoding None warnings None exclusions [] **kwargs target Scala Fat Library name srcs deps resources source encoding warnings exclusions kwargs blade target target 
@after.each scenariodef screenshot on error scenario if scenario try output dir '{}/log'.format settings T E S T ROOT image name '{}/{}.png'.format output dir scenario '' '_' world screenshot image name except Web Driver Exception L O G G E R 'ouldnotcaptureascreenshot 
def  uid Xform line index uid line None 1 return int index - 1 uid 
def Expand Xcode Variables string expansions matches  xcode variable re string if matches None return stringmatches for match in matches to replace variable matchif not variable in expansions continuereplacement expansions re re to replace replacement string return string 
def update server info repo repo put named file os 'info' 'refs' ''.join generate info refs repo repo put named file os 'objects' 'info' 'packs' ''.join generate objects info packs repo 
def is writable path if os path return bool os path .st mode & stat S IWUSR else return True 
def permission blacked out course role names permission name return not course posts allowed and role names {FORUM ROLE STUDENT} and any [permission name prefix for prefix in ['edit' 'update' 'create']]
def reorder suite suite classes reverse False class count len classes suite class type suite bins [rdered Set for i in range class count + 1 ]partition suite by type suite classes bins reverse reverse reordered suite suite class for i in range class count + 1 reordered suite Tests bins return reordered suite 
def  urlfetch to gcs stub url payload method headers request response follow redirects False deadline None validate certificate None headers map dict header .lower header for header in headers result dispatch method headers map url payload response statuscode result code response content result urlfetch stub M A X RESPONSE SIZE] for k v in result if k 'content-length' and method ! 'HEAD' v len response header proto response header header proto key k header proto value str v if len result > urlfetch stub M A X RESPONSE SIZE response contentwastruncated True 
def for dtypes combination types names 'dtype' full None if full is None full int os 'CUPY TEST FULL COMBINATION' '0' ! 0 if full combination parameterized {name types for name in names else ts []for _ in range len names t list types random t ts t combination [dict zip names typs for typs in zip *ts ]def decorator impl @functools.wraps impl def test func self *args **kw for dtypes in combination kw copy kw kw copy dtypes try impl self *args **kw copy except Exception print dtypes raisereturn test funcreturn decorator 
def get Points From Path path radius threshold Ratio 0.9 if len path < 1 return []if len path < 2 return pathradius abs radius points [alf Path path points radius threshold Ratio add Half Path path -1 ] points radius threshold Ratio return points 
def  build locale table filename or file from xml import parsedom parse filename or file reps dom Elements By Tag Name 'representation' locs map lambda r r Nodes reps locale map {}for loc in locs lang _ reg loc '_' lang map locale map lang {'regs' [] 'default' reg lang map reg locale map ' S map ' A map ' N map ' R map ' T locale map 
@open file 1 mode 'wb' def write pajek G path encoding 'UTF-8' for line in generate pajek G line + '\n'path.write line encoding 
def  display library library key string request library key Course Key string library key string if not isinstance library key Library Locator log 'on A P I raise Http404if not has studio read access request library key log u User request unicode library key raise Permission Denied library modulestore .get library library key if library is None log u Library unicode library key raise Http404response format 'html'if request G E T 'format' 'html' 'json' or 'application/json' in request M E T A 'HTTP ACCEPT' 'text/html' response format 'json'return library blocks view library request response format 
def read bool fid return  unpack simple fid '>?' np 
def get sample cats pmf category return {k pmf for k in pmf if pmf ! '' }
def validate ternary setting value option parser config parser None config section None if isinstance value bool or value is None return valuetry return option parser .lower ]except Key Error return value 
def production env ['cabot.arachnys.com']
def get pxe mac path mac return os C O N F root 'pxelinux.cfg' '01-' + mac ' ' '-' .lower
def prepare rows as nested dicts query nested dict column names all dicts []for row in query related row dict row object dict for column in nested dict column names if row dict is not None row dict getattr row column .get object dict all dicts row dict return prepare for serialization all dicts 
def floating ip destroy context address return I M P L ip destroy context address 
def register adapter mod func if not hasattr func '  call  ' raise Type Error 'funcmustbecallable' imports imported mod func 
def qos specs delete context qos specs id return I M P L specs delete context qos specs id 
def force implementation modname global implementationfor name spec in [ e e for e in  modules if name modname implementation  Json Implementation spec returnraise Import Error 'omodulenamed %s' % modname 
def delay denial func func denial True func def wrapped *a **kw return func *a **kw return wrapped 
def remove arg args arg has param False for idx found arg in enumerate args if found arg arg if has param slice idx idx + 2 else slice idx idx + 1 args args idx + args idx ] breakreturn args 
def randlist n amp ds {}rng []for i in range 10000 while 1 b randint 50000 if b not in ds rng b ds 1breakreturn rng 
def get bound method class m return m class if sys < '3' else m  self  .  class  
def separate stains rgb conv matrix rgb dtype as float rgb force copy True rgb + 2stains np np - np rgb -1 3 conv matrix return np stains rgb 
def test ncr sk estimator check estimator Neighbourhood Cleaning Rule 
def quote c assert isinstance c bytes and len c 1 c ord c return ESCAPE + bytes HEX[ c // 16 ] HEX[ c % 16 ]
def load mrjob conf conf path None conf path  expanded mrjob conf path conf path return  conf object at path conf path 
def send email after import email result if '  error in result send email email action EVENT IMPORT FAIL subject MAILS[EVENT IMPORT F A I L html MAILS[EVENT IMPORT F A I L error text result else send email email action EVENT IMPORTED subject MAILS[EVENT I M P O R T E D event name result html MAILS[EVENT I M P O R T E D event url request root '/' + '/events/%d' % result 
@render to 'distributed/learn.html' def learn request context {'channel' CHANNEL 'pdfjs' settings P D F J S context 
def create document editor group group group created Group or create name 'editor' if group created actions 'add' 'change' 'delete' 'view' 'restore' perms [ermission codename '%s document % action for action in actions permsgroup return group 
def  check for invalid keys fname kwargs compat args diff set kwargs - set compat args if diff bad arg list diff [0]raise Type Error "{fname} gotanunexpectedkeywordargument fname fname arg bad arg 
def s3 set default filter selector value tablename None s3 current defaults s3for level in 'filter defaults tablename if level not in filter defaults filter defaults {}filter defaults filter defaults defaults value 
def get Checkpoint Parent Dir experiment Dir base Dir os experiment Dir 'savedmodels' base Dir os base Dir return base Dir 
def  file reader fh while True chunk fh DOWNLOAD CHUNK SIZE if chunk '' fh break yield chunk 
def Init And Run run callback shutdown callback None scan ops False server logging True main Init And Run run callback partial  Start W W W run callback scan ops shutdown callback shutdown callback server logging server logging 
def  get indices Add expr inds list map get indices expr inds syms list zip *inds non scalars [x for x in inds if x ! set ]if not non scalars return set {} if not all [ x non scalars for x in non scalars ]] raise Index Conformance Exception 'ndicesarenotconsistent %s' % expr if not reduce lambda x y x ! y or y syms symmetries syms symmetries {}return non scalars symmetries 
def expand dictionary record separator '.' result {}for key value in record current resultpath key separator for part in path -1 ] if part not in current current {}current current -1 ]] valuereturn result 
def run  task 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def test cases suite for suite or case in suite tests if isinstance suite or case unittest Test Case yield suite or case else for case in test cases suite or case yield case 
def update counter page node info None db None from osf import Page Counterreturn Page Counter counter page node info 
@magic arguments 'frobnicate' @argument '-f' '--foo' help 'anargument' def magic foo5 self args return parse argstring magic foo5 args 
def exception from message code message headers None kwargs {'code' code 'message' message 'headers' headers headers and 'retry after in headers kwargs after headers after  code map code Base H T T P Error return cls **kwargs
def inverse matrix matrix return numpy matrix 
@not implemented for 'undirected' def attracting component subgraphs G copy True for ac in attracting components G if copy yield G ac .copy else yield G ac 
def  insert links data dict limit offset data dict links {}try urlstring toolkit C K A N CURRENT U R L Key Error Type Error returnparsed list urlparse urlstring query urllib2 parsed arguments dict urlparse qsl query arguments start dict arguments arguments prev dict arguments arguments next dict arguments if 'offset' in arguments start arguments start 'offset' arguments next int offset + int limit arguments prev int offset - int limit parsed start parsed ]parsed prev parsed ]parsed next parsed ]parsed start urllib arguments start parsed next urllib arguments next parsed prev urllib arguments prev data dict links urlparse parsed start data dict links urlparse parsed next if int offset - int limit > 0 data dict links urlparse parsed prev 
def is Point Added Around Closest pixel Table layer Extrusion Width paths removed Endpoint Point width closest Distance Squared 1ath Index Nonefor path Index in xrange len paths path paths Index point Index in xrange len path point path Index Squared abs point - removed Endpoint Point if distance Squared < closest Distance Squared closest Distance Squared distance Squaredclosest Path Index path Indexif closest Path Index None returnif closest Distance Squared < 0.8 * layer Extrusion Width * layer Extrusion Width returnclosest Path paths Path Index Point Index get With Least Length closest Path removed Endpoint Point if is Added Point On Path Free closest Path pixel Table removed Endpoint Point closest Point Index width add Point On Path closest Path closest Path Index pixel Table removed Endpoint Point closest Point Index width return Truereturn is Side Point Added pixel Table closest Path closest Path Index closest Point Index layer Extrusion Width removed Endpoint Point width 
@ssl requireddef aaq step5 request product key category key return aaq request product key product key category key category key showform True step 3
def  get sorted time zone list time zone list return sorted [ get time zone dictionary time zone for time zone in time zone list key lambda tz dict tz dict 
def Get M D5 Hashes fname force False new encoding Truetable {}if force or not flag file os fname [0] QCHECK FILE try f open fname 'rb' except return table new encoding new encoding Falsetry header f 8 while header name hash Parse File Packet f header new encoding | is utf8 name if name table hashheader f 8 except struct Index Error logging 'annotusecorruptpar2filefor Quick Check "%s"' fname table {}except logging 'uick Checkparsercrashedinfile fname logging 'raceback ' exc info True table {}f.close return table new encoding 
def set date or time css date or time world fill css date or time e world find css .firste. element keys Keys E N T E R 
def move item xy item x y animate True duration None move item item Q Point F x y animate duration 
def dp value return dpi2px value 'dp'
def parse args parser argparse Argument Parser parser argument '--profile-tool' metavar 'TOOL' action 'store' choices ['kcachegrind' 'snakeviz' 'gprof2dot' 'none'] default 'snakeviz' help 'hetooltousetoviewtheprofilingdata parser argument '--profile-file' metavar 'FILE' action 'store' help 'hefilenametousewith none return parser known args 
def  butter analog poles n poles []for k in range - n + 1 n 2 poles - mpmath 1j * mpmath * k / 2 * n return poles 
def get private key size private key passphrase None return  get private key obj private key passphrase .size * 8
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def high data test None queue False **kwargs conflict  check queue queue kwargs if conflict is not None return conflictopts  get opts kwargs 'localconfig' opts  get test value test **kwargs pillar kwargs 'pillar' pillar enc kwargs 'pillar enc if pillar enc is None and pillar is not None and not isinstance pillar dict raise Salt Invocation Error 'illardatamustbeformattedasadictionary unlesspillar encisspecified try st  salt State opts pillar pillar enc pillar enc proxy   proxy   context   context   except Name Error st  salt State opts pillar pillar enc pillar enc ret st .call high data  set retcode ret return ret 
def key pair create context values return I M P L pair create context values 
def topic rule absent name rule Name region None key None keyid None profile None ret {'name' rule Name 'result' True 'comment' '' 'changes' {}}r   salt  ['boto iot rule exists rule Name region region key key keyid keyid profile profile if 'error' in r ret Falseret 'ailedtodeleterule {0}.'.format r return retif r and not r ret 'ule rule Name return retif   opts  ['test'] ret 'ule rule Name ret Nonereturn retr   salt  ['boto iot topic rule rule Name region region key key keyid keyid profile profile if not r ret Falseret 'ailedtodeleterule {0}.'.format r return retret {'rule' rule Name {'rule' None 'ule rule Name return ret 
def get field on block block field name default value None try if block name set on block return getattr block field name except Key Error passreturn default value 
@image comparison baseline images [vent Collection plot  switch orientation def test  Event Collection  switch orientation splt coll props generate Event Collection plot new orientation u orientation assert equal new orientation coll orientation assert equal False coll horizontal new positions coll positions check segments coll new positions props props new orientation splt title u Event Collection switch orientation splt ylim -1 22 splt xlim 0 2
def  get innerhtml html node html string  get outerhtml html node html string re '^<[^<>]*?>' '' html string count 1 return re '<[^<>]*?>$' '' html string count 1
def safe open path mode 'w' chmod None buffering None open args if chmod is None else chmod fdopen args if buffering is None else buffering return os os path os O CREAT | os O EXCL | os O RDWR *open args mode *fdopen args 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def xor pair data avoid '\x00\n' if isinstance data int long data packing data alphabet list chr n for n in range 256 if chr n not in avoid res1 ''res2 ''for c1 in data if context random alphabet for c2 in alphabet c3 chr ord c1 ^ ord c2 if c3 in alphabet res1 + c2res + c3breakelse return Nonereturn res1 res2 
def have pyrex pyrex impls 'ython Distutils ext 'yrex Distutils ext for pyrex impl in pyrex impls try   import   pyrex impl fromlist ['build ext .build extreturn Trueexcept Exception passreturn False 
def min resize x size interpolation cv2 I N T E R LINEAR w h map float x 2] if min [w h ! size if w < h x cv2 x int round h / w * size int size interpolation interpolation else x cv2 x int size int round w / h * size interpolation interpolation return x 
def transposelist arrays axes extradims 0 if len axes ! ndimlist arrays raise Value Error 'engthofaxesshouldequaldepthofnestedarrays if extradims < 0 raise Value Error '`newdims`shouldbepositive' if len axes > len set axes raise Value Error '`axes`shouldbeunique' ndim max axes + 1 shape shapelist arrays newshape [ shape i ] if i in axes else 1 for i in range ndim + extradims ]result list core arrays return reshapelist newshape result 
def list records after None before None ret {}fmdump  check fmdump cmd '{cmd}{after}{before}'.format cmd fmdump after '-t{0}'.format after if after else '' before ' before if before else '' res   salt  ['cmd.run all cmd retcode res {}if retcode ! 0 result Error 'errorexecutingfmdump'else result  parse fmdump res return result 
def get template attribute template name attribute return getattr current app env template template name .module attribute 
def create html api key attrs gif get gif api key attrs id if 'alt' not in attrs attrs 'source {}'.format gif html out '<ahref "{}">'.format gif html out + '<imgsrc "{}"alt "{}">'.format gif attrs html out + '</a>'return html out 
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
@nox.parametrize 'sample' ALL SAMPLE DIRECTORIES def session lint session sample session 'flake8' 'flake8-import-order' local names  determine local import names sample args FLAKE8 COMMON ARGS + ['--application-import-names' ' '.join local names '.'] session sample session 'flake8' *args
def set cert generation enabled course key is enabled Certificate Generation Course Setting enabled for course course key is enabled cert event type 'enabled' if is enabled else 'disabled' event name '.'.join ['edx' 'certificate' 'generation' cert event type tracker event name {'course id unicode course key } if is enabled log u Enabledself unicode course key else log u Disabledself unicode course key 
@skip 'multiple execute @retry on failuredef test makefile refcount def echoer port s socket s 'localhost' port s 5 s2 ignore s s2 s2 10 port 50008thread.start new thread echoer port time 0 s socket s 'localhost' port f1 s 'r' f2 s 'w' s test msg 'abc\n'f2.write test msg f2 str f1 Assert str test msg 
def test local legacy flag script data script 'install' '-f' data links '--no-index' 'simple 1.0' result script 'list' '--local' '--format legacy assert 'simple 1.0 ' in result 
def test zero assert satask Q x | Q y Q x * y is True assert satask Q x * y Q x | Q y is True assert satask Implies Q x Q x * y is True assert satask Q x | Q y Q x * y is False assert satask Q x Q x ** 2 is True 
def read uic4tag fh byteorder dtype plane count assert dtype '1I' and byteorder '<' result {}while True tagid struct '<H' fh 2 [0]if tagid 0 break name value read uic tag fh tagid plane count offset False result valuereturn result 
def  get sr comments sr id q Comment query Comment id sr id sort desc ' date return make results q 
def get Angle Difference By Complex subtract From Complex subtract Complex subtract Complex Mirror complex subtract Complex - subtract Complex difference Complex subtract Complex Mirror * subtract From Complex return math difference Complex difference Complex 
def password response password times called None silent True fake Fake 'getpass' callable True if isinstance password String Types passwords [password]else passwords list password echo lambda x y y x + '\n' if x ! '' else '' fake fake passwords 0 if not silent fake fake echo for pw in passwords fake fake call .returns pw if not silent fake fake echo if times called fake fake called times called return patched context getpass 'getpass' fake 
def missing docutils page request return render to response 'admin doc docutils 
def tweak code func codestring None consts None co func  code  tp type co if codestring is None codestring co codeif consts is None consts co constsif sys info > 3 new code tp co argcount co kwonlyargcount co nlocals co stacksize co flags codestring consts co names co varnames co filename co name co firstlineno co lnotab else new code tp co argcount co nlocals co stacksize co flags codestring consts co names co varnames co filename co name co firstlineno co lnotab func  code   new code 
def fix reg approved log params targets logger 'igratingregistration approvedlogs count 0for log in targets log Registration Approval log approval id . get registration . idlogger 'pdatingparams {} params {}'.format log id log log log node log count + 1logger.info '{}logsmigrated'.format count 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def  test form Ev Form 'evennia.utils.evform test form cells {'AA' 'omthe Bouncer 2 'riatch 3 'sturdyfellow 4 12 5 10 6 5 7 18 8 10 9 3} table A Ev Table 'HP' 'MV' 'MP' table [['**'] ['*****'] ['***']] border 'incols' table B Ev Table 'kill 'alue 'xp table [hooting 'erbalism 'mithing [12 14 9] ['550/1200' '990/1400' '205/900']] border 'incols' form tables {'A' table A 'B' table B return unicode form 
def set values data if data value for args in data value doc frappe doc args args or args doc args args doc 
def  get domain *vms **kwargs ret list lookup vms list conn   get conn all vms list domains if not all vms raise Command Execution Error 'ovirtualmachinesfound if vms for vm in vms if vm not in all vms raise Command Execution Error 'he V M name vm else lookup vms vm else lookup vms list all vms for vm in lookup vms ret conn By Name vm return len ret 1 and not kwargs 'iterable' and ret or ret 
def read Write Navigation Help document Directory Path transferred File Name Index transferred File Names file Name os transferred File Names File Name Index print 'rite Navigation Help + file Name file Path os document Directory Path file Name file Text archive File Text file Path file Text get Navigation Hypertext file Text transferred File Name Index transferred File Names archive File Text file Path file Text 
def find tex file filename format None cmd ['kpsewhich']if format is not None cmd + [ '--format ' + format ]cmd + [filename]matplotlib.verbose.report 'find tex file %s %s' % filename cmd 'debug' pipe subprocess Popen cmd stdout subprocess P I P E result pipe [0].rstrip matplotlib 'find tex fileresult %s' % result 'debug' return result 
def id srando  id srando 
def encode company abbr name company company abbr frappe value u Company company u parts name u 1 if parts -1 ].lower ! company abbr parts company abbr return u [parts[0] company abbr 
def  Get Guid Of Project proj path spec default config  Get Default Configuration spec guid default config 'msvs guid if guid if VALID MSVS GUID C H A R S guid is None raise Value Error 'nvalid M S V Sguid "ustmatchregex "%s".' % guid VALID MSVS GUID C H A R S guid '{%s}' % guid guid guid or M S V S New Make Guid proj path return guid 
@csrf protect cachedef login request template name 'registration/login.html' redirect field name REDIRECT FIELD NAME authentication form Authentication Form redirect to request R E Q U E S T redirect field name '' if request 'POST' form authentication form data request P O S T if form valid if not redirect to or '' in redirect to redirect to settings L O G I N REDIRECT U R Lelif '//' in redirect to and re '[^\\?]*//' redirect to redirect to settings L O G I N REDIRECT U R Lauth login request form user if request cookie worked request test cookie return Http Response Redirect redirect to else form authentication form request request test cookie current site get current site request return render to response template name {'form' form redirect field name redirect to 'site' current site 'site name current site context instance Request Context request 
def authorize api handle user resource arg1 None arg2 None return True 
def  get change list state name property name new value return [{'cmd' 'edit state property 'state name state name 'property name property name 'new value new value 
def is abstract model model return hasattr model ' meta and hasattr model meta 'abstract' and model meta 
def validate embargo end date end date string node end date parse date end date string ignoretz True .replace tzinfo pytz today timezone if end date - today < settings D R A F T REGISTRATION APPROVAL PERIOD raise H T T P Error http B A D REQUEST data {'message short 'nvalidembargoenddate 'message long 'mbargoenddateforthissubmissionmustbeatleast settings D R A F T REGISTRATION APPROVAL PERIOD } elif not node is embargo date valid end date max end date today + settings D R A F T REGISTRATION APPROVAL PERIOD raise H T T P Error http B A D REQUEST data {'message short 'nvalidembargoenddate 'message long 'mbargoenddatemustonorbefore max end date }
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def test find module 2 nt is none mp module 'xmod' []
def get pickle protocol try protocol str os P Y L E A R N2 PICKLE P R O T O C O L Key Error protocol str '0'if protocol str ' I G H E S T PROTOCOL' return pickle H I G H E S T P R O T O C O Lreturn int protocol str 
def  best Driver dev Names dev I Ds preferred Drivers prefs Driver I D Noneaudio Driver Noneos Encoding sys for pref Driver in preferred Drivers logging 'ookingfor pref Driver if pref Driver 'directsound' pref Driver u Primary Sound dev N dev String in enumerate dev Names logging 'xaminingfor dev String try ds dev String os Encoding .encode 'utf-8' .lower if pref Driver 'utf-8' .lower in ds audio Driver dev String os Encoding .encode 'utf-8' output I D dev I Ds N 'uccess {}'.format dev String return audio Driver output I D except Unicode Decode Error Unicode Encode Error logging 'ailed {}'.format dev String logging 'findbestsounddriver-couldnotinterpretunicodeindrivername' else return None None 
def xonsh superhelp x lineno None col None return xonsh call '  xonsh superhelp  ' [x] lineno lineno col col 
def bohachevsky individual return sum x ** 2 + 2 * x1 ** 2 - 0.3 * cos 3 * pi * x - 0.4 * cos 4 * pi * x1 + 0.7 for x x1 in zip individual -1 ] individual ]
@lru cache 1 def  containers from deployment deployment results []for node in deployment for application in node results container configuration response application node return results 
def Start Main main argv None global FLAGSFLAGS P A R S E R args args argv try main [sys.argv[0]] except Exception if F L A G S pdb mortem raise 
def  pick format album fmt None if fmt return fmtif album return config format album unicode else return config format item unicode 
def  rows from json rows schema return [ row from json row schema for row in rows 
def encrypt master key master key public key key R S A Key public key cipher PKCS1 O A E P key return cipher master key 
def pants release return u Pants //pypi.python.org/pypi/pantsbuild.pants/{version}'.format version pants version 
def serialize stream stream obj check qdatastream stream stream << obj check qdatastream stream 
def plot normal mix pis mus sigmas ax label '' comp True x np -10.5 10.5 250 final np like x for i weight mix mu mix sigma mix in enumerate zip pis mus sigmas temp stats x mu mix sigma mix * weight mix final final + temp if comp ax x temp label 'ormal + str i ax x final label 'ixtureof Normals + label ax fontsize 13
def standard icon standard pixmap style Q Application .style return style Icon standard pixmap 
def test cp14632 def helper func class C def   eq   self *args **kwargs return Truea C Assert C 3 x  weakref a y  weakref a Are Equal x y keep alive a return x y x y helper func gc Assert not x 3 Assert Error Reference Error lambda x y 
def test editable install from local directory with no setup py script data result script 'install' '-e' data expect error True assert not result created assert "ile in result 
def DEFINE parser name default help flag values FLAGS serializer None **args DEFINE flag Flag parser serializer name default help **args flag values 
def extract read info data fname seq qual get read data data seqstring qualstring format as fasta data seq qual xmlstring create xml for unpaired read data fname return seqstring qualstring xmlstring 
def  pull assemble error status status ret logs comment 'nerroroccurredpullingyourimage ''try out '\n' + ret for err log in logs if isinstance err log dict if 'etail in err log if 'code' in err log Detail msg '\n{0}\n{1} {2}'.format err log err log Detail err log Detail else msg '\n{0}\n{1}'.format err log err log Detail comment + msgexcept Exception out traceback exc  invalid status out out comment comment return status 
def javascript catalog request domain 'djangojs' packages None locale to locale get language if request G E T and 'language' in request G E T if check for language request G E T locale to locale request G E T if packages is None packages ['django.conf']if isinstance packages six types packages packages '+' catalog plural get javascript catalog locale domain packages return render javascript catalog catalog plural 
@with setup prepare stdout def test output snippets with groups within single quotes colorless runner Runner feature name 'single-quoted-snippet' verbosity 3 no color True runner assert stdout lines u Feature single features 1cenario Proposematchedgroups features 2iven Ihave features 3 undefined \n\n1feature 0passed \n1scenario 0passed \n1step 1undefined 0passed \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Given Ihave [^\\']* \\'and\\' [^\\']* \\'' \ndefgiven i have group1 and group2 step group1 group2 \alse 'hisstepmustbeimplemented 
def freeze G G node frozen G nodes from frozen G node frozen G nodes from frozen G edge frozen G edges from frozen G edge frozen G edges from frozen G frozen G Truereturn G
def save auth tokens token dict user None if user is None user users current user if user is None return Nonememcache 'gdata pickled tokens %s' % user pickle token dict user tokens Token Collection .filter 'user ' user .get if user tokens user tokens tokens pickle token dict return user tokens else user tokens Token Collection user user pickled tokens pickle token dict return user tokens 
def get template dirs from django import settingsdirs set if 'django.template.loaders.filesystem.load template source in settings T E M P L A T E LOADERS or 'oader in settings T E M P L A T E LOADERS dirs map unicode settings T E M P L A T E DIRS if 'django.template.loaders.app directories template source in settings T E M P L A T E LOADERS or 'django.template.loaders.app directories Loader in settings T E M P L A T E LOADERS from django directories import app template dirsdirs app template dirs return dirs 
def job show context data dict return {'success' False 
def needsquoting c quotetabs header if c in ' DCTB ' return quotetabsif c '_' return headerreturn c ESCAPE or not '' < c < '~'
def reverse Name From I P Address address try socket pton socket A F INET address except socket return reverse Name From I Pv6 Address address else return reverse Name From I Pv4 Address address 
def build user agent global USER A G E N Tif USER AGENT return USER A G E N Tua tuple 'ozilla ' % ' % platform platform [0] 'ython % platform version ' KHTML like Gecko ' 'speedtest-cli/%s' %   version   USER AGENT ''.join ua tuple printer USER AGENT debug True return USER AGENT
def remove volume type access context volume type id project id if volume type id is None msg _ 'volume type idcannotbe None raise exception Invalid Volume Type reason msg elevated context if context admin else context if is public volume type elevated volume type id msg _ 'ypeaccessmodificationisnotapplicabletopublicvolumetype raise exception Invalid Volume Type reason msg db type access remove elevated volume type id project id notify about volume type access usage context volume type id project id 'access.remove'
def datetime to seconds date return date + 60 * date + 3600 * date 
def build dist from args ctx dist args bs Bootstrap bootstrap args ctx build order python modules bs get recipe order and bootstrap ctx dist bs ctx build order build orderctx modules python modulesif python modules and hasattr sys 'real prefix error 'ythonmodules but error 'virtualenvdoesnotsupportnesting andyouarerunning error 'leaserunp4aoutsideofa error 'virtualenvinstead.' exit 1 info 'heselectedbootstrapis bs info main 'reatingdistwith bs bs distinfo notify 'istwillhavename {} '.format dist ' '.join dist ctx name bs bootstrap bs ctx dist ctx name build recipes build order python modules ctx ctx distribute info main 'ourdistributionwascreatedsuccessfully exiting info 'istcanbefoundat fornow {}'.format join ctx dir ctx name 
def get chunk samples labels chunk Size if len samples ! len labels raise Exception 'engthofsamplesandlabelsmustequal step Start 0i 0while step Start < len samples step End step Start + chunk Size if step End < len samples yield i samples Start step End labels Start step End i + 1tart step End 
def aggregate get context aggregate id return I M P L get context aggregate id 
def  get umf family A family {'di' 'di' 'i 'zi' 'dl' 'dl' 'l 'zl'}dt A + A return family 
def generate signed link user viewname args None kwargs None if hasattr user 'is authenticated if not user authenticated raise Runtime Error 'eedanauthenticatedusertosignalink user id user user id userpath reverse viewname args args kwargs kwargs item '%s|%s|%s' % options 'system.url-prefix' path base36 encode user id signature ' '.join get signer .sign item .rsplit ' ' 2 [1 ] return '%s?  %s %s' % absolute uri path base36 encode user id signature 
def jackknife stats data statistic conf lvl 0.95 from scipy import erfinvn data n > 0 u jackknife resampling data stat data statistic data jack stat np along axis statistic 1 resamples mean jack stat np jack stat axis 0 bias n - 1 * mean jack stat - stat data std err np n - 1 * np jack stat - mean jack stat * jack stat - mean jack stat axis 0 estimate stat data - bias assert conf lvl > 0 and conf lvl < 1 u 0 1 .'z score np 2.0 * erfinv conf lvl conf interval estimate + z score * np - std err std err return estimate bias std err conf interval 
def get system time now win32api Get Local Time meridian ' M int now if hours 12 meridian ' M hours 0 hours 12elif hours > 12 hours hours - 12 meridian ' M '{0 02d} {1 02d} {2 02d}{3}'.format hours now now meridian 
def  get privacy fields privacy level data {}for field in User Profile Privacy Model meta data privacy leveldata tshirt P R I V I L E G E Dreturn data 
def clean Headers headers method body host port if headers is None headers []found Falsefor k v in headers if k 'host' found Truebreakif not found if port 80 headers 'ost host else headers 'ost '%s %s' % host port if method in methods with bodies found Falsefor k v in headers if k 'content-type' found Truebreakif not found headers 'ontent Type 'application/x-www-form-urlencoded' headers 'ontent Length str len body or '' return headers 
def is weekly release version parsed version parse version version return parsed version release is not None and parsed version count is None and parsed version release is None and parsed version is None 
def fetch lfw people data home None funneled True resize 0.5 min faces per person 0 color False slice  slice 70 195 slice 78 172 download if missing True lfw home data folder path check fetch lfw data home data home funneled funneled download if missing download if missing logger 'oading L F Wpeoplefacesfrom lfw home m Memory cachedir lfw home compress 6 verbose 0 load func m  fetch lfw people faces target target names load func data folder path resize resize min faces per person min faces per person color color slice  slice  return Bunch data faces len faces -1 images faces target target target names target names DESCR ' F Wfacesdataset 
def generate s limit 20 return  gen parse s limit 
def validate stringlist s if type s is str return [v.strip for v in s ' ' ]else assert type s in [list tuple return [str v for v in s 
def proxy For Interface iface original Attribute 'original' def   init   self original setattr self original Attribute original contents {'  init  '   init  }for name in iface contents  Proxy Descriptor name original Attribute proxy type ' Proxyfor ' % reflect iface object contents declarations Implements proxy iface return proxy 
def Account List Feed From String xml string feed atom Create Class From X M L String Account List Feed xml string for entry in feed for pro in entry entry  dict  [pro.name.replace 'ga ' '' ] profor td in entry Id td  dict  ['value'] td feed 
def update unread queries inbox rels insert True mutator None if not mutator m Cached Query Mutator else m mutatorinbox rels tup inbox rels for inbox rel in inbox rels thing inbox rel thing2user inbox rel thing1if isinstance thing Comment if inbox rel name 'inbox' query get unread comments user id elif inbox rel name 'selfreply' query get unread selfreply user id elif inbox rel name 'mention' query get unread comment mentions user id elif isinstance thing Message query get unread messages user id else raise Value Error "can'thandle%s" % thing  class  .  name   if insert m query [inbox rel else m query [inbox rel if not mutator m 
def sync runners saltenv 'base' return salt   opts   'runners' saltenv saltenv [0]
def sgf iter states sgf string include end True collection sgf sgf string game collection  sgf init gamestate game if game is not None for node in game props node 'W' in props move  parse sgf move props W player go W H I T Eelif 'B' in props move  parse sgf move props B player go B L A C K yield gs move player gs move move player if include end yield gs None None 
def getappattr path from celery import current appreturn current app rgetattr path 
def addresses from address families address families return Addresses tuple a for af in address families for a in af 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def get nested value d key if '.' not in key if key not in d return Nonereturn d base key sub key key '.' 1 if base key not in d return Nonesub dict d key get nested value sub dict sub key 
def plugin loaded name if name in  PLUGINS return Truereturn False 
def mode x counts Counter x max count max counts return [x i for x i count in counts if count max count ]
def  truncate digest for dsa dsa cdata digest backend order bits backend lib B N num bits dsa cdata return  truncate digest digest order bits 
def valid path value value 'ascii' if not value and value '/' return Falseif not Definitions P A T H R E value return Falsereturn True 
def get date formats warnings "'django.utils.translation.get date formats Pleaseupdateyourcodetousethenewi18nawareformatting Deprecation Warning from django import settingsdate format ugettext 'DATE FORMAT' datetime format ugettext 'DATETIME FORMAT' time format ugettext 'TIME FORMAT' if date format 'DATE FORMAT' date format settings D A T E F O R M A Tif datetime format 'DATETIME FORMAT' datetime format settings D A T E T I M E F O R M A Tif time format 'TIME FORMAT' time format settings T I M E F O R M A Treturn date format datetime format time format 
def corrupt D L L create Assembly 'CORRUPT' 'CORRUPT' -1 file open ' O R R U P T 'rb' joe file file joe len joe / 2 'ileisnowcorrupted file open ' O R R U P T 'wb' file joe file 
def load json sent flist json subset pct subset fnum int np subset pct / 100.0 * len flist json all sent []for f in flist json subset fnum data load json f num sent len data if num sent < 0 continuenum sent len data sent [data['text'][i]['sentence'] for i in range num sent ]all sent + sentreturn all sent 
@ F F I u U T F8 Buffer Extern Context Id ' def extern id to str context handle id  c  F F I handle context handle return c buf str c id id 
def default try conn get connection if conn log 'configuringnewdefaultconnectionforcqlenginewhenonewasalreadyset' except passconn register connection 'default' hosts None default True conn log 'cqlengineconnectioninitializedwithdefaultsessiontolocalhost'
@environmentfilterdef do attr environment obj name try name str name except Unicode Error passelse try value getattr obj name except Attribute Error passelse if environment and not environment safe attribute obj name value return environment undefined obj name return valuereturn environment obj obj name name 
def read registers task addr space return list read int list task - 21 * address size task addr space 
def clause reldict relsym items relsym reldict reldict return '%s %r %r ' % items 
def stack tup axis 0 return concatenate [cupy.expand dims x axis for x in tup axis 
@depends HAS PYVMOMI def get host datetime host username password protocol None port None host names None service instance salt service instance host host username username password password protocol protocol port port host names  check hosts service instance host host names ret {}for host name in host names host ref  get host ref service instance host host name host name date time manager  get date time mgr host ref date time date time manager Query Date Time ret {host name date time return ret 
def case sensitive collator global  case sensitive collatorif  case sensitive collator is None  case sensitive collator collator .clone  case sensitive collator sort collator .numeric case sensitive collator first Truereturn  case sensitive collator 
def Build Objects default class stream loader yaml Safe Loader builder Object Builder default class handler yaml builder Builder Handler builder listener yaml listener Event Listener handler listener Parse stream loader return handler Get Results 
def proportions chisquare count nobs value None nobs np 1d nobs table expected n rows  table proportion count nobs if value is not None expected np stack nobs * value nobs * 1 - value ddof n rows - 1 else ddof n rows chi2stat pval stats table expected ddof ddof return chi2stat pval table expected 
def  template func setup func def inner  it  timer  func func setup  t0  timer for  i in  it  func  t1  timer return  t1 -  t0 return inner 
def without document lock f @wraps f def wrapper *args **kw return f *args **kw wrapper Truereturn wrapper 
def rewrite file imports item vendored libs text item text text re 'pkg resources 'pip. vendor text for lib in vendored libs text re ' \\n\\s* import % lib '\\1frompip. vendorimport % lib text text re ' \\n\\s* from % lib '\\1frompip. vendor % lib text item text text 
def unsubscribe request watch id try watch Watch pk watch id secret request G E T 's' if secret ! watch raise Watch Does Not Existexcept Watch Does Not Exist return render request 'motidings/unsubscribe error if request 'POST' watch return render request 'motidings/unsubscribe success return render request 'motidings/unsub.html' {'watch' watch 
def parse String string parser None if parser is None from xml import expatbuilderreturn expatbuilder String string else from xml import pulldomreturn  do pulldom parse pulldom String string {'parser' parser 
def repl absolute m base path link m 0 try scheme netloc path params query fragment is url is absolute parse url m 'path' [1 -1 ] if not is absolute and not is url path url2pathname path temp os os base path path if os temp path pathname2url temp '\\' '/' link '%s"%s"' % m 'name' urlunparse scheme netloc path params query fragment except Exception passreturn link 
def compose *funcs **kfuncs return reduce lambda f g lambda *args **kaargs f g *args **kaargs funcs 
def get sass directories system theme dir None if system not in SYSTEMS raise Value Error "'system'mustbeoneof {allowed values ".format allowed values ' '.join S Y S T E M S system S Y S T E M S directories list if theme dir applicable directories get theme sass dirs system theme dir else applicable directories get system sass dirs system return applicable directories 
def resolve ipv4 name flags 0 waiter Waiter core resolve ipv4 name flags waiter args result  type ttl addrs waiter if result ! core D N S ERR NONE raise D N S Error result return ttl addrs 
def  refresh quota usages quota usage until refresh in use if quota usage use ! in use L O G  LI 'quota usagesoutofsync updating id % project id s user id % user id s resource % res s trackedusage % tracked use s actualusage % in use s {'project id quota usage id 'user id quota usage id 'res' quota usage 'tracked use quota usage use 'in use in use else L O G 'uota Usagehasnotchanged refreshisunnecessaryfor %s' dict quota usage quota usage use in usequota usage refresh until refresh or None 
@not implemented for 'undirected' def strongly connected component subgraphs G copy True for comp in strongly connected components G if copy yield G comp .copy else yield G comp 
def  get wheel version package source return get installable version package source or version 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def person return s3 rest controller 'pr' 'person'
def config to yaml config assert 'init config in config "o config 'instances' in config "o instances Trueif config is None or not isinstance config list valid instances Falseelse yaml output yaml dump config default flow style False if not valid instances raise Exception 'ouneedtohaveatleastoneinstancedefinedinyourconfig return yaml output 
def cache master saltenv 'base' return  client .cache master saltenv 
def void output func argtypes errcheck True if argtypes func argtypesif errcheck func c intfunc check errcodeelse func Nonereturn func 
def  identity matcher target def match node return node is target return match 
def test hsl to rgb part 18 assert hsl to rgb 300 100 0 0 0 0 assert hsl to rgb 300 100 10 51 0 51 assert hsl to rgb 300 100 20 102 0 102 assert hsl to rgb 300 100 30 153 0 153 assert hsl to rgb 300 100 40 204 0 204 assert hsl to rgb 300 100 50 255 0 255 assert hsl to rgb 300 100 60 255 51 255 assert hsl to rgb 300 100 70 255 102 255 assert hsl to rgb 300 100 80 255 153 255 assert hsl to rgb 300 100 90 255 204 255 assert hsl to rgb 300 100 100 255 255 255
def create snappy message payloads key None message set Kafka Protocol encode message set [create message payload pl key for payload pl key in payloads snapped snappy encode message set codec ATTRIBUTE CODEC MASK & CODEC SNAPPY return kafka Message 0 0 | codec key snapped 
def  totuple x if isinstance x str out x elif isinstance x int float out str x elif x is None out None else out tuple x return out 
def get registered auth backends warn u registered auth backends isdeprecated Iterateoverreviewboard backendsinstead Deprecation Warning for backend in auth backends yield backend 
def op as string i op leaf formatter default leaf formatter node formatter default node formatter strs as string i op leaf formatter node formatter return node formatter op strs 
def  H n return struct '>H' n 
def add organization course organization data course id if not organizations enabled return Nonefrom organizations import api as organizations apireturn organizations api organization course organization data organization data course key course id 
def make signed jwt signer payload header {'typ' 'JWT' 'alg' ' S256 [ urlsafe b64encode  json encode header  urlsafe b64encode  json encode payload ]signing input '.'.join segments signature signer signing input segments  urlsafe b64encode signature logger str segments return '.'.join segments 
def libvlc audio output device enum mp f  Cfunctions 'libvlc audio output device enum None or  Cfunction 'libvlc audio output device enum 1 None ctypes P O I N T E R Audio Output Device Media Player return f mp 
def save carousel shop carousel pk configuration shop SAMPLE CAROUSEL KEY carousel pk 
@frappe.whitelist def get standard reply template name doc if isinstance doc basestring doc json doc standard reply frappe doc u Standard Reply template name return {u'subject' frappe template standard reply doc u frappe template standard reply doc }
def enable debug fo from libcloud import Connectionfrom libcloud import Logging Connection Logging Connection fo Connection class Logging Connection 
def get all tensor parents tensor parents list []parents list tensor if tensor for t in tensor parents list + get tensor parents t return list set parents list 
def actor request content type id object id ctype get object or 404 Content Type pk content type id instance get object or 404 ctype class pk object id return render to response 'actstream/actor.html' {'action list models stream instance 'actor' instance 'ctype' ctype context instance Request Context request 
def   before delete collection  sa initiator None executor collection sa adapterif executor executor pre remove event  sa initiator 
def get gateway host port cache replace False from fabric import env outputsock Noneproxy command ssh config .get 'proxycommand' None if env gateway normalize to string env if replace or gateway not in cache if output print 'reatingnewgatewayconnectionto % gateway cache connect * normalize gateway + cache False sock direct tcpip dict  getitem   cache gateway host port elif proxy command sock ssh Proxy Command proxy command return sock 
def get captcha challenge http body captcha base url 'http //www.google.com/accounts/' contains captcha challenge Falsecaptcha parameters {}for response line in http body if response line 'rror Captcha Required contains captcha challenge Trueelif response line 'aptcha Token ' captcha parameters response line ]elif response line 'aptcha Url ' captcha parameters '%s%s' % captcha base url response line ] if contains captcha challenge return captcha parameterselse return None 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def rollback name ret {'name' name 'changes' {} 'result' True 'comment' ''}ret['changes']   salt  ['junos.rollback'] return ret 
def connect to queues region None public True return  create client ep name 'queues' region region public public 
@block user agents G E T CORS G E T document pathdef children request document slug document locale expand 'expand' in request G E T max depth 5depth int request G E T 'depth' max depth if depth > max depth depth max depthresult []try doc Document locale document locale slug document slug result  make doc structure doc 0 expand depth if result is None result {'error' 'ocumenthasmoved Document Does Not Exist result {'error' 'ocumentdoesnotexist Json Response result 
def  has access xmodule user action xmodule course key return has access user action xmodule course key 
def get parent child from xpath name if '/' in name pname label name '/' 1 else pname Nonelabel namereturn pname label 
@log call 4byte paramsdef metadef tag update context namespace name id values global D A T Anamespace metadef namespace get context namespace name  check namespace visibility context namespace namespace name tag metadef tag get by id context namespace name id if tag ! values for db tag in D A T A tags if db tag values and db tag id namespace L O G 'nvalidupdate Itwouldresultinaduplicatemetadatadefinitiontagwithsamename % name sinnamespace % namespace name s {'name' tag 'namespace name namespace name raise exception Metadef Duplicate Tag name tag namespace name namespace name D A T A tags tag tag values tag at timeutils D A T A tags tag return tag 
def maybe shutdown if should stop is not None and should stop is not False raise Worker Shutdown should stop elif should terminate is not None and should terminate is not False raise Worker Terminate should terminate 
@not implemented for 'directed' def clustering G nodes None weight None if weight is not None td iter  weighted triangles and degree iter G nodes weight clusterc {v 0 if t 0 else t / d * d - 1 for v d t in td iter td iter  triangles and degree iter G nodes clusterc {v 0 if t 0 else t / d * d - 1 for v d t _ in td iter nodes in G return clusterc clusterc 
def memoized instancemethod fn def oneshot self *args **kw result fn self *args **kw memo lambda *a **kw result memo  name   fn  name  memo  doc   fn  doc  self  dict  [fn.  name  ] memoreturn resultreturn update wrapper oneshot fn 
def deprecated Worker Class Property scope prop compat name None new name None if new name is None scope keys list scope scope values list scope attribute name scope keys values prop ]else attribute name new namecompat name  compat name attribute name compat name compat name if attribute name advice msg "use'{0}'instead".format attribute name else advice msg "don'tuseit"def get self report Deprecated Worker Name Usage "'{old}'propertyisdeprecated {advice}.".format old compat name advice advice msg return getattr self attribute name assert compat name not in scope scope name property get 
def generate unique password generated passwords password length 12 password generate random string password length while password in generated passwords password generate random string password length generated passwords password return password 
def psql csv run sql command error handler None csv query 'COPY {query} T O S T D O U T W I T H C S V H E A D E R query sql command new env os new env 'PGOPTIONS' '' new env P G O P T I O N S + '--statement-timeout 0'psql proc popen nonblock [PSQL BIN '-d' 'postgres' '--no-password' '--no-psqlrc' '-c' csv query stdout PIPE env new env stdout psql proc [0].decode 'utf-8' if psql proc ! 0 if error handler is not None error handler psql proc else assert error handler is None raise User Exception 'couldnotcsv-executeaquerysuccessfullyviapsql' 'uerywas sql command 'oumayhavetosetsomelibpqenvironmentvariablesifyouaresuretheserverisrunning assert psql proc 0 return csv iter stdout .split '\n'
def rsa crt iqmp p q return  modinv q p 
def define task name tick script task type 'stream' database None retention policy 'default' if version < '0.13' cmd 'kapacitordefine-name{0}'.format name else cmd 'kapacitordefine{0}'.format name if tick script 'salt //' tick script   salt  ['cp.cache file tick script   env   cmd + '-tick{0}'.format tick script if task type cmd + '-type{0}'.format task type if database and retention policy cmd + '-dbrp{0}.{1}'.format database retention policy return  run cmd cmd 
def has shareable memory a return  get backing memmap a is not None 
def shorten I Ds doc unprotected Elements None num 0lements find Elements With Id doc Element if unprotected Elements is None unprotected Elements identified Elementsreferenced I Ds find Referenced Elements doc Element id List [ referenced I Ds rid for rid in referenced I Ds if rid in unprotected Elements ]ist reverse True id List [rid for count rid in id List Id Num 1for rid in id List cur Id int To I D cur Id Num if cur Id ! rid while cur Id in identified Elements cur Id Num + 1d int To I D cur Id Num num + rename I D doc rid cur Id identified Elements referenced I Ds cur Id Num + 1return num 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def load tables words []utable numpy path to tables + 'utable.npy' btable numpy path to tables + 'btable.npy' f open path to tables + 'dictionary.txt' 'rb' for line in f words line 'utf-8' .strip f utable Ordered Dict zip words utable btable Ordered Dict zip words btable return utable btable 
def upgrade With I Q Response Tracker xs def callback iq 'andleiqresponsebyfiringassociateddeferred getattr iq 'handled' False returntry d xs Deferreds Key Error passelse del xs Deferreds Trueif iq 'error' d error From Stanza iq else d iq def disconnected _ "akesuredeferredsdonotlingeronafterdisconnect Thiserrbacksalldeferredsofiq L Connection Lost Otherwise thedeferreds Deferreds xs Deferredsxs Deferreds {}for d in iq Deferreds d Connection Lost xs Deferreds {efault Timeout getattr xs 'efault Timeout None xs Observer xmlstream S T R E A M END EVENT disconnected xs Observer '/iq[@type "result"]' callback xs Observer '/iq[@type "error"]' callback directly Provides xs ijabber I I Q Response Tracker 
def test ctor keyword args newslot x Binder Test Keyword Derived Some Property 'abc' Are Equal x Some Property 'abc' x Binder Test Keyword Derived Some Field 'abc' Are Equal x Some Field 'abc'
def preload song delay 2 override False args song delay override t threading Thread target  preload args args t Truet 
def detach virtual disk spec client factory device destroy disk False virtual device config client factory 'ns0 Virtual Device Config Spec virtual device config 'remove'if destroy disk virtual device config Operation 'destroy'virtual device config devicereturn virtual device config 
def   format items items column names dataset []for item dict in items row []for fieldname in column names if fieldname 'name' html element 'name'elif fieldname in ['system' 'repo' 'distro' 'profile' 'image' 'mgmtclass' 'package' 'file'] html element 'editlink'elif fieldname in field ui info U S E S CHECKBOX html element 'checkbox'else html element 'text'row.append [fieldname item dict html element dataset row return dataset 
@api experimental '/dags/<string dag id task id methods ['GET'] @requires authenticationdef task info dag id task id from airflow import dagbagif dag id not in dagbag response jsonify error 'ag dag id response code 404return responsedag dagbag id not dag task task id response jsonify error 'ask task id dag id response code 404return responsetask dag task task id fields {k str v for k v in vars task .items if not k '_' }return jsonify fields 
def assign user to page page user grant on ACCESS PAGE AND DESCENDANTS can add False can change False can delete False can change advanced settings False can publish False can change permissions False can move page False can recover page True can view False grant all False global permission False grant all grant all and not global permission data {'can add can add or grant all 'can change can change or grant all 'can delete can delete or grant all 'can change advanced settings can change advanced settings or grant all 'can publish can publish or grant all 'can change permissions can change permissions or grant all 'can move page can move page or grant all 'can view can view or grant all }page permission Page Permission page page user user grant on grant on **data page permission if global permission page permission Global Page Permission user user can recover page can recover page **data page permission page permission Site current return page permission 
def  encode header key pdict if not pdict return keyout [key]for k v in sorted pdict if v is None out k else out '%s %s' % k v return ';'.join out 
def mail page user change user created False password '' if created subject _ ' M S else subject _ ' M S send mail subject 'admin/cms/mail/page user change [user.email] {'user' user 'password' password or '*' * 8 'created' created 'admin/cms/mail/page user change 
def has use atom use return has flag 'use' atom use 
def pullnode I Ds in network name key u name import networkx as nximport numpy as npfrom nipype import isdefinedif not isdefined in network raise Value Errorreturn Nonetry ntwk nx graphml in network except ntwk nx gpickle in network nodedata ntwk []integer nodelist []for node in list nodedata integer nodelist int node for node in np integer nodelist try nodeid nodedata key Key Error nodeid nodedata node ][name key nodeid return ids 
def get image vm  vm image config cloud config value 'image' vm    opts   .encode 'ascii' 'salt-cloud-force-ascii' images avail images for key value in images if vm image and vm image in images images return images Salt Cloud Not Found "hespecifiedimage '{0}' couldnotbefound vm image 
def  activities from user query user id import ckan as modelq model Session model Activity q q model Activity id user id return q 
def set location node lineno col offset def  fix node lineno col offset if 'lineno' in node attributes node linenoif 'col offset in node attributes node offset col offsetfor child in ast child nodes node  fix child lineno col offset  fix node lineno col offset return node 
def get installed state m packages cmd get cmd m 'search' cmd ['--match-exact' '--details' '--installed-only'] cmd packages return parse zypper xml m cmd fail not found False [0]
def trans ele standard False try node globals .get ele if not node raise Not Implemented Error u % ele if standard node node  dict  [u'standard'] if u in node  dict   else node return node **ele except raise 
def  af parity pi n len pi a [0] * n c 0for j in range n if a 0 c + 1a[j] 1i jwhile pi ! j i pi 1return n - c % 2
@receiver pre delete sender Microsite def on microsite deleted sender instance **kwargs  make archive copy instance 
def handle threading error scans completed threading error active threads threading count def nice thread repr alive threads repr alive [repr x for x in alive threads alive return pprint repr alive pprint threads nice thread repr threading msg ' Thecurrentprocesshasatotalof Thecompletelistofthreadsfollows \n\n%s'raise Exception msg % threading error active threads scans completed pprint threads 
def get assignments for problem problem descriptor user id course key locations []current descriptor problem descriptorwhile current descriptor locations current descriptor current descriptor current descriptor parent assignments Graded Assignment user user id course key course key usage key  in locations return assignments 
def write Register Request Value data packet unpack '>H' data ] return packet 
def bracelets n k return necklaces n k free True 
def  pairwise similarity a b similarity a rows a cols b rows b cols  check rows and columns a b n a a rows b b rows np list list similarity a rows a cols b rows b cols for j in range n b for i in range n a return result 
def isclose a b rtol 1e-05 atol 1e-08 equal nan False diff abs a - b tolerance atol + rtol * abs b close prelim le diff tolerance a nan isnan a b nan isnan b nans bitwise or a nan b nan a inf isinf a b inf isinf b infs bitwise or a inf b inf nans or infs bitwise or nans infs close bitwise and close prelim bitwise not nans or infs both infs bitwise and a inf b inf inf signs eq eq a inf * sgn a b inf * sgn b inf eq bitwise and both infs inf signs eq close with infs bitwise or close inf eq if equal nan both nans bitwise and a nan b nan return bitwise or close with infs both nans else return close with infs 
def check astroyear year field config None pos None if year is not None and re u J B [.][0-9]* ?$' year is None warn or raise W07 W07 field year config pos return Falsereturn True 
def get password vm  return config cloud config value 'password' vm    opts   default config cloud config value 'passwd' vm    opts   search global False search global False 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def get js dependencies group if settings P I P E L I N E ENABLED return [ I P E L I N E J S filename return settings P I P E L I N E J S filenames 
def  split version id full version id server and version full version id '.' [0]result server and version ' ' if len result 2 return result result else return None result 
def add to distribution dist try dist qt bindings except Attribute Error raise Import Error 'hisscriptrequiresguidata1 for  modname in 'spyder' 'spyderplugins' dist module data files  modname '' '.png' '.svg' '.html' '.png' '.txt' '.js' '.inv' '.ico' '.css' '.doctree' '.qm' '.py' copy to root False 
def num obs y Y Y np Y order 'c' is valid y Y throw True name 'Y' k Y k 0 raise Value Error 'henumberofobservationscannotbedeterminedonanemptydistancematrix d int np np k * 2 if d * d - 1 / 2 ! k raise Value Error 'nvalidcondenseddistancematrixpassed Mustbesomekwherek nchoose2 forsomen 2.' return d 
def test ros fit sample half ratio 0.5ros Random Over Sampler ratio ratio random state RND SEED X resampled y resampled ros sample X Y X gt np [[0.04352327 -0.20515826 ] [0.20792588 1.49407907] [0.22950086 0.33367433] [0.15490546 0.3130677] [0.09125309 -0.85409574 ] [0.12372842 0.6536186] [0.094035 -2.55298982 ] [0.92923648 0.76103773] [0.47104475 0.44386323] [0.13347175 0.12167502]] y gt np [1 1 1 1 1 1 1 0 0 0] assert array equal X resampled X gt assert array equal y resampled y gt 
def skip If D B Feature feature return  deferred Skip lambda getattr connection feature 'atabasehasfeature % feature 
def  check resources name expr resources if expr is None returnbound expr resources if not bound and resources is None raise Value Error 'noresourcesprovidedtocompute%s' % name if bound and resources raise Value Error 'explicitandimplicitresourcesprovidedtocompute%s' % name 
def create locks l S H Lock wrapper Debug R W Lock Wrapper if tweaks u debug locking False else R W Lock Wrapper return wrapper l wrapper l is shared False 
def test pytest runner pyi builder pyi builder source "\nimportpytest\nimportsys\nsys.exit pytest ['--help'] \n"
def fuzzy bool x if x is None return Noneif x in True False return bool x 
def medcouple y axis 0 if axis is None return  medcouple 1d y return np along axis  medcouple 1d axis y 
def comment quote s comment str s comment  comment quote re '-&gt;' comment return comment 
def build consumer oauth request backend token url redirect uri '/' oauth verifier None extra params None method HTTP METHOD params {'oauth callback redirect uri extra params params extra params if oauth verifier params verifier oauth verifierconsumer O Auth Consumer *backend.get key and secret request O Auth Request consumer and token consumer token token http method method http url url parameters params request request Signature Method HMAC SHA1 consumer token return request 
def create default settings from flaskbb import fixturecreate settings from fixture fixture 
def get notifications for other config notification count return get notifications for u other config notification count 
def diff before after assert after before plays []after plays list after before plays list before for play in after plays if play not in before plays plays play  players Ordered Dict after players list after player stats before players list before player stats for aplayer in after players has before Falsefor bplayer in before players if aplayer bplayer has before Truepdiff aplayer - bplayer if pdiff is not None  players pdiffif not has before  players aplayerplayers nflgame Gen Player Stats  players return Game Diff before before after after plays plays players players 
def clean s lines [l.rstrip for l in s '\n' ]return '\n'.join lines 
def model fields model db session None only None exclude None field args None converter None if not hasattr model u sa class manager raise Type Error u mapper model sa class manager converter or Model Converter field args field args or {} properties p p for p in mapper properties if only properties x for x in properties if x in only elif exclude properties x for x in properties if x not in exclude field dict {}for name prop in properties field converter model mapper prop field args name db session if field is not None field dict fieldreturn field dict 
@repo mgr cli 'show' @click.pass contextdef show ctx client get client **ctx.obj['client args show repos client 
def  Concatenate Error Messages prefix status if status detail return prefix + ' ' + status detail return prefix 
def validate instantiation **kwargs if kwargs and kwargs 'netapp mode 'proxy' return L O G  LW 'tisnottherecommendedwaytousedriversby Net App Pleaseuse Net App Drivertoachievethefunctionality 
def utf8encode value return unicodeencode value 'utf-8'
def runner name **kwargs jid kwargs '  orchestration jid  ' None saltenv kwargs '  env  ' 'base' full return kwargs 'full return False kwargs salt kwargs **kwargs if 'master job cache not in   opts   master config os os   opts  ['conf file 'master' master opts salt config master config rclient salt Runner Client master opts else rclient salt Runner Client   opts   if name in rclient aspec salt function argspec rclient if 'saltenv' in aspec kwargs saltenvif jid salt args   opts   jid {'type' 'runner' 'name' name 'args' kwargs prefix 'run' return rclient name kwarg kwargs print event False full return full return 
@ile System directory current directory 'django' 'brocolis' def test harvest with debug mode disabled status out run scenario 'leaves' 'disabled' assert equals status 0 out 
def split function payload return payload - append size ] payload 
def  translate message message return {'id' message 'project id message id 'request id message id 'resource type message type 'resource uuid message 'resource uuid 'event id message id 'message level message level 'created at message at 'expires at message 'expires at }
def categorical logpmf x logits x x np p np logits / np np logits 0 return np p [x]
def get enabled jail None ret []service  cmd jail prf  get jail path jail if jail else '' for svc in   salt  ['cmd.run'] '{0}-e'.format service .splitlines ret os svc for svc in get all jail if svc in ret continueif not os '{0}/etc/rc.conf.d/{1}'.format prf svc continueif enabled svc jail jail ret svc return sorted ret 
def inv item total volume row try inv item getattr row 'inv inv item except Attribute Error inv item rowtry quantity inv item Attribute Error return 0.0try supply item getattr row 'supply item volume supply item Attribute Error itable current inv itemstable current itemquery itable inv item & itable id stable supply item current query .select stable limitby 0 1 .first if not supply item returnelse volume supply item volume is None return current N O N E return quantity * volume 
def problems r **attr try group id r idexcept raise HTTP 400 else redirect URL f 'group' args [group id 'problem']
def start and enable service start service enable service 
def delete queue name region opts None user None queues list queues region opts user url map  parse queue list queues logger logging Logger   name   logger 'map' + six type url map if name in url map delete {'queue-url' url map  run aws 'delete-queue' region region opts opts user user **delete success Trueerr ''out '{0}deleted'.format name else out ''err 'eletefailed Falseret {'retcode' 0 if success else 1 'stdout' out 'stderr' err ret 
def gravatar url email size 80 return 'http //www.gravatar.com/avatar/%s?d identicon %d' % md5 email .lower .encode 'utf-8' .hexdigest size 
@task@cmdopts [ 'python version ' 'p' 'ythonversiontobuildtheinstalleragainst ] def bdist wininst simple call task 'clean' env os for k v in S I T E C F G env v bdist wininst options wininst simple version env 
def get permalink url self return '/'.join self S I T E U R L self permalink path 
def scatter tensor devices chunk sizes None dim 0 if chunk sizes is None chunks tensor len devices dim else assert sum chunk sizes tensor dim "givenchunksizesdon'tsumuptothetensor'ssize sum chunk sizes {} butexpected ".format sum chunk sizes tensor dim assert min chunk sizes > 0 'gotanegativechunk size [tensor.narrow dim start - size size for start size in zip  accumulate chunk sizes chunk sizes ]return tuple chunk gpu id async chunk contiguous for gpu id chunk in zip devices chunks 
def inv recv crud strings T current Tif current settings inv shipment name 'order' ADD RECV T 'dd Order current strings recv Storage label create ADD RECV title display T 'rder Details title list T 'rders title update T 'dit Order label list button T 'ist Orders label delete button T 'elete Order msg record created T 'rder Created msg record modified T 'rderupdated msg record deleted T 'rdercanceled msg list empty T 'o Ordersregistered else ADD RECV T 'eceive New Shipment current strings recv Storage label create ADD RECV title display T 'eceived Shipment Details title list T 'eceived Incoming Shipments title update T 'hipmentto Receive label list button T 'ist Received Incoming Shipments label delete button T 'elete Received Shipment msg record created T 'hipment Created msg record modified T 'eceived Shipmentupdated msg record deleted T 'eceived Shipmentcanceled msg list empty T 'o Received Shipments return 
def pack Open direct tcpip destination source conn Host conn Port destination orig Host orig Port sourceif isinstance conn Host unicode conn Host conn Host 'utf-8' if isinstance orig Host unicode orig Host orig Host 'utf-8' conn common N S conn Host + struct '>L' conn Port orig common N S orig Host + struct '>L' orig Port return conn + orig 
def clean proc proc wait for kill 10 if not proc returntry waited 0while proc alive proc waited + 1time.sleep 0.1 if proc alive and waited > wait for kill log 'rocessdidnotdiewithterminate {0}'.format proc os proc signal S I G K I L L except Assertion Error Attribute Error pass 
def locales names family distrib family if family 'debian' command 'dpkg-reconfigure--frontend noninteractivelocales file '/etc/locale.gen' locales generic names config file config file command command elif family in ['arch' 'gentoo']  locales generic names config file '/etc/locale.gen' command 'locale-gen' elif distrib family 'redhat'  locales redhat names else raise Unsupported Family supported ['debian' 'arch' 'gentoo' 'redhat']
def unread count for user return Inbox Message to user read False .count
def get extended due date node if isinstance node dict get node get partial getattr node due date get 'due' None if not due date return due dateextended get 'extended due None if not extended or extended < due date return due datereturn extended 
def add Attribute Word evaluator Words word if len word < 2 evaluator Words word returnif word ! '.' evaluator Words word returndot Index word '.' 1 if dot Index < 0 evaluator Words word returnevaluator Words word dot Index add Attribute Word evaluator Words word Index ]
def tagify suffix '' prefix '' base SALT parts [base T A G S prefix prefix ]if hasattr suffix 'append' parts suffix else parts suffix return T A G P A R T E R [part for part in parts if part 
def zmq version return '%i.%i.%i' % zmq version info 
@nodes or number [0 1] def complete bipartite graph n1 n2 create using None if create using is None G nx Graph else if create using directed raise nx Network X Error 'irected Graphnotsupported G create using G n1 top n1 n2 bottom n2if isinstance n2 int bottom [ n1 + i for i in bottom G nodes from top bipartite 0 G nodes from bottom bipartite 1 G edges from u v for u in top for v in bottom G 'complete bipartite graph %s %s ' % n1 n2 return G
def get resolver for permission type permission type resource type Permission Type resource type permission type permission type resolver instance get resolver for resource type resource type resource type return resolver instance 
def  process content range content range _ _ range spec content range '' byte range _ _ range spec '/' start _ end byte range '-' return int end - int start + 1
def momentcondquant distfn params mom2 quantile None shape None if len params 2 loc scale paramselif len params 3 shape loc scale paramselse pass pq xq quantilecdfdiff distfn xq *params - pq return cdfdiff 
def make analysator f def text analyse text try rv f text except Exception return 0.0if not rv return 0.0try return min 1.0 max 0.0 float rv except Value Error Type Error return 0.0text analyse  doc   f  doc  return staticmethod text analyse 
def subject template template context subject loader template template .render Context context return u subject .strip
def remove Unreferenced I Ds referenced I Ds identified Elements global num I Ds Removedkeep Tags ['font']num 0for id in identified Elements node identified Elements referenced I Ds key id False and not node Name in keep Tags node Attribute 'id' num I Ds Removed + 1num + 1return num 
def mac addr valid re '\n ^ [0-9A-F]{1 2}[-] {5} [0-9A-F]{1 2} $\n|^ [0-9A-F]{1 2}[ ] {5} [0-9A-F]{1 2} $\n|^ [0-9A-F]{1 2}[.] {5} [0-9A-F]{1 2} $ \n' re V E R B O S E | re I G N O R E C A S E return valid addr is not None 
def mse actual predicted return np se actual predicted 
def push cwd remote None ref None opts '' user None password None identity None ignore retcode False saltenv 'base' **kwargs kwargs salt kwargs **kwargs if kwargs salt kwargs kwargs cwd  expand path cwd user command ['git' 'push']command.extend  format opts opts if not isinstance remote six types remote str remote if not isinstance ref six types ref str ref command [remote ref return  git run command cwd cwd user user password password identity identity ignore retcode ignore retcode saltenv saltenv ['stdout']
def get Radius Complex radius xml Element radius get Complex By Prefixes ['demisize' 'radius'] radius xml Element return get Complex By Multiplier Prefixes 2.0 ['diameter' 'size'] radius xml Element 
def ts dlldy y df return - df + 1 / df / 1 + y ** 2 / df * y 
def to rgb c return to rgba c [ 3]
def get doctype info module doctype info frappe u name description \n DCTB DCTB ifnull document type "" asdocument type customascustom \n DCTB DCTB issingleasissingle DCTB DCTB from Doc Type %sandistable 0\n DCTB DCTB orderbycustomasc document typedesc nameasc module as dict True for d in doctype info d _ d or u return doctype info 
def order workflow steps steps position data available Truefor step in steps if not step or 'left' not in step or 'top' not in step position data available Falseif position data available steps key lambda _ math  .position['left'] ** 2 +  .position['top'] ** 2 try edges edgelist for workflow steps steps node order topsort edges return [steps[i] for i in node order Cycle Error return None 
def create invitation **kwargs project kwargs 'project' Project Factory project Points Factory project project value None defaults {'project' project 'role' Role Factory project project 'email' 'invited-user@email.com' 'token' 'tokenvalue' 'invited by id project kwargs return Membership Factory **defaults
def linscale d lim return d - d * lim - lim + lim 
def get numeric subclasses cls numpy ignore None if ignore is None ignore []rval []dtype numpy cls dtype num dtype dtype num not in ignore numpy 0 dtype dtype rval cls ignore dtype num for sub in cls  subclasses   rval + [c for c in get numeric subclasses sub ignore ignore ]return rval 
def parse content range content range found re  content range pattern content range if not found raise Value Error 'ontent Range % content range return tuple int x for x in found 
def get Date Time value None if value is None return datetime if isinstance value datetime return valueif isinstance value datetime return datetime value if isinstance value int float return datetime value if isinstance value str raise Not Implemented Error "tringsaren if hasattr value '  getitem  ' return datetime *tuple value [ 6] return datetime value 
def  edge generator from csr csr matrix nrows csr matrix csr matrix csr matrix indices csr matrix i in range nrows for j in range indptr indptr i + 1 ] yield i col indices values 
def argspec module '' return salt report   salt   module 
def  check steps a b if a ! 1 raise Value Error 'a.stepmustbeequalto1 got %s' % a if b ! 1 raise Value Error 'b.stepmustbeequalto1 got %s' % b 
def set mem rlimit max mem None import resourceif max mem is None mem info get mem info max mem int mem info * 0.7 cur limit resource resource R L I M I T AS if cur limit > 0 max mem min max mem cur limit resource resource R L I M I T AS max mem cur limit 
def preprocess for train image output height output width padding  PADDING tf summary 'image' tf dims image 0 image tf float image if padding > 0 image tf image [[padding padding [padding padding [0 0]] distorted image tf crop image [output height output width 3] distorted image tf flip left right distorted image tf summary 'distorted image tf dims distorted image 0 distorted image tf brightness distorted image max delta 63 distorted image tf contrast distorted image lower 0.2 upper 1.8 return tf image whitening distorted image 
def get all messages from js files app name None messages []for app in [app name if app name else frappe installed apps if os frappe app path app u for basepath folders files in os frappe app path app u if u in basepath continuefor fname in files if fname u or fname u messages get messages from file os basepath fname return messages 
def  verify subnet association route table desc subnet id if route table desc if 'associations' in route table desc for association in route table desc if association id subnet id return Truereturn False 
def is Null Value value return isinstance value basestring and value NULL
def get prefetcher instance attr prefetcher Noneattr found Falseis fetched Falserel obj descriptor getattr instance  class   attr None if rel obj descriptor is None try rel obj getattr instance attr attr found Trueexcept Attribute Error passelse attr found Trueif rel obj descriptor if hasattr rel obj descriptor 'get prefetch query set prefetcher rel obj descriptorif rel obj descriptor cached instance is fetched Trueelse rel obj getattr instance attr if hasattr rel obj 'get prefetch query set prefetcher rel objreturn prefetcher rel obj descriptor attr found is fetched 
def tool tag manager app if hasattr app 'get bool and app bool 'enable tool tags False return Persistent Tool Tag Manager app else return Null Tool Tag Manager 
def  zero pad array amount axes 1 2 if amount 0 return arraynew shape []slices []for i s in enumerate array if i in axes new shape s + 2 * amount slices slice amount - amount else new shape s slices slice None new shape tuple new shape slices tuple slices new array numpy new shape dtype array new array arrayreturn new array 
def generate hash txt None length None import hashlib timefrom .utils import random stringdigest hashlib txt or u + repr time + repr random string 8 .hexdigest if length digest digest length digest 
def  Backend Premultiplication color alpha color color 3]multiplied [ x * alpha + 1 >> 8 for x in rgb alpha alpha inverse 16777215 / alpha unmultiplied [ x * alpha inverse >> 16 for x in multiplied unmultiplied [0] * 3 return tuple unmultiplied + [alpha]
def test creation args raises Value Error lambda zeros 3 -1 raises Type Error lambda zeros 1 2 3 4 assert zeros long 3 zeros 3 assert zeros Integer 3 zeros 3 assert zeros 3.0 zeros 3 assert eye long 3 eye 3 assert eye Integer 3 eye 3 assert eye 3.0 eye 3 assert ones long 3 Integer 4 ones 3 4 raises Type Error lambda Matrix 5 raises Type Error lambda Matrix 1 2
def beip zeros nt if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'ntmustbepositiveintegerscalar.' return specfun nt 6
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def  expanded mrjob conf path conf path None if conf path is False return Noneelif conf path is None return find mrjob conf else return expand path conf path 
def get filename from cd cd if not cd return '' '' fname re 'filename .+ ' cd if len fname 0 return '' '' fn fname '.' 1 return fn '' if len fn 1 else '.' + fn 
def get Window Analyze File Given Text file Name gcode Text repository None if gcode Text '' return Noneif repository None repository settings Read Repository Skeinlayer Repository skein Window get Window Given Text Repository file Name gcode Text repository skein Window Deiconify return skein Window 
def validate username not url username if username 'http //' or username 'https //' raise Validation Error _ 'hisfieldrequiresanidentifier nota U R L return username 
def py  iter  types evaluator types node None return unite py  iter   evaluator types node 
def get Reactor Types return get Plugins I Reactor Installer 
def test mode question question usertypes Prompt Mode question usertypes Prompt Mode 
def urlquote plus url safe u return force text quote plus force str url force str safe 
def inside resource1 resource2 while resource1 is not None if resource1 is resource2 return Trueresource1 resource1  parent  return False 
@frappe.whitelist def get evaluation criterias course return frappe list u Course Evaluation Criteria fields [u'evaluation criteria u filters {u'parent' course order by u 
def close *args if len args 0 fig Manager  pylab helpers Gcf active if fig Manager is None returnelse  pylab helpers Gcf fig Manager elif len args 1 arg args arg u  pylab helpers Gcf all elif isinstance arg six types  pylab helpers Gcf arg elif hasattr arg u  pylab helpers Gcf arg elif is string like arg all Labels get figlabels if arg in all Labels num get fignums [abels arg ] pylab helpers Gcf num elif isinstance arg Figure  pylab helpers Gcf fig arg else raise Type Error u Unrecognizedargumenttype % type arg else raise Type Error u 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
def simple multi optimizer num dims 2 def get coordinate i return tf variable 'x {}'.format i shape [] dtype tf initializer tf initializer def build coordinates [get coordinate i for i in xrange num dims ]x tf 0 [tf.expand dims c 0 for c in coordinates return tf sum tf x name 'x squared return build 
def get traceback exc type exc value exc tb sys info trace list traceback exception exc type exc value exc tb body u cstr t for t in trace list return body 
def  parallel decision function estimators estimators features X return sum estimator function X[ features for estimator features in zip estimators estimators features 
def diskusage path total size 0seen set if os path stat structure os path ret stat structure sizereturn retfor dirpath dirnames filenames in os path for f in filenames fp os dirpath f try stat structure os fp except O S Error continueif stat structure ino in seen continueseen stat structure ino total size + stat structure sizeret total sizereturn ret 
def get transaction cursor near timestamp namespace id timestamp db session dt datetime timestamp latest timestamp db session Transaction at .order by desc Transaction at .filter Transaction at < dt Transaction id namespace id .limit 1 .subquery latest transaction db session Transaction .filter Transaction at latest timestamp Transaction id namespace id .order by desc Transaction .first if latest transaction is None return '0'return latest transaction id 
def unified strdate date str day first True if date str is None return Noneupload date Nonedate str date str u ' u date str re u ?i \\s* ? AM|PM ? \ Z ?' u date str _ date str extract timezone date str for expression in date formats day first try upload date datetime date str expression .strftime u Y except Value Error passif upload date is None timetuple email tz date str if timetuple try upload date datetime *timetuple[ 6] .strftime u Y except Value Error passif upload date is not None return compat str upload date 
def recursive dict removal inventory purge list for key value in inventory if isinstance value dict for child key child value in value if isinstance child value dict for item in purge list if item in child value del child value isinstance child value list recursive list removal child value purge list elif isinstance value list recursive list removal value purge list 
def at install flag def decorator obj obj install flagreturn objreturn decorator 
def bankcard type card number def matches card number lengths prefixes if len card number not in lengths return Falsefor prefix in prefixes if card number prefix return Truereturn Falsefor card type lengths prefixes in CARD TYPES if matches card number lengths prefixes return card type 
def export course to tarfile course key filename tmp dir mkdtemp try course dir export course to directory course key tmp dir compress directory course dir filename finally shutil tmp dir ignore errors True 
@login required http methods ['GET'] def account settings request return render to response 'student account settings account settings context request 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def  event on init state args kwargs instrumenting mapper state  INSTRUMENTOR if instrumenting mapper if Mapper new mappers configure mappers if instrumenting mapper set polymorphic identity instrumenting mapper set polymorphic identity state 
def full Data master builders []for b in master steps []for step in b steps get Name step builders steps return {'builders' builders 
def sigmoid Prime x tmp sigmoid x return tmp * 1 - tmp 
def  is dev2 environment return os 'SERVER SOFTWARE' '' 'evelopment 
def unicode safe truncate s max length if not isinstance s unicode s str s .decode 'utf-8' 'ignore' return s [ max length 
def generate cookie cookie random 1 100000000.0 return cookie 
def declarative base bind None metadata None mapper None cls object name 'ase constructor  declarative constructor class registry None metaclass Declarative Meta lcl metadata metadata or Meta Data if bind lcl metadata bindif class registry is None class registry weakref Weak Value Dictionary bases not isinstance cls tuple and cls or cls class dict dict  decl class registry class registry metadata lcl metadata if isinstance cls type class dict  doc  '] cls  doc  if constructor class dict  init  '] constructorif mapper class dict  mapper cls  '] mapperreturn metaclass name bases class dict 
def multigaussian x mean stddev tmp -0.5 * x - mean / stddev ** 2 return np tmp / np 2.0 * np * stddev 
def print versions import platform as ptfrom .. import   version  message 'okehversion %ythonversion %latform %s\n' %   version   pt version pt implementation pt print message 
def list blobs call None kwargs None global storconnif not storconn storconn get conn Storage Management Client if kwargs is None kwargs {}if 'container' not in kwargs raise Salt Cloud System Exit 'containermustbespecified storageaccount azure Cloud Storage Account config cloud config value 'storage account get configured provider   opts   search global False config cloud config value 'storage key get configured provider   opts   search global False storageservice storageaccount block blob service ret {}for blob in storageservice blobs kwargs .items ret object to dict blob return ret 
def  gen candidate chars characters chars []for chars spec in characters chars to text getattr string to native chars spec chars spec errors 'strict' chars u chars .replace u u .replace u u return chars 
@loader option def immediateload loadopt attr loader loadopt relationship strategy attr {'lazy' 'immediate'} return loader 
def import module name required True try   import   name globals locals [] except Import Error if not required and module not found return Noneraisereturn sys 
@inspect command def memsample state **kwargs from celery import sample memreturn sample mem 
@transaction.non atomic requests P O S T csrf cookie control no cache True no store True must revalidate True @require level 'staff' def get course survey results request course id course key Slash Separated Course Key deprecated string course id try lms task course survey report request course key status response _ 'hesurveyreportisbeingcreated Toviewthestatusofthereport see Pending Tasksbelow except Already Running Error status response _ 'hesurveyreportiscurrentlybeingcreated Toviewthestatusofthereport see Pending Tasksbelow Youwillbeabletodownloadthereportwhenitiscomplete return Json Response {'status' status response 
def quadratic batch size 128 num dims 10 stddev 0.01 dtype tf def build 'uildslossgraph tf variable 'x' shape [batch size num dims dtype dtype initializer tf normal initializer stddev stddev w tf variable 'w' shape [batch size num dims num dims dtype dtype initializer tf uniform initializer trainable False y tf variable 'y' shape [batch size num dims dtype dtype initializer tf uniform initializer trainable False product tf tf matmul w tf dims x -1 return tf mean tf sum product - y ** 2 1 return build 
def get Output gcode Text repository None if gcode Text '' return ''if repository is None repository Gcode Time Segment Repository settings Read Repository repository return Gcode Time Segment Skein .rafted Gcode gcode Text repository 
def get long be s return ord s << 24 | ord s << 16 | ord s << 8 | ord s 
def libvlc title descriptions release p titles i count f  Cfunctions 'libvlc title descriptions release None or  Cfunction 'libvlc title descriptions release 1 1 None None ctypes P O I N T E R Title Description ctypes uint return f p titles i count 
def nametofont name return Font name name exists True 
def test add slider to section tempdir  Temp Dir from matplotlib import pyplot as pltreport Report info fname raw fname subject 'sample' subjects dir subjects dir section 'slider section list figs plt plt [1 2 3] plt 'all' figs plt plt [3 2 1] plt 'all' report slider to section figs section section report op tempdir 'report.html' open browser False assert raises Not Implemented Error report slider to section [figs figs assert raises Value Error report slider to section figs ['wug'] assert raises Type Error report slider to section figs 'wug'
def export response request filename fields data output request G E T 'format' 'json' if output not in 'json' 'csv' output 'json'if output 'csv' response Http Response content type 'text/csv;charset utf response Content Disposition 'attachment;filename %s' % filename writer csv Dict Writer response fields writer if six P Y2 for row in data for item in row if isinstance row six type row row 'utf-8' writer row else for row in data writer row return responsereturn Json Response data data safe False json dumps params {'indent' 2}
def monthrange year month if not 1 < month < 12 raise Illegal Month Error month day1 weekday year month 1 ndays mdays + month February and isleap year return day1 ndays 
def get session from cookie cookie val session id itsdangerous Signer settings S E C R E T KEY .unsign cookie val return Session session id 
@disabled 'esource Fileisnotavailableanymore def test ip hosting resource file rf list [ron Python Hosting Resource File 'name0' 'file0' Iron Python Hosting Resource File 'name1' 'file1' False ]rf list Public Resource Falsefor i in xrange len rf list Are Equal rf list Name 'name' + str i rf list Name 're Equal rf list Name 'name' Are Equal rf list File 'file' + str i rf list File 're Equal rf list File 'file' Are Equal rf list Public Resource False rf list Public Resource True Are Equal rf list Public Resource True 
def de bruijn charset n maxlen k len charset a [0] * k * n sequence []def db t p if len sequence maxlen returnif t > n if n % p 0 for j in range 1 p + 1 sequence charset if len sequence maxlen returnelse a a t - p ]db t + 1 p for j in range a t - p ] + 1 k a jdb t + 1 t db 1 1 return ''.join sequence 
def  property tuples entity pb return six entity pb 
def targets tgt tgt type 'glob' **kwargs roster order   opts  .get 'roster order 'public' 'private' 'local' cached data   runner  ['cache.grains'] tgt tgt tgt type tgt type ret {}for server grains in cached data ret   opts  .get 'roster defaults {} .copy ret {'host' extract ipv4 roster order grains 'ipv4' [] } return ret 
def is supported value check all False filters None iterate True assert filters is not None if not is editable type value return Falseelif not isinstance value filters return Falseelif iterate if isinstance value list tuple set for val in value if not is supported val filters filters iterate check all return Falseif not check all breakelif isinstance value dict for key val in list value if not is supported key filters filters iterate check all or not is supported val filters filters iterate check all return Falseif not check all breakreturn True 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def  regex from encoded pattern s if s '/' and s '/' ! 0 idx s '/' pattern flags str s idx s idx + 1 ] flag from char {'i' re I G N O R E C A S E 'l' re L O C A L E 's' re D O T A L L 'm' re M U L T I L I N E 'u' re U N I C O D E 0for char in flags str try flags | flag from char Key Error raise Value Error "unsupportedregexflag '%s'in'%s' mustbeoneof " % char s ''.join list flag from char return re s idx flags else return re re s 
def  get Random Number random bits if bits % 8 raise Value Error 'bits %d mustbeamultipleof8 % bits bytes random bits / 8 result Util to long bytes return result 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
@register canonicalize stabilize optimizer [ Flatten def local flatten lift node if isinstance node T Flatten and node and isinstance node T Elemwise and len node 1 f node node copy stack trace node f e node f copy stack trace node + [node.inputs[0]] e return [e]
def rec getattr obj attr default None try return reduce getattr attr '.' obj except Attribute Error return default 
def Fake Uname return 'inux '' '' '' ''
def get Points From Loops loops radius threshold Ratio 0.9 points []for loop in loops points + get Points From Loop loop radius threshold Ratio return points 
def truncate rev primers fasta f output fp reverse primers truncate option 'truncate only primer mismatches 2 log data {'sample id not found 0 'reverse primer not found 0 'total seqs 0 'seqs written 0}for label seq in parse fasta fasta f curr label label '_' [0]log data seqs + 1try curr rev primer reverse primers label Key Error log data id not found + 1output fp '>%s\n%s\n' % label seq log data written + 1continuemm tests {}for rev primer in curr rev primer rev primer mm rev primer index local align primer seq rev primer seq mm tests primer mm rev primer indexrev primer mm min mm tests rev primer index mm tests primer mm rev primer mm > primer mismatches if truncate option 'truncate remove log data primer not found + 1else log data primer not found + 1log data written + 1output fp '>%s\n%s\n' % label seq elif rev primer index > 0 log data written + 1output fp '>%s\n%s\n' % label seq rev primer index return log data 
@validatordef truthy value return value and not isinstance value six types or value 
def help show context data dict function name logic or bust data dict 'name'  check access 'help show context data dict try function logic action function name except Key Error raise Not Found 'ctionfunctionnotfound return function  doc  
def  raise connection failure address error host port addressif port is not None msg '%s %d %s' % host port error else msg '%s %s' % host error if isinstance error socket raise Network Timeout msg elif isinstance error S S L Error and 'timedout' in str error raise Network Timeout msg else raise Auto Reconnect msg 
def task log stop task id  tasks thread ident None 
def angle axis matrix m np matrix if m -2 ] ! 3 3 raise Value Error 'matrixisnot3x3' axis np m -1 ] axis 0] m 2 1] - m 1 2] axis 1] m 0 2] - m 2 0] axis 2] m 1 0] - m 0 1] r np axis * axis .sum -1 keepdims True angle np r 0] m 0 0] + m 1 1] + m 2 2] - 1.0 return Angle angle u - axis / r 
def Show Interactive Window if edit is None Create Interactive Window elif edit Need Recreate Window edit Recreate Window else parent edit View Get Parent Frame if parent win32ui Get Main Frame edit View Set Focus else edit View Get Parent Frame .uto Restore win32ui Get Main Frame . D I Activate edit View Get Parent Frame 
def get console mode fd 1 mode DWORD hcon S T D H A N D L E S Get Console Mode hcon byref mode return mode 
def randintw w size 1 from numpy import randomp np w / np w rvs p random np size .reshape size return rvs 
def brentq f a b args xtol  xtol rtol  rtol maxiter  iter full output False disp True if not isinstance args tuple args args if xtol < 0 raise Value Error 'xtoltoosmall %g< 0 ' % xtol if rtol <  rtol raise Value Error 'rtoltoosmall %g<%g ' % rtol  rtol r  zeros brentq f a b xtol rtol maxiter args full output disp return results c full output r 
def use ansi escape colorbold composites color codes {}for color name color escape in colors color code color escape u u .replace u u color codes name color codefor alias in aliases parts [color codes for c in aliases ' ' ]composite escape u u parts escapes composite escapearg alias alias + ' arg arg seq aliases arg alias aliases + ' bold parts [color codes for c in arg seq ' ' ]composite escape u u parts escapes alias composite escape 
def lp2lp b a wo 1.0 a b map atleast 1d a b try wo float wo except Type Error wo float wo d len a n len b M max d n pwo pow wo numpy M - 1 -1 -1 start1 max n - d 0 start2 max d - n 0 b b * pwo / pwo ] a a * pwo / pwo ] return normalize b a 
def wrap loader context function context if 'loader context in get func args function return partial function loader context context else return function 
def to source node indent with '' * 4 generator Source Generator indent with generator node return ''.join generator 
def subset mapping data mdata samples of interest return mdata mdata 0] samples of interest ]
def wiener index G weight None is directed G directed if is directed and not is strongly connected G or not is directed and not is connected G return float 'inf' total sum chaini p for v p in spl G weight weight return total if is directed else total / 2
def  Clear Template Cache module dict sys template module module dict 'google.appengine.ext.webapp.template' if template module is not None template module cache 
def test error during readouterr testdir testdir pytest xyz "\nfrom pytest F D Capture snap self \xception 'boom' \ D Capture F D Capture bad snap result testdir subprocess '-p' 'pytest xyz '--version' syspathinsert True result lines ['*inbad snap "xception 'boom' " 'xception boom 
def lstrips text remove return  strips 'l' text remove 
def  serialize command command modified return  serialize item command modified 
def descendants pid this pid pidallpids all pids ppids {}def  parent pid if pid not in ppids ppids parent pid return ppids  children ppid return [pid for pid in allpids if  parent pid ppid ]def  loop ppid return {pid  loop pid for pid in  children ppid }return  loop pid 
def strip unknown categories x if isinstance x pd Series pd Data Frame x x if isinstance x pd Data Frame cat mask x 'category' if cat mask cats cat mask mask c in cats if not has known categories x x categories [] inplace True elif isinstance x pd Series if is categorical dtype x and not has known categories x x categories [] inplace True if isinstance x pd Categorical Index and not has known categories x x x categories [] elif isinstance x pd Categorical Index and not has known categories x x x categories [] return x 
def list nodes full call None if call 'action' raise Salt Cloud System Exit 'helist nodes fullfunctionmustbecalledwith return get resources vms include Config True 
def load formatter class scoped class name if ' ' not in scoped class name message 'REQUIRE "module class butwas "%s"' % scoped class name raise Value Error message module name class name parse scoped name scoped class name formatter module load module module name formatter class getattr formatter module class name None if formatter class is None raise Import Error 'CLASSNOTFOUND %s' % scoped class name return formatter class 
def  convert agg to wx bitmap agg bbox if bbox is None return wxc Bitmap From Buffer int agg int agg agg rgba else return  WX28 clipped agg as bitmap agg bbox 
def oauth2decorator from clientsecrets filename scope message None return O Auth2 Decorator From Client Secrets filename scope message 
@ np message '2 Cisdeprecatedinscipy0 Usescipy temperatureinstead Notethatthenewfunctionhasadifferentsignature def K2C K return  np K - zero Celsius 
def clipped Obj obj max Element Size 64 if hasattr obj ' asdict obj obj asdict if isinstance obj dict obj Out dict for key val in obj obj Out clipped Obj val elif hasattr obj '  iter  ' obj Out []for val in obj obj Out clipped Obj val else obj Out str obj if len obj Out > max Element Size obj Out obj Out max Element Size + '...' return obj Out 
def import library from xml *args **kwargs manager Library Import Manager *args **kwargs return list manager imports 
def Match Scorer Ambigs match mismatch matches None matches matches or {'A' {'A' None 'G' {'G' None 'C' {'C' None 'T' {'T' None '-' {'-' None for ambig chars in D N A Sequence degeneracies .iteritems try matches {}.fromkeys chars except Key Error matches {}.fromkeys chars for char in chars try matches {ambig None except Key Error matches {ambig None scorer x y if x not in matches or y not in matches raise Value Error 'nknowncharacter %sor%s' % x y if y in matches return matchelse return mismatchreturn scorer 
def pstdev data mu None var pvariance data mu try return var except Attribute Error return math var 
def ec2 credentials create user id None name None tenant id None tenant None profile None **connection args kstone auth profile **connection args if name user id user get name name profile profile **connection args [name]['id']if not user id return {rror 'ouldnotresolve User I D tenant tenant id tenant get name tenant profile profile **connection args [tenant]['id']if not tenant id return {rror 'ouldnotresolve Tenant I D kstone user id tenant id return {'access' newec2 'secret' newec2 'tenant id newec2 id 'user id newec2 id 
def start project transfer project user reason signer signing Timestamp Signer token signer user project token tokenproject template mail builder startcontext {'project' project 'receiver' user 'token' token 'reason' reason template user context email 
@csrf exemptdef checkout cancel  request context {'payment support email configuration helpers value 'payment support email settings P A Y M E N T SUPPORT EMAIL }return render to response 'commerce/checkout cancel context 
def combinations l result []for x in range len l - 1 ls l x + 1 ]for y in ls result l y return result 
def to manager sdf columns index axes [ ensure index columns  ensure index index ]return create block manager from arrays [sdf[c] for c in columns columns axes 
def matthews correlation y true y pred y pred pos K K y pred 0 1 y pred neg 1 - y pred pos y pos K K y true 0 1 y neg 1 - y pos tp K y pos * y pred pos tn K y neg * y pred neg fp K y neg * y pred pos fn K y pos * y pred neg numerator tp * tn - fp * fn denominator K tp + fp * tp + fn * tn + fp * tn + fn return numerator / denominator + K 
def one one in books book id val map db field *args if book id val map sequence sqlite datetime v k for k v in book id val map db u U P D A T Ebooks S E T ? H E R Eid ?' % field sequence field col map book id val map return set book id val map 
def many to one input dict return dict key val for keys val in input dict for key in keys 
def  skew a try res stats a except Value Error res np res 
def is future stmt if not isinstance stmt ast From return 0if stmt '  future  ' return 1else return 0
def auth add user auth ret {}auths auth ' ' known auths auth list .keys valid auths [r for r in auths if r in known auths ]log.debug 'rbac.auth add {0} known auths {1} valid auths {2}'.format auths known auths valid auths if len valid auths > 0 res   salt  ['cmd.run all ' login user auths ' '.join set auth get user False + valid auths if res > 0 ret Error {'retcode' res 'message' res if 'stderr' in res else res }return retactive auths auth get user False for a in auths if a not in valid auths ret 'nknown a in active auths ret 'dded ret 'ailed ret 
def localize input value default None if isinstance value decimal Decimal float int long return number format value elif isinstance value datetime value datetime safe datetime value format smart str default or get format 'DATETIME INPUT FORMATS' [0] return value format elif isinstance value datetime value datetime safe date value format smart str default or get format 'DATE INPUT FORMATS' [0] return value format elif isinstance value datetime format smart str default or get format 'TIME INPUT FORMATS' [0] return value format return value 
def initialize modgraph excludes user hook dirs None logger 'nitializingmoduledependencygraph debug os 'MODULEGRAPH DEBUG' 0 try debug int debug except Value Error debug 0graph Pyi Module Graph HOMEPATH excludes excludes implies get implies debug debug user hook dirs user hook dirs if not is py2 logger 'nalyzingbase library required mods []for m in PY3 BASE MODULES if is package m required mods + collect submodules m else required mods m for m in required mods graph hook m return graph 
def make Y Axis yaxis title yaxis graph objs Y Axis title yaxis title showticklabels True autorange True ticklen 4 showline True zeroline False showgrid False mirror False return yaxis 
def test scenarios with special characters feature Feature string FEATURE19 assert that feature .deep equals ['runme1'] assert that feature .deep equals ['runme2']
def to signum signum if isinstance signum int return signumm re ' \\w+ \\+ \\d+ ?' signum if m name m 1 .upper if not name 'SIG' name 'SIG' + name offset int m 3 if m 3 else 0 try return getattr signal name + offset except Key Error passraise Value Error 'signalinvalid {}'.format signum 
def get last change name ret  get account policy data value name 'ast Set Time unix timestamp salt utils return ret date text  convert to datetime unix timestamp return date text 
def inf range start 0 step 1 while True yield start start + step 
def inventory out   salt  ['cmd.run all '  verify run out return  xfs inventory output out 
def cull dsk keys if not isinstance keys list set keys [keys]out keys []seen set dependencies dict work list set flatten keys while work new work []out keys + workdeps [ k get dependencies dsk k as list True for k in work deps for _ deplist in deps for d in deplist if d not in seen seen d new work d work new workout {k dsk for k in out keys out dependencies 
def working function return True 
def input select objects prompt objs rep choice input options u u u False u Yes ' % prompt print if choice u return objselif choice u out []for obj in objs rep obj if input yn u yes ' % prompt True out obj print return outelse return []
def Create Parser query input string antlr3 A N T L R String Stream query lexer Query Lexer With Errors input string tokens antlr3 Common Token Stream lexer parser Query Parser With Errors tokens return parser 
def parse address address allow ranges False port Nonefor matching in ['bracketed hostport 'hostport'] m patterns address if m address port m port int port continuehost Nonefor matching in ['ipv4' 'ipv6' 'hostname'] m patterns address if m host addresscontinueif not host raise Ansible Error 'otavalidnetworkhostname %s' % address if not allow ranges and '[' in host raise Ansible Parser Error 'etectedrangeinhostbutwasaskedtoignoreranges return host port 
def git version process subprocess Popen [u'git' u stdout subprocess P I P E stdout stderr process assert process 0 u Failedtodeterminegitversion re u \\d+ ? \\.\\d+ * [\\s\\.]' stdout return Revision matches 1
def get flowgram distances id flowgram flowgrams fc ids outdir error profile DENOISER DATA DIR + 'FLX error profile check flowgram ali exe fh tmpfile init flowgram file prefix outdir append to flowgram file id flowgram fh k 0names []for f in flowgrams if f Name in ids fc f append to flowgram file f Name f fh trim False k + 1names.append f Name fh scores fh popen '%s-relscore pairid % get flowgram ali exe error profile tmpfile 'r' scores [map float s for s in scores fh if s ! '\n' ]if k ! len scores raise Runtime Error 'omethingbadhashappened Ireceivedless + 'ostlikelythis + 'meansthatthealignmentprogramisnotsetuporcorrupted.' + 'leaserunthetestscriptstofigureoutthecauseoftheerror remove tmpfile return scores names fc 
def create batch tables cluster session logging 'ryingtocreatebatches create table ' R E A T E T A B L E I F N O T E X I S T Sbatches \napptext \ntransactionint \nnamespacetext \npathblob \nold valueblob \nnew valueblob \nexclude indicestext \ R I M A R Y K E Y app transaction namespace path \n \n'statement Simple Statement create table retry policy NO RETRIES try session statement except cassandra Operation Timed Out logging 'ncounteredanoperationtimeoutwhilecreatingbatchestable Waiting1minuteforschematosettle time 60 raiselogging 'ryingtocreatebatch status create table ' R E A T E T A B L E I F N O T E X I S T Sbatch status \napptext \ntransactionint \nappliedboolean \ R I M A R Y K E Y app transaction \n \n'statement Simple Statement create table retry policy NO RETRIES try session statement except cassandra Operation Timed Out logging 'ncounteredanoperationtimeoutwhilecreatingbatch statustable Waiting1minuteforschematosettle time 60 raise 
def aggregate flow tests registry xml parent data agg flow X M L Sub Element xml parent 'low Test Aggregator X M L Sub Element agg flow 'est Result Trend .text str data 'show-test-results-trend' True .lower
def random distribution size vocabulary size b np 0.0 1.0 size [1 size return b / np b 1 [ None 
def get language from path path supported None strict False if supported is None from django import settingssupported Sorted Dict settings L A N G U A G E S regex match language code prefix re path if not regex match return Nonelang code regex match 1 try return get supported language variant lang code supported strict strict except Lookup Error return None 
def multi source dijkstra path length G sources cutoff None weight 'weight' if not sources raise Value Error 'sourcesmustnotbeempty' weight  weight function G weight dist  dijkstra multisource G sources weight cutoff cutoff return iter dist 
def padone x front 0 back 0 axis 0 fillvalue 0 shape np x shape + front + back shapearr np x out np shape out fillvalue startind np x startind frontendind startind + shapearr myslice [slice startind endind for k in range len endind ]out[tuple myslice ] xreturn out 
def CDLCLOSINGMARUBOZU bar Ds count return call talib with ohlc bar Ds count talib C D L C L O S I N G M A R U B O Z U 
def p funcdef p p ast Function None p tuple p 0 None p 
@receiver user pre delete def user commit pending sender instance **kwargs all changes Change changes instance .filter user instance user translation ids all changes list 'translation' flat True .distinct for translation in Translation pk  in user translation ids try last author translation set [0].authorexcept Index Error continueif last author instance translation pending None 
def execusercustomize try import usercustomizeexcept Import Error passexcept Exception if sys sys *sys.exc info else print >>sys.stderr "'importusercustomize'failed;use-vfortraceback"
def egg info matches egg info search name link  egg info re re ' [a-z0-9 .]+ - [a-z0-9 .!+-]+ ' re I match  egg info re egg info if not match logger 'ouldnotparseversionfromlink %s' link return Noneif search name is None full match match 0 return full match match '-' ]name match 0 .lower name name '_' '-' look for search name + '-' if name look for return match 0 [len look for ]else return None 
def add representer data type representer Dumper Dumper Dumper representer data type representer 
def pretty tree from tree tree indent width 2 INDENT '' * indent width def  prettify elem indent level 0 if elem elem '\n' + INDENT * indent level + 1 for child in elem  prettify child indent level + 1 elem -1 ].tail '\n' + INDENT * indent level elem '\n' + INDENT * indent level else elem Noneelem '\n' + INDENT * indent level  prettify tree return tree 
def  process return data ret Data if ret Data code 200 if ret Data return ret Dataelse log 'nodatareturnedfrominfoblox' return Noneelse msg 'nsuccessfulerrorcode ret Data code raise Command Execution Error msg return None 
def get clips url  url html  html url clips html 'div' {'id' 'newvideos results .ll 'tr' {'class' None return [ get clip clip for clip in clips 
def set is polling polling host None core name None ret  get return dict if  is master and  get none or value host is None err ['solr.set is pollingcanonlybecalledby ret {'success' False 'errors' err cmd 'enablepoll' if polling else 'disapblepoll' if  get none or value core name is None and  check for cores success Truefor name in   opts  ['solr.cores'] resp set is polling cmd host host core name name if not resp success Falsedata {name {'data' resp  update return dict ret success data resp resp return retelse resp  replication request cmd host host core name core name return resp 
def get Save File parent title dir description key ext fname None config key dir description + 'irectory base aqt config key aqt path os base fname file Q File Dialog Save File Name parent title path '{0} *{1} '.format key ext options Q File Dialog Dont Confirm Overwrite [0]if file if not file .endswith ext file + extdir os file aqt key dirif os file if not ask User _ 'hisfileexists Areyousureyouwanttooverwriteit parent return Nonereturn file 
def has change db cmd query try first token query [0]if first token in u u u return Trueexcept Exception return Falsereturn False 
def get cluster init process names runner nodes return gather deferreds list get node init process name runner node for node in nodes 
def certificate get all by project context project id return I M P L get all by project context project id 
def try serialize handler handler if isinstance handler types Instance Type or isinstance handler object and not inspect handler and not inspect handler and hasattr handler '  call  ' return pickle handler return None 
def  is used in graph var return not var [ 'output' 1 ] or var []
def get zk locations string zk location ips return ' ' + str zk D E F A U L T PORT + ' ' .join zk location ips + ' ' + str zk D E F A U L T PORT
def block device mapping destroy by instance and device context instance uuid device name return I M P L device mapping destroy by instance and device context instance uuid device name 
def acl changed module cmd if get platform .lower 'freebsd' return Truecmd cmd ]cmd.insert 1 '--test' lines run acl module cmd for line in lines if not line '* *' return Truereturn False 
def register swift info name 'swift' admin False **kwargs if name 'admin' or name 'disallowed sections raise Value Error "'{0}'isreservedname.".format name if admin dict to use  swift admin infoelse dict to use  swift infoif name not in dict to use if '.' in name raise Value Error 'annotuse infokey %s' % name dict to use {}for key val in kwargs if '.' in key raise Value Error 'annotuse infokey %s' % key dict to use val 
def extra context request processor page request request feincms extra context {u'in appcontent subpage False u path u url page absolute url if request ! url request feincms extra context {u'in appcontent subpage True u path re u + re url u u request }
def install editor template wait False def call editor self filename line 0 if line is None line 0cmd template filename pipes filename line line print '>' cmd if sys 'win' cmd shlex cmd proc subprocess Popen cmd shell True if wait and proc ! 0 raise Try Next if wait py3compat 'ress Enterwhendoneediting ' get ipython .set hook 'editor' call editor get ipython .editor template 
def  image property delete all context image id delete time None session None props updated count  image child entry delete all models Image Property image id delete time session return props updated count 
def sort unique alist alist out list for i in alist if i not in out out i return out 
def  read julian fid tag shape rlims return jd2jcal int np fid 4 dtype '>i4'
def  zero fill array context builder ary cgutils builder ary builder ary ary 0
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  hashtable algo f values return dtype None dtype values is float dtype dtype return f htable Float64 Hash Table  ensure float64 elif is signed integer dtype dtype return f htable Int64 Hash Table  ensure int64 elif is unsigned integer dtype dtype return f htable U Int64 Hash Table  ensure uint64 elif is datetime64 dtype dtype return dtype return dtype or '8 return f htable Int64 Hash Table  ensure int64 .view return dtype elif is timedelta64 dtype dtype return dtype return dtype or 'm8[ns]' return f htable Int64 Hash Table  ensure int64 .view return dtype if lib dtype values in ['string'] return f htable String Hash Table  ensure object return f htable Py Object Hash Table  ensure object 
def is release return VERSION[6]
def web daemon path '.' address None port None from dulwich import make wsgi chain make server W S G I Request Handler Logger W S G I Server Loggerbackend File System Backend path app make wsgi chain backend server make server address port app handler class W S G I Request Handler Logger server class W S G I Server Logger server forever 
def is closed hass entity id None entity id entity id or ENTITY ID ALL COVERS return hass state entity id STATE CLOSED
def binhex inp out finfo getfileinfo inp ofp Bin Hex finfo out ifp io inp 'rb' while True d ifp 128000 if not d breakofp d ofp data ifp ifp openrsrc inp 'rb' while True d ifp 128000 if not d breakofp rsrc d ofp ifp 
def test sample wrong X sm SMOTEENN random state RND SEED sm X Y assert raises Runtime Error sm np 100 40 np [0] * 50 + [1] * 50
def  Is Present item if item  Field Descriptor L A B E L REPEATED return bool item elif item type  Field Descriptor C P P T Y P E MESSAGE return item is present in parentelse return True 
def get job ids **filter data query models Test View objects filter data job ids set for test view in query 'job tag .distinct first tag component test view tag '-' [0]try job id int first tag component job ids job id except Value Error passreturn list job ids 
def is Package Directory dirname for ext in zip *imp.get suffixes [0] init File '  init  ' + ext if os os dirname init File return init Filereturn False 
def filter build dirs address mapper build files dirnames set dirname f for f in build files ignored dirnames address mapper ignore patterns files u dirname for dirname in dirnames ignored dirnames set d u for d in ignored dirnames return Build Dirs tuple Dir d for d in dirnames if d not in ignored dirnames 
def cov hc3 results h np np results np results cov params results T het scale results / 1 - h ** 2 cov hc3   HCCM results het scale return cov hc3 
def  check group features info parsed call refs {}additional groups []for call reverse fuzzy in info calls key call reverse fuzzy ref call refs key if ref is None if call 0 rev bool info & REVERSE fuz isinstance parsed Fuzzy if rev fuz ! reverse fuzzy additional groups Call Ref len call refs parsed reverse fuzzy else def info info groups def info def info ] ! reverse fuzzy additional groups group reverse fuzzy ref len call refs call refs refcall ref refinfo refs call refsinfo groups additional groups 
def submit calculate problem responses csv request course key problem location task type 'problem responses csv class calculate problem responses csvtask input {'problem location problem location key ''return submit task request task type task class course key task input task key 
def CDLONNECK bar Ds count return call talib with ohlc bar Ds count talib C D L O N N E C K 
def build request uri '/' path _ querystring uri '?' return W S G I Request {'CONTENT TYPE' 'text/html;charset utf 'PATH INFO' path 'QUERY STRING' querystring 'REMOTE ADDR' '127.0.0.1' 'REQUEST METHOD' 'GET' 'SCRIPT NAME' '' 'SERVER NAME' 'testserver' 'SERVER PORT' '80' 'SERVER PROTOCOL' 'HTTP/1.1' 'wsgi.version' 1 0 'wsgi.url scheme 'http' 'wsgi.input' Fake Payload '' 'wsgi.errors' six String I O 'wsgi.multiprocess' True 'wsgi.multithread' False 'wsgi.run once False 
def parse day period rules tree day periods {}for ruleset in tree 'eriod Rule Set ruleset type ruleset 'type' for rules in ruleset 'eriod Rules locales rules for rule in rules 'eriod Rule type rule type in 'am' 'pm' continuerule  compact dict dict key  time to seconds past midnight rule key for key in 'after' 'at' 'before' 'from' 'to' for locale in locales dest list day periods locale {} .setdefault ruleset type {} .setdefault type [] dest list rule return day periods 
def unique slug queryset slug field slug i 0while True if i > 0 if i > 1 slug slug u 1 [0]slug u % slug i try queryset **{slug field slug except Object Does Not Exist breaki + 1return slug 
def shortest path digr s nodes explored set [s] nodes unexplored DFS digr s nodes unexplored s dist {s 0}node heap []for n in nodes unexplored min compute min dist digr n nodes explored dist heapq node heap min n while len node heap > 0 min dist nearest node heapq node heap dist node min distnodes explored nearest node nodes unexplored nearest node for v in digr nearest node if v in nodes unexplored for i in range len node heap if node heap v node heap compute min dist digr v nodes explored dist v heapq node heap return dist 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
@command 'dlurl\\s .*[- a A Z0 ' def dl url url g mode 'normal'yt url url if len g 1 download 'download' '1' if g line sys 
def changes from tree names lookup entry object store tree want unchanged False other names set names if tree is not None for name mode sha in object store tree contents tree try other sha other mode lookup entry name except Key Error yield name None mode None sha None else other names name if want unchanged or other sha ! sha or other mode ! mode yield name name mode other mode sha other sha for name in other names try other sha other mode lookup entry name except Key Error passelse yield None name None other mode None other sha 
@support nddatadef block reduce data block size func np from skimage import block reducedata np data block size np 1d block size if data > 1 and len block size 1 block size np block size data if len block size ! data raise Value Error u size block size np [int i for i in block size size resampled np data // block size size init size resampled * block size for i in range data if data ! size init data data 0 i data data size init data 0 i return block reduce data tuple block size func func 
def document nav links obj return combine funcs obj parent document link topic parent document link topic sibling documents link topic children documents link 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def cuirfft inp norm None is odd False if is odd not in True False raise Value Error 'nvalidvalue odd mustbe Trueor False % is odd s inp -1 ]if is odd s T subtensor s -1 ] s -1 ] - 1 * 2 + 1 else s T subtensor s -1 ] s -1 ] - 1 * 2 cond norm  unitary norm scaling 1if cond norm is None scaling s .astype 'float32' elif cond norm 'ortho' scaling T s .astype 'float32' return cuirfft op inp s / scaling 
def strip stopwords sentence words sentence sentence []for word in words if word not in stopwords sentence word return ''.join sentence 
def add enabled equivalencies equivalencies context  Unit Context get current unit registry get current unit registry .add enabled equivalencies equivalencies return context 
def test pl dash o nikola u lang u assert o u 
def save load jid load minions None serv  get serv ret None serv jid json load  append list serv 'jids' jid 
def get exploration components from zip zip file contents memfile String I O String I O memfile zip file contents zf zipfile Zip File memfile 'r' yaml content Noneassets list []for filepath in zf if filepath 'assets/' assets list '/'.join filepath '/' [1 ] zf filepath elif yaml content is not None raise Exception 'orethanonenon elif not filepath '.yaml' raise Exception 'oundinvalidnon Thereshouldonlybeasinglefilenotinassets anditshouldhavea % filepath else yaml content zf filepath if yaml content is None raise Exception 'oyamlfilespecifiedinzipfilecontents return yaml content assets list 
def test index page c make logged in client c '/beeswax'
def  strip key key string key string key string '\n' '' key string '\r\n' '' return key string 
def tanhm A A  asarray square A return  maybe real A solve coshm A sinhm A
def b1 mapping char return u if stringprep table b1 char else None 
def hpr Model Anal x fs w N H t min Sine Dur n H minf0 maxf0 f0et harm Dev Slope hfreq hmag hphase H M Model Anal x fs w N H t n H minf0 maxf0 f0et harm Dev Slope min Sine Dur Ns 512xr U F Subtraction x Ns H hfreq hmag hphase fs return hfreq hmag hphase xr 
def  Get H W Infos client list batch size 10000 token None hw infos {}logging.info '%dclientstoprocess.' len client list c 0for batch in utils Grouper client list batch size logging 'rocessingbatch %d-%d' c c + batch size c + len batch client objs aff4 F A C T O R Y Multi Open batch age aff4 A L L TIMES token token for client in client objs hwi client Get Values For Attribute client Schema H A R D W A R E INFO hw infos set [ '%s' % x number for x in hwi return hw infos 
def token lists match l r if len l ! len r print "lengthsdon'tmatch" print len l print len r return Falsefor l elem r elem in zip l r assert isinstance l elem str float int type l elem assert isinstance r elem str float int type r elem if l elem ! r elem print '"' + l elem + '"doesn\'tmatch"' + r elem + '"' return Falsereturn True 
@login required template 'users/{mobile/}pw change complete def password change complete request template return render request template 
def rst xline width char ' ' return char * width 
def rad fn x pos None n int x / np * 2.0 + 0.25 if n 0 return str x elif n 1 return u n 2 return u n % 2 0 return u % n / 2 else return u % n 
def update user bio user id user bio user settings get user settings user id strict True user settings bio user bio save user settings user settings 
def  run command cmd logging ''.join cmd pipe subprocess P I P Eproc subprocess Popen cmd stdin pipe stdout pipe stderr pipe close fds True out err proc if proc is not os E X OK raise Xenstore Error cmd proc err out return proc out 
def get Little Endian Unsigned Long Given File file return unpack '<L' file 4 [0]
def groups for user environ username User Model auth user model db queries try try user User Model default manager by natural key username except User Model Does Not Exist return []if not user active return []return [force bytes group for group in user ]finally db connection 
def cloudformation registry xml parent data region dict helpers region dict stacks helpers init xml parent data 'loud Formation Post Build Notifier for stack in data 'create-stacks' [] helpers stack xml parent stack 'ost Build Stack Bean stacks region dict delete stacks helpers init xml parent data 'loud Formation Notifier for delete stack in data 'delete-stacks' [] helpers stack xml parent delete stack 'imple Stack Bean delete stacks region dict 
def  linear banded jac t y a ml mu  band count a bjac []for k in range mu 0 -1 bjac np [ [0] * k np a k ] bjac np a for k in range -1 - ml - 1 -1 bjac np [ np a k [0] * - k ] return bjac 
def collatz start start int start begin time steps []while start ! 1 steps start if start > 1 if start % 2 0 start start / 2 else start start * 3 + 1 return steps time - begin 
def  responds result type data None msg '' return {'result' result type map type 'message' msg 'data' {} if not data else data }
def get store from scheme context scheme loc None if scheme not in location S C H E M E TO CLS MAP raise exception Unknown Scheme scheme scheme scheme info location S C H E M E TO CLS M A P scheme info class context loc return store 
def get table names from sql context sql def  get table names from plan plan table names []if plan 'elation Name table names plan Relation Name if 'lans in plan for child plan in plan Plans table name  get table names from plan child plan if table name table names table name return table namesresult context 'EXPLAIN FORMATJSON {0}'.format sql 'utf-8' .fetchone table names []try query plan json result Q U E R Y P L A N plan query plan Plan names  get table names from plan plan except Value Error log 'ouldnotparsequeryplan return table names 
@retry 2 delay 0.5 backoff 1.1 def safe deepcopy instance return copy instance 
def login required func @wraps func def decorated view *args **kwargs if not users current user return redirect users login url request return func *args **kwargs return decorated view 
def  get storage api retry params account id None api  Storage Api  Storage Api control scope service account id account id retry params retry params if common run and not common access token api url common api url if common access token api common access token return api 
def job from request from digits import schedulerjob id get request arg 'job id if job id is None raise werkzeug Bad Request 'job idisarequiredfield job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound else return job 
def object build class node member localname basenames [base.  name   for base in member  bases  ]return  base class object build node member basenames localname localname 
def flatten iterator x for elem in x if not isinstance elem str and hasattr elem '  iter  ' for y in flatten iterator elem yield y else yield elem 
def callbackmethod callback return callback 
def update status msg **redis kwargs pid getpid red Strict Redis **redis kwargs key 'pid-%d-statuses' % pid msg '%.6f%s' % time msg red key msg red key 60 * 60 red key 0  keep 
def get Selected Plugin Module From Path file Path plugins for plugin in plugins if plugin return gcodec Module From Path plugin file Path return None 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  uniquely named symbol xname *exprs prefix '%s'x prefix % xname syms set .union *[e.free symbols for e in exprs while any x str s for s in syms prefix '_' + prefix x prefix % xname return  symbol x 
def residue reduce derivation H DE z i Dummy 'i' return S sum Root Sum a poly z Lambda i i * derivation a DE .as expr .subs z i / a expr .subs z i for a in H
def transfer var target if target 'cpu' return as tensor variable var else for trans in transfer others res trans var target if res is not None return resraise Value Error "an % target 
def set default zone zone return   firewall cmd '--set-default-zone {0}'.format zone 
def resolve model model path module path model name model path '.' 1 module importlib module module path model getattr module model name return model 
def  Find Server In Mapping mapping hashed server list list mapping val  Bisect Hash List server list 0 len server list - 1 hashed .indexreturn val 
def p struct declarator list 2 t pass 
def all filters return Host Filter Handler .get all classes 
def test install quiet script data to install data ' S Pkg result script 'install' '-q' to install expect error False assert result '' assert result ''
def disable states ret {'res' True 'msg' ''}if isinstance states six types states states ' ' msg [] disabled   salt  ['grains.get'] 'state runs disabled if not isinstance  disabled list  disabled [] changed Falsefor  state in states if  state in  disabled msg 'nfo {0}statealreadydisabled.'.format  state else msg 'nfo {0}statedisabled.'.format  state  disabled  state  changed Trueif  changed   salt  ['grains.setval'] 'state runs disabled  disabled ret '\n'.join msg   salt  ['saltutil.refresh modules return ret 
def getone regex string limit 20 return  randone parse regex string limit 
def stop Listening global  listenerlogging acquire Lock try if  listener  listener 1 listener Nonefinally logging release Lock 
def rename name kwargs call None if call ! 'action' raise Salt Cloud System Exit 'herenameactionmustbecalledwith log 'enaming name kwargs set tags name {ame kwargs call 'action' salt key   opts  ['pki dir name kwargs 
def internalerror context 'nternal Server Error [ 'ontent Type 'text/html' ]context.output 'internalservererror'
def touch empty backreferences app what name obj options lines examples path os app app gallery conf example dir '%s.examples' % name if not os examples path open examples path 'w' .close
def parse bootloader rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--append' dest 'append' action 'store' parser argument '--driveorder' dest 'driveorder' action 'store' parser argument '--location' dest 'location' action 'store' parser argument '--password' dest 'password' action 'store' parser argument '--md5pass' dest 'md5pass' action 'store' parser argument '--upgrade' dest 'upgrade' action 'store true parser argument '--timeout' dest 'timeout' action 'store' parser argument '--boot-drive' dest 'bootdrive' action 'store' args clean args vars parser args rules parser Nonereturn args 
@validatordef truthy value return value and not isinstance value six types or value 
def get url conn urlopen url resp conn conn return resp 
def betweenness centrality subset G sources targets normalized False weight None b dict G 0.0 for s in sources if weight is None S P sigma shortest path G s else S P sigma dijkstra G s weight b  accumulate subset b S P sigma s targets b  rescale b len G normalized normalized directed G directed return b 
def to cnf first second if isinstance first And Expression r first to cnf first second r second to cnf first second return r first & r second elif isinstance second And Expression r first to cnf first second r second to cnf first second return r first & r second else return first | second 
def all filters return Host Filter Handler .get all classes 
def logstash registry xml parent data logstash X M L Sub Element xml parent 'ogstash Notifier logstash 'plugin' 'logstash' mapping [ 'max-lines' 'ines 1000 'fail-build' 'uild False ]helpers.convert mapping to xml logstash data mapping fail required True 
def jarque bera x x np x n float x if n 0 raise Value Error 'tleastoneobservationisrequired mu x diffx x - mu skewness 1 / n * np diffx ** 3 / 1 / n * np diffx ** 2 ** 3 / 2.0 kurtosis 1 / n * np diffx ** 4 / 1 / n * np diffx ** 2 ** 2 jb value n / 6 * skewness ** 2 + kurtosis - 3 ** 2 / 4 p 1 - distributions jb value 2 return jb value p 
def generate bounding box bottom left top right west lat 1 bottom left coords east lat 2 top right coords min lat max lat min lat 1 lat 2 max lat 1 lat 2 return min lat west max lat east 
def R p q if p in consonants or q in consonants return R creturn R v 
def  is proxy running proxyname cmd 'psax|grep"salt-proxy--proxyid {0}"|grep-vgrep'.format salt quote proxyname cmdout   salt  ['cmd.run all cmd timeout 5 python shell True if not cmdout return Falseelse return True 
def aes cipher from key key return A E S key AES.MODE CBC generate aes iv key 
def find Handler self while self if self in 'media' 'tags' breakself self return Nonefor atom in self if atom 'hdlr' return atom None 
def qapplication translate True test time 3 if running in mac app Spyder Application Mac Applicationelse Spyder Application Q Applicationapp Spyder Application if app is None app Spyder Application [pyder app Application Name 'pyder if translate install translator app test ci os 'TEST CI WIDGETS' None if test ci is not None timer shutdown Q Timer app timer shutdown app timer shutdown test time * 1000 return app 
def fallback trans x t _ x if t x l get lang set lang g graceful fail True t _ x if l and l ! g set lang l return t 
def get dynamic property vim mobj type property name obj content get object properties vim None mobj type [property name property value Noneif obj content dynamic property obj content Setif dynamic property property value dynamic property property value 
def create quiver x y u v scale 0.1 arrow scale 0.3 angle math / 9 **kwargs utils equal length x y u v utils positive scalars arrow scale arrow scale scale scale barb x barb y  Quiver x y u v scale arrow scale angle .get barbs arrow x arrow y  Quiver x y u v scale arrow scale angle .get quiver arrows quiver graph objs Scatter x barb x + arrow x y barb y + arrow y mode 'lines' **kwargs data [quiver]layout graph objs Layout hovermode 'closest' return graph objs Figure data data layout layout 
def setup app app role 'rfc' rfclink return 
def int64 feature values if not isinstance values tuple list values [values]return tf Feature int64 list tf Int64 List value values 
def libvlc audio get channel p mi f  Cfunctions 'libvlc audio get channel None or  Cfunction 'libvlc audio get channel 1 None ctypes int Media Player return f p mi 
def get requirement from url url link Link url egg info link fragmentif not egg info egg info splitext link [0]return package to requirement egg info 
def barycenter weights X Z reg 0.001 X check array X dtype FLOAT DTYPES Z check array Z dtype FLOAT DTYPES allow nd True n samples n neighbors X Z B np n samples n neighbors dtype X v np n neighbors dtype X for i A in enumerate Z 0 2 1 C A.T - X G np C C.T trace np G if trace > 0 R reg * trace else R reg G Z + 1 ] + Rw solve G v sym pos True B ] w / np w return B
def  To Web Safe String per result internal cursor return str per result + ' ' + internal cursor 
def location to url location strict True if location is None return Nonesplit path Hdfs location if strict and not split path or not split path return Nonepath locationif split path 'hdfs' path split path reverse 'filebrowser.views.view' kwargs dict path path 
def article course wiki root slug article try urlpath article set except Object Does Not Exist return Noneancestors urlpath ancestorscourse wiki root urlpath Noneif len ancestors 0 course wiki root urlpath Noneelif len ancestors 1 course wiki root urlpath urlpathelse course wiki root urlpath ancestors course wiki root urlpath is not None return course wiki root urlpath None 
def binary log loss y true y prob y prob np y prob 1e-10 1 - 1e-10 return - np y true * np y prob + 1 - y true * np 1 - y prob / y prob 
def interrupt main if  main raise Keyboard Interruptelse global  interrupt interrupt True 
def get scheduler events event scheduler events frappe .get value u events if not scheduler events scheduler events frappe hooks u events integration events get integration service events for key handlers in integration events scheduler events key [] .extend handlers frappe .set value u events scheduler events return scheduler events event or []
def  make ctf name directory extra raise error True fname op directory op directory [ -3 ] + '.' + extra if not op fname if raise error raise I O Error 'tandardfile % fname else return Nonereturn fname 
def remove sshkey host known hosts None if known hosts is None if 'HOME' in os known hosts '{0}/.ssh/known hosts os H O M E else try known hosts '{0}/.ssh/known hosts pwd os .pwd dir except Exception passif known hosts is not None log 'emovingsshkeyfor host known hosts else log 'emovingsshkeyfor host cmd ' host subprocess cmd shell True 
def setup lockfile method mocks testcase scenario class name def mock read pid return scenario pid mock is locked return scenario pid is not None def mock i am locking return scenario pid scenario def mock acquire timeout None if scenario pid is not None raise lockfile Already Locked scenario pid scenario mock release if scenario pid is None raise lockfile Not Locked if scenario pid ! scenario raise lockfile Not My Lock scenario pid Nonedef mock break lock scenario pid Nonefor func name in ['read pid 'is locked 'i am locking 'acquire' 'release' 'break lock mock func vars [ 'mock % func name s % vars ]lockfile func name '% class name s func name s % vars mock lockfile func scaffold Mock lockfile func name returns func mock func tracker testcase tracker try scaffold lockfile func name mock obj mock lockfile func tracker testcase tracker except Name Error pass 
def ior a b a | breturn a 
def does chmod work dir to test if not os dir to test return Truef1 tempfile Named Temporary File dir dir to test try f1 stat os f1 os f1 f1 stat mode | stat S IRUSR chmod works Truelogging 'etectedthatchmodsworkin % dir to test except O S Error chmod works Falselogging 'etectedthatchmodsdo N O Tworkin % dir to test return chmod works 
def run Tests vm tests None pre '' post '' prompt Prompt uninstall Ntpd False if uninstall Ntpd remove Ntpd vm vm prompt if Branch check Out Branch vm branch Branch vm prompt if not tests tests []if pre log 'unningcommand pre vm pre vm prompt testfns test Dict if tests log 'unningtests for test in tests if test not in testfns raise Exception 'nknowntest ' + test log 'unningtest test fn testfns vm vm prompt if post log 'unningpost post vm post vm prompt 
def pvdisplay pvname '' real False ret {}cmd ['pvdisplay' '-c']if pvname cmd pvname cmd ret   salt  ['cmd.run all cmd python shell False if cmd ret ! 0 return {}out cmd ret for line in out if 'isanewphysicalvolume' not in line comps line .split ' ' if real device os comps else device comps {hysical Volume Device comps 'olume Group Name comps 'hysical Volume Size k B ' comps 'nternal Physical Volume Number comps 'hysical Volume Status comps 'hysical Volume not Allocatable comps 'urrent Logical Volumes Here comps 'hysical Extent Size k B ' comps 'otal Physical Extents comps 'ree Physical Extents comps 'llocated Physical Extents comps real ret Real Physical Volume Device devicereturn ret 
def  get backing memmap a b getattr a 'base' None if b is None return Noneelif isinstance b mmap return aelse return  get backing memmap b 
def write pack objects f objects delta window size None deltify False if deltify pack contents deltify pack objects objects delta window size else pack contents o num o .digest None o raw string for o path in objects return write pack data f len objects pack contents 
def  convert stringval value value unicode value try value int value except Value Error Type Error passreturn value 
def index groups request group form forms Group Create Form request P O S T or None if group form valid group group form group request group member request Group Membership M E M B E R return redirect reverse 'groups group edit args [group.url] query Group non functional areas template 'groups/index groups {'group form group form  list groups request template query context 
def pred error f pred prepare data data iterator verbose False valid err 0for _ valid index in iterator x mask y prepare data [data[0][t] for t in valid index numpy data [valid index maxlen None preds f pred x mask targets numpy data [valid index err + preds targets .sum valid err 1.0 - numpy float X valid err / len data return valid err 
def get Gcode Text Without Redundant Mcode gcode Text lines archive Text Lines gcode Text lines get Lines Without Redundancy 'M104' lines lines get Lines Without Redundancy 'M108' lines output c String I O String I O gcodec Lines To C String output lines return output 
def sanitize results data results dirpath raise Not Implemented Error 
def assert server running server if server is not None raise Runtime Error 'erverdiedunexpectedly Check % LOG FILE
def authenticated build registry xml parent data security X M L Sub Element xml parent 'uthorization Matrix Property X M L Sub Element security 'permission' .text 'tem Build authenticated 
def in6 getifaddr ret []i dnet for int in i ifname int []if int key 'alias addrs v6 int addrs a in v6 if a ! dnet A D D R TYPE IP6 continuexx str a .split '/' [0]addr scapy ptop xx scope scapy getscope addr ret xx scope ifname return ret 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def admin context request if django V E R S I O N < 1 8 0 return admin context return admin context request 
def  generate java binary target name onejar path jvm flags run args onejar name os onejar path full path os onejar path target file open target name 'w' target file 'utogeneratedwrappershellscriptbyblade `dirname"$0"`/"%s"\nif[!-f"$jar"];then\njar "%s"\nfi\n\nexecjava%s-jar"$jar"%s$@\n' % onejar name full path jvm flags run args os target name 493 target file return None 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def test datasets for dname in 'sample' 'somato' 'spm face 'testing' 'bst raw 'bst auditory 'bst resting 'visual 92 categories if dname 'bst' dataset getattr datasets dname else dataset getattr datasets dname if dataset path download False ! '' assert true isinstance dataset version string types else assert true dataset version is None tempdir  Temp Dir os MNE FAKE HOME DIR'] tempdirtry assert equal datasets get path None 'foo' 'bar' op tempdir 'mne data finally del os MNE FAKE HOME DIR']
def broadcasted add a b raise Not Implemented Error 'TODO implementthisfunction 
def  get subnet explicit route table subnet id vpc id conn None region None key None keyid None profile None if not conn conn  get conn region region key key keyid keyid profile profile if conn vpc route tables conn all route tables filters {'vpc id vpc id for vpc route table in vpc route tables for rt association in vpc route table if rt association id subnet id and not rt association return rt association None 
def getos return {'os'   pillar  .get 'proxy' {} .get 'driver' '' }
def pw Convert pw encode True if pw u return pwif encode if Preferences User u Use Master Password epw pw Encrypt pw [0]else epw pw Encode pw return epwelse if Preferences User u Use Master Password plain ok pw Decrypt pw else plain ok pw Decode pw True return plain if ok else pw 
def mock software secure post url headers None data None **kwargs data dict json data EXPECTED KEYS [d X I D 'xpected Name 'hoto I D 'hoto I D Key 'end Response To 'ser Photo 'ser Photo Key key in EXPECTED KEYS assert true data dict key " S O Nsubmittedto Software Secure key data dict Photo I D Key 'base64' data dict User Photo Key 'base64' response requests Response response code 200return response 
def accept dict match include rejected False include denied False skey get key   opts   return skey match dict match include rejected include rejected include denied include denied 
def get fund info code request ct S I N A FUND INFO URL % ct P T Y P E ct D O M A I N S code text urlopen request timeout 10 .read text text 'gbk' org js json text status code int org js if status code ! 0 status str org js raise Value Error status data org js df pd Data Frame data columns ct F U N D INFO COLS index [0] fund df fund df index 'symbol' return fund df 
def invoice resend email request order id try order Order for user order id request except Order Does Not Exist raise Http404if request u P O S T checkout order email request order msg _ u Theorderemailfororder I D % order id info request msg redirect to next url request if redirect to is None if request staff redirect to reverse u shop order change args [order id else redirect to reverse u order history return redirect redirect to 
def is number dtype return is float dtype or 'int' in dtype or 'long' in dtype or 'short' in dtype 
def rename name kwargs call None if call ! 'action' raise Salt Cloud System Exit 'herenameactionmustbecalledwith log 'enaming name kwargs set tags name {ame kwargs call 'action' salt key   opts  ['pki dir name kwargs 
def get purchase endpoint return get processor config .get 'PURCHASE ENDPOINT' ''
def list settings keys from importlib import import modulefrom evennia import evtableevsettings import module SETTINGS DOTPATH if len keys 1 and keys 'ALL' table evtable Ev Table confs [key for key in sorted evsettings  dict   if key ]for i in range 0 len confs 4 table row *confs[i i + 4 ] else table evtable Ev Table width 131 keys [key.upper for key in keys dict key var for key var in evsettings  dict  .items if key in keys for key val in confs table row key str val print table 
def exception msg *args error msg exc info 1 *args
def test2 build Package 'sers Desktop Title 'reportlab' Version '1.10' Description "eport Lab Open Source P D Ftoolkit Default Location 'pplications Report Lab Relocatable 'YES'
def Get Recommended Index Properties properties prefix postfix propertiesresult []for sub list in itertools prefix postfix if isinstance sub list frozenset set for prop in sorted sub list result prop ASCENDING else for prop dir in sub list result prop dir if dir is not None else ASCENDING return tuple result 
def stations stations strings []append stations strings s3db placeetable s3db place elevationitable s3db place station idntable s3db place station namequery table etable & table itable & table ntable rows db query .select table table table etable metres itable id ntable for place row in rows append ''.join ' ' str place row place ' {' '"longitude" ' str place row place ' "latitude" ' str place row place '}' return '[%s]' % ' '.join stations strings 
def benchmark scale 1 overall Result {ount 1eferred  benchmark Buffered byte Count * scale def did Buffered buffered Result overall Result buffered Resultunbuffered Deferred  benchmark Unbuffered byte Count * scale def did Unbuffered unbuffered Result overall Result unbuffered Resultreturn overall Resultunbuffered Deferred Callback did Unbuffered return unbuffered Deferredbuffered Deferred Callback did Buffered return buffered Deferred 
def is protected type obj return isinstance obj  PROTECTED TYPES
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def shapelist a if type a is list return tuple [len a ] + list shapelist a else return 
def get fc wwpns hbas get fc hbas wwpns []if hbas for hba in hbas if hba state 'nline wwpn hba name '0x' '' wwpns wwpn return wwpns 
@shared constructordef generic constructor value name None strict False allow downcast None return Shared Variable type generic value value name name strict strict allow downcast allow downcast 
def incident type return s3 rest controller 
def monitor one import per line logical line pos logical line ' ' parts logical line if pos > -1 and parts 'import' or parts 'from' and parts 'import' and not is import exception parts yield pos 'ENERGYN301 oneimportperline 
def xml item item xml xml root open item xml + xml add links item xml + xml dict item xml + xml root close return xml 
def split Up pred res re split Comparison pred if not res raise Value Error 'badpackagerestrictionsyntax %r' % pred comp ver Str res return comp distutils Strict Version ver Str 
def mock ret cdata if cdata name cdata name cdata {'name' name 'comment' 'otcalled mocked 'changes' {} 'result' True 
def a2s arr return ''.join chr b for b in arr 
def  parse time time isoformat return datetime time isoformat '+' [0] ' T H %M % .replace tzinfo UTC
def redirect to request url permanent True **kwargs if url is not None klass permanent and Http Response Permanent Redirect or Http Response Redirect return klass url % kwargs else return Http Response Gone 
def package pkg name repos None yes None options None if not is installed pkg name install pkg name repos yes options 
def gen item fmt obj mode chars fmt '#' x []for c in chars x randrange fmt mode c obj return x if len x 1 else tuple x 
def  setup traditional switches logger config add devices callback traditional config CONF TRADITIONAL switches []if traditional for _ entity info in traditional if entity info C O N F SCS ID] in scsgate S C S G A T E continuename entity info C O N F N A M E id entity info C O N F SCS I D 'dding switch name switch S C S Gate Switch name name scs id scs id logger logger switches switch add devices callback switches scsgate S C S G A T E devices to register switches 
def get mapped batch dataset design batch if design batch ! 2 design batch dataset design matrix design batch mapped batch design dataset for viewer design batch mapped batch dataset topological view mapped batch design return mapped batch 
def make temp fname fname None suffix os fname [ -1 ] fd temp prefix tempfile prefix 'tmp' suffix suffix return temp prefix 
def test rocket data 
def safepath p return p '/' os 
def member create request **kwargs body {'member' {'pool id kwargs id 'address' kwargs 'protocol port kwargs port 'weight' kwargs 'admin state up kwargs state up quantumclient request .create member body .get 'member' return Member member 
def clean ascii chars txt charlist None if not txt return ''global  ascii patif  ascii pat is None chars set xrange 32 chars 127 for x in 9 10 13 chars x  ascii pat re u map unichr chars if charlist is None pat  ascii patelse pat re u map unichr charlist return pat '' txt 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def arch For filepath name path filepath if 'amd64' in name or 'x86 64' in name arch 'x86 64'elif 'i386' in name or '32' in name or 'x86' in name arch 'i386'elif '64' in name arch 'x86 64'else log "rror can C P Uforname name exit 1 return arch 
def  rgb to rgba A rgba np A A 4 dtype A rgba 3] Aif rgba np rgba 3] 255else rgba 3] 1.0return rgba 
def  Convert To Unicode some string if some string is None return Noneif isinstance some string unicode return some stringreturn unicode some string 'utf-8'
def unfrackpath path follow True if follow final path os os os os to bytes path errors 'surrogate or strict else final path os os os os to bytes path errors 'surrogate or strict return to text final path errors 'surrogate or strict 
def  get request value request value name default '' if request is not None and hasattr request 'GET' and value name in request G E T return request G E T name request is not None and hasattr request 'POST' and value name in request P O S T return request P O S T name return default 
def is legal name name if name is None return Falseif name '' return Truem NAME LEGAL CHARS P name return m is not None and m 0 name and not '//' in name 
def get collection summary by id collection id collection summary model collection models Collection Summary Model collection id if collection summary model collection summary get collection summary from model collection summary model return collection summaryelse return None 
def filter jchars c if is asian c return ''return c 
def clear logical volume path vol size logical volume size path bs 1024 * 1024 direct flags 'oflag direct sync flags remaining bytes vol sizewhile remaining bytes zero blocks remaining bytes / bs seek blocks vol size - remaining bytes / bs zero cmd 'dd' 'bs %s' % bs 'if /dev/zero' 'of %s' % path 'seek %s' % seek blocks 'count %s' % zero blocks zero cmd + direct flagszero cmd + sync flagsif zero blocks utils run as root True *zero cmd remaining bytes % bsbs / 1024direct flags sync flags 'conv fdatasync 
def date value arg None from django import formatif not value return ''if arg is None arg settings D A T E F O R M A Treturn format value arg 
def Map Key To Server mapping key hsh int hashlib key .hexdigest [ 16] 16 return  Find Server In Mapping mapping hsh 
def  ratio enum anchor ratios w h x ctr y ctr  whctrs anchor size w * h size ratios size / ratios ws np np size ratios hs np ws * ratios anchors  mkanchors ws hs x ctr y ctr return anchors 
def groups attrs None where None return  osquery cmd table 'groups' attrs attrs where where 
def manual updates required request updates template name u updates required return render to response template name Request Context request {u'updates' [render to string update template name Request Context request extra context for update template name extra context in updates 
def  obtain lock id try os '/dev/null'  lock file id return Trueexcept return False 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  Create Register Request device dict None auth info dict None synchronous True version message M A X SUPPORTED MESSAGE VERSION request dict {'headers' {'version' version Set If Not None request dict 'device' device dict util Set If Not None request dict 'auth info auth info dict if synchronous request dict Truereturn request dict 
def update router router name None admin state up None profile None **kwargs conn  auth profile return conn router router name admin state up **kwargs
def  get all test class names in jar jar test class names []zip file zipfile Zip File jar 'r' name list zip file for name in name list basename os name if basename 'est and len basename > len 'est and not '$' in basename class name name '/' '.' [ -6 ]test class names class name zip file return test class names 
def wrap value x wrapper  wrappers type x if wrapper is None return xelse return wrapper x 
def name Variations name from Ptdf 0 name1 name2 name3 u from Ptdf or re name Index name namedict analyze name name canonical 1 name1 namedict from Ptdf if namedict key 'ndex name3 nameelse name3 build name namedict canonical 1 else name1 canonical Name name name3 u normalize Name name1 if name1 name2 name2 u aux logger 'namevariations 1 [%s]2 [%s]3 [%s]' name1 name2 name3 return name1 name2 name3 
def vmotion configured name enabled device 'vmk0' ret {'name' name 'result' False 'changes' {} 'comment' ''}esxi cmd 'esxi.cmd'host   pillar  ['proxy']['host']current vmotion enabled   salt  [esxi cmd 'get vmotion enabled .get host current vmotion enabled current vmotion enabled ' Motion Enabled if enabled ! current vmotion enabled if not   opts  ['test'] if enabled is True response   salt  [esxi cmd 'vmotion enable device device .get host error response 'rror if error ret 'rror {0}'.format error return retelse response   salt  [esxi cmd 'vmotion disable .get host error response 'rror if error ret 'rror {0}'.format error return retret {'enabled' {'old' current vmotion enabled 'new' enabled ret Trueif ret {} ret ' Motionconfigurationisalreadyinthedesiredstate retif   opts  ['test'] ret Noneret ' Motionconfigurationwillchange ret 
def get config h filename if  PYTHON BUILD if os 'nt' inc dir os  PROJECT BASE 'PC' else inc dir  PROJECT B A S Eelse inc dir get path 'platinclude' return os inc dir 'pyconfig.h'
def  check scaling inputs data picks list scalings rescale dict  dict mag 1000000000000000.0 grad 10000000000000.0 eeg 1000000.0 scalings  Noneif isinstance scalings string types and scalings 'norm' scalings  1.0 /  compute row norms data elif isinstance scalings dict rescale dict .update scalings scalings  rescale dict elif isinstance scalings np scalings  scalingselif scalings is None passelse raise Not Implemented Error "oway That %s" % scalings return scalings 
def Get Smallest Thumbnail media thumbnail list r {}for thumb in media thumbnail list r int thumb * int thumb ] thumbkeys r keys return r 
def  normalize server settings **settings ret dict settings salt kwargs **settings for setting in settings if isinstance settings dict  L O G 'ixingvalue %s' settings value from key next six settings ret '{{{0}}}'.format value from key else ret settings ret 
def parse type attrtype uattribute attrtype .strip if uattribute '{' return 'nominal'elif uattribute len 'real' ] 'real' return 'numeric'elif uattribute len 'integer' ] 'integer' return 'numeric'elif uattribute len 'numeric' ] 'numeric' return 'numeric'elif uattribute len 'string' ] 'string' return 'string'elif uattribute len 'relational' ] 'relational' return 'relational'elif uattribute len 'date' ] 'date' return 'date'else raise Parse Arff Error 'unknownattribute%s' % uattribute 
def can edit user translation permission if translation return Falseif user authenticated and not user return Falseif check owner user translation permission return Trueif not has group perm user permission translation return Falseif translation template and not has group perm user 'trans.save template translation return Falseif not has group perm user 'trans.override suggestion translation and translation voting and translation autoaccept > 0 return Falsereturn True 
def unfollow dataset context data dict schema context 'schema' or ckan follow dataset schema  unfollow context data dict schema context User Following Dataset 
def  roots hermite asy n iv  initial nodes n nodes weights  newton n iv if n % 2 0 nodes hstack [ - nodes -1 ] nodes weights hstack [weights[ -1 ] weights else nodes hstack [ - nodes -1 0 -1 ] nodes weights hstack [weights[ -1 0 -1 ] weights weights * sqrt pi / sum weights return nodes weights 
def register rbssh envvar envvar envvar u os envvar 'rbssh' os 'rbssh'
def proj plane pixel scales wcs return np wcs scale matrix ** 2 .sum axis 0 dtype np 
def  execute4 *args **kargs cmd args -3 ] if args 'raidcom' else args result EXECUTE T A B L E4 cmd CMD SUCCEED return result 
def filter attribute value assertions ava attribute restrictions None if not attribute restrictions return avafor attr vals in ava  attr attr try  rests attribute restrictions attr Key Error del ava if  rests is None continueif isinstance vals basestring vals [vals]rvals []for restr in  rests for val in vals if restr val rvals val if rvals ava list set rvals else del ava ava 
def fake ugettext translations def  ugettext text return translations text text return  ugettext 
def parse head fileobj parser while 1 data fileobj CHUNK try parser data except End Of Head Error breakif len data ! CHUNK breakreturn parser equiv 
def prepare grant uri uri client id response type redirect uri None scope None state None **kwargs params [ u type response type u id client id ]if redirect uri params u uri redirect uri if scope params u scope if state params u state for k in kwargs params unicode k kwargs return add params to uri uri params 
def setup holiday list year now datetime .yearholiday list frappe doc {u'doctype' u Holiday List u list name str year u date u year u date u year } holiday list holiday list off u Saturday list weekly off dates holiday list off u Sunday list weekly off dates holiday list frappe value u Company erpnext default company u holiday list holiday list 
@view config context httpexceptions H T T P Forbidden permission NO PERMISSION REQUIRED def authorization required response request if Authenticated not in request principals error msg 'leaseauthenticateyourselftousethisendpoint http error httpexceptions H T T P Unauthorized errno ERRORS.MISSING AUTH TOKEN message error msg response forget request return responseif response type ! 'application/json' error msg 'hisusercannotaccessthisresource http error httpexceptions H T T P Forbidden errno ERRORS.FORBIDDEN message error msg return reapply cors request response 
def  get request id global  CURRENT REQUEST ID H A S Hglobal  REQUEST T I M Erequest id hash os 'REQUEST ID HASH' '' if  CURRENT REQUEST ID HASH ! request id hash  CURRENT REQUEST ID HASH request id hash REQUEST TIME time return str int  FUTURE TIME -  REQUEST TIME * 1000000
def get vm resize spec client factory vcpus memory mb extra specs metadata None resize spec client factory 'ns0 Virtual Machine Config Spec resize spec C P Us vcpusresize spec M B memory mbresize spec Allocation  get allocation info client factory extra specs limits 'ns0 Resource Allocation Info if metadata resize spec metadatareturn resize spec 
def is python 3 return sys info 3
def sanitize word s s re '[^\\w-]+' '_' s s re '__+' '_' s return s '_'
def previous friday dt if dt 5 return dt - timedelta 1 elif dt 6 return dt - timedelta 2 return dt 
def to tag list journal tag counts get tags count journal result u not tag counts return u Notagsfoundinjournal min tag counts [0] 0 tag counts filter lambda x x > 1 tag counts result + u Removedtagsthatappearonlyonce + u u 20} {1}'.format tag n for n tag in sorted tag counts reverse True return result 
def  node name node return node or '{}{}'.format node name node name 
def priority Sort Columns columns _ lambda x x and 'id' in x return sorted sorted columns key len lambda x y -1 if _ x and not _ y else 1 if not _ x and _ y else 0
def  is finite with finite vars f domain S Complexes def assumptions s A s A 'finite' None is None A True A 'complex' True A 'real' domain subset S Reals return Areps {s Dummy **assumptions s for s in f symbols f reps .is finite 
def test uninstall editable and pip install script data script S E T U P T O O L S SYS PATH TECHNIQUE'] 'raw'pkg path data ' S Pkg script 'install' '-e' '.' expect stderr True cwd pkg path script 'install' '--ignore-installed' '.' expect stderr True cwd pkg path list result script 'list' '--format legacy assert ' S Pkg 0.1.dev0 ' in list result uninstall script 'uninstall' ' S Pkg '-y' assert not any filename '.egg-link' for filename in uninstall deleted uninstall2 script 'uninstall' ' S Pkg '-y' assert join script packages ' S Pkg in uninstall2 deleted list uninstall2 deleted list result2 script 'list' '--format legacy assert ' S Pkg not in list result2 
def education def prep r if r in 'create' 'create.popup' 'update' 'update.popup' person id get vars '~.person id None if person id field s3db education idfield person idfield field Falsereturn Trues3 prepreturn s3 rest controller 'pr' 'education'
def sha256 encode t s hashlib t return s 
def MINMAXINDEX ds count timeperiod - 2 ** 31 ret call talib with ds ds count talib M I N M A X I N D E X timeperiod if ret is None ret None None return ret 
def isestimable C D C np C D np D if C 1 C C None ]if C ! D raise Value Error 'ontrastshouldhave % D new np [C D] if np matrix rank new ! np matrix rank D return Falsereturn True 
def algorithm list return [eq fit Z I G ' E Seq2 nbinom 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  lowess wt standardize weights new entries x copy i width weights ] new entriesweights - x copy iweights / width 
def parse media range range type subtype params parse mime type range try if not 0 < float params < 1 raise Value Errorexcept Key Error Value Error params '1'return type subtype params 
def p enumerator list 1 t pass 
def choose diverging palette as cmap False pal []if as cmap cmap  init mutable colormap @interactdef choose diverging palette h neg Int Slider min 0 max 359 value 220 h pos Int Slider min 0 max 359 value 10 s Int Slider min 0 max 99 value 74 l Int Slider min 0 max 99 value 50 sep Int Slider min 1 max 50 value 10 n 2 16 center ['light' 'dark'] if as cmap colors diverging palette h neg h pos s l sep 256 center  update lut cmap colors  show cmap cmap else pal ] diverging palette h neg h pos s l sep n center palplot pal if as cmap return cmapreturn pal 
def test adjust inv sigmoid cutoff half image np 0 255 4 np .reshape 8 8 expected np [[253 253 252 252 251 251 250 249] [249 248 247 245 244 242 240 238] [235 232 229 225 220 215 210 204] [197 190 182 174 165 155 146 136] [126 116 106 96 87 78 70 62] [55 49 43 37 33 28 25 21] [18 16 14 12 10 8 7 6] [5 4 4 3 3 2 2 1]] dtype np result exposure sigmoid image 0.5 10 True assert array equal result expected 
def  check preload inst if inst is False raise Runtime Error 'odifyingdataof Instanceisonlysupportedwhenpreloadingisused Usepreload True orstring intheconstructor 
def invisible input prompt '>>>' import getpassentry getpass prompt if entry is None raise Keyboard Interruptreturn entry 
def create init file folder Name if not os folder Name raise Ninja I O Exception u Thedestinationfolderdoesnotexist name os folder Name u  init  .py' if file exists name raise Ninja File Exists Exception name f open name u f f 
@check simple wiki locale template 'products/{mobile/}documents.html' def document listing request template product slug topic slug subtopic slug None product get object or 404 Product slug product slug topic get object or 404 Topic slug topic slug product product parent  isnull True doc kw {'locale' request L A N G U A G E CODE 'products' [product]}if subtopic slug is not None subtopic get object or 404 Topic slug subtopic slug product product parent topic doc kw [subtopic]else subtopic Nonedoc kw [topic] documents fallback documents documents for **doc kw user agent request M E T A 'HTTP USER AGENT' '' browser get browser user agent show fx download product 'thunderbird' and browser ! 'irefox return render request template {'product' product 'topic' topic 'subtopic' subtopic 'topics' topics for product product parent None 'subtopics' topics for product product parent topic 'documents' documents 'fallback documents fallback documents 'search params {'product' product slug 'show fx download show fx download 
def  to Int val replace for before after in replace val val before after try return int val except Type Error Value Error return None 
def Manifest From D O M domtree manifest Manifest manifest dom domtree return manifest 
def service get by args context host binary return I M P L get by args context host binary 
def create sunspec sync client host modbus Modbus Tcp Client host modbus client Sunspec Client modbus client return client 
def service type stype def inner f f type stypereturn freturn inner 
def check permission user project permission return has group perm user permission project project or check owner user project permission or user perm permission 
@add mask if nonedef crossfadein clip duration newclip clip newclip clip fadein duration return newclip 
def can fs encode filename if os unicode filenames return Truetry filename sys except Unicode Encode Error return Falsereturn True 
def  get finder import path Finder import by path import path if not issubclass Finder Base Finder raise Improperly Configured 'inder % Finder Base Finder return Finder 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def reraise uncaught func @functools.wraps func def wrapper *args **kwds try return func *args **kwds except Attribute Error exc info sys info reraise Uncaught Attribute Error exc info exc info return wrapper 
def tmax a upperlimit None axis 0 inclusive True nan policy 'propagate' a axis  chk asarray a axis am  mask to limits a None upperlimit False inclusive contains nan nan policy  contains nan am nan policy if contains nan and nan policy 'omit' am ma invalid am res ma am axis .dataif res 0 return res ]return res 
def  windows cpudata grains {}if 'NUMBER OF PROCESSORS' in os try grains cpus int os N U M B E R OF PROCESSORS'] except Value Error grains cpus 1grains['cpu model   salt  ['reg.read value 'HKEY LOCAL MACHINE' ' A R D W A R E D E S C R I P T I O N System Central Processor 'rocessor Name String .get 'vdata' return grains 
@register.inclusion tag u comments takes context True def recent comments context latest context C O M M E N T S NUM L A T E S Tcomments Threaded Comment .select related u context comments by u [ latest context 
def provide worker fake entries group return  WORKER FAKE E N T R I E S group []
def union Test comment place parameter value prefix suffix if conf returnkb PAYLOAD.TECHNIQUE.UNION valid Payload vector  union Test By Char Bruteforce comment place parameter value prefix suffix if valid Payload valid Payload agent Payload Delimiters valid Payload return valid Payload vector 
def run ssh reactor username host command **kwargs ssh command ['ssh'] + SSH OPTIONS + ['-l' username host ''.join map shell quote command ] return run reactor ssh command **kwargs
def clues too many text text text for clue in 'exceed' 'connections' 'toomany' 'threads' 'limit' if clue in text return Truereturn False 
def fullsplit path result None if result is None result [] head tail os path if head '' return [tail] + result if head path return resultreturn fullsplit head [tail] + result 
def rand str size 9999999999 hash type None if not hash type hash type   opts  .get 'hash type 'md5' return salt str hash type hash type size size 
def get vlan binding netid L O G _ 'get vlan binding called session db session try binding session l2network models Vlan Binding .filter by network id netid .one return bindingexcept exc No Result Found raise q exc Network Not Found net id netid 
def colorx clip factor return clip image lambda pic np 255 factor * pic .astype 'uint8'
def run  task 
def validate parameters params shape validator Param Validator report validator params shape if report errors raise Param Validation Error report report report 
def add To Menu master menu repository window analyze File Path archive Skeinforge Plugins Path 'analyze.py' plugins Directory Path skeinforge analyze Plugins Directory Path settings Plugins Parent To Menu plugins Directory Path menu analyze File Path skeinforge analyze Plugin File Names 
def unflatten envelope packenv i iter packenv h {}try while True k i h i except Stop Iteration return h 
def test set params 2 tpot obj T P O T Classifier generations 2 tpot obj params generations 3 assert tpot obj 3
def release Complete Net To Ms Cause presence 0 Facility presence 0 User User presence 0 a Tp Pd pd 3 b Message Type mes Type 42 packet a / b if Cause presence is 1 c Cause Hdr iei C 8 eight Bit C 0 packet packet / c if Facility presence is 1 d Facility Hdr iei F 28 eight Bit F 0 packet packet / d if User User presence is 1 e User User Hdr iei U U 126 eight Bit U U 0 packet packet / e return packet 
def Strip txt try return txt except return None 
@docstring.copy dedent Figure def ginput *args **kwargs return gcf .ginput *args **kwargs
def status leader consul url None ret {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retfunction 'status/leader'ret  query consul url consul url function function return ret 
def test simulate for matrices with C F orders P C np [[0.5 0.5] [0 1]] order 'C' P F np [[0.5 0.5] [0 1]] order 'F' init 1ts length 10sample path np ts length dtype int computed C and F Markov Chain np [[1.0]] .simulate ts length init 0 assert array equal computed C and F np ts length dtype int computed C Markov Chain P C .simulate ts length init computed F Markov Chain P F .simulate ts length init init assert array equal computed C sample path assert array equal computed F sample path 
def order modified iter cursor trim sentinel for rows in iter lambda cursor GET ITERATOR CHUNK SIZE sentinel yield [r[ - trim ] for r in rows 
def ctrl alt del vm  dom  get domain vm  return dom Key 0 0 [29 56 111] 3 0 0
def run with reloader main func extra files None interval 1 import signalsignal signal S I G T E R M lambda *args sys 0 if os 'WERKZEUG RUN MAIN' 'true' thread new thread main func try reloader loop extra files interval except Keyboard Interrupt returntry sys restart with reloader except Keyboard Interrupt pass 
def  check margeff args at method if at not in ['overall' 'mean' 'median' 'zero' 'all'] raise Value Error '%snotavalidoptionfor`at`.' % at if method not in ['dydx' 'eyex' 'dyex' 'eydx'] raise Value Error 'ot % method 
def aaq confirm request if request authenticated email request request statsd 'questions.user.logout' else email Nonerequest Falseconfirm t 'questions/mobile/confirm email if request M O B I L E else 'questions/confirm email return render request confirm t {'email' email 
def inf to nan func def wrap *a **kw v func *a **kw if not np v return np vreturn wrap 
def  copy2 src dst metadata None retry params None common file path src common file path dst if metadata is None metadata {}copy meta ' O P Y copy meta ' E P L A C E {'x-goog-copy-source' src 'x-goog-metadata-directive' copy meta api storage api get storage api retry params retry params status resp headers content api object api utils quote filename dst headers metadata errors status status [200] src metadata resp headers body content 
def channel session func @functools.wraps func def inner message *args **kwargs if hasattr message 'channel session try return func message *args **kwargs finally if message session message session if not message channel raise Value Error 'oreply channelsenttoconsumer session + 'canonlybeusedonmessagescontainingit.' session session for reply channel message channel if not session session key try session must create True except Create Error raise Consume Later message session sessiontry return func message *args **kwargs finally if session and not session empty session return inner 
def Replay *args for mock in args mock Replay 
def  check surface size surf sizes surf axis 0 - surf axis 0 if sizes < 0.05 .any raise Runtime Error 'imensionsofthesurface %9.5fmm .aybethetheunitofmeasureismetersinsteadofmm %  surf name 1000 * sizes 
def flavor extra specs update or create context flavor id extra specs I M P L extra specs update or create context flavor id extra specs 
def get tool dependency definition metadata from tool shed app tool shed url name owner tool shed url common util tool shed url from tool shed registry app tool shed url params dict name name owner owner pathspec ['repository' 'get tool dependency definition metadata util get tool shed url password mgr app shed registry auth tool shed url pathspec pathspec params params return metadata 
def to Pickle filename data f open filename 'w' c Pickle data f f 
def libvlc media add option p md psz options f  Cfunctions 'libvlc media add option None or  Cfunction 'libvlc media add option 1 1 None None Media ctypes char p return f p md psz options 
def warp occupancy info cc smem config None ret {}try limits PHYSICAL L I M I T S Key Error raise Value Error '%sisnotasupportedcomputecapability' % '.'.join str c for c in cc if smem config is None smem config limits smem config limits per warp thread info tpb in range warpsize max thread + 1 warpsize result compute warp occupancy tpb tpb reg info smem info smem config smem config limits limits if result ret resultreturn ret 
def  Convert To List And Check Type arg element type arg name ret  Convert To List arg for element in ret if not isinstance element element type raise Type Error '%sshouldbesingleelementorlistoftype%s' % arg name element type return ret 
def path2html sourcepath colors None markup 'html' header None footer None linenumbers 0 form None string I O String I O String I O sourcestring open sourcepath .read Parser sourcestring colors title sourcepath out string I O markup markup header header footer footer linenumbers linenumbers .format form string I O 0 return string I O 
def  getopt flags options s []l []for o in options if o '-' s o if o argument s ' ' elif o argument l o + ' ' else l o return ''.join s l 
def get account nick last account [row[1] for row in last cache if nick row ]if not last account returnelse last account last account last account 
def contains point poly point n len poly c Falsei 0j n - 1 while i < n if poly > point ! poly > point and point < poly - poly * point - poly / poly - poly + poly c not c j ii + 1return c 
@manager.command def create tables from redash import dbdb all stamp 
def delete file from filesystem doc only thumbnail False if only thumbnail delete file doc url else delete file doc url delete file doc url 
def hwaddr value query '' alias 'hwaddr' query func extra args {'' 'value' }query func map {''  empty hwaddr query 'bare'  bare query 'bool'  bool hwaddr query 'int'  int hwaddr query 'cisco'  cisco query 'eui48'  win query 'linux'  linux query 'pgsql'  postgresql query 'postgresql'  postgresql query 'psql'  postgresql query 'unix'  unix query 'win'  win query v netaddr E U I value except if query and query ! 'bool' raise errors Ansible Filter Error alias + ' notahardwareaddress %s' % value extras []for arg in query func extra args query tuple extras locals [arg] try return query func map v *extras except Key Error raise errors Ansible Filter Error alias + ' unknownfiltertype %s' % query return False 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def seconds s return float s / SEC PER DAY
def move source destination use sudo False func use sudo and run as root or run func '/bin/mv{0}{1}'.format quote source quote destination 
def  expected cols expected attrs if not expected attrs return expected attrssimple cols [attr for attr in expected attrs if attr in  INSTANCE OPTIONAL JOINED FIELDS ]complex cols [ 'extra.%s' % field for field in  INSTANCE EXTRA FIELDS if field in expected attrs ]if complex cols simple cols 'extra' simple cols [x for x in simple cols if x not in  INSTANCE EXTRA FIELDS ]expected cols simple cols + complex cols return sorted list set expected cols key expected cols 
def dblquad func a b gfun hfun args epsabs 1.49e-08 epsrel 1.49e-08 def temp ranges *args return [gfun args hfun args ]return nquad func [temp ranges [a b args args 
def get unicode modules modules []try import codecsmodules 'codecs' except Import Error logger "annotdetectmodules return modules 
def transfer Coincidences network from Element Name to Element Name coincidence Handle get Locked Handle runtime Element network Element from Element Name expression 'self. cd W' network Element to Element Name .arameter 'bove coincidence Handle 
def mergecfmfiles srclist dst architecture 'fat' srclist list srclist for i in range len srclist srclist Carbon File srclist dst Carbon File dst dstfile open dst 'wb' rf Res F Sp Open Res File dst 3 try dstcfrg Cfrg Resource for src in srclist srccfrg Cfrg Resource src for frag in srccfrg if frag 'pwpc' and architecture 'm68k' continueif frag 'm68k' and architecture 'pwpc' continuedstcfrg frag frag dstfile cfrgres Res Resource dstcfrg Res Use Res File rf cfrgres Add Resource 'cfrg' 0 '' finally dstfile rf Res Close Res File rf 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def flocker dataset agent main service factory Dataset Service Factory agent script Agent Script service factory service factory service options Dataset Agent Options pr c Profile Profile clock signal signal S I G U S R1 partial enable profiling pr signal signal S I G U S R2 partial disable profiling pr 'dataset' return Flocker Script Runner script agent script options options .main
def fgraph updated vars fgraph expanded inputs updated vars {}potential values list fgraph if len expanded inputs ! len fgraph raise Value Error 'expanded inputsmustmatchlen fgraph ' for e input ivar in reversed list zip expanded inputs fgraph if e input is not None updated vars potential values return updated vars 
def libvlc media player get title p mi f  Cfunctions 'libvlc media player get title None or  Cfunction 'libvlc media player get title 1 None ctypes int Media Player return f p mi 
def  Try Open Ssl Import try _  package dir _ imp module 'pen S S L if not os os  package dir 'crypto.py' or os os  package dir 'crypto.so' or os os  package dir 'crypto' raise Import Error 'omodulenamed Open S S L returnexcept Import Error import Open S S L 
def r Apply d f remaining Dicts [ d ]while len remaining Dicts > 0 current prev Keys remaining Dicts for k v in current keys prev Keys + k if isinstance v dict remaining Dicts 0 v keys else f v keys 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def get or bust data dict keys if isinstance keys basestring keys [keys]import ckan as schemaschema schema schema for required keys keys data dict errors  validate data dict schema if errors raise Validation Error errors values [data dict for key in keys len values 1 return values tuple values 
def read null list start end addr space return null list read addr range start end addr space end - start 
def grammar grammar type None grammar name None def grammar creator validator name def setter self value if isinstance grammar type type tuple  assert is type validator  name   value grammar type validator value self valuedef getter self return self name None def deleter self if name in self del self property getter setter deleter validator  doc   if isinstance grammar type type tuple def grammar dec validator if grammar name return grammar creator validator grammar name else return grammar creator validator validator  name   return grammar decelif isinstance grammar name str types def grammar dec validator return grammar creator validator grammar name return grammar decelse return grammar creator grammar type grammar type  name  
def read worksheet xml source parent preset title string table style table workbook name None sheet codename None if workbook name and sheet codename ws Iterable Worksheet parent preset title workbook name sheet codename xml source else ws Worksheet parent preset title fast parse ws xml source string table style table return ws 
def kneighbors graph X n neighbors mode 'connectivity' metric 'minkowski' p 2 metric params None include self False n jobs 1 if not isinstance X K Neighbors Mixin X Nearest Neighbors n neighbors metric metric p p metric params metric params n jobs n jobs .fit X else  check params X metric p metric params query  query include self X include self return X graph X query n neighbors n neighbors mode mode 
def replace opts rep doc opts for key val in list opts rep doc rep doc key val return rep doc 
def Shorten Parameter Names params out {}for name value in params short name LONG N A M E S name name if short name in out raise Key Error 'othlongandshortversionofparameter %s found Itisunclearwhichonetouse % name short name out name valuereturn out 
def resolve1 x while isinstance x P D F Obj Ref x x return x 
def  decode embedded dict src output {}for key val in six src if isinstance val dict val  decode embedded dict val elif isinstance val list val  decode embedded list val elif isinstance val bytes try val val except Unicode Error passif isinstance key bytes try key key except Unicode Error passoutput valreturn output 
def get Minimum By Path Complex path minimum complex 999999999.0 999999999.0 for point in path minimum get Minimum minimum point return minimum 
def human Bit Size size divisor 1000if size < divisor return ngettext '%ubit' '%ubits' size % size units [bit u Mbit u Gbit u Tbit float size for unit in units size size / divisor if size < divisor return '%.1f%s' % size unit return u % size unit 
def get Diagonal Switched Tetragrid angle Degrees diagonals unit Polar euclidean Widdershins Unit Polar math angle Degrees diagonal Switched Tetragrid get Identity Matrix Tetragrid for diagonal in diagonals diagonal Switched Tetragrid unit Polar Switched Tetragrid - unit Polar diagonal Switched Tetragrid unit Polar diagonal Switched Tetragrid 
def get anonymized user return HMAC key config W E B SECRET msg get user .digest [ 9].encode 'base64' .rstrip
def is package dir name if '.' in dir name return Falsetry if not nt dir name return Falseexcept return Falsetry if '  init  .py' not in nt nt + '\\' + dir name return Falseexcept return Falsereturn True 
def set no proxy settings to add ['127.0.0.1' 'localhost' '169.254.169.254']no proxy os 'no proxy '' if not no proxy no proxy []else no proxy no proxy ' ' for host in to add if host not in no proxy no proxy host os proxy ' '.join no proxy 
def get static welcome message return 'earch Help Thedisplaybelowthelineisanexampleoftheoutputthebrowser Thesearchwordwas Thesearchresultshowsfordifferentpartsofspeechthe Allunderlinedtextsarehypertextlinks Therearetwotypesoflinks \lickingawordlinkcarriesoutasearchfortheword Wordnetdatabase Clickingalinkoftheothertypeopensadisplaysectionofdataattached Clickingthatlinkasecondtimeclosesthesectionagain Clicking S <lickingonarelationnameopensasectionthatdisplaystheassociated Typeasearchwordinthe Next Word Enter Return Search 
def tag regex tagname return dict open ' ? <\\s*% t s t s ' % dict t tagname close '</\\s*% t s % dict t tagname 
def add one i return i + 1
def get target list module action parameter None exec output exec action module 'list' action parameter action parameter if not exec output return Nonetarget list []if isinstance exec output list for item in exec output target list item None 1 [0] return target listreturn None 
def sdm ecart f return sdm deg f - sdm monomial deg sdm LM f 
def for dtypes dtypes name 'dtype' def decorator impl @functools.wraps impl def test func self *args **kw for dtype in dtypes try kw dtypeimpl self *args **kw except Exception print name 'is' dtype raisereturn test funcreturn decorator 
def id from fasta label line line id field line [0]id id field '>' return id 
def  encode long name value dummy0 dummy1 try return '\x12' + name +  PACK LONG value except struct raise Overflow Error ' S O Ncanonlyhandleupto8 
def Validate Source Reference ref repo revision ref '#' 1 revision id repo revision -1 ]if not re SOURCE REVISION RE STRING revision id raise validation Validation Error 'adrevisionidentifier %s' % revision id if len repo revision 2 uri repo revision not re SOURCE REPO RE STRING uri raise validation Validation Error 'adrepository U R I %s' % uri 
def libvlc media player get fps p mi f  Cfunctions 'libvlc media player get fps None or  Cfunction 'libvlc media player get fps 1 None ctypes float Media Player return f p mi 
def test locale html testfield Mock this lang translation language testfield this langs helpers html testfield assert not s ' T M Lattributesforsitelanguage 'de's helpers html testfield assert s 'lang "de"dir "ltr"' for lang in settings R T L LANGUAGES testfield langs helpers html testfield assert s 'lang "%s"dir "rtl"' % testfield 
@open file 0 mode 'rb' def read gexf path node type None relabel False version '1.1draft' reader G E X F Reader node type node type version version if relabel G relabel gexf graph reader path else G reader path return G
def idz reconint idx proj return  id reconint idx proj 
def eye size dtype None name None return variable np size dtype name 
def tokenize readline from itertools import chain repeat encoding consumed detect encoding readline rl gen iter readline '' empty repeat '' return  tokenize chain consumed rl gen empty .  next   encoding 
def map library datasets to lddas trans lib datasets lib dataset ids [x.library dataset dataset association id for x in lib datasets trans session trans Library Dataset Dataset Association .filter trans Library Dataset Dataset Association  lib dataset ids .all ret lddas {}for ldda in lddas ret lddas dataset id lddareturn ret lddas 
def  Signed Varint Encoder local chr chrdef Encode Signed Varint write value if value < 0 value + 1 << 64 bits value & 127 value >> 7while value write local chr 128 | bits bits value & 127 value >> 7return write local chr bits return Encode Signed Varint 
def  fetch vhd image context session instance image id L O G _ 'skingxapitofetchvhdimage image id s locals instance instance params {'image id image id 'uuid stack  make uuid stack 'sr path get sr path session }if  image uses bittorrent context instance plugin name 'bittorrent'callback Noneparams base url C O N F torrent base urlparams seed duration C O N F torrent seed durationparams seed chance C O N F torrent seed chanceparams max last accessed C O N F torrent max last accessedparams listen port start C O N F torrent listen port startparams listen port end C O N F torrent listen port endparams download stall cutoff C O N F torrent download stall cutoffparams max seeder processes per host C O N F torrent max seeder processes per hostelse plugin name 'glance'glance api servers glance api servers def pick glance params g host g port g use ssl glance api servers params host g hostparams port g portparams use ssl g use sslparams token getattr context 'auth token None callback pick glancevdis  fetch using dom0 plugin with retry context session image id plugin name params callback callback sr ref safe find sr session  scan sr session sr ref root vdi uuid vdis vdi name session root vdi uuid instance 'root'  check vdi size context session instance root vdi uuid return vdis 
def is select query query return not RE SELECT Q U E R Y query 
def filebrowser view view return staff member required never cache view 
def blend channels screen bottom chan top chan return 1 - 1 - bottom chan ] * 1 - top chan ]
def get config by name section name for config in section if config name return configreturn None 
def pde separate mul eq fun sep return pde separate eq fun sep strategy 'mul'
def reply journalist source num replies assert num replies > 1 replies []for _ in range num replies source count + 1fname '{}-{}-reply.gpg'.format source count source filename crypto util str os 1 [crypto util source id config J O U R N A L I S T KEY] store source id fname reply db Reply journalist source fname replies reply db session reply db session return replies 
def remove rich rule zone rule permanent True cmd "--zone {0}--remove-rich-rule '{1}'".format zone rule if permanent cmd + '--permanent'return   firewall cmd cmd 
def my queries request DEFAULT PAGE SIZE 30app name get app name request prefix 'h-'querydict history  copy prefix prefix request G E T querydict history prefix + 'user' ] request history prefix + 'type' ] app name hist page hist filter  list query history request querydict history DEFAULT PAGE SIZE prefix prefix 'q-'querydict query  copy prefix prefix request G E T querydict query prefix + 'user' ] request query prefix + 'type' ] app name query page query filter  list designs request querydict query DEFAULT PAGE SIZE prefix filter params hist filterfilter params query filter return render 'my queries request {'request' request 'h page hist page 'q page query page 'filter params filter params 'designs json json [query.id for query in query page list }
def list scrubber opts return [ g copy o for g o in  scrubber opts 
def Dihedral Group n if n 1 return Permutation Group [ermutation [1 0] ] if n 2 return Permutation Group [ermutation [1 0 3 2] Permutation [2 3 0 1] Permutation [3 2 1 0] ] a list range 1 n a 0 gen1  af new a a list range n a gen2  af new a G Permutation Group [gen1 gen2 if n & n - 1 0 G. is nilpotent Trueelse G. is nilpotent False G is abelian False G is solvable True G degree n G is transitive True G order 2 * n return G
def check paypal id name d dict version settings P A Y P A L API VERSION buttoncode 'cleartext' buttontype 'donate' method ' M Create Button l buttonvar0 'business %s' % name d settings P A Y P A L EMBEDDED A U T H U S E R settings P A Y P A L EMBEDDED A U T H P A S S W O R D settings P A Y P A L EMBEDDED A U T H S I G N A T U R E requests settings P A Y P A L API URL params d timeout 10 response dict urlparse qsl r valid response A C K 'uccess msg None if valid else response L LONGMESSAGE0'] return valid msg 
def iter traceback frames tb while tb and hasattr tb 'tb frame f locals getattr tb frame 'f locals {} if not  getitem from frame f locals '  traceback hide  ' yield tb frame getattr tb 'tb lineno None tb tb next 
def body request return Http Response request 
def  approximate mode class counts n draws rng continuous n draws * class counts / class counts floored np continuous need to add int n draws - floored if need to add > 0 remainder continuous - floored values np np remainder [ -1 ]for value in values inds np remainder value add now min len inds need to add inds choice inds size add now replace False random state rng floored + 1need to add - add nowif need to add 0 breakreturn floored np 
def test sobel v horizontal i j np -5 6 -5 6]image i > 0 .astype float result filters v image assert allclose result 0
def  stop on read fd  triggered fdref C F File Descriptor Create None fd False  c input callback None C F File Descriptor Enable Call Backs fdref k C F File Descriptor Read Call Back source C F File Descriptor Create Run Loop Source None fdref 0 loop C F Run Loop Get Current C F Run Loop Add Source loop source k C F Run Loop Common Modes C F Release source 
def  format Example example substitutions yield u Example **{}'.format example yield u yield u Request yield u yield u http yield u lines example % substitutions .splitlines lines 1 u Content Type application lines 1 u Host api DOMAIN s % substitutions for line in lines yield u + line yield u yield u Response yield u yield u http yield u lines example % substitutions .splitlines lines 1 u Content Type application for line in lines yield u + line yield u 
def get prop filter spec client factory obj spec prop spec prop filter spec client factory 'ns0 Property Filter Spec prop filter spec Set prop specprop filter spec Set obj specreturn prop filter spec 
def create tree folders folder Name if os folder Name raise Ninja I O Exception u Thefolderalreadyexist os folder Name 
def trimone x front 0 back 0 axis 0 shape np x shape - front + back shapearr np x startind np x startind frontendind startind + shape myslice [slice startind endind for k in range len endind ]return x myslice ]
def Bytes Encoder field number is repeated is packed tag Tag Bytes field number wire format W I R E T Y P E LENGTH DELIMITED local Encode Varint  Encode Varintlocal len lenassert not is packed if is repeated def Encode Repeated Field write value for element in value write tag local Encode Varint write local len element write element return Encode Repeated Fieldelse def Encode Field write value write tag local Encode Varint write local len value return write value return Encode Field 
def drt discourse demo reading command None dt Discourse Tester ['everydogchasesaboy' 'heruns'] reading command dt print dt print dt print dt show thread readings True print dt filter True show thread readings True 
def  patch Text File Log Observer patch log Files [ile Log Observer logger File Log Observerdef observer log File *args **kwargs log Files log File return old File Log Observer log File *args **kwargs patch logger 'ile Log Observer observer return log Files 
def  parse Client T L S reactor host port timeout '30' bind Address None certificate None private Key None trust Roots None endpoint None **kwargs if kwargs raise Type Error 'unrecognizedkeywordargumentspresent' list kwargs host host if isinstance host unicode else host 'utf-8' bind Address bind Address if isinstance bind Address unicode or bind Address is None else bind Address 'utf-8' port int port timeout int timeout return wrap Client T L S options For Client T L S host trust Root  parse Trust Root Path trust Roots client Certificate  private Cert From Paths certificate private Key client From String reactor endpoint if endpoint is not None else Hostname Endpoint reactor  idna Bytes host port timeout bind Address 
def set power state state utils one line '/sys/power/state' state 
def rax find bootable volume module rax module server exit True cs rax module rax module blockstorageserver id rax module id server volumes cs server volumes server id bootable volumes []for volume in volumes vol cbs volume if module vol bootable volumes vol if not bootable volumes if exit module json msg 'obootablevolumescouldbefoundforserver % server id else return Falseelif len bootable volumes > 1 if exit module json msg 'ultiplebootablevolumesfoundforserver % server id else return Falsereturn bootable volumes 
def random name size 6 chars string uppercase + string return 'test-' + ''.join random chars for x in range size 
def quantify iterable pred bool return sum imap pred iterable 
def get owner obj name security descriptor win32security Get File Security obj name win32security O W N E R SECURITY INFORMATION owner sid security descriptor Get Security Descriptor Owner return get name win32security Convert Sid To String Sid owner sid 
def pct total area image percentile 0.8 idx int image - 1 * percentile sorted pixels np image return sorted pixels 
def median from dict total count pos total - 1 / 2 for k in sorted six count if pos < count return kpos - count 
def make flat dict name selector None subselector None ns None if ns is None elemname nametagname Selector 0 else elemname '{%s}%s' % ns name tagname lambda obj do raise False '{%s}%s' % ns obj if selector is None selector nameroot Template Element elemname selector selector subselector subselector elem Sub Template Element root tagname selector get items elem 1return root 
def cloudformation registry xml parent data region dict helpers region dict stacks helpers init xml parent data 'loud Formation Post Build Notifier for stack in data 'create-stacks' [] helpers stack xml parent stack 'ost Build Stack Bean stacks region dict delete stacks helpers init xml parent data 'loud Formation Notifier for delete stack in data 'delete-stacks' [] helpers stack xml parent delete stack 'imple Stack Bean delete stacks region dict 
def get gem classified df fd stock basics df index level 0 inplace True df df F O R CLASSIFY B C O L S df df '3' ]df df 'code' .reset index drop True return df 
def linereader f while 1 line f if not line break yield line -1 ]
def parse treasury csv column column column re re '^ ? R I F L G F C ? Y M ? ? N.B $' match column re column if match is None raise Value Error "ouldn C S Vcolumn % column unit periods get unit and periods match return str int periods + 'year' if unit 'Y' else 'month'
def radio text u tooltip u checked None return  checkbox Qt Widgets Q Radio Button text tooltip checked 
def post gist content description '' filename 'file' auth False post data json {'description' description 'public' True 'files' {filename {'content' content .encode 'utf-8' headers make auth header if auth else {} response requests 'https //api.github.com/gists' data post data headers headers response for status response data json response return response data url 
def import no clients in api and scenario tests physical line filename if 'tempest/api' in filename or 'tempest/scenario' in filename res PYTHON CLIENT R E physical line if res return physical line res 1 'T102 pythonclientsimportnotallowedintempest 
def page not found request template name '404.html' t loader template template name return http Http Response Not Found t Request Context request {'request path request 
def  reshape 2D X if hasattr X u if len X 1 if hasattr X[0] u X list X else X [ len X 2 nrows ncols X nrows 1 X [ ncols 1 X [ ]else X [X[ i for i in xrange ncols ]else raise Value Error u X if not hasattr X[0] u  len  ' X [ X [np.ravel x for x in X X
def test load mappings warnings tempdir app status warning inv file tempdir / 'inventory' inv file bytes inventory v2 app mapping {'https //docs.python.org/' inv file 'py3k' 'https //docs.python.org/py3k/' inv file 'repoze.workflow' 'http //docs.repoze.org/workflow/' inv file 'django-taggit' 'http //django-taggit.readthedocs.org/en/latest/' inv file 12345 'http //www.sphinx-doc.org/en/stable/' inv file }app.config.intersphinx cache limit 0load mappings app assert warning .count '\n' 1
def get enterprise customer logo url request if not enterprise enabled return Noneparameter get enterprise branding filter param request if not parameter return Noneprovider id parameter 'provider id None ec uuid parameter 'ec uuid None if provider id branding info enterprise api enterprise branding info by provider id provider id provider id elif ec uuid branding info enterprise api enterprise branding info by ec uuid ec uuid ec uuid logo url Noneif branding info and branding info logo url branding info logo url 
def plot occlusion net X target square length 7 figsize 9 None return  plot heat map net X figsize lambda net X n occlusion heatmap net X target square length 
@ssl required P O S Tdef logout request auth request statsd 'user.logout' res Http Response Redirect get next url request or reverse 'home' res cookie settings S E S S I O N EXISTS COOKIE return res 
def init logging options log file options basename + '.log' log dir options dir config {'version' 1 'disable existing loggers True 'formatters' {'timestamped' {'format' '% asctime s message s 'datefmt' '%H %M %S'}} 'handlers' {'console' {'level' 'WARNING' 'class' 'tream Handler 'formatter' 'timestamped'} 'file' {'level' 'DEBUG' 'class' 'ile Handler 'formatter' 'timestamped' 'filename' os log dir log file 'mode' 'w'}} 'loggers' {'' {'level' 'DEBUG' 'handlers' ['console' 'onfig log config 
def get spot config vm  return config cloud config value 'spot config vm    opts   search global False 
def dehydrate content ratings content ratings for body in content ratings or {} content ratings dehydrate content rating content ratings return content ratings 
def get updated changeset revisions app name owner changeset revision repository tool shed util repository by name and owner app name owner repo hg util repo for repository app repository repository repo path None create False upper bound changeset revision get next downloadable changeset revision repository repo changeset revision changeset hashes []for changeset in hg util lower upper bounded changelog repo changeset revision upper bound changeset revision if changeset ! upper bound changeset revision changeset hashes str repo changeset if changeset hashes changeset hashes str ' '.join changeset hashes return changeset hashes strreturn ''
def run Length Decode stream decoded Stream ''index 0try while index < len stream length ord stream if length > 0 and length < 128 decoded Stream + stream index + 1 index + length + 2 ]index + length + 2 elif length > 128 and length < 256 decoded Stream + stream index + 1 ] * 257 - length index + 2else breakexcept return -1 'rrordecodingstring return 0 decoded Stream 
def list2hexstr intlist intsize 4 result ''for value in intlist if isinstance value str result + valueelse result + int2hexstr value intsize return result 
def only Py279 Or Newer test @functools.wraps test def wrapper *args **kwargs msg 'ython2 name test  name   if sys info < 2 7 9 raise Skip Test msg return test *args **kwargs return wrapper 
def strip H T M L Media s s re Media '\\1' s return strip H T M L s 
def  Resolve Parent path base path components depth 0while path '../' depth + 1path path ]if depth > len base path components return ''if depth len base path components return pathreturn '/'.join base path components len base path components - depth ] + '/' + path 
def  get rcscript name jail None cmd '{0}-r'.format  cmd jail prf  get jail path jail if jail else '' for line in   salt  ['cmd.run stdout cmd python shell False .splitlines if line '{0}{1}'.format os name return os prf line os return None 
def test positive integer 3 try positive integer 'foobar' assert Falseexcept Exception pass 
def filter private variable scope origin node instance scope parent scope coming from origin nodewhile coming from is not None and not isinstance coming from tree Class compiled Compiled Object coming from coming from parent scope if isinstance instance compiled Compiled Object return instance ! coming from else return isinstance instance er Instance and instance ! coming from 
def convert Ti to FLX sff fp output fp use sfftools False if use sfftools  fail on gzipped sff sff fp check sfffile  check call ['sfffile' '-flx' '-o' output fp sff fp stdout open devnull 'w' else header reads adjust sff cycles parse binary sff qiime open sff fp 'rb' True 100 write binary sff open output fp 'w' header reads 
def  api resume pp name output kwargs Post Processor Falsereturn report output 
def load stop words stop word file stop words []for line in open stop word file if line [0 1] ! '#' for word in line stop words word return stop words 
def check feature file features dir feature name return os os features dir feature name + '.feature'
def set clean using None if using is None using DEFAULT DB A L I A Sthread ident thread ident if thread ident in dirty and using in dirty ident dirty ident Falseelse raise Transaction Management Error "hiscodeisn clean savepoints using using 
def  nested output obj nested  opts     opts  ret nested obj .rstrip return ret 
def do topic action topics user action reverse from flaskbb import Is Atleast Moderator In Forum Can Delete Topicfrom flaskbb import Userfrom flaskbb import Postif not Permission Is Atleast Moderator In Forum forum topics flash _ 'oudonothavethepermissionstoexecutethisaction 'danger' return Falsemodified topics 0if action ! 'delete' for topic in topics if getattr topic action and not reverse continuesetattr topic action not reverse modified topics + 1topic.save elif action 'delete' for topic in topics if not Permission Can Delete Topic flash _ 'oudonothavethepermissionstodeletethistopic 'danger' return Falseinvolved users User Post id topic User Post id .all modified topics + 1topic.delete involved users return modified topics 
def generate desc from commit to commit changelog if from commit to commit desc 'ushing to commit else bugs extract bugs changelog '\n' if bugs bugs ['bug#{0}'.format bug for bug in bugs 'ixing {0}'.format ' '.join bugs else desc get random desc return desc 
def dmp eject f u K front False f h dmp to dict f u {} n K u - K + 1 for monom c in f if front g monom f monom monom n monom ] else g monom f monom monom - n ] monom - n ] if f monom in h h monom monom celse h monom {g monom c monom c in h h K c return dmp from dict h v - 1 K
def  parse exchange token response content resp {}content  helpers from bytes content try resp json content except Exception resp  helpers unique urlencoded content if resp and 'expires' in resp resp in resp 'expires' return resp 
def get library dirs from os import join dirname abspath pardirbase dirname   file   parent abspath join base pardir return [join parent base ]
def Read Into Object buff index value obj length 0 raw data value obj Get Raw Data count 0for encoded tag encoded length encoded field in Split Buffer buff index index length length type info obj value obj infos by encoded tag encoded tag wire format encoded tag encoded length encoded field if type info obj is None raw data None wire format None count + 1elif type info obj  class   is Proto List value obj Get type info obj .wrapped list None wire format else raw data info obj None wire format type info obj value obj Set Raw Data raw data 
@pytest.mark.parametrize u class u list itertools test models 2D modes def test pixel sum 2D model class mode if model class Box2 D and mode u pytest u Nonintegratingmode Skipintegraltest parameters models 2 class create model model class parameters values discretize model model models 2 class lim models 2 class lim mode mode assert allclose values models 2 class atol 0.0001
def open All U3 return Dict dict for i in range device Count 3 d U3 first Found False dev Number i + 1 return Dict d Number ] dreturn return Dict 
def dashboard return s3 rest controller 's3' 'dashboard'
def ascii str if type str ! type '' return map ascii str rv ''for c in str if c in ' DCTB ' '\n' '\r' or '' < c < chr 127 rv rv + c else rv rv + '\\' + 'x%02.2x' % ord c return rv 
def p external declaration 1 t pass 
def get Metric From Path file Path data dir os settings L O C A L DATA DIR + os metric name file Path data dir '' metric name metric name '.wsp' '' metric name metric name '/' '.' return metric name 
def arbitrary n module name func name args kwargs {} notification lambda x y y if module name 'calibre plugins from calibre import find pluginfind pluginmodule importlib module module name func getattr module func name kwargs notificationreturn func *args **kwargs
def get entry size context set type llty context data type types Set Entry set type return context abi sizeof llty 
def  escapify qstring text ''for c in qstring if c in   escaped text + '\\' + c elif ord c > 32 and ord c < 127 text + celse text + '\\%03d' % ord c return text 
def get archive tarball name source dir tarball name compression if tarball name is None tarball name os source dir if not tarball name '.tar' tarball name '%s.tar' % tarball name if compression and not tarball name '.%s' % compression tarball name '%s.%s' % tarball name compression return tarball name 
def perm is defined on perm obj return Permission codename perm content type Content Type for model obj .pk object id obj approved True .exists
def locale display name locale if not locale raise Key Errorif locale in languages v languages ]return v English v else hyphen locale '-' if hyphen -1 raise Key Errorelse return locale display name locale hyphen 
def dvr case status filter opts closed None table current case statusquery table ! True if closed is not None if closed query & table closed True else query & table closed False | table closed None rows current query .select table table orderby 'workflow position if not rows return {}T current Treturn Ordered Dict row T row for row in rows 
def get error message error try return error Index Error return ''
def get field with path model name return remote proxy attr True path []if isinstance name string types current model modelvalue Nonefor attribute in name '.' value getattr current model attribute if is association proxy value relation values value return remote proxy attr value value attrelse relation values [value]for relation value in relation values if is relationship relation value current model relation value table current model  table  if need join model table path relation value attr valueelse attr nameif isinstance attr Instrumented Attribute or is association proxy attr columns get columns for field attr if len columns > 1 raise Exception 'anonlyhandleonecolumnfor % name column columns need join model column path column return attr path 
def mysql to dict data key ret {}headers ['']for line in data if not line continueif line '+' continuecomps line '|' for comp in range len comps comps comps if len headers > 1 index len headers - 1 row {}for field in range index if field < 1 continueelse row str to num comps ret rowelse headers compsreturn ret 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def  get pks model and ctype objects if isinstance objects Query Set model objects [force text pk for pk in objects list u flat True ]ctype get content type model else pks []for idx obj in enumerate objects if not idx model type obj ctype get content type model pks force text obj return pks model ctype 
def decode encoding None default encoding 'utf-8' body cherrypy encoding is not None if not isinstance encoding list encoding [encoding]body.attempt charsets encodingelif default encoding if not isinstance default encoding list default encoding [default encoding charsets body charsets + default encoding 
def search code query sort None order None per page None text match False number -1 etag None return gh code query sort order per page text match number etag 
def  setup constants alphabet NAMESPACE CHARACTERS max length MAX NAMESPACE LENGTH global NAMESPACE C H A R A C T E R Sglobal MAX NAMESPACE L E N G T Hglobal MAX N A M E S P A C Eglobal  LEX DISTANCENAMESPACE CHARACTERS alphabet M A X NAMESPACE LENGTH max length M A X NAMESPACE NAMESPACE CHARACTERS[ -1 ] * MAX NAMESPACE LENGTH  LEX DISTANCE [1]for i in range 1 MAX NAMESPACE LENGTH  LEX D I S T A N C E  LEX DISTANCE[ i - 1 ] * len NAMESPACE CHARACTERS + 1 del i 
def vtk version global  vtk versionreturn  vtk version 
def get module path modname return osp osp sys  file  
def  name from project path path project template if isinstance template str template re template match template path if not match raise Value Error 'path"%s"didnotmatchexpectedpattern"%s"' % path template if project is not None found project match 'project' if found project ! project raise Value Error 'rojectfromclient %s shouldagreewithprojectfromresource %s .' % project found project return match 'name'
def dup trial division f factors K result []for factor in factors k 0while True q r dup div f factor K if not r f k q k + 1 else breakresult factor k return  sort factors result 
def htmlparser trace data parser Announcing Parser parser data 
def verify exists urls existing urls def decorator func @wraps func def wrapper *args **kwargs from django import validatorsoriginal open validators Opener Director custom open self req data None timeout None if req full url in existing urls return Trueraise Exception try urllib2 Opener Director custom openfunc *args **kwargs finally validators Opener Director original openreturn wrapperreturn decorator 
def verify signatures params signed fields key 'ields full sig key 'ata Public Signature signed fields params signed fields key '' .split ' ' data u '.join [u'{0} {1}'.format k params k '' for k in signed fields signed fields sig processor hash params signed fields key '' data + u signed Fields Public Signature ' + signed fields sig returned sig params full sig key '' if processor hash data ! returned sig raise C C Processor Signature Exception 
def  hashing map binary record proto file service pb Key Value proto Parse From String binary record yield proto proto 
def rdoc num elements 1000 tag names ['p' 'div' 'span' 'i' 'b' 'script' 'table']elements []for i in range num elements choice random 0 3 if choice 0 tag name random tag names elements '<%s>' % tag name elif choice 1 elements rsentence random 1 4 elif choice 2 tag name random tag names elements '</%s>' % tag name return '<html>' + '\n'.join elements + '</html>'
@blueprint.route '/projects/<project>/meters/<meter>/volume/max' def compute project volume max project meter check authorized project project return  get statistics 'max' project project meter meter 
def normalize trace output output output re '\\[[0-9]+refs\\]' '' output try result [row.split ' DCTB ' for row in output if row and not row '#' ]result.sort key lambda row int row result [row[1] for row in result '\n'.join result except Index Error Value Error raise Assertion Error 'tracerproducedunparseableoutput \n{}'.format output 
def run hive args check return code True cmd load hive cmd + args p subprocess Popen cmd stdout subprocess P I P E stderr subprocess P I P E stdout stderr p if check return code and p ! 0 raise Hive Command Error 'ivecommand {0}failedwitherrorcode {1}'.format ''.join cmd p stdout stderr return stdout 
def Redis Cache redis conn None debug False with lock False fail gracefully False db None locker try instance name 'redis instance ' + current if not hasattr Redis Cache instance name setattr Redis Cache instance name Redis Client redis conn redis conn debug debug with lock with lock fail gracefully fail gracefully return getattr Redis Cache instance name finally locker 
def get Cubic Path By Begin End begin control Points element Node end return svg reader Cubic Points begin control Points end lineation Number Of Bezier Points begin element Node end 
def groupsstats 1d y x labelsunique labelmeans np ndimage x labels y index labelsunique labelvars np ndimage x labels y index labelsunique return labelmeans labelvars 
def validate string option value if isinstance value string type return valueraise Type Error 'rongtypefor valuemustbeaninstanceof % option string type  name  
def roberts pos diag image mask None assert n D image 2 image img as float image result convolve image ROBERTS PD WEIGHTS return  mask filter result result mask 
def get github auth id username password note response requests u //api.github.com/authorizations' auth username password headers {ser Agent u if not response message response [u'message']raise requests Request Exception message for auth token in response if auth token u return auth token None 
def b0 indices in bval max b 10.0 import numpy as npbval np in bval return np bval < max b .flatten .tolist
def  add additional response fields request serialized discussion entities usernames discussion entity type include profile image if include profile image username profile dict  get user profile dict request usernames ' '.join usernames for discussion entity in serialized discussion entities discussion entity  get users discussion entity type discussion entity username profile dict return serialized discussion entities 
def forget func *xs return Forget func *xs
def  parse date mssql date String m  mssql date re date String if not m returnw3dtfdate '% year s month s day s T hour s % minute s % second s zonediff s % {'year' m 1 'month' m 2 'day' m 3 'hour' m 4 'minute' m 5 'second' m 6 'zonediff' '+09 00'} if  debug sys ' S S Q Ldateparsedas %s\n' % w3dtfdate return  parse date w3dtf w3dtfdate 
def is strictly increasing f interval S Reals symbol None f sympify f free sym f symbolsif symbol is None if len free sym > 1 raise Not Implemented Error 'is strictly increasinghasnotyetbeenimplementedforallmultivariateexpressions elif len free sym 0 return Falsesymbol free sym df f symbol df pos interval solveset df > 0 symbol domain S Reals return interval subset df pos interval 
def find attribute in tag block offset attr name end block boundary next tag boundary block offset if boundary start return None None end offset boundary pos end block Number end offset current block current offset block offset found attr Falsewhile True current block boundary next attr boundary current block current offset if current block is None or current block Number boundary > end pos return None None current offset boundary found attr if boundary is not ATTR VALUE or boundary is not ATTR START return None None return current block current offset else if boundary is ATTR NAME and boundary attr name found attr Truecurrent offset + 1
def pause trace return replace trace 
def replace new vars expr id to new var if expr lo V A R I A B L E and expr in id to new var return id to new var new args []for arg in expr new args replace new vars arg id to new var return lo Lin Op expr expr new args expr 
def mask to positions maskstring return nonzero array map int maskstring [0]
def create template register return django Library 
def multisig type wallet type match re ' \\d+ of \\d+ ' wallet type if match match [int x for x in match 1 2 ]return match 
def chebyt n monic False if n < 0 raise Value Error 'nmustbenonnegative.' wfunc lambda x 1.0 / sqrt 1 - x * x if n 0 return orthopoly1d [] [] pi 1.0 wfunc -1 1 monic lambda x eval chebyt n x n1 n x w mu roots chebyt n1 mu True hn pi / 2 kn 2 ** n - 1 p orthopoly1d x w hn kn wfunc -1 1 monic lambda x eval chebyt n x return p 
def Student T name nu return rv name Student T Distribution nu 
def make collectstatic statuses []hue exec os common I N S T A L L ROOT 'build' 'env' 'bin' 'hue' if os hue exec statuses runcmd [hue exec 'collectstatic' '--noinput'] return not any statuses 
def movavg x n w np n dtype float w ] 1.0 / n return np x w mode u 
def get New Mouse Tool return Zoom Out 
def index to month index return index // 12 + 1 index % 12 + 1
@compositedef related deployments strategy draw number of deployments node uuid pool draw node uuid pool strategy deployments set while True deployments draw deployment strategy node uuid pool node uuid pool if len deployments number of deployments return tuple deployments 
def mangle c ident argtys return PREFIX + mangle identifier ident + mangle args c argtys 
def get Manipulated Geometry Output geometry Output xml Element scale Points matrix Connection Vertexes geometry Output 'scale.' xml Element return geometry Output 
def convert user name or id to id user name or id context session context session model User .filter by id user name or id .first if not result result session model User .filter by name user name or id .first if not result raise df Invalid '%s %s' % _ 'otfound _ 'ser return result 
def s3 include debug css request current request request current settingstheme settings theme location current locationcss cfg '%s/modules/templates/%s%s/css.cfg' % folder location theme try f open css cfg 'r' except raise HTTP 500 'hemeconfigurationfilemissing modules % location theme files f files files -1 ]include ''for file in files if file ! '#' include '%s\n<linkhref "/%s/static/styles/%s"rel "stylesheet"type "text/css"/>' % include appname file -1 ] f return XML include 
def  get n jobs n jobs if n jobs < 0 return max cpu count + 1 + n jobs 1 elif n jobs 0 raise Value Error 'arametern jobs 0hasnomeaning.' else return n jobs 
def  portal maintenance now time reason 'dletimeoutexceeded disconnecting session in [sess for sess in PORTAL S E S S I O N S if now - sess last >  IDLE TIMEOUT ] session reason reason PORTAL S E S S I O N S session 
def wait for occupied port host port if not host raise Value Error "ostvaluesof Nonearenotallowed for trial in range 50 try check port host port except I O Error returnelse time 0.1 raise I O Error 'ort % port host 
def show interfaces resolve mac True return ifaces resolve mac 
def fromstring data beautifulsoup None makeelement None **bsargs return  parse data beautifulsoup makeelement **bsargs
@profiledef test body file OUTPUT FILE .read url URL 'http //www.clarin.com.ar/' headers Headers headers 'text/html'response H T T P Response 200 body headers url url charset 'utf-8' p H T M L Parser response del p 
def test url completion delete bookmark qtmodeltester config stub web history quickmarks bookmarks qtbot config stub {'timestamp-format' ' 'web-history-max-items' 2}model urlmodel Url Completion Model qtmodeltester display may return none Trueqtmodeltester model view  mock view index model 1 0 qtbot model cur item view assert 'https //github.com' not in bookmarks assert 'https //python.org' in bookmarks assert 'http //qutebrowser.org' in bookmarks 
def endian int pkt return int ''.join pkt 16
def count braces line open braces ['[' ' ' '{']close braces [']' ' ' '}']closing prefix re re ' .*?[^\\s\\]\\}\\ ]+.*? [\\]\\}\\ ] ? \\s*$' cnt 0stripline COMMENT R E '' line stripline QUOTE R E "''" stripline for char in stripline for brace in open braces if char brace cnt + 1for brace in close braces if char brace cnt - 1after Falseif cnt > 0 after Trueif cnt < 0 and closing prefix re stripline after Truereturn cnt after 
def  difftrap function interval numtraps if numtraps < 0 raise Value Error 'numtrapsmustbe>0indifftrap .' elif numtraps 1 return 0.5 * function interval + function interval else numtosum numtraps / 2 h float interval - interval / numtosum lox interval + 0.5 * h points lox + h * np numtosum s np function points axis 0 return s 
def  get name of init run utils output run 'readlink/proc/1/exe' .stdout.strip return os output 
def make extension trigger None default name None priority None invoke before training False finalizer None if trigger is None trigger Extension priority is None priority Extension decorator ext ext triggerext name default name or ext  name   ext priorityext before training invoke before trainingext finalizerreturn extreturn decorator 
def block device mapping destroy context bdm id return I M P L device mapping destroy context bdm id 
def describe message message definition message descriptor Message Descriptor message descriptor message definition name .split '.' [ -1 ]fields sorted message definition fields key lambda v v if fields message descriptor [describe field field for field in fields nested messages message definition  messages  except Attribute Error passelse message descriptors []for name in nested messages value getattr message definition name message descriptors describe message value message descriptor types message descriptorstry nested enums message definition  enums  except Attribute Error passelse enum descriptors []for name in nested enums value getattr message definition name enum descriptors describe enum value message descriptor types enum descriptorsreturn message descriptor 
def get pylint version if PYLINT PATH is None returncwd osp PYLINT PATH args ['--version']if os 'nt' cmd ''.join [PYLINT] + args process programs shell command cmd cwd cwd else process programs program PYLINT args cwd cwd lines to unicode from fs process .splitlines if lines regex ' {0}*|pylint-script.py [0-9\\.]* '.format PYLINT match re regex lines if match is not None return match [1]
def p enumerator 2 t pass 
def Relay State Helper manager delay return internet Timer Service delay  check State manager 
def get minibatches idx n minibatch size shuffle False idx list numpy n dtype 'int32' if shuffle numpy idx list minibatches []minibatch start 0for i in range n // minibatch size minibatches idx list start minibatch start + minibatch size ] minibatch start + minibatch sizeif minibatch start ! n minibatches idx list start ] return zip range len minibatches minibatches 
def exact filter query model filters filter dict {}if filters is None filters {}for key value in six filters if isinstance value list tuple set frozenset column attr getattr model key query query column attr  value else filter dict valueif filter dict query query by **filter dict return query 
def Locate Python File file Name b Browse If Dir 1 if not os file Name base Name file Namefor path in sys file Name os os path base Name if os file Name if b Browse If Dir d win32ui Create File Dialog 1 '*.py' None 0 'ython Files *.py |llfiles d Set O F N Initial Dir file Name rc d Do Modal if rc win32con I D O K file Name d Get Path Name breakelse return Noneelse file Name file Name + '.py' if os file Name breakelse return Nonereturn win32ui Full Path file Name 
def degree G nbunch None weight None return G nbunch weight 
def set floatx floatx global  F L O A T Xif floatx not in {'float16' 'float32' 'float64'} raise Value Error 'nknownfloatxtype ' + str floatx  FLOATX str floatx 
def encode table pieces table table table or {} length index len pieces pieces None tablesize 0for key value in table tablesize + encode short string pieces key tablesize + encode value pieces value pieces index struct '>I' tablesize return tablesize + 4
def to sql frame name con flavor None schema None if exists 'fail' index True index label None chunksize None dtype None if if exists not in 'fail' 'replace' 'append' raise Value Error "'{0}'isnotvalidforif exists if exists pandas sql pandas S Q L builder con schema schema flavor flavor if isinstance frame Series frame frame frame elif not isinstance frame Data Frame raise Not Implemented Error "eriesora Data Frame pandas sql sql frame name if exists if exists index index index label index label schema schema chunksize chunksize dtype dtype 
@apply to maskdef even size clip w h clip w % 2 0 and h % 2 0 return clipif w % 2 ! 0 and h % 2 ! 0 fl image lambda a a -1 -1 ] elif w % 2 ! 0 fl image lambda a a -1 ] else fl image lambda a a -1 ] return clip image fl image 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def safe join base *paths base force text base paths [force text p for p in paths path abspath join base *paths base path abspath base if not normcase final path .startswith normcase base path + sep and normcase final path ! normcase base path and dirname normcase base path ! normcase base path raise Suspicious File Operation 'hejoinedpath {} islocatedoutsideofthebasepathcomponent {} '.format final path base path return final path 
def feature selection documents [] top None method CHISQUARED threshold 0.0 a []for d in documents if not isinstance d Document d Document d type d stopwords True a d m Model a weight None p m probabilityc m w f in m selection top method threshold weighted True yield f w max [ p f type type for type in c 
def get combination hash from variable mapping parent variables mapping {}for variable identifier value identifier in variables variable _ Product Variation Variable or create product parent identifier force text variable identifier value _ Product Variation Variable Value or create variable variable identifier force text value identifier mapping valuereturn hash combination mapping 
def skip for dialect dialect def dec fn def wrap self *args **kwargs if self engine dialect raise unittest Skip Test "otsupportedondialect % dialect return fn self *args **kwargs return wrapreturn dec 
def make small undirected graph graph description create using None if create using is not None and create using directed raise Network X Error 'irected Graphnotsupported return make small graph graph description create using 
def  payment accepted order id auth amount currency decision try order Order id order id except Order Does Not Exist raise C C Processor Data Exception _ 'hepaymentprocessoracceptedanorderwhosenumberisnotinoursystem if decision 'ACCEPT' if auth amount order cost and currency order return {'accepted' True 'amt charged auth amount 'currency' currency 'order' order ex C C Processor Wrong Amount Exception _ u Theamountchargedbytheprocessor amount amount currency cost cost currency .format charged amount auth amount charged amount currency currency total cost order cost total cost currency order ex orderraise exelse return {'accepted' False 'amt charged 0 'currency' 'usd' 'order' order 
def imdisplay imarray screen None a pg surface imarray 0 1 if screen is None screen pg mode imarray 2][ -1 ] screen a 0 0 pg 
def description for valid number numobj lang script None region None number region region code for number numobj if region is None or region number region mobile token country mobile token numobj code national number national significant number numobj if mobile token ! U EMPTY STRING and national number mobile token national number national number mobile token ]region region code for country code numobj code try copied numobj parse national number region except Number Parse Exception copied numobj numobjarea description  prefix description for number GEOCODE DATA GEOCODE LONGEST PREFIX copied numobj lang script region else area description  prefix description for number GEOCODE DATA GEOCODE LONGEST PREFIX numobj lang script region if area description ! '' return area descriptionelse return country name for number numobj lang script region else return  region display name number region lang script region 
def parse command line globals dict locals dict res full command String line if res if  print commands print > U T "twill executingcmd % line args process args res List globals dict locals dict return res args return None None 
def Dumb Dispatch I Dispatch user Name None create Class None Unicode To String None clsctx pythoncom C L S C T X SERVER assert Unicode To String is None 'thisisdeprecatedandwillgoaway' I Dispatch user Name  Get Good Dispatch And User Name I Dispatch user Name clsctx if create Class is None create Class C Dispatchreturn create Class I Dispatch build Dispatch Item user Name 
def check win size size if not size return dict valid True message 'indowsizenotset default ' size size reg '\\d{1 4}x\\d{1 4}'if not re reg size re I msg 'rysomethinglike720x dict valid False message msg else return dict valid True value size 
def report nodes not run notrun if notrun logger u for info in notrun logger u %s' % u info hierarchy info id logger u %s' % info logger u Thefollowingdependentnodeswerenotrun for subnode in info logger subnode id logger u raise Runtime Error u Workflowdidnotexecutecleanly Checklogfordetails 
def  serialize rules rules result [ rule name str rule for rule name rule in rules ]return sorted result key lambda rule rule 
def  to args x if not isinstance x list tuple np x [x]return x 
def  st x start f windows n samp x -1 ]ST np x -1 ] + len windows n samp dtype np Fx fftpack x XF np [x Fx axis -1 for i f window in enumerate windows f start f + i f ST[... i f ] fftpack XF[... f f + n samp ] * window return ST
def get Inradius default Inradius element Node default Inradius get Complex By Prefixes element Node ['demisize' 'inradius'] default Inradius return get Complex By Multiplier Prefix element Node 2.0 'size' default Inradius 
def ec2 id to id ec2 id try return int ec2 id '-' [ -1 ] 16 except Value Error raise exception Invalid Ec2 Id ec2 id ec2 id 
def  build Args f self None kwargs {} arg Tuples get Argument Descriptions f arg Tuples arg Tuples ]init T P Region  init  our Arg Names [t[0] for t in get Argument Descriptions init ]rg Names + [f Cols arg Tuple in arg Tuples ] if arg Tuple in our Arg Names arg Tuples arg Tuple if self for arg Tuple in arg Tuples arg Name arg Tuple arg Name in kwargs arg Value kwargs arg Name else if len arg Tuple 2 raise Type Error "ustprovide % arg Name arg Value arg Tuple self arg Name arg Value return arg Tuples 
def  Add Accumulated Actions To M S V S p spec actions dict for primary input in actions dict inputs Ordered Set outputs Ordered Set descriptions []commands []for action in actions dict input inputs Ordered Set action outputs Ordered Set action descriptions action commands action description ' andalso descriptions command '\r\n'.join commands  Add Custom Build Tool For M S V S p spec primary input primary input inputs inputs outputs outputs description description cmd command 
def audit jail None chroot None root None return   salt  ['cmd.run']  pkg jail chroot root + ['audit' '-F'] output loglevel 'trace' python shell False 
def all bit strings bits dtype 'uint8' return np [[int x for x in np repr i width bits ] for i in xrange 0 2 ** bits ] dtype dtype 
def test hsl to rgb part 6 assert hsl to rgb 240 100 50 0 0 255 assert hsl to rgb 252 100 50 51 0 255 assert hsl to rgb 264 100 50 102 0 255 assert hsl to rgb 276 100 50 153 0 255 assert hsl to rgb 288 100 50 204 0 255 assert hsl to rgb 300 100 50 255 0 255 assert hsl to rgb 312 100 50 255 0 204 assert hsl to rgb 324 100 50 255 0 153 assert hsl to rgb 336 100 50 255 0 102 assert hsl to rgb 348 100 50 255 0 51 assert hsl to rgb 360 100 50 255 0 0
def apply Filter normalized uri xrd data flt None flt mk Filter flt et parse X R D S xrd data endpoints []for service element in iter Services et endpoints flt Service Endpoints normalized uri service element return endpoints 
def  load client secrets filename client type client info clientsecrets filename if client type ! clientsecrets T Y P E WEB raise Value Error 'heflowspecifiedin onlythe W E Bflowtypeissupported client type return client info id client info secret 
def concat indexed dataframes dfs axis 0 join 'outer' meta methods [df. meta for df in dfs axis axis join join empties [strip unknown categories df meta for df in dfs dfs2 divisions parts align partitions *dfs name 'concat-indexed-' + tokenize join *dfs parts2 [[ df if df is not None else empty for df empty in zip part empties ] for part in parts dict name i methods part axis join for i part in enumerate parts2 for df in dfs2 dsk df return new dd object dsk name meta divisions 
def  is sparse variable x if not isinstance x gof Variable raise Not Implemented Error 'thisfunctionshouldonlybecalledon*variables* oftypesparse Sparse Typeortensor Tensor Type forinstance not x return isinstance x Sparse Type 
def security group exists context project id group name return I M P L group exists context project id group name 
def  req environ property environ field def getter self return self environ field None def setter self value if isinstance value unicode self field value 'utf-8' else self field valuereturn property getter setter doc 'etandsetthe W S G Ienvironment % environ field 
def  get user partition groups course key user partitions user partition groups {}for partition in user partitions group partition group for user course key user partition if group is not None partition groups groupreturn partition groups 
def is valid vpnv6 prefix prefix if not isinstance prefix str return Falsetokens prefix ' ' 2 if len tokens ! 3 return Falseif not is valid route dist ' '.join [tokens[0] tokens return Falsereturn is valid ipv6 prefix tokens 
def get year book return int book [1]
def uninstall pkg user None env None cmd ['ghc-pkgunregister']cmd.append '"{0}"'.format pkg result   salt  ['cmd.run all ''.join cmd runas user env env if result ! 0 raise Command Execution Error result return result 
def palplot pal size 1 n len pal f ax plt 1 1 figsize n * size size ax np n .reshape 1 n cmap mpl Listed Colormap list pal interpolation 'nearest' aspect 'auto' ax xticks np n - 0.5 ax yticks [ -0.5 0.5] ax xticklabels [] ax yticklabels []
def indexing is enabled return settings F E A T U R E S 'ENABLE COURSEWARE INDEX' False 
def create tip index tree if hasattr tree ' tip index returnelse tree tip index {ame n for n in tree }
def merge dict1 dict2 for key val2 in dict2 if val2 is not None val1 dict1 key if isinstance val2 dict if val1 is None val1 {}if isinstance val1 Alias val1 val1 val2 elif isinstance val1 tuple alias others val1others others merge others val2 val1 alias others else val1 val1 merge val1 val2 else val1 val2dict val1 
def make simple equity info sids start date end date symbols None num assets len sids if symbols is None symbols list ascii uppercase num assets return pd Data Frame {'symbol' list symbols 'start date pd datetime [start date * num assets 'end date pd datetime [end date * num assets 'exchange' 'TEST' 'exchange full 'TESTFULL'} index sids columns 'start date 'end date 'symbol' 'exchange' 'exchange full 
def setup master master None if master is None if Tkinter support default root master Tkinter default root or Tkinter Tk else raise Runtime Error 'omasterspecifiedand Tkinterisconfiguredtonotsupportdefaultroot return master 
def test split lines 3 lines list split lines [ Token A u ] assert lines [[ Token A u ] [ Token A u ] [ Token A u ]] lines list split lines [ Token A u ] assert lines [[] [ Token A u ]] lines list split lines [ Token A u ] assert lines [[ Token A u ]]
def get trash interval return get conf .get  CNF TRASH INTERVAL
def unify x y s None variables **kwargs decons lambda x deconstruct x variables s s or {} s dict decons k decons v for k v in s ds core decons x decons y s is associative is associative is commutative is commutative **kwargs for d in ds yield dict construct k construct v for k v in d 
def create new branch revision u settings None model main Main Model model status view Create Branch Dialog model settings settings parent qtutils window if revision view revision revision view return view 
def generate clone url for repository in tool shed user repository base url url for '/' qualified True .rstrip '/' if user protocol base base url ' //' username '%s@' % user return '%s //%s%s/repos/%s/%s' % protocol username base repository repository else return '%s/repos/%s/%s' % base url repository repository 
def atciqd rc dc astrom pco erfa rc dc pnat erfa 1.0 pco pco astrom astrom 5e-08 ppr erfa pnat astrom astrom astrom pi erfa astrom ppr ri di erfa pi return erfa ri di 
def swift load pack index scon filename f scon object filename try return load pack index file filename f finally f 
def accuracy features labels model preds predict model features return np preds labels 
@frappe.whitelist def cancel doctype name wrapper frappe doc doctype name wrapper return wrapper dict 
def refresh window procs disks read disks write curses templ '%-5s%-7s%11s%11s%s'win.erase disks tot 'otal D I S K R E A D %otal D I S K W R I T E %s' % bytes2human disks read bytes2human disks write print line disks tot header templ % 'PID' 'USER' 'DISKREAD' 'DISKWRITE' 'COMMAND' print line header highlight True for p in procs line templ % p p username 7] bytes2human p read per sec bytes2human p write per sec p cmdline try print line line except curses breakwin 
def numericise all input empty2zero False default blank '' return [numericise s empty2zero default blank for s in input 
def in6 getifaddr ret []i dnet for int in i ifname int []if int key 'alias addrs v6 int addrs a in v6 if a ! dnet A D D R TYPE IP6 continuexx str a .split '/' [0]addr scapy ptop xx scope scapy getscope addr ret xx scope ifname return ret 
def build abstract info example None detailed info {} abstract ''if info abstract + '<p>%s</p>' % info '\n' '\\n' if example abstract + '<pre><code>%s</code></pre>' % example '\n' '\\n' for key value in detailed info abstract + '<spanclass "prog  sub % key value abstract '<sectionclass "prog  container % abstract '\n' '\\n' return abstract 
def basic auth header username password return b 'asic % base64 to bytes '%s %s' % username password errors 'surrogate or strict 
def  build target action original target plugin context target original target resource  a get resource and action action hierarchy info attributes R E S O U R C E HIERARCHY M A P resource None if hierarchy info and plugin parent resource hierarchy info -1 ]parent id hierarchy info by getattr plugin 'get %s' % parent resource data f context target id fields ['tenant id target '%s tenant id % parent resource ] data id target 
def is mobile number portable region region code metadata Phone Metadata for region region code None if metadata is None return Falsereturn metadata number portable region 
def measurement Report a Tp Pd pd 6 b Message Type mes Type 21 c Measurement Results packet a / b / c return packet 
def serialize item collection item   grab lock storage module   get storage module collection type storage module item collection item   release lock with changes True 
def plot MCMC results xdata ydata trace colors 'k' fig ax plt 1 2 figsize 10 4 plot MCMC trace ax xdata ydata trace True colors colors plot MCMC model ax xdata ydata trace 
def is channel string return string and string in '#&+!'
def p direct abstract declarator 1 t pass 
def write Settings Print Message repository write Settings repository print repository .capitalize + 'havebeensaved.'
def write local tex root name obj cache path  local cache path tex root  write cache path name obj  create cache timestamp cache path 
def statuses resolve uids twitter tl user ids []for t in tl rt t 'retweeted status if rt and not rt 'screen name user ids rt if not t 'screen name user ids t names lookup twitter list set user ids new tl []for t in tl rt t 'retweeted status if rt and not rt 'screen name name names status name nameif not t 'screen name name names name namenew tl t return new tl 
def find objects input max label 0 input numpy input if numpy input raise Type Error 'omplextypenotsupported if max label < 1 max label input return  nd image objects input max label 
def get ec2 client for test config return ec2 client region config zone config access key id config key id secret access key config access key 
def is Loop Number Equal between X between X Index loop Number if between X Index > len between X return Falsereturn between X X Index loop Number 
def match var regex cmd  traffic line '-m' regex log 'unning %s' cmd return  subprocess cmd 
def add user name password None runas None clear pw Falseif password is None clear pw Truepassword ''.join random System Random .choice string uppercase + string for x in range 15 if runas is None and not salt windows runas salt user if salt windows python shell Truecmd '"{0}"add user   context  ['rabbitmqctl'] name password else python shell Falsecmd [  context  ['rabbitmqctl'] 'add user name password   salt  ['cmd.run all cmd output loglevel 'quiet' runas runas python shell python shell if clear pw try clear password name runas except Exception delete user name runas raisemsg 'dded  format response res msg 
def  ad hoc noise coils ch type 'meg' v np len coils if ch type 'meg' axs np [ is axial coil coil for coil in coils dtype bool v 4e-28v[np.logical not axs ] 2.5e-25else v 1e-12 cov dict diag True data v eig None eigvec None return cov 
@jsonifydef delete record self arg dict cmd ['xenstore-rm' '/local/domain/% dom id s path s % arg dict ] ret result  run command cmd return result 
def  sph to cart sph assert sph 2 and sph 3 sph np 2d sph out np len sph 3 out 2] sph 0] * np sph 2] xy sph 0] * np sph 2] out 0] xy * np sph 1] out 1] xy * np sph 1] return out 
def get current theme request None if  current theme class is not  not set if  current theme class return  current theme class return Nonevalue cache THEME CACHE KEY if value return valueif request and hasattr request ' current xtheme return request current xthemetheme  get current theme if request request current xtheme themecache THEME CACHE KEY theme return theme 
def middleware class api None def decorator middleware class apply to api hug A P I api if api else hug object middleware class apply to api middleware middleware class return middleware classreturn decorator 
def  compute p max m max sqrt m max np m max p low int np sqrt m max p high int np sqrt m max + 1 return max p for p in range p low p high + 1 if p * p - 1 < m max + 1
def  length obj album if album return sum i for i in obj else return obj 
def add glob to array  bondmems result []if isinstance  bondmems list for  entry in  bondmems if re '-'  entry  entry 'glob' +  entry result  entry return ''.join result return  bondmems 
def get user from request handler None request None *args **kwargs assert handler or request if not handler handler lambda request user *args **kwargs user def get user from request wrapper fn request *args **kwargs user get object or None Facility User id request R E Q U E S T if 'user' in request R E Q U E S T else None user user or request 'facility user return handler request user user *args **kwargs return get user from request wrapper fn if not request else get user from request wrapper fn request request *args **kwargs
def run on appengine gdata service store tokens True single user mode False deadline None gdata service client App Engine Http Client deadline deadline gdata service store App Engine Token Store gdata service store tokens store tokensgdata service set current token single user modereturn gdata service 
def filter sum dict align dict filter attribute low bound high bound new sum dict F S S P F S S P Sum Dict new align dict copy align dict for prot num in sum dict attr value getattr sum dict num filter attribute if attr value > low bound and attr value < high bound new sum dict num sum dict num numbers sorted new sum dict for pos num in new align dict res dict new align dict pos num .pos align dict {}for prot num in prot numbers new align dict pos num .pos align dict num align dict pos num .pos align dict num new sum dict new align dict 
@commands u u @example u def get user format bot trigger nick trigger 2 if not nick nick trigger nick format bot nick value nick u format if format bot u %s." % nick format else bot u % nick 
def mds create **kwargs return ceph cfg create **kwargs
def is stale last updated lifespan 14 if last updated is None return Trueexpiration date last updated + datetime days lifespan return datetime > expiration date 
def iri2uri uri if isinstance uri str scheme authority path query fragment urllib uri authority authority 'idna' .decode 'utf-8' uri urllib scheme authority path query fragment uri ''.join [encode c for c in uri return uri 
def get all elements node if isinstance node astroid Tuple astroid List for child in node for e in get all elements child yield e else yield node 
def complete python mode prefix line start end ctx if not prefix '@ ' or prefix '${' return set prefix start prefix 2]python matches complete python prefix ] line start + 2 end ctx if isinstance python matches cabc Sequence python matches python matches set prefix start + i for i in python matches 
def key checker expected keys def check actual dict raise error True 'unctionthatcheckswhetherallkeysintheexpected keysobjectisinthegivenactual dictobject set expected keys - set actual dict if not missing return Trueif raise error raise Invalid Tabs Exception "xpectedkeys {1}".format expected keys actual dict else return Falsereturn check 
def  Get Unqualified To Target Mapping all targets to find result {}if not to find return {} [] to find set to find for target name in all targets extracted gyp Parse Qualified Target target name if len extracted > 1 and extracted in to find to find extracted result all targets name not to find return result [] return result [x for x in to find 
def test render t Jinja2 Template J I N J A2 t None t dateformatsource File J I N J A2 'index.html' .read all html t source context actual Py Query html assert actual '.navigationli' .length 30 assert actual 'div.article' .length 20 assert actual 'div.articleh2' .length 20 assert actual 'div.articleh2a' .length 20 assert actual 'div.articlep.meta' .length 20 assert actual 'div.articlediv.text' .length 20
def survey get All Translations For Series series id table current seriesrow current table series id .select table id limitby 0 1 .first template id row idreturn survey get All Translations For Template template id 
def global registry entry point group ' default global   GLOBAL R E G I S T R Yif   GLOBAL R E G I S T R Y entry point group is None log "'global registry '-runningwidgetdiscovery." if entry point group ' default from ..config import widgets entry pointsentry points iter widgets entry points else entry points iter entry point groupreg Widget Registry disc discovery Widget Discovery reg disc entry points iter log "'global registry 'discoveryfinished."   GLOBAL R E G I S T R Y point group regreturn   GLOBAL R E G I S T R Y point group 
def get support url request siteconfig Site Configuration current return siteconfig u url or get default support url request 
def  input callback fdref flags info  triggered C F File Descriptor Invalidate fdref C F Release fdref N S App  N S App msg N S App n 'stop ' N S App  wake N S App 
def  Running In Thread thread return threading Thread .ame thread Name 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def hamiltonian pos vel energy fn return energy fn pos + kinetic energy vel 
def list sebool bdata   salt  ['cmd.run'] 'semanageboolean-l' .splitlines ret {}for line in bdata ] if not line continuecomps line ret {tate comps ] 'efault comps -1 ] 'escription ''.join comps ] }return ret 
def handover Failure a Tp Pd pd 6 b Message Type mes Type 40 c Rr Cause packet a / b / c return packet 
def  Get Model Type For Entity Type python type from google import db PYTHON TYPE TO MODEL TYPE {basestring db String Property str db String Property unicode db String Property int db Integer Property bool db Boolean Property float db Float Property db Text db Text Property  PYTHON TYPE TO MODEL T Y P E python type None 
def make eventrule date rule time rule cal half days True date rule caltime rule calif half days inner rule date rule & time rule else nhd rule Not Half Day nhd rule calinner rule date rule & time rule & nhd rule return Once Per Day rule inner rule 
def safe str cmp a b if isinstance a text type a a 'utf-8' if isinstance b text type b b 'utf-8' if  builtin safe str cmp is not None return  builtin safe str cmp a b if len a ! len b return Falserv 0if PY2 for x y in izip a b rv | ord x ^ ord y else for x y in izip a b rv | x ^ y return rv 0
def get cluster id kwargs None call None if call 'action' raise Salt Cloud System Exit 'heget cluster idfunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None if name is None raise Salt Cloud System Exit 'heget cluster idfunctionrequiresaname try ret list clusters [name]['id']except Key Error raise Salt Cloud System Exit "hecluster name return ret 
def gcf fig Manager  pylab helpers Gcf active if fig Manager is not None return fig Manager return figure 
def dmp invert f g u K if not u return dup invert f g K else raise Multivariate Polynomial Error f g 
def delete softly context obj update and save context obj {'deleted at timeutils }
def test can parse feature description feature Feature string FEATURE2 assert equals feature 'nordertoavoidsillymistakes Cashiersmustbeabletocalculateafraction expected scenario names [egularnumbers scenario names [s.name for s in feature equals expected scenario names got scenario names assert equals len feature 4 step1 step2 step3 step4 feature equals step1 'haveentered3intothecalculator assert equals step2 'haveentered2intothecalculator assert equals step3 'pressdivide assert equals step4 '*theresultshouldbe1.5onthescreen'
def shift path info environ path info environ 'PATH INFO' '' if not path info return Nonepath parts path info '/' path parts -1 ] [p for p in path parts -1 ] if p and p ! '.' ]name path parts path parts name environ 'SCRIPT NAME' '' script name posixpath script name + '/' + name if script name '/' script name script name -1 ]if not name and not script name '/' script name + ' C R I P T NAME'] script nameenviron P A T H INFO'] '/'.join path parts if name '.' name Nonereturn name 
def course id from url url if not url return Nonematch COURSE R E G E X url if match is None return Nonecourse id match 'course id if course id is None return Nonetry return Slash Separated Course Key deprecated string course id except Invalid Key Error return None 
def test invalid options show extra information testdir testdir '\n[pytest]\naddopts --invalid-option\n' result testdir result lines ['*error unrecognizedarguments --invalid-option*' '*inifile %s*' % testdir 'tox.ini' '*rootdir %s*' % testdir ]
def counts x v idx np x v try return np idx minlength len v except bc np idx return np [ bc np len v - len bc ]
def get pixel x y return  sensehat pixel x y 
def visualize profiling data converter Calltree Converter profiling data converter 
@manager.commanddef test tests unittest Test Loader .discover 'tests' unittest Text Test Runner verbosity 2 .run tests 
def wx To P I L wimg from PIL import Image w h wimg Get Size d wimg Get Data pimg Image 'RGB' w h color 1 pimg d return pimg 
def register check check codes None def  add check check kind codes args if check in  checks  checks codes or [] else  checks codes or [''] args if inspect check args  get parameters check if args and args in 'physical line 'logical line if codes is None codes ERRORCODE R E G E X check  doc   or ''  add check check args codes args elif inspect check if  get parameters check  init   [ 2] ['self' 'tree']  add check check 'tree' codes None 
def  get network obj session network objects network name network obj {}for obj content in network objects if not hasattr obj content 'et continueprop dict vm util dict obj content Set network refs prop dict 'network' if network refs network refs network refs Managed Object Referencefor network in network refs if network type 'istributed Virtual Portgroup props session call method vutil 'get object property network 'config' if network name in props network obj 'istributed Virtual Portgroup obj props props session call method vutil 'get object property props Virtual Switch 'uuid' network obj dvs propsreturn network objelse props session call method vutil 'get object property network 'summary.name' if props network name network obj 'etwork obj network namereturn network obj 
def get installed packages return [x.key for x in filter lambda y where am i not in y pkg resources set ]
def generate django secretkey chars 'abcdefghijklmnopqrstuvwxyz0123456789!@#$%^&* -_ + 'return get random string 50 chars 
def get easy ec2 config file None cache False cfg get config config file cache return cfg easy ec2 
def certificate info for user user course id grade user is whitelisted None if user is whitelisted is None user is whitelisted Certificate Whitelist user user course id course id whitelist True .exists certificate is delivered ' type ' A for certificate 'Y' if user is whitelisted or grade is not None and user certificate else 'N' certificate status certificate status for student user course id certificate generated certificate status Certificate Statuses if certificate generated certificate is delivered ' type certificate status [eligible for certificate certificate is delivered certificate type 
def  dup right decompose f s K n len f - 1 lc dup LC f K f dup to raw dict f g {s K n // s for i in range 1 s coeff K j in range 0 i if not n + j - i in f continueif not s - j in g continue fc gc f n + j - i ] g s - j ] coeff + i - r * j * fc * gc g s - i ] K coeff i * r * lc return dup from raw dict g K
def setcbreak fd when TCSAFLUSH mode tcgetattr fd mode L F L A G mode L F L A G & ~ ECHO | ICANON mode C C V M I N 1 C V T I M E 0tcsetattr fd when mode 
def on Cell App Data key value DEBUG MSG 'ell App Data %s' % key 
def Tree Repr tree depth 0 def  Node Repr node text str node Type if node Text text '%s %s' % text node Text return textchildren ''if tree children '\n' + '\n'.join [ree Repr child depth depth + 1 for child in tree if child return depth * '' +  Node Repr tree + children 
def avail platforms ret {}for platform in CMD MAP ret Truefor cmd in CMD M A P if not salt cmd ret Falsereturn ret 
def str2list data list data []for line in data '\n' line line if not line continuetry splitted line '' value splitted Exception continuelist data value return list data 
def startapp app name directory project dir os os directory '..' project name os project dir if app name os directory sys style E R R O R 'rror Youcannotcreateanappwiththesamename %r asyourproject % app name sys 1  start helper 'app' app name directory project name 
def  save and block module name orig modules saved Truetry orig modules sys Key Error saved Falsesys Nonereturn saved 
def fake execute default reply handler *ignore args **ignore kwargs return '' ''
def install repl displayhook global  IP R E G I S T E R E Dglobal  INSTALL FIG O B S E R V E Rclass  Not I Python Exception passtry if u I Python in sys from I Python import get ipythonip get ipython if ip is None raise  Not I Python if  IP REGISTERED returndef post execute if matplotlib interactive draw all try ip u execute post execute except Attribute Error ip post execute post execute  IP REGISTERED post execute INSTALL FIG OBSERVER Falsefrom I Python import backend2guiipython gui name backend2gui get backend if ipython gui name ip gui ipython gui name else  INSTALL FIG OBSERVER Trueexcept Import Error  Not I Python  INSTALL FIG OBSERVER True 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def avail sizes response list common lookups kwargs {'lookup' 'server.ram'} ret {}for item in response name item itemreturn ret 
def check Keys srv State assert srv State Key is not None and srv State Key is not None and srv State Creation is not None if int time - srv State Creation > const K E Y ROTATION TIME log 'otatingserverkeymaterialforsessiontickets srv State Aes Key srv State Keysrv State Hmac Key srv State Keysrv State Key mycrypto Random const T I C K E T AES KEY LENGTH srv State Key mycrypto Random const T I C K E T HMAC KEY LENGTH srv State Creation int time srv State State 
def resetlocale category LC ALL  setlocale category  build localename getdefaultlocale 
def  tree namespace handler k v cherrypy v v name cherrypy 'ounted %son%s' % v v name or '/'
def test cnn fit single class cnn Condensed Nearest Neighbour random state RND SEED y single class np X assert warns User Warning cnn X y single class 
def prepare realm pattern source return ' ?<![^\\s\'"\\ <] ? + source + ' ?!\\w '
def concrete head expr n 10 if not expr resources raise Value Error 'xpressiondoesnotcontaindataresources if not iscollection expr return compute expr head expr n + 1 if not iscollection expr return odo head object elif isrecord expr return odo head Data Frame df odo head Data Frame df [expr. name df 
def get data disk size vm  swap linode id disk size get linode kwargs {'linode id linode id [ O T A L H D disk size config cloud config value 'disk size vm    opts   default disk size - swap return disk size - root disk size - swap 
def strip format msg flags if u in flags regex PYTHON PRINTF M A T C Helif u in flags regex PYTHON BRACE M A T C Helif u in flags regex PHP PRINTF M A T C Helif u in flags regex C PRINTF M A T C Helif u in flags regex RST M A T C Helse return msgstripped regex u msg return stripped 
def dbref to obj inp objclass raise errors True dbid dbref inp if not dbid return inptry if dbid < 0 return Noneexcept Value Error return Nonetry return objclass id dbid except Exception if raise errors raisereturn inp 
def generate token length 20 chars UNICODE ASCII CHARACTER SET return u choice chars for x in range length 
def cvxopt2dense value return np value 
def update commerce config enabled False checkout page '/test basket receipt page '/checkout/receipt/' Commerce Configuration checkout on ecommerce service enabled receipt page receipt page single course checkout page checkout page 
def dmercer number start 2 sieve []for n in xrange start number + 1 is prime Truefor p in sieve if n % p 0 is prime Falsebreakif p * p > n breakif is prime sieve n return sieve 
def  get uid name if getpwnam is None or name is None return Nonetry result getpwnam name except Key Error result Noneif result is not None return result None 
def split add ops text n 0text text '++' '##' .replace '--' '@@' spotted Falselast 0while n < len text e text e '+' or e '-' if spotted yield text n '##' '++' .replace '@@' '--' yield e last n + 1 spotted Falseelif e '/' or e '*' or e '%' spotted Falseelif e ! '' spotted Truen + 1 yield text n '##' '++' .replace '@@' '--'
def xsrf secret key secret memcache XSRF MEMCACHE ID namespace OAUTH2CLIENT NAMESPACE if not secret model Site Xsrf Secret Key or insert key name 'site' if not model model  generate new xsrf secret key model secret model XSRF MEMCACHE ID secret namespace OAUTH2CLIENT NAMESPACE return str secret 
def host add labels id labels labels models Label get bulk labels host models Host get id platforms [label.name for label in labels if label len platforms > 1 raise model logic Validation Error {'labels' 'ddingmorethanoneplatformlabel %s' % ' '.join platforms } if len platforms 1 models Host no platform [host] host *labels
def load comparable cert *names return jose Comparable X509 load cert *names
def create default groups from flaskbb import fixtureresult []for key value in fixture group Group name key for k v in value setattr group k v group result group return result 
@requires duration mask if nonedef crossfadeout clip duration newclip clip newclip clip fadeout duration return newclip 
def seconds to str value if value < 60 return '%sseconds' % value elif value < 3600 return '%sminutes' % value / 60 else return '%shoursand%sminutes' % value / 3600 value % 3600 / 60
def is copy only path path context try for dont render in context copy without render if fnmatch path dont render return Trueexcept Key Error return Falsereturn False 
def chelsea return load 'chelsea.png'
def  break H D B2 HDB2 ACK HDB2 & 2 / pow 2 1 NAK HDB2 & 1 return ACK NAK
def remove useless attributes field db False indexes False keywords USELESS KEYWORDS[ ]if db keywords + USELESS DB KEYWORDS[ ]if indexes keywords + INDEX KEYWORDS[ ]if field for name in keywords if name in field del field field 
def assert almost equal first second places 7 msg None values True if round second - first places ! 0 extra 'within%rplaces' % places  report inequality failure first second msg values '! ' extra 
def taxonomy process prefs taxonomy levels color prefs None prefs {}for j col in enumerate taxonomy levels key str col col str col prefs {}prefs[key]['column'] colif color prefs for p in color prefs if 'column' in color prefs and str color prefs col if 'colors' in color prefs prefs color prefs else prefs {}match Truebreakelse match Falseif not match prefs {}prefs[key]['column'] colprefs {}return prefs 
def test endian independence for endian in [u'<' u for ntype in [u'i' u for byte in [u'4' u x np [1 2 3] dtype endian + ntype + byte u u x 
@requires segment infodef readonly indicator pl segment info text u R O return text if int vim getbufoption segment info u else None 
def split Fields fields delimiter ' ' fields fields '%s' % delimiter delimiter commas [ -1 len fields ]commas.extend zero Depth Search fields ' ' commas sorted commas return [fields[ x + 1 y for x y in zip commas commas ] ]
@register u def self insert event event buffer text event * event 
def fill gaps generator time points query *columns iterator Peekable Iterator query for t in time points row iterator if row and row t yield t tuple getattr row c for c in columns iterator else yield t tuple 0 for c in columns 
def publish long description make long description if long description ! read RST DESCRIPTION PATH print 'escriptionfilenotup %unthefollowingcommandandcommitthechanges % RST DESCRIPTION PATH PREP COMMAND sys print 'escriptionup %s' % RST DESCRIPTION PATH answer raw input 'reyousureyouwanttopublishto Py P I yes ?' if answer ! 'yes' exit 'borted nothingpublished os 'pythonsetup.pysdistupload'
def proxy object obj if type obj in list tuple return Array Collection obj if isinstance obj dict return Object Proxy obj return obj 
def generate events list generator if not localized events generator list sorted events reverse True key lambda ev ev ev else generator list {k sorted v reverse True key lambda ev ev ev for k v in localized events }
def ob is tty ob fileno get fileno ob is tty Falseif fileno is tty os fileno return is tty 
def slave utilization registry xml parent data utilization X M L Sub Element xml parent 'lave Utilization Property percent int data 'slave-percentage' 0 X M L Sub Element utilization 'xclusive Access To Node .text 'true' if percent else 'false' X M L Sub Element utilization 'tilization Percentage .text str percent X M L Sub Element utilization 'nstance Per Slave .text str data 'single-instance-per-slave' False .lower
def  osborne e d def f rv if not isinstance rv Hyperbolic Function return rva rv a * d if not a Add else Add from args [ i * d for i in a if rv is sinh return I * sin a elif rv is cosh return cos a elif rv is tanh return I * tan a elif rv is coth return cot a / I else raise Not Implemented Error 'unhandled%s' % rv return bottom up e f 
def ex varassign name expr if not isinstance expr ast expr ex literal expr return ast Assign [ex lvalue name ] expr 
def uri to iri uri charset 'utf-8' errors 'replace' if isinstance uri tuple uri url unparse uri uri url parse to unicode uri charset path url unquote uri charset errors '%/;?' query url unquote uri charset errors '%;/? @& + $#' fragment url unquote uri charset errors '%;/? @& + $#' return url unparse uri uri netloc path query fragment 
def compute Compression Rate meta if not meta 'file size or not meta 'compr size 0 returnfile size meta 'file size if not file size returnmeta rate float file size / meta 'compr size 
def enable css animations page page script "\nvarstyles document Element By Id 'no-transitions' \nhead document Elements By Tag Name 'head' [hild styles \n"
def url params from lookup dict lookups params {}if lookups and hasattr lookups 'items' items []for k v in lookups if callable v v v if isinstance v tuple list v ' '.join str x for x in v elif isinstance v bool v '0' '1' [v]else v str v items k v params dict items return params 
@ensure csrf cookie options denydef signup request csrf token csrf request ['csrf token request authenticated return redirect '/course/' if settings F E A T U R E S 'AUTH USE CERTIFICATES IMMEDIATE SIGNUP' return redirect with get 'login' request G E T False return render to response 'register.html' {'csrf' csrf token 
def get all permission grants for user user db resource uid None resource types None permission types None role names User Role Assignment user user db .only 'role' .scalar 'role' permission grant ids Role name  in role names .scalar 'permission grants permission grant ids sum permission grant ids [] permission grants filters {}permission grants filters  in permission grant idsif resource uid permission grants filters uid resource uidif resource types permission grants filters type  in resource typesif permission types permission grants filters types  in permission typespermission grant dbs Permission Grant **permission grants filters return permission grant dbs 
def Date From Ticks ticks return date *localtime ticks [ 3]
def read from vmstat key vmstat open '/proc/vmstat' vmstat info vmstat vmstat return int re '%s\\s+ \\d+ ' % key vmstat info [0]
def html escape t html escape table {'&' '&amp;' '"' '&quot;' "'" '&#039;' '>' '&gt;' '<' '&lt;'}return ''.join html escape table c c for c in t 
def  lowess bisquare t t * tt ] np t t + 1t * t 
def is gzipped response ctype response 'ontent Type '' cenc response 'ontent Encoding '' .lower return  is gzipped ctype or  is octetstream ctype and cenc in 'gzip' 'x-gzip'
def  get meaning value pb is list False meaning Noneif is list if len value pb value 0 return Noneall meanings [ get meaning sub value pb for sub value pb in value pb value meanings set all meanings if len unique meanings 1 meaning unique meanings else meaning all meaningselif value pb meaning value pb meaning 
def  set Acceptable Protocols context acceptable Protocols def proto Select Callback conn protocols ' P Nclient A L P Nserver Prefersprotocolsfoundearlierin C acceptable Protocols Thecontextwhichissetup L Open S S L S S L Connection Protocolsadvertisedbytheotherside L L set protocols & set acceptable Protocols for p in acceptable Protocols if p in overlap return pelse return ''if not acceptable Protocols returnsupported protocol Negotiation Mechanisms if supported & Protocol Negotiation Support N P N def npn Advertise Callback conn return acceptable Protocolscontext npn advertise callback npn Advertise Callback context npn select callback proto Select Callback if supported & Protocol Negotiation Support A L P N context alpn select callback proto Select Callback context alpn protos acceptable Protocols 
def mill it label '' hide None expected size None every 1 def  mill char  i if  i > count return ''else return MILL CHARS[  i // every % len MILL CHARS ]def  show  i if not hide if  i % every 0 or  i count S T R E A M MILL TEMPLATE % label  mill char  i  i count S T R E A M count len it if expected size is None else expected size if count  show 0 for i item in enumerate it yield item  show i + 1 if not hide S T R E A M '\n' S T R E A M 
def  tpl val match  tpl pattern val if match return match [0]return None 
def parse storage policies conf policies []for section in conf if not section 'storage-policy ' continuepolicy index section ' ' 1 [1]config options dict conf section policy type config options 'policy type DEFAULT POLICY TYPE policy cls Base Storage Policy type to policy cls type policy cls config policy index config options policies policy return Storage Policy Collection policies 
def truncate before value srch before index value srch if before index > 0 return value before index return value 
def add Horizontally Bounded Point begin center end horizontal Begin horizontal End path if center > horizontal End and center < horizontal Begin path center returnif end ! None if center > horizontal Begin and end < horizontal Begin center Minus End center - end along center - horizontal Begin / center Minus End path center - along * center Minus End returnif begin ! None if center < horizontal End and begin > horizontal End center Minus Begin center - begin along center - horizontal End / center Minus Begin path center - along * center Minus Begin 
def geom output func argtypes offset None func argtypesif not offset func c void pfunc check geomelse func c intdef geomerrcheck result func cargs return check geom offset result func cargs offset func geomerrcheckreturn func 
def standardize name name return name '/' '_' if name else 'no name 
def list ip configurations call None kwargs None global netconnif not netconn netconn get conn Network Management Client if kwargs is None kwargs {}if 'group' not in kwargs if 'resource group in kwargs kwargs kwargs group raise Salt Cloud System Exit 'resource groupmustbespecifiedas group ip conf {}for ip  in kwargs 'ip configurations [] ip data object to dict ip  ip conf data ip datatry pub ip netconn ip addresses kwargs group ip data .ip addressip conf data ip address pub ipexcept Cloud Error passreturn ip conf 
def encrypt data iv Random .read A E S size cipher  create cipher iv return iv + cipher data 
def is strictly decreasing f interval S Reals symbol None f sympify f free sym f symbolsif symbol is None if len free sym > 1 raise Not Implemented Error 'is strictly decreasinghasnotyetbeenimplementedforallmultivariateexpressions elif len free sym 0 return Falsesymbol free sym df f symbol df neg interval solveset df < 0 symbol domain S Reals return interval subset df neg interval 
def count nonzero x return int  count nonzero x 
def get sid principal try sid salt functions sid from name principal except Command Execution Error sid principaltry sid win32security Convert String Sid To Sid sid except pywintypes raise Command Execution Error 'nvaliduser {0}'.format principal except Type Error raise Command Execution Errorreturn sid 
def  get repr cls value if value in REPRESENTATION CLASSES value REPRESENTATION C L A S S E S assert issubclass value Base Representation except Type Error Assertion Error raise Value Error u Representationis Base Representationclassoroneofthestringaliases value list REPRESENTATION CLASSES return value 
def nmapspec2ports string result set for ports in string ' ' if '-' in ports ports map int ports '-' 1 result result xrange ports ports + 1 else result int ports return result 
def  find cached images session sr ref cached images {}for vdi ref vdi rec in  get all vdis in sr session sr ref try image id vdi rec config Key Error continuecached images id vdi refreturn cached images 
def make rowcol string rowlens [ len x + 1 for x in string '\n' ]rowpos []acc 0for i in rowlens acc + irowpos acc def rowcol pos last 0for i k in enumerate rowpos 0 if pos < k return i pos - last last kreturn -1 -1 return rowcol 
def with Class classname namespace '' classattr '%s class % namespace if namespace else 'class' return with Attribute **{classattr classname 
def barthann M sym True if  len guards M return np M M needs trunc  extend M sym n np 0 M fac np n / M - 1.0 - 0.5 w 0.62 - 0.48 * fac + 0.38 * np 2 * np * fac return  truncate w needs trunc 
def test S A M P Integrated Client S A M P Integrated Client 
def test scalar column c table Column 1.5 assert repr c '1.5' assert str c '1.5'
def ghissue role name rawtext text lineno inliner options {} content [] try issue num int text if issue num < 0 raise Value Errorexcept Value Error msg inliner 'it Hubissuenumbermustbeanumbergreaterthanorequalto1 % text line lineno prb inliner rawtext rawtext msg return [prb] [msg] app inliner 'pull' in name category 'pull'elif 'issue' in name category 'issues'else msg inliner 'it Hubrolesinclude "%s"isinvalid.' % name line lineno prb inliner rawtext rawtext msg return [prb] [msg] node make link node rawtext app category str issue num options return [node] []
def One dtype None return Constant 1.0 dtype dtype 
def write html file out table outpath page out PAGE HTML % 'axa Summaries out table out open outpath 'w+' out page out out 
def convert to unicode s encoding list if isinstance s bytearray s bytes s if isinstance s six type return u s elif isinstance s six types try enc u enc six type s enc except Unicode Error for e in encoding list try return e six type s e except Unicode Error Lookup Error passtry enc u enc six type s enc errors u except Unicode Error raise Exception _ u Diffcontentcouldn %s" % [u'utf-8'] + encoding list else raise Type Error u Valuetoconvertisunexpectedtype type s 
def  time to datetime value assert isinstance value datetime return datetime 1970 1 1 value value value value 
def member status ret {'membership' {} 'summary' {alid 0 'eaving 0 'xiting 0 'oining 0 'own 0}}out   execute cmd 'riak-admin' 'member-status' ['stdout'].splitlines for line in out if line ' ' '-' 'tatus continueif '/' in line for item in line '/' key val item ' ' ret ] val if len line 4 status ring pending node line ret {tatus status 'ing ring 'ending pending ret 
def transparent image overlay pos overlay img img alpha roi slice pos pos + overlay img slice pos pos + overlay img try cv2 Weighted overlay img alpha img 1.0 - alpha 0 img except logger 'transparent image overlaywasoutsideoftheworldimageandwasnotdrawn pass 
def  int64 feature value if not isinstance value list value [value]return tf Feature int64 list tf Int64 List value value 
def volume info path out err utils 'lvs' '-o' 'vg all lv all '--separator' '|' path run as root True info [line.split '|' for line in out ]if len info ! 2 raise Runtime Error _ 'ath L V Mlogicalvolume % path return dict zip *info
def  value parameter class Dummy Luigi Task luigi Task param parameterreturn Dummy Luigi Task .param
def  authenticate consumer key consumer secret token data {'client id consumer key 'client secret consumer secret 'grant type 'client credentials 'scope' ' M S resource 'https //api.telstra.com/v1/oauth/token'token response requests token resource params token data timeout 10 .json if 'error' in token response return Falsereturn token response 
def setup input port pull mode import R Pi G P I O as G P I O G P I O port GPIO.IN GPIO.PUD DOWN if pull mode 'DOWN' else GPIO.PUD UP
def get html subsection name return '<h2>{}</h2>'.format name 
def nct kurt bug from numpy import assert almost equalmvsk 10 1 1.08372 1.325546 0.39993 1.2499424941142943 assert almost equal stats 10 1 moments 'mvsk' mvsk 10 1 decimal 6 c1 np [1.08372] c2 np [0.075546 1.25] c3 np [0.0297802 0.580566] c4 np [0.0425458 1.17491 6.25] nc 1mc1 c1 mc2 c2 * nc ** np [2 0] .sum mc3 c3 * nc ** np [3 1] .sum mc4 c4 np [0.0425458 1.17491 6.25] mvsk nc mc2mvsk mc1 mc2 mc3 mc4 
def test cli name test apps from cliapp import testappassert testapp testapp 
def  validate path path if not path raise Value Error 'athisempty if not isinstance path basestring raise Type Error 'athshouldbeastringbutis %s .' % path  class   path 
def validate authorizer ttl ttl value ttl value int positive integer ttl value if ttl value > 3600 raise Value Error 'he Authorizer Result Ttl In Secondsshouldbe 3600' return ttl value 
def  parse pem key raw key input offset raw key input '-----BEGIN' if offset ! -1 return raw key input ]
def Fragment Cond pkt frag Type Table [41016 41017]return pkt 1 and pkt H Ptype in frag Type Table 
def multi source dijkstra G sources target None cutoff None weight 'weight' if not sources raise Value Error 'sourcesmustnotbeempty' if target in sources return {target 0} {target [target]} weight  weight function G weight paths {source [source] for source in sources  dijkstra multisource G sources weight paths paths cutoff cutoff target target return dist paths 
def strip headers post if '\n\n' in post headers body post '\n\n' 1 return body else return post 
def  Struct Pack Encoder wire type format value size struct format def Specific Encoder field number is repeated is packed local struct pack struct is packed tag bytes Tag Bytes field number wire format W I R E T Y P E LENGTH DELIMITED local Encode Varint  Encode Varintdef Encode Packed Field write value write tag bytes local Encode Varint write len value * value size for element in value write local struct pack format element return Encode Packed Fieldelif is repeated tag bytes Tag Bytes field number wire type def Encode Repeated Field write value for element in value write tag bytes write local struct pack format element return Encode Repeated Fieldelse tag bytes Tag Bytes field number wire type def Encode Field write value write tag bytes return write local struct pack format value return Encode Fieldreturn Specific Encoder 
def  start relationships workflow parent child el if 'to' not in child el raise Runtime Error _ "ode % parent workflow parentto child el child Node workflow workflow name to except Node Does Not Exist raise Runtime Error _ 'ode % to try obj Link parent parent .get name 'to' obj childexcept Link Does Not Exist obj Link name 'to' parent parent child child obj 
def format help list hdict cmds hdict db string ''if hdict cmds and any hdict cmds string + '\n' +  SEP + ' Commandhelpentries +  SEP for category in sorted hdict cmds string + '\n{w%s{n \n' % str category .title string + '{G' + fill ' '.join sorted hdict cmds + '{n' if hdict db and any hdict db string + '\n\n' +  SEP + ' Otherhelpentries +  SEP for category in sorted hdict db string + '\n\r{w%s{n \n' % str category .title string + '{G' + fill ' '.join sorted [str topic for topic in hdict db + '{n' return string 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def repeat elements x rep axis x shape x shape .as list try splits tf value x num or size splits x shape axis axis except Type Error splits tf value x num split x shape split dim axis x rep [s for s in splits for i in range rep ]return concatenate x rep axis 
def show migration changes apps for app in apps print app label migrations [migration for migration in app diff migrations migrations 
def  load response response try data json response except Value Error data response {'code' response code 'content' data ret 
def line2d dist l p a b c l x0 y0 preturn abs a * x0 + b * y0 + c / np a ** 2 + b ** 2
def udivisors n generator False n as int abs n if isprime n return [1 n n 1 return [1]if n 0 return []rv  udivisors n if not generator return sorted rv return rv 
def zoneout h x ratio 0.5 train True if train return Zoneout ratio h x return x 
def get project root settings mod   import   settings S E T T I N G S MODULE {} {} [''] return os os settings mod  file  
def Is Package Dir path package Name known File Name import osif known File Name is None known File Name '.'return File Exists os os path package Name known File Name 
def test editable install script result script 'install' '-e' ' N I Tools 0.2' expect error True assert ' N I Tools 0 C Surl in result assert not result created assert not result updated 
def is py3 import sysreturn sys info 3
def nunpack s default 0 l len s if not l return defaultelif l 1 return ord s elif l 2 return struct '>H' s [0]elif l 3 return struct '>L' '\x00' + s [0]elif l 4 return struct '>L' s [0]else return Type Error 'invalidlength %d' % l 
def make profile middleware app global conf log filename 'profile.log.tmp' limit 40 limit int limit return Profile Middleware app log filename log filename limit limit 
def close db connections func *args **kwargs def  close db connections *args **kwargs ret Nonetry ret func *args **kwargs finally from django import connectionsfor conn in connections conn return retreturn  close db connections 
def multinomial random state size None n 1 pvals [0.5 0.5] ndim None dtype 'int64' n tensor tensor variable n pvals tensor tensor variable pvals tmp pvals T T ndim size bcast  infer ndim bcast ndim size n tmp bcast bcast + pvals -1 ] op Random Function multinomial helper tensor Tensor Type dtype dtype broadcastable bcast ndim added 1 return op random state size n pvals 
@not implemented for 'directed' def biconnected component subgraphs G copy True for comp nodes in biconnected components G if copy yield G comp nodes .copy else yield G comp nodes 
def cleanup  lib R A N D cleanup 
def pick info info sel copy True info check consistency if copy info deepcopy info if sel is None return infoelif len sel 0 raise Value Error 'ochannelsmatchtheselection info [info['chs'][k] for k in sel update redundant info [ch for ch in info if ch in info names ]comps deepcopy info for c in comps row idx [k for k n in enumerate c names if n in info names ]row names [c['data']['row names for i in row idx c idx rowcalsc len row names c names row namesc c idx compsinfo check consistency return info 
def load theme plugins if not pkg resources return []theme paths []for plugin in pkg resources entry points 'sphinx themes func or path plugin try path func or path except Exception path func or pathif isinstance path string types theme paths path else raise Theme Error 'lugin % plugin name return theme paths 
def get url conn urlopen url resp conn conn return resp 
def gce connect module provider None if not HAS LIBCLOUD BASE module json msg 'libcloudmustbeinstalledtousethismodule' provider provider or Provider G C E return gcp connect module provider get driver USER AGENT PRODUCT USER AGENT VERSION
def walk Modules import Packages False return the System Path Modules import Packages import Packages 
@pytest.mark.parametrize 'i item enumerate ITEMS def test urls objects i item assert objects At i .url item 
def signal job jid sig if HAS PSUTIL is False log 'saltutil.signaljobcalled butpsutilisnotinstalled Installpsutiltoensuremorereliableandaccurate P I Dmanagement for data in running if data jid try if HAS PSUTIL for proc in salt compat Process pid data .children recursive True proc signal sig os int data sig if HAS PSUTIL is False and 'child pids in data for pid in data pids os int pid sig return 'ignal int sig jid data except O S Error path os   opts  ['cachedir'] 'proc' str jid if os path os path return 'ob jid return ''
def get distribution path venv distribution  verify safe py code distribution bin path  verify virtualenv venv ret   salt  ['cmd.exec code all bin path "importpkg resources pkg resources distribution '{0}' .location ".format distribution if ret ! 0 raise Command Execution Error '{stdout}\n{stderr}'.format **ret return ret 
def diff index filenames ref out git index ref name only True z True [ T D O U T  parse diff filenames out 
@add to dict  after create functions def after VIF create vif ref vif rec vm ref vif rec V M rec  db content V M ref rec V I Fs vif ref 
def fcontext policy applied name recursive False ret {'name' name 'result' False 'changes' {} 'comment' ''}changes text   salt  ['selinux.fcontext policy is applied name recursive if changes text '' ret {'result' True 'comment' ' Elinuxpoliciesarealreadyappliedforfilespec name } return retif   opts  ['test'] ret {'result' None else apply ret   salt  ['selinux.fcontext apply policy name recursive if apply ret ! 0 ret {'comment' apply ret else ret {'result' True ret {'changes' apply ret 'changes' } return ret 
def test command completion qtmodeltester monkeypatch stubs config stub key config stub  patch cmdutils monkeypatch stubs 'qutebrowser.completion.models.miscmodels.cmdutils' config stub {'rock' 'roll'}key config stub bindings for 'normal' {'s' 'stop' 'rr' 'roll' 'ro' 'rock'} model miscmodels Command Completion Model qtmodeltester display may return none Trueqtmodeltester model  check completions model {ommands [ 'stop' 'stopqutebrowser' 's' 'drop' 'dropalluserdata' '' 'roll' 'nevergonnagiveyouup' 'rr' 'rock' "liasfor 'ro' ]}
def assign obj **kwargs obj  dict  .update kwargs 
def  get basic info ca name cert ca dir None if ca dir is None ca dir '{0}/{1}'.format  cert base path ca name index file '{0}/index.txt'.format ca dir expire date  four digit year to two digit datetime cert not After four digit year fmt serial number format cert serial number 'X' subject '/'subject + '/'.join ['{0} {1}'.format x y for x y in cert subject .get components ] subject + '\n'return index file expire date serial number subject 
def get node conn name nodes conn nodes for node in nodes if node name   utils  ['cloud.cache node salt types filter node  dict     active provider name     opts   return node 
def script from examples s output []for piece in Doc Test Parser .parse s if isinstance piece Example output piece -1 ] want piece want output 'xpected ' output + [ '##' + l for l in want '\n' [ -1 ]]else output + [ comment line l for l in piece '\n' [ -1 ]]while output and output -1 ] '#' output while output and output '#' output 0 return '\n'.join output 
def print tree node print tree node 
def test classifier single class X [[1 2] [3 4]]y [1 1]assert raise message Value Error 'hissolverneedssamplesofatleast2classesinthedata Logistic Regression solver 'sag' .fit X y 
def test x minus y not same as x lt y x I + 2 y I + 3 raises Type Error lambda x < y assert x - y < 0 ineq Lt x y evaluate False raises Type Error lambda ineq assert ineq - ineq < 0 t Symbol 't' imaginary True x 2 + t y 3 + t ineq Lt x y evaluate False raises Type Error lambda ineq assert ineq - ineq < 0 x I + 2 y 2 * I + 3 raises Type Error lambda x < y raises Type Error lambda x - y < 0
def bag range n npartitions size n // npartitions name 'range-%d-npartitions-%d' % n npartitions ijs list enumerate take npartitions range 0 n size dsk dict name i reify range j min j + size n for i j in ijs if n % npartitions ! 0 i j ijs -1 ]dsk[ name i ] reify range j n return Bag dsk name npartitions 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def raise 404 if not version req min version max version None want version req M I C R O V E R S I O N E N V I R O N not want version min version max version raise webob H T T P Not Found 
def  tokenize description empty  matching String u description colon  matching String u ' description equals  matching String u ' description backslash  matching String u description current emptyops colon + equals next Ops {colon colon + equals equals colon iter iterbytes description for n in iterdesc if n in iterbytes ops yield  STRING current yield  OP n current emptyops next Ops n backslash current + next iterdesc else current + n yield  STRING current 
def  present w prime star w w backtrack index -1 flag 0for arr in w backtrack index + 1if np w prime star arr and np w arr flag + 1breakif not flag return -1 return index 
def Assign Subtypes tree subtype assigner  Subtype Assigner subtype assigner Visit tree 
def get aliases base paths aliases base paths cfg C O N F base paths or '' if aliases base paths ' ' aliases base paths aliases base paths -1 ]result []aliases base paths aliases base paths ' ' result aliases base pathsresult [path for path in result if path list Ordered Set result return result 
def unparse input dict output None encoding 'utf-8' full document True short empty elements False **kwargs if full document and len input dict ! 1 raise Value Error 'ocumentmusthaveexactlyoneroot must return Falseif output is None output String I O must return Trueif short empty elements content handler X M L Generator output encoding True else content handler X M L Generator output encoding if full document content handler Document for key value in input dict  emit key value content handler full document full document **kwargs if full document content handler Document if must return value output try value value encoding except Attribute Error passreturn value 
def iter good values for ctype values in sorted GOOD V A L U E S for value in values yield ctype value 
def collect docs for readmes files to docs readmes to docs defaultdict list for file docs in files to docs readme get readme path file readmes to docs docs readmes to docs list set readmes to docs return readmes to docs 
def return url handler request logger1 '>>returnurlhandlerstart' if notify verify request G E T tn request G E T 'out trade no trade no request G E T 'trade no logger1 'hangethestatusofbill % tn bill Bill pk tn trade status request G E T 'trade status logger1 'thestatuschangedto%s' % trade status bill status trade statusupgrade bill bill 30 * 6 + 7 url send goods confirm by platform trade no req urllib url logger1 'sendgoodsconfirmation.%s' % url return Http Response Redirect reverse 'payment success return Http Response Redirect reverse 'payment error 
def namespace namespace None Register default namespace namespace or ''
def create embedded plot model update time params pickle model extra text 'astupdated %s' % update time if model type 'metrics' plot info Metrics Plot query dict params plot type params inverted series params normalize to None drilldown callback '' figure areas unused  create metrics plot helper plot info extra text elif model type 'qual' plot info Qualification Histogram query params filter string params string interval params drilldown callback '' figure areas unused  create qual histogram helper plot info extra text else raise Value Error 'nvalidgraph type % model type image bounding box unused  create png figure return image 
def install error handlers root urlconf module getattr settings u R O O T URLCONF' None if not root urlconf module returntry root urlconf import module root urlconf module except Import Error returnfor error status in 400 403 404 500 handler attr HANDLER ATTR FMT % error status if hasattr root urlconf handler attr  URLCONF ERROR H A N D L E R S attr getattr root urlconf handler attr setattr root urlconf handler attr make error view error status 
def markdown text mode '' context '' raw False return gh text mode context raw 
def reject dict match include accepted False include denied False skey get key   opts   return skey match dict match include accepted include accepted include denied include denied 
def get trial environment cluster package source return {'FLOCKER ACCEPTANCE CONTROL NODE' cluster node 'FLOCKER ACCEPTANCE NUM AGENT NODES' str len cluster nodes 'FLOCKER ACCEPTANCE VOLUME BACKEND' cluster backend 'FLOCKER ACCEPTANCE API CERTIFICATES PATH' cluster path 'FLOCKER ACCEPTANCE HOSTNAME TO PUBLIC ADDRESS' json {node.private address node for node in cluster nodes if node address is not None } 'FLOCKER ACCEPTANCE DEFAULT VOLUME SIZE' bytes cluster volume size 'FLOCKER ACCEPTANCE TEST VOLUME BACKEND CONFIG' cluster backend config file 'FLOCKER ACCEPTANCE DISTRIBUTION' cluster node 'FLOCKER ACCEPTANCE PACKAGE BRANCH' package source or '' 'FLOCKER ACCEPTANCE PACKAGE VERSION' package source or '' 'FLOCKER ACCEPTANCE PACKAGE BUILD SERVER' package source server 
def  random password length DEFAULT LENGTH chars C.DEFAULT PASSWORD CHARS assert isinstance chars text type '%s %s isnotatext type % chars type chars random generator random System Random password []while len password < length new char random generator chars password new char return u password 
def test write twoline normal out String I O ascii dat out Writer ascii Fixed Width Two Line assert equal splitlines out 'ol1 Col2 Col3 Col4 
def neg expr operator return lo Lin Op lo N E G operator [operator] None 
def update generators for generator in  GENERATOR D B install templates translations generator add variables to context generator interlink static files generator interlink removed content generator interlink translated content generator 
def check bool result func cargs if bool result return Trueelse return False 
def fail on eslint arg if 'eslint' in arg paver 'exit1' else return 
def  gl transform estimators X method n sample n iter X X -1 ] for ii est in enumerate estimators X stack X np [ 0 X - 1 range 1 X - 1 ] X stack X stack np [ n sample * n iter X stack ] ] transform getattr est method  y pred transform X stack if  y pred 2  y pred np  y pred [n sample n iter  y pred else shape np [ n sample n iter  y pred ] ].astype int  y pred np  y pred shape if ii 0 y pred  gl init pred  y pred X len estimators y pred ii ...]  y predreturn y pred 
def previous key tuple of tuples key for i t in enumerate tuple of tuples if t key try return tuple of tuples i - 1 ][0]except Index Error return None 
def is pseudographical sequence s list sequence if not nx list of ints s return Falsereturn sum s % 2 0 and min s > 0
def test mnist pi train load train file os pylearn2  path  [0] 'scripts/papers/maxout/mnist pi init value control datacontrol data [alse MNIST which set 'train' start 0 stop 100 train set monitoring dataset train control data init valuetrain criterion Epoch Counter max epochs 1 train 0 train freq 0train.main loop 
def  parse check rule if rule '!' return False Check elif rule '@' return True Check try kind match rule ' ' 1 except Exception L O G _ 'ailedtounderstandrule % rule return False Check if kind in  checks return  checks kind match elif None in  checks return  checks None kind match else L O G _ 'ohandlerformatchesofkind % kind return False Check 
def sort By Value d items d backitems [[v[1] v for v in items backitems return [backitems[i][1] for i in range 0 len backitems ]
def logs name return  client wrapper 'logs' name 
def task id in ids body message return body in ids 
def rfind s *args return  apply s args 
def residue depth residue surface atom list residue unpacked list length len atom list d 0for atom in atom list coord atom coord d d + min dist coord surface return d / length 
def multiply by two number return float number * 2
def add lazy relation cls field relation operation if relation RECURSIVE RELATIONSHIP CONSTANT app label cls meta labelmodel name cls  name  else try app label model name relation '.' except Value Error app label cls meta labelmodel name relationexcept Attribute Error app label relation meta labelmodel name relation meta namemodel get model app label model name seed cache False only installed False if model operation field model cls else key app label model name value cls field operation pending lookups key [] .append value 
def time xlsxwriter start time clock workbook xlsxwriter Workbook 'xlsxwriter.xlsx' worksheet workbook worksheet for row in range row max // 2 for col in range col max worksheet string row * 2 col 'ow %ol %d' % row col for col in range col max worksheet number row * 2 + 1 col row + col workbook elapsed clock - start time print elapsed time 'xlsxwriter' elapsed 
def create large tree value of nodes [1 2 3 4 5 6 7 8 9 10 'a' 'b' 'c' 'd' 'e']tree ''depth 0count 0while depth < 4 if depth 0 tree [value of nodes [] []]depth + 1count + 1elif depth 1 for i in [1 2] tree [value of nodes [] []]count + 1depth + 1elif depth 2 for i j in itertools [1 2] repeat depth tree [value of nodes [] []]count + 1depth + 1elif depth 3 for i j k in itertools [1 2] repeat depth tree [value of nodes [] []]count + 1depth + 1return tree 
def flatten Value value for i in iter value if is List Like i for j in flatten Value i yield j else yield i 
def  get or create user list for site sailthru client site None default list name None if site and site 'id' ! settings S I T E ID list name site 'domain' '' .replace '.' '_' + ' user list else list name default list namesailthru list  get or create user list sailthru client list name return list name if sailthru list else default list name 
def tenant delete tenant id None name None profile None **connection args kstone auth profile **connection args if name for tenant in getattr kstone  TENANTS None .list if tenant name tenant id tenant not tenant id return {rror 'nabletoresolvetenantid kstone  TENANTS None .delete tenant id ret 'enant I D tenant id if name ret + ' {0} '.format name return ret 
def dictfetchmany cursor number return cursor number 
def access key k if Q Key Sequence Bindings k return u DCTB ' + Q Key Sequence k .tring Q Key Sequence Native Text return u 
def cache clean path None runas None env None env env or {} if runas uid salt uid runas if uid env {'SUDO UID' '{0}'.format uid 'SUDO USER' ''} cmd ['npm' 'cache' 'clean']if path cmd path cmd ''.join cmd result   salt  ['cmd.run all cmd cwd None runas runas env env python shell True ignore retcode True if result ! 0 log result return Falsereturn True 
def libvlc vlm get media instance seekable p instance psz name i instance f  Cfunctions 'libvlc vlm get media instance seekable None or  Cfunction 'libvlc vlm get media instance seekable 1 1 1 None ctypes int Instance ctypes char p ctypes int return f p instance psz name i instance 
def  Add Tool tool  msvs validators name {} msbuild validators name {} msvs to msbuild converters name {} msbuild name of tool name tool name 
def arglist to dict arglist return dict x ' ' 1 for x in arglist 
def  get next vmid return int query 'get' 'cluster/nextid'
def linkify bounce url callback attrs new False attrs get outgoing url attrs return attrs 
def bind table action action name  actions locator by By C S S SELECTOR 'div.table actions div actions def decorator method @functools.wraps method def wrapper table actions table get elements * actions locator action element Nonefor action in actions target action id '%s  action %s' % table action name if action attribute 'id' target action id action element actionbreakif action element is None msg "ouldnotbindmethod % method  name   action name raise Value Error msg return method table action element return wrapperreturn decorator 
def  iri utf8 errors handler exc bytes as ints bytes to list exc exc replacements [ u % num for num in bytes as ints u replacements exc 
def read index dict f ret {}for x in read index f ret Index Entry *x[1 ] return ret 
@pytest.mark.parametrize 'fast writer [rue False def test write comments fast writer data ascii '#c1\n#c2 DCTB \na b c 2 3' out String I O ascii data out format 'basic' fast writer fast writer expected ['#c1' '#c2' '#c3' 'abc' '123']assert out .splitlines expected out String I O ascii data out format 'commented header fast writer fast writer expected ['#abc' '#c1' '#c2' '#c3' '123']assert out .splitlines expected out String I O ascii data out format 'basic' comment False fast writer fast writer expected ['abc' '123']assert out .splitlines expected 
def index template get name hosts None profile None es  get instance hosts profile try ret es template name name return retexcept elasticsearch Not Found Error return Nonereturn None 
def metadef resource type get context resource type name session None session session or get session return metadef resource type api context resource type name session 
def handle activity user post original author id None if original author id is not None and user ! original author id returnif getattr post 'context' 'course' TEAM DISCUSSION CONTEXT Course Team Membership last activity user post id 
def logger init log logging Logger 'pyinotify' console handler logging Stream Handler console handler Formatter logging Formatter '[% asctime s name s levelname s message s log Handler console handler log Level 20 return log 
def sprot search ful text make wild None swissprot 1 trembl None cgi 'http //www.expasy.ch/cgi-bin/sprot-search-ful' variables {'SEARCH' text make wild variables Wild 'on'if swissprot variables S 'on'if trembl variables T 'on'options  urlencode variables fullcgi '%s?%s' % cgi options handle  urlopen fullcgi return handle 
def load key pubkey try return load pem public key pubkey default backend except Value Error pubkey pubkey 'BEGINRSA' 'BEGIN' .replace 'ENDRSA' 'END' return load pem public key pubkey default backend 
def xonsh help x lineno None col None return xonsh call '  xonsh help  ' [x] lineno lineno col col 
def get volume summary all context return I M P L volume summary all context 
def alias root v if v is None return vvmap getattr v 'view map {} dmap getattr v 'destroy map {} outpos v v v views vmap outpos [] + dmap outpos [] if len v views > 1 raise Not Implemented Error str v + 'urrently weonlysupportthecasewhereanoutputisavieworadestroyedversionofoneinput elif v views return alias root v views else return v 
def log Subtitle showid season episode status subtitle Result resource subtitle Result subtitle Result name status quality Quality Composite Status status action Quality Status SUBTITLED quality  log History Item action showid season episode quality resource provider 
def show refs objs max depth 3 extra ignore filter None too many 10 highlight None filename None extra info None refcounts False shortnames True output None  show graph objs max depth max depth extra ignore extra ignore filter filter too many too many highlight highlight edge func gc referents swap source target True filename filename extra info extra info refcounts refcounts shortnames shortnames output output 
def health checks consul url None service None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not service raise Salt Invocation Error 'equiredargument if 'dc' in kwargs query params kwargs 'health/checks/{0}'.format service ret  query consul url consul url function function query params query params return ret 
def encode integer integer prefix bits max number 2 ** prefix bits - 1 if integer < max number return bytearray [integer] else elements [max number integer - max number while integer > 128 elements integer % 128 + 128 integer integer // 128 elements integer return bytearray elements 
def  vindex transpose block axis axes [axis] + list range axis + list range axis + 1 block return block axes 
@require G E Tdef contributors detail request readout slug product  get product request return  kb detail request readout slug CONTRIBUTOR READOUTS 'dashboards.contributors' _ 'nowledge Base Dashboard locale settings W I K I DEFAULT LANGUAGE product product 
def move Intf No Retry intf dst Node print Error False intf str intf cmd 'iplinkset%snetns%s' % intf dst Node cmd Output quiet Run cmd if cmd Output if print Error error 'rror move Intf ' + intf + 'notsuccessfullymovedto' + dst Node + ' \n' cmd Output return Falsereturn True 
def oo combine key value data joiner ' ' if not isinstance data list raise errors Ansible Filter Error '|failedexpectsfirstparamisalist' rval []for item in data rval '%s%s%s' % item joiner item return rval 
def last check cache cache file if cache return os cache file return time 
def  reduced kernel size for small input input tensor kernel size shape input tensor shape .as list if shape is None or shape is None kernel size out kernel sizeelse kernel size out [min shape kernel size min shape kernel size ]return kernel size out 
def hi given samples i W list b list beta 1.0 apply sigmoid True depth len samples hi mean 0.0if i < depth - 1 wip1 W list i + 1 ]hi mean + T samples i + 1 ] wip1 T * beta if i > 0 wi W list mean + T samples i - 1 ] wi * beta hi mean + b list * beta if apply sigmoid return T hi mean else return hi mean 
@frappe.whitelist def set order new order user None if isinstance new order basestring new order json new order for i module name in enumerate new order if module name not in u Explore if user icon get user copy module name user else name frappe value u Desktop Icon {u'standard' 1 u name module name if name icon frappe doc u Desktop Icon name else name add user icon module name standard 1 icon frappe doc u Desktop Icon name icon set u i clear desktop icons cache 
def get Local Dictionary attributes Key element Node xml Processor element Node X M L Processor if len xml Processor < 1 return Nonereturn xml Processor -1 ]ictionary 
def test finder detects latest find links data req Install Requirement line 'simple' None finder Package Finder [data.find links [] session Pip Session link finder requirement req False assert link 'simple-3.0.tar.gz'
def disassociate all context specs id try get qos specs context specs id db specs disassociate all context specs id except db exc D B Error L O G  LE ' Berror ' L O G  LW 'ailedtodisassociateqosspecs specs id raise exception Qo S Specs Disassociate Failed specs id specs id type id None 
def build submit description executable output error user log query params all query params DEFAULT QUERY C L A S S A D all query params query params submit description []for key value in all query params submit description '%s %s' % key value submit description 'executable ' + executable submit description 'output ' + output submit description 'error ' + error submit description 'log ' + user log submit description 'queue' return '\n'.join submit description 
def start Logging file *a **kw if isinstance file Logging File returnflo File Log Observer file start Logging With Observer flo *a **kw return flo 
def core observations across sample ids table sample ids None fraction for core 1.0 try result list filter table to core table sample ids fraction for core .ids axis 'observation' except Table Exception result []return result 
def get subject and message subject template message template param dict subject render to string subject template param dict message render to string message template param dict return subject message 
def list l3 agent hosting routers router profile None conn  auth profile return conn l3 agent hosting routers router 
def format bytes to human size precision 2 size int size fmt '%%1.%df%%s' % precision for unit in ['B' 'KB' 'MB' 'GB' 'TB'] if size < 1024.0 return fmt % size unit size / 1024.0
def read address space start length None if not length length linux process info sizefmt '<I' if length 4 else '<Q' return struct fmt space start length [0]
def  remove dnsmasq accept rules dev table iptables manager port in [67 53] for proto in ['udp' 'tcp'] args {'dev' dev 'port' port 'proto' proto rule 'INPUT' '-i% dev s proto s proto s port s A C C E P T % args iptables manager 
def load network dict try cache db con db D B Connection 'cache.db' cur network list cache db con ' E L E C T F R O Mnetwork timezones if not cur network list update network dict cur network list cache db con ' E L E C T F R O Mnetwork timezones network dict network dict dict cur network list except Exception pass 
def convert group name or id to id group name or id context session context session model Group .filter by id group name or id .first if not result result session model Group .filter by name group name or id .first if not result raise df Invalid '%s %s' % _ 'otfound _ 'roup return result 
def annotate validation results results if isinstance results dict validation resultselse from .utils import Validation Comparatorvalidation Validation Comparator results .compare results results validation 'signing summary {'trivial' 0 'low' 0 'medium' 0 'high' 0} validation auto validation addon can be signed validation if not settings S I G N I N G SERVER validation skip signing warning validation return validation 
@task ignore result True def remove empty groups from mozillians import Group Skillfor model in [roup Skill model mcount Count 'members' .filter mcount 0 .delete
def smartsplit code strings []pos 0while pos < len code if code '"' word ''pos + 1while pos < len code if code '"' breakif code '\\' word + '\\'pos + 1word + code + 1strings.append '"%s"' % word pos + 1return strings 
def  missing raise raise Cluster Error 'neoftheclustersisempty Re 
def delete task name location '\\' if name not in list tasks location return '{0}notfoundin{1}'.format name location pythoncom Co Initialize task service win32com Dispatch 'chedule Service task service Connect task folder task service Get Folder location task folder Delete Task name 0 if name not in list tasks location return Trueelse return False 
def plotting pos nobs a return np 1.0 nobs + 1 - a / nobs - 2 * a + 1
def evidence url user id course key return site prefix + reverse 'certificates html view kwargs {'user id user id 'course id unicode course key } + '?evidence visit 1'
def convert x domain mpl plot bounds mpl max x bounds mpl x dom [mpl plot bounds mpl plot bounds + mpl plot bounds ]plotting width mpl max x bounds - mpl max x bounds x0 mpl x dom - mpl max x bounds / plotting width x1 mpl x dom - mpl max x bounds / plotting width return [x0 x1 
def  read complex float fid tag shape rlims if shape is not None shape shape shape * 2 d  fromstring rows fid tag dtype '>f4' shape shape rlims rlims d d 2] + 1j * d 2] return d 
def  validate args args unpassable types  get unpassable types args if unpassable types msg "argumentsoftype'%s'cannotbepassedtoremoteprofilers"msg % ' '.join t  name   for t in unpassable types raise Type Error msg 
def google has height style if 'height' in style return Truereturn False 
def multipath flush device if not os device return '{0}doesnotexist'.format device cmd 'multipath-f{0}'.format device return   salt  ['cmd.run'] cmd .splitlines
def get configured provider return config provider configured   opts     active provider name   or   virtualname   'user' 'password' 'url'
def valid course modules course module list master course key course chapters get course chapters master course key if course chapters is None return Falsereturn set course module list .intersection set course chapters set course module list 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get repository owner from clone url repository clone url tmp url common util protocol and user from clone url repository clone url return get repository owner tmp url 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
def namespace namespace None Register default namespace namespace or ''
def  device pointer attr devmem attr odata error driver Pointer Get Attribute byref odata attr device ctypes pointer devmem driver error error 'ailedtoquerypointerattribute 
def store Call Results obj verbose False results []oldcall obj  class  .  call  def newcall *args **kwargs result oldcall *args **kwargs results result if verbose print result return resultobj  class  .  call   newcallreturn results 
def get user credentials user credential configuration Credentials Api Config user query {u'status' u u user cache credential configuration cache enabled and not user staff cache key credential configuration C A C H E KEY + u + user if use cache else None credentials get edx api data credential configuration user u querystring user query cache key cache key return credentials 
def make Requests callable args list callback None exc callback None requests []for item in args list if isinstance item tuple requests Work Request callable item item callback callback exc callback exc callback else requests Work Request callable [item] None callback callback exc callback exc callback return requests 
def emotional jenkins registry xml parent data X M L Sub Element xml parent 'org.jenkinsci.plugins.emotional  jenkins Emotional Jenkins Publisher 
def  create unique device link backup id volume path volume id bckup mode if  image mode bckup mode hardlink path utils dev path '%s-%s' % C O N F tsm volume prefix backup id else dir volname os volume path hardlink path '%s/%s-%s' % dir C O N F tsm volume prefix backup id  make link volume path hardlink path volume id return hardlink path 
def test only major dots every line Line show only major dots True x labels major every 3 line 'test' range 12 line labels map str range 12 q line pyquery assert len q '.dots' 4
def test nm2  wrong nn obj ratio 'auto'nn 'rnd'nm2 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS return indices True n neighbors nn assert raises Value Error nm2 sample X Y
def Terminate Instance region instance id ec2  Connect region ec2 instances [instance id 
def test Fixed Locator set params fixed mticker Fixed Locator range 0 24 nbins 5 fixed params nbins 7 assert fixed 7
def  get flaky annotation case method case get test method return getattr method  FLAKY ATTRIBUTE None 
def Patch Os Environ os module os os module Request Local Environ current request 
def escaped Comment data if isinstance data unicode data data 'utf-8' data data '--' '--' .replace '>' '&gt;' if data and data -1 ] '-' data + ''return data 
def  get veths net data if isinstance net data dict net data list net data nics salt Ordered Dict current nic salt Ordered Dict no names Truefor item in net data if item and isinstance item dict item list item [0]elif isinstance item six types sitem item if sitem '#' or not sitem continueelif ' ' in item item tuple [a.strip for a in item ' ' 1 ] if item 'lxc.network.type' current nic salt Ordered Dict if item 'lxc.network.name' no names Falsenics ] current niccurrent nic ] item if no names and current nic nics D E F A U L T NIC] current nicreturn nics 
def parse sphinx searchindex searchindex if hasattr searchindex 'decode' searchindex searchindex 'UTF-8' query 'objects 'pos searchindex query if pos < 0 raise Value Error '"objects "notfoundinsearchindex' sel  select block searchindex ] '{' '}' objects  parse dict recursive sel query 'filenames 'pos searchindex query if pos < 0 raise Value Error '"filenames "notfoundinsearchindex' filenames searchindex pos + len query + 1 ]filenames filenames filenames ']' ]filenames [f.strip '"' for f in filenames ' ' ]return filenames objects 
def open error resource need 'str 1 filename 'errors.rsrc' modname   name  
def group from value groups v sum 0for g p in groups sum sum + p if sum > v return greturn g 
def unescape encoded uri component escaped string return urllib escaped string .decode 'utf-8'
def  double prefix deque new len max len deque * 2 len deque + len deque  merge prefix deque new len 
def get internal endpoint path '' return get endpoint settings E D X N O T E S INTERNAL API path 
def get plugin by name name issued by u if name not in plugins raise Dependency Error issued by issued by missing name message u Unknownplugin % name return plugins 
@docstring.copy dedent Figure def ginput *args **kwargs return gcf .ginput *args **kwargs
def get resource docname resource is list if inspect resource class name resource  name  else class name resource  class  .  name  class name class name 'esource '' docname uncamelcase class name '-' if is list and resource ! resource plural docname '%s-list' % docname return docname 
def tree2conlltags t tags []for child in t try category child prefix u B contents in child if isinstance contents Tree raise Value Error u Treeistoodeeplynestedtobeprintedin Co N L Lformat tags contents contents prefix + category prefix u I Attribute Error tags child child u O return tags 
def tropo from tropo import Tropo Sessiontry s Session request t Tropo try row id s id s3db tropo scratchquery table id row id row db query .select .first t to row network row t row outbox s3db outboxdb outbox row id .update status 2 db query .delete return t Render Json except try message s Textuuid s s fromaddress s fromaddress ''reply msg message message t [reply] return t Render Json except raise HTTP 501 except pass 
def vrrp transmit app monitor name data transmit request vrrp event Event V R R P Transmit Request data app event monitor name transmit request 
def rs cos sin p x prec if rs is puiseux p x return rs puiseux rs cos sin p x prec t rs tan p / 2 x prec t2 rs square t x prec p1 rs series inversion 1 + t2 x prec return rs mul p1 1 - t2 x prec rs mul p1 2 * t x prec 
def kei zeros nt if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'ntmustbepositiveintegerscalar.' return specfun nt 4
def normalize key for search library key return library key version guid None branch None 
def lsb release info return  distro release info 
def security group rule destroy context security group rule id return I M P L group rule destroy context security group rule id 
def test redirect Client .get '/' redirect shortcuts 'home' assert redirect Location ' S 
def basic sent chop data raw True new data []curr sent []sent mark [' ' '.' '?' '!']if raw for word in data if word in sent mark curr sent word new data curr sent curr sent []else curr sent word else for word tag in data if word in sent mark curr sent word tag new data curr sent curr sent []else curr sent word tag return new data 
def read from persistent store return 'apersistentvalue'
def  get repo info alias repos cfg None try meta dict repos cfg or  get configured repos .items alias meta aliasfor key val in six meta if val in ['0' '1'] meta int meta 1 elif val 'NONE' meta Nonereturn metaexcept Value Error configparser No Section Error return {}
def remove compiled application folder try shutil pjoin folder 'compiled' path pjoin folder 'controllers' for file in listdir path '.*\\.pyc$' drop False os file except O S Error pass 
def in  a b msg None assert a in b msg or '%rnotin%r' % a b 
def realpath filename if isabs filename bits ['/'] + filename '/' [1 ] else bits [''] + filename '/' for i in range 2 len bits + 1 component join *bits[0 i if islink component resolved  resolve link component if resolved is None return abspath join * [component] + bits ] else newpath join * [resolved] + bits ] return realpath newpath return abspath filename 
def convert to printable s if is printable s return sreturn ''.join convert char c for c in s 
def  full archive path config obj cli config lineagename if config obj and 'archive dir in config obj return config obj dir return os cli config archive dir lineagename 
def xyz2lab xyz illuminant 'D65' observer '2' arr  prepare colorarray xyz xyz ref white get xyz coords illuminant observer arr arr / xyz ref white mask arr > 0.008856 arr np arr 1.0 / 3.0 arr ~ mask ] 7.787 * arr ~ mask ] + 16.0 / 116.0 x y z arr 0] arr 1] arr 2] L 116.0 * y - 16.0 a 500.0 * x - y b 200.0 * y - z return np [x[... np for x in [L a b axis -1
def display rgb rgb title None import matplotlib as pltplt rgb interpolation u origin u if title plt title plt return plt 
def  convert etree element to topic entry element topic Topic invalid topic Truetopic element entry element './atom content Topic Description  etree sb feed namespaces if topic element is not None mappings [ 'efault Message Time To Live 'default message time to live None 'ax Size In Megabytes 'max size in megabytes int 'equires Duplicate Detection 'requires duplicate detection  parse bool 'uplicate Detection History Time Window 'duplicate detection history time window None 'nable Batched Operations 'enable batched operations  parse bool 'ize In Bytes 'size in bytes int ]for map in mappings if  read etree element topic element map topic map map invalid topic Falseif invalid topic raise Azure Service Bus Resource Not Found  ERROR TOPIC NOT FOUND for name value in  E Tree Xml To Object entry properties from element entry element True .items setattr topic name value return topic 
def generate shell test data target source env target str target testdata open target 'w' for i in range 0 len source 2 print >>testdata os str source source i + 1 ]testdata.close return None 
def submit albums collection id release ids for i in range 0 len release ids SUBMISSION CHUNK SIZE chunk release ids i + SUBMISSION CHUNK SIZE ]mb call musicbrainzngs releases to collection collection id chunk 
def format qiime parameters params header ' I I M Eparameters qiime params [header]for script options in sorted params for option value in sorted options specific option ' '.join [script option if value is None value 'rue line ' DCTB '.join [specific option str value ] qiime params full line return qiime params 
def layer config if settings security map and not s3 has role MAP ADMIN auth layer get vars 'layer' None if layer csv stylesheet 'layer %s.xsl' % layer else csv stylesheet Noneoutput s3 rest controller csv stylesheet csv stylesheet return output 
def  maximal independent set G result set remaining set G while remaining G G remaining v min remaining key G result v remaining - set G | {v} return result 
def get groups with perms obj attach perms False ctype get content type obj if not attach perms group model get group obj perms model obj group rel name group model query name if group model generic group filters { u  content type % group rel name ctype u  object pk % group rel name obj group filters { u  content object % group rel name obj Group **group filters .distinct return groupselse groups {}for group in get groups with perms obj if group not in groups groups sorted get group perms group obj return groups 
def opt factory name default value desc  type help '' tabid '' option klasses {BOOL Bool Option INT Integer Option POSITIVE INT Positive Integer Option FLOAT Float Option STRING String Option URL U R L Option URL LIST U R L List Option IPPORT I P Port Option LIST List Option REGEX Regex Option COMBO Combo Option INPUT FILE Input File Option OUTPUT FILE Output File Option PORT Port Option IP I P Option option klasses type name default value desc  help help tabid tabid 
def Get Available Report Plugins return sorted R E G I S T R Y Get Registered Plugins .itervalues key lambda cls cls  name  
def create task **kwargs owner kwargs 'owner' None if not owner owner User Factory project kwargs 'project' None if project is None project Project Factory owner owner defaults {'project' project 'owner' owner 'status' Task Status Factory project project 'milestone' Milestone Factory project project 'user story User Story Factory project project owner owner }defaults.update kwargs return Task Factory **defaults
def  convert if int value try value int str value except Value Error passreturn value 
def  model2dataframe model endog model exog model type OLS **kwargs model result model type model endog model exog **kwargs .fit statistics pd Series {'r2' model result 'adj r2 model result adj result df pd Data Frame {'params' model result 'pvals' model result 'std' model result 'statistics' statistics fisher df pd Data Frame {'params' {' f test model result 'pvals' {' f test model result pvalue res series pd [result df fisher df .unstack return res series 
def test precision f Plain Text Formatter nt equal f pi repr pi f precision 0if numpy po numpy printoptions nt equal po 0 nt equal f pi '3' f precision 2if numpy po numpy printoptions nt equal po 2 nt equal f pi '3.14' f precision '%g'if numpy po numpy printoptions nt equal po 2 nt equal f pi '3.14159' f precision '%e'nt.assert equal f pi '3.141593e+00' f precision ''if numpy po numpy printoptions nt equal po 8 nt equal f pi repr pi 
def detect changes shippable args git Git args result Shippable Changes args git if result pr job type 'pullrequest'elif result tag job type 'tag'else job type 'mergecommit'display.info 'rocessing % job type result result return result 
@validate labeldef hp pchoice label p options p options list zip *p options n options len options ch scope param label scope p upper n options return scope ch *options
def  run proxy processes proxies ret []for prox  in proxies proxy prox .keys [0]result {}if not   salt  ['salt proxy running proxy ['result']   salt  ['salt proxy proxy proxy start True result 'roxy proxy else msg 'roxy proxy result msglog msg ret result return ret 
def parse subpattern source info flags on flags off saved flags info info | flags on & ~ flags off source space bool info & VERBOSE try subpattern  parse pattern source info source ' ' finally info saved flagssource space bool info & VERBOSE return subpattern 
def validate arguments func args kwargs drop extra True parser  parse signature func args kwargs missing extra extra positional parser args kwargs [ 5]if missing raise Argument Validation Error tuple missing elif extra or extra positional and not drop extra raise Argument Validation Error None extra extra positional return tuple args kwargs 
def rand infiniband guid address guid []for i in range 8 guid '%02x' % random 0 255 return ' '.join guid 
def check Session Type assoc type session type if session type not in get Session Types assoc type raise Value Error 'essiontype % session type assoc type 
def mon quorum **kwargs return ceph cfg quorum **kwargs
def default remote config None if config is None config gitcfg return config u % current branch 
def attrprint d delimiter ' ' return delimiter '"%s" "%s"' % item for item in sorted d 
def  populate security checks if not  security checks  security checks check Executable Code Check security checks check Allowed Hosts Check 
def setup logging options None level logging D E B U G if options is not None and options else logging W A R N I N G console logging Stream Handler console Level level formatter logging Formatter u name s % levelname -8s% message s console Formatter formatter logging Logger u .evel level logging Logger u .andler console 
def unicode sorter input key1 input key1 key1 u u key1 key1 u u key1 key1 u u key1 key1 u u return key1 
def  segment pattern indexname return re '  %s [0-9]+ \\..*' % indexname 
def image colorize original randomize True color 255 255 255 original Image String I O String I O original image Image 'RGB' original if randomize color randrange 32 224 24 randrange 32 224 24 randrange 32 224 24 image color box 0 0 + original image original mask original buffer String I O String I O image buffer 'PNG' return buffer 
def get Vector3 From X M L Element xml Element vector3 Vector3 get Evaluated Float Default 0.0 'x' xml Element get Evaluated Float Default 0.0 'y' xml Element get Evaluated Float Default 0.0 'z' xml Element return get Cumulative Vector3 '' vector3 xml Element 
def  safe quote val SAFE QUOTE CHARS '/.?& 'try ret urllib val safe SAFE QUOTE CHARS except Key Error ret urllib val 'utf-8' safe SAFE QUOTE CHARS return ret 
def get namespace choices return NAMESPACE CHOICES
def prepend to setting setting name value values getattr settings setting name value type values value setattr settings setting name value + values 
def get application model try app label model name oauth2 settings A P P L I C A T I O N M O D E L u except Value Error e u A P P L I C A T I O N M O D E Lmustbeoftheform label name Improperly Configured e app model apps model app label model name if app model is None e u A P P L I C A T I O N M O D E Lreferstomodel Improperly Configured e oauth2 settings A P P L I C A T I O N MODEL return app model 
def  cherry pick call func *args **dargs p args p dargs  cherry pick args func args dargs return func *p args **p dargs 
def booted context None contextkey 'salt.utils.systemd.booted'if isinstance context dict if contextkey in context return context context is not None raise Salt Invocation Error 'contextmustbeadictionaryifpassed' try ret bool os '/run/systemd/system' except O S Error ret Falsetry context retexcept Type Error passreturn ret 
def establish connection ip username '' password '' remote conn pre paramiko S S H Client remote conn pre missing host key policy paramiko Auto Add Policy remote conn pre ip username username password password look for keys False allow agent False remote conn remote conn pre shell output remote conn 65535 return remote conn pre remote conn output 
def make query from filter sample filter require meter True return make query sample filter sample filter sample filter sample filter sample filter sample filter sample filter require meter 
def parse config file path final True return options config file path final final 
def strip dev device name return  dev '' device name if device name else device name 
def test iht init ratio 'auto'iht Instance Hardness Threshold ESTIMATOR ratio ratio random state RND SEED assert equal iht ratio assert equal iht state RND SEED
def get random color alpha 1.0 from random import randomif alpha 'random' return [random random random random ]else return [random random random alpha 
def make sample data items frappe all u Item {u'is sales item 1} customers frappe all u Customer warehouses frappe all u Warehouse if items and customers for i in range 3 customer random customers .namemake opportunity items customer make quote items customer make projects if items and warehouses make material request frappe all u Item frappe 
def on content type handlers default None error 'herequestedcontenttypedoesnotmatchanyofthoseallowed def output type data request response handler handlers request type ';' [0] default if not handler raise falcon H T T P Not Acceptable error response type handler typereturn handler data request request response response output type  doc   'upportsanyofthefollowingformats {0}'.format ' '.join function  doc   for function in handlers output type type ' '.join handlers return output type 
def deprecated version replacement None def deprecation Decorator function 'ecoratorthatmarks C String get Deprecation Warning String function version None replacement @wraps function def deprecated Function *args **kwargs warn warning String Deprecation Warning stacklevel 2 return function *args **kwargs  append To Docstring deprecated Function  get Deprecation Docstring version replacement deprecated Function Version versionreturn deprecated Functionreturn deprecation Decorator 
def cloudnetwork vm  return config cloud config value 'cloudnetwork' vm    opts   default False search global False 
def run hive script script if not os script raise Runtime Error 'ivescript {0}doesnotexist.'.format script return run hive ['-f' script 
def chown path owner execute 'chown' owner path run as root True 
def two step backprop mlp raise Not Implemented Error 'TODO implementthisfunction 
def oo haproxy backend masters hosts port servers []for idx host info in enumerate hosts server dict name 'master%s' % idx server ip host info '%s %s' % server ip port server 'check'servers.append server return servers 
def Message Encoder field number is repeated is packed tag Tag Bytes field number wire format W I R E T Y P E LENGTH DELIMITED local Encode Varint  Encode Varintassert not is packed if is repeated def Encode Repeated Field write value for element in value write tag local Encode Varint write element Byte Size element Internal Serialize write return Encode Repeated Fieldelse def Encode Field write value write tag local Encode Varint write value Byte Size return value Internal Serialize write return Encode Field 
def  csrtodok csr smat {} A JA IA shape csrfor i in range len IA - 1 indices slice I A IA[ i + 1 ] for l m in zip A J A smat i m ] lreturn Sparse Matrix * shape + [smat]
def cosine transform f x k **hints return Cosine Transform f x k .doit **hints
def  check files limits files for fileinput id in files inputfiles files fileinput id if len inputfiles > settings M A X FILEUPLOADS PER INPUT msg 'ubmissionaborted Maximum % settings M A X FILEUPLOADS PER INPUT return msgfor inputfile in inputfiles if inputfile > settings S T U D E N T FILEUPLOAD MAX SIZE msg 'ubmissionaborted Yourfile maxsize % B ' % inputfile settings S T U D E N T FILEUPLOAD MAX SIZE / 1000 ** 2 return msgreturn None 
def dict dir obj ns {}for key in dir2 obj try ns getattr obj key except Attribute Error passreturn ns 
def  fix up private attr clsname spec out Ordered Dict for k v in spec if k '__' and not k '__' k '_' + clsname + k out vreturn out 
def test grouped item access T1 for masked in False True t1 Table T1 masked masked tg t1 by 'a' tgs tg 'a' 'c' 'd' ]assert np tgs tg assert np tgs tg tgsa tgs np assert tgsa ['acd' '----------' '00.04' '16.018' '222.06'] tgs tg 'c' 'd' ]assert np tgs tg assert np tgs tg tgsa tgs np assert tgsa ['cd' '-------' '0.04' '6.018' '22.06']
def libdoc cli arguments Lib Doc .execute cli arguments 
def  unhandled mock read filename raise Command Execution Error 'nhandledmockreadfor filename 
def get trail by arn cloudtrail client trail arn trails cloudtrail client trails [ist trail in trails if trail 'rail A R N None trail arn return trailraise Value Error 'trailcouldnotbefoundfor % trail arn 
def get Node template context Context name 'subject' for node in template if isinstance node Block Node and node name return node context elif isinstance node Extends Node return get Node node context name raise Exception "ode % name 
def inspect response response spider Shell spider .start response response 
def solve rational inequalities eqs result S Empty Setfor  eqs in eqs if not  eqs continueglobal intervals [nterval S Negative Infinity S Infinity ]for numer denom rel in  eqs numer intervals solve poly inequality numer * denom rel denom intervals solve poly inequality denom ' ' intervals []for numer interval in numer intervals for global interval in global intervals interval numer interval global interval if interval is not S Empty Set intervals interval global intervals intervalsintervals []for global interval in global intervals for denom interval in denom intervals global interval - denom intervalif global interval is not S Empty Set intervals global interval global intervals intervalsif not global intervals breakfor interval in global intervals result result interval return result 
def pluck ind seqs default no default if default no default get getter ind return map get seqs elif isinstance ind list return tuple  get item seq default for item in ind for seq in seqs return  get ind seq default for seq in seqs 
def generate Classification Data size n Classes 3 if n Classes 3 means [ -1 0 2 4 3 1 ]else means [ -2 0 2 1 6 0 ]cov [diag [1 1] diag [0.5 1.2] diag [1.5 0.7] ]dataset Classification Data Set 2 1 nb classes n Classes for _ in range size for c in range 3 input multivariate normal means cov dataset Sample input [ c % n Classes ] dataset Classes return dataset 
def Check Entity request trusted request app id entity Check Reference request trusted request app id entity False for prop in entity list Check Property request trusted request app id prop for prop in entity property list Check Property request trusted request app id prop indexed False 
def define file file descriptor module None if module is None module new file descriptor for enum descriptor in file descriptor types or [] enum class define enum enum descriptor module  name   setattr module enum descriptor enum class for message descriptor in file descriptor types or [] message class define message message descriptor module  name   setattr module message descriptor message class for service descriptor in file descriptor types or [] service class define service service descriptor module setattr module service descriptor service class return module 
@cacheitdef  remove multiple delta expr from sympy import solveif expr Add return expr *list map  remove multiple delta expr if not expr Mul return expreqs []newargs []for arg in expr if isinstance arg Kronecker Delta eqs arg - arg else newargs arg if not eqs return exprsolns solve eqs dict True if len solns 0 return S Zeroelif len solns 1 for key in solns newargs Kronecker Delta key solns expr2 expr *newargs if expr ! expr2 return  remove multiple delta expr2 return expr 
def from flags flags ednsflags value flags & 15 | ednsflags >> 20 & 4080 if value < 0 or value > 4095 raise Value Error 'rcodemustbe> 0and< 4095' return value 
def chgrp path group func name '{0}.chgrp'.format   virtualname   if   opts  .get 'fun' '' func name log 'hefunction Windowssystems func name log 'win file Doingnothingfor func name path return None 
def unfreeze name quiet False path None data  do names name 'unfreeze' path path if data and not quiet   jid event  .fire event {'data' data 'outputter' 'lxc resume 'progress' return data 
def out of date original derived return not os derived or os original and os derived .st mtime < os original .st mtime 
def is server error status return 500 < status < 599
def get gcc shared library arg if sys 'darwin' return '-dynamiclib'else return '-shared'
def latest package name distro 'trusty' latest minor version latest release version [ 3]return 'python-ckan {version}-{distro} amd64 version latest minor version distro distro 
def  explain exception start -1 stop None prefix '>' etype value tb sys info string traceback list traceback tb tb [start stop string ''.join string .split '\n' + traceback exception only etype value string ' \n' + prefix + '\n' + prefix .join string return string 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def message warning text title None informative text None details None buttons None default button None exc info False parent None if not text import randomtext candidates [eathcouldcomeatanymoment 'urphylurksabout Remembertosavefrequently random text candidates if title is not None title 'arning message Q Message Box Warning text title informative text details buttons default button exc info parent 
def translate syntax error error source None error sourceerror Trueexc info error  class   error None filename error filename is None filename '<unknown>'return fake exc info exc info filename error 
def security group rule get by security group context security group id return I M P L group rule get by security group context security group id 
def whitespace around keywords logical line for match in KEYWORD R E G E X logical line before after match if ' DCTB ' in before yield match 1 '274tabbeforekeyword elif len before > 1 yield match 1 '272multiplespacesbeforekeyword if ' DCTB ' in after yield match 2 '273tabafterkeyword elif len after > 1 yield match 2 '271multiplespacesafterkeyword 
def classify saves saves period start def retain oldest in region region prev Nonefor save in region if prev yield False prev prev saveif prev yield True prev matches rest partition lambda s s > period start saves for save in matches yield True save tm ranges period start lambda s localtime s .tm yday period start lambda s localtime s .tm mon period start lambda s localtime s .tm year for pstart time region id in tm ranges matches rest partition lambda s s > pstart rest for region id region saves in groupby matches time region id for action in retain oldest in region region saves yield action for save in rest yield False save 
def cos mat target None if not target target materr code  cudamat cos mat mat target mat if err code raise generate exception err code return target 
def remove group type access context group type id project id if group type id is None msg _ 'group type idcannotbe None raise exception Invalid Group Type reason msg elevated context if context admin else context if is public group type elevated group type id msg _ 'ypeaccessmodificationisnotapplicabletopublicgrouptype raise exception Invalid Group Type reason msg return db type access remove elevated group type id project id 
def rndstr size 16 alphabet '' rng random System Random if not alphabet alphabet string 52] + string return str .join rng alphabet for _ in range size 
def gompertz x A u d v y0 y A * np - np u * np / A * d - x + 1 + y0 return y 
def start Logging With Observer observer set Stdout 1 the Log Publisher start Logging observer set Stdout msg 'ogopened 
def  normpath p initial dotslash p os + os initial dotslash | xp O N WINDOWS and p os + os p p trailing slash p os trailing slash | xp O N WINDOWS and p os p os p if initial dotslash and p ! '.' p os os p if trailing slash p os p '' if xp O N WINDOWS and builtins  xonsh env  .get 'FORCE POSIX PATHS' p p os os return p 
def get mock hadoop output output dir get mock dir 'output' dirnames sorted os output dir if dirnames return os output dir dirnames else return None 
def disable signal module signal return patch module signal new Signal 
@pytest.mark.skipif ' A S YAML' def test round trip empty table t Table dtype [bool 'i' 'f'] names ['a' 'b' 'c'] out String I O t out format 'ascii.ecsv' t2 Table out format 'ascii.ecsv' assert t t2 assert len t2 0
def  get django admin bin env if not bin env if salt 'django-admin.py' return 'django-admin.py'elif salt 'django-admin' return 'django-admin'else raise salt Command Execution Error ' A T H if os os bin env 'bin' 'django-admin.py' return os bin env 'bin' 'django-admin.py' return bin env 
def autostrip cls fields [ key value for key value in cls fields if isinstance value forms Char Field ]for field name field object in fields def get clean func original clean return lambda value original clean value and value clean func get clean func getattr field object 'clean' setattr field object 'clean' clean func return cls 
@register.filter is safe True def gfm value html markdown value extensions ['mdx gfm return mark safe html 
def contains partial haystack needle if not isinstance haystack Element haystack parse html haystack if not isinstance needle Element needle parse html needle if needle haystack and set needle .issubset haystack return Truereturn any contains partial child needle for child in haystack if isinstance child Element 
def setup and run from ninja ide import corefrom ninja ide import ninja resourcesfrom multiprocessing import freeze supportfreeze support core ninja 
def html params **kwargs params []for k v in sorted iteritems kwargs if k in u ' u  ' u ' k k -1 ]if v is True params k else params u "%s"' % text type k escape text type v quote True return u params 
def wait for interface status client server port id status body client interface server port id [ttachment status body state int time while interface status ! status time client interval body client interface server port id [ttachment status body state out int time - start > client timeout if interface status ! status and timed out message 'nterface current withintherequiredtime %ss .' % port id status interface status client timeout raise lib exc Timeout Exception message return body 
@dispatch Expr Mongo Query def post compute e q scope None scope {'$project' toolz {' id 0} dict col 1 for col in e }q q scope if not e result get result q list q [0]if isscalar e return result name return get e result dicts get result q list q if isscalar e return list pluck e dicts default None else return list pluck e dicts default None 
def  get disk of partition devpath st None diskpath re ' ? ?< \\d p ?\\d+$' '' devpath if diskpath ! devpath try st disk os diskpath if stat S ISBLK st disk mode return diskpath st disk except O S Error passif st is None st os devpath return devpath st 
def list cache subnet groups region None key None keyid None profile None return [ache Subnet Group Name for g in describe cache subnet groups None region key keyid profile ]
def dispatch aliases app current appaliases map app 'ALIASES MAP' if aliases map and request in aliases map alias aliases map alias 'status' 200 if alias type 'endpoint' endpoint alias alias 'action' 'redirect' return redirect url for endpoint **request.args else return app response app response app functions elif alias type 'long slug long slug alias alias 'action' 'redirect' return redirect long slug else endpoint route from long slug [0]return app response app response app functions elif alias type 'url' return redirect alias elif alias type 'string' return render template string alias status elif alias type 'template' return render template alias status 
def policy task instance pass 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
@treeio login requireddef ajax ticket lookup request response format 'html' tickets []if request G E T and 'term' in request G E T tickets Ticket name  icontains request G E T [ 10]return render to response 'services/ajax ticket lookup {'tickets' tickets context instance Request Context request response format response format 
def  multi send method context topic msg timeout None envelope False  msg id None conf C O N F L O G _ '% msg s % {'msg' ''.join map pformat topic msg } queues  get matchmaker .queues topic L O G _ 'endingmessage s to %s' queues if len queues 0 L O G _ 'omatchmakerresults Notcasting raise rpc common Timeout _ 'omatchfrommatchmaker for queue in queues  topic ip addr queue addr 'tcp //%s %s' % ip addr conf zmq port if method  name   ' cast eventlet n method  addr context  topic msg timeout envelope  msg id returnreturn method  addr context  topic msg timeout envelope 
def column indices text string indices range len text for index in find combining chars text string indices Nonereturn [i for i in string indices if i is not None ]
def gettext message return do translate message u 
def  write raw buffer fid buf cals fmt if buf ! len cals raise Value Error 'bufferandcalibrationsizesdonotmatch' if fmt not in ['short' 'int' 'single' 'double'] raise Value Error 'fmtmustbe"short" "single" or if np buf if fmt 'short' write function write dau pack16elif fmt 'int' write function write intelif fmt 'single' write function write floatelse write function write doubleelif fmt 'single' write function write complex64elif fmt 'double' write function write complex128else raise Value Error 'only"single"and"double"supportedforwritingcomplexdata' buf buf / np cals [ None write function fid FIFF.FIFF DATA BUFFER buf 
def col retrieve fid uid url build url RESOURCE id fid route 'col' params make params uid uid return request 'get' url params params 
def frange *args if all is integer arg for arg in args return list range *args start stop step  get start stop step args digits max  digits start  digits stop  digits step factor pow 10 digits return [ x / float factor for x in range roundup start * factor roundup stop * factor roundup step * factor ]
def notification factory code subcode notification B G P Notification code subcode if not notification raise Value Error 'nvalidcode return notification 
@receiver post save sender User Profile def user profile post save callback sender **kwargs user profile kwargs field changed events user profile user profile sender meta table excluded fields ['meta']
@handle response format login required process mass opportunity formdef opportunity index assigned request response format 'html' query Q status  hidden False assigned request if request G E T if 'status' in request G E T and request G E T query  get filter query request G E T else query query &  get filter query request G E T statuses Object by request request Sale Status mode 'r' opportunities Object by request request Opportunity query mode 'r' filters Opportunity Filter Form request '' request G E T massform Opportunity Mass Action Form request return render to response 'sales/opportunity index assigned {'opportunities' opportunities 'filters' filters 'massform' massform 'statuses' statuses context instance Request Context request response format response format 
def convert otu table relative otu table sample ids otu ids otu counts consensus otu tableotu counts asarray otu counts float otu counts otu counts / otu counts otu counts where isnan otu counts 0.0 otu counts return sample ids otu ids otu counts consensus 
def test prefit clf S G D Classifier alpha 0.1 n iter 10 shuffle True random state 0 model Select From Model clf model data y X transform model data clf data y model Select From Model clf prefit True assert array equal model data X transform model Select From Model clf prefit False model data y assert array equal model data X transform model Select From Model clf prefit True assert raises Value Error model data y 
def dup rem f g K return dup div f g K [1]
def rename variables fstruct vars None used vars new vars None fs class u if fs class u fs class  default fs class fstruct if new vars is None new vars {}if vars is None vars find variables fstruct fs class else vars set vars used vars find variables fstruct fs class .union used vars return  rename variables copy fstruct vars used vars new vars fs class set 
def other types on host host state instance type id host instances host state host types set [inst.instance type id for inst in host instances inst set set [instance type id return bool host types - inst set 
def  get Writers reactor if I Reactor F D Set By reactor return reactor Writers elif 'IOCP' in reactor  class  .  name   return reactor raise Exception 'annotfindwriterson % reactor 
def isdatadescriptor object return hasattr object '  set  ' and hasattr object '  get  '
def at webserver root creation web root return web root 
def get Clock Show Date **kwargs  gsession  G Settings user kwargs 'user' schema 'org.gnome.desktop.interface' key 'clock-show-date' return  gsession get 
@frappe.whitelist def load messages language frappe cache set default language get language code language m get dict u u for path in frappe hooks u wizard requires js file path os frappe site path u *path.strip u .split u m get dict u js file path m get dict u send translations m return frappe 
def Verify Password user cleartext pwd expected Get Password user hashed  Hash Password cleartext pwd expected expected 'salt' if hashed ! expected raise O T P Exception 'nteredusername 
def console get all by instance context instance uuid return I M P L get all by instance context instance uuid 
def  validate labels labels l len labels total 0i -1 j 0for label in labels ll len label total + ll + 1 if ll > 63 raise Label Too Longif i < 0 and label '' i jj + 1if total > 255 raise Name Too Longif i > 0 and i ! l - 1 raise Empty Label 
def setsemod module state if state 'enabled' cmd 'semodule-e{0}'.format module elif state 'disabled' cmd 'semodule-d{0}'.format module return not   salt  ['cmd.retcode'] cmd 
def instance tag add context instance uuid tag return I M P L tag add context instance uuid tag 
def test wikipedia is dominating set G nx graph 4 G edges from [ 0 4 1 4 2 5 ] assert true nx dominating set G set [4 3 5] assert true nx dominating set G set [0 2] assert true nx dominating set G set [1 2]
@register.filter name 'user location def parse location user path ''try membership user Membership Does Not Exist return ''if membership path + '%s' % membership if membership if membership path + ' 'path + '%s' % membership if membership if membership path + ''elif membership path + ' 'path + '%s' % membership return path 
def launch url wait False locate False from . termui impl import open urlreturn open url url wait wait locate locate 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def  onenormest product operator seq t 2 itmax 5 compute v False compute w False structure None return scipy Product Operator structure structure *operator seq 
def build filter properties scheduler hints forced host forced node instance type filter properties dict scheduler hints scheduler hints filter properties type instance typeif forced host filter properties hosts [forced host forced node filter properties nodes [forced node filter properties 
def add openid simple registration request response data sreg data {}sreg request sreg S Reg Request Open I D Request request sreg fields sreg request Requested Fields if sreg fields for field in sreg fields if field 'email' and 'email' in data sreg data data field 'fullname' and 'fullname' in data sreg data data field 'nickname' and 'nickname' in data sreg data data response sreg S Reg Response Response sreg request sreg data sreg response Message response 
def yiq2rgb yiq return  convert rgb from yiq yiq 
@register.inclusion tag 'bootstrap/progress bar def bs progress bar *args **kwargs bars []contexts kwargs 'contexts' ['' 'success' 'info' 'warning' 'danger'] for ndx arg in enumerate args bars dict percent arg context kwargs 'context' contexts ndx % len contexts ] return {'bars' bars 'text' kwargs 'text' False 'striped' kwargs 'striped' False 'animated' kwargs 'animated' False 'min val kwargs 'min val 0 'max val kwargs 'max val 100 }
@app.route '/links/<int n offset def link page n offset n min max 1 n 200 link "<ahref '{0}'>{1}</a>"html [inks i in xrange n if i offset html '{0}'.format i else html link url for 'link page n n offset i i html '</body></html>' return ''.join html 
def show Unicode Warning show Warning _ 'electedfilewasnotin U T F Pleaseseetheimportingsectionofthemanual 
def adjust sigmoid image cutoff 0.5 gain 10 inv False  assert non negative image dtype image float dtype limits image True [1] - dtype limits image True [0] if inv out 1 - 1 / 1 + np gain * cutoff - image / scale * scale return dtype out out 1 / 1 + np gain * cutoff - image / scale * scale return dtype out 
def run Hook hook *args hook  hooks hook None if hook for func in hook func *args
def is Carbon Tk assert  tk type is not None return  tk type 'carbon'
def get bound method weakref target on delete if hasattr target '  get  ' return Bound Method Weakref target target on delete on delete else return Bound Non Descriptor Method Weakref target target on delete on delete 
def remove empty line content r re '^\\s+$' re M | re S s r '' content r re '\\n+' re M | re S s r '\n' s return s 
def  get xblock parent xblock category None parent xblock parent if parent and category if parent category return parentelse return  get xblock parent parent category return parent 
def  logn n x out None if out is None return np x / np n else np x out out np divide out np n out out return out 
def  Append Filters For M S Build parent filter name sources rule dependencies extension to rule name filter group source group for source in sources if isinstance source M S V S Project Filter if not parent filter name filter name source filter name '%s\\%s' % parent filter name source filter group [ilter {nclude filter name [nique Identifier M S V S New Make Guid source ]]  Append Filters For M S Build filter name source rule dependencies extension to rule name filter group source group else _ element  Map File To Ms Build Source Type source rule dependencies extension to rule name source entry [element {nclude source parent filter name source entry [ilter parent filter name source group source entry 
def Internal Error message None if message return  Internal Error message elif ctx 'app stack return ctx stack -1 ].internalerror else return  Internal Error 
def expires name return  expires name .isoformat
def run setup py cmd pypath None path None data stream 0 env None if env is None env dict for envname in os env os pypath is not None env P Y T H O N P A T H pypathif path is not None env P A T H pathif not env 'PATH' '' env P A T H  which dirs 'tar' .union  which dirs 'gzip' env P A T H os env P A T H cmd [sys.executable 'setup.py'] + list cmd try proc  Popen cmd stdout  PIPE stderr  PIPE shell sys 'win32' env env data proc [data stream O S Error return 1 '' if hasattr data 'decode' data data data unicodedata 'NFC' data return proc data 
def  get deterministic value for table name table name max value return hash table name % max value 
def carmichael of factorized f list if len f list < 1 return 1result carmichael of ppower f list for i in range 1 len f list result lcm result carmichael of ppower f list return result 
def unix time from uuid1 uuid arg return uuid arg - 122192928000000000 / 10000000.0
def attach closed milestones queryset as field 'closed milestones attr model queryset ' E L E C T C O U N T milestones milestone \ R O Mmilestones milestone W H E R Emilestones milestone id { N D milestone True sql tbl model meta table queryset queryset select {as field sql return queryset 
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def render table header row data table [header row + data max lens [max len compat str v for v in col for col in zip *table ]format str u u + compat str ml + 1 + u for ml in max lens -1 ] + u return u format str % tuple row for row in table 
def canonicalize app pagename templatename context doctree if not app root returncontext  build url app root app branch pagename 
def  format master service conn type private unpriv chroot wakeup maxproc command if private 'y' private '-'if unpriv 'y' unpriv '-'if chroot 'y' chroot '-'if wakeup 'n' wakeup '-'maxproc str maxproc if maxproc '100' maxproc '-'conf line '{0 9s}{1 5s}{2 7s}{3 7s}{4 7s}{5 7s}{6 7s}{7}'.format service conn type private unpriv chroot wakeup maxproc command return conf line 
def mw t x y continuity True two sided True u pval mannwhitneyu x y continuity if two sided return u 2.0 * pval else return u pval 
def servicegroup exists sg name sg type None **connection args sg  servicegroup get sg name **connection args if sg is None return Falseif sg type is not None and sg type ! sg servicetype return Falsereturn True 
def show compilers from distutils getopt import Fancy Getoptcompilers []for compiler in compiler class compilers 'compiler ' + compiler None compiler class compilers pretty printer Fancy Getopt compilers pretty printer help 'istofavailablecompilers '
def  get package info module package env None if env opt dirs [ '%s/bin' % env ]else opt dirs []python bin module bin path 'python' False opt dirs if python bin is None formatted dep Noneelse rc out err module command [python bin '-c'  SPECIAL PACKAGE C H E C K E R S if rc formatted dep Noneelse formatted dep '%s %s' % package out return formatted dep 
def sequence case data left right return merged clips data seq data left > right new seq seq else new seq ''.join seq left - 1 ].lower seq left - 1 right seq ].lower return new seq 
def store response resp response dict if response dict is not None response dict resp dict resp dict resp header dict resp 
def disk partitions all False result [dict partition asdict for partition in psutil partitions all ]return result 
def test nm3 fit sample auto ratio 'auto'nm3 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS X resampled y resampled nm3 sample X Y X gt np [[0.91464286 1.61369212] [ -0.80809175 -1.09917302 ] [ -0.20497017 -0.26630228 ] [1.17737838 -0.2002118 ] [ -0.60413357 0.24628718] [0.03142011 0.12323596] [1.15157493 -1.2981518 ] [ -0.54619583 1.73009918] [0.99272351 -0.11631728 ]] y gt np [0 0 0 1 1 1 2 2 2] assert array equal X resampled X gt assert array equal y resampled y gt 
def has comments in diffsets excluding review diffset pair if not review return False current diffset interdiff diffset pairq Diff Set files  comments  review review q q files  comments  interfilediff  isnull True .distinct if not interdiff q q pk current diffset if q > 0 return Trueq Diff Set files  comments  review review q q files  comments  interfilediff  isnull False if interdiff q q pk current diffset files  comments  interfilediff  diffset interdiff return q > 0
def compare arrays left right return left is right or left right and left right .all
def user data dir appname None appauthor None version None roaming False if system 'win32' if appauthor is None appauthor appnameconst roaming and 'CSIDL APPDATA' or 'CSIDL LOCAL APPDATA' path os  get win folder const if appname if appauthor is not False path os path appauthor appname else path os path appname elif system 'darwin' path os 'ibrary Application Support if appname path os path appname else path os 'XDG DATA HOME' os '~/.local/share' if appname path os path appname if appname and version path os path version return path 
def  set tz values tz preserve UTC False coerce False if tz is not None name getattr values 'name' None values values tz tslib timezone  ensure decoded tz values Datetime Index values name name if values is None values values localize 'UTC' .tz convert tz if preserve UTC if tz 'UTC' values list values elif coerce values np values dtype '8 return values 
def Entity Kind key if key .element list return key .element list [ -1 ].type else return ''
def format jid instance jid job ret format job instance job ret {tart Time jid to time jid } return ret 
def call action action name context None **kwargs if context is None context {}context.setdefault 'user' '127.0.0.1' context 'ignore auth True return logic action action name context context data dict kwargs 
def compare Mark Pos a b linecmp cmp a b if linecmp return linecmpreturn cmp a b 
def interval decode s time 0sign 1s s if s '-' s s ]sign -1 elif s '+' s s ]for match in all Matches s  time R E char match 0 [ -1 ].lower if char not in time Values continuetime + int match 0 [ -1 ] * time Values return time 
def  get none or value value if value is None return Noneelif not value return valueelif isinstance value six types if value 'none' return Nonereturn valueelse return None 
def get limit choices to from path model path fields get fields from path model path fields remove trailing data field fields limit choices to fields and hasattr fields -1 ] u and getattr fields -1 ].rel u choices to None if not limit choices to return models Q elif isinstance limit choices to models Q return limit choices toelse return models Q **limit choices to 
def get sentence start with lorem False return  G E N E R A T O R sentence start with lorem [ -1 ]
def is ascii encoding encoding try return codecs encoding .name 'ascii' except Lookup Error return False 
def add T Z Cleanup test Case tz In environ 'TZ' None @ase Cleanupdef reset T Z set T Z tz In 
def string contains surrogates ustring for c in map ord ustring if c > 65535 return Trueif 55296 < c < 57343 return Truereturn False 
def quota destroy context project id resource return I M P L destroy context project id resource 
def setup app app role 'rfc' rfclink return 
def walksymlinks top topdown True onerror None for dirpath dirnames filenames in os top topdown onerror if topdown yield dirpath dirnames filenames symlinks filter lambda dirname os os dirpath dirname dirnames for s in symlinks for x in walksymlinks os dirpath s topdown onerror yield x if not topdown yield dirpath dirnames filenames 
def rfc2822 format val if isinstance val six types return valelif isinstance val datetime datetime val time val if isinstance val numbers Number return email val else return val 
def say hello name None if name is None name u Stranger u Hithere %s!' % name 
def Parse Flags resp mo Flags resp if not mo return return tuple mo 'flags' .split
def check repo or die path None guess repo path top repo pst stat if exists top + '/objects/pack' if pst and stat S ISDIR pst mode returnif not pst top st stat if exists top if not top st log 'error repository see \n' % top sys 15 log 'error %risnotarepository\n' % top sys 14
def issues on owner repository milestone None state None assignee None mentioned None labels None sort None direction None since None number -1 etag None if owner and repository return gh on owner repository milestone state assignee mentioned labels sort direction since number etag return iter []
def object hook ob  len len  keys  keys  first three chars np [ 3]  converters  converters if  len ob ! 1 return decode ob key  keys ob [0]if key first three chars ! '__!' return obreturn  converters ob 
def user to uid user if user is None user salt user try if isinstance user int return userreturn pwd user .pw uidexcept Key Error return ''
def log statsd event name event name 'events.%s' % name statsd event name 
def ensure directory containing path ensure directory os path 
def  node default '' try import socketexcept Import Error return defaulttry return socket except socket return default 
def load include path paths for path in paths if not os path continueif path not in sys sys 1 path for f in os path fpath os path f if os fpath load include path [fpath]
def convert to id fields data table field name for item in data item field name + ' id ] item name item name 
def test derived cols from lists kw test data ds Chart Data Source data y test data data assert ds ['a' 'b']
def test solve discrete lyapunov complex A np [[ 0.5 + 0.3j 0.1 + 0.1j ] [1 0]] B np 2 X qme discrete lyapunov A B assert allclose np np A X A .transpose - X - B atol 1e-15
def zerofree randstring l tmp map lambda x struct 'B' random 1 256 1 [''] * l return ''.join tmp 
def set vif host backend direct config conf devname mode 'passthrough' conf type 'direct'conf.source mode modeconf dev devnameconf 'virtio'
def test Linear Locator set params loc mticker Linear Locator numticks 2 loc params numticks 8 presets { 0 1 []} assert loc 8 assert loc { 0 1 []}
@with setup state state def test subunit output unicode state [ncludes {'status' 'success'} Includes {'status' 'fail' 'details' Includes {'traceback' Content Contains 'given my daemi that blows a exception } } ]runner Runner feature name 'unicode traceback enable subunit True runner 
def TR3 rv from sympy import signsimpdef f rv if not isinstance rv Trigonometric Function return rvrv rv signsimp rv if rv - S Pi / 4 .is positive is S Pi / 2 - rv .is positive is True fmap {cos sin sin cos tan cot cot tan sec csc csc sec fmap S Pi / 2 - rv return rvreturn bottom up rv f 
def consistencygroup get context consistencygroup id return I M P L get context consistencygroup id 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def  subdivide interval by date start end if start end date to secs {start.date  to secs end - start }else date to secs {}date to secs ]  to secs datetime start start start + timedelta days 1 - start date to secs ]  to secs end - datetime end end end cur date start + timedelta days 1 while cur date < end date to secs date  to secs timedelta days 1 cur date + timedelta days 1 date to secs dict d secs for d secs in date to secs if secs return date to secs 
def get Tetragrid Times Other first Tetragrid other Tetragrid if first Tetragrid None return other Tetragridif other Tetragrid None return first Tetragridtetragrid Times Other []for row in xrange 4 matrix Row first Tetragrid Times Other Row [imes Other tetragrid Times Other Row for column in xrange 4 dot Product 0for element Index in xrange 4 dot Product + matrix Row Index * other Tetragrid Index tetragrid Times Other Row dot Product return tetragrid Times Other 
def get zone zone id profile conn  get driver profile profile return conn zone zone id 
def create file watcher pl watcher type u expire time 10 if watcher type u pl u Usingrequestedstat prefix u return Stat File Watcher if watcher type u pl u Usingrequestedinotifywatcher prefix u return I Notify File Watcher expire time expire time elif watcher type u pl u Usingrequesteduvwatcher prefix u return Uv File Watcher if sys u try pl u Tryingtouseinotifywatcher prefix u return I Notify File Watcher expire time expire time except I Notify Error pl u Failedtocreateinotifywatcher prefix u try pl u Usinglibuv return Uv File Watcher except Uv Not Found pl u Failedtoimportpyuv pl u Usingstat return Stat File Watcher 
def setup module map  cache cache if conf name local modules  cache value u modules local app  cache value u app if not local modules and local app local app local modules {} {} for app in get all apps True if app u app u modules app [] for module in get module list app module scrub module local app applocal modules module if conf name  cache value u modules local modules  cache value u app local app 
def list max show all changelist try from django import MAX SHOW ALL A L L O W E Dreturn MAX SHOW ALL A L L O W E Dexcept Import Error return changelist max show all 
def make array flat cls flatiterty return  make flattening iter cls flatiterty 'flat'
def group models by index backend models indices {}models by index collections Ordered Dict for model in models index backend index for model model if index indices index index models by index index [] models by index model return collections Ordered Dict [ indices name index models for index name index models in models by index ]
def  nbytes full fmt nlines return fmt * fmt + 1 * nlines - 1
def compare scores earned1 possible1 earned2 possible2 percentage1 float earned1 / float possible1 percentage2 float earned2 / float possible2 is higher percentage2 > percentage1 return is higher percentage1 percentage2 
def fibs n result [0 1]for i in range n - 2 result result -2 ] + result -1 ] return result 
def get sorted fields doctype custom fields fields dict frappe meta doctype .get u standard fields count frappe u name from Doc Field DCTB DCTB whereparent %s' doctype [0][0]newlist []pending [d.fieldname for d in fields dict len custom fields + 20 while pending and maxloops > 0 maxloops - 1for fieldname in pending ] if fieldname in custom fields and len newlist > standard fields count for n in newlist if n custom fields fieldname newlist newlist n + 1 fieldname pending fieldname breakelse newlist fieldname pending fieldname if pending newlist + pendingreturn newlist 
def shamelessly promote click u Need + click u fg u bold True + u Founda + click u fg u bold True + u Letus + click u fg u bold True + u D' click u Filebugreportson + click u Git Hub bold True + u ' + click u /iserlou Zappa fg u bold True click u Andjoinour + click u Slack bold True + u ' + click u //slack.zappa.io' fg u bold True click u Love ' click u Team + click u Zappa bold True + u 
def maybe promise value if isinstance value promise return value return value 
def get Without Brackets Equal Tab line line line ' ' '' line line ' <' '' line line '>' '' return line ' DCTB ' ''
def s render return blocks C U R R E N T 
def  fetch ret config ret if not ret return Noneif 'ret config not in ret return ''return str ret config 
def c step X n support remaining iterations 30 initial estimates None verbose False cov computation method empirical covariance random state None X np X random state check random state random state return  c step X n support remaining iterations remaining iterations initial estimates initial estimates verbose verbose cov computation method cov computation method random state random state 
@aborts@with settings foo {} def test require key exists empty dict require 'foo'
def request user has role request role if not cfg C O N F return Trueuser db get user db from request request request return user has role user db user db role role 
def  get upgradable dist upgrade True **kwargs cmd ['apt-get' '--just-print']if dist upgrade cmd 'dist-upgrade' else cmd 'upgrade' fromrepo  get repo **kwargs if fromrepo cmd ['-o' 'APT Default Release {0}'.format fromrepo ] call   salt  ['cmd.run all cmd python shell False output loglevel 'trace' if call ! 0 msg 'ailedtogetupgrades key in 'stderr' 'stdout' if call msg + ' ' + call breakraise Command Execution Error msg else out call re ' ?m ^onf [^]+ \\ [^]+ ' keys ['name' 'version'] get lambda l k l k ] upgrades rexp out ret {}for line in upgrades name  get line 'name' version num  get line 'version' ret version numreturn ret 
def cautious slugify value value force text value value unicodedata u N F K D value value SLUGIFY R E u value value value u u .decode u return slugify value 
def decode from querystring s **kw if not isinstance s unicode raise Type Error u try return urlsafe b64decode s u .replace '~' ' ' .decode u except if u in kw return kw Response 400 u 
def summarize address range first last if not isinstance first  Base Address and isinstance last  Base Address raise Type Error ' Paddresses notnetworks if first ! last raise Type Error '%sand%sarenotofthesameversion' % first last if first > last raise Value Error ' Paddressmustbegreaterthanfirst if first 4 ip I Pv4 Networkelif first 6 ip I Pv6 Networkelse raise Value Error ' Pversion ip bits first max prefixlenfirst int first iplast int last ipwhile first int < last int nbits min  count righthand zero bits first int ip bits  int bit length last int - first int + 1 - 1 net ip '%s/%d' % first ip bits - nbits yield net first int + 1 << nbits if first int - 1 ip ALL ONES breakfirst first  class   first int 
def add zone slave service master device id service 'master' slaves ids service 'slaves' slaves [device for device in DEVICES if device id in slaves ids ]master next [device for device in DEVICES if device id master device id ].  iter   None if master is None  L O G G E R 'nabletofindmasterwithentity id ' + str master device id elif not slaves  L O G G E R 'nabletofindslavestoadd else  L O G G E R 'ddingslavestozonewithmaster + str master master zone slave [slave.device for slave in slaves 
def cohere x y NFFT 256 Fs 2 detrend detrend none window window hanning noverlap 0 pad to None sides 'default' scale by freq None if len x < 2 * NFFT raise Value Error  coh error Pxx f psd x NFFT Fs detrend window noverlap pad to sides scale by freq Pyy f psd y NFFT Fs detrend window noverlap pad to sides scale by freq Pxy f csd x y NFFT Fs detrend window noverlap pad to sides scale by freq Cxy np np Pxy ** 2 Pxx * Pyy Cxy len f return Cxy f 
def Check For Copyright filename lines error for line in range 1 min len lines 11 if re 'opyright lines re I breakelse error filename 0 'legal/copyright' 5 'ocopyrightmessagefound Youshouldhavealine "opyright Copyright Owner 
def filter results original file dict modified file dict original results modified results renamed files ensure files present original file dict modified file dict diffs dict {}for file in original file dict diffs dict Diff string arrays original file dict modified file dict files file file ] orig result diff dict dict remove result ranges diffs original results original file dict mod result diff dict dict remove result ranges diffs modified results modified file dict unique results []for m r in reversed modified results unique Truefor o r in original results if basics match o r m r if source ranges match original file dict diffs dict orig result diff dict dict r mod result diff dict dict r renamed files unique Falsebreakif unique unique results m r return unique results 
def connect servers None framed transport False timeout None retry time 60 recycle None round robin None max retries 3 if servers is None servers [DEFAULT S E R V E R Thread Local Connection servers framed transport timeout retry time recycle max retries max retries 
def  Kind Key To String key key path key path if len key path 2 and key path '  kind  ' and isinstance key path basestring return key path Bad Request Error 'eyfor  kind  table 
def gamma corr clip gamma def fl im corrected 255 * 1.0 * im / 255 ** gamma return corrected 'uint8' return clip image fl 
def Parse File Packet f header nothing None None if header ! ' A R2 P K T return nothinglen struct '<Q' f 8 [0]if int len / 4 * 4 ! len or len < 20 return nothingmd5sum f 16 data f len - 32 md5 new md5 md5 data if md5sum ! md5 return nothingfor offset in range 0 len 8 if data offset + 16 ] ' A R2 File Desc hash data offset + 32 offset + 48 ]filename data offset + 72 ].strip '\x00' return filename hash return nothing 
def standard b64decode s return b64decode s 
def template stack name None profile None h client  auth profile if not name return {'result' False 'comment' 'arameternamemissingor None get template h client name except exc H T T P Not Found return {'result' False 'comment' 'ostackwith name }except exc Bad Request return {'result' False 'comment' 'adrequestfotstack name }if 'heat template version in get template template yaml get template Dumper Yaml Dumper else template jsonutils get template indent 2 ensure ascii False checksum   salt  ['hashutil.digest'] template ret {'template' template 'result' True 'checksum' checksum ret 
def get change id list user site check global True use cache True page ids  get page ids for action user user site site action 'change page check global check global use cache use cache return page ids 
def bisect right item item list is torrent lo 0hi len item list while lo < hi mid lo + hi // 2 if item score item list score and is torrent if len split into keywords item < len split into keywords item list hi midelse lo mid + 1 elif item score > item list score hi midelse lo mid + 1 return lo 
def  py convert agg to wx image agg bbox image wx Empty Image int agg int agg image Set Data agg rgb if bbox is None return imageelse return wx Image From Bitmap  clipped image as bitmap image bbox 
def hsv2rgb hsv arr  prepare colorarray hsv hi np arr 0] * 6 f arr 0] * 6 - hi p arr 2] * 1 - arr 1] q arr 2] * 1 - f * arr 1] t arr 2] * 1 - 1 - f * arr 1] v arr 2]hi np [hi hi hi .astype np % 6 out np hi [np.dstack v t p np q v p np p v t np p q v np t p v np v p q ] return out 
def  get markdown renderer class Pygments Highlighter mistune Renderer def block code self code lang None if not lang return '\n<pre><code>%s</code></pre>\n' % mistune code lexer get lexer by name lang stripall True formatter Html Formatter classprefix 'highlight' return highlight code lexer formatter return mistune Markdown renderer Pygments Highlighter 
def  transfer data src dest length chunk size chunks int math length / chunk size remaining length length L O G '% chunks schunksof bytes sbytestobetransferred {'chunks' chunks 'bytes' chunk size for chunk in range 0 chunks before time data tpool src min chunk size remaining length if data '' breaktpool dest data remaining length - len data delta time - before rate chunk size / delta / units Ki L O G 'ransferredchunk chunk sof chunks s % rate d K .' {'chunk' chunk + 1 'chunks' chunks 'rate' rate eventlet 0 tpool dest 
def  is firewall required vif if vif neutron filtering enabled return Falseif C O N F driver ! 'oop Firewall Driver return Truereturn False 
def get previous metadata changeset revision repository repo before changeset revision downloadable True changeset revisions [revision[1] for revision in get metadata revisions repository repo ]if len changeset revisions 1 changeset revision changeset revisions changeset revision before changeset revision return hg util I N I T I A L CHANGELOG H A S Hreturn changeset revisionprevious changeset revision Nonefor changeset revision in changeset revisions if changeset revision before changeset revision if previous changeset revision return previous changeset revisionelse return hg util I N I T I A L CHANGELOG H A S Helse previous changeset revision changeset revision 
def set prerequisite courses course key prerequisite course keys if not is prerequisite courses enabled return Nonecourse milestones milestones api course milestones course key course key relationship 'requires' if course milestones for milestone in course milestones remove prerequisite course course key milestone if prerequisite course keys for prerequisite course key string in prerequisite course keys prerequisite course key Course Key string prerequisite course key string add prerequisite course course key prerequisite course key 
def size label byte count decimal 0 is long False is bytes True if is bytes return  get label SIZE UNITS BYTES byte count decimal is long else return  get label SIZE UNITS BITS byte count decimal is long 
def chhome name home persist False pre info info name if not pre info raise Command Execution Error "ser name if home pre info return Truecmd ['pw' 'usermod' name '-d' home persist cmd '-m'   salt  ['cmd.run'] cmd python shell False return info name .get 'home' home 
def  task names mapping tasks collections  sift tasks mapping for collection in collections module mapping hasattr module 'default' tasks collection join lambda x '.'.join collection x tasks map join  task names module return tasks 
def  get method result module  module instance method name method arg None log 'ryingtocall method name module  try method obj getattr module  method name except Attribute Error try method obj getattr module instance method name except Attribute Error raise Invalid Argument Error 'he module  method name if isinstance method obj property return method obj module instance elif isinstance method obj types Method Type types Function Type if not method arg raise Invalid Argument Error 'nargumentdictisrequired method name module  try return getattr module instance method name method arg except Key Error raise Invalid Argument Error 'heargumentdictsuppliedhasnokeynamed {0}'.format method arg except Attribute Error raise Invalid Argument Error 'he module  method name else return method objreturn None 
def test unicode attribute s1 u '#-*-coding utf Person \nname "erson .name.' completions1 Script s1 .completions assert 'strip' in [c.name for c in completions1 s2 u '#-*-coding utf Person \nname "erson .name.' completions2 Script s2 .completions assert 'strip' in [c.name for c in completions2 
def getnode global  nodeif  node is not None return  nodeimport sysif sys 'win32' getters [ windll getnode  netbios getnode  ipconfig getnode getters [ unixdll getnode  ifconfig getnode  arp getnode  lanscan getnode  netstat getnode getter in getters + [ random getnode try  node getter except continueif  node is not None return  node 
def Uniform Sum name n return rv name Uniform Sum Distribution n 
def  get host ssds host reference return  get host disks host reference .get ' S Ds 
def esp8266 function only func return check supported function func lambda o o C H I P NAME 'ESP8266'
@lower cast My Dummy Type types Number def mydummy to number context builder fromty toty val return context constant toty 42
def  smw solver s A At A BI di qmat At A / s m B I m 0 m + B Iix np m A qmat ix ix ] + diif sparse A qi sparse qmat qmati A qi T .else qmati np qmat A.T def solver rhs if sparse A ql qmati rhs ql A ql else ql np qmati rhs ql np A ql rslt rhs / s - ql / s ** 2 if sparse rslt rslt np rslt return rsltreturn solver 
def check header chars header warnings allowed chars header '_' + digits + letters for curr elem in range len header for curr char in header elem if curr char not in allowed chars header warnings 'oundinvalidcharacterin % header elem + 'headerfield. DCTB %d %d' % 0 curr elem breakreturn warnings 
@deprecateddef script resolve name script name name if not name return roslib ros namespace if roslib global name return nameelif roslib private name return ns join roslib caller id script name name ] return roslib ros namespace + name 
@never cachedef complete request template u extra context None try order Order request request except Order Does Not Exist raise Http404items order skus [item.sku for item in items Product Variation sku  in skus names {}for variation in variations related u names variation i item in enumerate items setattr items u names context {u'order' order u items u pdf HAS PDF u checkout C H E C K O U T S T E P S extra context or {} return Template Response request template context 
def get token status token operation return data False s Timed J S O N Web Signature Serializer current app S E C R E T KEY'] user data None None expired invalid False False try data s token except Signature Expired expired Trueexcept Bad Signature Type Error Value Error invalid Trueif data is not None if operation data 'op' None user User by id data 'id' .first else invalid Trueif return data return expired invalid user data return expired invalid user 
def  compare bem solutions sol a sol b  compare bem surfaces sol a sol b names ['bem method 'field mult 'gamma' 'is sphere 'nsol' 'sigma' 'source mult 'solution']assert equal set sol a set sol b assert equal set names + ['surfs'] set sol b for key in names assert allclose sol a sol b rtol 0.001 atol 1e-05 err msg 'ismatch %s' % key 
def  has staff access to descriptor user descriptor course key return  has staff access to location user descriptor course key 
@utils.arg 'backup' metavar '<backup>' help ' Dofthebackuptorestore @utils.arg '--monitor-id' metavar '<monitor-id>' help 'ptional I Dofthemonitortorestoreto default None @utils.service type 'monitor' def do backup restore cs args cs args args id 
def test wheel exit status code when no requirements script script 'install' 'wheel' result script 'wheel' expect error True assert 'oumustgiveatleastonerequirementtowheel in result assert result ERROR
def has include file include dirs filename if sys 'win32' include dirs + os 'INCLUDE' '.' .split ';' for dir in include dirs if os os dir filename return Truereturn False 
def run command with code cmd redirect output True check exit code True if redirect output stdout subprocess P I P Eelse stdout Noneproc subprocess Popen cmd cwd ROOT stdout stdout output proc [0]if check exit code and proc ! 0 die 'ommand ''.join cmd output return output proc 
def dfs present path cmd return  hadoop cmd 'dfs' 'stat' path if 'osuchfileordirectory in cmd return return Falseelse return True 
def parse string io or string return Xml Property List Parser .parse io or string 
def basic tokenizer sentence words []for space separated fragment in sentence .split words  WORD S P L I T space separated fragment return [w for w in words if w 
def is public stream stream name realm stream get stream stream name realm if stream is None return Falsereturn stream public 
def vare x1 x2 ddof 0 axis 0 x1 np x1 x2 np x2 return np x1 - x2 ddof ddof axis axis 
def followers request content type id object id ctype get object or 404 Content Type pk content type id instance get object or 404 ctype class pk object id return render to response 'actstream/followers.html' {'followers' models instance 'actor' instance context instance Request Context request 
def af for address text try junk dns aton text return AF I N E Texcept try junk dns aton text return AF I N E T6except raise Value Error 
def disable states ret {'res' True 'msg' ''}if isinstance states six types states states ' ' msg [] disabled   salt  ['grains.get'] 'state runs disabled if not isinstance  disabled list  disabled [] changed Falsefor  state in states if  state in  disabled msg 'nfo {0}statealreadydisabled.'.format  state else msg 'nfo {0}statedisabled.'.format  state  disabled  state  changed Trueif  changed   salt  ['grains.setval'] 'state runs disabled  disabled ret '\n'.join msg   salt  ['saltutil.refresh modules return ret 
def  pad h h up h padlen len h + - len h % up h full np h padlen h h full len h ] hh full h full -1 up .T[ -1 ].ravel return h full 
def get game dir path for i in range 10 gpath os if 'server' in os gpath if os os 'server' 'conf' 'settings.py' return gpathelse os os raise Runtime Error 'server/conf/settings.pynotfound Muststartfrominsidegamedir 
def json in content type [ntou 'application/json' ntou 'text/javascript' ] force True debug False processor json processor request cherrypy isinstance content type basestring content type [content type force if debug cherrypy 'emovingbodyprocessors % repr request 'TOOLS.JSON IN' request request proc cherrypy H T T P Error 415 'xpectedanentityofcontenttype % ' '.join content type for ct in content type if debug cherrypy 'ddingbodyprocessorfor % ct 'TOOLS.JSON IN' request processor 
def  muly p x y p1 poly from expr p x [0]n degree p1 a [ c * x ** i * y ** n - i for i c in p1 ]return Add *a
def convert to tgt list and itor tgt map zone mapping target wwns []itor tgt map {}for san name in zone mapping one map zone mapping name target in one map port wwn list if target not in target wwns target wwns target for initiator in one map port wwn list itor tgt map one map port wwn list L O G 'target wwns % tgt wwns s targ map % itor tgt map s {'tgt wwns target wwns 'itor tgt map itor tgt map return target wwns itor tgt map 
def register tests test class method name test func exclude None formats [f for f in serializers serializer formats if not isinstance serializers serializer f serializers Bad Serializer and f ! 'geojson' and exclude is None or f not in exclude ]for format  in formats setattr test class method name % format  curry test func format 
def unwrapped ball data return 10.0 / 5.0 + sum d - 3 ** 2 for d in data 
def get user sites queryset user qs Site if not get cms setting 'PERMISSION' or user superuser return qsglobal ids Global Page Permission user user .filter Q can add True | Q can change True .values list 'id' flat True query Q if global ids query Q globalpagepermission  id  in global ids if not qs query .exists return qsquery | Q Q djangocms pages  pagepermission  user user | Q djangocms pages  pagepermission  group  user user & Q Q djangocms pages  pagepermission  can add True | Q djangocms pages  pagepermission  can change True return qs query .distinct
def  activities from everything followed by user query user id limit q1  activites from users followed by user query user id limit q2  activities from datasets followed by user query user id limit q3  activities from groups followed by user query user id limit return  activities union all q1 q2 q3 
def bytes num bytes if not isinstance num bytes  integer types raise Type Error 'num bytesmustbeaninteger if num bytes < 0 raise Value Error 'num bytesmustnotbenegative result buffer  ffi 'char[]' num bytes result code  lib R A N D bytes result buffer num bytes if result code -1  raise current error return  ffi result buffer [ ]
def is null slice obj return isinstance obj slice and obj is None and obj is None and obj is None 
def  Get Blob Metadata blob key size content type open key  Get Google Storage File Metadata blob key if size is None size content type open key  Get Blobstore Metadata blob key return size content type open key 
def test float range 2 try float range '2.0' assert Falseexcept Exception pass 
def add token to response response csrf token None if csrf token response cookie 'csrf token csrf token expires CSRF TIMEOUT httponly False 
def  function called str function name args kwargs template str '{0} {1} {2} 'args str repr args [1 -1 ]kwargs str ' '.join '%s %s' % k v for k v in kwargs return template str function name args str kwargs str 
def get bc lens ids bcs added field bc index 0bc lens [len curr bc index for curr bc in ids bcs added field ]bc lens list set bc lens bc lens reverse True return bc lens 
def constrain n min max if n < min return minif n > max return maxreturn n 
def  format elemcreate etype script False *args **kw spec Noneopts if etype in 'image' 'vsapi' if etype 'image' iname args  format mapdict {one args ]} [1]spec '%s%s' % iname imagespec else class name part id args 2]statemap  format mapdict {one args ]} [1]spec '%s%s%s' % class name part id statemap opts  format optdict kw script elif etype 'from' spec args len args > 1 opts args if script spec '{%s}' % spec opts ''.join map str opts return spec opts 
def fetch tree client path index items consul fetch client path ret {}has children re '/$' log 'etcheditems %r' format items if items is None return retfor item in reversed items key re '^' + path + '/?' '' item Key if key ! '' log 'key/path-%s %s' path key log 'has children format has children key if has children key is None ret pillar format ret key '/' item Value log 'etchingsubkeysforkey %r' format item return ret 
def random Source return struct 'H' randbytes Random 2 fallback True [0]
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def assert str equal reference str test str format str u String \n{differences}' if reference str ! test str diff difflib diff reference str 1 test str 1 u Reference u Testresult u u 0 raise Value Error format str str1 reference str str2 test str differences u diff 
def create tmp test code prefix 'tmp' delete True **kwargs py tempfile Named Temporary File prefix prefix delete delete code code **kwargs if IS PY3 code code 'UTF-8' py code py st os py os py st mode | stat S IEXEC return py 
def filter settings spec settings spec *exclude **replace settings list settings spec for i in range 2 len settings 3 newopts []for opt spec in settings opt name [opt string ].replace '-' '_' for opt string in opt spec if opt string '--' ][0]if opt name in exclude continueif opt name in replace newopts replace name else newopts opt spec settings tuple newopts return tuple settings 
def isplit string sep ' DCTB \n\x0b\x0c\r' a []for ch in string if ch not in sep a ch continueif a yield ''.join a a []if a yield ''.join a 
def parse limited quantifier source saved pos source count parse count source if source ' ' max count parse count source min count int min count or 0 max count int max count if max count else None else if not min count source saved posreturn Nonemin count max count int min count if not source '}' source saved posreturn Noneif is above limit min count or is above limit max count raise error 'repeatcounttoobig' source saved pos if max count is not None and min count > max count raise error 'minrepeatgreaterthanmaxrepeat' source saved pos return min count max count 
def stop and disable service stop service disable service 
def legacy mapping block device mapping legacy block device mapping []for bdm in block device mapping try legacy block device Block Device Dict bdm .legacy except exception Invalid B D M For Legacy continuelegacy block device mapping legacy block device for i dev in enumerate dev for dev in legacy block device mapping if dev name and is ephemeral dev name dev name dev name -1 ] + str i return legacy block device mapping 
def get Overhang Angle element Node return get Cascade Float Without Self 45.0 element Node 'ngle 
def combined levels dimensions default only False groups []for dim in dimensions if default only levels dim .levelselse levels dim [ str dim str level for level in levels group return tuple itertools *groups
def  extract submatrices M block indices block size axis assert block indices 1 assert axis in [0 1] r c M axis 0 sh [block indices block size c axis 1 sh [block indices r block size M M res np sh dtype dt if axis 0 for ir in range block size M res ir ] M[ block indices * block size + ir ]elif axis 1 for ic in range block size M res ic M[ block indices * block size + ic ]return M res 
@snippetdef topic exists client to delete TOPIC NAME 'topic exists %  millis topic client TOPIC NAME to delete topic assert not topic topic assert topic 
def call split lines x lineno None col None return ast Call func ast Attribute value x attr 'splitlines' ctx ast Load lineno lineno col offset col args [] keywords [] starargs None kwargs None lineno lineno col offset col 
def unlock account name return   salt  ['user.update'] name unlock account True 
def delete temp backups older than 24 file list os get backup path for this file in file list this file path os get backup path this file if is file old this file path older than os this file path 
def document get index id doc type ' all hosts None profile None es  get instance hosts profile try ret es index index id id doc type doc type return retexcept elasticsearch Not Found Error return Nonereturn None 
def get all controllers try result utils 'lssubsys' ignore status False controllers str result controller list []for controller in controllers str controller sub list controller ' ' controller list + controller sub listexcept error Cmd Error controller list ['cpuacct' 'cpu' 'memory' 'cpuset' 'devices' 'freezer' 'blkio' 'netcls']return controller list 
def Get E L B Instance Health region instance id node types None balancers Get Load Balancers region node types node types if not balancers return Nonefor b in balancers for state in b instance health if state id instance id return state None 
def Dagum name p a b return rv name Dagum Distribution p a b 
def get permission for course about return configuration helpers value 'COURSE ABOUT VISIBILITY PERMISSION' settings C O U R S E ABOUT VISIBILITY PERMISSION
def is computable float v tmp float v if not logical or isnan tmp isinf tmp return tmpelse return False 
@utils.cached 7 def ignored regions source return [ match match for match in  str source ]
def get All Photometers from . import minolta prfrom . import crsphotometers [ R650 pr P R655 minolta L S100 hasattr crs 'olor C A L photometers crs Color C A L return photometers 
def recursive unlink f if os f for s in os f recursive unlink os f s os f elif os f os f 
def equate Cylindrical Dot Z point return Value point return Value 
def create node args node query method 'droplets' args args http method 'post' return node 
@pytest.fixture autouse True def urlutils config stub config stub monkeypatch config stub {'general' {'auto-search' True 'searchengines' {'test' 'http //www.qutebrowser.org/?q {}' 'test-with-dash' 'http //www.example.org/?q {}' 'DEFAULT' 'http //www.example.com/?q {}'}}monkeypatch.setattr 'qutebrowser.utils.urlutils.config' config stub return config stub 
def get tags count journal tags [tag for entry in journal for tag in set entry ]tag counts set [ tags tag tag for tag in tags return tag counts 
def make batches size batch size nb batch int np size / float batch size return [ i * batch size min size i + 1 * batch size for i in range 0 nb batch ]
def  find start score matrix align globally nrows ncols len score matrix len score matrix if align globally starts [ score matrix -1 ][ -1 ] nrows - 1 ncols - 1 ]else starts []for row in range nrows for col in range ncols score score matrix score row col return starts 
def check sffinfo if not which 'sffinfo' raise Application Not Found Error  MISSING APP MESSAGE % 'sffinfo'
def lambdarepr expr **settings return Lambda Printer settings .doprint expr 
def bezier subdivide cp t c00 c01 c02 c03 cpc10 c00 * 1 - t + c01 * t c11 c01 * 1 - t + c02 * t c12 c02 * 1 - t + c03 * t c20 c10 * 1 - t + c11 * t c21 c11 * 1 - t + c12 * t c30 c20 * 1 - t + c21 * t first [c00 c10 c20 c30 [c30 c21 c12 c03 first second 
def modify acl group id **data group models Acl Group get id group for acl violation acl group group object data group current user if empty 
def never cache view func def  wrapped view func request *args **kwargs response view func request *args **kwargs add never cache headers response return responsereturn  wrapped view func 
def  get arrays arrays {}for node path in utils generator GRAPH REFERENCE if any [ key in path for key in GRAPH R E F E R E N C E Keys continueif node 'role' ! 'object' continueif 'items' not in node continueobject name path -1 ]if object name not in arrays items node isinstance items dict item names list items else item names [object name -1 ]]arrays[object name {'meta paths [path] 'items' item names arrays 
def equalize image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy equalize image selem out out mask mask shift x shift x shift y shift y 
def get course enrollment details course id include expired False cache key u id expired course id course id include expired include expired cached enrollment data Nonetry cached enrollment data cache cache key except Exception log u Erroroccurredwhileretrievingcourseenrollmentdetailsfromthecache if cached enrollment data log u Getenrollmentdataforcourse cached ' course id return cached enrollment datacourse enrollment details  data api .get course enrollment info course id include expired try cache time out getattr settings 'ENROLLMENT COURSE DETAILS CACHE TIMEOUT' 60 cache cache key course enrollment details cache time out except Exception log u Erroroccurredwhilecachingcourseenrollmentdetailsforcourse course id raise errors Course Enrollment Error u Anunexpectederroroccurredwhileretrievingcourseenrollmentdetails log u Getenrollmentdataforcourse course id return course enrollment details 
def  HPERM OP a t a << 18 ^ a & 3435921408 return a ^ t ^ t >> 18 & 16383
def is valid definition params language return not exclude bracket params 'enabled' BH ENABLED params 'language filter BH LANG FILTER params 'language list BH LANG LIST language and params 'open' None is not None and params 'close' None is not None 
def reg name ret {'name' name 'changes' {} 'comment' '' 'result' True time if 'status' not in   reg     reg  ['status'] {}  reg  ['status']['val'] {}for event in   events   if fnmatch event 'salt/beacon/*/status/*' idata {'recv time now key in event if key in 'id' 'recv time continueidata event  reg  ['status']['val'][event['data']['data']['id']] idataret Truereturn ret 
def hook response response 'pdatetriggered status 'success' return Json Response data {'status' status 'message' response 
def  get dynamic tabs course user dynamic tabs list for tab type in Course Tab Plugin Manager tab types if getattr tab type 'is dynamic False tab tab type dict if tab enabled course user user dynamic tabs tab dynamic tabs key lambda dynamic tab dynamic tab return dynamic tabs 
def get Intersection Of X Intersection Indexes total Solid Surface Thickness x Intersection Index List x Intersection List [able {}solid Falsex Intersection Index List for x Intersection Index in x Intersection Index List toggle Hashtable solid Table x Intersection Index '' old Solid solidsolid len solid Table > total Solid Surface Thickness if old Solid ! solid x Intersection List x Intersection Index return x Intersection List 
def set recv attr status recvtable s3db recvship status s3db ship statusrecvtable id recvtable id Falserecvtable status recvtable status Falserecvtable status recvtable status Falserecvtable Falserecvtable ref Trueif status ship status I N PROCESS'] recvtable ref Truerecvtable ref Falserecvtable id Falseelse for field in recvtable recvtable Falseif status ship status S E N T recvtable Truerecvtable id recvtable id Truerecvtable True 
def validate port or colon separated port range port range if port range ' ' > 1 raise Validation Error _ 'necolonallowedinportrange ports port range ' ' for port in ports validate port range port 
@register canonicalize optimizer [ Reshape def local reshape to dimshuffle node op node not isinstance op Reshape return Falseinput node node shape node new order []new output shape []index 0for i in xrange output dim extract constant output shape only process constants False elemwise False if dim 1 dimshuffle new order 'x' else dimshuffle new order index new output shape dim index index + 1 if index ! output inner op  class   len new output shape input new output shape copy stack trace output inner new node [im Shuffle inner dimshuffle new order inner ]copy stack trace output new node return new node 
def  list Open F Ds return detector list Open F Ds 
def urlopen url data None proxies None global  urlopenerif proxies is not None opener urllib Fancy U R Lopener proxies proxies elif not  urlopener opener Fancy U R Lopener  urlopener openerelse opener  urlopenerif data is None return opener url else return opener url data 
def check C R C data check return compute C R C data check 
def test iter evoked raw events picks  get data epochs Epochs raw events 5] event id tmin tmax picks picks for ii ev in enumerate epochs evoked x ev epochs data [ii ]assert array equal x y 
def  clean to gce name identifier return unicode identifier .replace u u .replace u u 
def get sorted filediffs filediffs key None def cmp filediffs x y if x ! y return cmp x y x file x ext os x y file y ext os y if x file y file return cmp y ext x ext else return cmp x file y file def make key filediff if key filediff key filediff filename filediff filei filename u if i -1 return u filename else return filename i filename i + 1 ] return sorted filediffs cmp cmp filediffs key make key 
def if firewall available distribution commands if is centos or rhel distribution firewall command 'firewall-cmd'elif is ubuntu distribution firewall command 'ufw'else raise Distribution Not Supported distribution distribution return run from args ['which' firewall command .on success lambda result commands error catch exit code 1
def base36 value result ''while value value i divmod value 36 result BASE36 A L P H A B E T + result return result 
def worker get all context until None db filters None **filters return I M P L get all context until until db filters db filters **filters
def get filename with new ext original file path new ext output directory return path output directory path path original file path [1] [0] + new ext 
def attach is voter to queryset queryset user as field 'is voter model queryset apps model 'contenttypes' 'ontent Type .objects.get for model model if user is None or user anonymous sql ' E L E C Tfalse sql 'SELECTCASEWHEN S E L E C Tcount * \ R O Mvotes vote W H E R Evotes vote type id {type id A N Dvotes vote id { N Dvotes vote id {user id > H E N T R U E E L S E F A L S E E N D sql type id type tbl model meta table user id user qs queryset select {as field sql return qs 
def proto1 to proto2 message body try args kwargs body u body u {} kwargs Key Error raise Invalid Task Error u Messagedoesnothaveargs except Attribute Error raise Invalid Task Error u Taskkeywordargumentsmustbeamapping body argsrepr saferepr args kwargsrepr saferepr kwargs headers message try body body Key Error passembed {u'callbacks' body u u body u u body u u None args kwargs embed body True body u True 
def generate frontpage pngs only if needed True for fn png fn py in FRONTPAGE P N G S pn png os FRONTPAGE PNG PATH fn png pn py os FRONTPAGE PY PATH fn py mtime py os pn py mtime png os pn png if os pn png else mtime py - 1 if only if needed and mtime py < mtime png continuesubprocess call ['python' pn py os fn png pn png 
def  api fullstatus name output kwargs status build status skip dashboard kwargs 'skip dashboard output output return report output keyword 'status' data remove callable status 
def get changed fields dict instance model class try old model model class pk instance except model class Does Not Exist return {}else field names [f.name for f in model class meta fields if not f relation ]changed fields {field name getattr old model field name for field name in field names if getattr old model field name ! getattr instance field name }return changed fields 
def join bytes or unicode prefix suffix if type prefix type suffix return join prefix suffix if isinstance prefix text type return join prefix suffix getfilesystemencoding else return join prefix suffix getfilesystemencoding 
def enable source name return  change source state name 'enable'
def survey get All Questions For Series series id table current seriesrow current table series id .select table id limitby 0 1 .first template id row idquestions survey get All Questions For Template template id return questions 
def assert request user is admin request is admin request user is admin request request if not is admin user db get user db from request request request raise Access Denied Error message 'dministratoraccessrequired user db user db 
def hide tick labels from box subplots fig boxplot xaxes []for trace in fig if trace 'box' boxplot xaxes 'xaxis{}'.format trace ] for xaxis in boxplot xaxes fig False 
def read all filter  [] dir  rospkg test results dir root result Result 'ros' 0 0 0 if not os dir  return root resultfor d in os dir  if filter  and not d in filter  continuesubdir os dir  d if os subdir for filename in os subdir if filename '.xml' filename os subdir filename result read filename os subdir root result result return root result 
def  bayes thresh details var dvar np details * details eps np details .epsthresh var / np max dvar - var eps return thresh 
def vector norm data axis None out None data numpy data dtype numpy copy True if out is None if data 1 return math numpy data data data * dataout numpy 1d numpy data axis axis numpy out out return outelse data * datanumpy data axis axis out out numpy out out 
@ docstring 'area' def search areas query '' limit None offset None strict False **fields return  do mb search 'area' query fields limit offset strict 
def test call accepts func pos params kw types @accepts int 2 int int 1 int int 3 int def foo int 1 int 2 int 3 passt time for i in range 0 10000 foo 5 6 7 return time - t 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def test role serialization roles [ N P U T blocks O U T P U T blocks C O S T blocks P A R A M E T E R blocks A U X I L I A R Y blocks W E I G H T blocks B I A S blocks F I L T E R role in roles deserialized c Pickle c Pickle role assert deserialized role 
def check extras dist attr value try for k v in value if ' ' in k k m k ' ' 1 if pkg resources marker m raise Distutils Setup Error 'nvalidenvironmentmarker ' + m list pkg resources requirements v except Type Error Value Error Attribute Error raise Distutils Setup Error "'extras require 
def  get ctf head to head t idx points fp idx points '>f8' dp np fp * fp - fp tmp1 tmp2 sum squared fp sum squared fp - fp dcos - dp / np tmp1 * tmp2 dsin np 1.0 - dcos * dcos dt dp / np tmp2 t np [[dcos - dsin 0.0 dt [dsin dcos 0.0 0.0] [0.0 0.0 1.0 0.0] [0.0 0.0 0.0 1.0]] return Transform 'ctf head 'head' t 
def  make interpolation matrix pos from pos to alpha 1e-05 pos from pos from pos to pos to  normalize vectors pos from  normalize vectors pos to cosang from pos from pos from T cosang to from pos to pos from T G from  calc g cosang from G to from  calc g cosang to from if alpha is not None G from len G from + 1 ] + alphan channels G from C np [ np [ G from np n channels 1 ] np [ np 1 n channels 0 ] ]C inv linalg C interpolation np [ G to from np G to from 1 ].dot C inv -1 ] return interpolation 
def  fake run horcmstart2 *args return 0 if not run horcmstart returns error2 else 3
def  get play obj if hasattr obj ' play return obj playif getattr obj ' parent return  get play obj parent 
def make Printable data charset quote None to unicode False smart True if data if not isinstance data unicode data unicode data 'ISO-8859-1' charset ' S C I I regex control code lambda regs controlchars regs 1 ] data if quote if quote in '"\'' data data quote '\\' + quote data ''.join quote data quote elif quote data ' empty 'data data charset 'backslashreplace' if smart data re '\\\\x0 [0-7] ? [^0-7]|$ ' '\\\\\\1' data if to unicode data unicode data charset return data 
def create lead email id from email import parseaddrfrom frappe import get default naming series real name email id parseaddr email id if frappe value u Lead {u'email id email id returnlead frappe doc {u'doctype' u Lead u id email id u name real name or email id u u Lead u series get default naming series u Lead u frappe default u Company u u Email lead 
def center on screen widget desk desktop rect desk Geometry Qt Gui Q Cursor .pos cy rect // 2 cx rect // 2 widget cx - widget // 2 cy - widget // 2
def url path join *pieces initial pieces '/' final pieces -1 ].endswith '/' stripped [s.strip '/' for s in pieces '/'.join s for s in stripped if s if initial result '/' + result if final result + '/'if result '//' result '/'return result 
@step u w def step fails context word assert False 'EXPECT Failingstep 
def symptom invalid password regular expression try if C O N F compliance regex re C O N F compliance regex 'password' return Falseexcept re return True 
def tup to vs tup return '.'.join tup 
def assert has line matching output expression match re '^%s$' % expression output flags re M U L T I L I N E assert match is not None "olinematchingexpression % expression 
def test sorted bases assert u * u Jy .bases u Jy * u .bases
def parse uid uid if U I D Field Mixin U I D SEPARATOR not in uid raise Value Error 'nvaliduid %s' % uid parsed uid U I D Field Mixin U I D SEPARATOR if len parsed < 2 raise Value Error 'nvalidormalformeduid %s' % uid resource type parsed remainder parsed ]return resource type uid remainder 
def powersum n p b 10 dlist digitsrep n b sum 0for k in dlist sum + k ** p return sum 
def munge name name if isinstance name unicode name substitute ascii equivalents name name re '[. /]' '-' name name re ' Z0 ]' '' name .lower name  munge to length name model P A C K A G E NAME MIN LENGTH model P A C K A G E NAME MAX LENGTH return name 
def register input converter converter prepend False global INPUT C O N V E R T E Rif prepend INPUT C O N V E R T E R 0 converter else INPUT C O N V E R T E R converter 
def create bias initializer bias shape stddev 1 / math np bias shape return tf normal initializer stddev stddev 
def add Accelerator Command accelerator Binding command Function master menu text accelerator Text accelerator Binding -1 ]ndex Of Minus accelerator Text '-' if last Index Of Minus > -1 accelerator Text accelerator Text last Index Of Minus + 1 ] + accelerator Text last Index Of Minus + 1 ].capitalize accelerator Text accelerator Text 'ey Press '' accelerator Text accelerator Text '-' '+' accelerator Text accelerator Text 'ontrol 'trl accelerator Binding accelerator Binding 'ey Press '' menu command accelerator accelerator Text label text underline 0 command command Function master accelerator Binding command Function 
def  image locations delete all context image id delete time None session None session session or get session location refs session models Image Location .filter by image id image id .filter by deleted False .all for loc id in [loc ref for loc ref in location refs image location delete context image id loc id 'deleted' delete time delete time session session 
def start T L S transport context Factory normal bypass if normal client transport tls Client Defaultelse client not transport tls Client Default producer streaming None None if transport is not None producer streaming transport transport Producer transport Producer tls Factory T L S Memory B I O Factory context Factory client None tls Protocol T L S Memory B I O Protocol tls Factory transport False transport tls Protocoltransport Handle tls Protocol Handletransport Peer Certificate tls Protocol Peer Certificatedirectly Provides transport I S S L Transport transport T L S Truetransport Connection  Bypass T L S bypass transport if producer transport Producer producer streaming 
def fmt ex ex return traceback exception only ex  class   ex [ -1 ].strip
def  inverse tester norm instance vals assert array almost equal norm instance norm instance vals vals 
def attach notify policies queryset as field 'notify policies attr model queryset ' E L E C Tjson agg row to json notifications notifypolicy \ R O Mnotifications notifypolicy W H E R Enotifications notifypolicy id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def defuse xml libs from defusedxml import defuse stdlibdefuse stdlib import lxmlimport lxml . import etree as safe etreelxml safe etree 
def wait for page change browser source url None page source None wait time 0.1 max retries 50 for i in range max retries if source url is not None and browser url ! source url breakelif page source is not None and browser source ! page source breakelse time wait time return browser url ! source url 
def install dependencies npm 'npm' run '% npm sinstall % locals 
def test forum delete forum forum forum Forum by id forum .first assert forum is None 
def fake wait for ip check for ip fn interval None timeout None interval multiplier None assert isinstance interval int assert isinstance timeout int assert isinstance interval multiplier int return check for ip fn 
def survey get All Questions For Complete complete id table current completerow current table complete id .select table id limitby 0 1 .first series id row idquestions survey get All Questions For Series series id return questions series id 
def override pylons about with core template return render template u 
def  backup File file Path assert os file Path stamp Num 0 prefix suffix os file Path while True backup Path '%s.%d%s' % prefix stamp Num suffix stamp Num + 1if not os backup Path breakshutil file Path backup Path return backup Path 
def get Python Directory Names Recursively directory Name '' recursive Python Directory Names []if directory Name '' directory Name os if os os directory Name '  init  .py' recursive Python Directory Names directory Name python Directory Names get Python Directory Names directory Name for python Directory Name in python Directory Names recursive Python Directory Names + get Python Directory Names Recursively python Directory Name else return []return recursive Python Directory Names 
def  subdivide interval by hour start end start hour start minute 0 second 0 microsecond 0 end hour end minute 0 second 0 microsecond 0 if start hour end hour hour to secs {start hour  to secs end - start }else hour to secs {}hour to secs hour  to secs start hour + timedelta hours 1 - start hour to secs hour  to secs end - end hour cur hour start hour + timedelta hours 1 while cur hour < end hour hour to secs hour  to secs timedelta hours 1 cur hour + timedelta hours 1 hour to secs dict h secs for h secs in hour to secs if secs return hour to secs 
def get New Repository return Fill Repository 
@simple decoratordef valid prefs required view func def  check valid prefs request *args **kwargs if request authenticated Profile or create user request return view func request *args **kwargs return  check valid prefs 
@pipeline.mutator stagedef import asis session task if task returnlog displayable path task task choice action A S I S 
def fetch stream from url url config data None handlers None return code return message response open url url config data data handlers handlers if return code and return code http client .OK return responseelse raise U R L Fetch Error return message 
def  scale enum anchor scales w h x ctr y ctr  whctrs anchor ws w * scales hs h * scales anchors  mkanchors ws hs x ctr y ctr return anchors 
def get build platform try from sysconfig import get platformexcept Import Error from distutils import get platformplat get platform if sys 'darwin' and not plat 'macosx-' try version  macosx vers machine os [4].replace '' '_' return 'macosx-%d.%d-%s' % int version int version  macosx arch machine except Value Error passreturn plat 
def  parsems value if u not in value return int value 0 else i f value u return int i int f 6 u [ 6]
def destroy cached images session sr ref all cached False dry run False cached images  find cached images session sr ref destroyed set def destroy cached vdi vdi uuid vdi ref L O G "estroyingcached V D I vdi uuid s if not dry run destroy vdi session vdi ref destroyed vdi uuid for vdi ref in cached images vdi uuid session xenapi ' D I uuid vdi ref if all cached destroy cached vdi vdi uuid vdi ref continuechain list  walk vdi chain session vdi uuid if len chain > 2 continueelif len chain 2 root vdi rec chain -1 ]children  child vhds session sr ref [root vdi rec if len children > 1 continuedestroy cached vdi vdi uuid vdi ref return destroyed 
def test dirops curpath os os ipdir os  ip dir try  ip 'cd"%s"' % ipdir nt equal curpath ipdir  ip 'cd-' nt equal curpath startdir  ip 'pushd"%s"' % ipdir nt equal curpath ipdir  ip 'popd' nt equal curpath startdir finally os startdir 
def validate publicname username if len username < 3 return 'ublicnamemustbeatleast3charactersinlength len username > 255 return 'ublicnamecannotbemorethan255charactersinlength not VALID PUBLICNAME R E username return "ublicnamemustcontainonlylower numbersand ''
def extract request response None ids []cookie name settings O S C A R RECENTLY VIEWED COOKIE N A M Eif cookie name in request C O O K I E S try ids json request C O O K I E S name except Value Error if response response cookie cookie name else if not isinstance ids list ids []return ids 
def unpack expr if len expr 1 return expr return expr 
def mrv max1 f g exps x u b f g exps return mrv max3 f g subs exps g f subs exps u b x 
def customer gateway exists customer gateway id None customer gateway name None region None key None keyid None profile None return resource exists 'customer gateway name customer gateway name resource id customer gateway id region region key key keyid keyid profile profile 
def write fasta line demultiplexed seqs f fasta seq label line keep barcode bc len if keep barcode final seq fasta seqelse final seq fasta seq len ]demultiplexed seqs f '>%s\n' % label line demultiplexed seqs f '%s\n' % final seq 
def get desktop if 'KDE FULL SESSION' in os or 'KDE MULTIHEAD' in os return ' D E 'GNOME DESKTOP SESSION ID' in os or 'GNOME KEYRING SOCKET' in os return ' N O M E 'MATE DESKTOP SESSION ID' in os or 'MATE KEYRING SOCKET' in os return ' A T E sys 'darwin' return 'ac O S X hasattr os 'startfile' return 'indows  is xfce return ' F C E  is x11 return '11 return None 
def  run quiet cmd cwd None stdin None runas None shell DEFAULT SHELL python shell False env None template None umask None timeout None reset system locale True saltenv 'base' pillarenv None pillar override None return  run cmd runas runas cwd cwd stdin stdin stderr subprocess S T D O U T output loglevel 'quiet' log callback None shell shell python shell python shell env env template template umask umask timeout timeout reset system locale reset system locale saltenv saltenv pillarenv pillarenv pillar override pillar override ['stdout']
def get or empty db cart cart queryset Cart def get cart view @wraps view def func request *args **kwargs cart get cart from request request cart queryset return view request cart *args **kwargs return funcreturn get cart 
def scan interfaces interfaces []for service in Get I O Services By Type ' O Serial B S D Client device get string property service ' O Callout Device if device usb device Get Parent Device By Type service ' O U S B Interface if usb device name get string property usb device ' S B Interface Name or None location I D get int property usb device ' D k C F Number S Int32 Type or '' i Suitable Serial Interface i location I Di nameinterfaces i return interfaces 
def p item string p p p -1 ] None 
def  resolve user group names opts name id opts {'uid' 'user.info' 'gid' 'group.info'}for ind opt in enumerate opts if opt ' ' [0] in name id opts  givenid opt ' ' [1] param opt ' ' [0] id  givenidif not re '[0-9]+$'  givenid  info   salt  [name id opts param  givenid if  info and  param in  info  id  info param  param + ' ' + str  id return opts 
def get autoscaler gce name zone try return gce get autoscaler name zone except Resource Not Found Error return None 
def ignore sigint func @wraps func def wrapped *args **kwargs curr thread threading Thread single thread threading Count 1 and curr thread Name 'ain Thread class Sigint Handler object def   init   self self received Falsedef   call   self signum frame warnings 'eyboard Interruptignoreduntil func  name   Astropy User Warning self received Truesigint handler Sigint Handler if single thread old handler signal signal S I G I N T sigint handler try func *args **kwargs finally if single thread if old handler is not None signal signal S I G I N T old handler else signal signal S I G I N T signal S I G DFL if sigint handler received raise Keyboard Interruptreturn wrapped 
def  get user certificate request user course key course preview mode None user certificate Noneif preview mode if has access request 'instructor' course or has access request 'staff' course user certificate Generated Certificate mode preview mode verify uuid unicode uuid4 .hex modified date datetime .date else try user certificate Generated Certificate certificates user user course id course key status Certificate Statuses except Generated Certificate Does Not Exist passreturn user certificate 
def register linter linter checker Exceptions Checker linter 
def assert Is Not None expr msg '' return assert Is Not expr None msg 
def constants pyx all lines []assign lines []for name in all names if name 'NULL' assign lines "globals ['NULL'] ZMQ NULL" else assign lines '{0} ZMQ {0}'.format name all lines '"{0}" '.format name return dict ASSIGNMENTS '\n'.join assign lines ALL '\n'.join all lines 
def model query context model *args **kwargs session kwargs 'session' or get session read deleted kwargs 'read deleted or context deleted project only kwargs 'project only query session model *args if read deleted 'no' query query by deleted False elif read deleted 'yes' passelif read deleted 'only' query query by deleted True elif read deleted 'int no query query by deleted 0 else raise Exception _ "nrecognizedread deletedvalue % read deleted if project only and is user context context if model models Volume Attachment query query models Volume id context id else query query by project id context id return query 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def Nakagami name mu omega return rv name Nakagami Distribution mu omega 
def filebytes fileobj buffersize 1024 buff fileobj buffersize while buff for byte in buff yield byte buff fileobj buffersize 
def Event type  fields None **fields event dict  fields or {} type type **fields if 'timestamp' not in event event time return event 
def Remove Directory rebalance loc data store D B Location if not os loc return Falseif not os loc return Falsetempdir  Get Transaction Directory loc rebalance try if tempdir loc shutil tempdir except O S Error pass 
def change USE TRAKT use trakt use trakt checkbox to value use trakt if sickbeard U S E TRAKT use trakt returnsickbeard U S E TRAKT use traktif sickbeard U S E TRAKT if not sickbeard Checker Scheduler logger u Starting T R A K T C H E C K E Rthread logger I N F O sickbeard Checker Scheduler Falsesickbeard Checker Scheduler Trueelse logger u Unabletostart T R A K T C H E C K E Rthread Alreadyrunning logger I N F O else sickbeard Checker Scheduler Falsesickbeard Checker Scheduler Truelogger u Stopping T R A K T C H E C K E Rthread logger I N F O 
def get Gcode Without Duplication duplicate Word gcode Text lines archive Text Lines gcode Text old Written Line Noneoutput c String I O String I O for line in lines first Word get First Word From Line line if first Word duplicate Word if line ! old Written Line output line + '\n' old Written Line lineelif len line > 0 output line + '\n' return output 
def authopenid request if hasattr request 'openid' openid request openid Noneif hasattr request 'openids' openids request openids []if hasattr request 'associated openids associated openids request openidselse associated openids []return {'openid' openid 'openids' openids 'associated openids associated openids 'signin with openid openid is not None 'has openids len associated openids > 0 }
def get locales prefix None normalize True locale getter  default locale getter try raw locales locale getter except return Nonetry raw locales raw locales '\n' out locales []for x in raw locales if PY3 out locales str x encoding pd else out locales str x except Type Error passif prefix is None return  valid locales out locales normalize found re '%s.*' % prefix .findall '\n'.join out locales return  valid locales found normalize 
def count Bits value assert 0 < value count 1bits 1while 1 << bits < value count + bitsvalue >> bitsbits << 1while 2 < value if bits ! 1 bits >> 1else bits - 1while 1 << bits < value count + bitsvalue >> bitsreturn count 
def s3 encode iso datetime dt if isinstance dt datetime datetime dx dt microsecond 0 else dx dtreturn dx 
def authenticate username password service 'login' @CONV F U N Cdef my conv n messages messages p response app data 'impleconversationfunctionthatrespondstoany CALLOC n messages sizeof Pam Response p response cast addr POINTER Pam Response for i in range n messages if messages style PAM PROMPT ECHO OFF pw copy STRDUP str password p response cast pw copy c char p p response retcode 0return 0handle Pam Handle conv Pam Conv my conv 0 retval PAM START service username pointer conv pointer handle if retval ! 0 return Falseretval PAM AUTHENTICATE handle 0 return retval 0
@decorators.which 'dig' def dig host cmd 'dig{0}'.format salt host host return   salt  ['cmd.run'] cmd 
def add selenium arguments parser parser argument '--selenium-browser' default 'auto' help BROWSER DESCRIPTION parser argument '--selenium-headless' default False action 'store true help HEADLESS DESCRIPTION parser argument '--selenium-remote' default False action 'store true help REMOTE DESCRIPTION parser argument '--selenium-remote-host' default '127.0.0.1' help REMOTE HOST DESCRIPTION parser argument '--selenium-remote-port' default '4444' help REMOTE PORT DESCRIPTION parser argument '--galaxy url default 'http //127.0.0.1 8080/' help GALAXY URL DESCRIPTION return parser 
def p logical and expression 2 t pass 
def Rubik Group n from sympy import rubikif n < 1 raise Value Error 'nvalidcube return Permutation Group rubik n 
def detach Request Gmm Cause presence 0 a Tp Pd pd 3 b Message Type mes Type 5 c Detach Type And Force To Standby packet a / b / c if Gmm Cause presence is 1 e Gmm Cause iei G C 37 packet packet / e return packet 
def configure zfs node variants return sequence [run remotely username 'root' address node commands task upgrade kernel distribution node node run remotely username 'root' address node commands sequence [task install zfs distribution node variants variants task create flocker pool file ] Effect Func lambda configure ssh node 22 ]
def setup management exists  type  id deployment id db current current taskargs '["%s" "%s" "%s"]' %  type  id deployment id query ttable name 'setup management & ttable args & ttable ['RUNNING' 'QUEUED' 'ASSIGNED'] exists db query .select ttable limitby 0 1 .first if exists return Truereturn False 
def  get picks raw return pick types raw meg True eeg False stim False ecg False eog False exclude 'bads'
def volume create name size 100 snapshot None voltype None **kwargs conn get conn create kwargs {'name' name 'size' size 'snapshot' snapshot 'voltype' voltype kwargs zone kwargs 'availability zone None return conn create **create kwargs 
def git commit id path ref cmd git cmd base path + ['show' ref try output run subprocess cmd stderr None universal newlines True [0]except Called Process Error raise Name Error "nknowngitreference % ref commit output '\n' [0]assert commit 7] 'commit' return commit ]
def is resource enabled resource return use resources is None or resource in use resources 
def event As J S O N event if bytes is str kw dict default object Save Hook encoding 'charmap' skipkeys True else def default unencodable 'erializeanobjectnototherwiseserializableby L Anunencodableobject C serialized isinstance unencodable bytes return unencodable 'charmap' return object Save Hook unencodable kw dict default default skipkeys True flatten Event event result dumps event **kw if not isinstance result unicode return unicode result 'utf-8' 'replace' return result 
def test iht wrong estimator ratio 0.7est 'rnd'iht Instance Hardness Threshold estimator est ratio ratio random state RND SEED assert raises Not Implemented Error iht sample X Y
def is Widdershins polygon Complex return get Area Loop polygon Complex > 0.0
def node format s name **extra shortname host nodesplit name return host format s host shortname or NODENAME DEFAULT p name **extra
def test mergextend assert mergextend ['a' 'b'] ['c' 'd'] ['a' 'b'] assert mergextend [] ['c' 'd'] [] assert mergextend ['a' 'b'] [] ['a' 'b'] assert mergextend [ ellipsis ['c' 'd'] ['c' 'd'] assert mergextend [ ellipsis 'b'] ['c' 'd'] ['c' 'd' 'b'] assert mergextend ['a'  ellipsis ['c' 'd'] ['a' 'c' 'd'] assert mergextend ['a'  ellipsis 'b'] ['c' 'd'] ['a' 'c' 'd' 'b'] if sys info > 3 assert eval "mergextend ['a' ... 'b'] ['c' 'd'] " ['a' 'c' 'd' 'b']
def helper here html u D O C T Y P Ehtml Hellofrom Flask Hello World helperhere {{h.render markdown '*hi*' }}</body>\n</html>"return render template string html 
def Register C L S I Ds From Dict dict map C L S I D To Class dict 
def copy2subjdir cls in file folder None basename None subject id None if not isdefined in file return in fileif isdefined cls dir subjects dir cls direlse subjects dir os if not subject id if isdefined cls id subject id cls idelse subject id u id basename None basename os in file if folder ! None out dir os subjects dir subject id folder else out dir os subjects dir subject id if not os out dir os out dir out file os out dir basename if not os out file shutil in file out file return out file 
def  add reference reference statement type  value  expand one key dictionary reference opt Option type  param Simple Parameter value opt parameter param statement child opt 
def test inherited getattribute class x object def   getattribute   self name if name 'abc' return 42return object  getattribute   self name class y x pass Are Equal y .abc 42
def  Shared Suffix pattern1 pattern2 return  Shared Prefix pattern1 -1 ] pattern2 -1 ] [ -1 ]
def  session tests session sample session '-r' 'testing/requirements.txt' session GCP REPO TOOLS REQ session sample if os os sample 'requirements.txt' session '-r' 'requirements.txt' session 'pytest' * PYTEST COMMON ARGS + session 
def hdata try  id request raise HTTP 400 table s3db hierarchyquery table False & table id  id row db query .select table L1 table L2 table L3 table L4 table L5 limitby 0 1 .first if not row return 'varn'hdict {}for l in ['L1' 'L2' 'L3' 'L4' 'L5'] if row hdict l ] ] row 'n %s\n' % json hdict separators SEPARATORS response Content Type 'application/json'return script 
def  inv22 vectorized M assert M 3 assert M -2 ] 2 2 M inv np like M delta inv np M[ 0 0] * M[ 1 1] - M[ 0 1] * M[ 1 0] M inv 0 0] M[ 1 1] * delta inv M inv 0 1] - M[ 0 1] * delta inv M inv 1 0] - M[ 1 0] * delta inv M inv 1 1] M[ 0 0] * delta inv return M inv 
def random rotation x rg row axis 1 col axis 2 channel axis 0 fill mode 'nearest' cval 0.0 theta np / 180 * np - rg rg rotation matrix np [[np.cos theta - np theta 0] [np.sin theta np theta 0] [0 0 1]] h w x axis x axis transform matrix transform matrix offset center rotation matrix h w x apply transform x transform matrix channel axis fill mode cval return x 
def get href element rel links element 'link' for link in links if link rel href link '/api/'url path urlparse href .pathindex url path needle result url path index + len needle - 1 ]return result 
def  create quota usage if missing user usages resource until refresh project id user id session new usage Noneif resource not in user usages user id to use user idif resource in PER PROJECT QUOTAS user id to use Nonenew usage  quota usage create project id user id to use resource 0 0 until refresh or None session user usages new usagereturn new usage is not None 
def rsub self rhs if isinstance rhs variable Variable return Sub rhs self  check constant type rhs return Sub From Constant rhs self 
def  do download version download base to dir download delay egg os to dir 'setuptools-%s-py%d.%d.egg' % version sys info sys info if not os egg archive download setuptools version download base to dir download delay  build egg egg archive to dir sys 0 egg if 'pkg resources in sys  unload pkg resources import setuptoolssetuptools install from egg 
def get ca bundle opts None if hasattr get ca bundle '  return value  ' return get ca bundle  return value  if opts is None opts {}opts bundle opts 'ca bundle None if opts bundle is not None and os opts bundle return opts bundlefile roots opts 'file roots {'base' [ R V ROOT DIR]} for salt root in file roots 'base' [] for path in 'cacert.pem' 'ca-bundle.crt' cert path os salt root path if os cert path return cert pathlocations '/etc/ssl/certs/ca-certificates.crt' '/etc/pki/tls/certs/ca-bundle.crt' '/etc/pki/tls/certs/ca-bundle.trust.crt' '/etc/ssl/certs/ca-bundle.crt' '/var/lib/ca-certificates/ca-bundle.pem' '/etc/ssl/cert.pem' for path in locations if os path return pathif salt windows and HAS CERTIFI return certifi return None 
def  get chunks shape ncpu chunks []nchunks per dim int ceil ncpu ** 1.0 / len shape used chunks 1for i in shape if used chunks < ncpu regular chunk i // nchunks per dim remainder chunk regular chunk + i % nchunks per dim if regular chunk 0 chunk lens remainder chunk else chunk lens regular chunk * nchunks per dim - 1 + remainder chunk else chunk lens i chunks chunk lens used chunks * nchunks per dimreturn tuple chunks 
def ndarray from pil pil dtype 'uint8' rval np pil if dtype ! rval rval np rval if str dtype .startswith 'float' rval / 255.0if len rval 2 rval rval rval rval 1 return rval 
def  get color percentage a c1 a c2 a c3 b c1 b c2 b c3 percent if not 0 < percent < 100 raise Value Error 'percentneedstobebetween0and100!' out c1 round a c1 + b c1 - a c1 * percent / 100 out c2 round a c2 + b c2 - a c2 * percent / 100 out c3 round a c3 + b c3 - a c3 * percent / 100 return out c1 out c2 out c3 
def Ngram Analyzer minsize maxsize None return Ngram Tokenizer minsize maxsize maxsize | Lowercase Filter 
def test huber and sgd same results X y make regression with outliers n samples 10 n features 2 huber Huber Regressor fit intercept False alpha 0.0 max iter 100 epsilon 1.35 huber X y X scale X / huber  y scale y / huber  huber X scale y scale assert almost equal huber  1.0 3 sgdreg S G D Regressor alpha 0.0 loss 'huber' shuffle True random state 0 n iter 10000 fit intercept False epsilon 1.35 sgdreg X scale y scale assert array almost equal huber  sgdreg  1
def get Teardrop Path By End Start end radius start xml Element inclination get Inclination end start return get Teardrop Path inclination radius xml Element 
def file validator optdict name value return optik ext file None name value 
def get order from tree ids tree text tree parse newick tree text Phylo Node ordered ids []for tip in tree Tips if tip Name in ids ordered ids tip Name return names to indices ids ordered ids 
def  solve simple f x DE g k from sympy import rsolve R E hyper re DE g k init {}for i in range len Add args RE if i f f x init k .subs k i ] f x 0 / factorial i sol rsolve RE g k init if sol return sol S Zero S Zero 
def get credit provider info request provider id credit provider Credit Provider credit provider provider id provider id credit provider data {}if credit provider credit provider data {'provider id credit provider id 'display name credit provider name 'provider url credit provider url 'provider status url credit provider status url 'provider description credit provider description 'enable integration credit provider integration 'fulfillment instructions credit provider instructions 'thumbnail url credit provider url Json Response credit provider data 
def get ips linode id None if linode id ips  query 'linode' 'ip.list' args {inode I D linode id else ips  query 'linode' 'ip.list' ips ips D A T A {}for item in ips node id str item L I N O D E I D if item I S P U B L I C 1 key 'public ips key 'private ips ret node id is None ret {node id {'public ips [] 'private ips []}} ret id item I P A D D R E S S if linode id  all ips {'public ips [] 'private ips []}matching id ret str linode id if matching id  all ips ips matching id ips all ips ips matching id ips  all ipsreturn ret 
def set lcd filter filt library get handle error FT Library Set Lcd Filter library filt if error raise FT Exception error 
def delta seconds before after delta after - before return datetime seconds delta 
def ensure minimal setup package manager if package manager in 'dnf' 'yum' return run network interacting from args ['su' 'root' '-c' [package manager '-y' 'install' 'sudo']] elif package manager 'apt' return sequence [run network interacting from args ['su' 'root' '-c' ['apt-get' 'update']] run network interacting from args ['su' 'root' '-c' ['apt-get' '-y' 'install' 'sudo']] ] else raise Unsupported Distribution 
def  validate labels labels l len labels total 0i -1 j 0for label in labels ll len label total + ll + 1 if ll > 63 raise Label Too Longif i < 0 and label '' i jj + 1if total > 255 raise Name Too Longif i > 0 and i ! l - 1 raise Empty Label 
def  resp charset property def getter self if ';charset ' in self return self ';charset ' [1]def setter self value if 'content-type' in self self self ';' [0]if value self + ';charset ' + value return property getter setter doc 'etrieveandsettheresponsecharset 
def fixup internal links config soups reverse directory {}for d s in config reverse directory dfor name soup in soups old src dir os config for tag in soup all True if not u in tag continueold rel path tag u [0]old dst os os old src dir old rel path if not old dst in reverse directory continuenew dst reverse directory dst + u new rel path rel href name new dst tag tag old rel path new rel path 1
def  open pem file cli arg path pem path if cli by cli cli arg path return util open pem path chmod 420 mode 'wb' os pem path else uniq util file pem path 420 'wb' return uniq os uniq 
def add Loop Loops Intersections loop loops Loops Intersections other Loops for point Index in xrange len loop point Begin loop Index End loop point Index + 1 % len loop ]ine Loops Intersections loops Loops Intersections other Loops point Begin point End 
def screensaver cmd 'ystem Library Frameworks Screen Saver Versions A Resources Screen Saver Engine   salt  ['cmd.run all cmd output loglevel 'debug' python shell False  check cmd call return True 
def populate option groups with options assignments indexed options for opt group opt dest list in assignments new options []for option dest in assignments group for option in indexed options dest new options option opt group options new options opt group list sorted opt group list key lambda item item opt string 
def unescape doctest text if not contains doctest text return textcode ''for line in text '\n' m re '^\\s* >>>|\\.\\.\\. .* $' line if m code + m 2 + '\n' elif line code + '#' + line + '\n' else code + '\n'return code 
def we Are Frozen return hasattr sys 'frozen'
def split resource url resource url protocol path  resource url u ' 1 if protocol u passelif protocol u if path .startswith u path  u + path .lstrip u else path  re u 2}' u path  return protocol path 
def idd sfrm l n w x return  id sfrm l n w x 
def create digest traverser cloudtrail client s3 client provider trail arn trail source region None on invalid None on gap None on missing None bucket None prefix None assert cloudtrail arn is valid trail arn account id get account id from arn trail arn if bucket is None trail info get trail by arn cloudtrail client trail arn L O G 'oadedtrailinfo %s' trail info bucket trail info S3 Bucket Name trail info '3 Key Prefix None trail region trail arn ' ' [3]trail name trail arn '/' [ -1 ]digest provider Digest Provider account id account id trail name trail name s3 client provider s3 client provider trail source region trail source region trail home region trail region return Digest Traverser digest provider digest provider starting bucket bucket starting prefix prefix on invalid on invalid on gap on gap on missing on missing public key provider Public Key Provider cloudtrail client 
def assert contains haystack needle if needle not in haystack raise Assertion Error 'item%rnotfoundincollection%r' % needle haystack 
def match Set Contribution match set target set index contribution 0.0for t in target set match - float 'inf' id -1 for i m in enumerate match set v match Strength m t if v > match match vid iif id index contribution + matchreturn contribution / len target set 
def test events are condensed api client message ts int time + 22 cursor get cursor api client ts message id api client data '/messages/' [0]['id']message path '/messages/{}'.format message id api client data message path {'unread' True api client data message path {'unread' False api client data message path {'unread' True sync data api client data '/delta?cursor {}'.format cursor deltas sync data deltas [d for d in deltas if d 'message' ]assert len message deltas 1 delta message deltas delta 'message' and delta 'modify' assert delta is True 
def  compute mne loc coil loc loc np 12 if np coil loc coil 0 and np coil loc coil 0 return locloc 3] coil loc coil / 39.370078 z axis coil loc coil - coil loc coil R rotation3d align z axis z axis loc 13] R T 9 return loc 
def truncate second dt measure d datetime dt dt dt tzinfo dt seconds total seconds dt - d // measure * measure return dt seconds + utctotimestamp d 
def wsgi xmlrpc environ start response if environ R E Q U E S T METHOD'] 'POST' and environ P A T H I N F O '/xmlrpc/' length int environ C O N T E N T LENGTH'] data environ length string faultcode Trueif environ P A T H I N F O '/xmlrpc/2/' service environ P A T H I N F O '/xmlrpc/2/' ]string faultcode Falseelse service environ P A T H I N F O '/xmlrpc/' ] params method xmlrpclib data return xmlrpc return start response service method params string faultcode 
def init Target Env if conf Targets if conf D B conf D B if conf reset Cookie Jar conf conf Dict {}conf.parameters { B File None set Knowledge Base Attributes False  restore Merged Options  set D B M S if conf class _ unicode passkb Url Encode Truefor key value in conf Headers if key HTTP HEADER.CONTENT T Y P E kb Url Encode 'urlencoded' in value breakif kb Url Encode original conf _ urldecode conf setattr conf UNENCODED ORIGINAL VALUE original kb Space To Plus '+' in original 
def new grep text None parent None widget Grep parent parent if text widget for text return widget 
def get Transform Element Node coords transform Name transform Element Node coords First Child By Local Name transform Name if len transform Element Node < 16 if 'bf ref in transform Element Node id Reference transform Element Node ref coords Document Element .ub Child With I D id Reference return transform Element Node 
def alpha composite im1 im2 im1 im2 return im1 new core composite im1 im2 
def test finder deplink req Install Requirement line 'gmpy 1.15' None finder Package Finder [] [] process dependency links True session Pip Session finder dependency links ['https //pypi.python.org/packages/source/g/gmpy/gmpy-1.15.zip'] link finder requirement req False assert link 'https //pypi' link 
def get New Repository return Fill Repository 
def is course cohorted course key return get course cohort settings course key .is cohorted 
def make table oldtable None values None if oldtable is None table {'init' 0 0 'init A/T' 0 0 'init G/C' 0 0 'init one G C 0 0 'init all A T 0 0 'init 5T/A' 0 0 'sym' 0 0 'AA/TT' 0 0 'AT/TA' 0 0 'TA/AT' 0 0 'CA/GT' 0 0 'GT/CA' 0 0 'CT/GA' 0 0 'GA/CT' 0 0 'CG/GC' 0 0 'GC/CG' 0 0 'GG/CC' 0 0 }else table oldtable if values table values return table 
def put response to local cache url  our resp without content False if parse ! 'GET' or  our resp code ! 200 returndbgprint 'utting Cache ' url 'without content ' without content if without content our resp copy  our resp our resp Noneobj size 0else our resp  our respobj size len parse response last modified parse response 'ast Modified None cache obj url our resp expires get expire from mime parse obj size obj size last modified last modified info dict {'without content without content 'last modified last modified 
def get diff mat dim axis val arr []row arr []col arr []for i in range dim val arr 1.0 row arr i col arr i if i > 0 val arr -1.0 row arr i col arr i - 1 mat sp matrix val arr row arr col arr dim dim .tocsc if axis 0 return matelse return mat T 
def test alnum arr for element in arr if not element return Falsereturn True 
def test subdomain detect for bn in SUBDOMAIN OK assert  is mostly subdomain compatible bn is True for bn in SUBDOMAIN BOGUS assert  is mostly subdomain compatible bn is False 
def in special context node global p0 p1 p2 pats builtif not pats built p0 patcomp pattern p0 p1 patcomp pattern p1 p2 patcomp pattern p2 pats built Truepatterns [p0 p1 p2 pattern parent in zip patterns attr chain node 'parent' results {}if pattern parent results and results is node return Truereturn False 
def ALL REGIONS WITH CONTENT RATINGS return [x for x in ALL REGIONS if x 
def arity rel if len rel 0 return 0return len list rel [0]
def royal road2 individual order total 0norder orderwhile norder < order ** 2 total + royal road1 norder individual [0]norder * 2return total 
def members option arg if arg is None return A L Lreturn [x.strip for x in arg ' ' ]
def is known charset charset try codecs charset except Lookup Error return Falsereturn True 
def set feature dev feature recipient None bm Request Type w Index  parse recipient recipient util C T R L OUT dev transfer bm Request Type bm Request Type b Request 3 w Index w Index w Value feature 
def pport D6 state global data Regif state 0 data Reg data Reg & ~ 64 else data Reg data Reg | 64 port Dl Port Write Port Uchar base Address data Reg 
def list fonts directory extensions pattern u [ u % ext ext for ext in extensions return cbook Files directory pattern 
def test forum save category moderator user forum Forum title 'est Forum category id category forum [moderator user assert forum 'est Forum assert forum [moderator user 
def get taxa coords tax counts sample coords tax counts apply along axis lambda x x / float sum x 0 tax counts tax ratios apply along axis lambda x x / float sum x 1 tax counts return dot tax ratios sample coords 
def get args parser cli arg parser parser argument '-v' '--vm uuid required False action 'store' help 'irtualmachineuuid parser argument '-r' '--vm user required False action 'store' help 'virtualmachineusername' parser argument '-w' '--vm pwd required False action 'store' help 'virtualmachinepassword' parser argument '-l' '--path inside vm required False action 'store' help 'athinside V Mforupload parser argument '-f' '--upload file required False action 'store' help 'athofthefiletobeuploadedfromhost args parser args cli for password args return args 
def wrapmodule module if  defaultproxy ! None module socksocketelse raise General Proxy Error 4 'noproxyspecified'
def convert to bytes string factors {'K' 1024 'M' 1024 * 1024 'G' 1024 * 1024 * 1024 'T' 1024 * 1024 * 1024 * 1024 'P' 1024 * 1024 * 1024 * 1024 * 1024 'E' 1024 * 1024 * 1024 * 1024 * 1024 * 1024 }for f fm in factors if string f number float string -1 ] number number * fm return long number return long string 
@ajax required http methods ['POST' 'DELETE'] def manage suggestion request uid sugg id **kwargs  if request 'DELETE' return reject suggestion request uid sugg id elif request 'POST' return accept suggestion request uid sugg id 
def setup button hass config add entities client address timeout config CONF TIMEOUT ignored click types config CONF IGNORED CLICK TYPES button Flic Button hass client address timeout ignored click types  L O G G E R 'onnectedtobutton %s ' address add entities [button]
def whitelist allow guest False xss safe False def innerfn fn global whitelisted guest methods xss safe methodswhitelisted fn if allow guest guest methods fn if xss safe xss safe methods fn return fnreturn innerfn 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def  fast count smallints arr if len arr 0 return np 0 2 dtype arr else counts np arr np  nz counts [0]return np [ nz counts ]
def puppyplot grown up False from .external.six.moves.urllib.request import urlopenfrom I Python import H T M Ltry from bs4 import Beautiful Soupurl 'http //www.dailypuppy.com'if grown up url + '/dogs'html doc urlopen url soup Beautiful Soup html doc puppy soup 'div' {'class' 'daily puppy return HTML str puppy except Import Error html '<imgsrc "http //cdn-www.dailypuppy.com/dog-images/decker-the-nova-scotia-duck-tolling-retriever 72926 2013-11-04 w450 "width 450px;"/>'return HTML html 
def non neighbors graph node nbors set neighbors graph node | {node} return nnode for nnode in graph if nnode not in nbors 
def test pprint nomod output pretty No Module nt equal output 'o Module 
def answer output s3 rest controller return output 
def sample prediction size vocabulary size p np shape [1 size dtype np p 0 sample distribution prediction ] 1.0return p 
def  subject from forward forward return forward 'subject his id None 
def set user info cookie response request cookie settings  get cookie settings request user info cookie is secure request secure user info get user info cookie data request response cookie settings E D X M K T G USER INFO COOKIE N A M E u json user info secure user info cookie is secure **cookie settings 
def from pci stats pci stats pools []if isinstance pci stats six types try pci stats jsonutils pci stats except Value Error Type Error pci stats Noneif pci stats if 'nova object in pci stats return objects Pci Device Pool List from primitive pci stats elif isinstance pci stats list pools [ci Device Pool dict stat for stat in pci stats pools [ci Device Pool dict pci stats ]return objects Pci Device Pool List objects pools 
def dfs postorder b seen order []seen[b] bfor c in b children if seen key c continueorder order + dfs postorder c seen order b return order 
@treeio login required admin required def page view request page id response format 'html' page get object or 404 Page pk page id return render to response 'core/administration/page view {'page' page context instance Request Context request response format response format 
def test extract array return pos large test array np 5 for i in np -1 6 extracted new pos extract array large test array 3 i mode u return position True assert new pos 1 for i expected in zip [1.49 1.51 3] [1.49 0.51 1] extracted new pos extract array large test array 2 i mode u return position True assert new pos expected for i expected in zip np -1 6 -1 0 1 1 1 1 1 extracted new pos extract array large test array 3 i mode u return position True assert new pos expected 
def negate tips to keep tips to keep tree tips to keep set tips to keep tmp tips set [ame for tip in tree ] tips set [t.strip "'" .strip '"' for t in tmp tips return tips - tips to keep 
def  generic H T T P Channel Protocol Factory self return  Generic H T T P Channel Protocol H T T P Channel 
def test feature max length on step sentence feature Feature string FEATURE4 assert equals feature length 55
def shlex quotes value lex shlex value lex '"'lex.whitespace split Truelex ''return list lex 
def max heapify seq i n l 2 * i + 1 r 2 * i + 2 if l < n and seq > seq largest lelse largest iif r < n and seq > seq largest rif largest ! i seq seq seq seq max heapify seq largest n 
def clean url prefixes if hasattr  local 'prefix' delattr  local 'prefix'
def t cleaning features gb parser Gen Bank Feature Parser feature cleaner utils Feature Value Cleaner handle open os 'en Bank 'arab1.gb' iterator Gen Bank Iterator handle gb parser first record next iterator translation feature first record trans translation feature '' not in test trans 'idnotcleanspacesoutofthetranslation '\n' not in test trans 'idnotcleannewlinesoutofthetranslation 
def cmp version ver1 ver2 return cmp [int v for v in ver1 '.' ] [int v for v in ver2 '.' ]
def is win32 return sys u or sys u 
def dup mul term f c i K if not c or not f return []else return [ cf * c for cf in f + [ * i 
def  hamming Distance s1 s2 return sum abs s1 - s2 
def unpatch module attribute name was patched Falseattribute getattr module attribute name if hasattr attribute   BACKUP ATTRIBUTE NAME attribute old getattr attribute   BACKUP ATTRIBUTE NAME setattr module attribute name attribute old was patched Truereturn was patched 
def test sizeof fmt assert equal sizeof fmt 0 '0bytes' assert equal sizeof fmt 1 '1byte' assert equal sizeof fmt 1000 '1000bytes'
def assert categorical equal left right check dtype True obj 'ategorical check category order True assert Is Instance left pd Categorical 'ategorical assert Is Instance right pd Categorical 'ategorical if check category order assert index equal left right obj '{0}.categories'.format obj assert numpy array equal left right check dtype check dtype obj '{0}.codes'.format obj else assert index equal left values right values obj '{0}.categories'.format obj assert index equal left left right right obj '{0}.values'.format obj assert attr equal 'ordered' left right obj obj 
def Connect And Disconnect Child Modules old module dict new module dict old keys set old module dict new keys set new module dict for deleted module name in old keys - new keys if old module dict module name is None continuesegments deleted module name '.' 1 if len segments 2 parent module new module dict segments if parent module and hasattr parent module segments delattr parent module segments for added module name in new keys - old keys if new module dict module name is None continuesegments added module name '.' 1 if len segments 2 parent module old module dict segments child module new module dict module name parent module and getattr parent module segments None is not child module setattr parent module segments child module 
def get module data path modname relpath None attr name 'DATAPATH' datapath getattr sys attr name '' if datapath return datapathelse datapath get module path modname parentdir osp datapath osp if osp parentdir datapath osp osp osp parentdir osp modname if relpath is not None datapath osp osp datapath relpath return datapath 
def parse accept value result []for match in part re ' ' + value name match 1 if name 'q' continuequality match 2 or '' if not quality quality 1else try quality max min float quality 1 0 except Value Error quality 1result.append name quality return result 
def fixed hessian point vars None model None model modelcontext model if vars is None vars model varsvars inputvars vars point Point point model model bij Dict To Array Bijection Array Ordering vars point dlogp bij model vars rval np bij point .size / 10 return rval 
def cache on disk t cache 'time' lambda time time expire 5 return dict time t link A 'clicktoreload'  href URL r request 
def should validate filename for extension in INCLUDE TYPES if filename extension return Truereturn False 
def hmac sha256 k m key Open S S L k len k d Open S S L m len m md Open S S L 0 32 i Open S S L Open S S L int 0 Open S S L H M A C Open S S L E V P sha256 key len k d len m md i return md 
def none to zero x if x is None return 0return x 
def set time info layer attribute end attribute presentation precision value precision step enabled True layer gs catalog layer layer if layer is None raise Value Error 'nosuchlayer %s' % layer resource layer Noneif precision value and precision step resolution '%s%s' % precision value precision step info Dimension Info 'time' enabled presentation resolution 'ISO8601' None attribute attribute end attribute end attribute metadata dict resource or {} metadata inforesource metadatags catalog resource 
def send email invitation email event name link message settings Message Settings by action INVITE PAPERS .first if not message settings or message settings status 1 send email to email action INVITE PAPERS subject MAILS[INVITE P A P E R S event name event name html MAILS[INVITE P A P E R S email str email event name str event name link link 
def attach Complete a Tp Pd pd 3 b Message Type mes Type 3 packet a / b return packet 
def dataset followee count context data dict return  followee count context data dict context User Following Dataset 
def on D B Mgr Shut Down INFO MSG ' B Mgr Shut Down '
def short time label seconds if seconds < 0 raise Value Error "nputneedstobeanon got % seconds time comp {}for amount _ label in TIME UNITS count int seconds / amount seconds % amounttime comp ] countlabel '%02i %02i' % time comp time comp if time comp label '%i-%02i %s' % time comp time comp label elif time comp label '%02i %s' % time comp label return label 
def get group symbol locale LC NUMERIC return Locale locale .number symbols 'group' u '
def get module app modname verbose failfast module name '%s.%s' % app modname app mod import module app try imp module modname app mod  path   if hasattr app mod '  path  ' else None except Import Error if failfast raiseelif verbose print u Couldnotfind % modname app traceback exc return Nonemodule import module module name if verbose print u Loaded % modname app return module 
def test prove arguments for goal assumptions in arguments g Expression goal alist [xpression a for a in assumptions Prover9 Command g assumptions alist .prove for a in alist print '%s' % a print '|-%s %s\n' % g p 
def seedit seed 0 import randomimport numpyrandom seed numpy seed 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def get Import Radius element Node if element Node None return 0.36preferences skeinforge craft Craft Preferences 'carve' import Coarseness get Import Coarseness element Node preferences layer Height skeinforge craft Craft Value 'ayer Height preferences layer Height get Cascade Float Without Self layer Height element Node 'eight edge Width Over Height skeinforge craft Craft Value 'dge Widthover Height preferences edge Width Over Height get Cascade Float Without Self edge Width Over Height element Node 'idth Over Height return get Cascade Float Without Self 0.5 * import Coarseness * layer Height * edge Width Over Height element Node 'adius 
def plugin loaded name if name in  PLUGINS return Truereturn False 
def x forwarded ip request ip address list request M E T A 'HTTP X FORWARDED FOR' if ip address list ip address list ip address list ' ' return ip address list 
def run Some tests []names [aster Context Setup 'aster Road Stats 'aster Lane Stats 'aster Stats Wrong Missing Tag 'aster Stats Unknown Remote 'aster Stats No Request 'inion Context Setup 'inion Road Stats 'inion Lane Stats 'inion Stats Wrong Missing Tag 'inion Stats Unknown Remote 'inion Stats No Request map Stats Eventer Test Case names suite unittest Test Suite tests unittest Text Test Runner verbosity 2 .run suite 
def selected items list widget items item count len items selected []for widget item in list widget Items row list widget widget item if row < item count selected items return selected 
def Generate Passphrase length 20 valid chars ' B C D E F G H I J K L M N O P Q R S T U V W X Y Z chars + '0123456789 - &$#'return ''.join random valid chars for i in range length 
def real project name project name if project name u name return u name project name 
def get Normal a b c p np normalize b - a 1 n - np normalize c - a 1 p * -1 n * -1 return normalize p + n * 0.5
def separate x axis 0 shape list x del shape split axis axis x x axis force tuple True return tuple reshape y shape for y in ys 
def recipient represent id default label '' output ''table s3db pentitype db table id id .select table type limitby 0 1 .first if not pe return outputinstance type pe typetable db instance type None if not table return outputif instance type 'pr person person db table id id .select table name table name table name limitby 0 1 .first if person output s3 fullname person elif instance type 'pr group group db table id id .select table limitby 0 1 .first if group output group output 
def parse authorization header value if not value returnvalue wsgi to bytes value try auth type auth info value None 1 auth type auth type except Value Error returnif auth type 'basic' try username password base64 auth info .split ' ' 1 except Exception returnreturn Authorization 'basic' {'username' bytes to wsgi username 'password' bytes to wsgi password } elif auth type 'digest' auth map parse dict header auth info for key in 'username' 'realm' 'nonce' 'uri' 'response' if key not in auth map returnif 'qop' in auth map if not auth map 'nc' or not auth map 'cnonce' returnreturn Authorization 'digest' auth map 
def  fixup cell info cell info keys if 'transport url not in cell info returntransport url cell info 'transport url try transport url rpc transport url transport url except messaging Invalid Transport U R L for key in keys cell info key None returnif not transport url returntransport host transport url field map {'rpc host 'hostname' 'rpc port 'port'}for key in keys if key in cell info continuetransport field transport field map key key cell info getattr transport host transport field 
def expose url '/' methods 'GET' def wrap f if not hasattr f ' urls f urls []f. urls url methods return freturn wrap 
def skip reason def decorator test item if isinstance test item type and issubclass test item Test Case test item  unittest skip   Truetest item  unittest skip why   reasonreturn test item copy test item def skip wrapper *args **kwargs raise Skip Test reason return skip wrapperreturn decorator 
def  js slot *args def  decorator method @functools.wraps method def new method self *args **kwargs try return method self *args **kwargs except e str sys info [0] log ' A Cevaluationerror return self error con As Constructor [e] return pyqt Slot result Q J S Value *args new method return  decorator 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def  process plotsummary x xauthor x 'author' xplot x 'plot' u .strip if xauthor xplot + u %s' % xauthor return xplot 
def Any Entry From String xml string tree Element Tree xml string category tree '{%s}category' % atom A T O M NAMESPACE if category is None return atom Create Class From Element Tree G Photos Base Entry tree namespace kind category 'term' .split '#' if namespace ! PHOTOS NAMESPACE return atom Create Class From Element Tree G Photos Base Entry tree feed class getattr gdata 'ntry % kind return atom Create Class From Element Tree feed class tree 
def get rev primer seqs mapping fp hds mapping data run description errors warnings process id map mapping fp has barcodes False disable primer check True if errors for curr err in errors if curr err 'uplicate Sample I D raise Value Error 'rrorswerefoundwithmappingfile ' + 'pleaserunvalidate mapping file + 'identifyproblems.' id map {}for curr data in mapping data id map data {}for header in range len hds for curr data in mapping data id map data curr data primers {}for curr id in id map try reverse primers id [str DNA curr rev primer .rc for curr rev primer in id map id Reverse Primer ' ' ]except Key Error raise Key Error 'everseprimernotfoundinmappingfile ' + "everse Primer for curr err in errors if curr err 'nvalid D N Asequencedetected raise Value Error 'roblemsfoundwithreverseprimers please + 'checkmappingfilewithvalidate mapping file return reverse primers 
def get Until First Bracket text dot Index text ' ' if dot Index < 0 return textreturn text dot Index 
def p declaration specifiers 3 t pass 
def drop caches utils 'sync' verbose False utils 'echo3>/proc/sys/vm/drop caches ignore status True verbose False 
def  set logfile close signal handler logfile def  on signal close logfile before exit unused signal no unused frame logfile os 1 signal signal S I G T E R M  on signal close logfile before exit 
def  combined regex regexes flags re I G N O R E C A S E use re2 False max mem None joined regexes '|'.join r for r in regexes if r if not joined regexes return Noneif use re2 import re2return re2 joined regexes flags flags max mem max mem return re joined regexes flags flags 
def  get thread callback thread data def callback request  uri headers 'imulatethethreadcreationorupdateendpointbyreturningtheprovided overridesanddummyvaluesforany data make minimal cs thread thread data for key val list in request body val val list key in ['anonymous' 'anonymous to peers 'closed' 'pinned'] response data val 'rue else response data valreturn 200 headers json response data return callback 
def dep attrs snippet resource name if isinstance snippet Function return snippet attrs resource name elif isinstance snippet collections Mapping attrs dep attrs value resource name for value in snippet return itertools iterable attrs elif not isinstance snippet six types and isinstance snippet collections Iterable attrs dep attrs value resource name for value in snippet return itertools iterable attrs return []
def decode chunked transfer chunked body body h t '' '' chunked body while t h t t '\r\n' 1 if h '0' breaksize int h 16 body + t size t size + 2 ]return body 
def get key key host None port None db None password None server  connect host port db password return server key 
def Compile Query schema bound query str if isinstance bound query str tuple query str param dict bound query strelse query str bound query strparam dict Nonequery  query cache Get schema query str lambda Query schema query str return query param dict 
def iddr rid m n matvect k idx proj  id rid m n matvect k proj proj k * n - k ].reshape k n - k order 'F' return idx proj 
def  list descriptors return [desc for desc in [desc for _ desc in X Module Descriptor classes ]]
def real path to hdfs uri real path environ hdfs root get mock hdfs root environ environ if not real path hdfs root raise Value Error 'path%sisnotin%s' % real path hdfs root hdfs uri real path hdfs root ]if not hdfs uri '/' hdfs uri '/' + hdfs uri return hdfs uri 
def  mbcs to unicode wrap obj vtype if vtype u R E G BINARY' return objif isinstance obj list return [ mbcs to unicode x for x in obj isinstance obj int return objelse return  mbcs to unicode obj 
def path to songname path return os os path [0]
def scan cix content filename md5sum None mtime None lang 'ython codeintel scan et content filename md5sum mtime lang tree et Element Tree codeintel stream String I O tree stream 'utf-8' raw cix stream cix raw cix '\n' ' return cix 
def  set H T T P Host if conf debug Msg ' T T P Hostheader debug Msg conf Headers HTTP HEADER.HOST conf 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def eval univariate f var idx point x bij Dict To Var Bijection var idx point return list map bij f x 
def get New Repository return Fill Repository 
def get filters from dict data attr info skips None skips skips or [] res {}for key values in data if key in skips or hasattr model base B A S E V2 key continuevalues [v for v in values if v attr info attr info key {} if 'convert list to in key attr info values key attr info list to values elif 'convert to in key attr info convert to key attr info to [convert to v for v in values values res valuesreturn res 
def collect glib etc files *path glib config dirs get glib sysconf dirs if glib config dirs is None return []destdir os 'etc' *path[ -1 ] collected []for config dir in glib config dirs p os config dir *path collected + collect system data files p destdir destdir include py files False return collected 
def is scalar or string val return is string like val or not iterable val 
def rref solve matlist variable constant K new matlist copy matlist augmented augment new matlist constant K solution rref augmented K return col solution -1
def runrefreshrepo module auto import keys False shortname None if auto import keys cmd  get cmd '--gpg-auto-import-keys' 'refresh' '--force' else cmd  get cmd 'refresh' '--force' if shortname is not None cmd ['-r' shortname rc stdout stderr module command cmd check rc True return rc stdout stderr 
def communicate command None if command is not None logger 'DEBUG sendingcommand % command pipe in command result []while True data pipe out if data is None breakresult data logger 'DEBUG result % repr result return ''.join result 
def stringfilter func def  dec *args **kwargs if args args list args args force text args if isinstance args Safe Data and getattr  dec decorated function 'is safe False return mark safe func *args **kwargs return func *args **kwargs  dec decorated function getattr func ' decorated function func return wraps func  dec 
def get sandbox path virtualenv path sandbox path []parent path os 'PATH' '' if not virtualenv path return parent pathparent path parent path ' ' parent path [path for path in parent path if path bin path os virtualenv path 'bin/' sandbox path virtualenv bin path sandbox path parent path sandbox path ' '.join sandbox path return sandbox path 
def  recurmatch path aug if path clean path path '/*' yield clean path aug path for i in aug clean path + '/*' i i '!' '\\!' for  match in  recurmatch i aug yield  match 
def askretrycancel title None message None **options s  show title message WARNING RETRYCANCEL **options return s RETRY
def autoassign self locals for key value in iteritems locals if key 'self' continuesetattr self key value 
def list upgrades refresh False root None **kwargs upgrades {}cmd ['pacman' '-S' '-p' '-u' '--print-format' '%n%v']if root is not None cmd '-r' root if refresh cmd '-y' call   salt  ['cmd.run all cmd python shell False output loglevel 'trace' if call ! 0 comment ''if 'stderr' in call comment + call 'stdout' in call comment + call comment comment ' ' + comment raise Command Execution Error 'rrorlistingupgrades + comment else out call line in salt out '\n' try pkgname pkgver line except Value Error continueif pkgname 'downloading' and '.db' in pkgver continueupgrades pkgverreturn upgrades 
def foldl fn elems initializer None name None if initializer is None initializer elems elems ]fn2 lambda x acc fn acc x return theano fn2 elems initializer name name [0]
def correct mapping data mapping data header char replace '_' corrected data deepcopy mapping data valid sample id chars letters + digits + '.' valid data field chars letters + digits + '+-%./ ;_' sample id char replace '.'sample id field 'ample I D to skip [arcode Sequence 'inker Primer Sequence 'everse Primer sample id ix header sample id field except Value Error sample id ix -1 fields to skip ixs []for curr field in fields to skip try fields to skip ixs header curr field except Value Error continuefor curr row in range len mapping data for curr col in range len mapping data row if curr col in fields to skip ixs continueelif sample id ix ! -1 and curr col sample id ix curr replacement sample id char replacecurr valid chars valid sample id charselse curr replacement char replacecurr valid chars valid data field charscurr corrected field ''for curr char in mapping data row col '\n' '' if curr char not in curr valid chars curr corrected field + curr replacementelse curr corrected field + curr charcorrected data row col curr corrected fieldreturn corrected data 
def auto from .autopep8 import fix fileclass Options object aggressive 2diff Falseexperimental Trueignore vim 'g pymode lint ignore in place Trueindent size int vim '&tabstop' line range Nonemax line length int vim 'g pymode options max line length pep8 passes 100recursive Falseselect vim 'g pymode lint select verbose 0fix file vim Options 
def refresh db if 'eix.sync' in   salt   return   salt  ['eix.sync'] if 'makeconf.features contains in   salt   and   salt  ['makeconf.features contains 'webrsync-gpg' cmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0 else if   salt  ['cmd.retcode'] 'emerge--askn--quiet--sync' python shell False 0 return Truecmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0
def fake execute set repliers repliers global  fake execute repliers fake execute repliers repliers 
def iphexval ip a ip '.' hexval ''for val in a hexval ''.join [hexval hex int val [2 ].zfill 2 ] return hexval 
def  get msvcrt symbol symbol from ctypes import cdll cast c void pf getattr cdll symbol return cast f c void p .value
def serialize device device device data {}device data device data device data device data device data addresses [{'address' addr data 'address family addr data family 'public' addr data for addr data in device addresses ipdata in device data addresses if ipdata if ipdata family 6 device data ipv6 ipdata ipdata family 4 device data ipv4 ipdata not ipdata if ipdata family 6 device data ipv6 ipdata ipdata family 4 device data ipv4 ipdata device data 
def  prepare rerp data raw events picks None decim 1 if picks is None picks pick types raw meg True eeg True ref meg True info pick info raw picks decim int decim info / decim data times raw ]data data decim len set events 0] < len events 0] raise Value Error 'akesureallentriesinthefirstcolumnof events events events 0] - raw sampevents 0] // decimif len set events 0] < len events 0] raise Value Error 'fterdecimating `hismeanssomeeventsaretoocloselyspacedfortherequesteddecimationfactor Choosedifferentevents dropcloseevents orchooseadifferentdecimationfactor return data info events 
def endpoint direction address return address &  ENDPOINT DIR MASK
def check evennia dependencies from evennia launcher import check main evennia dependenciesnot error check main evennia dependencies errstring ''if 'south' in settings I N S T A L L E D APPS errstring + " R R O R ' N S T A L L E D A P P S Southisnolongerused Ifthiswasaddedmanually removeit error Falseif settings I R C ENABLED try import twisted Import Error errstring + " R R O R I R Cisenabled buttwisted Pleaseinstallit Linux Debian Ubuntuusersshouldinstallpackage others /wisted Words error Falseerrstring errstring if errstring mlen max len line for line in errstring '\n' logger err '%s\n%s\n%s' % '-' * mlen errstring '-' * mlen return not error 
def  hex to rgba hexs hexs np 1d np hexs '|U9' out np len hexs 4 np for hi h in enumerate hexs assert isinstance h string types off 1 if h '#' else 0 assert len h in 6 + off 8 + off e len h - off // 2 out e [ int h i + 2 ] 16 / 255.0 for i in range off len h 2 ]return out 
def pipeline id from name name region None key None keyid None profile None r {}result pipelines list pipelines if 'error' in result pipelines return result pipelinesfor pipeline in result pipelines if pipeline name r pipeline rr 'opipelinefoundwithname {0}'.format name return r 
def  butterfly onpick event params params draw Trueax event idx np [ ax is a for a in params [0]if len ax idx 0 returnelse ax idx ax idx np [ l is event for l in params idx [0][0]ch name params names idx params idx event xdata [event.ind[0]]y event ydata [event.ind[0]]text.set x x text y y text text ch name text color event color text alpha 1.0 text zorder len ax text path effects params effects 
def get vlan config commands vlan vid reverse value map {'admin state {'down' 'shutdown' 'up' 'noshutdown'}}if vlan 'admin state vlan apply value map reverse value map vlan VLAN ARGS {'name' 'name{0}' 'vlan state 'state{0}' 'admin state '{0}' 'mode' 'mode{0}' 'mapped vni 'vn-segment{0}'}commands []for param value in vlan if param 'mapped vni and value 'default' command 'novn-segment'else command VLAN A R G S param .format vlan param if command commands command commands 0 'vlan' + vid commands 'exit' return commands 
def general random intersection graph n m p if len p ! m raise Value Error 'robabilitylistpmusthavemelements G nx graph n + m mset range n n + m for u in range n for v q in zip mset p if random < q G edge u v return nx graph G range n 
def sall brule fns basic fns op new children leaf map fns 'op' 'new' 'children' 'leaf' def all rl expr if leaf expr yield expr else myop op expr argss product *map brule children expr for args in argss yield new myop *args return all rl 
def flatten el el include hrefs skip tag False if not skip tag if el 'img' yield 'img' el 'src' start tag el else yield start tag el if el in empty tags and not el and not len el and not el returnstart words split words el for word in start words yield html escape word for child in el for item in flatten el child include hrefs include hrefs yield item if el 'a' and el 'href' and include hrefs yield 'href' el 'href' if not skip tag yield end tag el end words split words el for word in end words yield html escape word 
@pytest.mark.parametrize u totest frames def test gcrs altaz moonish testframe moon GCRS MOONDIST CART obstime testframe moonaa moon to testframe assert 1000 * u < np moonaa - moon .to u < 7000 * u moon2 moonaa to moon assert allclose moon moon2 
def unfold entities entity list target level if target level not in entity levels raise P D B Exception '%s Notanentitylevel % target level if entity list [] return []if isinstance entity list Entity Atom entity list [entity list entity list level if not all entity level level for entity in entity list raise P D B Exception 'ntitylistisnothomogeneous target index entity levels target level level index entity levels level if level index target index return entity listif level index > target index for i in range target index level index entity list itertools iterable entity list else for i in range level index target index entity list set entity parent for entity in entity list return list entity list 
def new feed id entry cache {} try s entry + entry except Key Error msg 'equiredkeymissing %r'raise Bogus Entry msg % entry hashval hash s sign 'A' if 0 < hashval else 'B'  id entry + 'F' + str hashval + sign .zfill 21 return  id 
def lesk context sentence ambiguous word pos None synsets None context set context sentence if synsets is None synsets wordnet ambiguous word if pos synsets [ss for ss in synsets if str ss pos ]if not synsets return None _ sense max len context ss .split ss for ss in synsets return sense 
def elgamal private key digit 10 seed None randrange  randrange seed p nextprime 2 ** digit return p primitive root p randrange 2 p 
def p constant t pass 
def calendar request calendar slug template 'schedule/calendar.html' calendar get object or 404 Calendar slug calendar slug return render to response template {'calendar' calendar context instance Request Context request 
def truncate minute dt measure return asminute truncate second dt measure * 60
def flagsplit s if s ! ' ' or s -1 ] ! ' ' raise Value Error "asseds % s return imapsplit s -1 ]
def resolve output type context inputs formal output selected input inputs array wrapper inputs ]args selected input formal output sig context function type '  array wrap  ' args {} if sig is None if selected input priority types Array priority return formal outputraise errors Typing Error '  array wrap  failedfor % args return sig type 
def get object or 404 klass *args **kwargs queryset  get queryset klass try return queryset *args **kwargs except queryset Does Not Exist raise Http404 'o % queryset meta name 
def driver initiator data get context initiator namespace return I M P L initiator data get context initiator namespace 
def test config  ip 'config'
def  dict to stanza key stanza ret ''for skey in stanza if stanza is True stanza ''ret + '{0}{1}\n'.format skey stanza return '{0}{{\n{1}}}'.format key ret 
def  unescape node node unescaped []seq u i char in enumerate node if char u seq node i + 3 ]if seq not in JID ESCAPE SEQUENCES seq u seq if len seq 3 unescaped JID UNESCAPE T R A N S F O R M A T I O N S seq char seq seq ]else unescaped char unescaped u unescaped return unescaped 
def rsh data points None data ma data copy False if points is None points dataelse points np points copy False ndmin 1 if data ! 1 raise Attribute Error 'heinputarrayshouldbe1 Donly n data r idealfourths data axis None h 1.2 * r -1 ] - r / n ** 1.0 / 5 nhi data None < points None ] + h .sum 0 nlo data None < points None ] - h .sum 0 return nhi - nlo / 2.0 * n * h 
def mplskip cls @classmethoddef set Up Class cls try import matplotlib as mplmpl 'gg warn False except Import Error import noseraise nose Skip Test 'matplotlibnotinstalled' cls Up Class set Up Classreturn cls 
@register.filter is safe False def unlocalize value return force text value 
def entropy image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy entropy image selem out out mask mask shift x shift x shift y shift y out dtype np 
def fullmodname path comparepath os path longest ''for dir in sys dir os dir if comparepath dir and comparepath dir ] os if len dir > len longest longest dirif longest base path len longest + 1 ]else base path drive base os base base base os '.' if os base base os '.' filename ext os base return filename '.'
def capability removed name image None restart False ret {'name' name 'result' True 'comment' '' 'changes' {}}old   salt  ['dism.installed capabilities if name not in old ret 'hecapability name return retif   opts  ['test'] ret '{0}willberemoved'.format name ret Nonereturn retstatus   salt  ['dism.remove capability name image restart if status not in [0 1641 3010] ret 'ailedtoremove {1}'.format name status ret Falsenew   salt  ['dism.installed capabilities changes salt lists old new if changes ret 'emoved name ret statusret changesreturn ret 
def taggedsents to conll sentences for sentence in sentences for input str in taggedsent to conll sentence yield input str yield '\n\n'
def next char input iter for ch in input iter if ch ! '\\' yield ch False continuech input iter representative ESCAPE M A P P I N G S ch ch if representative is None continue yield representative True 
def threaded factory func use add from sympy import sympifyfrom sympy import Matrix Base func def threaded func expr *args **kwargs if isinstance expr Matrix Base return expr lambda f func f *args **kwargs elif iterable expr try return expr  class   [func f *args **kwargs for f in expr except Type Error return exprelse expr sympify expr if use add and expr Add return expr  class   *[func f *args **kwargs for f in expr elif expr Relational return expr  class   func expr *args **kwargs func expr *args **kwargs else return func expr *args **kwargs return threaded func 
def a2idx j n None if type j is not int try j j  index   except Attribute Error raise Index Error 'nvalidindexa % j if n is not None if j < 0 j + nif not j > 0 and j < n raise Index Error 'ndexoutofrange a % j return int j 
def time format value format string tf Time Format value return tf format string 
def parse commands module for cmd in module if isinstance cmd basestring cmd dict command cmd output None elif 'command' not in cmd module json msg 'commandkeywordargumentisrequired' elif cmd 'output' not in [one 'text' 'json'] module json msg 'invalidoutputspecifiedforcommand' elif not set cmd .issubset VALID KEYS module json msg 'unknownkeywordspecified' yield cmd 
def populate entry fields entry parser config entry parser copy parser entry name parser u in entry and entry ! parser log u Founddifferentqualityfor Was overridingwith % entry entry parser entry parser parser count parser countentry group parser parser type u entry season parser episode parser parser type u entry date parser season parser entry season time .tm yearentry episodes parser id parser identifierentry id type parser typeif config if u in config log u entry config u config u {} .update path config if u in config set plugin plugin by name u set entry config u 
def get Split Line Before Bracket Semicolon line bracket Semicolon Index min line ';' line ' ' if bracket Semicolon Index < 0 return line return line bracket Semicolon Index 
def render price property request item priceful property name 'price' options Price Display Options context {'request' request if options prices return ''new priceful convert taxness request item priceful options taxes price value getattr new priceful property name return money price value 
def mongo db registry xml parent data mongodb X M L Sub Element xml parent 'ongo Build Wrapper mongodb 'plugin' 'mongodb' mapping [ 'name' 'ame None 'port' 'port' '' 'data-directory' 'dbpath' '' 'startup-params' 'parameters' '' 'start-timeout' 'imeout 0 ]convert mapping to xml mongodb data mapping fail required True 
def get all distribution names url None if url is None url DEFAULT I N D E Xclient Server Proxy url timeout 3.0 return client packages 
def  legalize stage path replacements length extension fragment path sanitize path path replacements if not fragment path bytestring path path path + extension pre truncate path pathpath truncate path path length return path path ! pre truncate path 
def default try conn get connection if conn log 'configuringnewdefaultconnectionforcqlenginewhenonewasalreadyset' except passconn register connection 'default' hosts None default True conn log 'cqlengineconnectioninitializedwithdefaultsessiontolocalhost'
def for orders orders name 'order' def decorator impl @functools.wraps impl def test func self *args **kw for order in orders try kw orderimpl self *args **kw except Exception print name 'is' order raisereturn test funcreturn decorator 
def load exception handler path exc info log LOAD FAILURE ERROR % path exc info exc info 
def delete tile filename coord db  connect filename db factory bytestile row 2 ** coord - 1 - coord q ' E L E T E F R O Mtiles W H E R Ezoom level ? N Dtile column ? N Dtile row ?'db.execute q coord coord tile row 
def get Transformed Fill Outline element Node loop y Axis Pointing Upward fill Outline Loops Noneif get Style Value 'none' element Node 'fill' .lower 'none' fill Outline Loops intercircle Arounds From Loop loop get Stroke Radius element Node else fill Outline Loops [loop]return get Chain Matrix S V G If Necessary element Node y Axis Pointing Upward .ransformed Paths fill Outline Loops 
def localize value use l10n None if isinstance value str return valueelif isinstance value bool return mark safe str value elif isinstance value decimal Decimal float int return number format value use l10n use l10n elif isinstance value datetime return date format value 'DATETIME FORMAT' use l10n use l10n elif isinstance value datetime return date format value use l10n use l10n elif isinstance value datetime return time format value 'TIME FORMAT' use l10n use l10n return value 
def test concat tempdir  Temp Dir raw read raw fif test fif fname raw 0 2.0 test name op tempdir 'test raw raw test name  test concat partial read raw fif test name 
def get cache with key keyfunc cache name None def decorator func @wraps func def func with caching *args **kwargs key keyfunc *args **kwargs val cache get key cache name cache name if val is not None return val Not Found In Cache return func with cachingreturn decorator 
def get common replies locale settings W I K I DEFAULT LANGUAGE replies []try default doc Document slug REPLIES DOCUMENT SLUG locale settings W I K I DEFAULT LANGUAGE except Document Does Not Exist return repliesif locale ! default doc translated doc default doc to locale if translated doc and translated doc revision doc translated docelse doc default docelse doc default docpq Py Query doc try current node pq 'h1' [0]except Index Error return repliescurrent category Nonecurrent response Nonewhile current node is not None if current node 'h1' current category {'title' current node 'responses' []}replies.append current category elif current node 'h2' current response {'title' current node 'response' ''}current category current response elif current node 'p' text current node content .strip if text and current response current response textcurrent node current node return replies 
def adjoin space *lists **kwargs strlen kwargs 'strlen' len justfunc kwargs 'justfunc' justify out lines [ists []lengths [ max map strlen x + space for x in lists -1 ]]lengths.append max map len lists -1 ] max Len max map len lists for i lst in enumerate lists nl justfunc lst lengths mode 'left' nl [ '' * lengths ] * max Len - len lst new Lists nl to Join zip *ists for lines in to Join out lines  join unicode lines return  join unicode out lines sep '\n'
def start statsd path if django statsd django statsd path 
def dmp lift f u K if not K Algebraic raise Domain Error 'computationcanbedoneonlyinanalgebraicdomain' F monoms polys dmp to dict f u [] [] for monom coeff in F if not coeff ground monoms monom perms variations [ -1 1] len monoms repetition True for perm in perms G dict F for sign monom in zip perm monoms if sign -1 G - G polys dmp from dict G u K return dmp convert dmp expand polys u K u K K 
def crossproduct ss row None level 0 if row is None row []if len ss > 1 return reduce operator [crossproduct ss ] row + [i] level + 1 for i in ss else return [ row + [i] for i in ss 
def register group group  groups group return group 
def  Get Timestamps time offset 0 if options utc else time cur day datetime .replace hour 0 minute 0 second 0 microsecond 0 utc cur day Local Datetime To U T C Datetime cur day if options timestamp start timestamp options timestampelif options date utc dt Parse Iso8601 Datetime To U T C Datetime options date start timestamp U T C Datetime To Timestamp utc dt + time offset else start timestamp U T C Datetime To Timestamp utc cur day if options timestamp end timestamp options timestampelif options date utc dt Parse Iso8601 Datetime To U T C Datetime options date end timestamp U T C Datetime To Timestamp utc dt + time offset else end timestamp U T C Datetime To Timestamp utc cur day + SECONDS PER DAY return start timestamp end timestamp 
def isotime at None subsecond False if not at at timeutils st at  ISO8601 TIME FORMAT if not subsecond else  ISO8601 TIME FORMAT SUBSECOND tz at None if at else 'UTC' st + 'Z' if tz 'UTC' else tz return st 
def  list linodes full False nodes  query 'linode' 'list' [ A T A get ips ret {}for node in nodes this node {}linode id str node L I N O D E I D this node linode idthis node node D I S T R I B U T I O N V E N D O R node node L A B E L node node T O T A L R A M int node S T A T U S this node  get status descr by id state for key val in six ips if key linode id this node ips val ips node ips val ips full this node noderet L A B E L this nodereturn ret 
def publish long description make long description if long description ! read RST DESCRIPTION PATH print 'escriptionfilenotup %unthefollowingcommandandcommitthechanges % RST DESCRIPTION PATH PREP COMMAND sys print 'escriptionup %s' % RST DESCRIPTION PATH answer raw input 'reyousureyouwanttopublishto Py P I yes ?' if answer ! 'yes' exit 'borted nothingpublished os 'pythonsetup.pysdistupload'
def pycryptodome filename dir comps filename if dir comps ! 'ryptodome raise Value Error "nlyavailableformodulesunder Cryptodome dir comps list dir comps ] + [filename] util lib _ os os   file   root lib os util lib '..' return os root lib *dir comps 
def bilinear e1 e2 W V1 None V2 None b None flags [ V1 is None V2 is None b is None ]if any flags if not all flags raise Value Error 'llcoefficientsandbiasforbilinear mustbe None ifatleastoneofthemis None return Bilinear Function e1 e2 W else return Bilinear Function e1 e2 W V1 V2 b 
def test ci to errsize cis [[0.5 0.5] [1.25 1.5]]heights [1 1.5]actual errsize np [[0.5 1] [0.25 0]] test errsize utils to errsize cis heights npt array equal actual errsize test errsize 
def get pull request project num github api 3 if github api 2 url 'http //github.com/api/v2/json/pulls/{project}/{num}'.format project project num num elif github api 3 url 'https //api.github.com/repos/{project}/pulls/{num}'.format project project num num response requests url response for status if github api 2 return json response ['pull']return json response 
def iterator content items ids None channel 'khan' language 'en' **kwargs if ids items Item .where Item  ids .dicts .iterator else items Item .dicts .iterator mapped items itertools unparse model data items updated mapped items update content availability mapped items channel channel language language for path update in updated mapped items yield path update 
def convert va mpl va if mpl va in VA MAP return VA M A P va return None 
def with special errors func def wrapper *a **kw old filters list getattr warnings 'filters' [] old errprint sc 1 warnings 'error' category sc Special Function Warning try return func *a **kw finally sc old errprint setattr warnings 'filters' old filters wrapper  name   func  name  wrapper  doc   func  doc  return wrapper 
def  check file fname overwrite if op fname and not overwrite raise I O Error 'ile use % fname 
def test lagrange Chart datas chart Chart interpolate 'lagrange' chart make data chart datas assert chart 
@paralleldef logs sudo 'tail-f{logdir}*/var/log/nginx/*.log'.format logdir LOG DIR
def writerec outrec handle fields GAF20FIELDS outstr ''for field in fields -1 ] if isinstance outrec list for subfield in outrec outstr + subfield + '|' outstr outstr -1 ] + ' DCTB ' else outstr + outrec + ' DCTB ' outstr + outrec -1 ]] + '\n' handle '%s' % outstr 
def  create start end levels rads levels for level in levels ] rads rads * level rads * 2 * np end rads start shift series end return start end 
def tree graph data attrs  attrs graph nx Di Graph id  attrs attrs add children parent children  for data in children  child data ]graph.add edge parent child grandchildren data children [] if grandchildren add children child grandchildren nodedata dict make str k v for k v in data if k ! id  and k ! children graph node child **nodedata root data ]children  data children [] nodedata dict make str k v for k v in data if k ! id  and k ! children graph node root **nodedata add children root children  return graph 
def read and call until uhandle method **keywds nlines 0while True line safe readline uhandle if not  fails conditions * line **keywds uhandle line breakmethod line nlines nlines + 1 return nlines 
def  get fake enrollment student id course id for enrollment in  ENROLLMENTS if student id enrollment and course id enrollment id return enrollment 
def floating ip deallocate context address return I M P L ip deallocate context address 
@ratelimit @requires auth 'home' def home endpoint response {}if config I N F O info {}info['server'] 've eve  version  if config A P I VERSION info version config A P I V E R S I O Nresponse I N F O infoif config H A T E O A S links []for resource in config D O M A I N internal config D O M A I N resource not resource config V E R S I O N S if not bool internal links {'href' '%s' % config U R L S 'title' '%s' % config D O M A I N title } if config S C H E M A ENDPOINT is not None links {'href' '%s' % config S C H E M A ENDPOINT 'title' '%s' % config S C H E M A ENDPOINT } response L I N K S {'child' links send response None response else return send response None response 
def find indices condition res np np condition return res 
def unescape s assert isinstance s basestring s s ' DCTB ' ' ' s s '\\ ' ' ' s s '\\n' '\n' s s '\\\\' '\\' return s 
def  pecan generator wrapper func *args **kwargs kwargs 'content type 'application/json' kwargs 'template' 'json' return  composed  protect original resources db api db errors func *args **kwargs
def  read dig point struct fid tag shape rlims return dict kind int np fid 4 dtype '>i4' ident int np fid 4 dtype '>i4' r np fid 12 dtype '>f4' coord frame FIFF.FIFFV COORD UNKNOWN
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def regularized lsq with qr m n R Q Tb perm diag copy R True if copy R R R v Q Tb givens elimination R v diag abs diag R np np R threshold EPS * max m n * np abs diag R nns np abs diag R > threshold R R  nns nns ]v v np n x solve triangular R v return x 
def profile func stream None def wrapper *args **kwargs prof Line Profiler val prof func *args **kwargs show results prof stream stream return valreturn wrapper 
def returners opts functions whitelist None context None return Lazy Loader  module dirs opts 'returners' 'returner' opts tag 'returner' whitelist whitelist pack {'  salt  ' functions '  context  ' context 
def document exists index id doc type ' all hosts None profile None es  get instance hosts profile try if es index index id id doc type doc type return Trueelse return Falseexcept elasticsearch Not Found Error return Noneexcept elasticsearch Connection Error return Nonereturn None 
def validate bucket name name label '[a-z0-9]+ ? [a-z0-9\\-]*[a-z0-9] ?'validate name re '^' + label + ' ? \\.' + label + ' *$' is ip address re '^[0-9]+ ? \\.[0-9]+ {3}$' return len name > 3 and len name < 63 and bool validate name name and not bool is ip address name 
def csort objs key idxs dict obj i for i obj in enumerate objs return sorted objs key lambda obj key obj idxs 
def test feature has repr feature Feature string FEATURE1 expect repr feature .to.equal 'eature "entmovies 
def ipython only option if   IPYTHON   return optionargname extract option object option .namedef d f @wraps f def _ *args **kwargs kwargs Nonereturn f *args **kwargs return  return d 
def test dict aliasing ad  Alias Dict {'bar' False 'biz' True 'baz' False aliases {'foo' ['bar' 'biz' 'baz']} eq  ad False eq  ad True eq  ad False ad Trueeq  ad True eq  ad True eq  ad True 
def  strify spec spec buff None indent '' if buff is None buff String I O for c in spec buff '%s%s%s %s\n' % indent c c c text for type  name in zip spec spec buff '%s%s%s\n' % indent type  name base type base msg type type  if not base type in BUILTIN TYPES subspec get registered base type  strify spec subspec buff indent + '' return buff 
def  psequence model klass category u if issubclass klass Checked P Set else u record {u'category' category u sorted fqpn cls for cls in klass checked types }further classes set klass checked types return record further classes 
def resize images X height factor width factor dim ordering if dim ordering 'th' output repeat elements X height factor axis 2 output repeat elements output width factor axis 3 return outputelif dim ordering 'tf' output repeat elements X height factor axis 1 output repeat elements output width factor axis 2 return outputelse raise Value Error 'nvaliddim ordering ' dim ordering 
def is token subtype ttype other return ttype in other 
@environmentfilterdef do attr environment obj name try name str name except Unicode Error passelse try value getattr obj name except Attribute Error passelse if environment and not environment safe attribute obj name value return environment undefined obj name return valuereturn environment obj obj name name 
def  set cleanup test data data True 
def  ssh ls ssh bin address ec2 key pair file path keyfile None sudo False cmd args ['find' '-L' path '-type' 'f']if sudo cmd args ['sudo'] + cmd args out to string  check output * ssh run with recursion ssh bin address ec2 key pair file keyfile cmd args if 'osuchfileordirectory in out raise I O Error 'osuchfileordirectory %s' % path return out '\n'
def validate trigger payload trigger type ref payload if not trigger type ref return Noneis system trigger trigger type ref in SYSTEM TRIGGER TYPES if is system trigger payload schema SYSTEM TRIGGER T Y P E S type ref schema trigger type db triggers trigger type db trigger type ref if not trigger type db return Nonepayload schema getattr trigger type db 'payload schema {} if not payload schema return Noneif not is system trigger and not cfg C O N F trigger payload L O G 'otnon buttriggerpayloadvalidationfornon skippingvalidation % trigger type ref return Nonecleaned util schema instance payload schema payload schema cls util schema Custom Validator use default True allow default none True return cleaned 
def get icmp types permanent True cmd '--get-icmptypes'if permanent cmd + '--permanent'return   firewall cmd cmd .split
def  simple init self *args **kw type self .  base  .  init   self *args **kw
def ops i o ops set variables orphans variables and orphans i o for r in variables if r not in i and r not in orphans if r is not None ops r return ops 
def container convergence results limit convergence results [r for r in results if r 'wallclock' and r 'create-container' ]num convergences len convergence results if num convergences > 0 convergences within limit [r for r in convergence results if r < limit ]return float len convergences within limit / num convergences return None 
def test main module cmd [sys.executable '-m' 'bokeh' '--version']v subprocess output cmd stderr subprocess S T D O U T .decode .strip assert v bokeh  version  
def stream copy source destination chunk size 512 * 1024 br 0while True chunk source chunk size destination chunk br + len chunk if len chunk < chunk size breakreturn br 
def task status request task id result Async Result task id state retval result result response data {u'id' task id u state u retval state in states E X C E P T I O N STATES traceback result data {u'result' safe repr retval u get full cls name retval  class   u traceback return Json Response {u'task' response data 
def wait And Close Handle process Handle Wait For Single Object process Handle INFINITE Close Handle process Handle 
def  Get Win Link Rule Name Suffix embed manifest return ' embed if embed manifest else ''
def next frame size socket try data read exactly socket 8 except Socket Error return 0 _ actual struct 'xxx L data return actual 
def make poisoning report mac poisoner canary poisoner name poisoner id cache policy source route name mac key g poisoning data poisoner canary poisoner name str poisoner id cache policy source route name return hmac mac key '|'.join mac data hashlib .hexdigest
def get full cls name cls return '.'.join [cls.  module   cls  name  ]
def  dmi cast key val clean True if clean and not  dmi isclean key val returnelif not re 'serial|part|asset|product' key flags re I G N O R E C A S E if ' ' in val val [el.strip for el in val ' ' ]else try val int val except passreturn val 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def link src dst if platform u Windows if ctypes Create Hard Link W ctypes wchar p unicode dst ctypes wchar p unicode src None 0 raise ctypes Win Error else ek os src dst 
def format image member notification image member return {'image id image member id 'member id image member id 'status' image member 'created at timeutils image member at 'updated at timeutils image member at 'deleted' False 'deleted at None 
def manualintegrate f var return  manualintegrate integral steps f var 
def splittype url global  typeprogif  typeprog is None  typeprog re '^ [^/ ]+ ' match  typeprog url if match scheme match 1 return scheme url len scheme + 1 ] return None url 
def fname presuffix fname prefix u suffix u newpath None use ext True pth fname ext split filename fname if not use ext ext u newpath and isdefined newpath pth os newpath return os pth prefix + fname + suffix + ext 
def do statement source start start pass white source start if not start < len source return None start if any startswith keyword source ] e for e in {'case' 'default'} return None start rest source ]for key meth in KEYWORD M E T H O D S if rest key if len key len rest or rest key ] not in IDENTIFIER PART return meth source start if rest '{' return do block source start cand parse identifier source start False if cand is not None label cand start candcand start pass white source cand start if source start ' ' return do label source start return do expression source start 
def translation project dir exists language project if project treestyle 'gnu' if language 'templates' for dirpath  dirnames filenames in os project real path for filename in filenames if project belongs to project filename match templates True and match template filename project filename return Trueelse for dirpath  dirnames filenames in os project real path for filename in filenames filename matches project belongs to project filename match templates False and direct language match filename project mapper upstream code language filename if filename matches return Trueelse try dirpath  dirnames filename os project real path .next lang code project mapper upstream code language if lang code in dirnames return Trueexcept Stop Iteration passreturn False 
def pil resize maxwidth path in path out None path out path out or temp file for path in from PIL import Imagelog u P I Lresizing util path path in util path path out try im Image util path in size maxwidth maxwidth im size Image A N T I A L I A S im path out return path outexcept I O Error log u P I Lcannotcreatethumbnailfor util path path in return path in 
def get java version o e exit status qiime system call 'java-version' if exit status ! 0 return Nonee e .splitlines version line e not version line 'javaversion' return Noneelse return version line [ -1 ].strip '"'
def group seq multiple True if not seq return [] current groups [seq[0]] [] for elem in seq ] if elem current -1 ] current elem else groups current current [elem]groups.append current if multiple return groupsfor i current in enumerate groups groups current len current return groups 
def get mount targets filesystemid None mounttargetid None keyid None key None profile None region None **kwargs result Noneclient  get conn key key keyid keyid profile profile region region if filesystemid response client mount targets File System Id filesystemid result response Mount Targets 'ext Marker in response response client mount targets File System Id filesystemid Marker response Next Marker result response Mount Targets elif mounttargetid response client mount targets Mount Target Id mounttargetid result response Mount Targets result 
def partition suite by case suite groups []suite class type suite for test type test group in itertools suite type if issubclass test type unittest Test Case groups suite class test group else for item in test group groups partition suite by case item return groups 
def  estimate gaussian covariances diag resp X nk means reg covar avg X2 np resp T X * X / nk np avg means2 means ** 2 avg X means means * np resp T X / nk np return avg X2 - 2 * avg X means + avg means2 + reg covar 
def fresh output manager inst global managerif manager alive manager queue POISON PILL manager manager Output Manager manager return manager 
def abort global   S C H E Dif   SCHED logging 'erminatingscheduler   S C H E D False 
def get Circle Nodes From Loop loop radius threshold Ratio 0.9 radius abs radius points get Points From Loop loop radius threshold Ratio return get Circle Nodes From Points points radius 
def get save dir savepaths []if 'APPDATA' in os savepaths + [os.path.join os A P P D A T A '.minecraft' 'saves' ]if 'HOME' in os savepaths + [os.path.join os H O M E 'ibrary 'pplication Support 'minecraft' 'saves' ]savepaths + [os.path.join os H O M E '.minecraft' 'saves' ]for path in savepaths if os path return path 
def  dispatch table action user obj if action in table result table debug '%suser%s object action 'ALLOWED' if result else 'DENIED' user obj deprecated string if isinstance obj X Block else str obj action return resultraise Value Error u Unknownactionforobjecttype '{1}'".format type obj action 
def is iso time iso try iso to datetime tuple iso return Trueexcept iso8601 Parse Error return False 
def soft unicode s if not isinstance s text type s text type s return s 
def get Widdershins Average By Vector3 center Minus Begin Complex end Minus Center Complex center Minus Begin Widdershins Vector3 - center Minus Begin Complex center Minus Begin Complex end Minus Center Widdershins Vector3 - end Minus Center Complex end Minus Center Complex return center Minus Begin Widdershins + end Minus Center Widdershins .ormalized 
def degap fasta aln seqs for label seq in seqs yield D N A Sequence seq id label .degap
def is attr private attrname regex re '^_{2 }.*[^_]+_?$' return regex attrname 
def Java Supported if appcfg java tools java dir os os appcfg java  file   'java' return os tools java dir else return False 
def  invertx p x p1 poly from expr p x [0]n degree p1 a [ c * x ** n - i for i c in p1 ]return Add *a
@deprecated 'useargs.pop 0 ' def pop arg args list expected size after None msg 'issingargument try value args list 0 except Index Error raise Bad Command Usage msg if expected size after is not None and len args list > expected size after raise Bad Command Usage 'toomanyarguments' return value 
def  build time time kwargs tz kwargs 'tz' 'UTC' if time if kwargs raise Value Error 'annotpasskwargsandatime else return ensure utc time tz elif not kwargs raise Value Error 'ustpassatimeorkwargs else return datetime **kwargs
def validate exists args key default None if key in args if len args 0 raise Argument Error _ 'rgument key svalue value sistooshort % {'key' key 'value' args if not ARGUMENT P A T T E R N args raise Argument Error _ 'rgument key svalue value scontainsinvalidcharacters % {'key' key 'value' args if args '-' raise Argument Error _ 'rgument key svalue value sstartswithahyphen % {'key' key 'value' args return args default is not None return defaultelse raise Argument Error _ 'rgument % key 
def is byte range valid start stop length if start is None ! stop is None return Falseelif start is None return length is None or length > 0 elif length is None return 0 < start < stop elif start > stop return Falsereturn 0 < start < length 
def  find permutation a b t np a u np b u   inverse permutation u return t ]
def get args parser cli arg parser parser argument '-v' '--vm uuid required False action 'store' help 'irtualmachineuuid parser argument '-r' '--vm user required False action 'store' help 'virtualmachineusername' parser argument '-w' '--vm pwd required False action 'store' help 'virtualmachinepassword' parser argument '-l' '--path inside vm required False action 'store' help 'athinside V Mforupload parser argument '-f' '--upload file required False action 'store' help 'athofthefiletobeuploadedfromhost args parser args cli for password args return args 
def  changed packages activity query import ckan as modelq model Session model Activity q q model Activity type 'package' return q 
def get Transferred Nested Rings insides loop transferred Surroundings []for inside Index in xrange len insides - 1 -1 -1 inside Surrounding insides Index is Path Inside Loop loop inside Surrounding transferred Surroundings inside Surrounding del insides Index transferred Surroundings 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def test ros sk estimator check estimator Random Over Sampler 
def  get xqueue callback url prefix xmodule instance args return xmodule instance args 'xqueue callback url prefix '' if xmodule instance args is not None else ''
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def load package package global  loaded packages init if VERBOSE print 'oadpackage package if package in  loaded packages if VERBOSE print 'ackage % package return loaded packages package specs failed get pkg msg specs package if VERBOSE print 'ackagecontainsthefollowingmessages %s' % specs for key spec in specs register key spec register package + roslib P R N SEPARATOR + key spec 
def create eventloop inputhook None recognize win32 paste True if is windows from prompt toolkit import Win32 Event Loop as Loopreturn Loop inputhook inputhook recognize paste recognize win32 paste else from prompt toolkit import Posix Event Loop as Loopreturn Loop inputhook inputhook 
def  call App Function function try function except log None u Unexpectedexceptionfrom % fully Qualified Name function 
def parse args parser argparse Argument Parser parser argument '--profile-tool' metavar 'TOOL' action 'store' choices ['kcachegrind' 'snakeviz' 'gprof2dot' 'none'] default 'snakeviz' help 'hetooltousetoviewtheprofilingdata parser argument '--profile-file' metavar 'FILE' action 'store' help 'hefilenametousewith none return parser known args 
def  encode basestring ascii s try if isinstance s str and HAS U T F8 s is not None s s 'utf-8' except passdef replace match s match 0 try return ESCAPE D C T Key Error n ord s if n < 65536 return '\\u%04x' % n else n - 65536s1 55296 | n >> 10 & 1023 s2 56320 | n & 1023 return '\\u%04x\\u%04x' % s1 s2 return '"' + str ESCAPE A S C I I replace s + '"'
def fixed ip get by address detailed context address return I M P L ip get by address detailed context address 
def memcache get request keys request short '\n'.join [truncate k for k in keys namespace ''if 'name space in request namespace request space len keys > 1 request short + '\n'else request short + ''request short + ' ns %s ' % truncate namespace return request short 
def add Abridged Settings abridged Settings repository Writer for abridged Setting in abridged Settings repository Writer '%s\n' % abridged Setting  repr  
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def shuffle X y idx np [random.random for i in range len y ] y np y X [ for i in idx y X y 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
@np.deprecate message 'splmakeisdeprecatedinscipy0.19.0 usemake interp splineinstead def splmake xk yk order 3 kind 'smoothest' conds None yk np yk order int order if order < 0 raise Value Error 'ordermustnotbenegative' if order 0 return xk yk -1 ] order elif order 1 return xk yk order try func eval ' find %s' % kind except raise Not Implemented Error B  fitpack bsplmat order xk coefs func xk yk order conds B return xk coefs order 
def client start request socket context C L I E N T S id request socket context 
def rgb2ypbpr rgb return  convert ypbpr from rgb rgb 
def get auth str user token default token generator token user auth '{0} {1}'.format user token return base64 auth 
def count records filename outfile sys from .biffh import biff count recordsbk Book bk 8 load filename filename logfile outfile biff count records bk bk bk len outfile 
def signup verify request uidb36 None token None user authenticate uidb36 uidb36 token token is active False if user is not None user active Trueuser auth login request user info request _ u Successfullysignedup return login redirect request else error request _ u Thelinkyouclickedisnolongervalid return redirect u 
def resolve nested documents updates original r {}for field value in updates if isinstance value dict orig value original field {} if orig value is None r valueelse orig value resolve nested documents value orig value r orig valueelse r valuereturn r 
@doctest depends on modules 'numpy' 'matplotlib' def plot3d parametric surface *args **kwargs args list map sympify args show kwargs 'show' True series []plot expr check arguments args 3 2 series [arametric Surface Series *arg **kwargs for arg in plot expr Plot *series **kwargs if show plots return plots 
def escape triple quotes text return text u u 
def get auth factory Auth key  auth registry key request None request request or webapp2 request auth request key if not auth auth request factory request return auth 
def munge nose output for doctest out out remove stack traces out out simplify warnings out out remove timings out return out 
def test tryimport from I Python import try importassert try import ' Python 
def requires version library min version return np not check version library min version 'equires %s' % library min version 
def flavor extra specs get context flavor id return I M P L extra specs get context flavor id 
def Minimum Spanning Tree G if not is Undirected G raise Value Error 'inimum Spanning Tree inputisnotundirected for u in G for v in G if G ! G raise Value Error 'inimum Spanning Tree asymmetricweights subtrees Union Find tree []for W u v in sorted G u v for u in G for v in G if subtrees ! subtrees tree u v subtrees u v return tree 
def  is vdi a snapshot vdi rec is a snapshot vdi rec a snapshot id vdi rec config 'image-id' return is a snapshot and not image id 
def test pformat roundtrip 'eadatablewithemptyvaluesandensurethatcorrespondingentriesaremasked '\n'.join ['a b c d '1 3 1.11 1' '2 2 4.0 ss dat ascii table out ascii dat assert len dat len out assert dat out for c in dat assert np dat out 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def heapify x n len x for i in reversed xrange n // 2  siftup x i 
def get ability course id content user return {'editable' check permissions by view user course id content 'update thread if content 'thread' else 'update comment 'can reply check permissions by view user course id content 'create comment if content 'thread' else 'create sub comment 'can delete check permissions by view user course id content 'delete thread if content 'thread' else 'delete comment 'can openclose check permissions by view user course id content 'openclose thread if content 'thread' else False 'can vote not is content authored by content user and check permissions by view user course id content 'vote for thread if content 'thread' else 'vote for comment 'can report not is content authored by content user and check permissions by view user course id content 'flag abuse for thread if content 'thread' else 'flag abuse for comment }
def group purge context data dict return  group or org purge context data dict is org False 
def send password reset notice user if config value 'SEND PASSWORD RESET NOTICE EMAIL' send mail config value 'EMAIL SUBJECT PASSWORD NOTICE' user 'reset notice user user 
def send email for after purchase organizers email buyer email invoice id order url event name event organiser send email to email action TICKET PURCHASED ORGANIZER subject MAILS[TICKET PURCHASED O R G A N I Z E R invoice id invoice id event name event name buyer email buyer email html MAILS[TICKET PURCHASED O R G A N I Z E R order url order url buyer email buyer email event name event name event organiser event organiser 
def EMSA PKCS1 V1 5 ENCODE hash em Len with hash parameters True if with hash parameters digest Algo Der Sequence [er Object Id  HASH O I D S .encode Der Null .encode ] else digest Algo Der Sequence [er Object Id  HASH O I D S .encode ] digest Der Octet String hash digest Info Der Sequence [lgo digest ] .encode if em Len < len digest Info + 11 raise Type Error 'electedhashalgorithhasatoolongdigest %dbytes .' % len digest PS bchr 255 * em Len - len digest Info - 3 return b '\x00\x01' + PS + bchr 0 + digest Info 
def create bootstrap script extra text python version '' filename   file  if filename '.pyc' filename filename -1 ]f codecs filename 'r' encoding 'utf-8' content f f py exe 'python%s' % python version content '#!/usr/bin/env%s\n' % py exe + '##WARNING Thisfileisgenerated + content return content '##EXTEND##' extra text 
def gray2int g size res 0for i in reversed list range size gi g >> i % 2 if i size - 1 bi gielse bi bi ^ gi res + bi * 2 ** i return res 
def set Memory Limit max mem return False 
def  mark class skipped cls reason tests [attr for attr in dir cls if  is test method name attr or  is test fixture attr ]for test in tests method getattr cls test if callable method setattr cls test  mark method skipped method reason return cls 
def  format time zone string time zone date time format string return date time time zone .strftime format string 
def create clip in selected slot creator song clip length None selected slot song clip slotif creator and selected slot and not selected slot clip creator selected slot clip length song clip selected slot selected slot 
def get stackstorm version if 'dev' in stackstorm version and stackstorm version '.' 1 version stackstorm version 'dev' '.0' return versionreturn stackstorm version 
def date format date None format ' return date cast date .strftime format 
def sort layer2 W2 print 'ortingsolargest norms np W2 .sum axis 0 idxs [elem[1] for elem in sorted zip - norms range norms ]new W2 for i in xrange len idxs new i W2[ idxs W2 newreturn new 
def scenario s3db 'scenario config deletable False def prep r if r and r if r ! 'config' s3 button T 'ssign s3 labels D E L E T E T 'emove if r name 'site' field db site idfield field Truereturn Trues3 prepoutput s3 rest controller rheader s3db rheader return output 
def database dburl None **params if not dburl and not params dburl os D A T A B A S E U R L dburl params dburl2dict dburl dbn params 'dbn' if dbn in  databases return  databases **params else raise Unknown D B dbn 
def shape index image sigma 1 mode 'constant' cval 0 Hxx Hxy Hyy hessian matrix image sigma sigma mode mode cval cval order 'rc' l1 l2 hessian matrix eigvals Hxx Hxy Hyy return 2.0 / np * np l2 + l1 / l2 - l1 
def send verification mail request user verification type verify url reverse verification type kwargs {u'uidb36' int to base36 user u default token generator token user } + u ' + next url request or u context {u'request' request u user u url verify url template name u subject % verification type subject subject template subject template name context send mail template subject u % verification type settings D E F A U L T FROM EMAIL user context context 
def bucket lister bucket prefix '' delimiter '' marker '' headers None encoding type None more results Truek Nonewhile more results rs bucket all keys prefix prefix marker marker delimiter delimiter headers headers encoding type encoding type for k in rs yield k if k marker rs marker or k if marker and encoding type 'url' marker unquote str marker more results rs truncated 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def  words for line trigger before num words None if num words is None num words len split at whitespace trigger word list split at whitespace before if len word list < num words return before else before words beforefor i in range -1 - num words + 1 -1 left before words word list before words before words left before before words ].strip
def  upgrade from distribute python cmd use sudo  easy install ['-U' 'distribute'] python cmd use sudo 
def module to dict module omittable lambda k k '_' return dict k repr v for k v in module  dict  .items if not omittable k 
def getmodetype mode return Image Mode mode .basetype
def tuple wrapper method def wrap tuples *args **kw args newargs []for arg in args if type arg is tuple newargs Tuple *arg else newargs arg return method *newargs **kw args return wrap tuples 
def create voucher voucher Voucher name u D code 'test' start datetime timezone end datetime timezone + datetime days 12 voucher create offer offer type 'oucher return voucher 
def sakurai n A sparse n n d0 array r [ 5 6 * ones n - 2 5 ] d1 -4 * ones n d2 ones n B sparse [d2 d1 d0 d1 d2 [ -2 -1 0 1 2] n n k arange 1 n + 1 w ex sort 1.0 / 16.0 * pow cos 0.5 * k * pi / n + 1 4 return A B w ex 
def get Subfolder With Basename basename directory archive Directory directory directory Listing os directory for file Name in directory Listing joined File Name os directory file Name if os joined File Name if basename file Name return joined File Namereturn None 
def  watch callback obj weakref method name *args **kwargs obj obj weakref if obj is None returngetattr obj method name *args **kwargs
def more like queue pk source top queue result more like pk source top queue result 
def authorize api handle user resource arg1 None arg2 None return True 
def  footer logo img is secure logo name configuration helpers value 'FOOTER ORGANIZATION IMAGE' settings F O O T E R ORGANIZATION IMAGE try return  absolute url staticfile is secure logo name except Value Error default logo 'images/logo.png'log.info "ailedtofindfooterlogoat using logo name default logo return staticfiles storage default logo 
@click.command 'backups' def setup backups from bench import setup backupssetup backups 
def  fill In On Times vector durations nonzeros numpy vector .nonzero [0]if len nonzeros 0 returnif len nonzeros 1 durations 1returnprev nonzeros Time 1tart Idx prevend Idx nonzeros -1 ]for idx in nonzeros ] if idx ! prev + 1 durations Start Idx on Start Idx + on Time ] range 1 on Time + 1 on Time 1tart Idx idxelse on Time + 1prev idxdurations Start Idx on Start Idx + on Time ] range 1 on Time + 1
def svd flip u v u based decision True if u based decision max abs cols np np u axis 0 signs np u max abs cols xrange u ] u * signsv * signs np max abs rows np np v axis 1 signs np v xrange v max abs rows ] u * signsv * signs np u v 
@require P O S T options sameorigindef del image async request image id user request not user authenticated message _ 'ouarenotloggedin return Http Response Forbidden json {'status' 'error' 'message' message try image Image Attachment pk image id except Image Attachment Does Not Exist message _ 'herequestedimagecouldnotbefound return Http Response Not Found json {'status' 'error' 'message' message if not user image or user perm 'upload.delete imageattachment message _ 'oudonothavepermissiontodothat return Http Response Forbidden json {'status' 'error' 'message' message image if image image image return Http Response json {'status' 'success'}
def s3 jaro winkler distance row row1 row2 dw 0num similar 0if len row1 ! len row2 returnfor x in range 0 len row1 str1 row1 row2 + s3 jaro winkler str1 str2 dw dw / len row1 dw dw * 100 return dw 
def make map declarations mapper routes Mapper for route targets in declarations allowed methods []for method in targets mapper route action targets conditions dict method [method] allowed methods method allowed methods ' '.join allowed methods mapper route action handle 405  methods allowed methods return mapper 
def DEFINE bool name default help C O N F I G Add Option type info Bool name name default default description help 
def  Restore Filters  cpplint state Restore Filters 
def get results df db rev bench Data Frame db benchmarks results Data Frame map list db rev results rev .values results db results results results bench on 'checksum' .set index 'checksum' return results 
def  run command in extended path syslog ng sbin dir command params orig path  add to path envvar syslog ng sbin dir if not salt command error message "nabletoexecutethecommand Itisnotinthe P A T H command log error message  restore path envvar orig path raise Command Execution Error error message ret  run command command options params  restore path envvar orig path return ret 
def broadcast collect expr broadcastable Broadcastable want to broadcast Want To Broadcast no recurse None if isinstance expr want to broadcast and iscollection expr leaves leaves of type broadcastable expr expr broadcast expr sorted leaves key str if no recurse is not None and isinstance expr no recurse return exprchildren broadcast collect i broadcastable want to broadcast no recurse for i in expr inputs return expr subs {e c for e c in zip expr inputs children }
def flavor get context id return I M P L get context id 
def p varargslist p if len p 4 p p + p else p [p[1]]
def cancel wait watcher error cancel wait ex get hub .cancel wait watcher error 
def enterprise login username None password None token None url None two factor callback None if not url raise Value Error 'it Hub Enterpriserequiresyouprovidethe U R Loftheinstance g Noneif username and password or token g Git Hub Enterprise url g username password token two factor callback return g 
def alignment summary alignment index '' answer []alignment len alignment alignment length rec count len alignment for i in range min 5 alignment len answer index + col summary alignment i + 'alignmentcolumn%i' % i if alignment len > 5 i alignment len - 1 answer index + col summary '|' * rec count + '...' answer index + col summary alignment i + 'alignmentcolumn%i' % i return '\n'.join answer 
def  unpublicize activity committer id activity id activity type if not Actor committer id .can unpublicize activity type activity id logging 'ser % committer id activity id raise Exception 'hisexplorationcannotbeunmarkedas  change activity status committer id activity id activity type ACTIVITY STATUS PUBLIC 'xplorationunpublicized 
def  create Blank cls if isinstance cls type return cls  new   cls if not  PY3 and isinstance cls  Old Style Class return  Old Style Instance cls 
def get all reference api files base url r requests base url soup Beautiful Soup r 'html.parser' reference soup 'h3' text re 'eference .next sibling siblingurls reference All 'a' api urls []for url in urls api urls REACT ROOT URL + url return api urls 
def  iostats dict header stats stats [float sum stat / len stat .quantize decimal Decimal '.01' for stat in zip *stats ]stats dict zip header stats return stats 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def  handle ns package Name path item importer get importer path item if importer is None return Noneloader importer module package Name if loader is None return Nonemodule sys package Name if module is None module sys Name imp module package Name module  path   [] set parent ns package Name elif not hasattr module '  path  ' raise Type Error 'otapackage ' package Name handler  find adapter  namespace handlers importer subpath handler importer path item package Name module if subpath is not None path module  path  path subpath loader module package Name for path item in path if path item not in module  path   module  path  .append path item return subpath 
def rr Status a Tp Pd pd 6 b Message Type mes Type 18 c Rr Cause packet a / b / c return packet 
@task name 'all' help {'args' 'ommandlineargsfortestrun def test all ctx args '' options '' pytest args select by prefix args ctx behave args select by prefix args ctx test pytest should run not args or args and pytest args behave should run not args or args and behave args if pytest should run pytest ctx pytest args options options if behave should run behave ctx behave args options options 
def  list mock games path files os path return os path f for f in files if  is sgf f 
def list inactive vms conn   get conn vms []for id  in conn Defined Domains vms id  return vms 
def directly Provides object *interfaces cls getattr object '  class  ' None if cls is not None and getattr cls '  class  ' None is cls if not isinstance object Descriptor Aware Meta Classes raise Type Error 'ttempttomakeaninterfacedeclarationonanon interfaces  normalizeargs interfaces if cls is None cls type object issub Falsefor damc in Descriptor Aware Meta Classes if issubclass cls damc issub Truebreakif issub object  provides   Class Provides object cls *interfaces else object  provides   Provides cls *interfaces
def same name f g return f g or getattr f '  name  ' 0 getattr g '  name  ' 1
def  sanity check module zone name module not HAS LIBCLOUD module json msg 'hismodulerequires Apachelibcloud % MINIMUM LIBCLOUD VERSION changed False elif Loose Version LIBCLOUD VERSION < MINIMUM LIBCLOUD VERSION module json msg 'hismodulerequires Apachelibcloud % MINIMUM LIBCLOUD VERSION changed False if '.' not in zone name or len [label for label in zone name '.' if label 1 module json msg 'cannotcreatetop-leveldomain %s' % zone name changed False 
def test gnb prior greater one clf Gaussian N B priors np [2.0 1.0] assert raises Value Error clf X y 
def security group rule get by security group grantee context security group id return I M P L group rule get by security group grantee context security group id 
def init readline vars try import ctypesexcept Import Error returnlib name find readline lib if lib name is not None lib ctypes Load Library lib name global rl completion suppress appendrl completion suppress append ctypes int dll lib 'rl completion suppress append 
def set inheritance obj name enabled obj type 'file' clear False if obj type not in ['file' 'registry' 'registry32'] raise Salt Invocation Error 'obj typecalledwithincorrectparameter {0}'.format obj name if clear dacl Dacl obj type obj type else dacl Dacl obj name obj type return dacl obj name not enabled 
def get traceback exc type exc value exc tb sys info trace list traceback exception exc type exc value exc tb body u cstr t for t in trace list return body 
def job show context data dict return {'success' False 
def decode signed varint i if not i & 1 return i >> 1 return i >> 1 ^ ~ 0
def  cache shop configuration shop configuration {}configuration.update  get configuration from db None if shop configuration  get configuration from db shop cache  get cache key shop configuration return configuration 
def nunpack s default 0 l len s if not l return defaultelif l 1 return ord s elif l 2 return struct '>H' s [0]elif l 3 return struct '>L' '\x00' + s [0]elif l 4 return struct '>L' s [0]else return Type Error 'invalidlength %d' % l 
def load protocol modules from . import audio output channels command list connection current playlist mount music db playback reflection status stickers stored playlists 
def binomial coefficients list n d [1] * n + 1 a 1for k in range 1 n // 2 + 1 a a * n - k + 1 // k d d n - k ] areturn d 
def get specialized types type assert type fusedif isinstance type Fused Type result list type for specialized type in result specialized type string specialized type name else result []for cname f2s in get all specialized permutations type fused types specialized type type f2s specialized type string specialization signature string type f2s result specialized type return result 
def get Loops Lists Intersections loops List loops Lists Intersections []for loops Index in xrange len loops List loops loops List Index other Loops in loops List loops Index loops Lists Intersections + get Loops Loops Intersections loops other Loops return loops Lists Intersections 
def get traffic dates thing now datetime g .replace minute 0 second 0 microsecond 0 start end get total run thing end min now end return start end 
def get default username check db True from django import models as auth appif auth app User meta return ''default username get system username try default username unicodedata 'NFKD' default username .encode 'ascii' 'ignore' .decode 'ascii' .replace '' '' .lower except Unicode Decode Error return ''try auth app User meta field 'username' .run validators default username except exceptions Validation Error return ''if check db and default username try auth app User default manager username default username except auth app User Does Not Exist passelse return ''return default username 
def  do get file map file tree file map []stack [file tree len stack tree node stack 0 if tree node 'file' file map tree node tree node else stack stack + tree node return file map 
def line nr ana entry rowcol ana entry name return rowcol entry [0] + 1
def list members t owner slug get slug rel {}next cursor -1 while next cursor ! 0 m t slug slug owner screen name owner cursor next cursor include entities False for u in m rel '@' + u name next cursor m cursor Nicely 'll ' + str len rel + 'members.' for name in rel user '' + cycle color name user + color func c T W E E T '' + rel + '' print Nicely user 
def connect db rv sqlite3 app D A T A B A S E rv factory sqlite3 Rowreturn rv 
def load command class app name name module import module '%s.management.commands.%s' % app name name return module Command 
def s3 auth on logout user s3 clear session 
def colorline x y colors None linewidth 3 alpha 1.0 colors ['r' 'g' 'b' 'c' 'y' 'm' 'k']widths [5 10 20 40 20 10 5]segments make segments x y lc Line Collection segments colors colors linewidth widths alpha alpha ax plt ax collection lc return lc 
def background func def internal *a **kw data ctx  context Thread ] context Thread ] storage ctx def newfunc  context Thread ] ctxfunc *a **kw t threading Thread target newfunc background t ] tt ctx []return seeother changequery  t id t return internal 
def create editable list form form base class form class widget None if widget is None widget X Editable Widget class List Form form base class list form pk Hidden Field validators [nput Required ] for name obj in iteritems form class  dict   if isinstance obj Unbound Field obj widgetsetattr List Form name obj if name 'list form pk raise Exception 'ormalreadyhasalist form pkcolumn return List Form 
def make key filter include if not include return identitymatchers []for key in include key re key key key '\\*' '.*' matchers re key + '$' def filter  data filtered dict for key value in data if any [m.match key for m in matchers filtered valuereturn filteredreturn filter 
def set auth auth key  auth registry key request None request request or webapp2 request request auth 
def consistencygroup include in cluster context cluster partial rename True **filters return I M P L include in cluster context cluster partial rename **filters
def widest numeric type type1 type2 if type1 reference type1 type1 base typeif type2 reference type2 type2 base typeif type1 type2 widest type type1elif type1 complex or type2 complex def real type ntype if ntype complex return ntype typereturn ntypewidest type C Complex Type widest numeric type real type type1 real type type2 elif type1 enum and type2 enum widest type c int typeelif type1 < type2 widest type type2elif type1 > type2 widest type type1elif type1 < type2 widest type type1elif type1 > type2 widest type type2elif type1 typedef > type2 typedef widest type type1else widest type type2return widest type 
def deep update d u for k v in u if isinstance v collections Mapping r deep update d k {} v d relse d u d 
def  coerce method converter def wrapper self if len self 1 return converter self raise Type Error 'cannotconverttheseriesto{0}'.format str converter return wrapper 
def  split str s n length len s return [s[i i + n ] for i in range 0 length n ]
def virtual interface delete context id return I M P L interface delete context id 
def setup polling conf cfg file conf cfg filereturn Polling Manager conf cfg file 
def idfunc vals dtype re 'float\\d\\d' .search '{}'.format vals .group return '{} {}'.format vals dtype 
def set vif host backend ethernet config conf tapname conf type 'ethernet'conf.target dev tapnameconf ''
def started service if not is running service if using systemd systemd service else start service 
def runtime rewriter middleware application return functools  rewriter middleware  REQUEST REWRITER CHAIN  RUNTIME RESPONSE REWRITER CHAIN application 
def  split p dash  allow M O S F S Names and p 1] '-' if dash q string p '-' 1 + 1 elif p 1] ' ' q 0else q string p ' ' + 1 s string p '#' if s -1 or s > q s qelse for c in p s if c not in string letters q 0breakr qif p q + 1 ] ' ' r string p '.' q + 1 + 1 if r 0 r len p return p q p r p ]
def test lex mangling star entry tokenize '*foo*' assert entry [y Symbol 'FOO' ] entry tokenize '*' assert entry [y Symbol '*' ] entry tokenize '*foo' assert entry [y Symbol '*foo' ]
def parse input args condition True  args [] kwargs {}for arg in args if isinstance arg six types arg name arg value parse kwarg arg if arg name  kwargs name yamlify arg arg value else  args yamlify arg arg elif isinstance arg dict if arg '  kwarg  ' False is True for key val in six arg  kwargs yamlify arg val else  args arg else  args arg if condition return condition input  args  kwargs return  args  kwargs 
def add never cache headers response patch response headers response cache timeout -1
def F classify lambda document False documents [] beta 1 average None A P R F1 test classify documents average return beta ** 2 + 1 * P * R / beta ** 2 * P + R or 1
def validate external location uri if not uri return Falsescheme urlparse uri .schemereturn scheme in store api known schemes and scheme not in RESTRICTED URI SCHEMAS
def Make Pmf From List t label None return Pmf t label label 
def get Scale Matrix Tetragrid prefix xml Element scale Default Vector3 Vector3 1.0 1.0 1.0 scale get Cumulative Vector3 Remove prefix scale Default Vector3 xml Element if scale scale Default Vector3 return Nonereturn [[scale.x 0.0 0.0 0.0] [0.0 scale 0.0 0.0] [0.0 0.0 scale 0.0] [0.0 0.0 0.0 1.0]]
def umount module dest umount bin module bin path 'umount' required True cmd [umount bin dest rc out err module command cmd if rc 0 return 0 '' else return rc out + err 
def  dbus exception to reason exc args error exc dbus name if error 'error.unknown config return "nknownconfiguration args elif error 'error.illegal snapshot return 'nvalidsnapshot return exc dbus name 
def iter params for processing invocation order declaration order def sort key item try idx invocation order item except Value Error idx float 'inf' return not item eager idx return sorted declaration order key sort key 
def mon status **kwargs return ceph cfg **kwargs
def  ensure panel ids dashboard panel id 1for row in dashboard 'rows' [] for panel in row 'panels' [] panel panel idpanel id + 1
def webdoc arg None stable None stable release if stable is None else stable url or error  generate url arg stable if isinstance url or error Value Error raise url or errorwebbrowser url or error return None 
def group id exists group id context model context context session model Group .get group id if not result raise Invalid '%s %s' % _ 'otfound _ 'roup return group id 
def tar packages pkgmgr pkg type pkg names src dir temp dir tarballs []include string '.'exclude string Nonenames [p.strip for p in pkg names ' ' ]for name in names print 'rocessing % name if pkg type 'client' pkg dir src direxclude string get exclude string pkg dir elif pkg type 'test' pkg dir os get test dir name src dir name else pkg dir os src dir name pkg name pkgmgr tarball name name pkg type tarball path pkgmgr package pkg name pkg name src dir pkg dir dest dir temp dir include string include string exclude string exclude string tarballs tarball path return tarballs 
def setup other plugins all plugins clone plugin 'tpope/vim-pathogen' for plugin in all plugins clone plugin plugin 
def dmp quo f g u K return dmp div f g u K [0]
def ck delete try filename request raise HTTP 401 'equiredargumentfilenamemissing table s3db ckeditordb table filename .delete filepath os request 'uploads' filename os filepath 
def import file to ast fpath module name return hy compile import file to hst fpath module name 
def  check estimator estimator if not hasattr estimator 'decision function and not hasattr estimator 'predict proba raise Value Error 'hebaseestimatorshouldimplementdecision functionorpredict proba 
def is a spanquery obj return isinstance obj Span Term Query Span First Query Span Or Query Span Multi Query 
def zeros like a dtype None if dtype is None dtype a zeros a dtype dtype 
def test named t usertypes Timer name 'foobar' assert t name 'foobar' assert t Name 'foobar' assert repr t "imername 'foobar'>"
def setup logging options None level logging D E B U G if options is not None and options else logging W A R N I N G console logging Stream Handler console Level level formatter logging Formatter u name s % levelname -8s% message s console Formatter formatter logging Logger u .evel level logging Logger u .andler console 
def test escaped html s '&lt;em&gt;strong&lt;/em&gt;'eq  s linkify s 
def upgrade available name return latest version name ! ''
def test script main []
def git version process subprocess Popen [u'git' u stdout subprocess P I P E stdout stderr process assert process 0 u Failedtodeterminegitversion re u \\d+ ? \\.\\d+ * [\\s\\.]' stdout return Revision matches 1
def user is article course staff user article wiki slug article course wiki root slug article if wiki slug is None return Falsemodstore modulestore return  has wiki staff access user wiki slug modstore 
def lv list cmd 'lvs--all'volumes {}result utils cmd lines result .splitlines if len lines > 1 columns lines lines lines ]else return volumesfor line in lines details line length len details details dict {}lv name details dict V G details dict Attr details dict L Size details length 5 details dict Origin Data details length > 5 details dict Origin Data details dict Pool details name details dictreturn volumes 
def list numbering start attrs if 'start' in attrs return int attrs - 1 else return 0
def dbcredentials username password location source source idx Nonewhile source idx is None source idx fetch ' E L E C T R O W I D F R O Mhost W H E R Eip ?' source if len source idx > 0 source idx source idx dbhost None source None source idx Nonereturn insert ' N S E R T I N T Ocredentials V A L U E S ? ? ? ? ? ' username password location source idx  timestamp 
def create update dashboard orgname None profile 'grafana' **kwargs if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/dashboards/db'.format profile 'grafana url json kwargs auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def do db sync db api sync db api engine C O N F 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def send notif after export user event name result if '  error in result send notification user user action NOTIF EVENT EXPORT FAIL title NOTIFS[NOTIF EVENT EXPORT F A I L event name event name message NOTIFS[NOTIF EVENT EXPORT F A I L error text result else send notification user user action NOTIF EVENT EXPORTED title NOTIFS[NOTIF EVENT E X P O R T E D event name event name message NOTIFS[NOTIF EVENT E X P O R T E D event name event name download url result url 
@skip 'multiple execute def test critical parameterless constructor global calledclr Add Reference 'ron Python Test import Iron Python Test as I P Tcalled Falseclass My Type type def   clrtype   self global calledcalled Truereturn I P T Sanity Parameterless Constructorclass X object   metaclass   My Type Are Equal called True Are Equal I P T Sanity Parameterless Constructor Which Constructor 0 py x X Are Equal I P T Sanity Parameterless Constructor Which Constructor 1 cs x I P T Factory Get X Are Equal I P T Sanity Parameterless Constructor Which Constructor 2 Are Equal type py x type cs x 
def  response code return ' T T P % code client 
def validate argmin with skipna skipna args kwargs skipna args process skipna skipna args validate argmin args kwargs return skipna 
def update ports tree ports tree  check config exists if ports tree cmd 'poudriereports-u-p{0}'.format ports tree else cmd 'poudriereports-u'ret   salt  ['cmd.run'] cmd return ret 
def assign obj **kwargs obj  dict  .update kwargs 
def augment options options subset fields [attr for attr in dir options if not callable getattr options attr and not attr '__' ]for field in fields value subset field if value ! None setattr options field value return options 
def display name with default escaped block return display name with default block .replace '<' '&lt;' .replace '>' '&gt;'
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def test wrap nested expr wrapped wrap value Hy Expression [long type 0 ] assert type wrapped Hy Expression assert type wrapped Hy Integer assert wrapped Hy Expression [y Integer 0 ]
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def get port range ports ports ports 'utf8' p ports '\xe2\x80\x93' '-' .split '-' if len p 2 return [int p int p ]else return [int p int p ]
def require role role 'user' def  deco func def   deco request *args **kwargs request url request not request authenticated return Http Response Redirect reverse 'login' if role 'admin' if request 'CU' return Http Response Redirect reverse 'index' elif role 'super' if request in ['CU' 'GA'] return Http Response Redirect reverse 'index' return func request *args **kwargs return   decoreturn  deco 
def country code for region region code if not  is valid region code region code return 0return country code for valid region region code 
def check password password encoded setter None preferred u if not password or not is password usable encoded return Falsepreferred get hasher preferred hasher identify hasher encoded must update hasher ! preferred is correct hasher password encoded if setter and is correct and must update setter password return is correct 
def get dataset names from bs4 import Beautiful Souphttp urlopen 'https //github.com/mwaskom/seaborn-data/' gh list Beautiful Soup http return [l.text.replace '.csv' '' for l in gh list all 'a' {'class' 'js-navigation-open'} if l '.csv' ]
def  set state pkg state ret {}valid states 'hold' 'noprune' 'user' 'ok' 'installed' 'unpacked' if state not in valid states raise Salt Invocation Error 'nvalidstate {0}'.format state oldstate  get state pkg cmd ['opkg' 'flag']cmd.append state cmd pkg  out   salt  ['cmd.run'] cmd python shell False ret {'old' oldstate 'new' state ret 
def clear outbox frappe u rfrom Email Queue `mail Queue Recipient r 0and\n DCTB DCTB datediff now q >31' frappe u Email Queue `mail Queue Recipient 'xpired r 'xpired DCTB DCTB whereq r curdate q >7andq.status 'ot Sent 'ot Sent 
def  strip basic auth url frags list urlsplit url if '@' in frags frags frags '@' [1]return urlunsplit frags 
def pick configurator config default plugins question 'owwouldyouliketoauthenticateandinstallcertificates return pick plugin config default plugins question interfaces I Authenticator interfaces I Installer 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get class for purpose mapping get class mapping class  mapping isinstance class  six types class  get class from string class  return class 
def split lib transform header if header '>' header header ]fields header lib id fields id fields fields ' ' [1]return ''.join [lib id 'read id ' + qual id 'barcode ' + bc ] qual id 
def  item to topic iterator resource return Topic api repr resource iterator 
def format exception msg *args **kwargs tb traceback tb sys info [2] limit 1 if len tb > 0 filename lineno func text tb filename lineno func text u msg filename filename lineno lineno func func text text *args **kwargs
@command 'mv\\s* \\d{1 3} \\s* %s ' % WORD def playlist rename idx  id name  id int  id - 1 playlist rename sorted g [ id + '' + name 
def  transform func name def wrapped self *args **kwargs replacement string  query super func name self *args **kwargs to string []char counter 0for index in range 0 len self raw string if index in self code indexes to string self raw string elif index in self char indexes to string replacement string counter char counter + 1return A N S I String ''.join to string decoded True code indexes self code indexes char indexes self char indexes clean string replacement string return wrapped 
def iprand return 'iprand'
def convert to real indices seq qubit map if isinstance seq Mul seq seq not isinstance qubit map dict msg 'xpecteddictforqubit map got % qubit map raise Type Error msg qubit map  sympify qubit map qubit map real seq for item in seq if isinstance item Gate real item convert to real indices item qubit map elif isinstance item tuple or isinstance item Tuple real item convert to real indices item qubit map else real item qubit map isinstance item Gate real item item  class   *real item real seq real seq + real item return real seq 
def ip num to string ip return '.'.join map lambda n str ip >> n & 255 [24 16 8 0]
def compare media types actual expected return compare tree to dict actual expected 'base' 'type'
def uid to user uid try return pwd uid .pw nameexcept Key Error Name Error return uid 
def get Extent By Paths element Node transformed Paths element Node Object Transformed Paths return euclidean Maximum By Vector3 Paths transformed Paths - euclidean Minimum By Vector3 Paths transformed Paths 
def normalize parameter name name if type name is Tuple Type return ' %s ' % ' '.join [normalize parameter name n for n in name else return name 
def decode datetime encoded datetime time zone match  TIME ZONE R E encoded datetime if time zone match time string encoded datetime time zone match 1 ].upper else time string encoded datetime if '.' in time string format string ' T H %M % format string ' T H %M % datetime datetime time string format string if not time zone match return decoded datetimeif time zone match 'z' offset minutes 0else sign time zone match 'sign' hours minutes [int value for value in time zone match 'hours' 'minutes' ]offset minutes hours * 60 + minutes if sign '-' offset minutes * -1 return datetime decoded datetime decoded datetime decoded datetime decoded datetime decoded datetime decoded datetime decoded datetime Time Zone Offset offset minutes 
def check quota context image size db api image id None remaining get remaining quota context db api image id image id if remaining is None returnuser getattr context 'user' '<unknown>' if image size is None if remaining < 0 L O G  LW 'ser user sattemptedtouploadanimageofunknownsizethatwillexceedthequota remaining dbytesremaining % {'user' user 'remaining' remaining raise exception Storage Quota Full image size image size remaining remaining returnif image size > remaining L O G  LW 'ser user sattemptedtouploadanimageofsize size dthatwillexceedthequota remaining dbytesremaining % {'user' user 'size' image size 'remaining' remaining raise exception Storage Quota Full image size image size remaining remaining return remaining 
def subtract time from time time1 time2 result format 'number' exclude millis False time Time time1 - Time time2 return time result format millis is falsy exclude millis 
def select fds read fds timeout selector Auto Selector fd map dict fd to int fd fd for fd in read fds sel selector try for fd in read fds sel fd result sel timeout if result is not None return [fd map to int fd ] for fd in result sel 
def  get pubkey hash cert sha hash hashlib cert pubkey .get modulus .hexdigest return  pretty hex sha hash 
def render X R D S request type uris endpoint urls response direct to template request 'xrds.xml' {'type uris type uris 'endpoint urls endpoint urls response Content Type YADIS CONTENT T Y P Ereturn response 
def do 3d scatter x y z figno None title None fig pyplot figno ax Axes3 D fig ax x y z ax xlabel 'X' ax ylabel 'Y' ax zlabel 'Z' pyplot title 
def first key obj return six six obj 
def bounce sequence N len sequence def f i div mod divmod i N if div % 2 0 return sequence return sequence N - mod - 1 ]return partial  force sequence  advance f 
def init mpstate return Cmdlong Module mpstate 
def lookup I P V6 Address name timeout None return get Resolver . P V6 Address name timeout 
def strip blank dic def  is blank v 'eterminesiftheprovidedvaluecontainsnoinformation isinstance v str and len v 0 return dict [ k v for k v in dic if not  is blank v ]
def dmp eval f a u K if not u return dup eval f a K if not a return dmp TC f K result v dmp LC f K u - 1 for coeff in f ] result dmp mul ground result a v K result dmp add result coeff v K return result 
def test write twoline no bookend out String I O ascii dat out Writer ascii Fixed Width Two Line bookend True delimiter '|' assert equal splitlines out 'ol1 Col2 Col3 Col4 
def  link environment protocol alias local port hostname remote port alias alias base u PORT %d %s' % alias local port protocol return {base u //%s %d' % protocol hostname remote port base + u ADDR' hostname base + u PORT' u % remote port base + u PROTO' protocol 
def spoly p1 p2 ring LM1 p1 L M L M2 p2 L M L C M12 ring lcm LM1 LM2 m1 ring div LCM12 LM1 m2 ring div LCM12 LM2 s1 p1 monom m1 s2 p2 monom m2 s s1 - s2 return s 
def is admin context context if not context warnings _ 'seofemptyrequestcontextisdeprecated Deprecation Warning raise Exception 'die' return context admin 
def Bernoulli name p succ 1 fail 0 return rv name Bernoulli Distribution p succ fail 
def asip ip if isinstance ip I P Addr return ipreturn I P Addr ip 
def add ratelimit rule range seconds num requests global rulesrules range seconds num requests rules key lambda x x 
def add with port collision retry client unit name **kw ultimate ports []def add ultimate ports ] tentative ports list port external port find free port [1] if port port 0 else port for port in kw tentative kw kw tentative kw tentative portsreturn client unit name **tentative kw def cleanup return client unit name if 'ports' in kw trying add trying Errback  retry on port collision add cleanup result tryingelse result client unit name **kw result Callback lambda app app ultimate ports return result 
def get ccx creation dict course context {'course' course 'create ccx url reverse 'create ccx kwargs {'course id course 'has ccx connector 'true' if hasattr course 'ccx connector and course connector else 'false' 'use ccx con error message _ ' C C Xcanonlybecreatedonthiscoursethroughanexternalservice Contactacourseadmintogiveyouaccess }return context 
def Path Check path if isinstance path unicode path path 'utf-8' path os path if not os path raise Value Error _ 'ile %s' % path return os path 
def test epoch multi ids raw events picks  get data epochs Epochs raw events {'a/b/a' 1 'a/b/b' 2 'a/c' 3 'b/d' 4 'a b 5} tmin tmax picks picks preload False epochs regular epochs reverse epochs multi epochs 'a/b/b']]assert array equal epochs multi epochs regular assert array equal epochs reverse epochs regular assert allclose epochs multi data epochs regular data assert allclose epochs reverse data epochs regular data 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def parse schema string s files {} repr  Thier repr with ns False skip errors False elt etree s parser PARSER return Xml Schema Parser files repr  repr  skip errors skip errors .parse schema elt 
def setup app app role 'rfc' rfclink return 
def test lex expression strings objs tokenize ' foo ' assert objs [y Expression [y Symbol 'foo' Hy String 'bar' ] ]
def search issues query sort None order None per page None text match False number -1 etag None return gh issues query sort order per page text match number etag 
def  dump response http response output 'ttp Response %s\nreason %s\nheaders ' % http response http response headers get headers http response if isinstance headers dict for header value in headers output + '%s %s\n' % header value else for pair in headers output + '%s %s\n' % pair pair return output 
def accuracy features labels model preds predict model features return np preds labels 
def stdev data xbar None var variance data xbar try return var except Attribute Error return math var 
def render s context None if context is None context {}t get env .from string s return t context 
@register opt @local optimizer [pu From Host tensor Eye def local gpu eye node if isinstance node Gpu From Host host input node host input and isinstance host input tensor Eye and host input 'float32' if tensor constant host input ! 0 returnreturn [gpu eye *host input ]if isinstance node tensor Eye and node 'float32' if any [ i and isinstance i Host From Gpu for i in node if tensor constant node ! 0 returnreturn [host from gpu gpu eye *node.inputs ]return False 
def  get synset synset key return wn synset key 
def  create transport factory reactor transport session factory if transport 'websocket' serializers  create transport serializers transport return Wamp Web Socket Client Factory session factory url transport serializers serializers elif transport 'rawsocket' serializer  create transport serializer transport return Wamp Raw Socket Client Factory session factory serializer serializer else assert False 'shouldnotarrivehere'
def refresh beacons try ret   salt  ['event.fire'] {} 'beacons refresh except Key Error log 'ventmodulenotavailable Modulerefreshfailed ret Falsereturn ret 
def make permission config key view return 'api permission {}'.format view  class  .  name  
def get qiime scripts dir script fp which 'print qiime config if script fp is None raise Scripts Dir Error 'ouldnotfindthedirectorycontaining Q I I M Escripts Q I I M Escriptsmustbeaccessibleviathe P A T Henvironmentvariable andtheymustbeexecutable Pleaseensurethatyouhaveavalid Q I I M Einstallation seethe Q I I M E Installation Guide http //qiime.org/install/install.html .' return dirname script fp 
def treat machine dict machine machine {'id' machine 'id' '' 'image' machine 'image' '' 'size' ' B machine 'ize 0 'state' machine get machinestate str machine 'private ips [] 'public ips []} if 'ize in machine del machine Size machine 
def get dependencies return config driver dependencies   virtualname   {'libcloud' HAS LIBS}
def auth keys user None config '.ssh/authorized keys if not user user   salt  ['user.list users old output when one user Falseif not isinstance user list user [user]old output when one user Truekeys {}for u in user full Nonetry full  get config file u config except Command Execution Error passif full and os full keys  validate keys full if old output when one user if user in keys return keys return {}return keys 
def expose request func if not python func raise Type Error 'funcmustbecallable' if isinstance func types Unbound Method Type setattr func func ' pyamf expose request True else setattr func ' pyamf expose request True return func 
def repo issue params milestone None state None assignee None mentioned None labels None sort None direction None since None number -1 etag None params {u'assignee' assignee u mentioned milestone in u u or isinstance milestone int params milestone Repository remove none params params issue params None state labels sort direction since return params 
@security.send mail taskdef send email msg common send email subject msg recipients msg html msg 
def  insert thousands sep digits spec min width 1 sep spec sep spec []for l in  group lengths grouping if l < 0 raise Value Error 'grouplengthshouldbepositive' l min max len digits min width 1 l groups '0' * l - len digits + digits - l ] digits digits - l ]min width - lif not digits and min width < 0 breakmin width - len sep else l max len digits min width 1 groups '0' * l - len digits + digits - l ] return sep reversed groups 
def find job jid for data in running if data jid return datareturn {}
@add handler 'bookmarks' def qute bookmarks  url bookmarks sorted objreg 'bookmark-manager' .marks.items key lambda x x quickmarks sorted objreg 'quickmark-manager' .marks.items key lambda x x html jinja 'bookmarks.html' title 'ookmarks bookmarks bookmarks quickmarks quickmarks return 'text/html' html 
def octahedral graph create using None description ['adjacencylist' 'latonic Octahedral Graph 6 [[2 3 4 5] [3 4 6] [5 6] [5 6] [6] []]]G make small undirected graph description create using return G
def constant time compare actual expected actual len len actual expected len len expected result actual len ^ expected len if expected len > 0 for i in xrange actual len result | ord actual ^ ord expected i % expected len ] return result 0
def qualname obj if isinstance obj functools obj obj hasattr obj '  module  ' prefix '{}.'.format obj  module   else prefix ''if hasattr obj '  qualname  ' return '{}{}'.format prefix obj  qualname   elif hasattr obj '  name  ' return '{}{}'.format prefix obj  name   else return repr obj 
def make s curve n samples 100 noise 0.0 random state None generator check random state random state t 3 * np * generator 1 n samples - 0.5 x np t y 2.0 * generator 1 n samples z np t * np t - 1 X np x y z X + noise * generator 3 n samples X X Tt np t return X t 
def test l10n dups request Http Request setattr request ' messages default storage request info request _ 'itle _ 'ody info request _ 'itle _ 'ody info request _ 'nother Title _ 'nother Body storage django messages messages request assert len storage 2 'oofewortoomanymessagesrecorded 
@scope.definedef callpipe1 fn list arg for f in fn list arg f arg return arg 
def get Loop Centroid polygon Complex polygon Double Area 0orque 0.0for point Index in xrange len polygon Complex point Begin polygon Complex Index End polygon Complex point Index + 1 % len polygon Complex ]rea point Begin * point End - point End * point Begin double Center complex point Begin + point End point Begin + point End polygon Double Area + double Areapolygon Torque + double Area * double Center torque Multiplier 0.3333333333333333 / polygon Double Area return polygon Torque * torque Multiplier 
@check login required local site accessdef submitter request username grid None template name u local site None if local site try user local site username username except User Does Not Exist raise Http404else user get object or 404 User username username if grid is None or grid u datagrid cls User Page Review Request Data Gridelif grid u datagrid cls User Page Reviews Data Gridelse raise Http404datagrid datagrid cls request user local site local site datagrid [ User Page Review Request Data Grid title local site reverse u local site local site args [username] User Page Reviews Data Grid title local site reverse u local site local site args [username u ]return datagrid to response template name 
def select provider config parser working set type name try entry point working set entry points type name .next except Stop Iteration raise Exception 'unknown%sprovider %r' % type name else provider cls entry point if hasattr provider cls 'config' config parser spec provider cls return provider cls 
def summarize text ratio 0.2 word count None split False sentences  clean text by sentences text if len sentences 0 logger 'nputtextisempty returnif len sentences 1 raise Value Error 'inputmusthavemorethanonesentence' if len sentences < INPUT MIN LENGTH logger 'nputtextisexpectedtohaveatleast + str INPUT MIN LENGTH + 'sentences.' corpus  build corpus sentences most important docs summarize corpus corpus ratio ratio if word count is None else 1 extracted sentences  extract important sentences sentences corpus most important docs word count extracted sentences key lambda s s return  format results extracted sentences split 
def  update Policy Elements policy item regkey for child in policy item if 'ame in child if 'key' not in child child regkeyreturn policy item 
def  detect xerial stream payload if len payload > 16 header struct '!' +  XERIAL V1 FORMAT bytes payload [ 16] return header  XERIAL V1 HEADER return False 
def test prewitt h vertical i j np -5 6 -5 6]image j > 0 .astype float result filters h image assert allclose result 0 atol 1e-10
def test suggested column names from visible table completer complete event text u S E L E C Tfromusers len u S E L E C T result set completer completions Document text text cursor position position complete event assert set result set testdata u + testdata + list testdata functions + testdata 
def post save resource instance sender **kwargs current site Site current master site Site id 1 Site Resources site current site .resources.add instance self resource Site Resources site master site .resources.add instance self resource 
def get seqs to keep lookup from otu map seqs to keep f otu map fields to dict seqs to keep f seqs to keep []for seq ids in otu map seqs to keep + seq idsreturn {}.fromkeys seqs to keep 
def add test name test type path author None dependencies None experimental True run verify None test class None test time None test category None description None sync count 1 return models Test object name name test type test type path path author author dependencies dependencies experimental experimental run verify run verify test time test time test category test category sync count sync count test class test class description description .id
def get app wx *args **kwargs import wxapp wx Get App if app is None if 'redirect' not in kwargs kwargs Falseapp wx Py Simple App *args **kwargs return app 
def cycle length f x0 nmax None values False nmax int nmax or 0 power lam 1 tortoise hare x0 f x0 i 0while tortoise ! hare and not nmax or i < nmax i + 1if power lam tortoise harepower * 2lam 0if values yield hare hare f hare lam + 1if nmax and i nmax if values returnelse yield nmax None returnif not values mu 0tortoise hare x0for i in range lam hare f hare while tortoise ! hare tortoise f tortoise hare f hare mu + 1if mu mu - 1 yield lam mu 
def  buffered write file fobj if PY26 or PY27 and isinstance fobj bz2 B Z2 File return closing fobj else return io Buffered Writer fobj buffer size  IO BUFFER SIZE
def  parse volume info connection data volume id connection data id portal connection data portal host  get target host target portal target port  get target port target portal target iqn connection data iqn params {'vol id volume id 'host' target host 'port' target port 'iqn' target iqn L O G ' vol id host port iqn % vol id s % host s % port s % iqn s ' log params if volume id is None or target host is None or target iqn is None raise exception Storage Error reason _ 'nabletoobtaintargetinformation % strutils password connection data volume info {}volume info volume idvolume info target hostvolume info target portvolume info I Q N target iqnif 'auth method in connection data and connection data method 'CHAP' volume info connection data username info connection data password volume info 
def guess locale from lang windows lang locale n str LEGAL V A L U E S WINDOWS LOCALE G U E S S E S lang None if not is valid locale locale n locale n Nonereturn locale n 
def numeric to rational numeric if numeric 1] '-' sign numeric numeric numeric ] else sign ''parts numeric '/' if len parts 2 num den float to rational float parts / float parts elif len parts 1 num den float to rational float parts else raise Value Error result '%s%s/%s' % sign num den if result '/1' return result -2 ]return result 
def  prepare index for memoryview i j x None if i > j j j i elif i < j i i j if not i or i not in np np i i np if not j or j not in np np j j np if x is not None if not x x x return i j x else return i j 
def register cmap safe name data try return cm cmap name except Value Error cmap Linear Segmented Colormap list name data cm cmap name cmap return cmap 
def get user display user icon True link False if user is None full name pgettext u Noknownuser u None else full name user nameif full name u full name user name escape full name if icon and appsettings E N A B L E AVATARS if user is None or user u avatar get fallback avatar url 32 else avatar reverse u avatar kwargs {u'user' user u 32} full name u "{avatar}"class "avatar"/>{name}'.format name full name avatar avatar if link and user is not None return mark safe u "{link}">{name}</a>'.format name full name link reverse u page kwargs {u'user' user else return mark safe full name 
def  input placeholder if F L A G S 'mnist' image size 28num channels 1else image size 32num channels 3train node shape F L A G S size image size image size num channels return tf tf shape train node shape 
def SAREXT bar Ds count startvalue -4e+37 offsetonreverse -4e+37 accelerationinitlong -4e+37 accelerationlong -4e+37 accelerationmaxlong -4e+37 accelerationinitshort -4e+37 accelerationshort -4e+37 accelerationmaxshort -4e+37 return call talib with hl bar Ds count talib S A R E X T startvalue offsetonreverse accelerationinitlong accelerationlong accelerationmaxlong accelerationinitshort accelerationshort accelerationmaxshort 
def cat file to cmd file command ignore status 0 return output False if not os file raise Name Error 'invalidfile%stocattocommand%s' % file command if return output run cmd utils outputelse run cmd utils magic type file 'application/x-bzip2' if base packages pbzip2 cat 'pbzip2-d-c'else cat 'bzcat'elif magic type file 'application/x-gzip' cat 'zcat'elif magic type file 'application/x-xz' cat 'xzcat'else cat 'cat'return run cmd '%s%s|%s' % cat file command ignore status ignore status 
def  get const index exog effects idx exog 0 ! 0 if np ~ effects idx const idx np ~ effects idx [0]else const idx Nonereturn effects idx const idx 
def assure snapshot fnc @wraps fnc def  wrapped self snapshot *args **kwargs if not isinstance snapshot Cloud Block Storage Snapshot snapshot self snapshot manager snapshot return fnc self snapshot *args **kwargs return  wrapped 
def is same domain host pattern if not pattern return Falsepattern pattern return pattern '.' and host pattern or host pattern ] or pattern host 
def url to filetype abs url path urlparse abs url .pathif path '/' path path -1 ]path chunks [x for x in path '/' if len x > 0 ]last chunk path chunks -1 ].split '.' if len last chunk < 2 return Nonefile type last chunk -1 ]if len file type < 5 or file type in ALLOWED TYPES return file type return None 
def forwards problems pending done verbosity return inner problem check problems reversed pending done done verbosity 
def cell to rowcol cell m  re cell ex cell if not m raise Exception 'll cellreference %s' % cell col abs col row abs row m row abs bool row abs col abs bool col abs row int row - 1 col col by name col return row col row abs col abs 
def is pycaffe in dir dirname None old path sys dirname is not None sys [dirname]try imp module 'caffe' except Import Error return Falsefinally sys old pathreturn True 
def hessian matrix image sigma 1 mode 'constant' cval 0 order None image img as float image gaussian filtered ndi filter image sigma sigma mode mode cval cval if order is None if image 2 warn 'deprecationwarning thedefaultorderofthehessianmatrixvalueswillbe Useorder "rc"ororder "xy"tosetthisexplicitly' order 'xy'else order 'rc'gradients np gaussian filtered axes range image if order 'rc' axes reversed axes H elems [np.gradient gradients axis ax1 for ax0 ax1 in combinations with replacement axes 2 ]return H elems 
def locate app app id   traceback hide   Trueif ' ' in app id module app obj app id ' ' 1 else module app idapp obj Nonetry   import   module except Import Error if sys info [ -1 ].tb next raiseelse raise No App Exception 'hefile %s doesnotappeartoexist Pleaseverifythepathiscorrect Ifappisnoton P Y T H O N P A T H ensuretheextensionis % module mod sys app obj is None app find best app mod else app getattr mod app obj None if app is None raise Runtime Error 'ailedtofindapplicationinmodule % module return app 
def make model save model fields fail message def save self commit True return save instance self model fields fail message commit return save 
@environmentfilterdef do sort environment value reverse False case sensitive False attribute None if not case sensitive def sort func item if isinstance item basestring item item return itemelse sort func Noneif attribute is not None getter make attrgetter environment attribute def sort func item processor sort func or lambda x x return processor getter item return sorted value key sort func reverse reverse 
def CDLSPINNINGTOP bar Ds count return call talib with ohlc bar Ds count talib C D L S P I N N I N G T O P 
def make binary tree fn args **kwargs count len args if not count raise Value Error 'alledmake binary treewithemptylist elif count 1 return args count // 2 return fn make binary tree fn args half **kwargs make binary tree fn args ] **kwargs **kwargs
def attr chain obj attr next getattr obj attr while next yield next next getattr next attr 
def user documents user return Document revisions  creator user .exclude html  startswith ' E D I R E C T .distinct
def rem z p q x delta degree p x - degree q x + 1 return rem Abs LC q x ** delta * p q x 
def nesterov momentum loss or grads params learning rate momentum 0.9 updates sgd loss or grads params learning rate return apply nesterov momentum updates momentum momentum 
def clear expired sessions for sid in get expired sessions delete session sid reason u Session Expired 
@with setup prepare stderr def test feature without name filename syntax feature name 'feature without name runner Runner filename assert raises Lettuce Runner Error runner assert stderr lines 'yntaxerrorat %eaturesmusthaveaname "eature Thisismyname % filename 
def colored text color None on color None attrs None if os 'ANSI COLORS DISABLED' is None fmt str '\x1b[%dm%s'if color is not None text fmt str % C O L O R S text if on color is not None text fmt str % H I G H L I G H T S color text if attrs is not None for attr in attrs text fmt str % A T T R I B U T E S text if color is not None text + R E S E Treturn text 
@not implemented for 'directed' @not implemented for 'multigraph' def adamic adar index G ebunch None def predict u v return sum 1 / log G w for w in nx neighbors G u v return  apply prediction G predict ebunch 
def bw silverman x kernel None A  select sigma x n len x return 0.9 * A * n ** -0.2
def unchanged argument if argument is None return u return argument 
def upgrade available name return latest version name ! ''
def make file path content '' permissions None path Content content if permissions is not None path permissions return path 
def build stack obj if type obj is list layers map build stack obj return Stack layers elif type obj is dict keys 'src' 'layername' 'color' 'colorname' 'mask' 'maskname' 'opacity' 'opacity' 'mode' 'blendmode' 'adjustments' 'adjustments' 'zoom' 'zoom' args [ arg obj for key arg in keys if key in obj ]return Layer **dict args else raise Exception 'hoh 
def pre constant merge vars seen var set const sig inv {}if isinstance vars graph Variable vars [vars]def recursive merge var if var in seen var return varif not hasattr var 'owner' return varif var and hasattr var 'fgraph' return varseen var var if isinstance var graph Constant sig var try if sig in const sig inv return const sig inv sig inv varexcept Type Error warnings "eworkaroundaproblem thefollowingvariablesignatureisn Please reportthistotheano % var passreturn varif var for idx inp in enumerate var var recursive merge inp return varreturn list map recursive merge vars 
def right d threshold sequence n m cs ['d'] + ['i'] * n - 1 if m < n cs 'd'return csif m > n * n - 1 / 2 raise Value Error 'oomanyedgesforthismanynodes ind n - 1 sum n - 1 while sum < m cs 'd'ind - 1sum + indind m - sum - ind cs 'd'return cs 
def zunpickle zdata return pickle zlib zdata 
def expandvars path global  varprogif '$' not in path return pathif not  varprog import re varprog re '\\$ \\w+|\\{[^}]*\\} ' i 0while True m  varprog path i if not m break i j m 0 name m 1 if name '{' and name '}' name name -1 ]if name in os tail path ]path path i + os i len path path + tailelse i jreturn path 
def  escape for regex text regex re text regex regex '\\\\' '\\\\\\' regex regex '\\$' '\\\\\\$' regex regex "\\'" "'" return regex 
def elevation client locations params {'locations' convert path locations }return client get '/maps/api/elevation/json' params ['results']
@patch 'esource def test delete transcription req resp Mock resp ''resp.status code 204req.return value resp {} app Transcription transcriptions 'TR123' app uri 'https /ccounts A C123 Transcriptions T R123 called with 'DELETE' uri 
def set env user name value None lst list tab user for env in lst if name env if value ! env rm env user name jret set env user name value if jret 'new' return 'updated'else return jretreturn 'present'env {'name' name 'value' value env comdat  write cron lines user  render tab lst if comdat return comdat 'new'
@frappe.whitelist def remove tag tag dt dn Doc Tags dt .remove dn tag 
def get tau cov mu tau None cov None if tau is None if cov is None cov np len mu tau np len mu else tau tt inverse cov elif cov is not None raise Value Error "an else cov tt inverse tau return tau cov 
def z transform pval z n if n < 3 return nanreturn normprob z * n - 3 ** 0.5 direction 'two-sided'
def heat decrypt value encryption key None encryption key get valid encryption key encryption key auth base64 value iv auth A E S size A E S encryption key AES.MODE CFB iv res cipher auth A E S size ] return res 
def ssl method method if method in  SSL PROTOCOLS return  SSL P R O T O C O L S try return ssl P R O T O C O L S S Lv23except Attribute Error return  SSL PROTOCOLS[0]
def paragraph return ''.join sentence for i in range random 1 4
def dmp sqf norm f u K if not u return dup sqf norm f K if not K Algebraic raise Domain Error 'grounddomainmustbealgebraic' g dmp raise K u + 1 0 K F dmp raise [ - K ] u 0 K s 0while True h _ dmp inject f u K front True r dmp resultant g h u + 1 K if dmp sqf p r u K breakelse f s dmp compose f F u K s + 1 return s f r 
def make limited stream stream limit if not isinstance stream Limited Stream if limit is None raise Type Error 'streamnotlimitedandnolimitprovided.' stream Limited Stream stream limit return stream 
def encrypt data iv Random .read A E S size cipher  create cipher iv return iv + cipher data 
def remove Backup Files By Type file Type backup File Paths get Files With File Types Without Words Recursively [ file Type + '~' ] for backup File Path in backup File Paths os backup File Path 
def  select sigma X normalize 1.349IQR sap X 75 - sap X 25 / normalize return np np X axis 0 ddof 1 IQR
def  cmd run cmd as json False cmd full [mport Module Name P K I as json cmd full 'onvert To Json Compress Depth4 Input Object {0} '.format cmd else cmd full cmd cmd ret   salt  ['cmd.run all str .join cmd full shell 'powershell' python shell True if cmd ret ! 0  L O G 'nabletoexecutecommand %rror %s' cmd cmd ret if as json try items json cmd ret strict False return itemsexcept Value Error  L O G 'nabletoparsereturndataas Json return cmd ret 
def frag joiner ack src ip port load for ip port in pkt frag loads if src ip port ip port if ack in pkt frag loads ip port old load pkt frag loads ip port load old load + load return Ordered Dict [ ack concat load ] return Ordered Dict [ ack load ]
def  parse statement options for option in options  create and add option option 
def is directed G return G directed 
def  Xml Pattern To Reg Ex xml pattern result ['^']while xml pattern if xml pattern '**' result '.*' xml pattern xml pattern ]elif xml pattern '*' result '[^/]*' elif xml pattern '/' result '/' else result re xml pattern xml pattern xml pattern ]result.append '$' return re ''.join result 
def get disconnect url provider id association id backend name  get enabled provider provider id .backend nameif association id return  get url 'social disconnect individual backend name url params {'association id association id else return  get url 'social disconnect backend name 
def get servers req servers service pb Get Servers Request resp servers service pb Get Servers Response apiproxy stub map Make Sync Call 'servers' 'et Servers req resp return list resp list 
def decrypt password private key password unencoded base64 password cmd ['openssl' 'rsautl' '-decrypt' '-inkey' private key subprocess Popen cmd stdin subprocess P I P E stdout subprocess P I P E stderr subprocess P I P E out err proc unencoded proc if proc raise Decryption Failure err return out 
def set Element Node To End Start element Node end start element Node [start end Node Follow 'ode Top Vector3 0.0 0.0 1.0
def  refresh course tabs request course module def update tab tabs tab type tab enabled 'ddsorremovesacoursetabbaseduponwhetheritisenabled panel {'type' tab type tab tab panel in tabs if tab enabled and not has tab tabs Course Tab json tab panel elif not tab enabled and has tab tabs tab panel course tabs copy course module for tab type in Course Tab Plugin Manager tab types if not tab type dynamic and tab type default tab enabled tab type enabled course module user request update tab course tabs tab type tab enabled Course Tab List tabs course tabs if course tabs ! course module course module course tabs 
def verify signature message secret old sig message 'message signature new sig compute signature message secret return new sig old sig 
def test extract array 1d trim assert np extract array np 4 2 0 mode u np [0] for i in [1 2 3] assert np extract array np 4 2 i mode u np [ i - 1 i assert np extract array np 4.0 2 4 mode u np [3]
def  pick counters log interpretation for log type in 'step' 'history' counters log interpretation log type {} .get 'counters' if counters return counterselse return {}
def test qtable read for ipac table with char columns t1 table Q Table [['A']] names 'B' out String I O t1 out format 'ascii.ipac' t2 table Q Table out format 'ascii.ipac' guess False assert t2 B is None 
def im list to blob ims max shape np [im.shape for im in ims .max axis 0 num images len ims blob np num images max shape max shape 3 dtype np for i in xrange num images im ims 0 im 0 im ] imchannel swap 0 3 1 2 blob blob channel swap return blob 
def load tag library libname if django V E R S I O N < 1 9 from django import get library Invalid Template Librarytry lib get library libname return libexcept Invalid Template Library return Noneelse from django import get installed librariesfrom django import Invalid Template Librarytry lib get installed libraries [libname]lib importlib module lib .registerreturn libexcept Invalid Template Library Key Error return None 
def get restart delay ret salt utils return result 'systemsetup-getwaitforstartupafterpowerfailure' return salt utils return ret 
def mount module args mount bin module bin path 'mount' required True name args [mount bin ismount name return remount module mount bin args if get platform .lower 'openbsd' if module is not None module json msg 'pen B S Ddoesnotsupportalternatefstabfiles Donotspecifythefstabparameterfor Open B S Dhosts else cmd +  set fstab args args cmd + [name] rc out err module command cmd if rc 0 return 0 '' else return rc out + err 
def clean Up Screens err Run 'pkill-9-fmnexec.*socat'
def test on valid error dict {'errors' {'so' 'many'}}expected hug format error dict assert hug format video error dict hug Response expected assert hug format image error dict hug Response expected @hug.output format valid 'image' hug format def my output format data raise Value Error 'hisshouldneverbecalled assert my output format error dict hug Response 
def undefer v if isinstance v Deferred v v return v 
def enable animations page enable jquery animations page enable css animations page 
def Browse M D I ob   main   Make Template root Make H L I ob repr ob if not root Is Expandable raise Type Error 'rowse argumentmusthave  dict  attribute orbea Browsersupportedtype template Open Object root 
def show port port profile None conn  auth profile return conn port port 
def validate token parameters params if u in params raise from error params u params if not u token in params raise Missing Token Error description u Missingaccesstokenparameter if not u type in params if os u O A U T H L I B STRICT TOKEN TYPE' raise Missing Token Type Error if params changed message u Scopehaschangedfrom old params scope new params scope changed message message old params scopes new params if not os u O A U T H L I B RELAX TOKEN SCOPE' None w Warning message w paramsw scope params scopesw scope params w 
def render from task template task variables {u'task' task u datetime u name task render template variables 
def isfunction object return isinstance object types Function Type 
def test custom conf try path filename os conf if path ! ETC LIRC return Trueelse return Falseexcept return False 
def get sql indexes for model model from django import backendoutput []for f in model meta if f index unique f and 'UNIQUE' or '' output style S Q L KEYWORD ' R E A T E I N D E X % unique + '' + style S Q L TABLE '%s %s' % model meta table f + '' + style S Q L KEYWORD 'ON' + '' + style S Q L TABLE backend name model meta table + '' + ' %s ;' % style S Q L FIELD backend name f return output 
def add Already Filled Arounds already Filled Arounds loop radius radius abs radius already Filled Loop [reater Than Radius intercircle Intercircle Multiplier * radius much Greater Than Radius 2.5 * radius centers intercircle Centers From Loop loop slightly Greater Than Radius for center in centers already Filled Inset intercircle Simplified Inset From Clockwise Loop center radius if intercircle Large Same Direction already Filled Inset center radius already Filled Loop already Filled Inset if len already Filled Loop > 0 already Filled Arounds already Filled Loop 
def verify cypher key return gluechops cypher key key encrypt int 
def pool dnn bc01 pool shape pool stride mode 'max' assert mode in ['max' 'mean'] if mode 'mean' raise Not Implemented Error 'eanpoolingisnotimplementedin Pylearn2usingcu D N Nasof January19th 2015.' mx dnn pool bc01 tuple pool shape tuple pool stride mode return mx 
def  close conn conn log 'losingthesqlite3databaseconnection conn conn 
def metric init params global array dictarray dict {'array1' {'array name 'array1' 'ipaddr' '192.168.1.50' 'user' '3paruser' 'pass' '3parpass'} 'array2' {'array name 'array2' 'ipaddr' '192.168.1.51' 'user' '3paruser' 'pass' 'esc Skel {'name' 'XXX' 'call back get metric 'time max 600 'value type 'double' 'format' '%0f' 'units' 'XXX' 'slope' 'both' 'description' 'XXX' 'groups' 'storage'}descriptors []for array in array dict ip array dict array dict array dict Getalistofvolumesinthearray get vol list ip user passwd 'etalistof C P Gsinthearray get cpg list ip user passwd 'etalistof C P Usinthearray Onlygettingtotalspernodeatthispoint get cpu list ip user passwd 'createdescriptorsforthearray'array descriptors define metrics Desc Skel array dict name vols ip cpgs cpus descriptors descriptors + array descriptors return descriptors 
def merge dicts d1 d2 result copy d1 for key value in six d2 if isinstance value dict result merge dicts result value elif key not in result or value is not None result valuereturn result 
def minutes m return float m / MINUTES PER DAY
def get valid utf8 str str or unicode if isinstance str or unicode unicode str or unicode  len utf8 encoder str or unicode 'replace' valid utf8 str  len utf8 decoder str or unicode 'replace' return valid utf8 str 'utf-8'
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def  read dig fif fid meas info isotrak dir tree find meas info FIFF.FIFFB ISOTRAK dig Noneif len isotrak 0 logger 'sotraknotfound elif len isotrak > 1 warn 'ultiple Isotrakfound else isotrak isotrak []for k in range isotrak kind isotrak isotrak kind FIFF.FIFF DIG POINT tag read tag fid pos dig tag dig -1 ]['coord frame FIFF.FIFFV COORD H E A Dreturn dig 
def translate Negatives Positives negatives positives translation euclidean Vector3 Path matrix Vertexes negatives translation euclidean Vector3 Path matrix Vertexes positives translation 
def socket *args **kwargs return  Socket Decorator *args **kwargs
def  manage users request course key user perms get user permissions request course key if not user perms & STUDIO VIEW USERS raise Permission Denied course module modulestore .get course course key instructors set Course Instructor Role course key .users with role staff set Course Staff Role course key .users with role .union instructors formatted users []for user in instructors formatted users user with role user 'instructor' for user in staff - instructors formatted users user with role user 'staff' return render to response 'manage users {'context course course module 'show transfer ownership hint request in instructors and len instructors 1 'users' formatted users 'allow actions bool user perms & STUDIO EDIT ROLES }
def  fast hmac key msg digest dig1 dig2 digest digest if len key > dig1 size key digest key .digest key + chr 0 * dig1 size - len key dig1 key  trans 36 dig1 msg dig2 key  trans 5c dig2 dig1 return dig2 
def is installed return get binstar is not None 
def test spans default sentiment en tokenizer text u en tokenizer text tokens 3.0tokens.vocab[tokens[2].text].sentiment -2.0 doc get doc tokens [t.text for t in tokens assert doc 2].sentiment 3.0 / 2 assert doc -2 ].sentiment -2.0 / 2 assert doc -1 ].sentiment 3.0 + -2 / 3.0
def test refactor refactor case if 0 refactor case assert case equal refactor case refactor case refactor case 
def model cr method method api 'model cr method 
def resize device minor start end  validate device device try int minor except Exception raise Command Execution Error 'nvalidminornumberpassedtopartition  validate partition boundary start  validate partition boundary end out   salt  ['cmd.run'] 'parted-m-s--{0}resize{1}{2}{3}'.format device minor start end return out 
def generate password hash password method 'pbkdf2 sha256 salt length 8 salt method ! 'plain' and gen salt salt length or '' h actual method  hash internal method salt password return '%s$%s$%s' % actual method salt h 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
@register.inclusion tag get template 'inclusion.html' def inclusion only unlimited args from template *args return {'result' 'inclusion only unlimited args from template Expectedresult %s' % ' '.join [unicode arg for arg in args }
def  Test Remove Viewpoint tester user cookie request dict validator tester user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict viewpoint id request dict id dict tester Send Request 'remove viewpoint user cookie request dict op dict tester Derive Notification Op Dict user id device id request dict request dict id user idfollower validator Get Model Object Follower D B Key user id viewpoint id if not follower Is Removed labels follower [ollower R E M O V E D validator Validate Update D B Object Follower user id user id viewpoint id viewpoint id labels labels invalidate {'viewpoints' [{'viewpoint id viewpoint id 'get attributes True Validate Notification 'remove viewpoint user id op dict invalidate viewpoint id viewpoint id validator Validate Viewpoint Accounting viewpoint id tester Compare Response Dicts 'remove viewpoint user id request dict {} actual dict return actual dict 
def make singlethread inner func def func *args length len args result np length dtype np inner func result *args return resultreturn func 
def languages print available languages 
def  get closest ansi color r g b exclude assert isinstance exclude tuple saturation abs r - g + abs g - b + abs b - r if saturation > 30 exclude + u u u u distance 257 * 257 * 3 match u name r2 g2 b2 in ANSI COLORS TO R G B if name ! u and name not in exclude d r - r2 ** 2 + g - g2 ** 2 + b - b2 ** 2 if d < distance match namedistance dreturn match 
def clear Console Line force Output False if getattr LOGGER HANDLER 'is tty False data To Stdout '\r%s\r' % '' * get Console Width - 1 force Output kb Flag Falsekb Level None 
def  check decim info decim offset if decim < 1 or decim ! int decim raise Value Error 'decimmustbeaninteger>0' decim int decim new sfreq info / float decim lowpass info decim > 1 and lowpass is None warn 'hemeasurementinformationindicatesdataisnotlow Thedecim %z whichcancausealiasingartifacts % decim new sfreq elif decim > 1 and new sfreq < 2.5 * lowpass warn 'hemeasurementinformationindicatesalow Hz Thedecim %z whichcancausealiasingartifacts % lowpass decim new sfreq offset int offset if not 0 < offset < decim raise Value Error 'decimmustbeatleast0andlessthan%s got % decim offset return decim offset new sfreq 
def der2pem der string obj 'UNKNOWN' pem string ' E G I N % obj base64 string base64 der string chunks [base64 string i + 64 ] for i in range 0 len base64 string 64 ]pem string + '\n'.join chunks pem string + ' N D % obj return pem string 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get Nearest Distance Index point loop smallest Distance 1istance Index Nonefor point Index in xrange len loop segment Begin loop Index End loop point Index + 1 % len loop ]distance get Distance To Plane Segment segment Begin segment End point if distance < smallest Distance smallest Distance distancenearest Distance Index Distance Index distance point Index return nearest Distance Index 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def volume include in cluster context cluster partial rename True **filters return I M P L include in cluster context cluster partial rename **filters
def dotproduct x y return sum imap operator x y 
def Print Usage message sys  USAGE if message sys ' A T A L E R R O R ' + message else sys 0
def most common types limit 10 objects None shortnames True stats sorted typestats objects shortnames shortnames .items key operator 1 reverse True if limit stats stats limit stats 
def  repl S G M L Refs match ref match 1 return sgmlentityget ref ref 
def enabled name **kwargs ret {'name' name 'result' True 'changes' {} 'comment' []}current schedule   salt  ['schedule.list'] show all True return yaml False if name in current schedule if 'test' in   opts   and   opts  ['test'] kwargs Trueresult   salt  ['schedule.enable job name **kwargs ret result else result   salt  ['schedule.enable job name **kwargs if not result ret result result retelse ret 'nabledjob name else ret 'ob name ret '\n'.join ret return ret 
def security group get all context return I M P L group get all context 
def cc arg return mcolors rgba arg alpha 0.6
@object hook trusted 'callable' def numpy pandas function from str f if f np  name   mod npelif f pd  name   mod pdelif f builtins  name   mod builtinselse msg 'unction pandas orbuiltinfunctionsaresupported wz ex Not Implemented msg f fcn reduce getattr f '.' [1 ] mod return fcn 
def validate head files config contract head  get contract head file path config expand head  get expand head file path config if not os contract head or not os expand head alembic util _ 'epositorydoesnotcontain H E A Dfilesforcontractandexpandbranches returnhead map  get heads map config  check head CONTRACT BRANCH contract head head map C O N T R A C T BRANCH]  check head EXPAND BRANCH expand head head map E X P A N D BRANCH]
def get json stats request days step project None subproject None lang None user None if project is None and lang is None and user is None project Nonesubproject Nonetranslation Nonelanguage Noneuser Noneelif user is not None project Nonesubproject Nonetranslation Nonelanguage Noneuser get object or 404 User username user elif project is None project Nonesubproject Nonetranslation Nonelanguage get object or 404 Language code lang user Noneelse project subproject translation get project translation request project subproject lang language Noneuser Nonereturn Change stats days step project subproject translation language user 
def api config path opts DEFAULT API O P T Sopts client config path defaults DEFAULT MASTER OPTS opts {'pidfile' opts 'api pidfile DEFAULT API O P T S pidfile 'log file opts 'api logfile DEFAULT API O P T S logfile } prepend root dir opts ['api pidfile 'api logfile 'log file 'pidfile'] return opts 
def xblock resource request block type uri try xblock class X Block class block type select settings X B L O C K SELECT FUNCTION content xblock class local resource uri except I O Error log 'ailedtoloadxblockresource exc info True raise Http404except Exception log 'ailedtoloadxblockresource exc info True raise Http404 mimetype _ mimetypes type uri return Http Response content content type mimetype 
def list nodes full call None if call 'action' raise Salt Cloud System Exit 'helist nodes fullfunctionmustbecalledwith return get resources vms include Config True 
def set in sighandler value global  in sighandler in sighandler value 
def name that thing thing if hasattr thing 'im class if hasattr thing 'mock calls return '<mock>'return name that thing thing class + '.' + thing func name if hasattr thing '  name  ' if hasattr thing '  class  ' and not isinstance thing types Function Type types Method Type if thing  class   is not type and not issubclass thing  class   type return name that thing thing  class   if hasattr thing '  self  ' return '%s.%s' % thing  self  .  module   thing  self  .  name   if hasattr thing '  module  ' return '%s.%s' % thing  module   thing  name   if hasattr thing '  class  ' return name that thing thing  class   return repr thing 
def find elements by sizzle driver sizzle selector if not  is sizzle loaded driver  inject sizzle driver SIZZLE URL SIZZLE LOAD TIMEOUT elements driver script  make sizzle string sizzle selector return elements 
def task decorator method @wraps method def  wrapper self *args **kwds rnd id random 1 MAX RAND function id '%s %s' % method  name   rnd id self add task function id try result method self function id *args **kwds except self task done function id raiseelse self task done function id return resultreturn  wrapper 
def encode Executable And Args executable args encoding 'utf-8' if isinstance executable text type executable executable encoding args Bytes []for arg in args if isinstance arg text type arg arg encoding args Bytes arg return executable args Bytes 
@login required jsondef  create item request parent locator request locator key usage key with run parent locator if not has studio write access request usage key key raise Permission Denied category request isinstance usage key Library Usage Locator if category not in ['html' 'problem' 'video'] return Http Response Bad Request "ategory Libraries % category content type 'text/plain' created block create xblock parent locator parent locator user request category category display name request 'display name boilerplate request 'boilerplate' return Json Response {'locator' unicode created block 'ey unicode created block key }
def platform name res platform if isinstance res bytes res res preferredencoding assert isinstance res compat str return res 
def profile stop driver Profiler Stop 
def get certificates for user username return [format certificate for user username cert for cert in Generated Certificate certificates user  username username .order by 'course id ]
def verbose field name model field name if field name is None return '[invalidname]'parts get field parts model field name if not parts return '[invalidname]'names []for part in parts if isinstance part Foreign Object Rel names force text part name else names force text part name return ''.join names 
def  sqkey sq operator return sq operator sortkey 
def create git repository test case bare False directory File Path test case repository Repo path directory bare bare if not bare directory 'README' .makedirs directory 'README' .touch repository ['README'] repository 'nitialcommit repository head 'master' return repository 
@api versions '2.23' @utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do server migration list cs args server  find server cs args migrations cs migrations server fields [d 'ource Node 'est Node 'ource Compute 'est Compute 'est Host 'tatus 'erver U U I D 'reated At 'pdated At name [otal Memory Bytes 'rocessed Memory Bytes 'emaining Memory Bytes 'otal Disk Bytes 'rocessed Disk Bytes 'emaining Disk Bytes key ['memory total bytes 'memory processed bytes 'memory remaining bytes 'disk total bytes 'disk processed bytes 'disk remaining bytes map lambda field utils field formatter field [1] format key formatters dict zip format name formatters utils list migrations fields + format name formatters 
def rollback unless managed if not is managed connection rollback else set dirty 
def  start subprocess for result cmd task subprocess Popen cmd stdout subprocess P I P E stderr subprocess P I P E out err task return out err 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg 'port id metavar '<port id help _ 'ort I D def do interface detach cs args server  find server cs args res server detach args id if isinstance res dict utils dict res 
def  Get Datastore Type app None current app datastore types Resolve App Id None if app not in current app None return Base Connection U N K N O W N DATASTORE partition _ _ app identity Parse Full App Id current app if partition return Base Connection H I G H REPLICATION D A T A S T O R Ereturn Base Connection M A S T E R SLAVE DATASTORE
def setcopyright   builtin  .copyright  Printer 'copyright' sys if sys 4] 'java'   builtin  .credits  Printer 'credits' 'ythonismaintainedbythe Jythondevelopers www .' elif sys 'cli'   builtin  .credits  Printer 'credits' 'ron Pythonismaintainedbythe Iron Pythondevelopers www .' else   builtin  .credits  Printer 'credits' 'hanksto C W I CNRI Be Open Zope Corporationandacastofthousands Pythondevelopment Seewww here os os  file     builtin  .license  Printer 'license' 'eehttp //www.python.org/%.3s/license.html' % sys [ I C E N S E 'LICENSE'] [os.path.join here os here os 
def exact filter query model filters filter dict {}if filters is None filters {}for key value in six filters if isinstance value list tuple set frozenset column attr getattr model key query query column attr  value else filter dict valueif filter dict query query by **filter dict return query 
def  get median data n zeros n elems len data + n zeros if not n elems return np negative np nonzero data < 0 middle is odd divmod n elems 2 data if is odd return  get elem at rank middle data n negative n zeros return  get elem at rank middle - 1 data n negative n zeros +  get elem at rank middle data n negative n zeros / 2.0
def test prefer broker nodes a b c 'abc'dsk { a 0 f a 1 f b 0 f a 0 b 1 f a 1 b 2 f a 1 }o order dsk assert o a 1 ] < o a 0 ] dsk { a 0 f a 1 f b 0 f a 0 b 1 f a 1 b 2 f a 0 }o order dsk assert o a 1 ] > o a 0 ]
def uni check output *args **kwargs o subprocess output *args **kwargs return o 'utf-8'
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def test pick chpi info read info op io dir 'tests' 'data' 'test chpi raw sss channel types set [channel type info idx for idx in range info ] assert true 'chpi' in channel types assert true 'seeg' not in channel types assert true 'ecog' not in channel types 
def organization followee list context data dict  check access 'organization followee list context data dict return  group or org followee list context data dict is org True 
def ethtype to str t if t < 1500 return '802.3/%04x' % t return  ethtype to str t '%04x' % t 
def wait for xblock initialization page xblock css def  is finished loading is done page script "return$ {!r} .data 'initialized' ".format xblock css return is done is done return Promise  is finished loading 'inishedinitializingthexblock .fulfill
def reset growl global  GROWL  GROWL REG GROWL None GROWL REG False 
def check allprop values target for value in values assert equal value target 
def test no output assert raises Bundle Error bundle to joblist Bundle 's1' 's2' bundle to joblist Bundle 's1' Bundle 's2' output 'foo' bundle to joblist Bundle Bundle 's1' output 'foo' Bundle 's2' output 'bar' assert raises Bundle Error bundle to joblist Bundle Bundle 's1' output 'foo' Bundle 's2'
def make Layer element kwargs {}if element Attribute 'src' kwargs element Attribute 'src' if element Attribute 'color' kwargs element Attribute 'color' for child in element Nodes if child Type child E L E M E N T NODE if child Name 'mask' and child Attribute 'src' kwargs child Attribute 'src' print >>sys.stderr 'akingalayerfrom kwargsreturn Layer **kwargs
def chopstring message key n funcref msglen len message mbits msglen * 8 nbits int math math n 2 nbytes nbits / 8 blocks msglen / nbytes if msglen % nbytes > 0 blocks + 1cypher []for bindex in range blocks offset bindex * nbytes block message offset + nbytes ]value bytes2int block cypher funcref value key n return picklechops cypher 
def words graph import gzipfh gzip 'words dat 'r' words set for line in fh line line if line '*' continuew str line 5] words w return generate graph words 
def client exceptions *exceptions def outer func def inner *args **kwargs return catch client exception exceptions func *args **kwargs return innerreturn outer 
def make bytearray buf b bytearray buf n len b return ir Constant ir Array Type ir Int Type 8 n b 
def  resolve prop prop if hasattr prop ' proxied property return prop proxied propertyreturn prop 
def beta from design design min var 1e-06 max var 1000000.0 return 1.0 / np design axis 0 min var max var 
def  read link name alt link path '/etc/alternatives/{0}'.format name return os alt link path 
def proxy info from url url method 'http' url urlparse url username Nonepassword Noneport Noneif '@' in url ident host port url '@' 1 if ' ' in ident username password ident ' ' 1 else password identelse host port url ' ' in host port host port host port ' ' 1 else host host portif port port int port else port dict https 443 http 80 [method]proxy type 3return Proxy Info proxy type proxy type proxy host host proxy port port proxy user username or None proxy pass password or None 
@app.route '/' def main page user users current user game key request 'g' if not game key game key user id game Game id game key user X user move X True board '' * 9 game else game Game by id game key if not game return 'osuchgame 404 if not game O game O usergame channel id user id + game key client auth token create custom token channel id  send firebase message channel id message game json game link '{}?g {}'.format request url game key template values {'token' client auth token 'channel id channel id 'me' user id 'game key game key 'game link game link 'initial message urllib game json }return flask template 'fire index **template values 
def spr Model Synth tfreq tmag tphase xr N H fs ys S M Model Synth tfreq tmag tphase N H fs y ys min ys xr ] + xr min ys xr ] return y ys 
def image to scratch im scratch image name im scratch image name dpi 200 200
def codex list module codex {}cmd scribe '%sindex' % S O R C E R Y rc stdout stderr module command cmd scribe if rc ! 0 module json 'unabletolistgrimoirecollection fixyour Codex rex re '^\\s*\\[\\d+\\] ? [\\w\\-\\+\\./]+ ? ? ?\\s*$' for line in stdout [4 -1 ] match rex line if match codex 'grim' ] match 'ver' if not codex module json msg 'nogrimoirestooperateon;addatleastone' return codex 
def vector subtract v w return [ v i - w i for v i w i in zip v w ]
def  save request status request key status session status request 'import status if session status is None session status request 'import status {} session status statusrequest 
def save fibers oldhdr oldfib fname indices hdrnew oldhdr outstreams []for i in indices outstreams oldfib n fib out len outstreams hdrnew count n fib outiflogger u Writingfinalnon % fname nb fname outstreams hdrnew return n fib out 
def diamond radius dtype np L np 0 radius * 2 + 1 I J np L L return np np I - radius + np J - radius < radius dtype dtype 
def  Modified Sizer compute value size modify value def Specific Sizer field number is repeated is packed tag size  Tag Size field number if is packed local Varint Size  Varint Sizedef Packed Field Size value result 0for element in value result + compute value size modify value element return result + local Varint Size result + tag size return Packed Field Sizeelif is repeated def Repeated Field Size value result tag size * len value for element in value result + compute value size modify value element return resultreturn Repeated Field Sizeelse def Field Size value return tag size + compute value size modify value value return Field Sizereturn Specific Sizer 
def ecp auth request cls entityid None relay state '' sign False eelist []my url cls url BINDING PAOS paos request paos Request must understand '1' actor ACTOR response consumer url my url service SERVICE eelist element to extension element paos request relay state ecp Relay State actor ACTOR must understand '1' text relay state eelist element to extension element relay state header soapenv Header header elements eelistlogger 'entityid %s binding %s' % entityid BINDING SOAP location cls sso location entityid binding BINDING SOAP req id authn req cls authn request location binding BINDING PAOS service url binding BINDING PAOS body soapenv Body body elements [element to extension element authn req ]soap envelope soapenv Envelope header header body body return req id '%s' % soap envelope 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def create deep key *path info validated path info []for level info in path info if len level info 3 key is id level info len level info 2 key is id Falseelse raise bulkloader errors Invalid Configuration 'achlistincreate deep keymustspecifyexactly2or kind property is id False .ouspecified %s' % repr path info kind name level info name level info path info kind name property name key is id def create deep key lambda value bulkload state path []for kind name property name key is id in validated path info if property name is CURRENT PROPERTY name or id valueelse name or id bulkload state dictionary name key is id name or id int name or id path + [kind name name or id datastore Key path *path return create deep key lambda 
def  get marker param request return request G E T 
def add Pixel Table To Pixel Table from Pixel Table into Pixel Table for from Pixel Table Key in from Pixel Table into Pixel Table Pixel Table Key from Pixel Table Pixel Table Key 
def fail msg None  report failure msg 
def check paired arrays X Y X Y check pairwise arrays X Y if X ! Y raise Value Error 'and Yshouldbeofsameshape Theywererespectively % X Y return X Y
def shlex split s if not six P Y2 or isinstance s bytes return shlex s elif isinstance s six type bs s 'utf-8' return [c.decode 'utf-8' for c in shlex bs ]else raise Type Error u splitcalledwithnon 
def  search dialog parent from tkinter import Toplevel Textfrom tkinter import Buttonbox Toplevel parent box 'est Search Dialog x y map int parent .split '+' [1 ] box '+%d+%d' % x y + 175 text Text box inactiveselectbackground 'gray' text text 'insert' 'hisisasamplestring * 5 def show find text add 'sel' '1.0' 'end'  setup text .open text text remove 'sel' '1.0' 'end' button Button box text 'earch selectionignored ' command show find button 
def find uncommitted filefields sender instance **kwargs uncommitted instance uncommitted filefields []fields sender meta kwargs 'update fields None update fields set kwargs fields fields update fields fields for field in fields if isinstance field File Field if not getattr instance field . committed uncommitted field 
def delete neutron ports ports for port in ports device ip lib I P Device port if device device L O G  LI 'eletingport %s' port 
def create xml str xml conn   get conn return conn X M L xml 0 is not None 
def caller name skip 2 stack inspect start 0 + skip if len stack < start + 1 return ''parentframe stack []module inspect parentframe if module name module  name   if 'self' in parentframe locals name parentframe locals  class  .  name   codename parentframe code nameif codename ! '<module>' name codename del parentframereturn '.'.join name 
def p rule p p p [p[3]]
def  dismiss notification request course action state id try action state Course Rerun State first id course action state id except Course Action State Item Not Found Error return Http Response Bad Request if action state Course Rerun U I State Manager State F A I L E D remove all instructors action state key action state return Json Response {'success' True 
def decode dict data rv {}for key value in six data if isinstance key six type and six P Y2 key key 'utf-8' if isinstance value six type and six P Y2 value value 'utf-8' elif isinstance value list value decode list value elif isinstance value dict value decode dict value rv valuereturn rv 
def no debug mode fn @functools.wraps fn def wrapped *args **kwargs orig mode config orig mode in [ebug Mode 'DEBUG MODE'] config 'FAST R U N return fn *args **kwargs finally config orig modereturn wrapped 
def walk directory basedir followlinks True import loggertraversed [os.path.abspath basedir ]def  inner root directories files for directory in directories path os root directory if followlinks and os path real path os os path if real path in traversed logger "kipping whichisalreadyvisited path real path else traversed real path for args in os real path for result in  inner *args yield result yield root directories files for args in os basedir for result in  inner *args yield result 
def decade down x base 10 lx math math x / math base return base ** lx 
def  rec validate f g i K if type g is not list if K is not None and not K type g raise Type Error '%sin%sinnotoftype%s' % g f K return set [ i - 1 ] elif not g return set [i] else j levels i + 1 set [] for c in g levels |  rec validate f c i + 1 K return levels 
def Mark Flag As Required flag name flag values FLAGS Register Validator flag name lambda value value is not None message 'lag % flag name flag values flag values 
def validate css stylesheet images assert isinstance stylesheet unicode validator Stylesheet Validator images return validator and validate stylesheet 
def ensure Not Imported module Names error Message prevent Imports [] for name in module Names if sys name is not None raise Import Error error Message for name in prevent Imports sys None 
def post delete profile instance sender **kwargs if not instance superuser current site Site current Site People site current site .people.remove instance 
@mobile template 'users/{mobile/}pw reset sent def password reset sent request template return render request template 
def is valid port entry allow zero False try value int entry if str value ! str entry return Falseelif allow zero and value 0 return Trueelse return value > 0 and value < 65536 except Type Error if isinstance entry tuple list for port in entry if not is valid port port allow zero return Falsereturn Trueelse return Falseexcept Value Error return False 
@must have addon SHORT NAME 'node' @must be addon authorizer SHORT NAME def s3 folder list node addon **kwargs return node addon folders 
def urlsafe decrypt key ciphertext ciphertext base64 b64decode str ciphertext cypher A E S key AES.MODE CBC ciphertext 16] padded cypher ciphertext ] return padded padded chr 0 ]
def easy install package try easy ['-U' package return Trueexcept print 'nabletoinstall install Pleasereadtheinstructionsformanualinstallation Exiting % package print 'rror %s %s' % exc info [0] exc info [1] return False 
def  fiff get fid fname if isinstance fname string types if op fname [1].lower '.gz' logger 'singgzip fid Gzip File fname 'rb' else logger 'singnormal I O fid open fname 'rb' else fid fnamefid 0 return fid 
def test roc auc one vs one skip if no sklearn trainer yaml parse test yaml ovo trainer loop 
def iter item item for i in range item Count yield item i 
def enumeration *values **kwargs if not values and all isinstance value string types and value for value in values raise Value Error 'expectedanon-emptysequenceofstrings got % values if len values ! len set values raise Value Error 'enumerationitemsmustbeunique got % values attrs dict [ value value for value in values attrs {' values list values ' default values ' case sensitive kwargs 'case sensitive True } return type 'numeration Enumeration attrs 
def complete base prefix line start end ctx if line '' out complete python prefix line start end ctx | complete command prefix line start end ctx paths complete path prefix line start end ctx False return out | paths paths elif prefix line python comps complete python prefix line start end ctx if isinstance python comps cabc Sequence return python comps | complete command prefix line start end ctx python comps else return python comps | complete command prefix line start end ctx return set 
def wminkowski u v p w u  validate vector u v  validate vector v w  validate vector w if p < 1 raise Value Error 'pmustbeatleast1' dist norm w * u - v ord p return dist 
def commit manually using None warnings 'commit manuallyisdeprecatedinfavorofset autocommit Pending Deprecation Warning stacklevel 2 def entering using enter transaction management using using def exiting exc type using leave transaction management using using return  transaction func entering exiting using 
def build all html latex 
def  dict from path path val delimiter DEFAULT TARGET DELIM nested dict  infinitedict keys path delimiter lastplace reduce operator keys -1 ] nested dict lastplace -1 ]] valreturn nested dict 
def term translation update many context data dict model context not data dict 'data' and isinstance data dict 'data' list raise Validation Error {'error' 'term translation update manyneedstohavealistofdictsinfielddata context commit Trueaction  get action 'term translation update for num row in enumerate data dict action context row model Session return {'success' '%srowsupdated' % num + 1 }
def wavread filename if os filename False raise Value Error 'nputfileiswrong fs x read filename if len x ! 1 raise Value Error 'udiofileshouldbemono if fs ! 44100 raise Value Error 'amplingrateofinputsoundshouldbe44100 x np x / norm fact return fs x 
def pretty choice dict d return pretty choice list [ '%s %s' % k d for k in sorted d ]
def roles list roles []for role in ROLE PERMISSIONS roles dict text trans role role value role return roles 
@pytest.mark.parametrize u text2 [ u u ] def test issue361 en vocab text1 text2 assert en vocab en vocab assert en vocab ! en vocab 
def length of geographical area code numobj metadata Phone Metadata for region region code for number numobj None if metadata is None return 0if metadata prefix is None and not numobj leading zero return 0if not  is number geographical numobj return 0return length of national destination code numobj 
def xticks *args **kwargs ax gca if len args 0 locs ax xticks labels ax xticklabels elif len args 1 locs ax xticks args labels ax xticklabels elif len args 2 locs ax xticks args labels ax xticklabels args **kwargs else raise Type Error u Illegalnumberofargumentstoxticks if len kwargs for l in labels l kwargs return locs silent list u Textxticklabel labels 
def osx hibernate osx standby 
def parse iscsiname rule parser argparse Argument Parser rules shlex rule rules 0 args clean args vars parser args rules parser Nonereturn args 
def  limit query hints if hints original len query limit query query hints if limit query < original len hints Truequery limit queryreturn query 
def protocol Negotiation Mechanisms support Protocol Negotiation Support N O S U P P O R Tctx S S L Context S S L S S Lv23 METHOD try ctx npn advertise callback lambda c None except Attribute Error Not Implemented Error passelse support | Protocol Negotiation Support N P Ntry ctx alpn select callback lambda c None except Attribute Error Not Implemented Error passelse support | Protocol Negotiation Support A L P Nreturn support 
def test mpl preserve face color f create figure width height f width height s mplhooks to tight array f 0.5 * width 0.5 * height True exp FACE C O L O Robs f facecolor plt f assert exp obs 
def mofile mofile **kwargs return  pofile or mofile mofile 'mofile' **kwargs
def survey get All Widgets For Template template id s3db current s3db question listqtable s3db questionquery qltable id template id & qltable id qtable rows current query .select qtable qtable qtable qltable widgets {}for row in rows sqrow row questionqstn type sqrow id sqrow code sqrow posn row question list obj survey question type type qstn id widgets code widget objwidget obj qstn posnreturn widgets 
@register opt @local optimizer [parse Block Gemv Gpu From Host def gpu sparse block gemv opt node if isinstance node Sparse Block Gemv and any  owner isinstance inp Host From Gpu for inp in node inputs  clear host from gpu node return [host from gpu Gpu Sparse Block Gemv node *inputs ]elif isinstance node Gpu From Host and  owner isinstance node Sparse Block Gemv meta node node  clear host from gpu meta node return [pu Sparse Block Gemv meta node *inputs ]
def dnsdomain get all context return I M P L get all context 
def date value arg None from django import formatif not value return ''if arg is None arg settings D A T E F O R M A Treturn format value arg 
def  convert colors colors to rgb mpl Converter rgbif isinstance colors pd Data Frame return pd Data Frame {col colors to rgb for col in colors elif isinstance colors pd Series return colors to rgb else try to rgb colors return list map to rgb colors except Value Error return [list map to rgb l for l in colors 
def  diff env a b seta set [ k a for k in a setb set [ k b for k in b return dict seta - setb dict setb - seta 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def has targets available required grouped group list of dict available for value field in required if field not in grouped or value not in grouped return Falsereturn True 
def load fp source module name thrift parse fp source module name sys name thriftreturn thrift 
@register.inclusion tag 'downloads/templatetags/os release files def os release files release os slug return {'release' release 'files' release for os os slug }
def random normal return inverse normal cdf random 
def stats data return s3 rest controller 
def  schema validation helper schema target min version max version args kwargs is body True min ver api version A P I Version Request min version max ver api version A P I Version Request max version if 'req' in kwargs ver kwargs version requestlegacy v2 kwargs legacy v2 else ver args version requestlegacy v2 args legacy v2 if legacy v2 if min version is None or min version '2.0' schema validator validators Schema Validator schema legacy v2 is body schema validator target return Trueelif ver min ver max ver schema validator validators Schema Validator schema legacy v2 is body schema validator target return Truereturn False 
def is affiliated if not auth logged in return Falseelif s3 has role ADMIN return Trueelse table auth userauth user db table auth .select table id limitby 0 1 .first if auth user and auth user id return Trueelse return False 
def process bezout output poly seq x L poly seq ]d degree L[1] x i 2while i < len L d i degree L x if d i < 0 L L i i - 1 if d d i L L i i - 1 if d i > 0 d d ii i + 1 return L
def get first loader if settings T E M P L A T E S loaders settings T E M P L A T E S u O P T I O N S {} .get u [[u'']] else loaders settings T E M P L A T E L O A D E R Sif isinstance loaders six types return loaders loaders 
def get ninja file path extension only first False files os path if not extension '.' extension '.'.join extension found list [y for y in files if y extension ] if only first found found if found else [] return found 
def body length bytearray return sum len  QUOPRI BODY M A P for octet in bytearray 
def  Strptime arg strptime format split arg arg '.' datetime obj datetime split arg strptime format if len split arg 2 datetime obj datetime obj microsecond int split arg return datetime obj 
def before scenario context scenario context String I O jrnl S T D E R R context T E S T Truefor folder in 'configs' 'journals' working dir os 'features' folder if os working dir shutil working dir for folder in 'configs' 'journals' original os 'features' 'data' folder working dir os 'features' folder if not os working dir os working dir for filename in os original source os original filename if os source shutil source os working dir filename else shutil source working dir 
def binned statistic 2d x y values statistic 'mean' bins 10 range None expand binnumbers False try N len bins except Type Error N 1if N ! 1 and N ! 2 xedges yedges np bins float bins [xedges yedges medians edges binnumbers binned statistic dd [x y values statistic bins range expand binnumbers expand binnumbers return Binned Statistic2d Result medians edges edges binnumbers 
def antidivisors n generator False n as int abs n if n < 2 return []rv  antidivisors n if not generator return sorted rv return rv 
def matrix m n a 0.0 b 0.0 if a b 0 return [ [0.0] * n for i in xrange m ]return [[uniform a b for j in xrange n ] for i in xrange m ]
def print trends trends for topic in trends c T R E N D MAX']] name topic topic cycle color name + ' ' + color func c T R E N D url print Nicely line print Nicely ''
def oauth token info from url url if isinstance url str unicode url atom core Uri uri url token Noneverifier Noneif 'oauth token in url token urllib url token if 'oauth verifier in url verifier urllib url verifier return token verifier 
def name from path path collection path path '/' + '/' start collection + '/' if not path start raise Value Error "'%s'doesn'tstartwith'%s'" % path start return path start ].rstrip '/'
def get prefetcher instance attr prefetcher Noneattr found Falseis fetched Falserel obj descriptor getattr instance  class   attr None if rel obj descriptor is None try rel obj getattr instance attr attr found Trueexcept Attribute Error passelse attr found Trueif rel obj descriptor if hasattr rel obj descriptor 'get prefetch query set prefetcher rel obj descriptorif rel obj descriptor cached instance is fetched Trueelse rel obj getattr instance attr if hasattr rel obj 'get prefetch query set prefetcher rel objreturn prefetcher rel obj descriptor attr found is fetched 
def count newlines value return len newline re value 
def test skipping setuptools doesnt skip legacy script data result script 'install' 'script.wheel2 0.1' '--no-index' '--find-links ' + data links expect error False legacy file1 script / 'testscript1.bat' legacy file2 script / 'testscript2' wrapper helper script / 't1-script.py' assert legacy file1 in result created assert legacy file2 in result created assert wrapper helper not in result created 
def create var size var id None if var id is None var id get id return lo Lin Op lo V A R I A B L E size [] var id 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def generate bin search paths program extra dirs if os in program paths [program]else arg paths itertools os 'PATH' '' .split os extra dirs search paths unique not false list arg paths paths path joiner program search paths return paths 
def format number numobj num format if numobj number 0 and numobj input is not None if len numobj input > 0 return numobj inputcountry calling code numobj codensn national significant number numobj if num format Phone Number Format E164 return  prefix number with country calling code country calling code num format nsn if not  has valid country calling code country calling code return nsnregion code region code for country code country calling code metadata Phone Metadata for region or calling code country calling code region code formatted number  format nsn nsn metadata num format formatted number  maybe append formatted extension numobj metadata num format formatted number return  prefix number with country calling code country calling code num format formatted number 
def p multiplicative expression 3 t pass 
def tree plist l a f if l > 3 lst []for p in plist p l q p p a q a lst p lst q for x in tree lst l * f a f yield None 
def shrunk covariance emp cov shrinkage 0.1 emp cov check array emp cov n features emp cov np emp cov / n features shrunk cov 1.0 - shrinkage * emp cov shrunk cov n features + 1 ] + shrinkage * mu return shrunk cov 
def test xtfuncs cosmo core Lambda C D M 70 0.3 0.5 z np [2.0 3.2] assert allclose cosmo time integrand 3 0.05221897665496938 rtol 0.0001 assert allclose cosmo time integrand z [0.10333179 0.04644541] rtol 0.0001 assert allclose cosmo distance integrand 3 3.34201450591804 rtol 0.0001 assert allclose cosmo distance integrand z [2.7899584 3.44104758] rtol 0.0001
def Make Response code 500 data '' response requests Response response code coderesponse content datareturn response 
@require context context manager writerdef instance remove security group context instance uuid security group id model query context models Security Group Instance Association .filter by instance uuid instance uuid .filter by security group id security group id .soft delete 
def check name port None **kwargs host nameret {'name' name 'result' True 'changes' {} 'comment' ''}if 'test' not in kwargs kwargs   opts  .get 'test' False if kwargs ret Trueret 'heconnectionwillbetested results   salt  ['network.connect'] host port **kwargs ret results results ret 
def cons el seq yield el for s in seq yield s 
def Sequence To Conjunction node return Convert Nodes node Query Parser S E Q U E N C E Query Parser C O N J U N C T I O N 'CONJUNCTION'
def user messages nocache user from r2 import queriesinbox queries inbox messages user sent queries sent user messages  load messages list chain inbox sent return compute message trees messages 
def  transform index index func if isinstance index Multi Index items [tuple func y for y in x for x in index Multi Index tuples items names index else items [func x for x in index Index items name index 
def Serial Corr series lag 1 xs series ]ys series lag [lag ]corr Corr xs ys return corr 
def teardown paste factories global app factory filter factorydel app factorydel filter factory 
def set owner process uid gid initgroups False if gid if uid try username get username uid except Key Error initgroups Falsegid abs gid & 2147483647 if initgroups os username gid else os gid if uid os uid 
def  exec query ps cmd fields if not WINDOWS returnps sp Popen [conf.prog.powershell] + cmd + ['|' 'select%s' % ' '.join fields '|' 'fl'] stdout sp P I P E universal newlines True l []for line in ps if not line continuesl line ' ' 1 if len sl 1 l -1 ] + sl continueelse l sl if len l len fields yield l l []
def normalize Column column median get Median column asd sum [abs x - median for x in column / len column result [ x - median / asd for x in column result 
def  blkid fs type None flt lambda data [el for el in data if el ] data dict for dev meta in flt os 'blkid-ofull' .read .split os dev meta dev meta if not dev meta continuedevice dev meta '' dev name device 0 [ -1 ]data[dev name dict for k set in device ks key ks value [elm.replace '"' '' for elm in k set ' ' ]data[dev name key ] ks valueif fs type mounts  get mounts fs type for device in six mounts if data device data mounts data 
def get all vlanids L O G _ 'get all vlanids called session db session try vlanids session network models v2 Vlan I D .all return vlanidsexcept exc No Result Found return []
def query2str items max length 1024 kvs []for k v in items if k ! PASSWORD FORM FIELD kvs six '%s %s' % k v return '\n'.join kvs [ max length 
def volume type access get all context type id return I M P L type access get all context type id 
def id return  distro 
def  Adjust Split Penalty uwline bracket level 0for index token in enumerate uwline if index and not bracket level pytree utils Set Node Annotation token pytree utils Annotation S P L I T PENALTY split penalty U N B R E A K A B L E if token in pytree utils O P E N I N G BRACKETS bracket level + 1elif token in pytree utils C L O S I N G BRACKETS bracket level - 1
def  get api params api url None page id None api key None api version None statuspage cfg   salt  ['config.get'] 'statuspage' if not statuspage cfg statuspage cfg {}return {'api url api url or statuspage cfg 'api url or BASE URL 'api page id page id or statuspage cfg 'page id 'api key api key or statuspage cfg 'api key 'api version api version or statuspage cfg 'api version or DEFAULT VERSION }
@require P O S T required create sub comment request course id comment id if is comment too deep parent cc Comment comment id return Json Error _ 'ommentleveltoodeep return  create comment request Course Key string course id parent id comment id 
def  is unpacked egg path return path .endswith '.egg'
def  Simple Sizer compute value size def Specific Sizer field number is repeated is packed tag size  Tag Size field number if is packed local Varint Size  Varint Sizedef Packed Field Size value result 0for element in value result + compute value size element return result + local Varint Size result + tag size return Packed Field Sizeelif is repeated def Repeated Field Size value result tag size * len value for element in value result + compute value size element return resultreturn Repeated Field Sizeelse def Field Size value return tag size + compute value size value return Field Sizereturn Specific Sizer 
def has python 3 if 'win' in sys py bin 'py.exe'else py bin 'python3'for path in os P A T H os if os os path py bin os X OK return Truereturn False 
def sign and send replace result assignment xml outcome service assignment serviceconsumer outcome service consumerconsumer key consumer keyconsumer secret consumer secretoauth requests oauthlib O Auth1 consumer key consumer secret signature method 'HMAC-SHA1' force include body True headers {'content-type' 'application/xml'}response requests assignment service outcome service url data xml auth oauth headers headers return response 
def load extra vi page navigation bindings registry Conditional Registry Registry Vi Mode handle registry bindinghandle Keys Control F scroll forward handle Keys Control B scroll backward handle Keys Control D scroll half page down handle Keys Control U scroll half page up handle Keys Control E scroll one line down handle Keys Control Y scroll one line up handle Keys Page Down scroll page down handle Keys Page Up scroll page up return registry 
def expr expr c test expr expr  expr codes return eval c 
def  aggr sum in List aggr Mean  aggr mean in List if aggr Mean None return Noneaggr Sum 0for elem in in List if elem ! SENTINEL VALUE FOR MISSING DATA aggr Sum + elemelse aggr Sum + aggr Meanreturn aggr Sum 
def Compute Error Rates label counts word counts seq errors num seqs label errors label counts + label counts num labels label counts count + label counts count return Error Rates Compute Error Rate label errors num labels Compute Error Rate word counts word counts count Compute Error Rate word counts word counts count Compute Error Rate seq errors num seqs 
def socket exception func def read self *args **kwargs try return func self *args **kwargs except socket self return read 
def  api queue delete nzf output value kwargs value2 kwargs 'value2' if value and value2 removed Nzb Queue nzf value value2 force delete True return report output keyword '' data {'status' bool removed 'nzf ids removed else return report output  MSG NO VALUE2
def encode deflate content return zlib content 
def REGIONS LIST SORTED BY NAME from mkt import remove accentsby name sorted [v for k v in DEFINED if v and v > -1 ] key lambda v remove accents unicode v by name RESTOFWORLD return by name 
def E nl n Z 1 n Z S n S Z if n integer and n < 1 raise Value Error "'n'mustbepositiveinteger" return - Z ** 2 / 2 * n ** 2
def cleanup dirs patterns dry run False workdir '.' current dir Path workdir python basedir Path Path sys .dirname .joinpath '..' .abspath warn2 counter 0for dir pattern in patterns for directory in path glob dir pattern current dir directory2 directory if sys directory2 print "SKIP-SUICIDE '%s'containscurrentpythonexecutable" % directory continueelif directory2 python basedir if warn2 counter < 4 print "SKIP-SUICIDE '%s'" % directory warn2 counter + 1continueif dry run print 'RMTREE %s dry ' % directory else print 'RMTREE %s' % directory directory p 
@ Configurable Filter executable 'HTML TIDY EXECUTABLE' def html tidy wrap attr infile executable 'tidy5' return  html tidy runner infile '-quiet--show-infono--show-warningsno-utf8-indent--indent-attributesyes--sort-attributesalpha--wrap80--wrap-sectionsno--drop-empty-elementsno--tidy-markno-modify%1' executable executable 
def dmp grounds c n u if not n return []if u < 0 return [c] * n else return [dmp ground c u for i in range n ]
@permission required 'questions.tag question @require P O S Tdef remove tag async request question id name request P O S T 'name' if name question get object or 404 Question pk question id question name question cached tags return Http Response '{}' content type 'application/json' return Http Response Bad Request json {'error' unicode NO TAG } content type 'application/json'
def dict to vec val dict var offsets var sizes vec len vector np vec len for id  value in val dict size var sizes ]offset var offsets ]for col in range size if np value vector size + offset ] valueelse vector size + offset ] np value col offset + size vector 
def submit executive summary report request course key task type 'exec summary report class exec summary report csvtask input {}task key ''return submit task request task type task class course key task input task key 
def flatten expr new new cls expr  class  args []for arg in expr if arg  class   cls args arg else args arg return new expr  class   *args
def unescape glob string def unescape s for pattern in '*[]!?' s s '\\{0}'.format pattern pattern return sreturn '\\'.join map unescape string '\\\\'
def shade other data y x np -4 2 200j -4 2 200j]z1 np x ** 2 z2 np x ** 2 + y ** 2 norm Normalize z2 z2 cmap plt Rd Buls Light Source 315 45 rgb ls rgb cmap norm z2 z1 fig ax plt ax rgb interpolation 'bilinear' ax title 'hadebyonevariable colorbyanother size 'x-large'
def ec2 client region zone access key id secret access key session token None validate region True connection boto3 Session aws access key id access key id aws secret access key secret access key aws session token session token connection session config variable 'metadata service num attempts BOTO NUM RETRIES ec2 resource connection 'ec2' region name region if validate region try zones ec2 resource availability zones except Endpoint Connection Error raise Invalid Region Error region available zones [available zone Zone Name for available zone in zones Availability Zones zone not in available zones raise Invalid Zone Error zone available zones return  EC2 zone zone connection ec2 resource 
def  find review request request review request id local site review request  find review request object review request id local site if review request accessible by request return review request None else return None  render permission denied request 
def provides cors features freq url opener response url opener G E T freq url ac value retrieve cors header response ACCESS CONTROL ALLOW ORIGIN if ac value is not None return Trueheaders Headers {rigin 'www.w3af.org'}.items response url opener G E T freq url headers headers ac value retrieve cors header response ACCESS CONTROL ALLOW ORIGIN if ac value is not None return Truereturn False 
def increment ipv4 segments segments segments [int segment for segment in segments + 1if segments 256 segments 0segments[2] + 1if segments 256 segments 0segments[1] + 1if segments 256 segments 0segments[0] + 1return segments 
def get tukey Qcrit2 k df alpha 0.05 from statsmodels import qsturngreturn qsturng 1 - alpha k df 
def authentication Request a Tp Pd pd 5 b Message Type mes Type 18 c Ciph Key Seq Nr And Spare Half Octets d Authentication Parameter R A N D packet a / b / c / d return packet 
def  Split M I M E Type mime type if mime type mime type array mime type '/' if len mime type array 1 raise Invalid M I M E Type Format Error 'issing M I M Esub elif len mime type array 2 main type sub type mime type arrayif not main type and sub type raise Invalid M I M E Type Format Error 'ncorrectlyformatted M I M Etype %s' % mime type return main type sub type else raise Invalid M I M E Type Format Error 'ncorrectlyformatted M I M Etype %s' % mime type else return 'application' 'octet-stream'
def input loop while mestate ! True try if mestate ! True line raw input mestate except E O F Error mestate Truesys 1 mestate queue line 
def denumify string pattern out []for c in pattern if c 'X' out string string string ]else out c return ''.join out 
def test Comms p snap Packet snap Address snap Address 0 1 [255 0] p notif  get Notification serial Port if notif Bytes 255 return Truereturn False 
def sample prediction size vocabulary size p np shape [1 size dtype np p 0 sample distribution prediction ] 1.0return p 
def current service request if request route services request servicespattern request route service services Key Error return Noneelse return service 
def getboolean s return  default root s 
def sha1 hash digest payload return base64 hashlib payload .digest
def transact block request connection error connection request reply Noneif error return error reply ovs poller poller Poller while not error ovs poller wake error reply connection if error ! errno E A G A I N breakif reply and reply request and reply in jsonrpc Message T REPLY jsonrpc Message T ERROR breakconnection connection ovs poller connection wait ovs poller ovs poller hub 0 return error reply 
def command shell command command args [] **kwds return argv to str command list command command args **kwds
@ioflo.base.deeding.deedify 'alt Raet Maint Fork ioinits {'opts' '.salt.opts' 'proc mgr '.salt.usr.proc mgr def maint fork self self mgr process Maintenance args self 
def message destroy context message id return I M P L destroy context message id 
def Make Hist From Dict d label None return Hist d label 
def apply with random selector x func num cases sel tf uniform [] maxval num cases dtype tf return control flow ops [func control flow ops x tf sel case [1] case for case in range num cases ] [0]
def gpu count try output subprocess output ' return len output .split '\n' except return 0
def random string param registry xml parent data pdef X M L Sub Element xml parent 'hudson.plugins.random  string  parameter Random String Parameter Definition if 'name' not in data raise Jenkins Jobs Exception 'random-stringmusthaveanameparameter.' X M L Sub Element pdef 'name' .text data X M L Sub Element pdef 'description' .text data 'description' '' X M L Sub Element pdef 'alidation Message .text data 'failed-validation-message' ''
def koans filename KOANS FILENAME names names from file filename return koans suite names 
@lru cache 1 def get user flagger user klass get user model try user user klass pk COMMENT FLAG USER ID except user klass Does Not Exist try user user klass **{user klass U S E R N A M E FIELD FLAGGER USERNAME} except user klass Does Not Exist user user klass user FLAGGER USERNAME return user 
def query from strings query cls model cls prefixes query parts subqueries []for part in query parts subqueries construct query part model cls prefixes part if not subqueries subqueries [rue Query ]return query cls subqueries 
def collect addon js node visited None filename 'files.js' config entry 'files' js []for addon config in settings A D D O N S AVAILABLE D I C T js addon config js config entry [] js path paths addon path addon config filename if js path js js path return js 
def redo patch Request  request send hook 
@require P O S T required jsondef handle ajax request course key string course key Course Key string course key string masquerade settings request MASQUERADE SETTINGS KEY {} request json request request json 'role' 'student' group id request json 'group id None user partition id request json 'user partition id None if group id is not None else None user name request json 'user name None if user name users in course Course Enrollment enrolled in course key try if '@' in user name user name users in course email user name .usernameelse users in course username user name except User Does Not Exist return Json Response {'success' False 'error' _ 'hereisnouserwiththeusernameoremailaddress name .format user name user name } masquerade settings key Course Masquerade course key role role user partition id user partition id group id group id user name user name request M A S Q U E R A D E SETTINGS KEY] masquerade settingsreturn Json Response {'success' True 
def test cirs itrs ra dec _ randomly sample sphere 200 cirs CIRS ra ra dec dec obstime u J2000 cirs6 CIRS ra ra dec dec obstime u J2006 cirs2 cirs to ITRS .transform to cirs cirs6 2 cirs6 to ITRS .transform to cirs assert allclose cirs cirs2 assert allclose cirs cirs2 assert not allclose cirs cirs6 2.ra assert not allclose cirs cirs6 2.dec
def blockmodel G partition multigraph False if multigraph return nx graph G partition create using nx Multi Graph relabel True else return nx graph G partition relabel True 
def get lighting value label return  check range and return 'lighting' label -1 5 -1
def lower column col old Nonewhile col is not None and col is not old old colif not hasattr col 'table' or not hasattr col 'froms' return colfor f in col if f column col is not None col f column col return old 
def inherit metadata descriptor inherited data try descriptor kvs settings inherited dataexcept Attribute Error pass 
def finished ignored reactor 
def get shell code extension command force extension False result []shellcodes  get file list 'code' extension force extension for file content real extension in shellcodes custom replacer functools cmd replace file content this shellcode custom replacer command result this shellcode real extension custom replacer return result 
def get group obj perms model obj from guardian import Group Object Permission Basefrom guardian import Group Object Permissionreturn get obj perms model obj Group Object Permission Base Group Object Permission 
def rate limited min interval def decorate func last time called [0.0]def rate limited function *args **kargs elapsed time - last time called log 'lapsed % elapsed left to wait min interval - elapsed if left to wait > 0 log 'ait % left to wait time left to wait ret func *args **kargs last time called time return retreturn rate limited functionreturn decorate 
def dot mavproxy name None dir os os H O M E '.mavproxy' mkdir p dir if name is None return dirreturn os dir name 
def perimeter image neighbourhood 4 if neighbourhood 4 strel STREL 4else strel STREL 8image image np eroded image ndi erosion image strel border value 0 border image image - eroded image perimeter weights np 50 dtype np perimeter weights 7 15 17 25 27]] 1perimeter weights 33]] sqrt 2 perimeter weights 23]] 1 + sqrt 2 / 2 perimeter image ndi border image np [[10 2 10] [2 1 2] [10 2 10]] mode 'constant' cval 0 perimeter histogram np perimeter image minlength 50 total perimeter np perimeter histogram perimeter weights return total perimeter 
def load table bigquery project id dataset id table name source schema source path num retries 5 job data {eference {d project id 'd str uuid } 'configuration' {'load' {ris [source path 'schema' {'fields' source schema 'able {d project id 'd dataset id 'd table name bigquery .insert project Id project id body job data .execute num retries num retries 
def  system compute nrhs b raise Not Implemented Error 
def null graph create using None G empty graph 0 create using G 'null graph 'return G
def tb filename tb return tb frame code filename 
def complete parameter text return rline mpstate param 
def keyword context from sample keywords dirname desc uri if uri is None uri BASE HG URI + dirname '/' '%2F' else uri ''.join uri context {'keywords' keywords 'dir' dirname 'uri' uri 'desc' wiki escape desc }return context 
def get cudart if platform 'indows arch platform [0]for ver in range 90 50 -5 cudart get library 'cudart%s %d.dll' % arch 2] ver if cudart is not None return cudartelif platform 'arwin for major in xrange 9 5 -1 for minor in 5 0 cudart get library 'libcudart.%d.%d.dylib' % major minor if cudart is not None return cudartreturn get library 'libcudart.dylib' else for major in xrange 9 5 -1 for minor in 5 0 cudart get library 'libcudart.so.%d.%d' % major minor if cudart is not None return cudartreturn get library 'libcudart.so' return None 
def get Geometry Output By Loop element Node side Loop side Loop element Node return get Geometry Output By Manipulation element Node side Loop 
def  has user permission for groups user id permission group ids capacity None if not group ids return Falseq model Session model Member .filter model Member id  group ids .filter model Member name 'user' .filter model Member 'active' .filter model Member id user id if capacity q q model Member capacity for row in q perms ROLE P E R M I S S I O N S row [] if 'admin' in perms or permission in perms return Truereturn False 
def  extract loop lifting candidates cfg blocks def same exit point loop 'allexitsmustpointtothesamelocation'outedges set for k in loop outedges | set x for x _ in cfg k return len outedges 1 def one entry loop 'thereisoneentry'return len loop 1 def cannot yield loop 'cannothaveyieldinsidetheloop'insiders set loop | set loop | set loop for blk in map blocks  getitem   insiders for inst in blk if isinstance inst ir Assign if isinstance inst ir Yield return Falsereturn Truereturn [loop for loop in find top level loops cfg if same exit point loop and one entry loop and cannot yield loop ]
def good Decorator fn def name Collision *args **kwargs return fn *args **kwargs return merge Function Metadata fn name Collision 
def taint tainted Set tainted Attribute tainted Set tainted Attribute if tainted Attribute 'marker' tainted Set | set ['marker-start' 'marker-mid' 'marker-end'] if tainted Attribute in ['marker-start' 'marker-mid' 'marker-end'] tainted Set 'marker' return tainted Set 
def patch vary headers response newheaders if response header 'ary vary headers cc delim re response Vary else vary headers []existing headers set [header.lower for header in vary headers additional headers [newheader for newheader in newheaders if newheader not in existing headers ]ary ' '.join vary headers + additional headers 
def  Suffix Name name suffix parts name '#' 1 parts '%s %s' % parts suffix return '#'.join parts 
def register auth key None cert None store None digest u serializer u s Secure Serializer key and Private Key key cert and Certificate cert store and F S Cert Store store digest digest serializer serializer registry u s s content type u content encoding u 
def set default region region global default regiondefault region region 
def find unit clause int repr clauses model bound set model | set - sym for sym in model for clause in clauses unbound clause - bound if len unbound 1 p unbound if p < 0 return - p False else return p True return None None 
@cmddef test install sh '%s%s' % PYTHON TSCRIPT
def parole2penntreebank token tag return token parole tag tag 
def egl Get Error return  lib Get Error 
def str2file sourcestring outfile colors None title '' markup 'html' header None footer None linenumbers 0 show 0 dosheet 1 form None css html str2markup sourcestring colors colors title '' markup markup header header footer footer linenumbers linenumbers form form f open outfile 'wt' f html f if css ! None and dosheet dir os outfile outcss os dir 'pystyle.css' f open outcss 'wt' f css f if show showpage outfile 
def  fix up parameters method desc root desc http method parameters method desc 'parameters' {} for name description in six root desc 'parameters' {} parameters descriptionfor name in STACK QUERY PARAMETERS parameters STACK QUERY PARAMETER DEFAULT V A L U E if http method in HTTP PAYLOAD METHODS and 'request' in method desc body BODY PARAMETER DEFAULT V A L U E body method desc parameters bodyreturn parameters 
def hold a Tp Pd pd 3 b Message Type mes Type 24 packet a / b return packet 
def kendall v1 v2 v1 v2 array v1 array v2 if not v1 v2 > 1 raise Value Error "neormorevectorsisn return kendalltau v1 v2 [0]
def get X R D Expiration xrd element default None expires element xrd element expires tag if expires element is None return defaultelse expires string expires element time strptime expires string ' T H %M %SZ' return datetime *expires time 6]
def  get thread and context request thread id retrieve kwargs None retrieve kwargs retrieve kwargs or {} try if 'with responses not in retrieve kwargs retrieve kwargs responses Falseif 'mark as read not in retrieve kwargs retrieve kwargs as read Falsecc thread Thread id thread id .retrieve **retrieve kwargs course key Course Key string cc thread id course  get course course key request context get context course request cc thread if not context requester privileged and cc thread id and is commentable cohorted course cc thread id requester cohort get cohort id request course if requester cohort is not None and cc thread id ! requester cohort raise Thread Not Found Error 'hreadnotfound return cc thread context except Comment Client Request Error raise Thread Not Found Error 'hreadnotfound 
def compute P from essential E U S V svd E if det dot U V < 0 V - V E dot U dot diag [1 1 0] V Z skew [0 0 -1 ] W array [[0 -1 0] [1 0 0] [0 0 1]] P2 [vstack dot U dot W V .T U[ 2] .T vstack dot U dot W V .T - U[ 2] .T vstack dot U dot W.T V .T U[ 2] .T vstack dot U dot W.T V .T - U[ 2] . P2
def to remote error error exc info type error error None serialized rpc common remote exception exc info remote error rpc common remote exception serialized ['heat.common.exception'] return remote error 
def  get conf tpls image name kube annotations None kube pod name None kube container name None return [ x y for x y in copy Test Service Discovery templates image name [0] ]
def  get high intensity peaks image mask num peaks coord np mask intensities image indices np intensities [ -1 ]if len coord > num peaks sorted indices sorted indices num peaks np coord [sorted indices 
def  str to num val try num int val except Value Error num float val return num 
def  has access error desc user action descriptor course key def check for staff return  has staff access to descriptor user descriptor course key checkers {'load' check for staff 'staff' check for staff 'instructor' lambda  has instructor access to descriptor user descriptor course key }return  dispatch checkers action user descriptor 
def project info result project path str result project slug os project path [ -1 ]project dir os project path project slug return project path project slug project dir 
def rotate axes xs ys zs zdir if zdir u return ys zs xs elif zdir u return zs xs ys elif zdir u return zs xs ys elif zdir u return ys zs xs else return xs ys zs 
@environmentfilterdef do attr environment obj name try name str name except Unicode Error passelse try value getattr obj name except Attribute Error passelse if environment and not environment safe attribute obj name value return environment undefined obj name return valuereturn environment obj obj name name 
def col copy col copy indices True if isinstance col Base Column return col parent table col tableindices col table Nonecol []try newcol col if hasattr col u else deepcopy col newcol col deepcopy indices or [] if copy indices else [] for index in newcol index col col newcol finally col table parent tablecol indicesreturn newcol 
def  disabled funs ret [] disabled   salt  ['grains.get'] 'state runs disabled for state in funs for  state in  disabled if '.*' in  state target state  state '.' [0]target state target state + '.' if not target state '.' else target state if state target state err 'hestatefile tore runstate state  state ret err continueelif  state state err 'hestatefile tore runstate  state ret err continuereturn ret 
def get env setting setting try return environ Key Error error msg 'etthe % setting raise Improperly Configured error msg 
def is conflict exception exception string str exception return any s in exception string for s in CONFLICT INDICATORS
def get principal name ret {}cmd   execute kadmin 'get principal name if cmd ! 0 or cmd ret cmd [ -1 ]ret['result'] Falsereturn retfor i in cmd [1 ] prop val i ' ' 1 ret valreturn ret 
def run With Warnings Suppressed suppressed Warnings f *a **kw for args kwargs in suppressed Warnings warnings *args **kwargs added Filters warnings len suppressed Warnings ]try result f *a **kw except exc info sys info  reset Warning Filters None added Filters reraise exc info exc info else if isinstance result defer Deferred result Both  reset Warning Filters added Filters else  reset Warning Filters None added Filters return result 
def  register make cls assert cls headers is not None assert cls headers is not [] for nxm header in cls headers assert nxm header not in  MF FIELDS  MF F I E L D S header cls cls 
@publicdef together expr deep False def  together expr if isinstance expr Basic if expr Atom or expr Function and not deep return exprelif expr Add return gcd terms list map  together Add args expr elif expr Pow base  together expr if deep exp  together expr else exp expr expr  class   base exp else return expr  class   *[ together arg for arg in expr elif iterable expr return expr  class   [ together ex for ex in expr return exprreturn  together sympify expr 
def test suggested multiple column names with alias completer complete event text u S E L E C Tu u len u S E L E C Tu u result set completer completions Document text text cursor position position complete event assert set result set testdata u 
def  write table lstrs fp o open fp 'w' o '\n'.join lstrs o 
def  ping ponger connection event connection event 
def dup integrate f m K if m < 0 or not f return fg [ * m for i c in enumerate reversed f n i + 1 for j in range 1 m n * i + j + 1 g 0 K c K n return g 
def parse group rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--name' dest 'name' action 'store' parser argument '--gid' dest 'gid' action 'store' args clean args vars parser args rules parser Nonereturn args 
def  has beta version dev releases return version in [re.search ' \\d+\\. +\\d+' s .group 0 for s in dev releases ]
def  num samples x if hasattr x 'fit' raise Type Error 'xpectedsequenceorarray gotestimator % x if not hasattr x '  len  ' and not hasattr x 'shape' if hasattr x '  array  ' x np x else raise Type Error 'xpectedsequenceorarray got % type x if hasattr x 'shape' if len x 0 raise Type Error 'ingletonarray % x return x return len x 
def Check Printf filename clean lines linenum error line clean lines Search 'snprintf\\s*\\ [^ ]* \\s* [0-9]* \\s* ' line if match and match 2 ! '0' error filename linenum 'runtime/printf' 3 'fyoucan usesizeof %s insteadof % match 1 match 2 if Search '\\bsprintf\\s*\\ ' line error filename linenum 'runtime/printf' 5 'everusesprintf Usesnprintfinstead match Search '\\b strcpy \\s*\\ ' line if match error filename linenum 'runtime/printf' 4 'lmostalways snprintfisbetterthan % match 1
def update provider location provider location items location dict {tp.split '^' [0] tp '^' [1] for tp in provider location '|' }for key value in items location dict valuereturn dump provider location location dict 
@command 'save' def save last if g opened open save view 'save' g opened else saveas ''if g saveas g 18].strip saveas re '[^-\\w]' '-' saveas re U N I C O D E post 0while g saveas post + 1saveas g 18].strip + '-' + str post saveas saveas '0123456789' open save view 'save' saveas 
def het white resid exog retres False x np exog y np resid if x 1 raise Value Error 'xshouldhaveconstantandatleastonemorevariable' nobs nvars0 x i0 i1 np indices nvars0 exog x i0 * x i1 nobs nvars exog nvars nvars0 * nvars0 - 1 / 2.0 + nvars0 resols OLS y ** 2 exog .fit fval resols resols pvaluelm nobs * resols assert resols model np matrix rank exog - 1 lmpval stats lm resols model return lm lmpval fval fpval 
def  rename columns df assert not isinstance df  Frame if columns is no default return dfif isinstance columns Iterator columns list columns if isinstance df pd Data Frame if isinstance columns pd Data Frame columns columns not isinstance columns pd Index columns pd Index columns if len columns len df and type columns is type df and columns df return dfdf df deep False df columnsreturn dfelif isinstance df pd Series pd Index if isinstance columns pd Series pd Index columns columns df columns return dfreturn df columns return df 
def libvlc video get teletext p mi f  Cfunctions 'libvlc video get teletext None or  Cfunction 'libvlc video get teletext 1 None ctypes int Media Player return f p mi 
def  bio to string bio result buffer  ffi 'char**' buffer length  lib B I O get mem data bio result buffer return  ffi result buffer buffer length [ ]
def event return events opts  get options {} opts Truefor event in events log 'arbonreturnerreceivedevent {0}'.format event metric base event event 'data'  send saltdata metric base opts 
def edns to text flags return  to text flags  edns by value  edns flags order 
def run  task 
@ default selemdef median image selem None out None mask None shift x False shift y False return  apply scalar per pixel generic cy median image selem out out mask mask shift x shift x shift y shift y 
def ipaddrs return   proxy  ['napalm.call'] 'get interfaces ip **{}
def check sql input f def new f widget data *args **kwargs widget Error message 'download sql data  download sql data widget Error sql data if isinstance data Sql Table if data len < AUTO DL LIMIT data Table data else widget Error sql data data Nonereturn f widget data *args **kwargs return new f 
def handle nan value if isinstance value float if value float 'inf' return '<inf>'if value float '-inf' return '<-inf>'if value ! value return '<nan>'return value 
def  match task log path path application id None job id None m  PRE YARN TASK LOG PATH R E path if m if job id and job id !  to job id m 'attempt id return Nonereturn dict attempt id m 'attempt id log type m 'log type m  YARN TASK LOG PATH R E path if m if application id and application id ! m 'application id return Nonereturn dict application id m 'application id container id m 'container id log type m 'log type return None 
def get Clock Format **kwargs  gsession  G Settings user kwargs 'user' schema 'org.gnome.desktop.interface' key 'clock-format' return  gsession get 
def get module and frameid node frame node module obj '' [] while frame if isinstance frame Module module frame obj getattr frame 'name' '<lambda>' try frame frame except Attribute Error frame Noneobj return module '.'.join obj 
def replace subcircuit circuit subcircuit replace None pos 0 if pos < 0 pos 0if isinstance circuit Mul circuit circuit isinstance subcircuit Mul subcircuit subcircuit isinstance replace Mul replace replace replace is None replace loc find subcircuit circuit subcircuit start pos if loc > -1 left circuit loc circuit loc + len subcircuit len circuit ]circuit left + replace + right return circuit 
def schaffer mo individual return individual ** 2 individual - 2 ** 2
def wait for quorum keyname db nodes replication command cassandra interface N O D E TOOL + '' + 'status' key file '{}/{}.key'.format utils K E Y DIRECTORY keyname ssh cmd ['ssh' '-i' key file appscale info db master ip command db nodes < 1 or replication < 1 raise dbconstants App Scale D B Error 'tleast1databasemachineisneeded if replication > db nodes raise dbconstants App Scale D B Error 'hereplicationfactorcannotexceedthenumberofdatabasemachines can fail math replication / 2.0 - 1 needed int db nodes - can fail while True output subprocess output ssh cmd nodes ready len [line for line in output if line 'UN' ] logging '{}nodesareup.{}areneeded.'.format nodes ready needed if nodes ready > needed breaktime 1
def discover static files base path sub path '' js files discover files base path sub path sub path ext '.js' trim base path True sources mocks specs sort js files js files html files discover files base path sub path sub path ext '.html' trim base path True p path base path sub path  log sources 'ava Scriptsource p  log mocks 'ava Scriptmock p  log specs 'ava Scriptspec p  log html files ' T M Ltemplate p return sources mocks specs html files 
def inject field overrides blocks course user Override Field Data classes Nonefor block in blocks block field data Override Field Data user course block field data 
def test weights iris clf1 Logistic Regression random state 123 clf2 Random Forest Classifier random state 123 clf3 Gaussian N B eclf Voting Classifier estimators [ 'lr' clf1 'rf' clf2 'gnb' clf3 ] voting 'soft' weights [1 2 10] scores cross val score eclf X y cv 5 scoring 'accuracy' assert almost equal scores 0.93 decimal 2
def  srvmgr func as json False command 'mport Module Web Administration as json command 'onvert To Json Compress Depth4 Input Object {1} '.format command func else command '{0}{1}'.format command func cmd ret   salt  ['cmd.run all command shell 'powershell' python shell True if cmd ret ! 0  L O G 'nabletoexecutecommand %rror %s' command cmd ret return cmd ret 
def aggregate cov x d r None weights None nobs x 0res 0 * np x x for ii in range nobs for jj in range nobs w kernel d d r r weights weights if w res + w * np x x count * 1return res count 
def get vlan config commands vlan vid reverse value map {'admin state {'down' 'shutdown' 'up' 'noshutdown'}}if vlan 'admin state vlan apply value map reverse value map vlan VLAN ARGS {'name' 'name{0}' 'vlan state 'state{0}' 'admin state '{0}' 'mode' 'mode{0}' 'mapped vni 'vn-segment{0}'}commands []for param value in vlan if param 'mapped vni and value 'default' command 'novn-segment'else command VLAN A R G S param .format vlan param if command commands command commands 0 'vlan' + vid commands 'exit' return commands 
def include d e return d [f for f in glob '%s/%s' % d e if os f ]
def is client error status return 400 < status < 499
def truncate name name length None hash len 4 if length is None or len name < length return namehsh hashlib name .hexdigest [ hash len '%s%s' % name length - hash len ] hsh 
def  get local ip s socket socket A F INET socket S O C K DGRAM s 'google.com' 80 ip s [0]s.close return ip 
def path exists glob path return True if glob os path else False 
def  render template config file dirname filename os config file env Environment loader File System Loader dirname template env template filename config template   grains   return config 
def add Method Names To Dict class Obj dict prefix base Class None for base in class Obj  bases   add Method Names To Dict base dict prefix base Class if base Class is None or base Class in class Obj  bases   for name method in class Obj  dict  .items opt Name name prefix ]if type method is types Function Type and name len prefix ] prefix and len opt Name dict Name 1
def p statements 1 t pass 
@ocal Contextdef run assembly assembly return E L F assembly assembly .process
def send message module client id client secret topic msg try access token get access token module client id client secret url 'https //typetalk.in/api/v1/topics/%d' % topic headers {uthorization 'earer % access token }do request module url {'message' msg headers return True {'access token access token except Connection Error e get exception return False e 
def adjacency spectrum G weight 'weight' from scipy import eigvalsreturn eigvals nx matrix G weight weight .todense
def ensure port cleanup bound addresses maxtries 30 sleeptime 2 atexit  cleanup ports bound addresses maxtries maxtries sleeptime sleeptime 
def get PATH return os 'PATH'
def Named Temporary File mode 'w+b' bufsize -1 suffix '' prefix template dir None delete True if dir is None dir gettempdir if 'b' in mode flags  bin openflagselse flags  text openflagsif  os 'nt' and delete flags |  os O TEMPORARY fd name  mkstemp inner dir prefix suffix flags file  os fd mode bufsize return  Temporary File Wrapper file name delete 
def redact string return global redaction engine string 
def ndb config N D B Config return N D B Config 
def DEFINE float name default help C O N F I G Add Option type info Float name name default default description help 
def  footer mobile links is secure platform name configuration helpers value 'platform name settings P L A T F O R M NAME mobile links []if settings F E A T U R E S 'ENABLE FOOTER MOBILE APP LINKS' mobile links [{'name' 'apple' 'title' _ 'ownloadthe name Apple App Store .format platform name platform name 'url' settings M O B I L E STORE U R L S 'apple' '#' 'image'  absolute url staticfile is secure 'images/app/app store badge 135x40.svg' } {'name' 'google' 'title' _ 'ownloadthe name Google Play .format platform name platform name 'url' settings M O B I L E STORE U R L S 'google' '#' 'image'  absolute url staticfile is secure 'images/app/google play badge 45.png' }]return mobile links 
def dct matrix rows cols unitary True rval numpy rows cols col range numpy cols scale numpy 2.0 / cols for i in xrange rows rval numpy i * col range * 2 + 1 / 2.0 * cols * numpy * scale if unitary rval * numpy 0.5 return rval 
def  loopback Async Body server server To Client client client To Server pump Policy def pump source q target sent Falseif q pump Policy q target sent Trueif sent and not q source poll Producer return sentwhile 1 disconnect client Sent server Sent Falseserver Sent pump server server To Client client client Sent pump client client To Server server if not client Sent and not server Sent d defer Deferred client To Server notification Deferred dserver To Client notification Deferred dd Callback  loopback Async Continue server server To Client client client To Server pump Policy return dif server To Client disconnect Truepump server server To Client client elif client To Server disconnect Truepump client client To Server server if disconnect server Lost failure Failure main C O N N E C T I O N DONE client Lost failure Failure main C O N N E C T I O N DONE return defer None 
def test run method should return success when finds command name options mock Mock args 'freeze' help cmd Help Command status help cmd options mock args assert status SUCCESS
def author addon clicked f @functools.wraps f def decorated request *args **kwargs redirect id request G E T 'addons-author-addons-select' None if not redirect id return f request *args **kwargs try target id int redirect id return http Http Response Permanent Redirect reverse 'addons.detail' args [target id except Value Error return http Http Response Bad Request 'nvalidadd I D return decorated 
def anovadict res ad {}ad.update res  dict   anova attr ['df model 'df resid 'ess' 'ssr' 'uncentered tss 'mse model 'mse resid 'mse total 'fvalue' 'f pvalue 'rsquared']for key in anova attr ad getattr res key ad res res tss - res return ad 
def restore text text character map mapped chars if not text return textfor key value in character map text text value key return text 
def  Get Activation U R L user secret return 'https //www.google.com/chart?chs 200x200&chld M qr otpauth /secret D user options secret 
def get ftp proxy network service 'thernet if   grains  ['os'] 'indows return  get proxy windows ['ftp'] return  get proxy osx 'getftpproxy' network service 
def cooperate iterator return  the Cooperator iterator 
def print node node s '%s %s\n' % node  class  .  name   str node d node assumptionsif len d > 0 for a in sorted d v d v is None continues + '%s %s\n' % a v return s 
def st M F C C X fbank nceps mspec numpy numpy X fbank T + eps ceps dct mspec type 2 norm 'ortho' axis -1 [ nceps ceps 
def abhirajbutala logging 'justaddedloggingsupportforthisimportantproject return 
def randi N return int uniform 0 N
def check archive formats formats for format in formats if format not in ARCHIVE FORMATS return formatreturn None 
def register backend format backend description None if description is None description u default backends backend default filetypes description 
def is not nat builder val return builder lc I C M P NE val NAT
def max power of two x exponent 0while x x x >> 1 exponent + 1return max exponent - 1 0
def test assertion name result expected assert result expected 'xpected got % expected result name 
def  list from csv csv string caster None if caster is None return [x for x in csv string ' ' if x return [caster x for x in csv string ' ' if x 
def  get media info media id media type media format Noneif media type 'image' media get object or 404 Image pk media id try media format imghdr media except Unicode Encode Error passelif media type 'video' media get object or 404 Video pk media id else raise Http404return media media format 
def analyze module pycore pymodule should analyze search subscopes followed calls  analyze node pycore pymodule should analyze search subscopes followed calls 
def find campaigns srs start end ignore all sr names set all campaigns set srs set srs while srs all sr names | {sr.name for sr in srs campaigns by date get campaigns by date srs start end ignore new campaigns set chain iterable new campaigns by date all campaigns new campaigns new sr names set chain iterable campaign names for campaign in new campaigns new sr names - all sr namessrs set Subreddit by name new sr names .values return all campaigns 
def encode method selection message version method return struct '!BB' version method 
def  check guts toc mtime attr old toc last build pyc 0 for nm fnm typ in old if misc fnm > last build logger 'uildingbecause fnm return Trueelif pyc and misc fnm -1 ] > last build logger 'uildingbecause fnm -1 ] return Truereturn False 
def report missing dir flist globstr os dir '*.py' fnames glob globstr pyfiles {os.path.split fullpath [ -1 ] for fullpath in set fnames }exclude set excluded dir [] flist set flist missing list pyfiles - flist - exclude if missing print '%sfilesnottested %s' % dir ' '.join sorted missing 
def toggle Hashtable hashtable key value if key in hashtable del hashtable hashtable value 
def get user from cookie cookies app id app secret cookie cookies 'fbsr ' + app id '' if not cookie return Noneparsed request parse signed request cookie app secret try result get access token from code parsed request '' app id app secret except Graph A P I Error return Noneresult parsed request id result 
def dictsort value arg var resolve Variable arg .resolvedecorated [ var resolve item item for item in value return [item[1] for item in decorated 
def  getscreen if Turtle screen is None Turtle screen Screen return Turtle screen 
def dc rheader r tabs None T current Tif r ! 'html' return Noneresourcename r resourcename 'template' tabs T 'asic Details None T 'uestions 'question' rheader fields ['name'] rheader S3 Resource Header rheader fields tabs r elif resourcename 'question' tabs T 'uestion Details None T 'ranslations 'question l10n rheader fields ['question'] rheader S3 Resource Header rheader fields tabs r elif resourcename 'collection' tabs T 'asic Details None T 'nswers 'answer' T 'ttachments 'document' rheader fields ['template id ['location id ['date'] rheader S3 Resource Header rheader fields tabs r elif resourcename 'target' tabs T 'asic Details None T 'ollections 'collection' rheader fields ['template id ['location id ['date'] rheader S3 Resource Header rheader fields tabs r else rheader ''return rheader 
def is comment too deep parent return MAX COMMENT DEPTH is not None and MAX COMMENT DEPTH < 0 or parent and parent > MAX COMMENT DEPTH
@step u Mm [^"]* "answeris NOT ?marked" [^"]* "' def assert answer mark  step problem type isnt marked correctness assert correctness in ['correct' 'incorrect' 'unanswered'] assert problem type in PROBLEM DICT for sel in PROBLEM D I C T type if bool isnt marked world for lambda _ world css not present sel has expected world css not present sel else world find sel has expected world css present sel if has expected breakassert has expected 
def migrate resource table conn table resource table conn table resource filter "ualifier Filter 'regexstring m \\d{19}\\+[\\w-\\. ]*\\+[\\w-\\. !]' "gen resource table filter resource filter for row data in gen columns []updated columns dict column prefix 'f 'for column value in data if column 'f m ' columns column parts column ].split '+' 2 parts parts 2 .split '!' column hbase utils key *parts updated columns column prefix + column ] valueresource table row updated columns resource table row columns 
def cell get all context return I M P L get all context 
def  xml oneliner re from tab width tab width return re '\n ? \n ?< \\n\\n #tartingafterablankline A \n #savein$1\n[]{0 %d}\n ? \ M Lprocessinginstruction \\w+\\b\\s+.*?/>#namespacedsingletag\n \n[\\t]*\n ? \\n{2 }|\\Z #followedbyablanklineorendofdocument\n \n' % tab width - 1 re X 
def  fmt msg msg if not msg return ''return msg + '\n'
def  lock file id if os '/dev/shm' return '/dev/shm/gpu lock %d' % id else return '/tmp/gpu lock %d' % id 
def parse sents inputs grammar trace 0 from nltk import Feature Grammarfrom nltk import Feature Chart Parser load parserif isinstance grammar Feature Grammar cp Feature Chart Parser grammar else cp load parser grammar trace trace parses []for sent in inputs tokens sent syntrees list cp tokens parses syntrees return parses 
def generic multiedge match attr default op if nx string like attr attr [attr]default [default]op [op]attrs list zip attr default def match datasets1 datasets2 values1 []for data1 in datasets1 x tuple data1 attr d for attr d in attrs values1 x values2 []for data2 in datasets2 x tuple data2 attr d for attr d in attrs values2 x for vals2 in permutations values2 for xi yi in zip values1 vals2 if not all map lambda x y z z x y xi yi op breakelse return Trueelse return Falsereturn match 
def method decorator decorator def  dec func def  wrapper self *args **kwargs @decoratordef bound func *args2 **kwargs2 return func self *args2 **kwargs2 return bound func *args **kwargs @decoratordef dummy *args **kwargs passupdate wrapper  wrapper dummy update wrapper  wrapper func return  wrapperupdate wrapper  dec decorator  dec  name   'method decorator %s ' % decorator  name   return  dec 
def slow responder ctx zmq Context socket ctx zmq R E P socket 0socket.bind 'tcp //127.0.0.1 5555' i 0while True msg socket print '\nworkerreceived%r\n' % msg time random 1 5 socket msg + 'toyoutoo #%i' % i i + 1
def filter paths path list return [p for p in path list if os os p ]
@anonymous user requireddef token login token expired invalid user login token status token if invalid do flash *get message 'INVALID LOGIN TOKEN' if expired send login instructions user do flash *get message 'LOGIN EXPIRED' email user within  security within if invalid or expired return redirect url for 'login' login user user after this request  commit do flash *get message 'PASSWORDLESS LOGIN SUCCESSFUL' return redirect get post login redirect 
def aggregation most frequent logits labels labels from probs logits labels shape np labels labels labels labels shape labels shape result np int labels shape for i in xrange int labels shape label counts np labels i minlength 10 label counts np label counts dtype np result np label counts return np result dtype np 
def fake get network *args **kwargs return {'type' 'fake'}
def run Test Fast test name old stderr sys stdout sys open 'temp.log' 'w' ec 0errors ''try sys fsys f  import   test name '.py' [0] except System Exit ec int str sys value except ec 1finally sys old stderrsys old stdoutf if ec ! 0 f open 'temp.log' 'r' for line in f errors errors + line f return ec errors 
def Dependencies l T O C xtrapath None manifest None redirects None l T O C  extract from egg l T O C for nm pth typ in l T O C if nm in seen continuelogger 'nalyzing pth seen nm if is win for ftocnm fn in get Assembly Files pth manifest redirects l T O C ftocnm fn 'BINARY' for lib npth in select Imports pth xtrapath if lib in seen or npth in seen continueseen npth l T O C lib npth 'BINARY' return l T O C 
def set builtins dir path global  handler dir  available builtins handler dir path available builtins [] initialize builtins 
def show lists t rel t screen name g name if rel print list rel else print Nicely light magenta 'oubelongtonolists '
def  handle put gs stub filename param dict headers payload token  get param 'upload id param dict content range  Content Range headers if content range and not content range gs stub continue creation token payload content range content range response headers {}response status 308elif content range and content range gs stub continue creation token payload content range content range last True filestat gs stub object filename response headers {'content-length' filestat size status 200elif not payload gs stub continue creation token '' None True filestat gs stub object filename response headers {'content-length' filestat size status 200else raise Value Error 'issingheadercontent return  Fake Url Fetch Result response status response headers ''
def make suite path test dir loader unittest Test Loader python module names get python module names os path test module names get test module names python module names suite loader Tests From Names test module names return suite 
def scharr h image mask None assert n D image 2 image img as float image result convolve image HSCHARR WEIGHTS return  mask filter result result mask 
def gps distance lat1 lon1 lat2 lon2 lat1 math lat1 lat2 math lat2 lon1 math lon1 lon2 math lon2 d Lat lat2 - lat1 d Lon lon2 - lon1 a math 0.5 * d Lat ** 2 + math 0.5 * d Lon ** 2 * math lat1 * math lat2 c 2.0 * math math a math 1.0 - a return radius of earth * c 
def get last line number in diff context filediff interfilediff f get file from filediff context filediff interfilediff last chunk f -1 ]last line last chunk -1 ]return last line 
def head url **kwargs return request 'head' url **kwargs
def advanced indexing op input index batch size tf input [0]max length tf input [1]dim size int input shape [2] index tf 0 batch size * max length + index - 1 flat tf input [ -1 dim size relevant tf flat index return relevant 
def libvlc media tracks get p md tracks f  Cfunctions 'libvlc media tracks get None or  Cfunction 'libvlc media tracks get 1 1 None ctypes uint Media ctypes P O I N T E R ctypes P O I N T E R Media Track return f p md tracks 
def jsonc to string jsonc obj return simplejson  convert to object jsonc obj 
def jsonpify func *args **kwargs data func *args **kwargs return to jsonp data 
def geom index func return geom output func [GEOM PTR c int 
def detect stream try json stream return Trueexcept Value Error return False 
def alter Widdershins Supported Path By Point along Away overhang Widdershins Left overhang Widdershins Right point if along Away Is Widdershins Point Supported point returnoverhang Widdershins overhang Widdershins Leftif overhang Widdershins Right Distance < overhang Widdershins Left Distance overhang Widdershins overhang Widdershins Rightoverhang Widdershins Loop 
def  get message from model message model return feedback domain Feedback Message message model message model id message model id message model id message model status message model subject message model message model on message model updated 
def strip one path return path u .split u 1 [ -1 ]
def collect dynamic libs package destdir None if not isinstance package string types raise Value Errorlogger 'ollectingdynamiclibrariesfor % package pkg base pkg dir get package paths package dylibs []for dirpath _ __ in os pkg dir for pattern in PY DYLIB PATTERNS files glob os dirpath pattern for source in files if destdir dest destdirelse dest remove prefix dirpath os pkg base + os logger '%s %s' % source dest dylibs source dest return dylibs 
def slice to str slc if is single index slc return str slc endpoints [none to empty val for val in slc slc ]if slc is not None and slc ! 1 return '%s %s %s' % endpoints endpoints slc else return '%s %s' % endpoints endpoints 
@deprecated u def soundex name len 4 soundex digits u u u c in name if c if not fc fc cd soundex digits ord c - ord u A ]if not sndx or d ! sndx -1 ] sndx + dsndx fc + sndx ] sndx sndx u u return sndx + len * u [ len 
def split dataset random dataset first size seed None order numpy Random State seed .permutation len dataset return split dataset dataset first size order 
def  parse config file filename parser Config Parser parser filename name parser [0]meta data {}for opt in parser name meta data parser name opt return name meta data 
def attach webhook project request None for service cls in registry if service cls project service project service service clsbreakelse return Noneuser accounts service user request for account in user accounts success resp account webhook project if success messages request _ 'ebhookactivated project valid webhook Trueproject breakelse if user accounts messages request _ 'ebhookactivationfailed Makesureyouhavepermissionstosetit else messages request _ 'oaccountsavailabletosetwebhookon Pleaseconnectyour network service .get provider .name
def start all dummy clients nclients global NCLIENTSNCLIENTS int nclients actions DUMMYRUNNER S E T T I N G S A C T I O N Sif len actions < 2 print ERROR FEW ACTIONS returnpratio 1.0 / sum tup for tup in actions ] flogin flogout probs cfuncs actions actions [ tup * pratio for tup in actions ]] [tup[1] for tup in actions ]] cprobs [sum v for i v in enumerate probs if i < k for k in range len probs ]actions flogin flogout + tuple zip cprobs cfuncs factory Dummy Factory actions for i in range NCLIENTS reactor T C P 'localhost' TELNET PORT factory reactor 
def parsed2datadict d if d is None uri '/'else uri d 'http //' + d + uri musecs int d if '+' in d url url 'http' 'wrong' if d '-' responsebytes 0else responsebytes int d return dict url url musecs musecs responsebytes responsebytes 
def  get session server if server in  sessions return  sessions  get spacewalk configuration server if not config raise Exception "oconfigfor server session  get client and key config url config config atexit  disconnect session session client session session sessions client key return client key 
def install conda target conda target conda context None conda context  ensure conda context conda context conda context channels configured create args ['--name' conda target environment conda target specifier conda context create create args 
def has verdana import matplotlib manager as mplfmtry verdana font mplfm 'erdana fallback to default False except return Falsetry unlikely font mplfm 'very unlikely to exist1234 fallback to default False except return Truereturn verdana font ! unlikely font 
def summary params frame results yname None xname None alpha 0.05 use t True if isinstance results tuple results params std err tvalues pvalues conf int resultselse params results err results results results int results int alpha alp str 1 - alpha * 100 + '%' if use t param header ['coef' 'stderr' 't' ' 'onf Int Low 'onf Int Upp param header ['coef' 'stderr' 'z' ' 'onf Int Low 'onf Int Upp _ xname  getnames results yname yname xname xname from pandas import Data Frametable np stack params std err tvalues pvalues conf int return Data Frame table columns param header index xname 
def get users with role role prefix return User groups  name  startswith role prefix 
def model cr context method method api 'model cr context method 
def get Summarized File Name file Name if os os file Name return os file Name return file Name 
def icon dir theme if not theme or theme  default icon theme icons share u else theme dir share u theme if os theme and os theme icons themeelif os theme dir icons theme direlse icons share u return icons 
def blend palette colors n colors 6 as cmap False input 'rgb' colors [ color to rgb color input for color in colors 'blend'pal mpl Linear Segmented Colormap list name colors if not as cmap pal  Color Palette pal np 0 1 n colors return pal 
def get nonphylogenetic metric name try return getattr distance transform 'dist ' + name except Attribute Error try return getattr distance transform name 'binary' 'binary dist .lower except Attribute Error return getattr distance transform name 
def unexpected error msg error return 'nexpectedresponse %s .etail %s' % str error traceback exc error 
@pytest.mark.parametrize 'parallel' [rue False def test empty lines parallel read basic table read basic ' B C parallel parallel expected Table [[1 4] [2 5] [3 6]] names 'A' 'B' 'C' assert table equal table expected 
def referer pattern accept True accept missing False error 403 message 'orbidden Refererheader debug False try ref cherrypy Referer bool re pattern ref if debug cherrypy 'eferer % ref pattern 'TOOLS.REFERER' if accept match returnexcept Key Error if debug cherrypy 'o Refererheader 'TOOLS.REFERER' if accept missing returnraise cherrypy H T T P Error error message 
def Timestamp I S O8601 t return time ' T H %M %SZ' time t 
def service Roads stacks duration 1.0 start time while start + duration > time for stack in stacks stack All if all [ not stack for stack in stacks console 'ervicestacksdonenormally breaktime 0.05 for stack in stacks console 'tack {1}\n'.format stack stack Remotes console 'ervicestacksexit 
def schedule delay func t time + delay insort scheduled calls t func 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def words count common True word list list COMMON WORDS if common else [] c len word list if count > c count - cwhile count > 0 c min count len WORDS count - cword list + random WORDS c else word list word list count ''.join word list 
def get admin path name future if future return os cfg dir path FUTURE Q FOLDER else return os os cfg dir path name JOB ADMIN
def keyring purge **kwargs return ceph cfg purge **kwargs
def test modulepickling change cache dir monkeypatch tmpdir dir 1 str tmpdir 'first' dir 2 str tmpdir 'second' item 1 Parser Cache Item 'fakeparser1' item 2 Parser Cache Item 'fakeparser2' path 1 'fakepath1'path 2 'fakepath2'monkeypatch.setattr settings 'cache directory dir 1 Parser Pickling parser path 1 item 1 cached load stored item Parser Pickling path 1 item 1 assert cached item 1.parser monkeypatch settings 'cache directory dir 2 Parser Pickling parser path 2 item 2 cached load stored item Parser Pickling path 1 item 1 assert cached is None 
def test find number 3 s 'jq%misdirect/82ghn931'r find number s assert s r '82'
def  clear ignore list lst return [ clear ignore ele for ele in lst 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get computer name ret salt utils return result 'systemsetup-getcomputername' return salt utils return ret 
def strip variants address address _ parse variants address return address 
def  skip answer ratelimit request return 'delete images in request P O S T or 'upload image in request P O S T 
def   determine delete kwargs options delete kwargs   kwargs option to dict options kwargs project delete kwargs 'project' options if project '' try project get metadata 'project/project-id' except raise Value Error ' C P delete kwargs projectreturn delete kwargs 
def attach Reject a Tp Pd pd 3 b Message Type mes Type 1 c Gmm Cause packet a / b / c return packet 
def get qiime hex string color index assert index > 0 'herearenonegativeindicesforthe Q I I M Ecolors colors len data color order if index > n colors index int index - floor index / n colors * n colors return data colors color order Hex 
def enable root login sshd config '/etc/ssh/sshd config  update ssh setting sshd config 'ermit Root Login 'yes'
def format histograms raw hist pre hist post hist bin edges lines []lines.append '#binsrawsequencelengths lengthofsequencesthatpassqualityfiltersbeforeprocessing andlengthsofsequencesthatpassqualityfilterspostprocessing lines 'ength DCTB Raw DCTB Before DCTB After for edge raw pre post in zip bin edges raw hist pre hist post hist lines ' DCTB '.join map str [edge raw pre post return '\n'.join lines 
def with metaclass meta *bases class metaclass meta   call   type  call    init   type  init  def   new   cls name this bases d if this bases is None return type  new   cls name d return meta name bases d return metaclass 'ummy Meta Class None {}
def  decode data packet packet buff offset if len packet buff < offset + 2 raise Invalid Packet Exception u D A T Apackettoosmall <4 %s' % repr packet buff block number struct from '!H' packet buff offset data packet buff offset + 2 ]packet['block number block numberpacket datareturn packet 
def renders col name def wrap f if not hasattr f ' col name f col name col namereturn freturn wrap 
def set username user id new username user settings get user settings user id strict True User Settings valid username new username if is username taken new username raise utils Validation Error 'orry theusername Pleasepickadifferentone % new username user settings new username save user settings user settings 
def ec2 credentials list user id None name None profile None **connection args kstone auth profile **connection args ret {}if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid ec2 credential in kstone user id ret credential id {'user id ec2 credential id 'tenant id ec2 credential id 'access' ec2 credential 'secret' ec2 credential ret 
def create user profile sender **kwargs user kwargs not User Profile user user User Profile user user .save
def ensure str or int x if isinstance x int return xx x if isinstance x str else str x try x ast eval x except Value Error Syntax Error passif not isinstance x int str msg '{0!r}couldnotbeconvertedtointorstr'.format x raise Value Error msg return x 
def kstatvar data n 2 data ravel data N len data if n 1 return kstat data n 2 * 1.0 / N elif n 2 k2 kstat data n 2 k4 kstat data n 4 return 2 * N * k2 ** 2 + N - 1 * k4 / N * N + 1 else raise Value Error 'nlyn 1orn 2supported.'
def docstrings disabled return docstrings disabled  doc   is None 
def was active reference date value asset return asset date < reference date value < asset date 
def test deriv np 24235 for link in Links for k in range 10 p np 0 1 d link p da nd fprime np [p] link assert allclose d da rtol 1e-06 atol 1e-06 err msg str link 
def get thread list url request course key topic id list None following False path reverse 'thread-list' query list [ 'course id unicode course key ] + [ 'topic id topic id for topic id in topic id list or [] ] + [ 'following' following ] if following else [] return request absolute uri urlunparse '' '' path '' urlencode query list ''
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  to jsonc name member name characters []uppercase next Falsefor character in member name if character '_' uppercase next Trueelif uppercase next characters character uppercase next Falseelse characters character return ''.join characters 
@staff member requireddef cache stats request template name u stats cache stats get cache stats cache info settings C A C H E S D E F A U L T FORWARD CACHE A L I A S render to response template name Request Context request {u'cache hosts cache stats u backend cache info B A C K E N D u _ u Server Cache u path settings S I T E ROOT + u }
def parse path data path data path []for item in path data usage key Usage Key string item usage key usage key course key modulestore .fill in run usage key key path Path Item usage key item return path 
def Get Secret secret return Get Secrets Manager For Secret secret .et Secret secret 
def removeduppaths L []known paths set for dir in sys dir dircase makepath dir if not dircase in known paths L dir known paths dircase sys ] Lreturn known paths 
def get registered auth backend backend id warn u registered auth backend isdeprecated Usereviewboard backends instead Deprecation Warning return auth backends u id backend id 
def create gradient base color stop Q Point F 0 0 final Stop Q Point F 0 1 grad Q Linear Gradient stop final Stop grad Stops [ 0.0 base color 0.5 base color 0.8 base color 105 1.0 base color 110 ] grad Coordinate Mode Q Linear Gradient Object Bounding Mode return grad 
def validate method method dy fit mean nterms frequency assume regular frequency methods available methods fast method ok 'fast' in methods prefer fast fast method ok and len frequency > 200 and assume regular frequency or  is regular frequency prefer scipy 'scipy' in methods and dy is None and not fit mean if method 'auto' if not fast method ok warnings 'ast Lomb Scarglemethodsrequirenumpyversion1 Usingslowermethodsinstead if nterms ! 1 if prefer fast method 'fastchi2'else method 'chi2'elif prefer fast method 'fast'elif prefer scipy method 'scipy'else method 'cython'if method not in METHODS raise Value Error 'invalidmethod {0}'.format method return method 
def parse external id output type EXTERNAL ID TYPE ANY external id Nonefor pattern type pattern in EXTERNAL ID PATTERNS if type ! EXTERNAL ID TYPE ANY and type ! pattern type continuematch search pattern output if match external id match 1 breakreturn external id 
def  build session username password trans label None bigip requests bigip username password bigip Falsebigip {ontent Type 'application/json'} if trans label trans id   salt  ['grains.get'] 'bigip f5 trans {label}'.format label trans label if trans id bigip { F5 R E S T Coordination Id trans id else bigip { F5 R E S T Coordination Id None return bigip 
def  create unit form request language unit form class unit form factory language request request return form class request P O S T instance unit request request 
def decorator wrapped decorator def helper  func None **options def outer wrapper func @wrapping func def inner wrapper *args **kwds return wrapped decorator func args kwds **options return inner wrapperif  func is None return outer wrapperif options raise Type Error 'positionalargumentsnotsupported' return outer wrapper  func helper decorator wrapped decoratorreturn helper 
def  records match old ttl old record data new ttl new record data matches Trueif old ttl ! new ttl matches Falseif old record data ! new record data matches Falsereturn matches 
def  get hub global  threadlocaltry return  threadlocal Attribute Error pass 
def test mnist valid skip if no data mode get default mode if hasattr mode 'check py code old value mode py codemode py code Falsetry if config 'DEBUG MODE' yaml file 'mnist valid fast yaml file 'mnist valid epoch train os yaml file path '%s.yaml' % yaml file try os os save path '%s.pkl' % yaml file os os save path '%s best % yaml file except Exception passfinally if hasattr mode 'check py code mode py code old value 
def set implicit options role fn if not hasattr role fn 'options' or role fn is None role fn {'class' directives option not role fn key 'class' role fn directives option 
def delete instance model *instance or pk cache many [instance key model x for x in instance or pk 
def  expand cloned elements return itertools *[x. cloned set for x in elements 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
@register canonicalize 'fast compile 'local cut useless reduce @register useless 'local cut useless reduce @gof.local optimizer ALL REDUCE def local useless reduce node if isinstance node T C A Reduce summed node summed node return [summed]
def  get Method Name In Class method if getattr method class method  name   object ! method for alias in dir method class if getattr method class alias object method return aliasreturn method  name  
def make insecure stub stub class host port None if port is None target hostelse target '%s %d' % host port channel grpc channel target return stub class channel 
def is pyflakes installed return programs module installed 'pyflakes' PYFLAKES REQVER
def get func defaults func if PY2 return func defaultselse return func  defaults  
def invalidate invoice obj invoice if not obj invoice valid return Http Response Bad Request _ 'hesaleassociatedwiththisinvoicehasalreadybeeninvalidated obj invoice valid Falseobj invoice message _ 'nvoicenumber .format obj invoice return Json Response {'message' message 
def  atan p iv prec R p R -1 c [ - mo ]p2 rs square p iv prec for k in range 1 prec c mo ** k / 2 * k + 1 s rs series from list p2 c iv prec s rs mul s p iv prec return s 
def get string module project code resource None force errors False return pyobjectsdef Py Module project code resource force errors force errors 
def failed seg return seg marked is False and seg uploaded is False 
def  get weights max length weights [1]for i in range 1 max length weights weights i - 1 ] * len  ALPHABET + 1 weights return weights 
def get Transformed Outline By Path path xml Element y Axis Pointing Upward arounds From Path intercircle Arounds From Path path get Stroke Radius xml Element return get Chain Matrix S V G If Necessary xml Element y Axis Pointing Upward .ransformed Paths arounds From Path 
def salt run import salt '' in sys sys '' client salt Salt Run  install signal handlers client client 
def  find migrate repo path os os os   file   'migrate repo assert os path return path 
def  remove dots src output {}for key val in six src if isinstance val dict val  remove dots val output '.' '-' ] valreturn output 
def first or default items default None for item in items return itemreturn default 
def is error status status status initialized return Rpc Error state status is not None 
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
@jit nopython True def  generate a indptr num states s indices out idx 0out[0] 0for s in range num states - 1 while s indices s idx + 1out[ s + 1 ] idxout states len s indices 
def Get Load Balancers region node types None elb names []if node types is not None for n in node types assert n in k Load Balancer Names 'node type %r ' % n k Load Balancer Names elb names k Load Balancer Names if not elb names elb names Noneec2 elb  Connect E L B region return ec2 elb all load balancers load balancer names elb names 
def dmp integrate f m u K if not u return dup integrate f m K if m < 0 or dmp zero p f u return f g v dmp zeros m u - 1 K u - 1 for i c in enumerate reversed f n i + 1 for j in range 1 m n * i + j + 1 g 0 dmp quo ground c K n v K return g 
def ask to proceed with overwrite filepath get input inputif sys info 2] < 2 7 get input raw inputoverwrite get input ' A R N I N G % filepath while overwrite not in ['y' 'n'] overwrite get input 'nter overwrite or cancel .' if overwrite 'n' return Falseprint ' I P Nexttimespecifyoverwrite True return True 
def get First Word From Line line return get First Word line 
def unzip ls nout out list zip *ls if not out out [ ] * nout return out 
def dijkstra path G source target weight 'weight' length path single source dijkstra G source target target weight weight try return path Key Error raise nx Network X No Path 'node%snotreachablefrom%s' % target source 
def get Centers From Points points radius circle Nodes get Circle Nodes From Points points abs radius return get Centers From Circle Nodes circle Nodes abs radius 
def is acme error err return ERROR PREFIX in str err or OLD ERROR PREFIX in str err 
@task name 'geonode.tasks.deletion.delete layer queue 'cleanup' def delete layer object id try layer Layer id object id except Layer Does Not Exist returnlayer 
def apply temporary fixes font is for cros False font name font data name font weight noto fonts weight font name weight number noto fonts W E I G H T S is for cros and weight 'hin weight number 1 S Weight Class weight numbername records font data name records font family name name records family name 'lack font Style | 1 << 0 font O S Selection | 1 << 5 font O S Selection & ~ 1 << 6
def check depends name def check n filename nodes get nodes by name n name depends [e.attributes for e in nodes if 'thirdparty' not in e ]try packages [d['package'].value for d in depends Key Error raise Manifest Exception "nvalidmanifestfile dependsismissing return [epend p for p in packages check 
def only name hostnames ret {'name' name 'changes' {} 'result' None 'comment' ''}if isinstance hostnames six types hostnames [hostnames]old ''.join   salt  ['hosts.get alias name new ''.join x for x in hostnames if old new ret ' Paddress name new ret Truereturn retif   opts  ['test'] ret 'ouldchange name old new return retret   salt  ['hosts.set host name new if not ret ret 'hosts.set hostfailedtochange + 'from"{1}"to"{2}"' .format name old new return retret 'successfullychanged{0}from"{1}"to"{2}"'.format name old new ret {name {'old' old 'new' new ret 
def Check File filename if not os filename raise File Not Found Error '%s filenotfound % filename elif not os filename os R OK raise File Not Readable Error '%s filenotreadable % filename 
def encode for querystring s if not isinstance s unicode raise Type Error u return urlsafe b64encode s u .replace ' ' '~' .decode u 
def split data data prob results [] [] for row in data results 0 if random < prob else 1 ].append row return results 
def link src dst if platform u Windows if ctypes Create Hard Link W ctypes wchar p unicode dst ctypes wchar p unicode src None 0 raise ctypes Win Error else ek os src dst 
def Code Ranges code list re list [ode Range code list code list i + 1 ] for i in range 0 len code list 2 ]return Alt *re list 
def null image return Q Image 
def recursive filelisting base directories for base directory in base directories for root _ files in os base directory for leaffile in files yield os root leaffile 
def get ogr db string db connections {'django.contrib.gis.db.backends.postgis' 'ostgre S Q L "PG dbname '% db name s '' 'django.contrib.gis.db.backends.mysql' 'y S Q L 'MYSQL "% db name s ' ' 'django.contrib.gis.db.backends.spatialite' ' Q Lite '% db name s '' } drv name db str param sep drivers E N G I N E Driver drv name except return Noneif db N A M E ' memory ' return Noneparams [ db str % {'db name db N A M E ]def add key template value db key None if value params template % value add 'HOST' "host '%s'" add 'PORT' "port '%s'" add 'USER' "user '%s'" add 'PASSWORD' "password '%s'" return param sep params 
def x11 Font Directory fontpaths []def add arg directory files fontpaths directory for fontdir in X11 Font Directories try if os fontdir os fontdir add None except I O Error O S Error Type Error Value Error passreturn fontpaths 
def get http prompt path python dir os sys bin name 'http-prompt'if sys 'win32' bin name + '.exe'paths [os.path.join python dir bin name os python dir 'cripts bin name '/usr/bin/http-prompt']for path in paths if os path return pathraise O S Error 'couldnotlocatehttp-promptexecutable Pythondirectory %s' % python dir 
def get subnet length mask if not salt mask raise Salt Invocation Error "'{0}'isnotavalidnetmask".format mask return salt net size mask 
@cli.command def build webui cwd os 'flexget' 'ui' click 'cleaningpreviousbuilds' for folder in ['bower componentsnode modules folder os cwd folder if os folder click 'eletingrecursively folder shutil folder click 'running`npminstall`' subprocess call 'npminstall' cwd cwd shell True click 'running`bowerinstall`' subprocess call 'bowerinstall' cwd cwd shell True click 'running`gulpbuildapp`' subprocess call 'gulpbuildapp' cwd cwd shell True 
def insert doc doc new items doclist doc u tmpdoc doclist 2]tmpdoc.extend new items tmpdoc doclist ] newdoc []for line in tmpdoc newdoc line newdoc u newdoc -1 return u newdoc 
def compute sequence shape context builder ndim seqty seq intp t context value type types zero Constant intp t 0 def get first item seqty seq if isinstance seqty types Base Tuple if len seqty 0 return None None else return seqty builder value seq 0 else getitem impl  get borrowing getitem context seqty return seqty getitem impl builder seq zero shapes [] innerty inner seqty seq for i in range ndim shapes  get seq size context builder innerty inner innerty inner get first item innerty inner return tuple shapes 
def find links line l line '%' '%%' regex ' https //[^ ]+ 'return re regex '%s' l [m.group 1 for m in re regex l ]
def  trans from params param info params do rotate do translate do scale param infoi 0trans []if do rotate x y z params 3]trans.append rotation x y z i + 3if do translate x y z params i + 3 ]trans.insert 0 translation x y z i + 3if do scale 1 s params scaling s s s elif do scale 3 x y z params i + 3 ]trans.append scaling x y z trans reduce dot trans return trans 
def aug Parse Category line primitives families var None cat string rest next Category line if cat string u ' res var aug Parse Category cat string -1 ] primitives families var else res var parse Primitive Category PRIM R E cat string .groups primitives families var while rest ! u app APP R E rest .groups direction parse Application app 3] rest app cat string rest next Category rest if cat string u ' arg var aug Parse Category cat string -1 ] primitives families var else arg var parse Primitive Category PRIM R E cat string .groups primitives families var res Functional Category res arg direction return res var 
def p type specifier t pass 
def safe dict d if isinstance d dict return dict [ k 'utf-8' safe dict v for k v in d ] elif isinstance d list return [safe dict x for x in d return d 
def make tree defs mod files list tree defs {}for mod files in mod files list node tree defs for prefix in mod '.' node node prefix [{} []] node + filesreturn tree defs 
@auth.s3 requires membership 2 def submission old response Content Type 'text/xml'xml str request vars submission file if len xml 0 raise HTTP 400 'eedsomexml importxml db xml r HTTP 201 'aved r Location request hostraise r 
def  log wishart norm degrees of freedom log det precisions chol n features return - degrees of freedom * log det precisions chol + degrees of freedom * n features * 0.5 * math 2.0 + np gammaln 0.5 * degrees of freedom - np n features [ np 0
def check link status tnow time if mpstate message ! 0 and tnow > mpstate message + 5 say 'nolink' mpstate error Truefor master in mpstate master if not master and tnow > master message + 5 or master say 'link%udown' % master + 1 master True 
def  date from json value field if  not null value field return  date from iso8601 date value 
def test all pr pos scores [ -1.0 0.0 2.0]neg scores [ -2.0 0.0 1.0]precision [1.0 1.0 0.5 0.5 0.6 3.0 / 6.0 ]recall [0.0 1.0 / 3.0 1.0 / 3.0 2.0 / 3.0 1.0 1.0] p r all pr pos scores neg scores assert len p len precision assert len r len recall for i in xrange len p assert p precision i p precision assert recall recall 
def cumdims label chunks const return [tuple zip const * 1 + len bds accumulate add 0 + bds for bds in chunks 
def pretaxonomy hook generator category objects {}real articles []for article in generator dirname fname os article path fname _ os fname if fname 'index' category objects make category article os dirname else real articles article category assignment re '^ ' + '|'.join re prefix for prefix in category objects + ' /' for article in real articles m category assignment article path if not m or m 1 not in category objects logger 'ocategoryassignmentfor %s ' article article path continuearticle category objects 1 ]patch urlformat article generator real articles 
def postgres command show not command u return sudo command show show user u 
def darker image1 image2 image1 image2 return image1 new image1 darker image2 
def format qual output qual array qual line size 60qual scores ''for slice in range 0 len qual array qual line size current segment qual array slice + qual line size ]current segment ''.join str score for score in current segment + '\n' qual scores + current segment array str qual array \nqual array qual array '[' '' \nqual array qual array ']' '' "return qual scores 
def facebook profile open graph share user open graph share get profile user facebook id profile idfacebook url 'http //www.facebook.com/%s/' % facebook id link '<p><ahref "%s"><imgsrc "http //graph.facebook.com/%s/picture/?type large "100px"style "float left % facebook url facebook id facebook id return link 
def activate matplotlib backend import matplotlibmatplotlib True matplotlib Params backendimport matplotlib backend backend import matplotlib as pltplt needmain Falseplt if interactive flag calls plt if interactive 
def date value arg None from django import formatif not value return ''if arg is None arg settings D A T E F O R M A Treturn format value arg 
def test ast bad while cant compile u while ' cant compile u while True '
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def rel Matches rel attr target rel rels rel attr .split for rel in rels rel rel if rel target rel return 1return 0
def test bc fit ratio 'auto'bc Balance Cascade ratio ratio random state RND SEED bc X Y assert equal bc c  0 assert equal bc c  1 assert equal bc c [0] 8 assert equal bc c [1] 12
def Create Upload Session creation success path user max bytes per blob max bytes total bucket name None entity datastore Entity  UPLOAD SESSION KIND namespace '' entity dict {'creation' creation 'success path success path 'user' user 'state' 'init' 'max bytes per blob max bytes per blob 'max bytes total max bytes total bucket name entity dict bucket name bucket nameentity entity dict datastore Put entity return str entity 
def format acl version 1 **kwargs if version 1 return format acl v1 groups kwargs 'groups' referrers kwargs 'referrers' header name kwargs 'header name elif version 2 return format acl v2 kwargs 'acl dict raise Value Error 'nvalid A C Lversion %r' % version 
def get redis **kwargs redis cls kwargs 'redis cls defaults R E D I S CLS url kwargs 'url' None if url return redis cls url url **kwargs else return redis cls **kwargs
def get mod func callback try dot callback u except Value Error return callback u return callback dot callback dot + 1 ]
def get file lines path data get file content path if data ret data else ret []return ret 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def get organization organization id if not organizations enabled return []from organizations import api as organizations apireturn organizations api organization organization id 
def parse mapping fileobj filename None extractors {}method map []options map {}parser Raw Config Parser parser sections odict parser sections parser fileobj filename for section in parser if section 'extractors' extractors dict parser section else method pattern [part.strip for part in section ' ' 1 ]method map pattern method options map dict parser section if extractors for idx pattern method in enumerate method map if method in extractors method extractors map pattern method return method map options map 
def write fd data return Write Event fd data 
def make url for lib key if isinstance key Library Locator key unicode key return LIBRARY REST URL + key 
def generate tokens readline try for token in tokenize2 tokens readline yield token except tokenize2 Token Error return 
def dump neigh entries ip version device None namespace None **kwargs return list privileged neigh entries ip version device namespace **kwargs
def sampling P condition given condition None numsamples 1 evalf True **kwargs count true 0count false 0samples sample iter condition given condition numsamples numsamples **kwargs for x in samples if x ! True and x ! False raise Value Error 'onditionsmustnotcontainfreesymbols if x count true + 1else count false + 1result S count true / numsamples if evalf return result else return result 
def get image vm  vm image config cloud config value 'image' vm    opts   .encode 'ascii' 'salt-cloud-force-ascii' images avail images for key value in images if vm image and vm image in images images return images Salt Cloud Not Found "hespecifiedimage '{0}' couldnotbefound vm image 
def load tests loader tests pattern suite unittest Test Suite test names loader Test Case Names Module Test for module in iter modules suite Tests [odule Test name module for name in test names return suite 
def Get Level return  Level 
def get full index route None app None if not frappe map from frappe import get pageschildren map {}pages get pages app app for route page info in pages parent route os route children map parent route [] .append page info if frappe docs page info u route children in children map page info pages page info new children []page info u name in page info child route page info + u + name if child route in pages new children pages route for c in children if c not in new children new children c children map new childrenfrappe map children mapreturn frappe map 
def test option w unset pyi builder pyi builder source "\nimportsys\nassert'ignore'notinsys.warnoptions\n"
def render live params runner parameters action parameters params action context G  create graph action context [ process G name value for name value in six params ] process defaults G [action parameters runner parameters  validate G context  resolve dependencies G live params  cast params from params context [action parameters runner parameters return live params 
def  use inf as null key from pandas import get optionflag get option key if flag globals [' isnull  isnull oldelse globals [' isnull  isnull new 
def sz margins start None end None retry count 3 pause 0.001 data pd Data Frame if start is None and end is None end du start du last week if start is None or end is None ct write msg rv M A R SZ HZ MSG2 return Nonetry date range pd range start start end end freq 'B' if len date range > 261 ct write msg rv M A R SZ HZ MSG else ct write head for date in date range data data  sz hz str date retry count pause except ct write msg ct D A T A INPUT ERROR MSG else return data 
def export stats project request project obj get project request project data get project stats obj return export response request 'stats-%s.csv' % obj 'language' 'code' 'total' 'translated' 'translated percent 'total words 'translated words 'words percent data 
def get nom val atrv r nominal re '{ .+ }' m r nominal atrv if m return tuple i for i in m 1 .split ' ' else raise Value Error 'hisdoesnotlooklikeanominalstring 
def translate s table deletions '' return s table deletions 
def get users with perms obj ctype Content Type for model obj permissions {}PERMISSIONS TO FETCH ADMIN PERMISSIONS + LAYER ADMIN PERMISSIONS for perm in Permission codename  in PERMISSIONS TO FETCH content type id ctype permissions perm model get user obj perms model obj users with perms user model object pk obj content type id ctype permission id  in permissions .values 'user id 'permission id users {}for item in users with perms if item id in users users id permissions id else users id [permissions[item['permission id {}for profile in get user model .objects.filter id  in users profiles users profiles 
def format to httpie context method None cmd ['http'] +  extract httpie options context quote True join key value True if method cmd method cmd context cmd +  extract httpie request items context quote True return ''.join cmd + '\n'
def getcwd cwd os if is win and is py2 try unicode cwd except Unicode Decode Error try import win32apicwd win32api Get Short Path Name cwd except Import Error passreturn cwd 
def  rankdata a method 'average' if method ! 'max' raise Not Implemented Error unique all inverse np a return inverse True count bincount inverse minlength unique all cum count count rank cum count rank 
def confirm vote message object description vote direction if vote direction 'clear' message 'onfirmclearingyourvotefor message 'onfirm % vote direction return message % escape object description 
def get user by email email try return Email Address email  iexact email .userexcept Email Address Does Not Exist try User get user model return User email  iexact email except User Does Not Exist return None 
def  send email user id subject message from address configuration helpers value 'email from address settings D E F A U L T FROM EMAIL user User id user id user user subject message from address 
def  post logging setup config plugins cli args if config hooks hooks hooks config cli deprecation warning config logger 'certbotversion %s' certbot  version   logger 'rguments %r' cli args logger 'iscoveredplugins %r' plugins 
def match document topic None result key None result relative url '/ ah search result task queue 'default' result batch size DEFAULT RESULT BATCH SIZE result return document True from google import dbrequest prospective search pb Match Request if isinstance document db Model topic  get document topic document topic doc pb db to protobuf document if result return document request result python document class  doc class M O D E L elif isinstance document datastore Entity topic  get document topic document topic doc pb document To Pb if result return document request result python document class  doc class E N T I T Y else raise Document Type Error request topic topic request document .opy From doc pb if result key request result key result key request result relative url result relative url request result task queue result task queue request result batch size result batch size response prospective search pb Match Response  make sync call 'matcher' 'atch request response 
def error page namespace k v if k ! 'default' k int k cherrypy page v 
def route through array array start end fully connected True geometric True start end tuple start tuple end if geometric mcp class MCP Geometricelse mcp class M C Pm mcp class array fully connected fully connected costs traceback array m costs [start] [end] return m end costs 
def replace query param url key val scheme netloc path query fragment urlparse url query dict Query Dict query .copy query dict valquery query dict return urlparse scheme netloc path query fragment 
def encode string encoding None if type string is not ustr return stringreturn string encoding or u u 
def resource add path path if path in resource paths return Logger 'esource add % path resource paths path 
def get Rotation By Split Line split Line return complex split Line ' ' '' .replace ' ' ''
def test no exception exception app request response sanic endpoint test exception app assert response 200 assert response 'OK'
def convert Time Property model prop kwargs if prop now or prop now add return Nonereturn f Date Time Field format '%H %M %S' **kwargs
def Jitter values jitter 0.5 n len values return np - jitter + jitter n + values 
def redis is running try queue get queue Worker queue except Connection Error return Falsereturn True 
def asset type asset type choices 95 'asset' 100 'video' d100 random 0 100 for choice in asset type choices if d100 < choice return choice asset type choices -1 ][1]
def source url farm server id secret size if size 'small' img size 'n'elif size 'medium' img size 'c'elif size 'large' img size 'b'return 'https //farm{}.staticflickr.com/{}/{} {} {}.jpg'.format farm server id secret img size 
def lookahead n iterable for value in islice copy iterable n None return valueraise Index Error n 
def Handle Request Directly request client address Base H T T P Server H T T P Server request Http Server request client address 
@frappe.whitelist def get linked doctypes doctype return frappe .hget u doctypes doctype lambda  get linked doctypes doctype 
def tanh X return np X out X
def nova to osvif instance instance info objects info Instance Info uuid instance name instance if instance attr is set 'project id and instance id is not None info id instance idreturn info 
def flatten expr new new cls expr  class  args []for arg in expr if arg  class   cls args arg else args arg return new expr  class   *args
def detrend x order 1 axis -1 from scipy import detrendif axis > len x raise Value Error 'xdoesnothave%daxes' % axis if order 0 fit 'constant'elif order 1 fit 'linear'else raise Value Error 'ordermustbe0or1' y detrend x axis axis type fit return y 
def test elemwise collapse4 shape 4 5 a cuda ndarray Cuda Ndarray theano asarray numpy *shape dtype 'float32' a theano asarray numpy *shape dtype 'float32' a2 tcn constructor a 'a' a3 a2 'x' 0 1 'x' b tcn Cuda Ndarray Type False False False False c a3 + b + 2 f pfunc [b] [c] mode mode with gpu v theano asarray numpy 5 shape shape 4 dtype 'float32' v cuda ndarray Cuda Ndarray v out f v [0]assert numpy out a 1 shape shape 1 + v + 2
def convert to grayscale imlist for imname in imlist im Image imname .convert 'L' im imname 
def get per language stats project result []languages Translation subproject  project project .values list u flat True .distinct total 0total words 0for component in project set try translation component set [0]total + translation words + translation wordsexcept Index Error passfor language in Language pk  in languages data Translation language language subproject  project project .aggregate Sum u Sum u words translated data  sum words data words  sum Nonefor i data in enumerate result if translated > data pos ibreakvalue language translated total translated words total words if pos is not None result pos value else result value return result 
def execute java async classpath main jvm options None args None executor None workunit factory None workunit name None workunit labels None cwd None workunit log config None distribution None create synthetic jar True synthetic jar dir None runner  get runner classpath main jvm options args executor cwd distribution create synthetic jar synthetic jar dir workunit name workunit name or main return execute runner async runner workunit factory workunit factory workunit name workunit name workunit labels workunit labels workunit log config workunit log config 
def tensor shape tensor result []for d in xrange len tensor shape result tensor dim tensor d return result 
@api.errorhandlerdef default error handler error error Server Error return error dict getattr error 'code' 500
def  configure changes cfgred Truereasons []fun 'update config key in ['added' 'updated' 'removed']  updated changes changes key {} if not  updated changes continue location  updated changes 'location' ''  contact  updated changes 'contact' ''  community  updated changes 'community' {}  chassis id  updated changes 'chassis id '' if key 'removed' fun 'remove config ret   salt  ['snmp.{fun}'.format fun fun ] location  location contact  contact community  community chassis id  chassis id commit False cfgred cfgred and  ret 'result' if not  ret 'result' and  ret 'comment' reasons  ret 'comment' return {'result' cfgred 'comment' '\n'.join reasons if reasons else '' }
def activity stream context stream type *args **kwargs if stream type 'model' stream type 'model actions not hasattr Action stream type raise Template Syntax Error 'ctionmanagerhasnoattribute %s' % stream type ctxvar kwargs 'as' 'stream' context getattr Action stream type *args **kwargs return ''
def attrsetter attr value return lambda method setattr method attr value or method 
def  get block summary totals course data block summary counts {}unique course counts {}for course in course data block counts course BLOCK COUNTS KEY for count label value in block counts unique 0if value > 0 unique 1if count label in block summary counts block summary counts label + valueunique course counts label + uniqueelse block summary counts label valueunique course counts label uniquereturn block summary counts unique course counts 
@hug.default input format 'application/made-up' apply globally True def made up formatter global data return data 
def seed target indices seeds targets seeds np seeds .ravel targets np targets .ravel n seeds len seeds n targets len targets indices np [np.tile i n targets for i in seeds np targets n seeds return indices 
def  get kernel context return  kernel context 
def  parse snippet line lines filename start line index lines index trigger description head tail line 'snippet' ].lstrip content ''while True next line lines if next line is None breakif next line and not next line ' DCTB ' breakline next lines if line ' DCTB ' line line ]content + linecontent content -1 ]return 'snippet' Snip Mate Snippet Definition trigger content description '%s %i' % filename start line index 
def  get page links page numbers current url func page links []for page number in page numbers if page number is None page link PAGE B R E A Kelse page link Page Link url url func page number number page number is active page number current is break False page links page link return page links 
def  private Cert From Paths certificate Path key Path if certificate Path is None return Nonecert Bytes File Path certificate Path .ontent if key Path is None return Private Certificate P E M cert Bytes else return Private Certificate Certificate And Key Pair Certificate P E M cert Bytes Key Pair File Path key Path .ontent 1
def cleanup subject subject str if subject str is None return ''cleanup regexp ' ?i ^ re \\s* +'return re cleanup regexp '' subject str 
@webob.dec.wsgify@microversion.version handler 1.2 @util.check accept 'application/json' def list resource classes req context req objects Resource Class List all context response req encodeutils utf8 jsonutils  serialize resource classes req rcs response type 'application/json'return response 
def dblint xa xb ya yb tck tx ty c kx ky tckreturn dfitpack tx ty c kx ky xa xb ya yb 
def is model registered app label model name try apps registered model app label model name except Lookup Error return Falseelse return True 
def  is best match class1 class2 format classes return class1 is class2 or issubclass class1 class2 and class1 not in {cls for fmt cls in format classes 
def set app global key value key value process app global key value setattr app globals key value 
def set Decoder Path decoder path paths []paths.append decoder path for root dirs files in os decoder path [dirs.remove d for d in dirs if d '.' ]for d in sorted dirs paths os root d return paths 
def test mpl preserve font size f create figure width height f width height s mplhooks to tight array f 0.5 * width 0.5 * height True exp FONT S I Z Eobs matplotlib Params f assert exp obs 
def test unbalanced exception try tokenize ' bar ' assert True is False except Lex Exception passtry tokenize ' baz ' assert True is False except Lex Exception pass 
def  dict pprinter factory start end basetype None def inner obj p cycle typ type obj if basetype is not None and typ is not basetype and typ  repr   ! basetype  repr   return p typ  repr   obj if cycle return p '{...}' step len start p group step start keys obj if not p seq length and len obj > p seq length try keys sorted keys except Exception passfor idx key in p enumerate keys if idx p ' ' p p key p ' ' p obj p group step end return inner 
def split trailing whitespace word stripped length len word return word stripped length word length ]
def get module constant module symbol default -1 paths None try f path suffix mode kind find module module paths except Import Error return Nonetry if kind PY COMPILED f 8 code marshal f elif kind PY FROZEN code imp frozen object module elif kind PY SOURCE code compile f path 'exec' else if module not in sys imp module module f path suffix mode kind return getattr sys symbol None finally if f f return extract constant code symbol default 
def skip backend unsupported reason def decorator test method '\n paramtest method Thetestmethodthatshouldbeskipped test method def wrapper test case *args **kwargs backend get dataset backend test case if backend in unsupported raise Skip Test 'ackendnotsupported {backend} {reason} .'.format backend backend reason reason return test method test case *args **kwargs return wrapperreturn decorator 
def plugin return Bracket Remove 
def output string  context + str string 
def  check thicknesses surfs for surf 1 surf 2 in zip surfs -1 ] surfs ] min dist  compute nearest surf 1['rr'] surf 2['rr'] return dists True [0]min dist min dist logger 'heckingdistancebetween %  surf name 1['id']]  surf name 2['id']] logger 'inimumdistancebetweenthe %  surf name 1['id']]  surf name 2['id']] 1000 * min dist 
def test nm2 sample wt fit ratio 'auto'nm2 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS assert raises Runtime Error nm2 X Y
def normalize uri uri encoding 'utf-8' normalized reference U R I Reference string uri encoding .normalize return normalized reference 
def list keypairs call None if call ! 'function' log 'helist keypairsfunctionmustbecalledwith return Falsefetch Truepage 1ret {}while fetch items query method 'account/keys' command '?page ' + str page + '&per page 100' for key pair in items keys name key pair name in ret raise Salt Cloud System Exit "duplicatekeypairname '{0}' wasfoundin Digital Ocean Pleasechangethekeynamestoredby Digital Ocean Besuretoadjustthevalueof key file ifnecessary name ret {}for item in six key pair ret str key pair page + 1try fetch 'next' in items except Key Error fetch Falsereturn ret 
def test meta config from pygal import CONFIG I T E M Sassert all c ! 'nbound for c in CONFIG ITEMS
def loose mock request name None **kwargs if name is None name request Mock name name **kwargs
def is subclass at all cls class info try return issubclass cls class info except Type Error return False 
def  To Local Path toplevel dir path if path toplevel dir return ''if path toplevel dir + '/' return path len toplevel dir + len '/' ]return path 
def pr import prep data db current current record owner current set record ownerupdate super s3db supertable s3db organisation resource tree dataelements tree .xpath "/s3xml//resource[@name 'pr contact 'pe id looked up {}for element in elements org element not org continueif org in looked up element looked up db table org .select table id limitby 0 1 .first if not record record id table **{'name' org update super table Storage id record id set record owner table record id record db table record id .select table id limitby 0 1 .first pe id record idelement str pe id looked up pe id 
def sdk normalize filename if filename 'eveloper S D Ks pathcomp filename '/' del pathcomp 4]filename '/'.join pathcomp return filename 
def symbology s symbols sorted ord c for c in s current charset 0char tally Counter for symbol in symbols while CHARSET R A N G E S charset < symbol current charset + 1if CHARSET R A N G E S charset < symbol name CHARSET R A N G E S charset name 'nknown tally + 1return char tally 
def dump pyopenssl chain chain filetype Open S S L F I L E T Y P E PEM def  dump cert cert if isinstance cert jose Comparable X509 cert cert Open S S L certificate filetype cert return ''.join  dump cert cert for cert in chain 
def dup content f K from sympy import Q Qif not f return K K K QQ for c in f cont K cont c else for c in f cont K cont c if K one cont breakreturn cont 
def dmp eval in f a j u K if j < 0 or j > u raise Index Error '0< j %sexpected got % u j return  rec eval in f a u 0 j K
def default on success request identity url openid response **kwargs request from openid response openid response return Http Response Redirect clean next request G E T 'next'
def nose config and run argv None env None ignore files [] plugins None if env is None env os plugins is None plugins nose Default Plugin Manager if argv is None argv sys config nose Config env os ignore Files ignore files plugins plugins test config Plugin Structured Test Data Plugin test config argv result run test config success result Successful return success 
def gpi iterator handle inline handle if inline '!gpi-version 1.1' return  gpi11iterator handle elif inline '!gpi-version 1.0' return  gpi10iterator handle elif inline '!gpi-version 2.1' return  gpi20iterator handle else raise Value Error 'nknown G P Iversion inline 
def  coo gen triples A row col data A A A return zip row col data 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def tk window focus if rc Params ! u Tk Agg return Falsereturn rc Params focus 
def register for indexing app sender class instance to indexee  identity m2m False def maybe call method instance is raw method name 'allan un indexingmethodoninstanceifappropriate instance to indexee instance if obj is not None and not is raw getattr obj method name def update sender instance **kw 'ileanadd call method instance kw 'raw' 'index later def delete sender instance **kw 'ilearemove call method instance kw 'raw' 'unindex later def indexing receiver signal signal name 'eturnaroutinethatregisterssignalhandlersforindexers Thereturnedregistrationroutineusesstrongrefs makesupa uid anduses class receiver signal sender sender class dispatch uid '%s.%s.elastic.%s' % app sender class  name   signal name weak False if m2m indexing receiver m2m changed 'm2m changed update else indexing receiver post save 'post save update indexing receiver pre delete 'pre delete delete if instance to indexee is  identity else update 
def prepare exec for file filename module []if os filename [1] '  init  .py' filename os filename elif filename '.py' filename filename -3 ]else raise No App Exception 'hefileprovided %s doesexistbutisnotavalid Pythonfile Thismeansthatitcannotbeusedasapplication Pleasechangetheextensionto % filename filename os filename dirpath filenamewhile 1 dirpath extra os dirpath module extra if not os os dirpath '  init  .py' breaksys 0 dirpath return '.'.join module -1 ]
def silent call cmd return subprocess cmd stderr subprocess P I P E stdout subprocess P I P E 
@ssl required csrf required http methods ['GET' 'POST'] def user auth request contributor False register form None login form None next url get next url request or reverse 'home' if login form is None login form Authentication Form if register form is None register form Register Form return render request 'users/auth.html' {'login form login form 'register form register form 'contributor' contributor 'next url next url 
def find meta property obj name meta obj Object index meta Of Property name if index -1 raise Attribute Error '%sdoesnohaveapropertynamed%r.' % meta Name name return meta index 
def synonyms word2nums num2words word keys word2nums set for key in keys syns syns num2words if word in syns syns word return sorted syns 
def Header Print M U A Details message mta None details []for header in MUA ID HEADERS value message header if value value ''.join [v for v in HP MUA ID S P L I T value if not HP MUA ID I G N O R E v ] details [header value ] if not details if mta and mta 'eceivedbygoogle details [uessed ' Mail elif 'x-ms-tnef-correlator' in message or 'x-ms-has-attach' in message details [uessed 'xchange elif '@mailpile' in message 'message-id' '' details [uessed 'ailpile return details 
def list routers profile None conn  auth profile return conn routers 
def award type mode session prep r if mode is not None auth return Trues3 prepoutput s3 rest controller return output 
@register.inclusion tag engine template 'inclusion.html' def inclusion one param from template arg return {'result' 'inclusion one param from template Expectedresult %s' % arg }
def colgen *lstcol **kargs if len lstcol < 2 lstcol * 2trans kargs 'trans' lambda x y z x y z while 1 for i in range len lstcol for j in range len lstcol for k in range len lstcol if i ! j or j ! k or k ! i yield trans lstcol i + j % len lstcol ] lstcol j + k % len lstcol ] lstcol k + i % len lstcol ]
def black hole queue def  ignore msg print 'gnoringmsg %r' % msg consume items queue  ignore 
def initial form data {}for name field in form if form bound data form data form name field if isinstance field forms Boolean Field val field python data if not val del data data 
def  gpg return salt 'gpg'
def  ensure annotations dashboard if 'annotation tags not in dashboard returntags dashboard tags {'enable' True 'list' []}for tag in tags annotations {'datasource' 'graphite' 'enable' False 'olor '#C0C6BE' 'ize 13 'olor 'rgba 255 96 96 0.592157 ' 'name' tag 'ine True 'tags' tag del dashboard tags annotations 
def hijack translation translation for language lambda lang code True trans real for language lambda lang code True translation language from request get language from requesttranslation language bidi get language bidi 
def  iterate sparse X X n samples X X indices X X data X X indptr X i in xrange n samples row np X startptr endptr X indptr X indptr i + 1 ] nonzero indices X indices endptr indices X data endptr yield row 
def isstdin if not  state raise Runtime Error 'noactiveinput ' return  state 
def get course run course key user catalog integration Catalog Integration if catalog integration api create catalog api client user catalog integration data get edx api data catalog integration user 'course runs resource id unicode course key cache key catalog integration C A C H E KEY if catalog integration cache enabled else None api api querystring {'exclude utm 1} return data if data else {} else return {}
def  preferred string value1 value2 if value1 value2 return value1if value1 and not value2 return value1if not value1 and value2 return value1if not value1 and value1 and not value2 return value1if  count title words value1 >  count title words value2 return value1return value2 
@command 'reverse' def reverse songs g g -1 ]g.message c + 'everseddisplayedsongs + c g content songlist display 
def  range prod lo hi if lo + 1 < hi mid hi + lo // 2 return  range prod lo mid *  range prod mid + 1 hi if lo hi return loreturn lo * hi 
def time tensorflow run session target info string num steps burn in 10total duration 0.0total duration squared 0.0for i in xrange F L A G S batches + num steps burn in start time time _ session target duration time - start time if i > num steps burn in if not i % 10 print '%s step duration %.3f' % datetime i - num steps burn in duration total duration + durationtotal duration squared + duration * duration mn total duration / F L A G S batches vr total duration squared / F L A G S batches - mn * mn sd math vr print '%s %sacross%dsteps %.3f+/-%.3fsec/batch' % datetime info string F L A G S batches mn sd 
def  setup args info coils  create meg coils info 'normal' info head t int rad noise lut fun n fact  setup dots 'fast' coils 'meg' my origin np [0.0 0.0 0.04] args dict dict intrad int rad volume False coils1 coils r0 my origin ch type 'meg' lut lut fun n fact n fact return args dict 
def libvlc audio equalizer get preset count f  Cfunctions 'libvlc audio equalizer get preset count None or  Cfunction 'libvlc audio equalizer get preset count None ctypes uint return f 
@support nddatadef block reduce data block size func np from skimage import block reducedata np data block size np 1d block size if data > 1 and len block size 1 block size np block size data if len block size ! data raise Value Error u size block size np [int i for i in block size size resampled np data // block size size init size resampled * block size for i in range data if data ! size init data data 0 i data data size init data 0 i return block reduce data tuple block size func func 
def  optional argument default if argument is  unspecified return defaultelse return argument 
def skip if offline func @functools.wraps func def decorator *args **kwargs if context offline mode returnreturn func *args **kwargs return decorator 
def select command with arrows proc TIMEOUT  set confirmation proc True proc u assert proc [TIMEOUT u 'h'isnotagitcommand."] proc u assert proc [TIMEOUT u proc ' assert proc [TIMEOUT u proc ' assert proc [TIMEOUT u proc ' assert proc [TIMEOUT u proc ' assert proc [TIMEOUT u proc '\n' assert proc [TIMEOUT u 
def test teardown issue1649 testdir testpath testdir 'est Case Objects Should Be Cleaned Up unittest Test Case \p self \nself.an expensive object 1\ndeftest demo self \npass\n\n' testdir run '-s' testpath gc for obj in gc objects assert type obj .  name   ! 'est Case Objects Should Be Cleaned Up 
def exec pg environ env os if odoo host env P G H O S T odoo host odoo port env P G P O R T str odoo port if odoo user env P G U S E R odoo user odoo password env P G P A S S W O R D odoo password env 
def calc at content sequence d {}for nt in ['A' 'T' 'G' 'C'] d sequence nt + sequence nt at d 'A' 0 + d 'T' 0 if at 0 return 0return at * 1.0 / d G + d G + at 
def get poetry host port timeout d defer Deferred from twisted import reactorfactory Poetry Client Factory d timeout reactor T C P host port factory return d 
def scopes to string scopes if isinstance scopes six types return scopeselse return ''.join scopes 
def  Validate Exclusion Setting setting settings error msg stderr sys unrecognized Truem re  EXCLUDED SUFFIX RE setting if m root setting m 1 unrecognized root setting not in settings if unrecognized print >>stderr error msg 
def hexescape char hex repr hex ord char [2 ].upper if len hex repr 1 hex repr '0%s' % hex repr return '%' + hex repr 
def merge traces mtraces base mtrace mtraces new mtrace in mtraces ] for new chain strace in new mtrace straces if new chain in base mtrace straces raise Value Error 'hainsarenotunique base mtrace straces chain stracereturn base mtrace 
def sort by attr seq attr intermed map None map getattr seq attr * len seq xrange len seq seq intermed return map operator intermed -1 * len intermed 
def unico string if is python2 and not isinstance string unicode return unicode string encoding 'utf-8' errors 'replace' return string 
def import image src repo tag None client  get client status base status try ret client image src repository repo tag tag if ret image logs  info  parse image multilogs string ret  create image assemble error status status ret image logs if status is not False infos  get image infos image logs  valid status comment 'mage infos Id id  infos Id out ret else  invalid status except Exception  invalid status out traceback exc return status 
def test rgb to hsl part 0 assert rgb to hsl 255 0 0 0 100 50 assert rgb to hsl 255 255 0 60 100 50 assert rgb to hsl 0 255 0 120 100 50 assert rgb to hsl 0 255 255 180 100 50 assert rgb to hsl 0 0 255 240 100 50 assert rgb to hsl 255 0 255 300 100 50
def parse change values from opts opts change values {}for key in 'change ip 'change port 'change replication ip 'change replication port 'change device 'change meta value getattr opts key None if value if key 'change ip or key 'change replication ip value validate and normalize address value change values 'change ' '' ] valuereturn change values 
def noguess method method api Nonereturn method 
@njitdef  repeat 1d x K out N x L out // K * N for n in range N val x k in range K for l in range L ind k * N * L + n * L + l out val 
def  send request payload None session None stub sessionhost port stub 'https //{0}/sdk'.format host port logging 'ending payload url res requests url url data payload headers {ookie stub ' O A P Action 'urn vim25 'ontent Type 'application/xml'} verify False if res code ! 200 logging 'ailedtoresetalarm H T T P Status {0}'.format res code return Falsereturn True 
def use oslo logger vlog Vlog L O G Vlog L O G Vlog L O G Vlog L O G Vlog L O G 
@control command def pool restart state modules None reload False reloader None **kwargs if state pool restarts state modules reload reloader reloader return ok u else raise Value Error u Poolrestartsnotenabled 
def will write fn def  fn *a **kw if disallow db writes raise Cassandra Exception 'otsofast D Bwriteshavebeendisabled return fn *a **kw return  fn 
def auto delete files cls pre delete delete files for obj sender cls return cls 
def  convert to jsonc x if isinstance x dict jsonc obj Jsonc for key value in x jsonc obj dict  convert to jsonc value return jsonc objelif isinstance x list members []for item in x members  convert to jsonc item return memberselse return x 
def get Plugins Directory Path return archive Absolute Folder Path os   file   os 'skeinforge plugins 'analyze plugins 
def sm Status a Tp Pd pd 8 b Message Type mes Type 85 c Sm Cause packet a / b / c return packet 
def transfer Closest Path old Ordered Location remaining Paths skein closest Distance 1ath Noneold Ordered Location Complex old Ordered Location Axis 2 for remaining Path in remaining Paths distance min abs old Ordered Location Complex - remaining Path abs old Ordered Location Complex - remaining Path -1 ] if distance < closest Distance closest Distance distanceclosest Path remaining Pathremaining Paths closest Path skein Gcode From Thread Z closest Path old Ordered Location old Ordered Location closest Path -1 ]rdered Location closest Path -1 ].imag
def requires json api mimetype func @wraps func def new func *args **kw 'xecutes *args **kw ` S O N A P I http header `ontent Type request not in 'PATCH' 'POST' return func *args **kw header request 'ontent Type content type extra parse options header header content is json content type JSONAPI MIMETYPE is msie  is msie8or if not is msie and not content is json detail 'equestmusthave Content Type {0}"header'.format JSONAPI MIMETYPE return error response 415 detail detail if extra detail 'ontent Typeheadermustnothaveanymediatypeparametersbutfound extra return error response 415 detail detail return func *args **kw return new func 
def  initialize builtins for filename in os  handler dir if os  get yaml path filename ''  available builtins filename 
def  image type vda out   salt  ['cmd.run'] 'qemu-imginfo{0}'.format vda if 'fileformat qcow2 in out return 'qcow2'else return 'raw'
def get connected hosts session datastore host mounts session call method vutil 'get object property datastore 'host' if not hasattr host mounts 'atastore Host Mount return []connected hosts []for host mount in host mounts Datastore Host Mount connected hosts host mount return connected hosts 
def evaluate old assump pred return pred Transform  old assump replacer 
def get configuration options agent config options yaml load agent config Content validate configuration configuration configuration configuration 'port' 4524 path agent config configuration Certificate P E M path 'cluster.crt' .ontent configuration Node Credential path path 'node' return configuration 
def set standby timeout timeout power 'ac' scheme None return  set powercfg value scheme 'SUB SLEEP' 'STANDBYIDLE' power timeout 
def Standard Analyzer expression default pattern stoplist STOP WORDS minsize 2 maxsize None gaps False ret Regex Tokenizer expression expression gaps gaps chain ret | Lowercase Filter if stoplist is not None chain chain | Stop Filter stoplist stoplist minsize minsize maxsize maxsize return chain 
def has header headers name name name for header value in headers if header name return Truereturn False 
def parse rfc2822 date s date tuple parsedate s if date tuple is None return Nonereturn datetime *date tuple 6]
def PBKDF1 password salt dk Len count 1000 hash Algo None if not hash Algo hash Algo S H A1password tobytes password p Hash hash Algo password + salt digest p Hash sizeif dk Len > digest raise Type Error 'electedhashalgorithmhasatooshortdigest %dbytes .' % digest if len salt ! 8 raise Value Error 'altisnot8byteslong for i in xrange count - 1 p Hash p Hash p Hash return p Hash [ dk Len 
def  append Report Keys keys prefix results all Keys results all Keys for key in all Keys if hasattr results 'keys'  append Report Keys keys '%s%s ' % prefix key results else keys '%s%s' % prefix key 
def read plain boolean file obj count return read bitpacked file obj count << 1 1 logger Enabled For logging D E B U G 
def derived sequence graph deriv seq [graph]deriv interv []single node Falsewhile not single node interv graph interv heads intervals graph deriv interv interv heads single node len interv graph 1 if not single node deriv seq interv graph graph interv graphgraph rpo return deriv seq deriv interv 
def setup conf opts [tr Opt 'dhcp driver default 'nsmasq help _ 'hedriverusedtomanagethe D H C Pserver cfg Bool Opt 'force' default False help _ 'eletethenamespacebyremovingalldevices ]conf cfg C O N Fconf opts opts agent config root helper conf conf opts dhcp O P T S return conf 
def fk4 e terms equinox k 0.0056932k np k e earth equinox g earth lon of perigee equinox g np g o earth equinox algorithm 1980 o np o return e * k * np g - e * k * np g * np o - e * k * np g * np o 
def Text Parser *args **kwds kwds 'python'return Text File Reader *args **kwds
def get channel model dataset channel cost batch size monitor Monitor model monitor dataset dataset cost cost batch size batch size monitor channels monitor channels record channel record value val recordreturn value 
def isascii text try text u except Unicode Encode Error return Falsereturn True 
def reliable unpack names if sabnzbd W I N32 or sabnzbd D A R W I N return Trueelse return g U T F 
def add profiler name description None return models Profiler object name name description description .id
def  meijerint definite 2 f x dummy  dummy 'x' 'meijerint-definite2' f positive True f f x dummy x dummyif f 0 return S 0 True for g explanation in  guess expansion f x  debug 'rying explanation res  meijerint definite 3 g x if res return res 
def get conv gradweights shape image shape top shape border mode subsample filter dilation None nkern imshp image shape image shape ] nchan topshp top shape top shape ] if filter dilation is None filter dilation numpy len subsample dtype 'int' if isinstance border mode tuple out shp tuple get conv gradweights shape 1axis imshp topshp border mode subsample filter dilation for i in range len subsample else out shp tuple get conv gradweights shape 1axis imshp topshp border mode subsample filter dilation for i in range len subsample return nchan nkern + out shp 
def create folder root '.' folder None folder path os root folder if folder and not os folder path try os folder path except O S Error raise Cuckoo Operational Error 'nabletocreatefolder %s' % folder path 
def zen request project subproject lang translation get translation request project subproject lang search result unitdata get zen unitdata translation request if isinstance search result Http Response return search resultreturn render request u {u'object' translation u translation u unitdata u query search result u name search result u count len search result u section search result section u id search result id u search result u form search result u lock translation user request }
def eggs x y global fr stfr inspect st inspect p xq y / 0
def get net start ipaddr netmask net ipaddress network '{0}/{1}'.format ipaddr netmask strict False return str net address 
def gethist codetbl db request request sid request id db db user sid .select db user id .first .course idelif auth sid auth id auth idelse sid Nonecourse id Noneres {}if sid query codetbl sid & codetbl acid & codetbl id course id & codetbl ! None res acidres sidr db query .select orderby codetbl res [row.code for row in r [row.timestamp.isoformat for row in r 'application/json'return json res 
def  broadcast axis a b if a b return aelif a 1 return belif b 1 return aelse raise Value Error 'failedtobroadcast{0}and{1}'.format a b 
def get Text Lines text return text '\r' '\n' .split '\n'
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
@bdd.then bdd 'thejavascriptmessage"{message}"shouldbelogged' def javascript message logged quteproc message quteproc for js message 
def arccsc val return numpy 1.0 / val 
def new class from gtype gtype if gtype a P G Type name ' Object parent gtype parent is None or parent P G Type name 'void' returninterfaces [i.pytype for i in gtype tuple [parent] + interfaces cls type gtype bases dict cls  gtype   gtypereturn clselif gtype a P G Type name ' Enum from pgi import G Enum Basereturn G Enum Base 
def find User return os 'SUDO USER' False or quiet Run 'whoami' .split or [alse [0] or quiet Run 'whoami' .strip
def  get Deprecation Docstring version replacement None doc 'eprecatedin % get Version String version if replacement doc '%s;%s' % doc  get Replacement String replacement return doc + '.'
def cmd *args return ''.join str arg for arg in args if arg 
def sqllist lst if isinstance lst str return lstelse return ' '.join lst 
def make saucelabs desired capabilities desired capabilities settings S A U C E 'BROWSER' Desired Capabilities C H R O M E desired capabilities settings S A U C E 'PLATFORM' desired capabilities settings S A U C E 'VERSION' desired capabilities settings S A U C E 'DEVICE' desired capabilities settings S A U C E 'SESSION' desired capabilities settings S A U C E 'BUILD' desired capabilities Falsedesired capabilities Falsedesired capabilities Truedesired capabilities Truedesired capabilities '2.34.0'desired capabilities 3600desired capabilities 'publicrestricted'return desired capabilities 
def cumulant from moments momt n if n < 1 raise Value Error 'xpectedapositiveinteger Got % n if len momt < n raise Value Error '%s-thcumulantrequires%smoments onlygot % n n len momt kappa 0.0for p in  faa di bruno partitions n r sum k for m k in p term -1 ** r - 1 * factorial r - 1 for m k in p term * np momt m - 1 ] / factorial m k / factorial k kappa + termkappa * factorial n return kappa 
def members set option arg if arg is None return A L Lreturn set x for x in arg ' '
def dataset headers data encoding None dataset tablib Dataset if headers dataset encode row headers encoding for row in data dataset encode row row encoding return dataset 
def extract messages from code code is py False try code render include code except Template Error Import Error Invalid Include Path passmessages []messages + [ m m [0] for m in re u \\ " [^"]* "' .finditer code ]messages + [ m m [0] for m in re u \\ ' [^']* '" .finditer code ]if is py messages + [ m m [0] for m in re u \\ "{3} [^"]* "{3}.*\\ ' .finditer code ]messages [ pos message for pos message in messages if is translatable message ]return pos to line no messages code 
def alias delete indices aliases hosts None body None profile None es  get instance hosts profile try result es alias index indices name aliases if result 'acknowledged' False return Trueexcept elasticsearch Not Found Error return Nonereturn None 
def get detail request project subproject checksum subproject get subproject request project subproject units Unit checksum checksum translation  subproject subproject try source units infoexcept Index Error raise Http404 'onexistingunit check flags [ C H E C K S string C H E C K S for x in C H E C K S flags [ x EXTRA F L A G S for x in EXTRA F L A G S render request 'js/detail.html' {'units' units 'source' source 'project' subproject 'next' request G E T 'next' '' 'priority form Priority Form initial {'priority' source 'check flags form Check Flags Form initial {'flags' source flags 'screenshot form Screenshot Upload Form instance source 'extra flags extra flags 'check flags check flags 
def im resize maxwidth path in path out None path out path out or temp file for path in log u Image Magickresizing util path path in util path path out try util output ['convert' util path in prefix False '-resize' '{0}x^>'.format maxwidth util path out prefix False ] except subprocess Called Process Error log u I Mconvertfailedfor util path path in return path inreturn path out 
def patch flush fsync db obj def always fsync ind obj def  inner ind obj flush ind obj return  innerfor index in db obj setattr index 'orig flush index setattr index 'flush' always fsync index setattr db obj 'orig flush db obj setattr db obj 'flush' always fsync db obj return 
def on doctype update if not frappe u Default Value DCTB DCTB where Key name "defaultvalue parent defkey index frappe frappe u Default Value DCTB DCTB DCTB addindexdefaultvalue parent defkey index parent defkey ' if not frappe u Default Value DCTB DCTB where Key name "defaultvalue parent parenttype index frappe frappe u Default Value DCTB DCTB DCTB addindexdefaultvalue parent parenttype index parent parenttype '
def format options as lines options option lines []option fields str options .split ' ' for field in option fields option lines str field .strip '{' .strip '}' return option lines 
def Get Wsdl Namespace version return 'urn ' + service Ns Map 
def serialize A if isinstance A str return 0 A if isinstance A numpy dt A not dt or dt < 1 or dt > len data Type return DATATYPE UNKNOWN None ft data Type ft -1 return DATATYPE UNKNOWN None if A C CONTIGUOUS'] return ft str A AC A 'C' return ft str A C if isinstance A int return DATATYPE INT32 struct 'i' A if isinstance A float return DATATYPE FLOAT64 struct 'd' A return DATATYPE UNKNOWN None 
def convert date input date to convert if date to convert try converted date datetime date to convert ' except raise Invalid Date Format return converted dateelse return date to convert 
def import module name required True try   import   name globals locals [] except Import Error if not required and module not found return Noneraisereturn sys 
def survey get All Translations For Template template id table current translaterow current table id template id .select return row 
def is gm id s return re gm id regex s is not None 
def bootstrap trees msa times tree constructor msas bootstrap msa times for aln in msas tree tree constructor tree aln yield tree 
def append slash redirect environ code 301 new path environ P A T H I N F O '/' + '/' query string environ 'QUERY STRING' if query string new path + '?' + query string return redirect new path code 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def pad num n 2 sign False s unicode abs num if len s < n s '0' * n - len s + s if not sign return sif num > 0 return '+' + s else return '-' + s 
def get Dft Bins data None sample Rate None low 100 high 8000 chunk 64 if data is None data []bins []i chunkif sample Rate  junk freq get Dft data chunk sample Rate band freq > low & freq < high while i < len data magn get Dft data i - chunk i if sample Rate bins np magn else bins np magn i + chunkreturn np bins 
def parse autostep rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--autoscreenshot' dest 'autoscreenshot' action 'store' args clean args vars parser args rules parser Nonereturn args 
def trained return s3 rest controller 
def p struct declarator 3 t pass 
@util.decoratordef  generative fn *args **kw self args generate fn self *args[1 ] **kw return self 
def get Privacy Lists disp try dict {'lists' []}resp disp Send And Wait For Response Iq 'get' NS PRIVACY if not is Result Node resp returnfor list in resp Query Payload if list Name 'list' dict list Attr 'name' else dict Name ] list Attr 'name' return dictexcept pass 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def pcap name devname try pcap name ifaces name devname except Value Error pcap name Nonereturn pcap name 
def test write assert not getattr django conf 'FOOBAR' None 1234 assets conf F O O B A R 1234assert django conf F O O B A R 1234
def clean Block Quoted Text text joiner '' L filter truth map  line Clean split text '\n' return joiner L
def wrapmodule module if  defaultproxy ! None module socksocketelse raise General Proxy Error 4 'noproxyspecified'
def image member delete context memb id session None session session or get session member ref  image member get context memb id session  image member delete context member ref session 
def  get return dict success True data None errors None warnings None data {} if data is None else data errors [] if errors is None else errors warnings [] if warnings is None else warnings ret {'success' success 'data' data 'errors' errors 'warnings' warnings ret 
def test root mean square error y real np [0.0 1.0 0.0 2.0 3.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert equals 0.0 root mean square error y real y pred y real np [3.0 1.0 2.0 1.0 1.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert almost equals 1.8973665961 root mean square error y real y pred 
def Pipe duplex True from multiprocessing import Pipereturn Pipe duplex 
def read channel model channel name monitor name 'monitor' return getattr model monitor name .channels[channel name record -1 ]
def get milestone number None name None repo name None profile 'github' output 'min' ret {}if not any [number name raise Command Execution Error "itheramilestone org name  get config value profile 'org name if repo name is None repo name  get config value profile 'repo name action '/'.join ['repos' org name repo name if number command 'milestones/' + str number milestone data  query profile action action command command milestone id milestone data 'id' if output 'full' ret id milestone dataelse milestone data 'creator' milestone data 'html url milestone data 'labels url ret id milestone datareturn retelse milestones get milestones repo name repo name profile profile output output for key val in six milestones if val 'title' name ret valreturn retreturn ret 
def make secret form instance secret fields None from django import get hexdigestif secret fields is None secret fields ['business' 'item name ''for name in secret fields if hasattr form instance 'cleaned data if name in form instance data data + unicode form instance data elif name in form instance data + unicode form instance elif name in form instance and form instance is not None data + unicode form instance secret get hexdigest 'sha1' settings S E C R E T KEY data return secret 
def job design migration for jar jd data json jd action Oozie Java Action action type Oozie Java Action A C T I O N TYPE jar path data main class 'please.specify.in.the.job.design' args data action design Oozie Design owner jd name jd + ' incomplete ' description jd root action action design 
def test json getsysinfo json sysinfo sys info 
def p expression uminus t t - t 
def validated parameter args name values None default None case sensitive False param args name if param param param else param defaultif not values return paramelse if values and param not in values list str ' '.join values raise Request Error "arameter %s" % name list str return param 
def  get deployment flavor flavor None if not flavor flavor C O N F deploy '' if not flavor else '-' + flavor 
def key not string d for k v in d if not isinstance k six types or isinstance v dict and key not string v return True 
def  dup zz gcd interpolate h x K f []while h g h % x if g > x // 2 g - xf 0 g h h - g // x return f 
def tmax a upperlimit None axis 0 inclusive True nan policy 'propagate' a axis  chk asarray a axis am  mask to limits a None upperlimit False inclusive contains nan nan policy  contains nan am nan policy if contains nan and nan policy 'omit' am ma invalid am res ma am axis .dataif res 0 return res ]return res 
def detect stream try json stream return Trueexcept Value Error return False 
def  stub armor s return s 'hex'
def send mail sender email recipient email subject plaintext body html body bcc admin False if not feconf M A I L G U N API KEY raise Exception 'ailgun A P Ikeyisnotavailable if not feconf M A I L G U N DOMAIN NAME raise Exception 'ailgundomainnameisnotset mailgun domain name 'https //api.mailgun.net/v3/%s/messages' % feconf M A I L G U N DOMAIN NAME if not feconf C A N SEND EMAILS raise Exception 'hisappcannotsendemailstousers data {'from' sender email 'to' recipient email 'subject' subject 'text' plaintext body 'html' html body bcc admin data feconf A D M I N EMAIL A D D R E S Srequests mailgun domain name auth 'api' feconf M A I L G U N API KEY data data 
def remove ids mul factor mmul mul coeff mmul result rm id lambda x x Identity is True mmul if result ! mmul return newmul factor *result.args else return mul 
def virtual position line col nbytes col2byte line col return line int eval 'virtcol [%d %d] ' % line nbytes 
def get hexdigest algorithm salt raw password raw password salt smart str raw password smart str salt if algorithm 'crypt' try import cryptexcept Import Error raise Value Error '"crypt"passwordalgorithmnotsupportedinthisenvironment' return crypt raw password salt if algorithm 'md5' return md5 constructor salt + raw password .hexdigest elif algorithm 'sha1' return sha constructor salt + raw password .hexdigest raise Value Error 'otunknownpasswordalgorithmtypeinpassword 
def bool from str val if not val return Falsetry return True if int val else False except Value Error return val 'true' or val 'yes' or val 'y'
def get repository metadata by changeset revision app id changeset revision sa session app metadata records sa session app Repository Metadata .filter and  app Repository Metadata id app id id app Repository Metadata revision changeset revision .order by app Repository Metadata time .all if len all metadata records > 1 for repository metadata in all metadata records ] sa session repository metadata sa session return all metadata records all metadata records return all metadata records None 
def Pseudo Breadcrumbs key path key path parts []for i in range 0 len path // 2 kind path i * 2 ]if isinstance kind unicode kind kind 'utf8' value path i * 2 + 1 ]if isinstance value int long parts '%s id %d' % kind value else if isinstance value unicode value value 'utf8' parts '%s name %s' % kind value return '>'.join parts 
def tab in leading s n len s - len s if not s n + 3 ] in ['...' '>>>'] check s n smore s n + 3 ]check s n + smore len smore - len smore ] return not check check 
def script vm  deploy script salt script config cloud config value 'script' vm    opts   vm    opts   salt config to yaml salt config   opts   vm  return deploy script 
def Get Config Binary Path Type aff4 path if not aff4 path Path .startswith '/config' returncomponents aff4 path Relative Name 'aff4 /config' .split '/' if components 'executables' and components in SUPPORTED PLATFORMS return ' R R Signed Blob components 'python hacks return ' R R Signed Blob return 
def handle command request command path request P O S T 'path' or request M E T A 'HTTP REFERER' or '/' if command 'edit on or command 'edit off set edit mode request command ' on return Http Response Redirect path 
def i32le c o 0 return unpack '<I' c o + 4 ] [0]
def  create titled group root key title out root group key out T I T L E titlereturn out 
@intercept errors User A P I Internal Error ignore errors [ser A P I Request Error @transaction.atomicdef create account username password email  validate username username  validate password password username  validate email email user User username username email email is active False user password password try user except Integrity Error raise Account User Already Existsregistration Registration registration user User Profile user user .save return registration key 
def make lupton rgb image r image g image b minimum 0 stretch 5 Q 8 filename None asinh Map Asinh Mapping minimum stretch Q rgb asinh Map rgb image image r image g image b if filename import matplotlib filename rgb origin u return rgb 
def store email strategy backend user social details **kwargs if u not in details or details is None raise Auth Missing Parameter backend u verified dummy Verified Email or create social social if verified ! details verified details 
def Buffer Is Visible For Filename filename buffer number Get Buffer Number For Filename filename False return Buffer Is Visible buffer number 
def check ownership request obj require owner False require author False ignore disabled False admin True if hasattr obj 'check ownership return obj ownership request require owner require owner require author require author ignore disabled ignore disabled admin admin return False 
def test gcrs itrs ra dec _ randomly sample sphere 200 gcrs GCRS ra ra dec dec obstime u J2000 gcrs6 GCRS ra ra dec dec obstime u J2006 gcrs2 gcrs to ITRS .transform to gcrs gcrs6 2 gcrs6 to ITRS .transform to gcrs assert allclose gcrs gcrs2 assert allclose gcrs gcrs2 assert not allclose gcrs gcrs6 2.ra assert not allclose gcrs gcrs6 2.dec gcrsc gcrs frame gcrs gcrsc Cartesian Representationgcrsc2 gcrsc to ITRS .transform to gcrsc assert allclose gcrsc gcrsc2 assert allclose gcrsc gcrsc2 
def generate client secret client secret generator oauth2 settings C L I E N T SECRET GENERATOR CLASS return client secret generator 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def  func Of Method method Object if  PY3 return method Object  func  return method Object func 
def p identifier list 2 t pass 
def format html html return html u u .replace u u 
def on slave report client id data stats + data 
def test derived cols from lists test data ds Chart Data Source data test data data dims 'y' 'x' assert ds ['a' 'b']
def get db connection path timeout 30 okay to create False try connect time time conn sqlite3 path check same thread False factory Green D B Connection timeout timeout if path ! ' memory ' and not okay to create stat os path if stat size 0 and stat ctime > connect time os path raise Database Connection Error path ' Bfilecreatedbyconnect conn factory sqlite3 Rowconn factory strconn ' R A G M Asynchronous NORMAL' conn ' R A G M Acount changes OFF' conn ' R A G M Atemp store MEMORY' conn ' R A G M Ajournal mode DELETE' conn function 'chexor' 3 chexor except sqlite3 Database Error import tracebackraise Database Connection Error path traceback exc timeout timeout return conn 
def  test number length against pattern possible re national number match fullmatch possible re national number if match return Validation Result I S P O S S I B L Esearch possible re national number if search return Validation Result T O O L O N Gelse return Validation Result T O O SHORT
def unauthenticated userid request return request userid 
def Read Roche Xml Manifest handle number of reads header length index offset index length xml offset xml size read index offset read index size  sff find roche index handle if not xml offset or not xml size raise Value Error 'o X M Lmanifestfound handle xml offset return  bytes to string handle xml size 
def  replace node node replace node prev node node parent node node node tail node or '' if isinstance replace node basestring if prev node is not None prev text prev node or '' prev node prev text + replace node + node tail elif parent node is not None parent text parent node or '' parent node parent text + replace node + node tail else replace node node tailnode replace node if parent node is not None parent node node 
def list elbs region None key None keyid None profile None return [e.name for e in get all elbs region region key key keyid keyid profile profile ]
def  Should Print Error category confidence linenum if Is Error Suppressed By Nolint category linenum return Falseif confidence <  cpplint state level return Falseis filtered Falsefor one filter in  Filters if one filter '-' if category one filter ] is filtered Trueelif one filter '+' if category one filter ] is filtered Falseelse assert Falseif is filtered return Falsereturn True 
def get data home data home None if data home is None data home os 'SEABORN DATA' os '~' 'seaborn-data' data home os data home if not os data home os data home return data home 
def filter protocol hostmap protocol 's' eligible []for host portmap in hostmap port portmap protocol if port eligible serialize server host port protocol return eligible 
def grad not implemented op x pos x comment '' return Null Type 'hisvariableis Nullbecausethegradmethodforinput %s ofthe % x pos x op comment 
def test freeze user script virtualenv virtualenv site packages Truescript install local '--user' 'simple 2.0' script install local 'simple2 3.0' result script 'freeze' '--user' expect stderr True expected textwrap 'simple 2 L A N K L I N E  check output result expected assert 'simple2' not in result 
def  is central object admin object list bundle user bundle not user authenticated return Falseelse for obj in object list if not user profile .has permission for object obj return Falsereturn True 
def fix parsed m if m is None return {'type' 'raw' 'data' []}if isinstance m basestring return {'type' 'raw' 'data' [ord b for b in m isinstance m packet base if not m u fix parsed m u type m  class  .  name  return ur {}for k v in fields of m primitives only False .iteritems if is scalar v r velif isinstance v I P Addr Eth Addr r str v if hasattr m 'payload' r fix parsed m if 'raw' in r del r 'next' in r del r m  class  .  name  return r 
def ipdocstring func if func  doc   is not None func  doc   ip2py func  doc   return func 
def  apparent position in true coordinates skycoord jd1 jd2 get jd12 skycoord u _ _ _ _ _ _ _ rbpn erfa jd1 jd2 return Sky Coord skycoord frame skycoord rbpn 
def set default interface etree global types ET modulest  get etree type etree  types set types or []  types [t] types tuple  types modules etree old ET ET etree return old 
def Make Pmf From Dict d label None return Pmf d label label 
def new dd object dsk  name meta divisions return  get return type meta dsk  name meta divisions 
def create profile when user created instance created raw *args **kwargs if created and not raw person p created Person or create user instance 
def add edit resources context request context 'request' if not request and could edit request and may inject context returnfrom . theme import get current themefrom .rendering import get view configview config get view config context theme get current theme request request if not theme returnadd resource context 'body end Inline Script Resource vars 'theme Editor Config {rl '/xtheme/' 'rl '/xtheme/editor/' 'dentifier theme 'ame view config name 'edit' is edit mode request 'oken get token request } add resource context 'body end staticfiles storage 'xtheme/editor-injection.js'
def null return Value Event None 
def accumulate from superclasses cls propname cachename '  cached all + propname if cachename not in cls  dict   s set for c in inspect cls if issubclass c Has Props and hasattr c propname base getattr c propname s base setattr cls cachename s return cls  dict  [cachename]
def aggregate host delete context aggregate id host I M P L host delete context aggregate id host 
@raises Type Error def test bootstrap noncallable non func 'mean'algo.bootstrap a norm 100 non func 
def log error message None title None get doc dict doctype u Error Log error str message or get traceback method title .insert ignore permissions True 
def test add accepts to naked function 3 def foo int 1 int 2 int 3 passt time for i in range 0 10000 accepts int 2 int int 1 int int 3 int foo return time - t 
def mock sign version id reviewer False version Version pk version id file obj version files reviewer path file obj reviewer file pathstorage private storageelse path file obj file pathstorage public storagecopy stored file file obj path path src storage private storage dst storage storage return path 
def is mapped class cls try sqlalchemy inspect cls except No Inspection Available return Falseelse return True 
def fire coroutine threadsafe coro loop ident loop  dict  .get ' thread ident if ident is not None and ident threading ident raise Runtime Error 'annotbecalledfromwithintheeventloop if not coroutines coro raise Type Error 'coroutineobjectisrequired %s' % coro def callback 'allbacktofirecoroutine future coro loop loop loop soon threadsafe callback return 
@functools.lru cache maxsize None def get callable lookup view if callable lookup view return lookup viewif not isinstance lookup view str raise View Does Not Exist "'%s'isnotacallableoradot-notationpath" % lookup view mod name func name get mod func lookup view if not func name raise Import Error "ouldnotimport Thepathmustbefullyqualified % lookup view try mod import module mod name except Import Error parentmod submod get mod func mod name if submod and not module has submodule import module parentmod submod raise View Does Not Exist "ouldnotimport Parentmodule % lookup view mod name else raiseelse try view func getattr mod func name except Attribute Error raise View Does Not Exist "ouldnotimport Viewdoesnotexistinmodule % lookup view mod name else if not callable view func raise View Does Not Exist "ouldnotimport Viewisnotcallable % mod name func name return view func 
def sub X M L H T M L S G M L Refs s return re everyentcharrefssub  repl All X M L Ref s 
def test wraps keep orig name def foo passassigned list functools W R A P P E R ASSIGNMENTS assigned u  name  ' def bar passorig bar barbar wraps foo assigned assigned bar assert bar is not orig bar assert bar  name   u 
def  atrun enabled return   salt  ['service.enabled'] 'com.apple.atrun'
def glom key count combine def conglomerate expr 'onglomeratetogetheridenticalargsx sift expr key counts dict k sum map count args for k args in groups newargs [combine cnt mat for mat cnt in counts ]if set newargs ! set expr return new type expr *newargs else return exprreturn conglomerate 
def remove refct calls func for bb in func blocks remove null refct call bb remove refct pairs bb 
def fakeprofiledloopbackblockdeviceapi for test test case allocation unit None return Fake Profiled Loopback Block Device A P I loopback blockdevice api loopbackblockdeviceapi for test test case allocation unit allocation unit 
def parse module module text filename ast compiler module text token parser Token Parser module text visitor Module Visitor filename token parser compiler ast visitor walker visitor return visitor 
@register.simple tag takes context True def diff chunk header context header lines of context context of context context chunk header > line expand offset line + chunk - header expandable Trueelse expand offset 0expandable Falsereturn  diff expand link context expandable u % escape header _ u Expandtoheader lines of context expand offset + lines of context u 
def  parse till closing brace stream rv ''in braces 1while True if Escape Char Token here stream '{}' rv + next stream + next stream else char next stream if char '{' in braces + 1elif char '}' in braces - 1if in braces 0 breakrv + charreturn rv 
def get default timezone name return  get timezone name get default timezone 
def collapsed Transitions Ts policy res zeros like Ts dim len Ts for ai ap in enumerate policy T res + Ts * repmat ap dim 1 .T return res 
def get Path Length path path Length 0.0for point Index in xrange len path - 1 first Point path Index Point path point Index + 1 ]ength + abs first Point - second Point return path Length 
def  netinfo freebsd netbsd ret {}out   salt  ['cmd.run'] 'sockstat-46{0}|tail-n+2'.format '-n' if   grains  ['kernel'] 'et B S D else '' python shell True for line in out user cmd pid _ proto local addr remote addr line local addr '.'.join local addr ' ' 1 remote addr '.'.join remote addr ' ' 1 ret local addr {} .setdefault remote addr {} .setdefault proto {} .setdefault pid {} ['user'] userret addr addr cmdreturn ret 
def fanout cast to server conf context server params topic msg return rpc amqp cast to server conf context server params topic msg rpc amqp connection pool conf Connection 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get model instance app label model name pk model apps model app label model name if not model return Nonetry instance model default manager pk pk return instanceexcept model Object Does Not Exist passreturn None 
def instance info cache get context instance uuid return I M P L info cache get context instance uuid 
def verbose loader filename screed iter clean input reads screed filename for num record in enumerate screed iter if num % 100000 0 log info u num num yield record 
def test blacklist all keyhint config stub key config stub config stub 'ui' 'keyhint-blacklist' ['*'] key config stub bindings for 'normal' Ordered Dict [ 'aa' 'cmd-aa' 'ab' 'cmd-ab' 'aba' 'cmd-aba' 'abb' 'cmd-abb' 'xd' 'cmd-xd' 'xe' 'cmd-xe' ] keyhint keyhint 'normal' 'a' assert not keyhint 
def fixed ip disassociate context address return I M P L ip disassociate context address 
def unit key  check obsolete key return physical constants 
def clean for iam name return re ' Za .@_-]+' '-' name 
def list items queue itemstuple  list items queue items [item[0] for item in itemstuple items 
def get Refresh Rate screen 0 if import Ctypes Failed return Falsescr I D get Screen screen mode cocoa C G Display Current Mode scr I D refresh C F cocoa C F Dictionary Get Value mode  create cfstring 'efresh Rate refresh ctypes long cocoa C F Number Get Value refresh C F k C F Number Long Type ctypes refresh if refresh 0 return 60else return refresh 
def  M S Build Only tool name setting type def  Translate value msbuild settings tool settings msbuild settings tool name {} tool settings value msbuild validators name setting type Validate M S Build msvs to msbuild converters name  Translate 
def config help name hidden False if hidden return argparse S U P P R E S Selse return interfaces I Config  doc  
@bdd.then bdd '"{pattern}"shouldnotbelogged' def ensure not logged quteproc pattern quteproc not logged message pattern 
def ordered dict factory colnames rows return [rdered Dict zip colnames row for row in rows 
def bitswap int n width n & 1 << width - 1 s bits str n endian 'little' .ljust width '0' [ width int s 2
def test wavelet denoising args img astronoisy img + 0.1 * np *img.shape for convert2ycbcr in [rue False for multichannel in [rue False for sigma in [0.1 [0.1 0.1 0.1] None if not multichannel and not convert2ycbcr or isinstance sigma list and not multichannel continuerestoration wavelet noisy sigma sigma convert2ycbcr convert2ycbcr multichannel multichannel 
def sympy to numpy m **options if not np raise Import Errordtype options 'dtype' 'complex' if isinstance m Matrix return np m dtype dtype elif isinstance m Expr if m Number or m Number Symbol or m I return complex m raise Type Error 'xpected Matrixorcomplexscalar got %r' % m 
def uri for  name  request None *args **kwargs request  request or get request return request request  name args kwargs 
def  transfer result fut1 fut2 exc fut1 exception if exc is not None tb fut1 traceback fut2 exception exc tb else val fut1 result fut2 result val 
def test postgresql from openid import sqlstoretry import psycopgexcept Import Error passelse db name get Tmp Db Name db user 'openid test create psycopg database 'template1' user db user host db host conn create cursor conn create cursor ' R E A T E D A T A B A S E % db name conn create conn test psycopg database db name user db user host db host store sqlstore Postgre S Q L Store conn test store Tables test Store store conn test import timetime 1 conn remove psycopg database 'template1' user db user host db host conn remove cursor conn remove cursor ' R O P D A T A B A S E % db name conn remove 
def  as truncated value if isinstance value  truncated label return valueelse return  truncated label value 
@jit nopython True cache True def next k array a k len a if k 0 return ax 0for i in range k x + 1 << a x next k combination x pos 0for i in range k while x & 1 0 x x >> 1 pos + 1a[i] posx x >> 1 pos + 1return a 
def  make spec test expected template context partials description test name file path file name os file path test method name 'ustachespec %s %s' % file name repr test name class Spec Test Spec Test Base passdef run test self self run Test setattr Spec Test test method name run test case Spec Test test method name case context contextcase description descriptioncase expected expectedcase file path file pathcase partials partialscase template templatecase test name test namereturn case 
def xml encode string string string '&' '&amp;' string string '<' '&lt;' string string '>' '&gt;' string string '"' '&quot;' string string SLASH '/' return string 
def  Sff Trim Iterator handle alphabet Alphabet dna return Sff Iterator handle alphabet trim True 
def dmp add f g u K if not u return dup add f g K df dmp degree f u if df < 0 return gdg dmp degree g u if dg < 0 return fv u - 1 if df dg return dmp strip [dmp add a b v K for a b in zip f g ] u else k abs df - dg if df > dg h f f k f ] else h g g k g ] return h + [dmp add a b v K for a b in zip f g ]
def Get Backends Yaml unused application backends xml str backend list Backends Xml Parser .rocess Xml backends xml str statements ['backends ']for backend in backend list statements + backend To Yaml return '\n'.join statements + '\n'
def match Set Strength match set target set sum 0.0for t in target set sum + max match Strength m t for m in match set return sum / len target set 
def Get E L B Instances By Health region node types None balancers Get Load Balancers region node types node types res defaultdict list for b in balancers for state in b instance health res state id return res 
def create Fill For Surroundings radius should Extra Loops Be Added surrounding Loops for surrounding Loop in surrounding Loops create Extra Fill Loops radius should Extra Loops Be Added surrounding Loop 
def bilinear kernel 2D ratio normalize True hkern bilinear kernel 1D ratio ratio normalize normalize .dimshuffle 'x' 0 vkern bilinear kernel 1D ratio ratio normalize normalize .dimshuffle 0 'x' kern hkern * vkern return kern 
def  qs for model cls return model cls created  gte date 2011 1 1 .extra select {'day' 'extract dayfromcreated ' 'month' 'extract monthfromcreated ' 'year' 'extract yearfromcreated '} .values 'year' 'month' 'day' .annotate count Count 'created'
def save filename None family 'ipv4' if  conf and not filename filename  conf family log 'avingrulesto filename parent dir os filename if not os parent dir os parent dir cmd '{0}-save'.format  iptables cmd family ipt   salt  ['cmd.run'] cmd if len  conf save filters > 0 ipt  regex iptables save ipt out   salt  ['file.write'] filename ipt return out 
def get comment app comments app get comment app name if comments app not in settings I N S T A L L E D APPS raise Improperly Configured 'he C O M M E N T S APP %r mustbein I N S T A L L E D APPS' % settings C O M M E N T S APP try package import module comments app except Import Error raise Improperly Configured 'he C O M M E N T S A P Psettingreferstoanon return package 
def associate qs assoc secret assoc handle q parse Query qs assert q 'associate' assert q type 'HMAC-SHA1' reply dict {'assoc type 'HMAC-SHA1' 'assoc handle assoc handle 'expires in '600'}if q 'openid.session type 'DH-SHA1' assert len q 6 or len q 4 message Message Post Args q session Diffie Hellman S H A1 Server Session Message message reply dict type ' H S H A1 assert len q 2 session Plain Text Server Session Query q reply dict session assoc secret return kvform To K V reply dict 
def local Outp images hid Sums targets num Modules X padding Start filter Size X module Stride num Img Colors num Groups 1um 0mages images Filters hid Sums / num Modules X ** 2 assert targets num Filters num Modules X ** 2 * num Img Colors * filter Size X ** 2 '%s%d%d-%d-%d' % targets  str   num Filters num Img Colors filter Size X filter Size X  Conv Net Outp images mat hid Sums mat targets mat num Modules X filter Size X - padding Start module Stride num Img Colors num Groups partial Sum 
def sysctl kernel key value None if value is not None utils one line '/proc/sys/kernel/%s' % key str value else out utils one line '/proc/sys/kernel/%s' % key return int re '\\d+' out .group 0
def  split string text m ITEM R E G E X text try parts m except Attribute Error warn 'annotparseheaderorfootersoitwillbeignored parts {'left' '' 'right' '' 'center' ''}return parts 
def filterwarnings action message '' category Warning module '' lineno 0 append 0 import reassert action in 'error' 'ignore' 'always' 'default' 'module' 'once' 'invalidaction %r' % action assert isinstance message basestring 'messagemustbeastring'assert isinstance category type types Class Type 'categorymustbeaclass'assert issubclass category Warning 'arningsubclass isinstance module basestring 'modulemustbeastring'assert isinstance lineno int and lineno > 0 'linenomustbeanint> 0'item action re message re I category re module lineno if append filters item else filters 0 item 
@jit 'void double ] double ] double ] ' nopython True nogil True def inner func nb result a b for i in range len result result math 2.1 * a + 3.2 * b 
def wang ryzin h Xi x Xi Xi Xi kernel value 0.5 * 1 - h * h ** abs Xi - x idx Xi x kernel value idx * 1 - h [idx]return kernel value 
def batch iterable batch size BATCH SIZE b []for i in iterable b i if len b batch size yield tuple b b []if b yield tuple b 
def  decompress source target delete after decompression True f in gzip source u f out open target u f out f in f out f in if delete after decompression os source 
def file from modpath modpath path None context file None if context file is not None context dirname context file else context context fileif modpath 'xml' try return  file from modpath [' xmlplus + modpath ] path context except Import Error return  file from modpath modpath path context elif modpath ['os' 'path'] return os  file  return  file from modpath modpath path context 
def trim cflags value return trim var 'CFLAGS' value 
def dump environ environ start response output []keys list environ keys for k in keys v str environ .replace '\n' '\n' output '%s %s\n' % k v output '\n' content length environ 'CONTENT LENGTH' '' if content length output environ int content length output '\n' output ''.join output if six P Y3 output output 'utf8' headers [ 'ontent Type 'text/plain' 'ontent Length str len output ]start response '200OK' headers return [output]
def p abstract declarator opt 2 t pass 
def load dataset dataset yml use test set print 'oadingdata dataset yaml parse dataset yml if use test set 'y' dataset dataset test set else assert use test set 'n' return dataset 
def match fuzzy needles haystack ignore case False threshold 0.6 end dir lambda path last os path if ignore case needle last needles .lower match percent lambda entry Sequence Matcher a needle b end dir entry .ratio else needle last needles match percent lambda entry Sequence Matcher a needle b end dir entry .ratio meets threshold lambda entry match percent entry > threshold return ifilter meets threshold haystack 
def add Path infill Width infill Paths path rotation Plane Angle simplified Path euclidean Simplified Path path infill Width if len simplified Path < 2 returnplane Rotated euclidean Points Round Z Axis rotation Plane Angle simplified Path infill Paths plane Rotated 
def duplicated values keep 'first' dtype values needs i8 conversion dtype values values np elif is period arraylike values from pandas import Period Indexvalues Period Index values .asi8elif is categorical dtype dtype values values isinstance values A B C Series A B C Index values values is signed integer dtype dtype values  ensure int64 values duplicated htable int64 values keep keep elif is unsigned integer dtype dtype values  ensure uint64 values duplicated htable uint64 values keep keep elif is float dtype dtype values  ensure float64 values duplicated htable float64 values keep keep else values  ensure object values duplicated htable object values keep keep return duplicated 
def Name Value List To Dict name value list result {}for item in name value list tokens item ' ' 1 if len tokens 2 try token value int tokens except Value Error token value tokens token valueelse result Truereturn result 
def format yaml dict yamldict type prefix yamldict type prefix + yamldict return yamldict 
def add To Profile Menu menu settings Tool Dialog .lugin To Menu menu archive Until Dot archive Skeinforge Plugins Path 'profile.py' menu separator directory Path skeinforge profile Plugins Directory Path plugin File Names skeinforge profile Plugin File Names craft Type Name skeinforge profile Craft Type Name profile Radio Var settings Tkinter String Var for plugin File Name in plugin File Names add Submenus craft Type Name menu plugin File Name os directory Path plugin File Name profile Radio Var 
def wire decode data def decode dictionary class name dictionary  CLASS MARKER None if class name u File Path return File Path dictionary u .encode 'utf-8' elif class name u P Map return pmap dictionary elif class name u U U I D return UUID dictionary elif class name u return datetime dictionary UTC elif class name in  CONFIG CLASS MAP dictionary dictionary dictionary  CLASS MARKER return  CONFIG CLASS M A P name dictionary else return dictionaryreturn loads data object hook decode 
def test topic move topic forum other Forum title 'est Forum2 category id 1 forum other forum old Forum by id topic id .first assert topic forum other assert forum old [] assert forum old post id is None assert forum old count 0 assert forum old count 0 assert forum other post id topic post id assert forum other count 1 assert forum other count 1
def is Alphanum c return c > 'a' and c < 'z' or c > '0' and c < '9' or c > 'A' and c < 'Z' or c '_' or c '$' or c '\\' or c is not None and ord c > 126
def Overlap Length left string right string left string length len left string right string length len right string if not left string length or not right string length return 0if left string length > right string length left string left string - right string length ]elif left string length < right string length right string right string left string length left string right string return min left string length right string length best 0length 1while True pattern left string - length ]found right string pattern if found < 0 return bestlength + foundif left string - length ] right string length best lengthlength + 1
def  check mat struct fname if not check version 'scipy' '0.12' raise Runtime Error 'scipy> 0 E G L A Bfiles from scipy import iomat io fname struct as record False squeeze me True if 'ALLEEG' in mat raise Not Implemented Error 'oadingan A L L E E Garrayisnotsupported Pleasecontactmne elif 'EEG' not in mat msg 'nknownarrayinthe Value Error msg 
def set logging format logging Config level logging I N F O format '% asctime s levelname s filename s % lineno s message s 
def ipv4 to str ip if isinstance ip int return addrconv to text struct '!I' ip else return addrconv to text ip 
def workspace registry xml parent data workspace X M L Sub Element xml parent 'scm' {'class' 'lone Workspace S C M X M L Sub Element workspace 'ob Name .text str data 'parent-job' '' criteria list [ny 'ot Failed 'uccessful data 'criteria' 'ny .title if 'criteria' in data and criteria not in criteria list raise Jenkins Jobs Exception 'clone-workspacecriteriamustbeoneof ' + ' '.join criteria list else X M L Sub Element workspace 'criteria' .text criteria 
def compute days since epoch day month year d datetime int year int month int day epoch datetime 0 return d - epoch .days
def apply Function Recursively value function if is List Like value ret Val [unction Recursively _ function for _ in value ret Val function value return ret Val 
def get cms course link course page 'course' return u settings C M S BASE page unicode course 
def video cv video import cvvideo video -1 ]image cv Create Image Header video video cv I P L DEPTH 8U 3 cv Set Data image video video * 3 * video return image 
def serialize html fragment el skip outer False assert not isinstance el basestring 'oushouldpassinanelement notastringlike % el html etree el method 'html' encoding  unicode if skip outer html html html '>' + 1 ]html html html '<' ]return html else return html 
def command from fabtools import package as require deb packagefrom fabtools import package as require rpm packagefrom fabtools import package as require portage packagefrom fabtools import distrib familyres run 'bzr--version' quiet True if res family distrib family if family 'debian' require deb package 'bzr' elif family 'gentoo' require portage package 'bzr' elif family 'redhat' require rpm package 'bzr' else raise Unsupported Family supported ['debian' 'redhat' 'gentoo']
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def floating ip bulk destroy context ips return I M P L ip bulk destroy context ips 
def get comment permalink comment anchor pattern None if anchor pattern return comment absolute url anchor pattern return comment absolute url 
def repr wrapper klass if six P Y2 if '  repr  ' not in klass  dict   raise Value Error "@repr wrappercannotbeappliedto  repr   ." % klass  name   klass repr klass  repr  klass  repr   lambda self encodeutils encode self repr return klass 
def render value in context value context value template localtime value use tz context tz value localize value use l10n context l10n value force text value if context and not isinstance value Safe Data or isinstance value Escape Data return escape value else return value 
def body string body dict prefix '' body list []for key value in sorted body dict if isinstance value list tuple for i arr in enumerate value if isinstance arr dict body list body string arr u key i else body list u {}\n'.format key i arr .encode 'utf-8' elif isinstance value dict body list body string value key + ' ' else if value is None value 'null'body list u {}\n'.format prefix key value .encode 'utf-8' return ''.join body list 
def is valid joint degree joint degrees degree count {}for k in joint degrees if k > 0 k size sum joint degrees / k if not k size integer return Falsedegree count k sizefor k in joint degrees for l in joint degrees if not float joint degrees .is integer return Falseif k ! l and joint degrees > degree count * degree count return Falseelif k l if joint degrees > degree count * degree count - 1 return Falseif joint degrees % 2 ! 0 return Falsereturn True 
def BM elements predicate expr assumptions return all ask predicate b assumptions for b in expr 
def  ensure regexp source n markers ' +~"\' [% ?!*^|&- ;/\\'k 0while True k + 1if n - k < 0 return Truechar source n - k ]if char in markers return Trueif char ! '' and char ! '\n' breakreturn False 
def illumina data to fastq record data number of bases None seq index 8qual index 9pass filter index 10try pass filter int record data filter index except Index Error pass filter 2if number of bases is None seq record data index '.' 'N' qual record data index seq record data index number of bases '.' 'N' qual record data index number of bases '%s %s %s %s %s %s#%s/%s' % record data record data record data record data record data record data record data record data return '@%s\n%s\n+\n%s' % header seq qual pass filter 
def  environment sanity check environment assert issubclass environment Undefined 'undefinedmustbeasubclassofundefinedbecausefiltersdependonit.'assert environment start string ! environment start string ! environment start string 'block variableandcommentstartstringsmustbedifferent environment sequence in '\r' '\r\n' '\n' 'newline sequencesettounknownlineendingstring environment 
def get object or none klass *args **kwargs queryset  get queryset klass try return queryset *args **kwargs except queryset Does Not Exist return None 
def hue permission required action app def decorator view func @wraps view func def decorated request *args **kwargs if not request hue permission action app raise Popup Exception _ 'ermissiondenied % action s app s .' % {'action' action 'app' app return view func request *args **kwargs return decoratedreturn decorator 
def set fonts self font set current settings pdf export font if font set try font name font set name bold font set current Font T T Font font name os folder 'static' 'fonts' '%s.ttf' % font name pdfmetrics Font T T Font font name bold os folder 'static' 'fonts' '%s.ttf' % font name bold except current 'ontnotfound Pleaseinstallittoseethecorrectfontsin P D Fexports % font set self name 'elvetica name bold 'elvetica Bold self name font nameself name bold font name boldelse self name 'elvetica name bold 'elvetica Bold 
@with setup reset def test new bundle b Bundle register 'foo' b 's2' 's3' assert b in  get 'foo' .contents register 'footon' 's1' assert 's1' in  get 'footon' .contents register 'foofighters' b output 'bar' assert b in  get 'foofighters' .contents
def get Cumulative Vector3 Remove default Vector3 element Node prefix if prefix '' default Vector3 evaluate Evaluated Float default Vector3 element Node 'x' default Vector3 evaluate Evaluated Float default Vector3 element Node 'y' default Vector3 evaluate Evaluated Float default Vector3 element Node 'z' euclidean Elements From Dictionary element Node ['x' 'y' 'z'] prefix 'ector3 evaluate Vector3 By Prefix default Vector3 element Node prefix euclidean Prefix From Dictionary element Node prefix return default Vector3 
def  get social page image url file attachments for file attachment in file attachments if file attachment u return file attachment absolute url return None 
def hash file filename return u //|file|%s|%d|%s|/' % os filename os filename hash filehash filename .upper
def send arrays socket arrays stop False if arrays arrays [numpy.ascontiguousarray array for array in arrays stop headers {'stop' True json headers else headers [header data from array 1 0 array for array in arrays json headers zmq S N D M O R E for array in arrays -1 ] socket array zmq S N D M O R E socket arrays -1 ]
def get redis from settings settings params defaults R E D I S P A R A M S params settings 'REDIS PARAMS' for source dest in SETTINGS PARAMS M A P val settings source if val params valif isinstance params 'redis cls six types params cls load object params cls return get redis **params
def create http method map resource method map {}for method in HTTP METHODS try responder getattr resource 'on ' + method except Attribute Error passelse if callable responder method map responderallowed methods sorted list method map if 'OPTIONS' not in method map opt responder responders default options allowed methods method map O P T I O N S opt responderallowed methods 'OPTIONS' na responder responders method not allowed allowed methods for method in HTTP METHODS if method not in allowed methods method map na responderreturn method map 
def get plug point class instances global pp class instancesif pp class instances is None pp class instances []pp classes []try slps resources env .get stack lifecycle plugins pp classes [cls for name cls in slps Exception L O G  LE 'failedtogetlifecycleplugpointclasses' for ppc in pp classes try pp class instances ppc except Exception L O G  LE 'failedtoinstantiatestacklifecycleclass%s' ppc try pp class instances sorted pp class instances key lambda ppci ppci ordinal except Exception L O G  LE 'failedtosortlifecycleplugpointclasses' return pp class instances 
def file has articles nzf has Falsedecodetable nzf articlenum in decodetable sleep 0.01 article decodetable Article Cache article article if data has Truereturn has 
def rmul expr lh op rh op size return lo Lin Op lo R M U L size [lh op rh op 
def resize async image data width 0 height 0 output encoding PNG quality None correct orientation UNCHANGED ORIENTATION crop to fit False crop offset x 0.5 crop offset y 0.5 allow stretch False rpc None transparent substitution rgb None image Image image data image width height crop to fit crop to fit crop offset x crop offset x crop offset y crop offset y allow stretch allow stretch image correct orientation correct orientation return image transforms async output encoding output encoding quality quality rpc rpc transparent substitution rgb transparent substitution rgb 
def dont use config in tempest lib logical line filename if 'tempest/lib/' not in filename returnif 'tempest.config' in logical line or 'fromtempestimportconfig' in logical line or 'oslo config in logical line msg 'T114 tempest yield 0 msg 
def decipher hill msg key symbols None assert key square msg _ A  prep msg '' symbols map {c i for i c in enumerate A }C [map[c] for c in msg N len A k key len C m r divmod n k if r C C + [0] * k - r m + 1key inv key mod N rv ''.join [A[ p % N ] for j in range m for p in list key inv * Matrix k 1 [ for i in range k * j k * j + 1 ] ] return rv 
def modbus context decoder mapping blocks blocks defaultdict dict for block in mapping blocks for mapping in block value int mapping address int mapping function mapping valuereturn Modbus Slave Context **blocks
def Define d flavor if flavor 'win' d d '#' '\\%03o' % ord '#' return Quote Shell Argument ninja syntax '-D' + d flavor 
def dict from int version int d {}rem version int rem d ver divmod rem 100 rem d divmod rem 10 rem d ver divmod rem 100 rem d divmod rem 10 rem d divmod rem 100 rem d divmod rem 100 rem d divmod rem 100 rem d divmod rem 100 d None if d else 'pre' d {0 'a' 1 'b'}.get d return d 
def test raises value error non sum one P np [[0.4 0.6] [0.2 0.9]] assert raises Value Error Markov Chain P assert raises Value Error Markov Chain sparse matrix P
def mp from ids s3server mp id mp keyname mp bucketname if s3server conn boto s3 aws access key id s3server key aws secret access key s3server key is secure s3server secure host s3server port s3server calling format boto Ordinary Calling Format path s3server path else conn S3 Connection s3server key s3server key bucket conn mp bucketname mp boto Multi Part Upload bucket mp name mp keynamemp mp idreturn mp 
def  lazy re compile regex flags 0 def  compile if isinstance regex str return re regex flags else assert not flags 'flagsmustbeemptyifregexispassedpre-compiled'return regexreturn Simple Lazy Object  compile 
def run  task 
def evennia version version 'nknown import evenniaversion evennia  version  except Import Error passtry rev check output ' E A D shell True cwd EVENNIA ROOT stderr STDOUT .strip version '%s rev ' % version rev except I O Error Called Process Error passreturn version 
def get valid salt views ret {}ret['minions'] {}ret['minions']['map'] 'function doc {emit doc null ;}'ret['minions']['reduce'] 'function keys values rereduce {returnkey[0];}'ret['by-minion-fun-timestamp'] {}ret['by-minion-fun-timestamp']['map'] 'function doc {emit [doc.id doc doc doc ;}'return ret 
def rayleightest data axis None weights None n np data axis axis Rbar  length data 1 0.0 axis weights z n * Rbar * Rbar tmp 1.0if n < 50 tmp 1.0 + 2.0 * z - z * z / 4.0 * n - 24.0 * z - 132.0 * z ** 2.0 + 76.0 * z ** 3.0 - 9.0 * z ** 4.0 / 288.0 * n * n p value np - z * tmp return p value 
@requires application def test close keys c Canvas keys 'interactive' x list @c.events.close.connectdef closer event x 'done' c press key keys E S C A P E text '' modifiers [] assert equal len x 1 c events 
def get Client Root output p4 Cmd List 'client-o' if len output ! 1 die 'utputfrom expecting1 % len output entry output 'oot not in entry die 'lienthasno Root return entry Root 
def  reexec updated modules None if odoo running as nt service subprocess 'netstop{0}&&netstart{0}'.format nt service name shell True exe os sys args stripped sys argv if updated modules args + ['-u' ' '.join updated modules ]if not args or args ! exe args 0 exe os sys args 
def process contexts server contexts p ctx error None for ctx in contexts ctx context ctx p ctx error if error is None or ctx exceptions ctx context server ctx 
def infer named tuple node context None class node name attributes infer func form node nodes Tuple proxied context context fake Astroid Builder MANAGER .string build "\nclass% name s tuple \n fields % fields r asdict self \nreturnself.  dict  \n@classmethod\ndef make cls iterable new tuple  new   len len \nreturnnew cls iterable \ndef replace  self **kwds \nresult  self make map kwds % fields r  self \nifkwds \alue Error 'otunexpectedfieldnames %%r'%%list kwds \nreturnresult\n" % {'name' name 'fields' attributes class node asdict fake asdict node make fake make node replace fake replace node fields fake fields iter [class node 
def askcolor color None **options global  chooserif not  chooser  chooser apply Chooser options return  chooser color options 
def install flocker nodes package source return  run on all nodes nodes task lambda node sequence [task install flocker distribution node package source package source task install docker plugin distribution node package source package source ]
def get s3a secret key return get conf .get  CNF S3A SECRET KEY
def optwrap text if not BODY WIDTH return textassert wrap 'equires Python2 ''newlines 0for para in text '\n' if len para > 0 if para is not '' and para is not '-' and para is not '*' for line in wrap para BODY WIDTH result + line + '\n' result + '\n'newlines 2elif not onlywhite para result + para + '\n' newlines 1elif newlines < 2 result + '\n'newlines + 1return result 
def  get volume region volume return getattr volume 'region' None or getattr volume 'region name None 
def  rereview to theme rereview theme if rereview return theme theme 
def check all ids fasta labels sample ids raw fasta labels set [label.split '_' [0] for label in fasta labels sample ids not found []for curr id in sample ids if curr id not in raw fasta labels sample ids not found curr id if len sample ids not found 0 sample ids not found Truereturn sample ids not found 
def require auth view func from horizon import Not Authenticated view func assigned available attrs view func def dec request *args **kwargs if request authenticated return view func request *args **kwargs raise Not Authenticated _ 'leaselogintocontinue return dec 
def key To X M L key return  tag Attr key '' [0]
def  fsencoding encoding sys or sys if encoding 'mbcs' encoding 'utf8'return encoding 
def rotate color percent return adjust color 0 percent 
def generate go test target source env go go home env G O C M D env G O H O M E cmd 'GOPATH %s%stest-c-o%s%s' % go home go target env G O P A C K A G E return echospawn args [cmd] env os sh None cmd None escape None 
@blueprint.route '/users/<user>/meters/<meter>' def list samples by user user meter return  list samples user user meter meter project acl limited to project flask 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  indent text amount indentation amount * '' return indentation + '\n' + indentation .join text '\n'
def update admin ids committer id admin usernames admin ids []for username in admin usernames user id user services user id from username username if user id is not None admin ids user id else raise Exception 'adadminusername %s' % username Registry config property 'admin ids .set value committer id admin ids 
def set index df index npartitions None shuffle None compute False drop True upsample 1.0 divisions None **kwargs if isinstance index Series and index name df name return dfif isinstance index Data Frame tuple list raise Not Implemented Error 'askdataframedoesnotyetsupportmulti Youtriedtoindexwiththisindex %ndexesmustbesinglecolumnsonly % str index npartitions npartitions or df if not isinstance index Series index2 df index2 indexif divisions is None divisions index2 repartition quantiles npartitions upsample upsample .compute .tolist return set partition df index divisions shuffle shuffle drop drop compute compute **kwargs
def organization follower list context data dict  check access 'organization follower list context data dict return  follower list context data dict ckan follow group schema context User Following Group 
def metrics request locale code None template 'questions/metrics.html'product request G E T 'product' if product product get object or 404 Product slug product form Stats Form request G E T if form valid bucket days form data form data form data bucket days 1start date - timedelta days 30 end date graph data stats topic data bucket days start end locale code product for group in graph data for name count in group if count 0 del group {'graph' graph data 'form' form 'current locale locale code 'product' product 'products' Product visible True }return render request template data 
def search count db query global  search db namesif  search db names is None  search db names  get fields  BASE URL + '/search' if db not in  search db names import warningswarnings "ogo W Ssearchdoesnotofficiallysupportdatabase See % db  BASE URL url  BASE URL + '/search/%s/%s/count' % db  quote query handle  open url data handle handle try count int data except Value Error raise Value Error 'xpectedanintegerfrom U R L got %r' % url data return count 
def cldr modulo a b reverse 0if a < 0 a * -1 reverse 1if b < 0 b * -1 rv a % b if reverse rv * -1 return rv 
@decorators.which 'ssh-keygen' def hash known hosts user None config None full  get known hosts file config config user user if isinstance full dict return fullif not os full return {'status' 'error' 'error' 'nownhostsfile full }origmode os full .st modecmd ['ssh-keygen' '-H' '-f' full result   salt  ['cmd.run'] cmd python shell False os full origmode if os 0 and user uinfo   salt  ['user.info'] user os full uinfo uinfo return {'status' 'updated' 'comment' cmd result 
def worker activate worker lbn profile 'default' return  worker ctl worker lbn 'a' profile 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def rewrite legacy config bridges config CONF BRIDGES [config] new bridges []for bridge conf in bridges groups []if 'groups' in bridge conf groups bridge conf  L O G G E R 'egacyconfigurationformatdetected for i in range 1 5 name key 'group %d name % i if name key in bridge conf groups {'number' i 'type' bridge conf 'group %d type % i DEFAULT LED TYPE 'name' bridge conf name key } new bridges {'host' bridge conf CONF HOST 'groups' groups return {'bridges' new bridges 
def test keypoints censure moon image star detector CENSURE mode 'star' detector rescale img 0.25 expected keypoints np [[23 27] [29 89] [30 86] [107 59] [109 64] [111 67] [113 70]] expected scales np [3 2 4 2 5 3 2] assert array equal expected keypoints detector assert array equal expected scales detector 
def no direct use of unicode function logical line if unicode func re logical line yield 0 'G320 Usesix type insteadofunicode '
def clean object caches obj global  TYPECLASSMODELS  O B J E C T M O D E L Sif not  TYPECLASSMODELS from evennia import models as  T Y P E C L A S S M O D E L Sif not obj returntry  SA obj ' contents cache None except Attribute Error pass DA obj cname for cname in viewkeys obj  dict   if cname ' cached db ' ]try hashid  GA obj 'hashid'  TYPECLASSMODELS. ATTRIBUTE C A C H E {}except Attribute Error pass 
def user find client user db name for mongo user in client if mongo user user if 'db' not in mongo user return mongo userif mongo user db name return mongo userreturn False 
def get unseen likes return frappe u * from Communication DCTB DCTB where DCTB DCTB DCTB communication type 'omment DCTB DCTB DCTB andmodified DATE SUB NOW INTERVAL1YEAR \n DCTB DCTB DCTB andcomment type 'ike DCTB DCTB DCTB andownerisnotnullandowner % user s DCTB DCTB DCTB andreference owner % user s DCTB DCTB DCTB andseen 0" {u'user' frappe [0][0]
def show address kwargs None call None if call ! 'function' raise Salt Cloud System Exit 'heshow snapshotfunctionmustbecalledwith if not kwargs or 'name' not in kwargs log 'ustspecifyname return Falseif not kwargs or 'region' not in kwargs log 'ustspecifyregion return Falseconn get conn return  expand address conn get address kwargs kwargs 
def  resize error src instance user mkt mkt L O G V I D E O ERROR instance user user instance 
def laxnodeset v if not isinstance v Node Set v immnodeset v return v 
def make Service config if config quoter quoters Fortune Quoter [config['file']] else quoter quoters Static Quoter config port int config factory quoteproto Q O T D Factory quoter return internet T C P Server port factory 
def norm html from html html if not isinstance html unicode html html 'utf-8' html  markdown email link re  markdown email link sub html if sys 'win32' html html '\r\n' '\n' return html 
def stdout print print 'foo' return 'bar'
def  unquote path path return urllib path 
def minion config opts vm  minion {'master' 'salt' 'log level 'info' 'hash type 'sha256'}minion['id'] vm ['name']master finger salt cloud config value 'master finger vm  opts if master finger is not None minion finger master fingerminion salt cloud config value 'minion' vm  opts default {} search global True make master salt cloud config value 'make master vm  opts if 'master' not in minion and make master is not True raise Salt Cloud Config Error "mastersettingwasnotdefinedintheminion minion 'grains' {} .update salt cloud config value 'grains' vm  opts default {} search global True return minion 
def No Case re return Switch Case re nocase 1
def convert gff coords to bed interval if isinstance interval Genomic Interval interval - 1if isinstance interval G F F Feature for subinterval in interval convert gff coords to bed subinterval elif isinstance interval list interval - 1return interval 
def listen tcp portrange host factory assert len portrange < 2 'invalidportrange %s' % portrange if not hasattr portrange '  iter  ' return reactor T C P portrange factory interface host if not portrange return reactor T C P 0 factory interface host if len portrange 1 return reactor T C P portrange factory interface host for x in range portrange portrange + 1 try return reactor T C P x factory interface host except error Cannot Listen Error if x portrange raise 
def run git or fail args git path  DEFAULT GIT input None **popen kwargs if 'stderr' not in popen kwargs popen kwargs subprocess S T D O U T returncode stdout run git args git path git path input input capture stdout True **popen kwargs if returncode ! 0 raise Assertion Error 'gitwithargs%rfailedwith%d %r' % args returncode stdout return stdout 
def update arc indexes geometry merged arcs old arcs if geometry in 'oint 'ulti Point returnelif geometry 'ine String for arc index old arc in enumerate geometry geometry index len merged arcs merged arcs old arcs arc elif geometry 'olygon for ring in geometry for arc index old arc in enumerate ring ring index len merged arcs merged arcs old arcs arc elif geometry 'ulti Line String for part in geometry for arc index old arc in enumerate part part index len merged arcs merged arcs old arcs arc elif geometry 'ulti Polygon for part in geometry for ring in part for arc index old arc in enumerate ring ring index len merged arcs merged arcs old arcs arc else raise Not Implemented Error "an % geometry 
def has filename filter module return getattr module 'filename' None is not None 
def find folders under root db add root True follow links False cancel callback lambda False lp db pathif lp lp os lp root os root ans set [] for dirpath dirnames __ in os root topdown True followlinks follow links if cancel callback breakfor x in list dirnames path os dirpath x if lp and path lp dirnames x if lp and dirpath lp continueans dirpath if not add root ans root return ans 
def num answers user return Answer creator user .count
def  is partial args func args kwargs if func not in signatures return Nonesigs signatures any check partial sig args kwargs for sig in sigs 
@frappe.whitelist def get grade grading scale percentage grading scale intervals {}for d in frappe all u Grading Scale Interval fields [u'grade code u filters {u'parent' grading scale grading scale intervals {d.threshold d code intervals sorted grading scale intervals key float reverse True for interval in intervals if flt percentage > interval grade grading scale intervals interval breakelse grade u grade 
def validate api key api key api key db Api Key api key if not api key db raise exceptions Api Key Disabled Error ' P Ikeyisdisabled L O G ' P Ikeywithid % api key db return api key db 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def CDLHARAMICROSS bar Ds count return call talib with ohlc bar Ds count talib C D L H A R A M I C R O S S 
def  stdin ready nt return msvcrt 
def lineage resource while resource is not None yield resource try resource resource  parent  except Attribute Error resource None 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def  cmidrule colindex dataset width rule '\\cmidrule %s {%d-%d}'if colindex 1 return rule % 'r' colindex colindex if colindex dataset width return rule % 'l' colindex colindex return rule % 'lr' colindex colindex 
def split names voters voters voters ' ' 1 [ -1 ]voters re ' Senator Representative \\ s ?' '' voters voters re '\\s+' '' voters voters [x.strip for x in re ' ? \\s ?![A-Z]\\. | ? \\sand\\s ' voters ]return voters 
def Momentum Adjustor final momentum start saturate warnings 'omentum Adjustorinterfaceisdeprecatedandwillbecomeofficiallyunsupportedasof May9 2leaseuse rule Momentum Adjustor return L R Momentum Adjustor final momentum start saturate 
def shared cluster conf False cluster shared cluster internal closers []if conf closers [ D F S C L U S T E R S N N H O S T for testing 'localhost' hadoop H D F S C L U S T E R S N N HDFS P O R T for testing cluster port hadoop M R C L U S T E R S H O S T for testing 'localhost' hadoop M R C L U S T E R S J T THRIFT P O R T for testing cluster port ] old caches clear sys caches def finish if conf restore sys caches old caches for x in closers x cluster finishreturn cluster 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def invhilbert n exact False from scipy import combif exact if n > 14 dtype objectelse dtype np dtype np np n n dtype dtype for i in xrange n for j in xrange 0 i + 1 s i + j invh i j ] -1 ** s * s + 1 * comb n + i n - j - 1 exact * comb n + j n - i - 1 exact * comb s i exact ** 2 if i ! j invh j i ] invh i j ]return invh 
def  Escape Cpp Define For M S V S s s  Escape Environment Variable Expansion s s  Escape Command Line Argument For M S V S s s  Escape V C Proj Command Line Arg List Item s s s '#' '\\%03o' % ord '#' return s 
def get Face Given Line line triangle Mesh face Given Line face Face face Given Line len triangle Mesh split Line line for vertex String Index in xrange 1 4 vertex String split Line String Index String With Spaces vertex String '/' '' vertex String Split vertex String With Spaces vertex Index int vertex String Split - 1 face Given Line Indexes vertex Index return face Given Line 
def maximum x1 x2 return Maximum x1 x2 
def log2 x ln2 math 2.0 try bin n binary repr x [1 ]except Assertion Error Type Error return math x / ln2 else if u in bin n return math x / ln2 else return len bin n 
def askpassword title prompt **kw d apply  Query Password title prompt kw return d 
def one to three s i d1 to index dindex to 3[i]
@task filter protocol 'size' def filter by size keyword task m re '^ [<>] ? \\d+ ? \\.\\d+ ? [GM] ? [+-] ?$' keyword flags re I assert m keyword less or great n u less or more m assert bool less or great ^ bool less or more 'mustbt<size >size size orsize float n * {one 1 'G' 1000 ** 3 'g' 1000 ** 3 'M' 1000 ** 2 'm' 1000 ** 2 }[u] if less or great '<' or less or more '-' return task < size else return task > size 
def maybe to categorical array if isinstance array A B C Series A B C Categorical Index return array valuesreturn array 
def in loop node parent node parent is not None if isinstance parent astroid For astroid List Comp astroid Set Comp astroid Dict Comp astroid Gen Expr return Trueparent parent False 
def rename file source dest os source dest   remove pyc pyo source 
def overridable property name doc None getter name intern 'get ' + name setter name intern 'set ' + name return property lambda self getattr self getter name lambda self value getattr self setter name value None doc 
def inv quick M from sympy import zerosif any i Symbol for i in M if all i Symbol for i in M det lambda _ det perm _ else det lambda _ det minor _ else return M n M det M if d is S Zero raise Value Error 'atrixdet 0;notinvertible.' ret zeros n s1 -1 for i in range n s s1 - s1 for j in range n di det M Matrix i j ret j i ] s * di / d s - s return ret 
def get default persistent db instance return get default temp db instance 
def  get phred quality record try return record annotations quality Key Error passtry return [phred quality from solexa q for q in record annotations quality Key Error raise Value Error 'osuitablequalityscoresfoundinletter annotationsof Seq Record id %s .' % record 
def setup app app role 'rfc' rfclink return 
def get all sharing strategies return  all sharing strategies 
def get source inputs tensor layer None node index None if not hasattr tensor ' keras history return tensorif layer is None or node index layer node index _ tensor keras historyif not layer nodes return [tensor]else node layer nodes index not node layers return node tensorselse source tensors []for i in range len node layers x node tensors node layers index node indices sources get source inputs x layer node index for x in previous sources if x not in source tensors source tensors x return source tensors 
def fmin bfgs f x0 fprime None args gtol 1e-05 norm Inf epsilon  epsilon maxiter None full output 0 disp 1 retall 0 callback None opts {'gtol' gtol 'norm' norm 'eps' epsilon 'disp' disp 'maxiter' maxiter 'return all retall  minimize bfgs f x0 args fprime callback callback **opts if full output retlist res res res res inv res res res if retall retlist + res return retlistelif retall return res res else return res 
@register.inclusion tag get template 'inclusion.html' def inclusion two params from template one two return {'result' 'inclusion two params from template Expectedresult %s %s' % one two }
def boundaries x depth None kind None if not isinstance kind dict kind dict i kind for i in range x if not isinstance depth dict depth dict i depth for i in range x for i in range x d depth i 0 if d 0 continuethis kind kind i 'none' if this kind 'none' continueelif this kind 'periodic' x periodic x i d elif this kind 'reflect' x reflect x i d elif this kind 'nearest' x nearest x i d elif i in kind x constant x i d kind return x 
def  retrieve ntp servers return   salt  ['ntp.servers']
def get public key ssh conf path os '~/.ssh' dsa public key path os ssh conf path 'id dsa dsa private key path os ssh conf path 'id dsa rsa public key path os ssh conf path 'id rsa rsa private key path os ssh conf path 'id rsa has dsa keypair os dsa public key path and os dsa private key path has rsa keypair os rsa public key path and os rsa private key path if has dsa keypair logging ' S Akeypairfound usingit public key path dsa public key pathelif has rsa keypair logging ' S Akeypairfound usingit public key path rsa public key pathelse logging 'either R S Anor D S Akeypairfound creating D S Asshkeypair utils ' % dsa private key path public key path dsa public key pathpublic key open public key path 'r' public key str public key public key return public key str 
def postprocess for cse expr optimizations for pre post in reversed optimizations if post is not None expr post expr return expr 
def handle error code from website import Osf Web Rendererjson renderer J S O N Renderer web renderer Osf Web Renderer '' render mako string error H T T P Error code renderer json renderer if is json request else web renderer return make response renderer error error 
def rs series reversion p x n y if rs is puiseux p x raise Not Implemented Error R p R x y R y ny R y if  has constant term p x raise Value Error 'pmustnotcontainaconstanttermintheseriesvariable' a  coefficient t p nx 1 zm R monomassert zm in a and len a 1 a a y / a for i in range 2 n sp rs subs p {x r y i + 1 sp  coefficient t sp ny i * y ** i r - sp / a return r 
def parse date date string assume utc False as utc True default None from dateutil import parseif not date string return UNDEFINED D A T Eif default is None func datetime if assume utc else datetime default func .replace day 15 hour 0 minute 0 second 0 microsecond 0 tzinfo  utc tz if assume utc else  local tz if iso pat .match date string is not None dt parse date string default default else dt parse date string default default dayfirst parse date day first if dt is None dt dt tzinfo  utc tz if assume utc else  local tz return dt  utc tz if as utc else  local tz 
def Install Template Package virtualenv bin os sys extension os sys [1]pip '%s/pip%s' % virtualenv bin extension major minor version '.'.join pkg resources distribution 'grr-response-core' .version.split '.' [0 2] subprocess call [sys.executable pip 'install' '--upgrade' '-f' 'https //storage.googleapis.com/releases.grr-response.com/index.html' 'grr-response-templates %s.*' % major minor version ]
def build mock object obj id mock object Mock object config {'pk' obj id 'name' 'object{}'.format obj id }mock object mock **object config return mock object 
def remove protocol from url url if url is None return urlif url ' //' > 0 new url url ' //' [1]else new url urlreturn new url '/'
def  expected observed o observedif len o 0 return []if len o 1 return [ [ sum o / float len o ] * len o ]n [sum o for i in xrange len o ]m [sum o for i in xrange len o for j in xrange len o ]s float sum n return [[ n * m / s for j in xrange len o ] for i in xrange len o ]
def append table 'filter' chain None rule None family 'ipv4' if not chain return 'rror Chainneedstobespecified not rule return 'rror Ruleneedstobespecified '--wait' if  has option '--wait' family else '' return Check check table chain rule family if isinstance return Check bool and return Check return Falsecmd '  iptables cmd family wait table chain rule out   salt  ['cmd.run'] cmd if len out 0 return Trueelse return False 
def format isodate for user timezone value config get config timezone config 'cli' {} .get 'timezone' 'UTC' result format isodate value value timezone timezone return result 
def  tree namespace handler k v cherrypy v v name cherrypy 'ounted %son%s' % v v name or '/'
def get approved tools app sa session tools []for tool in sa session app Tool .order by app Tool if tool app Tool A P P R O V E D tools tool return tools 
def pseudocorpus source vocab sep for k in source vocab if sep not in k continueunigrams k sep for i in range 1 len unigrams yield [sep.join unigrams i sep unigrams ] ]
def update exc exc msg before True separator '\n' emsg exc before parts msg separator emsg else parts emsg separator msg new msg '%s%s%s' % parts new args new msg + exc ] exc new msgexc new argsreturn exc 
def assertion assertion assert assertion 
def run Experiment args model None opt  parse Command Line Options args model  run Experiment Impl opt model return model 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def write zfile file handle data compress 1 file handle  ZFILE PREFIX length hex str len data file handle asbytes length  MAX LEN file handle zlib asbytes data compress 
def check err code if code OGRERR NONE returnelif code in OGRERR DICT e msg OGRERR D I C T e msg else raise O G R Exception 'nknownerrorcode "%s"' % code 
def doctype matches text regex m doctype lookup re text if m is None return Falsedoctype m 2 return re regex .match doctype is not None 
def  numpy checker x y x y x y if x ! y or x ! y or numpy numpy x - y > 1e-10 raise Exception 'utputmismatch {'performlinker' x 'clinker' y 
def returner ret conn mdb  get conn ret if isinstance ret dict back  remove dots ret else back ret isinstance ret dict full ret  remove dots ret else full ret retlog back sdata {'minion' ret 'jid' ret 'return' back 'fun' ret 'full ret full ret 'out' in ret sdata ret float version > 2.3 mdb Returns one sdata else mdb Returns sdata 
def parse params params ignore keys None parsed {}for key in params if ignore keys and key in ignore keys continuevalue params key if not value value ''if len value 1 value value valuereturn parsed 
def  oauth signature consumer token method url parameters {} token None parts urlparse url scheme netloc path parts 3]normalized url scheme + ' //' + netloc + path base elems []base elems method base elems normalized url base elems '&'.join '%s %s' % k  oauth escape str v for k v in sorted parameters base string '&'.join  oauth escape e for e in base elems key elems [escape.utf8 consumer token ]key elems escape token if token else '' key '&'.join key elems hash hmac key escape base string hashlib return binascii base64 hash [ -1 ]
def scalarconsts rest inputs elemwise True only process constants False consts []origconsts []nonconsts []for i in inputs try v get scalar constant value i elemwise elemwise only process constants only process constants consts v origconsts i except Not Scalar Constant Error nonconsts i return consts origconsts nonconsts 
def get Interpret Plugins Path sub Name '' return get Joined Path get Fabmetheus Tools Path 'interpret plugins sub Name 
def  smooth bootstrap args n boot func func kwargs n len args boot dist []kde [stats.gaussian kde np a for a in args i in range int n boot sample [a.resample n .T for a in kde dist func *sample **func kwargs return np boot dist 
def test unused method camelcase vultdir vultdir foo 'oo \ar self \oo \n' assert not vultdir 
def gen state tag low return '{0[state]} |-{0[  id  ]} |-{0[name]} |-{0[fun]}'.format low 
def  create and add parameters params global  current parameterif  is simple type params  current parameter Simple Parameter params  current option parameter  current parameter else for i in params if  is simple type i  current parameter Simple Parameter i else  current parameter Typed Parameter  parse typed parameter i  current option parameter  current parameter 
@register u def yank pop event buff event bufferdoc before paste buff before pasteclipboard event doc before paste is not None buff doc before pasteclipboard buff clipboard data clipboard data paste mode Paste Mode E M A C S 
def  record payment info params order if settings F E A T U R E S 'LOG POSTPAY CALLBACKS' log 'rder butnotcompleted withparams %s' order json params order reply dump json params order 
def  multi call function contentkey *args **kwargs ret function *args **kwargs position ret 'position' while position more function position position *args **kwargs ret more position more 'position' return ret contentkey 
def  prepare fit binary est y i y i np y dtype np order 'C' y i y ! est [i] ] -1.0 average intercept 0average coef Noneif len est  2 if not est coef est .ravel intercept est [0]else coef est coef .ravel intercept est intercept [0]average coef est coef .ravel average intercept est intercept [0]elif not est coef est [i]intercept est [i]else coef est coef [i]intercept est intercept [i]average coef est coef [i]average intercept est intercept [i]return y i coef intercept average coef average intercept 
@require role 'admin' def idc add request header title path1 path2 u I D C u u I D C if request 'POST' idc form Idc Form request P O S T if idc form valid idc name idc form data I D C name idc name emg u \ D C % idc name return my render 'jasset/idc add locals request else idc form smg u I D C %s\u6dfb\u52a0\u6210\u529f' % idc name return Http Response Redirect reverse 'idc list else idc form Idc Form return my render 'jasset/idc add locals request 
def  interpret history log fs matches for match in matches path match match result  parse yarn history log  cat log fs path else result  parse pre yarn history log  cat log fs path for error in result 'errors' or if 'hadoop error in error error error path add implied task id error return resultreturn {}
def datetime format to js datetime format format converted formatreplacements {'%Y' 'yyyy' '%y' 'yy' '%m' 'mm' '%d' 'dd' '%H' 'hh' '%I' 'HH' '%M' 'ii' '%S' 'ss'}for search replace in replacements converted converted search replace return converted 
def test parse options m Dummy Magics  ip nt equal m options 'foo' '' [1] 'foo' nt equal m options u '' [1] u 
def expect dimensions   funcname  qualified name **dimensions if isinstance   funcname str def get funcname _ return   funcnameelse get funcname   funcnamedef  expect dimension expected ndim def  check func argname argvalue actual ndim argvalue actual ndim ! expected ndim if actual ndim 0 actual repr 'scalar'else actual repr 'array % actual ndim raise Value Error '{func} expecteda d Darrayforargument butgota func get funcname func expected expected ndim argname argname actual actual repr return argvaluereturn  checkreturn preprocess **valmap  expect dimension dimensions 
def build binary response request data code return build response request data code None 
def  exact ratio x try if type x is float or type x is Decimal return x integer ratio try return x x except Attribute Error try return x integer ratio except Attribute Error passexcept Overflow Error Value Error assert not  isfinite x return x None msg "can'tconverttype'{}'tonumerator/denominator"raise Type Error msg type x .  name  
def section def prep r s3db r deletable False orderby '%s.posn' % r return Trues3 prepdef postp r output 'ddthesectionselectwidgettotheform template id int request except template id Nonesection Select s3 section select widget template id output Select section Selectreturn outputoutput s3 rest controller return output 
def reverse dict d result {}for key in d for val in d result result val tuple + key return result 
def delete manifestation node state manifestation dataset id manifestation idnode state node state ['manifestations' dataset id discard node state node state ['paths' dataset id discard node state node state ['devices' UUID dataset id ] discard return node state 
def human size to bytes human size size exp map {'K' 1 'M' 2 'G' 3 'T' 4 'P' 5}human size str str human size match re '^ \\d+ [KMGTP] ?$' human size str if not match raise Value Error 'izemustbealldigits withanoptionalunittype K M G T or P ' size num int match 1 unit multiplier 1024 ** size exp map match 2 0 return size num * unit multiplier 
def Print Feed feed for entry in feed Print Resource entry 
def consecutive l fn it iter l ll []try while True x it if fn x ll x else if ll yield ll ll [] yield [x] except Stop Iteration if ll yield ll 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def render alert content alert type None dismissable True button u not alert type alert type u classes [u'alert' u + text value alert type ]if dismissable css classes u button u "button"class "close"' + u "alert"aria-hidden "true">&times;</button>' button placeholder u  BUTTON  'return mark safe render tag u attrs {u'class' u css classes } content button placeholder + text value content .replace button placeholder button 
def pycodestylemod update margin line length new margin line pycodestylemod M A X LINE LENGTH new margin line 
def occupation request pk occupation get object or 404 Occupation pk pk return Http Response 'ccupation %s' % occupation 
def evdump app None out sys app app or default app dumper Dumper out out dumper u startingcapture conn app for read .clone def  error handler exc interval dumper CONNECTION ERROR % conn uri exc humanize seconds interval u u while 1 try conn connection  error handler recv app Receiver conn handlers {u'*' dumper event recv except Keyboard Interrupt System Exit return conn and conn except conn errors + conn errors dumper u Connectionlost attemptingreconnect 
def libvlc video get cursor p mi num f  Cfunctions 'libvlc video get cursor None or  Cfunction 'libvlc video get cursor 1 1 2 2 None ctypes int Media Player ctypes uint ctypes P O I N T E R ctypes int ctypes P O I N T E R ctypes int return f p mi num 
def  apply global addr ssl addr to ssl parsed server for addr in parsed server addr addr to ssl tuple ]if addr parsed server True 
def  get device devnum 0 if not  custack  custack get gpu devnum return  custack 
def is ambiguous at if isinstance at datetime return Falsereturn any getattr at attr is None for attr in adatetime 
@login required P O S Tdef join contributors request next get next url request or reverse 'home' group Group name 'ontributors request group messages message request messages S U C C E S S _ 'ouarenowpartofthe Contributorsgroup return Http Response Redirect next 
def dmp gcdex f g u K if not u return dup gcdex f g K else raise Multivariate Polynomial Error f g 
def  zipf rv below gamma xmin threshold result nx rv gamma xmin while result > threshold result nx rv gamma xmin return result 
def test dcae ae Autoencoder 5 7 act enc 'tanh' act dec 'cos' tied weights True model Deep Composed Autoencoder [ae] model ensure extensions data np 10 5 .astype config X model data 
def get field precision df doc None currency None from frappe import get number format infoif cint df precision cint df elif df u Currency number format Noneif not currency and doc currency get field currency df doc if not currency currency frappe default u if currency number format frappe value u Currency currency u format cache True if not number format number format frappe default u format or u ###.##' decimal str comma str precision get number format info number format else precision cint frappe default u precision or 3 return precision 
def monkeypatch method cls def decorator func setattr cls func  name   func return funcreturn decorator 
def enabled name **kwargs ret {'name' name 'result' True 'changes' {} 'comment' []}current schedule   salt  ['schedule.list'] show all True return yaml False if name in current schedule if 'test' in   opts   and   opts  ['test'] kwargs Trueresult   salt  ['schedule.enable job name **kwargs ret result else result   salt  ['schedule.enable job name **kwargs if not result ret result result retelse ret 'nabledjob name else ret 'ob name ret '\n'.join ret return ret 
def key pair get all by user context user id return I M P L pair get all by user context user id 
def is integer like val try int val return Trueexcept Type Error Value Error Attribute Error return False 
def system data if sys 'linux' path '/usr/share/qutebrowser'if not os path path data else path data return path 
def run with reloader main func extra files None interval 1 import signalsignal signal S I G T E R M lambda *args sys 0 if os 'WERKZEUG RUN MAIN' 'true' thread new thread main func try reloader loop extra files interval except Keyboard Interrupt returntry sys restart with reloader except Keyboard Interrupt pass 
def  normalize ids arg atoms set Id Type if not arg return if arg  class   in atoms return arg return tuple arg 
def  strip uri repo splits repo for idx in range len splits if any splits x for x in 'http //' 'https //' 'ftp //' splits splits '/' return ''.join splits 
def sub environment env os env L A N G ' env 
def merge source requirements sources projects set merged requirements []for infile path in locate file p must exist True for p in sources for req in load requirements infile path if req if req in projects continueprojects req merged requirements req elif req merged requirements req else raise Runtime Error 'nexpectedrequirement req return merged requirements 
def get pending servermanager vname 'urrent Reboot Attempts ' O F T W A R E Microsoft Server Manager ret   salt  ['reg.read value 'HKLM' key vname if reg ret log 'oundkey %s' key try if int reg ret > 0 return Trueexcept Value Error passelse log 'nabletoaccesskey %s' key return False 
def println text *colors sys sprint text *colors + '\n'
def submit row context opts context context popup context popup as context as {'onclick attrib opts ordered objects and change and 'onclick "rder Form ;"' or '' 'show delete link not is popup and context delete permission and change or context delete 'show save as new not is popup and change and save as 'show save and add another context add permission and not is popup and not save as or context 'show save and continue not is popup and context change permission 'is popup is popup 'show save True 
def squared norm x x  ravel x return np x x 
def  find git files dirname '' git dir None file list []if git dir is None git dir pbr run git functions if git dir file list pbr run git command ['ls-files' '-z'] git dir file list + pbr run git command ['submodule' 'foreach' '--quiet' 'ls-files' '-z'] git dir file list file list '\x00'.decode 'utf-8' submodules  get submodules git dir return [f for f in file list if f and f not in submodules ]
def build property filter spec client factory property specs object specs property filter spec client factory 'ns0 Property Filter Spec property filter spec Set property specsproperty filter spec Set object specsreturn property filter spec 
def jsonpify func *args **kwargs data func *args **kwargs return to jsonp data 
def find packages where '.' exclude out []stack [ convert path where '' ]while stack where prefix stack 0 for name in os where fn os where name if '.' not in name and os fn and os os fn '  init  .py' out prefix + name stack fn prefix + name + '.' for pat in list exclude + ['ez setup 'distribute setup from fnmatch import fnmatchcaseout [item for item in out if not fnmatchcase item pat ]return out 
def current process return  current process 
def publicize collection committer id collection id  publicize activity committer id collection id feconf A C T I V I T Y TYPE COLLECTION
def int2str number if not type number is types Long Type or type number is types Int Type raise Type Error 'oumustpassalongoranint string ''while number > 0 string '%s%s' % to64 number & 63 string number / 64return string 
def get token url course id return reverse 'get token kwargs {'course id unicode course id }
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def build kwargs registry id if not registry id return dict else return dict registry Id registry id 
def detrend pcoa input fp map fp None gradient variable None suppress prerotate False output dir '.' HALT EXEC False dt Detrender HALT EXEC HALT EXEC if map fp is not None dt Parameters map fp if gradient variable is not None dt Parameters gradient variable if suppress prerotate dt Parameters dt Parameters output dir app result dt input fp return app result 
def text repr value try return pydoc value except Keyboard Interrupt raiseexcept try return repr value except Keyboard Interrupt raiseexcept try name getattr value '  name  ' None if name return text repr name klass getattr value '  class  ' None if klass return '%sinstance' % text repr klass except Keyboard Interrupt raiseexcept return 'UNRECOVERABLEREPRFAILURE'
def Segment Collection mode 'agg-fast' *args **kwargs if mode 'raw' return Raw Segment Collection *args **kwargs return Agg Segment Collection *args **kwargs
def dup inflate f m K if m < 0 raise Index Error "'m'mustbepositive got % m if m 1 or not f return fresult [f[0]]for coeff in f ] result [ * m - 1 result coeff return result 
@validation taskdef validate file path path hash  listed True is webextension False **kw if is webextension return run addons linter path listed listed return run validator path listed listed 
def decodeerror arguments errn arguments a1 errnif 'errs' in arguments err a2 arguments err a2 Mac O S Get Error String errn if 'erob' in arguments err a3 arguments err a3 Nonereturn err a1 err a2 err a3 
def  expect extra expected present exc unexpected exc missing exc args if present if not expected raise exc unexpected *exc args elif expected and expected is not Argument raise exc missing *exc args 
def skip If condition reason if condition return skip reason return lambda obj obj 
def render purchase form html cart callback url None extra data None return render to string 'shoppingcart/cybersource form {'action' get purchase endpoint 'params' get signed purchase params cart callback url callback url extra data extra data }
def nop name **kwargs return succeed without changes name 
def is in grace period get installation key installation time Persistent Cache Entry **INSTALLATION KEY KWARGS .timereturn now - installation time .total seconds < 60 * 60 * 24
def p conditional expression 2 t pass 
@with config DEBUG True ASSETS DEBUG True def test unmergable b Bundle 's1' 's2' Bundle 's3' debug False filters css output 'bar' output 'foo' filters js jl bundle to joblist b assert len jl 3 assert 's1' in jl and 's2' in jl assert jl [css] assert 's3' in jl assert raises Bundle Error bundle to joblist Bundle 's1' Bundle 's2' debug False output 'foo'
def datestr2num d if cbook string like d dt dateutil d return date2num dt else return date2num [dateutil.parser.parse s for s in d 
def get device languages hub handle device port buf None buf alloc descriptor buf buf def initbuf b p cast b PUSB DESCRIPTOR REQUEST .onnection Index device portsp p Setup Packet sp Request sp Request 128 USB REQUEST GET DESCRIPTOR sp Value USB STRING DESCRIPTOR T Y P Esp Length MAXIMUM USB STRING LENGTH + 2 buf bytes returned device io control hub handle IOCTL USB GET DESCRIPTOR FROM NODE CONNECTION buf buf initbuf data cast buf PUSB DESCRIPTOR REQUEST .ata sz dtype data Length data Type if dtype ! 3 raise Windows Error u Invaliddatatypeforstringdescriptor 0x%x' % dtype data cast data String POINTER USHORT * sz // 2 return buf filter None data 
def adb argv *a **kw if isinstance argv str unicode argv [argv]log.debug '$' + ''.join context + argv if argv 'shell' return process argv ] *a **kw .recvall return tubes context + argv *a **kw .recvall
def regex site reg ex str site for base in reg ex if base in 'A' 'T' 'C' 'G' 'a' 'c' 'g' 't' passif base in 'N' 'n' reg ex '.'.join reg ex 'N' reg ex '.'.join reg ex 'n' if base in 'R' 'Y' 'W' 'M' 'S' 'K' 'H' 'D' 'B' 'V' expand '[' + amb dna ] + ']' reg ex expand reg ex base return reg ex 
def resolve embedded documents document resource embedded fields for field in sorted embedded fields key lambda a a '.' data relation field definition resource field ['data relation lambda ref embedded document ref data relation field fields chain field '.' last field fields chain -1 ]for subdocument in subdocuments fields chain -1 ] resource document if last field not in subdocument continueif isinstance subdocument field list subdocument field list map getter subdocument field else subdocument field getter subdocument field 
def is jail name jails list jails for jail in jails if jail [0] name return Truereturn False 
def test io w tempdir  Temp Dir stc  fake stc n time 1 w fname op tempdir 'fake' stc w fname ftype 'w' src read source estimate w fname src op tempdir 'tmp' ftype 'w' src2 read source estimate op tempdir 'tmp-lh.w' assert array almost equal src src2 assert array almost equal src vertno src2 vertno assert array almost equal src vertno src2 vertno 
def  cluster indices to mask components n tot for ci c in enumerate components components np n tot dtype bool components Truereturn components 
def in range list num range list return num int num and within range list num range list 
def traverse imports names pending [names]while pending node pending if node token N A M E yield node elif node syms name yield ''.join [ch.value for ch in node elif node syms as name pending node elif node syms as names pending node -2 ] else raise Assertion Error 'unkownnodetype'
def  arcball xy wh x y xy w h whr w + h / 2.0 x y - 2.0 * x - w / r 2.0 * y - h / r h np x * x + y * y return 0.0 x / h y / h 0.0 if h > 1.0 else 0.0 x y np 1.0 - h * h 
def convert in file in format out file out format in kwargs None out kwargs None if in kwargs is None in kwargs {}if out kwargs is None out kwargs {}qresults parse in file in format **in kwargs return write qresults out file out format **out kwargs 
def  is inherited from object cls op if PYVERSION > 3 object op getattr object op cls op getattr cls op return object op is cls op else return op not in dir cls 
def iterfind data string offset data string 0 while offset > 0 yield offset offset data string offset + len string 
def test senn bad ratio ratio -1.0 smote SMOTEENN ratio ratio assert raises Value Error smote X Y ratio 100.0smote SMOTEENN ratio ratio assert raises Value Error smote X Y ratio 'rnd'smote SMOTEENN ratio ratio assert raises Value Error smote X Y ratio [0.5 0.5]smote SMOTEENN ratio ratio assert raises Value Error smote X Y
def  try weakref arg remove callback try arg weakref arg remove callback except Type Error passreturn arg 
def bench R3 f x + y + z a [bool f f for _ in range 10 ]
def nowdate return now datetime .strftime DATE FORMAT
def  href collection href return '%s%s' % collection 'server' 'base prefix href '/'
def  api disconnect name output kwargs Downloader return report output 
def is float list value min None max None return [is float mem for mem in is list value min max ]
def task project if auth ! 's3json' return ''def prep r if r ! 'options' return Falsereturn Trues3 prepreturn s3 rest controller 
def  view text content total limit txt []for i in netlib Bin content .splitlines txt urwid Text 'text' i wrap 'any' trailer total txt limit return txt 
def ensure list obj return obj if is nonstring iterable obj else [obj]
def resolve1 x while isinstance x P D F Obj Ref x x return x 
def deepsize obj max depth 4 def  recurse o dct depth if max depth > 0 and depth > max depth returnfor ref in get referents o idr id ref if not idr in dct dct ref getsizeof ref default 0  recurse ref dct depth + 1 sizedict {} recurse obj sizedict 0 size getsizeof obj + sum [p[1] for p in sizedict ] return size 
def test byte order median a np 9 dtype '<f4' .reshape 3 3 ref ndimage filter a 3 3 b np 9 dtype '>f4' .reshape 3 3 t ndimage filter b 3 3 assert array almost equal ref t 
def get tax class proportions lines if not lines return []zero lines 0 total by tax class defaultdict lambda zero total zerofor line in lines total by tax class class + line + line not total return []return [ tax class tax class total / total for tax class tax class total in total by tax class ]
def split path path path path '/' first _ rest path '/' lang find supported [ first 1.0 ] if lang return lang rest else return '' path 
def  whctrs anchor w anchor - anchor + 1 h anchor - anchor + 1 x ctr anchor + 0.5 * w - 1 y ctr anchor + 0.5 * h - 1 return w h x ctr y ctr 
def cfg2dict cfg d {}for section in cfg d dict cfg section return d 
def  find statement by line node line if isinstance node nodes Class nodes Function node line node node line node node line line return nodefor child in node children result  find statement by line child line if result return resultreturn None 
def ensure tables global tablesif tables is None import tables 
def jsonrpc result id result return {'jsonrpc' '2.0' 'result' result 'id' id 
def Add Batch Job client batch job service client Get Service 'atch Job Service version 'v201605' batch job operations [{'operand' {} 'operator' ' D D batch job service batch job operations ['value'][0]
def Fake U Time path times raise O S Error errno E P E R M 'perationnotpermitted path 
@constructordef argmin x axis None keepdims False x as tensor variable x str x type str x if str x type 'float' or str x type in int dtypes return argmax - x axis axis keepdims keepdims else raise Not Implemented Error 
def reply all t Twitter auth authen try id int g [0] except print Nicely red "orry Ican returntid c dict tweet t id tid text original tweet ary [original tweet name user in list original tweet mentions if user name not in nick ary and user name ! g name nick ary user name status ''.join g [1 ] status ''.join [ '@' + nick for nick in nick ary + '' + str2u status t status status in reply to status id tid 
def frequency Redefinition Cell Channel Description presence 0 a Tp Pd pd 6 b Message Type mes Type 20 c Channel Description d Mobile Allocation e Starting Time packet a / b / c / d / e if Cell Channel Description presence is 1 f Cell Channel Description Hdr iei C C D 98 eight Bit C C D 0 packet packet / f return packet 
def transfield changed field initial data initial [ k v string for k v in initial if '%s ' % field in k and v is not None ]data [ '%s %s' % field k v for k v in data if k ! 'init' ]return set initial ! set data 
def  filter entrance exam grader graders if is entrance exams enabled graders [grader for grader in graders if grader 'type' ! u Entrance Exam ]return graders 
def  reset syslog config params host username password cmd resets valid resets protocol None port None esxi host None ret dict {}all success Trueif not isinstance resets list resets [resets]for reset param in resets if reset param in valid resets ret salt host username password cmd + reset param protocol protocol port port esxi host esxi host ret dict param {}ret dict param ret 0 if ret ! 0 all success Falseret dict param ret all success Falseret dict param {}ret dict param Falseret dict param 'nvalidsyslogconfigurationparameter dict all successreturn ret dict 
def  nova to osvif ips ips return objects ip Fixed I P List objects [ nova to osvif ip ip for ip in ips 
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def umount module dest umount bin module bin path 'umount' required True cmd [umount bin dest rc out err module command cmd if rc 0 return 0 '' else return rc out + err 
def add X Intersection Indexes From Loops front Over Width loops solid Index x Intersection Index Lists width y List for loop in loops add X Intersection Indexes From Loop front Over Width loop solid Index x Intersection Index Lists width y List 
@util.positional 1 def service mappings services registry path DEFAULT REGISTRY PATH if isinstance services dict services services final mapping []paths set registry map {} if registry path else None for service path service factory in services try service class service factory classexcept Attribute Error service class service factoryif service path not in paths paths service path else raise remote Service Configuration Error 'ath % service path 'utf-8' if registry map is not None registry map path service classfinal mapping service mapping service factory service path if registry map is not None final mapping service mapping registry Registry Service factory registry map registry path return wsgi util found final mapping 
def messages request return {'messages' get messages request }
@route bp '/' def whoami return current user get current object 
def get user id username rv query db 'selectuser idfromuserwhereusername ?' [username] one True return rv if rv else None 
def  validate usecols arg usecols msg "'usecols'musteitherbeallstrings allunicode allintegersoracallable usecols is not None if callable usecols return usecols None usecols dtype lib dtype usecols if usecols dtype not in 'empty' 'integer' 'string' 'unicode' raise Value Error msg return set usecols usecols dtype return usecols None 
def get Repository Command directory try Git Command Is Working Directory directory return Git Commandexcept Not Working Directory O S Error passraise Not Working Directory 'osupported V C Scanbefoundin % directory 
def mmap read f sz 0 close True return  mmap do f sz mmap M A P PRIVATE mmap P R O T READ close 
def gather configuration acquire settings log printer arg list None arg parser None arg list sys ] if arg list is None else arg list sections targets load configuration arg list log printer arg parser local bears global bears fill settings sections acquire settings log printer save sections sections warn nonexistent targets targets sections log printer return sections local bears global bears targets 
def test generate import code tpot obj T P O T Classifier pipeline creator Individual string 'ecision Tree Classifier Select K Best input matrix 7 0.5 ' tpot obj pset expected code "oting Classifier selectionimport Select K Best f classif selectionimporttrain test split pipeline make union Function Transformer Decision Tree Classifier N O T E Makesurethattheclassislabeled data np 'PATH/TO/DATA/FILE' delimiter 'COLUMN SEPARATOR' dtype np \nfeatures np tpot data np .reshape tpot data -1 tpot data 'class' axis 1 \ntraining features testing features training classes testing classes \\\ntrain test split features tpot data random state 42 \n"assert expected code generate import code pipeline 
def classname object modname name object  name  if object  module   ! modname name object  module   + '.' + name return name 
def merge dict1 dict2 for key val2 in dict2 if val2 is not None val1 dict1 key if isinstance val2 dict if val1 is None val1 {}if isinstance val1 Alias val1 val1 val2 elif isinstance val1 tuple alias others val1others others merge others val2 val1 alias others else val1 val1 merge val1 val2 else val1 val2dict val1 
def sorted allowed list allowed list allowed by protocol sorted allowed list key lambda x x I P Protocol return sorted allowed by protocol key lambda y y 
def get single job request jobid return Job id jt request jobid jobid 
def now return datetime Time Zone Info 
def get dependencies return config driver dependencies   virtualname   {'libcloud' HAS LIBS}
def jscode expr assign to None **settings return Javascript Code Printer settings .doprint expr assign to 
def number of nonisomorphic trees order return sum 1 for _ in nonisomorphic trees order 
def make sparse spd matrix dim 1 alpha 0.95 norm diag False smallest coef 0.1 largest coef 0.9 random state None random state check random state random state chol - np dim aux random state dim dim aux aux < alpha ] 0aux[ aux > alpha ] smallest coef + largest coef - smallest coef * random state np aux > alpha aux np aux k -1 permutation random state dim aux aux T + auxprec np chol T chol if norm diag d np prec .reshape 1 prec d 1.0 / np d prec * dprec * d Treturn prec 
@inspect command variadic u signature u N def query task state ids **kwargs return {req.id  state of task req req for req in  find requests by id maybe list ids }
def  impute df observations censorship transform in transform out uncensored mask df False censored mask df True fit params stats df Zprelim mask transform in df mask slope intercept fit params 2]df.loc[ 'estimated'] transform out slope * df Zprelim mask + intercept df 'final'] numpy df df df return df 
def  settings closed events params params options None 
def config to kodi MASTER SETTINGS config extracted settings for kodi {}for setting protocols in MASTER S E T T I N G S value general config get config **protocols extracted settings for kodi valuereturn extracted settings for kodi 
def  generate reset key user return '{0} reset key user .lower
@allable deprecation u removal u alternative u Pleaseusecelery url def get backend by url backend None loader None return  backends url backend backend loader loader 
def  New Document From Pb doc pb lang Noneif doc pb language lang  Decode U T F8 doc pb return Document doc id  Decode U T F8 doc pb fields  New Fields From Pb doc pb list language lang rank doc pb id 
@register.filter name 'ip str to list def ip str to list ip str return ip str ' '
def  immediately before node try pos node tree node except Attribute Error return []idx len pos - 1 while 0 < idx and pos 0 idx - 1if idx < 0 return []pos list pos idx + 1 ] pos -1 ] - 1before tree [before] +  rightmost descendants before 
def   float value valid  value False value try  value float value valid Trueexcept Value Error passreturn valid  value 'float'
def search Element By Id node Id tagname nodes node Elements By Tag Name tagname for node in nodes an node Attribute Node 'id' if an and an Value Id return node 
def rand url randbits str random 1 2147483647 return 'https //url-' + randbits + '.com'
def set version db apps schema editor db alias schema editor Version apps model u u Version content types Version db alias .order by .values list u type id u type  app label u type  model .distinct model dbs defaultdict list for content type id app label model name in content types try model live apps model app label model name except Lookup Error db u db router for write model model dbs content type id if DEFAULT DB ALIAS in model dbs and len model dbs 1 Version db alias .update db DEFAULT DB ALIAS else for db content type ids in model dbs Version db alias .filter content type  in content type ids .update db db 
def  auth profile None if profile credentials   salt  ['config.option'] profile user credentials credentials credentials url credentials url name credentials 'keystone.region name None service type credentials type user   salt  ['config.option'] 'keystone.user' password   salt  ['config.option'] 'keystone.password' tenant   salt  ['config.option'] 'keystone.tenant' auth url   salt  ['config.option'] 'keystone.auth url region name   salt  ['config.option'] 'keystone.region name service type   salt  ['config.option'] 'keystone.service type kwargs {'username' user 'password' password 'tenant name tenant 'auth url auth url 'region name region name 'service type service type suoneu Salt Neutron **kwargs
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def volume type extra specs delete context volume type id key return I M P L type extra specs delete context volume type id key 
def test chelsea data 
@apply to text filedef typogrify sans widont data if typo is None req missing ['typogrify'] 'usethetypogrify sans widontfilter data  normalize html data data typo data data typo data data typo quotes data return data 
def picknthweekday year month dayofweek hour minute whichweek first datetime year month 1 hour minute weekdayone first day dayofweek - first % 7 + 1 for n in xrange whichweek dt weekdayone + whichweek - n * ONEWEEK if dt month return dt 
def resize image data sz 256 256 img data str data im Image String I O img data if im ! 'RGB' im im 'RGB' imr im sz resample Image B I L I N E A R fh im String I O imr fh im format 'JPEG' fh im 0 return bytearray fh im 
def add namespace to cmd cmd namespace None return ['ip' 'netns' 'exec' namespace + cmd if namespace else cmd 
def app install app fobj request filename overwrite None did mkdir Falseif filename -4 ] '.w2p' extension 'w2p'elif filename -7 ] '.tar.gz' extension 'tar.gz'else extension 'tar'upname apath '../deposit/%s.%s' % app extension request try write file upname fobj 'wb' path apath app request if not overwrite os path did mkdir Truew2p unpack upname path if extension ! 'tar' os upname fix newlines path return upnameexcept Exception if did mkdir rmtree path return False 
def asynchronous function *args **kwargs return Asynchronous Request function *args **kwargs
def launch local console input stream console log path pattern paths None r w os local script path os MONITORDIR 'console.py' console cmd [sys.executable local script path pattern paths console cmd '--pattern paths %s' % ' '.join pattern paths console cmd + [console log path str w ]warning stream os r 'r' 0 devnull w open os 'w' console proc subprocess Popen console cmd stdin input stream stdout devnull w stderr devnull w os w return console proc warning stream 
def select negation cache selector exclude frozenset cache selector for item in cache selector if item not in exclude yield item 
def  inv impl expr op **kw if hasattr expr 'negation clause return expr clauseelse return expr negate 
def get Child Elements By Tag Name self tag Name result []for child in self Nodes if isinstance child Element if child Name tag Name result child return result 
def title to url title max length 50 title  force unicode title title rx whitespace '_' title title rx notsafe '' title title rx underscore '_' title title title '_' title title if len title > max length title title max length word title '_' if last word > 0 title title last word title or '_'
def vm disk save name kwargs None call None if call ! 'action' raise Salt Cloud System Exit 'hevm disk saveactionmustbecalledwith if kwargs is None kwargs {}disk id kwargs 'disk id None image name kwargs 'image name None image type kwargs 'image type '' snapshot id int kwargs 'snapshot id '-1' if disk id is None or image name is None raise Salt Cloud System Exit "hevm disk savefunctionrequiresa id name server user password  get xml rpc auth ' '.join [user password vm id int get vm id kwargs {'name' name response server auth vm id int disk id image name image type snapshot id data {'action' 'vm.disksave' 'saved' response 'image id response 'error code response data 
def get Radio Plugins Add Plugin Group Frame directory Path important File Names names repository repository Group Frame settings Plugin Group Frame radio Plugins []for name in names radio Plugin settings Radio Plugin .rom Radio name in important File Names repository Group Frame String Var name repository name important File Names radio Plugin Function repository Group Frame Plugins radio Plugin default Radio Button settings Selected Radio Plugin important File Names + [lugins radio Plugins repository Group Frame From Path default Radio Button directory Path repository return radio Plugins 
def  gen unzip it elem len elem next it first elem len len elem if elem len is not None and elem len ! first elem len raise Value Error 'elementatindex0waslength%d expected % first elem len elem len else elem len first elem len yield elem for n elem in enumerate it 1 if len elem ! elem len raise Value Error 'elementatindex%dwaslength%d expected % n len elem elem len yield elem 
def Default Controller name controllers Default Controllers **kwargs controller find Controller controllers if not controller raise Exception 'ouldnotfindadefault Open Flowcontroller return controller name **kwargs
def sentiment comparison statement other statement from nltk import Sentiment Intensity Analyzersentiment analyzer Sentiment Intensity Analyzer statement polarity sentiment analyzer scores statement statement2 polarity sentiment analyzer scores other statement statement greatest polarity 'neu'statement greatest score -1 for polarity in sorted statement polarity if statement polarity > statement greatest score statement greatest polarity polaritystatement greatest score statement polarity greatest polarity 'neu'statement2 greatest score -1 for polarity in sorted statement2 polarity if statement2 polarity > statement2 greatest score statement2 greatest polarity polaritystatement2 greatest score statement2 polarity statement greatest polarity ! statement2 greatest polarity return 0values [statement greatest score statement2 greatest score max values - min values return 1.0 - difference 
def basename path return os path 
def get meta doctype cached True import frappe frappe meta doctype cached cached 
def remove file filename if os filename os filename 
def Init Http api endpoint None page size None auth None connector http connector Http Connector api endpoint api endpoint page size page size auth auth return Grr Api connector connector 
def describe nat gateways nat gateway id None subnet id None subnet name None vpc id None vpc name None states 'pending' 'available' region None key None keyid None profile None return  find nat gateways nat gateway id nat gateway id subnet id subnet id subnet name subnet name vpc id vpc id vpc name vpc name states states region region key key keyid keyid profile profile 
def attach issue custom attributes queryset as field 'issue custom attributes attr model queryset ' E L E C Tjson agg \nrow to json custom attributes issuecustomattribute \ R D E R B Ycustom attributes issuecustomattribute \ R O Mcustom attributes issuecustomattribute W H E R Ecustom attributes issuecustomattribute id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def load train file config file path environ None from pylearn2 import yaml parsesuffix to strip '.yaml'if config file path suffix to strip config file full stem config file path - len suffix to strip ]else config file full stem config file pathos P Y L E A R N2 TRAIN FILE FULL STEM'] config file full stemdirectory config file path '/' [ -1 ]directory '/'.join directory if directory ! '' directory + ' Y L E A R N2 TRAIN DIR'] directoryos P Y L E A R N2 TRAIN BASE NAME'] config file path '/' [ -1 ] Y L E A R N2 TRAIN FILE STEM'] config file full stem '/' [ -1 ]return yaml parse path config file path environ environ 
def relink or drop orphan translationprojects apps schema editor Project apps model u project Project TP apps model u translationproject Translation Project for proj key in set T P list u id flat True if not Project pk proj key .exists for tp in T P project id proj key proj code tp path u [2]projects Project code proj code if projects tp projects tp else tp 
@functools.lru cache def get default timezone return pytz settings T I M E ZONE
def resize quota delta context new flavor old flavor sense compare def  quota delta resource return sense * new flavor - old flavor deltas {}if compare *  quota delta 'vcpus' > 0 deltas  quota delta 'vcpus' if compare *  quota delta 'memory mb > 0 deltas  quota delta 'memory mb return deltas 
def will it float s try return float s except Value Error return s 
@register.filter name 'display list is safe True def display list values display limit if len values 1 display string '%s' % values elif len values < display limit display string ' '.join '%s' % value for value in values -1 ] display string + 'and%s' % values -1 ] else display string ' '.join '%s' % value for value in values display limit display string + and n others values display limit return display string 
@skip 'multiple execute def test no clr attributes class x passfor stuff in [object int float bool str long complex dict set None Not Implemented Ellipsis type test no clr attributes classmethod staticmethod frozenset property sys Base Exception type zip slice buffer enumerate file range xrange type x type x ] for dir stuff in dir stuff if dir stuff 1].isalpha Assert dir stuff 1].islower '%sshouldnotbeanattributeof%s' % dir stuff str stuff 
def deprecate func old new def f *args **kwargs warn deprecate obj old new return func *args **kwargs return f 
def standard b64decode s return b64decode s 
def get next page of all non private commits page size feconf C O M M I T LIST PAGE SIZE urlsafe start cursor None max age None if max age is not None and not isinstance max age datetime raise Value Error 'max agemustbeadatetime None results new urlsafe start cursor more exp models Exploration Commit Log Entry Model all non private commits page size urlsafe start cursor max age max age return [exp domain Exploration Commit Log Entry entry on entry updated entry id entry entry id entry type entry message entry cmds entry entry commit status entry commit community owned entry commit is private for entry in results new urlsafe start cursor more 
def parse reftuple lh container rh container refspec if refspec '+' force Truerefspec refspec ]else force Falserefspec to bytes refspec if ' ' in refspec lh rh refspec ' ' else lh rh refspecif lh '' lh Noneelse lh parse ref lh container lh if rh '' rh Noneelse try rh parse ref rh container rh except Key Error if not '/' in rh rh 'refs/heads/' + rh return lh rh force 
def get int or uuid value try uuid U U I D value return valueexcept Value Error Attribute Error return int value 
def  delete users users return   salt  ['users.delete users users commit False 
@receiver models save sender Verification Status @receiver models delete sender Verification Status def invalidate verification status cache sender instance **kwargs cache key Verification Status key name instance unicode instance id cache cache key 
def lock hass entity id None code None data {}if code data A T T R CODE] codeif entity id data A T T R ENTITY ID] entity idhass DOMAIN SERVICE LOCK data 
def find hg tag path tags {}try client subprocess Popen ['hg' 'cat' '-r' 'tip' '.hgtags'] stdout subprocess P I P E cwd path for line in client [0].splitlines line line if not line continue hash tag line tags tagexcept O S Error returnclient subprocess Popen ['hg' 'parent' '--template' '#node#'] stdout subprocess P I P E cwd path tip client [0].strip tag tags tip if tag is not None return tagreturn tip 
@memoize 'gold-goal' stale True def gold goal on date goal Gold Revenue Goal By Date date if not goal return 0return float goal 
def add Method Names To Dict class Obj dict prefix base Class None for base in class Obj  bases   add Method Names To Dict base dict prefix base Class if base Class is None or base Class in class Obj  bases   for name method in class Obj  dict  .items opt Name name prefix ]if type method is types Function Type and name len prefix ] prefix and len opt Name dict Name 1
def reinit Logging Dir if g Logging Initialized and 'NTA LOG DIR' in os make Directory From Absolute Path os  gen Logging File Path 
def filter hidden settings conf def maybe censor key value mask u * 8 if isinstance value Mapping return filter hidden settings value if isinstance key string t if HIDDEN S E T T I N G S key return maskelif u url in key from kombu import Connectionreturn Connection value .as uri mask mask elif u in key return maybe sanitize url value mask mask return valuereturn {k maybe censor k v for k v in items conf }
def test nextitem single hist monkeypatch hist 'f' monkeypatch hist tmphist 'nextitem' lambda 'item' assert hist 'item'
def  Kinds List To Tuple kinds list return '' [{'kind name kind for kind in sorted kinds list ]
def  minpoly from dense minpoly ring minpoly  ring monom coeff in minpoly minpoly [monom] ring coeff return minpoly 
def s poly cp return lbp sub lbp mul term cp cp lbp mul term cp cp 
def  Auth Facebook Or Google User tester action user dict ident dict device dict user cookie if device dict is None url tester Get Url '/%s/%s' % action ident dict response  Send Auth Request tester url 'GET' user cookie user cookie assert response 302 response tester Get Url '/%s/%s?code code % action ident dict response  Send Auth Request tester url 'GET' user cookie user cookie assert response 302 response response '/view' else if ident dict 'acebook url tester Get Url '/%s/facebook?access token access token % action else url tester Get Url '/%s/google?refresh token refresh token % action request dict  Create Register Request device dict response  Send Auth Request tester url 'POST' user cookie user cookie request dict request dict return response 
def g return 5
def fix unicode dict d new dict {}for key value in d if isinstance value dict new dict fix unicode dict value elif isinstance value tuple new dict fix unicode array list value elif isinstance value list new dict fix unicode array value elif isinstance value str unicode new dict value 'utf-8' 'ignore' else new dict valuereturn new dict 
def team return s3 rest controller 
def chunk list ls items 8 itms []for i v in enumerate ls if i > items and i % items 0 yield itms itms [v]else itms v if itms yield itms 
def trg write uid res type res id cr return Workflow Service cr uid res type res id .write
def user has resource api permission user db resource api permission type if not cfg C O N F return Trueresolver resolvers resolver for permission type permission type permission type result resolver has resource api permission user db user db resource api resource api permission type permission type return result 
def command copy args sources args args files []for file  in sources if '*' in file  selected glob file  source files selected elif os file  source files file  if destpath '/' or os destpath or len sources > 1 destdir destpathelse assert len source files 1 destdir os destpath if not os destdir sys 'copy Createdir % destdir os destdir for source in source files destname os destdir os source sys 'copy %s >%s\n' % source destname shutil source destname return 0
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
def create containers and parents container dn import univention as uexcpassert container dn 'cn ' try parent ldap dn tree parent container dn obj umc module for add 'container/cn' parent obj container dn ' ' [0].split ' ' [1]obj['description'] 'containercreatedbyimport'except uexcp Error create containers and parents parent obj umc module for add 'container/cn' parent obj container dn ' ' [0].split ' ' [1]obj['description'] 'containercreatedbyimport'
def test mkt locale not in django activate 'mn' en trans real translations U S trans real translations en ! mn assert en catalog ! mn catalog 
def delegates task that delegates if not hasattr task that delegates 'subtasks' raise Attribute Error '%sneedstoimplementthemethod"subtasks"' % task that delegates @task. task wraps task that delegates class Wrapped task that delegates def deps self return task self + task [t.deps for t in task self ] def run self for t in task self t task that delegates self return Wrapped 
def  convert bin to numeric type x dtype infer dtype x if dtype 'timedelta' or dtype 'timedelta64' x to timedelta x .view np elif dtype 'datetime' or dtype 'datetime64' x to datetime x .view np return x 
def wavefunction n x n x S n S x return exp n * I * x / sqrt 2 * pi 
def  yield all steps emr conn cluster id *args **kwargs for resp in  repeat  patched list steps emr conn cluster id *args **kwargs for step in getattr resp 'steps' [] yield step 
def setdefaultencoding encoding func getattr sys 'setdefaultencoding' None if func is None import gcimport typesfor obj in gc objects if isinstance obj types Builtin Function Type and obj  name   'setdefaultencoding' func objbreakif func is None raise Runtime Error 'ouldnotfindsetdefaultencoding sys funcreturn func encoding 
def margeff cov with se model params exog cov params at derivative dummy ind count ind method J cov me margeff cov params model params exog cov params at derivative dummy ind count ind method J return cov me np np cov me 
def recipr0 X test np np X 0 return np test 0 1.0 / X
def batch tasks registry xml parent data pdef X M L Sub Element xml parent 'hudson.plugins.batch  task Batch Task Property tasks X M L Sub Element pdef 'tasks' for task in data batch task X M L Sub Element tasks 'hudson.plugins.batch  task Batch Task X M L Sub Element batch task 'name' .text task X M L Sub Element batch task 'script' .text task 
def  eval val onts mdb safe if isinstance val basestring val val if not val return Noneelse return valelif isinstance val dict or isinstance val Saml Base return to dict val onts mdb safe elif isinstance val list lv []for v in val if isinstance v dict or isinstance v Saml Base lv to dict v onts mdb safe else lv v return lvreturn val 
def  Test Save Photos tester user cookie request dict validator tester user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict actual dict tester Send Request 'save photos user cookie request dict  Validate Save Photos tester user id device id request dict tester Compare Response Dicts 'save photos user id request dict {} actual dict return actual dict 
def compute signature message secret if not secret return ''if isinstance secret six type secret secret 'utf-8' digest maker hmac secret '' hashlib for name value in utils keypairs message if name 'message signature continuedigest maker six type name .encode 'utf-8' digest maker six type value .encode 'utf-8' return digest maker 
def test nested dict aliasing ad  Alias Dict {'bar' False 'biz' True aliases {'foo' ['bar' 'nested'] 'nested' ['biz']} eq  ad False eq  ad True ad Trueeq  ad True eq  ad True 
def  parse return code powershell string regex re 'eturn Value \\d* ' string if not regex return False 'ouldnotparse Power Shellreturncode else return int regex 1
def upload pack path '.' inf None outf None if outf is None outf getattr sys 'buffer' sys if inf is None inf getattr sys 'buffer' sys backend File System Backend path def send fn data outf data outf proto Protocol inf send fn handler Upload Pack Handler backend [path] proto handler return 0
def  get win folder from registry csidl name import  winregshell folder name {'CSIDL APPDATA' 'pp Data 'CSIDL COMMON APPDATA' 'ommon App Data 'CSIDL LOCAL APPDATA' 'ocal App Data name  winreg Open Key  winreg H K E Y CURRENT USER 'oftware Microsoft Windows Current Version Explorer Shell Folders directory  type  winreg Query Value Ex key shell folder name return directory 
def get exploration metadata dicts exploration ids editor user id None exploration summaries exp services exploration summaries matching ids exploration ids filtered exploration summaries []for exploration summary in exploration summaries if exploration summary is None continueif exploration summary rights manager A C T I V I T Y STATUS PRIVATE if editor user id is None continueif not rights manager Actor editor user id .can edit feconf A C T I V I T Y TYPE EXPLORATION exploration summary continuefiltered exploration summaries exploration summary return [summary.to metadata dict for summary in filtered exploration summaries 
def shallow copy in list return [x for x in in list 
def libvlc audio set format callbacks mp setup cleanup f  Cfunctions 'libvlc audio set format callbacks None or  Cfunction 'libvlc audio set format callbacks 1 1 1 None None Media Player Audio Setup Cb Audio Cleanup Cb return f mp setup cleanup 
def  escape txt txt txt u u txt txt u u txt txt u u txt txt u u return txt 
@depends HAS PYVMOMI def get vsan eligible disks host username password protocol None port None host names None service instance salt service instance host host username username password password protocol protocol port port host names  check hosts service instance host host names response  get vsan eligible disks service instance host host names ret {}for host name value in six response error value 'rror if error ret {host name {rror error continuedisks value 'ligible if disks and isinstance disks list disk names []for disk in disks disk names disk Name ret {host name {ligible disk names else ret {host name {ligible disks return ret 
def  get rereview themes reviewer locks Theme Lock related .no cache .filter reviewer reviewer theme  rereviewqueuetheme  isnull False .exclude theme  addon  status amo S T A T U S REJECTED num updated locks  calc num themes checkout locks if updated locks locks updated locksthemes Rereview Queue Theme cache .filter theme  addon  isnull False theme  themelock None .exclude theme  addon  status amo S T A T U S REJECTED return num themes locks 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def ensure dtype func argname arg try return dtype arg except Type Error raise Type Error "{func} couldn {arg!r}toanumpydtype.".format func  qualified name func argname argname arg arg 
def channel indices by type info idx dict key list for key in  PICK TYPES KEYS if key not in 'meg' 'fnirs' idx mag list grad list hbo list hbr list for k ch in enumerate info for key in idx if channel type info k key idx k return idx 
def   cprint *args **kwargs if not kwargs 'verbose' True returncolor kwargs 'color' None sep kwargs 'sep' '' end kwargs 'end' '\n' thread threading thread try file  thread output stream thread [ -1 ]except Index Error file  kwargs 'file' sys if color printer queue Print Resource content '\x1b[{}m'.format colors end '' file file  sep sep thread thread printer queue Print Resource content args end '' file file  sep sep thread thread printer queue Print Resource content '\x1b[0m' sep sep end end file file  thread thread else printer queue Print Resource content args sep sep end end file file  thread thread 
def split domain port host host host if not host validation re host return u u if host -1 ] u return host u bits host u ' 1 if len bits 2 return tuple bits return bits u 
def start kernel argv None **kwargs from I Python import launch new instancereturn launch new instance argv argv **kwargs
def orthogonalize *vlist **kwargs orthonormal kwargs 'orthonormal' False if not all isinstance vec Vector for vec in vlist raise Type Error 'achelementmustbeof Type Vector ortho vlist []for i term in enumerate vlist for j in range i term - ortho vlist vlist if simplify term .equals Vector raise Value Error 'ectorsetnotlinearlyindependent ortho vlist term if orthonormal ortho vlist [vec.normalize for vec in ortho vlist ortho vlist 
def dissoc d *keys d2 copy d for key in keys if key in d2 del d2 d2 
def try all threshold image figsize 8 5 verbose True def thresh func 'wrapperfunctiontoreturnathresholdedimage wrapper im return im > func im try wrapper  orifunc   func  orifunc  except Attribute Error wrapper  orifunc   func  module   + '.' + func  name   return wrappermethods Ordered Dict {sodata thresh threshold isodata 'i thresh threshold li 'ean thresh threshold mean 'inimum thresh threshold minimum 'tsu thresh threshold otsu 'riangle thresh threshold triangle 'en thresh threshold yen } return  try all image figsize figsize methods methods verbose verbose 
def task pydocstyle yield {'name' os os 'nikola' 'actions' ["pydocstyle--count--match-dir ' ?!^\\. ?!data .*'nikola/"]}
def get module imports project pymodule return module imports Module Imports project pymodule 
def setcopyright   builtin  .copyright  Printer 'copyright' sys if sys 4] 'java'   builtin  .credits  Printer 'credits' 'ythonismaintainedbythe Jythondevelopers www .' elif sys 'cli'   builtin  .credits  Printer 'credits' 'ron Pythonismaintainedbythe Iron Pythondevelopers www .' else   builtin  .credits  Printer 'credits' 'hanksto C W I CNRI Be Open Zope Corporationandacastofthousands Pythondevelopment Seewww here os os  file     builtin  .license  Printer 'license' 'eehttp //www.python.org/%.3s/license.html' % sys [ I C E N S E 'LICENSE'] [os.path.join here os here os 
def request Pdp Context Activation Reject a Tp Pd pd 8 b Message Type mes Type 69 c Sm Cause packet a / b / c return packet 
def arg *args **kwargs return {'args' args 'kwargs' kwargs 
def parse ls tree rev output []lines git tree rev r True [ T D O U T regex re u \\d+ \\W \\w+ \\W \\w+ [\\t]+ .* $' for line in lines match regex line if match mode match 1 objtype match 2 oid match 3 filename match 4 output mode objtype oid filename return output 
def reiterate iterable if isinstance iterable list tuple return iterableelse iterator iter iterable try chunk ''while not chunk chunk next iterator return itertools [chunk] iterator except Stop Iteration return []
def on Space Data space I D entry I D key value pass 
@commands u u @example u Y T T def update user format bot trigger tformat trigger 2 if not tformat bot u Whatformatdoyouwantmetouse Tryusinghttp //strftime.nettomakeone.' returntz get timezone bot bot None trigger trigger old format bot nick value trigger u format bot nick value trigger u format tformat try timef format time db bot zone tz nick trigger except bot u Thatformatdoesn Tryusinghttp //strftime.nettomakeone." bot nick value trigger u format old format returnbot u Gotit Yourtimewillnowappearas Ifthetimezoneiswrong youmighttrythesettzcommand ' % timef 
def  Check Document Id doc id  Validate String doc id 'doc id MAXIMUM DOCUMENT ID LENGTH  Validate Visible Printable Ascii Not Reserved doc id 'doc id return doc id 
def group pre delete instance sender **kwargs if instance 'anonymous' raise Exception 'eletionoftheanonymousgroupisnotpermittedaswillbreakthegeonodepermissionssystem 
def  is number match OS numobj1 number2 try numobj2 parse number2 UNKNOWN REGION return  is number match OO numobj1 numobj2 except Number Parse Exception _ exc _ sys info if exc type Number Parse Exception I N V A L I D COUNTRY CODE region1 region code for country code numobj1 code try if region1 ! UNKNOWN REGION numobj2 parse number2 region1 match  is number match OO numobj1 numobj2 if match Match Type E X A C T MATCH return Match Type N S N M A T C Helse return matchelse numobj2 parse number2 None keep raw input False  check region False numobj None return  is number match OO numobj1 numobj2 except Number Parse Exception return Match Type N O T A N U M B E Rreturn Match Type N O T A NUMBER
def test validate input report Report items ['a' 'b' 'c']captions [etter A 'etter B 'etter C ' B Cs [irstletterofthealphabet 'econdletterofthealphabet 'hirdletterofthealphabet raises Value Error report validate input items captions -1 ] section comments None assert raises Value Error report validate input items captions section comments comments -1 ] values report validate input items captions section comments None items new captions new comments new valuesassert equal len comments new len items 
def list Coordinates filename coords line .split '/' for line in open filename 'r' coords map int row column zoom for zoom column row in coords coords [oordinate *args for args in coords len coords for offset coord in enumerate coords yield offset count coord 
def get long path name path return  get long path name path 
def unquote unreserved uri try parts uri '%' for i in range 1 len parts h parts 2]if len h 2 and h c chr int h 16 if c in UNRESERVED SET parts c + parts ] else parts '%' + parts else parts '%' + parts return ''.join parts except Value Error return uri 
def head splitter headfile remote module None fail on error False res Noneif os headfile rawdata Nonetry f open headfile 'r' rawdata f f except if fail on error and module module json msg 'nabletoread % headfile if rawdata try rawdata rawdata 'refs/remotes/%s' % remote '' 1 refparts rawdata '' newref refparts -1 ]nrefparts newref '/' 2 res nrefparts -1 ].rstrip '\n' except if fail on error and module module json msg "nabletosplitheadfrom % rawdata return res 
def test saving state include domains hass recorder hass hass recorder {'include' {'domains' 'test2'}} states  add entities hass ['test.recorder' 'test2.recorder'] assert len states 1 assert hass 'test2.recorder' states 
def get Tokens command if type command unicode try command command wx Get Default Py Encoding except Unicode Encode Error passf c String I O String I O command tokens []try def eater *args tokens args tokenize loop f eater except tokenize Token Error passreturn tokens 
@ile System directory current directory 'django' 'chive' def test django admin media serving on django 13 os P Y T H O N P A T H '%s %s' % File System lib directory 'jango OLD PYTHONPATH status out commands 'pythonmanage.pyharvest--verbosity 2./features/' assert not equals status 0 lines out assert u Preparingtoservedjango in lines assert u Django 7000" in lines 
def  flash encryption tweak key key offset tweak range key [ord k for k in key bits [ offset & 1 << x ! 0 for x in range 24 ]for bit in tweak range if offset bits FLASH ENCRYPTION TWEAK P A T T E R N key bit / 8 ] ^ 1 << 7 - bit % 8 return ''.join chr k for k in key 
def  register ogp service url owner None services Service base url url if services > 0 service services dict [{'status' 'ok' 'service id service 'service name service 'service title service 'msg' 'hisisanexisting Service return dictservice Service base url url type 'OGP' method 'H' name 'pen Geo Portal title 'pen Geo Portal abstract OGP ABSTRACT owner owner service default permissions if settings U S E QUEUE Web Service Harvest Layers Job or create service service else  harvest ogp layers service owner owner message 'ervice % service return dict [{'status' 'ok' 'msg' message 'service id service 'service name service 'service title service Http Response json return dict content type 'application/json' status 200
def do ruby command runas None cwd None try command salt split command except Attribute Error command salt split str command return  rvm do ruby command runas runas cwd cwd 
@pytest.fixture scope 'session' def tmpdir factory request return request tmpdirhandler 
def cube width dtype np return np width width width dtype dtype 
def  check roundtrip fixed dip tempdir  Temp Dir dip op tempdir 'test-dip.fif.gz' dip read read dipole op tempdir 'test-dip.fif.gz' assert allclose dip read dip read assert allclose dip read dip assert equal dip read layout dip layout assert equal dip read names dip names for ch 1 ch 2 in zip dip read dip assert equal ch 1['ch name ch 2['ch name for key in 'loc' 'kind' 'unit mul 'range' 'coord frame 'unit' 'cal' 'coil type 'scanno' 'logno' assert allclose ch 1[key] ch 2[key] err msg key 
def wait objects None timeout None count None if objects is None return get hub .join timeout timeout result []if count is None return list iwait objects timeout for obj in iwait objects objects timeout timeout result obj count - 1if count < 0 breakreturn result 
def validate marketing site config settings if settings F E A T U R E S 'ENABLE MKTG SITE' if not hasattr settings 'MKTG URLS' raise Value Error "'ENABLE MKTG S I T E True but M K T G U R L S if not settings M K T G U R L S 'ROOT' raise Value Error "hereisno R O O T M K T G URLS'."
def  get key dir if 'config.get' in   salt   gpg keydir   salt  ['config.get'] 'gpg keydir else gpg keydir   opts  .get 'gpg keydir return gpg keydir or os   opts  ['config dir 'gpgkeys'
def force rss   S C H E D single task rss method 'RSS' 1 kronos None None 
def submit calculate students features csv request course key features task type 'profile info csv class calculate students features csvtask input featurestask key ''return submit task request task type task class course key task input task key 
def evaluation question return s3 rest controller 
def isbinarytext text assert isinstance text str "textmustbestr got % type text .  name   return any c in  BINARYCHARS for c in text 
def document api from discovery document uri http build http response content http F L A G S uri discovery json content service build from document discovery name discovery safe version discovery document collection recursive service '%s %s.' % name version discovery discovery 
def create datacenter call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hecreate addressfunctionmustbecalledwith if kwargs is None kwargs {}if kwargs 'name' is None raise Salt Cloud Execution Failure 'he if kwargs 'location' is None raise Salt Cloud Execution Failure 'he conn get conn datacenter Datacenter name kwargs location kwargs description kwargs 'description' response conn datacenter datacenter  wait for completion conn response 60 'create datacenter return response 
def term all jobs ret []for data in running ret signal job data signal S I G T E R M return ret 
def predicative adjective w adjective if w in adjective predicative return adjective predicative w 'ari' return w + 'o' if w 'ali' 'ili' 'esi' 'nti' 'ori' return w -1 ] + 'e' if w 'isti' return w -1 ] + 'a' if w 'che' 'ghe' return w -2 ] + 'a' if w 'chi' 'ghi' return w -2 ] + 'o' if w 'i' return w -1 ] + 'o' if w 'e' return w -1 ] + 'a' return adjective 
def combine labels left right if set left .intersection right left tuple l + u for l in left right tuple r + u for r in right return left + right 
def test iht sample wt fit iht Instance Hardness Threshold ESTIMATOR random state RND SEED assert raises Runtime Error iht X Y
def hash item item ephemeral paths complete hash config item durable durable hash item ephemeral paths return complete durable 
def iter color groups mapping prefs for key in natsort prefs col name prefs 'colors' in prefs if isinstance prefs dict colors prefs else colors prefs ]else colors {}labelname prefs group by field mapping col name colors data colors data color order get group colors groups colors yield labelname groups colors data colors data color order 
def test write twoline no pad out String I O ascii dat out Writer ascii Fixed Width Two Line delimiter pad '' position char ' ' assert equal splitlines out 'ol1 Col2 Col3 Col4 \n1.2"hello"1a\n2.4\'sworlds22\n'
def test class attribute vals [ [1] * u [2] * u ]texp [ablelength 1>' 'namedtypeunit' '---------------' 'col0float64m' 'col1float64m']qexp [ Tablelength 1>' 'namedtypeunitclass' '-----------------------' 'uantity 'uantity table cls exp in table Table texp table Q Table qexp t table cls vals out String I O t out out assert out .splitlines exp 
def  migrate dashboard stats to latest schema versioned dashboard stats stats schema version versioned dashboard stats versionif not 1 < stats schema version < feconf C U R R E N T DASHBOARD STATS SCHEMA VERSION raise Exception 'orry wecanonlyprocessv1 % feconf C U R R E N T DASHBOARD STATS SCHEMA VERSION
def stacked matmul a b if a > 50 out np like a for i in range a out np a b return outelse return np '...ij ...jk->...ik' a b 
def write metadata im file metadata command ['convert' file + list chain iterable '-set' k v for k v in metadata + [file] util output command return True 
@task@writedef save theme header footer addon **kw dst root os user media path 'addons' str addon header os settings T M P PATH 'persona header header header dst os dst root 'header.png' if footer footer os settings T M P PATH 'persona footer footer footer dst os dst root 'footer.png' try save persona image src header full dst header dst if footer save persona image src footer full dst footer dst create persona preview images src header full dst [os.path.join dst root 'preview.png' os dst root 'icon.png' ] set modified on [addon] theme checksum addon except I O Error addon raise 
def test quantity from table from ...table import Tablet Table data [np.arange 5 np 5 ] names [u'a' u t u u Quantity t assert qa u assert array equal qa t qb u Quantity t assert qb u unscaled assert array equal qb t qap u Quantity t u assert qap u assert array equal qap t * 1000 qbp u Quantity t u assert qbp u assert array equal qbp t 
def  is Default Handler return signal signal S I G C H L D signal S I G DFL
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
@gof.local optimizer [sigmoid] def local ultra fast sigmoid node if isinstance node tensor Elemwise and node op scalar sigmoid out ultra fast sigmoid node copy stack trace node out def values eq approx remove low prec a b return tensor Tensor Type eq approx a b atol 0.02 out eq approx values eq approx remove low precreturn [out]
def  Parse Options message string message Parse From String string return message 
def parse argstring magic func argstring return magic func argstring argstring 
def  assert is type name value value type if not isinstance value value type if type value type is tuple types ' '.join t  name   for t in value type raise Value Error '{0}mustbeoneof {1} '.format name types else raise Value Error '{0}mustbe{1}'.format name value type  name  
@utils.arg '--limit' dest 'limit' metavar '<limit>' help _ 'umberofimagestoreturnperrequest @deprecated imagedef do image list cs  args limit  args list cs limit limit def parse server name image try return image Attribute Error Key Error return ''fmts {erver parse server name list image list ['ID' 'ame 'tatus 'erver fmts sortby index 1
def check object support obj return isinstance obj models Model 
def s get name None if not name return blocks C U R R E N Ts switch name if not blocks R E Q U E S T S key name raise sex Sully Runtime Error ' E Q U E S T S N O T F O U N D %s' % name return blocks R E Q U E S T S 
def  read next string data str len struct '>I' data 4] return data 4 + str len ] data 4 + str len ]
def get lcm config cmd 'et Dsc Local Configuration Manager Select Object Property Configuration Mode Frequency Mins L C M State Reboot Node If Needed Configuration Mode Action After Reboot Refresh Mode Certificate I D Configuration I D Refresh Frequency Mins Allow Module Overwrite Debug Mode Status Retention Time In Days  pshell cmd 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def validate space limit file size from frappe manager import Max File Size Reached Errorlimits get limits if not limits returnspace limit flt limits * 1024.0 2 usage frappe dict limits usage or {} if not usage usage frappe dict update space usage file size file size / 1024.0 ** 2 if flt flt usage + file size 2 > space limit frappe _ u Youhaveexceededthemaxspaceof .format u M B cint space limit if space limit < 1024 else u G B limits u "#usage-info">{0}</a>'.format _ u Clickheretocheckyourusageorupgradetoahigherplan Max File Size Reached Error usage size flt usage size + file size update limits {u'space usage usage 
def default input format content type 'application/json' apply globally False api None def decorator formatter formatter hug format type content type formatter if apply globally hug format type formatterelse apply to api hug A P I api if api else hug object formatter apply to api input format content type formatter return formatterreturn decorator 
def redirect url code None if code is None code 303 if request 'SERVER PROTOCOL' 'HTTP/1.1' else 302 location urljoin request url raise H T T P Response '' status code header dict Location location 
def set font font section 'main' option 'font' C O N F section option + '/family' to text string font C O N F section option + '/size' float font Size C O N F section option + '/italic' int font C O N F section option + '/bold' int font FONT CACHE[ section option ] font 
def dump tokens s f String I O s for type token start end line in generate tokens f if type ENDMARKER breaktype tok name '% type -10.10s% token -13.13r% start s end s % locals 
@receiver comment endorsed def comment endorsed handler sender **kwargs comment kwargs activity kwargs comment long comment id 
def get error detail exc info code getattr exc info u None or u return [rror Detail msg code code for msg in exc info 
def google list style style if 'list-style-type' in style list style style list style in ['disc' 'circle' 'square' 'none'] return 'ul'return 'ol'
def retention policy exists database name **client args if get retention policy database name **client args return Truereturn False 
def check new version myversion version url try version to native urlopen version url .read pversion parse version version pmyversion parse version myversion except I O Error import tracebackprint traceback exc return -1 myversion if pversion 3] + pversion -6 ] > pmyversion 3] + pmyversion -6 ] return True version else return False version 
def test sigmaclip negative axis data np 3 4 sigma clip data axis -1
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def cx Messy One Point ind1 ind2 cxpoint1 random 0 len ind1 cxpoint2 random 0 len ind2 ind1 ] ind2 ] ind2 ] ind1 ] return ind1 ind2 
def request path request url request full url path escape path  rfc3986 url [2] if not path '/' path '/' + path return path 
def oid generated on client oid pid from doc struct '>H' oid 9] [0]return os % 65535 pid from doc 
@manager.option u u action u true help u Loadadditionaltestdata def load examples load test data print u Loadingexamplesinto db data css templates print u Loadingenergyrelateddataset data energy print u Loading World Bank Health Nutritionand Population Stats data world bank health n pop print u Loading Birthnames data birth names print u Loading Randomtimeseriesdata data random time series data print u Loading Randomlong data long lat data print u Loading Multiformattimeseries data multiformat time series data print u Loading Misc Charts data misc dashboard if load test data print u Loading Unicodetestdata data unicode test data 
def get f option opts for opt arg in opts if opt '-f' return argelse return None 
def  get Hg Version filename dirname os not os filename or not os os dirname filename '.hg' return Nonetry hg Parent Lines err shell Call ['hg' 'parents' filename stderr True changeset hg Parent Lines [0].split [ -1 ]except Exception changeset ''try hg I D err shell Call ['hg' 'id' '-nibt' dirname filename ] stderr True except Exception if err hg I D ''if len hg I D or len changeset return hg I D + '|parent ' + changeset else return None 
def Send C G I Response status headers content outfile cors handler None if cors handler cors handler Update Headers headers outfile 'tatus %s\r\n' % status Write Headers headers outfile len content if content else None outfile '\r\n' if content outfile content outfile 0
def read and call uhandle method **keywds line safe readline uhandle errmsg  fails conditions * line **keywds if errmsg is not None raise Value Error errmsg method line 
def is vcs repository path return get vcs root path is not None 
def Instance Action A P I *args **kwargs compute api class name  get compute api class name compute api class importutils class compute api class name class name compute api class  module   + 'nstance Action A P I return importutils object class name *args **kwargs
def convolve in1 in2 mode 'full' method 'auto' volume asarray in1 kernel asarray in2 if volume kernel 0 return volume * kernel if  inputs swap needed mode volume kernel volume kernel kernel volume if method 'auto' method choose conv method volume kernel mode mode if method 'fft' out fftconvolve volume kernel mode mode if volume in 'ui' out np out return out volume if  np conv ok volume kernel mode return np volume kernel mode return correlate volume  reverse and conj kernel mode 'direct'
def should bypass proxies url get proxy lambda k os k or os k no proxy get proxy 'no proxy netloc urlparse url .netlocif no proxy no proxy host for host in no proxy '' '' .split ' ' if host ip netloc ' ' [0]if is ipv4 address ip for proxy ip in no proxy if is valid cidr proxy ip if address in network ip proxy ip return Trueelse for host in no proxy if netloc host or netloc ' ' [0].endswith host return Truetry bypass proxy bypass netloc except Type Error socket bypass Falseif bypass return Truereturn False 
def  popget d key default None if key in d return d key return default 
def harmonic mean data if iter data is data data list data errmsg 'harmonicmeandoesnotsupportnegativevalues'n len data if n < 1 raise Statistics Error 'harmonic meanrequiresatleastonedatapoint elif n 1 x data isinstance x numbers Real Decimal if x < 0 raise Statistics Error errmsg return xelse raise Type Error 'unsupportedtype' try T total count  sum 1 / x for x in  fail neg data errmsg except Zero Division Error return 0assert count n return  convert n / total T
def scale to unit interval ndar eps 1e-08 ndar ndar ndar - ndar ndar * 1.0 / ndar + eps return ndar 
def create Factorial Trial List factors temp List Of Lists [[]]for key in factors alist factors List []for value in alist for iter List in temp List Of Lists temp List iter List + [key value temp List Of Lists temp Listtrial List []for atrial in temp List Of Lists keys atrial 2]values atrial 2ict {}for i in range len keys atrial Dict values List atrial Dict return trial List 
def get default theme is unicode True return u terminus if is unicode else u 
def make kind check python types numpy kind def check value if hasattr value 'dtype' return value numpy kind return isinstance value python types return check 
def mesh surface area verts faces actual verts verts actual verts 0 ] - actual verts 1 ] b actual verts 0 ] - actual verts 2 ] del actual vertsreturn np a b ** 2 .sum axis 1 ** 0.5 .sum / 2.0
def  mix simple a b x x np x 0.0 1.0 return 1.0 - x * a + x * b 
def isinstance obj bases try cls obj  getattr   '  class  ' except Attribute Error try cls obj  class  except Attribute Error cls orig type obj return issubclass cls bases 
def test smooth bootstrap x rs 15 n boot 100out smooth algo x n boot n boot smooth True func np assert not np out smooth in x 
def  load hbase list d prefix ret []prefix 'f %s ' % prefix for key in k for k in d if k prefix ret key prefix ] return ret 
def test redundant multiple bases class Foo list object passclass Bar Foo pass Are Equal Bar []
def load certificate request type buffer if isinstance buffer  text type buffer buffer 'ascii' bio  new mem buf buffer if type FILETYPE PEM req  lib P E M read bio X509 REQ bio  ffi N U L L  ffi N U L L  ffi N U L L elif type FILETYPE ASN1 req  lib X509 REQ bio bio  ffi N U L L else raise Value Error ' I L E T Y P E P E Mor F I L E T Y P E ASN1' if req  ffi N U L L  raise current error x509req X509 Req  new   X509 Req x509req req  ffi req  lib X509 REQ free return x509req 
def libvlc media library load p mlib f  Cfunctions 'libvlc media library load None or  Cfunction 'libvlc media library load 1 None ctypes int Media Library return f p mlib 
def benchmark scale 1 overall Result {ount 1eferred  benchmark Buffered byte Count * scale def did Buffered buffered Result overall Result buffered Resultunbuffered Deferred  benchmark Unbuffered byte Count * scale def did Unbuffered unbuffered Result overall Result unbuffered Resultreturn overall Resultunbuffered Deferred Callback did Unbuffered return unbuffered Deferredbuffered Deferred Callback did Buffered return buffered Deferred 
def is tuple node if isinstance node Node and node [ Paren R Paren ] return Truereturn isinstance node Node and len node 3 and isinstance node Leaf and isinstance node Node and isinstance node Leaf and node u ' and node u '
def poweron hostname timeout 20 username None password None client   connect hostname timeout username password if isinstance client paramiko S S H Client stdin stdout stderr client command 'racadmserveractionpowerup' if 'successful' in stdout log 'powerupsuccessful' else log 'powerupracadmcommandfailed' return Falseelse log ' S H Client return Falsereturn True 
def say hello name None if name is None name u Stranger u Hithere %s!' % name 
def constructor import loader node value loader scalar node if '.' not in value raise yaml Y A M L Error "importtagsuffixcontainsno'.'" return try to import value 
def  get c string data position opts end data '\x00' position return  utf 8 decode data end opts decode error handler True [0] end + 1
def terminal info return {u'size' terminal size u sys }
def has path G source target try sp nx path G source target except nx Network X No Path return Falsereturn True 
def default tax handler request order form set tax request _ u Tax 0
def orthogonalization matrix lengths angles a b c lengthsangles numpy angles sina sinb _ numpy angles cosa cosb cosg numpy angles co cosa * cosb - cosg / sina * sinb return numpy [[ a * sinb * math 1.0 - co * co 0.0 0.0 0.0] [ - a * sinb * co b * sina 0.0 0.0] [ a * cosb b * cosa c 0.0] [0.0 0.0 0.0 1.0]]
def  construct expression coeffs opt domain result EX [] for coeff in coeffs result domain sympy coeff return domain result 
def set Pin pin Number state global P O R T P O R T Pin pin Number state 
def from string s return c Pickle s 
def t2b t clean b rws t if len clean % 2 1 raise Value Error 'vennumberofcharactersexpected return a2b hex clean 
def connect ec2 endpoint url aws access key id None aws secret access key None **kwargs from boto import Region Infopurl urlparse url kwargs purl purl purl not 'is secure in kwargs kwargs secure purl 'https' kwargs Region Info name purl endpoint purl kwargs access key id aws access key idkwargs secret access key aws secret access keyreturn connect ec2 **kwargs
def safe decode hdr msg None name None hdr None charset None if hdr is None value msg and msg or '' charset charset or msg content charset or 'utf-8' else value hdrcharset charset or 'utf-8' if not isinstance value unicode value try decode value charset replace '?' if ' ?' in value and '? ' in value try value value 'utf-8' .replace '"' '' pairs decode header value value ''.join [try decode t cs or charset for t cs in pairs except email Header Parse Error passreturn value '\r' '' .replace ' DCTB ' '' .replace '\n' ''
def text filter formstyle form fields *args **kwargs def render row row id label widget comment hidden False controls DIV DIV LABEL 'earch '  class 'prefix'  class 'large-4columns'  for widget name DIV widget  class 'large-8columns'  class 'rowcollapseprefix-radius'  id row id return controlsif args row id formlabel fields widget comment argshidden kwargs 'hidden' False return render row row id label widget comment hidden else parent TAG[''] for row id label widget comment in fields parent render row row id label widget comment return parent 
def build no log generator container log args yield u W A R N I N G nologsareavailablewiththe container driver 
def bound function template key def wrapper method resolver @functools.wraps method resolver def attribute resolver self ty class Method Template Abstract Template key template keydef generic _ args kws sig method resolver self ty args kws if sig is not None and sig is None sig tyreturn sigreturn types Bound Function Method Template ty return attribute resolverreturn wrapper 
def is builtin name if name in builtins return Trueif name in SPECIAL BUILTINS return Truereturn False 
def  Get Percentile List items percentilelist if not items return Nonesortedlist sorted items return [ Get Percentile sortedlist p for p in percentilelist 
def  most frequent array extra value n repeat if array > 0 mode stats array most frequent value mode frequent count mode most frequent value 0most frequent count 0if most frequent count 0 and n repeat 0 return np most frequent count < n repeat return extra valueelif most frequent count > n repeat return most frequent valueelif most frequent count n repeat if most frequent value < extra value return most frequent valueelse return extra value 
def bench R5 def blowup L n for i in range n L L + L[ i + 1 ] * L[ i + 2 ] def uniq x v set x return v L [x y z L 8 L uniq L
def  Offsets *args return dict a None for a in args 
def authenticate username password service 'login' @CONV F U N Cdef my conv n messages messages p response app data 'impleconversationfunctionthatrespondstoany CALLOC n messages sizeof Pam Response p response cast addr POINTER Pam Response for i in range n messages if messages style PAM PROMPT ECHO OFF pw copy STRDUP str password p response cast pw copy c char p p response retcode 0return 0handle Pam Handle conv Pam Conv my conv 0 retval PAM START service username pointer conv pointer handle if retval ! 0 return Falseretval PAM AUTHENTICATE handle 0 return retval 0
def p unary operator t pass 
def set used ips user defined config inventory used ips user defined config 'used ips if isinstance used ips list for ip in used ips split ip ip ' ' if len split ip > 2 ip range list netaddr iprange split ip split ip -1 ] USED I P S [str i for i in ip range else logger ' P split ip USED I P S split ip for host entry in inventory meta networks host entry 'container networks dict for network entry in networks address network entry 'address' if address logger ' P address USED I P S address 
def print Together Lists By File Names file Names for file Name in file Names together Lists get Together Lists file Name if len together Lists > 0 for together List in together Lists for together in together List function together together 
def abbrev cwd cwd os .replace '\\' '/' drivepart ''tail cwdif sys 'win32' if len cwd < 4 return cwd drivepart tail os cwd parts tail '/' if len parts > 2 tail '/'.join parts -2 ] return drivepart + cwd '/' and '/' or tail 
def del store name store saltenv 'base' ret {'name' name 'result' True 'comment' '' 'changes' {}}cert file   salt  ['cp.cache file name saltenv if cert file is False ret Falseret + 'ertificatefilenotfound cert serial   salt  ['certutil.get cert serial cert file serials   salt  ['certutil.get stored cert serials store if cert serial in serials out   salt  ['certutil.del store cert file store if 'successfully' in out ret nameelse ret Falseret + 'ailedtoremovethecertificate name else ret + '{0}alreadyremoved.'.format name return ret 
def instance get all by host and not type context host type id None return I M P L get all by host and not type context host type id 
def print elapsed time module name elapsed print '%-22s %6.2f' % module name elapsed 
def getmodebase mode return Image Mode mode .basemode
def Get Help Width if not sys or termios is None or fcntl is None return  help widthtry data fcntl sys termios T I O C G W I N S Z '1234' columns struct 'hh' data [1]if columns > 40 return columnsreturn int os 'COLUMNS'  help width except Type Error I O Error struct return  help width 
def trigamma x return polygamma 1 x 
def is numeric batch batch def is numeric batch return isinstance batch np or scipy batch or str type batch "uda Ndarray return  is batch all batch is numeric 
def CDLUNIQUE3RIVER bar Ds count return call talib with ohlc bar Ds count talib C D L U N I Q U E3 R I V E R 
def delete symlink link path if os link path os link path 
def unpickle lazyobject wrapped return wrapped 
def is null datelike scalar other if other is Na T or other is None return Trueelif is scalar other if hasattr other 'dtype' return other 'i8' i Na T elif is integer other and other i Na T return Truereturn isnull other return False 
def bootstrap support master tree trees new master setup master tree master tree trees for sub tree in trees tree support new master sub tree num trees len trees bootstrap supports {}for node in new master Nontips include self True node support node support / num trees bootstrap supports Name node supportreturn new master bootstrap supports 
@protocol.commands.add u list command False def noidle context if not context returncontext set context set context timeout False 
def enable automatic int sympification app hasshell hasattr app 'shell' import astif hasshell old run cell app cellelse old run cell app celldef my run cell cell *args **kwargs try ast cell except Syntax Error passelse cell int to Integer cell old run cell cell *args **kwargs if hasshell app cell my run cellelse app cell my run cell 
def append path oldpath newpath if oldpath return oldpath + ' ' + newpath else return newpath 
def delete dict match skey get key   opts   return skey key match dict match 
def test install from wheel gen uppercase entrypoint script data result script 'install' 'console-scripts-uppercase 1.0' '--no-index' '--find-links ' + data links expect error False if os 'nt' wrapper file script / 'ame else wrapper file script / 'ame assert wrapper file in result created if os ! 'nt' assert bool os script path / wrapper file os X OK
def xhtml to html xhtml try xhtml xhtml except Attribute Error passprefix '{%s}' % XHTML NAMESPACE prefix len len prefix for el in xhtml prefix + '*' el el len ]
def name2unicode name if name in glyphname2unicode return glyphname2unicode STRIP N A M E name if not m raise Key Error name return unichr int m 0
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def traceroute6 target dport 80 minttl 1 maxttl 30 sport Rand Short l4 None timeout 2 verbose None **kargs if verbose is None verbose conf l4 is None a b sr I Pv6 dst target hlim minttl maxttl / TCP seq Rand Int sport sport dport dport timeout timeout filter 'icmp6ortcp' verbose verbose **kargs else a b sr I Pv6 dst target hlim minttl maxttl / l4 timeout timeout verbose verbose **kargs a Traceroute Result6 a if verbose a return a b 
def retry before failing retries NO RETRIES return retry exception Assertion Error timeout None retries retries 
def is like list model or instance relationname if not inspect model or instance model get model model or instance else model model or instancemapper sqlalchemy inspect model relation mapper orm descriptors isinstance relation Association Proxy relation relation attrreturn relation 
def p declarator 1 t pass 
def bitmap2 R Rlist bitmap R Rlist []while bitmap if len bitmap < 2 warning 'bitmaptooshort %i ' % len bitmap returnwindow block ord bitmap offset 256 * window block bitmap len ord bitmap if bitmap len < 0 or bitmap len > 32 warning 'bitmaplengthisnovalid %i ' % bitmap len returntmp bitmap bitmap 2 + bitmap len ]for b in xrange len tmp bitmap v 128for i in xrange 8 if ord tmp bitmap & v R Rlist + [ offset + b * 8 + i ]v v >> 1 bitmap bitmap 2 + bitmap len ]return R Rlist 
def  add dnsmasq accept rules dev table iptables manager port in [67 53] for proto in ['udp' 'tcp'] args {'dev' dev 'port' port 'proto' proto rule 'INPUT' '-i% dev s proto s proto s port s A C C E P T % args iptables manager 
def project pifacc opts T current Treturn {1 T 'PIFACC-1 Implementing Tangible On Ground Adaptation Measures 2 T 'PIFACC-2 Governanceand Decision Making 3 T 'PIFACC-3 Improvingourunderstandingofclimatechange 4 T 'PIFACC-4 Education Trainingand Awareness 5 T 'PIFACC-5 Mitigationof Global Greenhouse Gas Emissions 6 T 'PIFACC-6 Partnershipsand Cooperation }
def differential evolution func bounds args strategy 'best1bin' maxiter 1000 popsize 15 tol 0.01 mutation 0.5 1 recombination 0.7 seed None callback None disp False polish True init 'latinhypercube' atol 0 solver Differential Evolution Solver func bounds args args strategy strategy maxiter maxiter popsize popsize tol tol mutation mutation recombination recombination seed seed polish polish callback callback disp disp init init atol atol return solver 
def symmetric encrypt encrypt key plaintext return binascii encrypt key Encrypt plaintext .upper
def interval encode seconds include sign False s ''orig secondsseconds abs seconds for char amount in time Ordered if seconds > amount i seconds divmod seconds amount s + '%i%s' % i char if orig < 0 s '-' + s elif not orig return '0'elif include sign s '+' + s return s 
def only Py2 test @functools.wraps test def wrapper *args **kwargs msg 'ython2 name test  name   if six P Y3 raise Skip Test msg return test *args **kwargs return wrapper 
def ng model options request return { D I T C A R T NG MODEL OPTIONS' app settings E D I T C A R T NG MODEL OPTIONS u A D D2 C A R T NG MODEL OPTIONS' app settings A D D2 C A R T NG MODEL OPTIONS}
def clique graph id if isinstance id Node id id [id]for n in graph try next id for id in a if n id or graph n id is None except Stop Iteration a n return a 
def  extract member self member targetpath pwd if targetpath -1 ] in os os and len os targetpath [1] > 1 targetpath targetpath -1 ]if member '/' targetpath os targetpath member ] else targetpath os targetpath member targetpath os targetpath upperdirs os targetpath if upperdirs and not os upperdirs os upperdirs if member -1 ] '/' if not os targetpath os targetpath return targetpath extract from zip self member targetpath return targetpath 
def csv validator optdict name value return optik ext csv None name value 
def traverse obj opts visitors return traverse using iterate obj opts obj visitors 
def  validate Setting value policy log 'validating{0}forpolicy{1}'.format value policy if 'ettings in policy if policy Settings if isinstance policy Settings list if value not in policy Settings return Falseelif isinstance policy Settings dict  policydata  policy info if not getattr  policydata policy Settings Function value *ettings Args return Falseelse return Truereturn True 
def one file or folder folder if os folder and os folder cont os folder if len cont 1 folder os folder cont folder one file or folder folder return folder 
def parse unified diff output lines adds []removes []for line in lines if len line > 2 and line 3] '+++' or line 3] '---' continueelif len line > 1 and line 2] '@@' continueelif len line > 0 and line '+' added line line ].lstrip .rstrip if len added line 0 continueadds adds + [added line elif len line > 0 and line '-' removed line line ].lstrip .rstrip if len removed line 0 continueremoves removes + [removed line return adds removes 
def returner doc *args returners  salt   opts   [] docs {}if not args for fun in returners  docs returners [fun].  doc  return  strip rst docs for module in args  use fnmatch Falseif '*' in module target mod module use fnmatch Trueelif module target mod module + '.' if not module '.' else module else target mod ''if  use fnmatch for fun in returners  if fun module or fun target mod docs returners [fun].  doc  else for fun in six returners  if fun module or fun target mod docs returners [fun].  doc  return  strip rst docs 
@ restore ownershipdef create key key type 'RSA' key length 1024 name real 'utogenerated Key name comment 'eneratedby Salt Stack name email None subkey type None subkey length None expire date None use passphrase False user None gnupghome None ret {'res' True 'fingerprint' '' 'message' ''}create params {'key type key type 'key length key length 'name real name real 'name comment name comment  create gpg user gnupghome if name email create params email name emailif subkey type create params type subkey typeif subkey length create params length subkey lengthif expire date create params date expire dateif use passphrase gpg passphrase   salt  ['pillar.get'] 'gpg passphrase if not gpg passphrase ret Falseret 'gpg passphrasenotavailableinpillar retelse create params gpg passphraseinput data gpg key input **create params key gpg key input data if key ret key ' P Gkeypairsuccessfullygenerated ret Falseret 'nabletogenerate G P Gkeypair ret 
def  as Filesystem Bytes path encoding None if type path bytes return pathelse if encoding is None encoding sys return path encoding 
def article2draft article draft Draft article content article article article path article context draft 'draft'return draft 
def  prep label split label subject None subjects dir None if isinstance label Bi Hemi Label raise Type Error 'anonlysplitlabelsrestrictedtoonehemisphere elif isinstance label string types label read label label subjects dir get subjects dir subjects dir raise error True if label is None and subject is None raise Value Error 'hesubjectneedstobespecified elif subject is None subject label label is None passelif subject ! label raise Value Error 'helabelspecifiesadifferentsubject %r fromthesubjectparameter %r .' % label subject return label subject subjects dir 
def assert true expr msg 'alseisnot True if not expr raise Assertion Error msg 
def check increasing x y rho _ spearmanr x y increasing bool rho > 0 if rho not in [ -1.0 1.0] F 0.5 * math 1.0 + rho / 1.0 - rho F se 1 / math len x - 3 rho 0 math F - 1.96 * F se rho 1 math F + 1.96 * F se if np rho 0 ! np rho 1 warnings 'onfidenceintervalofthe Spearmancorrelationcoefficientspanszero Determinationof return increasing bool 
def get conn vm  get configured provider driver get driver Provider D I M E N S I O N D A T A region config cloud config value 'region' vm    opts   user id config cloud config value 'user id vm    opts   key config cloud config value 'key' vm    opts   if key is not None log 'imension Dataauthenticatingusingpassword return driver user id key region region 
def unregister ui review ui if not issubclass review ui File Attachment Review U I raise Type Error u Only File Attachment Review U Isubclassescanbeunregistered try  file attachment review uis review ui except Value Error logging u Failedtounregistermissingreview U I % review ui raise Value Error u Thisreview U Iwasnotpreviouslyregistered 
def degree centrality G centrality {}s 1.0 / len G - 1.0 centrality {n d * s for n d in G }return centrality 
def update collection summary collection id contributor id to add create collection summary collection id contributor id to add 
def generate go library target source env return  generate go package target source env 
def get hosts mapped with segments context segment host mapping network Segment Host Mapping objects context return {row.host for row in segment host mapping 
def all config files user user config files if os 'setup.cfg' return user + ['setup.cfg'] return user 
def strips a b return rstrips lstrips a b b 
def set boot arch arch 'default' if arch not in ['i386' 'x86 64' 'default'] msg 'nvalidvaluepassedforarch Mustbei386 x86 64 ordefault Passed {0}'.format arch raise Salt Invocation Error msg cmd 'systemsetup-setkernelbootarchitecture{0}'.format arch salt utils return success cmd return salt utils updated arch get boot arch 
def modify host id **data rpc utils modify host data host models Host get id rpc utils modify host locking host data host object data 
def  define nrt unresolved abort ctx module fnty ctx conv function type types fn ir Function module fnty name 'nrt unresolved abort bb fn basic block builder ir I R Builder bb msg 'numbajittedfunctionabortedduetounresolvedsymbol'ctx.call conv user exc builder Runtime Error msg return fn 
def preprocess args fun varnames def wrapper f *a **kw if hasattr f 'func code func code f codeelse func code f  code  names func code varnamesnew a [ fun arg if name in varnames else arg for arg name in zip a names ]new kw {k fun v if k in varnames else v for k v in kw }return f *new a **new kw return decorator wrapper 
@task postrun clear request cache **kwargs middleware Request Cache request cache 
def  nose tools trivial transform stub  B U I L D E R build '  all   []' all entries ['ok ' 'eq ']for pep8 name method in  nose tools functions all entries pep8 name stub name methodall assign stub  all  '].parentall object astroid List all entries all object all assignall assign all objectreturn stub 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def  report lines msgs return '' + '\n'.join str msg for msg in msgs 
def print version option opt value parser parser version sys 0
def create instance context user id 'fake' project id 'fake' params None flavor flavors flavor by name 'm1.tiny' net info model Network Info [] info cache objects Instance Info Cache network info net info inst objects Instance context context image ref uuids image ref reservation id 'r-fakeres' user id user id project id project id instance type id flavor flavor flavor old flavor None new flavor None system metadata {} ami launch index 0 root gb 0 ephemeral gb 0 info cache info cache if params inst params inst return inst 
def  cov X shrinkage None shrinkage 'empirical' if shrinkage is None else shrinkage if isinstance shrinkage string types if shrinkage 'auto' sc Standard Scaler X sc transform X s ledoit wolf X [0]s sc [ np * s * sc [np.newaxis ] elif shrinkage 'empirical' s empirical covariance X else raise Value Error 'unknownshrinkageparameter' elif isinstance shrinkage float or isinstance shrinkage int if shrinkage < 0 or shrinkage > 1 raise Value Error 'shrinkageparametermustbebetween0and1' s shrunk covariance empirical covariance X shrinkage else raise Type Error 'shrinkagemustbeofstringorinttype' return s 
def local mean img size 3 structure element np size size dtype img l mean signal img structure element mode 'same' l mean / size ** 2 return l mean 
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def   handle except inst return   standardize result False 'ocker inspect [1][3] '{0}'.format inst None 
def  spawn script output F D py Exe File Path sys .ytes Mode .pathenv bytes Environ env P Y T H O N P A T H File Path pathsep sys .ytes Mode .pathsspp Start Stop Process Protocol reactor Process sspp py Exe [xe File Path   file   .sibling script + '.py' .ytes Mode .path int To Bytes output F D ] env env child F Ds {0 'w' 1 'r' 2 'r' output F D output F D return sspp 
def located Expr expr locator Empty .arse Action lambda s l t l return Group locator 'locn start + expr 'value' + locator .hitespace 'locn end 
def update plex host port token library name section key get music section host port token library name api endpoint 'library/sections/{0}/refresh'.format section key api endpoint append token api endpoint token url urljoin 'http //{0} {1}'.format host port api endpoint r requests url return r 
@utils.arg 'server' metavar '<server>' help _ 'ameor U U I Doftheservertoshowactionsfor start version '2.0' end version '2.20' @utils.arg 'server' metavar '<server>' help _ 'ameor U U I Doftheservertoshowactionsfor Only U U I Dcanbeusedtoshowactionsforadeletedserver start version '2.21' @utils.arg 'request id metavar '<request id help _ 'equest I Doftheactiontoget def do instance action cs args if cs version < api versions A P I Version '2.21' server  find server cs args else server  find server cs args raise if notfound False action resource cs action server args id action action resource dict if 'events' in action action pprint action utils dict action 
def prohibit output data tables None for char in data for check in tables if check char raise String Prep Error u Prohibitedcodepoint %s' % char 
def setlocal name value global dict local dict get twill glocals local dict value 
def convert equals signs result local dict global dict for step in  group parentheses convert equals signs  apply functions  transform equals sign result step result local dict global dict result  flatten result return result 
def skip if ABSTFN contains backslash test found backslash '\\' in ABSTFN msg ' B S T F Nisnotaposixpath [test unittest msg test ][found backslash 
def test project update role points project f Project Factory related role f Role Factory project project computable True null points f Points Factory project project value None user story f User Story Factory project project new related role f Role Factory project project computable True assert user story points 1 assert user story points role new related role points null points .count 0 project role points assert user story points 2 assert user story points role new related role points null points .count 1
def gf lshift f n K if not f return felse return f + [ * n 
def pred probs f log probs options worddict prepare data data iterator verbose False n samples len data probs numpy n samples 1 .astype 'float32' n done 0for _ valid index in iterator x mask ctx prepare data [data[0][t] for t in valid index data worddict maxlen None n words options words pred probs f log probs x mask ctx probs index pred probs None done + len valid index if verbose print '%d/%dsamplescomputed' % n done n samples return probs 
def pretty hex ip length 8 hexval '%x' % ip if len hexval < length hexval '0' * length - len hexval + hexval return hexval 
def fake uname return 'inux '' '' '' ''
def test ast good yield can compile u yield1 '
def test backspace and delete super Console Send Keys 'edirect Start }rue }{ENTER}' test Regex 'onsole Send Keys " Q B A C K S P A C E P E N T E R test Regex + ' P Console Send Keys " W L E F T L E F T D E L E T E X E N T E R test Regex + ' X Console Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex 
def returns model downgrade None upgrade None return attrsetter ' returns model downgrade upgrade 
def  generate Event I D global  next Event I D next Event I D + 1return  next Event I D 
def in main thread return threading thread .  class  .  name   u Main Thread 
def   patch  init   self edgecolor None facecolor None linewidth None linestyle None antialiased None hatch None fill True **kwargs artist Artist  init   self if linewidth is None linewidth mpl Params linestyle is None linestyle 'solid'if antialiased is None antialiased mpl Params edgecolor edgecolor self facecolor facecolor self linewidth linewidth self linestyle linestyle self antialiased antialiased self hatch hatch self fillself combined transform transforms Identity Transform if len kwargs artist self **kwargs
def blaze loader alias if alias not in ['DSC' 'DSK'] returnimport pyamf CLASS C A C H E 
def list dbs **client args client  client **client args return client list database 
def some function input input np input output fortran module function input return output input 
def create database if DBDRIVER in ['sqlite3'] global T E S T D Bif os TESTDB try os TESTDB except time 1 try os TESTDB except Exception print 'ouldnotremove % TESTDB pass T E S T D B temp db filename else  do db create server Bio Seq Database database driver DBDRIVER user DBUSER passwd DBPASSWD host DBHOST db TESTDB try server database sql SQL FILE server server except server raisereturn TESTDB
def copy parser result parser result if type parser result is list return [arser Test Result test for test in parser result isinstance parser result Exception return Parser Exception parser result else raise Unsupported Parser Result Error 
def is event loop running app None if app is None app init qtapp if hasattr app ' in event loop return app in event loopelse return False 
def commands out []for plugin in find plugins out + plugin return out 
def settings module module os D J A N G O SETTINGS MODULE'] module 
def case activity def prep r resource r fields ['case id 'person id name 'person id name 'need id 'need details 'emergency' 'referral details 'followup' 'followup date 'completed']resource.configure list fields list fields insertable False deletable False return Trues3 prepreturn s3 rest controller 
def get real func obj while hasattr obj '  wrapped  ' obj obj  wrapped  if isinstance obj functools obj obj obj 
def test kmr matrix print   name   + '.' + test kmr matrix  name   matrices Matrices for matrix dict in matrices matrix dicts x gth solve matrix dict A yield Stationary Dist Sum One x yield Stationary Dist Nonnegative x yield Stationary Dist Left Eigen Vec matrix dict A x 
def verify expected problem visibility test courseware page expected problems test Equal len expected problems courseware page xblock components 'ncorrectnumberofvisibleproblems for index expected problem in enumerate expected problems test In expected problem courseware page components 
def  check discrete args at method if method in ['dyex' 'eyex'] raise Value Error '%snotallowedfordiscretevariables' % method if at in ['median' 'zero'] raise Value Error '%snotallowedfordiscretevariables' % at 
def permute To Blocks arr blockshape if len blockshape < 2 raise Value Error 'eedmorethanonedimension elif len blockshape 2 blockheight blockwidth blockshapereturn permute To Blocks2d arr blockheight blockwidth elif len blockshape 3 blockdepth blockheight blockwidth blockshapereturn permute To Blocks3d arr blockdepth blockheight blockwidth else raise Not Implemented Error 'nlyfordimensions2and 
def  point cloud error balltree src pts tgt tree dist _ tgt tree src pts return dist 
def get cache limit if sabnzbd W I N32 or sabnzbd D A R W I N return DEF CACHE L I M I Ttry mem bytes os 'SC PAGE SIZE' * os 'SC PHYS PAGES' / 4 if mem bytes > from units DEF CACHE LIMIT return DEF CACHE L I M I Telif mem bytes > from units '32M' return to units mem bytes except passreturn ''
def register and login client username password register client username password return login client username password 
def build urls base appendages urls [base]for i in range len appendages urls base + ''.join appendages i + 1 ] return urls 
def get data file pkg path return io Bytes I O pkgutil data pkg path 
def  spectrogram x fs 1.0 window 'tukey' 0.25 nperseg 256 noverlap None nfft None detrend 'constant' return onesided True scaling 'density' axis -1 mode 'psd' if noverlap is None noverlap nperseg // 8 freqs time Pxy  spectral helper x x fs window nperseg noverlap nfft detrend return onesided scaling axis mode mode return freqs time Pxy 
def mkrefs *objs all Objs {}for obj in objs if isinstance obj pg Qt Core Q Object obj q Object Tree obj else obj [obj]for o in obj all Objs o ] oreturn map weakref all Objs 
def prep for freeze model fields modelsinspector model fields model m2m True for name field in fields fields remove useless attributes field fields Meta remove useless meta modelsinspector model meta model fields Meta name model meta nameif not getattr model meta 'managed' True fields Meta repr model meta return fields 
def current games year None week None kind 'REG' if year is None or week is None year week current year and week guesses []now  now games  games in week year week kind kind for info in games gametime  game datetime info if gametime > now if gametime - now .total seconds < 60 * 15 guesses info elif now - gametime .total seconds <  MAX GAME TIME guesses info current []for guess in guesses game nflgame Game guess if game is not None and game current game return current 
def preprocess release f open 'app.yaml' 'r' content f os 'app.yaml' content content 'oppiaserver' APP NAME d open 'app.yaml' 'w+' d content 
def list security group rules profile None conn  auth profile return conn security group rules 
def  symbolic factor expr opt method if isinstance expr Expr and not expr Relational if hasattr expr ' eval factor return expr eval factor coeff factors  symbolic factor list together expr opt method return  keep coeff coeff  factors product factors elif hasattr expr 'args' return expr *[ symbolic factor arg opt method for arg in expr elif hasattr expr '  iter  ' return expr  class   [ symbolic factor arg opt method for arg in expr else return expr 
def windowposition folder pos None fsr Carbon File F S Ref folder folder alias fsr F S New Alias Minimal openwindow fsr if not pos return  getwindowposition folder alias if type pos Instance Type pos pos pos return  setwindowposition folder alias pos 
def Xor string key return ''.join [chr c ^ key for c in bytearray string ]
def inplace allocempty op idx def wrapper maker @local optimizer [op] inplace True @wraps maker def opt node if type node ! op or node returninputs list node alloc inputs alloc and isinstance alloc Gpu Alloc Empty and len alloc > 1 alloc op gpu alloc empty alloc name dtype alloc inputs alloc op *alloc.owner.inputs return maker node inputs return optreturn wrapper 
def directories equal directory1 directory2 def compare dirs dir1 dir2 'omparedirectoriesforequality filecmp dir1 dir2 if len comparison only > 0 or len comparison only > 0 return Falseif len comparison files > 0 or len comparison files > 0 return Falsefor subdir in comparison if not compare dirs dir1 / subdir dir2 / subdir return Falsereturn Truereturn compare dirs path directory1 path directory2 
def hbox margin spacing *items return box Qt Widgets Q H Box Layout margin spacing *items
def test commented csv t ascii ['#a b '1 2' '#3 4'] format 'csv' assert t ['#a' 'b'] assert len t 2 assert t '#3'
def  sunos cpudata grains {}grains['cpu flags []grains['cpuarch']   salt  ['cmd.run'] 'isainfo-k' psrinfo '/usr/sbin/psrinfo2>/dev/null'grains['num cpus len   salt  ['cmd.run'] psrinfo python shell True .splitlines kstat info 'kstat-pcpu info * * brand line in   salt  ['cmd.run'] kstat info .splitlines match re ' \\w+ \\d+ \\w+\\d+ \\w+ \\s+ .+ ' line if match grains model match 2 isainfo 'isainfo-n-v'for line in   salt  ['cmd.run'] isainfo .splitlines match re '^\\s+ .+ ' line if match cpu flags match 1 .split grains flags cpu flags return grains 
def todate somedate if isinstance somedate datetime return date somedate somedate somedate assert isinstance somedate date Date Time Type repr somedate return somedate 
def test str repr call info monkeypatch monkeypatch 'AWS REGION' 'us-east-1' cinfo calling format store name 'hello-world' assert repr cinfo str cinfo assert repr cinfo "alling Info hello <ubdomain Calling Format 'us-east-1' None " cinfo calling format store name 'hello.world' assert repr cinfo str cinfo assert repr cinfo "alling Info hello <rdinary Calling Format 'us-east-1' 's3.amazonaws.com' " cinfo calling format store name 'ello World assert repr cinfo str cinfo assert repr cinfo "alling Info Hello World <rdinary Calling Format 'us-east-1' 's3.amazonaws.com' "
def check Suhosin Patch injection if injection PLACE.GET debug Msg 'sg + 'constraintingmechanisms'logger.debug debug Msg push Value kb kb injectionrand Int random Int if not check Boolean Expression '%d %s%d' % rand Int '' * SUHOSIN MAX VALUE LENGTH rand Int warn Msg 'sg + 'mechanismdetected e Suhosinpatch .sg + 'otentialproblemsinenumerationphasecanbeexpected warn Msg kb pop Value 
def app backup storage full bucket name None if not makedirs APP BACKUP DIR LOCATION logging "ir Skippingdircreation APP BACKUP DIR LOCATION for dir path _ filenames in os APP DIR LOCATION for filename in filenames source '{0}/{1}'.format dir path filename destination '{0}/{1}'.format APP BACKUP DIR LOCATION filename try shutil source destination except Exception logging "rrorwhilebackingup source delete app tars APP BACKUP DIR LOCATION return Falseif storage Storage Types G C S source '{0}/{1}'.format APP DIR LOCATION filename destination '{0}/apps/{1}'.format full bucket name filename logging 'estination {0}'.format destination if not gcs helper to bucket destination source logging "rrorwhileuploading G C S source delete app tars APP BACKUP DIR LOCATION return Falsereturn True 
@receiver post compress def update angular template hash sender **kwargs context kwargs context name compressed compressed name 'angular template cache preloads cache caches context T H E M E make template fragment key 'angular' ['template cache preloads theme if cache key cache key 
def is Pixel Table Intersecting big Table little Table mask Table {} little Table Keys little Table for little Table Key in little Table Keys if little Table Key not in mask Table if little Table Key in big Table return Truereturn False 
def exception from error queue exception type errors []while True error lib E R R get error if error 0 breakerrors text lib E R R lib error string error text lib E R R func error string error text lib E R R reason error string error raise exception type errors 
def test dirichlet expectation x np -100 10 10000 expectation np like x  dirichlet expectation 1d x 0 expectation assert allclose expectation np psi x - psi np x atol 1e-19 x x 100 100 assert allclose  dirichlet expectation 2d x psi x - psi np x axis 1 [ np rtol 1e-11 atol 3e-09
def get default locale callable exec dir os os   file   xml path os exec dir 'data' 'acebook Locales fb locales  build locale table xml path def default locale request "uessanappropiate F Blocalebasedontheactive Djangolocale Iftheactivelocaleisavailable itisreturned Otherwise \fthere 'en U S 'en U S get language if language locale to locale language lang _ reg locale '_' lang map fb locales lang if lang map is not None if reg in lang map chosen lang + '_' + reg else chosen lang + '_' + lang map return chosenreturn default locale 
def test stacked line stacked Stacked Line stacked 'one two [1 2] stacked 'ten twelve [10 12] q stacked pyquery assert set [v.text for v in q 'desc.value' ] set '1' '2' '11 +10 ' '14 +12 '
def test metaclass call override class mytype type def   call   self *args return argsclass myclass object   metaclass   mytype Are Equal myclass 1 2 3 1 2 3
def get R M Scontrast matrix matrix matrix R M Scontrast sum matrix - numpy matrix ** 2 / len matrix ** 0.5 return R M Scontrast 
@when u def step drop table context context u 
def Object the Type offset vm name None **kwargs name name or the Type offset int offset try if vm type the Type result vm Type offset offset vm vm name name **kwargs return resultexcept Invalid Offset Error return None Object 'nvalid Address0x 08X} instantiating offset name strict vm debug 'antfindobject the Type vm 
def set auth key from file user source config '.ssh/authorized keys saltenv 'base' lfile   salt  ['cp.cache file source saltenv if not os lfile raise Command Execution Error 'ailedtopullkeyfilefromsaltfileserver s keys  validate keys lfile if not s keys err 'okeysdetectedin Isfileproperlyformatted source log err   context  ['ssh auth errreturn 'fail'else rval ''for key in s keys rval + set auth key user key s keys s keys s keys config list s keys if 'fail' in rval return 'fail'elif 'replace' in rval return 'replace'elif 'new' in rval return 'new'else return 'nochange'
def get command from state state command Noneif state 'present' command 'vrouter-ospf-add'if state 'absent' command 'vrouter-ospf-remove'return command 
def test utf8 data jinja 'test.html' var '\\u2603' assert data 'ello 
def libvlc media list lock p ml f  Cfunctions 'libvlc media list lock None or  Cfunction 'libvlc media list lock 1 None None Media List return f p ml 
def sparse categorical crossentropy y true y pred y true tf y true tf y pred logit tf y pred tf return tf mean tf softmax cross entropy with logits y pred y true 
@pytest.mark.parametrize u [hebyshev2 D 1 2 Polynomial2 D 2 Legendre2 D 1 2 Chebyshev1 D 5 Legendre1 D 5 Polynomial1 D 5 ] def test compound with polynomials poly poly [1 2 3 4 1 2]shift Shift 3 model poly | shift x y np 20 37]result compound model x y result shift poly x y assert allclose result result compound 
def parse actor and date line actor epoch offset '' 0 0 m  re actor epoch line if m actor epoch offset m else m  re only actor line actor m 1 if m else line or '' return Actor from string actor int epoch utctz to altz offset 
def eq name value ret {'name' name 'result' False 'comment' '' 'changes' {}}if name not in   reg   ret Falseret 'alue name return retif   reg  [name]['val'] value ret Truereturn ret 
def test scenarios parsed by feature has feature feature Feature string FEATURE2 for scenario in feature assert equals scenario feature 
def batch iterator valid data test y test batchsize valid fn n samples valid data test valid []acc valid []for i in range n samples valid + batchsize - 1 // batchsize sl slice i * batchsize i + 1 * batchsize X batch test data test batch test y test loss vv acc vv valid fn X batch test y batch test loss valid loss vv acc valid acc vv return np loss valid np acc valid 
def rem Hook hook func hook  hooks hook [] if func in hook hook func 
def  equals Ignore Case a b return a b or string a string b 
def find igw vpc conn vpc id igw vpc conn all internet gateways filters {'attachment.vpc-id' vpc id if not igw raise Ansible Igw Search Exception 'o I G Wfoundfor V P C vpc id elif len igw 1 return igw raise Ansible Igw Search Exception 'ultiple I G Wsfoundfor V P C vpc id 
def load cert *names loader  guess loader names -1 ] Open S S L F I L E T Y P E PEM Open S S L F I L E T Y P E ASN1 return Open S S L certificate loader load vector *names
def Out Rbrace Dedent Level Output '}'
def test iqr a np 5 iqr utils a assert equal iqr 2
def get Normal Average normals if len normals < 2 return normals normals + normals .ormalized 
def validate autoaccept val if val 1 raise Validation Error _ 'alueof1isnotallowedforautoacceptaseveryusergivesvotetohissuggestion 
def  volume field return field type Block Device Volume mandatory True factory lambda x x 
def adapt choice f choice f result lambda ids seqs 'ignored' choice f ids return result 
@with setup step runner environ def test behave as step can access the scenario @step '[^"]accessthescenario' def access the scenario step assert equal step 'he Original Scenario try f Feature string FEATURE9 feature result f assert feature result 'hescenariopassedtothebehave asstepdidnotmatch registry 
def f1 score y real y pred return fbeta score y real y pred 1
def testtextextraction document opendocx TEST FILE paratextlist getdocumenttext document assert len paratextlist > 0
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def deserialize key value value secret False if secret Key Value Pair A P I setup crypto value symmetric decrypt Key Value Pair A P I key value return value 
def  aggr mode in List value Counts dict non None 0for elem in in List if elem SENTINEL VALUE FOR MISSING DATA continuenon None + 1if elem in value Counts value Counts + 1else value Counts 1if non None 0 return Nonesorted Counts value Counts sorted Counts cmp lambda x y x - y reverse True return sorted Counts 
def hydrate sources sources field source files digest excluded source files fileset with spec  eager fileset with spec sources field path sources field source files digest excluded source files return Hydrated Field sources field fileset with spec 
def in6 isaddr Teredo x our inet pton socket A F INET6 x [0 4refix inet pton socket A F INET6 conf Prefix [0 4]return teredo Prefix our 
def  decode options packet buff start idx packet {}idx start idxwhile idx < len buff option idx  get string buff idx value idx  get string buff idx if option '' raise Invalid Packet Exception u Emptyoption if value '' raise Invalid Packet Exception u Emptyvalueforoption % repr option packet valuefor k v in packet if k not in OPTIONS raise Invalid Option Exception u Unknownoption % repr k try if k in 'blksize' 'timeout' 'tsize' packet int v else packet vexcept Value Error raise Invalid Option Exception u Invalidvalueforoption %s' % repr k repr v 
@processor for Category exact page True def category processor request page settings cache products Product for user request .filter page .distinct sort options [ slugify option option for option in settings S H O P PRODUCT SORT O P T I O N S by request G E T u sort options if sort options else u added products paginate products by sort by request G E T u 1 settings S H O P PER PAGE CATEGORY settings M A X PAGING LINKS products by sort bysub categories page child categories Category id  in sub categories return {u'products' products u categories child categories 
def categorical crossentropy coding dist true dist if true dist coding dist return - tensor true dist * tensor coding dist axis coding dist - 1 elif true dist coding dist - 1 return crossentropy categorical 1hot coding dist true dist else raise Type Error 'rankmismatchbetweencodingandtruedistributions'
def translate jobconf dict jobconf hadoop version None translated jobconf jobconf translation warnings {}for variable value in jobconf if hadoop version variants [translate jobconf variable hadoop version ]else variants translate jobconf for all versions variable for variant in variants if variant in jobconf continuetranslated jobconf valueif hadoop version translation warnings variantif translation warnings log 'etectedhadoopconfigurationpropertynamesthatdonotmatchhadoopversion \hehavebeentranslatedasfollows hadoop version '\n'.join [ '%s %s' % variable variant for variable variant in sorted translation warnings ] return translated jobconf 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def randoms count alphabet string return ''.join random alphabet for _ in xrange count 
def html body input string source path None destination path None input encoding 'unicode' output encoding 'unicode' doctitle 1 initial header level 1 parts html parts input string input string source path source path destination path destination path input encoding input encoding doctitle doctitle initial header level initial header level fragment parts body output encoding ! 'unicode' fragment fragment output encoding return fragment 
def  get mods evt mods []mods + [ O N T R O L if evt Control Down else [] mods + [ L T if evt Alt Down else [] mods + [ H I F T if evt Shift Down else [] mods + [ E T A if evt Meta Down else [] return mods 
def test g0 from .. import g0assert g0 9.80665 assert g0 9.80665 assert g0 980.665 assert g0 0 assert g0 g0 g0 g0 type u 
def  url for read user id return '{prefix}/users/{user id prefix settings P R E F I X user id user id 
def check html html parser etree H T M L Parser try etree html parser return Trueexcept Exception passreturn False 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def p identifier list 1 t pass 
def adjustments from deltas no sids dense dates sparse dates column idx column name asset idx deltas ad series deltas A D FIELD N A M E 0 0 return {dense dates loc kd overwrite from dates ad series dense dates sparse dates idx v for kd v in deltas name }
def title s *args **kwargs return gca .set title s *args **kwargs
def add Rack Hole derivation vector3 Rack Profiles x xml Element rack Hole euclidean Complex Polygon complex x - derivation Hole Below derivation Hole Radius -13 vector3 Rack Profiles euclidean Vector3 Path rack Hole 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def connect action bool action fn action fn 
def normalize path path resolve symlinks True path expanduser path if resolve symlinks path os path else path os path return os path 
def remove qos tenant id qos id session db session try qos session network models v2 Qo S .filter by tenant id tenant id .filter by qos id qos id .one session qos session return qosexcept exc No Result Found pass 
def  get feeds dir lib dirpath lib not os syspath dirpath os syspath dirpath return dirpath 
def generate age issue time td datetime - issue time age td + td + td * 24 * 3600 * 10 ** 6 / 10 ** 6 return unicode type age 
def y1 zeros nt complex False if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'rgumentsmustbescalarpositiveinteger kf 1kc not complex return specfun nt kf kc 
def get url conn urlopen url resp conn conn return resp 
def get other dvr serviced device owners return [n const D E V I C E OWNER LOADBALANCER n const D E V I C E OWNER LOADBALANCERV2 n const D E V I C E OWNER DHCP]
def  ansi expand style cmap for key val in list cmap if key 'NO COLOR' continueelif len val 0 cmap 'BOLD ' + key ] '1'cmap[ 'UNDERLINE ' + key ] '4'cmap[ 'BOLD UNDERLINE ' + key ] '1;4'cmap[ 'BACKGROUND ' + key ] valelse cmap 'BOLD ' + key ] '1;' + val cmap 'UNDERLINE ' + key ] '4;' + val cmap 'BOLD UNDERLINE ' + key ] '1;4;' + val cmap 'BACKGROUND ' + key ] val '38' '48' 1
def  Add Properties For Non Repeated Scalar Field field cls proto field name field name  Property Name proto field name type checker type checkers Get Type Checker field default value field valuevalid values set def getter self return self fields field default value getter  module   Nonegetter  doc   'etterfor % proto field name def setter self new value self fields type checker Check Value new value if not self cached byte size dirty self Modified setter  module   Nonesetter  doc   'etterfor % proto field name doc 'agicattributegeneratedfor % proto field name setattr cls property name property getter setter doc doc 
def test grouped copy T1 for masked in False True t1 Table T1 masked masked tg t1 by 'a' tgc tg assert np tgc tg assert np tgc tg tac tg assert np tac tg c1 t1 gc1 c1 by t1 gc1c gc1 assert np gc1c np [0 1 4 8]
def to unicode value if not isinstance value six types raise Value Error 'alue % value if not isinstance value six type value six value return value 
def  realize padding it padding Nonefor item in it if isinstance item int padding max padding item continueif padding yield '\n' * padding padding None yield item 
def filter capabilities by languages bears languages languages set language for language in languages language bears capabilities {language set set for language in languages section bears in bears for bear in section bears bear language {language.lower for language in bear L A N G U A G E S | {'all'} & languages language bear language if bear language else '' capabilities language bears capabilities if language else tuple language bears capabilities {language capabilities | bear detect capabilities | bear C A N FIX } if language else {} return language bears capabilities 
def bench optimizer optimizer param grid return sum apply optimizer optimizer func a b for func a b in param grid 
def nolog *allargs pass 
@lru cache def  call fc list timer Timer 5 lambda warnings u Matplotlibisbuildingthefontcacheusingfc Thismaytakeamoment timer try out subprocess output [str u u %{file}\\n'] except O S Error subprocess Called Process Error return []finally timer fnames []for fname in out '\n' try fname six type fname sys except Unicode Decode Error continuefnames fname return fnames 
def tags repo dir None tags {}for n c in list refs repo dir repo dir limit to tags True assert n 'refs/tags/' name n ]if not c in tags tags []tags[c].append name return tags 
def get emboss version child subprocess Popen  escape filename exes stdout subprocess P I P E stderr subprocess S T D O U T universal newlines True shell sys ! 'win32' stdout stderr child child del childassert stderr is None for line in stdout '\n' if line 'eportthecurrent E M B O S Sversionnumber passelif line 'eportsthecurrent E M B O S Sversionnumber passelif line 'ritesthecurrent E M B O S Sversionnumber passelif line '.' 2 return tuple int v for v in line .split '.' elif line '.' 3 return tuple int v for v in line .split '.' [ 3]else raise Missing External Dependency Error 'nstall E M B O S Sifyouwanttouse Bio Emboss %s .' % line raise Missing External Dependency Error 'ouldnotget E M B O S Sversion 
def  read event fid out {'event name read str fid 16 'start lat read float fid 'end lat read float fid 'step size read float fid 'fixed event read int16 fid 'checksum' read int32 fid }fid.seek 32 1  correct offset fid return out 
def acls from account info info acl parse acl version 2 data info 'sysmeta' {} .get 'core-access-control' if acl is None return Noneadmin members acl 'admin' [] readwrite members acl 'read-write' [] readonly members acl 'read-only' [] if not any admin members readwrite members readonly members return Nonereturn {'admin' admin members 'read-write' readwrite members 'read-only' readonly members 
@blueprint.route '/view-config/<extension id methods ['GET'] def view config extension id extension extensions extension extension id if extension is None raise Value Error "nknownextension % extension id config form extension config form template context extension config template config form return flask template string template **context
def threaded reactor global  twisted threadtry from twisted import reactorexcept Import Error return None None if not  twisted thread from twisted import threadablefrom threading import Thread twisted thread Thread target lambda reactor install Signal Handlers False  twisted thread Daemon True  twisted thread return reactor  twisted thread 
def  list To Phrase things final Delimiter delimiter ' ' if not isinstance things list tuple raise Type Error 'hingsmustbealistoratuple if not things return ''if len things 1 return str things if len things 2 return '%s%s%s' % str things final Delimiter str things else str Things []for thing in things str Things str thing return '%s%s%s%s' % delimiter str Things -1 ] delimiter final Delimiter str Things -1 ]
def Get Content Type filename return mimetypes type filename [0] or 'application/octet-stream'
def do title s return soft unicode s .title
def rename and collapse folder oldpath newpath files orgpath oldpathitems globber oldpath if len items 1 folder items path os oldpath folder if os folder path and folder not in 'VIDEO TS' 'AUDIO TS' logging 'ollapsing os newpath folder oldpath folder patholdpath os oldpath newpath os newpath files [os.path.normpath f .replace oldpath newpath for f in files oldpath newpath try remove dir orgpath except passreturn files 
def E nl dirac n l spin up True Z 1 c Float '137.035999037' if not l > 0 raise Value Error "'l'mustbepositiveorzero" if not n > l raise Value Error "'n'mustbegreaterthan'l'" if l 0 and spin up is False raise Value Error 'pinmustbeupforl 0.' if spin up skappa - l - 1 else skappa - l c S c beta sqrt skappa ** 2 - Z ** 2 / c ** 2 return c ** 2 / sqrt 1 + Z ** 2 / n + skappa + beta ** 2 / c ** 2 - c ** 2
def pappus graph G LCF graph 18 [5 7 -7 7 -7 -5 ] 3 G 'appus Graph G
def clean warning registry warnings reg '  warningregistry  'for mod name mod in list sys if 'six.moves' in mod name continueif hasattr mod reg getattr mod reg .clear
def  find alias Function Name Name Function Version None region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile args {unction Name Function Name Function Version args Function Version Function Versionfor aliases in salt call conn aliases **args for alias in aliases 'liases if alias Name Name return aliasreturn None 
def tree decode buf ofs 0while ofs < len buf z buf '\x00' ofs assert z > ofs spl buf z '' 1 assert len spl 2 mode name splsha buf z + 1 z + 1 + 20 ]ofs z + 1 + 20 yield int mode 8 name sha 
def is hidden path if sys 'darwin' return  is hidden osx path or  is hidden dot path elif sys 'win32' return  is hidden win path else return  is hidden dot path 
def wordlist to graph file wordlist dbfile strip True from whoosh import Struct Fileg Graph Corrector word list wordlist strip strip if isinstance dbfile string type dbfile open dbfile 'wb' if not isinstance dbfile Struct File dbfile Struct File dbfile g file dbfile 
def json ser obj if isinstance obj datetime date return obj 
def freedman bin width data return bins False data np data if data ! 1 raise Value Error u n data n < 4 raise Value Error u v25 v75 np data [25 75] dx 2 * v75 - v25 / n ** 1 / 3 if return bins dmin dmax data data Nbins max 1 np dmax - dmin / dx bins dmin + dx * np Nbins + 1 return dx bins else return dx 
def test breadcrumb c Localizing Client response c reverse 'search' doc pq response href doc '.breadcrumbsa' [0]eq  '/' href 
def testnewdocument noimagecopy document docbody relationships imagefiledict simpledoc noimagecopy True coreprops coreproperties 'ythondocxtestnewdocument 'shortexampleofmakingdocxfrom Python 'lan Brooks ['python' 'ffice Open X M L 'ord savedocx document coreprops appproperties contenttypes websettings wordrelationships relationships TEST FILE imagefiledict imagefiledict 
def has tags available required for key value in required if key not in available or value ! available return Falsereturn True 
def tmp path *paths return os os   file   u *paths
@compositedef related deployments strategy draw number of deployments node uuid pool draw node uuid pool strategy deployments set while True deployments draw deployment strategy node uuid pool node uuid pool if len deployments number of deployments return tuple deployments 
def get url conn urlopen url resp conn conn return resp 
def latinize value def replace double character match search u replace u T H C H P Sthchps O U A U E U Ou Au Euouaueu matched match 0 if matched in search return replace matched ]return matchedsearch u u A V G D E Z I I K L M N X O P R S S T U F Oavgdeziiklmnxoprsstyfo replace greek character match matched list match 0 value map lambda l replace l ] matched return u value return re u search replace greek character re u [\u0398\u03a7\u03a8\u03b8\u03c7\u03c8]+|\u039f\u03a5|\u0391\u03a5|\u0395\u03a5|\u039f\u03c5|\u0391\u03c5|\u0395\u03c5|\u03bf\u03c5|\u03b1\u03c5|\u03b5\u03c5 ' replace double character remove accents value 
def num cpus try return psutil count except Attribute Error return psutil N U M CPUS
def assert armijo s phi c1 0.0001 err msg '' phi1 phi s phi0 phi 0 msg 's %s;phi 0 %s;phi s %s;%s' % s phi0 phi1 err msg assert  phi1 < 1 - c1 * s * phi0 msg 
def port list br cmd 'ovs-vsctllist-ports{0}'.format br result   salt  ['cmd.run all cmd retcode result result  stdout list split retcode stdout 
def Is Bucket name return Object Store Has Instance name 
def get collection from model collection model run conversion True versioned collection {'schema version collection model version 'nodes' copy collection model }if run conversion and collection model version ! feconf C U R R E N T COLLECTION SCHEMA VERSION  migrate collection to latest schema versioned collection return collection domain Collection collection model collection model collection model collection model collection model code collection model versioned collection version [collection domain Collection Node dict collection node dict for collection node dict in versioned collection collection model collection model on collection model updated 
def skip Unless D B Feature feature return  deferred Skip lambda not getattr connection feature "atabasedoesn % feature 
def get paths level 15 wildcards ['/']for i in range level wildcards wildcards -1 ] + '*/' p [ 'sympy' + x + 'test *.py' for x in wildcards p 
def translation percent translated total if total 0 or total is None return 0.0perc round 1000 * translated / total / 10.0 if perc 0.0 and translated ! 0 return 0.1if perc 100.0 and translated ! total return 99.9return perc 
def  create eeg el ch t None if ch ! FIFF.FIFFV EEG CH raise Runtime Error ' E Gchannel Cannotcreateanelectrodedefinition % ch name if t is None t Transform 'head' 'head' if t str ! 'head' raise Runtime Error 'nappropriatecoordinatetransformation r0ex  loc to eeg loc ch if r0ex 1 w np [1.0] else w np [1.0 -1.0 ] r0ex apply trans t r0ex T cosmag r0ex  normalize vectors cosmag res dict chname ch name coil class FIFF.FWD COILC EEG w w accuracy  accuracy dict type ch type coord frame t rmag r0ex cosmag cosmag return res 
def to unicode value if not isinstance value six types raise Value Error 'alue % value if not isinstance value six type value six value return value 
def surface column elements clause stack deque [clause] while stack elem stack yield elem for sub in elem children if isinstance sub From Grouping continuestack sub 
def take n iterable return islice iterable n 
def test rgb to hsl part 17 assert rgb to hsl 0 0 51 240 100 10 assert rgb to hsl 0 0 102 240 100 20 assert rgb to hsl 0 0 153 240 100 30 assert rgb to hsl 0 0 204 240 100 40 assert rgb to hsl 0 0 255 240 100 50 assert rgb to hsl 51 51 255 240 100 60 assert rgb to hsl 102 102 255 240 100 70 assert rgb to hsl 153 153 255 240 100 80 assert rgb to hsl 204 204 255 240 100 90
def failure to exc info failure if isinstance failure Failure return failure failure failure Traceback Object 
@image comparison baseline images [u'legend expand remove text True def test legend expand legend modes [one u fig axes list plt len legend modes 1 x np 100 for ax mode in zip axes list legend modes ax x 50 - x u label u 1' l1 ax loc 2 mode mode ax artist l1 ax x x - 50 u label u -1' l2 ax loc 5 mode mode ax artist l2 ax loc 3 mode mode ncol 2
def genslices ndim ndim shape iterables [genslices shape for n in range ndim ]return product *iterables
def libvlc release p instance f  Cfunctions 'libvlc release None or  Cfunction 'libvlc release 1 None None Instance return f p instance 
@not implemented for 'undirected' 'multigraph' def reciprocity G nodes None if nodes is None return overall reciprocity G if nodes in G reciprocity next  reciprocity iter G nodes [1]if reciprocity is None raise Network X Error 'otdefinedforisolatednodes else return reciprocityreturn dict  reciprocity iter G nodes 
def compare psnr im true im test data range None dynamic range None  assert compatible im true im test if dynamic range is not None warn '`dynamic range range The range skimage deprecation data range dynamic rangeif data range is None dmin dmax dtype range true true min true max np im true np im true if true max > dmax or true min < dmin raise Value Error 'im truehasintensityvaluesoutsidetherangeexpectedforitsdatatype Pleasemanuallyspecifythedata range if true min > 0 data range dmaxelse data range dmax - dmin im true im test  as floats im true im test err compare mse im true im test return 10 * np data range ** 2 / err 
def int64 output func argtypes func argtypesfunc c int64return func 
def test dicts objs tokenize '{foobarbarbaz}' assert objs [y Dict ['foo' 'bar' 'bar' 'baz'] ] objs tokenize ' bar ' assert objs [y Expression [y Symbol 'bar' Hy Dict ['foo' 'bar' 'bar' 'baz'] ] ] objs tokenize '{ foobar bazquux }' assert objs [y Dict [y Expression [y Symbol 'foo' Hy Symbol 'bar' ] Hy Expression [y Symbol 'baz' Hy Symbol 'quux' ] ] ]
def  unpickle Function fully Qualified Name from twisted import named Anyreturn named Any fully Qualified Name 
def get Geometric Difference first second return max first second / min first second 
def jenkins build results in Queue None builds None strats []if in Queue is None in Queue booleans strats just pmap without builds fixed dictionaries dict in Queue in Queue if builds is None or builds is NO BUILDS strats without builds if builds is None builds lists jenkins builds average size 1 if builds is not NO BUILDS with builds fixed dictionaries dict in Queue in Queue builds builds property dictionaries text max size 2 text max size 2 average size 1 max size 2 strats with builds return one of *strats
def compare files self result file ref file self Equal result file ref file self Equal result file ref file self Equal result file key ref file key self Equal result file ref file self Equal result file update ref file update self Equal result file type ref file type self Equal result file type ref file type self Equal result file name ref file name 
def dmp inject f u K front False f h dmp to dict f u {} v K - 1 for f monom g in f g g dict for g monom c in g if front h g monom + f monom ] celse h f monom + g monom ] cw u + v + 1 return dmp from dict h w K w 
def combine values *values for v in reversed values if v is not None return velse return None 
def  usage unallocated raw ret {}for line in raw '\n' [1 ] keyset re '\\s+' '' line .split '' if len keyset 2 ret keyset ret 
def test default conv img theano fil theano c theano img fil f theano [img fil c mode theano mode if cuda available assert any [isinstance a Gpu Dnn Conv for a in f nodes else assert any [isinstance a cuda Gpu Corr M M for a in f nodes 
def estrada index G return sum subgraph centrality G .values
def immunohistochemistry return load 'ihc.png'
def parse create or delete message return {'type' message 'event' message 'values' {'user' get owner name message 'subject' get subject message }}
def  get quote state token quote char prev char Nonefor idx cur char in enumerate token if idx > 0 prev char token idx - 1 ]if cur char in '"\'' and prev char ! '\\' if quote char if cur char quote char quote char Noneelse quote char cur charreturn quote char 
def tokenize readline from itertools import chain repeat encoding consumed detect encoding readline rl gen iter readline '' empty repeat '' return  tokenize chain consumed rl gen empty .  next   encoding 
def debug option if g g traceback exc 
def DECLARE key flag flag name flag values FLAGS if flag name in  SPECIAL FLAGS  Internal Declare Key Flags [flag name flag values  SPECIAL FLAGS key flag values flag values return Internal Declare Key Flags [flag name flag values flag values 
def zdt4 individual g 1 + 10 * len individual - 1 + sum xi ** 2 - 10 * cos 4 * pi * xi for xi in individual ] f1 individual g * 1 - sqrt f1 / g return f1 f2 
def backward migrate group curators apps schema editor pass 
def model query context model *args **kwargs session kwargs 'session' or get session read deleted kwargs 'read deleted or context deleted project only kwargs 'project only query session model *args if read deleted 'no' query query by deleted False elif read deleted 'yes' passelif read deleted 'only' query query by deleted True elif read deleted 'int no query query by deleted 0 else raise Exception _ "nrecognizedread deletedvalue % read deleted if project only and is user context context if model models Volume Attachment query query models Volume id context id else query query by project id context id return query 
def find sink node digr node digr [0]while digr node node digr node [0]return node 
def  api shutdown name output kwargs sabnzbd cherrypy sabnzbd S A B S T O P Truereturn report output 
def update contact doc method contact name frappe value u Contact {u'email id doc if contact name contact frappe doc u Contact contact name for key in u name u name u if doc key contact key doc key contact mandatory Truecontact ignore permissions True 
def gpu safe new x tag '' if hasattr x 'name' and x is not None nw name x + tag else nw name Noneif isinstance x theano Constant return x nw x x nw x nw namereturn nw x 
def html format value if not value return ''elif MARKUP LANGUAGE 'markdown' return markdown value elif MARKUP LANGUAGE 'textile' return textile value elif MARKUP LANGUAGE 'restructuredtext' return restructuredtext value elif '</p>' not in value return linebreaks value return value 
def dataset cov n dim 300 2 np 0 C np [[0.0 -1.0 ] [2.5 0.7]] * 2.0 X np [ np np n dim C np np n dim C.T + np [1 4] ]y np np n np n return X y 
def resolve uri s namespaces cdao namespaces cdao to obo True xml style False if cdao to obo and s 'cdao ' return resolve uri 'obo %s' % cdao elements ]] namespaces cdao to obo for prefix in namespaces if xml style s s prefix + ' ' '{%s}' % namespaces else s s prefix + ' ' namespaces return s 
def set by cli var detector set by cli detector is None plugins plugins disco Plugins Registry all reconstructed args helpful parser + [helpful parser detector set by cli prepare and parse args plugins reconstructed args detect defaults True detector detector plugin selection plugin requests detector logger 'efault Detectoris detector if not isinstance getattr detector var  Default return Truefor modifier in VAR M O D I F I E R S var [] if set by cli modifier return Truereturn False 
def retry jenkins session url params print 'etrying url if params jenkins session url + 'ith Parameters data params else jenkins session url + '/build'
def test pooling with anon variable X sym tensor shp 3 3 strd 1 1 im shp 6 6 pool 0 max pool X sym pool shape shp pool stride strd image shape im shp try dnn False pool 1 mean pool X sym pool shape shp pool stride strd image shape im shp 
def get repository name cmd u Get P S Repository name no ret  pshell cmd return name not in list modules 
def test hash vs typeinfo 2 x Symbol 'x' x1 Symbol 'x' even True assert x ! x1 assert hash x ! hash x1 
def ct to rgb temp colorlist list color temperature to rgb color temperature mired to kelvin temp return [int val for val in colorlist 
def unescape xml text def fixup m txt m 0 if txt 2] '&#' try if txt 3] '&#x' return chr int txt -1 ] 16 else return chr int txt -1 ] except Value Error passelse try txt chr entities -1 ]] except Key Error passreturn txtreturn re '&#?\\w+;' fixup text 
def in6 xor a1 a2 return  in6 bitops a1 a2 2
def interface addresses attrs None where None return  osquery cmd table 'interface addresses attrs attrs where where 
@pytest.fixture scope 'module' params ['cpu'] def backend cpu request be get backend request datatype np def cleanup be request 'backend cpu del berequest cleanup return be 
def effectively exploit all w3af enabled plugins stop On First dlg Text Dialog Consumer 'ultiple Exploit exploit task  launch exploit all dlg w3af enabled plugins stop On First gobject add exploit task 
def open with encoding filename encoding None mode u if not encoding encoding detect encoding filename return io filename mode mode encoding encoding newline u 
def nova docstring multiline end physical line previous logical tokens ops [t for t _ _ _ _ in tokens if t tokenize O P ]if is docstring physical line previous logical and len tokens > 0 and len ops 0 pos max physical line i for i in END DOCSTRING TRIPLE if physical line not in START DOCSTRING TRIPLE return pos 'N403 multilinedocstringendonnewline 
@pytest.fixturedef install egg modules tmpdir monkeypatch def inner name base modules tmpdir if not isinstance name str raise Value Error name base name .ensure dir base name .join '  init  .py' .ensure egg setup base 'setup.py' egg setup textwrap "\nfromsetuptoolsimportsetup\nsetup name '{0}' \nversion '1.0' \npackages ['site egg \nzip safe True \n".format name import subprocesssubprocess call [sys.executable 'setup.py' 'bdist egg cwd str modules tmpdir egg path modules tmpdir 'dist/' .listdir monkeypatch prepend str egg path return egg pathreturn inner 
def tax add price tax percentage 21 if price is None return Noneresult price * 100 + tax percentage / D 100 return result D '0.01' ROUND HALF UP
def   Wrap Dispatch dispatch user Name None result C L S I D None typeinfo None Unicode To String None clsctx pythoncom C L S C T X SERVER Wrapper Class None assert Unicode To String is None 'thisisdeprecatedandwillgoaway'if result C L S I D is None try typeinfo dispatch Get Type Info if typeinfo is not None result C L S I D str typeinfo Get Type Attr [0] except pythoncom error Attribute Error passif result C L S I D is not None import gencacheklass gencache Get Class For C L S I D result C L S I D if klass is not None return klass dispatch if Wrapper Class is None Wrapper Class C Dispatchreturn dynamic Dispatch dispatch user Name Wrapper Class typeinfo clsctx clsctx 
def matrix to zero e if isinstance e Matrix if zeros *e.shape e e Integer 0 elif isinstance e numpy ndarray e  numpy matrix to zero e elif isinstance e scipy sparse matrix e  scipy sparse matrix to zero e return e 
@ built in directivedef session context name 'session' request None **kwargs return request and request context name None 
def idd sfrmi l m return  id sfrmi l m 
def cross from above x threshold x np x ind np x -1 ] > threshold & x ] < threshold [0]if len ind return ind + 1 else return ind 
def orphans i o return variables and orphans i o [1]
def  div gf2 a b if a < b return 0 a deg number 0r ad deg b while deg r > d s 1 << deg r - d q ^ sr ^  mult gf2 b s return q r 
def s3 unicode s encoding 'utf-8' if type s is unicode return stry if not isinstance s basestring if hasattr s '  unicode  ' s unicode s else try s unicode str s encoding 'strict' except Unicode Encode Error if not isinstance s Exception raises ''.join [s3 unicode arg encoding for arg in s else s s encoding except Unicode Decode Error if not isinstance s Exception raiseelse s ''.join [s3 unicode arg encoding for arg in s return s 
def dup sqf part f K if K Finite Field return dup gf sqf part f K if not f return fif K negative dup LC f K f dup neg f K gcd dup gcd f dup diff f 1 K K sqf dup quo f gcd K if K Field return dup monic sqf K else return dup primitive sqf K [1]
def  get classes classes {}for class name class dict in  BACKWARDS COMPAT CLASS N A M E S object name class dict name type class dict type object name in OBJECTS or object name in ARRAYS classes name {'object name object name 'base type base type classes name {'object name None 'base type base type object name in TRACE NAMES class name string to class name object name classes name {'object name object name 'base type dict classes 
def get Translator File Type Tuples import Plugin File Names get Import Plugin File Names file Type Tuples []for import Plugin File Name in import Plugin File Names file Type Title import Plugin File Name + 'files' file Type file Type Title '*.' + import Plugin File Name file Type Tuples file Type file Type Tuples return file Type Tuples 
def setup python path collector dir mydir os collector dir libdir os mydir 'collectors' 'lib' if not os libdir returnpythonpath os 'PYTHONPATH' '' if pythonpath pythonpath + ' 'pythonpath + mydiros P Y T H O N P A T H pythonpath L O G 'et P Y T H O N P A T Hto pythonpath 
def instance create context values return I M P L create context values 
def sort Log Nondominated individuals k first front only False if k 0 return []unique fits defaultdict list for i ind in enumerate individuals unique fits ind obj len individuals - 1 fitnesses unique fits front dict fitnesses 0 fitnesses reverse True sort N D Helper A fitnesses obj front nbfronts max front + 1 pareto fronts [[] for i in range nbfronts ]for fit in fitnesses index front fronts unique fits if not first front only count 0for i front in enumerate pareto fronts count + len front if count > k return pareto fronts i + 1 ]return pareto frontselse return pareto fronts 
def avoid outliers y x np -4 2 200j -4 2 200j]z 10 * np x ** 2 + y ** 2 z 100 105 ] 2000z[ 120 110 ] -9000 ls Light Source 315 45 fig ax1 ax2 plt ncols 2 figsize 8 4.5 rgb ls z plt ax1 rgb interpolation 'bilinear' ax1 title 'ullrangeofdata rgb ls z plt vmin -10 vmax 10 ax2 rgb interpolation 'bilinear' ax2 title 'anuallysetrange fig 'voiding Outliersin Shaded Plots size 'x-large'
def couple expr jcoupling list None a expr Tensor Product for tp in a if not all [isinstance state Spin State for state in tp continueif not all [ state  class   is tp  class   for state in tp raise Type Error 'llstatesmustbethesamebasis expr expr tp  couple tp jcoupling list return expr 
def date range start end if getattr start 'date' None is not None start start if getattr end 'date' None is not None end end days end - start .days + 1 return start + datetime days d for d in xrange days 
def restart httpd request notifier .restart 'http' return Http Response 'OK'
def extract host host level 'backend' default pool name False if host is None msg _ 'volumeisnotassignedtoahost' raise exception Invalid Volume reason msg if level 'host' hst host '#' [0]return hst '@' [0]elif level 'backend' return host '#' [0]elif level 'pool' lst host '#' if len lst 2 return lst default pool name is True return DEFAULT POOL N A M Eelse return None 
def func namespace func kls Noneif hasattr func 'im func kls func classfunc func funcif kls return '%s.%s' % kls  module   kls  name   else return '%s.%s' % func  module   func  name  
def  par indices names unique {}for idx name in enumerate names name name if name in unique unique idx else unique [idx]return unique 
def copyfileobj src dst length None if length 0 returnif length is None shutil src dst return B U F S I Z E 16 * 1024 blocks remainder divmod length BUFSIZE for b in xrange blocks buf src BUFSIZE if len buf < BUFSIZE raise I O Error 'endoffilereached' dst buf if remainder ! 0 buf src remainder if len buf < remainder raise I O Error 'endoffilereached' dst buf return 
def flattened iterator l types list tuple if not isinstance l types yield l returnfor element in l for sub element in flattened iterator element types yield sub element 
def project create name domain description None enabled True profile None **connection args kstone auth profile **connection args new getattr kstone  TENANTS None .create name name domain domain description description enabled enabled return tenant get new profile profile **connection args 
def firefox addons attrs None where None if salt darwin return  osquery cmd table 'firefox addons attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def  check and uninstall ruby ret ruby user None ret  ruby installed ret ruby user user if ret if ret   salt  ['rbenv.default'] 'system' runas user if   salt  ['rbenv.uninstall ruby ruby runas user ret Trueret 'ninstalled 'uccessfullyremovedruby retelse ret Falseret 'ailedtouninstallruby retelse ret Trueret 'uby ruby return ret 
def c creates button client objname TOBJ TEMPLATE % client client objname cmds '@create%s %s' % objname TOBJ TYPECLASS '@desc%s testredbutton % objname return cmds 
def yogafire minifest request if not settings Y O G A F I R E GUID return Http Response Not Found return mini manifest request settings Y O G A F I R E GUID
def  apply random func state data size args kwargs state np Random State state data func getattr state func return func size size *args **kwargs
def get swift info admin False disallowed sections None disallowed sections disallowed sections or [] info dict  swift info for section in disallowed sections key to pop Nonesub section dict infofor sub section in section '.' if key to pop sub section dict sub section dict key to pop {} if not isinstance sub section dict dict sub section dict {}breakkey to pop sub sectionsub section dict key to pop None if admin info dict  swift admin info info sections list disallowed sections return info 
def remote file exists file url try handler urllib2 file url handler return Trueexcept urllib2 H T T P Error return False 
def is namespace mutable context namespace if context admin return Trueif context is None return Falsereturn namespace context 
def  compute sph harm order az pol sph harm  get sph harm out np len az  get n moments order + 1 for degree in range order + 1 for order  in range degree + 1 sph sph harm order  degree az pol out  deg ord idx degree order  ]  sh complex to real sph order  if order  > 0 out  deg ord idx degree - order  ]  sh complex to real  sh negate sph order  - order  return out 
def test classification report imbalanced multiclass with unicode label y true y pred _ make prediction binary False labels np [u'blue\xa2' u u y true labels true pred labels pred report u np version 3] < 1 7 0 expected message 'um Py raise message Runtime Error expected message classification report imbalanced y true y pred else report classification report imbalanced y true y pred assert equal  format report report expected report 
def  Add Has Extension Method cls def Has Extension self extension handle  Verify Extension Handle self extension handle if extension handle  Field Descriptor L A B E L REPEATED raise Key Error '"%s"isrepeated.' % extension handle name if extension handle type  Field Descriptor C P P T Y P E MESSAGE value self fields extension handle return value is not None and value is present in parent else return extension handle in self fields cls Has Extension Has Extension 
def request methods view request return Http Response 'requestmethod %s' % request 
def parsed version version return tuple map int version '.' [ 3]
def extract record set records filters sorting pagination rules None limit None id field DEFAULT ID FIELD deleted field DEFAULT DELETED FIELD filtered list apply filters records filters or [] total records len filtered paginated {}for rule in pagination rules or [] values list apply filters filtered rule paginated dict x field x for x in values if paginated paginated paginated else paginated filteredsorted  apply sorting paginated sorting or [] filtered deleted len [r for r in sorted  if r deleted field is True ] if limit sorted  list sorted  [ limit sorted  total records - filtered deleted 
def methods of obj result []for i in dir obj if callable getattr obj i and not i '_' result i getattr obj i return result 
def to unserialized json obj return  cached dfs serialize obj 
def get processor config config settings C C P R O C E S S O R settings C C PROCESSOR NAME {} config key configuration helpers value 'cybersource config key if config key config config key config 
def accept quality accept default 1 quality defaultif accept and ';' in accept accept rest accept ';' 1 accept quality RE ACCEPT Q U A L I T Y rest if accept quality quality float accept quality .get 'quality' quality .strip return quality accept 
def get bdms to connect bdms exclude root mapping False return bdm for bdm in bdms if bdm 'boot index -1 ! 0 or not exclude root mapping 
def educate Quotes Latex s dquotes '``' "''" s single quote start re '\x04' s s double quote start re '\x02' s s double quote sets re '\x01\x03' s s single quote sets re '\x03\x01' s s decade abbr re '\x04' s s opening single quotes regex '\\1\x03' s s closing single quotes regex '\\1\x04' s s closing single quotes regex 2.sub '\\1\x04\\2' s s s "'" '\x03' s opening double quotes regex '\\1\x01' s s closing double quotes regex '\x02' s s closing double quotes regex 2.sub '\\1\x02' s s s '"' '\x01' return s '\x01' dquotes .replace '\x02' dquotes .replace '\x03' '`' .replace '\x04' "'"
@pytest.fixture scope 'session' def log counter return itertools 
def short Python Version return '%s.%s.%s' % sys info 3]
def define average name description manager counters counter  Average Counter name description manager counter return counter 
def debugerror return web Internal Error djangoerror 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get last doc doctype d get all doctype [u'name'] order by u limit page length 1 if d return get doc doctype d else raise Does Not Exist Error 
def  write kegg item info indent KEGG ITEM LENGTH s ''for line in info partial lines line for l in partial lines s s + item indent + l + '\n' if item is not '' item ''return s 
def fetch lyricscom artist title url LYRICSCOM URL PATTERN %  lc encode title  lc encode artist html fetch url url if not html returnlyrics extract text between html '<divid "lyrics"class " C R E E N O N L Y "description">' '</div>' if not lyrics returnfor not found str in LYRICSCOM NOT FOUND if not found str in lyrics returnparts lyrics 'yricspoweredby 1 if parts return parts 
def get hosting service name try return  hosting service registry u service id name except Item Lookup Error return None 
def  scal inplace symbol symbolname symbol  name  inplace symbolname ' inplace if inplace scalar op getattr scal symbolname - len ' inplace ] inplace scalar op scalar op  class   scal type 0 rval elemwise Elemwise inplace scalar op {0 0} name symbolname else scalar op getattr scal symbolname rval elemwise Elemwise scalar op name symbolname if getattr symbol '  doc  ' False rval  doc   symbol  doc   + '\n' + rval  doc   rval  epydoc as Routine symbolrval  module   'theano.tensor.inplace'pprint.assign rval printing Function Printer symbolname ' inplace ' ' return rval 
def is ascii word def onlyascii char if ord char > 127 return ''else return charfor c in word if not onlyascii c return Falsereturn True 
def concatenate tensor list axis 0 concat size sum tt for tt in tensor list output shape for k in range axis output shape + tensor list output shape + concat size for k in range axis + 1 tensor list output shape + tensor list out tensor output shape offset 0for tt in tensor list indices for k in range axis indices + slice None indices + slice offset offset + tt for k in range axis + 1 tensor list indices + slice None out tensor subtensor out tt offset + tt out 
@synchronized CONFIG LOCK def add to database section keyword obj global databaseif section not in database database {}database[section][keyword] obj 
@pytest.mark.parametrize 'sect' configdata D A T A def test section desc sect desc configdata S E C T I O N D E S C isinstance desc str 
def mangle compatibility messages validation compat validation summary k in 'errors' 'warnings' 'notices' validation compat msg in validation if msg type msg msg type 
def isactiveprocess processname all processes ok 0for n c in all if n processname return 1return 0
def format proxy proxy config auth True if not proxy config u return Noneport proxy config u if not port or port < 0 port 80if proxy config u and proxy config u and auth template u //{username} {password}@{hostname} {port}'else template u //{hostname} {port}'return template scheme proxy config u or u username proxy config u password proxy config u hostname proxy config port port 
def adjust start date user days early for beta start course key if days early for beta is None return startif Course Beta Tester Role course key .has user user debug 'djuststarttime userinbetarolefor course key delta timedelta days early for beta effective start - delta return effectivereturn start 
def open file dialog filename Qt Gui Q File Dialog Open File Name filename  format filename filename return filename 
def get prog try if os sys in '  main  .py' '-c' return '%s-msentry' % sys except Attribute Error Type Error Index Error passreturn 'sentry'
def  load credentials file credentials file try credentials file 0 data json credentials file except Exception logger 'redentialsfilecouldnotbeloaded willignoreandoverwrite return {}if data 'file version ! 2 logger 'redentialsfileisnotversion2 willignoreandoverwrite return {}credentials {}for key encoded credential in iteritems data 'credentials' {} try credential json base64 encoded credential credential client Credentials from json credential json credentials credentialexcept logger 'nvalidcredential ignoring key return credentials 
def get bill type bill id prefix re ' [a-z]* ' bill id .group if prefix in bill types return bill types return 'bill'
@bp.route '/signin' methods ['GET' 'POST'] def signin next url request 'next' '/' if g return redirect next url form Signin Form if form on submit login user form form return redirect next url return render template 'account/signin.html' form form 
def keypair add name pubfile None pubkey None profile None conn  auth profile return conn add name pubfile pubkey 
def get Validator schema schema store resolver Local Ref Resolver base uri '' referrer schema store schema store return validator for schema schema resolver resolver format checker draft4 format checker 
def Format File filename style config None lines None print diff False verify False in place False logger None  Check Python Version if in place and print diff raise Value Error 'annotpassbothin placeandprint diff original source newline encoding Read File filename logger reformatted source changed Format Code original source style config style config filename filename lines lines print diff print diff verify verify if reformatted source '\n' lines reformatted source '\n' .split '\n' reformatted source newline line for line in lines + newline if in place if original source and original source ! reformatted source file resources Write Reformatted Code filename reformatted source in place encoding return None encoding changed return reformatted source encoding changed 
def p translation unit 2 t pass 
def html and illegal unicode replace atom element if atom element new element RE XML ILLEGAL C O M P I L E D '' atom element return strip html new element return atom element 
def drop privileges user USER try ent pwd user except Key Error returnif os ! 0 returnos ent gid os ent uid 
def try to eval value try return eval value except Name Error Syntax Error Import Error return value 
def user query kind user id sort time q kind query kind id user id kind spam True False sort db sort sort if time ! 'all' q filter db times return make results q 
def rpr s if s is None return 'one unicode Falseresults []for cc in s ccn ord cc if ccn > 32 and ccn < 127 if cc "'" results '\\' results cc elif cc '\\' results '\\' results cc else results cc else seen unicode Trueif ccn < 65535 results '\\u' results '%04x' % ccn else results '\\U' results '%08x' % ccn result "'" + ''.join results + "'" if seen unicode return 'u ' + result + ' ' else return result 
def join locale comps loc comps comps 'territory' loc + '_' + comps if comps 'codeset' loc + '.' + comps if comps 'modifier' loc + '@' + comps if comps 'charmap' loc + '' + comps return loc 
def to rabbitmq queue arguments arguments **options prepared dictfilter dict  to rabbitmq queue argument key value for key value in items options return dict arguments **prepared if prepared else arguments 
def consume queue queue get queue nowaitwhile 1 try yield get except Empty break 
def register identifier data format data class identifier force False if not data format data class in  identifiers or force  identifiers data format data class ] identifierelse raise I O Registry Error u Identifierforformat data format data class  name  
def run cmd cmd shell False args shlex cmd try sp subprocess Popen args shell shell stdout subprocess P I P E stderr subprocess P I P E close fds True except O S Error raise Exception ' Serrorrunningcommand % cmd output err sp rc sp rc ! 0 raise Exception 'ommandreturnreturncode error %s' % rc err return output 
def add device device None device class None collector 'localhost' prod state 1000 if not device device   salt  ['grains.get'] 'fqdn' if not device class device class  determine device class log 'ddingdevice device data dict device Name device device Class device class model True collector collector production State prod state response  router request 'evice Router 'evice data [data] return response 
def  get child branches trie return trie ]
def  Varint Size value if value < 127 return 1if value < 16383 return 2if value < 2097151 return 3if value < 268435455 return 4if value < 34359738367 return 5if value < 4398046511103 return 6if value < 562949953421311 return 7if value < 72057594037927935 return 8if value < 9223372036854775807 return 9return 10
def Exponential name rate return rv name Exponential Distribution rate 
def filename task task session items task if task album else [task.item] missing titles sum bad title i for i in items if missing titles names {}for item in items path displayable path item name _ os os path names namefor pattern in PATTERNS d all matches names pattern if d apply matches d 
def  subject from inverse inverse operator return inverse operator 'subject his id None 
def  log key match return tuple k v for k v in sorted match if k not in 'log type 'path'
def enable request namespace warnings 'namespace manager request namespace isdeprecated uselib configinstead Deprecation Warning stacklevel 2 if  ENV CURRENT NAMESPACE not in os if  ENV DEFAULT NAMESPACE in os os ENV CURRENT NAMESPACE] os ENV DEFAULT NAMESPACE]
def hermitenorm n monic False if n < 0 raise Value Error 'nmustbenonnegative.' if n 0 n1 n + 1 else n1 n x w mu0 roots hermitenorm n1 mu True wfunc lambda x exp - x * x / 2.0 if n 0 x w [] [] hn sqrt 2 * pi *  gam n + 1 kn 1.0p orthopoly1d x w hn kn wfunc wfunc limits - inf inf monic monic eval func lambda x eval hermitenorm n x return p 
@app.route '/headers' def view headers return jsonify get dict 'headers'
def  bool fallback a b if a is None assert isinstance b bool return belse assert isinstance a bool return a 
def  chrcls allowed chars return u + UNSAFE CHAR STRING + str u VALID CHARS - allowed chars .replace u u .replace u u .replace u u 
def prewitt h image mask None assert n D image 2 image img as float image result convolve image HPREWITT WEIGHTS return  mask filter result result mask 
def test S A M P Client Error S A M P Client Error 'test'
def is nan builder val return builder unordered 'uno' val val 
def default test processes if not hasattr os 'fork' return 1try return int os D J A N G O TEST PROCESSES'] except Key Error return multiprocessing count 
def  find tcl tk hook api bins select Imports hook api  file   if is darwin if not bins bins get Imports hook api  file   mapping {}for l in bins mapping l ] lbins [ 'cl mapping Tcl 'k mapping Tk ]path to tcl bins 'ibrary Frameworks in path to tcl tcl tk  find tcl tk darwin frameworks bins else tcl tk  find tcl tk dir else tcl tk  find tcl tk dir return tcl tk 
def  get incron cmdstr path return 'incrontab{0}'.format path 
def  format info data return {'gid' data gid 'groups' list groups data name 'home' data dir 'name' data name 'shell' data shell 'uid' data uid 'fullname' data gecos 
def template allocate call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hetemplate allocatefunctionmustbecalledwith if kwargs is None kwargs {}path kwargs 'path' None data kwargs 'data' None if data if path log "oththe elif path data salt path mode 'r' .read else raise Salt Cloud System Exit "hetemplate allocatefunctionrequireseither server user password  get xml rpc auth ' '.join [user password response server auth data ret {'action' 'template.allocate' 'allocated' response 'template id response 'error code response ret 
def require not initialized exception def decorator method @wraps method def wrapped method self *args **kwargs if self raise exceptionreturn method self *args **kwargs return wrapped methodreturn decorator 
def in6 chksum nh u p ph6 Pseudo I Pv6 ph6 nhrthdr 0hahdr 0final dest addr found 0while u ! None and not isinstance u I Pv6 if isinstance u I Pv6 Ext Hdr Routing and u ! 0 and len u ! 0 and final dest addr found 0 rthdr u -1 ]final dest addr found 1elif isinstance u I Pv6 Ext Hdr Dest Opt and len u 1 and isinstance u HAO hahdr u u u is None warning 'o I Pv6underlayertocomputechecksum Leavingnull return 0if hahdr ph6 hahdrelse ph6 u rthdr ph6 rthdrelse ph6 u len p ph6s str ph6 return checksum ph6s + p 
def  edge func G if G multigraph def get edges nbunch None return G nbunch keys True else def get edges nbunch None return G nbunch return get edges 
def increase stream retention period stream name retention hours region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile r  execute with retries conn 'increase stream retention period Stream Name stream name Retention Period Hours retention hours if 'error' not in r r Truereturn r 
def contains whitespace text return any x for x in text 
def proto2methodprotofunc proto return proto '' '' .replace ' ' '' .replace '[' '' .replace ' ' '' .replace '/' '_' .replace ';' ''
def test repr latex scangle Angle 2.1 u rlscangle scangle repr latex  arrangle Angle [1 2.1] u rlarrangle arrangle repr latex  assert rlscangle u assert rlscangle u [1] in rlarrangle bigarrangle Angle np 50000 / 50000.0 u assert u in bigarrangle repr latex 
def Check Output File filename full path os filename if os full path raise File Exists Error '%s outputfileexists % filename elif not os os full path os W OK raise File Not Writable Error '%s notwritable % os full path 
def Double To String Address number number int number address '%i.%i.%i.%i' % number >> 8 * 3 & 255 number >> 8 * 2 & 255 number >> 8 & 255 number & 255 return address 
def fix xml ampersands xml str return re u ? F 4};|#[0-9]{ 4}; ' u xml str 
def get n primes near x number target if target 1 and number 1 return [1]primes []i target - 1 if i % 2 0 i - 1while len primes ! number and i > 0 if is prime i primes int i i - 2if len primes ! number raise Runtime Error 'unabletofind%dprimenumbers<%d' % number target return primes 
def close *args if len args 0 fig Manager  pylab helpers Gcf active if fig Manager is None returnelse  pylab helpers Gcf fig Manager elif len args 1 arg args arg u  pylab helpers Gcf all elif isinstance arg six types  pylab helpers Gcf arg elif hasattr arg u  pylab helpers Gcf arg elif is string like arg all Labels get figlabels if arg in all Labels num get fignums [abels arg ] pylab helpers Gcf num elif isinstance arg Figure  pylab helpers Gcf fig arg else raise Type Error u Unrecognizedargumenttype % type arg else raise Type Error u 
@ndb.taskletdef  make token async scopes service account id rpc app identity rpc app identity get access token call rpc scopes service account id token expires at yield rpc raise ndb Return token expires at 
def  connect secureish *args **kwargs if tuple int x for x in boto  version  .split '.' > 2 6 0 kwargs certs Truekwargs secure Trueauth region name kwargs 'auth region name None conn connection S3 Connection *args **kwargs if auth region name conn region name auth region namereturn conn 
def glyph role name rawtext text lineno inliner options {} content [] target options 'target' None glyph name 'glyphicon-{}'.format text if target target utils target new element nodes rawtext '' refuri target else new element nodes classes options 'class' [] classes + ['glyphicon' glyph name custom class in classes new element class custom class return [new element []
@abortsdef test require noniterable provided by key def fake providing function passrequire 'foo' provided by fake providing function 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def  compute reprs net in net layers style layers content gram scale 1 repr s repr c {} {} net net innet for layer in set layers style | set layers content F net F F -1 repr c Fif layer in layers style repr s sgemm gram scale F F.T return repr s repr c 
def load data file fname directory None force download False  url root 'http //github.com/vispy/demo-data/raw/master/'url  url root + fname if directory is None directory config path directory is None raise Value Error 'config["data path sodirectorymustbesupplied fname op directory op fname if op fname if not force download return fnameif isinstance force download string types ntime time force download ' ftime time op fname if ftime > ntime return fnameelse print 'ileolderthan updating % force download if not op op fname os op op fname  fetch file url fname return fname 
def unpack unicode data pos lenlen 2 nchars unpack '<' + 'BH'[ lenlen - 1 ] data pos + lenlen ] [0]if not nchars return UNICODE LITERAL '' pos + lenlenoptions BYTES ORD data pos + 1if options & 8 pos + 2if options & 4 pos + 4if options & 1 rawstrg data pos + 2 * nchars ]strg unicode rawstrg 'utf 16 le else strg unicode data pos + nchars ] 'latin 1' return strg 
def url validator key data errors context import urlparseimport stringmodel context context data key None if not url returnpieces urlparse url if all [pieces.scheme pieces and set pieces < set string + string + '-.' and pieces in ['http' 'https'] returnerrors _ 'leaseprovideavalid U R L 
def no assert true false is not logical line  re re 'assert True False \\ .+\\s+is\\s+ not ?.+\\ $' if  re logical line yield 0 'N356 assert True Ais B orassert False Ais B sentencesmustnotbeused Useassert Is A B orassert Is Not A B instead 
def convert string to number value if value is None return 1if isinstance value int return valueif value return int value num list map lambda s hashnum s re numbers + '+' value re I G N O R E C A S E return sum num list 
@pytest.mark.parametrize u class [cls for cls in list linear1d + list linear2d if isinstance cls Polynomial Base ] def test polynomial init with constraints model class if u D in model class  name   param u param u 0'if issubclass model class Ortho Polynomial Base degree 2 2 else degree 2 m model class fixed {param True *degree assert m is True assert getattr m param .fixed is True 
def  imshow tfr unified bn ch idx tmin tmax vmin vmax onselect ylim None tfr None freq None vline None x label None y label None colorbar False picker True cmap 'd Bu r title None hline None  compute scalings bn tmin tmax freq freq -1 ] ax bn lines bn linesextent bn t + bn s * tmin bn t + bn s * tmax bn t + bn s * freq bn t + bn s * freq -1 ] data lines ax tfr idx clip on True clip box bn extent extent aspect 'auto' origin 'lower' vmin vmin vmax vmax cmap cmap 
def splititer pattern string maxsplit 0 flags 0 concurrent None **kwargs return  compile pattern flags kwargs .splititer string maxsplit concurrent 
def  make graph edges 3d n x n y n z vertices np n x * n y * n z .reshape n x n y n z edges deep np vertices -1 ].ravel vertices 1 ].ravel edges right np vertices -1 ].ravel vertices 1 ].ravel edges down np vertices -1 ].ravel vertices ].ravel edges np edges deep edges right edges down return edges 
def block until http ready urlstring wait time 10 timeout 240 server ready Falset elapsed 0while not server ready and t elapsed < timeout try sys '.' sys req urllib2 Request urlstring response urllib2 req server ready Trueexcept urllib2 U R L Error passtime wait time t elapsed + wait time 
def build http if socket is not None http timeout socket else http timeout DEFAULT HTTP TIMEOUT S E Creturn httplib2 Http timeout http timeout 
def  get Random Number random bits if bits % 8 raise Value Error 'bits %d mustbeamultipleof8 % bits bytes random bits / 8 result Util to long bytes return result 
def opener some file command print 'pening % some file '../' os '%s%s' % command some file 
def D N S Service Browse flags 0 interface Index k D N S Service Interface Index Any regtype  NO DEFAULT domain None call Back None  NO D E F A U L T regtype @ D N S Service Browse Replydef  callback sd Ref flags interface Index error Code service Name regtype reply Domain context if call Back is not None call Back sd Ref flags interface Index error Code service Name regtype reply Domain  global lock try sd Ref  D N S Service Browse flags interface Index regtype domain  callback None finally  global lock sd Ref add callback  callback return sd Ref 
def curl head command ip port device part target policy index if is valid ipv6 ip formatted ip '[%s]' % ip else formatted ip ipcmd ' X H E A D //%s %s/%s/%s/%s"' % formatted ip port device part urllib target if policy index is not None cmd + ' %s"' % ' Backend Storage Policy Index policy index return cmd 
def call switch *args **kwargs out dict devices  get lights for dev id in 'id' not in kwargs and sorted devices or  get devices kwargs if 'on' in kwargs state kwargs and Const L A M P ON or Const L A M P OFF else state devices dev id ]['state']['on'] and Const L A M P OFF or Const L A M P ON out id  set dev id state return out 
def test relu x K ndim 2 f K [x] [activations.relu x ] test values get standard values result f [test values [0]assert allclose result test values rtol 1e-05
def make url filename path abspath filename last modified os path .st mtimeif settings A S S E T S EXPIRE 'querystring' result '%s?%d' % filename last modified elif settings A S S E T S EXPIRE 'filename' name filename '.' 1 if len name > 1 result '%s.%d.%s' % name last modified name else result '%s.%d' % name last modified elif not settings A S S E T S EXPIRE result filenameelse raise Value Error 'nknownvaluefor A S S E T S E X P I R Eoption %s' % settings A S S E T S EXPIRE return absurl result 
def get Manipulated Geometry Output geometry Output xml Element scale Points matrix Connection Vertexes geometry Output 'scale.' xml Element return geometry Output 
def pow neg p max denom 1024 assert p < 0 p Fraction p p Fraction p / p - 1 .limit denominator max denom return p / p - 1 p 1 - p 
def fidelity state1 state2 state1 represent state1 if isinstance state1 Density else state1 state2 represent state2 if isinstance state2 Density else state2 if not isinstance state1 Matrix or not isinstance state2 Matrix raise Value Error 'ensityor Matrixreceivedtype %sforstate1andtype %sforstate2' % type state1 type state2 if state1 ! state2 and state1 square raise Value Error 'hedimensionsofbothargsshouldbeequalandthematrixobtainedshouldbeasquarematrix sqrt state1 state1 ** Rational 1 2 return Tr sqrt state1 * state2 * sqrt state1 ** Rational 1 2 .doit
def Application End Request app e pass 
def get files recursive src fmt for root dirnames filenames in os src for filename in fnmatch filenames '*' + fmt yield os root filename 
def eigenhproblem standard desc dim dtype overwrite lower turbo eigenvalues if iscomplex empty 1 dtype dtype a  complex symrand dim dtype else a symrand dim .astype dtype if overwrite a c a else a c a w z eigh a overwrite a overwrite lower lower eigvals eigenvalues assert dtype equal z dtype w w dtype diag  diag dot z T dot a c z .realassert array almost equal diag  w D I G I T S 
def action allowed user user app action allowed any match rules group app action for group in user return allowed 
def urlencode query if isinstance query dict query query return u [u' '.join [escape k escape v ] for k v in query 
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def iterator impl iterable type iterator type def wrapper cls iternext cls impldef iternext wrapper context builder sig args result value argsiterobj cls context builder value return iternext iterobj context builder result lower builtin 'iternext' iterator type iternext wrapper return clsreturn wrapper 
def   Version Is Supported desired Version service Version Description root service Version Descriptionif root 'namespaces' if root 'version' ! '1.0' raise Runtime Error 'ervice Versions whichisnotunderstood % root 'version' desired Version Id version Id Map Version Version Nonefor namespace in root 'namespace' version Id namespace 'version' if version Id desired Version Id return Trueelse for version Id in namespace 'ersions if version Id desired Version Id return Trueelse wsdl N S 'http /lement service Version Description './/{%s}import' % wsdl N S supported Version version Map Element 'namespace' [4 ]]if Is Child Version supported Version desired Version return Truereturn False 
def  Execute Query results query filters orders index list orders  Guess Orders filters orders dsquery  Make Query query filters orders if query name size results  Create Index Only Query Results results set order for order in orders return List Cursor query dsquery orders index list datastore query query dsquery results 
def datetime to iso timestamp return datetime timestamp ' H %M %S' .isoformat
def check old queue old Falseif not os os cfg dir path QUEUE FILE NAME for ver in QUEUE VERSION - 1 QUEUE VERSION - 2 QUEUE VERSION - 3 data load admin QUEUE FILE TMPL % str ver if data breaktry old bool data and isinstance data tuple and len data except Type Error Index Error passif old and sabnzbd W I N32 and ver < 10 and sabnzbd D I R LCLDATA ! sabnzbd D I R HOME and misc relative path cfg dir cfg dir 'ocuments + cfg dir return old 
def cc test name srcs [] deps [] warning 'yes' defs [] incs [] embed version False optimize [] dynamic link None testdata [] extra cppflags [] extra linkflags [] export dynamic False always run False exclusive False heap check None heap check debug False **kwargs cc test target Cc Test name srcs deps warning defs incs embed version optimize dynamic link testdata extra cppflags extra linkflags export dynamic always run exclusive heap check heap check debug blade kwargs blade target cc test target 
def get entity kind key path if isinstance key path entity pb Entity Proto key path key path return key path .element list [ -1 ].type
def fake get value name default None return FAKE S I T E name default 
def consistencygroup create context values cg snap id None cg id None return I M P L create context values cg snap id cg id 
def record affiliate registration attribution request user affiliate id request C O O K I E S settings A F F I L I A T E COOKIE NAME if user and affiliate id User Attribute user attribute user REGISTRATION AFFILIATE ID affiliate id 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def  escapify qstring text ''for c in qstring if c in   escaped text + '\\' + c elif ord c > 32 and ord c < 127 text + celse text + '\\%03d' % ord c return text 
def is object patched modname objname return is module patched modname and objname in saved 
def import aes module name return   import   module name fromlist [module name '.' [ -1 ]]
def rangename3d book ref3d coords ref3d '%s!%s' % sheetrange book *coords[ 2] rangename2d *coords[2 6]
def  ll nbp y X beta alph Q mu np np X beta size 1 / alph * mu ** Q prob size / size + mu ll nbinom y size prob return ll 
def get Geometry Output By Function manipulation Function xml Element geometry Output []target evaluate Paths By Key 'target' xml Element for path in target geometry Output + get Geometry Output By Loop Function manipulation Function Side Loop path xml Element return get Unpacked Loops geometry Output 
def  filter plans attr name plans return [plan for plan in plans if plan name ]
def get session count global H O U S Ecnt 0if len H O U S E > 0 for key in H O U S E for entry in H O U S E if H O U S E cnt + 1return cnt 
def test prewitt v horizontal i j np -5 6 -5 6]image i > 0 .astype float result filters v image assert allclose result 0
def do unblock move entry blocked list blocked unblocked list unblocked 
def fix lib64 lib dir symlink True if [p for p in distutils config vars .values if isinstance p basestring and 'lib64' in p ] if is pypy logger 'y Pydetected skippinglib64symlinking returnlogger 'hissystemuseslib64 assert os lib dir 'python%s' % sys 3] 'nexpectedpythonlibdir %r' % lib dir lib parent os lib dir top level os lib parent lib dir os top level 'lib' lib64 link os top level 'lib64' assert os lib parent 'lib' 'nexpectedparentdir %r' % lib parent if os lib64 link returncp or ln os if symlink else copyfile cp or ln 'lib' lib64 link 
def load parser path p time os path if path else None try parser cache item parser cache not path or p time < parser cache item time return parser cache item Key Error if settings filesystem cache return Parser Pickling parser path p time 
def hash Password password digest Mod hashlib iterations 10000 salt Size 32 digestname iterations salt hash hash Password Tuple password digest Mod iterations salt Size return Delimiter [digestname str iterations base64 salt .decode u base64 hash .decode u ]
def test io layout lay tempdir  Temp Dir layout read layout 'CTF151' scale False layout op tempdir 'foobar.lay' layout read read layout op tempdir 'foobar.lay' path './' scale False assert array almost equal layout layout read decimal 2 assert true layout layout read 
def test read detect col starts or ends table '\n#1919< Columnstartindexes Columnstartpositions Inferredcolumnpositions John555 Mary555 Bob555 Bill555 kwargs in {'col starts 1 9 19 } {'col ends 8 18 33 } dat ascii table Reader ascii Fixed Width No Header names 'ame 'hone 'TCP' **kwargs assert equal tuple dat 'ame 'hone 'TCP' assert equal dat '555-1234' assert equal dat 'ary assert equal dat '192.168.1.123' assert equal dat '192.255.255.255'
def add Noise input noise 0.1 do Foreground True do Background True if do Foreground and do Background return numpy input - numpy input < noise else if do Foreground return numpy and input numpy input > noise if do Background return numpy or input numpy input < noise return input 
def validate not part of system pack resource db pack getattr resource db 'pack' None if pack SYSTEM PACK NAME msg "esourcesbelongingtosystemlevelpackscan Value Validation Exception msg return resource db 
def create order source prices include tax line data tax rates lines [ine text x for x in line data get shop prices include tax currency u U S D tax classes create assigned tax classes tax rates products create products shop lines tax classes services create services shop lines tax classes source Order Source shop fill order source source lines products services return source 
def p throws p p p 
def  user is admin object list bundle if settings C E N T R A L SERVER and  is central object admin object list bundle return Trueif getattr bundle 'is admin False return True 
def get previous url request referer url request M E T A 'HTTP REFERER' '' if referer url parsed referer urlparse referer url referer host parsed referer path parsed referer query parsed referer host request host if referer host server host and '/translate/' not in referer path if referer query referer url referer url referer url '?' ]if 'details' in referer query referer url '%s?details' % referer url return referer urlreturn reverse 'pootle-home'
def temporary Apply Overrides repository global global Temporary Overridesif repository Name in global Temporary Overrides setting Table {}for setting in repository setting Table settingfor name value in overrides Name if name in setting Table setting Table Value To String value else print 'verridenotappliedfor %s %s' % name value 
def test object size assert true object size np 10 np < object size np 10 np for lower upper obj in 0 60 '' 0 30 1 0 30 1.0 0 60 'foo' 0 150 np 0 0 150 np 1 150 500 np 20 100 400 dict 400 1000 dict a np 50 200 900 sparse 20 format 'csc' 200 900 sparse 20 format 'csr' size object size obj assert true lower < size < upper msg '%s<%s<%s \n%s' % lower size upper obj 
def name servers nameservers for item True if isinstance nameservers basestring nameservers nameservers if for item is True if nameservers in ['<<inherit>>' ''] return nameserversnameservers shlex nameservers if isinstance nameservers list for ns in nameservers ip version netaddr I P Address ns .versionif ip version 4 ipv4 address ns elif ip version 6 ipv6 address ns else raise CX 'nvalid I Paddressformat else raise CX 'nvalidinputtype expectedstrorlist % type nameservers return nameservers 
def p logical or expression 2 t pass 
def  debuginit self exc value None exc type None exc tb None Failure  init   Failure  init  .im func if exc value exc type exc tb None None None exc sys info if not exc self  class   and DO POST MORTEM try strrepr str exc except strrepr 'brokenstr'print "umpingintodebuggerforpost " % strrepr import pdbpdb mortem exc Failure  init   self exc value exc type exc tb 
def start user as anon return {'user' ANON}
def process open files attrs None where None return  osquery cmd table 'process open files attrs attrs where where 
def ticketdb if len request ! 2 session T 'invalidticket' redirect URL 'site' app get app myversion request versionticket request Restricted Error request db get ticket storage app [0]e.load request app ticket response 'default/ticket.html'return dict app app ticket ticket output e traceback e and TRACEBACK e snapshot e code e layer e myversion myversion 
def test io stc tempdir  Temp Dir stc  fake stc stc op tempdir 'tmp.stc' stc2 read source estimate op tempdir 'tmp.stc' assert array almost equal stc stc2 assert array almost equal stc stc2 assert equal len stc len stc2 for v1 v2 in zip stc stc2 assert array almost equal v1 v2 assert array almost equal stc stc2 
def data sharing consent requested request if not enterprise enabled return Falsereturn active provider requests data sharing request 
def test keypoints censure mode validity error assert raises Value Error CENSURE mode 'dummy'
def serial proxy if proxy return {'serial'  get grain proxy 'serial number }
def system commandline logging commandline return os commandline 
def  last post from posts exclude post None if exclude post posts posts id exclude post posts posts by '-created' try return posts Index Error return None 
def get Split Dictionary global global Split Dictionary Operatorsplit Dictionary global Split Dictionary Operator global global Dictionary Operator Beginsplit Dictionary global Dictionary Operator Begin split Dictionary Evaluator Andsplit Dictionary Evaluator Falsesplit Dictionary False Evaluator Falsesplit Dictionary Evaluator Orsplit Dictionary Evaluator Notsplit Dictionary Evaluator Truesplit Dictionary True Evaluator Truesplit Dictionary Evaluator Nonesplit Dictionary None Evaluator Nonereturn split Dictionary 
def hankel transform f r k nu **hints return Hankel Transform f r k nu .doit **hints
def cycle by name name return symbol by name name CYCLE ALIASES
def enable term protect name call None if call ! 'action' raise Salt Cloud System Exit 'heenable term protectactionmustbecalledwith return  toggle term protect name 'true'
def  make dipoles times poss oris sol gof amplitude sol * 1000000000.0 oris np oris dipoles []for i dip in range poss i pos poss dip ].repeat len times axis 0 i ori oris dip ].repeat len times axis 0 dipoles Dipole times i pos amplitude dip i ori gof return dipoles 
def fake function *args **kwargs if 'callable' not in kwargs and 'expect call not in kwargs kwargs Truereturn Fake *args **kwargs .has attr   name   'fake'
def separatevars expr symbols [] dict False force False expr sympify expr if dict return  separatevars dict  separatevars expr force symbols else return  separatevars expr force 
def  Annotate Indents tree if tree is None pytree utils Set Node Annotation tree pytree utils Annotation C H I L D INDENT '' for child in tree if child token I N D E N T child indent pytree utils Get Node Annotation tree pytree utils Annotation C H I L D INDENT if child indent is not None and child indent ! child raise Runtime Error 'inconsistentindentationforchild' tree child pytree utils Set Node Annotation tree pytree utils Annotation C H I L D INDENT child  Annotate Indents child 
def parse trees filename data open 'test file 'r' .read for tree str in data ';\n' if tree str yield Trees Tree tree str + ';'
def send email to qualified users query id email subject email body email intent max recipients query model user models User Query Model query id query model status feconf U S E R QUERY STATUS A R C H I V E Drecipient ids query model idsif max recipients recipient ids recipient ids max recipients email model id email manager user query email query model id recipient ids email subject email body email intent query model email model id bulk email model idquery model for recipient id in recipient ids recipient bulk email model user models User Bulk Emails Model recipient id strict False if recipient bulk email model is None recipient bulk email model user models User Bulk Emails Model id recipient id sent email model ids [] recipient bulk email model email model ids bulk email model id recipient bulk email model 
def job name jobs  jobs if name in jobs return {'job' jobs None 
def tokenize grant grant return  grant to tokens grant 
def generate zipfiles gallery dir listdir list downloadable sources gallery dir for directory in sorted os gallery dir if os os gallery dir directory target dir os gallery dir directory listdir list downloadable sources target dir py zipfile python zip listdir gallery dir jy zipfile python zip listdir gallery dir '.ipynb' dw rst CODE ZIP D O W N L O A D os py zipfile py zipfile os jy zipfile jy zipfile return dw rst 
@when u def step db drop context context u context tmp 
def mangle type c typ if typ in C2CODE return C2 C O D E return 'u' + mangle identifier typ 
def system Information Type3 a L2 Pseudo Length l2p Length 18 b Tp Pd pd 6 c Message Type mes Type 27 d Cell Identity e Local Area Id f Control Channel Description g Cell Options B C C H h Cell Selection Parameters i Rach Control Parameters j Si3 Rest Octets packet a / b / c / d / e / f / g / h / i / j return packet 
def get data home data home None if data home is None data home os 'SEABORN DATA' os '~' 'seaborn-data' data home os data home if not os data home os data home return data home 
def get New Repository return Fill Repository 
def merge lookup A B lookup table np A table mask np lookup table indices np lookup table dtype int lookup table B table Lookup A lookup table 
def set custom sld tld nameservers opts salt opts 'ustom opts S L D sldopts T L D tldopts Nameservers ' '.join nameservers response xml salt request opts if response xml is None return Falsednsresult response xml Elements By Tag Name 'omain D N S Set Custom Result [0]return salt to value dnsresult Attribute 'pdate 
def killed manager containers count name containers manager containers containers containers changed manager inspect containers containers 
def get context from function and args function args kwargs for arg in itertools kwargs args if isinstance arg Request Context return argreturn None 
def generate random numeric length return ''.join random string for  x in range length 
def exclude paths root patterns dockerfile None if dockerfile is None dockerfile 'ockerfile [p for p in patterns if p '!' ]include patterns [p[1 ] for p in exceptions patterns + [dockerfile '.dockerignore']exclude patterns list set patterns - set exceptions paths get paths root exclude patterns include patterns has exceptions len exceptions > 0 return set paths .union set [dockerfile] if os os root dockerfile else set 
def Assign target source if not isinstance target list target [target]if not isinstance source list source u [source]return Node syms target + [eaf token E Q U A L u ' prefix u ] + source 
def Collection Item To Aff4 Path item if isinstance item rdf flows Grr Message item item isinstance item rdf client Stat Entry return item isinstance item rdf file finder File Finder Result return item entry isinstance item collectors Artifact Files Downloader Result if item Has Field 'downloaded file return item file Item Not Exportable Error 
def getdefaultlocale envvars 'LC ALL' 'LC CTYPE' 'LANG' 'LANGUAGE' try import  locale code encoding  locale getdefaultlocale except Import Error Attribute Error passelse if sys 'win32' and code and code 2] '0x' code windows locale int code 0 return code encoding import oslookup os variable in envvars localename lookup variable None if localename if variable 'LANGUAGE' localename localename ' ' [0]breakelse localename '  parse localename localename 
def replace name repl full match False ret {'name' name 'result' False 'changes' {} 'comment' ''}if full match is False search '^.*{0}.*$'.format name else search namematches   salt  ['nxos.cmd'] 'find' search if not matches ret Trueret 'othingfoundtoreplace retif   opts  ['test'] is True ret Noneret 'onfigswillbechanged matchesret [re.sub name repl match for match in matches retret   salt  ['nxos.cmd'] 'replace' name repl full match full match matches   salt  ['nxos.cmd'] 'find' search if matches ret Falseret 'ailedtoreplaceallinstancesof name else ret Trueret 'uccessfullyreplacedallinstancesof name repl return ret 
def basic auth realm users encrypt None debug False if check auth users encrypt if debug cherrypy 'uthsuccessful 'TOOLS.BASIC AUTH' returncherrypy httpauth Auth realm raise cherrypy H T T P Error 401 'ouarenotauthorizedtoaccessthatresource 
def reserve quota delta context deltas instance quotas objects Quotas context context if deltas project id user id objects from instance context instance quotas project id project id user id user id **deltas return quotas 
def get merged prs start ref end ref ensure pr fetch start unmerged branches set branch for branch in git all True no merged start ref .splitlines end merged branches set branch for branch in git all True merged end ref .splitlines merged between refs start unmerged branches & end merged branches merged prs set for branch in merged between refs match PR BRANCH R E branch if match merged prs int match 1 return merged prs 
def is booted from volume session vm ref vbd ref find vbd by number session vm ref 0 vbd other config session V B D other config vbd ref if vbd other config 'osvol' False return Truereturn False 
def set region region  local region 
def make filename name for _ in FILENAME EXCLUDE name name _ '' return ''.join s for s in name if s 
def  find smart path challbs preferences combinations chall cost {}max cost 1for i chall cls in enumerate preferences chall cost cls imax cost + ibest combo []best combo cost max costcombo total 0for combo in combinations for challenge index in combo combo total + chall cost challbs index  class   max cost if combo total < best combo cost best combo combobest combo cost combo totalcombo total 0if not best combo  report no chall path return best combo 
def event return events opts  get options {} opts Truefor event in events log 'arbonreturnerreceivedevent {0}'.format event metric base event event 'data'  send saltdata metric base opts 
def is okay pkt if int pkt 16 7 if set pkt set ['07' '00' '00' '01' '00' '00' '00' '02' '00' '00' '00'] return Truereturn False 
def foldl fn elems initializer None name None if initializer is None initializer elems elems ]fn2 lambda x acc fn acc x return theano fn2 elems initializer name name [0]
def  make fragment list pp length frag list []for i in range 0 len pp - length + 1 f Fragment length -1 for j in range 0 length residue pp i + j ]resname residue resname if residue id 'CA' ca residue C A raise P D B Exception 'CHAINBREAK' if ca disordered raise P D B Exception 'CHAINBREAK' ca coord ca coord f residue resname ca coord frag list f return frag list 
def requeue queue index -1 x queue index queue 0 x return x 
def  update query params uri params parts urllib uri query params dict urllib qsl parts query params params new parts parts replace query urllib query params return urllib new parts 
def get environ proxies proxy keys ['all' 'http' 'https' 'ftp' 'socks' 'no']get proxy lambda k os k or os k proxies [ key get proxy key + ' proxy for key in proxy keys dict [ key val for key val in proxies if val 
def get random mac mac [254 22 62 random 0 255 random 0 255 random 0 255 ]return ' '.join map lambda x '%02x' % x mac 
def get Float From Value value try return float value except passreturn None 
def  save rev and notify rev form creator document based on id None base rev None new rev rev form creator document based on id base rev statsd 'wiki.revision' Reviewable Revision In Locale Event new rev .fire exclude new rev Edit Document Event new rev .fire exclude new rev 
def expand init init typ type init if typ Named Initializer des [expand init dp for dp in init des expand init init elif typ in Init List Expr List return [expand init expr for expr in init typ Constant return [onstant init init typ ID return ['ID' init 
def vm profiles config path providers env var 'SALT CLOUDVM CONFIG' defaults None if defaults is None defaults VM CONFIG D E F A U L T Soverrides salt config path env var os salt C O N F I G DIR 'cloud.profiles' default include overrides 'default include defaults include include overrides 'include' [] overrides salt config default include path verbose False overrides salt config include path verbose True return apply vm profiles config providers overrides defaults 
def ask for it by name name if name not in ask for it by name ask for it by name  ask for it by name name return ask for it by name 
def multiplexer conditions def multiplexer rl expr for key rule in conditions if key expr return rule expr return multiplexer rl 
def totime somedate if not isinstance somedate time return time somedate somedate somedate assert isinstance somedate time repr somedate return somedate 
def gis update location tree feature user id None if user id auth impersonate user id feature json feature path gis location tree feature db return path 
def get Is Point Close Inline close loop point point Index after Center Complex loop Index abs after Center Complex - point > close return Falseafter End Complex loop point Index + 1 % len loop ]if not is Inline point after Center Complex after End Complex return Falsebefore Center Complex loop point Index + len loop - 1 % len loop ]if abs before Center Complex - point > close return Falsebefore End Complex loop point Index + len loop - 2 % len loop ]return is Inline point before Center Complex before End Complex 
def cache global name generate try result read global name except Cache Miss result generate write global name result return result 
def start Logging file *a **kw if isinstance file Logging File returnflo File Log Observer file start Logging With Observer flo *a **kw return flo 
def alias alias Path source Path source Path source Path '/' alias Path alias Path '/' def rewriter request if request len alias Path ] alias Path after request alias Path ]request.postpath source Path + after request '/' + '/'.join request + request return rewriter 
def load yaml config version checkout path version path version try config load config path checkout path env config {'output base '' 'type' 'sphinx' 'name' version [0]except Invalid Config raiseexcept Config Error config Build Config env config {} raw config {} source file 'empty' source position 0 return Config Wrapper version version yaml config config 
def selected row view if view Mode in [ Abstract Item View Multi Selection Q Abstract Item View Extended Selection raise Value Error "ode sel model view Model indexes sel model Rows if indexes assert len indexes 1 return indexes else return None 
def gen jid return '{0 % H M S datetime 
def find predicate seq for element in seq if predicate element return elementreturn None 
def  gf trace map f n g b p K f gf rem f g p K h fr ffor i in range 1 n h gf frobenius map h g b p K r gf add r h p K r gf rem r g p K return r 
def get new file id secs usecs divmod time 1.0 secs usecs int secs int usecs * 1000000.0 return {'machid' get machid 'version' FIFF.FIFFC VERSION 'secs' secs 'usecs' usecs 
def test magic parse options ip get ipython path 'c \\x'm Dummy Magics ip opts m options '-f%s' % path 'f ' [0]if os 'posix' expected 'c x expected pathnt equal opts expected 
def already tapped module brew path tap rc out err module command [brew path 'tap'] taps [tap .strip .lower for tap  in out '\n' if tap ]tap name re 'homebrew-' '' tap return tap name in taps 
def is sphinx markup docstring return '`' in docstring or ' ' in docstring 
def parse ini file config file parser Config Parser Raw Config Parser parser strparser config file return parser 
def  mask non positives a mask a < 0.0 if mask return ma Masked Array a mask mask return a 
def replacement fields s repl fields re re '\\{[^\\}]*\\}' return sorted repl fields re s 
def  joint probabilities distances desired perplexity verbose distances astype distances np copy False conditional P  utils binary search perplexity distances None desired perplexity verbose P conditional P + conditional P.T sum P np np P MACHINE EPSILON P np squareform P / sum P MACHINE EPSILON return P
def  api change script name output kwargs value kwargs 'value' value2 kwargs 'value2' if value and value2 nzo id valuescript value2if script 'none' script Noneresult Nzb Queue script nzo id script return report output keyword 'status' data bool result > 0 else return report output  MSG NO VALUE
def list common lookups kwargs None call None if kwargs is None kwargs {}args {}if 'lookup' in kwargs args kwargs  query 'common' 'lookup/list' args args return response 
def bind port sock host HOST if sock socket A F INET and sock socket S O C K STREAM if hasattr socket 'SO REUSEADDR' if sock socket S O L SOCKET socket S O REUSEADDR 1 raise Value Error ' O R E U S E A D D Rsocketoptionon T C P I Psockets if hasattr socket 'SO REUSEPORT' if sock socket S O L SOCKET socket S O REUSEPORT 1 raise Value Error ' O R E U S E P O R Tsocketoptionon T C P I Psockets if hasattr socket 'SO EXCLUSIVEADDRUSE' sock socket S O L SOCKET socket S O EXCLUSIVEADDRUSE 1 sock host 0 port sock [1]return port 
@rofiler test orm query cols only n session Session bind engine for id  in random ids n session Customer Customer Customer .filter Customer id  .one
def get configuration options agent config options yaml load agent config Content validate configuration configuration configuration configuration 'port' 4524 path agent config configuration Certificate P E M path 'cluster.crt' .ontent configuration Node Credential path path 'node' return configuration 
def sdm monomial deg M return monomial deg M[1 ]
def  string dist basic str1 str2 assert isinstance str1 six type assert isinstance str2 six type str1 as string unidecode str1 str2 as string unidecode str2 str1 re '[^a-z0-9]' '' str1 str2 re '[^a-z0-9]' '' str2 if not str1 and not str2 return 0.0return levenshtein distance str1 str2 / float max len str1 len str2 
def cla Model Control Enable S P Learning Cb cla Model assert isinstance cla Model C L A Model cla Model get S P Region .arameter 'ode True return 
@register.inclusion tag 'inclusion.html' def inclusion unlimited args kwargs one two 'hi' *args **kwargs sorted kwarg sorted six kwargs key operator 0 return {'result' 'inclusion unlimited args kwargs Expectedresult %s/%s' % ' '.join [six.text type arg for arg in [one two + list args ] ' '.join [ '%s %s' % k v for k v in sorted kwarg }
def sum shapes shapes rows max [shape[0] for shape in shapes cols max [shape[1] for shape in shapes for shape in shapes if not shape 1 1 and shape ! rows cols raise Value Error 'ncompatibledimensions + len shapes * '%s' % tuple shapes return rows cols 
def get Empty Z shape z zone Index round z / shape Interval if zone Index not in shape Zone Table return zzone Around 1while 1 zone Down zone Index - zone Around if zone Down not in shape Zone Table return zone Down * shape Interval zone Up zone Index + zone Around if zone Up not in shape Zone Table return zone Up * shape Interval zone Around + 1
@cronjobs.registerdef reindex users that contributed yesterday if settings S T A G E returntoday datetime yesterday today - timedelta days 1 user ids list Answer created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision reviewed  gte yesterday reviewed  lt today .values list 'reviewer id flat True index task User Mapping Type list set user ids 
def get site domain return Site current .domain
def test input estimator unchanged est Random Forest Classifier transformer Select From Model estimator est transformer data y assert true transformer is est 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def millisecond to clocktime value return value * Gst M S E C O N D 
def greet name print 'ello % name 
def make half violin x y fillcolor '#1f77b4' linecolor 'rgb 0 0 0 ' text [ ' pdf y y ' + '{ 0.2f}'.format x + ' ' + '{ 0.2f}'.format y + ' ' for i in range len x ]return graph objs Scatter x x y y mode 'lines' name '' text text fill 'tonextx' fillcolor fillcolor line graph objs Line width 0.5 color linecolor shape 'spline' hoverinfo 'text' opacity 0.5
def PCO protocol dispatcher s proto num ord s * 256 + ord s cls PCO PROTOCOL C L A S S E S proto num Raw return cls s 
def pwd from name name global  uid to pwd cache  name to pwd cache entry cached  cache key value pwd name  name to pwd cache if entry and not cached  uid to pwd cache uid entryreturn entry 
def get tile set chunks tile set defaultdict int for chunkx chunkz chunkmtime in chunks col row tileset coords chunkx chunkz for tilec tiler in tileset tiles by chunk col row tile tileset Render Tile path tilec tiler 5 tile set max tile set chunkmtime for tile tile mtime in tile set .iteritems for i in reversed xrange 5 tile set i max tile set i tile mtime return dict tile set 
def Permission Mod field permissions class Modded field @classmethoddef many init cls *args **kwargs kwargs field return Permission Mod serializers List Serializer permissions *args **kwargs def get attribute self instance if self permissions instance return super Modded self .get attribute instance else raise fields Skip Field def check permissions self obj request self 'request' for Perm in permissions perm Perm if not perm permission request self return Falseif not perm object permission request self obj return Falsereturn Truereturn Modded 
def flip image return image Image F L I P TOP BOTTOM
def utctz to altz utctz return -1 * int float utctz / 100 * 3600
def  get national number groups numobj formatting pattern None if formatting pattern is None rfc3966 format format number numobj Phone Number Format R F C3966 end index rfc3966 format U SEMICOLON if end index < 0 end index len rfc3966 format start index rfc3966 format U DASH + 1 return rfc3966 format index end index U DASH else nsn national significant number numobj return  format nsn using pattern nsn formatting pattern Phone Number Format R F C3966 .split U DASH
def iter shortcuts for option in C O N F 'shortcuts' context name option '/' 1 yield context name get shortcut context name 
def selfupdate composer None php None runas None quiet False composer home '/root' result  run composer 'selfupdate' extra flags '--no-progress' composer composer php php runas runas quiet quiet composer home composer home return result 
def  convert hs points points t points apply trans t points points  flip fiducials points .astype np return points 
def  cart2polar 2pi x y r t np x y np y x t + np t < 0.0 2 * np 0 return r t 
def  process and sort s force ascii full process True ts utils process s force ascii force ascii if full process else s tokens ts sorted string u sorted tokens return sorted string 
def build tool panel section select field app options []for section id section name in app sections options section name section id select field Select Field name 'tool panel section id field id 'tool panel section select for option tup in options select field option option tup option tup return select field 
def object upload fileobj self Fileobj Extra Args None Callback None Config None return self fileobj Fileobj Fileobj Bucket self name Key self Extra Args Extra Args Callback Callback Config Config 
def get ladder capture state feature np 1 state state for x y in state legal moves feature 0 x y ] state ladder capture x y return feature 
def select function cache function fname function u u ' try func cache map Key Error raise Expression Error u Thepseudo %s isunknown % function if fname u items frozenset func cache function for item in cache function if item in items yield item else for item in cache function if func cache function item yield item 
def fisher probs try return chi2prob -2 * sum log probs 2 * len probs direction 'high' except Overflow Error return 0.0
def check user user if user disabled raise Deactivated Account Errorelif not user confirmed raise Unconfirmed Account Error 
def groupfinder userid request backend getattr request 'permission' None if not backend return []if request userid userid request useridreify key userid + ' principals if reify key not in request data principals backend user principals userid request data key principalsreturn request data key 
def Is U R L Error Fatal error assert isinstance error urllib2 U R L Error if not hasattr error 'reason' return Trueif not isinstance error int return Truereturn error not in non fatal error codes 
def Get Result S Handle p I O Type Channel if os 'nt' static Lib ctypes Load Library 'labjackud' pv ctypes double ec static Lib Get Result S Handle p I O Type Channel ctypes pv if ec ! 0 raise Lab Jack Exception ec return pv raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def format stack outputs outputs resolve value False return [format stack output outputs resolve value resolve value for key in outputs 
@post '/scan/<taskid>/start' def scan start taskid if taskid not in Data Store logger 'nvalidtask I Dprovidedtoscan start ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D for option value in request Data Store option option value Data Store start logger 'tartedscan % taskid return jsonize {'success' True 'engineid' Data Store get id }
def zalpha colors zs colors get colors colors len zs if len zs norm Normalize min zs max zs sats 1 - norm zs * 0.7 colors [ c c c c * s for c s in zip colors sats ]return colors 
def initlog *allargs global logfp logif logfile and not logfp try logfp open logfile 'a' except I O Error passif not logfp log nologelse log dologlog *allargs
def dmp negative p f u K return K negative dmp ground LC f u K
def with rw repo working tree ref bare False assert isinstance working tree ref string types 'ecoratorrequiresrefnameforworkingtreecheckout argument passer func @wraps func def repo creator self prefix 'non 'if bare prefix ''repo dir tempfile prefix '%sbare %s' % prefix func  name   rw repo self repo dir shared True bare bare n True rw repo rw repo working tree ref if not bare rw repo prev cwd os os rw repo dir try return func self rw repo except log 'eepingrepoafterfailure %s' repo dir repo dir Noneraisefinally os prev cwd rw repo cache rw repo Noneimport gcgc if repo dir is not None rmtree repo dir return repo creatorreturn argument passer 
def  openssl pbkdf2 data salt iterations digest keylen c hashfunc ctypes void p  openssl hashlib to crypto map get digest c pass ctypes char p data c passlen ctypes int len data c salt ctypes char p salt c saltlen ctypes int len salt c iter ctypes int iterations c keylen ctypes int keylen c buff ctypes string buffer keylen crypto P K C S5 PBKDF2 H M A C [ctypes.c char p ctypes int ctypes char p ctypes int ctypes int ctypes void p ctypes int ctypes char p P K C S5 PBKDF2 H M A C ctypes interr crypto P K C S5 PBKDF2 HMAC c pass c passlen c salt c saltlen c iter c hashfunc c keylen c buff return err c buff 
def topk k seq key None if key is not None and not callable key key getter key return tuple heapq k seq key key 
def  is na compat arr fill value np dtype arr isnull fill value return not is bool dtype dtype or is integer dtype dtype return True 
def single client test host cycles logger log to stderr logger Level logging D E B U G logger 'startingworker %d' % os try count 0client Modbus Tcp Client host while count < cycles result client holding registers 10 1 .egister 0 count + 1except logger 'failedtoruntestsuccessfully' logger 'finishedworker %d' % os 
def compatibility fix cf for item in  FIXES old new itemtry cf Key Error try cf cf cf Key Error pass 
def send udp data host port sock socket socket A F INET socket S O C K DGRAM sock data host port response server sock 8192 sock return response 
def salt syndic import salt systemd import salt os try syndic salt Syndic syndic except Keyboard Interrupt os pid 15
def get detection type detect num detect num int detect num if 0 < detect num < len DETECTION TYPES return DETECTION T Y P E S num return DETECTION TYPES[0]
def inline functions dsk output fast functions None inline constants False dependencies None if not fast functions return dskoutput set output fast functions set fast functions if dependencies is None dependencies {k get dependencies dsk k for k in dsk reverse dict dependencies keys [k for k v in dsk if istask v and functions of v .issubset fast functions and dependents and k not in output ]if keys dsk inline dsk keys inline constants inline constants dependencies dependencies for k in keys del dsk dsk 
def  get cron cmdstr path user None if user cmd 'crontab-u{0}'.format user else cmd 'crontab'return '{0}{1}'.format cmd path 
def loads s encoding None cls None object hook None parse float None parse int None parse constant None object pairs hook None **kw if cls is None and encoding is None and object hook is None and parse int is None and parse float is None and parse constant is None and object pairs hook is None and not kw return  default decoder s if cls is None cls J S O N Decoderif object hook is not None kw hook object hookif object pairs hook is not None kw pairs hook object pairs hookif parse float is not None kw float parse floatif parse int is not None kw int parse intif parse constant is not None kw constant parse constantreturn cls encoding encoding **kw .decode s 
def remove Child Nodes From Element Object element Node element Node Child Nodes From I D Name Parent if element Node Object ! None if element Node Node Object ! None if element Node Object in element Node Node Object Objects element Node Node Object Objects element Node Object 
def binskim sample signature  check challenge signature if len re ' [a-f\\d]{32} ' sample 0 return 'rong Input path config x64 'analyze'path config Mob S F + sample output p '-o'output d config Mob S F + sample + ' binskim policy p '--config'policy d 'default'params [binskim path command path output p output d policy p policy d subprocess Popen subprocess params pipe out file open output d return out file 
def set tags name tags region None key None keyid None profile None if exists name region key keyid profile conn  get conn region region key key keyid keyid profile profile ret  add tags conn name tags return retelse return False 
def collect log file host log path dest path logging 'ollecting log path try host file log path dest path preserve perm False except Exception logging 'ollectionof log path 
def make decorator func def decorate newfunc if hasattr func 'compat func name name func func nameelse name func  name  newfunc  dict   func  dict  newfunc  doc   func  doc  newfunc  module   func  module  if not hasattr newfunc 'compat co firstlineno newfunc co firstlineno func code firstlinenotry newfunc  name   nameexcept Type Error newfunc func name namereturn newfuncreturn decorate 
def  pos match pos tuple if pos tuple 's' pos tuple 'a' pos tuple pos tuple for n x in enumerate pos tuple if x is not None breakfor pt in  pos tuples if pt pos tuple return ptreturn None 
def clean s lines [l.rstrip for l in s '\n' ]return '\n'.join lines 
def libvlc audio output list get p instance f  Cfunctions 'libvlc audio output list get None or  Cfunction 'libvlc audio output list get 1 None ctypes P O I N T E R Audio Output Instance return f p instance 
def  get info from infocache env account container None cache key get cache key account container if 'swift.infocache' in env and cache key in env return env key None 
def test input discard mlp MLP layers [lattener Layer Composite Layer 'composite' [inear 10 'h0' 0.1 ] {0 [0] 1 []} Softmax 5 'softmax' 0.1 ] input space Composite Space [ector Space 15 Vector Space 20 ] input source 'features0' 'features1' dataset Vector Spaces Dataset np 20 20 .astype theano X np 20 15 .astype theano X np 20 5 .astype theano X Composite Space [ector Space 20 Vector Space 15 Vector Space 5 ] 'features1' 'features0' 'targets' train Train dataset mlp SGD 0.1 batch size 5 train criterion Epoch Counter 1 train loop 
def domains for certname config certname def update domains for name match candidate lineage rv 'eturndomainsifcertnamematches elsereturnrv domains rvif candidate lineage certname matching domains candidate lineage return matching domainsreturn  search lineages config update domains for name match None 
def responsive res space compress None if space compress is None space compress not g debug if is api res res or u if not c callback and request 'WANT RAW JSON' res scriptsafe dumps res else res websafe json simplejson res if c callback res '/**/%s %s ' % websafe json c callback res elif space compress res space Compress res return res 
def subtract mean image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy subtract mean image selem out out mask mask shift x shift x shift y shift y 
def  words group input strlen words []nblanks input '' nmax max nblanks len input // strlen + 1 arr np input + '' dtype binary type 1 blank loc np arr '' [0]offset 0xoffset 0for idx in range nmax try loc np blank loc > strlen + offset [0][0]offset blank loc loc - 1 ] + 1 if loc 0 offset -1 except Exception offset len input if offset < xoffset offset xoffset + strlen words input offset if len input offset breakxoffset offsetreturn words 
def get phrases from module module return module W O R D S if hasattr module 'WORDS' else []
def pid sig cmd   grains  ['ps']output   salt  ['cmd.run stdout cmd pids ''for line in output if 'status.pid' in line continueif re sig line if pids pids + '\n'pids + line [1]return pids 
def irc prefix var if isinstance var basestring return u %s' % var 
def create cn hostname password username dbname if password cn connect host hostname user username database dbname password password else cn connect user username database dbname print u Createdconnection {0}.'.format cn return cn 
def matplotlib rgb color rgb color return tuple [ i / 255.0 for i in rgb color 
def task cli pip install venv name 'flocker-client' package source Package Source url 'https /locker bucket ARCHIVE BUCKET key 'python' version  get wheel version package source return sequence [run from args ['virtualenv' '--python /usr/bin/python2.7' venv name run from args ['source' '{}/bin/activate'.format venv name ] run from args ['pip' 'install' '--upgrade' 'pip'] run from args ['pip' 'install' url ]
def get valid name layer name name  clean string layer name proposed name namecount 1while Layer name proposed name .exists proposed name '%s %d' % name count count count + 1 logger 'equestednamealreadyused >[%s]' layer name proposed name else logger 'singnameasrequested return proposed name 
@click.command 'supervisor' @click.option '--user' @click.option '--yes' help 'estoregenerationofsupervisorconfig is flag True default False def setup supervisor user None yes False from bench import generate supervisor configgenerate supervisor config bench path '.' user user yes yes 
def is neg var apply var not apply return Noneif apply tensor return apply apply tensor and len apply > 2 for idx mul input in enumerate apply try constant opt scalar constant value mul input is minus 1 numpy constant -1 except Not Scalar Constant Error is minus 1 Falseif is minus 1 if len apply 2 return apply 1 - idx ]else return tensor * apply idx + apply idx + 1 ] return None 
def  get dash pattern style if is string like style and is hashable style style ls mapper style style if style in [u'solid' u None offset dashes None None elif style in [u'dashed' u u offset 0dashes tuple rc Params pattern style ] elif isinstance style tuple offset dashes styleelse raise Value Error u Unrecognizedlinestyle %s' % str style if dashes is not None and offset is not None dsum sum dashes if dsum offset % dsumreturn offset dashes 
@given 'abehavemodelwith' def step given a behave model with table context assert context 'REQUIRE context columns Behave Model Builder R E Q U I R E D COLUMNS model builder Behave Model Builder context model model builder model from table context 
def b str or bytes if not isinstance str or bytes bytes return str or bytes 'ascii' else return str or bytes 
def serve request path document root None insecure False **kwargs if not settings D E B U G and not insecure raise Improperly Configured "hestaticfilesviewcanonlybeusedindebugmodeorifthethe normalized path posixpath urllib path .lstrip '/' absolute path finders normalized path if not absolute path raise Http404 "'%s'couldnotbefound" % path document root path os absolute path return static request path document root document root **kwargs
def encode ros handshake header header fields [ '%s %s' % k v for k v in header ]if python3 0 s ''.join [ '%s%s' % struct '<I' len f f for f in fields return struct '<I' len s + s else s ''.join [ struct '<I' len f + f 'utf-8' for f in fields return struct '<I' len s + s 
def fib num num int num if num < 0 raise Value Error 'egativenumberisnotallowed start time if num < 2 return num time - start return  fib num - 1 +  fib num - 2 time - start 
def bode system w None n 100 w y freqresp system w w n n mag 20.0 * numpy abs y phase numpy numpy y y * 180.0 / numpy return w mag phase 
def date and notes s s s if not s return u u notes u s or s [0].lower in 'c.' 'january' 'february' 'march' 'april' 'may' 'june' 'july' 'august' 'september' 'october' 'november' 'december' 'ca.' 'circa' '???? ' i s ' ' if i ! -1 notes s i + 1 ].strip s s i notes ss u s '????' s u s notes 
def parse raw obj obj info raw obj name obj info 'utf-8' policy index obj name raw obj name ' ' 1 q policy index int policy index account container obj split path obj name 3 3 rest with last True try q op {'application/x-put' 'PUT' 'application/x-delete' ' E L E T E info type Key Error raise Value Error 'invalidoperationtype%r' % obj info 'content type None return {'q policy index q policy index 'account' account 'container' container 'obj' obj 'q op q op 'q ts decode timestamps obj info [0] 'q record last modified date to timestamp obj info modified 'path' '/%s/%s/%s' % account container obj }
def is ipv6 pd enabled subnet return subnet 'subnetpool id const I P V6 PD POOL ID
def validate request data and get certificate certificate invalidation course key user certificate invalidation 'user' if not user raise Value Error _ 'tudentusername Kindlyfillinusername Invalidate Certificate student get student user course key certificate Generated Certificate for student student course key if not certificate raise Value Error _ 'hestudent Kindlyverifystudentusername .format student student course course key return certificate 
def spawn main pipe handle parent pid None tracker fd None assert is forking sys if sys 'win32' import msvcrtfrom .reduction import steal handlenew handle steal handle parent pid pipe handle fd msvcrt osfhandle new handle os O RDONLY else from . import semaphore trackersemaphore tracker semaphore tracker fd tracker fdfd pipe handleexitcode  main fd sys exitcode 
def transpose matlist K return [list a for a in zip *matlist ]
def index along axis index ndim axis indices [slice None ] * ndim indices indexreturn tuple indices 
def association rules dataset freqsets support minlift nr transactions float len dataset freqsets [f for f in freqsets if len f > 1 ]for fset in freqsets for f in fset consequent frozenset [f] antecendent fset - consequent py x support / support base support / nr transactions lift py x / base if lift > minlift yield Association Rule antecendent consequent base py x lift 
def group type destroy context id return I M P L type destroy context id 
def multiplicative epsilon front **kargs wobj numpy [ind.fitness.wvalues for ind in front * -1 def contribution i mwobj numpy wobj mwobj numpy numpy numpy wobj / mwobj axis 1 contrib values map contribution range len front return numpy contrib values 
def measure all oneshot qubit format 'sympy' import randomm qubit to matrix qubit if format 'sympy' m m random number random total 0result 0for i in m total + i * i if total > random number breakresult + 1return Qubit Int Qubit result int math max m 2 + 0.1 else raise Not Implemented Error "hisfunctioncan 
def test tokenizer raw '<em>test<x></x></em>'eq  '<em>test&lt;x&gt;&lt;/x&gt;</em>' linkify raw eq  raw linkify raw tokenizer H T M L Tokenizer 
def laplacian spectrum G weight 'weight' from scipy import eigvalshreturn eigvalsh nx matrix G weight weight .todense
def escape For I R I xri xri xri '%' '%25' xri  xref re  escape xref xri return xri 
def authorize quota class context context class name if is user context context if not context class raise exception Forbidden elif context class ! class name raise exception Forbidden 
def reduce order meijer func nan nbq ops1  reduce order func func Reduce Order plus lambda x default sort key - x nbm nap ops2  reduce order func func Reduce Order minus default sort key return G Function nan nap nbm nbq ops1 + ops2 
def heading headingtext headinglevel lang 'en' lmap {'en' 'eading 'it' 'itolo makeelement 'p' pr makeelement 'r p Style makeelement 'tyle attributes {'val' lmap + str headinglevel } run makeelement 'r' text makeelement 't' tagtext headingtext pr p Style run text paragraph pr paragraph run return paragraph 
def add rich rule zone rule permanent True cmd "--zone {0}--add-rich-rule '{1}'".format zone rule if permanent cmd + '--permanent'return   firewall cmd cmd 
def put str content path share 'C$' conn None host None username None password None if conn is None conn get conn host username password if conn is False return Falsefh  Str Handle content conn File share path fh .string
def get numeric val try return float val except passreturn val 
def test read no header autocolumn No Header table 'ohn Mary Bob ascii table Reader ascii Fixed Width No Header assert equal tuple dat 'col1' 'col2' 'col3' assert equal dat 'ary assert equal dat '555-1234' assert equal dat '192.168.1.9'
@with setup prepare stdout def test output level 2 error runner Runner feature name 'error traceback verbosity 2 runner assert stdout lines with traceback 'tshouldpass O K Itshouldraiseanexceptiondifferentof Assertion Error E R R O R Step "ivenmystepthatblowsaexception Traceback mostrecentcalllast \ile lettuce core file s line call line d in  call  \nret self self *args **kw \ile step file s line10 ingiven my step that blows a exception Runtime Error Runtime Error 0passed \n2scenarios 1passed \n2steps 1failed 1passed \istoffailedscenarios \cenario Itshouldraiseanexceptiondifferentof Assertion Error features traceback traceback 5\n\n' % {'lettuce core file lettuce path 'core.py' 'step file abspath lettuce path '..' 'tests' 'functional' 'output features 'error traceback 'error traceback steps 'call line call line 
def export set dataset **kwargs stream String I O kwargs 'delimiter' DEFAULT DELIMITER if not is py3 kwargs 'encoding' DEFAULT ENCODING  csv csv stream **kwargs for row in dataset package dicts False  csv row return stream 
def require snapshot exists f @functools.wraps f def wrapper context snapshot id *args **kwargs if not resource exists context models Snapshot snapshot id raise exception Snapshot Not Found snapshot id snapshot id return f context snapshot id *args **kwargs return wrapper 
def Add Module To Cache typelibclsid lcid major minor verbose 1 b Flush Now not is readonly fname Get Generated File Name typelibclsid lcid major minor mod  Get Module fname mod in gencache  1dict mod C L S I D To Class Mapinfo str typelibclsid lcid major minor for clsid cls in dict clsid To Typelib infodict mod C L S I D To Package Mapfor clsid name in dict clsid To Typelib infodict mod V Tables To Class Mapfor clsid cls in dict clsid To Typelib infodict mod V Tables To Package Mapfor clsid cls in dict clsid To Typelib infoif info in version Redirect Map del version Redirect Map b Flush Now  Save Dicts 
def running config version os [2]for config in '/proc/config.gz' '/boot/config-%s' % version '/lib/modules/%s/build/.config' % version if os config return configreturn None 
def gray rc u cmap u im gci if im is not None im cmap cm 
def force escape value from google internal import escapereturn mark safe escape value 
def form for fields field list fields Sorted Dict [ f f for f in field list if f return type 'orm For Fields Base Form {'base fields fields 
def Property Value From String type  value string  auth domain None if type  datetime value string value string if value string -6 ] in '+' '-' if value string -5 ] '00 00' value string value string -6 ]else raise Value Error 'on U T Coffsetsindatetimesarenotsupported split value string '.' iso date split 0if len split > 1 microseconds int split time struct time iso date ' H %M %S' [0 6]value datetime * time struct + microseconds return valueelif type  Rating return Rating int value string elif type  bool return value string 'rue elif type  users User return users User value string  auth domain elif type  type None return Nonereturn type  value string 
def test stratified dataset shuffle split skip if no sklearn mapping {'dataset iterator 'tratified Dataset Shuffle Split yaml test yaml dataset iterator % mapping trainer yaml parse test yaml trainer loop 
def diff before after assert after before plays []after plays list after before plays list before for play in after plays if play not in before plays plays play  players Ordered Dict after players list after player stats before players list before player stats for aplayer in after players has before Falsefor bplayer in before players if aplayer bplayer has before Truepdiff aplayer - bplayer if pdiff is not None  players pdiffif not has before  players aplayerplayers nflgame Gen Player Stats  players return Game Diff before before after after plays plays players players 
def wrap filters filters def combined filter x for filt in filters if not filt x return Falsereturn Truereturn combined filter 
def init mpstate return Cmdlong Module mpstate 
def test cache cp compilerop Caching Compiler ncache len linecache cp 'x 1' nt true len linecache > ncache 
def  get Test List suite Names [ne Node Tests 'ulti Node Tests 'odel Maturity Tests 'warm Terminator Tests Names []for suite in suite Names for f in dir eval suite if f 'test' test Names '%s.%s' % suite f return test Names 
def mock responses resps def wrapper func @responses.activate@functools.wraps func def wrapped *args **kwargs for resp in resps responses *resp.args **resp.kwargs return func *args **kwargs return wrappedreturn wrapper 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def vocabulary show context data dict  check access 'vocabulary show context data dict model context id data dict 'id' if not vocab id raise Validation Error {'id' _ 'idnotindata' } vocabulary model Vocabulary vocab id if vocabulary is None raise Not Found _ 'ouldnotfindvocabulary % vocab id vocabulary dict model dictize dictize vocabulary context return vocabulary dict 
def  get T P Class temporal Imp if temporal Imp 'py' return T P T Pelif temporal Imp 'cpp' return T P10 X2 T P10 X2elif temporal Imp 'tm py return TP shim T P Shimelif temporal Imp 'tm cpp return TP shim T P C P P Shimelif temporal Imp 'tm py fast return TP shim Fast T P Shimelif temporal Imp 'monitored tm py return TP shim Monitored T P Shimelse raise Runtime Error "nvalidtemporal Imp Legalvaluesare 'py' 'cpp' 'tm py 'monitored tm py % temporal Imp 
def  make writeable filename import statif sys 'java' returnif not os filename os W OK st os filename new permissions stat S IMODE st mode | stat S IWUSR os filename new permissions 
def  task is running course id task type task key running tasks Instructor Task course id course id task type task type task key task key for state in READY STATES running tasks running tasks task state state return len running tasks > 0
def get group dataset counts query search Package Search Query q {'q' '+capacity public 'fl' 'groups' 'facet.field' ['groups' 'owner org 'facet.limit' -1 'rows' 1}query.run q return query 
def  make R P Ms tapfile None maintainer None protocol None description None long Description None set Version None rpmfile None type  None args []if not tapfile tapfile 'dummy-tap-file'handle open tapfile 'w' handle 'ummy T A Pfile handle args ['--quiet' '--tapfile' tapfile if maintainer args ['--maintainer' maintainer if protocol args ['--protocol' protocol if description args ['--description' description if long Description args ['--long description long Description if set Version args ['--set-version' set Version if rpmfile args ['--rpmfile' rpmfile if type  args ['--type' type ] return tap2rpm args 
def process email streams Message Stream trash False incoming server username  isnull False for stream in streams stream email 
@open file 0 mode 'rb' def read multiline adjlist path comments '#' delimiter None create using None nodetype None edgetype None encoding 'utf-8' lines line encoding for line in path return parse multiline adjlist lines comments comments delimiter delimiter create using create using nodetype nodetype edgetype edgetype 
def create queue name region opts None user None create {'queue-name' name  run aws 'create-queue' region region opts opts user user **create ret {'retcode' 0 'stdout' out Queue Url 'stderr' ''}return ret 
def consume queue queue get queue nowaitwhile 1 try yield get except Empty break 
def mod Clear Character Refs s titles Refs names Refs characters Refs return re character Ref '\\1' s 
def  fetch profile opts cfg virtualname   salt    options profile attr profile attrs if not profile attr or profile attr not in  options return {}creds {}profile  options attr profile log 'singprofile profile if 'config.option' in   salt   creds cfg profile else creds cfg profile if not creds return {}return dict pattr creds '{0}.{1}'.format virtualname profile attrs for pattr in profile attrs 
def add created exploration id user id exploration id user contributions get user contributions user id strict False if not user contributions create user contributions user id [exploration id [] elif exploration id not in user contributions exploration ids user contributions exploration ids exploration id user contributions exploration ids  save user contributions user contributions 
def TEMA ds count timeperiod - 2 ** 31 return call talib with ds ds count talib T E M A timeperiod 
def get cache key request key prefix None method 'GET' cache None if key prefix is None key prefix settings C A C H E MIDDLEWARE KEY P R E F I Xcache key  generate cache header key key prefix request if cache is None cache caches C A C H E MIDDLEWARE A L I A S cache cache key if headerlist is not None return  generate cache key request method headerlist key prefix else return None 
@raises Value Error def test conditional rejects invalid output layer mlp MLP layers [inear layer name 'h' dim 5 irange 0.01 Linear layer name 'mu' dim 5 irange 0.01 ] conditional Dummy Conditional mlp mlp name 'conditional' output layer required False vae Dummy V A E conditional vae vae conditional parameters input space Vector Space dim 5 ndim 5
def update credit request status request uuid provider id status if status not in [redit Request R E Q U E S T STATUS APPROVED Credit Request R E Q U E S T STATUS REJECTED] raise Invalid Credit Statustry request Credit Request uuid request uuid provider  provider id provider id old status request statusrequest log u Updatedrequestwith U U I D I D request uuid old status status provider id except Credit Request Does Not Exist msg u Creditproviderwith I D id U U I D uuid butnorequestwiththis U U I Disassociatedwiththeprovider provider id provider id request uuid request uuid log msg raise Credit Request Not Found msg 
def extra padding y original size padding return  resize original size 1 padding padding 
@register u def backward word event buff event bufferpos buff previous word beginning count event if pos buff position + pos 
def shutting down globals globals v globals .get ' shutting down return v is True or v is None 
def default slugifier value if settings O S C A R SLUG ALLOW UNICODE return django slugify value allow unicode True return django slugify value 
def run parallel commands timeout None ignore status False stdout tee None stderr tee None bg jobs []for command in commands bg jobs Bg Job command stdout tee stderr tee stderr level get stderr level ignore status join bg jobs bg jobs timeout for bg job in bg jobs if not ignore status and bg job status raise error Cmd Error command bg job 'ommandreturnednon return [bg job for bg job in bg jobs 
def wanmen download by course json api content output dir '.' merge True info only False **kwargs for t Index in range len json api content Topics for p Index in range len json api content Topics Index Parts wanmen download by course topic part json api content t Index p Index output dir output dir merge merge info only info only **kwargs
def  Write Error To Output status message outfile logging message outfile 'tatus %s\r\n\r\n%s' % status message 
def pkcs1 Digest data message Length digest sha1 data .digest return pkcs1 Pad ID SHA1 + digest message Length 
def  prepare rgba array arr arr np arr if arr not in [3 4] or arr -1 ] ! 4 msg 'theinputarraymusthaveashape .. .. [.. ]4 got arr raise Value Error msg return dtype as float arr 
@receiver pre save sender User def user pre save callback sender **kwargs user kwargs changed fields get changed fields dict user sender 
def  service is chkconfig name cmdline '/sbin/chkconfig--list{0}'.format name return   salt  ['cmd.retcode'] cmdline python shell False ignore retcode True 0
def right align return tracks track assigner song tracks provider offset tracks provider offsettracks tracks provider to use return tracks list song tracks size tracks provider tracksnum empty tracks max 0 size + offset - len tracks track list size * [one for i in xrange size track index i + offset if len tracks > track index track tracks index offset 0 if tracks index not in return tracks else num empty tracks track list i + empty offset ] trackreturn track list 
def import attached events db session account message assert account is not None for part in message event files part data ''try part data part part data '' continuenew events events from ics account account events calendar part data except Malformed Event Error log 'ttachedeventparsingerror account id account message id message logstash tag 'icalendar autoimport event part id part continueexcept Assertion Error Type Error Runtime Error Attribute Error Value Error Unbound Local Error Lookup Error Import Error Name Error log 'nhandledexceptionduringmessageparsing message id message event part id part logstash tag 'icalendar autoimport traceback traceback exception sys info [0] sys info [1] sys info [2] continueprocess invites db session message account new events if account ! 'gmail' process nylas rsvps db session message account new events 
def unpack zeroterm array ptr assert ptrindex 0current ptr current yield current free ffi 'gpointer' current index + 1current ptr ffi 'gpointer' ptr 
def decode as string text encoding None if encoding is None encoding  console encodingif not isinstance text unicode text text encoding text unicodedata 'NFC' text return text 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def get plays files git dir playbooks dirs plays set for play dir in playbooks dirs play dir path pathlib2 Path git dir play dir candidate files {f for f in play dir path '*.yml' }for f in files file path pathlib2 Path git dir f if file path in candidate files plays  get playbok name from file file path return plays 
def tenant create name description None enabled True profile None **connection args kstone auth profile **connection args new getattr kstone  TENANTS None .create name description enabled return tenant get new profile profile **connection args 
def Is Encodings Module module name if module name in 'codecs' 'encodings' or module name 'encodings.' return Truereturn False 
def mds destroy **kwargs return ceph cfg destroy **kwargs
def make default headers n return tuple agate name i for i in range n 
def path filter patterns paths patterns root None from headphones import loggerignored 0for path in paths ] if path match patterns path patterns logger 'athignoredbypattern %s' os root or '' path ignored + 1paths.remove path return ignored 
def get move page id list user site check global True use cache True page ids  get page ids for action user user site site action 'move page check global check global use cache use cache return page ids 
def send message module client id client secret topic msg try access token get access token module client id client secret url 'https //typetalk.in/api/v1/topics/%d' % topic headers {uthorization 'earer % access token }do request module url {'message' msg headers return True {'access token access token except Connection Error e get exception return False e 
def bgrewriteaof host None port None db None password None server  connect host port db password return server 
def check domain domain return domain not in DEFAULT DOMAINS and not domain u ' and not domain u ' and not domain u 
def serialize tar info tar info is deleted Falsefilename tar info filename '.' filename '/'if filename './' filename '/' + filename ] if filename '/.wh.' filename '/' + filename ] is deleted Trueif filename '/.wh.' return Nonereturn filename FILE T Y P E S tar info 'u' is deleted tar info tar info tar info tar info tar info 
def dedent initial s n 4 return s ] if s n u * n else s 
def conditional escape text if isinstance text Safe Data return textelse return escape text 
def is void at if isinstance at datetime return Falsereturn all getattr at attr is None for attr in adatetime 
def check email valid email address field reason invalid email reason email address field if reason is not None raise Invalid Email Error reason 
def user follower list context data dict  check access 'user follower list context data dict return  follower list context data dict ckan follow user schema context User Following User 
def sample ppc trace samples None model None vars None size None random seed None progressbar True if samples is None samples len trace if model is None model modelcontext model if vars is None vars model R Vsseed random seed if progressbar indices tqdm randint 0 len trace samples total samples else indices randint 0 len trace samples ppc defaultdict list for idx in indices param trace var in vars ppc var point param size size return {k np v for k v in ppc }
def rms flat a return np np np a ** 2
def get active website users return frappe u * from User DCTB DCTB whereenabled 1anduser type 'ebsite User DCTB DCTB andhour timediff now last active <72" [0][0]
def cov hac simple results nlags None weights func weights bartlett use correction True xu hessian inv  get sandwich arrays results sigma S hac simple xu nlags nlags weights func weights func cov hac  HCCM2 hessian inv sigma if use correction nobs k params xu hac * nobs / float nobs - k params return cov hac 
def kit item return s3 rest controller 
def get Name obj def sanitize name return name '.' '/' if isinstance obj  Build Step Factory klass obj klass type obj name ''klasses klass + inspect klass for klass in klasses if hasattr klass '  module  ' and klass  module  .startswith 'buildbot.' return sanitize name + klass  module   + '.' + klass  name   else name + '>'return sanitize type obj .  name  
@collect authdef auth login auth campaign request 'campaign' next url request 'next' data login and register handler auth login True campaign campaign next url next url if data code http F O U N D return redirect data url 
def get next page of all non private commits page size feconf C O M M I T LIST PAGE SIZE urlsafe start cursor None max age None if max age is not None and not isinstance max age datetime raise Value Error 'max agemustbeadatetime None results new urlsafe start cursor more exp models Exploration Commit Log Entry Model all non private commits page size urlsafe start cursor max age max age return [exp domain Exploration Commit Log Entry entry on entry updated entry id entry entry id entry type entry message entry cmds entry entry commit status entry commit community owned entry commit is private for entry in results new urlsafe start cursor more 
def item field getters funcs {}for plugin in find plugins if plugin fields funcs plugin fields return funcs 
def scrub headers headers if isinstance headers dict headers headers headers [ parse header string key parse header string val for key val in headers not logger settings 'redact sensitive headers True return dict headers if logger settings 'reveal sensitive prefix 16 < 0 logger settings sensitive prefix 16return {key safe value key val for key val in headers 
def partition node node host nodeport 27017idx node ' ' if idx ! -1 host port node idx int node idx + 1 ] if host '[' host host -1 ]return host port 
def convert search search if not search search ''else search search '*' '%' .replace '' '%' if search and search '^' search search '^' '' search + '%'elif search and search '$' search search '$' '' search '%' + search else search '%' + search + '%' return search 
def get interface type interface if interface .startswith 'ET' return 'ethernet'elif interface .startswith 'VL' return 'svi'elif interface .startswith 'LO' return 'loopback'elif interface .startswith 'MG' return 'management'elif interface .startswith 'MA' return 'management'elif interface .startswith 'PO' return 'portchannel'else return 'unknown'
def  find head bem subject subjects dir high res False fnames  high res head fnames if high res else  head fnames for fname in fnames path fname subjects dir subjects dir subject subject if os path return path 
def  generate totp passcode secret if isinstance secret six type secret secret 'utf-8' while len secret % 8 ! 0 secret secret + ' ' decoded base64 secret totp crypto totp T O T P decoded 6 hashes S H A1 30 backend default backend return totp timeutils ts microsecond True .decode 'utf-8'
def get python lib plat specific 0 standard lib 0 prefix None if prefix is None if standard lib prefix plat specific and BASE EXEC PREFIX or BASE PREFIX else prefix plat specific and EXEC PREFIX or PREFIX if os 'posix' libpython os prefix 'lib' 'python' + get python version if standard lib return libpythonelse return os libpython 'site-packages' elif os 'nt' if standard lib return os prefix 'ib else return os prefix 'ib 'site-packages' else raise Distutils Platform Error "don Pythoninstallsitslibraryonplatform % os 
def link src dst if platform u Windows if ctypes Create Hard Link W ctypes wchar p unicode dst ctypes wchar p unicode src None 0 raise ctypes Win Error else ek os src dst 
def datetime from timestamp timestamp content return set date tzinfo datetime timestamp tz name content 'TIMEZONE' None 
def upload problem responses csv  xmodule instance args  entry id course id task input action name start time time start date datetime UTC num reports 1task progress Task Progress action name num reports start time current step {'step' 'alculatingstudentsanswerstoproblem progress task state extra meta current step problem location task input 'problem location student data list problem responses course id problem location features ['username' 'state'] header rows format dictlist student data features task progress task progress len rows task progress task progress - task progress rows 0 header current step {'step' 'ploading C S V progress task state extra meta current step problem location re '[ /]' '_' problem location csv name 'student state from {}'.format problem location upload csv to report store rows csv name course id start date return task progress task state extra meta current step 
def resnet v1 101 inputs num classes None is training True global pool True output stride None reuse None scope 'resnet v1 101' blocks [resnet utils Block 'block1' bottleneck [ 256 64 1 ] * 2 + [ 256 64 2 ] resnet utils Block 'block2' bottleneck [ 512 128 1 ] * 3 + [ 512 128 2 ] resnet utils Block 'block3' bottleneck [ 1024 256 1 ] * 22 + [ 1024 256 2 ] resnet utils Block 'block4' bottleneck [ 2048 512 1 ] * 3 ]return resnet v1 inputs blocks num classes is training global pool global pool output stride output stride include root block True reuse reuse scope scope 
def split String With Numbers string raw Parts re ' \\d+ ' string non Empty Parts filter None raw Parts def split Helper non Empty Parts for part in non Empty Parts if re '\\d+' part yield int part else yield part return list split Helper non Empty Parts 
@register canonicalize stabilize optimizer [ Reshape def local reshape lift node if isinstance node T Reshape and node and isinstance node T Elemwise and len node 1 r node node node copy stack trace node r e node r copy stack trace node + node e if e ! node re T e node copy stack trace e re else re ereturn [re]
def get time zone abbr time zone date time None date time datetime utc if date time is None else date time return  format time zone string time zone date time '%Z'
def p if stmt p p ast If [ p p ] None 
def ridge penalty gradient beta alpha return [0] + [ 2 * alpha * beta j for beta j in beta ]]
def name servers search search for item True if isinstance search basestring search search if for item is True if search in ['<<inherit>>' ''] return searchsearch shlex search if isinstance search list for sl in search hostname sl else raise CX 'nvalidinputtype expectedstrorlist % type search return search 
def register file name member path digest '' conn None if conn is None conn init conn ' N S E R T I N T Ofiles V A L U E S ? ? ? ? ? ? ? ? ? ? ? ? ' name '{0}/{1}'.format path member member member digest member member member member member member member 
def get image vm  vm image config cloud config value 'image' vm    opts   .encode 'ascii' 'salt-cloud-force-ascii' images avail images for key value in images if vm image and vm image in images images return images Salt Cloud Not Found "hespecifiedimage '{0}' couldnotbefound vm image 
def addbroadcast x *axes rval Rebroadcast *[ axis True for axis in axes x return theano rebroadcast opt rval 
def syspath path prefix True if os  name   ! 'ntpath' return pathif not isinstance path unicode try path path 'utf8' except Unicode Error encoding sys or sys path path encoding 'replace' if prefix and not path WINDOWS MAGIC PREFIX if path u path u U N C + path ] path WINDOWS MAGIC PREFIX + path return path 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def sorting score start advertised start announcement announcement start now sorting dates start advertised start announcement scale 300.0if announcement days now - announcement .daysscore - exp - days / scale else days now - start .daysscore exp days / scale return score 
def badges enabled return settings F E A T U R E S 'ENABLE OPENBADGES' False 
def late versioning catch document resource resource def app D O M A I N app V E R S I O N resource def is True if version not in document resolve document version document resource 'POST' insert versioning documents resource document 
def ensure timezone func argname arg if isinstance arg tzinfo return argif isinstance arg string types return timezone arg raise Type Error "{func} couldn {arg!r}toatimezone.".format func  qualified name func argname argname arg arg 
@utils.arg '--tenant' metavar '<tenant-id>' default None help _ ' Doftenanttolistthedefaultquotasfor def do quota defaults cs args if args project id args isinstance cs client Session Client auth cs id auth auth ref cs .project idelse project id cs id quota show cs project id 
def parse with bindops sentence grammar None trace 0 if not grammar grammar 'grammars/book grammars load parser grammar trace trace chart class Instantiate Vars Chart tokens sentence return list parser tokens 
@open file 1 mode 'wt' def write sparse6 G path nodes None header True path generate sparse6 G nodes nodes header header path '\n'
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def fix reference name name blacklist None import rename ''.join re ' Z ]' name while name and not re ' [ Z A Z ]* $' name if not re ' Z name name name ]continuename str name if not name name 'data'if blacklist is not None and name in blacklist get new name lambda index name + '%03d' % index index 0while get new name index in blacklist index + 1name get new name index return name 
def glob tildes at end path result glob path with tildes [f for f in result if f '~' ]no tildes [f for f in result if not f '~' ]return no tildes + with tildes 
def xorg name ret {'name' name 'changes' {} 'result' None 'comment' ''}if   salt  ['keyboard.get x name ret Trueret ' Orglayout name return retif   opts  ['test'] ret ' Orglayout name return retif   salt  ['keyboard.set x name ret {'layout' name Trueret 'et X Orgkeyboardlayout name return retelse ret Falseret 'ailedtoset X Orgkeyboardlayout ret 
def delete resource resource name key identifier fields profile 'pagerduty' subdomain None api key None resource get resource resource name key identifier fields profile subdomain api key if resource if   opts  ['test'] return 'woulddelete'del   context  ['pagerduty util cache name id  get resource id resource return  query method 'DELETE' action '{0}/{1}'.format resource name resource id profile profile subdomain subdomain api key api key else return True 
def  unique parnames names upper names set unique names []for name in names name upper name while name upper in upper names name '_' + name name upper '_' + name upper unique names name upper names name upper return unique names 
def add label name kernel config None platform None only if needed None return models Label object name name kernel config kernel config platform platform only if needed only if needed .id
def Parse Task Age Limit age limit age limit age limit if not age limit raise Malformed Queue Configuration 'ask Age Limitmustnotbeempty unit age limit -1 ]if unit not in 'smhd' raise Malformed Queue Configuration 'ask Age Limitmustbeins seconds m minutes h hours ord days ' try number float age limit -1 ] if unit 's' return int number if unit 'm' return int number * 60 if unit 'h' return int number * 3600 if unit 'd' return int number * 86400 except Value Error raise Malformed Queue Configuration 'ask Age Limit % age limit 
def test existing path File Links repr alt formatter td mkdtemp tf1 Named Temporary File dir td tf2 Named Temporary File dir td def fake formatter dirname fnames included suffixes return ['hello' 'world']fl display File Links td terminal display formatter fake formatter actual repr fl actual actual '\n' actual expected ['hello' 'world']expected.sort nt equal actual expected 
def test equalize channels evoked1 read evokeds fname condition 0 proj True evoked2 evoked1 ch names evoked1 names ]evoked1.drop channels evoked1 names 1] evoked2 channels evoked2 names 2] my comparison [evoked1 evoked2 channels my comparison for e in my comparison assert equal ch names e names 
def idzr aidi m n k return  id aidi m n k 
def get Evaluated Dictionary By Evaluation Keys element Node evaluation Keys evaluated Dictionary {}for key in element Node if key in evaluation Keys add Value To Evaluated Dictionary element Node evaluated Dictionary key return evaluated Dictionary 
def rename file source dest os source dest   remove pyc pyo source 
def  prepare unit unit return {'id' unit 'url' unit translate url 'isfuzzy' unit 'source' [source[1] for source in pluralize source unit ] 'target' [target[1] for target in pluralize target unit ]}
def test plane vertices filled outline create plane assert array equal np len vertices np filled assert array equal np len vertices np outline 
def untokenize without newlines tokens text u row 0last column -1 for t in tokens token string t start row start column t end row end column t start row > last row last column 0if start column > last column or token string u and not text u text + u token string ! u text + token stringlast row end rowlast column end columnreturn text 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def get instance vdis for sr session vm ref sr ref for vbd ref in session xenapi ' M V B Ds vm ref try vdi ref session xenapi ' B D VDI' vbd ref if sr ref session xenapi ' D I SR' vdi ref yield vdi ref except session Xen A P I Failure continue 
@csrf exempt app '{0} complete URL NAMESPACE def lti login and complete view request backend *args **kwargs if request ! 'POST' return Http Response Not Allowed 'POST' request return complete request backend *args **kwargs
def get Flipped Loop element Node loop prefix flip Points element Node loop prefix if get Should Reverse element Node prefix loop return loop 
def log dependency not found label name if label name in DEPENDENCIES NOT FOUND returnlogging 'ependency label name DEPENDENCIES NOT F O U N D label name 
def  clean blocks tmp seq blocks seq blocks []for seq block in tmp seq blocks for line name in seq block seq block name seq block name '{' '' .replace '}' '' seq blocks seq block return seq blocks 
def get network interface fields fields item system N E T W O R K INTERFACE F I E L D Sfields ui []for field in fields field ui {'name' field 'dname' field 'value' '?' 'caption' field 'editable' field 'tooltip' field 'choices' field 'css class 'generic' 'html element 'generic'}if not field ui continuefield ui ''field ui raw field ui field ui element  get field html element name fields ui field ui return fields ui 
def test make imbalance 4 X  y  make imbalance X Y ratio 0.01 min c  1 counter Counter y  assert equal counter 500 assert equal counter 5 assert true np [ X i in X for X i in X ]
def get chunks in range chunks first line num lines for i chunk in enumerate chunks lines chunk lines -1 ][0] > first line > lines start index first line - lines if first line + num lines < lines -1 ][0] last index start index + num lines else last index len lines new chunk {u'index' i u chunk index last index u last index - start index u chunk u chunk u {} } yield new chunk first line + new chunk lines - new chunk num lines > 0 if num lines 0 break 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def remove master course staff from ccx for existing ccx apps schema editor Custom Course For Ed X apps model u u Custom Course For Ed X list ccx Custom Course For Ed X for ccx in list ccx if not ccx id or ccx id continueccx locator C C X Locator course locator ccx id unicode ccx try course get course by id ccx id remove master course staff from ccx course ccx locator ccx name send email False except Http404 log u Unabletoremoveinstructorsandstaffofmastercourse ccx id ccx locator 
def kb object return sys object * 0.01
def test maxfilter get rank mf read info raw fname ['proc history info mf info  get sss rank mf assert equal rank1 rank2 
def get gid list user None include default True if HAS GRP is False or HAS PWD is False return []gid list [gid for group gid in six salt group dict user include default include default ]return sorted set gid list 
def init quickmark completions log 'nitializingquickmarkcompletion try  instances Completion by name Later except Key Error passmodel miscmodels Quickmark Completion Model  instances Completion by name model 
def  allow donation course modes course id enrollment if course id not in course modes flat unexpired modes {unicode course id [mode for mode in modes for course id modes in course modes }flat all modes {unicode course id [mode.slug for mode in modes for course id modes in Course Mode modes for courses [course id .iteritems }log.error u Cannotfind Allmodes `%s`' course id flat unexpired modes flat all modes donations enabled Donation Configuration .enabledreturn donations enabled and enrollment in course modes id and course modes id price 0
def replace Ent mo return replacements mo 1 mo 
def transplant class cls module class C cls pass C  module   module C  name   cls  name  C.  qualname   cls  name  return C
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def update python path paths old sys path items list sys for path in paths if path 'site-packages' ! -1 site path else sys 0 path new sys path items set sys - set old sys path items sys list new sys path items + old sys path items 
def get image service return Image Service 
def to local timezone datetime return get i18n .to local timezone datetime 
def make Todo value if isinstance value str return Todo reason value if isinstance value tuple errors reason valuetry errors list errors except Type Error errors [errors]return Todo reason reason errors errors 
def remove acl path if platform constants P L A T F O R M DARWIN and os '/bin/chmod' subprocess ['/bin/chmod' '-R' '-N' path elif platform constants P L A T F O R M LINUX and os '/bin/setfacl' subprocess ['/bin/setfacl' '-R' '-b' path 
def compile metrics start time stop time None start time int start time xml  get rrd updates  get rrd server start time if xml doc minidom String xml return  parse rrd update doc start time stop time raise exception Could Not Fetch Metrics 
def subreddit sitemaps subreddits for subreddit chunks in in chunks subreddits LINKS PER SITEMAP yield  subreddit sitemap subreddit chunks 
def process bc freqs bc freqs bcs list []for curr key in bc freqs bcs list curr key int bc freqs key bcs list sorted bcs list key itemgetter 1 reverse True sorted bcs []for curr bc in bcs list sorted bcs '%s DCTB %d' % curr bc curr bc return sorted bcs 
def lens makers formula n lens n surr r1 r2 if isinstance n lens Medium n lens n lens indexelse n lens sympify n lens if isinstance n surr Medium n surr n surr indexelse n surr sympify n surr r1 sympify r1 r2 sympify r2 return 1 / n lens - n surr / n surr * 1 / r1 - 1 / r2 
def get Centers From Intersection Loop circle Intersection Loop radius loop []for circle Intersection in circle Intersection Loop loop circle Intersection Node Ahead * radius return loop 
def find latex line lines latex re string re latex '\\' '\\\\' for i line in enumerate lines if re string line return ielse return None 
def shuffle array X y idx np [random.random for i in xrange len y ] X [ for i in idx [y[i] for i in idx X y 
def arg to softmax prob if not isinstance prob Variable raise Type Error if prob is None raise Type Error owner prob not isinstance owner T Softmax raise Type Error rval owner rval 
def  fixencoding input encoding final False prefix u len input > len prefix if input prefix pos input u len prefix if pos > 0 if encoding '_' '-' .lower 'utf-8-sig' encoding u prefix + encoding + input ] else return inputelif not prefix input or final return inputif final return inputreturn None 
def perform cleanup scratch image name scratch text name root for name in scratch image name scratch text name root + '.txt' 'tesseract.log' try os name except O S Error pass 
def iter first sequence it iter sequence try if PY3 return next it else return it except Stop Iteration raise Value Error 
def test operator export export string T P O T Select K Best .export 5 assert export string 'elect K Best k 5 score func f classif '
def  update orf afi safi afi safi global  orf entry afiglobal  orf entry safi orf entry afi afi orf entry safi safi 
def  if str then list listing if type listing is str return [listing]elif type listing is not list raise Type Errorreturn listing 
@redis connection 'unique' def get expected conn key today return conn E X P E C T E D 
def parse distmat lines header Noneresult []for line in lines if line ' DCTB ' header map strip line ' DCTB ' [1 ] else result map float line ' DCTB ' [1 ] return header asarray result 
def plot posterior predictive trace eval None lm None samples 30 **kwargs import matplotlib as pltif lm is None lm lambda x sample sample Intercept + sample * x if eval is None eval np 0 1 100 if 'lw' not in kwargs and 'linewidth' not in kwargs kwargs 0.2if 'c' not in kwargs and 'color' not in kwargs kwargs 'k'for rand loc in np 0 len trace samples rand sample trace loc eval lm eval rand sample **kwargs kwargs 'label' None plt 'osteriorpredictive 
def write contents f opcode find module 'opcode' targets [' unknown opcode * 256 for opname op in opcode targets 'TARGET %s' % opname f 'staticvoid*opcode targets {\n' f ' \n'.join [ '&&%s' % s for s in targets f '\n};\n'
def boto supports param in spot request ec2 param method getattr ec2 'request spot instances return param in get function code method .co varnames 
def  all branches repo return repo 
def assert not equal comparison case a b equal a b unequal a ! b messages []if equal messages 'a bevaluatedto True if not unequal messages 'a! bevaluatedto False if messages case 'xpectedaandbtobenot ' + ';'.join messages 
def code challenge verifier digest hashlib verifier .digest return base64 b64encode digest .rstrip ' '
def get repo alias repos list repos if repos for source in six repos for sub in source if sub alias return subreturn {}
def get warnings state warnings warn txt Deprecation Warning stacklevel 2 return warnings ]
def get course course id depth 0 course modulestore .get course course id depth depth if course is None raise Value Error u Coursenotfound {0}'.format course id return course 
def attribute Escaping Done Outside data if isinstance data unicode return data 'utf-8' return data 
def avail images call None if call 'action' raise Salt Cloud System Exit 'heavail imagesfunctionmustbecalledwith orwiththe server user password  get xml rpc auth ' '.join [user password image pool server auth -2 -1 -1 [1]images {}for image in  get xml image pool images 'NAME' .text]  xml to dict image return images 
def  get Notification serial Port return snap Packet 
def  nested changes changes global   opts  opts   opts  .copy if   opts  ['color']   opts  ['color'] u C Y A N u + salt format changes 'nested'   opts   nested indent 14   opts   optsreturn ret 
def debian package install packages cmds [] reg packages url packages [] [] for package in packages if package 'http' url packages package else reg packages package if reg packages cmds 'apt-get-yinstall--no-install-recommends{}'.format ''.join reg packages cmds 'apt-getclean' for url in url packages name url url '/' + 1 ]cmds.extend ['curl--location{}-o{}'.format url name 'dpkg-i{}'.format name 'rm-rf{}'.format name ] return '&&'.join cmds 
def check Timestamp nonce string allowed skew SKEW now None try stamp _ split nonce string except Value Error return Falseelse if now is None now time past now - allowed skew future now + allowed skew return past < stamp < future 
def get best language accept lang LUM settings L A N G U A G E URL MAPNSL settings N O N SUPPORTED LOCALESLC settings L A N G U A G E C O D Elangs dict LUM langs k v if v else LC for k v in N S L if k not in langs langs k '-' [0] v for k v in L U M if k '-' [0] not in langs ranked parse accept lang header accept lang for lang _ in ranked lang lang if lang in langs return langs lang '-' [0]if pre in langs return langs False 
def restart name return   salt  ['service.run'] name 'restart'
def set Basic Logger set Logger Class Basic Logger Basic Logger Level 0
def robust wraps wrapper def _ wrapped wrapped  doc   wrapper  doc  return wrappedreturn _
def show usage pass 
def Create Ads With Customizations client adgroup ids feed name adgroup ad service client Get Service 'd Group Ad Service text ad {'xsi type 'ext Ad 'headline' 'uxury Cruiseto %ame % feed name 'description1' 'nly %rice % feed name 'description2' 'fferendsin countdown %ate }!' % feed name 'rls ['http //www.example.com'] 'rl 'www.example.com'}operations [{'operator' 'ADD' 'operand' {roup Id adgroup 'ad' text ad for adgroup in adgroup ids adgroup ad service operations if response and 'value' in response for ad in response print "reatedanadwith I D type andstatus % ad ad Ad Type ad else raise errors Google Ads Error 'oadswereadded 
def tag search context data dict tags count  tag search context data dict return {'count' count 'results' [ table dictize tag context for tag in tags 
def lookup object spec parts target spec ' ' if ' ' in spec else spec None module   import   parts for part in parts '.' [1 ] + [target] if target else [] module getattr module part return module 
def  Add Private Helper Methods cls def Modified self 'etsthe cached byte size dirtybittotrue \nandpropagatesthistoourlisteneriffthiswasastatechange.\n'if not self cached byte size dirty self cached byte size dirty Trueself listener for children Trueself is present in parent Trueself listener Modified cls Modified Modifiedcls Set In Parent Modified 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def simplify section result section result section yielded result section result for section []for value in chain section result section result if value is None continuefor result in value results for section result section yielded unfixed results len results for section > 0 return section yielded result section yielded unfixed results results for section 
def plot colored circles ax prng nb samples 15 for sty dict j in zip plt Params cycle range nb samples ax patch plt Circle prng scale 3 size 2 radius 1.0 color sty dict ax xlim [ -4 8] ax ylim [ -5 6] ax aspect 'equal' adjustable 'box' return ax 
def get os sslcertfile searchpath OS get os name l Noneif OS in   DEF OS LOCATIONS l   DEF OS L O C A T I O N S O S not hasattr l '  iter  ' l l return l 
def prefix decode all ls last u '' for w in ls i ord w decoded last i + w ].decode 'utf8' yield decoded last decoded 
def run  task 
def Fill User property if property .has uservalue uid Synthesize User Id property .uservalue .email if uid property value .mutable uservalue .set obfuscated gaiaid uid 
def fns return {'details' 'etworkdevicegrains 
def Close Interactive Window global editif edit is not None and edit View is not None if edit View Get Parent Frame win32ui Get Main Frame frame win32ui Get Main Frame cb frame Get Control Bar ID DOCKED INTERACTIVE CONTROLBAR frame Show Control Bar cb 0 1 else edit View Get Parent Frame .estroy Window 
def akaike info criterion lsq ssr n params n samples return akaike info criterion -0.5 * n samples * np ssr / n samples n params n samples 
def combine lists *seqs result []for seq in seqs if seq is None continueif isinstance seq bytes string types dict result seq else try result seq except result seq return result 
def init Cycle container seq func n 1 return container func for _ in xrange n for func in seq func 
def copy if out of date original derived if not os derived or os derived .st mtime < os original .st mtime try shutil original derived except I O Error if os original 'matplotlibrc' msg "'%s'notfound." % original + 'idyourun raise I O Error msg else raise 
def get distinct translations units targets {}result []for unit in units if unit in targets continuetargets 1result.append unit return result 
def as page return render frappe http status code frappe u status code 
def remove file failed failed file try os failed file except Exception pass 
def terminate threads func def wrapper *args **kwargs cur threads set threading try return func *args **kwargs finally do terminate threads set threading - cur threads wrapper  name   func  name  return wrapper 
def Equal Versions version baseline baseline tuple baseline tuple version len baseline tuple ]if truncated tuple baseline tuple return Trueelse return False 
def stable unique seq seen set seen add seen [x for x in seq if not x in seen or seen add x ]
def compute min dist digr n nodes explored dist min float 'inf' for v in nodes explored if digr edge v n d dist + digr edge weight v n if d < min min dreturn min 
def jet rc 'image' cmap 'jet' im gci if im is not None im cmap cm draw if interactive 
def reap All Processes for process in list reap Process Handlers process Process 
def test passing request to constructor request build request '/?page 1&sort abc class Simple Table Table abc Column table Simple Table [{'abc' 'bar'} {'abc' 'rab'}] request request assert table ordered 
def forecast location params None url '{}/{}'.format api location headers {ccept Encoding 'gzip'}r requests url params params headers headers if r code ! 200 raise Weather Exception 'ourkeyisinvalidorforecast r r if 'error' in r raise Weather Exception 'rrorgettingweather {}'.format r r return r 
def swap List elements index Begin index End elements Begin elements End elements End elements Begin 
def no change return No Op sleep NOOP SLEEP TIME
def version cmp a b if a b 'TP' return 0if a 'TP' return -1 elif b 'TP' return 1d version2float b - version2float a return 1 if d > 0 else -1 if d < 0 else 0
def start with prefix prefix trie branch  retrive branch prefix trie if not branch return []prefix list []q branch ]while q curr branch q 0 if  is trie bucket curr branch prefix list  get bucket key curr branch else q curr branch ] return prefix list 
def  check parser parser if parser not in  parsers raise Key Error 'nvalidparser validparsersare parser  parsers 
def pearson log likelihood ratio observed [] expected [] df None tail UPPER o list observed e list expected or  expected o n len o m len o if o else 0 df df or n - 1 * m - 1 df df or m 1 and n - 1 or m - 1 g 0.0for i in xrange n for j in xrange m if o ! 0 and e ! 0 g + o * log o / e g g * 2 p gammai df * 0.5 g * 0.5 tail return g p 
def print dots current total start False end False if SHUTDOWN E V E N T Set returnsys '.' if current + 1 total and end is True sys '\n' sys 
def get site url url '' return '{0} //{1}{2}'.format 'https' if ENABLE HTTPS else 'http' get site domain url 
def add X Intersection Indexes From Loop Lists Y loop Lists x Intersection Index List y for loop List Index in xrange len loop Lists loop List loop Lists List Index X Intersection Indexes From Loops Y loop List loop List Index x Intersection Index List y 
def compose *funcs **kfuncs return reduce lambda f g lambda *args **kaargs f g *args **kaargs funcs 
def ensure cwltool available if main is None or workflow is None or shellescape is None message 'hisfeaturerequirescwltoolanddependenciestobeavailable theyarenot main is None message + 'cwltoolisnotunavailable.'elif load tool is None message + 'cwltool.load toolisunavailable requests is None message + "ibrary shellescape is None message + "ibrary schema salad is None message + "ibrary salad Import Error message 
def  sph harm order degree az pol from scipy import lpmvfrom .preprocessing.maxwell import  sph harm normif np order > degree raise Value Error 'bsolutevalueofordermustbe degree az np az pol np pol if np az > 2 * np .any raise Value Error 'zimuthcoordsmustliein 2*pi]' if pol < 0 .any or pol > np .any raise Value Error 'olarcoordsmustliein pi sph lpmv order degree np pol * np 1j * order * az sph *  sph harm norm order degree return sph 
def Select Tlb title 'elect Library exclude Flags 0 import pywin Enum Tlbs exclude Flags for i in items i int i 16 i int i 16 items rc pywin Select From Lists title items [ype Library if rc is None return Nonereturn items 
def avg list return float  sum list / len list or 1
def  max stat X X2 perms dof scaling n samples len X mus np perms X / float n samples stds np X2 None ] - mus ** 2 * dof scaling max abs np np mus / stds / sqrt n samples axis 1 return max abs 
def  class type klass ancestors None if klass type is not None return klass typeif  is metaclass klass klass type 'metaclass'elif klass 'nterface klass type 'interface'elif klass 'xception klass type 'exception'else if ancestors is None ancestors set if klass in ancestors klass type 'class'return 'class'ancestors.add klass for base in klass recurs False name  class type base ancestors if name ! 'class' if name 'metaclass' and not  is metaclass klass continueklass type base klass type is None klass type 'class'return klass type 
def write id fid kind id  None id   generate meas id if id  is None else id  data size 5 * 4 fid np kind dtype '>i4' .tostring fid np FIFF.FIFFT ID STRUCT dtype '>i4' .tostring fid np data size dtype '>i4' .tostring fid np FIFF.FIFFV NEXT SEQ dtype '>i4' .tostring arr np [id ['version'] id ['machid'][0] id ['machid'][1] id ['secs'] id ['usecs']] dtype '>i4' fid arr 
def run  task 
def should be approved pending registration return timezone - pending registration date > settings R E G I S T R A T I O N APPROVAL TIME
def volume get active by window context begin end None project id None return I M P L get active by window context begin end project id 
def esearch db term **keywds cgi 'https //eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi'variables {'db' db 'term' term keywds return  open cgi variables 
def get images name None quiet False all True client  get client status base status try infos client name name quiet quiet all all for i in range len infos inf infos inf Human Size  sizeof fmt int inf Size except Value Error passtry ts int inf Created dts datetime ts inf Human Iso Created dts inf Human Created dts ' H %M %S' except Exception passtry inf Human Virtual Size  sizeof fmt int inf Virtual Size except Value Error pass valid status out infos except Exception  invalid status out traceback exc return status 
def  get bookmark repo name try return [x for x in  all bookmarks repo if x name ][0]except Index Error return False 
def test another sparktext chart Line chart '_' [0 30 55 80 33 150] assert chart sparktext u '\xe2\x96\x81\xe2\x96\x82\xe2\x96\x83\xe2\x96\x84\xe2\x96\x82\xe2\x96\x88' assert chart sparktext chart sparktext chart2 Bar chart2 '_' [0 30 55 80 33 150] assert chart2 sparktext chart sparktext 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def hstack tables join type u uniq col name u name {table name table names None metadata conflicts u tables  get list of tables tables if len tables 1 return tables name map Ordered Dict out  hstack tables join type uniq col name table names col name map  merge col meta out tables col name map metadata conflicts metadata conflicts  merge table meta out tables metadata conflicts metadata conflicts return out 
def upgrade response response wrapper class get seek wrapper class response if hasattr response 'closeable response if not hasattr response 'seek' response wrapper class response assert hasattr response 'get data return copy response try code response Attribute Error code Nonetry msg response Attribute Error msg Nonedata Noneget data getattr response 'get data None if get data data get data response closeable response response response response code msg response wrapper class response if data response data data return response 
def get app modules for app in apps app configs yield app app 
def human number number return {1 'one' 2 'two' 3 'three' 4 'four' 5 'five' 6 'six' 7 'seven' 8 'eight' 9 'nine' 10 'ten'}[number]
def  format field name attr parts attr ' ' 1 name parts -1 ].replace '_' '' if name or name name name parts -1 ] namereturn ' '.join parts 
def group get context group id return I M P L get context group id 
def newest slice iterable count if count < -1 raise Value Error "countcan'tbesmallerthan-1!" elif count 0 return []elif count -1 or len iterable < count return iterableelse return itertools iterable len iterable - count len iterable 
def render form errors form type u **kwargs renderer cls get form renderer **kwargs return renderer cls form **kwargs .render errors type 
def get U I D global  uid uid + 1return str  uid 
def  parse ssl options options use ssl options 'ssl' if use ssl is not None validate boolean 'ssl' use ssl certfile options 'ssl certfile keyfile options 'ssl keyfile passphrase options 'ssl pem passphrase ca certs options 'ssl ca certs cert reqs options 'ssl cert reqs match hostname options 'ssl match hostname True crlfile options 'ssl crlfile ssl kwarg keys [k for k in options if k 'ssl ' and options ]if use ssl False and ssl kwarg keys raise Configuration Error 'sslhasnotbeenenabledbutthefollowingsslparametershavebeenset %leaseset True % ' '.join ssl kwarg keys if ssl kwarg keys and use ssl is None use ssl Trueif use ssl is True ctx get ssl context certfile keyfile passphrase ca certs cert reqs crlfile return ctx match hostname return None match hostname 
def  parse currency value if not isinstance value dict value currency value .groupdict value Decimal value return value 
def  Create Keyset name purpose key type meta keydata Key Metadata name purpose key type writer keyczar dict Dict Writer writer Write Metadata meta czar keyczar Generic Keyczar keyczar dict Dict Reader writer czar Add Version keyinfo P R I M A R Y czar Write writer return writer 
def get first mapbox geocode result query map id settings M A P B O X MAP I Durl 'http //api.tiles.mapbox.com/v3/%s/geocode/%s.json' % map id query r requests url r for status data r if data 'results' result data dict [ item item for item in result return resultreturn {}
def test precision epoch t utc Time range 1980 2001 format 'jyear' scale 'utc' t tai Time range 1980 2001 format 'jyear' scale 'tai' dt t utc - t tai assert allclose sec dt np dt 
def serialize Object object  return base64pickle object 
def hostname global   FQDN  grains {}if salt proxy return grainsgrains socket if   FQDN   is None   FQDN   salt fqhostname if   FQDN   is None log 'avingtroublegettingahostname Doesthismachinehaveitshostnameanddomainsetproperly   FQDN   'localhost.localdomain'grains['fqdn']   FQDN   grains grains grains '.' [ 2]return grains 
def  normalize basedir basedir None if isinstance basedir six types basedir [x.strip for x in basedir ' ' ]if basedir is None basedir []if not basedir basedir  get yum config value 'reposdir' if not isinstance basedir list or not basedir raise Salt Invocation Error 'ouldnotdetermineanyrepodirectories return basedir 
def  postprocess for cut fac bins retbins x is series series index name if x is series fac Series fac index series index name name if not retbins return facreturn fac bins 
def change cwd cwd os if os cwd [1] 'scripts' os os cwd os 
def update Instance self try self  class   latest Class self  class   except Type Error if hasattr self  class   '  slots  ' raise Rebuild Error "an  slots  on Python else raise 
def cap expirydate return current + datetime days current settings cap expire offset 
def lwta p block size batch size p filters p blocks num filters // block size w p batch size num blocks block size block max w axis 2 .dimshuffle 0 1 'x' * T like w max mask T w > block max 'float32' indices numpy range 1 block size + 1 max mask2 max mask * indices block max2 max mask2 axis 2 .dimshuffle 0 1 'x' * T like w max mask3 T max mask2 > block max2 'float32' w2 w * max mask3 w3 w2 p p return w3 
def local tz func @functools.wraps func def wrapper *args **kwargs tz os 'TZ' '' try os T Z 'EST+05EDT M4.1.0 M10 return func *args **kwargs finally os T Z tztime return wrapper 
def  encode ocsp nocheck backend ext return  encode asn1 str gc backend '\x05\x00' 2
def modules module Path try mod sys Path mod is None raise Key Error except Key Error mod   import   module Path globals locals [''] return mod 
def has dataset name endswith {'brainstorm' 'MNE brainstorm 'fake' 'foo' 'misc' ' N E 'sample' ' N E 'somato' ' N E 'spm' ' N E 'testing' ' N E 'visual 92 categories 'visual 92 categories name Noneif name 'brainstorm' archive name dict brainstorm 'bst raw dp  data path download False name name check version False archive name archive name return dp endswith 
def sms outbox if not auth logged in session T 'equires Login redirect URL c 'default' f 'user' args 'login' tablename 'msg sms s3db smss3 table False table Falses3 strings Storage title display T ' M S Details title list T 'ent S M S label list button T 'iew Sent S M S label delete button T 'elete S M S msg record deleted T ' M Sdeleted msg list empty T 'o S M Scurrentlyin Outbox def postp r output if isinstance output dict add btn A T 'ompose  class 'action-btn'  href URL f 'compose' output add btnreturn outputs3 postps3db tablename editable False insertable False listadd False list fields ['id' 'date' 'to address 'body'] return s3 rest controller module 'sms'
def within range list num range list return any num > min  and num < max  for min  max  in range list 
def oracle old passwd password username uppercase True IV pad '\x00' * 8 '\x00' if isinstance username unicode username unicode username UNICODE ENCODING unistr ''.join '\x00%s' % c for c in username + password .upper cipher des hexdecode '0123456789ABCDEF' CBC IV pad encrypted cipher unistr cipher des encrypted -8 ] CBC IV pad encrypted cipher unistr ret Val hexencode encrypted -8 ] return ret Val if uppercase else ret Val 
def test process warning capsys query ' 'choices [' ']_ process One query choices out err capsys outstr "WARNING root Appliedprocessorreducesinputquerytoemptystring allcomparisonswillhavescore0 Query ' ']\n"assert err outstr 
def D N S Service Update Record sd Ref Record Ref None flags 0 rdata  NO DEFAULT ttl 0  NO D E F A U L T rdata rdlen rdata  string to length and void p rdata  global lock try  D N S Service Update Record sd Ref Record Ref flags rdlen rdata ttl finally  global lock 
def asint value if value is None return valuereturn int value 
def f measure reference test alpha 0.5 p precision reference test r recall reference test if p is None or r is None return Noneif p 0 or r 0 return 0return 1.0 / alpha / p + 1 - alpha / r 
def load url url model dir None if model dir is None torch home os os 'TORCH HOME' '~/.torch' model dir os 'TORCH MODEL ZOO' os torch home 'models' if not os model dir os model dir parts urlparse url filename os parts cached file os model dir filename if not os cached file sys 'ownloading "{}"to{}\n'.format url cached file hash prefix HASH R E G E X filename .group 1  download url to file url cached file hash prefix return torch cached file 
def get ccx for coach course coach ccxs Custom Course For Ed X course id course coach coach if ccxs return ccxs None 
def Log Exception Callback type value tb logging 'unexpectederror' exc info type value tb 
def monkeypatch render import django more info fun "jango butcapturesinformationfortesting Whenusing Django Jinja2templates noneof Thisalleviatesthatsomewhatbycapturingsomeoftheinformation Caveats \inja2templatesusedtorender Onlythetopmostonerequestedbytherender function fun def  more info request template name *args **kwargs resp fun request template name *args **kwargs resp templates [template name args resp context args 'context' in kwargs resp context kwargs resp context {}return respreturn  more infodjango more info django 
def assert rpm requires test case expected requirements rpm path output check output ['rpm' '--query' '--requires' '--package' rpm path actual requirements set line for line in output expected requirements set expected requirements missing requirements expected requirements - actual requirements if missing requirements test case 'issingrequirements {}in{}'.format missing requirements rpm path 
def test rgb yuv rng np Random State [1 2 3] X as float X rng 5 32 * 32 * 3 axes ['b' 0 1 'c']view converter dense design matrix Default View Converter 32 32 3 axes dataset Dense Design Matrix X X view converter view converter dataset axespreprocessor RGB YUV dataset preprocessor preprocessor result dataset design matrix assert isfinite result 
def batch l2 norm squared x return Batch L2 Norm Squared x 
def complex semver match version version specifier split version specifier version specifier ' ' if len split version specifier 1 return semver version version specifier else for version specifier part in split version specifier version specifier part version specifier part if not version specifier part continueif not semver version version specifier part return Falsereturn True 
@mock streams 'stderr' def test require mixed state keys prints missing only try require 'foo' 'version' except System Exit err sys assert 'version' not in err assert 'foo' in err 
def test hepatitis skip if no data data hepatitis Hepatitis assert data X is not None assert np data X ! np assert np data X ! np 
@env.catch exceptionsdef reload changes changes resources changes changed resources moved  get moved resources changes current env f in resources bufnr env 'bufnr "%s" ' % f path env buffer bufnr path env f in moved path moved pathenv 'eload f path path bufnr env file path 'e!' force True env '%shasbeenchanged.' % f path history True env buffer current 
def sub miller segments fracts [segment to fraction segment for segment in segments denominator reduce lcm [fract.denominator for fract in fracts miller indices [ fract * math common denominator / fract for fract in fracts ' ' + ' '.join map str map decimal Decimal miller indices + ' '
def site config dirs appname if WINDOWS path os  get win folder 'CSIDL COMMON APPDATA' pathlist [os.path.join path appname ]elif sys 'darwin' pathlist [os.path.join 'ibrary Application Support appname ]else xdg config dirs os 'XDG CONFIG DIRS' '/etc/xdg' if xdg config dirs pathlist [os.path.join expanduser x appname for x in xdg config dirs os ]else pathlist []pathlist.append '/etc' return pathlist 
def validate required value required if required and not value raise Value Error u 
def translation allowed language select language if settings F E I N C M S FRONTEND LANGUAGES l select language 2]if l not in settings F E I N C M S FRONTEND LANGUAGES select language django settings L A N G U A G E S select language 
def parse servers result from version import PROTOCOL V E R S I O Nservers {}for item in result host item {}version Nonepruning level '-'if len item > 2 for v in item if re '[st]\\d*' v protocol port v v ] if port '' port DEFAULT P O R T S portelif re 'v .? +' v version v ]elif re 'p\\d*' v pruning level v ]if pruning level '' pruning level '0'try is recent cmp util version version util version PROTOCOL VERSION > 0 except Exception is recent Falseif out and is recent out pruning levelservers outreturn servers 
def build Alternating Training Set num Ones 5 num Patterns 14p get Simple Patterns num Ones num Patterns s1 [p[0] p p p p p [p[0] p p p p p [p[0] p p p p p [p[0] p p p p p Sequences [s1 s2 s3 s4 training Sequences 5
def foldl fn elems initializer None name None if initializer is None initializer elems elems ]fn2 lambda x acc fn acc x return theano fn2 elems initializer name name [0]
def resolve dotted attribute obj attr allow dotted names True if allow dotted names attrs attr '.' else attrs [attr]for i in attrs if i '_' raise Attribute Error 'attempttoaccessprivateattribute"%s"' % i else obj getattr obj i return obj 
def upscale image ratio if not isinstance image np raise Value Error 'xpectedndarray if ratio < 1 raise Value Error 'atiomustbegreaterthan1 ratio %f ' % ratio width int math image * ratio height int math image * ratio channels image np height width channels dtype np for x y in np width height out y x ] image int math y / ratio int math x / ratio ]return out 
def test gnb prior large bias clf Gaussian N B priors np [0.01 0.99] clf X y assert equal clf [[ -0.1 -0.1 ]] np [2]
def test add array even shape large test array np 11 11 small test array np 4 4 large test array ref large test array large test array ref 2 0 2] + small test array 4 2 4]added array add array large test array small test array 0 0 assert np added array large test array ref 
def test find best app test apps class Module app Flask 'appname' assert find best app Module Module class Module application Flask 'appname' assert find best app Module Module class Module myapp Flask 'appname' assert find best app Module Module class Module passpytest No App Exception find best app Module class Module myapp1 Flask 'appname1' myapp2 Flask 'appname2' pytest No App Exception find best app Module 
def parse args parser argparse Argument Parser parser argument '--profile-tool' metavar 'TOOL' action 'store' choices ['kcachegrind' 'snakeviz' 'gprof2dot' 'none'] default 'snakeviz' help 'hetooltousetoviewtheprofilingdata parser argument '--profile-file' metavar 'FILE' action 'store' help 'hefilenametousewith none return parser known args 
def reset no Gamma True OK init if no Gamma and OK set Video Mode NOGAMMACORRECT
def ansible local init ansible inv ansible inv {}ansible inv ['localhost']ansible inv {'ansible connection 'local'}
def U Q Ratio s1 s2 return Q Ratio s1 s2 force ascii False 
def generate s limit 20 return  gen parse s limit 
def add cycle G nodes **attr G edges from pairwise nodes cyclic True **attr
def New Logfile Monitor Mixin follow paths pattern paths None if not follow paths or pattern paths and not follow paths raise Invalid Configuration Errorreturn type 'ogfile Monitor Mixin % id follow paths Logfile Monitor Mixin {'follow paths follow paths 'pattern paths pattern paths or }
def p map type p p T Type M A P p p 
def course has entrance exam course if not is entrance exams enabled return Falseif not course exam enabled return Falseif not course exam id return Falsereturn True 
def get migration data try from django import get user modelexcept Import Error from django import Userelse User get user model user orm label '%s.%s' % User meta label User meta name user model label '%s.%s' % User meta label User meta name return User user orm label user model label 
def tree from cix path cix path tree E T cix path .getroot version tree 'version' if version CIX VERSION return treeelif version '0.1' return tree 2 0 from tree 0 1 tree else raise Code Intel Error ' I Xversion %r' % version 
def set resp defaults req resp resource params if resource default status is not None resp resource default statusif resource default body is not None resp resource default bodyif resource default headers is not None resp headers resource default headers 
def parse spec text tokens text ' ' specs []for token in tokens if ' ' not in token token + ' 1' sizespec weight token ' ' weight float weight units {'m' 1 'g' 1 << 10 't' 1 << 20 'p' 1 << 30 }unit units sizespec -1 ].lower None if not unit size float sizespec unit 1else size float sizespec -1 ] spec Partition Spec int size * unit weight specs spec return specs 
def build whitespace split regex text def   build parts text lexer shlex text lexer split Truelexer ''if "'" in text lexer '"'elif '"' in text lexer "'"return list lexer regex ''for line in text parts [re.escape s for s in   build parts line ]regex + ' ? [\\s]+ ?{0} ? [\\s]+ ?'.format ' ? [\\s]+ ?'.join parts return ' ?m ^{0}$'.format regex 
@open file 1 mode 'wb' def write gexf G path encoding 'utf-8' prettyprint True version '1.1draft' writer G E X F Writer encoding encoding prettyprint prettyprint version version writer graph G writer path 
@socketio.on 'leave' namespace '/jobs' def on leave jobs if 'room' in flask room flask flask room room 
def test continuous error y np 0 1 15 nm Near Miss random state RND SEED version VERSION NEARMISS assert warns User Warning nm X y 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def path to cache dir path d p os os path if d d d ' ' '---' p p os '--' return d + p + '.cache'
def latex expr **settings return Latex Printer settings .doprint expr 
def c object return dict c g 
def load opts from mrjob conf runner alias conf path None already loaded None if already loaded is None already loaded []conf path  expanded mrjob conf path conf path return  load opts from mrjob conf runner alias conf path already loaded 
def reset builtins dir set builtins dir DEFAULT DIR
def create url hostname port None is Secure False if port is not None netloc '%s %d' % hostname port elif is Secure netloc u 443'.format hostname else netloc u 80'.format hostname if is Secure scheme u scheme u u //{}'.format scheme netloc 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def transfer user from session to session if auth B A C K E N D SESSION KEY in from session and auth S E S S I O N KEY in from session and auth H A S H SESSION KEY in from session to session B A C K E N D SESSION KEY] from session B A C K E N D SESSION K E Y session S E S S I O N KEY] from session S E S S I O N K E Y session H A S H SESSION KEY] from session H A S H SESSION KEY]
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def run tidy html global  tidy cmd  tidy existsfrom commands import  optionsrequire tidy  options 'require tidy if not  tidy exists if require tidy raise Twill Exception 'tidydoesnotexistandrequire tidyisset return None None clean html Noneif  tidy exists try process subprocess Popen  tidy cmd stdin subprocess P I P E stdout subprocess P I P E stderr subprocess P I P E bufsize 0 shell False stdout stderr process html clean html stdouterrors stderrexcept O S Error  tidy exists Falseerrors Noneif require tidy and clean html is None raise Twill Exception 'tidydoesnotexistandrequire tidyisset return clean html errors 
def  getargs func import typesif sys info > 3 0 if isinstance func types Method Type func func  func  co func  code  else if isinstance func types Method Type func func funcco func codereturn co varnames co argcount 
def find urls string unique True string u string string string u '.' string string '' '' matches []for p in RE URL1 RE URL2 RE URL3 for m in p '%s' % string s m 1 s s '">' [0].split "'>" [0]if not unique or s not in matches matches s return matches 
def alerting Net To Ms Facility presence 0 Progress Indicator presence 0 User User presence 0 a Tp Pd pd 3 b Message Type mes Type 1 packet a / b if Facility presence is 1 c Facility Hdr iei F 28 packet packet / c if Progress Indicator presence is 1 d Progress Indicator Hdr iei P I 30 packet packet / d if User User presence is 1 e User User Hdr iei U U 126 packet packet / e return packet 
def getwinsize if 'TIOCGWINSZ' in dir termios TIOCGWINSZ termios T I O C G W I N S Zelse TIOCGWINSZ 1074295912s struct 'HHHH' 0 0 0 0 x fcntl sys TIOCGWINSZ s return struct 'HHHH' x [0 2]
def Parse Property Query query filters orders Check not query transaction 'transactionalquerieson  property  notallowed key range Parse Key Filtered Query filters orders key range Remap lambda x  Property Key To String x '' if query ancestor ancestor datastore types Key From Pb query ancestor kind ancestor property  Property Key To String ancestor None if ancestor property is not None key range Update datastore pb Query Filter E Q U A L ancestor kind ancestor property else key range Update datastore pb Query Filter G R E A T E R THAN OR EQUAL ancestor kind '' key range Update datastore pb Query Filter L E S S THAN OR EQUAL ancestor kind + '\x00' '' query ancestor return key range 
def fix lib64 lib dir symlink True if [p for p in distutils config vars .values if isinstance p basestring and 'lib64' in p ] if is pypy logger 'y Pydetected skippinglib64symlinking returnlogger 'hissystemuseslib64 assert os lib dir 'python%s' % sys 3] 'nexpectedpythonlibdir %r' % lib dir lib parent os lib dir top level os lib parent lib dir os top level 'lib' lib64 link os top level 'lib64' assert os lib parent 'lib' 'nexpectedparentdir %r' % lib parent if os lib64 link returncp or ln os if symlink else copyfile cp or ln 'lib' lib64 link 
def handle copy source param params **kwargs source params 'opy Source if source is None returnif isinstance source six types params Copy Source  quote source header source elif isinstance source dict params Copy Source  quote source header from dict source 
def to spacecase string string re ' _ ' '' string string re '^ \\s* . ' lambda match match 2 .upper string string re ' \\s* $' '' string string re ' ?< [^\\s] \\s+ [^\\s] ' lambda match '' + match 1 .upper string return re ' ?< [^\\s] [A-Z] ' lambda match '' + match 1 string 
def  json drives game home team data drive nums []for drive num in data try drive nums int drive num except passdrives []for i drive num in enumerate sorted drive nums 1 d Drive game i home team data drive num ] if not hasattr d 'game' continuedrives d return drives 
def source estimate quantification stc1 stc2 metric 'rms' known metrics ['rms' 'cosine']if metric not in known metrics raise Value Error 'metricmustbeastrfromtheknownmetrics "rms"or"cosine"'  check stc stc1 stc2 data1 data2 stc1 stc2 if metric 'rms' score np np data1 - data2 ** 2 elif metric 'cosine' score 1.0 - np data1 data2 / norm data1 * norm data2 return score 
def Path Has Drive Letter path return path 2] ' '
def genops pickle import c String I O as String I Oif isinstance pickle str pickle String I O String I O pickle if hasattr pickle 'tell' getpos pickle getpos lambda None while True pos getpos code pickle 1 opcode code2op code if opcode is None if code '' raise Value Error ' T O P else raise Value Error 'atposition%s opcode % pos is None and '<unknown>' or pos code if opcode is None arg Noneelse arg opcode pickle yield opcode arg pos if code '.' assert opcode 'STOP' break 
def make carousel thumbs app exception if exception is not None returnprint 'reparingcarouselimages image dir os app ' images for glr plot max width in carousel thumbs image os image dir glr plot if os image c thumb os image dir glr plot -4 ] + ' carousel sphinx gallery rst image image c thumb max width 190
def validate document class option value if not issubclass value collections Mutable Mapping Raw B S O N Document raise Type Error '%smustbedict bson S O N bson bson Raw B S O N Document orasublassofcollections Mutable Mapping % option return value 
def page name app None if app return _ u Add .format app else return _ 'dd 
def sort seqs by clustersize seqs mapping ids []seqs cache {}for header seq in seqs id header '|' [0]id id '' ids id seqs cache header seq for id in sort ids ids mapping yield seqs cache 
def get dhcp leases context network ref hosts []host Noneif network ref host host C O N F data in db get associated fixed ips context network ref host host if data and data hosts  host lease data return '\n'.join hosts 
@utils.arg 'backup' metavar '<backup>' help ' Dofthebackuptodelete @utils.service type 'monitor' def do backup delete cs args backup  find backup cs args backup 
def predict N O E peaklist origin Nuc detected Nuc origin Res Num to Res Num return Line ''datamap  data map peaklist origin Ass Col datamap origin Nuc + '.L' ] + 1 origin P P M Col datamap origin Nuc + '.P' ] + 1 detected P P M Col datamap detected Nuc + '.P' ] + 1 if str to Res Num in peaklist dict detected Nuc and str origin Res Num in peaklist dict detected Nuc detected List peaklist dict detected Nuc [str to Res Num ]ist peaklist dict detected Nuc [str origin Res Num ]ine detected List line in detected List ave Detected P P M  col ave detected List detected P P M Col ave Origin P P M  col ave origin List origin P P M Col origin Ass origin List [ss Col Line xpktools entry return Line origin Ass Col + 1 origin Ass return Line xpktools entry return Line origin P P M Col + 1 ave Origin P P M return return Line 
def mounts cmd 'mount'ret {}out   salt  ['cmd.run all cmd output out for line in output if not line continueif 'fuse.mfs' in line comps line '' info1 comps ' ' info2 info1 '/' ret {'remote' {'master' info1 'port' info2 'subfolder' '/' + info2 } 'local' comps 'options' comps ' ' '' .replace ' ' '' .split ' ' }return ret 
def add Loop infill Width infill Paths loop rotation Plane Angle simplified Loop euclidean Simplified Loop loop infill Width if len simplified Loop < 2 returnsimplified Loop simplified Loop plane Rotated euclidean Points Round Z Axis rotation Plane Angle simplified Loop infill Paths plane Rotated 
def  compare to remote remote local branch remote branch None remote branch remote branch if remote branch else local branch git remote '%s/%s' % remote remote branch return  git diff name status git remote local branch 
def where cond a b raise on error False use numexpr True if use numexpr return  where cond a b raise on error raise on error return  where standard cond a b raise on error raise on error 
def  cast y axis extrema y axis extrema try y axis extrema float y axis extrema except Value Error if y axis extrema 'auto' y axis extrema Noneelse raise Value Error "heminandmaxy Couldn % y axis extrema return y axis extrema 
def combine local envs *envs return  combine envs helper envs local True 
def add blank choice choices return None '---------' + tuple choices 
def sanitize release group string if string is None returnstring re '\\[\\w+\\]' '' string return string .upper
def wrapper ruby string wrapper prefix runas None *binaries cmd ['wrapper' ruby string wrapper prefix binaries return  rvm cmd runas runas 
def Timestamp From Ticks ticks return Timestamp *time.localtime ticks [ 6]
def sites for org try org request result current message False 400 'o Orgprovided else try org int org except result current message False 400 'nvalid Orgprovided else stable s3db siteif settings org branches btable s3db organisation branchquery btable id org & btable ! True rows db query .select btable id org ids [row.branch id for row in rows + [org] query stable id org ids & stable ! True else query stable id org & stable ! True rows db query .select stable id stable orderby stable result rows finally response Content Type 'application/json'return result 
def  get info from memcache app env account container None cache key get cache key account container memcache getattr app 'memcache' None or env 'swift.cache' if memcache info memcache cache key if info for key in info if isinstance info six type info info 'utf-8' elif isinstance info dict for subkey value in info if isinstance value six type info value 'utf-8' env 'swift.infocache' {} [cache key inforeturn inforeturn None 
def core helper f name None def  get name func or class try return func or class  name  except Attribute Error return func or class  class  .  name   builtin functions name or  get name f ] freturn f 
def validate num values vals default None cast to int based on min num values len vals if num values 0 return defaultif num values > 1 if based on min L O G  LI '% num values dvaluesfound ofwhichtheminimumvaluewillbeused {'num values num values else L O G  LI '% num values dvaluesfound ofwhichthemaximumvaluewillbeused {'num values num values return based on [cast to val for val in vals 
def streq const time s1 s2 if len s1 ! len s2 return Falseresult 0for a b in zip s1 s2 result | ord a ^ ord b return result 0
def get primary key model mapper model sa class manager [mapper.get property by column c .key for c in mapper key len pks 1 return pks len pks > 1 return tuple pks else return None 
def get cashflow data year quarter if ct check input year quarter is True ct write head df  get cashflow data year quarter 1 pd Data Frame if df is not None df df lambda x str x .zfill 6 return df 
def  comment directive block location next entry block location + 1 ] if location + 1 < len block else None if isinstance next entry list and next entry if len next entry > 2 and next entry -2 ] '#' and COMMENT in next entry -1 ] returnelif isinstance next entry nginxparser Unspaced List next entry next entry next entry next entry location + 1 COMMENT BLOCK[ ] if next entry is not None and '\n' not in next entry block location + 2 '\n'
def test creds not found assert equal find credentials {'foo' 'bar'} None None 
def mkdir p dir if not dir returnif dir '/' or dir '\\' mkdir p dir -1 ] returnif os dir returnmkdir p os dir try os dir except Exception pass 
def load inventory preferred path None default inv None inventory file loaded load from json INVENTORY FILENAME preferred path raise if missing False if file loaded is not False load path os file loaded else load path dir find preferred path if inventory is not False logger 'oadedexistinginventoryfrom file loaded  make backup load path file loaded else logger 'oexistinginventory createdfreshskeleton inventory copy default inv return inventory load path 
def swapon name priority None ret {}on  swaps if name in on  ret on [name]ret['new'] Falsereturn retif   grains  ['kernel'] 'un O S if   grains  ['virtual'] ! 'zone'   salt  ['cmd.run'] 'swap-a{0}'.format name python shell False else return Falseelse cmd 'swapon{0}'.format name if priority cmd + '-p{0}'.format priority   salt  ['cmd.run'] cmd python shell False on  swaps if name in on  ret on [name]ret['new'] Truereturn retreturn ret 
def conv Down hid Sums filters targets num Modules X padding Start module Stride filter Size X im Size X num Img Colors num Groups 1ilters filters Images hid Sums Modules num Modules X ** 2 assert padding Start > 0 assert targets num Images num Img Colors * im Size X * im Size X  Conv Net Down hid Sums mat filters mat targets mat im Size X - padding Start module Stride num Img Colors num Groups 
def  rollout env timestep limit None count 0episode state 'resetting'while True obs reward done info env [] count + 1if episode state 'resetting' if done is None assert obs is None continueelif done is False episode state 'running'if episode state 'running' assert done is False assert isinstance reward float assert isinstance done bool 'eceiveddone Nonebeforedone True obs is not None assert obs 768 1024 3 breakif timestep limit is not None and count > timestep limit assert episode state 'running' 'ailedtofinishresettingintimesteplimit 
def Prepare Special Properties For Store entity proto  Prepare Special Properties entity proto False 
def xypic draw diagram diagram masked None diagram format '' groups None **hints grid Diagram Grid diagram groups **hints drawer Xypic Diagram Drawer return drawer diagram grid masked diagram format 
def formstyle ul form fields table UL for id label controls help in fields  help DIV help  class 'w2p fc  controls DIV controls  class 'w2p fw  label DIV label  class 'w2p fl table LI  label  controls  help  id id return table 
def  has value tagtype value if tagtype in tagtype list T A G T Y P E LIST return bool value return True 
def get lms link for about page course key assert isinstance course key Course Key if settings F E A T U R E S 'ENABLE MKTG SITE' about base settings M K T G U R L S R O O T about base settings L M S ROOT U R Lreturn u base url key about base url about base course key course key deprecated string 
def is tag mutable context tag if context admin return Trueif context is None return Falsereturn tag context 
def Import State Name state return {STATE READ 'READ' STATE GETTING 'SENDING' STATE GOT 'SENT' STATE NOT SENT 'NOT S E N T 
def calc Response HA1 HA2 algo psz Nonce psz Nonce Count psz C Nonce psz Qop m algorithms m HA1 m ' ' m psz Nonce m ' ' if psz Nonce Count and psz C Nonce m psz Nonce Count m ' ' m psz C Nonce m ' ' m psz Qop m ' ' m HA2 resp Hash hexlify m return resp Hash 
def  yum pkginfo output cur {}keys itertools 'name' 'version' 'repoid' values salt  strip headers output osarch   grains  ['osarch']for key value in zip keys values if key 'name' try cur cur value '.' 1 except Value Error cur valuecur osarchcur salt name cur cur osarch else if key 'version' value value '-' elif key 'repoid' value value '@' cur valueif key 'repoid' pkginfo salt **cur cur {}if pkginfo is not None yield pkginfo 
def test dnn tag x T old theano opt errortheano opt error 'raise'sio String I O handler logging Stream Handler sio logging Logger 'theano.compile.tests.test dnn .andler handler logging Logger 'theano' .andler theano default handler raised Falsetry f theano [x] pool 2d x ws 2 2 ignore border True mode mode with gpu 'cudnn' except Assertion Error Runtime Error assert not cuda available raised Truefinally theano opt error oldlogging Logger 'theano.compile.tests.test dnn .andler handler logging Logger 'theano' .andler theano default handler if not raised assert cuda available assert any [isinstance n cuda Gpu Dnn Pool for n in f ]
@ uniquedef uninstallation paths dist r csv Fake File dist metadata lines 'RECORD' for row in r path os dist row yield path if path '.py' dn fn os path base fn -3 ]path os dn base + '.pyc' yield path 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
@receiver USER FIELD CHANGED def email marketing user field changed sender user None table None setting None old value None new value None **kwargs if user anonymous returnif table ! 'auth user and table ! 'auth userprofile returnif setting in CHANGED FIELDNAMES email config Email Marketing Configuration if not email config returnupdate user  create sailthru user vars user user user site  get current site new user False activation setting 'is active and new value is True elif setting 'email' email config Email Marketing Configuration if not email config returnupdate user email user old value 
def volume list provider client  get client info client action action 'volume list provider provider names 'name' return info 
def clean args args for arg in args if not args del args args 
def  qemu image info path ret {}out   salt  ['cmd.run'] 'qemu-imginfo{0}'.format path match map {'size' 'virtualsize \\w+\\ \\d+ byte ' 'format' 'fileformat \\w+ '}for info search in six match map try ret re search out .group 1 except Attribute Error continuereturn ret 
@with setup state state def test subunit output with tags state [ncludes {'status' 'success' 'tags' set ['slow-ish'] } Includes {'status' 'success' 'tags' set ['fast-ish'] } Includes {'status' 'success' 'tags' set } Includes {'status' 'success' 'tags' set } ]runner Runner feature name 'tagged features enable subunit True runner 
def get recipients doc fetched from email account False recipients split emails doc if recipients recipients filter email list doc recipients [] return recipients 
def reset defaults mpl Params mpl Params Default 
def  has access string user action perm def check staff 'hecksforstaffaccess perm ! 'global' debug "eny invalidpermission perm return ACCESS D E N I E Dreturn ACCESS GRANTED if Global Staff .has user user else ACCESS DENIED def check support 'heckthattheuserhasaccesstothesupport U I perm ! 'global' return ACCESS D E N I E Dreturn ACCESS GRANTED if Global Staff .has user user or Support Staff Role .has user user else ACCESS DENIED checkers {'staff' check staff 'support' check support 'certificates' check support  dispatch checkers action user perm 
def  stringify args args new args []for item in args if isinstance item int long new args '%#lx' % item else new args str item return new args 
def nearest workday dt if dt 5 return dt - timedelta 1 elif dt 6 return dt + timedelta 1 return dt 
def build config from file module data []module frappe module for app in frappe installed apps try data + get config app module except Import Error passreturn data 
@receiver post delete sender Suggestion @receiver post save sender Suggestion def update suggestion flag sender instance **kwargs for unit in get related units instance unit has suggestion 
def test multiple assert hug 'value' ['value'] assert hug ['value1' 'value2'] ['value1' 'value2']
def filter nonzero data combine None nz feats nonzero features data combine return [set[ nz feats for set in data 
def Degree degrees return math * degrees / 180.0
def  create email user param sailthru vars sailthru client email new user email config site None sailthru user {'id' email 'key' 'email'}sailthru user dict sailthru vars last changed time int time if new user list name  get or create user list for site sailthru client site site default list name email config new user list sailthru user {list name 1} if list name else {email config new user list 1} return sailthru user 
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
@register u def menu complete event generate completions event 
def service highstate requires True ret {}running running service owners for service in running ret {'service' ['running']}if requires ret {'require' {'pkg' running enabled enabled service owners for service in enabled if service in ret ret {'enabled' True else ret {'service' [{'enabled' True requires exists Falsefor item in ret if isinstance item dict and next six item 'require' exists Trueif not exists ret {'require' {'pkg' enabled return ret 
def check segments coll positions linelength lineoffset orientation segments coll segments if orientation u or orientation u or orientation is None pos1 1pos2 0elif orientation u pos1 0pos2 1else raise Value Error u for i segment in enumerate segments assert equal segment 0 pos1 ] lineoffset + linelength / 2.0 assert equal segment 1 pos1 ] lineoffset - linelength / 2.0 assert equal segment 0 pos2 ] positions assert equal segment 1 pos2 ] positions 
@njitdef  repeat 1d x K out N x L out // K * N for n in range N val x k in range K for l in range L ind k * N * L + n * L + l out val 
@pytest.mark.parametrize 'store cookies empty [ True False False True ] def test cookies changed config stub fake save manager monkeypatch qtbot store cookies empty config stub CONFIG COOKIES E N A B L E Dmonkeypatch lineparser 'ine Parser Lineparser Save Stub jar cookies Cookie Jar jar lineparser [COOKIE1 C O O K I E2 cookies config stub 'content' 'cookies-store' store cookies if empty assert not jar lineparser assert not jar lineparser else assert jar lineparser 
def anonymous id for user user course id save True if user anonymous return Nonecached id getattr user ' anonymous id {} .get course id if cached id is not None return cached idhasher hashlib hasher settings S E C R E T KEY hasher unicode user if course id hasher unicode course id .encode 'utf-8' digest hasher if not hasattr user ' anonymous id user anonymous id {}user. anonymous id id digestif save is False return digesttry Anonymous User Id or create user user course id course id anonymous user id digest except Integrity Error passreturn digest 
def strip xmlns element xmlns element element '{' + xmlns + '}' '' for cur child in element strip xmlns cur child xmlns return element 
def  Get Output Target Ext spec target extension spec 'product extension if target extension return '.' + target extension return None 
def print ccode expr **settings print ccode expr **settings
def replace prefix path p1 p2 common prefix os [path p1 if common prefix assert path common prefix 0 path path len common prefix + 1 ]return os p2 path 
def  element to dict data position obj end opts element type data position + 1 ]position + 1 element name position  get c string data position opts try value position  ELEMENT G E T T E R type data position obj end opts element name except Key Error  raise unknown type element type element name return element name value position 
def encode as multipart multipart container boundary v vars v files  split vars files multipart container _ data multipart encode v vars v files boundary boundary return data 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def translate mixed exceptions method def wrapper self ctx res id *args **kwargs try res method self ctx res id *args **kwargs except keystone exception Not Found cinder exception Not Found  reraise exception Volume Not Found volume id res id except cinder exception Over Limit  reraise exception Over Quota overs 'snapshots' return resreturn translate cinder exception wrapper 
def  sorted edge u v return u v if u < v else v u 
def cc stats x1 x2 demean True nobs1 k1 x1 nobs2 k2 x2 cancorr x1 x2 demean demean cc2 cc ** 2 lam cc2 / 1 - cc2 df model k1 * k2 df resid k1 * nobs1 - k2 - demean s min df model k1 m 0.5 * df model - k1 n 0.5 * df resid - k1 - 1 df1 k1 * df model df2 k2pt value cc2 wl value np 1 / 1 + lam ht value lam rm value lam res {}res['canonicalcorrelationcoefficient'] ccres lamres Pillai Trace pt valueres Wilk Lambda wl valueres Hotelling Trace ht valueres Roy Largest Root rm valueres resid df residres m mreturn res 
@partial.partialdef login analytics strategy auth entry *args **kwargs event name Noneif auth entry AUTH ENTRY LOGIN event name 'edx.bi.user.account.authenticated'elif auth entry in [AUTH ENTRY ACCOUNT SETTINGS] event name 'edx.bi.user.account.linked'if event name is not None and hasattr settings 'LMS SEGMENT KEY' and settings L M S SEGMENT KEY tracking context tracker tracker .resolve context analytics kwargs event name {'category' 'conversion' 'label' None 'provider' kwargs context {'ip' tracking context 'ip' 'oogle Analytics {d tracking context 'client id }}
def create game directory dirname global GAMEDIRGAMEDIR os os CURRENT DIR dirname if os GAMEDIR print "annotcreatenew Evenniagamedir '%s'alreadyexists." % dirname sys shutil EVENNIA TEMPLATE GAMEDIR create settings file 
@deprecated 'relabel sequential def relabel from one label field return relabel sequential label field offset 1
def  nssplit qualified Name fields qualified Name ' ' 1 if len fields 2 return fieldselse return None fields 
def  flatten code code flat code []for c in code flat code c return flat code 
def create new user server email password secret appscale info secret ret server new user email password 'user' secret return not ret 'rror '
@ Configurable Filter executable 'OPTIPNG EXECUTABLE' def optipng infile executable 'optiong' return runinplace '{}-preserve-o2-quiet%1'.format executable infile 
def match Types accept types have types if not accept types default 1else default 0match main {}match sub {}for main sub q in accept types if main '*' default max default q continueelif sub '*' match main max match main main 0 q else match sub main sub ] max match sub main sub 0 q accepted list []order maintainer 0for mtype in have types main sub mtype '/' if main sub in match sub q match sub main sub ]else q match main main default if q accepted list 1 - q order maintainer q mtype order maintainer + 1accepted list return [ mtype q for _ _ q mtype in accepted list 
def access log request msg None level None if level is None level logging I N F Oai Access Info request ai level msg 
def walk Q Object Tree obj counts None verbose False depth 0 if verbose print '' * depth + type Str obj report Falseif counts is None counts {}report Truetyp str type obj try counts + 1except Key Error counts 1for child in obj walk Q Object Tree child counts verbose depth + 1 return counts 
def get available slug title new slug None slug new slug or title title slugtitle path path title not is valid page slug title title title slug title path match COPY SLUG R E G E X slug if match try next id int match [0] + 1 slug '-'.join slug '-' [ -1 ] + '-%d' % next id except Type Error slug + '-2'else slug + APPEND TO S L U Greturn get available slug title slug else return slug 
@ioflo.base.deeding.deedify 'alt Raet Reactor Fork ioinits {'opts' '.salt.opts' 'proc mgr '.salt.usr.proc mgr def reactor fork self self mgr process salt Reactor args self 
def get Scene Seasons indexer id cache db con db D B Connection 'cache.db' seasons cache db con ' E L E C T D I S T I N C Tseason F R O Mscene exceptions W H E R Eindexer id ?' [indexer id return [cur exception for cur exception in seasons 
def mapcat func seqs return concat map func seqs 
def comports return list iterate comports 
@jitdef simulate linear model A x0 v ts length A np A n A np n ts length x 0] x0for t in range ts length - 1 for i in range n x i t + 1 ] v i t ]for j in range n x i t + 1 ] + A[ i j ] * x j t ] return x 
def find end of attribute block offset block boundary next attr boundary block offset if block is None or boundary is None return None None if boundary is not ATTR VALUE or boundary is not ATTR END return None None return block boundary 
def task enable flocker agent distribution action 'start' validate start action action if is systemd distribution distribution return sequence [run from args ['systemctl' 'enable' 'flocker-dataset-agent'] run from args ['systemctl' action 'flocker-dataset-agent'] ] elif is ubuntu distribution return sequence [run from args ['service' 'flocker-dataset-agent' action ] ] else raise Distribution Not Supported distribution distribution 
def TRANS p global g T A B L E 850 L A T I Nif sabnzbd W I N32 return p g T A B L E 850 LATIN .decode 'cp1252' 'replace' else return unicoder p 
def order history user **kwargs course org filter kwargs org filter if 'course org filter in kwargs else None org filter out set kwargs filter out set if 'org filter out set in kwargs else [] order history list []purchased order items Order Item user user status 'purchased' .select subclasses .order by '-fulfilled time for order item in purchased order items if order item not in [item['order id for item in order history list order item course id getattr order item 'course id None if order item course id if course org filter and course org filter order item course id or course org filter is None and order item course id not in org filter out set order history list {'order id order item 'receipt url reverse 'shoppingcart.views.show receipt kwargs {'ordernum' order item 'order date Module I18n Service .strftime order item time 'SHORT DATE' } return order history list 
def subs filename subs id lang 'en' if lang 'en' return u {0}.srt.sjson'.format subs id else return u subs {1}.srt.sjson'.format lang subs id 
def train Random Forest features n estimators [X Y] list Of Features2 Matrix features rf sklearn Random Forest Classifier n estimators n estimators rf X Y return rf 
def handle text mic profile messages [ couldyourepeatthat 'yapologies couldyoutrysayingthatagain 'aythatagain 'begyourpardon random messages mic message 
def media next track hass hass DOMAIN SERVICE MEDIA NEXT TRACK
def xen cpu name global connglobal conn inforeturn conn info 
def test stockwell st no zero pad data np 20 128 start f 1stop f 10sfreq 30width 2W  precompute st windows data -1 ] start f stop f sfreq width  st power itc data 10 True 0 1 W
def get sha256 str base str if isinstance base str six type base str base str 'utf-8' return hashlib base str .hexdigest
def  reserve task course id task type task key task input requester if  task is running course id task type task key log 'uplicatetaskfoundfortask type key task type task key raise Already Running Error 'requestedtaskisalreadyrunning' try most recent id Instructor Task 'id' .idexcept Instructor Task Does Not Exist most recent id 'onefound log 'oduplicatetasksfound task type task key andmostrecenttask id %s' task type task key most recent id return Instructor Task course id task type task key task input requester 
def create basic xml info readname fname to print ['<trace>\n']to print '<trace name to print readname to print '</trace name info Noneif config info if fname in config info info config info try info config info sff name Key Error passif info for key in info to print '<' + key + '>' + info + '</' + key + '>\n' return ''.join to print 
def get registered canvas class format if format not in  default backends return Nonebackend class  default backends cbook string like backend class backend class importlib module backend class .igure Canvas default backends backend classreturn backend class 
def scroll half page down event scroll forward event half True 
def get collection sample collection type datatype if collection type 'list' return [get sample datatype get sample datatype ]elif collection type 'set' return sortedset [get sample datatype ] elif collection type 'map' return Ordered Map [ get sample datatype get sample datatype ] elif collection type 'tuple' return get sample datatype else raise Exception 'issinghandlingofnon collection type 
def fresnelc zeros nt if floor nt ! nt or nt < 0 or not isscalar nt raise Value Error 'rgumentmustbepositivescalarinteger return specfun 1 nt 
def show account account id None email None directory id None application id None group id None **kwargs if account id status result  query action 'accounts' command account id return resultif email if not directory id and not application id and not group id return {rror 'itheradirectory id application id orgroup idmustbespecifiedwithanemailaddress directory id status result  query action 'directories' command '{0}/accounts'.format directory id args {'email' email elif application id status result  query action 'applications' command '{0}/accounts'.format application id args {'email' email elif group id status result  query action 'groups' command '{0}/accounts'.format group id args {'email' email return result 
@login required http methods ['GET' 'POST'] def remove contributor request document slug user id document get object or 404 Document locale request L A N G U A G E CODE slug document slug if not document request 'edit' raise Permission Denieduser get object or 404 User id user id if request 'POST' document user msg _ '{user}removedfromthecontributorssuccessfully!' .format user user messages message request messages S U C C E S S msg return Http Response Redirect reverse 'wiki.document revisions args [document slug return render request 'wiki/confirm remove contributor {'document' document 'contributor' user 
def group seq multiple True if not seq return [] current groups [seq[0]] [] for elem in seq ] if elem current -1 ] current elem else groups current current [elem]groups.append current if multiple return groupsfor i current in enumerate groups groups current len current return groups 
def pstats2entries data entries dict allcallers dict for code info call info in data code Code code filename code firstlineno code name code info cc nc tt ct callers call infoentry Entry entry codeentry ccentry nc - cc entry ttentry ctentry list entries info entryallcallers info callers for entry in entries entry label c Profile entry entry callers allcallers entry label [] for entry caller call info in entry callers entries caller entry call info return entries 
def shortest path length creation sequence i first creation sequence isinstance first str if isinstance creation sequence list cs creation sequence ]else cs list creation sequence elif isinstance first tuple cs [v[1] for v in creation sequence [v[0] for v in creation sequence i elif isinstance first int cs uncompact creation sequence else raise Type Error 'otavalidcreationsequencetype N len cs spl [2] * N spl 0for j in range i + 1 N if cs 'd' spl 1if cs 'd' for j in range i spl 1for j in range N - 1 0 -1 if cs 'd' breakspl -1 return spl 
def test grouping identifier list subquery p sqlparse 'select*from selecta b sub [0]subquery p -1 ].tokens[0] idx iden list subquery next by i sql Identifier List assert iden list is not None _ ilist subquery next by i sql Identifier idx idx assert ilist is None 
@register opt 'low memory @local optimizer [pu C A Reduce Cuda def local gpu elemwise careduce node if isinstance node Gpu C A Reduce Cuda and node scalar op is None and node and isinstance node Gpu Elemwise and isinstance node op scalar Sqr op node node [gpu ca reduce cuda scalar op op op axis op reduce mask op mask pre scalar op scalar inp ]
def  Read Url Contents url req urllib2 Request url return urllib2 req .read
def sel Random individuals k return [random.choice individuals for i in xrange k ]
def set session view request request var ' E S Http Response 'set session 
def num2strg num s str num if s '.0' s s -2 ]return s 
def get resource uploader data dict upload Nonefor plugin in plugins Plugin Implementations plugins I Uploader upload plugin resource uploader data dict if upload is None upload Resource Upload data dict return upload 
def define message message descriptor module name class dict {'  module  ' module name enum in message descriptor types or [] enum instance define enum enum module name class dict enum instancefor field in message descriptor or [] field instance define field field class dict field instanceclass name message descriptor 'utf-8' return type class name messages Message class dict 
def vif details bridge name handler resource event set br name **kwargs port kwargs 'trunk details in port set br name utils trunk br name port details id 
@ docstring 'release-groups' browse True def browse release groups artist None release None release type [] includes [] limit None offset None valid includes VALID BROWSE I N C L U D E S {'artist' artist 'release' release  browse impl 'release-group' includes valid includes limit offset params [] release type 
def get file logger filename level logging I N F O filepath os settings L O G ROOT filename handler logging File Handler filepath handler Level level logger logging Logger filepath logger Handler handler logger Level level return logger 
def mnc2mc mnc wmean True n len mnc mean mnc [1] + list mnc mu []for n m in enumerate mnc mu 0 for k in range n + 1 mu + -1 ** n - k * comb n k exact 1 * mnc * mean ** n - k if wmean mu meanreturn mu ]
def parse As Public Key s try return parse P E M Key s public True except return parse X M L Key s public True 
def add Grid Row diameter grid Path loops Complex maximum Complex row Index x y zigzag row []while x < maximum Complex point complex x y if euclidean Is In Filled Region loops Complex point row point x + diameter zigzag and row Index % 2 1 row grid Path + row 
def unpackage package  return msgpack package  use list True 
def create And Start Swarm client client Info '' client Key '' params '' minimum Workers None maximum Workers None already Running False if minimum Workers is None minimum Workers Configuration Int 'orkers Per Swarm if maximum Workers is None maximum Workers Configuration Int 'orkers Per Swarm return Client Jobs D A O .nsert client client cmd Line '$HYPERSEARCH' client Info client Info client Key client Key already Running already Running params params minimum Workers minimum Workers maximum Workers maximum Workers job Type Client Jobs D A O J O B TYPE HS
def oo get hosts from hostvars hostvars hosts retval []for host in hosts try retval hostvars except errors Ansible Error passreturn retval 
def imrotate arr angle interp 'bilinear' arr asarray arr func {'nearest' 0 'lanczos' 1 'bilinear' 2 'bicubic' 3 'cubic' 3}im toimage arr im im angle resample func return fromimage im 
def is complete v1 key v1 key assert len v1 key > 1 last element v1 key len v1 key - 1 ]return last element Which Oneof 'id type is not None 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def  cmp by asn local asn path1 path2 def get path source asn path asn Noneif path is None asn local asnelse asn path asreturn asnp1 asn get path source asn path1 p2 asn get path source asn path2 if p1 asn local asn and p2 asn ! local asn return path2if p2 asn local asn and p1 asn ! local asn return path1return None 
@click.command u @click.argument u def  use site sites path u use site sites path sites path 
def  region region return '--region{r}'.format r region 
def filter none **kwargs return dict k v for k v in six kwargs if v is not None 
def test userdata objects userdata items [item.user data for item in I T E M S userdata items objects data 
def is owner user id user conferences get memcached get key 'conferences' if conferences user return Truereturn False 
def get new and noteworthy nodes from osf import Node Node Logtoday timezone last month today - dateutil months 1 data Node date created  gte last month is public True is deleted False parent nodes  isnull True nodes []for node in data unique actions Node Log node node .order by 'action' .distinct 'action' .count n {}n['unique actions unique actionsn [c. id for c in node id node idn node n noteworthy nodes sorted nodes key lambda node node 'unique actions reverse True [ 25]filtered new and noteworthy filter nodes noteworthy nodes return [each[' id for each in filtered new and noteworthy 
def  training mode application calls application calls from ..bricks import Batch Normalizationout []for app call in application calls assert isinstance app call Batch Normalization assert app call Batch Normalization if app call 'training mode False out app call return out 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def build preprocessors md instance **kwargs preprocessors odict Ordered Dict preprocessors whitespace Normalize Whitespace md instance if md instance Mode ! u preprocessors block Html Block Preprocessor md instance preprocessors Reference Preprocessor md instance return preprocessors 
def brick attach volume encryptor context attach info encryption connection info attach info info path attach info brick get encryptor connection info **encryption encryptor volume context **encryption
def itn n digits 8 format DEFAULT FORMAT if 0 < n < 8 ** digits - 1 s '%0*o' % digits - 1 n + NUL else if format ! GNU FORMAT or n > 256 ** digits - 1 raise Value Error 'overflowinnumberfield' if n < 0 n struct 'L' struct 'l' n [0]s ''for i in xrange digits - 1 s chr n & 255 + s n >> 8s chr 128 + s return s 
def crop x wrg hrg is random False row index 0 col index 1 channel index 2 h w x index x index assert h > hrg and w > wrg 'hesizeofcroppingshouldsmallerthantheoriginalimage is random h offset int np 0 h - hrg - 1 w offset int np 0 w - wrg - 1 return x offset hrg + h offset w offset wrg + w offset ]else h offset int np h - hrg / 2.0 w offset int np w - wrg / 2.0 h end h offset + hrg w end w offset + wrg return x offset h end w offset w end 
def Get All Resources Sample client Create Client for resource in client Get All Resources Print Resource resource 
def get Vector3 Path complex Path z 0.0 vector3 Path []for complex Point in complex Path vector3 Path Vector3 complex Point complex Point z return vector3 Path 
def unescape H T M L Entities text def fixup m text m 0 if text 2] '&#' try if text 3] '&#x' return unichr int text -1 ] 16 else return unichr int text -1 ] except Value Error passelse try text unichr htmlentitydefs -1 ]] except Key Error passreturn textreturn re '&#?\\w+;' fixup text 
def submit row context opts context context popup context popup as context as {'onclick attrib opts ordered objects and change and 'onclick "rder Form ;"' or '' 'show delete link not is popup and context delete permission and change or context delete 'show save as new not is popup and change and save as 'show save and add another context add permission and not is popup and not save as or context 'show save and continue not is popup and context change permission 'is popup is popup 'show save True 
def se cov cov return np np cov 
def trigger server restart **kwargs mark urlconf as changed 
def order at a p t if a zero return ooif p Poly t t return a poly t .ET [0][0]power list []p1 pr a p1 tracks power 1while r zero power list p1 tracks power p1 p1 * p1 tracks power * 2r a p1 n 0product Poly 1 t while len power list ! 0 final power list productf product * final r a productf if r zero n + final productfreturn n 
def discover extensions version only contrib False if not isinstance version api versions A P I Version version api versions api version version if only contrib chain  discover via contrib path version else chain itertools  discover via python path  discover via contrib path version  discover via entry points return [xtension name module for name module in chain 
def   parse request range range header text left Noneright Noneif not range header text return left right range header text range header text if not range header text 'bytes' return left right components range header text ' ' if len components ! 2 return left right components components '-' try right int components except passtry left int components except passreturn left right 
def get has cache stats return get memcached hosts is not None 
def get servers req servers service pb Get Servers Request resp servers service pb Get Servers Response apiproxy stub map Make Sync Call 'servers' 'et Servers req resp return list resp list 
def restart with reloader while 1  log 'info' 'estartingwithreloader args [sys.executable] + sys new environ os new environ W E R K Z E U G RUN MAIN'] 'true'if os 'nt' for key value in new environ if isinstance value unicode new environ value 'iso-8859-1' exit code subprocess args env new environ if exit code ! 3 return exit code 
def test get words r expected words [ello 'function' 'hello' 'name' 's' 'sprintf']assert sorted expected words sorted get words by filename ' assert sorted expected words sorted get words by content ' 
def uirfftn inarray dim None shape None if dim is None dim inarray np inarray shape axes range - dim 0 return outarray * np np outarray - dim ]
def job get idx by tag tag job job get by tag tag if job is None return Nonereturn job idx 
def test array input line builder array assert len line builder array glyphs 2
def get gs object bucket name path scope 'https //www.googleapis.com/auth/devstorage.read only 'https //%s.commondatastorage.googleapis.com/%s' % bucket name path auth token _ app identity access token scope result urlfetch url method urlfetch G E T headers {uthorization ' Auth % auth token 'x-goog-api-version' '2'} if result and result code 200 return result Backup Validation Exception 'equestedpathwasnotfound 
def embed image html image if image is None return Noneelif isinstance image P I L Image Image passelif isinstance image np image P I L Image image else raise Value Error ' I L Imageoranp fmt image not fmt fmt 'png'else fmt fmt string buf String I O image string buf format fmt data string buf .encode 'base64' .replace '\n' '' return 'data image %s' % fmt data 
def transcode text input PREFERRED ENCODING output PREFERRED ENCODING try return text 'cp437' .encode 'cp1252' except Unicode Error try return text 'cp437' .encode output except Unicode Error return text 
def max partition table schema 'default' field None filter None metastore conn id 'metastore default from airflow hooks import Hive Metastore Hookif '.' in table schema table table '.' hh Hive Metastore Hook metastore conn id metastore conn id return hh partition schema schema table name table field field filter filter 
@click.command 'dns multitenant @click.argument 'state' type click Choice ['on' 'off'] def config dns multitenant state state True if state 'on' else False update config {'dns multitenant state 
def dynamic loader argument **kw kw 'dynamic'return relationship argument **kw
def get ha1 file htdigest filename def get ha1 realm username result Nonef open filename 'r' for line in f u r ha1 line .split ' ' if u username and r realm result ha1breakf return resultreturn get ha1 
def  set placeholder cache version placeholder lang site id version vary on list None duration None from django import cachekey  get placeholder cache version key placeholder lang site id if not version or version < 1 version int time * 1000000 if vary on list is None vary on list []cache.set key version vary on list duration 
def submit row context opts context context popup context popup as context as {'onclick attrib opts ordered objects and change and 'onclick "rder Form ;"' or '' 'show delete link not is popup and context delete permission and change or context delete 'show save as new not is popup and change and save as 'show save and add another context add permission and not is popup and not save as or context 'show save and continue not is popup and context change permission 'is popup is popup 'show save True 
def decode args args stdin encoding return [ arg stdin encoding if type arg bytes else arg for arg in args 
def exp server version return odoo 
def show instance name call None if call ! 'action' raise Salt Cloud Exception 'heshow instanceactionmustbecalledwith node id get linode id from name name node data get linode kwargs {'linode id node id ips get ips node id state int node data S T A T U S ret {'id' node data L I N O D E I D 'image' node data D I S T R I B U T I O N V E N D O R 'name' node data L A B E L 'size' node data T O T A L R A M 'state'  get status descr by id state 'private ips ips ips 'public ips ips ips ret 
def get total users return frappe u simultaneous sessions from User DCTB DCTB whereenabled 1anduser type "ystem User DCTB DCTB andnamenotin {} '.format u '.join [u'%s'] * len STANDARD USERS STANDARD USERS [0][0]
def WILLR bar Ds count timeperiod - 2 ** 31 return call talib with hlc bar Ds count talib W I L L R timeperiod 
def retweets string return [b for a b in TWITTER R E T W E E T string ]
def get remote branch pass 
def  parse routes iface opts opts dict k v for k v in six opts result {}if 'routes' not in opts  raise error routes iface 'routes' 'istofroutes for opt in opts result opts result 
def  drv2 moment self n *args def fun x return np x n * self pmf x *args return  expect fun self self self 0.5 *args self 
def get fullname user None if not user user frappe not hasattr frappe u frappe {}if not frappe user p frappe value u User user [u'first name u name as dict True if p frappe u filter None [p.get u name p u name ] or user else frappe userreturn frappe user 
def get flag url comment if get comment app name ! DEFAULT COMMENTS APP and hasattr get comment app 'get flag url return get comment app .get flag url comment else return urlresolvers 'django.contrib.comments.views.moderation.flag' args comment 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def correlation sum indicators embedding dim if not indicators 2 raise Value Error 'ndicatorsmustbeamatrix if not indicators indicators raise Value Error 'ndicatormatrixmustbesymmetric square ' if embedding dim 1 indicators joint indicatorselse corrsum indicators correlation sum indicators embedding dim - 1 indicators joint indicators 1 ] * indicators -1 -1 ] nobs len indicators joint corrsum np indicators joint indices nobs 1 ] return corrsum indicators joint 
def  get vsan eligible disks service instance host host names ret {}for host name in host names host ref  get host ref service instance host host name host name vsan system host ref Manager Systemif vsan system is None msg " S A N System Config Managerisunsetforhost V S A Nconfigurationcannotbechangedwithoutaconfigured V S A N System host name log msg ret {host name {rror msg continuesuitable disks []query vsan system Query Disks For Vsan for item in query if item 'eligible' suitable disks item if not suitable disks msg "hehost V S A Neligibledisks host name log msg ret {host name {ligible msg continuedisks  get host ssds host ref +  get host non ssds host ref matching []for disk in disks for suitable disk in suitable disks if disk Name suitable disk Name matching disk ret {host name {ligible matching return ret 
def to units val spaces 0 dec limit 2 postfix '' decimals 0if val < 0 sign '-'else sign ''val str abs val .strip n 0try val float val except return ''while val > 1023.0 and n < 5 val val / 1024.0 n n + 1 unit TAB U N I T S not unit unit '' * spaces if n > dec limit decimals 1else decimals 0fmt '%%s%%.%sf%%s%%s' % decimals return fmt % sign val unit postfix 
def get scanner hass config info config D O M A I N info CONF HOST username info CONF USERNAME password info CONF PASSWORD port info CONF PORT scanner Netgear Device Scanner host username password port return scanner if scanner init else None 
def get displayable collection summary dicts matching ids collection ids collection summaries collection services collection summaries matching ids collection ids return  get displayable collection summary dicts collection summaries 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def  remove Backrefs senderkey try signals connections Key Error signals Noneelse items signals def all Receivers for signal set in items for item in set yield item for receiver in all Receivers  kill Backref receiver senderkey 
def in train phase x alt if learning phase is 1 return xelif learning phase is 0 return altx switch learning phase x alt x uses learning phase Truereturn x 
@facebook requireddef decorator example request graph if graph return Http Response 'authorized' else return Http Response 'userdeniedorerror'
def get messages from include files app name None messages []for file in frappe hooks u include js app name app name or [] + frappe hooks u include js app name app name or [] messages get messages from file os frappe path file return messages 
def change BACKLOG FREQUENCY freq sickbeard B A C K L O G FREQUENCY try int freq sickbeard D E F A U L T BACKLOG FREQUENCY sickbeard M I N BACKLOG FREQUENCY sickbeard backlog cycle time if sickbeard B A C K L O G FREQUENCY < sickbeard M I N BACKLOG FREQUENCY sickbeard B A C K L O G FREQUENCY sickbeard M I N BACKLOG F R E Q U E N C Ysickbeard Search Scheduler Time datetime minutes sickbeard B A C K L O G FREQUENCY
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def construct **kwargs point x kwargs 'point x None point y kwargs 'point y None if 'point' in kwargs raise Type Error 'nknownkeyword point if None not in point x point y kwargs Ecc Point point x point y eq1 pow Integer point y 2  curve x Integer point x eq2 pow x 3  curve x * -3 eq2 + xeq2 +  curve %  curve eq1 ! eq2 raise Value Error 'hepointisnotonthecurve d kwargs 'd' None if d is not None and 'point' in kwargs pub key  curve G * d if pub key ! point x or pub key ! point y raise Value Error 'rivateandpublic E C Ckeysdonotmatch return Ecc Key **kwargs
def get markdown element tree markdown html warnings u utils markdown element treeisdeprecated Pleaseusedjblets markdown element tree Deprecation Warning return djblets markdown markdown element tree markdown html 
def xhash arr import hashlibreturn hashlib arr .hexdigest
def hours h return h / HOURS PER DAY
def random markov chain n k None sparse False random state None P random stochastic matrix n k sparse format 'csr' random state random state mc Markov Chain P return mc 
def relative position pos global absolute path lengthif absolute path length 0 absolute path length len os os return pos filenametable entry [ absolute path length + 1 ] pos 
def is Loop Intersecting Loop loop other Loop for point Index in xrange len loop point Begin loop Index End loop point Index + 1 % len loop ]if is Line Intersecting Loop other Loop point Begin point End return Truereturn False 
def test cannot start with multiline lines strings stripped lines INVALID MULTI LINE try step Step from lines lines except Lettuce Syntax Error returnassert False 'ettuce Syntax Errornotraised 
def  kernel versions debian kernel get selections   salt  ['cmd.run'] 'dpkg--get-selectionslinux-image-*' kernels []kernel versions []for line in kernel get selections kernels line try kernel kernels -2 ]except Index Error kernel kernels kernel ' DCTB DCTB install kernel get version   salt  ['cmd.run'] 'apt-cachepolicy' + kernel for line in kernel get version if line 'nstalled ' kernel v line 'nstalled ' kernel versions kernel v breakif   grains  ['os'] 'buntu kernel v kernel versions '.' 1 kernel ubuntu generic kernel v + '-generic#' + kernel v kernel ubuntu lowlatency kernel v + '-lowlatency#' + kernel v kernel versions [kernel ubuntu generic kernel ubuntu lowlatency return kernel versions 
@require P O S T requireddef watch locale request product None kwargs {'locale' request L A N G U A G E C O D E product is not None kwargs product Reviewable Revision In Locale Event request **kwargs statsd 'wiki.watches.locale' return Http Response 
def csv append csv string item if csv string return ' '.join csv string item else return item 
def parse service definition opt results []svc def opt cfg C O N F D E F A U L T S E R V I C E T Y P E definitiontry for svc def str in svc def opt split svc def str ' ' svc def {'service class split 'plugin' split svc def split Index Error L O G _ 'efaultservicetype service class sandplugin plugin s svc def results svc def return resultsexcept Type Error Index Error raise q exc Invalid Configuration Option opt name 'service definition opt value svc def opt 
def policy decorator scope def outer func @functools.wraps func def wrapped self context target *args **kwargs check policy context func  name   target scope return func self context target *args **kwargs return wrappedreturn outer 
def  make with custom variables func variables variables collections variables def custom getter getter name **kwargs if kwargs return variables else kwargs Truereturn getter name **kwargs return  wrap variable creation func custom getter 
def  parse read concern options concern options 'readconcernlevel' return Read Concern concern 
def within length flowgram minlength 0 maxlength 400 seq flowgram Seq l len seq return l > minlength and l < maxlength 
def  parse fmdump output result []output output '\n' header [field for field in output .split '' if field output entry in output entry [item for item in entry '' if item ['{0}{1}{2}'.format entry entry entry ] + entry ] fault Ordered Dict for field in header fault entry field ]result.append fault return result 
def update credential tenant id credential id new user name None new password None session db session try cred session network models v2 Credential .filter by tenant id tenant id .filter by credential id credential id .one if new user name cred name new user nameif new password cred new passwordsession cred session return credexcept exc No Result Found raise c exc Credential Not Found credential id credential id tenant id tenant id 
def truncate microsecond dt measure d datetime dt dt dt tzinfo dt seconds total seconds dt - d * 1000000 // measure * measure / 1000000 return dt seconds + utctotimestamp d 
def check cuda available if not available msg ' U D Aenvironmentisnotcorrectlysetup seehttps //github.com/pfnet/chainer#installation .'msg + str  resolution error raise Runtime Error msg if not cudnn enabled and not  cudnn disabled by user and not getattr check cuda available ' already warned False warnings ' N Nisnotenabled Pleasereinstallchainerafteryouinstallcudnn seehttps //github.com/pfnet/chainer#installation .' check cuda available already warned True 
def test ncr fit sample nn obj nn Nearest Neighbors n neighbors 3 ncr Neighbourhood Cleaning Rule return indices True random state RND SEED n neighbors nn X resampled y resampled idx under ncr sample X Y X gt np [[ -1.20809175 -1.49917302 ] [ -0.60497017 -0.66630228 ] [ -0.91735824 0.93110278] [ -0.20413357 0.64628718] [0.35967591 2.61186964] [ -1.55581933 1.09609604] [1.55157493 -1.6981518 ]] y gt np [0 0 1 1 2 1 2] idx gt np [10 11 3 5 7 13 14] assert array equal X resampled X gt assert array equal y resampled y gt assert array equal idx under idx gt 
def build Some Connections modules res []for i in range len modules // 3 - 1 res Full Connection modules i * 2 ] modules i * 3 + 1 ] return res 
def  layout to matrix layout result [ [0] * len layout for i in range len layout ]stack []for i in range len layout i level layout stack j stack -1 ]j level layout j level > i level stack j stack -1 ]j level layout result 1stack.append i return result 
def remove Comments element global num Comment Bytesif isinstance element xml Document for subelement in element Nodes if isinstance element xml Comment num Comment Bytes + len element element Element Child subelement else remove Comments subelement elif isinstance element xml Comment num Comment Bytes + len element element Node Child element else for subelement in element Nodes remove Comments subelement 
def add Sparse Endpoints From Segment double Extrusion Width endpoints fill Line horizontal Segment Lists infill Solidity removed Endpoints segment solid Surface Thickness surrounding X Intersections endpoint First Point segment Second Point segment surrounding X Intersections None endpoints + segmentreturnif infill Solidity > 0.0 if fill Line < 1 or fill Line > len horizontal Segment Lists - 1 endpoints + segmentreturnif int round round fill Line * infill Solidity / infill Solidity fill Line endpoints + segmentreturnif abs endpoint First Point - endpoint Second Point < double Extrusion Width endpoints + segmentreturnif not is Segment Around horizontal Segment Lists fill Line - 1 ] segment endpoints + segmentreturnif not is Segment Around horizontal Segment Lists fill Line + 1 ] segment endpoints + segmentreturnif solid Surface Thickness 0 removed Endpoints + segmentreturnif is Segment Completely In An Intersection segment surrounding X Intersections removed Endpoints + segmentreturnendpoints + segment 
def process arguments if len sys > 1 if sys 'list' show packages elif sys 'update' atomic update os dataset web dataset sources os dataset conf path dataset sources hook progress bar elif sys 'upgrade' upgrade packages sys ] hook progress bar elif sys 'install' install packages sys ] hook progress bar elif sys 'install-from-file' install packages from file sys ] elif sys 'force-install' install packages sys ] force install True hook progress bar elif sys 'remove' remove packages sys ] elif sys 'clean' passelif sys 'version' logger   version   else raise Runtime Error "[cl]unknowncommand'%s'" % sys else raise Runtime Error '[cl]missingcommand'
def have graph name for g in mestate if g name return Truereturn False 
@command name 'hash' usage 'computehashes' def print hash args import lixian hashlixian hash expand command line args 
def authorize quota class context context class name if is user context context if not context class raise exception Forbidden elif context class ! class name raise exception Forbidden 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def test logarithmic line Line logarithmic True line '_' [1 10 ** 10 1] q line pyquery assert len q '.axis.x' 0 assert len q '.axis.y' 1 assert len q '.plot.seriespath' 1 assert len q '.legend' 1 assert len q '.x.axis.guides' 0 assert len q '.y.axis.guides' 21 assert len q '.dots' 3
def current Thread try return  active get ident ]except Key Error return  Dummy Thread 
def get user cart user cart queryset Cart return cart queryset .filter user user .first
def get New Repository return Fill Repository 
def  factories Should Connect client Info server Info client Host client Port client Factory client Timeout client Bind Address client Info server Port server Factory server Backlog server Interface server Infoif server Port client Port return client Factory server Factory else return None 
def Make Control Instance control Class name None return Make Control Class control Class name 
def parse options parser cli args if not cli args cli args '-h' options args parser args cli args options  parser parserif not args parser usage sys 0 command name args 0 command lookup command parser command name return options command args 
def function population new genome num organisms fitness calculator all orgs []for org num in range num organisms cur genome new genome all orgs Organism cur genome fitness calculator return all orgs 
def hash file filename return u //|file|%s|%d|%s|/' % os filename os filename hash filehash filename .upper
def print label patch result return make instancemethod Text Test Result Label result 
def describe apis name None description None region None key None keyid None profile None if name return  find apis by name name description description region region key key keyid keyid profile profile else return  find apis by name '' description description region region key key keyid keyid profile profile 
def greedy color G strategy 'largest first interchange False if len G 0 return {}strategy S T R A T E G I E S strategy strategy if not callable strategy raise nx Network X Error 'strategymustbecallableoravalidstring.{0}notvalid.'.format strategy if interchange if strategy is strategy independent set msg 'interchangecannotbeusedwithstrategy independent set nx Network X Pointless Concept msg if strategy is strategy saturation largest first msg 'interchangecannotbeusedwithstrategy saturation largest first nx Network X Pointless Concept msg colors {}nodes strategy G colors if interchange return  interchange coloring with interchange G nodes for u in nodes neighbour colors {colors[v] for v in G if v in colors }for color in itertools if color not in neighbour colors breakcolors colorreturn colors 
def  Test Share Existing tester user cookie request dict validator tester user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict actual dict tester Send Request 'share existing user cookie request dict op dict tester Derive Notification Op Dict user id device id request dict validator Validate Copy Episodes op dict request dict id request dict viewpoint changed validator Validate Cover Photo request dict id activity dict {'name' 'share existing 'activity id request dict id 'timestamp' request dict 'episodes' [{'episode id ep dict episode id 'photo ids ep dict ids for ep dict in request dict {'episodes' [{'episode id ep dict episode id 'get attributes True 'get photos True for ep dict in request dict viewpoint changed invalidate [{'viewpoint id request dict id 'get attributes True Validate Follower Notifications request dict id activity dict op dict invalidate sends alert True validator Validate Viewpoint Accounting request dict id tester Compare Response Dicts 'share existing user id request dict {} actual dict  Validate Auto Save tester user id device id request dict return actual dict 
def seed range 10 hash None if hash is None hash   grains  ['id']random.seed hash return random range 
def Profile Feed From String xml string return atom Create Class From X M L String Profile Feed xml string 
def salt cp import salt salt Salt C P Cli  install signal handlers client client 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def tear Down test db if os os TESTDIR TESTDBNAME os os TESTDIR TESTDBNAME if os os TESTDIR TESTCACHEDBNAME os os TESTDIR TESTCACHEDBNAME
def collect system data files path destdir None include py files False if not isinstance path string types raise Value Errordatas []for dirpath dirnames files in os path for f in files extension os f [1]if include py files or extension not in PY IGNORE EXTENSIONS source os dirpath f dest remove prefix dirpath os path + os if destdir is not None dest os destdir dest datas source dest return datas 
def  python shell default python shell   pub jid try if   pub jid and python shell is None return Trueelif   opts  .get 'cmd safe True is False and python shell is None return Trueexcept Name Error passreturn python shell 
def complete xontrib prefix line start end ctx args line '' if len args 0 or args ! 'xontrib' return Nonecurix args prefix if curix 1 possible {'list' 'load'}elif curix 2 if args 'load' possible  list installed xontribs else raise Stop Iterationreturn {i for i in possible if i prefix }
def get service instance from managed object mo ref name '<unnamed>' if not name name mo ref 'etrievingserviceinstancefrommanagedobject name si vim Service Instance 'ervice Instance si stub mo ref stubreturn si 
def expand args args flist expanded args ]if flist try if flist '-' fd sys fd open flist while 1 line fd if not line breakexpanded line -1 ] except I O Error print 'rrorreadingfilelist % flist raisereturn expanded 
def served by nginx url r requests url allow redirects False status r code 200 nginx 'x-served' in r and r 'ginx return all [status nginx 
def related search vitem query generate search qs vitem match 'related' if query 'ategory Id del query Category Id vitem t 48].strip + '..' if len t > 49 else t msg 'ideosrelatedto % c ttitle c failmsg 'elatedto % c vitem c  search ttitle query msg failmsg 
def  randrat return S randrange 25 + 10 / 50
def encrypt data iv Random .read A E S size cipher  create cipher iv return iv + cipher data 
def EMSA PKCS1 V1 5 ENCODE hash em Len with hash parameters True if with hash parameters digest Algo Der Sequence [er Object Id  HASH O I D S .encode Der Null .encode ] else digest Algo Der Sequence [er Object Id  HASH O I D S .encode ] digest Der Octet String hash digest Info Der Sequence [lgo digest ] .encode if em Len < len digest Info + 11 raise Type Error 'electedhashalgorithhasatoolongdigest %dbytes .' % len digest PS bchr 255 * em Len - len digest Info - 3 return b '\x00\x01' + PS + bchr 0 + digest Info 
def mock ssh dir host path dest rel posix to abs local host path if not os dest os dest 
def delete ipsec site connection ipsec site connection profile None conn  auth profile return conn ipsec site connection ipsec site connection 
def get config var name return get config vars .get name 
def  api test prowl name output kwargs logging 'ending Prowlnotification res sabnzbd prowl ' A Bnzbd T 'est Notification 'other' force True test kwargs return report output error res 
def clear search index search services index SEARCH INDEX EXPLORATIONS
def getstatus file import warningswarnings 'commands.getstatus isdeprecated Deprecation Warning 2 return getoutput 'ls-ld' + mkarg file 
def is prefix subset orig prefixes new prefixes orig set netaddr I P Set orig prefixes new set netaddr I P Set new prefixes return orig set new set 
def matshow A fignum None **kw A np A if fignum is False or fignum is 0 ax gca else fig figure fignum figsize figaspect A ax fig axes [0.15 0.09 0.775 0.775] im ax A **kw sci im return im 
def contains inf arr return np np arr or np np arr 
def nova to osvif vif vif L O G 'onverting V I F vif funcname ' nova to osvif vif ' + vif '.' '_' func getattr sys  name  ] funcname None if not func raise exception Nova Exception "nsupported V I Ftype type sconvert func s % {'type' vif 'func' funcname try vifobj func vif L O G 'onvertedobject vifobj return vifobjexcept Not Implemented Error L O G 'oconversionfor V I Ftype vif return None 
def err func err func + 1if err func 3 return Trueelif err func 2 raise Type Errorelse raise errors Connection Failure 
def custom cls **params def customized *args **kwargs 'ustomizedconstructor kwargs kwargs params return cls *args **kwargs customized  name   'custom %s %s ' % cls params return customized 
def Fill Between xs y1 y2 None where None **options options  Underride Color options options  Underride options linewidth 0 alpha 0.5 pyplot between xs y1 y2 where **options
def structure function f index 0 def structured function *args pattern args f *args evaluated pattern 0 ] 0return evaluatedreturn structured function 
def make general rowkey scan rts start None rts end None some id None if some id is None return None None if not rts start rts start chr 122 end row prepare key some id rts start start row prepare key some id rts end return start row end row 
def ustr what if isinstance what unicode return whattry r what  str   except Attribute Error r str what if not isinstance r unicode return unicode r ENCODING return r 
@nodes or number 0 def star graph n create using None n name nodes nif isinstance n name int nodes nodes + [n name first nodes G empty graph nodes create using if G directed raise nx Network X Error 'irected Graphnotsupported G edges from first v for v in nodes ] G 'star graph %s ' % n name return G
def activate Aa Pdp Context Accept Protocol Configuration Options presence 0 Gprs Timer presence 0 a Tp Pd pd 8 b Message Type mes Type 81 c Llc Service Access Point Identifier d Quality Of Service e Mobile Id f Packet Data Protocol Address g Radio Priority And Spare Half Octets packet a / b / c / d / e / f / g if Protocol Configuration Options presence is 1 i Protocol Configuration Options iei P C O 39 packet packet / i if Gprs Timer presence is 1 j Gprs Timer iei G T 41 packet packet / j return packet 
def test chordal cycle graph if not is scipy available raise Skip Test 'ci Pyisnotavailable primes [3 5 7 11]for p in primes G chordal cycle graph p assert equal len G p 
def  nullpager stream text color if not color text strip ansi text stream text 
def  format return as json rval jsonp callback None pretty False dumps kwargs dict indent 4 sort keys True if pretty else {} json safe dumps rval **dumps kwargs if jsonp callback json '{} {} ;'.format jsonp callback json return json 
def Upload Raw file path aff4 path token None full path rdfvalue R D F U R N aff4 path .dd os file path fd aff4 F A C T O R Y Create full path ' F F4 Image mode 'w' token token fd Write open file path 'rb' .read 1024 * 1024 * 30 fd Close return str fd 
def import stages stages []for plugin in find plugins stages + plugin import stages return stages 
def filter skiplines code errors if not errors return errorsenums set er for er in errors removed set [num for num l in enumerate code '\n' 1 if num in enums and SKIP PATTERN l ] if removed errors [er for er in errors if er not in removed ]return errors 
def write unpaired read data sff fh seq fh qual fh xml fh seq qual get read data data if len seq 0 returnwrite sequence data seq qual seq fh qual fh anci create xml for unpaired read data sff fh if anci is not None xml fh anci return 
def org organisation logo id if not id return Nones3db current isinstance id Row record idelse table s3db organisationrecord current table id .select table table table limitby 0 1 .first if record and record size None 60 image s3db image represent record size size url small URL c 'default' f 'download' args image if record is None or record '' alt '%slogo' % record else alt '%slogo' % record logo IMG  src url small  alt alt  height 60 return logoreturn ''
def simpleflake timestamp None random bits None epoch SIMPLEFLAKE EPOCH second time timestamp if timestamp is not None else time second time - epochmillisecond time int second time * 1000 randomness random System Random .getrandbits SIMPLEFLAKE RANDOM LENGTH randomness random bits if random bits is not None else randomness flake millisecond time << SIMPLEFLAKE TIMESTAMP SHIFT + randomness return flake 
def   parse word value for word list in [english word numeral list french word numeral list french alt word numeral list try return word list value except Value Error passraise Value Error 
def generate timestamp return int time 
def switch host s3 accelerate request operation name **kwargs parts urlsplit request .netloc.split '.' parts [p for p in parts if p in S3 ACCELERATE WHITELIST ]endpoint 'https //s3-accelerate.'if len parts > 0 endpoint + '.'.join parts + '.' endpoint + 'amazonaws.com'if operation name in [ist Buckets 'reate Bucket 'elete Bucket return switch hosts request endpoint use new scheme False 
def redirect url code None if code is None code 303 if request 'SERVER PROTOCOL' 'HTTP/1.1' else 302 location urljoin request url raise H T T P Response '' status code header dict Location location 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def disallowed in before trading start exception def decorator method @wraps method def wrapped method self *args **kwargs if self in before trading start raise exceptionreturn method self *args **kwargs return wrapped methodreturn decorator 
def truncate path path length MAX FILENAME LENGTH comps components path out [c[ length for c in comps base ext os comps -1 ] if ext base base length - len ext ]out[ -1 ] base + ext return os *out
def register hook handler name handler  name  .split '_' [0]HOOK H A N D L E R S handlerreturn handler 
def get peer user ids for stream change stream altered users subscribed users altered user ids [user.id for user in altered users stream only all subscribed ids [user.id for user in subscribed users set all subscribed ids - set altered user ids else return set active user ids stream - set altered user ids 
def ackley individual N len individual return 20 - 20 * exp -0.2 * sqrt 1.0 / N * sum x ** 2 for x in individual + e - exp 1.0 / N * sum cos 2 * pi * x for x in individual 
def language dir language code RTL LANGS ['ar' 'arc' 'bcc' 'bqi' 'ckb' 'dv' 'fa' 'glk' 'he' 'ks' 'lrc' 'mzn' 'pnb' 'ps' 'sd' 'ug' 'ur' 'yi' 'nqo' 'shu' 'sqr' 'ssh' 'xaa' 'yhd' 'yud' 'aao' 'abh' 'abv' 'acm' 'acq' 'acw' 'acx' 'acy' 'adf' 'ads' 'aeb' 'aec' 'afb' 'ajp' 'apc' 'apd' 'arb' 'arq' 'ars' 'ary' 'arz' 'auz' 'avl' 'ayh' 'ayl' 'ayn' 'ayp' 'bbz' 'pga' 'iw' 'pbt' 'pbu' 'pst' 'prp' 'prd' 'ydd' 'yds' 'yih' 'ji' 'hbo' 'men' 'xmn' 'jpr' 'peo' 'pes' 'prs' 'sam']shortcode language code 3]if not shortcode shortcode language code 2]if shortcode in RTL LANGS return 'rtl'return 'ltr'
def watcher while True  process message 
def variations iterable optional lambda x False iterable tuple iterable o [optional x for x in iterable set for p in product [alse True repeat sum o p list p v [ b and b and p 0 for b in o tuple iterable for i in range len v if not v a v return sorted a cmp lambda x y len y - len x 
def app is deployed app id if not os '{0}{1}/'.format  APPS LOCATION app id logging 'eemsthat app id logging 'leasedeploy app id return Falsereturn True 
def principals allowed by permission context permission reg get current registry policy reg Utility I Authorization Policy if policy is None return [veryone policy allowed by permission context permission 
def brick detach volume encryptor attach info encryption connection info attach info info path attach info brick get encryptor connection info **encryption encryptor volume **encryption
def configure errorhandlers app @app.errorhandler 403 def forbidden page error return render template 'errors/forbidden page 403 @app.errorhandler 404 def page not found error return render template 'errors/page not found 404 @app.errorhandler 500 def server error page error return render template 'errors/server error 500
def registered tasks request return Json Response {u'regular' list keys tasks u u 
def  is pid running on windows pid pid str pid startupinfo subprocess S T A R T U P I N F O startupinfo Flags | subprocess S T A R T F U S E S H O W W I N D O Wprocess subprocess Popen ' I Deq pid stdout subprocess P I P E stderr subprocess S T D O U T startupinfo startupinfo stdoutdata stderrdata process stdoutdata to text string stdoutdata process check pid in stdoutdata return check 
def splitpasswd user global  passwdprogif  passwdprog is None import re passwdprog re '^ [^ ]* .* $' re S match  passwdprog user if match return match 1 2 return user None 
def gather symptoms symptoms []for module in SYMPTOM MODULES for name in dir module if name SYMPTOM PREFIX symptoms getattr module name return symptoms 
def run saved post hooks for cmd in post hook logger 'unningpost %s' cmd  run hook cmd 
def p pointer 4 t pass 
def log level level string return getattr logging level string 
def  should profile development default return True 
def text len length fs return length * 0.6 * fs 
def matrix combinations param registry xml parent data element name 'hudson.plugins.matrix  configuration  parameter Matrix Combinations Parameter Definition X M L Sub Element xml parent element name if 'name' not in data raise Jenkins Jobs Exception 'matrix-combinationsmusthaveanameparameter.' X M L Sub Element pdef 'name' .text data X M L Sub Element pdef 'description' .text data 'description' '' combination filter data 'filter' if combination filter X M L Sub Element pdef 'ombination Filter .text combination filterreturn pdef 
def  build localename localetuple language encoding localetupleif language is None language ' encoding is None return languageelse return language + '.' + encoding 
def  normalize key value if ndb is not None and isinstance value ndb Model ndb Key return Noneif getattr value 'key' None return value elif isinstance value basestring return datastore Key value else return value 
def  Is Finite value if isinstance value float and -1e309 < value < 1e309 return Trueelif isinstance value int long return Trueelse return False 
def apply discount line discount quantity line discount quantity incl tax False 
def get File In Alterations Or Given Directory directory file Name settings Alterations Directory archive Settings Path 'alterations' archive Directory settings Alterations Directory file In Settings Alterations Directory get File In Given Directory settings Alterations Directory file Name if file In Settings Alterations Directory ! '' return file In Settings Alterations Directoryalterations Directory archive Skeinforge Path 'alterations' file In Alterations Directory get File In Given Directory alterations Directory file Name if file In Alterations Directory ! '' return file In Alterations Directoryif directory '' directory os return get File In Given Directory directory file Name 
def  format info data return {'gid' data gid 'groups' list groups data name 'home' data dir 'name' data name 'shell' data shell 'uid' data uid 'fullname' data gecos 
def validate dpi s if s u return stry return float s except Value Error raise Value Error u % s s 
def  kr3 y alpha 5.0 beta 50.0 perc alpha 100.0 - alpha beta 100.0 - beta lower alpha upper alpha lower beta upper beta np y perc l alpha np y y < lower alpha ] u alpha np y y > upper alpha ] l beta np y y < lower beta ] u beta np y y > upper beta ] return u alpha - l alpha / u beta - l beta 
def do dialog my dlg Dlg Get New Dialog ID MAIN -1 while 1 n Dlg Modal Dialog None if n ITEM LOOKUP BUTTON tp h rect my dlg Get Dialog Item ITEM LOOKUP ENTRY txt Dlg Get Dialog Item Text h tp h rect my dlg Get Dialog Item ITEM RESULT Dlg Set Dialog Item Text h dnslookup txt elif n ITEM QUIT BUTTON break 
def N equals a b return comp a b 1e-06
def git handling orig dir os os global params C F G S DIR current dir os + '/' if current dir global params C F G S DIR proc subprocess Popen [GIT 'add' '*.txt'] stdout subprocess P I P E stderr subprocess P I P E std out std err proc commit message 'etworkconfigchanges auto 'proc subprocess Popen [GIT 'commit' '-m' commit message stdout subprocess P I P E stderr subprocess P I P E std out std err proc os orig dir 
def remove entrance exam milestone reference request course key course children modulestore .get items course key qualifiers {'category' 'chapter'} for course child in course children if course child entrance exam delete item request course child ids id milestones helpers content references unicode course child ids id 
def  translate raw sort sort sort dir ''if sort '-' sort sort ]sort dir 'desc'sort SORTS D I C T sort sort return '%s%s' % sort sort dir 
def pre safe import module api real to six module name eval statement '\nimportsix\nprint \'{\' \terateoverthe moved attributes importer modules as Lazy Module moduleinsix moved attributes \fthisisamovedmoduleorattribute mapthecorrespondingmodule In theattribute moved module six Moved Module six Moved Attribute \nprint \'%r %r \'% \nmoved module \'six.moves.\'+moved module \n\nprint \'}\' \n' api runtime package api name for real module name six module name in real to six module name api alias module real module name six module name 
def set pixel x y color  sensehat pixel x y color return {'color' color 
def test consensus score issue2445 a rows np [rue True False False [alse False True True [alse False False True a cols np [rue True False False [alse False True True [alse False False True idx [0 2]s consensus score a rows a cols a rows a cols assert almost equal s 2.0 / 3.0
@app.template filter 'fees by currency def fees by currency currency fees Data Getter fee settings by currency currency return fees 
def submit request if not request authenticated return proceed request user User Profile pk request if not user dev agreement return redirect 'submit.app.terms' return manifest request 
def issorted seq if not seq return Truex seq elem in seq ] if elem < x return Falsex elemreturn True 
def  make queryset readonly queryset db query methods ['count' 'get' 'get or create 'latest' 'in bulk 'delete']for method name in db query methods method getattr queryset method name wrapped method  wrap with readonly method setattr queryset method name wrapped method queryset  wrap generator with readonly queryset 
def test iht fit invalid ratio ratio 1.0 / 10000.0 iht Instance Hardness Threshold ESTIMATOR ratio ratio random state RND SEED assert raises Runtime Error iht X Y
def EI gaussian mean var thresh sigma np var score old div mean - thresh sigma n scipy sigma * score * n score + n score 
def rational polynomial data return 30.0 * data - 1 * data - 1 / data ** 2 * data - 10
def  mean values return sum values / float max len values 1
def bytestobits bytesource for b in bytesource value unpackbyte b for bitplusone in range 8 0 -1 bitindex bitplusone - 1 nextbit 1 & value >> bitindex yield nextbit 
def Open File In Preview Window filename vim u + filename 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  get overrides for user user block query Student Field Override course id block id location block student id user overrides {}for override in query field block field json json override overrides valuereturn overrides 
def  pad length stringlen return BLOCK SIZE - stringlen % BLOCK SIZE % BLOCK SIZE
def test command chain dispatcher fofo fail1 Fail u fail2 Fail u okay1 Okay u okay2 Okay u dp Command Chain Dispatcher [ 0 fail1 10 fail2 15 okay2 ] dp okay1 5 nt equal dp u nt true fail1 nt true okay1 nt false fail2 nt false okay2 
def override field for user user block name value override _ Student Field Override or create course id block id location block student id user field name field block json field json value override 
def attach epic order queryset epic id as field 'epic order model queryset ' E L E C T relateduserstory A S order F R O M relateduserstory W H E R E relateduserstory story id {tbl}.idand\n"epics relateduserstory id {epic id sql tbl model meta table epic id epic id queryset queryset select {as field sql return queryset 
def make Atom line return filter lambda x not x in map chr range 33 + [34 39 92] line 
def ignore message warning warnings warnings 'ignore' 'ase Exception Deprecation Warning 
def str2bytes string if isinstance string type '' and PY MAJOR VERSION > 2 return bytes string 'latin1' else return string 
def get ninja editor skins files path extension '.color'return get ninja file path extension 
def BOP bar Ds count return call talib with ohlc bar Ds count talib B O P 
def add app ctx ctx app slug try app Webapp app slug app slug ctx appexcept Webapp Does Not Exist passreturn ctx 
def monitor get global sock name return communicate sock '  get global   "%s" ' % name 
def site needs def prep r if r and r 'create' site id get vars '~. site ' None if site id field s3db site needs idfield site idfield Falsefield Falsereturn Trues3 prepreturn s3 rest controller 
def configure eliot logging for acceptance eliot to stdout MESSAGE FORMATS ACTION START FORMATS
def is lval t if not t return Falsei iter t if i not in IDENTIFIER START return Falsereturn all e in IDENTIFIER PART for e in i 
def  manual join columns columns to join manual joins []columns to join new copy columns to join for column in 'metadata' 'system metadata 'pci devices if column in columns to join new columns to join new column manual joins column return manual joins columns to join new 
def  read dir entry struct fid tag shape rlims return [ read tag header fid for _ in range tag // 16 - 1 ]
def schema request body schema min version None max version None def add validator func @functools.wraps func def wrapper *args **kwargs  schema validation helper request body schema kwargs min version max version args kwargs return func *args **kwargs return wrapperreturn add validator 
def  File To Module Name filename _ lib suffix filename '$PYTHON LIB/' if lib module suffixelse module filenamemodule os module if '.py' in module module module '.py' [0]module module os '.' module module '.' if module '.  init  ' module module '.  init  ' [0]return module 
def canonicalize app pagename templatename context doctree if not app root returncontext  build url app root app branch pagename 
def  get boolean param request param name return request P O S T param name False in ['true' 'rue True 
def deprecated redirect request url **kwargs dest reverse url kwargs kwargs proto 'https //' if request secure else 'http //' host Site current .domainreturn render request 'sumo/deprecated.html' {'dest' dest 'proto' proto 'host' host 
def  associate eip with interface eni id eip id private ip None vm  None retries 5while retries > 0 params {ction 'ssociate Address 'etwork Interface Id eni id 'llocation Id eip id private ip params Private Ip Address private ipretries retries - 1 result aws params return root True location get location vm  provider get provider opts   opts   sigver '4' if isinstance result dict and result 'error' time 1 continueif not result 'd breaklog 'ssociated Elastic I Paddress eip id eni id return result 'd raise Salt Cloud Exception 'ouldnotassociateelasticipaddress eip id eni id 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def is tool load error obj return obj is TOOL LOAD ERROR
def  get response factory registry response factory registry Utility I Response Factory default lambda r Response return response factory 
def MINUS DI bar Ds count timeperiod - 2 ** 31 return call talib with hlc bar Ds count talib M I N U S DI timeperiod 
def grains if not GRAINS CACHE return  grains D E T A I L S D E T A I L S D E T A I L S return GRAINS CACHE
def collocation fun fun y p x h f fun x y p y middle 0.5 * y 1 ] + y -1 ] - 0.125 * h * f 1 ] - f -1 ] f middle fun x -1 ] + 0.5 * h y middle p col res y 1 ] - y -1 ] - h / 6 * f -1 ] + f 1 ] + 4 * f middle return col res y middle f f middle 
def U W Ratio s1 s2 return W Ratio s1 s2 force ascii False 
def  generate random string length 6 return ''.join random string lowercase length 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get Craft Type Name sub Name '' profile Settings get Read Profile Repository craft Type Name settings Selected Plugin Name profile Settings Radios if sub Name '' return craft Type Namereturn os craft Type Name sub Name 
def sign plaintext client secret resource owner secret signature utils client secret or u signature + u + utils resource owner secret or u return signature 
def concepts items items if isinstance items string types items items rels [item metadata for r in items map process bundle rels return concept map 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def num mock patch args function patchings getattr function 'patchings' None if not patchings return 0mock sys 'mock' sys 'unittest.mock' None if mock is not None return len [p for p in patchings if not p name and p is mock D E F A U L T ] return len patchings 
def get files from folder folder ext try files Ext os folder except files Ext [xt [f for f in files Ext if f ext ]return files Ext 
def gen keys nbits p q find p q nbits e d calculate keys p q nbits return p q e d 
def return Value val raise  Def Gen Return val 
def rehash runas None  pyenv exec 'rehash' runas runas return True 
@checker '.py' '.rst' def check whitespace fn lines for lno line in enumerate lines if '\r' in line yield lno + 1 '\\rinline' if ' DCTB ' in line yield lno + 1 'OMGTABS!!!1' if line -1 ].rstrip ' DCTB ' ! line -1 ] yield lno + 1 'trailingwhitespace'
def get fontspec latex fontspec []texcommand get texcommand if texcommand ! u latex fontspec u if texcommand ! u and rc Params u True families [u'serif' u u [u'\\setmainfont{%s}' u u family fontspec in zip families fontspecs matches [f for f in rc Params u + family ] if f in system fonts ]if matches latex fontspec fontspec % matches else passreturn u latex fontspec 
def   remove queue logging handler global LOGGING STORE H A N D L E Rif LOGGING STORE HANDLER is None returnroot logger logging Logger for handler in root logger if handler is LOGGING STORE HANDLER root logger Handler LOGGING STORE HANDLER LOGGING STORE HANDLER Nonebreak 
def poll tail pipes pipes lastlines dirpath None waitsecs 5 lines []bad pipes [] ready _ _ select pipes waitsecs for fi in ready path pipes fi if len data 0 bad pipes fi continueif lastlines dirpath write lastlines file lastlines dirpath path data for line in data lines '[%s] DCTB %s\n' % path line return lines bad pipes 
def superuser *args **kwargs return False 
def  run finalizers minpriority None if  finalizer registry is None returnif minpriority is None f lambda p p is not None else f lambda p p is not None and p > minpriority items [x for x in  finalizer registry if f x ]items.sort reverse True for key finalizer in items sub debug 'calling%s' finalizer try finalizer except Exception import tracebacktraceback exc if minpriority is None  finalizer registry 
def Quoted File Name fname import regutil stringtry fname '' return '"%s"' % fname except Value Error return fname 
def  get env activate bin env if not bin env raise Command Not Found Error 'ouldnotfinda if os bin env if salt windows activate bin os bin env 'cripts 'activate.bat' else activate bin os bin env 'bin' 'activate' if os activate bin return activate binraise Command Not Found Error 'ouldnotfinda 
def get subpackages name splist []for dirpath  dirnames  filenames in os name if osp osp dirpath '  init  .py' splist '.'.join dirpath os return splist 
def Get Bytes mem str unit mem str -1 ]val float mem str -1 ] if unit 'G' val * 1024 * 1024 * 1024 elif unit 'M' val * 1024 * 1024 elif unit 'K' val * 1024else try val int mem str except Exception print '%sisnotavalidwayofwritingmemorysize.' % mem str return int val 
def get Descending Area Oriented Loops all Points corners import Radius return get Oriented Loops get Descending Area Loops all Points corners import Radius 
def nodes or number which args @decoratordef  nodes or number f *args **kw try iter wa iter which args except Type Error iter wa which args new args list args for i in iter wa n args nodes list range n except Type Error nodes tuple n else if n < 0 msg 'egativenumberofnodesnotvalid %i' % n raise nx Network X Error msg new args n nodes return f *new args **kw return  nodes or number 
def impl ret new ref ctx builder retty ret return ret 
def  get constant term p x R p R monomi R x zm R monoma [0] * R a 1miv tuple a c 0for expv in p if monomial min expv miv zm c + R {expv p return c 
def robots request template render request 'site/robots.txt' return Http Response template content type 'text/plain'
def run on ui thread f def f2 *args **kwargs Runnable f *args **kwargs return f2 
def  extend nodelist extend node if is variable extend node extend node return []blocks dict extend node  extend blocks extend node blocks placeholders []for block in blocks placeholders +  scan placeholders  get nodelist block block blocks parent template  find topmost template extend node placeholders +  scan placeholders  get nodelist parent template None blocks return placeholders 
def data table fn list datalabel keyatom outlist [][dict list label line list  read dicts fn list keyatom minr dict list dict list dictionary in dict list if maxr < dictionary maxr dictionary minr > dictionary minr dictionary minrwhile res < maxr count 0line str res for dictionary in dict list label label line list str res in dictionary line line + ' DCTB ' + Xpk Entry dictionary res ][0] label .fields[datalabel] else line line + ' DCTB ' + '*' count count + 1 line line + '\n' outlist line res res + 1 return outlist 
def get selection text try first text 'sel.first' last text 'sel.last' except Tcl Error first last Noneif not first first text 'insert' if not last last firstreturn first last 
def calculate torrent hash link data None if link 'magnet ' torrent hash re 'urn btih [\\w]{32 40} ' link [0]if len torrent hash 32 torrent hash b16encode b32decode torrent hash .lower elif data info bdecode data ['info']torrent hash sha1 bencode info .hexdigest else raise Value Error 'annotcalculatetorrenthashwithoutmagnetlinkordata return torrent hash 
def replace H T M L Entity t return  html Entity Map t 
def move from center coord centers deltas axmask True True True coord copy coord for i in range 3 if not axmask continueif coord < centers coord - deltas coord + deltas coord 
@register.inclusion tag 'zinnia/tags/dummy.html' def get recent linkbacks number 5 template 'zinnia/tags/linkbacks recent entry published pks map smart text Entry list 'id' flat True content type Content Type for model Entry linkbacks get comment model .objects.filter content type content type object pk  in entry published pks flags  flag  in [PINGBACK TRACKBACK] is public True .order by '-pk' [ number linkbacks related 'content object return {'template' template 'linkbacks' linkbacks 
def libvlc log set file p instance stream f  Cfunctions 'libvlc log set file None or  Cfunction 'libvlc log set file 1 1 None None Instance FILE ptr return f p instance stream 
def plot evoked white evoked noise cov show True return  plot evoked white evoked evoked noise cov noise cov scalings None rank None show show 
def render xml data if isinstance data list data { T E M S data ''if data xml + xml root open data xml + xml add links data xml + xml add meta data xml + xml add items data xml + xml root close return xml 
def idd estrank eps A A np A m n A n2 w idd frmi m ra np n * n2 + n + 1 * n2 + 1 order 'F' k ra  id estrank eps A w ra return k 
def calculate compile sources targets is thrift target basedirs set sources set def collect sources target basedirs target base sources target relative to buildroot for target in targets target collect sources predicate is thrift target return basedirs sources 
def trim silence audio threshold energy librosa audio frames np energy > threshold indices librosa to samples frames [1]return audio indices -1 ]] if indices else audio 0]
def  convert exception e args 'exceptioninldapbackend {0}'.format repr e e if six P Y2 six L D A P Error args sys info [2] else six from L D A P Error *args e 
def full strip string string  stripper double spaces '' string string  stripper double ellipsis consts C H A R ELLIPSIS string string  stripper space ellipsis consts C H A R ELLIPSIS string return string ''
def prde linear constraints a b G DE m len G Gns Gds list zip *G d reduce lambda i j i j Gds d Poly d field True Q [ ga * d gd .div d for ga gd in G not all [ri.is zero for _ ri in Q] N max [ri.degree D E for _ ri in Q] M Matrix N + 1 m lambda i j Q i else M Matrix qs _ list zip *Q return qs M
def get essid from cap bssid capfile if not program exists 'tshark' return ''cmd ['tshark' '-r' capfile '-R' 'wlan.fc.type subtype 0x05&&wlan.sa %s' % bssid '-n']proc Popen cmd stdout PIPE stderr DN proc for line in proc [0].split '\n' if line 'SSID ' ! -1 essid line line 'SSID ' + 5 ]print GR + '[+]' + W + 'guessedessid %s' % G + essid + W return essidprint R + '[!]' + O + 'unabletoguessessid!' + W return ''
def split Zip path components os path .split os for index component in enumerate components if component '.zip' zip Path os components index + 1 ] archive Path ''.join [ x + '/' for x in components index + 1 ]] return zip Path archive Path else return path None 
@with devicedef which name which cmd ' F S \ I N A R Y % $PATH \ B I N A R Y B I N A R Y % name which cmd which cmd return process ['sh' '-c' which cmd .recvall .strip
def iter symbols code for name in code names yield name for const in code consts if isinstance const basestring yield const elif isinstance const Code Type for name in iter symbols const yield name 
def get memcached client expiration time 0 if C O N F and C O N F servers  warn if null backend return Cache Client  get default cache region expiration time expiration time 
def write data text options outputname module if options dir is not None fname os options dir outputname % module fname fname '.py' '' f open fname 'w' f text 'utf-8' f else print text 
def find mrjob conf def candidates if 'MRJOB CONF' in os yield expand path os M R J O B CONF'] yield expand path os '~' '.mrjob.conf' yield '/etc/mrjob.conf' for path in candidates log 'ookingforconfigsin % path if os path log 'singconfigsin % path return pathelse log 'oconfigsfound return None 
def test sequence value try len value value  getitem  except return Falsereturn True 
def  point cloud error src pts tgt pts from scipy import cdist Y cdist src pts tgt pts 'euclidean' dist Y axis 1 return dist 
def first predicate it return next v for v in evaluate promises it if predicate v if predicate is not None else v is not None None 
def  execute q table context model context model Sessionreturn session q 
def fama macbeth **kwargs window type kwargs 'window type if window type is None klass Fama Mac Bethelse klass Moving Fama Mac Bethreturn klass **kwargs
def remove cert binding name site hostheader '' ipaddress '*' port 443 ret {'name' name 'changes' {} 'comment' str 'result' None info  get binding info hostheader ipaddress port current cert bindings   salt  ['win iis cert bindings site if binding info not in current cert bindings ret 'ertificatebindinghasalreadybeenremoved {0}'.format name ret Trueelif   opts  ['test'] ret 'ertificatebindingwillberemoved {0}'.format name ret {'old' name 'new' None current name current cert bindings info name current name ret 'emovedcertificatebinding {0}'.format name ret {'old' name 'new' None   salt  ['win iis cert binding name site hostheader ipaddress port return ret 
def valid hook hook file hook name filename os hook file basename os filename [0]matching hook basename hook name supported hook basename in  HOOKS backup file filename '~' return matching hook and supported hook and not backup file 
def dist is local dist return is local dist location dist 
def ldd deps filename ret None if not os filename filename salt filename if ret is None ret []out   salt  ['cmd.run'] 'ldd' filename python shell False for line in out if not line continuedep path ''if ' >' in line comps line ' >' dep comps comps .split if os dep comps dep path dep comps dep comps line .split if os dep comps dep path dep comps dep path if dep path not in ret ret dep path new deps ldd deps dep path ret for dep in new deps if dep not in ret ret dep return ret 
def delete service name restart True out   mgmt name 'service' 'delete' if restart if out 'success' return   firewall cmd '--reload' return out 
def  retry on deadlock f @functools.wraps f def wrapped *args **kwargs while True try return f *args **kwargs except db exc D B Deadlock L O G _ "eadlockdetectedwhenrunning func name s Retrying dict func name f  name   time 0.5 continuefunctools wrapper wrapped f return wrapped 
def mysql timestamp converter s if s '-' return Date Time or None s s s + '0' * 14 - len s parts map int filter None s 4] s 6] s 8] s 10] s 12] s 14] try return Timestamp *parts except System Exit Keyboard Interrupt raiseexcept return None 
def argmin seq func return min seq key func 
def test install folder using dot slash script script path 'mock' .mkdir pkg path script path / 'mock' pkg path 'setup.py' .write mock100 setup py result script 'install' './mock' egg folder script packages / 'mock-100.1-py%s.egg-info' % pyversion assert egg folder in result created str result 
def get unicode writer stream sys encoding None errors u encoding encoding or get preferred output encoding if sys info < 3 or not hasattr stream u return lambda s stream s encoding errors else return lambda s stream s encoding errors 
def test multilabel X y make multilabel classification n classes 2 n labels 1 allow unlabeled False random state 123 clf One Vs Rest Classifier SVC kernel 'linear' eclf Voting Classifier estimators [ 'ovr' clf ] voting 'hard' try eclf X y except Not Implemented Error return 
def get minion data minion opts grains Nonepillar Noneif opts 'minion data cache False cache salt Cache opts if minion is None for id  in cache 'minions' data cache 'minions/{0}'.format id  'data' if data is None continueelse data cache 'minions/{0}'.format minion 'data' if data is not None grains data data minion if minion else None grains pillar 
def speedx clip factor None final duration None if final duration factor 1.0 * clip / final duration newclip clip time lambda t factor * t apply to ['mask' 'audio'] if clip is not None newclip newclip duration 1.0 * clip / factor return newclip 
def get doctype stats index stats {}from kitsune import get mapping typesfor cls in get mapping types if cls index index s S cls .indexes index stats mapping type name ] s return stats 
def  normal order terms expr recursive limit 10  recursive depth 0 new terms []for term in expr if isinstance term Mul new term  normal order factor term recursive limit recursive limit  recursive depth  recursive depth new terms new term else new terms term return Add *new terms 
def assemble Formatted Text formatted return  textattributes formatted  Formatting State ' I R C Control Codes 
def  get head file path config return os  get root versions dir config HEAD FILENAME
def vagrant settings name '' *args **kwargs name  name or host string name config ssh config name extra args  settings dict config kwargs extra args return settings *args **kwargs
def memoize important follower config dict  dict ['memoized config {'include tags include tags 'exclude tags exclude tags 
def  get status id by name status name return LINODE S T A T U S status name {} .get 'code' None 
def find predicate seq for element in seq if predicate element return elementreturn None 
def net device verification net device print attr ['hostname' 'ip' 'username' 'password' 'device type 'vendor' 'model' 'os version 'uptime' 'serial number field in print attr val getattr net device field print '%15s %-40s' % field val print 
def setup wizard complete if getattr settings 'SHUUP ENABLE MULTIPLE SHOPS' False return Trueshop Shop complete configuration shop 'setup wizard complete if complete is None return not setup wizard visible panes shop return complete 
def test ipy dash S ipi Iron Python Instance executable exec prefix extra Args + '-S' Are Equal ipi Start True response ipi Execute Line 'importsys' response ipi Execute Line 'printsys.path' Assert response 'ib ! -1
def  table columns first table row positions []start 1while start < len first table row end first table row '+' start if end -1 breakpositions start end start end + 1 return positions 
def add implicit resolver tag regexp first None Loader Loader Dumper Dumper Loader implicit resolver tag regexp first Dumper implicit resolver tag regexp first 
def compress dhist dh head tail dh -10 ] dh -10 ] newhead []done set for h in head if h in done continuenewhead h done h return newhead + tail 
def iframe close request response format 'html' return render to response 'core/iframe close {} context instance Request Context request response format response format 
def solow analytic solution t k0 g n s alpha delta lmbda n + g + delta * 1 - alpha k t s / n + g + delta * 1 - np - lmbda * t + k0 ** 1 - alpha * np - lmbda * t ** 1 / 1 - alpha analytic traj np t np k t np return analytic traj 
def get dc info session ds ref dc info  DS DC M A P P I N G ds ref if not dc info dcs session call method vim util 'get objects 'atacenter ['name' 'datastore' 'older  update datacenter cache from objects session dcs dc info  DS DC M A P P I N G ds ref return dc info 
def req missing names purpose python True optional False if not isinstance names tuple or isinstance names list or isinstance names set names names if not names return Falseif python whatarethey s u Pythonpackage p u Pythonpackages whatarethey s whatarethey p u len names 1 msg u Inorderto youmustinstallthe purpose names whatarethey s else most u "'.join names -1 ] pnames most + u + names -1 ] msg u Inorderto youmustinstallthe purpose pnames whatarethey p if optional L O G G E R msg else L O G G E R msg L O G G E R u Exitingduetomissingdependencies sys 5 return msg 
def compile extra typingctx targetctx func args return type flags locals library None pipeline Pipeline typingctx targetctx library args return type flags locals return pipeline extra func 
def Geek None D B Connect Only func def wrapper *args **kwargs Geek Note Init Connection Truereturn func *args **kwargs return wrapper 
def are similar e1 e2 from .exceptions import Geometry Errorif e1 e2 return Truetry return e1 similar e2 except Attribute Error try return e2 similar e1 except Attribute Error n1 e1  class  .  name  n2 e2  class  .  name  raise Geometry Error 'annottestsimilaritybetween % n1 n2 
def ipv6 to int ip return type desc Int16 user addrconv to bin ip 
def get init anonymous user User kwargs {ser U S E R N A M E FIELD guardian settings A N O N Y M O U S USER N A M E User **kwargs user unusable password return user 
def get environment return settings 
def py encode basestring ascii s if isinstance s str and HAS U T F8 s is not None s s 'utf-8' def replace match s match 0 try return ESCAPE D C T Key Error n ord s if n < 65536 return '\\u{0 04x}'.format n else n - 65536s1 55296 | n >> 10 & 1023 s2 56320 | n & 1023 return '\\u{0 04x}\\u{1 04x}'.format s1 s2 return '"' + str ESCAPE A S C I I replace s + '"'
def find backref chain obj predicate max depth 20 extra ignore return  find chain obj predicate gc referrers max depth max depth extra ignore extra ignore 
def  hash data algorithm if algorithm 'SHA-256' return sha256 data .hexdigest else return md5 data .hexdigest
def draw text im position text color 0 0 255 cv2 Text im text position cv2 F O N T HERSHEY SIMPLEX 1.5 color 1 return im 
def get resource uri template resource include child if resource 'root' path '/api/'else if resource parent resource path get resource uri template resource parent resource True path + '%s/' % resource name if not resource and include child and resource path + '{%s}/' % resource object key return path 
def text value value if value is None return u force text value 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def create process progname sensor return subprocess Popen CMDLINE % {'progname' progname 'sensor' S E N S O R S sensor sensor } shell True stdin subprocess P I P E 
def dbl from geom func num geom 1 argtypes [GEOM PTR for i in xrange num geom ]argtypes + [POINTER c double ]func.argtypes argtypesfunc c intfunc check dblreturn func 
def escape For Content data if isinstance data unicode data data 'utf-8' data data '&' '&amp;' .replace '<' '&lt;' .replace '>' '&gt;' return data 
def get webapp global conf global conf dict global conf  get static settings return global conf 
def unquote unreserved uri try parts uri '%' for i in range 1 len parts h parts 2]if len h 2 and h c chr int h 16 if c in UNRESERVED SET parts c + parts ] else parts '%' + parts else parts '%' + parts return ''.join parts except Value Error return uri 
def shb response if py3k h response else h [] key value None None for line in response if line if line in ' DCTB ' value + line else if key and value h key value key value line ' ' 1 key key value value if key and value h key value return '%s%s' % response response h response 
def fill price worse than limit price fill price order if order if order > 0 and fill price > order or order < 0 and fill price < order return Truereturn False 
def int2hexstr num intsize 4 if intsize 8 if num < 0 result struct '<q' num else result struct '<Q' num elif num < 0 result struct '<l' num else result struct '<L' num return result 
def to xml items msg [u'<?xmlversion "1.0"?>' u item in items msg item xml msg u return u msg 
def windowed histogram image selem out None mask None shift x False shift y False n bins None if n bins is None n bins int image + 1 return  apply vector per pixel generic cy windowed hist image selem out out mask mask shift x shift x shift y shift y out dtype np pixel size n bins 
def Styled Widget paint Event self event opt Q Style Option opt From self painter Q Painter self self .rimitive Q Style P E Widget opt painter self 
def category category return {'0' '0' '1' 'phishing' '2' 'webattack' '3' 'infectious' '4' 'payloads' '5' 'mailer' '6' 'arduino' '7' 'sms' '8' 'wireless' '9' 'modules' '10' 'cloner' '11' 'harvester' '12' 'tabnapping' '13' 'teensy' '14' 'binary2teensy' '15' 'dll hijacking '16' 'multiattack' '17' 'java applet '18' 'encoding' '19' 'fasttrack' '20' 'autopwn' '21' 'mssql' '22' 'scan' '23' 'direct' '24' 'exploits' '25' 'active target '26' 'shell' '27' 'set' '28' 'teensy2powershell' '29' 'powershell' '30' 'delldrac' '31' 'ridenum' '32' 'psexec' '33' 'fsattack'}.get category 'ERROR'
def Remove Duplicate Dependencies targets for target name target dict in targets for dependency key in dependency sections dependencies target dict dependency key [] if dependencies target dict key Unify dependencies 
def circulant c c np c .ravel a b np len c 0 - len c -1 ]indx a + b return c 
def calc entropy string import mathalphabet 0other set seen set lastset Nonestring to unicode string for c in string inset othersetfor cset in lowerset upperset numberset sym1set sym2set if c in cset inset csetbreakif inset not in seen seen inset alphabet + len inset elif c not in other alphabet + 1other.add c if inset is not lastset alphabet + 1lastset csetentropy len string * math alphabet / 0.6931471805599453 return round entropy 2
def plot gallery images titles h w n row 3 n col 4 plt figsize 1.8 * n col 2.4 * n row plt adjust bottom 0 left 0.01 right 0.99 top 0.9 hspace 0.35 for i in range n row * n col plt n row n col i + 1 plt images h w cmap plt plt titles size 12 plt plt 
def resnet v2 50 inputs num classes None is training True global pool True output stride None reuse None scope 'resnet v2 50' blocks [resnet utils Block 'block1' bottleneck [ 256 64 1 ] * 2 + [ 256 64 2 ] resnet utils Block 'block2' bottleneck [ 512 128 1 ] * 3 + [ 512 128 2 ] resnet utils Block 'block3' bottleneck [ 1024 256 1 ] * 5 + [ 1024 256 2 ] resnet utils Block 'block4' bottleneck [ 2048 512 1 ] * 3 ]return resnet v2 inputs blocks num classes is training is training global pool global pool output stride output stride include root block True reuse reuse scope scope 
def  availables plugins url try descriptor urlopen url plugins json manager json from stream descriptor return pluginsexcept U R L Error return {}
def gci return gci current 
def automodule name attributes []obj importlib module name for attrname in dir obj value getattr obj attrname if getattr value u  module  ' None ! name continueif inspect value attributes get class info value name if inspect value attributes get function info value return {u'members' filter None attributes u get obj doc obj }
def valid ip ip address octets ip address '.' if len octets ! 4 return Falsefor i octet in enumerate octets try octets int octet except Value Error return False first octet second octet third octet fourth octet octetsif first octet < 1 return Falseelif first octet > 223 return Falseelif first octet 127 return Falseif first octet 169 and second octet 254 return Falsefor octet in second octet third octet fourth octet if octet < 0 or octet > 255 return Falsereturn True 
def clean html html if html is None return htmlhtml html u u html re u u html html re u u html html re u u html html unescape H T M L html return html 
def auth disallow anonymous access action @functools.wraps action def wrapper context data dict return action context data dict wrapper allow anonymous access Falsereturn wrapper 
def lookup package plugin package type None if package type is None return  default package pluginreturn  package plugins package type  default package plugin 
@decorators.memoizedef  check mkfile return salt 'mkfile'
def parsestream stream encoding None stack engine Filter Stack stack analyze return stack stream encoding 
def test description on big sentenced steps feature Feature string FEATURE4 assert equals feature 'sacleverguy Iwanttodescribethis Feature Sothat Icantakecareofmy Scenario 
def  dict with children specs specs result {}for spec in specs if not spec result {spec['key'] spec return result 
def fake Target Function pass 
def small ego G edges [ 'a' 'b' 'a' 'c' 'b' 'c' 'b' 'd' 'b' 'e' 'b' 'f' 'c' 'd' 'c' 'f' 'c' 'h' 'd' 'f' 'e' 'f' 'f' 'h' 'h' 'j' 'h' 'k' 'i' 'j' 'i' 'k' 'j' 'k' 'u' 'a' 'u' 'b' 'u' 'c' 'u' 'd' 'u' 'e' 'u' 'f' 'u' 'g' 'u' 'h' 'u' 'i' 'u' 'j' 'u' 'k' ]G nx Graph G edges from edges return G
def db null instance uuid scan delete False engine get engine meta sqlalchemy Meta Data bind engine meta engine processed {}for table in reversed meta tables if table not in 'fixed ips 'shadow fixed ips processed  process null records table 'instance uuid check fkeys True delete delete for table name in 'instances' 'shadow instances table db utils table engine table name processed  process null records table 'uuid' check fkeys False delete delete return processed 
def  crawl attribute this data this attr if isinstance this data list t list []for d in this data t list  crawl attribute d this attr return t listelif isinstance this attr dict t dict {}for k in this attr if hasattr this data k t dict  crawl attribute getattr this data k None this attr return t dictelif isinstance this attr list this dict {}for l in this attr this dict dictupdate this dict  crawl attribute this data l return this dictelse return {this attr  recurse config to dict getattr this data this attr None }
def get precision currency global  cacheif  cache is None  cache  generate cache return  cache 
def index field from django field f default Char Field result defaultif f internal type in u Date Field u Date Time Field result Date Time Fieldelif f internal type in u Boolean Field u Null Boolean Field result Boolean Fieldelif f internal type in u Comma Separated Integer Field result Multi Value Fieldelif f internal type in u Decimal Field u Float Field result Float Fieldelif f internal type in u Integer Field u Positive Integer Field u Positive Small Integer Field u Small Integer Field result Integer Fieldreturn result 
def test ast invalid unary op cant compile u not234 ' cant compile u not ' cant compile u not234 ' cant compile u ~2234 ' cant compile u ~ '
def test ascii dash o nikola u lang u assert o u assert isinstance o nikola str 
def  fill inst class frequencies ctype info inst class flat type info inst class cfreq key inst class 0 for k v in ctype info if v Attributes occurs > 0 frequencies key 0
def validate dictionary string length specs if not isinstance specs dict msg _ 'specsmustbeadictionary.' raise exception Invalid Input reason msg for key value in specs if key is not None check string length key 'ey % key min length 1 max length 255 if value is not None check string length value 'alueforkey % key min length 0 max length 255
@egister With Arg Checks name 'neighbor.out filter req args [ P ADDRESS neighbors O U T FILTER] def set neighbor out filter neigh ip address filters core CORE M A N A G E R core service peer core manager by addr neigh ip address peer filters filtersreturn True 
def enumerate plugins dirpath module prefix namespace class  attributes {} if os dirpath dirpath os dirpath for fname in os dirpath if fname '.py' and not fname '  init  ' module name _ os fname importlib module '%s.%s' % module prefix module name plugins []for subclass in class .  subclasses   if module prefix ! '.'.join subclass  module  .split '.' [ -1 ] continuenamespace  name  ] subclassfor key value in attributes setattr subclass key value plugins subclass return plugins 
def get dashboard slug orgname None profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/dashboards/db/{1}'.format profile url slug auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 data response if response code 404 return Noneif response code > 400 response for status return data 'dashboard'
def get memcached hosts if not memcache return Nonecache info settings C A C H E S D E F A U L T FORWARD CACHE A L I A S cache info B A C K E N D cache info u L O C A T I O N [] if not backend u or not locations return []if not isinstance locations list locations [locations]return locations 
def hidden path return os path [1].startswith '.'
def chart popup return {}
def Get Resource Limits logging context error fh sys resource limits DEFAULT RESOURCE L I M I T S Status Update 'ettingcurrentresourcelimits error fh resource limits  Get Remote Resource Limits logging context logging 'singresourcelimits %s' resource limits return resource limits 
def   mgmt name  type action cmd '--{0}-{1} {2}--permanent'.format action  type name return   firewall cmd cmd 
def modify test id **data models Test get id .update object data 
def checks existence model def decorated func 'ecoratorfortheexistencefunction MODEL E X I S T S funcreturn funcreturn decorated 
def  load preview module request descriptor student data Kvs Field Data Session Key Value Store request if has author view descriptor wrapper partial Cms Field Data student data student data else wrapper partial Lms Field Data student data student data wrapped field data wrapper descriptor field data preview runtime  preview module system request descriptor wrapped field data descriptor for student preview runtime request [wrapper] return descriptor 
def normalize signature sig if isinstance sig str parsed  parse signature string sig else parsed sigif isinstance parsed tuple args return type parsed None elif isinstance parsed typing Signature args return type parsed parsed type else raise Type Error 'invalidsignature %rinstancenotallowed' % sig  class  .  name   def check type ty if not isinstance ty types Type raise Type Error 'invalidsignature expectedatypeinstance got % ty if return type is not None check type return type for ty in args check type ty return args return type 
@frappe.whitelist def get backup delete temp backups odb Backup Generator frappe name frappe name frappe password db host frappe odb backup recipient list odb email frappe _ u Downloadlinkforyourbackupwillbeemailedonthefollowingemailaddress {0}' .format u '.join recipient list 
def label present name value node None apiserver None ret   salt  ['k8s.label present name value node apiserver return ret 
def assert Volumes Equal test first second first first filesystem .get path second second filesystem .get path def get contents path result {}for child in path if child value get contents child else value child Content result ] valuereturn resulttest Equal get contents first get contents second 
def dont Listen thread id None global osc Threadsif thread id and thread id in osc Threads ids [thread id ids list osc Threads for thread id in ids Logger 'OSC Stopthread % thread id osc Threads id Running Falseosc Threads id Logger 'OSC Stopthread % thread id del osc Threads id 
def build dependency list deps version prefix u return sorted [ u % dep name version prefix dep version for dep name dep version in deps ] key lambda s s 
def media endpoint  id file  app  id if file  is None return abort 404 if modified since weak date request 'f Modified Since if if modified since is not None if if modified since is None if modified since if modified since tzinfo tz util if if modified since > file .upload date return Response status 304 headers {ast Modified date to rfc1123 file .upload date 'ontent Length file .length}response Response file  headers headers mimetype file .content type direct passthrough True return response 
def limited epoch train file path max epochs 1 train load train file file path train criterion Epoch Counter max epochs max epochs train loop 
@step 'createalogrecordwith def step I create logrecord with table context assert context 'REQUIRE context len context 1 'REQUIRE table 1'step I create logrecords with table context 
def check cs op result func cargs if result 0 raise G E O S Exception 'ouldnotsetvalueoncoordinatesequence else return result 
@bp.route '/<urlname>' def view urlname node Node by urlname urlname .first or 404 page force int request 'page' 1 0 if not page return abort 404 paginator Topic by node id node .order by Topic .paginate page paginator fill topics paginator status Noneif g status Node Status by account id g node id node .first return render template 'node/view.html' node node paginator paginator status status 
def agent self consul url None ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retfunction 'agent/self'ret  query consul url consul url function function method 'GET' query params query params return ret 
def activity create context activity dict **kw  check access 'activity create context activity dict if 'ignore auth in kw raise Exception 'ctivity Streamcallingparametershavechangedignore authmustbepassedinthecontextnotasaparam if not paste config 'ckan.activity streams enabled 'true' returnmodel context getattr model Session 'revision' None activity dict id model Session activity dict id Noneschema context 'schema' or ckan create activity schema data errors  validate activity dict schema context if errors raise Validation Error errors activity model save dict save data context if not context 'defer commit model log "reated % activity type return model dictize dictize activity context 
def libvlc media player get xwindow p mi f  Cfunctions 'libvlc media player get xwindow None or  Cfunction 'libvlc media player get xwindow 1 None ctypes uint32 Media Player return f p mi 
def check package data first command class Decorated Command command def run self check package data self data command self return Decorated Command 
def word features table features numpy len table 620 dtype 'float32' keys table for i in range len table f table f / norm f return features 
@superuser requireddef site settings request form class template name u return djblets site settings request form class template name {u'root path settings S I T E ROOT + u }
def stop cover hass entity id None data {ATTR ENTITY ID entity id if entity id else None hass DOMAIN SERVICE STOP COVER data 
def download package dict package name global download count not found countdownload count + 1if download count % 1000 0 logger 'ownloaded %snotfound ' download count not found count response session 'https //pypi.python.org/pypi/%s/json' % package name if response code requests return response elif response code requests found not found count + 1else logger 'nexpectederrorcodeforpackage %s' package name response code 
def read from matrix matrix str1 str2 result '' i j len str1 len str2 while i ! 0 and j ! 0 if matrix matrix i - 1 ][j] i - 1elif matrix matrix j - 1 ] j - 1else result + str1 i - 1 ]i - 1j - 1return result -1 ]
def virtual interface get context vif id return I M P L interface get context vif id 
def test undefined step represent string feature file ojoin 'runner features 'first.feature' feature Feature file feature file step feature equals step string step 'iven Idonothing features features 7\n' assert equals step string 'foobar' 'foobar#tests/functional/output features features 7\n'
def create membership **kwargs project kwargs 'project' Project Factory project Points Factory project project value None defaults {'project' project 'user' User Factory 'role' Role Factory project project permissions list map lambda x x MEMBERS PERMISSIONS }defaults.update kwargs return Membership Factory **defaults
def get user id username rv query db 'selectuser idfromuserwhereusername ?' [username] one True return rv if rv else None 
def find existing anchors soup existing anchors set for tag in soup all True for attr in [u'id' u if tag attr attr existing anchors tag attr return existing anchors 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def wrap message message width MAX LINE LENGTH lines message '\n' wrapped lines [textwrap.fill line width expand tabs False replace whitespace False drop whitespace False break on hyphens False for line in lines message '\n'.join wrapped lines return wrapped message 
def  Import Deploy Template deploy template 'viewfinder.backend.prod.deploy.{0}'.format sys   import   deploy template servers sys template  dict  ['servers'][0]setup script sys template  dict  ['setup script servers setup script 
def  translate output output sensors data dict {}sensors data array output '\n\n' for sensor data in sensors data array sensor data dict  process sensor sensor data if not sensor data dict continuesensor type  get sensor type sensor data dict sensor id sensor data dict Sensor I D 'ensor Reading in sensor data dict sensors data dict sensor type {} [sensor id sensor data dictif not sensors data dict raise ipmiexcept I P M I Exception _ ' P M Isensordatafailed Nodataretrievedfromgiveninput return sensors data dict 
def Interruptible Queue Join queue thread local thread pool queue join thread factory Queue Join Thread check workers True thread queue join thread factory queue thread while True thread timeout 0.5 if not thread Alive return Trueif thread local down logger 'ueuejoininterrupted return Falseif check workers for worker thread in thread pool Threads if not worker thread Alive return False 
def c moves client cmds client 'look' if not cmds else cmds 
def check classification toy name Forest Classifier FOREST C L A S S I F I E R S Forest Classifier n estimators 10 random state 1 clf X y assert array equal clf T true result assert equal 10 len clf clf Forest Classifier n estimators 10 max features 1 random state 1 clf X y assert array equal clf T true result assert equal 10 len clf leaf indices clf X assert equal leaf indices len X clf estimators 
@block user agents required required 'wiki.delete document @check readonly document pathdef delete document request document slug document locale document get object or 404 Document locale document locale slug document slug prevent document first revision document [0]if request 'POST' form Document Deletion Form data request P O S T if form valid Document Deletion Log locale document slug document user request reason form data document return redirect document else form Document Deletion Form context {'document' document 'form' form 'request' request 'revision' first revision 'prevent' prevent render request 'wiki/confirm document delete context 
def property mock request cls prop name **kwargs  patch patch cls prop name new callable Property Mock **kwargs request  patch return  patch 
def Get Field Value field if not field return Nonevalue field .string value value type field .type if value type in TEXT DOCUMENT FIELD TYPES return valueif value type document pb Field Value D A T E return Deserialize Date value if value type document pb Field Value N U M B E R return float value raise Type Error 'oconversiondefinedfortype % value type 
def load certificate from path path key filename cert filename cert path path cert filename key path path key filename certificate load certificate file cert path keypair load key file key path return keypair certificate 
def set file name source template None context None defaults None **kwargs ret {'name' name 'changes' {} 'result' True 'comment' ''}if context is None context {}elif not isinstance context dict ret Falseret 'ontextmustbeformedasadict retif defaults is None defaults {}elif not isinstance defaults dict ret Falseret 'efaultsmustbeformedasadict retif   opts  ['test'] ret Noneret 'ebconfselectionswouldhavebeenset retif template result   salt  ['debconf.set template source template context defaults **kwargs else result   salt  ['debconf.set file source **kwargs if result ret 'ebconfselectionswereset ret Falseret 'nabletosetdebconfselectionsfromfile ret 
def pre scm buildstep registry xml parent data bsp X M L Sub Element xml parent ' C Mbuildstep Pre S C M Build Steps Wrapper bs X M L Sub Element bsp 'teps for step in data for edited node in create builders registry step bs edited node 
def snippet func func snippet Truereturn func 
def Codesearch Entry From String xml string return atom Create Class From X M L String Codesearch Entry xml string 
def parse egg info path info {}for line in open path encoding u line line m pat line if m key m 1 .lower info m 2 try return u name s version s % info except Key Error passreturn None 
def isorted to sort return sorted to sort key lambda x x 
def is list like value return isinstance value Iterable and not isinstance value base dict 
def string from path path if not path return ''path [ path part escape compat unicode s for s in path not all map RE E L E M E N T path get logger .warn "annotconvertpathtostring keyscontaininvalidcharacters shouldbealpha '%s'" % path string PATH STRING SEPARATOR C H A R path return string 
def set format fmt 'xml' global ws formatif fmt 'xml' ws format fmtset parser elif fmt 'json' ws format fmtwarn 'hejsonformatisnon set parser json else raise Value Error 'invalidformat %s' % fmt 
def cmd action parent cmd fn *hotkeys return qtutils action parent cmd lambda cmds cmd fn *hotkeys
def benjamini hochberg step down pvals tmp fdr correction pvals corrected vals empty len pvals max pval 1.0for i in argsort pvals [ -1 ] if tmp < max pval corrected vals tmp pval tmp corrected vals max pvalreturn corrected vals 
def queens solved organisms for org in organisms if org len org return 1return 0
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def atleast 3d *arys res []for a in arys if not isinstance a cupy raise Type Error 'nlycupyarrayscanbeatleast 3d' if a 0 a a 1 1 1 elif a 1 a a None None a 2 a a None a if len res 1 res res res 
def is Valid text return any word in text for word in WORDS
def  get full output node for output False ret {}for item in six node value node value is not None and for output value str value ret valuereturn ret 
def insert system roles system roles System Role valid values for role name in system roles description role namerole db Role D B name role name description description system True try Role role db log not unique error as debug True except Stack Storm D B Object Conflict Error Not Unique Error pass 
def get locales by visit start date end date cache key 'locales sorted by visits {start} {end}'.format start start date end end date sorted locales cache cache key if sorted locales is None try results visitors by locale start date end date locales and visits results sorted locales list reversed sorted locales and visits key lambda x x cache cache key sorted locales CACHE TIMEOUT except Google A P I Error Oauth2 Error Open S S L Error log 'omethingwentwronggettingvisitorsbylocalefrom Google Analytics Nobodygota500though sorted locales [ l 0 for l in settings S U M O L A N G U A G E S sorted locales 
def last update time STAMP '/var/lib/apt/periodic/fabtools-update-success-stamp'if not is file STAMP return -1 return getmtime STAMP
def  output to list cmdoutput return [item for line in cmdoutput if  safe output line for item in line ]
def  purge  cache 
def assert application calculated changes case node state node config nonmanifest datasets expected changes additional node states frozenset additional node config frozenset deployer Application Node Deployer hostname node state node uuid node state docker client Fake Docker Client return assert calculated changes for deployer case deployer node state node config nonmanifest datasets additional node states additional node config expected changes Node Local State node state node state 
def delete ref refname oldvalue None assert refname 'refs/' oldvalue [] if not oldvalue else [oldvalue] p subprocess Popen ['git' 'update-ref' '-d' refname + oldvalue preexec fn  gitenv  git wait 'gitupdate-ref' p 
def is Error Node node return node and node Type 'error'
def bulk update delete context data dict  check access 'bulk update delete context data dict  bulk update dataset context data dict {'state' 'deleted'}
def get price info context product quantity 1 mod ctx  get module and context context price info mod price info ctx product quantity for module in get discount modules price info module price ctx product price info return price info 
def  wrap with before action responder if 'resource' in get argnames action shim actionelse def shim req resp resource kwargs action req resp kwargs @wraps responder def do before self req resp **kwargs shim req resp self kwargs responder self req resp **kwargs return do before 
def is task successful request task id response data {'task' {'id' task id 'executed' Async Result task id .successful }}return Http Response serialize response data mimetype 'application/json'
def leaves list Z Z np Z order 'c' is valid linkage Z throw True name 'Z' n Z + 1 ML np n dtype 'i' [Z]  copy arrays if base present [Z]  hierarchy Z ML int n return ML
def  mac ver gestalt try import gestaltimport Mac O Sexcept Import Error return None sysv sysa  mac ver lookup 'sysv' 'sysa' if sysv major sysv & 65280 >> 8 minor sysv & 240 >> 4 patch sysv & 15 if major minor > 10 4 major minor patch  mac ver lookup 'sys1' 'sys2' 'sys3' release '%i.%i.%i' % major minor patch else release '%s.%i.%i' %  bcd2str major minor patch if sysa machine {1 '68k' 2 'ower P C 10 'i386'}.get sysa '' return release versioninfo machine 
def get attrs str return  scanner str [0]
def map32 id pos NOUN global  map32 cacheif not  map32 cache  map32 cache open os MODULE 'dict' 'index.32' .readlines  map32 cache x for x in  map32 cache if x ! ';'  map32 cache dict x .split '' for x in  map32 cache k pos in  map32 pos2 and pos or  map32 pos1 pos 'x' k + str id .lstrip '0' k  map32 cache k None if k is not None return int k ]  map32 pos2 return None 
def download daily bars source Code table Code year csv File auth Token None bars download csv source Code table Code datetime year 1 1 datetime year 12 31 'daily' auth Token f open csv File 'w' f bars f 
def archiver typename archiver  ARCHIVER BY T Y P E typename if not archiver raise Value Error u Noarchiverregisteredfor typename return archiver 
def split at corner index contour index segments []index [ i + 1 for i in index s e in zip [0] + index index + [10000000] segments contour e + 1 ] return segments 
@task help {'args' 'ommandlineargsforbehave 'format' 'ormattertouse def behave test ctx args '' format '' format format or ctx test options ctx test or '' args args or ctx test behave '{python}bin/behave'.format python sys ctx '{behave}-f{format}{options}{args}'.format behave behave format format options options args args pty USE PTY
def select bracket style option minimap style 0if not minimap style | sublime H I D E ON M I N I M A Pif option 'outline' style | sublime D R A W NO F I L Lelif option 'none' style | sublime H I D D E Nelif option 'underline' style | sublime D R A W EMPTY AS O V E R W R I T Eelif option 'thin underline style | sublime D R A W NO F I L Lstyle | sublime D R A W NO O U T L I N Estyle | sublime D R A W SOLID U N D E R L I N Eelif option 'squiggly' style | sublime D R A W NO F I L Lstyle | sublime D R A W NO O U T L I N Estyle | sublime D R A W SQUIGGLY U N D E R L I N Eelif option 'stippled' style | sublime D R A W NO F I L Lstyle | sublime D R A W NO O U T L I N Estyle | sublime D R A W STIPPLED U N D E R L I N Ereturn style 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def  callback argspec callback if not callable callback raise Value Error 'allbacksmustbecallables if isfunction callback or ismethod callback return getargspec callback elif isinstance callback partial return getargspec callback else return getargspec callback  call  
def print fcode expr **settings print fcode expr **settings
def  get toplevel path user None password None return  git run ['git' 'rev-parse' '--show-toplevel'] cwd path user user password password ['stdout']
def get or create user cart user cart queryset Cart return cart queryset .get or create user user [0]
def make temp path path new ext None root ext os path if new ext is None new ext exttemp path root + TEMP EXTENSION + new ext return temp path 
def Task Message1 name id None args kwargs {} callbacks None errbacks None chain None **options from celery import uuidfrom kombu import dumpsid id or uuid message Mock name u Task Message id message {}message.payload {u'task' name u id u args u kwargs u callbacks u errbacks options message type message encoding message dumps message return message 
def reactivate domain name opts salt opts 'namecheap.domains.reactivate' opts Domain Name domain nameresponse xml salt request opts if response xml is None return {}domainreactivateresult response xml Elements By Tag Name 'omain Reactivate Result [0]return salt to dict domainreactivateresult 
def get plural form word if word not in  PLURAL FORMS plural prompt user 'hatisthepluralformof ' % word word default word + 's'  PLURAL F O R M S pluralreturn  PLURAL F O R M S 
def get Lang if getattr thread Local 'ang None return thread Local Langelse return current Lang 
def rgb2lab rgb illuminant 'D65' observer '2' return xyz2lab rgb2xyz rgb illuminant observer 
def Get Module Name return gflags Get Calling Module 
def batched tensordot x y axes 2 return  tensordot as dot x y axes dot batched dot batched True 
def test fairy registry xml parent data platform data 'platform' valid platforms ['android' 'ios']if 'platform' not in data raise Missing Attribute Error 'platform' if platform 'android' root X M L Sub Element xml parent 'est Fairy Android Recorder helpers fairy common root data mappings [ 'proguard-file' 'ile '' 'keystorepath' 'ath None 'storepass' 'storepass' 'android' 'alias' 'alias' 'androiddebugkey' 'keypass' 'keypass' '' ]helpers.convert mapping to xml root data mappings fail required True elif platform 'ios' root X M L Sub Element xml parent 'est Fairy Ios Recorder helpers fairy common root data mappings [ ' Y M 'ile '' ]helpers.convert mapping to xml root data mappings fail required True else raise Invalid Attribute Error 'platform' platform valid platforms 
def config true value value return value is True or isinstance value basestring and value in TRUE VALUES
@pytest.yield fixture autouse True def application app create app Config ctx app context ctx yield app ctx 
def hash combination combination bits []for variable value in six combination if isinstance variable six types and isinstance value six types bits u %d' % variable value else bits u %d' % variable value bits raw combination u '.join bits hashed combination hashlib force bytes raw combination .hexdigest return hashed combination 
def  step3 state marked state 1 state uncovered marked axis 0 ] Falseif marked < state C return  step4 
def rindex s *args return s *args
def  prune array array if array is not None and array < array // 2 return array return array 
def fake support backend values name default None config dict {'CONTACT FORM SUBMISSION BACKEND' 'email' 'email from address TEST SUPPORT E M A I L config dict 
def log exceptions logger def decorator func @wraps func def wrapper *args **kwargs try result func *args **kwargs except Exception logger u Uncaughtexceptionwhilerunning func  name   raisereturn resultreturn wrapperreturn decorator 
def acl list consul url None **kwargs ret {}data {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif 'id' not in kwargs ret 'equiredparameter Falsereturn retfunction 'acl/list'ret  query consul url consul url data data method 'PUT' function function return ret 
def git info path command ['git' 'log' '-1' '--format % D sha msg date check output command cwd path .decode 'utf8' .splitlines return dict sha sha date date msg msg 
def do endpoints cs args catalog cs catalog e in catalog Catalog utils dict e e 
def no loops in hierarchy key data errors context if not 'id' in data returngroup context Group data allowable parents group allowed to be its parent type group for parent in data parent name parent parent name and context Group parent name not in allowable parents raise Invalid _ 'hisparentwouldcreatealoopinthehierarchy 
def test get event data raw mne raw fif raw fname preload True verbose False picks mne types raw meg 'grad' eeg False eog True stim True exclude raw event id tmin tmax 2 -0.1 0.3 epochs Epochs raw events event id event id tmin tmin tmax tmax picks picks baseline None preload True proj False data epochs data [0 ]rt client Mock Rt Client raw rt data rt client event data event id event id tmin tmin tmax tmax picks picks stim channel 'STI014' assert array equal rt data data 
def  select block str in start tag end tag start pos str in start tag if start pos < 0 raise Value Error 'start tagnotfound depth 0for pos in range start pos len str in if str in start tag depth + 1elif str in end tag depth - 1if depth 0 breaksel str in start pos + 1 pos sel 
def thumbgen filename filename name ext op filename return '%s thumb % name ext 
def  margeff cov params count model cov margins params exog count ind method J for i in count ind exog0 exog exog0 i - 1dfdb0 model derivative predict params exog0 method exog0 i + 2dfdb1 model derivative predict params exog0 method dfdb dfdb1 - dfdb0 if dfdb > 2 dfdb dfdb 0 / 2 if J > 1 K dfdb / J - 1 cov margins K ] dfdbelse cov margins ] dfdbreturn cov margins 
def variations iterable optional lambda x False iterable tuple iterable o [optional x for x in iterable set for p in product [alse True repeat sum o p list p v [ b and b and p 0 for b in o tuple iterable for i in range len v if not v a v return sorted a cmp lambda x y len y - len x 
def set cookie data storage messages invalid False encode empty False encoded data storage encode messages encode empty encode empty if invalid encoded data encoded data ] O O K I E S {ookie Storage name encoded data hasattr storage ' loaded data del storage loaded data 
def iswritable f if not six P Y2 and hasattr f 'writable' return f if hasattr f 'closed' and f raise Value Error ' Ooperationonclosedfile if not hasattr f 'write' return Falseif hasattr f 'mode' and not any c in f for c in 'wa+' return Falsereturn True 
def assert Is Not first second msg '' a b first second assert a is not b '%s %ris%r' % msg a b a b 
def  to db dict namespace id resource type id model dict db dict {'namespace id namespace id 'resource type id resource type id 'properties target model dict target 'prefix' model dict db dict 
def rax argument spec return dict api key dict type 'str' aliases ['password'] no log True auth endpoint dict type 'str' credentials dict type 'str' aliases ['creds file env dict type 'str' identity type dict type 'str' default 'rackspace' region dict type 'str' tenant id dict type 'str' tenant name dict type 'str' username dict type 'str' verify ssl dict choices BOOLEANS type 'bool'
def mean of targets dataset return dataset axis 0
def listen target identifier fn *args **kw  event key target identifier fn .listen *args **kw
def compose *funcs **kfuncs return reduce lambda f g lambda *args **kaargs f g *args **kaargs funcs 
def  get node change list exploration id property name new value return [{'cmd' collection domain C M D EDIT COLLECTION NODE PROPERTY 'exploration id exploration id 'property name property name 'new value new value 
def  merge extraconfig existing changes existing existing or [] if changes for c in changes if len [x for x in existing if x c ] > 0 extra Conf [x for x in existing if x c ]onf c existing c return existing 
def convert to ascii chatbot statement import unicodedataimport sysif sys info < 3 statement unicode statement text unicodedata 'NFKD' statement text text 'ascii' 'ignore' .decode 'utf-8' statement str text return statement 
def is mongo running output os 'mongo--eval"print \'running\' "' .read return output and 'running' in output 
def  filter transactions qs data filter mapping {'app' 'addon id 'transaction type 'type' 'transaction id 'uuid' 'date from 'created  gte 'date to 'created  lte form field db field in filter mapping if data form field try qs qs **{db field data field except Value Error continuereturn qs 
def compute User Pass user Pass String dict O file I D p Element key Length 128 revision 3 encrypt Metadata False user Pass ' ' E ' E ''ret compute Encryption Key user Pass String dict O dict U dict O E dict U E file I D p Element key Length revision encrypt Metadata if ret ! -1 rc4 Key ret return retif revision 2 user Pass RC4 padding String rc4 Key elif revision > 2 counter 1nput padding String + file I D hash Result hashlib md5 Input .digest user Pass RC4 hash Result rc4 Key while counter < 19 new Key ''for i in range len rc4 Key new Key + chr ord rc4 Key ^ counter user Pass RC4 user Pass new Key counter + 1counter 0while counter < 16 user Pass + chr random 32 255 counter + 1return 0 user Pass 
def fourier uniform input size n -1 axis -1 output None input numpy input output return value  get output fourier output input axis  ni support check axis axis input sizes  ni support normalize sequence size input sizes numpy sizes dtype numpy if not sizes sizes sizes  nd image filter input sizes n axis output 1 return return value 
def group type create context values projects None return I M P L type create context values projects 
def import course from xml *args **kwargs manager Course Import Manager *args **kwargs return list manager imports 
def iirnotch w0 Q return  design notch peak filter w0 Q 'notch'
@auth signals user created queue no addon email user mails mail to addr user mail mails N O ADDON send at timezone + settings N O ADDON WAIT TIME user user fullname user 
def  cycle permute l if len l 1 return lmin item min l key default sort key indices [i for i x in enumerate l if x min item ]le list l le l indices len l + indices sublist [[le[indices[i] indices i + 1 ]]] for i in range len indices - 1 ]idx sublist min sublist ordered l le indices + len l ]return ordered l 
def  check start stop raw start stop return [ c if isinstance c int or c is None else raw as index c [0] for c in start stop ]
def update nested original dict updates dict to update copy original dict for key value in six updates if isinstance value dict sub dict update nested dict to update key {} value dict to update sub dictelse dict to update updates dict to update 
def reorder suite suite classes reverse False class count len classes suite class type suite bins [rdered Set for i in range class count + 1 ]partition suite by type suite classes bins reverse reverse reordered suite suite class for i in range class count + 1 reordered suite Tests bins return reordered suite 
def TR22 rv max 4 pow False def f rv if not isinstance rv Pow and rv in cot tan return rvrv  TR56 rv tan sec lambda x x - 1 max max pow pow rv  TR56 rv cot csc lambda x x - 1 max max pow pow return rvreturn bottom up rv f 
def hash seed seed None max bytes 8 if seed is None seed  seed max bytes max bytes hash hashlib str seed .encode 'utf8' .digest return  bigint from bytes hash max bytes 
def set gpu from theano if config 'gpu' and len config > 3 os C U D A DEVICE'] theano ]elif config gpu device 'gpu' and len config gpu device > 3 os C U D A DEVICE'] theano gpu device ]
def  get runner classpath main jvm options args executor cwd distribution create synthetic jar synthetic jar dir executor executor or Subprocess Executor distribution safe cp classpathif create synthetic jar safe cp safe classpath classpath synthetic jar dir logger u Bundlingclasspath u '.join classpath safe cp return executor safe cp main args args jvm options jvm options cwd cwd 
def Doc File Suite *paths **kw suite unittest Test Suite if kw 'module relative True kw  normalize module kw 'package' for path in paths suite Test Doc File Test path **kw return suite 
def send approved mail request user context {u'request' request u user subject template u approved subject context send mail template subject u approved settings D E F A U L T FROM EMAIL user context context 
def  copy number format other copy Number Format pattern other format other leading digits pattern list other digits pattern national prefix formatting rule other prefix formatting rule national prefix optional when formatting other prefix optional when formatting domestic carrier code formatting rule other carrier code formatting rule copy mutable Truereturn copy 
def stts2penntreebank token tag return token stts tag tag 
def get translations languages None translations get builtin gnu translations languages if hasattr translations 'ugettext' return Default Translations translations else return translations 
def  func on containers logger conf concurrency key func bench Bench logger conf [] pool eventlet Green Pool int getattr conf concurrency key for container in conf pool n func bench bench container pool 
def get Public Type Members type  only Values False for name value in inspect type  if not name '__' if not only Values yield name value else yield value 
def  parse content content password contentsalt Nonesalt slug u 'try sep content salt slug except Value Error passelse salt password sep + len salt slug ]password content sep password salt 
def localcontext ctx None if ctx is None ctx getcontext return  Context Manager ctx 
def prepare annotations def expand annotation annotation if isinstance annotation dict return Map Annotation annotation elif isinstance annotation string t return mlazy instantiate annotation return annotationif annotations is None return elif not isinstance annotations list tuple annotations annotations return [expand annotation anno for anno in annotations 
def build name function max int max int + 1e-08pad length int math math max int def name function i return str i .zfill pad length return name function 
def basic search request template u load all True form class Model Search Form searchqueryset None extra context None results per page None query u Empty Search Query Set if request G E T u form form class request G E T searchqueryset searchqueryset load all load all if form valid query form data form else form form class searchqueryset searchqueryset load all load all paginator Paginator results results per page or RESULTS PER PAGE try page paginator int request G E T u 1 except Invalid Page raise Http404 u Nosuchpageofresults context {u'form' form u page u paginator u query u None results spelling context form suggestion if extra context context extra context return render request template context 
def split code at show text parts []is doctest contains doctest text part []for line in text '\n' if not is doctest and line 'plt.show ' or is doctest and line '>>>plt.show ' part line parts '\n'.join part part []else part line if '\n'.join part .strip parts '\n'.join part return parts 
def timestamp Mac32 value if not isinstance value float int long raise Type Error 'anintegerorfloatisrequired' if not 0 < value < 4294967295 return _ 'actimestamp %s ' % value return MAC TIMESTAMP T0 + timedelta seconds value 
def  get metadata field expr metadata expr no metadata rule if isinstance metadata expr bz Expr or metadata expr is None return metadata exprtry return expr child '.join expr name or '' field ]except Value Error Attribute Error if no metadata rule 'raise' raise Value Error 'no%stablecouldbereflectedfor%s' % field expr elif no metadata rule 'warn' warnings No Meta Data Warning expr field stacklevel 4 return None 
def captured stdin return captured output 'stdin'
def play complicated paths my paths copy paths def next song my paths 0 p file my paths p Gst Player next song p p file my paths while my paths time 1
def calc baseline error to observed error baseline error est error return float baseline error / float est error 
@handle response format login required admin required def index modules request response format 'html' modules Module .order by 'title' return render to response 'core/administration/index modules {'modules' modules context instance Request Context request response format response format 
def setsebool boolean value persist False if persist cmd ' boolean value else cmd 'setsebool{0}{1}'.format boolean value return not   salt  ['cmd.retcode'] cmd python shell False 
def get Base Object object if inspect object drop Self 0elif inspect object try if object self is None drop Self 0else drop Self 1object object funcexcept Attribute Error drop Self 0elif inspect object constructor get Constructor object if constructor is not None object constructordrop Self 1else drop Self 0elif callable object try object object  call  .im funcdrop Self 1except Attribute Error drop Self 0else drop Self 0return object drop Self 
def  self Of Method method Object if  PY3 return method Object  self  return method Object self 
def  set gps from zone kwargs location zone if zone is not None kwargs zone zone kwargs accuracy zone name locationreturn kwargs 
def  Pytree Node Repr node if isinstance node pytree Node return '%s %s %r ' % node  class  .  name   Node Name node [ Pytree Node Repr c for c in node if isinstance node pytree Leaf return '%s %s %r ' % node  class  .  name   Node Name node node 
def  query R P M Tags rpmfile taglist query Format RECORD S E P A R A T O R [ '[%%{%s}%s]' % tag UNIT SEPARATOR for tag in taglist def parse Tag Values output res {}for tag values in zip taglist output RECORD SEPARATOR values values UNIT SEPARATOR .split UNIT SEPARATOR res valuesreturn resdef check Error Result failure failure I O Error if str failure .startswith "gotstderr 'error " new Failure Failure Skip Test "un else new Failure failured failure Endedd Both lambda _ new Failure return dd utils Process Output 'rpm' '-q' '--queryformat' query Format '-p' rpmfile d Callbacks parse Tag Values check Error Result return d 
def bounding box bw bh w h new width new height w h if bw and new width > bw new width bwnew height new width / float w / h if bh and new height > bh new height bhnew width new height * float w / h return new width new height 
def CDLLADDERBOTTOM bar Ds count return call talib with ohlc bar Ds count talib C D L L A D D E R B O T T O M 
def survey update Meta Data record qtype metadata metatable current question metadataquestion id record isinstance metadata str metadata list json2py metadata else metadata list metadatafor desc value in metadata list desc desc if not isinstance value str value json value value value metatable question id question id descriptor desc value value if qtype 'rid widget obj survey question type Grid widget obj Children record metadata list 
def Vary Rate start end saturate epochs epoch if saturate epochs < 0 return startstep start - end / saturate epochs - 1 if epoch < saturate epochs return start - step * epoch else return end 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def vb machinestate to str machinestate return vb machinestate to tuple machinestate [0]
def update featured activity references featured activity references for activity reference in featured activity references activity reference activity hashes [reference.get hash for reference in featured activity references len activity hashes ! len set activity hashes raise Exception 'heactivityreferencelistshouldnothaveduplicates featured model instance activity models Activity References Model or create activity models A C T I V I T Y REFERENCE LIST FEATURED featured model instance references [reference.to dict for reference in featured activity references model instance 
def Check Reference request trusted request app id key require id or name True assert isinstance key entity pb Reference Check App Id request trusted request app id key Check key .element size > 0 "key'spathcannotbeempty" if require id or name last element key .element list [ -1 ]has id or name last element id and last element ! 0 or last element name and last element ! '' if not has id or name raise datastore errors Bad Request Error 'missingkeyid/name' for elem in key .element list Check not elem id or not elem name 'eachkeypathelementshouldhaveidornamebutnotboth %r' % key 
@register u def capitalize word event buff event bufferfor i in range event pos buff next word ending words buff after cursor pos text words overwrite True 
def get R A M total R A M available psutil memory [0 2]return total R A M / 1048576.0 available / 1048576.0
def default path default sheets dir os 'DEFAULT CHEAT DIR' or os '~' '.cheat' default sheets dir os os default sheets dir if not os default sheets dir try os 0 os default sheets dir except O S Error die 'ouldnotcreate D E F A U L T CHEAT DIR' if not os default sheets dir os R OK die 'he D E F A U L T CHEAT DIR ' + default sheets dir + ' isnotreadable if not os default sheets dir os W OK die 'he D E F A U L T CHEAT DIR ' + default sheets dir + ' isnotwritable return default sheets dir 
def make plot source xname yname line color xdr None ydr None if xdr is None xdr Data Range1d if ydr is None ydr Data Range1d plot Plot x range xdr y range ydr min border 50 plot layout Linear Axis 'below' plot layout Linear Axis 'left' plot glyph source Line x xname y yname line color line color plot tools Pan Tool Wheel Zoom Tool return plot 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def decode Int To Unicode value ret Val valueif isinstance value int try if value > 255 _ '%x' % value if len _ % 2 1 _ '0%s' % _ ret Val get Unicode hexdecode _ encoding 'UTF-16' if Backend Dbms DBMS.MSSQL else None else ret Val get Unicode chr value except ret Val INFERENCE UNKNOWN C H A Rreturn ret Val 
def display pygraphviz graph path format None prog None args '' if format is None filename path os filename [1].lower [1 ]if not format format Nonegraph path format prog args path nx opener filename 
def  dummy name token expr **kwargs d  dummy  name token **kwargs if d in expr symbols return Dummy name **kwargs return d 
def forecast location params None url '{}/{}'.format api location headers {ccept Encoding 'gzip'}r requests url params params headers headers if r code ! 200 raise Weather Exception 'ourkeyisinvalidorforecast r r if 'error' in r raise Weather Exception 'rrorgettingweather {}'.format r r return r 
def fast queue bytes left Nzb Queue paused Downloader B P S Meter bps time left calc timeleft bytes left bpsnow return paused bytes left bpsnow time left 
def messageid uniq None N id Generator .next datetime time ' H M S time pid os rand random 2 ** 31 - 1 if uniq is None uniq ''else uniq '.' + uniq return '<%s.%s.%s%s.%s@%s>' % datetime pid rand uniq N DNSNAME
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def buildgraph cursor include last hop False include target False only connected True graph {}entry nodes set for host in cursor if 'traces' not in host continuefor trace in host hops trace key lambda hop hop if not hops continueentry nodes hops if not include last hop and not include target if hops -1 ]['ipaddr'] host hops if not include last hop hops for i hop in enumerate hops ] if not only connected or hop - hops 1 graph hops set .update [hop['ipaddr']] return graph entry nodes 
def  bashcomplete cmd prog name complete var None if complete var is None complete var ' %s COMPLETE' % prog name '-' '_' .upper complete instr os complete var if not complete instr returnfrom . bashcomplete import bashcompleteif bashcomplete cmd prog name complete var complete instr sys 1
def remove metadata module data start line start col end line end col lines module data '\n' new lines lines start line start col ! 0 new lines lines line start col next line lines line len next line - 1 ! end col new lines next line col ] if len lines > end line new lines lines end line + 1 ] return '\n'.join new lines 
def ion matplotlib True install repl displayhook 
def test lambda list keywords mixed can compile u fn x listxxskw ' cant compile u fn x ' if PY3 can compile u fn listxxskwxskwoxs '
def variance scaling factor 2.0 mode 'FAN IN' uniform False seed None dtype tf if variance scaling initializer is None raise Not Implemented Error "'variance scaling initializer pleaseupdate Tensor Flow return variance scaling initializer factor factor mode mode uniform uniform seed seed dtype dtype 
def argparse type variable for action in helpful parser actions if action is not None and action variable return action str 
def  count leading line ch i n 0 len line while i < n and line ch i + 1return i 
def select best encoding outstream None outstream outstream or sys encoding getattr outstream 'encoding' None or sys if is ascii encoding encoding return 'utf-8'return encoding 
def Monkey Patch Threading Local  threading local @staticmethoddef New cls *args **kw self object  new   cls key ' local  key 'thread.local.' + str id self object  setattr   self ' local  key key object  setattr   self ' local  args args kw object  setattr   self ' local  lock  threading local R Lock if args or kw and cls  init   is object  init   raise Type Error 'nitializationargumentsarenotsupported dict object  getattribute   self '  dict  '  threading local thread .  dict  [key] dictreturn self threading local localbase  new   New 
def cartesian product X msg 'nputmustbealist not is list like X raise Type Error msg for x in X if not is list like x raise Type Error msg if len X 0 return [ np len x for x in X dtype int cumprod X np len X a np cumprod X 1 a 1if cumprod X -1 ] ! 0 b cumprod X -1 ] / cumprod X else b np like cumprod X return [np.tile np np com values from object x b np a for i x in enumerate X ]
def network get associated fixed ips context network id host None return I M P L get associated fixed ips context network id host 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def  openstack verify from config verify peer True verify ca path None **config if verify peer if verify ca path verify verify ca pathelse verify Trueelse verify Falsereturn verify 
@register specialize stabilize optimizer [ def local fill to alloc node if node T r v node v node rval [v]elif v node rval [ v node ]elif r node o broadcast like v r node dtype v copy stack trace node o rval [o]else returnassert rval node 'rval' rval 'orig' node 'node' node return rval 
def check file output filename force console 'heckingfileoutput if os filename and not force answer console 'ile Overwriteit N filename if answer ! 'y' sys return File Output filename 
def Differential Operators base generator ring Differential Operator Algebra base generator return ring ring operator 
@receiver post save sender Course Enrollment def assign default role on enrollment sender instance **kwargs assign default role instance id instance 
def  topo to sph topo assert topo 2 and topo 2 sph np len topo 3 sph 1] - np topo 0] sph 2] np * topo 1] return sph 
def  extract Return U R L endpoint if endpoint Types [RP RETURN TO URL TYPE] return endpoint return None 
def whichmodule func funcname mod getattr func '  module  ' None if mod is not None return modif func in classmap return classmap name module in sys if module is None continueif name ! '  main  ' and getattr module funcname None is func breakelse name '  main  'classmap[func] namereturn name 
def query series api key user token member name None params {}if member name member id query member id api key user token member name if member id params {u'id' member id log u % member name return []r requests API URL PREFIX + u params params headers {ccept u u X Beta Series Version u u X Beta Series Key api key u X Beta Series Token user token assert r code 200 u Bad H T T Pstatuscode %s' % r code j r error list j err in error list log str err if not error list return [x[u'title'] for x in j if x is False ]else return []
def extract from dir dirname None method map DEFAULT MAPPING options map None keywords DEFAULT KEYWORDS comment tags callback None strip comment tags False if dirname is None dirname os if options map is None options map {}absname os dirname for root dirnames filenames in os absname for subdir in dirnames if subdir '.' or subdir '_' dirnames subdir dirnames filenames for filename in filenames filepath os root filename .replace os '/' for message tuple in check and call extract file filepath method map options map callback keywords comment tags strip comment tags dirpath absname yield message tuple 
def urivalue uri uri uri uri ' ' + 1 -1 ].strip if uri and uri in '\'"' and uri uri -1 ] return stringvalue uri else return uri 
def rev list range start end revrange u % start end out git list revrange pretty u [ T D O U T parse rev list out 
def timestamp Win64 value try return WIN64 TIMESTAMP T0 + duration Win64 value except Overflow Error raise Value Error _ 'datenewerthanyear%s value %s ' % MAXYEAR value 
def is conservative field if field Vector 0 return Trueframe list field [0]return curl field frame .simplify Vector 0
def Get Clean Environment env os old virtual prompt env ' OLD VIRTUAL PROMPT' None if old virtual prompt env P R O M P T old virtual promptold virtual path env ' OLD VIRTUAL PATH' None if old virtual path env P A T H old virtual pathreturn env 
def yesno value arg None if arg is None arg gettext 'yes no maybe bits arg ' ' if len bits < 2 return valuetry yes no maybe bitsexcept Value Error yes no maybe bits bits bits if value is None return maybeif value return yesreturn no 
def main Projections Lines And Circles params None if not params params {'testlength' 400}win Window monitor 'ight Crafter4500 screen 1 fullscr True color 'gray' use F B O True auto Log False warper Warper win warp 'spherical' warpfile '' warp Gridsize 128 eyepoint [0.5 0.5] flip Horizontal False flip Vertical False g Projections Lines And Circles win warper for i in range int params * 60 g sweep i win 
def eval args f f pox eval args Truereturn f 
def get cli body ssh vrrp command response module if 'xml' in response body []elif 'showrun' in command body responseelse try response response command + '\n\n' '' .strip body [json.loads response ]except Value Error module json msg 'ommanddoesnotsupport J S O Noutput command command return body 
def open firewalld service return sequence [run from args ['firewall-cmd' '--reload'] ] + [run from args command + [service] for command in [['firewall-cmd' '--permanent' '--add-service'] ['firewall-cmd' '--add-service']]]
def qc results params alpha score qc tol qc verbose False assert not np params .max assert params params 'F' .min 'paramsshouldhavealreadybeen1-d'fprime score params k params len params passed array np [rue * k params for i in range k params if alpha > 0 if abs fprime - alpha / alpha > qc tol passed array Falseqc dict dict fprime fprime alpha alpha params params passed array passed array passed passed array if not passed num failed passed array False .sum message ' Ccheckdidnotpassfor % num failed k params message + 'ryincreasingsolveraccuracyornumberofiterations decreasingalpha orswitchsolvers qc verbose message +  get verbose addon qc dict print message return passed 
def request httprepr request parsed urlparse cached request path urlunparse '' '' parsed or '/' parsed parsed '' s ' T T P % request path s + 'ost %s\r\n' % parsed if request s + request string + '\r\n' s + '\r\n's + request s 
def migrate common facts facts params {'node' 'portal net 'master' 'portal net 'common' not in facts facts {}for role in params if role in facts for param in params if param in facts facts facts param return facts 
def is last random cohort user group random cohorts Course User Group course id user group id group type Course User Group C O H O R T cohort  assignment type Course Cohort R A N D O M return len random cohorts 1 and random cohorts user group 
def specificity score y true y pred labels None pos label 1 average 'binary' sample weight None _ s _ sensitivity specificity support y true y pred labels labels pos label pos label average average warn for 'specificity' sample weight sample weight return s 
def inverse mod a m if a < 0 or m < a a a % m c d a m uc vc ud vd 1 0 0 1 while c ! 0 q c d divmod d c + c uc vc ud vd ud - q * uc vd - q * vc uc vc assert d 1 if ud > 0 return udelse return ud + m 
def get operation data year quarter if ct check input year quarter is True ct write head data  get operation data year quarter 1 pd Data Frame if data is not None data data lambda x str x .zfill 6 return data 
def bogosort collection def is Sorted collection if len collection < 2 return Truefor i in range len collection - 1 if collection > collection i + 1 ] return Falsereturn Truewhile not is Sorted collection random collection return collection 
def get registry return  registry 
def feed parser initialization generator generator instance Git Hub Activity generator 
def assert studio view block fragment try html lxml fromstring fragment except lxml Parser Error assert studio view invalid html block fragment else assert studio view valid html block html 
def  run finalizers minpriority None if  finalizer registry is None returnif minpriority is None f lambda p p is not None else f lambda p p is not None and p > minpriority items [x for x in  finalizer registry if f x ]items.sort reverse True for key finalizer in items sub debug 'calling%s' finalizer try finalizer except Exception import tracebacktraceback exc if minpriority is None  finalizer registry 
def trima a limits None inclusive True True a ma a a mask if limits is None or limits None None return a lower lim upper lim limits lower in upper in inclusivecondition Falseif lower lim is not None if lower in condition | a < lower lim else condition | a < lower lim if upper lim is not None if upper in condition | a > upper lim else condition | a > upper lim a True ] maskedreturn a 
def require snapshot exists f @functools.wraps f def wrapper context snapshot id *args **kwargs if not resource exists context models Snapshot snapshot id raise exception Snapshot Not Found snapshot id snapshot id return f context snapshot id *args **kwargs return wrapper 
def ohdave rsa encrypt data exponent modulus payload int binascii data -1 ] 16 encrypted pow payload exponent modulus return u % encrypted 
def cmd watch args if len args 0 mpstate Nonereturnmpstate args 'atching % mpstate 
@deprecated 'l1 cross distanceswasdeprecatedinversion0 def l1 cross distances X X check array X n samples n features X nonzero cross dist n samples * n samples - 1 // 2 ij np n nonzero cross dist 2 dtype np D np n nonzero cross dist n features ll 1 0for k in range n samples - 1 ll 0 ll 1ll 1 ll 0 + n samples - k - 1 ij 0 ll 1 0] kij 0 ll 1 1] np k + 1 n samples D 0 ll 1] np X - X[ k + 1 n samples return D ij 
def extrude File filename print 'ile + filename + 'isbeingextruded.' file Text archive File Text filename gcodec File Message Suffix filename extrude Text file Text 'hegcodelogfileissavedas ' log 
def make service options def make stub 'elperfunctionformakingastubtotalktoservice path options 'credentials path None http httplib2 Http http apiclient user agent http 'pinnaker Stackdriver Agent if credentials path logging 'sing Stackdriver Credentialsfrom credentials path credentials Service Account Credentials json keyfile name credentials path scopes Stackdriver Metrics Service W R I T E SCOPE else logging 'sing Stackdriver Credentialsfromapplicationdefault credentials Google Credentials application default http credentials http return apiclient 'monitoring' 'v3' http http return Stackdriver Metrics Service make stub options 
def image type image type if image type 'kernel' return 'aki'if image type 'ramdisk' return 'ari'if image type not in ['aki' 'ari'] return 'ami'return image type 
def resource type return s3 rest controller 
def matdims arr oned as 'column' shape arr shape return 1 1 if reduce operator shape 0 return 0 * np [arr.ndim 2] if len shape 1 if oned as 'column' return shape + 1 elif oned as 'row' return 1 + shape else raise Value Error 'option % oned as return shape 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
@assert equal datetime np datetime np def assert timestamp and datetime equal result expected path msg '' allow datetime coercions False compare nat equal True **kwargs assert allow datetime coercions or type result type expected "%sdatetimetypes %s %s don datetime coercionswasnotset %  fmt msg msg type result type expected  fmt path path result pd Timestamp result expected pd Timestamp result if compare nat equal and pd result and pd expected returnassert equal object object result expected path path **kwargs
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofaserverforwhichthenetworkcacheshouldberefreshedfromneutron Adminonly .' def do refresh network cs args server  find server cs args cs external events [{'server uuid server 'name' 'network-changed'}]
def colors pass 
def select query query type 'list nodes select client  get client info client query query type return info 
def  get regex data position dummy0 opts dummy1 pattern position  get c string data position opts bson flags position  get c string data position opts bson re Regex pattern bson flags return bson re position 
def find credentials usernames []usernames.append   pillar  ['proxy'].get 'admin username 'root' if 'fallback admin username in   pillar  .get 'proxy' usernames   pillar  ['proxy'].get 'fallback admin username for user in usernames for pwd in   pillar  ['proxy']['passwords'] r   salt  ['dracr.get chassis name host   pillar  ['proxy']['host'] admin username user admin password pwd try if r 'retcode' None is None D E T A I L S username user D E T A I L S password pwd  opts  ['proxy']['admin username user  opts  ['proxy']['admin password pwdreturn user pwd except Attribute Error D E T A I L S username user D E T A I L S password pwd  opts  ['proxy']['admin username user  opts  ['proxy']['admin password pwdreturn user pwd log 'proxyfx2.find credentialsfoundnovalidcredentials using Delldefault return 'root' 'calvin'
def get profit statement code if code request Request ct S I N A PROFITSTATEMENT URL % code text urlopen request timeout 10 .read text text 'GBK' text text ' DCTB \n' '\r\n' text text ' DCTB ' ' ' df pd csv String I O text dtype {'code' 'object'} return df 
def do Spn Create po if g created S C P is None  option error po 'cp Createmusthavebeenspecifiedbefore Spn Create spns win32security Ds Get Spn dscon D S SPN SERVICE  get option po 'service class g created S C P Name  get option po 'port' 0 None None spn spns 2 'reated S P N %s' spn global g created S P N Lastg created S P N Last spng created S P Ns spn return spn 
def empty Net net Mininet controller Controller info 'ddingcontroller net Controller 'c0' info 'ddinghosts h1 net Host 'h1' ip '10.0.0.1' h2 net Host 'h2' ip '10.0.0.2' info 'ddingswitch s3 net Switch 's3' info 'reatinglinks net Link h1 s3 net Link h2 s3 info 'tartingnetwork net info 'unning C L I CLI net info 'toppingnetwork net 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def connectable Endpoint debug False reactor Memory Reactor Clock client Endpoint T C P4 Client Endpoint reactor '0.0.0.0' 4321 server Endpoint T C P4 Server Endpoint reactor 4321 server Endpoint Factory Protocol Protocol return client Endpoint Connection Completer reactor 
def scale s dtype None assert len s 3 return np np np [s 1.0 ] dtype 
def  get course and check access course key user depth 0 if not has studio write access user course key raise Permission Denied course module modulestore .get course course key depth depth return course module 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
@webob.dec.wsgify@util.check accept 'application/json' def list for consumer req context req id util path item req 'consumer uuid allocations objects Allocation List all by consumer id context consumer id allocations json jsonutils  serialize allocations for consumer allocations req 200req.response.body encodeutils utf8 allocations json req type 'application/json'return req 
def fetch url 'https //techblog.willshouse.com/2012/01/03/most-common-user-agents/'page requests url page html page path '//*[@id "post-2229"]/div[2]/table/tbody'return page path [0]
def make dev path dev partition None base '/dev' path os base dev if partition path + str partition return path 
def billed ops to str billed ops list ops as strs []for op in billed ops list op name datamodel pb Billed Op Proto Billed Op Name op ops as strs '%s %s' % op name op ops return ' '.join ops as strs 
def get demo driver provider name 'RACKSPACE' *args **kwargs provider name provider name Driver Class get driver getattr Provider provider name if not args args getattr secrets provider name + ' PARAMS' if not kwargs kwargs getattr secrets provider name + ' KEYWORD PARAMS' {} try return Driver Class *args **kwargs except Invalid Creds Error raise Invalid Creds Error 'validvaluesshouldbeputinsecrets.py'
def unmap url srcdir src destdir '.' if is url src url parts urlparse src filename os url parts dest os destdir filename return get file src dest else return os srcdir src 
def document custom signature section name method include None exclude None args varargs keywords defaults inspect method args args ]signature params inspect args varargs keywords defaults signature params signature params ' ' signature params signature params ' ' section sphinx py method name signature params 
def catalogue pre delete instance sender **kwargs catalogue get catalogue catalogue record instance 
def attach priorities queryset as field 'priorities attr model queryset ' E L E C Tjson agg \nrow to json projects priority \ R D E R B Yprojects priority \ R O Mprojects priority W H E R Eprojects priority id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def get Heuristic Char Encoding page ret Val detect page ['encoding']if ret Val info Msg "heuristicsdetectedwebpagecharset'%s'" % ret Val single Time Log Message info Msg logging I N F O ret Val return ret Val 
def Benini name alpha beta sigma return rv name Benini Distribution alpha beta sigma 
def libvlc video set marquee string p mi option psz text f  Cfunctions 'libvlc video set marquee string None or  Cfunction 'libvlc video set marquee string 1 1 1 None None Media Player ctypes uint ctypes char p return f p mi option psz text 
def  has eeg average ref proj projs check active False for proj in projs if proj 'verage E E Greference or proj FIFF.FIFFV MNE PROJ ITEM EEG AVREF if not check active or proj return Truereturn False 
@access log level logging D E B U G def status bar request resp ''for view in  status bar views try r view request if r code 200 resp + r L O G 'ailedtoexecutestatus barview % view except L O G 'ailedtoexecutestatus barview % view return Http Response resp 
def loads s encoding None cls None object hook None parse float None parse int None parse constant None object pairs hook None **kw if cls is None and encoding is None and object hook is None and parse int is None and parse float is None and parse constant is None and object pairs hook is None and not kw return  default decoder s if cls is None cls J S O N Decoderif object hook is not None kw hook object hookif object pairs hook is not None kw pairs hook object pairs hookif parse float is not None kw float parse floatif parse int is not None kw int parse intif parse constant is not None kw constant parse constantreturn cls encoding encoding **kw .decode s 
def get init flt user get user if user in INIT QUERIES return INIT Q U E R I E S isinstance user basestring and '@' in user realm user '@' ]if realm in INIT QUERIES return INIT Q U E R I E S config W E B PUBLIC SRV return db [hared get anonymized user ] return DEFAULT INIT QUERY
def  item to topic iterator resource return Topic api repr resource iterator 
def profile preload mod base used memory t0 time jedi module mod elapsed time - t0 used used memory - base return elapsed used 
def test spatial batch normalization def check *input dim sbn Spatial Batch Normalization input dim sbn x theano Tensor Type theano X [alse * len input dim + 1 y sbn x rng numpy Random State 2015 12 17 input  random unif rng 11 + input dim assert equal y {x input } input  yield check 2 3 5 yield check 5 3 2 3 yield check 1 11
def test category delete category category category Category by id category .first assert category is None 
def write complex128 fid kind data data size 16data np data dtype '>c16' .T write fid data kind data size FIFF.FIFFT COMPLEX FLOAT '>c16'
def test exclude should work on sequence too class Person Table tables Table first name tables Column last name tables Column occupation tables Column class Meta sequence u name u name u class Another Person Table Person Table class Meta Person Table Meta exclude u name u name table A Person Table [] assert table A [u'first name u name u table B Another Person Table [] assert table B [u'occupation'] table C Person Table [] exclude u name assert table C [u'last name u 
def albumart metadata release common tags date year  date year release artist release Artist Name release Album Title values {ars A R T I S T artist Vars A L B U M album Vars Y E A R year Vars D A T E date Vars A R T I S T LOWER  lower artist Vars A L B U M LOWER  lower album }res Metadata Dict common tags res items override values return res 
def Load Entity entity keys only False property names None if entity clone entity pb Entity Proto if property names clone key .opy From entity clone entity group seen set for prop in entity list if prop in property names Check prop not in seen 'datastoredevstubproducedbadresult' datastore pb Error I N T E R N A L ERROR seen prop new prop clone property new prop name prop new prop meaning entity pb Property I N D E X VALUE new prop value .opy From prop new prop multiple False elif keys only clone key .opy From entity clone entity group else clone Copy From entity Prepare Special Properties For Load clone return clone 
def test simple uninstall distutils script script path 'distutils install .mkdir pkg path script path / 'distutils install pkg path 'setup.py' .write textwrap "\nfromdistutils.coreimportsetup\nsetup \nname 'distutils-install' \nversion '0.1' \n \n" result script 'python' pkg path / 'setup.py' 'install' result script 'list' '--format legacy assert 'distutils-install 0.1 ' in result script 'uninstall' 'distutils install '-y' expect stderr True result2 script 'list' '--format legacy assert 'distutils-install 0.1 ' not in result2 
def  lucas extrastrong params n from sympy import igcdfrom sympy ntheory import jacobi symbol P Q D 3 1 5 while True g igcd D n if g > 1 and g ! n return 0 0 0 if jacobi symbol D n -1 break P + 1D P * P - 4 return  int tuple D P Q
def Get Platform Restrictions campaign feed platform restrictions Noneif campaign feed Function 'AND' for argument in campaign feed Function Operand if argument 'EQUALS' request context operand argument Operand request context operand and request context operand 'DEVICE PLATFORM' platform restrictions argument Operand return platform restrictions 
def p command data p p 'DATA' p 
def  build dependency manager no config kwargs configure logging kwargs root find root kwargs dependency resolvers config file find path kwargs 'dependency resolvers config file root use dependencies tool dependency dir use cached dependency manager tool dependency cache dir precache dependencies parse dependency options kwargs root dependency resolvers config file if not use dependencies dependency manager Null Dependency Manager else dependency manager kwds {'default base path tool dependency dir 'conf file dependency resolvers config file 'app config kwargs use cached dependency manager dependency manager kwds dependency cache dir tool dependency cache dirdependency manager Cached Dependency Manager **dependency manager kwds else dependency manager Dependency Manager **dependency manager kwds return dependency manager 
def disease rheader r tabs None T current Tif r ! 'html' return Noneresourcename r resourcename 'disease' tabs T 'asic Details None T 'ymptoms 'symptom' T 'ocuments 'document' rheader fields ['name'] ['code'] rheader S3 Resource Header rheader fields tabs r elif resourcename 'case' tabs T 'asic Details None T 'xposure 'exposure' T 'onitoring 'case monitoring T 'iagnostics 'case diagnostics T 'ontacts 'contact' T 'racing 'tracing' rheader fields ['person id rheader S3 Resource Header rheader fields tabs r elif resourcename 'tracing' tabs T 'asic Details None T 'ontact Persons 'exposure' rheader fields ['case id rheader S3 Resource Header rheader fields tabs r else rheader ''return rheader 
@nottestdef slow test f f test Truereturn f 
def per cpu times ret []for cpu t in cext cpu times user nice system idle cpu titem scputimes user nice system idle ret item return ret 
def  rfc transform msg msgstring msg string start msgstring 'eferences ' if start -1 return msgstringend msgstring '\r\n' start + len 'eferences ' substring msgstring end '\n DCTB 'rfcmsg msgstring start + substring ' DCTB ' separator + msgstring ] return rfcmsg 
def get table headings choices return filter lambda x x in choices HEADING CHOICES
def is Power2 num return num & num - 1 0 and num > 0
def  cookie parse impl b i 0n len b while i < n match  cookie re b + ';' i if not match breakkey match 'key' .strip value match 'val' i match 0 if key not in  cookie params yield  cookie unquote key  cookie unquote value 
def fort details bot fort id latitude longitude if fort id not in FORT CACHE 'ookupthefortdetailsandcachetheresponseforfutureuse bot request request details fort id fort id latitude latitude longitude longitude try response dict request FORT C A C H E id response dict F O R T D E T A I L S Exception passreturn FORT C A C H E fort id {}
def  safe rep obj short False try result repr obj except Exception result object  repr   obj if not short or len result < 80 return resultreturn result 80] + '[truncated]...'
def get plural type code pluralequation if pluralequation -1 ] u pluralequation pluralequation -1 ]if pluralequation u ' and pluralequation -1 ] u ' pluralequation pluralequation -1 ]base code code u ' u .split u [0]if pluralequation u return data P L U R A L N O N Efor mapping in data P L U R A L MAPPINGS if pluralequation in mapping return mapping base code in u return data P L U R A L A R A B I C L O G G E R u Cannotguesstypeofpluralfor %s' code pluralequation return data P L U R A L UNKNOWN
def  rcconf status name service status rcconf '/etc/rc.conf'rxname '^{0} .*'.format name newstatus '{0} {1}'.format name service status ret   salt  ['cmd.retcode'] "grep'{0}'{1}".format rxname rcconf if ret 0   salt  ['file.replace'] rcconf rxname newstatus else ret   salt  ['file.append'] rcconf newstatus return ret 
def  debuginit self exc value None exc type None exc tb None Failure  init   Failure  init  .im func if exc value exc type exc tb None None None exc sys info if not exc self  class   and DO POST MORTEM try strrepr str exc except strrepr 'brokenstr'print "umpingintodebuggerforpost " % strrepr import pdbpdb mortem exc Failure  init   self exc value exc type exc tb 
def ham dist e1 e2 ne operator sum imap ne e1 e2 
def marker weight matches marker return len set match for match in matches predicate marker comparator predicate *marker.span
def softplus x return tf x 
def list locations provider 'all' client  get client locations client locations provider return locations 
def get destination path path to keep dirs filename os path if keep dirs path suffix pathelse path suffix filenamereturn os to path suffix 
def test regularize cov raw read raw fif raw fname raw raw names noise cov read cov cov fname reg noise cov regularize noise cov raw mag 0.1 grad 0.1 eeg 0.1 proj True exclude 'bads' assert true noise cov reg noise cov assert true noise cov reg noise cov assert true np noise cov < reg noise cov < 0.08
def test edit data title '' parent None app qapplication dlg Data Frame Editor parent parent if dlg and check data title title dlg  return dlg value else import syssys 1
def get pathext default pathext None if default pathext is None default pathext os ['.COM' '.EXE' '.BAT' '.CMD'] pathext os 'PATHEXT' default pathext return pathext 
def bind context gr role account id *args gr ' '.join [role str account id ] + [str arg for arg in args 
def trunk can be managed context trunk if not trunk state up raise trunk exc Trunk Disabled trunk id trunk 
def dist in site packages dist return normalize path dist location dist .startswith normalize path site packages 
def attach roles queryset as field 'roles attr model queryset ' E L E C Tjson agg \nrow to json users role \ R D E R B Yusers role \ R O Musers role W H E R Eusers role id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def ends in file path  RE ENDEXT re '\\.%ext[{}]*$' re I  RE ENDFN re '%fn[{}]*$' re I return bool  RE E N D E X T path or  RE E N D F N path 
def stream to file stream suffix '' prefix '' dir None text False **kwd fd temp name tempfile suffix suffix prefix prefix dir dir text text return stream to open named file stream fd temp name **kwd
def get docker plays roles graph coverage dict roles False items set docker plays {node.name for node in graph if node 'docker playbook }for play in docker plays roles nodes nx neighbors graph play 'docker playbook docker roles {role.name for role in roles nodes roles roles & docker roles if common roles items play for role in common roles coverage Truefor role in coverage if not coverage L O G G E R "role'%s'isnotcovered." % role return items 
def verify assertions data assertion description list for assertion description in assertion description list verify assertion data assertion description 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def calc hash type content header '%s%d\x00' % type len content sum Sha1 header sum content return sum 
def feed forward neural network input vector outputs []for layer in neural network input with bias input vector + [1] output [neuron output neuron input with bias for neuron in layer output input vector outputreturn outputs 
def rm fetched dist raise Not Implemented Error 
def refresh db if 'eix.sync' in   salt   return   salt  ['eix.sync'] if 'makeconf.features contains in   salt   and   salt  ['makeconf.features contains 'webrsync-gpg' cmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0 else if   salt  ['cmd.retcode'] 'emerge--askn--quiet--sync' python shell False 0 return Truecmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0
def set options source options source source 
def smart fill variable name db PARAM NAME KNOWLEDGE default '56' variable name variable name possible results []for filled value variable name list in db for variable name db in variable name list if variable name db variable name return filled valueif variable name in variable name db match rate get match rate variable name variable name db possible results filled value match rate elif variable name db in variable name match rate get match rate variable name variable name db possible results filled value match rate if possible results possible results sortfunc return possible results msg '[smart fill Failedtofindavalueforparameterwithname msg % variable name return default 
def Allocate Ids model key size None **kwargs return Allocate Ids Async model key size **kwargs .get result 
def test no units for char columns t1 Table [['A']] names 'B' out String I O ascii t1 out format 'ipac' t2 ascii out format 'ipac' guess False assert t2 B is None 
def directive apply globally False api None def decorator directive method if apply globally hug directive method  name   ] directive methodelse apply to api hug A P I api if api else hug object directive method apply to api directive directive method directive method Truereturn directive methodreturn decorator 
def get Open I D Store return util Open I D Store '/tmp/djopenid c store 'c '
def copy plugins to language page source language target language only empty True copied 0placeholders page placeholders for placeholder in placeholders if not only empty or not placeholder plugins language target language .exists plugins list placeholder plugins language source language .order by 'path' copied plugins copy plugins plugins to plugins placeholder target language copied + len copied plugins return copied 
def test import empty completion jedi Script 'import' .completions [0]definition completion definition [0]assert definition 
def  update version in install rdf content new version number tree lxml content namespace 'http //www.mozilla.org/2004/em-rdf#'version uri '{{{0}}}version'.format namespace for node in tree '//em version version namespaces {'em' namespace if node version uri node new version numberelse node version uri new version number return lxml tree xml declaration True encoding 'utf-8'
def tophat image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy tophat image selem out out mask mask shift x shift x shift y shift y 
def intword value try value int value except Type Error Value Error return valueif value < 1000000 return valueif value < 1000000000 new value value / 1000000.0 return ungettext '% value .1fmillion' '% value .1fmillion' new value % {'value' new value if value < 1000000000000 new value value / 1000000000.0 return ungettext '% value .1fbillion' '% value .1fbillion' new value % {'value' new value if value < 1000000000000000 new value value / 1000000000000.0 return ungettext '% value .1ftrillion' '% value .1ftrillion' new value % {'value' new value return value 
def  go Union expression unpack True dump False output union Use expression unpack unpack dump dump if isinstance output basestring output parse Union Page output return output 
def resize device minor start end  validate device device try int minor except Exception raise Command Execution Error 'nvalidminornumberpassedtopartition  validate partition boundary start  validate partition boundary end out   salt  ['cmd.run'] 'parted-m-s--{0}resize{1}{2}{3}'.format device minor start end return out 
@pytest.fixture params True False def limit loader request monkeypatch if not request returnclass Limited Loader object def   init   self loader self loaderdef   getattr   self name if name in 'archive' 'get filename msg 'ockingaloaderwhichdoesnothave % name raise Attribute Error msg return getattr self name old get loader pkgutil loaderdef get loader *args **kwargs return Limited Loader old get loader *args **kwargs monkeypatch pkgutil 'get loader get loader 
def add extension module name code code int code if not 1 < code < 2147483647 raise Value Error 'codeoutofrange' key module name if  extension registry key code and  inverted registry code key returnif key in  extension registry raise Value Error 'key%sisalreadyregisteredwithcode%s' % key  extension registry if code in  inverted registry raise Value Error 'code%sisalreadyinuseforkey%s' % code  inverted registry  extension registry code inverted registry key 
def allow cross site request f @functools.wraps f def wrapper request *args **kw response f request *args **kw "f Access Control Allow Credentialsisn thebrowserwon Thisisagoodthing let Access Control Allow Origin 'ccess Control Allow Methods 'GET O P T I O N S responsereturn wrapper 
@receiver send admin notification sender Course Creator def send admin notification callback sender **kwargs user kwargs request email settings F E A T U R E S 'STUDIO REQUEST EMAIL' '' context {'user name user 'user email user render to string 'emails/course creator admin subject context subject ''.join subject message render to string 'emails/course creator admin user pending context try send mail subject message studio request email [studio request email fail silently False except S M T P Exception log "ailuresending user studio request email 
def set flags obj flag field flags for flag in flags if flag & flag field obj  dict  [flag[0]] Trueelse obj  dict  [flag[0]] False 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def tablespace remove name user None host None port None maintenance db None password None runas None query ' R O P T A B L E S P A C E name ret  psql prepare and run ['-c' query user user host host port port runas runas maintenance db maintenance db password password return ret 0
def get package name data return data 'name' or data 'details' .strip '/' .rsplit '/' 1 [ -1 ]
def S hac groupsum x time nlags None weights func weights bartlett x group sums group sums x time .return S hac simple x group sums nlags nlags weights func weights func 
def generate request for access token request token auth server url ACCESS TOKEN URL http request atom core Http Request auth server url 'POST' http request Content Length '0'return request token request http request 
def  format time when if when is None return Nonereturn datetime when 
def source indexes indexes view model view if isinstance model Q Sort Filter Proxy Model return list map model To Source indexes else return indexes 
def read and call while uhandle method **keywds nlines 0while True line safe readline uhandle if  fails conditions * line **keywds uhandle line breakmethod line nlines nlines + 1 return nlines 
def create Bundle b O S C O S C Message b ''b.append '#bundle' b 0 b 0 return b 
def yule u v u  validate vector u v  validate vector v nff nft ntf ntt  nbool correspond all u v return float 2.0 * ntf * nft / float ntt * nff + ntf * nft 
def get cross validation datasets random dataset n fold seed None order numpy Random State seed .permutation len dataset return get cross validation datasets dataset n fold order 
def default expire time expire delta datetime seconds C O N F expires at timeutils + expire delta return expires at microsecond 0
def group follower count context data dict return  follower count context data dict ckan follow group schema context User Following Group 
def set installed variant rpm facts facts installed rpms []for base rpm in ['openshift' 'atomic-openshift' 'origin'] optional rpms ['master' 'node' 'clients' 'sdn-ovs']variant rpms [base rpm + ['{0}-{1}'.format base rpm r for r in optional rpms + [ 'tuned-profiles-%s-node' % base rpm ] for rpm in variant rpms exit code _ _ module command ['rpm' '-q' rpm if exit code 0 installed rpms rpm facts variant rpms installed rpmsreturn facts 
def test exit on collection with maxfail smaller than n errors testdir testdir **COLLECTION ERROR PY FILES res testdir '--maxfail 1' assert res 2 res lines [ R R O Rcollectingtest 02 import error 'omodulenamed 'nterrupted stoppingafter1failures assert 'test 03' not in res 
def Box Plot data label None values None color None group None xscale 'categorical' yscale 'linear' xgrid False ygrid True continuous range None **kw if continuous range and not isinstance continuous range Range1d raise Value Error 'continuous rangemustbeaninstanceofbokeh Range1d y range continuous rangekw labelkw valueskw colorkw groupkw xscalekw yscalekw xgridkw ygridkw range y rangereturn create and build Box Plot Builder data **kw
def split host and port netloc match re '^ .+ \\d+ $' netloc if match host match 1 port int match 2 else host netlocport Nonereturn host port 
def make capture protocol d Deferred captured data []class Recorder Protocol def data Received self data captured data data def connection Lost self reason if reason Connection Done d ''.join captured data else d reason return d Recorder 
def chown path owner execute 'chown' owner path run as root True 
def Compare Stat tup1 tup2 if tup1 ino ! tup2 ino return Falseif tup1 size ! tup2 size return Falseif tup1 mtime ! tup2 mtime return Falseif tup1 ctime ! tup2 ctime return Falsereturn True 
def ls path load path None def  match path 'nternalmatchfunction matches aug path except Runtime Error return {}ret {}for  ma in matches ret ma aug  ma return retload path  check load paths load path aug  Augeas loadpath load path path path '/' + '/' match path path + '*' matches  match match path ret {}for key value in six matches name  lstrip word key path if  match key + '/*' ret name + '/' ] valueelse ret valuereturn ret 
def vm resize name kwargs None call None if call ! 'action' raise Salt Cloud System Exit 'hevm resizeactionmustbecalledwith if kwargs is None kwargs {}path kwargs 'path' None data kwargs 'data' None capacity maintained kwargs 'capacity maintained True if data if path log "oththe elif path data salt path mode 'r' .read else raise Salt Cloud System Exit "hevm resizefunctionrequireseither server user password  get xml rpc auth ' '.join [user password vm id int get vm id kwargs {'name' name response server auth vm id data salt true capacity maintained ret {'action' 'vm.resize' 'resized' response 'vm id response 'error code response ret 
def str slice arr start None stop None step None obj slice start stop step f lambda x x return  na map f arr 
def merge sort collection length len collection if length > 1 midpoint length // 2 left half merge sort collection midpoint right half merge sort collection ] i 0j 0k 0left length len left half right length len right half while i < left length and j < right length if left half < right half collection left half + 1else collection right half + 1k + 1while i < left length collection left half + 1k + 1while j < right length collection right half + 1k + 1return collection 
def generate master key return os 32
def cast to a1 notation method @wraps method def wrapper self *args **kwargs try if len args int args range start rowcol to a1 *args[ 2] range end rowcol to a1 *args[ -2 ] range name ' '.join range start range end args range name + args ] except Value Error passreturn method self *args **kwargs return wrapper 
def get dasharray obj i None if obj  dict  .get ' dash Seq None is not None return ' '.join map str obj dash Seq else ls obj linestyle if i is not None ls ls L I N E S T Y L E S ls None if dasharray is None warnings "dashstyle'{0}'notunderstood defaultingtosolid ls dasharray L I N E S T Y L E S dasharray 
def extract tarfile upload file extension '.shp' tempdir None absolute base file Noneif tempdir is None tempdir tempfile the tar tarfile upload file the tar tempdir for item in the tar if item extension absolute base file os tempdir item return absolute base file 
def map requests stream False size None exception handler None gtimeout None requests list requests pool Pool size if size else None jobs [send r pool stream stream for r in requests jobs timeout gtimeout ret []for request in requests if request is not None ret request elif exception handler and hasattr request 'exception' ret exception handler request request else ret None return ret 
def psturng q r v if all map  isfloat [q r v return  psturng q r v return  vpsturng q r v 
@command 'play\\s+ %s|\\d+ ' % WORD def play pl name if name name int name name sorted g [ name - 1 ]saved g name if not saved name util near name name g saved g name if saved g list saved play all '' '' '' else g util F 'plnotfound' % name g content display 
def features out   salt  ['cmd.run all 'list salt verify run out ret {}for line in [re.sub '\\s+' '' line for line in out '\n' if '-' in line ] option description line '-' 1 ret descriptionreturn ret 
def preserve whitespace v quote True if quote v html quote v v v '\n' '<br>\n' v re ' + '  repl nbsp v v re ' \\n + '  repl nbsp v v re '^ + '  repl nbsp v return '<code>%s</code>' % v 
def test filter merge b Bundle 's1' Bundle 's2' Bundle 's3' filters [css sass filters [js] output 'foo' jl bundle to joblist b assert jl [] assert jl ['s1'] assert jl [js] assert jl ['s2'] assert jl [css sass js assert jl ['s3']
def  add inset axes parent axes inset axes parent axes axes inset axes inset axes navigate False 
def get locales prefix None normalize True locale getter  default locale getter try raw locales locale getter except return Nonetry raw locales raw locales '\n' out locales []for x in raw locales if PY3 out locales str x encoding pd else out locales str x except Type Error passif prefix is None return  valid locales out locales normalize found re '%s.*' % prefix .findall '\n'.join out locales return  valid locales found normalize 
def get page queryset from path path preview False draft False site None if is installed 'django.contrib.admin' admin base admin reverse 'index' if path admin base match ADMIN PAGE R E path if match return Page pk match 1 else return Page if not site site Site current if draft pages Page .filter site site elif preview pages Page .filter site site else pages Page .published site site if not path return pages is home True site site [ 1]return pages title set  path path .distinct
def Build Single Object default class stream loader yaml Safe Loader definitions Build Objects default class stream loader if len definitions < 1 raise yaml errors Empty Configuration File if len definitions > 1 raise yaml errors Multiple Configuration File return definitions 
def set Up Module global E N G I N Eglobal SESSIONENGINE create engine 'sqlite //' Base all ENGINE session factory sessionmaker bind ENGINE SESSION scoped session session factory 
def check response method @functools.wraps method def wrapped self *args **kwargs response method self *args **kwargs status response codeif status > 400 if response code 429 self 429 resp *args **kwargs return method self *args **kwargs .json msg args response response response msg 'adapiresponse %r%r%r' % msg args raise Bad A P I Response response msg return response return wrapped 
def Resample Rows df return Sample Rows df len df replace True 
def pandas wrapper freq func trim head None trim tail None freq kw 'freq' columns None *args **kwargs @wraps func def new func X *args **kwargs if not  is using pandas X None return func X *args **kwargs wrapper func  get pandas wrapper X trim head trim tail columns index X index freqkwargs {freq kw freq to period freq } ret func X *args **kwargs ret wrapper func ret return retreturn new func 
def  compute derivatives image mode 'constant' cval 0 imy ndi image axis 0 mode mode cval cval imx ndi image axis 1 mode mode cval cval return imx imy 
def get target alias aliases list aliases if alias in aliases return aliases ''
def datetime2timestamp dt default timezone None epoch datetime 1970 1 1 if dt is None if default timezone is None default timezone tzutc dt dt tzinfo default timezone d dt tzinfo None - dt - epoch if hasattr d 'total seconds return d seconds return d + d + d * 24 * 3600 * 10 ** 6 / 10 ** 6
def onerror function path excinfo if not os path os W OK os path stat S IWUSR function path else raise 
def update headers headers api version if not api version null version string api version string if api version minor ! 0 headers L E G A C Y HEADER NAME] version stringif api version minor > 27 headers H E A D E R NAME] '%s%s' % SERVICE TYPE version string 
def log sink factory om queue global outout Log Sink om queue return out 
def validate type strict object  object types if not isinstance object types tuple object types object types exact type match any [ type object  t for t in object types if not exact type match error format 'leasepassobject oftype encounteredtype error format % object types type object  raise Value Error message 
def Prob Max Pool images rnd targets num Channels subs X start X stride X outputs X num Images images targets num Images num Channels * outputs X * outputs X assert rnd images  Conv Net Prob Max Pool images mat rnd mat targets mat num Channels subs X start X stride X outputs X 
def shortstr s l 53 if len s > l return s l - 3 ] + '...' return s 
def starttime pid return psutil Process pid .create time - psutil time 
def  parse Schema schema schema store result {}schema resolve Schema schema schema store def fill in result object schema result {}for prop prop Schema in object schema attr result {}attr['title'] prop Schema prepare docstring prop Schema attr prop in object schema 'required' [] attr prop Schema schema u result 'object'fill in result schema elif schema u result 'array'child schema schema child schema 'type' 'object' fill in result child schema else raise Exception 'nlysingleobjecttypeallowedinanarray else raise Exception 'on return result 
def service get all servicemanage sorted context return I M P L get all servicemanage sorted context 
def safe no dnn workmem workmem if workmem raise Runtime Error 'heoption Pleaseusetheoption fwd return True 
def drk default shelter s3 current id s3 default shelterif not shelter id default site current settings org default site if default site stable current shelterquery stable id default site shelter current query .select stable limitby 0 1 .first if shelter shelter id shelter default shelter shelter idreturn shelter id 
def run Reactor With Logging config oldstdout oldstderr profiler None reactor None if reactor is None from twisted import reactortry if config if profiler is not None profiler reactor elif config sys oldstdoutsys oldstderrif runtime Type 'posix' signal signal S I G U S R2 lambda *args pdb trace signal signal S I G I N T lambda *args pdb trace fix Pdb pdb reactor else reactor except close Falseif config file oldstdoutelse file open ' W I S T D C R A S H 'a' close Truetry traceback exc file file file finally if close file 
def aggregate filename files new suffix path os files [0]names [os.path.splitext os x [1] [0] for x in files prefix os names path os if common prefix u return os os path os files [0] + u ' + new suffix + u else return os os path common prefix + u ' + new suffix + u 
def find countries string context None ret []for word match in iter words string .lower word word match word in COMMON WORDS continuetry country object babelfish Country word if is allowed country country object context ret word match word match {'value' country object except babelfish Error continuereturn ret 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def get cookies environ header environ 'HTTP COOKIE' '' if 'paste.cookies' in environ cookies check header environ check header header return cookiescookies Simple Cookie try cookies header except Cookie Error passenviron cookies header return cookies 
def get errant logs for tree root node return log for node in root node and primary descendants for log in get errant logs node 
def parse color string css string tokens list tokenize grouped css string if len tokens 1 return parse color tokens 
def  Truncate Alert alert max bytes alert json escape json escape unicode alert ensure ascii False alert json alert json -1 ]if len alert json < max bytes return escape alert assert max bytes > len  ELLIPSIS BYTES 'max bytesmustbeatleast % len  ELLIPSIS BYTES max bytes - len  ELLIPSIS BYTES truncated alert json max bytes 'utf-8' errors 'ignore' while True try alert json u % truncated breakexcept Exception truncated truncated -1 ]return escape alert +  ELLIPSIS BYTES
def grab cpu scalar v nd if v is not None n v isinstance n Gpu Dim Shuffle Dim Shuffle and n order 'x' * nd return grab cpu scalar n n elif isinstance n Gpu From Host Host From Gpu return grab cpu scalar n nd else return Noneelif isinstance v Constant and v True * nd return v 
def find position string index leading string index return len leading len leading -1 ] + 1
def conll demo dg Dependency Graph conll data1 tree dg tree print dg print dg conll 4
def trie add values trie None terminus 0 if trie is None trie {}for value in values this triew len len value - 1 for i c in enumerate value try this this Key Error this {}this this i w len this valuereturn trie 
def Slash Slug Check slug return Slug Check slug allow '/'
def merge infos info1 info2 for key value in six info2 if key in info1 and key 'stats' if key 'stats.timers' info1 + valueelif key 'stats.gauges' info1 valueelse info1 + valueelse info1 value 
def encode images model IM images model ienc IM return images 
def module enabled module enable module module reload service 'apache2'
def read Segment G T gt File f open gt File 'rb' reader csv f delimiter ' ' seg Start [nd [abel []for row in reader if len row 3 seg Start float row seg End float row seg Label row return numpy seg Start numpy seg End seg Label 
def structure copy structure if hasattr structure 'copy' return structure return iter copy structure 
def get user return os 'REMOTE USER'
def lpol fiar d n 20 from scipy import gammalnj np n ar - np gammaln - d + j - gammaln j + 1 - gammaln - d ar 1return ar 
def parse hook payload request if request M E T A C O N T E N T TYPE'] 'application/json' return json request 'utf-8' else return json request P O S T 
def directly Provided By object provides getattr object '  provides  ' None if provides is None or isinstance provides Implements return  emptyreturn Declaration provides  bases  [ -1 ]
def  order totals context fields [u'shipping type u total u total u type u total vars {}if u in context for field in fields + [u'item total template vars getattr context field else template vars total context price if template vars total 0 template vars total 0template vars total 0template vars total 0else for field in fields template vars context field None template vars total template vars u total None if template vars u total None is not None template vars total + Decimal str template vars total if template vars u total None is not None template vars total - Decimal str template vars total if template vars u total None is not None template vars total + Decimal str template vars total return template vars 
def handle calendar deletes namespace id deleted calendar uids log db session deleted count 0for uid in deleted calendar uids local calendar db session Calendar .filter Calendar id namespace id Calendar uid .first if local calendar is not None  delete calendar db session local calendar deleted count + 1log.info 'deletedcalendars' deleted deleted count 
def parse file upload header dict post data import email email Messagefrom cgi import parse headerraw message '\r\n'.join [ '%s %s' % pair for pair in header dict ] raw message + '\r\n\r\n' + post data msg email from string raw message POST Multi Value Dict FILES Multi Value Dict for submessage in msg payload if submessage and isinstance submessage email Message Message name dict parse header submessage Content Disposition [1]if name dict key 'filename' assert type [] ! type submessage payload 'ested M I M Emessagesarenotsupported not name dict continuefilename name dict name dict '\\' + 1 ] I L E S name dict {'filename' filename 'content-type' submessage key 'ontent Type and submessage Content Type or None 'content' submessage payload } else P O S T name dict submessage payload return POST FILES
def getinfos spec function  GETINFOS F U N C T I O N S spec 'recontype' if type function is dict function function spec 'source' if function is None return {}if hasattr function '  call  ' return function spec 
def Uniform name left right return rv name Uniform Distribution left right 
def  drop sequences cr seq names names ' '.join seq names cr ' R O P S E Q U E N C E I F E X I S T S R E S T R I C T % names 
def gen with app *args **kwargs def generator func @wraps func def deco *args2 **kwargs2 app Test App *args **kwargs for item in func app *args2 **kwargs2 yield item app return decoreturn generator 
def run pydoc module name *args cmd [sys.executable pydoc  file   ''.join args module name subprocess Popen cmd stdout subprocess P I P E .stdout.read return output 
def binary str data return ''.join '\\x%02x' % byte for byte in bytearray data 
def urlencode query if isinstance query dict query query return u [u' '.join [escape k escape v ] for k v in query 
@receiver Signal Handler deleted def  listen for course delete sender course key **kwargs Course Overview id course key .delete from cms index import Course About Search Indexer Course About Search Indexer deleted items course key 
def mean absolute error y true y pred return tf mean tf y pred - y true 
def  api pause name output kwargs scheduler resume 0 Downloader return report output 
def get employees who are born today return frappe u personal email company email user id employee name DCTB DCTB fromtab Employeewhereday date of birth day % date s \n DCTB DCTB andmonth date of birth month % date s \n DCTB DCTB andstatus 'ctive {u'date' today } as dict True 
def parse search values from opts opts search values {}for key in 'id' 'region' 'zone' 'ip' 'port' 'replication ip 'replication port 'device' 'weight' 'meta' value getattr opts key None if value if key 'ip' or key 'replication ip value validate and normalize address value search values valuereturn search values 
def mock stdout or stderr if PY2 return String I O buf Bytes I O writer codecs 'utf 8' buf writer bufwriter lambda buf return writer 
def get library library name lib libraries library name None if not lib templatetags modules get templatetags modules tried modules []for module in templatetags modules taglib module u % module library name tried modules taglib module lib import library taglib module if lib libraries name libbreakif not lib raise Invalid Template Library u Templatelibrary tried % library name u '.join tried modules return lib 
def add To Zone Table point shape zone Index Float point / shape Interval shape Zone Table zone Index Float ] Noneshape Zone Table zone Index Float ] None 
def get attr info return {'distributed' {'default' cfg C O N F distributed 'ha' {'default' cfg C O N F ha 'ha vr id {'default' 0} 'availability zone hints {'default' '[]' 'transform to db az az list to string 'transform from db az az string to list 
def setscientific infos ''if   has numpy infos + 'hisisastandard Pythoninterpreterwithpreloadedtoolsforscientific Ittriestoimportthefollowingmodules \um Py multidimensionalarrays linearalgebra ... 'if   has scipy infos + 'ci Py signalandimageprocessinglibrary 'if   has matplotlib infos + "atplotlib 2 Dplottinglibrary \atplotlib M A T L A B Matplotlib #urnedon Matplotlib   has guiqwt infos + " U Igenerationforeasydataseteditinganddisplay Efficient2 Ddata #guiqwt'spyplot M A T L A B .ion #urnedonguiqwt   imports infos + '\n'infos + 'ithin Spyder thisinterpreteralsoprovides \n*specialcommands e %cd %pwd %clear \n-%ls Listfilesinthecurrentdirectory Changetodirectorydir Showcurrentdirectory Removevariablexfromnamespace import   builtin   as builtinsexcept Import Error import builtinstry from site import  Printerexcept Import Error from  sitebuiltins import  Printerbuiltins  Printer 'scientific' infos 
@csrf exempt page sync session handle error with jsondef device download data session zone session device zone devicezones list Device Zone objects zone zone device  in data devices [devicezone.device for devicezone in devicezones downloaded + len devices + len devicezones return Json Response {'devices' serialize devices + devicezones dest version session version ensure ascii False }
def action peek json body try decoded jsonutils body except Value Error msg _ ' S O N raise exception Malformed Request Body reason msg if len decoded ! 1 msg _ 'toomanybodykeys' raise exception Malformed Request Body reason msg return list decoded [0]
def maven deploy registry xml parent data p X M L Sub Element xml parent 'edeploy Publisher if 'id' in data X M L Sub Element p 'id' .text data 'url' in data X M L Sub Element p 'url' .text data X M L Sub Element p 'ersion .text str data 'unique-version' True .lower X M L Sub Element p 'f Unstable .text str data 'deploy-unstable' False .lower if 'release-env-var' in data X M L Sub Element p 'nv Var .text data 
def tree entries from data data ord zero ord '0' space ord ord '' len data len data i 0out list while i < len data mode 0while byte ord data ! space ord mode mode << 3 + byte ord data - ord zero i + 1i + 1ns iwhile byte ord data ! 0 i + 1name data i safe decode name i + 1sha data i + 20 ]i i + 20 out sha mode name return out 
def  make rowkey scan meter rts start None rts end None if not rts start rts start chr 127 end row '%s %s' % meter rts start start row '%s %s' % meter rts end return start row end row 
def Service Request opener host method request dict req  Make Request host '/service/%s' % method request dict return  Handle Response method opener req 
def make utf8 env global  CACHED E N Vif not  CACHED ENV lang re re '\\. [^@]* ' env os lang env 'LANG' DEFAULT LANG if lang re lang lang lang re '.UTF-8' lang else lang DEFAULT L A N Genv L A N G lang CACHED ENV envreturn  CACHED ENV
def move tables manager src manager tables check exists src manager tables TABLE TYPE for table in tables manager 'RENAMETABLE`% db s table s T O table s % dict db src manager db name table table 
def si Parse s regex FLOAT REGEX s as Unicode s m regex s if m is None raise Value Error 'annotparsenumber % s try sip m 'refix except Index Error sip ''try suf m 'suffix' except Index Error suf ''return m 'number' '' if sip is None else sip '' if suf is None else suf 
def peek seq iterator iter seq item next iterator return item itertools [item] iterator 
def decompress data results []while data decomp B Z2 Decompressor try res decomp data except O S Error if results breakelse raiseresults res if not decomp raise Value Error 'ompresseddataendedbeforetheend data decomp datareturn ''.join results 
def send mass mail datatuple fail silently False auth user None auth password None connection None connection connection or get connection username auth user password auth password fail silently fail silently messages [mail Message subject message sender recipient for subject message sender recipient in datatuple connection messages messages 
def  ad as ts expr return None if expr is None else bz expr **{TS FIELD NAME expr A D FIELD NAME]}
def set process title progname info None proctitle '[%s]' % progname proctitle '%s%s' % proctitle info if info else proctitle if  setproctitle  setproctitle proctitle return proctitle 
def test fit tpot obj T P O T Classifier random state 42 population size 1 generations 1 verbosity 0 tpot obj training features training classes assert isinstance tpot obj optimized pipeline creator Individual assert tpot obj gp generation 0 assert not tpot obj start datetime is None 
def make list unique sequence marker function None seen {}result []for item in sequence marker itemif marker function is not None marker marker function item if marker in seen continueseen Trueresult item return result 
def set Uniform Variables program Obj texture texw texh step gl Use Program program Obj location texture gl Get Uniform Location program Obj 'texture' if location texture ! -1 gl Uniform1i location texture texture location texw gl Get Uniform Location program Obj 'texw' if location texw ! -1 gl Uniform1f location texw texw location texh gl Get Uniform Location program Obj 'texh' if location texh ! -1 gl Uniform1f location texh texh location step gl Get Uniform Location program Obj 'step' if location step ! -1 gl Uniform1f location step step gl Use Program 0 check G L Error 
def fanout cast conf context topic msg check serialize msg method msg 'method' if not method returnargs msg 'args' {} version msg 'version' None namespace msg 'namespace' None for consumer in C O N S U M E R S topic [] try consumer context version method namespace args None except Exception pass 
def upcast *args t  upcast memo hash args if t is not None return tupcast np common type args [] for t in supported dtypes if np cast upcast t  upcast memo args ] treturn traise Type Error 'nosupportedconversionfortypes %r' % args 
def package in frozen package name frozen output pattern ' ?mi ^{pkg} |#egg {pkg under pkg re package name pkg under re package name '-' '_' return bool re pattern frozen output 
def make frac a denom a np a dtype float / sum a b [float v * denom for v in a np b dtype int err b / float denom - a inds np err [ denom - sum b ]b[inds] + 1denom int denom b b return tuple Fraction v denom for v in b 
def  clamp norm point pos return min 100 max -100 pos min 100 max -100 pos 
def  create file if needed filename if os filename return Falseelse open filename 'a+b' .close logger 'redentialfile filename return True 
def cosm A A  asarray square A if np A return 0.5 * expm 1j * A + expm -1j * A else return expm 1j * A .real
def validate cms config settings validate common config settings validate marketing site config settings 
def anonymous id from user id user id user User id user id return anonymous id for user user None 
def find prompt ssh conn ssh conn '\n' time 1 ssh conn '#' prompt ssh conn + ssh conn return prompt 
def create vlanids L O G _ 'create vlanids called session db session try vlanid session l2network models Vlan I D .one except exc Multiple Results Found passexcept exc No Result Found start int conf V L A N START end int conf V L A N END while start < end vlanid l2network models Vlan I D start session vlanid start + 1session.flush return 
def get Crafted Text file Name text '' lift Repository None return get Crafted Text From Text archive Text If Empty file Name text lift Repository 
def xor aa bb result bytearray for a b in zip bytearray aa bytearray bb result a ^ b return result 
def ask full inference proposition assumptions known facts cnf if not satisfiable And known facts cnf assumptions proposition return Falseif not satisfiable And known facts cnf assumptions Not proposition return Truereturn None 
def scheduler task site event handler now False frappe   name   .info u {event}'.format handler handler site site event event try if not now frappe site site frappe scheduler Truefrappe attr handler except Exception frappe traceback log handler u Method {event} Handler {handler}'.format event event handler handler frappe   name   .error traceback raiseelse frappe frappe   name   .info u {event}'.format handler handler site site event event 
def order filter a domain rank domain asarray domain size domain k in range len size if size % 2 ! 1 raise Value Error 'achdimensionofdomainargumentshouldhaveanoddnumberofelements return sigtools order filter N D a domain rank 
def simulate post app path **kwargs return simulate request app 'POST' path **kwargs
def unique name entry name path typecode entryif typecode in 'BINARY' 'DATA' name os name return name 
def get data name if name in editors return editors raw data return current container .raw data name 
def get search scores query choices ignore case True template '{}' valid only False sort False query query '' '' pattern get search regex query ignore case results []for choice in choices r re pattern choice if query and r result get search score query choice ignore case ignore case apply regex False template template elif query result choice choice NOT FOUND SCORE else result choice choice NO SCORE if valid only if result -1 ] ! NOT FOUND SCORE results result else results result if sort results sorted results key lambda row row -1 ] return results 
def  find aggregate cs aggregate return utils resource cs aggregate 
def  get valid pathstr pathstr if not isinstance pathstr str bytes pathstr to str pathstr pathstr pathstr os u pathstr re u {}? <>#!|"\';]' u pathstr pathstr pathstr u ' u return pathstr 
def test invalid list comprehension cant compile u genexprx ' cant compile u genexpr ' cant compile u list None ' cant compile u list '
def complete filename text list glob text + '*' for idx val in enumerate list if os val list val + os return list 
def ansible dict to boto3 tag list tags dict tags list []for k v in tags dict tags list {ey k 'alue v return tags list 
def get Loops Intersection By Pair import Radius loops First loops Last radius Side 0.01 * import Radius corners get Loops Lists Intersections [irst loops Last corners + get Inset Points By Inset Loops loops First True loops Last radius Side corners + get Inset Points By Inset Loops loops Last True loops First radius Side all Points corners ]oints + get Inset Points By Inset Loops get In Between Loops From Loops import Radius loops First True loops Last radius Side all Points + get Inset Points By Inset Loops get In Between Loops From Loops import Radius loops Last True loops First radius Side return trianglemesh Descending Area Loops all Points corners import Radius 
def validate S V Gfiles svg File Paths List validated Paths []for file Path in svg File Paths List file Name os file Path if file Name '.' continuedata read File file Path svg re S V Gelement data if not svg print 'WARNING Couldnotfind Skiping % file Path continuevalidated Paths file Path return validated Paths 
@deprecated 'hefunctionwishart logzisdeprecatedin0 def wishart logz v s dets n features z 0.0z + 0.5 * v * n features * np 2 z + 0.25 * n features * n features - 1 * np np z + 0.5 * v * np dets z + np gammaln 0.5 * v - np n features + 1 return z 
def bucket upload file self Filename Key Extra Args None Callback None Config None return self file Filename Filename Bucket self Key Key Extra Args Extra Args Callback Callback Config Config 
def namedtmp name rm True path os tmpdir name if rm try os path except O S Error I O Error passreturn path 
def toposort flatten data sort True result []for d in toposort data result sorted if sort else list d return result 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def map wmc request mapid template 'maps/wmc.xml' map obj  resolve map request mapid 'base.view resourcebase  PERMISSION MSG VIEW return render to response template Request Context request {'map' map obj 'siteurl' settings S I T E U R L content type 'text/xml'
def jenkins info from response project if project 'ueue False return Jenkins Results R U N N I N G {} if 'builds' not in project return Jenkins Results U N K N O W N {} if len project < 1 return Jenkins Results N O T R U N {} result jenkins result from api project return result properties to params project 
def  strong gens from distr strong gens distr if len strong gens distr 1 return strong gens distr ]else result strong gens distr gen in strong gens distr if gen not in result result gen return result 
def module is loaded module name module name module name '-' '_' return bool loaded module info module name 
def authentication method generator request auth if auth is None raise exception Validation Error attribute 'auth' target 'requestbody' if request 'REMOTE USER' method External Authentication Method elif 'token' in auth method Token Authentication Method elif 'redentials in auth method Local Authentication Method else raise exception Validation Error attribute 'auth' target 'requestbody' return method 
def get trace component for rule rule db trigger instance db trace component {}trace component {'id' str rule db 'ref' rule db by {}if trigger instance db caused by 'trigger instance by str trigger instance db trace component by caused byreturn trace component 
def from 2D to 1D constant if isinstance constant np return np constant [ 0]else return constant 
def sig2 method endpoint params provider aws api version timenow datetime timestamp timenow ' T H %M %SZ' access key id secret access key token creds provider params with headers params params with headers A W S Access Key Id access key idparams with headers Signature Version '2'params with headers Signature Method 'mac S H A256 with headers Timestamp '{0}'.format timestamp params with headers Version aws api versionkeys sorted params with headers values list list map params with headers keys querystring urlencode list zip keys values canonical '{0}\n{1}\n/\n{2}'.format method 'utf-8' endpoint 'utf-8' querystring 'utf-8' hashed hmac secret access key canonical hashlib sig binascii base64 hashed params with headers Signature sig if token ! '' params with headers Security Token tokenreturn params with headers 
def chown path owner execute 'chown' owner path run as root True 
def test cert thumbprint context  DEFAULT CONTEXT store  DEFAULT STORE untrusted root False dns name '' eku '' cmd list thumbprint thumbprint cert path 'ert \\{0}\\{1}\\{2}'.format context store thumbprint cmd "est Certificate Cert cert path  validate cert path name cert path if untrusted root cmd 'llow Untrusted Root if dns name cmd "ns Name dns name if eku cmd " K U eku cmd 'rror Action Silently Continue return ast eval  cmd run cmd str .join cmd 
def get column letter col idx if not 1 < col idx < 18278 msg 'olumnindexoutofbounds %s' % col idx raise Column String Index Exception msg ordinals []temp col idxwhile temp quotient remainder divmod temp 26 if remainder 0 quotient - 1remainder 26ordinals.append remainder + 64 temp quotientordinals return ''.join [chr ordinal for ordinal in ordinals 
def variable device device name if callable device var name tf variable scope .name + '/' + name var def tf Node Def name var name op 'ariable device device var def if device is None device ''return device 
def port allocator registry xml parent data pa X M L Sub Element xml parent 'org.jvnet.hudson.plugins.port  allocator Port Allocator ports X M L Sub Element pa 'ports' names data 'names' if not names logger logging Logger   name   logger 'port allocatornameisdeprecated useanameslistinstead names [data['name']]for name in names dpt X M L Sub Element ports 'org.jvnet.hudson.plugins.port  allocator Default Port Type X M L Sub Element dpt 'name' .text name 
def get sort func is float is argsort False key is float is argsort try return  sorts Key Error sort quicksort jit quicksort lt lt floats if is float else None is argsort is argsort func  sorts sort quicksortreturn func 
def  url val val obj serializer request **kwargs url Noneif isinstance val Link url val url obj request elif isinstance val basestring if getattr serializer 'field' None serializer serializer getattr serializer val obj if obj is not None else None else url valif not url and url ! 0 raise Skip Fieldelse return url 
def agent build destroy context agent update id I M P L build destroy context agent update id 
def is self paced course return course and course paced and Self Paced Configuration .enabled
@on valid 'file/dynamic' def file data response **kwargs if hasattr data 'read' name data getattr data 'name' '' data elif os data name data data open data 'rb' else response type 'text/plain'response.status HTTP NOT F O U N Dreturn 'ilenotfound type mimetypes type name None [0] or 'application/octet-stream' return data 
def dup decompose f K F []while True result  dup decompose f K if result is not None f h result F [h] + F else breakreturn [f] + F
def Query Followed device logger callback def  On Response response response dict www util Parse J S O N Response response viewpoints response dict 'viewpoints' if len viewpoints < 1 logger 'query followedreturned0viewpoints shouldalwaysreturnatleastone else logger 'uery Followedscenariopassed callback device Send Request 'service/query followed  On Response 'POST' limit 5 headers {'version' message M A X SUPPORTED MESSAGE VERSION}
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  bessel poly n reverse False if abs int n ! n raise Value Error 'olynomialordermustbeanonnegativeinteger else n int n out []for k in range n + 1 num  falling factorial 2 * n - k n den 2 ** n - k * factorial k exact True out num // den if reverse return out -1 ]else return out 
def check password password encoded setter None preferred u if not password or not is password usable encoded return Falsepreferred get hasher preferred hasher identify hasher encoded must update hasher ! preferred is correct hasher password encoded if setter and is correct and must update setter password return is correct 
def result extractor train obj import numpychannels train obj cost channels cost Exhaustive S G D X ']best epoch numpy train cost record best rec error train cost record epoch num train cost record epoch dict best epoch best epoch train rec error best rec error batch num batch num 
def  mapper or none entity insp inspection entity False if insp is not None return insp return None 
def test iforest error X iris raises Value Error Isolation Forest max samples -1 .fit X assert raises Value Error Isolation Forest max samples 0.0 .fit X assert raises Value Error Isolation Forest max samples 2.0 .fit X assert warns message User Warning 'max sampleswillbesetton samplesforestimation Isolation Forest max samples 1000 .fit X assert no warnings Isolation Forest max samples 'auto' .fit X assert no warnings Isolation Forest max samples np 2 .fit X assert raises Value Error Isolation Forest max samples 'foobar' .fit X assert raises Value Error Isolation Forest max samples 1.5 .fit X
def spearman correlation ranks1 ranks2 n 0res 0for k d in  rank dists ranks1 ranks2 res + d * d n + 1try return 1 - 6 * res / n * n * n - 1 except Zero Division Error return 0.0
def submit request if not request authenticated return proceed request user User Profile pk request if not user dev agreement return redirect 'submit.app.terms' return manifest request 
def create multiple choice xml correct choice 2 num choices 4 choices [alse for _ in range num choices ]choices[correct choice Truechoice names ['choice {}'.format index for index in range num choices ]question text 'hecorrectansweris Choice correct choice return Multiple Choice Response X M L Factory .build xml question text question text choices choices choice names choice names 
def validate archive keys info keys ['snapshotfile' 'framework' 'name']for key in keys if key not in info return False key return True 0
def error response status 400 cause None **kw if cause is not None current app str cause kw statusreturn errors response status [error **kw ]
def load testsuite loader dir suite unittest Test Suite files []for f in os dir path join dir f if isfile path and fnmatch f 'test *.py' files f elif isfile join path '  init  .py' suite Tests loader path for f in files f relpath join dir f loader top level dir f splitext normpath f os '.' [ests loader Tests From Name f return suite 
def file upload view request form data request P O S T form data request F I L E S if isinstance form data u field Uploaded File and isinstance form data six type if os form data field ! u return Http Response Server Error return Http Response u else return Http Response Server Error 
def confidence Interval Size stdev nbsamples return 2 * 1.98 * stdev / sqrt nbsamples 
def split32 data all pieces []for position in range 0 len data 32 piece data position + 32 ]all pieces piece return all pieces 
def Fake Access path mode if not os path or mode ! os R OK return Falseelse return True 
def get models app mod None app list get apps if app mod return  app models app mod  name  .split '.' [ -2 ] {} .values else model list []for app mod in app list model list get models app mod return model list 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def get Pixmap name key name + '.png' data pixmap Data Data isinstance data basestring or isinstance data bytes pixmap Data Data pickle data arr pixmap Data Data Qt Gui Q Pixmap make Q Image arr alpha True 
def lookup connections backend identities if isinstance backend string types backend _ Backend or create name backend connections []for identity in identities connection _ backend set or create identity identity connections connection return connections 
def onearg x return 2 * x 
def get console screen buffer info fd 1 hcon S T D H A N D L E S CONSOLE SCREEN BUFFER INFO Get Console Screen Buffer Info hcon byref csbi return csbi 
def  byte string s return s 'US-ASCII'
def validate row app id row zookeeper db access row key row [0]entity row [0]if APP ENTITY SCHEMA[1] not in entity return rowrow txn long entity A P P ENTITY SCHEMA[1]] valid txn zookeeper valid transaction id app id row txn row key if row txn valid txn return rowif valid txn 0 return Nonepadded version str valid txn .zfill ID KEY LENGTH journal key dbconstants K E Y D E L I M I T E R [row key padded version journal results db access get entity dbconstants J O U R N A L TABLE [journal key dbconstants J O U R N A L SCHEMA journal row journal results key dbconstants J O U R N A L SCHEMA[0] not in journal row return Nonevalid entity journal row J O U R N A L S C H E M A {row key {APP ENTITY SCHEMA[0] valid entity APP ENTITY SCHEMA[1] str valid txn }}
def dict to keyval value key base None val iter key func None None if isinstance value dict val iter six value key func lambda k key base + '.' + k if key base else k elif isinstance value tuple list val iter enumerate value key func lambda k key base + '[%d]' % k if val iter for k v in val iter key gen key func k if isinstance v dict or isinstance v tuple list for key gen v in dict to keyval v key gen yield key gen v else yield key gen v 
def test solve discrete lyapunov B A np 2 2 * 0.5 B np [[0.5 -0.5 ] [ -0.5 0.5]] X qme discrete lyapunov A B assert allclose B X
def set item user text item text item Data 0 Qt User Role to qvariant text 
def get repo latest revision hash repo path try exit code stdout _ run command cmd ['git' 'rev-parse' 'HEAD'] cwd repo path except Exception revision hash 'unknown'else if exit code 0 revision hash stdout else revision hash 'unknown'return revision hash 
@bdd.then bdd '{path}shouldbeloaded' def path should be loaded quteproc path quteproc for load finished path 
def handle merge translation request next unit url if not can translate request translation messages request _ u Youdon returnmergeform Merge Form translation request G E T if not mergeform valid messages request _ u Invalidmergerequest returnunit mergeform data Unit pk mergeform data if unit ! merged messages request _ u Cannotmergedifferentmessages else unit merged merged unit backend request if saved request + 1request.user.profile.save return Http Response Redirect next unit url 
def get md5 *args **kwargs if MD5 AVAILABLE return hashlib *args **kwargs else raise M D5 Unavailable Error 
def  compare keys key record1 key record2 return cmp key record1 key record2 
def all editable exts exts []for language extensions in sourcecode A L L L A N G U A G E S exts list extensions return [ '.' + ext for ext in exts 
def build dev from opts opts for attribute shortopt longopt in ['region' '-r' '--region'] ['zone' '-z' '--zone'] ['ip' '-i' '--ip'] ['port' '-p' '--port'] ['device' '-d' '--device'] ['weight' '-w' '--weight'] if getattr opts attribute None is None raise Value Error 'equiredargument % shortopt longopt ip validate and normalize address opts replication ip validate and normalize address opts ip or opts replication port opts port or opts if not validate device name opts raise Value Error 'nvaliddevicename return {'region' opts 'zone' opts 'ip' ip 'port' opts 'device' opts 'meta' opts 'replication ip replication ip 'replication port replication port 'weight' opts 
def get build id offsets return {'i386' [372] 'arm' [372] 'thumb' [372] 'aarch64' [568] 'amd64' [624 372] 'powerpc' [372] 'powerpc64' [568] 'sparc' [372] 'sparc64' [624]}.get context []
def Distribution pos size counts dtype x numpy size dtype dtype if hasattr pos '  iter  ' total 0for i in pos total + counts float total for i in pos x counts / total else x 1return x 
def collection creation options return CREATION ONLY OPTION
def check threshold birch instance threshold current leaf birch instance leaf .next leaf while current leaf subclusters current leaf for sc in subclusters assert greater equal threshold sc current leaf current leaf leaf 
def construct **kwargs point x kwargs 'point x None point y kwargs 'point y None if 'point' in kwargs raise Type Error 'nknownkeyword point if None not in point x point y kwargs Ecc Point point x point y eq1 pow Integer point y 2  curve x Integer point x eq2 pow x 3  curve x * -3 eq2 + xeq2 +  curve %  curve eq1 ! eq2 raise Value Error 'hepointisnotonthecurve d kwargs 'd' None if d is not None and 'point' in kwargs pub key  curve G * d if pub key ! point x or pub key ! point y raise Value Error 'rivateandpublic E C Ckeysdonotmatch return Ecc Key **kwargs
def choice argument values try value argument .strip except Attribute Error raise Value Error 'mustsupplyanargument;choosefrom%s' % format values values if value in values return valueelse raise Value Error '"%s"unknown;choosefrom%s' % argument format values values 
def v str v tuple return '.'.join str x for x in v tuple 
def find notifier obj name prop meta find meta property obj name if not prop meta Notify Signal raise Type Error '%sdoesnothaveanotifiersignal.' % name notifier prop meta Signal if QT VERSION < 327680 name notifier .split ' ' [0]else name bytes notifier Signature .decode 'utf-8' .split ' ' [0]return name 
def io Type file Ish Object default unicode if isinstance file Ish Object Text I O Base return unicodeif isinstance file Ish Object I O Base return bytesencoding getattr file Ish Object 'encoding' None import codecsif isinstance file Ish Object codecs Stream Reader codecs Stream Writer if encoding return unicodeelse return bytesif not  PY3 if isinstance file Ish Object file if encoding is not None return basestringelse return bytesfrom c String I O import Input Type Output Typefrom String I O import String I Oif isinstance file Ish Object String I O Input Type Output Type return bytesreturn default 
def get Overhang Direction below Outset Loops segment Begin segment End segment segment End - segment Begin normalized Segment euclidean Normalized complex segment segment segment Y Mirror complex normalized Segment - normalized Segment segment Begin segment Y Mirror * segment Begin segment End segment Y Mirror * segment End solid X Intersection List []y segment Begin X Intersection List euclidean X Intersection Index -1.0 segment Begin solid X Intersection List euclidean X Intersection Index -1.0 segment End for below Loop Index in xrange len below Outset Loops below Loop below Outset Loops Loop Index Outset euclidean Rotated Complexes segment Y Mirror below Loop euclidean X Intersection Indexes From Loop Y rotated Outset below Loop Index solid X Intersection List y overhanging Segments euclidean Segments From X Intersection Indexes solid X Intersection List y overhang Direction complex for overhanging Segment in overhanging Segments overhang Direction + get Doubled Round Z overhanging Segment normalized Segment return overhang Direction 
def get Top Over Bottom angle end Z inradius Complex start Z return max 1.0 - abs end Z - start Z * math angle / lineation Radius Average inradius Complex 0.0
def in travis return os IN TRAVIS ENV 'true'
def get tm session session factory transaction manager dbsession session factory zope dbsession transaction manager transaction manager return dbsession 
def guess digit image avgs darkness sum image distances {k abs v - darkness for k v in avgs }return min distances key distances 
def  distribute gens by base base gens base len len base degree gens [[] for _ in range base len ]max stab index 0for gen in gens j 0while j < base len - 1 and gen array form base j + 1if j > max stab index max stab index jfor k in range j + 1 stabs gen for i in range max stab index + 1 base len stabs  af new list range degree return stabs 
def get cached row klass row index start max depth 0 cur depth 0 if max depth and cur depth > max depth return Noneindex end index start + len klass meta obj klass *row[index start index end for f in klass meta if f and not f cached row get cached row f row index end max depth cur depth + 1 if cached row rel obj index end cached rowsetattr obj f cache name rel obj return obj index end 
def remove credential tenant id credential id session db session try cred session l2network models Credential .filter by tenant id tenant id .filter by credential id credential id .one session cred session return credexcept exc No Result Found pass 
def Pack Blob name value pbvalue pbvalue stringvalue value 
def setup config test control address u control port 1234 name None log config None if name is None name random name test ca set get credential sets [0]scratch directory test temporary directory contents {u'control-service' {u'hostname' control address u control port u {u'backend' u u name u root scratch directory 'mount root .path u config path scratch directory 'volume config .path} u 1}if log config is not None contents log configtest scratch directory 'dataset-config.yml' test Content yaml dump contents ca set to scratch directory node True test set ca set 
def  setup appengine sdk session session G A E SDK PATH'] os  GAE ROOT 'google appengine session 'gcprepotools' 'download-appengine-sdk'  GAE ROOT
def apphook post delete page checker instance **kwargs if instance urls request finished trigger restart dispatch uid DISPATCH UID
def supports selection return Q Application .election 
def dict option s return Dict Value Component s 
def test tricky confparse cp data confparse Conf Parse file os os   file   'test data 'sample conf assert equal 'leep Job cp data 
def expm frechet A E method None compute expm True check finite True if check finite A np chkfinite A E np chkfinite E else A np A E np E if A ! 2 or A ! A raise Value Error 'tobeasquarematrix if E ! 2 or E ! E raise Value Error 'tobeasquarematrix if A ! E raise Value Error 'and Etobethesameshape if method is None method ' P S method 'SPS' expm A expm frechet AE expm frechet algo 64 A E elif method 'nlarge expm A expm frechet AE expm frechet block enlarge A E else raise Value Error 'nknownimplementation % method if compute expm return expm A expm frechet AE else return expm frechet AE
@jingo.register.functiondef showing query pager format opts pager index pager index pager query escape query if query showing _ u Showing .format * format opts + query else showing _ u Showing .format *format opts return jinja2 Markup showing 
def get inputfuncs session *args **kwargs inputfuncsdict dict key func  doc   for key func in session inputfuncs .iteritems session get inputfuncs inputfuncsdict 
def init mpstate return Cmdlong Module mpstate 
def clues pay text text text for clue in 'credits' 'paym' 'expired' if clue in text return Truereturn False 
def Data Chunker receiver x  Data Chunker receiver x return x 
def edf normal inverse transformed x alpha 3.0 / 8 beta 3.0 / 8 axis 0 from scipy import statsranks plotting positions data alpha alpha beta alpha axis 0 masknan False ranks transf stats ranks return ranks transf 
def change keys recs key 'uuid' filter func None new recs {}for ref rec in recs if filter func is not None and not filter func rec continuenew recs recnew recs refreturn new recs 
def string to datetime model fieldname value if value is None return valuefield type get field type model fieldname if isinstance field type Date Time Date Time if value '' return Noneif value in CURRENT TIME MARKERS return getattr func value value as datetime parse datetime value if isinstance field type Date return value as datetime if isinstance field type Time return value as datetime return value as datetimeif isinstance field type Interval and isinstance value int return datetime seconds value return value 
def  format final exc line etype value valuestr  some str value if value is None or not valuestr line '%s\n' % etype else line '%s %s\n' % etype valuestr return line 
def downtime steps data gb downtime C O N F migration downtimesteps C O N F migration downtime stepsdelay C O N F migration downtime delaydowntime min nova L I V E MIGRATION DOWNTIME M I Nsteps min nova L I V E MIGRATION DOWNTIME STEPS M I Ndelay min nova L I V E MIGRATION DOWNTIME DELAY M I Nif downtime < downtime min L O G  LW "onfigoptionlive migration downtime roundeduptotheminimumvalueandwillraise Value Errorinthefuturerelease downtime min downtime downtime minif steps < steps min L O G  LW "onfigoptionlive migration downtime steps roundeduptotheminimumvalueandwillraise Value Errorinthefuturerelease steps min steps steps minif delay < delay min L O G  LW "onfigoptionlive migration downtime delay roundeduptotheminimumvalueandwillraise Value Errorinthefuturerelease delay min delay delay mindelay int delay * data gb offset downtime / float steps + 1 base downtime - offset ** 1 / float steps for i in range steps + 1 yield int delay * i int offset + base ** i 
@app.route '/hidden-basic-auth/<user>/<passwd>' def hidden basic auth user 'user' passwd 'passwd' if not check basic auth user passwd return status code 404 return jsonify authenticated True user user 
def task enable root logins distribution commands [sudo from args ['sed' '-i' 'ermit Root Loginyes '/etc/ssh/sshd config ]if is systemd distribution distribution commands sudo from args ['systemctl' 'restart' 'sshd'] else commands sudo from args ['service' 'ssh' 'restart'] return sequence commands 
def find master dns session parsed globals cluster id client get client session parsed globals data client cluster Cluster Id cluster id return data Cluster Master Public Dns Name 
@validatordef truthy value return value and not isinstance value six types or value 
def  get default profile image urls return  get profile image urls configuration helpers value 'PROFILE IMAGE DEFAULT FILENAME' settings P R O F I L E IMAGE DEFAULT FILENAME staticfiles storage file extension settings P R O F I L E IMAGE DEFAULT FILE EXTENSION
@mock streams 'stderr' @with patched object output 'aborts' True def test abort message try abort 'est except System Exit passresult sys eq  'atalerror Test Aborting result 
def floyd warshall numpy G nodelist None weight 'weight' try import numpy as npexcept Import Error raise Import Error 'to numpy matrix requiresnumpy http //scipy.org/' A nx numpy matrix G nodelist nodelist multigraph weight min weight weight nonedge np n m A I np n A[ I 1 ] 0for i in range n A np A A ] + A[ i return A
def get user headers user credentials '%s secret % user authorization 'asic encode64 credentials return {uthorization authorization 
def show toolbar request if request M E T A u R E M O T E ADDR' None not in settings I N T E R N A L IPS return Falseif request ajax return Falsereturn bool settings D E B U G 
def get top state rule answers multi exploration state list rule str list answer log list stats domain State Rule Answer Log multi by multi explorations exploration state list rule str list return [[{'value' top answer 'count' top answer for top answer in answer log all top answers ] for answer log in answer log list 
def test ast bad except cant compile u except1 ' cant compile u try1 except1 ' cant compile u try1 except ' cant compile u try1 except Foo Bar Bar Bar '
def add lease mac ip address api network rpcapi Network A P I api fixed ip context admin context ip address C O N F 
def elu x alpha 1.0 res tf x if alpha 1 return reselse return tf x > 0 res alpha * res 
def  has catalog visibility course visibility type return ACCESS GRANTED if course visibility visibility type else ACCESS DENIED
def  process caps caps return [x.strip .split for x in caps .split '\n' ]
@open file 0 mode 'rb' def read adjlist path comments '#' delimiter None create using None nodetype None encoding 'utf-8' lines line encoding for line in path return parse adjlist lines comments comments delimiter delimiter create using create using nodetype nodetype 
def getall return  load .copy
def date value arg None from django import formatif not value return ''if arg is None arg settings D A T E F O R M A Treturn format value arg 
def list backends return  ACTIVE BACKENDS
def  should set tablename bases d if '  tablename  ' in d or '  table  ' in d or '  abstract  ' in d return Falseif any v key for v in itervalues d if isinstance v sqlalchemy Column return Truefor base in bases if hasattr base '  tablename  ' or hasattr base '  table  ' return Falsefor name in dir base attr getattr base name if isinstance attr sqlalchemy Column and attr key return True 
def  time from iso8601 time naive value return datetime value '%H %M %S' .time
def normalize keystr keystr keystr keystr replacements 'control' 'ctrl' 'windows' 'meta' 'mod1' 'alt' 'mod4' 'meta' for orig repl in replacements keystr keystr orig repl for mod in ['ctrl' 'meta' 'alt' 'shift'] keystr keystr mod + '-' mod + '+' return keystr 
def collapse cell addresses cells input ranges keyfunc lambda x x raw coords [coordinate from string cell for cell in cells coords Ordered Dict k [c[1] for c in g for k g in groupby sorted raw coords key keyfunc keyfunc ranges list input ranges for column in grouped coords rows sorted grouped coords grouped rows [[r[1] for r in list g ] for k g in groupby enumerate rows lambda x x - x ]for rows in grouped rows if len rows 0 passelif len rows 1 ranges '%s%d' % column rows else ranges '%s%d %s%d' % column rows column rows -1 ] return ''.join ranges 
def parse port range list range list str log 'parse key value list isdeprecatedandwillberemovedinv0 return  parse port range list range list str 
def add available prefixes parent prefix list available prefixes netaddr I P Set parent ^ netaddr I P Set [p.prefix for p in prefix list available prefixes [refix prefix p for p in available prefixes cidrs ]prefix list list prefix list + available prefixes prefix list key lambda p p return prefix list 
def get language code language code site id None if not language code return Nonelanguages get language list site id if language code in languages return language codefor lang in languages if language code '-' [0] lang return langif lang '-' [0] language code return langreturn language code 
def get linode kwargs None call None if call 'action' raise Salt Cloud System Exit 'heget linodefunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None linode id kwargs 'linode id None if name is None and linode id is None raise Salt Cloud System Exit "heget linodefunctionrequireseithera id if linode id is None linode id get linode id from name name result  query 'linode' 'list' args {inode I D linode id return result D A T A 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get jid jid ret {}for returner  in   opts  [CONFIG KEY] ret  mminion .returners['{0}.get jid returner  ] jid return ret 
def ssh agent credentials registry xml parent data logger logging Logger   name   entry xml X M L Sub Element xml parent ' S H Agent Build Wrapper xml key 'user'user list list if 'users' in data user list + data len user list > 1 entry xml X M L Sub Element entry xml 'ds xml key 'string'if 'user' in data logger "oth 'user'isignored." elif 'user' in data logger "he usethe user list data else raise Jenkins Jobs Exception "issing for user in user list X M L Sub Element entry xml xml key .text user 
def convert to bytes string factors {'K' 1024 'M' 1024 * 1024 'G' 1024 * 1024 * 1024 'T' 1024 * 1024 * 1024 * 1024 'P' 1024 * 1024 * 1024 * 1024 * 1024 'E' 1024 * 1024 * 1024 * 1024 * 1024 * 1024 }for f fm in factors if string f number float string -1 ] number number * fm return long number return long string 
@depends 'cx Oracle fallback function  cx oracle req def client version return '.'.join str x for x in cx Oracle 
def  as float array x check finite False x np x if not np x np x x float if check finite and not np x .all raise Value Error 'rraymustnotcontaininfsornans return x 
def disable animations page disable jquery animations page disable css animations page 
def Pack Tag field number wire type if not 0 < wire type <  WIRETYPE MAX raise message Encode Error 'nknownwiretype %d' % wire type return field number << TAG TYPE BITS | wire type 
def dimensionless angles return [ si None ]
def privileges get cursor user host output {}cursor.execute ' H O W G R A N T S F O R user host grants cursor def pick x if x 'ALLPRIVILEGES' return ' L L return xfor grant in grants res re "GRANT .+ ON .+ TO'.*'@'.+' IDENTIFIEDBYPASSWORD'.+' ?? .* " grant if res is None raise Invalid Privs Error 'y S Q Lgrantstring %s' % grant privileges res 1 .split ' ' privileges [pick x for x in privileges 'WITHGRANTOPTION' in res 4 privileges 'GRANT' if 'REQUIRESSL' in res 4 privileges 'REQUIRESSL' db res 2 output privilegesreturn output 
def FIRST fragment return fragment 
def  svn revision filename p subprocess Popen [u'svn' u u filename stdout subprocess P I P E stderr subprocess P I P E stdout stderr p if p ! 0 or stderr or not stdout raise Value Error u Errordeterminingsvn revisionfor %s' % os filename [1] textwrap stderr return stdout [2]
def  json convert obj json options DEFAULT JSON OPTIONS if hasattr obj 'iteritems' or hasattr obj 'items' return SON k  json convert v json options for k v in iteritems obj elif hasattr obj '  iter  ' and not isinstance obj text type bytes return list  json convert v json options for v in obj try return default obj json options except Type Error return obj 
def p abstract declarator 1 t pass 
def triang M sym True if  len guards M return np M M needs trunc  extend M sym n np 1 M + 1 // 2 + 1 if M % 2 0 w 2 * n - 1.0 / M w np [ w w -1 ] ]else w 2 * n / M + 1.0 w np [ w w -2 -1 ] ]return  truncate w needs trunc 
def get ranges headervalue content length if not headervalue return Noneresult [] bytesunit byteranges headervalue ' ' 1 for brange in byteranges ' ' start stop [x.strip for x in brange '-' 1 ]if start if not stop stop content length - 1 start stop int start int stop if start > content length continueif stop < start return Noneresult start stop + 1 else if not stop return Noneif int stop > content length result 0 content length else result content length - int stop content length return result 
def vcpus realtime topology flavor image mask  get realtime mask flavor image if not mask raise exception Realtime Mask Not Found Or Invalid vcpus rt parse cpu spec '0-%d %s' % flavor - 1 mask if len vcpus rt < 1 raise exception Realtime Mask Not Found Or Invalid return vcpus rt 
def maven target registry xml parent data maven X M L Sub Element xml parent 'aven X M L Sub Element maven 'targets' .text data string '\n'.join data 'properties' [] X M L Sub Element maven 'properties' .text prop stringif 'maven-version' in data X M L Sub Element maven 'ame .text str data if 'pom' in data X M L Sub Element maven 'pom' .text str data use private str data 'private-repository' False .lower X M L Sub Element maven 'rivate Repository .text use privateif 'java-opts' in data javaoptions ''.join data 'java-opts' [] X M L Sub Element maven 'ptions .text javaoptionsconfig file provider settings maven data 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def fix broken encoding value if isinstance value six type value value 'utf8' errors 'replace' if isinstance value six type value value 'utf8' errors 'replace' return value 
def MINUS DM bar Ds count timeperiod - 2 ** 31 return call talib with hl bar Ds count talib M I N U S DM timeperiod 
def sort fields elem field orders order dicts dict for field order in field orders order dicts order key dict for i subfield in enumerate order order key i sort fields elem order dicts 
def convert X M L Element geometry Output xml Element xml Element X M L Processor .hildren geometry Output xml Element 
def diff test i syms i symbolsfor s in syms assert i s .doit - i .diff s .expand 0 return syms 
def  estimate gaussian covariances spherical resp X nk means reg covar return  estimate gaussian covariances diag resp X nk means reg covar .mean 1
def test install from wheel gui entrypoint script data result script 'install' 'script.wheel3 0.1' '--no-index' '--find-links ' + data links expect error False if os 'nt' wrapper file script / 't1.exe' else wrapper file script / 't1' assert wrapper file in result created 
def get mapnik Map mapfile mmap mapnik Map 0 0 if exists mapfile mapnik map mmap str mapfile else handle filename mkstemp os handle urlopen mapfile .read os handle mapnik map mmap filename os filename return mmap 
def verify numerically f g z None tol 1e-06 a 2 b -1 c 3 d 1 f g z Tuple f g z z [z] if isinstance z Symbol else f symbols | g symbols reps list zip z [random complex number a b c d for zi in z z1 f reps .n z2 g reps .n return comp z1 z2 tol 
def  normalize Options input Options types  {}for group in opt Dict types .update opt Dict for key in input Options if key in types  value input Options value is None continuetype  types [key]if type  and isinstance type  tuple type  type [0]if type  OPTION TYPE.BOOLEAN try value bool value except Type Error Value Error value Falseelif type  OPTION TYPE.INTEGER try value int value except Type Error Value Error value 0elif type  OPTION TYPE.FLOAT try value float value except Type Error Value Error value 0ptions value 
def convert Date Time Property model prop kwargs if prop now or prop now add return Nonereturn f Date Time Field format ' H %M %S' **kwargs
def Get All Client Labels token include catchall False labels index aff4 F A C T O R Y Create standard Label Set C L I E N T LABELS URN standard Label Set mode 'r' token token labels set labels index List Labels if include catchall labels ALL CLIENTS LABEL return labels 
def get system path  bpath []try import win32apisys dir win32api Get System Directory except Import Error sys dir os os get windows dir 'system32'  bpath [sys dir get windows dir ] bpath compat 'PATH' '' .split os return  bpath 
def is markdown file path ext os path [1].lower return ext in [u'.markdown' u u u u 
def  process path prefix path prefix  validate path path prefix if not  GCS PATH PREFIX R E G E X path prefix raise Value Error 'athprefixshouldhaveformat /bucket/ or % path prefix bucket name end path prefix '/' 1 bucket path prefixprefix Noneif bucket name end ! -1 bucket path prefix bucket name end path prefix bucket name end + 1 ] or None return bucket prefix 
def test install option in requirements file script data virtualenv script path 'home1' .mkdir script path 'home2' .mkdir script path 'reqs.txt' .write textwrap "simple--install-option '--home %s'" % script path 'home1' result script 'install' '--no-index' '-f' data links '-r' script path / 'reqs.txt' '--install-option --home %s' % script path 'home2' expect stderr True package dir script / 'home1' / 'lib' / 'python' / 'simple' assert package dir in result created 
def binary dilation input structure None iterations 1 mask None output None border value 0 origin 0 brute force False input numpy input if structure is None structure generate binary structure input 1 origin  ni support normalize sequence origin input structure numpy structure structure structure [slice None None -1 ] * structure ]for ii in range len origin origin - origin if not structure & 1 origin - 1return  binary erosion input structure iterations mask output border value origin 1 brute force 
def  format opts opts if opts is None return []elif isinstance opts list new opts []for item in opts if isinstance item six types new opts item else new opts str item return new optselif not isinstance opts six types opts [str opts ]else opts salt split opts try if opts -1 ] '--' return opts -1 ]except Index Error passreturn opts 
@monkeypatch method pdb Pdb 'db def user return self frame return value if self wait for mainpyfile if self ! self frame code filename or frame lineno < 0 returnself wait for mainpyfile 0self. old Pdb user return frame return value 
def reset no Gamma True OK init if no Gamma and OK set Video Mode NOGAMMACORRECT
def sigma exp p q q1 q q C exp - delta p q1 - delta p q2 - V p - max V q1 V q2 
def message title T 'ccount Registered Please Check Your Email message T '% system name shassentanemailto email stoverifyyouremailaddress Pleasecheckyouremailtoverifythisaddress Ifyoudonotreceivethisemailpleasecheckyoujunkemailorspamfilters % {'system name settings system name 'email' request image 'email icon dict title title message message image src '/%s/static/img/%s' % appname image 
def  yum contextkey 'yum bin contextkey not in   context   if 'fedora' in   grains  ['os'].lower and int   grains  ['osrelease'] > 22   context  [contextkey] 'dnf'else   context  [contextkey] 'yum'return   context  [contextkey]
def  insert axis in strides context builder orig strides ndim axis assert len orig strides ndim - 1 ll shty ir Array Type cgutils t ndim strides cgutils once builder ll shty one cgutils t 1 zero cgutils t 0 for dim in range ndim - 1 ll dim cgutils t dim after axis builder signed '> ' ll dim axis idx builder after axis builder ll dim one ll dim builder orig strides cgutils inbounds builder strides 0 idx builder zero cgutils inbounds builder strides 0 axis return cgutils tuple builder builder strides 
def direct get container node part account container marker None limit None prefix None delimiter None conn timeout 5 response timeout 15 end marker None reverse None path '/%s/%s' % account container return  get direct account container path 'ontainer node part marker marker limit limit prefix prefix delimiter delimiter end marker end marker reverse reverse conn timeout conn timeout response timeout response timeout 
def get pack metadata pack dir manifest path os pack dir MANIFEST FILE NAME if not os manifest path raise Value Error 'ack % pack dir MANIFEST FILE NAME meta loader Meta Loader content meta loader manifest path if not content raise Value Error 'ack % pack dir return content 
def bucketcat series cats if not isinstance series Series series Series series index np len series cats np cats unique labels np cats unique labels unique labels unique labels ]data {}for label in unique labels data series cats label ]return Data Frame data columns unique labels 
def  screenshot viewport None alpha True return read pixels viewport alpha 
def iterator content items by youtube id ids None channel 'khan' language 'en' **kwargs if ids items Item .where Item id  ids .dicts .iterator else items Item .dicts .iterator mapped items itertools unparse model data items updated mapped items update content availability mapped items channel channel language language for path update in updated mapped items yield path update 
def create thriftpy context server side False ciphers None if MODERN SSL if server side context ssl default context ssl Purpose C L I E N T AUTH else context ssl default context ssl Purpose S E R V E R AUTH if ciphers context ciphers ciphers else context S S L Context ssl P R O T O C O L S S Lv23 context | OP NO S S Lv2context | OP NO S S Lv3context | OP NO C O M P R E S S I O Nif server side context | OP CIPHER SERVER P R E F E R E N C Econtext | OP SINGLE DH U S Econtext | OP SINGLE ECDH U S Eelse context mode ssl C E R T R E Q U I R E Dwarnings 'sslcheckhostnamesupportdisabled upgradeyourpython Insecure Platform Warning if getattr context 'supports set ciphers True if ciphers context ciphers ciphers else warnings 'sslcipherssupportdisabled upgradeyourpython Insecure Platform Warning return context 
def is reducible circuit nqubits begin end current circuit for ndx in reversed range begin end next gate circuit circuit next gate + current circuit if is scalar matrix current circuit nqubits False return Truereturn False 
def asyn lpa communities G weight None labels {n i for i n in enumerate G }cont Truewhile cont cont Falsenodes list G random nodes for node in nodes if len G < 1 continuelabel freq Counter for v in G label freq {labels[v] G if weight else 1 } max freq max label freq best labels [label for label freq in label freq if freq max freq ]new label random best labels labels new labelcont cont or len best labels > 1 return iter groups labels .values
@register.tag 'timezone' def timezone tag parser token bits token contents if len bits ! 2 raise Template Syntax Error "'%s'takesoneargument timezone " % bits tz parser filter bits nodelist parser 'endtimezone' parser first token return Timezone Node nodelist tz 
def  htmlentity transform entity with semicolon entity entity with semicolon -1 ]if entity in compat html entities return compat chr compat html entities if entity with semicolon in compat html entities html5 return compat html entities html5 with semicolon re u x A F ' entity if mobj is not None numstr mobj 1 if numstr u base 16numstr u % numstr else base 10try return compat chr int numstr base except Value Error passreturn u % entity 
def get config drive type if C O N F drive format 'iso9660' config drive type 'cdrom'elif C O N F drive format 'vfat' config drive type 'disk'else raise exception Config Drive Unknown Format format C O N F drive format return config drive type 
def datastore make private context data dict if 'id' in data dict data dict id data dict id  get or bust data dict 'resource id data dict url config url not  resource exists context data dict raise p Object Not Found p  u Resource res id p access 'datastore change permissions context data dict db private context data dict 
def fastfn outs mode None model None model modelcontext model return model outs mode 
def set cached value key value timeout None cache key value timeout timeout 
def  process key evt key evt Get Key Code if key in KEYMAP return K E Y M A P '' if 97 < key < 122 key - 32if key > 32 and key < 127 return keys Key chr key chr key else return None None 
def frender path **keywords return Template open path .read filename path **keywords
def assert Not Is Instance obj cls msg '' if isinstance obj cls err msg 'nputmustnotbetype Assertion Error err msg msg cls 
def crop x wrg hrg is random False row index 0 col index 1 channel index 2 h w x index x index assert h > hrg and w > wrg 'hesizeofcroppingshouldsmallerthantheoriginalimage is random h offset int np 0 h - hrg - 1 w offset int np 0 w - wrg - 1 return x offset hrg + h offset w offset wrg + w offset ]else h offset int np h - hrg / 2.0 w offset int np w - wrg / 2.0 h end h offset + hrg w end w offset + wrg return x offset h end w offset w end 
def  get next open shard stream details shard id found Falsefor shard in stream details Open Shards current shard id shard Shard Id current shard id shard id found Truecontinueif found return current shard id 
def pack array builder values ty None n len values if ty is None ty values ir Array Type ty n ir Undefined for i v in enumerate values ary builder value ary v i return ary 
def unmonitor session *args **kwargs kwargs Truemonitor session *args **kwargs
def to Norm raw return np MAX NORM raw * NORM RATIO
def copy files source to target source target print 'rocessing % os os source print 'opyinginto % os os target ensure directory exists target shutil target for root dirs files in os os os source for directory in dirs print 'rocessing % os root directory for filename in files source path os root filename if target in source path continueif source not in source path continuetarget path source path source target ensure directory exists target path shutil source path target path 
def make sorted frequencies counts absolute False c sort counts c c ]c c -1 ]if absolute return celse f c / float c return f 
def is rate limit error message message return isinstance message list and len message > 0 and 'code' in message and message 88
def  run map jobs job operation key backup info key kinds job name backup handler input reader output writer mapper params mapreduce params queue backup info Backup Information backup info key if not backup info return []jobs utils Run Map For Kinds job operation key kinds job name backup handler input reader output writer mapper params mapreduce params queue name queue backup info jobs jobsbackup info force writes True return jobs 
def module load tests loader found tests pattern result testresources Optimising Test Suite found tests testscenarios tests apply scenarios loader found tests pattern result Test found tests return result 
def stream lines stream comments None try readlines stream Attribute Error readlines stream []for line in readlines line line if line and comments is None or not line comments result line return result 
def get images table meta images Table 'images' meta Column 'id' Integer primary key True nullable False Column 'name' String 255 Column 'disk format String 20 Column 'container format String 20 Column 'size' Big Integer Column 'status' String 30 nullable False Column 'is public Boolean nullable False default False index True Column 'location' Text Column 'created at Date Time nullable False Column 'updated at Date Time Column 'deleted at Date Time Column 'deleted' Boolean nullable False default False index True mysql engine 'nno D B extend existing True return images 
def  from json encoded return [str x for x in jsonutils encoded ]
def graph number of cliques G cliques None if cliques is None cliques list find cliques G return len cliques 
def clone into parent elem clone parent elem parent clone if elem and not elem clone elem elem and not elem clone elem elem for child in elem etree Element clone into clone child 
def chop traceback tb exclude prefix  UNITTEST RE exclude suffix  SQLA RE start 0end len tb - 1 while start < end and exclude prefix tb start + 1while start < end and exclude suffix tb end - 1return tb end + 1 ]
def hy compile tree module name root ast Module get expr False body []expr Noneif tree compiler Hy A S T Compiler module name result compiler tree expr result exprif not get expr result + result as stmt if isinstance tree list spoof tree tree spoof tree treebody compiler as stmts spoof tree + result ret root body body if get expr expr ast Expression body expr ret ret expr return ret 
def ndeepmap n func seq if n 1 return [func item for item in seq n > 1 return [ndeepmap n - 1 func item for item in seq return func seq 
def Allow Installed Library name desired Call Set Allowed Module name desired dependencies P A C K A G E S dependencies for dep name dep version in dependencies Allow Installed Library dep name dep version installed desired False 
def make safe data return salt types filter object to dict data 
def  compute csd params n times sfreq mode mt bandwidth mt low bias mt adaptive ret mt adaptive mt adaptiveif mode 'multitaper' if mt bandwidth is not None half nbw float mt bandwidth * n times / 2.0 * sfreq else half nbw 2.0n tapers max int 2 * half nbw window fun eigvals dpss windows n times half nbw n tapers max low bias mt low bias n tapers len eigvals logger ' P S Swindows % n tapers if mt adaptive and len eigvals < 3 warn 'otadaptivelycombiningthespectralestimatorsduetoalownumberoftapers ret mt adaptive Falseelif mode 'fourier' logger ' F Twitha Hanningwindowtoestimatespectra window fun np n times ret mt adaptive Falseeigvals 1.0n tapers Noneelse raise Value Error 'odehasaninvalidvalue return window fun eigvals n tapers ret mt adaptive 
def  lstrip str in s lstr if in s lstr res in s lstr ]else res in sreturn res 
def  assert occurrence src probe target amount 1 occ src probe if occ > amount msg 'morethan'elif occ < amount msg 'lessthan'elif not occ msg 'no'else msg Noneif msg raise Command Execution Error 'ound msg target 
def find package data packages package data {}for package in packages package data []for subdir in find subdirectories package if '.'.join package subdir in packages logging 'skippingsubmodule%s/%s' % package subdir continueif skip tests and subdir 'tests' logging 'skippingtests%s/%s' % package subdir continuepackage data + subdir findall package to path package subdir return package data 
def flasher msg severity None try flash msg severity except Runtime Error if severity u logging msg else logging msg 
def  get valid file types return ' '.join [' '.join IMAGE T Y P E S for ft in IMAGE T Y P E S ]
def decode dict keys to str src if not six P Y3 or not isinstance src dict return srcoutput {}for key val in six src if isinstance key bytes try key key except Unicode Error passoutput valreturn output 
def  project Poly poly normal p Min numpy normal poly p Max p Minfor n in xrange 1 len poly p numpy normal poly p Min min p Min p p Max max p Max p return p Min p Max 
def CDLRICKSHAWMAN bar Ds count return call talib with ohlc bar Ds count talib C D L R I C K S H A W M A N 
def calculate wait for retry retry attempt wait time 2 ** retry attempt max jitter wait time / 4.0 wait time + random - max jitter max jitter return max 1 min wait time  MAX RETRY WAIT
def patched path path if not path '/' path + '/'if path '/RPC2/' path path ]return path 
def  make Longitude value return base Coordinate value Angles L O N G I T U D E 
def open ufw service return sequence [run from args ['ufw' 'allow' service ]
def gen Grow pset min  max  type  None def condition height depth 'xpressiongenerationstopswhenthedepthisequaltoheight depth height or depth > min  and random < pset Ratio return generate pset min  max  condition type 
def  make Runner config cls runner Trial Runnerargs {actory config 'ormat config 'ime Errors config 'arnings config 'logfile' config 'irectory config config args runner Trial Runner D R Y R U Nelif config from twisted dist import Dist Trial Runnercls Dist Trial Runnerargs Number config Arguments config get Worker Arguments else if config args runner Trial Runner D E B U Gdebugger config debugger ! 'pdb' try args reflect Any debugger except reflect Module Not Found raise  Debugger Not Found '%rdebuggercouldnotbefound.' % debugger else args  wrapped Pdb args First config config Garbage Collection config cls **args
def prt bytes num bytes human flag if not human flag return '%12s' % num bytes num float num bytes suffixes [one + list 'KMGTPEZY' for suffix in suffixes -1 ] if num < 1023 breaknum / 1024.0else suffix suffixes -1 ]if not suffix return '%4s' % num bytes elif num > 10 return '%3d%s' % num suffix else return '%.1f%s' % num suffix 
def identifies id ref return id ref or id ref or ref and id ref + '.' + ref 
def degree assortativity coefficient G x 'out' y 'in' weight None nodes None M degree mixing matrix G x x y y nodes nodes weight weight return numeric ac M
def fixup ff4 p name []num 0start amp Falsefor ch in p if start if ch num + chelif ch ';' name unichr int num .encode 'utf8' start Falseelse name '&#%s%s' % num ch start Falseelif ch '&' amp Trueelif amp amp Falseif ch '#' start Truenum ''else name '&' + ch else name ch return ''.join name 
def p arglist p if len p 4 p p + [p[3]] else p [p[1]]
def run post update script component previous head run hook component None component update script env {'WL PREVIOUS HEAD' previous head 
def skip If condition reason if condition return skip reason return lambda obj obj 
def find containing network ip ranges address addr ipaddress address address for network in ip ranges if addr in network return networkreturn None 
def check clusterings labels true labels pred labels true np labels true labels pred np labels pred if labels true ! 1 raise Value Error 'labels truemustbe1 D shapeis % labels true if labels pred ! 1 raise Value Error 'labels predmustbe1 D shapeis % labels pred if labels true ! labels pred raise Value Error 'labels trueandlabels predmusthavesamesize got % labels true labels pred return labels true labels pred 
def compute recall y tp recall tp / T 1.0 y return recall 
def  find executable executable path None if path is None path os P A T H path os base ext os executable if sys 'win32' and ext ! '.exe' executable executable + '.exe' if not os executable for p in paths f os p executable if os f return freturn Noneelse return executable 
def process mtree for c in mtree groups find first level groups c group delimiters for delimiters in group delimiters flatten lambda l x l + find first level groups x delimiters groups functools flatten groups [] c on components groups 
def split host srv mark srv ' ' if mark < 0 host srvelse host srv mark srv mark + 1 ]try port int port except port Nonereturn host port 
def  groups or na fun regex if regex 0 raise Value Error 'patterncontainsnocapturegroups' empty row [np.nan] * regex def f x if not isinstance x compat types return empty rowm regex x if m return [ np if item is None else item for item in m ]else return empty rowreturn f 
def tf2sos b a pairing 'nearest' return zpk2sos pairing pairing *tf2zpk b a 
def stupefy Entities text language 'en' smart smartchars language text re smart '-' text text re smart '--' text text re smart "'" text text re smart "'" text text re smart '"' text text re smart '"' text text re smart '...' text return text 
def hazard return s3 rest controller 
def Parse File file base uri *args **kwds return  Parse File Ex file base uri *args **kwds [1 ]
def workers init global DB SUPPORTS SUBSECOND R E S O L U T I O Nsession get session query session models Worker .filter by resource type 'SENTINEL' worker query DB SUPPORTS SUBSECOND RESOLUTION bool worker at 
def setup blocks complete request for module in get modules if len [block for block in module help blocks request request kind 'setup' if not block ] > 0 return Falsereturn True 
def  sift read f mode 'SIFT' if not hasattr f 'readline' f open f 'r' if mode 'SIFT' nr features feature len map int f .split datatype np [ 'row' float 'column' float 'scale' float 'orientation' float 'data' float feature len ] else mode ' U R F len int f - 1 nr features int f datatype np [ 'column' float 'row' float 'second moment float 3 'sign' float 'data' float feature len ] data np f sep '' if data ! nr features * datatype / np float .itemsize raise I O Error 'nvalid % mode f return data datatype 
def equality preds names [u'equality' u pair in zip names [okens E Q Tokens N E Q print u DCTB %s' % pair 
def match consecutive needles haystack ignore case False regex no sep '[^' + os + ']*' regex no sep end regex no sep + '$' regex one sep regex no sep + os + regex no sep regex needle regex one sep imap re needles + regex no sep end regex flags re I G N O R E C A S E | re U N I C O D E if ignore case else re U N I C O D E found lambda entry re regex needle entry flags regex flags return ifilter found haystack 
def get network detach config spec client factory device port index config spec client factory 'ns0 Virtual Machine Config Spec virtual device config client factory 'ns0 Virtual Device Config Spec virtual device config 'remove'virtual device config deviceconfig spec Change [virtual device config spec Config [ iface id option value client factory 'free' port index ]return config spec 
def quota get context project id resource user id None return I M P L get context project id resource user id user id 
def assert side bar help link test page href help text as list item False index -1 expected link {'href' href 'text' help text link page side bar help element and click help as list item as list item index index assert link test expected link actual link assert opened help link is correct test href 
def  get tweets locale settings L A N G U A G E CODE limit MAX TWEETS max id None reply to None filter None https False locale settings L O C A L E S 1created limit datetime - timedelta days settings C C TWEETS DAYS q Tweet locale locale reply to reply to created  gt created limit if max id q q pk  lt max id if filter ! 'all' q q hidden False if filter 'unanswered' q q replies  pk  isnull True elif filter 'answered' q q replies  pk  isnull False if limit q q limit [ tweet for template tweet https for tweet in q 
def deprecated attr namespace attr replacement  deprecated attrs namespace [] .append attr replacement 
def  read float64 f return np struct '>d' f 8 [0]
def compute accuracy predictions labels return labels predictions < 0.5 ].mean
def  get rerun link for item course key return reverse course url 'course rerun handler course key 
def get day names width 'wide' context 'format' locale LC TIME return Locale locale .days[context][width]
def is Loop List Intersecting Inside X Segment loop List segment First X segment Second X segment Y Mirror y for already Filled Loop in loop List if is Loop Intersecting Inside X Segment already Filled Loop segment First X segment Second X segment Y Mirror y return Truereturn False 
def  sph to cart partials az pol g rad g az g pol sph grads np [ g rad g az g pol ]cart grads np like sph grads c as s as np az np az c ps s ps np pol np pol trans np [[ c as * s ps - s as c as * c ps ] [ s as * s ps c as c ps * s as ] [c ps np like c as - s ps ]] cart grads np 'ijk kj trans sph grads return cart grads 
def get path formats subview None path formats []subview subview or config for query view in subview query PF KEY Q U E R I E S query query path formats query Template view str return path formats 
def  parse proxy proxy scheme r scheme splittype proxy if not r scheme '/' scheme Noneauthority proxyelse if not r scheme '//' raise Value Error ' R Lwithnoauthority %r' % proxy end r scheme '/' 2 if end -1 end Noneauthority r scheme end userinfo hostport splituser authority if userinfo is not None user password splitpasswd userinfo else user password Nonereturn scheme user password hostport 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def  node redundancy G v n len G overlap sum 1 for u w in combinations G 2 if set G & set G - {v} return 2 * overlap / n * n - 1
def pport D2 state global data Regif state 0 data Reg data Reg & ~ 4 else data Reg data Reg | 4 port Dl Port Write Port Uchar base Address data Reg 
def request wants json request best request mimetypes match ['application/json' 'text/html'] return best 'application/json' and request mimetypes > request mimetypes 
def  update counter model field name filter kwargs increment 1 try record model **filter kwargs affected record **{field name F field name + increment } if not affected filter kwargs name incrementmodel **filter kwargs except Integrity Error logger 'ntegrity Errorwhenupdatinganalyticscounterfor model 
def set roi location msg vehicle factory long encode 0 0 mavutil M A V CMD DO SET ROI 0 0 0 0 0 location location location vehicle mavlink msg 
def  get location vm  None locations avail locations vm location str config cloud config value 'zone' vm    opts   search global False if not vm location raise Salt Cloud Not Found 'olocationspecifiedforthis V M if vm location in locations return vm locationraise Salt Cloud Not Found "hespecifiedlocation '{0}' couldnotbefound vm location 
def run  task 
def  update config template name template source None template path None template hash None template hash name None template user 'root' template group 'root' template mode '755' saltenv None template engine 'jinja' skip verify True defaults None test False commit True debug False replace False **template vars return   salt  ['net.load template template name template source template source template path template path template hash template hash template hash name template hash name template user template user template group template group template mode template mode saltenv saltenv template engine template engine skip verify skip verify defaults defaults test test commit commit debug debug replace replace **template vars 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def separate list input input  no commas input .replace ' ' '' return [str string for string in no commas ]
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def quaternion rotation matrix quaternion return quaternion matrix quaternion [ 3 3]
def iter field objects fields if isinstance fields dict i six fields else i iter fields for field in i if isinstance field Request Field yield field else yield Request Field tuples *field
def is form media type media type base media type params parse header media type HTTP HEADER ENCODING return base media type u or base media type u 
def new data None return S H A224 Hash .new data 
def build filter class name *args if not hasattr filters class name return Nonefilterclass getattr filters class name return filterclass *args
def  default feature extractor words return dict word True for word in words 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def iseq to qseq fields line barcode in header barcode length barcode qual c 'b' record line .split ' ' rec 0 1 rec 0 2 record '_' rec 4 1 rec 4 23 record '#' rec 4 2 rec 4 3 rec 4 23.split '/' if barcode in header barcode rec 4 2[ barcode length record qual barcode qual c * barcode length sequence qual record barcode record barcode length record length ]barcode qual record barcode length qual record length ]return rec 0 1 rec 0 2 record record record rec 4 1 rec 4 2 rec 4 3 sequence sequence qual barcode barcode qual 
def underscores to camelcase argument result u was underscore Falsefor char in argument if char ! u ' if previous was underscore result + char else result + charprevious was underscore char u ' return result 
def process signature request max age 60 * 60 * 24 * 10 sig request G E T '_' or request P O S T ' sentry request signature if not sig or sig ' ' < 2 return Nonesigned data '%s|%s|%s' % request absolute uri '/' .rstrip '/' request sig try data get signer .unsign signed data max age max age except signing Bad Signature return None _ signed path user id data '|' 2 if signed path ! request return Nonetry return User pk base36 decode user id except Value Error User Does Not Exist return None 
def recursive update dict root changes ignores if isinstance changes dict for k v in changes if isinstance v dict if k not in root root {}recursive update dict root v ignores elif v in ignores if k in root root k else root v 
def bing phenny input query input 2 if query ' ' lang query query '' 1 lang lang ]else lang ' B not query return phenny '.bingwhat?' query query 'utf-8' uri bing search query lang if uri phenny uri if not hasattr phenny 'last seen uri phenny seen uri {}phenny.bot.last seen uri urielse phenny "oresultsfoundfor % query 
def list public repos profile 'github' repos []for repo in  get repos profile if repo is False repos repo return repos 
def migrate registrations metadata key schema registrations Node Q 'is registration 'eq' True & Q 'registered schema 'eq' schema total reg registrations logger 'xamining total reg reg count 0for reg in registrations reg count + 1if reg meta schema id {} .get 'recommended-methods' {} .get 'value' {} .get 'undefined' {} reg meta id reg meta id 'undefined' reg logger 'igratedkeyfor reg count total reg reg id else logger 'eyalreadycorrectfor Nochange reg count total reg reg id 
@compositedef related deployments strategy draw number of deployments node uuid pool draw node uuid pool strategy deployments set while True deployments draw deployment strategy node uuid pool node uuid pool if len deployments number of deployments return tuple deployments 
def random password length 10 chars string uppercase + string + string lowercase password ''for i in range length password + chars ord M2 Crypto bytes 1 % len chars ]return password 
def httpconnection patched endheaders self message body None if self H T T P Connection  state  CS REQ STARTED self H T T P Connection  state  CS REQ S E N Telse raise Cannot Send Header self send output message body 
def set term title title if ignore termtitle return set term title title 
def get Decimal Places Carried extra Decimal Places value return max 0 1 + int math extra Decimal Places - math value 
def registration email return Registration user  email email 
def get Topdir topfile start None if not start start os here starttoomany 20while toomany > 0 if os os here topfile return herenext os here if next here breakhere nexttoomany - 1output "nabletofindtopfile % topfile start sys 1
def enable sigusr2 handler enable sig handler 'SIGUSR2'  handle sigusr2 
def get Geometry Output derivation xml Element if derivation None derivation Shaft Derivation derivation To X M L Element xml Element shaft Path get Shaft Path derivation Bottom derivation Top derivation derivation return lineation Geometry Output By Loop lineation Side Loop shaft Path xml Element 
def Load Backend Info backend info open fn None builder yaml object Object Builder Backend Info External handler yaml builder Builder Handler builder listener yaml listener Event Listener handler listener Parse backend info backend info handler Get Results if len backend info < 1 return Backend Info External backends [] if len backend info > 1 raise Bad Config "nlyone info backend info not info return Backend Info External backends [] for backend in info backend Init return info 
def shared like variable name None **kwargs variable tensor tensor variable variable if name is None name 'shared {}'.format variable return theano numpy 0 * variable dtype variable name name **kwargs
@command 'registry' required ['host'] optional ['service-name' 'registry-path'] def registry command options host service name None registry path '/protorpc' dest dir os options dir url 'http //%s%s' % host registry path reg registry Registry Service Stub transport Http Transport url if service name is None service names [service.name for service in reg .services]else service names [service name set reg file set names service names .file setfor file descriptor in file set generate file descriptor dest dir file descriptor file descriptor force overwrite options 
def delete label id models Label get id .delete
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def dup scale f a K f n b list f len f - 1 a for i in range n - 1 -1 -1 f b b * f b * a return f 
def  gf gcdex f g p ring f s t h gf gcdex f dense g dense p ring return ring dense s ring dense t ring dense h 
def link archive provider node user addon node or add addon settings A R C H I V E PROVIDER auth Auth user log False if hasattr addon 'on add addon add node 
def default mappings machines mappings {}failures []mach machines [mach]if len machines > 1 machines machines ]for machine in machines mappings machine return mappings failures 
def get user db from request request auth context request 'auth' {} if not auth context return Noneuser db auth context 'user' None return user db 
def applies to all images fileobject return fileobject 'mage 
def softmax cross entropy x t use cudnn True normalize True cache score True class weight None return Softmax Cross Entropy use cudnn normalize cache score class weight x t 
def iter format modules lang if check for language lang format locations ['django.conf.locale.%s']if settings F O R M A T MODULE PATH format locations settings F O R M A T MODULE PATH + '.%s' format locations locale to locale lang locales [locale]if '_' in locale locales locale '_' [0] for location in format locations for loc in locales try yield import module '.formats' location % loc except Import Error pass 
def get current time in millisecs return get time in millisecs datetime 
def  pick bad channels event params bads params  select bads event params bads  plot update raw proj params None 
def set Level level level level .strip imdbpy Logger Level L E V E L S level logging N O T S E T imdbpy Logger imdbpy Logger 'setloggingthresholdto"%s"' logging Level Name imdbpy Logger 
def SPF domain record 'SPF' nameserver None if  has dig return   salt  [ P F domain record nameserver return 'hisfunctionrequiresdig whichisnotcurrentlyavailable 
def range to tuple range string m SHEETRANGE R E range string if m is None raise Value Error 'aluemustbeoftheformsheetname A1 E4' sheetname m 'quoted' or m 'notquoted' cells m 'cells' boundaries range boundaries cells return sheetname boundaries 
def set query params url param dict scheme netloc path query string fragment urlsplit url query params parse qs query string keep blank values True for param name param value in param dict if param value is None del query params name query params name [param value query string urlencode query params doseq True return urlunsplit scheme netloc path new query string fragment 
def system Information Type5ter a L2 Pseudo Length l2p Length 18 b Tp Pd pd 6 c Message Type mes Type 6 d Neighbour Cells Description2 packet a / b / c / d return packet 
def  parse cisco mac address cisco hardware addr cisco hardware addr cisco hardware addr '.' '' blocks [cisco hardware addr x + 2 ] for x in range 0 len cisco hardware addr 2 ]return ' '.join blocks .upper
def check credentials request other application 'admin' expiration 60 * 60 gae login True if request runtime gae from google import usersif users current user admin return Trueelif gae login login html '<ahref "igninwithyourgoogleaccount % users login url request info raise HTTP 200 '<html><body>%s</body></html>' % login html else return Falseelse t0 time dt t0 - expiration s get session request other application r s and s time and s time > dt if r s time t0set session request s other application return r 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  get fullname cls if orig isinstance cls Net Proxy modules  get conn cls .modules.sys.moduleselse modules sys filename modules  module  ].  file  except Key Error Attribute Error filename cls  module  return filename cls  name  
def is archive file name archives '.zip' '.tar.gz' '.tar.bz2' '.tgz' '.tar' '.pybundle' '.whl' ext splitext name [1].lower if ext in archives return Truereturn False 
def  add boolean cli param params key value if value is True params '--{0}'.format key 
def  update rs no primary from member sds replica set name server description topology type TOPOLOGY T Y P E Replica Set No Primaryif replica set name is None replica set name server description set nameelif replica set name ! server description set name sds server description return topology type replica set name for address in server description hosts if address not in sds sds Server Description address if server description and server description ! server description sds server description return topology type replica set name 
def get mappings return {idxr.get doctype name idxr mapping for idxr in indexers 
def chworkphone name workphone return  update gecos name 'workphone' workphone 
def  turn iterable to mapping from attribute attribute obj optional False if optional if obj is None return Noneif isinstance obj Mapping return objreturn {getattr a attribute a for a in obj 
def unimplemented abstract methods node is abstract cb decorated with abc visited {}try mro reversed node except Not Implemented Error return {}except astroid Resolve Error return {}for ancestor in mro for obj in ancestor infered objif isinstance obj astroid Ass Name infered safe infer obj if not infered continueif not isinstance infered astroid Function if obj in visited del visited isinstance infered astroid Function abstract is abstract cb infered if abstract visited inferedelif not abstract and obj in visited del visited visited 
def sentence gleu reference hypothesis min len 1 max len 4 ref ngrams Counter everygrams reference min len max len hyp ngrams Counter everygrams hypothesis min len max len overlap ngrams ref ngrams & hyp ngrams tp sum overlap ngrams tpfp sum hyp ngrams tffn sum ref ngrams precision tp / tpfp recall tp / tffn return min precision recall 
def blog structure site return {'blogid' settings S I T E ID 'ame site 'url' '%s //%s%s' % PROTOCOL site reverse 'zinnia entry archive index }
def supported challenges validator data if cli by cli 'standalone supported challenges sys 'WARNING Thestandalonespecificsupportedchallengesflagisdeprecated Pleaseusethe challs data ' ' if 'dvsni' in challs logger 'pdatinglegacystandalone supported challengesvalue challs [ challenges T L S S N I01 if chall 'dvsni' else chall for chall in challs ' '.join challs unrecognized [name for name in challs if name not in challenges Challenge T Y P E S ]if unrecognized raise argparse Argument Type Error 'nrecognizedchallenges {0}'.format ' '.join unrecognized choices set chall for chall in SUPPORTED CHALLENGES if not set challs .issubset choices raise argparse Argument Type Error 'lugindoesnotsupportthefollowing valid challenges {0}'.format ' '.join set challs - choices return data 
@needs 'pavelib.prereqs.install prereqs 'pavelib.utils.test.utils.clean reports dir @cmdopts [ 'failed' 'f' 'unonlyfailedtests 'fail-fast' 'x' 'unonlyfailedtests make option '-c' '--cov-args' default '' help 'addsasargstocoverageforthetestrun' make option '--verbose' action 'store const const 2 dest 'verbosity' make option '-q' '--quiet' action 'store const const 0 dest 'verbosity' make option '-v' '--verbosity' action 'count' dest 'verbosity' default 1 make option '--disable-migrations' action 'store true dest 'disable migrations help "reatetablesdirectlyfromapps Canalsobeusedbyexporting D I S A B L E MIGRATIONS 1." 'cov args ' None 'deprecatedinfavorofcov-args' make option '-e' '--extra args default '' help 'deprecated passextraoptionsdirectlyinthepavercommandline 'fail fast None 'deprecatedinfavoroffail-fast' ] @assthrough Task test python options passthrough options python suite suites Python Test Suite 'ython Tests passthrough options passthrough options **options.test python python suite 
def rand item from iters iter return rand base 1 '' iter 
def xen vms name global connvm count conn Of Domains return vm count 
def  mac ver gestalt try import gestaltimport Mac O Sexcept Import Error return None sysv sysa  mac ver lookup 'sysv' 'sysa' if sysv major sysv & 65280 >> 8 minor sysv & 240 >> 4 patch sysv & 15 if major minor > 10 4 major minor patch  mac ver lookup 'sys1' 'sys2' 'sys3' release '%i.%i.%i' % major minor patch else release '%s.%i.%i' %  bcd2str major minor patch if sysa machine {1 '68k' 2 'ower P C 10 'i386'}.get sysa '' return release versioninfo machine 
def img as float image force copy False return convert image np force copy 
def accumulate Class List class Obj attr list Obj base Class None for base in class Obj  bases   accumulate Class List base attr list Obj if base Class is None or base Class in class Obj  bases   list Obj class Obj  dict  .get attr []
def covariance X Y condition None **kwargs return expectation X - expectation X condition **kwargs * Y - expectation Y condition **kwargs condition **kwargs
def url match condition data format data type inds np and conditions condition data formats data format inds np and inds data types data type inds np and inds data formats data format good urls list urls for gi g in enumerate good urls good urls url root + g if len good urls 0 raise Value Error 'o M E G S I Mdatasetfoundwithcondition "%s" \ndata format "%s" data type "%s"' % condition data format data type return good urls 
def answer problem course request problem score 1 max value 1 user request dict {'value' score 'max value max value 'user id user data cache Field Data Cache for descriptor descendents course user course depth 2 module get module user request problem ids id field data cache . xmodulemodule problem 'grade' grade dict 
def update user permissions userid profile 'grafana' **kwargs if isinstance profile string types profile   salt  ['config.option'] profile response requests '{0}/api/admin/users/{1}/permissions'.format profile url userid json kwargs auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def default entry point dist pkg resources distribution 'range3 ep pkg resources Entry Point 'range Widgets 'range dist dist return ep 
def matplotlib fname if six P Y2 cwd os else cwd os fname os cwd u if os fname return fnameif u M A T P L O T L I B R C in os path os M A T P L O T L I B R C os path if os path return pathfname os path u if os fname return fnameconfigdir  get configdir if os configdir fname os configdir u if os fname return fnamepath get data path fname os path u if not os fname warnings u Couldnotfindmatplotlibrc return fname 
@utils.arg 'hostname' metavar '<hostname>' help _ 'hehypervisorhostname orpattern tosearchfor def do hypervisor servers cs args hypers cs args servers True class Instance On Hyper object def   init   self **kwargs self  dict  .update kwargs instances []for hyper in hypers hyper host hyper hostnamehyper id hyper hasattr hyper 'servers' instances [nstance On Hyper id serv name serv hypervisor hostname hyper host hypervisor id hyper id for serv in hyper utils list instances ['ID' 'ame 'ypervisor I D 'ypervisor Hostname 
@builtin u Upper ignoretags ' upper apply func to html text def replace uppercase ignore tags match number file name metadata dictionaries data functions *args **kwargs return apply func to html text match upper 
def   sympifyit func arg retval None if not get function code func .co argcount raise Lookup Error 'funcnotfound' assert get function code func .co varnames arg if retval is None @wraps func def   sympifyit wrapper a b return func a sympify b strict True else @wraps func def   sympifyit wrapper a b try if not hasattr b ' op priority b sympify b strict True return func a b except Sympify Error return retvalreturn   sympifyit wrapper 
def make sampling table size sampling factor 1e-05 gamma 0.577rank np list range size rank 1inv fq rank * np rank + gamma + 0.5 - 1.0 / 12.0 * rank f sampling factor * inv fq return np 1.0 f / np f 
def Get Angles Polyline polyline closed False points polyline 0]if closed a np points 1 axis 0 b pointsc np points -1 axis 0 else a points -2 ]b points -1 ]c points ]ab b - a cb b - c dot np ab * cb axis 1 cros np ab cb alpha np cros dot return alpha * 180.0 / np 
def p rules p if len p 2 rule p rule p []embed count 0rulename rule 1for r in rule print 'defp %s %d p ' % rulename rulecount prod []prodcode ''for i in range len r item r item '{' if i len r - 1 prodcode itembreakelse embed name ' embed %s' % embed count rulename prod embed name embedded embed name item embed count + 1else prod item print "'''%s %s'''" % rulename ''.join prod print code prodcode 4 printrulecount + 1for e code in embedded print 'defp %s p ' % e print "'''%s '''" % e print code code 4 print 
def  remove dots src output {}for key val in six src if isinstance val dict val  remove dots val output '.' '-' ] valreturn output 
def del quote db nick msg query qtable .where qtable 1 .where qtable nick .where qtable msg .values deleted 1 db query db 
def module Path try _ sys if we Are Frozen else   file   except Name Error _ inspect module Path return get Unicode os os _ encoding sys or UNICODE ENCODING
def string values node cstruct are strings [isinstance v six types for v in cstruct ]if not all are strings error msg '%scontainsnonstringvalue' % cstruct raise colander Invalid node error msg 
def job log logger registry xml parent data top X M L Sub Element xml parent 'ob Log Logger Build Wrapper X M L Sub Element top 'mpty .text str data 'suppress-empty' True .lower
def update org prefs orgname None profile 'grafana' **kwargs if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/org/preferences'.format profile url json kwargs auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def render to pdf template src context dict template get template template src context Context context dict html template context result String I O String I O pdf pisa Document String I O String I O html 'ISO-8859-1' result if not pdf return Http Response result mimetype 'application/pdf' return Http Response 'ehadsomeerrors % cgi html 
def ref hist inp nbins 64 offset -48 bins np nbins + 1 + float offset bins - float 'nf np inp log abs np np np inp np np hist edges np np inp log abs density False bins bins if np hist < 2 np hist np hist 1 np hist return np hist 
def  nose tools functions module  B U I L D E R build textwrap 'est unittest Test Case \npass\na Test \n' try case next module except astroid Inference Error returnfor method in case if method 'assert' and '_' not in method pep8 name  pep8 method yield pep8 name astroid Bound Method method case 
def destroy cached images session sr ref all cached False dry run False cached images  find cached images session sr ref destroyed set def destroy cached vdi vdi uuid vdi ref L O G "estroyingcached V D I vdi uuid s if not dry run destroy vdi session vdi ref destroyed vdi uuid for vdi ref in cached images vdi uuid session xenapi ' D I uuid vdi ref if all cached destroy cached vdi vdi uuid vdi ref continuechain list  walk vdi chain session vdi uuid if len chain > 2 continueelif len chain 2 root vdi rec chain -1 ]children  child vhds session sr ref [root vdi rec if len children > 1 continuedestroy cached vdi vdi uuid vdi ref return destroyed 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def dbode system w None n 100 w y dfreqresp system w w n n if isinstance system dlti dt system dt system -1 ]mag 20.0 * numpy abs y phase numpy numpy numpy y return w / dt mag phase 
def plot acf x ax None lags None alpha 0.05 use vlines True unbiased False fft False title 'utocorrelation zero True **kwargs fig ax utils mpl ax ax lags nlags irregular  prepare data corr plot x lags zero confint Noneif alpha is None acf x acf x nlags nlags alpha alpha fft fft unbiased unbiased else acf x confint acf x nlags nlags alpha alpha fft fft unbiased unbiased  plot corr ax title acf x confint lags irregular use vlines **kwargs return fig 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def independent a b return not dependent a b 
def test operator type assert T P O T Select K Best .type 'elector 
def load data path 'mnist.pkl.gz' path get file path origin 'https //s3.amazonaws.com/img-datasets/mnist.pkl.gz' if path '.gz' f gzip path 'rb' else f open path 'rb' if sys info < 3 data c Pickle f else data c Pickle f encoding 'bytes' f return data 
def test geometric mean support binary y true y pred _ make prediction binary True geo mean geometric mean score y true y pred assert allclose geo mean 0.77 rtol R TOL
def glr path static return os os os   file   ' static 
def canonicalize email email if not email return ''email  force utf8 email localpart at domain email '@' if not at or '@' in domain return ''localpart localpart '.' '' localpart localpart '+' [0]return localpart + '@' + domain 
def table column to votable datatype column if column u O if isinstance column bytes if  all bytes column ] return {u'datatype' u u u isinstance column six type if  all unicode column ] return {u'datatype' u Char u u isinstance column np dtype shape  all matching dtype column if dtype is not False result numpy to votable dtype dtype shape if u not in result result u result + u resultreturn {u'datatype' u Char u u numpy to votable dtype column column ]
def get semver version version main u str x for x in version 3] sub u version ! u sub u *version[3 ] return main + sub 
def getmodebandnames mode return Image Mode mode .bands
def hex2str hexnum intsize 4 if not isinstance hexnum six types nbits intsize * 8 hexnum '0x%x' % hexnum + 1 << nbits % 1 << nbits s hexnum ]if len s % 2 ! 0 s '0' + s result codecs s 'hex' [ -1 ]return result 
def  Get M S Build External Builder Targets spec build cmd  Build Command Line For Rule Raw spec spec external builder build cmd False False False False build target [arget {ame 'uild target [xec {ommand build cmd clean cmd  Build Command Line For Rule Raw spec spec external builder clean cmd False False False False clean target [arget {ame 'lean target [xec {ommand clean cmd targets [build target clean target spec 'msvs external builder clcompile cmd clcompile cmd  Build Command Line For Rule Raw spec spec external builder clcompile cmd False False False False clcompile target [arget {ame 'l Compile target [xec {ommand clcompile cmd targets clcompile target return targets 
def gis layer onaccept form enable current vars enable db current current s3db configquery ctable 'SITE DEFAULT' config db query .select ctable limitby 0 1 .first if not config returnconfig id config id form idltable s3db layer configquery ltable id config id & ltable id layer id record db query .select ltable limitby 0 1 .first if record db query .update enabled True else ltable config id config id layer id layer id enabled True 
def make percent align filter min percent min percent float min percent * 100 def align filter blast result if float blast result I D E N T I T Y < min percent return Falseelse return Truereturn align filter 
def parse boolean value if value in [u'true' u return Trueelif value in [u'false' u return Falseelse raise Value Error u got % value 
def trackers request trackers get tasktrackers request return render 'tasktrackers.mako' request {'trackers' trackers 
def gen not started gen return gen frame and gen frame lasti -1
def about request context {'title' 'bout 'general/about.html'return render request template context 
def all control queues for declare config possible uwsgi queues []if process is uwsgi import uwsgipossible uwsgi queues [ueue 'control.%s.%s' % config name '.' [0] wkr galaxy exchange routing key 'control' for wkr in uwsgi ]return possible uwsgi queues + [ueue 'control.%s' % q galaxy exchange routing key 'control' for q in config names 
def is stable coefs verbose False A var1 util matrix coefs eigs np A var1 if verbose print 'igenvaluesof V A R 1 rep for val in np eigs print val return np eigs < 1 .all
def axes *args **kwargs nargs len args if len args 0 return subplot 111 **kwargs if nargs > 1 raise Type Error u Onlyonenonkeywordargtoaxesallowed arg args isinstance arg Axes a gcf .sca arg else rect arga gcf .add axes rect **kwargs return a 
def accel decel clip new duration None abruptness 1.0 soonness 1.0 if new duration is None new duration clip lambda t f accel decel t clip new duration abruptness soonness return clip time fl .set duration new duration 
def generate html attrs api key flickr data get info attrs id api key if 'size' not in attrs attrs 'large'if 'alt' not in attrs attrs flickr data content '<ahref "{}"><imgsrc "{}"alt "{}"></a>'.format flickr data content source url flickr data flickr data attrs id flickr data attrs attrs 
@shared task bind True def add to all self nums val subtasks [add.s num val for num in nums self group *subtasks
def assert policy shape policy errors []if policy Version ! '2012-10-17' errors 'nknownversion {} ofpolicy Thingsareprobablydifferentthanweassumedtheywere policy Version found statement type {}for statement in policy Statement for label sidlabel in statement label if statement Sid sidlabel found statement type Truefor statementtype in statement label if not found statement type statementtype errors 'olicyismissing statementtype if len errors raise Exception 'roblemsassertingpolicyshape Cowardlyrefusingtomodifyit {}'.format ''.join errors return None 
def round x return tf x 
def  places client url part query None location None radius None keyword None language None min price 0 max price 4 name None open now False rank by None type None page token None params {'minprice' min price 'maxprice' max price query params queryif location params convert location if radius params radiusif keyword params keywordif language params languageif name params convert list '' name if open now params 'true'if rank by params rank byif type params typeif page token params page tokenurl '/maps/api/place/%ssearch/json' % url part return client get url params 
def Raw Value typecode or type *args type  typecode to type typecode or type typecode or type obj  new value type  ctypes ctypes obj 0 ctypes obj obj  init   *args return obj 
def handle extensions extensions 'html' ignored 'py' ext list []for ext in extensions ext list ext '' '' .split ' ' for i ext in enumerate ext list if not ext '.' ext list '.%s' % ext list return set [x for x in ext list if x '.' not in ignored ]
@not implemented for 'directed' def connected components G seen set for v in G if v not in seen c set  plain bfs G v yield c seen c 
def  class Of Method method Object if  PY3 return method Object  self  .  class  return method Object class 
def  resize part and fs dev start old sectors new sectors size new sectors - start end new sectors - 1 dev path utils dev path dev partition path utils dev path dev partition 1 utils 'e2fsck' '-f' '-y' partition path run as root True check exit code [0 1 2] utils 'tune2fs' ' journal partition path run as root True if new sectors < old sectors utils 'resize2fs' partition path '%ds' % size run as root True utils 'parted' '--script' dev path 'rm' '1' run as root True utils 'parted' '--script' dev path 'mkpart' 'primary' '%ds' % start '%ds' % end run as root True if new sectors > old sectors utils 'resize2fs' partition path run as root True utils 'tune2fs' '-j' partition path run as root True 
def get course organizations course id if not organizations enabled return []from organizations import api as organizations apireturn organizations api course organizations course id 
@ile System directory current directory 'django' 'couves' def test django agains couves status out run scenario expect 'ouvesbeforeall .to.be.within out expect 'ouvesafterall .to.be.within out 
def get homebrew path formula '' import subprocessbrewcmd ['brew' '--prefix']path Noneif formula brewcmd formula dbgstr 'homebrewformula"%s"' % formula else dbgstr 'homebrewprefix'try path subprocess output brewcmd .strip logger 'ound % dbgstr path except O S Error logger 'etectedhomebrewnotinstalled except subprocess Called Process Error logger 'homebrewformula"%s"notinstalled' % formula if path if is py3 path path 'utf8' return pathelse return None 
def is disabled iface return not is enabled iface 
def  defer Generator g deferred result Nonewaiting [rue None 1 try result g except Stop Iteration deferred result return deferredexcept deferred return deferredif isinstance result Deferred return fail Type Error 'ieldwait For Deferred d notd if isinstance result wait For Deferred def got Result r result result result rif waiting waiting Falsewaiting relse  defer Generator g deferred result Both got Result if waiting waiting Falsereturn deferredwaiting Truewaiting Noneresult None 
def escape quotes text return ''.join escape table c c for c in text 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
@pytest.mark.django dbdef test get children project0 language0 def  all children are directories or stores item for child in item if isinstance child Directory  all children are directories or stores child else assert isinstance child Store for tp in project0 assert isinstance tp Translation Project  all children are directories or stores tp for tp in language0 assert isinstance tp Translation Project  all children are directories or stores tp 
def indent element level 0 indent ' DCTB ' def empty text return not text or not text def indent  element level last child count len element if child count if empty element element '\n' + indent * level + 1 if empty element element '\n' + indent * level + -1 if last else 0 for i child in enumerate element indent  child level + 1 i child count - 1 elif empty element element '\n' + indent * level + -1 if last else 0 return indent  element level True 
def libvlc vlm get media instance time p instance psz name i instance f  Cfunctions 'libvlc vlm get media instance time None or  Cfunction 'libvlc vlm get media instance time 1 1 1 None ctypes int Instance ctypes char p ctypes int return f p instance psz name i instance 
def string span tokenize s sep if len sep 0 raise Value Error 'okendelimitermustnotbeempty left 0while True try right s sep left if right ! 0 yield left right except Value Error if left ! len s yield left len s breakleft right + len sep 
def volume type create context values projects None return I M P L type create context values projects 
def monitor todo format physical line pos physical line 'TODO' pos1 physical line 'TODO ' pos2 physical line '#' if pos ! pos1 and pos2 > 0 and pos2 < pos return pos 'ENERGYN101 Use T O D O NAME '
def parse path value value strip spaces and quotes value assert valid path value return value 
def test callable args func args assert isinstance args list tuple signature getattr inspect u None if signature is not None try sig  signatures cache Key Error sig signature func  signatures cache sigtry sig *args except Type Error return Falseelse return Trueelse spec inspect func def drop self spec args varargs varkw defaults specif args 1] [u'self'] args args ]return inspect Arg Spec args varargs varkw defaults spec drop self spec if spec is not None return Truereturn len spec - len spec or [] < len args < len spec 
def uniq seq return [x for i x in enumerate seq if seq x i ]
def dmp rr prs gcd f g u K if not u return dup rr prs gcd f g K result  dmp rr trivial gcd f g u K if result is not None return result fc F dmp primitive f u K gc G dmp primitive g u K h dmp subresultants F G u K [ -1 ] c _ _ dmp rr prs gcd fc gc u - 1 K if K negative dmp ground LC h u K h dmp neg h u K _ h dmp primitive h u K h dmp mul term h c 0 u K cff dmp quo f h u K cfg dmp quo g h u K return h cff cfg 
def wns send bulk message uri list message None xml data None raw data None **kwargs if uri list for uri in uri list wns send message uri uri message message xml data xml data raw data raw data **kwargs
def iter unique scheme hostname urls scheme hostname set for x in urls p urlparse x scheme hostname p p return list scheme hostname 
def enf type field  type val try return  type val except Value Error raise Twitter Error {u'message' u field  type  name   }
def  space prefix pref full sep None indent None include sep True if sep is None sep os pref sep full full sep padding []while pref and full and pref full if indent is None padding '' * len full + len sep else padding '' * indent full 0 pref 0 if padding if include sep return ''.join padding + sep + sep full else return ''.join padding + sep full else return sep full 
def test copy label read label label fname label 2 label label 2.pos + 1assert array equal label label 2.pos - 1
def get retention policy database name **client args client  client **client args try return next p for p in client list retention policies database if p 'name' name except Stop Iteration return {}
def  add tracking summary to resource dict resource dict model tracking summary model Tracking Summary for resource resource dict resource dict summary tracking summary 
def get new files dire return read in os dire 'NEW FILES' .splitlines
def create Triple D E S key IV impl List None if impl List None impl List ['cryptlib' 'openssl' 'pycrypto']for impl in impl List if impl 'cryptlib' and cryptomath Loaded return Cryptlib Triple D E S key 2 IV elif impl 'openssl' and cryptomath Loaded return Open S S L Triple D E S key 2 IV elif impl 'pycrypto' and cryptomath Loaded return Py Crypto Triple D E S key 2 IV raise Not Implemented Error 
def update Profile Save Listeners for global Profile Save Listener in euclidean List Table Elements settings Profile Save Listener List Table global Profile Save Listener cancel All 
def test emacs arguments for all commands for key in ANSI SEQUENCES if key ! u try result cli  feed cli with input u + key + u X result cli  feed cli with input u + key + u X except Keyboard Interrupt assert key u 
def sorted unique series return list pd Series series .sort values 
def distfitbootstrap sample distr nrepl 100 nobs len sample res np nrepl for ii in range nrepl rvsind np nobs size nobs x sample distr fr x frozen [np.nan 0.0 1.0] return res 
def combined cuboids dimensions required None required tuple required if required else for dim in required if dim not in dimensions raise Argument Error "equireddimension % str dim cuboids []to combine [dim for dim in dimensions if not dim in required ]for i in range len to combine 0 -1 combos itertools to combine i combos [ required + combo for combo in combos + tuple combos if required cuboids [required] + cuboids return cuboids 
def check session view request return Http Response request 'session var 'NO'
def equate Rectangular Dot Z point return Value point return Value 
def crypto login request if 'client nonce in request G E T client nonce request G E T nonce session Sync Session client nonce client nonce except Sync Session Does Not Exist return Http Response Server Error 'essionnotfound if session device trusted user get object or None User username 'centraladmin' if not user user User username 'centraladmin' is superuser True is staff True is active True user unusable password user user 'odel Backend login request user session return Http Response Redirect reverse 'homepage'
def broadcasted add a b raise Not Implemented Error 'TODO implementthisfunction 
def  easteregg app gyver '\n'.join [ x + 77 - len x * '' for x in 'y Flzu O J Dk M R P06x Rjym Kg D J C D Q St B Y T8 B Cg K4g Twf Q2fc Fs2a Fzv Zk Rv R J D148ef Ht9m Xz94d R Y5h Gt1nr Yc Xx7us P9 H H Nh28rz Zj V F F Pdl Y4z H873 N K Cexr D M6zxx Rymzz Q Ixz K4bth P V7 Hn6 W X Z5 C4ka Fzx3z W L M H A V Zb8 R R Uxt F X I5 D T Q2n Hi2s N I H K43 A O W S Y Ez E4na Fp58 Pdzh P Mdsl L V W H T G U Vp Sx Imw S D Jhz Lfd S1j Pz U Mxij U0 I9zcb Z Hc Zxc Qjvvc Th M Y Fnp93ag Ex392 Zd L J W Xbi Ca4 Oivl4h Y1 Er Eq P Xa4qn U Ku5 U E9 U U A4xeq L J5 Wl P K Jv R2yh R I7x F Pdz Puc6ad Xu6ovw Xw R P X Xn Z Hxl Ptk Skq W Hils Or Grvc V W Xg G P3da Xom Cj317 P2 U Ow Nn A0 O Oik Zy Ff3z Z76e N9 Q X Nw Yd D8f Ld B R Fg0 B O3b B Pe G8er D Jv83 X Tkj7 We M B J Afd O51d Fglfi8 U7zbnr J Hh F Z N X Yf H8 Iafv2 Oa D T6l U Ylaj V Egk1x E8 L X J Xl2 S K G J Cxtnyh V Kv6 G F C E B1 O O3f Y W A I Ebwc R Wv R Pps Ez Ok X U R M N37 J0 Po C S Ye Bn J Qd9 Giu Lx Y Q J Nl Y P So T Qwgaihb A R T7 Fcyem2t T S Ccw N Cs85 M O Op Jt Xh X De0 E7zg Z Jkcx W Tar Ejd I V Ck Xy87 F W6j G Zhtt D Bo A Z3vnmlkx Mm Cd Ltn Hk B X F M C Reqth S Gk Q M D X L L Cp Xw Bs0t Ihs D I B B8 Mwq Y Qp Lyg Z56r R H Hpw O A Vy Gga G R H Wy2 Qf Xez Z Q Q T T Bkm R Xd V A9 Lw H6 X G Zp E A Z U8rs E R4 F Q3 Uwt8 R K Et Rc0 Cr A N Uoes3 Ez M6 W Yc Fysk G Z6 U T H J Wen B D S7h Eo2bpzqx N E9a Vg E M2 Cq I G A Je9 Yra4 P5q Kmta27 Vjz Yd R04 Vc7 K He Y4vs C0nbyw Fmc S X Yjz B Hdi Ejra S7 P G G2j H H Tp J U Mx N Jlxr3p Uu Fvl B W L J G E3 Gc A1 Lc Hml O L A Xbhr Xah1t D6 Ze F Gd Za5 F M Hc K Na Earut A Q0 A Q M A Z H V Lx Aw Wn Xbb S X E G2 Dm C X5ije L C Kj5lh V F Br Mm Ott C Ae Fp Ud Zy Q L A Qk A06 R Ls56rz G M I D55vqr Qr E0 T Vxgoi Zh Hrb Y2h U Vg1nlkp Dr Q7 Vm1x Ik I5 X R K Led N9 Ejz Vchu Qh Xc Vkj Vdg P2 O99 Q Shpdv X Wo Swkp5u Mwyjt3ji W Cq W G Siaa P Azohj Pan X V Lb M3x Nsk Jsa C Eyz D T K Is W K J D4 Zc J Gf Mh L F Bf6hlbn Nk L Ee P F8 Cx2o Y F4 Mz Axa6i I Qksw Oq G O Na Z X8 Mr Z Ra F Zp Le V T Y I9 F Y6 D D V Vs340n Z Gmwr Dq T Ciiq D5luj Ozwpm Q Ci Qhd R Yow U Y E A3i W W Gw L4 G Ct So O4 Xb I P Fe K G U13 X Pk Df5 Idim Lp Avi2k V D V Qbz O Oa4 K A X M Flpi V8 F6 I De0 Y2reg Pu N K T3i R Yh Zqtk Q Zq S B2 Qm0 S Gtj Aw7 R Dwa M1ro E S C8 H Wi Pxko Oy0l L T R F G39kvb L Zb U9g F K F Rvix D Z B Jmpi Xyq3 R E5l W00 E Jjaqwp E By M Sp V Z Ys E I J4 A Pa Hm Vtp G Sie V5 C A L Ot N U Az T Biw81 G Lg C0quyzf Nl Wknz Je Cs J5fup R4d C Y G N77mu O1 Uqbf El Z9 E6c R6zb Hjgsr9ly Xj Zo Pe Dj Puzl Wb Fw S Pkhnt Fvkc13qb L L5 Nr A3 N Iq3r Nnop9 Diz W Oq C Eby R B F J T Hn6 Tt3 C G1o Hev Yh0 Xi J R0 A V V Hu Gu M O Ifbu Q O K Bk G R C6 N J4u P X8b G N I O Q6 Y B X3 Iw Rl T Sabt Zp Y L B85l Ytkkgm X K3 Du2mnr I N Xm T K I12n E F Bk J H Hp0w Jy Le9 Mv P N U G Ysf Roy2l U R G H A Iap Sp Q E Du No J C H Nl Z Yh Kpvw4msp V Wxqo415n D62 N9 Ef Hr Avq Qn I N Stetek7 R Y2 Urv8nxsn Ga Zf Rr Xb J6m Lz Yqsc D Z A9 Q H L Nbda S T Tr Fg3b C0i Yb X Qy0 Bv3h B50 S G Yz K A Xk Ce O L I3bc At Z F M1v Q Wg Dyns Rw Nvr Wn J Hlespkrp8 O1j Naibm Phq X P Pv30 Yw D Z6j Ape3w Uj F Qobghv W9p Lk G Nv8b D Q833z 'base64' .decode 'zlib' .splitlines ] def easteregged environ start response def injecting start response status headers exc info None headers ' Powered By 'erkzeug return start response status headers exc info if environ 'QUERY STRING' ! 'macgybarchakku' return app environ injecting start response injecting start response '200OK' [ 'ontent Type 'text/html' ] return [ ' O C T Y P Ehtml About Werkzeug "text/css">\nbody{font 1eorgia serif center #333;text-decoration none 30px;margin 20px010px0;}\np{margin 0030px0;}\npre{font 1onsolas \onaco monospace 0.95;}\n</style>\n</head>\n<body>\n<h1><ahref "http /erkzeug Swiss Armyknifeof Pythonwebdevelopment % gyver ]return easteregged 
def Delete Campaign Feed client campaign feed campaign feed service client Get Service 'ampaign Feed Service 'v201605' operation {'operand' campaign feed 'operator' ' E M O V E feed service [operation]
def test help command should exit status ok when no cmd is specified script result script 'help' assert result SUCCESS
def  coordinate Type hemisphere return Angles L A T I T U D E if hemisphere in 'NS' else Angles L O N G I T U D E 
def ds format ds input format output format return datetime ds input format .strftime output format 
def  centered arr newsize newsize np newsize currsize np arr startind currsize - newsize // 2 endind startind + newsize myslice [slice startind endind for k in range len endind ]return arr myslice ]
def sin cos data 6 * sin data * cos data 
def dmp inner gcd f g u K if not u return dup inner gcd f g K J f g dmp multi deflate f g u K h cff cfg  dmp inner gcd f g u K return dmp inflate h J u K dmp inflate cff J u K dmp inflate cfg J u K
def seasonal plot grouped x xticklabels ylabel None ax None fig ax utils mpl ax ax start 0ticks []for season df in grouped x df df df index nobs len df x plot np start start + nobs ticks x plot ax x plot df 'k' ax df x plot x plot -1 ] colors 'r' linewidth 3 start + nobsax xticks ticks ax xticklabels xticklabels ax ylabel ylabel ax 0.1 0.05 return fig 
def scp remote escape filename escape chars '!"$&\' * ;< >?[\\]^`{|}'new name []for char in filename if char in escape chars new name '\\%s' % char else new name char return utils escape ''.join new name 
def hash Password Tuple password digest Mod hashlib iterations 10000 salt Size 32 salt os salt Size password password u hash pbkdf2 password salt iterations digest Mod digestname digest Mod  name  .replace u ' u return digestname iterations salt hash 
def not zero x if x 0 returnreturn x 
def add share key to url plot url urlsplit six plot url username urlsplit '/' [1].split '~' [1]idlocal urlsplit '/' [2]fid '{} {}'.format username idlocal body {'share key enabled True 'world readable False v2 fid body return plot url + '?share key ' + response ['share key 
def corpus iterator corpus file with logprob False l corpus file tagfield with logprob and -2 or -1 try while l line l if line fields line '' ne tag fields ''.join fields tagfield yield word ne tag else yield None None l corpus file except Index Error sys 'ouldnotreadline \n' sys '\n%s' % line if with logprob sys 'idyouforgettooutputlogprobabilitiesinthepredictionfile sys 1
def rpm packages attrs None where None if   grains  ['os family 'ed Hat return  osquery cmd table 'rpm packages attrs attrs where where return {'result' False 'comment' 'nlyavailableon Red Hatbasedsystems 
def mplfig to npimage fig from matplotlib agg import Figure Canvas Aggcanvas Figure Canvas Agg fig canvas l b w h canvas w h int w int h buf canvas rgb image np buf dtype np return image h w 3
def manhattan distances X Y None sum over features True size threshold 500000000.0 X Y check pairwise arrays X Y if issparse X or issparse Y if not sum over features raise Type Error 'sum over features %rnotsupportedforsparsematrices' % sum over features X csr matrix X copy False Y csr matrix Y copy False D np X Y  sparse manhattan X X X Y Y Y X D return Dif sum over features return distance X Y 'cityblock' D X[ np ] - Y ] D np D D return D -1 X 
def  inject imread collection if needed module if not hasattr module 'imread collection and hasattr module 'imread' imread getattr module 'imread' func imread collection wrapper imread setattr module 'imread collection func 
def  fswalk no symlinks path for dirpath dirnames filenames in  os walk unicode path yield dirpath dirnames filenames 
def add Vertexes geometry Output vertexes if geometry Output  class   list for element in geometry Output add Vertexes element vertexes returnif geometry Output  class   dict for geometry Output Key in geometry Output if geometry Output Key 'vertex' vertexes + geometry Output Output Key add Vertexes geometry Output Output Key vertexes 
def install candidate candidate version None java version None install java version if version is None cmd 'gvminstall%s' % candidate else cmd 'gvminstall%s%s' % candidate version run cmd 
def test iht fit sample knn est 'knn'iht Instance Hardness Threshold est random state RND SEED X resampled y resampled iht sample X Y X gt np [[ -0.3879569 0.6894251] [ -0.09322739 1.28177189] [ -0.77740357 0.74097941] [0.91542919 -0.65453327 ] [ -0.43877303 1.07366684] [ -0.85795321 0.82980738] [ -0.30126957 -0.66268378 ] [ -0.65571327 0.42412021] [0.20246714 -0.34727125 ] [1.06446472 -1.09279772 ] [0.30543283 -0.02589502 ] [ -0.00717161 0.00318087]] y gt np [0 1 1 0 1 1 1 0 1 0 0 0] assert array equal X resampled X gt assert array equal y resampled y gt 
def join url dir url *args for path in args url url '/' + '/' url urljoin url path '/' return url 
def array to xy origin image return rgb transpose image -1 ]
def is valid number numobj region code region code for number numobj return is valid number for region numobj region code 
def test gen tpot obj T P O T Classifier pipeline tpot obj gen grow safe tpot obj pset 1 3 assert len pipeline > 1 assert pipeline Output DF
@pytest.fixture scope 'session' def user config data user dir cookiecutters dir user dir 'cookiecutters' replay dir user dir 'cookiecutter replay return {'cookiecutters dir str cookiecutters dir 'replay dir str replay dir }
def get string sort order s for i size in enumerate GARMENT SIZES if size in s return 10 + i s try return 5 parse decimal string s except return 1 s 
def get Server request return Server get Open I D Store get View U R L request endpoint 
def libvlc audio set mute p mi status f  Cfunctions 'libvlc audio set mute None or  Cfunction 'libvlc audio set mute 1 1 None None Media Player ctypes int return f p mi status 
def train S V M features Cparam [X Y] list Of Features2 Matrix features svm sklearn S V C C Cparam kernel 'linear' probability True svm X Y return svm 
def polynomial exp mod base exponent polymod p assert exponent < p if exponent 0 return [1]G basek exponentif k % 2 1 s Gelse s [1]while k > 1 k k // 2 G polynomial multiply mod G G polymod p if k % 2 1 s polynomial multiply mod G s polymod p return s 
def bootstrap consensus msa times tree constructor consensus trees bootstrap trees msa times tree constructor tree consensus list trees return tree 
def exception response status code **kw exc status map code **kw return exc 
def  systemctl cmd action name None systemd scope False ret []if systemd scope and salt scope   context   and   salt  ['config.get'] 'systemd.scope' True ret ['systemd-run' '--scope'] ret 'systemctl' if isinstance action six types action shlex action ret action if name is not None ret  canonical unit name name if 'status' in ret ret ['-n' '0'] return ret 
def Serialize Error Exception pass 
def fetch aws uuid fetch url constants Urlfetch Test Identifiers A W S U R Lreturn fetch fetch url 
def get mirrors config git name log logging Logger 'gitosis.mirror.get mirrors try mirrors config 'repo%s' % git name 'mirrors' for mirror in mirrors yield mirror except No Section Error No Option Error passmirror sections s for s in config if s 'mirror' for section in mirror sections try repos config section 'repos' if repos '@all' or git name in repos yield config section 'uri' .strip % git name except No Option Error log '%ssectionislackingthe"repos"or"uri"settings.' section 
def test set params tpot obj T P O T Classifier assert tpot obj params is tpot obj 
def fully normalize name name return ''.join name .split
def email to group id address address address '@' 1 [0]signed data address '+' ' ' return int force bytes signer signed data 
def gl Get String Size s width 0for c in s width + glut Bitmap Width Open G L G L U T G L U T BITMAP HELVETICA 18 ord c height 18return width height 
def remap static url original url course input url "'" + original url + "'" output url replace static urls input url getattr course 'data dir None course id course static asset path course asset path return output url -1 ]
def instance type extra specs update or create context flavor id extra specs I M P L type extra specs update or create context flavor id extra specs 
def  Make Request host path request dict from viewfinder auth import Basic Auth Handlerif Basic Auth Handler HTTP TEST CASE url 'http //%s/admin%s' % host path else url 'https //%s/admin%s' % host path req urllib2 Request url req data json request dict req header 'ontent Type 'application/json' return req 
def get Character Integer String character offset split Line step Length float Value get Float From Character Split Line character split Line if float Value is None return 'alue + offsetinteger Value int round float float Value / step Length return character + str integer Value 
def make eval exception app global conf xmlhttp key None if xmlhttp key is None xmlhttp key global conf 'xmlhttp key '_' return Eval Exception app xmlhttp key xmlhttp key 
@cache page 60 * 60 * 168 def opensearch plugin request host u //%s' % 'https' if request secure else 'http' request host return render to response 'search/plugin.html' {'host' host 'locale' request L A N G U A G E CODE} content type 'application/opensearchdescription+xml'
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def bandpass data low 80 high 1200 rate 44100 order 6 b a  butter order low high rate return lfilter b a data 
def icons icons [ 'image/jpeg' 'jpeg' 'image/png' 'png' '' 'default' ] dirs files storage settings A D D O N ICONS DEFAULT PATH for fname in files if '32' in fname and 'default' not in fname icon name fname '-' [0]icons.append 'icon/%s' % icon name icon name return icons 
def s3 image get context image id return I M P L image get context image id 
@must be valid project have permission WRITE @must not be registrationdef remove pointer from folder auth node pointer id **kwargs if pointer id is None raise H T T P Error http B A D REQUEST pointer id node at pointer id pointer Pointer pointer id if pointer is None raise H T T P Error http B A D REQUEST try node pointer pointer auth auth except Value Error raise H T T P Error http B A D REQUEST node 
def  sanitize ipv4 mapping ip str if not ip str .startswith '0000 0000 0000 0000 0000 ffff ' return ip strhextets ip str ' ' if '.' in hextets -1 ] return ip stripv4 address '%d.%d.%d.%d' % int hextets 2] 16 int hextets 4] 16 int hextets 2] 16 int hextets 4] 16 result ' '.join hextets 6] result + ' ' + ipv4 address return result 
def to filename name return name '-' '_'
def Build And Display Ad Unit Tree root ad unit all ad units tree {}for ad unit in all ad units if 'd in ad unit if ad unit Id not in tree tree unit Id []tree[ad unit Id ad unit Display Ad Unit Tree root ad unit tree 
def rgb2ycbcr rgb arr  convert ycbcr from rgb rgb arr 0] + 16arr[... 1] + 128arr[... 2] + 128return arr 
def model to ctype val if isinstance val Model val {'pk' val 'ctype' Content Type for model val .pk}return val 
def render form field field context None form field u % field return render template with form u field + form field + u context 
def dropname ss li newli li ]for item in ss newli item return newli 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
def report tests output flaky tests tests list test for test _ in flaky tests for test in sorted tests output '{}\n'.format test 
def duplicate identical ops ops for i in range len ops for j in range i + 1 len ops if ops ops ops ops 
def get Int From Value value try return int value except passreturn None 
def test rechunk 4d old 5 5 * 4 a np 0 1 10000 .reshape 10 * 4 x da array a chunks old new 10 * 4 x2 rechunk x chunks new assert x2 new assert np x2 a 
def dropout locations incoming *args **kwargs kwargs axes 1 return Dropout Layer incoming *args **kwargs
def load emacs open in editor bindings registry Registry registry binding Keys Control X Keys Control E filter Emacs Mode & ~ Has Selection get by name u return registry 
def  get request body request body if request body is None return ''if isinstance request body Windows Azure Data request body  convert class to xml request body if isinstance request body bytes return request bodyif isinstance request body  unicode type return request body 'utf-8' request body str request body if isinstance request body  unicode type return request body 'utf-8' return request body 
def  font Validator font if u ' in font font1 families2 font u ' 1 else font1 families2 font None if not  font Regex Replacements  FONT WITH 1 FAMILY'] font1 return Falseif families2 and not  font Family Validator families2 return Falsereturn True 
def test config  ip 'config'
def test env vars available during preload gunicorn Arbiter Preloaded App With Env Settings 
def test att double space header checker header checker filename 'attachment;filename "foobar.html"' 'foobar.html'
def get graphics vm  out {'autoport' 'one 'keymap' 'one 'listen' 'one 'port' 'one 'type' 'one get xml vm  ssock  String I O xml doc minidom ssock for node in doc Elements By Tag Name 'domain' g nodes node Elements By Tag Name 'graphics' for g node in g nodes for key value in g node out valuereturn out 
def create leq lh op rh op None constr id None if constr id is None constr id get id expr get constr expr lh op rh op return Lin Leq Constr expr constr id lh op 
def  random stochastic matrix m n k None sparse False format 'csr' random state None if k is None k nprobvecs probvec m k random state random state if k n P probvecsif sparse return scipy matrix P .asformat format else return Prows np np m k cols sample without replacement n k num trials m random state random state .ravel data probvecs if sparse P scipy matrix data rows cols shape m n return P format else P np m n P[ rows cols ] datareturn P
@deprecated 'useargs.pop 0 ' def main run args doc None copyright None version None  C O M M A N D S doc C O M M A N D S copyright C O M M A N D S version C O M M A N D S args 
def write Plist To Resource root Object path restype 'plst' resid 0 warnings 'n3 write Plist To Resourceisremoved from Carbon File import F S Ref F S Get Resource Fork Namefrom Carbon Files import fs Rd Wr Permfrom Carbon import Resplist Data write Plist To String root Object fs Ref F S Ref path res Num Res F S Open Resource File fs Ref F S Get Resource Fork Name fs Rd Wr Perm Res Use Res File res Num try Res Get1 Resource restype resid .emove Resource except Res Error passres Res Resource plist Data res Add Resource restype resid '' res Write Resource Res Close Res File res Num 
def init tparams params tparams Ordered Dict for kk pp in params tparams theano params name kk return tparams 
def  patch File Log Observer patch log Files [ile Lob Observer log File Log Observerdef File Log Observer log File log Files log File return old File Lob Observer log File patch log 'ile Log Observer File Log Observer return log Files 
def get Num Joysticks if backend 'pyglet' return len pyglet input joysticks else pygame return pygame count 
def publish template hass topic payload template qos None retain None data  build publish data topic qos retain data A T T R PAYLOAD TEMPLATE] payload templatehass DOMAIN SERVICE PUBLISH data 
def  convert to datetime unix timestamp try unix timestamp float unix timestamp return datetime unix timestamp .strftime ' H %M %S' except Value Error Type Error return 'nvalid Timestamp 
def p enum item p if len p 4 p [p[1] p len p 2 p [p[1] None 
def cleanup extra indexes model class extra indexes model class indexes .get 'extra' None if not extra indexes return 0removed count 0c model class get collection for extra index in extra indexes try c index extra index L O G 'roppedindex extra index model class  name   removed count + 1except Operation Failure L O G 'ttempttocleanupindex extra index exc info True return removed count 
def iri2uri uri if isinstance uri str scheme authority path query fragment urllib uri authority authority 'idna' .decode 'utf-8' uri urllib scheme authority path query fragment uri ''.join [encode c for c in uri return uri 
def configure loglevel logging I N F O verbose False simple False logger logging Logger outstream sys simple formatter Dumb Formatter verbose elif platform 'indows outstream Windows Output Stream outstream formatter A N S I Color Formatter verbose elif outstream formatter A N S I Color Formatter verbose else formatter Dumb Formatter verbose if hasattr logger 'andler logger Handler Formatter formatter logger Level loglevel else logger Handler logging Stream Handler outstream logger Handler Formatter formatter logger Handler logger Handler logger Level loglevel 
def mad std data axis None return median absolute deviation data axis axis * 1.482602218505602
def random weighted sample mapping k if k > len mapping raise Value Error 'samplelargerthanpopulation' sample set while len sample < k sample weighted choice mapping return list sample 
def sed filename change dict f open filename 'r' data f f for key val in change dict data data key val f open filename 'w' f data f 
def parse netntlm resp msg headers resp header seq try header val3 headers header Key Error returnheader val3 header val3 '' 1 if header val3 'NTLM' or header val3 'egotiate try msg3 base64 header val3 except binascii Error returnreturn parse ntlm resp msg3 seq 
def decompose power expr base exp expr base exp if exp Number if exp Rational if not exp Integer base Pow base Rational 1 exp exp exp base exp expr 1 else exp tail exp coeff Mul rational True if exp is S Negative One base exp Pow base tail -1 elif exp is not S One tail  keep coeff Rational 1 exp tail base exp Pow base tail exp else base exp expr 1 return base exp 
def get user for token token scope max age None try data signing token max age max age except signing Bad Signature raise exc Not Authenticated _ 'nvalidtoken model cls get user model try user model cls pk data 'user %s id % scope ] except model cls Does Not Exist Key Error raise exc Not Authenticated _ 'nvalidtoken else return user 
def post dns record **kwargs if 'kwargs' in kwargs f kwargs kwargs kwargs f kwargs mandatory kwargs 'dns domain 'name' 'record type 'record data for i in mandatory kwargs if kwargs passelse error '{0} "{1}"##allmandatoryargsmustbeprovided {2}'.format i kwargs str mandatory kwargs raise Salt Invocation Error error domain query method 'domains' droplet id kwargs domain if domain result query method 'domains' droplet id kwargs domain command 'records' args {'type' kwargs type 'name' kwargs 'data' kwargs data http method 'post' return resultreturn False 
def  Add Clear Field Method message descriptor cls def Clear Field self field name try field message descriptor by name name Key Error raise Value Error 'rotocolmessagehasno % field name if field in self fields del self fields Modified cls Clear Field Clear Field 
def get all by namespace context namespace name session namespace namespace api context namespace name session db recs session models Metadef Resource Type .join models Metadef Resource Type .filter by namespace id namespace .values models Metadef Resource Type models Metadef Namespace Resource Type target models Metadef Namespace Resource Type models Metadef Namespace Resource Type at models Metadef Namespace Resource Type at model dict list []for name properties target prefix created at updated at in db recs model dict list  set model dict name properties target prefix created at updated at return model dict list 
def  get mask X value to mask if value to mask 'a N or np value to mask return np X else return X value to mask 
def  strip clear tag v if isinstance v Cleared Value return v return v 
def test sigma clip scalar mask data np 5 result sigma clip data sigma 100.0 iters 1 assert result !
def prefix handlers default None error 'herequestedprefixdoesnotmatchanyofthoseallowed def output type data request response path request defaultfor prefix test prefix handler in handlers if path prefix test handler prefix handlerbreakif not handler raise falcon H T T P Not Acceptable error response type handler typereturn handler data request request response response output type  doc   'upportsanyofthefollowingformats {0}'.format ' '.join function  doc   for function in handlers output type type ' '.join handlers return output type 
def activate minion cachedir minion id base None if base is None base   opts  ['cachedir']fname '{0}.p'.format minion id src os base 'requested' fname dst os base 'active' shutil src dst 
def is backend frozen context host cluster name return I M P L backend frozen context host cluster name 
def test bootstrap length out algo a norm assert equal len out 10000 n boot 100out algo a norm n boot n boot assert equal len out n boot 
def pytest generate tests metafunc test indices [0]test funcs [est Funcs dot reduction mix Test Funcs dot reduction transpose mix tensor flags ['pos rand 'neg rand 'rand']test tensor dims [ 2 2 ]if 'custom args in metafunc fargs itertools test indices test funcs test tensor flags test tensor dims metafunc 'custom args fargs 
def collapse linebreaks string threshold 1 n '\n' * threshold p [s.rstrip for s in string ]string '\n'.join p string re n + '+' n string return string 
def node return uname .node
def add cinder for name function in globals .items if not inspect function continueargs inspect function [0]if args and name 'cinder' exec 'pep8.%s %s' % name name 
def isbinarytext text assert isinstance text str "textmustbestr got % type text .  name   return any c in  BINARYCHARS for c in text 
def Get Notifications user None token None if not user user getpass user obj aff4 F A C T O R Y Open aff4 R O O T U R N Add 'users' .dd user token token return list user obj Get user obj Schema P E N D I N G NOTIFICATIONS
def  equal topology tree1 tree2 term names1 set term for term in tree1 clades terminal True term names2 set term for term in tree2 clades terminal True return term names1 term names2 and  bitstring topology tree1  bitstring topology tree2 
def get Left Point Index points if len points < 1 return Noneleft Point Index 0for point Index in xrange len points if points Index < points Point Index left Point Index point Indexreturn left Point Index 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def patch dns from gevent import socketpatch module 'socket' items socket  dns  
def get model location session service definition service name None service model Service Model service definition if service name is None endpoint prefix service model prefixservice name  get service name session endpoint prefix api version service model versiondata path session component 'data loader .CUSTOMER DATA P A T Hservice model name 'service-%d.json' % int float service definition 'version' '2.0' return os data path service name api version service model name 
def  image entropy img hist img hist size sum hist hist [ float h / hist size for h in hist - sum p * math p 2 for p in hist if p ! 0
def calc accuracy X queries n queries n neighbors exact neighbors average time exact **lshf params print 'uilding L S H Forestfor % X X lshf L S H Forest **lshf params t0 time lshf X lshf build time time - t0 print 'onein % lshf build time accuracy 0t0 time approx neighbors lshf queries n neighbors n neighbors return distance False average time approx time - t0 / n queries for i in range len queries accuracy + np approx neighbors exact neighbors .mean accuracy / n queriesspeed up average time exact / average time approx print 'veragetimeforlshfneighborqueries %0.3fs' % average time approx print 'veragetimeforexactneighborqueries %0.3fs' % average time exact print 'verage Accuracy %0.2f' % accuracy print 'peedup %0.1fx' % speed up return speed up accuracy 
def parse decimal string return get i18n .parse decimal string 
def bei zeros nt if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'ntmustbepositiveintegerscalar.' return specfun nt 2
def hadamard product *matrices if not matrices raise Type Error 'mpty Hadamardproductisundefined validate *matrices if len matrices 1 return matrices return Hadamard Product *matrices .doit
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def selection sort collection length len collection for i in range length least ifor k in range i + 1 length if collection < collection least k collection collection collection collection return collection 
def  normalized levenshtein distance s1 s2 acceptable differences if len s1 > len s2 s1 s2 s2 s1 acceptable differences set - i for i in acceptable differences distances range len s1 + 1 for index2 num2 in enumerate s2 new distances [ index2 + 1 ]for index1 num1 in enumerate s1 if num2 - num1 in acceptable differences new distances distances else new distances 1 + min distances distances index1 + 1 ] new distances -1 ] distances new distancesreturn distances -1 ]
def make random form identification uuid .hex[ 8]return Account Creation Form data {'username' 'user {id}'.format id identification 'email' 'email {id}@example.com'.format id identification 'password' '12345' 'name' 'ser id identification } tos required False 
def  client type app id return '1' if app id '/' else '0'
def  prf divide numerator denominator metric modifier average warn for result numerator / denominator mask denominator 0.0 if not np mask return resultresult 0.0axis0 'sample'axis1 'label'if average 'samples' axis0 axis1 axis1 axis0 if metric in warn for and 'f-score' in warn for msg start ' metric elif metric in warn for msg start '{0}is'.format metric elif 'f-score' in warn for msg start ' return resultmsg '{0}ill-definedandbeingsetto0.0{{0}}no{1}{2}s.'.format msg start modifier axis0 if len mask 1 msg msg 'dueto' else msg msg 'in{0}swith'.format axis1 warnings msg Undefined Metric Warning stacklevel 2 return result 
def cache subnet group absent name region None key None keyid None profile None **args ret {'name' name 'result' True 'comment' '' 'changes' {}}args dict [ k v for k v in args if not k '_' ] exists   salt  ['boto3 elasticache subnet group exists name region region key key keyid keyid profile profile if exists if   opts  ['test'] ret 'achesubnetgroup name ret Nonereturn retdeleted   salt  ['boto3 elasticache cache subnet group name region region key key keyid keyid profile profile **args if deleted ret nameret Noneelse ret Falseret 'ailedtodelete subnetgroup name else ret 'achesubnetgroup name return ret 
def test pdbbreakpoint op b tensor condition tensor b 0 b monitored Pdb Breakpoint name 'est Breakpoint condition b output b monitored ** 2 f theano [b] output mode mode with gpu topo f assert isinstance topo -2 ].op cuda Gpu Elemwise assert topo -1 ].op cuda from gpu 
def check valid profile option  opt str value parser profs registry plugin classes obj Profile if profs try profs Key Error debug 'nvalidprofile + value + 'selected' setattr parser option value 
def test run json dump mocker mock ensure success mock user config template name context replay test dir replay file spy get replay file mocker replay 'get file name mock json dump mocker 'json.dump' side effect json replay replay test dir template name context assert not mock user config mock ensure success called once with replay test dir spy get replay file called once with replay test dir template name assert mock json dump count 1 dumped context outfile handler kwargs mock json dump argsassert outfile handler replay file assert dumped context context 
def test marked class run twice testdir request py file testdir "\nimportpytest\n@pytest.mark.parametrize 'abc' [1 2 3] \est1 object \ndeftest 1 self abc \nassertabcin[1 2 3]\n" file name os py file rec testdir run file name file name rec passed 6
def stop trace logger 'DEBUG stop trace pipe out 'debugfinished!' pipe out None 
def  escape tex reserved symbols input def replace match return TEX RESERVED SYMBOLS M A P ]return TEX RESERVED SYMBOLS R E replace input 
def varmats from mat file obj rdr Mat File5 Reader file obj file obj 0 hdr len M D T Y P E S code header hdr file obj hdr len file obj 0 rdr read mdict rdr file header next position file obj named mats []while not rdr of stream start position next position hdr next position rdr var header name asstr hdr file obj start position byte count next position - start position var str file obj byte count out obj Bytes I O out obj raw hdr out obj var str out obj 0 named mats name out obj return named mats 
def e Get Handle I O Type Channel p Value x1 if os 'nt' static Lib ctypes Load Library 'labjackud' pv ctypes double p Value ec static Lib Get Handle I O Type Channel ctypes pv x1 if ec ! 0 raise Lab Jack Exception ec return pv raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def get public keys vm  key filename config cloud config value 'ssh public key vm    opts   search global False default None if key filename is not None key filename os key filename if not os key filename raise Salt Cloud Config Error "hedefinedssh public key key filename ssh keys []for key in open key filename .readlines ssh keys key return ssh keys 
def append to flowgram file identifier flowgram fh trim False if trim flowgram flowgram Quality Trimmed Flowgram if not hasattr flowgram 'spaced flowgram spaced flowgram seq ''.join map str flowgram flowgram flowgram spaced flowgram seqelse spaced flowgram seq flowgram flowgramfh '%s%d%s\n' % identifier len flowgram spaced flowgram seq 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def set user tags name tags runas None if runas is None and not salt windows runas salt user if tags and isinstance tags list tuple tags ''.join tags res   salt  ['cmd.run all [  context  ['rabbitmqctl'] 'set user tags name tags runas runas python shell False msg 'ag s set  format response res msg 
def dmp ground c u if not c return dmp zero u for i in range u + 1 c [c]return c 
def get dataless dataset model global yaml parseglobal controlif yaml parse is None from pylearn2 import yaml parseif control is None from pylearn2 import controlcontrol load data False try rval yaml parse model yaml src finally control load data return rval 
def bindeval text rv vim as vimencoding text if not isinstance rv dict list return as unicode rv return rv 
def change root new root pathname if os 'posix' if not os pathname return os new root pathname else return os new root pathname ] elif os 'nt' drive path os pathname if path '\\' path path ]return os new root path else raise Distutils Platform Error "nothingknownaboutplatform'%s'" % os 
def default include dirs return ['/usr/local/include' '/usr/include']
def skip Unless Any D B Feature *features return  deferred Skip lambda not any getattr connection feature False for feature in features "atabasedoesn s %s" % ' '.join features 
def get music section host port token library name api endpoint append token 'library/sections' token url urljoin 'http //{0} {1}'.format host port api endpoint r requests url tree E T r for child in tree 'irectory if child 'title' library name return child 'key'
def itn n digits 8 format DEFAULT FORMAT if 0 < n < 8 ** digits - 1 s '%0*o' % digits - 1 n + NUL else if format ! GNU FORMAT or n > 256 ** digits - 1 raise Value Error 'overflowinnumberfield' if n < 0 n struct 'L' struct 'l' n [0]s ''for i in xrange digits - 1 s chr n & 255 + s n >> 8s chr 128 + s return s 
def Find Missing Android Plain Assets referenced images android assets for name inset in referenced images if inset is not None continueif name in SKIP PLAIN print 'WARNING %s skippingduetohard % name continueandroid name Image Name Android name if android name not in android assets name 2x Image Name2 X name shutil os IOS IMAGES DIR name 2x os ANDROID IMAGES DIR android name print '%s notinandroidassets copied % name name 2x android name elif options print '%s OK' % name 
@jsonrpc method 'os.arch' def os arch request pipe Popen '/usr/bin/uname-m' stdin PIPE stdout PIPE stderr PIPE shell True close fds True arch pipe [0]if pipe 0 return arch 
def submission allowed user parsed addon data return not parsed addon data 'is experiment False or action allowed user user 'xperiments 'submit'
def check bucket name dns support bucket host bucket name if '% bucket s not in bucket host return Falsereturn check bucket name dns conformity bucket name 
def get uid item return hasattr item 'uid' and item 
def LONGER fragment return 0 - len fragment 
def handle 404 _ response exception logging exception response status 404 response jinja environment template '404.html' .render
def test fk5 seps a FK5 1.0 * u 1.0 * u b FK5 2.0 * u 2.0 * u a b 
def diskfull if cfg full return send T 'o %rom %ate %ubject S A Bnzbdreports Disk Full Hi \ A Bnzbdhasstoppeddownloading becausethediskisalmostfull Pleasemakeroomandresume S A Bnzbdmanually % cfg to string cfg from get email date cfg to else return ''
def cache file source try if source 'salt //' cached source   salt  ['cp.cache file source if not cached source raise Command Execution Error 'nabletocache source return cached sourceexcept Attribute Error raise Salt Invocation Error 'nvalidsourcefile source return source 
def  indexes gumt gdmt gwmt gdnt try ui gumt / gdmt except Zero Division Error ui 0.0try oi gwmt / gdnt except Zero Division Error oi 0.0try sw oi / ui except Zero Division Error if oi 0.0 sw float 'nan' else sw float 'inf' return ui oi sw 
def get loc from db location country row db table location .select table table L1 table L2 table L3 orderby table limitby 0 1 .first if row is None return lookup loc location country country code country codes country code row L1 row L2 row L3 
def unquote str return re escaped char  sub replacement str -1 ]
def validate optional args args optional args {'json' 'json/simplejsonpythonmodule' json 'secure' ' S Lsupport H T T P S Connection }for arg info in optional args if getattr args arg False and info is None raise System Exit '%sisnotinstalled.--%sisunavailable' % info arg 
def  bcpath dev return os  syspath dev 'bcache'
def parse value s if not s return REMOVE THIS K E Yelif s in u or s in u u u return json s else return s 
def grey erosion input size None footprint None structure None output None mode 'reflect' cval 0.0 origin 0 if size is None and footprint is None and structure is None raise Value Error 'size footprintorstructuremustbespecified return filters min or max filter input size footprint structure output mode cval origin 1
def chocolatey version if 'chocolatey. version in   context   return   context  ['chocolatey. version [ find chocolatey   context     salt   ]cmd.append '-v' out   salt  ['cmd.run'] cmd python shell False   context  ['chocolatey. version outreturn   context  ['chocolatey. version 
def is partition G partition return all sum 1 if v in c else 0 for c in partition 1 for v in G
def get impl ver impl ver get config var 'py version nodot if not impl ver or get abbr impl 'pp' impl ver ''.join map str get impl version info return impl ver 
def handle static environ start response path try text open path .read if path '.ico' resp Response text headers [ 'ontent Type 'image/x-icon' ] elif path '.html' resp Response text headers [ 'ontent Type 'text/html' ] elif path '.txt' resp Response text headers [ 'ontent Type 'text/plain' ] elif path '.css' resp Response text headers [ 'ontent Type 'text/css' ] elif path '.js' resp Response text headers [ 'ontent Type 'text/javascript' ] elif path '.png' resp Response text headers [ 'ontent Type 'image/png' ] else resp Response text except I O Error resp Not Found return resp environ start response 
def pyzmq version if   revision   return '@'.join [  version     revision  [ 6]] else return   version  
def create inspector win ctx *l ctx Inspector win win win children ctx window children on keyboard ctx shortcut 
def add Voronoi Point begin end mid X loop rotated Begin rotated End if rotated Begin > mid X loop begin if rotated End < mid X begin Minus End begin - end rotated Begin Minus End rotated Begin - rotated End loop end + begin Minus End * mid X - rotated End / rotated Begin Minus End returnif rotated End < mid X returnend Minus Begin end - begin rotated End Minus Begin rotated End - rotated Begin loop begin + end Minus Begin * mid X - rotated Begin / rotated End Minus Begin 
def module to dict module omittable lambda k k '_' return dict k repr v for k v in module  dict  .items if not omittable k 
def format block block nlspaces 0 import relines str block .split '\n' while lines and not lines del lines lines and not lines -1 ] del lines -1 ]ws re '\\s*' lines .group 0 if ws lines map lambda x x ws '' 1 lines while lines and not lines del lines lines and not lines -1 ] del lines -1 ]flines [ '%s%s' % '' * nlspaces line for line in lines '\n'.join flines + '\n'
def nproc try return  number   salt  ['cmd.run'] 'nproc' .strip except Value Error return 0
def strip site theme templates path uri theme get current theme if not theme return uritemplates path '/'.join [theme.theme dir name get project root name 'templates'] uri re '^/*' + templates path + '/*' '' uri return uri 
def get money supply bal rdint vs request Request vs M A C R O URL % vs P T Y P E vs D O M A I N S rdint vs M A C R O TYPE[2] 0 200 rdint text urlopen request timeout 10 .read text text 'gbk' reg Sym re '\\ count .*? \\}' datastr reg Sym text datastr datastr datastr 'data ' [1]js json datastr df pd Data Frame js columns vs M O N E Y SUPPLY BLA COLS for i in df df df lambda x np x is None '--' x return df 
def mimedata2url source extlist None pathlist []if source Urls for url in source path  process mime path to text string url String extlist if path is not None pathlist path elif source Text for rawpath in to text string source .splitlines path  process mime path rawpath extlist if path is not None pathlist path if pathlist return pathlist 
@cmddef test install sh '%s%s' % PYTHON TSCRIPT
def success revocation cert path z util interfaces I Display .notification 'ongratulations Youhavesuccessfullyrevokedthecertificatethatwaslocatedat cert path os pause False 
def vwmodel2ldamodel vw model iterations 50 model gensim Lda Model num topics vw model topics id2word vw model chunksize vw model passes vw model alpha vw model eta vw model decay vw model offset vw model iterations iterations gamma threshold vw model threshold model gensim Elogbeta ] vw model get topics return model gensim 
def multiple file beta input path output dir metrics tree path rowids None full tree False metrics list metricstry metrics list metrics list ' ' except Attribute Error passfile names os input path file names [fname for fname in file names if not fname '.' ]try os output dir except O S Error passfor metric in metrics list try metric f get nonphylogenetic metric metric except Attribute Error try metric f get phylogenetic metric metric if not tree path raise Value Error 'atreefileisrequiredfor' + metric except Attribute Error raise Value Error 'ouldnotfindmetric Knownmetricsare %s\n' % metric ' '.join list known metrics for fname in file names single file beta os input path fname metrics tree path output dir rowids full tree 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def open with auth url scheme netloc path params query frag urlparse url if scheme in 'http' 'https' auth host urllib2 netloc else auth Noneif auth auth 'asic + urllib2 auth .encode 'base64' .strip new url urlparse scheme host path params query frag request urllib2 Request new url request header 'uthorization auth else request urllib2 Request url request header 'ser Agent user agent fp urllib2 request if auth s2 h2 path2 param2 query2 frag2 urlparse fp if s2 scheme and h2 host fp urlparse s2 netloc path2 param2 query2 frag2 return fp 
def envs ignore cache False if not ignore cache env cache os   opts  ['cachedir'] 'hgfs/envs.p' cache match salt env cache   opts   env cache if cache match is not None return cache matchret set for repo in init repo if repo method in 'branches' 'mixed' for branch in  all branches repo branch name branch branch name repo branch name 'base'ret.add branch name if repo method in 'bookmarks' 'mixed' for bookmark in  all bookmarks repo bookmark name bookmark bookmark name repo bookmark name 'base'ret.add bookmark name ret [x[0] for x in  all tags repo ] repo return [x for x in sorted ret if  env is exposed x ]
def item show item item id None item type None show 'show' extra args None cibfile None cmd ['pcs']if isinstance cibfile six types cmd + ['-f' cibfile isinstance item six types cmd + [item]elif isinstance item list tuple cmd + itemif item in ['constraint'] cmd + [item type isinstance show six types cmd + [show]elif isinstance show list tuple cmd + showif isinstance item id six types cmd + [item id isinstance extra args list tuple cmd + extra argsif item in ['constraint'] if not isinstance extra args list tuple or '--full' not in extra args cmd + ['--full']return   salt  ['cmd.run all cmd output loglevel 'trace' python shell False 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do clear password cs args server  find server cs args server password 
def default storage request return import string settings M E S S A G E STORAGE request 
def get Double From Character Split Line character split Line index Of Character get Index Of Starting With Second character split Line if index Of Character < 0 return Nonefloat String split Line Of Character ]try return float float String except Value Error return None 
def  format template content content params def arg replace matchobj "akesaregexmatching name matchobj 1 if param name in params return params name TEMPLATE ARG R E G E X arg replace content 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def  set del code f @functools.wraps f def wrapped *args **kwargs f *args **kwargs pecan 204pecan.override template None return wrapped 
def cancorr x1 x2 demean True standardize False if demean or standardize x1 x1 - x1 0 x2 x2 - x2 0 if standardize x1 / x1 0 x2 / x2 0 t1 np x1 .dot x2 t2 np x2 .dot x1 m t1 t2 cc np np m cc return cc -1 ]
def Query Service svc name hscm win32service Open S C Manager None None win32service S C MANAGER ALL ACCESS result Nonetry hs win32serviceutil Smart Open Service hscm svc name win32service S E R V I C E ALL ACCESS result win32service Query Service Config hs win32service Close Service Handle hs finally win32service Close Service Handle hscm return result 
def two phase session engine map versioned True session Session binds engine map twophase True autoflush True autocommit False if versioned session configure versioning session return session 
def get Part Run alias True ret Val Nonecommon Parts Dict opt Dict Enumeration stack [ item if isinstance item list else '' for item in inspect ]for i in xrange 0 len stack - 1 for regex in 'self\\. get ]+ \\ \\ ' 'andler [^ ]+ \\ \\ ' match re regex stack if match ret Val match [0]breakif ret Val is not None breakexcept Type Error passif alias return common Parts Dict Val if isinstance common Parts Dict ret Val tuple else ret Val else return ret Val 
def  yield attached role policies conn role name for resp in  repeat  list attached role policies conn role name for policy data in resp policies yield policy data arn 
def  format jid instance jid job ret  format job instance job ret {tart Time salt to time jid } return ret 
def  convert nnn nl val word '' mod rem val % 100 val // 100 if rem > 0 word to 19 nl + 'onderd if mod > 0 word + ''if mod > 0 word +  convert nn nl mod return word 
def widont value count 1 def replace matchobj return u % matchobj 1 for i in range count value re widont replace force unicode value return value 
def compare tree to dict actual expected keys for elem data in zip actual expected for key in keys if elem key ! data key return Falsereturn True 
def single y return linkage y method 'single' metric 'euclidean'
def permutation Filter perm return True 
def gen test func None timeout None if timeout is None timeout get async test timeout def wrap f f gen f @functools.wraps f def wrapper self return self loop sync functools f self timeout timeout return wrapperif func is not None return wrap func else return wrap 
def get review request field field id return field registry u id field id 
def argmax a axis None dtype None out None keepdims False return a axis axis dtype dtype out out keepdims keepdims 
def  api queue delete output value kwargs if value 'all' removed Nzb Queue all kwargs 'search' return report output keyword '' data {'status' bool removed 'nzo ids removed elif value items value ' ' del files int conv kwargs 'del files removed Nzb Queue multiple items del files return report output keyword '' data {'status' bool removed 'nzo ids removed else return report output  MSG NO VALUE
def check test runner from django import settingsnew default u Discover Runner runner setting getattr settings u T E S T RUNNER' new default if test runner setting new default message [ u Django1 '%s' " % new default u Youshouldensureyourtestsareallrunning See u //docs.djangoproject.com/en/dev/releases/1.6/#new-test-runner' u u message 
def get attach port index session vm ref ports  get vm port indices session vm ref if not ports return 0ports.sort configured ports len len ports for port index in range configured ports len if port index ! ports index return port indexreturn configured ports len 
def griewank individual return 1.0 / 4000.0 * sum x ** 2 for x in individual - reduce mul cos x / sqrt i + 1.0 for i x in enumerate individual 1 + 1
def validate party gle currency party type party company party account currency None if not party account currency party account currency get party account currency party type party company existing gle currency get party gle currency party type party company if existing gle currency and party account currency ! existing gle currency frappe _ u Accounting Entryfor {1}canonlybemadeincurrency {2}' .format party type party existing gle currency Invalid Account Currency 
def Little Endian Bit Struct *args return Buffered Bit Struct *args encoder lambda s s -1 ] decoder lambda s s -1 ] resizer lambda _ _
def  host dhcp opts vif id None gateway None values []if vif id is not None values  host dhcp network vif id values '3' if gateway values '%s' % gateway return ' '.join values 
def gf LC f K if not f return K return f 
def set signal handlers signal handler map for signal number handler in signal handler map signal signal number handler 
def  user friendly size size units [_ 'bytes' _ 'KB' _ 'MB' ]i 0while size > 1024 and i < len units size / 1024i + 1return u size units 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def get blobinfo blob key datastore key datastore Key path blobstore B L O B INFO KIND blob key namespace '' try return datastore Get datastore key except datastore errors Entity Not Found Error return None 
def  api switch name output kwargs value kwargs 'value' value2 kwargs 'value2' if value and value2 pos prio Nzb Queue value value2 if output not in 'xml' 'json' return report output data pos prio else return report output keyword 'result' data {'position' pos 'priority' prio else return report output  MSG NO VALUE2
def get temp dir temp get environ variable 'TMP' if temp None temp get environ variable 'TEMP' if temp None or '' in temp and os 'nt' temp 'C \\temp'if temp None or '' in temp and os 'posix' temp '/tmp'return temp 
def  projected entity to message ent message type msg message type analyzed  analyze indexed fields ent projection for name sublist in analyzed prop ent properties prop get value ent assert isinstance prop model Structured Property bool sublist if sublist field message type by name name assert isinstance field messages Message Field assert prop repeated field if prop repeated assert isinstance val list val [ projected entity to message v field for v in val assert isinstance val prop modelclass val  projected entity to message val field setattr msg name val return msg 
def email auth server 'smtp.gmail.com 587' domain '@gmail.com' tls mode None def email auth aux email password server server domain domain tls mode tls mode if domain if not isinstance domain list tuple domain [str domain ]if not [d for d in domain if email - len d ] d ] return False host port server ' ' if tls mode is None tls mode port '587' try server Noneserver smtplib S M T P host port server if tls mode server server server email password server return Trueexcept logging 'email auth failed if server try server except passreturn Falsereturn email auth aux 
def log Failed ep Obj release provider None showid int ep Obj season int ep Obj ep Num int ep Obj status quality Quality Composite Status ep Obj action Quality Status FAILED quality  log History Item action showid season ep Num quality release provider 
def test name class C object pass C  name   're Equal C.  name   'abc'
@deprecateddef script resolve name script name name if not name return roslib ros namespace if roslib global name return nameelif roslib private name return ns join roslib caller id script name name ] return roslib ros namespace + name 
def relpath path start curdir if not path raise Value Error 'nopathspecified' start list abspath start .split sep path list abspath path .split sep if start list ! path list unc path rest splitunc path unc start rest splitunc start if bool unc path ^ bool unc start raise Value Error 'annotmix U N Candnon U N Cpaths %sand%s ' % path start else raise Value Error 'pathisondrive%s startondrive % path list start list for i in range min len start list len path list if start list ! path list breakelse i + 1rel list [pardir] * len start list - i + path list ] if not rel list return curdirreturn join *rel list 
def edit links scheme source node sink node initial links None parent None log 'onstructinga Link Editordialog dlg Edit Links Dialog parent window Title 'dit Links links scheme links source node source node sink node sink node existing links [ link channel link channel for link in links initial links is None initial links list existing links dlg Nodes source node sink node dlg Links initial links log 'xecutinga Link Editor Dialog rval dlg  if rval Edit Links Dialog Accepted edited links dlg links to add set edited links - set existing links links to remove set existing links - set edited links return rval list links to add list links to remove else return rval [] []
def link Has Rel link attrs target rel rel attr link attrs 'rel' return rel attr and rel Matches rel attr target rel 
def exec before job app inp data out data param dict tool None data name param dict 'name' 'b Varquery data type param dict 'type' 'txt' if data type 'txt' data type 'interval' name data next iter out data data app registry datatype data data type data data nameout data data 
def  dict object help object name path parent object names attributes list graph reference valid attributes object name parent object names attributes lines textwrap repr list attributes width LINE SIZE - TAB SIZE - 1 help dict {'object name object name 'path string '[' + ']['.join repr k for k in path + ']' 'parent object names parent object names 'attributes string ' DCTB ' + '\n DCTB '.join lines }return "alidattributesfor name string object names \n\n{attributes string Run name 'attribute' `onanyoftheabove.\n'<{object name string **help dict 
def handle setup last step if last step < 0 returnlast step last step or 0 setup queue [create objects create channels at initial setup reset server num setup func in enumerate setup queue step ] try setup func except Exception if last step + num 1 from evennia import Object D Bfor obj in Object D B obj elif last step + num 2 from evennia import Channel D B Channel D B .delete raise Server Config 'last initial setup step last step + num + 1 Server Config 'last initial setup step -1
def atomp lst return not isinstance lst list 
def dup inner isolate positive roots f K eps None inf None sup None fast False mobius False if sup is not None and sup < 0 return []roots dup inner isolate real roots f K eps eps fast fast F results K field [] if inf is not None or sup is not None for f M in roots result  discard if outside interval f M inf sup K False fast mobius if result is not None results result elif not mobius for f M in roots u v  mobius to interval M F results u v else results rootsreturn results 
@retry exception psutil No Such Process logfun None timeout GLOBAL TIMEOUT interval 0.001 def wait for pid pid psutil Process pid if WINDOWS time 0.01
def parole2universal token tag if tag 'CS' return token CONJ if tag 'DP' return token DET if tag in 'P0' 'PD' 'PI' 'PP' 'PR' 'PT' 'PX' return token PRON return penntreebank2universal *parole2penntreebank token tag 
def cert get not after cert return cert valid after 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def find torrent info hash torrent list for t in torrent list if t hash info hash return t 
def getem arr chunks shape None out name None fancy True lock False out name out name or arr chunks normalize chunks chunks shape keys list product [out name *[range len bds for bds in chunks slices slices from chunks chunks getter getarray if fancy else getarray nofancy if lock values [ getter arr x lock for x in slices values [ getter arr x for x in slices dict zip keys values 
def Cancel Batch Job client batch job max poll attempts MAX POLL ATTEMPTS batch job service client Get Service 'atch Job Service 'v201605' batch job ' A N C E L I N G {'operator' 'SET' 'operand' batch job job service [operation] poll attempt 0while poll attempt in range max poll attempts and batch job ! 'CANCELED' sleep interval 30 * 2 ** poll attempt + random 0 10000 / 1000 print 'atch Jobnotfinishedcanceling sleepingfor % sleep interval time sleep interval batch job Get Batch Job client batch job poll attempt + 1if batch job 'CANCELED' print 'atch Jobwith I D % batch job else print 'atch Jobwith I D % batch job max poll attempts 
def group type specs update or create context group type id group specs return I M P L type specs update or create context group type id group specs 
def get enrollment user id course id return  data api .get course enrollment user id course id 
def module exists module name try   import   module name except Import Error return Falseelse return True 
def run proxy port start ioloop True app tornado Application [ '.*' Proxy Handler ] app port ioloop tornado I O Loop if start ioloop ioloop 
def get all bundle files bundle ctx None if not ctx ctx wrap bundle bundle if not isinstance ctx Context Wrapper ctx Context Wrapper ctx files []for _ c in bundle contents ctx if isinstance c Bundle files get all bundle files c wrap ctx c elif not is url c files c files bundle depends ctx return files 
def minimal Bases classes if not   python3 classes [c for c in classes if c is not Class Type ]candidates []for m in classes for n in classes if issubclass n m and m is not n breakelse if m in candidates candidates m candidates m return candidates 
def get readable field data type field return field % field  dict  
def django cmd sys settings *args sys 'cms' if sys 'studio' else sys return cmd 'pythonmanage.py' sys '--settings {}'.format settings *args
def efuse write reg addr block word return EFUSE REG W R I T E + 4 * word 
def fixture to tables fixture tables []for title content in fixture rows []keys content keys rows tuple keys row1 []for col in rows row1 content rows tuple row1 tables title tuple rows return tables 
def Splice Continuations tree def Rec Splicer node 'nsertsacontinuationmarkerintothenode isinstance node pytree Leaf if node .startswith '\\\n' new lineno node - node '\n' return pytree Leaf type format token C O N T I N U A T I O N value node context '' new lineno 0 return Nonenum inserted 0for index child in enumerate node ] continuation node Rec Splicer child if continuation node node index + num inserted continuation node num inserted + 1ec Splicer tree 
def jinja error raise Exception 'hehehe'
def  find console stream handler logger for handler in logger if isinstance handler logging Stream Handler and handler in sys sys return loggerreturn None 
def attribute ac M try import numpyexcept Import Error raise Import Error 'attribute assortativityrequires Num Py http //scipy.org/' if M ! 1.0 M M / float M M numpy M s M * M .sum t M r t - s / 1 - s return float r 
def  inherited row row base rows from pillar ret base rows []for base row from pillar in base rows from pillar base row   salt  ['pillar.get'] base row from pillar if base row base rows base row elif base row from pillar !  DEFAULT ROW PILLAR ret 'warnings' [] warning message 'annotfindrowpillar base row from pillar if warning message not in ret ret warning message base rows row result row {}for row in base rows result row row return result row 
def reviewer required region None moderator False def decorator f @login required f def wrapper request *args **kw reviewer perm acl reviewer request moderator perm moderator and acl allowed request 'pps 'oderate Review view only request 'GET' and acl allowed request 'eviewer Tools 'iew if reviewer perm or moderator perm or view only return f request *args **kw else raise Permission Deniedreturn wrapperif callable region return decorator region else return decorator 
def  auth profile None if profile credentials   salt  ['config.option'] profile user credentials credentials credentials url credentials url name credentials 'keystone.region name None service type credentials type user   salt  ['config.option'] 'keystone.user' password   salt  ['config.option'] 'keystone.password' tenant   salt  ['config.option'] 'keystone.tenant' auth url   salt  ['config.option'] 'keystone.auth url region name   salt  ['config.option'] 'keystone.region name service type   salt  ['config.option'] 'keystone.service type kwargs {'username' user 'password' password 'tenant name tenant 'auth url auth url 'region name region name 'service type service type suoneu Salt Neutron **kwargs
def  make ctx options ctx options config cls Context Options if not ctx options return Nonefor key in list ctx options translation  OPTION T R A N S L A T I O N S key if translation if translation in ctx options raise Value Error 'annotspecify % key translation ctx options ctx options key return config cls **ctx options 
def load helpers if jingo helpers loaded returnjingo helpers loaded Truefrom jingo import helpersfor app in settings I N S T A L L E D APPS try app path import module app .  path  except Attribute Error continuetry imp module 'helpers' app path except Import Error continueimport module '%s.helpers' % app 
def random identity search gate list numgates nqubits gate size len gate list circuit for i in range numgates next gate gate list 0 gate size - 1 ]circuit circuit + next gate is scalar is scalar matrix circuit nqubits False return circuit if is scalar else None 
def client class for service service return  client classes service 
def has win32com if not sys 'win32' return Falsetry mod   import   'win32com' except Import Error return Falsereturn True 
def closest station lat lon cache dir if lat is None or lon is None or not os cache dir returnstations bom stations cache dir def comparable dist wmo id 'fastkeyfunctionforpsudeo station lat station lon stations id lat - station lat ** 2 + lon - station lon ** 2 return min stations key comparable dist 
def require admin context f def wrapper *args **kwargs nova admin context args return f *args **kwargs return wrapper 
def options For Client T L S hostname trust Root None client Certificate None acceptable Protocols None **kw extra Certificate Options kw 'ertificate Options None or {} if trust Root is None trust Root platform Trust if kw raise Type Error "or Client T L S gotanunexpectedkeywordargument arg kw [0] if not isinstance hostname unicode raise Type Error 'or Client T L Srequirestextforhostnames not + hostname  class  .  name   if client Certificate extra Certificate Options private Key client Certificate Key certificate client Certificate certificate Options Open S S L Certificate Options trust Root trust Root acceptable Protocols acceptable Protocols *ertificate Options return Client T L S Options hostname certificate Options Context 
def user generate apikey context data dict model context context context context 'schema' or schema .default generate apikey user schema context schemaid  get or bust data dict 'id' user obj model User id context obj user objif user obj is None raise Not Found 'serwasnotfound  check access 'user generate apikey context data dict old data  get action 'user show context data dict old data model uuid data dict old datareturn  get action 'user update context data dict 
def get fc wwnns hbas get fc hbas wwnns []if hbas for hba in hbas if hba state 'nline wwnn hba name '0x' '' wwnns wwnn return wwnns 
def show delvol on destroy name kwargs None call None if call ! 'action' raise Salt Cloud System Exit 'heshow delvol on destroyactionmustbecalledwith if not kwargs kwargs {}instance id kwargs 'instance id None device kwargs 'device' None volume id kwargs 'volume id None if instance id is None instance id  get node name [d {ction 'escribe Instances 'nstance Id instance id aws params location get location provider get provider opts   opts   sigver '4' blockmap data Set Device Mapping not isinstance blockmap list blockmap [blockmap['item']]items []for idx item in enumerate blockmap device name item Name device is not None and device ! device name continueif volume id is not None and volume id ! item Id continueinfo {'device name device name 'volume id item Id 'n Termination item On Termination info return items 
def set bot update args job queue chat data chat id update idtry due int args if due < 0 update text 'orrywecannotgobacktofuture returnjob Job alarm due repeat False context chat id chat data jobjob queue job update text 'imersuccessfullyset except Index Error Value Error update text 'sage /set<seconds>'
def p relational expression 1 t pass 
def  get allow bytes flag import doctestreturn doctest optionflag 'ALLOW BYTES'
def rot32 w n Left n Left & 31if n Left 0 return w R R R w >> 1 & 2147483647 >> 31 - n Left s L L L L L L - 1 << 31 - n Left & w | 2147483647 >> n Left & w return RRR | s L L L L L L << n Left 
def multicall conf context topic msg timeout None check serialize msg method msg 'method' if not method returnargs msg 'args' {} version msg 'version' None namespace msg 'namespace' None try consumer C O N S U M E R S Key Error Index Error return iter [one else return consumer context version method namespace args timeout 
def tree Walk module List dirname fnames dirname dirname '\\' '.' .replace '/' '.' if dirname 'ura returnif dirname 'ura returnif dirname 'ura Power returnif dirname 'ura returnif dirname 'ura returnfor module Name in filter lambda f f '.py' fnames module Name module Name -3 ]if module Name '  init  ' continuefull Name '%s.%s' % dirname module Name try module   import   full Name fromlist [ura level 1 module List module except print 'ailedtoload %s' % full Name 
def mysql timestamp converter s if s '-' return Date Time or None s s s + '0' * 14 - len s parts map int filter None s 4] s 6] s 8] s 10] s 12] s 14] try return Timestamp *parts except System Exit Keyboard Interrupt raiseexcept return None 
def irfft x n None axis -1 overwrite x False tmp  asfarray x if not numpy tmp raise Type Error '1stargumentmustberealsequence' try work function  DTYPE TO R F F T Key Error raise Value Error 'type%sisnotsupported' % tmp overwrite x overwrite x or  datacopied tmp x return  raw fft tmp n axis -1 overwrite x work function 
def dist point to segment p s0 s1 p np p float s0 np s0 float s1 np s1 float v s1 - s0 w p - s0 c1 np w v if c1 < 0 return dist p s0 c2 np v v if c2 < c1 return dist p s1 b c1 / c2 pb s0 + b * v return dist p pb 
def last Colorized Line source if not isinstance source bytes source source 'utf-8' w V T102 Writer p Token Printer w .printtokens Bytes I O source for token in  tokenize s token Type string start end line tokenp token Type string start end line line str w .encode 'utf-8' return line 
def environmentfunction f f Truereturn f 
def set cxxflags value return set var 'CXXFLAGS' value 
def idd reconint idx proj return  id reconint idx proj 
def streaming bulk client actions chunk size 500 max chunk bytes 100 * 1024 * 1024 raise on error True expand action callback expand action raise on exception True **kwargs actions map expand action callback actions for bulk actions in  chunk actions actions chunk size max chunk bytes client for result in  process bulk chunk client bulk actions raise on exception raise on error **kwargs yield result 
def get job config name None if not name raise Salt Invocation Error 'equiredparameter server  connect if not job exists name raise Salt Invocation Error 'ob name job info server job config name return job info 
@keyword tags ['one' 2] def library keyword tags with documentation and attribute pass 
@given u Iusethecurrentdirectoryasworkingdirectory def step use curdir as working directory context context os '.' command util workdir exists context 
def parse system map data module sys map {}sys map {}mem model Nonearch 'x86'for line in data str addr symbol type symbol line .split try sym addr long str addr 16 except Value Error continueif symbol 'arm syscall arch ' R M not symbol in sys map sys map []sys map [sym addr symbol type mem model str len str addr * 4 + 'bit' if mem model '64bit' and arch 'x86' arch 'x64'return arch mem model sys map 
def move disks session instance disk info imported vhds session plugin serialized 'migration' 'move vhds into sr instance uuid instance sr path get sr path session uuid stack  make uuid stack scan default sr session root uuid imported vhds vdi name session root uuid instance 'root' root vdi ref session xenapi ' D I by uuid root uuid return {'uuid' root uuid 'ref' root vdi ref 
def clf gcf .clf draw if interactive 
def retry if session inactive context var name 'context' def decorator f try ctx arg index p util f .args.index context var name except Value Error raise Runtime Error  LE 'ouldnotfindpositionofvar % context var name f with retry retry db errors f @six.wraps f def wrapped *args **kwargs if context var name in kwargs context kwargs var name context args arg index f if context active else f with retry return method *args **kwargs return wrappedreturn decorator 
def ensure headings linkable soups for soup in soups existing anchors find existing anchors soup count 100for tag in soup all  heading re if not tag attr u or tag attr u snippet u [c for c in tag if c ] [ 20]while True count + 1candidate id u {0} {1}'.format snippet count .lower if not candidate id in existing anchors existing anchors candidate id tag candidate idbreak 
def get Text If Empty file Name text if text ! '' return textreturn get File Text file Name 
def enforce nice config  convert all package confs to dir  order all package confs 
def  get children text parent tag construct unicode return [construct child for child in parent  ns tag if child 
@loader option def contains eager loadopt attr alias None if alias is not None if not isinstance alias str info inspect alias alias info loadopt relationship strategy attr {'lazy' 'joined'} propagate to loaders False cloned opts from alias aliasreturn cloned 
def  get index videos course return list {attr video for attr in ['edx video id 'client video id 'created' 'duration' 'status']} for video in  get videos course 
def config true value value return value is True or isinstance value basestring and value in TRUE VALUES
@then u def step see data selected context  expect exact context u timeout 1  expect exact context u S E L E C T1 timeout 1
def  pad binary bin str req len 8 bin str bin str ]return max 0 req len - len bin str * '0' + bin str 
def libvlc media list retain p ml f  Cfunctions 'libvlc media list retain None or  Cfunction 'libvlc media list retain 1 None None Media List return f p ml 
def process chain callbacks input *a **kw d defer Deferred for x in callbacks d Callback x *a **kw d input return d 
def update first contribution msec if not set user id first contribution msec user settings get user settings user id strict True if user settings contribution msec is None  update first contribution msec user id first contribution msec 
def register auth backend backend cls warn u auth backend isdeprecated Usereviewboard backends instead Deprecation Warning auth backends backend cls 
def test probably html for table in 't/html.html' 'http //blah.com/table.html' 'https //blah.com/table.html' 'file //blah/table.htm' 'ftp //blah.com/table.html' 'file //blah.com/table.htm' '<!doctypehtml>helloworld' 'junk<tablebaz><trfoo><tdbar></td></tr></table>junk' ['junk<tablebaz>' '<trfoo>' '<tdbar>' '</td></tr>' '</table>junk'] '<!doctypehtml>' 'helloworld' assert  probably html table is True for table in 't/html.htms' 'http //blah.com/table.html' 'https //blah.com/table.htm' 'fole //blah/table.htm' '<doctypehtml>helloworld' 'junk<tblebaz><trfoo><tdbar></td></tr></table>junk' ['junk<tablebaz>' '<tfoo>' '<tdbar>' '</td></tr>' '</table>junk'] '<!doctypehtm>' 'helloworld' [[1 2 3]] assert  probably html table is False 
def test list freeze script data script 'install' '-f' data links '--no-index' 'simple 1.0' 'simple2 3.0' result script 'list' '--format freeze assert 'simple 1.0' in result str result assert 'simple2 3.0' in result str result 
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def get size start path total size 0for dirpath __ filenames in os start path for f in filenames fp os dirpath f total size + os fp return total size 
def gcd *a if len a > 1 return reduce gcd2 a if hasattr a '  iter  ' return reduce gcd2 a return a 
def apply Redirects manifest redirects for binding in redirects for dep in manifest Assemblies if match binding redirect dep binding logger 'edirecting binding dep binding Version dep binding Version 
def cc test config append None **kwargs heap check kwargs 'heap check if heap check is not None and heap check not in HEAP CHECK VALUES console exit 'cc test config heap checkcanonlybein % HEAP CHECK VALUES blade config config 'cc test config append kwargs 
def pixel coords latlon ground width 0 mt None topleft None width None lat lon latlon latlon return mt to pixel topleft topleft width ground width lat lon 
def leastsquare measured vals updated model weights x y None if y is None model vals updated model x else model vals updated model x y if weights is None return np model vals - measured vals ** 2 else return np weights * model vals - measured vals ** 2
def notify notification Name message if sabnzbd F O U N D A T I O N pool Foundation N S Autorelease Pool .init nc Foundation N S Distributed Notification Center Center nc Notification Name object  notification Name message del pool 
def build plugin tree plugins cache dict p p for p in plugins by parent id attrgetter 'parent id nonroots sorted filter by parent id cache key attrgetter 'parent id 'position' families cache id tuple children for parent id children in groupby nonroots by parent id for parent children in families parent plugin instances childrenreturn sorted filterfalse by parent id cache key attrgetter 'position'
def  parse pre yarn history records lines def yield record strings lines record lines []start line 0for line num line in enumerate lines record lines line if line '.\n' yield start line len record lines ''.join record lines record lines []start line line num + 1 for start line num lines record str in yield record strings lines record match  PRE YARN HISTORY R E C O R D record str if not record match continuerecord type record match 'type' key pairs record match 'key pairs fields {}for m in  PRE YARN HISTORY KEY P A I R key pairs key m 'key' value  pre yarn history unescape m 'escaped value fields value yield dict fields fields num lines num lines start line start line type record type 
def  check package pkg xml zipfilename zf uid os os zipfilename [1] [0]if pkg xml u ! uid raise Value Error u %svs%s ' % pkg xml u uid if sum name ! uid and not name uid + u for name in zf raise Value Error u Zipfile % uid uid 
def dict with base dict **kwargs full dict dict base dict full dict **kwargs return full dict 
@pytest.mark.parametrize 'api version API VERSIONS def test thread label updates db api client default account api version custom label headers dict headers Api Version api versiongmail thread add fake thread db default account gmail message add fake message db default account gmail thread resp data api client data '/threads/{}'.format gmail thread id headers headers assert resp data [] category custom label dict labels [category.public id resp api client data '/threads/{}'.format gmail thread id update headers headers resp data json resp if api version API VERSIONS[0] assert len resp data 1 assert resp data category id resp data api client data '/messages/{}'.format gmail message id headers headers assert len resp data 1 assert resp data category id else assert resp data []
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def boxplot runtimes runtimes pred type configuration fig ax1 plt figsize 10 6 bp plt runtimes cls infos [ '%s\n %d%s ' % estimator conf estimator conf computer estimator conf estimator conf label for estimator conf in configuration ax1 xticklabels cls infos plt bp color 'black' plt bp color 'black' plt bp color 'red' marker '+' ax1 True linestyle '-' which 'major' color 'lightgrey' alpha 0.5 ax1 axisbelow True ax1 title 'rediction Timeper Instance %dfeats.' % pred type configuration features ax1 ylabel 'rediction Time us ' plt 
def create bookmark user usage key usage key usage key course key modulestore .fill in run usage key key data {'user' user 'usage key usage key usage key key is None raise Item Not Found Errorif not can create more data raise Bookmarks Limit Reached Error bookmark created Bookmark data if created  track event 'edx.bookmark.added' bookmark return Bookmark Serializer bookmark context {'fields' DEFAULT FIELDS + OPTIONAL FIELDS } .data
def refresh db if 'eix.sync' in   salt   return   salt  ['eix.sync'] if 'makeconf.features contains in   salt   and   salt  ['makeconf.features contains 'webrsync-gpg' cmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0 else if   salt  ['cmd.retcode'] 'emerge--askn--quiet--sync' python shell False 0 return Truecmd 'emerge-webrsync-q'if salt 'emerge-delta-webrsync' cmd 'emerge-delta-webrsync-q'return   salt  ['cmd.retcode'] cmd python shell False 0
def sha1b *data return  hash hashlib data .digest .encode 'base64'
def test extract reassemble rng np Random State [1 3 7] topo rng 4 3 * 5 3 * 7 2 dataset Dense Design Matrix topo view topo patch shape 3 7 extractor Extract Grid Patches patch shape patch shape reassemblor Reassemble Grid Patches patch shape patch shape orig shape topo 3] dataset preprocessor extractor dataset preprocessor reassemblor new topo dataset topological view assert new topo topo if not np new topo topo assert False 
def delete build requests with no instance uuid context count orphaned build requests  get build requests with no instance uuid context count done 0for orphan buildreq in orphaned build requests result  destroy in db context orphan buildreq if result done + 1return len orphaned build requests done 
def column width text if isinstance text str and sys info < 3 0 return len text try width sum [east asian widths asian width c ] for c in text except Attribute Error width len text width - len find combining chars text return width 
def change value global  GROWL REG GROWL REG False 
def salt extend extension name description salt dir merge import salt extension extension name name description description salt dir salt dir merge merge 
def Get Feed Items client feed feed item service client Get Service 'eed Item Service 'v201605' feed items []more pages Trueselector {'fields' [eed Item Id 'ttribute Values 'cheduling 'predicates' [{'field' 'tatus 'operator' 'EQUALS' 'values' ['ENABLED']} {'field' 'eed Id 'operator' 'EQUALS' 'values' [feed['id']]}] 'paging' {ndex 0 'esults PAGE S I Z E more pages page feed item service selector if 'entries' in page feed items page selector Index + PAGE S I Z Emore pages selector Index < int page Num Entries return feed items 
def get freq code freqstr if isinstance freqstr Date Offset freqstr freqstr code freqstr if isinstance freqstr tuple if is integer freqstr and is integer freqstr return freqstrelse try code  period str to code freqstr stride freqstr if is integer freqstr raisecode  period str to code freqstr stride freqstr code stride if is integer freqstr return freqstr 1 base stride  base and stride freqstr code  period str to code base return code stride 
def get nipype gitversion import osimport subprocesstry import nipypegitpath os os os nipype  file   os except gitpath os gitpathgit os gitpath u if not os gitpathgit return Nonever Nonetry o _ subprocess Popen u shell True cwd gitpath stdout subprocess P I P E .communicate except Exception passelse ver o .strip .split u [ -1 ]return ver 
def insert Grid Point Pair grid Point grid Point Inset X grid Points is Junction Wide paths pixel Table y Intersection Path width line Path get Non Intersecting Grid Point Line grid Point Inset X is Junction Wide paths pixel Table y Intersection Path width insert Grid Point Pair With Line Path grid Point grid Point Inset X grid Points is Junction Wide line Path paths pixel Table y Intersection Path width 
def  sum costs costs source def plus pi1 pi2 assert pi1 pi2 return Price Info pi1 + pi2 pi1 price + pi2 price quantity pi1 zero price source price 0 zero pi Price Info zero price zero price quantity 1 return functools plus x info for x in costs zero pi 
def collapse Nested Lists items pieces []for i in items if i is None pieces ['' 'NIL'] elif isinstance i Dont Quote Me int long pieces ['' network String str i ] elif isinstance i bytes unicode if  needs Literal i pieces ['' '{' int To Bytes len i '}' I M A P4 Server i else pieces [''  quote i ] elif hasattr i 'read' d i pieces ['' '{' int To Bytes len d '}' I M A P4 Server d else pieces ['' ' ' + collapse Nested Lists i + ' ' ] return ''.join pieces ]
def call Confirmed Repeat Indicator presence 0 Bearer Capability presence 0 Bearer Capability presence1 0 Cause presence 0 Call Control Capabilities presence 0 a Tp Pd pd 3 b Message Type mes Type 8 packet a / b if Repeat Indicator presence is 1 c Repeat Indicator Hdr iei R I 13 eight Bit R I 0 packet packet / c if Bearer Capability presence is 1 d Bearer Capability Hdr iei B C 4 eight Bit B C 0 packet packet / d if Bearer Capability presence1 is 1 e Bearer Capability Hdr iei B C 4 eight Bit B C 0 packet packet / e if Cause presence is 1 f Cause Hdr iei C 8 eight Bit C 0 packet packet / f if Call Control Capabilities presence is 1 g Call Control Capabilities Hdr iei C C C 21 eight Bit C C C 0 packet packet / g return packet 
def is valid xml char ordinal i return 32 < i < 55295 or i in 9 10 13 or 57344 < i < 65533 or 65536 < i < 1114111
def configured request log handlers config prefix 'query log default logger None handlers []for section in config if section prefix options dict config section type  options 'type' if type  'default' logger default logger or get logger handler ext log handler 'default' logger else handler ext log handler type  **options handlers handler return handlers 
def test dimensionless to cgs testunit 1.0 * u / 1.0 * u assert testunit type u assert allclose testunit 0.001
def  ip Version To Len version if version 4 return 32elif version 6 return 128else raise Value Error ' Pv4and I Pv6supported 
def package files generated json dir docs build dir static json dir tag 'master' package path os docs build dir 'json build shutil package path ignore errors True shutil static json dir package path shutil os generated json dir 'google' 'cloud' os package path 'json' tag 'google' 'cloud' shutil os generated json dir 'types.json' os package path 'json' tag 'types.json'
def volume absent name provider None **kwargs ret  check name name if not ret return retvolumes   salt  ['cloud.volume list provider provider if name not in volumes ret 'olumeisabsent Truereturn retelif   opts  ['test'] ret 'olume name ret Nonereturn retresponse   salt  ['cloud.volume delete names name provider provider **kwargs if response ret Trueret 'olume name ret {'old' volumes 'new' response ret Falseret 'olume name return ret 
def squared error a b a b align targets a b return theano a - b 
def duplicates indices fields dup ind get duplicates fields defaultdict list for i v in enumerate fields if v in dup ind i return ind 
def register filter f if not issubclass f Filter raise Value Error "ustbeasubclassof Filter if not f raise Value Error 'usthaveaname if f in  FILTERS raise Key Error 'ilterwithname % f  F I L T E R S f 
def register json from anyjson import loads as json loads dumps as json dumpsdef  loads obj if isinstance obj bytes t obj obj return json loads obj registry 'json' json dumps  loads content type 'application/json' content encoding 'utf-8'
def  minimize trust ncg fun x0 args jac None hess None hessp None **trust region options if jac is None raise Value Error 'acobianisrequiredfor Newton C Gtrust if hess is None and hessp is None raise Value Error 'itherthe Hessianorthe Hessian Newton C Gtrust return  minimize trust region fun x0 args args jac jac hess hess hessp hessp subproblem C G Steihaug Subproblem **trust region options 
def  get coeff exp expr x from sympy import powsimp c m expand power base powsimp expr .as coeff mul x if not m return c S 0 [m] mif m Pow if m ! x raise  Coeff Exp Value Error 'exprnotofforma*x**b' return c m elif m x return c S 1 else raise  Coeff Exp Value Error 'exprnotofforma*x**b %s' % expr 
def  copy future state source dest assert source if dest returnassert not dest if source dest else exception source if exception is not None dest exception exception else result source dest result result 
def get New Derivation element Node return Grid Derivation element Node 
def get god player try god player Player D B id 1 except Player D B Does Not Exist raise Player D B Does Not Exist ERROR NO SUPERUSER return god player 
def load extra emacs page navigation bindings registry Conditional Registry Registry Emacs Mode handle registry bindinghandle Keys Control V scroll page down handle Keys Page Down scroll page down handle Keys Escape u scroll page up handle Keys Page Up scroll page up return registry 
def Make Suite From Hist hist label None if label is None label hist dict hist Get Dict return Make Suite From Dict d label 
def figsize sizex sizey import matplotlibmatplotlib Params [sizex sizey 
def  vector x type 'row' if isinstance x list tuple x np x dtype np elif not isinstance x np x np [x] dtype np assert x 1 if type 'column' x x None x 
def get loader module or name if module or name in sys module or name sys or name isinstance module or name Module Type module module or nameloader getattr module '  loader  ' None if loader is not None return loaderfullname module  name  else fullname module or namereturn find loader fullname 
def show episodes series start None stop None count False descending False session None episodes session Episode .filter Episode id series if count return episodes if series by u episodes episodes by Episode if descending else episodes by Episode elif series by u episodes episodes by Episode Episode if descending else episodes by Episode Episode else episodes episodes by Episode if descending else episodes by Episode return episodes start stop .from self .all
def setwinsize fd rows cols rows cols rows cols T I O C S W I N S Z getattr termios 'TIOCSWINSZ' -2146929561 s struct 'HHHH' rows cols 0 0 fcntl fd TIOCSWINSZ s 
def install js target jsdir join SERVER 'static' 'js' target cssdir join SERVER 'static' 'css' STATIC ASSETS [join JS 'bokeh.js' join JS 'bokeh.min.js' join CSS 'bokeh.css' join CSS 'bokeh.min.css' ]if not all [exists a for a in STATIC ASSETS] print BOKEHJS INSTALL FAIL sys 1 if exists target jsdir shutil target jsdir shutil JS target jsdir if exists target cssdir shutil target cssdir shutil CSS target cssdir 
def foobar explosion radius def get 55 'functionthatreturns55 55return get 55 * radius 
def isiterable obj return hasattr obj '  iter  '
def test array precession j2000 Time u J2000 scale u j1975 Time u J1975 scale u fk5 FK5 [1 1.1] * u [0.5 0.6] * u assert fk5 j2000 fk5 2 fk5 to FK5 equinox j1975 assert fk5 2.equinox.jyear j1975 npt array less 0.05 np fk5 - fk5 2.ra.degree npt array less 0.05 np fk5 - fk5 2.dec.degree
def  get dt and tzinfo dt or tzinfo if dt or tzinfo is None dt datetime tzinfo L O C A L T Zelif isinstance dt or tzinfo string types dt Nonetzinfo get timezone dt or tzinfo elif isinstance dt or tzinfo integer types dt Nonetzinfo U T Celif isinstance dt or tzinfo datetime time dt  get datetime dt or tzinfo if dt is not None tzinfo dt tzinfo U T Celse dt Nonetzinfo dt or tzinforeturn dt tzinfo 
def Check Header File Included filename include state error fileinfo File Info filename if Search  TEST FILE SUFFIX fileinfo Base Name returnfor ext in Get Header Extensions basefilename filename len filename - len fileinfo Extension ]headerfile basefilename + '.' + ext if not os headerfile continueheadername File Info headerfile .epository Name first include Nonefor section list in include state list for f in section list if headername in f or f in headername returnif not first include first include f filename first include 'build/include' 5 '%sshouldincludeitsheaderfile%s' % fileinfo Repository Name headername 
def admin media prefix try from django import settingsexcept Import Error return ''return iri to uri settings A D M I N MEDIA PREFIX
def versions from parentdir parentdir prefix root verbose dirname os root if not dirname parentdir prefix if verbose print "guessingrootdiris'%s' but % root dirname parentdir prefix raise Not This Method "rootdirdoesn'tstartwithparentdir prefix return {'version' dirname parentdir prefix ] 'full-revisionid' None 'dirty' False 'error' None 
def create jail name arch version '9.0-RELEASE'  check config exists if is jail name return '{0}alreadyexists'.format name cmd 'poudrierejails-c-j{0}-v{1}-a{2}'.format name version arch   salt  ['cmd.run'] cmd make pkgng aware name if is jail name return 'reatedjail name return 'ssuecreatingjail name 
def item from env env item name item env item name None if item is None logging 'ERROR %scouldnotbefoundinenv!' % item name return item 
def rm app id response salt '{0}/v2/apps/{1}'.format  base url id method 'DELETE' decode type 'json' decode True return response 
def ensure vlan bridge session vif cluster None create vlan True vlan num vif meta 'vlan' bridge vif interface C O N F interfacenetwork ref network util network with the name session bridge cluster if network ref and network ref 'istributed Virtual Portgroup return network refif not network ref vswitch associated  get associated vswitch for interface session vlan interface cluster network util port group session bridge vswitch associated vlan num if create vlan else 0 cluster network ref network util network with the name session bridge cluster elif create vlan vswitch associated  get associated vswitch for interface session vlan interface cluster  get pg info network util vlanid and vswitch for portgroup pg vlanid pg vswitch  get pg info session bridge cluster if pg vswitch ! vswitch associated raise exception Invalid V L A N Port Group bridge bridge expected vswitch associated actual pg vswitch if pg vlanid ! vlan num raise exception Invalid V L A N Tag bridge bridge tag vlan num pgroup pg vlanid return network ref 
def test nm2 sample wrong X nm2 Near Miss random state RND SEED version VERSION NEARMISS nm2 X Y assert raises Runtime Error nm2 np 100 40 np [0] * 50 + [1] * 50
def gather unique dicts dict iterable id set set result []for obj in dict iterable if obj not in id set id set obj result obj return result 
def body check octet return chr octet !  QUOPRI BODY M A P 
def get connection service module None region None key None keyid None profile None module module or service svc mod   import   'boto.' + module fromlist [module] cxkey region key keyid  get profile service region key keyid profile cxkey cxkey + ' conn if cxkey in   context   return   context  [cxkey]try conn svc mod to region region aws access key id keyid aws secret access key key if conn is None raise Salt Invocation Error 'egion region except boto No Auth Handler Found raise Salt Invocation Error 'oauthenticationcredentialsfoundwhenattemptingtomakeboto service region   context  [cxkey] connreturn conn 
def replace line existing line new line try f open '/etc/locale.gen' 'r' lines [line.replace existing line new line for line in f f try f open '/etc/locale.gen' 'w' f ''.join lines finally f 
def clean Polyline elem options pts parse List Of Points elem Attribute 'points' elem Attribute 'points' scour Coordinates pts options True 
def  scrub uri uri if '/api/authorizations/cookie/' in uri or '/api/authorizations/token/' in uri uri uri '/' 1 [0] + '/[secret]' return uri 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def configured reply self try msg self List timeout 1 except Queue Empty passelse if msg From User Name self Class Name actual Opposite msg To User Name actual Opposite msg From User Name '@@' in actual Opposite reply Fn self Dict Group Chat msg Type elif self mps user Name msg From User Name reply Fn self Dict Mp Chat msg Type elif '@' in actual Opposite or actual Opposite in 'filehelper' 'fmessage' reply Fn self Dict Friend Chat msg Type else reply Fn self Dict Mp Chat msg Type if reply Fn is None r Noneelse try r reply Fn msg if r is not None self r msg 'rom User Name except logger 'nerroroccurredinregisteredfunction use debug True `toshowdetailedinformation' logger traceback exc 
def color to reportlab color if isinstance color colors Color return colorelif isinstance color str if color '0x' color '0x' '#' if len color 7 return colors Hex Color color else try return colors Hex Color color has Alpha True except Type Error raise Runtime Error 'ourreportlabseemstobetooold try2 elif isinstance color tuple return colors Color *color return color 
def pseudo input lines ilines iter lines def raw in prompt try return next ilines except Stop Iteration return ''return raw in 
def cmd list available args opts for x in jsonrpc call opts 'crawler/spiders' 'list' print x 
def parse simpleflake flake timestamp SIMPLEFLAKE EPOCH + extract bits flake SIMPLEFLAKE TIMESTAMP SHIFT SIMPLEFLAKE TIMESTAMP LENGTH / 1000.0 random extract bits flake SIMPLEFLAKE RANDOM SHIFT SIMPLEFLAKE RANDOM LENGTH return simpleflake struct timestamp random 
def set pootle locale from settings if os 'nt' returnlang translation locale settings L A N G U A G E CODE try if lang 'tr' or lang 'tr ' raise Value Error 'urkishlocalebrokenduetochangedmeaningoflower ' locale locale L C ALL lang 'UTF-8' except logging 'ailedtosetlocaleto Pootledefault %s ;loadingsystemdefault' lang locale locale L C ALL ''
def delete rax cdb args print "leaning Cloud Databasesmatching % args re for region in pyrax cdb pyrax to cloud databases region region for db in rax list iterator cdb if re args re db prompt and delete db 'eletematching ' % db args 
def bool from str val if not val return Falsetry return True if int val else False except Value Error return val 'true' or val 'yes' or val 'y'
def synchronized lock def wrapper func @functools.wraps func def inner *args **kwds lock try return func *args **kwds finally lock return innerreturn wrapper 
def step 5b w if w 'll' and R2 w .endswith 'l' return w -1 ]return w 
def  graph is connected graph if sparse graph n connected components _ connected components graph return n connected components 1 else return  graph connected component graph 0 .sum graph 
def get viewport m c int * 4 gl Get Integerv GL VIEWPORT m return m 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg 'volume' metavar '<volume>' help _ ' Dofthevolumetoattach @utils.arg 'device' metavar '<device>' default None nargs '?' help _ 'ameofthedevicee Use ifsupported .ibvirtdriverwillusedefaultdevicename def do volume attach cs args if args 'auto' args Nonevolume cs server volume  find server cs args .id args args  print volume volume 
def strips a b return rstrips lstrips a b b 
def Variable Expression variable assert isinstance variable Variable u Variable % variable if is indvar variable return Individual Variable Expression variable elif is funcvar variable return Function Variable Expression variable elif is eventvar variable return Event Variable Expression variable else return Constant Expression variable 
def guess kern maxfilesperproc return int 0.8 * guess kern maxfiles 
def from 7L7M lsb msb return lsb + msb << 7
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get tld list response xml salt request salt opts 'namecheap.domains.gettldlist' if response xml is None return []tldresult response xml Elements By Tag Name 'lds [0]tlds []for e in tldresult Elements By Tag Name 'ld tld salt to dict e tld e Child []subcategories e Elements By Tag Name 'ategories [0]for c in subcategories Elements By Tag Name 'ld Category categories salt to dict c tld categoriestlds tld return tlds 
def conv transpose3d input weight bias None stride 1 padding 0 output padding 0 groups 1 f Conv Nd  triple stride  triple padding  triple 1 True  triple output padding groups return f input weight bias if bias is not None else f input weight 
def String Output Stream data String I O return Output Stream data 
def int list pages size if address size 4 fmt ' fmt ' page in pages curr 0while curr < 4096 and curr < size yield struct fmt page curr + address size ] [0] curr + address size 
def do round value precision 0 method 'common' if not method in 'common' 'ceil' 'floor' raise Filter Argument Error 'methodmustbecommon ceilorfloor if precision < 0 raise Filter Argument Error 'precisionmustbeapostiveintegerorzero.' if method 'common' return round value precision func getattr math method if precision return func value * 10 * precision / 10 * precision else return func value 
def msle actual predicted return np sle actual predicted 
@pytest.mark.parametrize u u u u m31 params def test m31 coord transforms fromsys tosys fromcoo tocoo from origin fromsys fromcoo * u fromcoo * u distance m31 dist from pos Sky Offset Frame 1 * u 1 * u origin from origin to origin tosys tocoo * u tocoo * u distance m31 dist to astroframe Sky Offset Frame origin to origin target pos from pos to to astroframe assert allclose to origin target pos np from pos from pos atol convert precision roundtrip pos target pos to from pos assert allclose [roundtrip pos at 180 * u roundtrip pos [ 1.0 * u 1.0 * u ] atol convert precision 
@ddon changedef watch status old attr None new attr None instance None sender None **kwargs if old attr is None old attr {}if new attr is None new attr {}new status new attr 'status' old status old attr 'status' latest version instance latest version channel amo R E L E A S E CHANNEL LISTED if new status not in amo V A L I D ADDON STATUSES or not new status or not latest version returnif old status not in amo U N R E V I E W E D ADDON STATUSES latest version nomination time elif latest version files inherit nomination None latest version 
def proxy opts functions None returners None whitelist None ret Lazy Loader  module dirs opts 'proxy' opts tag 'proxy' pack {'  salt  ' functions '  ret  ' returners ret  proxy  '] retreturn ret 
def sps Model Anal x fs w N H t min Sine Dur maxn Sines freq Dev Offset freq Dev Slope stocf tfreq tmag tphase S M Model Anal x fs w N H t maxn Sines min Sine Dur freq Dev Offset freq Dev Slope Ns 512xr U F Subtraction x Ns H tfreq tmag tphase fs stoc Env S T M Model Anal xr H H * 2 stocf return tfreq tmag tphase stoc Env 
def square clustering G nodes None if nodes is None node iter Gelse node iter G iter nodes clustering {}for v in node iter clustering 0potential 0for u w in combinations G 2 squares len set G & set G - set [v] clustering + squaresdegm squares + 1 if w in G degm + 1potential + len G - degm * len G - degm + squares if potential > 0 clustering / potentialif nodes in G return clustering clustering 
def get gid path follow symlinks True return stats os path follow symlinks follow symlinks .get 'gid' -1
def set implicit options role fn if not hasattr role fn 'options' or role fn is None role fn {'class' directives option not role fn key 'class' role fn directives option 
def test epoch monitor dim 1batch size 3n batches 10m n batches * batch size dataset Arange Dataset m model Softmax Model dim monitor Monitor monitor model learning rate 0.001data specs model input space model input source cost Dummy Cost termination criterion Epoch Counter 1 monitor rate 3em Epoch Monitor model model tick rate None monitor rate monitor rate algorithm SGD learning rate cost batch size batch size train iteration mode 'sequential' monitoring dataset dataset termination criterion termination criterion update callbacks [em] set batch size False algorithm dataset dataset model model algorithm dataset for key val in monitor assert len val record n batches // monitor rate 
def canned package root version '0.3.2' name 'oo Bar setup py root 'setup.py' setup py Content dedent '\nfromsetuptoolsimportsetup\n\nsetup \nname "{package name \nversion "{package version \npy modules ["{package name \n \n' .format package name name package version version package module root name + '.py' package module Content dedent '\n  version   "{package version .format package version version return Python Package name name version version 
def mirror op return  mirror op op 
def align8to bytes width mode bits per pixel {'1' 1 'L' 8 'P' 8}[mode]bits per line bits per pixel * width full bytes per line remaining bits per line divmod bits per line 8 bytes per line full bytes per line + 1 if remaining bits per line else 0 extra padding - bytes per line % 4 if not extra padding return bytesnew data []for i in range len bytes // bytes per line new data bytes i * bytes per line i + 1 * bytes per line ] + '\x00' * extra padding return ''.join new data 
def get ufuncs  lazy init db return  ufunc db 
def search script tag key None category None return Script D B by tag key key category category 
@removals.remove message 'sekeystoneauth version '2.1.0' removal version '3.0.0' def register conf options conf group conf opt  AUTH SECTION OPT group group if conf section group conf sectionconf opt  AUTH PLUGIN OPT group group 
@opt.register stabilize optimizer [tensor.mul] def local sigm times exp node if node ! tensor return Nonemul tree parse mul tree node did something perform sigm times exp mul tree if not did something return Nonemul tree simplify mul mul tree out compute mul mul tree copy stack trace node out return [out]
def per instance *args **kwargs instance args retained instance id instance instance instance and rest unique retained instance + args ] return equal args *instance and rest **kwargs
def get devices from config config device signal repetitions config C O N F SIGNAL R E P E T I T I O N S []for packet id entity info in config C O N F D E V I C E S event get rfx object packet id device id slugify event string if device id in RFX DEVICES continue L O G G E R 'dd entity info A T T R NAME] fire event entity info A T T R F I R E E V E N T {ATTR STATE False ATTR FIREEVENT fire event device device entity info A T T R NAME] event datas signal repetitions RFX D E V I C E S id new devicedevices new device return devices 
def get python files all files None if all files is None all files diff base get affected files library files []non library files []for filename in all files if valid filename filename if is production filename filename library files filename else non library files filename return library files non library files diff base 
def combine hashes hashes hasher sha1 for h in sorted hashes hasher h return hasher 
def  parse date asctime dt parts dt if len parts 5 parts 4 '+0000' if len parts ! 6 return Nonereturn  parse date rfc822 ''.join [parts[0] parts parts parts parts parts 
def  make multidim func one d func n *args args list args n np n args list map np args if all [ x 1 for x in [n] + args ] return one d func n *args d n i in range len args if args 1 args np args d nodes []weights []for i in range d ai [x[i] for x in args 1d one d func n *ai nodes  1d[0] weights  1d[1] weights ckron *weights[ -1 ] nodes gridmake *nodes return nodes weights 
def Main C G I method path unused headers parameters outfile if method ! 'GET' and method ! 'POST' outfile 'tatus 400\r\n' returnif path  GET REQUEST TOKEN URL O Auth Get Request Token C G I outfile elif path  AUTHORIZE TOKEN URL O Auth Authorize Token C G I method parameters outfile elif path  GET ACCESS TOKEN URL O Auth Get Access Token C G I outfile else outfile 'tatus 4nknown O Authhandler 
def oozie to hue frequency frequency string matches re FREQUENCY REGEX frequency string if matches return matches 'frequency unit matches 'frequency number else raise Invalid Frequency _ 'invalidfrequency %s' % frequency string 
def Retry Question question text output re '' default val None while True if default val is not None new text '%s[%s] ' % question text default val else new text '%s ' % question text output raw input new text or str default val output output if not output re or re output re output breakelse print 'nvalidinput mustmatch % output re return output 
def search by attributes service **kwargs if 'search' in inspect service [0] res service search 'and'.join '{} {}'.format k v for k v in kwargs else res [e for e in service if len [k for k v in kwargs if getattr e k None v ] len kwargs ]res res or [one return res 
def init mpstate return Cmdlong Module mpstate 
def fix unix encoding folder if not sabnzbd W I N32 and not sabnzbd D A R W I N and g U T F for root dirs files in os folder 'utf-8' for name in files new name special fixer name .encode 'utf-8' if name ! new name try shutil os root name os root new name except logging 'annotcorrectnameof os root name 
def permanent delete fid url build url RESOURCE id fid route 'permanent delete return request 'delete' url 
def  is cookie marked for deletion request return getattr request 'need to delete cookie False 
def test hide supppressed for f in ['html'] results []for hide value in False 'after' try pass through 'a' hide hide value pass through 'b' raise error except results format f else assert 0if results ! results print diff results results assert 0
def pretty xml tree elem level 0 indent u if not elem and len elem > 0 or elem and isspace elem elem u + indent * level + 1 for i child in enumerate elem pretty xml tree child level level + 1 indent indent if not child or isspace child l level + 1 if i len elem - 1 l - 1child.tail u + indent * l 
@task base Base Instructor Task def send bulk course email entry id  xmodule instance args action name ugettext noop 'emailed' visit fcn perform delegate email batchesreturn run main task entry id visit fcn action name 
def get color dict return  color dict 
def  dataset id to blockdevice id dataset id return  PREFIX + unicode dataset id 
def index create index body None hosts None profile None es  get instance hosts profile try if index exists index return Trueelse result es index index body body return Trueexcept elasticsearch Not Found Error return Nonereturn None 
def wipefacls *args **kwargs recursive kwargs 'recursive' False  raise on no files *args cmd 'setfacl-b'if recursive cmd + ' dentry in args cmd + '"{0}"'.format dentry   salt  ['cmd.run'] cmd python shell False return True 
def make test file content None suffix '.txt' if content is None content 'amatestfileforupload tempfile file for upload tempfile Named Temporary File suffix suffix dir tdir file for upload content file for upload 0 return file for upload 
def encode udp packet rsv frag address type address port payload strings [struct.pack '!HBB' rsv frag address type   encode address address type address struct '!H' port payload ''.join strings 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def  mod priv opts object type privileges object type object type privileges '' if privileges is None else privileges  privs re '\\s? \\s?' privileges return object type privileges  privs 
def collect files file paths log printer ignored file paths None limit file paths None limit fnmatch functools fnmatch globs limit file paths if limit file paths else lambda fname True valid files list filter lambda fname os fname icollect file paths ignored file paths if valid files collected files file globs with files zip *valid files else collected files file globs with files [] []  warn if unused glob log printer file paths file globs with files "ofilesmatching limited files list filter limit fnmatch collected files return limited files 
def  create sailthru user vars user profile sailthru vars {'username' user 'activated' int user active 'joined date user joined ' }if profile sailthru vars profile vars profile vars profile of educationif profile of birth sailthru vars of birth profile of birthsailthru vars unicode profile return sailthru vars 
def make flocker script test script options command name class Flocker Script Test Case Test Case 'estforclassesthatimplement I Command Line Script test interface self 'scriptthatismeanttoberunby Flocker Script Runner I Command Line Script True verify Object I Command Line Script script def test incorrect arguments self 'locker Script Runner module Fake Sys Module argv [command name '--unexpected argument script runner Flocker Script Runner reactor None script script options options sys module sys module error self Raises System Exit script runner error text sys module self Equal 1 [] error help problems command name error text return Flocker Script Test Case 
def install webpi name install args None override args False return install name source 'webpi' install args install args override args override args 
def mock render to string template name context return str template name sorted context 
def release group return Rebulk .rules Scene Release Group Anime Release Group Expected Release Group 
def get Carvable Object global Object object xml Element archivable Object global Object archivable Object Element objectobject Dictionary xml Element First Child With Class Name 'name' .textobject.object archivable Objectcoords xml Element First Child With Class Name 'coords' transform X M L Element get Transform X M L Element coords 'rom if len transform X M L Element Dictionary < 16 transform X M L Element get Transform X M L Element coords 'o matrix X M L Element Dictionary To Other Element Dictionary transform X M L Element object X4 '' object return archivable Object 
def project get project id None name None profile None **connection args auth profile **connection args if  OS IDENTITY API VERSION > 2 return tenant get tenant id project id name name profile None **connection args else return False 
@locked functiondef store in cache cache location url response hpath bpath calculate cache path cache location url try outf open hpath 'wb' headers str response outf headers outf outf open bpath 'wb' outf response outf except I O Error return Trueelse return False 
def  merge options options defaults   salt  ['config.option'] 'solr.dih.import options if isinstance options dict defaults options for key val in six defaults if isinstance val bool defaults str val .lower return defaults 
def query ids from blast result blast result filter fn no filter DEBUG False ok ids []removed ids []for id in blast result for entry in blast result for subentry in entry if not check align percent field subentry continueif not filter fn subentry removed ids id continueok ids subentry Q U E R Y I D ok ids set ok ids removed ids set removed ids - ok ids return ok ids removed ids 
def deprecated Worker Module Attribute scope attribute compat name None new name None module name scope  name  ']assert module name in sys 'scopemustbemodule i 'assert sys name  dict   is scope 'scopemustbemodule i 'if new name is None scope keys list scope scope values list scope attribute name scope keys values attribute ]else attribute name new namecompat name  compat name attribute name compat name compat name scope name attributeif attribute name msg 'se attribute name else msg "on deprecated Module Attribute Version 'uildbot 0 9 0  WORKER WARNING MARK + msg module name compat name 
def get pants cachedir cache home os u X D G CACHE HOME' if not cache home cache home u os os cache home u 
def directory arg path optname if not os path raise Usage Error '{0}mustbeadirectory given {1}'.format optname path return path 
def  get Simple Patterns num Ones num Patterns num Cols num Ones * num Patterns p []for i in xrange num Patterns x numpy num Cols dtype 'float32' x i * num Ones i + 1 * num Ones ] 1p.append x return p 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg '--length' metavar '<length>' default None help _ 'engthinlinestotail def do console log cs args server  find server cs args data server console output length args print data 
def Error Details exc info None exclude robot traces EXCLUDE ROBOT TRACES exc type exc value exc traceback exc info or sys info if exc type in RERAISED EXCEPTIONS raise exc valuedetails Python Error Details if not isinstance exc value Throwable else Java Error Details return details exc type exc value exc traceback exclude robot traces 
def nsecs to timespec ns ns int ns return ns / 10 ** 9 ns % 10 ** 9
def plotting positions data alpha 0.4 beta 0.4 data ma data copy False .reshape 1 -1 n data plpos np data dtype float plpos ] 0plpos[data.argsort [ n np 1 n + 1 - alpha / n + 1.0 - alpha - beta return ma plpos mask data mask 
def  namespace package path fqname pathnames path None working set pkg resources Working Set path path list pathnames for dist in working set if dist metadata 'namespace packages namespaces dist metadata 'namespace packages .splitlines if fqname in namespaces nspath os dist *fqname.split '.' if nspath not in path path nspath return path 
def undoc func return func 
def  update Namespace item new namespace temp item ''i item '}' if i > 0 temp item item i + 1 ]else temp item item '{{{0}}}{1}'.format new namespace temp item for child in item if isinstance child string types temp item ''i child '}' if i > 0 temp item child i + 1 ]else temp item child '{{{0}}}{1}'.format new namespace temp item return item 
def get fs info path hddinfo os path total hddinfo frsize * hddinfo blocks free hddinfo frsize * hddinfo bavail used hddinfo frsize * hddinfo blocks - hddinfo bfree return {'total' total 'free' free 'used' used 
def  paths from list modifications module path trailer1 trailer2 if not tree node trailer1 'trailer' and trailer1 '.' and tree node trailer2 'trailer' and trailer2 ' ' and len trailer2 3 return []name trailer1 name not in ['insert' 'append'] return []arg trailer2 name 'insert' and len arg in 3 4 arg arg  execute code module path arg code 
def get build platform try from sysconfig import get platformexcept Import Error from distutils import get platformplat get platform if sys 'darwin' and not plat 'macosx-' try version  macosx vers machine os [4].replace '' '_' return 'macosx-%d.%d-%s' % int version int version  macosx arch machine except Value Error passreturn plat 
def test precession j2000 Time u J2000 scale u b1950 Time u B1950 scale u j1975 Time u J1975 scale u b1975 Time u B1975 scale u fk4 FK4 ra 1 * u dec 0.5 * u assert fk4 b1950 fk4 2 fk4 to FK4 equinox b1975 assert fk4 2.equinox.byear b1975 fk5 FK5 ra 1 * u dec 0.5 * u assert fk5 j2000 fk5 2 fk5 to FK4 equinox j1975 assert fk5 2.equinox.jyear j1975 
def  hessian wrapper hess x z k params x arr np x params x arr k params zh x np z * hess params zero mat np zh x A np zh x zero mat axis 1 B np zero mat zero mat axis 1 zh x ext np A B axis 0 return matrix zh x ext 2 * k params 2 * k params 
def import book dbook in stream headers True dbook xls book openpyxl workbook Bytes I O in stream for sheet in xls book data tablib Dataset data sheet i row in enumerate sheet row vals [c.value for c in row i 0 and headers data row valselse data row vals dbook sheet data 
def  fallback results locale product slugs products []for slug in product slugs try p Product slug slug products p except Product Does Not Exist pass docs fallback documents for locale products products docs docs + fallback or [] return docs 20]
def delete directory path shutil path onerror  on error return not os path 
def  verify var type val return isinstance val basestring int float datetime 
def event list consul url None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif 'name' in kwargs query params kwargs raise Salt Invocation Error 'equiredargument function 'event/list/'ret  query consul url consul url query params query params function function return ret 
def compile attributes bases dependants parameters coalesce None label None context S Q L Expression Context bases parameters label label compiler S Q L Expression Compiler for attr in dependants if hasattr attr 'function' and attr function name attr function get aggregate function function name column function attr context coalesce else column compiler attr context context column attr column return context 
def  get unique smem id name global  unique smem id unique smem id + 1return '{0} {1}'.format name  unique smem id 
def iand a b a & breturn a 
def get collection by id collection id strict True version None collection memcache key  get collection memcache key collection id version version memcached collection memcache services multi [collection memcache key .get collection memcache key if memcached collection is not None return memcached collectionelse collection model collection models Collection Model collection id strict strict version version if collection model collection get collection from model collection model memcache services multi {collection memcache key collection return collectionelse return None 
def get size start path total size 0for dirpath __ filenames in os start path for f in filenames fp os dirpath f total size + os fp return total size 
def  param filter match vobject item filter  parent name name filter .get 'name' children getattr vobject item '%s list % parent name [] condition any name in child for child in children if len filter  if filter [0].tag  tag 'C' 'text-match' return condition and  text match vobject item filter [0] parent name name elif filter [0].tag  tag 'C' 'is-not-defined' return not condition else return condition 
def add nylas headers msg nylas uid msg X I N B O X I D nylas uidmsg Message Id generate message id header nylas uid msg User Agent 'ylas Mailer VERSION
def  prefix root root path trailing False return normpath join  norm root root path '/' trailing trailing 
def rollback snapshot vm name key 'uuid' ret {}vmadm  check vmadm if key not in ['uuid' 'alias' 'hostname'] ret Error 'eymustbeeitheruuid aliasorhostname retvm lookup '{0} {1}'.format key vm one True if 'rror in vm return vmvmobj get vm if 'datasets' in vmobj ret Error ' Mcannothavedatasets retif vmobj in ['kvm'] ret Error ' Mmustbeoftype O S retcmd '{vmadm}rollback-snapshot{uuid}{snapshot}'.format vmadm vmadm snapshot name uuid vm res   salt  ['cmd.run all cmd retcode res retcode ! 0 ret Error res if 'stderr' in res else  exit status retcode return retreturn True 
def forward substitution lower triangle variable constant K copy lower triangle copy lower triangle nrow len copy lower triangle result []for i in range nrow a K j in range i a + copy lower triangle * variable variable constant - a / copy lower triangle return variable 
def schedule rebuild kb if not waffle is active 'wiki-rebuild-on-demand' or settings C E L E R Y ALWAYS EAGER returnif cache settings W I K I REBUILD TOKEN log 'ebuildtaskalreadyscheduled returncache settings W I K I REBUILD TOKEN True rebuild kb 
@utils.arg 'aggregate' metavar '<aggregate>' help _ 'ameor I Dofaggregate @utils.arg 'host' metavar '<host>' help _ 'hehosttoremovefromtheaggregate def do aggregate remove host cs args aggregate  find aggregate cs args aggregate cs host aggregate args print _ 'ost host shasbeensuccessfullyremovedfromaggregate aggregate id s % {'host' args 'aggregate id aggregate  print aggregate details cs aggregate 
def  Add List Fields Method message descriptor cls def List Fields self all fields [item for item in self fields if  Is Present item ]all fields key lambda item item return all fieldscls List Fields List Fields 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  collins crt r R P p K return gf int gf crt [r R] [P p K P * p 
def win32 utf8 argv try from ctypes import POINTER byref cdll c int windllfrom ctypes import LPCWSTR L P W S T R Get Command Line W cdll Get Command Line W Get Command Line W [et Command Line W L P C W S T R Command Line To Argv W windll Command Line To Argv W Command Line To Argv W [LPCWSTR POINTER c int ]ommand Line To Argv W POINTER LPWSTR cmd Get Command Line W argc c int 0 argv Command Line To Argv W cmd byref argc if argc > 0 return [argv[i] for i in xrange 0 argc ]except Exception pass 
def Create Parser query input string antlr3 A N T L R String Stream query lexer Query Lexer With Errors input string tokens antlr3 Common Token Stream lexer parser Query Parser With Errors tokens return parser 
def  flatten action profile action profile indptr N len indptr - 1 out np indptr -1 ] for i in range N if isinstance action profile numbers Integral num actions indptr i + 1 ] - indptr mixed action pure2mixed num actions action profile else mixed action action profile indptr i + 1 ]] mixed actionreturn out 
@receiver pre save sender Api Access Request dispatch uid 'api access request pre save email def send decision email sender instance **kwargs if instance and not instance old instance Api Access Request pk instance if instance ! old instance  send decision email instance 
def import pyside2 from Py Side2 import Qt Gui Qt Core Qt Svg Qt Widgets Qt Print Support Qt Gui Compat types Module Type 't Gui Compat Qt Gui Compat  dict  .update Qt Gui  dict   Qt Gui Compat  dict  .update Qt Widgets  dict   Qt Gui Compat  dict  .update Qt Print Support  dict   return Qt Core Qt Gui Compat Qt Svg QT API PYSIDE2
def direct Loops is Widdershins loops for loop in loops direct Loop is Widdershins loop 
def raw system incron log 'read file  read file  INCRON SYSTEM TAB 'salt' return ''.join  read file  INCRON SYSTEM TAB 'salt'
def get Child For Request resource request while request and not resource Leaf path Element request 0 request path Element resource resource Child With Default path Element request return resource 
@with settings foo 0 bar False def test require key exists false primitive values require 'foo' 'bar'
def exe Only file name Directory Get Current Directory + ' X E O N L Y file open file name 'w' print >>file cs ipy % 'EXEONLY' 100 file compile Exe file name 
def obj make dict of lists context list cls obj list item key obj lists {}for obj in obj list key getattr obj item key if key not in obj lists obj lists list cls obj lists []obj lists obj for key in obj lists obj lists context contextobj lists reset changes return obj lists 
def test kit2fiff check usage mne kit2fiff force help True 
def check const string result func cargs offset None if offset check err result ptr ptr byref cargs offset return ptr return result 
def search vm ref by identifier session identifier vm ref  get vm ref from vm uuid session identifier or  get vm ref from extraconfig session identifier or  get vm ref from uuid session identifier return vm ref 
def urlize value from django import urlizereturn urlize value nofollow True 
def get sun time earth pv helio earth pv bary erfa *get jd12 time u earth p earth pv helio 0 ]earth v earth pv bary 1 ]earth v / c u / u .valuedsun np np earth p ** 2 axis -1 invlorentz 1 - np earth v ** 2 axis -1 ** 0.5 properdir erfa earth p / dsun dsun + 1 - earth v dsun invlorentz cartrep Cartesian Representation x - dsun * properdir 0] * u A U y - dsun * properdir 1] * u A U z - dsun * properdir 2] * u A U return Sky Coord cartrep frame GCRS obstime time 
def  format range context start stop beginning start + 1 length stop - start if not length beginning - 1if length < 1 return '{}'.format beginning return '{} {}'.format beginning beginning + length - 1
def display menu stdscr menu y erase menu stdscr menu y stdscr menu y 4 'sethecursorkeystomove andspaceor Entertotoggleacell stdscr menu y + 1 4 'E rasetheboard R andomfill S teponceor C ontinuously Q uit 
def xyxy to xywh boxes return np boxes 0 2] boxes 2 4] - boxes 0 2] + 1
def badge description course mode if course return _ u Completedthecourse name {course mode {start date date ' .format start date course end date course course name course name course mode mode else return _ u Completedthecourse name {course mode ' .format course name course name course mode mode 
def positive s threshold 0.1 **kwargs return polarity s **kwargs > threshold 
def decrypted dict data encryption key None return data {}if not data return return datafor prop name prop value in data method value prop valuedecrypted value decrypt method value encryption key prop string jsonutils decrypted value return data name prop stringreturn return data 
def is version of draft valid exp id version return get exploration by id exp id .version version 
def object description object try s repr object except Exception raise Value Errorif isinstance s binary type s force decode s None s memory address re '' s return s '\n' ''
def cr uid ids context method method api 'cr uid ids context method 
def  get read geometry try import nibabel as nibhas nibabel Trueexcept Import Error has nibabel Falseif has nibabel and Loose Version nib  version   > Loose Version '2.1.0' from nibabel import read geometryelse read geometry  read geometryreturn read geometry 
@image comparison baseline images [vent Collection plot  set color def test  Event Collection  set color splt coll _ generate Event Collection plot new color np [0 1 1 1] coll color new color np array equal new color coll color check allprop array coll colors new color splt title u Event Collection set color 
def get timezone name tz name force text get current timezone name errors 'ignore' return tz name 'ascii' 'ignore' .decode 'ascii' .replace '' '_'
def  is secure cipher cipher tokens [e.upper for e in cipher .split '-' ]if cipher Bits < 128 return Falseelif cipher Exchange Method 'DH' and os 'nt' return Falseelif cipher Method .upper .startswith 'RC4' return Falseelif cipher Method .upper .startswith 'DES' return Falseelif 'MD5' in tokens return Falseelif cipher Method in [ U L L 'NULL'] return Falseelif cipher Method in [ U L L 'NULL'] return Falseelif 'EXP' in tokens or 'EXPORT' in tokens return Falseelif 'ADH' in tokens return Falseelse return True 
def activate language if not language return active translation language 
def get resource resource name key identifier fields profile 'pagerduty' subdomain None api key None if 'pagerduty util cache not in   context     context  ['pagerduty util cache {}if resource name not in   context  ['pagerduty util cache if resource name 'services' action resource name + '?include[] escalation policy else action resource name  context  ['pagerduty util cache name  query action action profile profile subdomain subdomain api key api key [resource name resource in   context  ['pagerduty util cache name for field in identifier fields if resource key if resource name 'schedules' full resource info  query action '{0}/{1}'.format resource name resource profile profile subdomain subdomain api key api key return full resource inforeturn resourcereturn None 
def find files roots generated resources None ignored patterns IGNORED PATTERNS ignored dirs IGNORED DIRS ignored path regexps IGNORED PATH REGEXPS allowed extensions None if generated resources is None generated resources set if isinstance roots string types roots [roots]if isinstance allowed extensions string types allowed extensions set [allowed extensions for root in roots for path dirs files in os root path posixpath path os '/'  remove ignored directories path dirs ignored dirs ignored path regexps for filename in files filepath posixpath path filename if filename 'generated resources  process generated resources path filepath generated resources continueif not all not fnmatch filename x for x in ignored patterns continueif not  check allowed extension filepath allowed extensions continue yield filepath 
def run chunk environ lowstate client environ S A L T A P I Client chunk in lowstate yield client chunk 
@register.inclusion tag 'authority/permission request delete link takes context True def permission request delete link context perm user context user authenticated link kwargs base link context perm 'authority-delete-permission-request' if user perm 'authority.delete permission link kwargs requestor Falsereturn link kwargsif not perm and perm user link kwargs requestor Truereturn link kwargsreturn {'url' None 
def not After cert path return  not After Before cert path Open S S L X509 not After 
def setup app app role 'rfc' rfclink return 
def stat request path if not request path raise Http404 _ 'ilenotfound % path s % {'path' escape path } stats request path return Json Response  massage stats request stats 
def render tooltip label comment  class 'tooltip' if not comment tooltip ''elif isinstance comment lazy T basestring if hasattr label 'flatten' label label .strip '*' tooltip DIV  class  class  title '%s|%s' % label comment else tooltip commentreturn tooltip 
def skip if unavailable modulename def cantimport try   import   modulename except Import Error return Trueelse return Falsereturn skip if cantimport 
def set nuage facts if unset facts if 'common' in facts if 'use nuage not in facts use nuage Falsefacts nuage use nuagereturn facts 
def collect assets systems settings **kwargs for sys in systems collectstatic stdout str  collect assets cmd sys **kwargs sh django cmd sys settings 'collectstatic--noinput{logfile str logfile str collectstatic stdout str print ' DCTB DCTB Finishedcollecting sys 
def parse ssh config file obj config S S H Config config file obj return config 
def  populate cache platform pkg cache mount dir if not pkg cache returnif not os pkg cache returnif platform 'pacman' cache dir '{0}/var/cache/pacman/pkg'.format mount dir   salt  ['file.mkdir'] cache dir 'root' 'root' '755'   salt  ['file.copy'] pkg cache cache dir recurse True remove existing True 
def unlabel rgb colors str vals ''for index in range len colors try float colors str vals str vals + colors except Value Error if colors ' ' or colors '.' str vals str vals + colors str vals str vals + ' ' numbers []str num ''for char in str vals if char ! ' ' str num str num + char else numbers float str num str num ''return numbers numbers numbers 
def user has resource db permission user db resource db permission type if not cfg C O N F return Trueresolver resolvers resolver for permission type permission type permission type result resolver has resource db permission user db user db resource db resource db permission type permission type return result 
def valid date date if not hasattr date 'tzinfo' return Falseif date is None or  total seconds date < 1.1 return Truereturn False 
def make graph filename dep info sect gtype dependencies graph filename dep info sect Paragraph '%simportsgraphhasbeenwrittento%s' % gtype filename 
@utils.arg 'aggregate' metavar '<aggregate>' help _ 'ameor I Dofaggregatetodelete def do aggregate delete cs args aggregate  find aggregate cs args cs aggregate print _ 'ggregate % aggregate 
def qbytearray to str qba return str bytes qba Hex .data .decode
@cache with key lambda *args display recipient cache key args timeout 3600 * 24 * 7 def get display recipient remote cache recipient id recipient type recipient type id if recipient type Recipient S T R E A M stream Stream id recipient type id return stream profile list User Profile subscription  recipient id recipient id .select related .order by 'email' return [{'email' user profile 'domain' user profile 'full name user profile name 'short name user profile name 'id' user profile 'is mirror dummy user profile mirror dummy for user profile in user profile list 
def nsga2select population fitnesses survivors allowequality True fronts non dominated sort population key lambda x fitnesses allowequality allowequality individuals set for front in fronts remaining survivors - len individuals if not remaining > 0 breakif len front > remaining crowd dist crowding distance front fitnesses front sorted front key lambda x crowd dist reverse True front set front remaining individuals | frontreturn list individuals 
@sopel.module.require privmsg admin u @sopel.module.priority u @sopel.module.example u Your Pants Doesanyoneelsesmellneurotoxin def msg bot trigger if trigger 2 is None return channel  sep message trigger 2 .partition u message message if not channel or not message returnbot channel message 
def get Link Local I Pv6 Address addresses get Link Local I Pv6 Addresses if addresses return addresses Skip Test 'inklocal I Pv6addressunavailable 
@slow testdef test browse raw check usage mne browse raw 
def signin success request identity url openid response redirect field name REDIRECT FIELD NAME **kwargs openid  from openid response openid response openids request 'openids' [] openids openid  request openidsrequest openid try rel User Association openid url  exact str openid  except redirect to request R E Q U E S T redirect field name '' if not redirect to or '//' in redirect to or '' in redirect to redirect to settings L O G I N REDIRECT U R Lreturn Http Response Redirect '%s?%s' % reverse 'user register urllib {redirect field name redirect to user  rel user .is active user .backend 'odel Backend request user  redirect to request G E T redirect field name '' if not redirect to or '//' in redirect to or '' in redirect to redirect to settings L O G I N REDIRECT U R Lreturn Http Response Redirect redirect to 
def at start elem body X Path 'ancestor-or-self h body elem if not body return Truebody body frozenset X Path 'ancestor *' elem for x in body if x is elem return Trueif hasattr getattr x 'tag' None 'rpartition' and x '}' [ -1 ] in {'img' 'svg'} return Falseif isspace getattr x 'text' None and x in ancestors or isspace getattr x 'tail' None continuereturn Falsereturn False 
def acl create consul url None **kwargs ret {}data {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif 'name' in kwargs data Name kwargs raise Salt Invocation Error 'equiredargument if 'type' in kwargs data Type kwargs 'rules' in kwargs data Rules kwargs 'acl/create'res  query consul url consul url data data method 'PUT' function function if res ret Trueret ' C L kwargs else ret Falseret 'emoving Catalogitem kwargs return ret 
def target def prep r if r if r name 'collection' record r s3db collectiontable id record idtable id record idreturn Trues3 prepreturn s3 rest controller rheader s3db rheader 
def  get Simple Patterns num Ones num Patterns num Cols num Ones * num Patterns p []for i in xrange num Patterns x numpy num Cols dtype 'float32' x i * num Ones i + 1 * num Ones ] 1p.append x return p 
def salustowicz 1d data return exp - data * data ** 3 * cos data * sin data * cos data * sin data ** 2 - 1
@pytest.fixture def  temp analyze files tmpdir orig img tmpdir u orig hdr tmpdir u orig img u .close orig hdr u .close return str orig img str orig hdr 
def relabel sequential label field offset 1 m label field if not np label field np new type np scalar type int m label field label field new type m m new type labels np label field labels0 labels labels ! 0 ]if m len labels0 return label field labels labels forward map np m + 1 int forward map np offset offset + len labels0 if not labels 0 .any labels np [0] labels inverse map np offset - 1 + len labels dtype np inverse map offset - 1 ] labelsrelabeled forward map field relabeled forward map inverse map 
def make re mask as string ''.join mask r '[^' + re as string + ']' return re r 
def stream generator function before fullname Noneseen fullnames Bounded Set 301 without before counter 0while True newest fullname Nonelimit 100if before fullname is None limit - without before counterwithout before counter without before counter + 1 % 30 for item in reversed list function limit limit params {'before' before fullname if item in seen fullnames continueseen fullnames item newest fullname item yield item before fullname newest fullname 
def timethis func @wraps func def wrapper *args **kwargs start time result func *args **kwargs end time print func  name   end - start return resultreturn wrapper 
def message from file fp *args **kws from email import Parserreturn Parser *args **kws .parse fp 
def  get module and context context pricing mod get pricing module pricing ctx pricing mod context context return pricing mod pricing ctx 
def  sort factors factors **args def order if multiple key factor f n factorreturn len f n f def order no multiple key f return len f f if args 'multiple' True return sorted factors key order if multiple key else return sorted factors key order no multiple key 
def  EMSA PKCS1 V1 5 ENCODE msg hash em Len with hash parameters True digest Algo Der Sequence [er Object Id msg hash .encode ] if with hash parameters digest Algo Der Null .encode digest Der Octet String msg hash digest Info Der Sequence [lgo digest ] .encode if em Len < len digest Info + 11 raise Type Error 'electedhashalgorithhasatoolongdigest %dbytes .' % len digest PS bchr 255 * em Len - len digest Info - 3 return b '\x00\x01' + PS + bchr 0 + digest Info 
@ np message '2 Cisdeprecatedinscipy0 Usescipy temperatureinstead Notethatthenewfunctionhasadifferentsignature def F2C F return  np F - 32 / 1.8
def math2html formula factory Formula Factory whole factory formula Formula Processor .process whole whole return ''.join whole 
@lru cache def get babel locale locale string return babel Locale locale string '-'
def is error pkt code endian int pkt 7] if code 1064 return Trueelif code 1096 return Truereturn False 
def  joint probabilities nn distances neighbors desired perplexity verbose distances astype distances np copy False neighbors astype neighbors np copy False conditional P  utils binary search perplexity distances neighbors desired perplexity verbose m 'llprobabilitiesshouldbefinite np np conditional P m P conditional P + conditional P.T sum P np np P MACHINE EPSILON P np squareform P / sum P MACHINE EPSILON assert np np P < 1.0 return P
def convert Decimal x encoder if encoder is False return float x raise pyamf Encode Error 'nabletoencodedecimal Decimalinstancesasthereisnowaytoguaranteeexactconversion Usestrict Falsetoconverttoafloat 
def submit and follow app form extra environ None name None value None **args response webtest submit form name value value status 302 extra environ extra environ **args return app url response Location extra environ extra environ 
def get all ret  get systemd services ret set  get sysv services return sorted ret 
def run checks checks [check test runner check boolean field default value ]return [output for output in checks if output 
def make default app wrapper name @functools.wraps getattr Bottle name def wrapper *a **ka return getattr app name *a **ka return wrapper 
def parse property name source name source while PROPERTY NAME PART saved pos source source if ch and ch in ' ' prop name namename source while ALNUM | set '&_-./' .strip if name saved pos source prop name name None prop name else prop name Nonesource saved posreturn prop name name 
def url for endpoint **kw return url adapter endpoint kw 
def  decrypt object obj if isinstance obj six types return  fetch secret obj elif isinstance obj dict for pass key pass path in six obj obj key  decrypt object pass path elif isinstance obj list for pass key pass path in enumerate obj obj key  decrypt object pass path return obj 
def remove excess padding text text re '^\\n' '' text text re '\\n$' '' text return text 
def ip to host ip try hostname aliaslist ipaddrlist socket ip except Exception hostname Nonereturn hostname 
def numa get reserved huge pages bucket {}if C O N F huge pages try bucket collections dict for cfg in C O N F huge pages try pagesize int cfg except Value Error pagesize strutils to bytes cfg return int True / units Ki bucket cfg ][pagesize] int cfg except Value Error Type Error Key Error raise exception Invalid Reserved Memory Pages Option conf C O N F huge pages return bucket 
def fnmatchcase name pat try re pat  cache Key Error res translate pat if len  cache >  MAXCACHE  cache  cache re pat re res return re pat name is not None 
def warn deprecated since message '' name '' alternative '' pending False obj type 'attribute' addendum '' message  generate deprecation message since message name alternative pending obj type warnings message mpl Deprecation stacklevel 1
def get children cluster if is leaf cluster raise Type Error 'aleafclusterhasnochildren' else return cluster 
def pure nugget theta d theta np theta dtype np d np d dtype np n eval d np n eval r d 0.0 axis 1 ] 1.0return r 
def get timeline data doctype name return dict frappe u timestamp cs date count * \n DCTB DCTB from Course Schedule `tudent Attendance DCTB DCTB DCTB sa schedule cs DCTB DCTB DCTB andsa %s\n DCTB DCTB DCTB andcs date sub curdate interval1year \n DCTB DCTB DCTB andstatus 'resent DCTB DCTB DCTB groupbycs date name 
def attach is watcher to queryset queryset user as field 'is watcher model queryset apps model 'contenttypes' 'ontent Type .objects.get for model model if user is None or user anonymous sql ' E L E C Tfalse sql 'SELECTCASEWHEN S E L E C Tcount * \ R O Mnotifications watched W H E R Enotifications watched type id {type id A N Dnotifications watched id { N Dnotifications watched id {user id > H E N T R U E E L S E F A L S E E N D sql type id type tbl model meta table user id user qs queryset select {as field sql return qs 
def Throttle Remote Datastore throttle remote datastore stub None if not remote datastore stub remote datastore stub apiproxy stub map Get Stub 'datastore v3 if not isinstance remote datastore stub remote api stub Remote Datastore Stub raise remote api stub Configuration Error 'remote apiisnotconfigured throttler Datastore Throttler throttle remote datastore stub Pre Hook Handler throttler Prehook Handlerremote datastore stub Post Hook Handler throttler Posthook Handler 
def make lpdf mu sigma x T mu theano mu a x 0 'x' 1 - mu 'x' 0 1 / sigma E log mean exp -0.5 * a ** 2 .sum 2 Z mu * T sigma * numpy numpy * 2 return theano [x] E - Z
def start volume name force False cmd 'volumestart{0}'.format name if force cmd '{0}force'.format cmd volinfo info name if name not in volinfo log 'annotstartnon name return Falseif not force and volinfo '1' log 'olume name return Truereturn  gluster cmd 
def  find address range addresses first last addresses ip in addresses ] if ip ip last ip + 1 last ipelse breakreturn first last 
def pyramid soap11 application services tns 'spyne.simple.soap' validator None name None from spyne import Soap11from spyne import Pyramid Applicationapplication Application services tns name name in protocol Soap11 validator validator out protocol Soap11 return Pyramid Application application 
def test install package with root script data root dir script path / 'root' result script 'install' '--root' root dir '-f' data links '--no-index' 'simple 1.0' normal install path script path / script packages / 'simple-1.0-py%s.egg-info' % pyversion from distutils import change rootroot path change root os script 'root' normal install path assert root path in result created str result 
def  is valid region code region code if region code is None return Falsereturn region code in SUPPORTED REGIONS
def download progress hook count block Size total Size global last percent reportedpercent int count * block Size * 100 / total Size if last percent reported ! percent if percent % 5 0 sys '%s%%' % percent sys else sys '.' sys last percent reported percent 
@ile System directory current directory 'django' 'dill' def test use test database setting for i in range 1 2 status out commands 'pythonmanage.pyharvest--settings testdbsettings + 'leaves/features/testdb.feature' assert equals status 0 out assert 'arvestercount 1' in out out 
def  mod run check cmd kwargs onlyif unless if onlyif if   salt  ['cmd.retcode'] onlyif **cmd kwargs ! 0 return {'comment' 'onlyifexecutionfailed' 'skip watch True 'result' True unless if   salt  ['cmd.retcode'] unless **cmd kwargs 0 return {'comment' 'unlessexecutionsucceeded' 'skip watch True 'result' True True 
def register nonexistent models with modm class Dropbox File M O D M Stored File Node  primary key u id O S F Storage Guid File M O D M Stored File Node  primary key u id O S F Guid File M O D M Stored File Node  primary key u id Github Guid File M O D M Stored File Node  primary key u id Node File M O D M Stored File Node  primary key u id Box File M O D M Stored File Node  primary key u id Fig Share Guid File M O D M Stored File Node  primary key u id S3 Guid File M O D M Stored File Node  primary key u id Dataverse File M O D M Stored File Node  primary key u id Dataverse File collection Node File collection S3 Guid File collection Fig Share Guid File collection Box File collection Github Guid File collection O S F Storage Guid File collection O S F Guid File collection Dropbox File collection 
@service.soap 'ivision returns {esult float args {'a' float 'b' float def division a b return a / b 
def  fit edges polyfit x window length polyorder deriv delta axis y halflen window length // 2  fit edge x 0 window length 0 halflen axis polyorder deriv delta y n x fit edge x n - window length n n - halflen n axis polyorder deriv delta y 
def get repository by id app id if is tool shed client app return app model app model Tool Shed Repository .get app id id else sa session app sa session app Repository .get app id id 
def string attributes domain return [attr for attr in domain + domain if attr string 
def verify hook signature node settings data headers if node settings secret is None raise Hook Error 'osecretkey digest hmac str node settings secret data digestmod hashlib .hexdigest signature headers HOOK SIGNATURE KEY '' .replace 'sha1 ' '' if digest ! signature raise Hook Error 'nvalidsignature 
def traverse dict data key default delimiter DEFAULT TARGET DELIM try for each in key delimiter data data Key Error Index Error Type Error return defaultreturn data 
def minibatches inputs None targets None batch size None shuffle False assert len inputs len targets if shuffle indices np len inputs np indices for start idx in range 0 len inputs - batch size + 1 batch size if shuffle excerpt indices idx start idx + batch size ]else excerpt slice start idx start idx + batch size yield inputs targets 
def test fits hst unit x u Unit u assert x u * u ** -1 * u ** -2 * u ** -1
def getcolor color mode color alpha getrgb color 255 if len color 4 color alpha color 3] color if Image mode 'L' r g b colorcolor r * 299 + g * 587 + b * 114 // 1000 if mode -1 ] 'A' return color alpha elif mode -1 ] 'A' return color + alpha return color 
def gists by username number -1 etag None if username return gh by username number etag return iter []
def invoke member obj membername *args **kwargs return getattr obj membername *args **kwargs
def fromimage im flatten False mode None if not Image Image Type im raise Type Error 'nputisnota P I Limage if mode is not None if mode ! im im im mode elif im 'P' if 'transparency' in im im im 'RGBA' else im im 'RGB' if flatten im im 'F' elif im '1' im im 'L' a array im return a 
def get real filter layers img size real filter np len layers 2 conv mode Truefirst conv layer Trueexpon np 1 2 for i layer in enumerate layers ] j i + 1 if not conv mode real filter img sizecontinueif is conv2d layer if not first conv layer new filter np layer size * expon real filter new filterelse new filter np layer size * expon real filter new filterfirst conv layer Falseelif is maxpool2d layer real filter real filter * np layer size else conv mode Falsereal filter img sizereal filter img sizereturn real filter 
def parse query pkt length endian int pkt 5] pkt pkt ]query ''for i in xrange length - 4 query + pkt 'hex' return query 
def example2 build forest x y **kwargs if kwargs > 0 returnroom create object rooms Room key 'forest' + str x + str y room 'asicforestroom room + '' + room return room 
def  handle sigusr2 sig stack try import yappiexcept Import Error returnif yappi running yappi filename 'callgrind.salt-{0}-{1}'.format int time os destfile os tempfile filename yappi func stats .save destfile type 'CALLGRIND' if sys sys 'avedprofilingdatato {0}\n'.format destfile yappi stats else if sys sys 'rofilingstarted yappi 
def utm2mgrs e n grid zeros 0 square set int grid -1 ] % 6 ew idx int e / 100000 - 1 ns idx int n % 2000000 / 100000 ns letters 135 ' B C D E F G H J K L M N P Q R S T U V letters 246 ' G H J K L M N P Q R S T U V A B C D E letters 14 ' B C D E F G H letters 25 ' K L M N P Q R letters 36 ' T U V W X Y Z square set 1 square ew letters 14[ew idx + ns letters 135[ns idx elif square set 2 square ew letters 25[ew idx + ns letters 246[ns idx elif square set 3 square ew letters 36[ew idx + ns letters 135[ns idx elif square set 4 square ew letters 14[ew idx + ns letters 246[ns idx elif square set 5 square ew letters 25[ew idx + ns letters 135[ns idx else square ew letters 36[ew idx + ns letters 246[ns idx easting '%05d' % e % 100000 northing '%05d' % n % 100000 return ''.join [grid square easting - zeros ] northing - zeros ]]
def completion callback def  completion f def   completion *a **b d Nonetry d f *a **b return dfinally thread new thread callback d return   completionreturn  completion 
def normalize timedelta val if type val str val parse timedelta val if not val return ''hr val / 3600 mn val % 3600 / 60 return '%d.%02d' % hr mn * 100 / 60
def test prompt should not ask if no input and rm repo dir mocker tmpdir mock read user mocker 'cookiecutter.vcs.read user yes no return value True autospec True repo dir tmpdir 'repo' vcs and delete repo str repo dir no input True assert not mock read user assert not repo dir 
def parse response for async op response if response is None return Noneresult Asynchronous Operation Result if response for name value in response if name 'x-ms-request-id' result id valuereturn result 
def setup event pipeline conf transformer manager None default extension Extension Manager 'ceilometer.transformer' cfg file conf pipeline cfg filereturn Pipeline Manager conf cfg file transformer manager or default EVENT TYPE
def  call App Function function try function except log None u Unexpectedexceptionfrom % fully Qualified Name function 
def getuserbase global USER B A S Eif USER BASE is not None return USER B A S Efrom sysconfig import get config var U S E R BASE get config var 'userbase' return USER BASE
def check settings base url None if base url is None base url settings S T A T I C U R Lif not base url raise Improperly Configured "ou S T A T I C U R Lsetting if settings M E D I A URL base url raise Improperly Configured 'he M E D I A U R Land S T A T I C U R Lsettingsmusthavedifferentvalues if settings M E D I A ROOT and settings S T A T I C ROOT and settings M E D I A ROOT settings S T A T I C ROOT raise Improperly Configured 'he M E D I A R O O Tand S T A T I C R O O Tsettingsmusthavedifferentvalues 
@oslo db api db retry max retries 5 retry on deadlock True @pick context manager writerdef compute node update context compute id values compute ref compute node get model context compute id values at timeutils convert objects related datetimes values compute ref values return compute ref 
def show network network profile None conn  auth profile return conn network network 
def test sobel zeros result filters np 10 10 np 10 10 bool assert np result 0
def  fprime score x k params alpha x arr np x params x arr k params fprime arr np score params alpha return matrix fprime arr 1 2 * k params 
def get debug values *args if config test value 'off' return []rval []for i arg in enumerate args try rval get test value arg except Attribute Error if hasattr arg 'name' and arg is not None missing test message 'rgument + str i + " '" + arg + "' hasnotestvalue else missing test message 'rgument + str i + 'hasnotestvalue' return []if len rval 1 return rvalreturn [tuple rval ]
def  fake specify ep self season episode _ self season episode 
def select formatter class formatter name try return  formatter registry name Key Error if ' ' not in formatter name raisereturn load formatter class formatter name 
def brand return s3 rest controller 'supply' 'brand'
def Unwrap Py Tree tree unwrapper Py Tree Unwrapper unwrapper Visit tree uwlines unwrapper Get Unwrapped Lines uwlines key lambda x x return uwlines 
def resolve url to *args **kwargs if hasattr to 'get absolute url return to absolute url if isinstance to Promise to force text to if isinstance to str if to './' '../' return totry return reverse to args args kwargs kwargs except No Reverse Match if callable to raiseif '/' not in to and '.' not in to raisereturn to 
def set challenge for url url challenge if not url raise Value Error ' R Lcannotbeempty if not challenge raise Value Error 'hallengecannotbeempty src url parse url if src url ! challenge authority raise Value Error 'ource U R Land Challenge U R Ldonotmatch  cache url challenge 
def make tags in proper format tags formatted tags dict for tag in tags formatted tags 'ey ] tag 'alue return formatted tags 
def  unpad message text if not text return ''padding size ord text -1 ] if padding size > A E S size return '' unpadded padding text - padding size ] text - padding size ] if any ord x ! padding size for x in padding return ''return unpadded 
@ignore warnings category Deprecation Warning def check positive definite covars covariance type rng np Random State 1 X rng 100 2 X[ -10 ] + 3 3 gmm mixture G M M 2 params 'wc' covariance type covariance type min covar 0.001 gmm X if covariance type 'diag' or covariance type 'spherical' assert greater gmm .min 0 else if covariance type 'tied' covs [gmm.covars ]else covs gmm for c in covs assert greater np c 0
def capture Warnings capture global  warnings showwarningif capture if  warnings showwarning is None  warnings showwarning warnings  showwarningelif  warnings showwarning is not None warnings  warnings showwarning warnings showwarning None 
def safe filename filename valid chars '-_. {}{}'.format string letters string return ''.join c for c in filename if c in valid chars 
def format list lst locale DEFAULT LOCALE locale Locale locale if not lst return ''if len lst 1 return lst len lst 2 return locale patterns *lst result locale patterns lst lst for elem in lst -1 ] result locale patterns result elem result locale patterns result lst -1 ] return result 
def hanged process *args **kwargs def handler sig frame send 'SIGINT' signal signal S I G I N T handler send 'STARTED' while True signal send 'STOPPED'
def enable deprecations as exceptions include astropy deprecations True global  deprecations as exceptions deprecations as exceptions Trueglobal  include astropy deprecations include astropy deprecations include astropy deprecations 
def max pooling 2d x ksize stride None pad 0 cover all True use cudnn True return Max Pooling2 D ksize stride pad cover all use cudnn x 
def  install Handler Using Signal fd if fd -1 previous signal signal S I G C H L D signal S I G DFL else previous signal signal S I G C H L D  Handler fd if isinstance previous  Handler return previous -1
def dereferring url fn if 'derefer.me' in url  RE DEREFER re 'content ".*url [^"]+ ">' data fn for line in data '\n' if '<meta' in line m  RE D E R E F E R data if m return m 1 return None 
def truncated normal shape None mean 0.0 stddev 0.02 dtype tf seed None if shape return tf normal shape shape mean mean stddev stddev seed seed dtype dtype else return tf normal initializer mean mean stddev stddev seed seed dtype dtype 
def  add lists list1 list2 if len list1 < len list2 sol [ a + b for a b in zip list1 list2 ] + list2 list1 ] else sol [ a + b for a b in zip list1 list2 ] + list1 list2 ] return sol 
def create table with all types table name session N alpha type list [ R I M A R Y K E Y names ['primkey']start index ord 'a' for i datatype in enumerate PRIMITIVE DATATYPES alpha type list '{0}{1}'.format chr start index + i datatype col names chr start index + i session 'CREATETABLE{0} {1} '.format table name ' '.join alpha type list timeout 120 for key in range N params get all primitive params key columns string ' '.join col names placeholders ' '.join ['%s'] * len col names session 'INSERTINTO{0} {1} VALUES {2} '.format table name columns string placeholders params timeout 120 return col names 
def  norm siteconfig value siteconfig key value siteconfig key if value in u u None value u value 
def tokenize asdl buf for lineno line in enumerate buf 1 for m in re '\\s* \\w+|--.*|. ' line c m 1 if c if c yield Token Token Kind Constructor Id c lineno else yield Token Token Kind Type Id c lineno elif c 2] '--' breakelse try op kind Token Kind table Key Error raise A S D L Syntax Error 'nvalidoperator % c lineno yield Token op kind c lineno 
def libvlc video set mouse input p mi on f  Cfunctions 'libvlc video set mouse input None or  Cfunction 'libvlc video set mouse input 1 1 None None Media Player ctypes uint return f p mi on 
def  make Default Reporter return Reporter sys sys 
def new stocks retry count 3 pause 0.001 data pd Data Frame ct write head df  newstocks data 1 retry count pause return df 
def write best job expt dir best val best job expt grid best job fh open os expt dir 'best job and result 'w' best job fh 'estresult %ob %arameters \n' % best val best job for best params in expt grid params best job best job fh str best params best job fh 
def Tukeythreegene2 genes means []stds []for gene in genes means numpy gene std numpy gene stds2 []for std in stds stds2 math std 2 mserrornum sum stds2 * 2 mserrorden len genes + len genes + len genes - 3 mserror mserrornum / mserrorden 
def send annotation event module key msg annotated by 'nsible level None instance id None event epoch None annotation api 'https //event-gateway.stackdriver.com/v1/annotationevent'params {}params['message'] msgif annotated by params by annotated byif level params levelif instance id params id instance idif event epoch params epoch event epochreturn do send request module annotation api params key 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get all languages def  get if not frappe frappe return frappe list u Language return frappe .get value u  get 
@pytest.mark.parametrize 'progress load status expected visible [ 15 usertypes Load Status True 100 usertypes Load Status False 100 usertypes Load Status False 100 usertypes Load Status False 100 usertypes Load Status False ] def test tab changed fake web tab progress widget progress load status expected visible tab fake web tab progress progress load status load status progress widget tab changed tab actual progress widget progress widget Visible expected tab expected visible assert actual expected 
def authorable xblocks allow unsupported False name None blocks X Block Studio Configuration set .filter enabled True if not allow unsupported blocks blocks support level X Block Studio Configuration U N S U P P O R T E D if name blocks blocks name name return blocks 
def cleanup  lib R A N D cleanup 
def test batch normalized mlp conserve memory propagated mlp Batch Normalized M L P [anh Tanh ] [5 7 9] conserve memory False assert not mlp memory assert not any act memory for act in mlp mlp memory Trueassert mlp memoryassert all act memory for act in mlp 
def new view window text scratch False new view window file if scratch new view scratch True if is ST3 new view command 'append' {'characters' text else new edit new view edit new view new edit 0 text new view edit new edit return new view 
def version autocomplete request project slug queryset Project request get object or 404 queryset slug project slug versions Version request if 'term' in request G E T term request G E T raise Http404version queryset versions slug  icontains term [ 20]names version queryset list 'slug' flat True json response json list names return Http Response json response content type 'text/javascript'
def connect ia ia access key id None ia secret access key None is secure False **kwargs from boto import S3 Connectionfrom boto import Ordinary Calling Formataccess key config 'redentials 'ia access key id ia access key id secret key config 'redentials 'ia secret access key ia secret access key return S3 Connection access key secret key host 's3.us.archive.org' calling format Ordinary Calling Format is secure is secure **kwargs
def edit distance s1 s2 substitution cost 1 transpositions False len1 len s1 len2 len s2 lev  edit dist init len1 + 1 len2 + 1 for i in range len1 for j in range len2  edit dist step lev i + 1 j + 1 s1 s2 substitution cost substitution cost transpositions transpositions return lev 
def discrete sequence n distribution None cdistribution None import bisectif cdistribution is not None cdf cdistributionelif distribution is not None cdf cumulative distribution distribution else raise nx Network X Error 'discrete sequence distributionorcdistributionmissing inputseq [random.random for i in range n ]seq [ bisect left cdf s - 1 for s in inputseq seq 
def available on pypi prerelease current version prerelease client xmlrpclib Server Proxy 'https //pypi.python.org/pypi' versions client releases 'pwntools' True versions map packaging Version versions if not prerelease versions filter lambda v not v prerelease versions return max versions 
def clip Min Max size min Size max Size return size To min Size .o max Size 
def  compute proj A U _ _ linalg A full matrices False return np A - np U U T 
def iterate In Reactor i from twisted import reactord defer Deferred def go last try r i except Stop Iteration d last except d else if isinstance r defer Deferred r Callback go else reactor Later 0 go r go None return d 
def set margin layout margin layout Contents Margins margin margin margin margin 
def license list context data dict model context check access 'license list context data dict license register model Package license register licenses license register licenses [l.as dict for l in licenses licenses 
def perspective fovy aspect znear zfar assert znear ! zfar h math fovy / 360.0 * math * znear w h * aspect return frustum - w w - h h znear zfar 
def  image mode backup mode return backup mode 'image'
def rcollect expr *vars if expr Atom or not expr *vars return exprelse expr expr  class   *[rcollect arg *vars for arg in expr if expr Add return collect expr vars else return expr 
def validate positive float option value errmsg '%smustbeanintegerorfloat' % option try value float value except Value Error raise Value Error errmsg except Type Error raise Type Error errmsg if not 0 < value < 1000000000.0 raise Value Error '%smustbegreaterthan0andlessthanonebillion' % option return value 
@commands u @example u def meetingaction bot trigger if not ismeetingrunning trigger bot u Can startmeetingfirst returnif not trigger 2 bot u returnif not ischair trigger trigger bot u Onlymeetingheadorchairscandothat returnlogplain u A C T I O N ' + trigger 2 trigger log H T M L listitem u "font-weight bold Action </span>' + trigger 2 trigger meeting actions trigger 2 bot u A C T I O N ' + trigger 2
def  submit hadoop job resp project None cluster None script name None now None project project or  TEST PROJECT cluster cluster or  DATAPROC CLUSTER script name script name or  SCRIPT NAME now now or datetime job elements [script name  USER NAME now ' now '%H%M%S' now '%f' ]job id '-'.join job elements + ['-' 'tep '1' 'of' '1'] dir name '.'.join job elements mock response {'reference' {d project 'd job id 'placement' {ame cluster 'uid '8b76d95e-ebdc-4b81-896d-b2c5009b3560'} 'ob {ar File Uri 'file ///usr/lib/hadoop-mapreduce/hadoop-streaming.jar' 'args' [] 'onfig {}} 'status' {'state' 'PENDING' 'tart Time  datetime to gcptime now } 'ontrol Files Uri 'gs //dataproc-801485be-0997-40e7-84a7-00926031747c-us/google-cloud-dataproc-metainfo/8b76d95e-ebdc-4b81-896d-b2c5009b3560/jobs/% job id s % locals 'utput Resource Uri 'gs //dataproc-801485be-0997-40e7-84a7-00926031747c-us/google-cloud-dataproc-metainfo/8b76d95e-ebdc-4b81-896d-b2c5009b3560/jobs/% job id s % locals }return mock response 
def test colormap reversing for name in cm d cmap plt cmap name cmap r cmap if not cmap r isinit cmap init cmap r init assert array almost equal cmap lut -3 ] cmap r lut -4 -1 ]
def or  a b return a | b 
def expand gufunc template template indims outdims funcname argdims indims + outdims argnames ['arg{0}'.format i for i in range len argdims ]checkedarg 'min {0} '.format ' '.join ['{0}.shape[0]'.format a for a in argnames inputs [ gen src for indexing aref adims  gen src for input indexing for aref adims in zip argnames indims ]outputs [ gen src for indexing aref adims  gen src for output indexing for aref adims in zip argnames indims ] outdims ]argitems inputs + outputs src template name funcname args ' '.join argnames checkedarg checkedarg argitems ' '.join argitems return src 
def copy location new node old node for attr in 'lineno' 'col offset if attr in old node attributes and attr in new node attributes and hasattr old node attr setattr new node attr getattr old node attr return new node 
def find caller stack for frame in stack module inspect frame if not hasattr module u  name  ' continueif module  name  .startswith u continuereturn module  name   + tuple frame 4] + frame log u Transactionfromunknownorigin return None None None None 
def assert Read From All testcase client members *args **kwargs members set members used set for _ in range 100 used read from which host client *args **kwargs testcase Equal members used 
def get desktop uri prefix global  uri prefixif  uri prefix is None dt host desktop H T T P H O S T if dt host '0.0.0.0' dt host socket protocol desktop https enabled and 'https' or 'http'  uri prefix '%s //%s %s' % protocol dt host desktop H T T P P O R T return  uri prefix 
def  multilingual function *args **kwargs return getattr  module kwargs 'language' 'en' function *args **kwargs
@login required http methods ['GET'] def finish auth request return render to response 'student account auth {'disable courseware js True 'disable footer True 
def  id or key list item if isinstance list item dict if 'id' in list item return list item 'key' in list item return list item list item 
def gen even slices n n packs n samples None start 0if n packs < 1 raise Value Error 'gen even slicesgotn packs %s mustbe 1' % n packs for pack num in range n packs this n n // n packs if pack num < n % n packs this n + 1if this n > 0 end start + this n if n samples is not None end min n samples end yield slice start end None start end 
def  version Tuple version Str try v version Str '.' + '.0.0.0' .split '.' [ 3]except Attribute Error Value Error raise Value Error 'adversionstring `{}`'.format version Str return int v int v int v 
def add X M L Line line xml Lines stripped Line line if stripped Line len '<!--' ] '<!--' end Index line '-->' if end Index ! -1 end Index + len '-->' comment Line line end Index Line line Index ].strip if len remainder Line > 0 xml Lines comment Line xml Lines remainder Line returnxml Lines line 
def Close Expression clean lines linenum pos line clean lines line startchar not in ' {[<' return line clean lines Num Lines -1 if startchar ' ' endchar ' 'if startchar '[' endchar ']'if startchar '{' endchar '}'if startchar '<' endchar '>' end pos num open Find End Of Expression In Line line pos 0 startchar endchar if end pos > -1 return line linenum end pos while linenum < clean lines Num Lines - 1 linenum + 1line clean lines end pos num open Find End Of Expression In Line line 0 num open startchar endchar if end pos > -1 return line linenum end pos return line clean lines Num Lines -1
def aliased element alias None name None flat False adapt on names False if isinstance element expression From Clause if adapt on names raise sa exc Argument Error 'adapt on namesonlyappliesto O R Melements return element name flat flat else return Aliased Class element alias alias flat flat name name adapt on names adapt on names 
def  check config config if not  valid dict config return True ''  community config 'community'  community tmp {}if not  community return False 'ustspecifyatleastacommunity if  valid str  community  community tmp community  community defaults elif isinstance  community list for  comm in  community if  valid str  comm  community tmp comm  community defaults if  valid dict  comm for  comm name  comm details in six  comm if  valid str  comm name  community tmp comm name  clear community details  comm details elif  valid dict  community for  comm name  comm details in six  community if  valid str  comm name  community tmp comm name  clear community details  comm details else return False 'leasespecifyacommunityoralistofcommunities if not  valid dict  community tmp return False 'leasespecifyatleastavalidcommunity config  community tmpfor key in ['location' 'contact' 'chassis id  str elem config key return True ''
def  assert vhd not hidden path query cmd 'vhd-utilquery-n% path s % locals query proc make subprocess query cmd stdout True stderr True out err finish subprocess query proc query cmd for line in out if line 'hidden' value line ' ' [1].strip if value '1' raise Exception 'VHD% path sismarkedashiddenwithoutchild % locals 
def  netmask To Prefixlen netmask netlen  count0 Bits netmask masklen  count1 Bits netmask  check Netmask netmask masklen return masklen - netlen 
def sitrep return s3 rest controller 
def commit index object store index return commit tree object store index 
def sub Dict d allowedkeys flip False res {}for k v in list d if k in allowedkeys ^ flip res vreturn res 
def  pre startup  setup logging if  options logging Logger .evel logging D E B U G if  options openflow pox 
def parse config h fp g None if g is None g {}define rx re '#define [ Z A Za ]+ .* \n' undef rx re '/[*]#undef [ Z A Za ]+ [*]/\n' while 1 line fp if not line breakm define rx line if m n v m 1 2 try v int v except Value Error passg velse m undef rx line if m g 1 ] 0return g 
def load bytes buf num pos end pos + num if end > len buf raise Bad Rar File 'cannotloadbytes' return buf end end 
def test install from wheel no deps script data package data 'requires source result script 'install' '--no-index' '--find-links' data links '--no-deps' package pkg folder script packages / 'source' assert pkg folder not in result created 
def require context f def wrapper *args **kwargs nova context args return f *args **kwargs return wrapper 
def dots to camel case dots def return upper match return match [0].upper return str D O T S return upper dots 
def  make values bytes dict  return {k six v for k v in dict .items }
def  match emr step syslog path path step id None return  match emr step log path path 'syslog' step id step id 
def clone design request design id design authorized get design request design id if design is None L O G 'annotclonenon % design id return list designs request copy design request copy name copy + '-copy' design .copy content object copy name name owner request messages request _ 'opieddesign % name s % {'name' design return format preserving redirect request reverse get app name request + ' execute design kwargs {'design id copy 
def usd value return Money value u U S D 
def  dot x y if isinstance x np and isinstance y np return np x y elif sparse x return x y elif sparse y return y T x T .T
def register rebroadcast c code typ code version Rebroadcast code and version code version 
def iterated wiener noisy img size 3 noisy img noisy imgdenoised img local mean noisy img size size l var local var noisy img size size for i in range 3 res noisy img - denoised img noise res ** 2 .sum / res noise level 1 - noise / l var noise level noise level < 0 ] 0denoised img + noise level * res return denoised img 
def DEFINE multi parser serializer name default help flag values FLAGS **args DEFINE flag Multi Flag parser serializer name default help **args flag values 
def Destroy Interactive Window global editif edit is not None and edit View is not None if edit View Get Parent Frame win32ui Get Main Frame passelse edit Close edit None 
def process figure for rasterizing fig bbox inches restore fixed dpi None bbox inches restore bbox bbox inches restorerestore bbox r adjust bbox fig bbox inches fixed dpi return bbox inches r 
def  get name type  value return type . VALUES TO N A M E S if value is not None else u None 
def extract params raw if isinstance raw bytes type or isinstance raw unicode type try params urldecode raw except Value Error params Noneelif hasattr raw u  iter  ' try dict raw except Value Error params Noneexcept Type Error params Noneelse params list raw if isinstance raw dict else raw params decode params utf8 params else params Nonereturn params 
def notify list user subscribed e target e target name ! c name returnsource e object [e['target object at e at user cycle color source + color func c N O T I F I C A T I O N nick '@' + source name notify color func c N O T I F I C A T I O N 'subscribedtoyourlist' date parser created at clock fallback humanize date clock color func c N O T I F I C A T I O N clock meta c N O T I F Y F O R M A T source user meta '#source user meta notify meta '#notify' meta clock meta '#clock' meta emojize meta print Nicely '' print Nicely meta print list target object noti True 
def  api get cats name output kwargs return report output keyword 'categories' data list cats False 
def is installed return get binstar is not None 
def parse timedelta val if not val return Noneval val if '.' in val val float val return timedelta hours int val minutes 60 * val % 1.0 f Hour 'h' in val or ' ' in val f Min 'm' in val or ' ' in val for noise in 'minu teshour ' val val noise '' val val val val hr 0.0mi 0val.reverse if f Hour hr int val if f Min mi int val if len val > 0 and not hr hr int val return timedelta hours hr minutes mi 
def Pack Key name value pbvalue ref value Key  referencepbvalue referencevalue .set app ref Set Namespace pbvalue referencevalue ref space for elem in ref .element list pbvalue referencevalue .add pathelement .opy From elem 
def create verifier for dsa signature hash method public key return public key signature hash method 
def bzr wc version test 'bzr wc version '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabric import runfrom fabtools import is dirfrom fabtools import requireassert not is dir wt require copy REMOTE URL wt version '2' assert wc exists wt assert run 'bzrrevno%s' % wt '2'
def  get systemd services contextkey 'systemd.systemd services contextkey in   context   return   context  [contextkey]ret set for path in SYSTEM CONFIG PATHS + LOCAL CONFIG PATH if os path os R OK and not os path for fullname in os path try unit name unit type fullname '.' 1 except Value Error continueif unit type in VALID UNIT TYPES ret unit name if unit type 'service' else fullname   context  [contextkey] copy ret return ret 
def get id from href href return urlparse '%s' % href .path.split '/' [ -1 ]
def get implementation cls return symbol by name cls ALIASES
def human seconds short interval interval int interval return u %02i' % interval // 60 interval % 60
def get obj in list obj name obj list for o in obj list if o obj name return oprint 'nabletofindobjectbythenameof \n%s' % o map lambda o o obj list exit 1
def get foreign struct namespace name get foreign module namespace try return Foreign Struct namespace name except Key Error raise Foreign Error 'oreign % namespace name 
def copy header subset from r to r condition for k v in from r if condition k to r v 
def compression level n q oversampling 10 min subspace size 20 return min max min subspace size q + oversampling n 
def p jump statement 3 t pass 
def firstmethod method on call None def  matcher it *args **kwargs for obj in it try meth getattr maybe evaluate obj method reply on call meth *args **kwargs if on call else meth *args **kwargs except Attribute Error passelse if reply is not None return replyreturn  matcher 
def s one pre topics s one pre []for top words in topics s one pre t []for w prime index w prime in enumerate top words ] for w star in top words w prime index + 1 ] s one pre t w prime w star s one pre s one pre t return s one pre 
def mapping delete index doc type hosts None profile None es  get instance hosts profile try result es mapping index index doc type doc type if result 'acknowledged' False return Trueexcept elasticsearch Not Found Error return Nonereturn None 
def generate pools cidr gateway ip net netaddr I P Network cidr ip version net netaddr I P Address net ip version last netaddr I P Address net ip version if first last return [ P Range first last ]first ip first + 1 last ip last - ip version 4 if first ip > last ip return []ipset netaddr I P Set netaddr I P Range first ip last ip if gateway ip ipset netaddr I P Address gateway ip ip version return list ipset ipranges 
def recommend username users nearest compute Nearest Neighbor username users [0][1]recommendations [atings users Ratings users artist in neighbor Ratings if not artist in user Ratings recommendations artist neighbor Ratings return sorted recommendations key lambda artist Tuple artist Tuple reverse True 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def i0 x return tt tt x 5 1 + x ** 2 / 4 + x ** 4 / 64 + x ** 6 / 2304 + x ** 8 / 147456 + x ** 10 / 14745600 + x ** 12 / 2123366400 np ** x / 2 * np * x ** 0.5 * 1 + 1 / 8 * x + 9 / 128 * x ** 2 + 225 / 3072 * x ** 3 + 11025 / 98304 * x ** 4
def  nice case line l line s ''i 0ap 1while i < len l c l c > 'a' and c < 'z' and next Cap c c next Cap 0elif c '' or c '.' or c ' ' or c ';' or c ' ' or c ' DCTB ' or c '-' or c '_' next Cap 1s + ci + 1return s 
def convert dtypes dtype template order code dtypes dtype template for k in dtypes dtypes np dtypes .newbyteorder order code return dtypes 
def  create url with params params None controller None action None extras None if not controller controller c not action action c not extras extras {}url url for controller controller action action **extras return  url with params url params 
def test nm2 fit sample auto ratio 'auto'nm2 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS X resampled y resampled nm2 sample X Y X gt np [[0.91464286 1.61369212] [ -0.80809175 -1.09917302 ] [ -0.20497017 -0.26630228 ] [ -0.05903827 0.10947647] [0.03142011 0.12323596] [ -0.60413357 0.24628718] [0.50701028 -0.17636928 ] [0.4960075 0.86130762] [0.45713638 1.31069295]] y gt np [0 0 0 1 1 1 2 2 2] assert array equal X resampled X gt assert array equal y resampled y gt 
def request user has webhook permission permission type from st2common import Webhook D Bdef decorate func @wraps func def func wrapper *args **kwargs hook '/'.join args ] webhook db Webhook D B name hook resource db webhook dbutils request user has resource db permission request pecan resource db resource db permission type permission type return func *args **kwargs return func wrapperreturn decorate 
def get Routes app for rule in app url map rules methods rule ['HEAD'] path translate werkzeug rule rule attributes vars app endpoints .copy if 'segment count in attributes del attributes count yield Klein Route methods methods path path endpoint rule attributes attributes 
def test matching should be case insensitive completer text u [oo u F O O u O O completer matches text collection assert len matches 3
def validate maximum value maximum if maximum is not None and value > maximum raise Value Error u % value maximum 
def check known host user None hostname None key None fingerprint None config None port None if not hostname return {'status' 'error' 'error' 'hostnameargumentrequired'}if not user config config or '/etc/ssh/ssh known hosts else config config or '.ssh/known hosts known host get known host user hostname config config port port if not known host or 'fingerprint' not in known host return 'add'if key return 'exists' if key known host else 'update' elif fingerprint return 'exists' if fingerprint known host else 'update' else return 'exists'
def b64decode data if isinstance data six types try data data 'ascii' except Unicode Encode Error raise Value Error ' S C I Icharacters elif not isinstance data six type raise Type Error 'argumentshouldbeastrorunicode' return base64 b64decode data + ' ' * 4 - len data % 4
def Gamma Inverse name a b return rv name Gamma Inverse Distribution a b 
def record present name zone type data profile zones libcloud dns module zones profile try matching zone [z for z in zones if z zone ][0]except Index Error return state result False 'ouldnotlocatezone records libcloud dns module records matching zone profile matching records [record for record in records if record name and record type and record data ]if len matching records 0 result libcloud dns module record name matching zone type data profile return state result result 'reatednewrecord else return state result True 'ecordalreadyexists 
def connect Acknowledge a Tp Pd pd 3 b Message Type mes Type 15 packet a / b return packet 
def set cache headers f @functools.wraps f def wrapper *args **kwargs ttl 31536000expires datetime int time + ttl expires expires '%a % H %M %SGMT' headers {ache Control 'public max {0}'.format ttl 'xpires expires 'ast Modified 'hu 0an197000 00 0 M T 'f Modified Since in flask return flask Response status 304 headers headers kwargs headersreturn f *args **kwargs return wrapper 
def instantiate bears section local bear list global bear list file dict message queue console printer local bear list [bear for bear in filter raising callables local bear list Runtime Error section message queue timeout 0.1 ]global bear list [bear for bear in filter raising callables global bear list Runtime Error file dict section message queue timeout 0.1 ]return local bear list global bear list 
def  points table for i in range 256 for j in itertools i 256 yield j 
def check pairs func pairs name getattr func 'func name getattr func '  name  ' '<unknown>' for inp expected in pairs out func inp assert out expected pair fail msg name inp expected out 
def  check extension attrs cls extends cls  extends  eattrs extends Attributescattrs cls Attributesckeys set [k for k in vars cls Attributes if not k '_' ] ekeys set [k for k in vars extends Attributes if not k '_' ] diff set for k in ckeys | ekeys if getattr eattrs k None ! getattr cattrs k None diff k attr names ATTR N A M E S Nonewhile extends is not None retval extendsif len diff & attr names > 0 return extendsextends extends  extends  return retval 
def get asset url module path return '{}/{}/{}'.format settings S T A T I C U R L '/' module path 
def HT DCPHASE ds count return call talib with ds ds count talib H T DCPHASE
def  colon Hex val bytecount pieces []for i in range bytecount - 1 -1 -1 piece 255 << i * 8 & val >> i * 8 pieces '%02x' % piece ch Str ' '.join pieces return ch Str 
def host info host None data query host quiet True for id  in data if 'vm info in data ] data ].pop 'vm info   jid event  .fire event {'data' data 'outputter' 'nested'} 'progress' return data 
def test read right indented table table '\n#comment withblanklineabove \n \ol1 Col2 Col3 \n33.4foo\n14.5bar\n \n'reader ascii reader Reader ascii R S T dat reader table assert equal dat [ol1 'ol2 'ol3 assert equal dat 'foo' assert equal dat 1
def spectral clustering affinity n clusters 8 n components None eigen solver None random state None n init 10 eigen tol 0.0 assign labels 'kmeans' if assign labels not in 'kmeans' 'discretize' raise Value Error "he labels but % assign labels random state check random state random state n components n clusters if n components is None else n components maps spectral embedding affinity n components n components eigen solver eigen solver random state random state eigen tol eigen tol drop first False if assign labels 'kmeans' _ labels _ k means maps n clusters random state random state n init n init else labels discretize maps random state random state return labels 
def masscan x509 output certificate output 'base64' newout []for hashtype hashname in [ 'md5' 'MD5 ' 'sha1' 'SHA-1 ' ] hashvalue hashlib hashtype cert .hexdigest newout '%-7s%s\n' % hashname ''.join hashvalue i + 4 ] for i in xrange 0 len hashvalue 4 b64cert certificate 'base64' newout ' E G I N C E R T I F I C A T E newout '%s\n' % b64cert i + 64 ] for i in xrange 0 len b64cert 64 newout ' N D C E R T I F I C A T E return ''.join newout 
def test get moon nonscalar regression times Time [u'2015-08-2803 30' u 30'] get moon times ephemeris u 
def fix call callable *args **kw try val callable *args **kw except Type Error exc info fix type error None callable args kw reraise *exc info return val 
def  a encode unicode value mapping assert isinstance value unicode ' A L U Ehasinvalidtype %s' % type value value value 'UTF-8' return str len value .encode 'UTF-8' 's' value 
@login required P O S Tdef join contributors request next get next url request or reverse 'home' group Group name 'ontributors request group messages message request messages S U C C E S S _ 'ouarenowpartofthe Contributorsgroup return Http Response Redirect next 
def  translate string return string 
def dehydrate rating rating class rating rating class if rating is None rating str rating or slugify iarc name rating if rating is None if rating 0 rating unicode NAME GENERAL else rating unicode NAME LAZY % rating rating unicode rating return rating 
def delete virtual disk si vm obj disk number hdd prefix label 'arddisk label hdd prefix label + str disk number virtual hdd device Nonefor dev in vm obj if isinstance dev vim Virtual Disk and dev Info hdd label virtual hdd device devif not virtual hdd device raise Runtime Error 'irtual virtual hdd device virtual hdd spec vim Virtual Device Spec virtual hdd spec vim Virtual Device Spec Operation hdd spec virtual hdd devicespec vim Config Spec spec Change [virtual hdd spec vm obj Reconfig V M Task spec spec tasks for tasks si [task] return True 
def  parallel dict from expr exprs opt if opt is not False exprs [expr.expand for expr in exprs any expr commutative is False for expr in exprs raise Polynomial Error 'non-commutativeexpressionsarenotsupported' if opt reps gens  parallel dict from expr if gens exprs opt else reps gens  parallel dict from expr no gens exprs opt return reps opt {'gens' gens 
def  letter to number letter return ord letter - 96
def get sample datatype return SAMPLE D A T A 
def ancestor has staff lock xblock parent xblock None if parent xblock is None parent location modulestore .get parent location xblock revision Module Store Enum Revision Option preferred if not parent location return Falseparent xblock modulestore .get item parent location return parent xblock to staff only 
def difflist list1 list2 diff []for x in list2 if x not in list1 diff x return diff 
def default bucket name return files default gs bucket name 
def test require file from string from fabtools import file as require filetry bar contents 'hisisthecontentsofthebarfile file 'bar' contents bar contents assert is file 'bar' assert run 'catbar' bar contents finally run 'rm-fbar'
def require Upgrade obj obj I D id obj if obj I D in versioneds To Upgrade and obj I D not in upgraded upgraded I D 1pgrade return obj 
def gitlab notifier registry xml parent data X M L Sub Element xml parent 'it Lab Commit Status Publisher 
def show error string params None strip True indent None string text string params strip strip indent indent sublime message u Package Control % string 
def Help return  STYLE HELP
def shell expand path expand relative paths False if path path os os path if expand relative paths and not path '/' if 'CONFIG FILE' in globals CFGDIR os CONFIG FILE path os CFGDIR path path os path return path 
@blueprint.route '/<job id methods ['GET'] @blueprint.route '/<job id methods ['GET'] def show job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound related jobs scheduler related jobs job if request wants json return flask job dict True elif isinstance job model images Image Classification Model Job return model images job related jobs related jobs elif isinstance job model images Generic Image Model Job return model images job related jobs related jobs else raise werkzeug Bad Request 'nvalidjobtype 
def urlencode query if isinstance query dict query query return u [u' '.join [escape k escape v ] for k v in query 
def check returncode p out code p code 0 returnerrmap [one Rar Warning Rar Fatal Error Rar C R C Error Rar Locked Archive Error Rar Write Error Rar Open Error Rar User Error Rar Memory Error Rar Create Error Rar No Files Error Rar Wrong Password UNRAR TOOL ALT TOOL errmap [one code > 0 and code < len errmap exc errmap code 255 exc Rar User Breakelif code < 0 exc Rar Signal Exitelse exc Rar Unknown Errorif out msg '%s[%d] %s' % exc  doc   p out else msg '%s[%d]' % exc  doc   p raise exc msg 
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def  authenticate x509 credentials sock info query SON [ 'authenticate' 1 'mechanism' 'MONGODB-X509' ] if credentials is not None query credentials sock info wire version < 5 raise Configuration Error 'usernameisrequiredfor M O N G O D B X509authenticationwhenconnectedto Mongo D Bversionsolderthan3 sock info '$external' query 
@pytest.mark.parametrize 'fast writer [rue False def test strip names fast writer data table Table [[1] [2] [3]] names 'A' 'B' 'C' out String I O ascii data out format 'csv' fast writer fast writer assert out .splitlines [0] 'A B C'
def  dual gap emp cov precision  alpha gap np emp cov * precision  gap - precision .shape[0]gap + alpha * np precision  .sum - np np precision  .sum return gap 
def windowsize folder size None fsr Carbon File F S Ref folder folder alias fsr F S New Alias Minimal openwindow fsr if not size return  getwindowsize folder alias return  setwindowsize folder alias size 
def test is method assert not hug method function with kwargs assert hug method Object .my method 
def  get subclasses cls for i in cls  subclasses   for c in  get subclasses i yield c yield cls 
def str slice replace arr start None stop None repl None if repl is None repl ''def f x if x stop '' local stop startelse local stop stopy ''if start is not None y + x start + replif stop is not None y + x stop ]return yreturn  na map f arr 
def  preorder traverse root get children def dfs elem yield elem for v in get children elem for u in dfs v yield u for elem in dfs root yield elem 
def Uninstall Driver bundle name km objc Kext Manager cf bundle name km Py String To C F String bundle name status km Kext Manager Unload Kext With Identifier cf bundle name km C F Release cf bundle name return status 
def obj registries cls registryname None if registryname return registryname return cls  registries  
def Test Result add Skipped self test err self test str err 
def query params *es query params def  wrapper func @wraps func def  wrapped *args **kwargs params {}if u in kwargs params kwargs u .copy for p in es query params + GLOBAL PARAMS if p in kwargs v kwargs p if v is not None params  escape v for p in u u timeout if p in kwargs params kwargs p return func params params *args **kwargs return  wrappedreturn  wrapper 
def print benchmark elapsed print '%-7.2f%s' % elapsed 'secondselapsed' keys ['directories' 'files' 'logicallines' 'physicallines']for key in keys if key in options print '%-7d%spersecond %dtotal ' % options / elapsed key options 
def get random user users count Profile .count random index randint 0 users count - 1 return Profile [random index 
def saltenviron environ if '  opts  ' not in locals import salt  opts   salt config os 'SALT MASTER CONFIG' '/etc/salt/master' environ S A L T OPTS']   opts  environ S A L T A P I Client salt Netapi Client   opts  
def  parse pem key raw key input offset raw key input '-----BEGIN' if offset ! -1 return raw key input ]
def grey opening input size None footprint None structure None output None mode 'reflect' cval 0.0 origin 0 tmp grey erosion input size footprint structure None mode cval origin return grey dilation tmp size footprint structure output mode cval origin 
def get theme base dirs theme theme dirs theme paths []for  dir in theme dirs for dir name in {theme}.intersection os  dir if is theme dir Path  dir / dir name theme paths Path  dir / dir name return theme paths 
@with setup prepare stdout def test output snippets with groups within redundant quotes runner Runner feature name 'redundant-steps-quotes' verbosity 3 no color True runner assert stdout lines u Feature avoidduplicatingsamesnippet features 1cenario Proposematchedgroups features 2iven Ihave features 3 undefined \iven Ihave features 4 undefined \n\n1feature 0passed \n1scenario 0passed \n2steps 2undefined 0passed \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Given Ihave [^"]* "and" [^"]* "\' \ndefgiven i have group1 and group2 step group1 group2 \alse \hisstepmustbeimplemented 
def available versions url session None **kwargs if not session session client session Session construct kwargs return  discover version data session url 
def elapsed time to string elapsed include millis True prefix ''if elapsed < 0 prefix '-'elapsed abs elapsed if include millis return prefix +  elapsed time to string elapsed return prefix +  elapsed time to string without millis elapsed 
def find with default node path default v node path if v is not None return v return default 
def list ipsec site connections profile None conn  auth profile return conn ipsec site connections 
@ restore ownershipdef create key key type 'RSA' key length 1024 name real 'utogenerated Key name comment 'eneratedby Salt Stack name email None subkey type None subkey length None expire date None use passphrase False user None gnupghome None ret {'res' True 'fingerprint' '' 'message' ''}create params {'key type key type 'key length key length 'name real name real 'name comment name comment  create gpg user gnupghome if name email create params email name emailif subkey type create params type subkey typeif subkey length create params length subkey lengthif expire date create params date expire dateif use passphrase gpg passphrase   salt  ['pillar.get'] 'gpg passphrase if not gpg passphrase ret Falseret 'gpg passphrasenotavailableinpillar retelse create params gpg passphraseinput data gpg key input **create params key gpg key input data if key ret key ' P Gkeypairsuccessfullygenerated ret Falseret 'nabletogenerate G P Gkeypair ret 
def action get by request id context instance uuid request id action  action get by request id context instance uuid request id return action 
def outer a b out None n a b shape n m if out is None return core core a b None n m 1 ret shape if out ! n * m raise Value Error 'utputarrayhasaninvalidsize if out contiguous return core core a b out n m 1 ret shape else out ] core core a b None n m 1 ret shape return out 
def Paired Fasta Qual Iterator fasta handle qual handle alphabet single letter alphabet title2ids None from Bio Seq I O Fasta I O import Fasta Iteratorfasta iter Fasta Iterator fasta handle alphabet alphabet title2ids title2ids qual iter Qual Phred Iterator qual handle alphabet alphabet title2ids title2ids while True try f rec next fasta iter except Stop Iteration f rec Nonetry q rec next qual iter except Stop Iteration q rec Noneif f rec is None and q rec is None breakif f rec is None raise Value Error ' A S T Afilehasmoreentriesthanthe Q U A Lfile if q rec is None raise Value Error ' U A Lfilehasmoreentriesthanthe F A S T Afile if f rec ! q rec raise Value Error ' A S T Aand Q U A Lentriesdonotmatch %svs%s .' % f rec q rec if len f rec ! len q rec annotations quality raise Value Error 'equencelengthandnumberofqualityscoresdisagreefor % f rec f rec annotations quality q rec annotations quality yield f rec 
def person search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'pr' 'person'
def loadavg try load avg os except Attribute Error raise salt Command Execution Error 'status.loadavagisnotavailableonyourplatform' return {'1-min' load avg '5-min' load avg '15-min' load avg 
def Out text lines text '\n' indent ''for line in lines if line for c in line if not c breakindent indent + c breakn len indent for line in lines if line n indent line line ]else for c in indent if line 1] ! c breakline line ]a Output '%s' line 
def  categorize block df categories index df df for col vals in categories if is categorical dtype df df df categories vals else df pd Categorical df categories vals ordered False if index is not None if is categorical dtype df ind df categories index else ind pd Categorical df categories index ordered False ind df indreturn df 
def itemfilter predicate d factory dict rv factory for item in iteritems d if predicate item k v itemrv vreturn rv 
def rewrite C alpha w v C. schreier free group i in range len w x i w v * C P C A dict i alpha C C A dict i v 
def fit grid point X y estimator parameters train test scorer verbose error score 'raise' **fit params score n samples test _  fit and score estimator X y scorer train test verbose parameters fit params error score return score parameters n samples test 
def get os name OS platform .lower if O S 'linux' DISTRO platform distribution [0]if DISTRO OS OS + '-%s' % D I S T R O [0].lower return OS
def get session stored refresh token service get oauth service r service raw access token data {'refresh token stored refresh token 'grant type 'refresh token return service session r ['access token 
def extract inner value source attr chain cur element sourcefor attr in attr chain if hasattr cur element '  getitem  ' try cur element cur element Key Error Type Error passcur element getattr cur element attr None if cur element is None return Nonereturn cur element 
def make method key model method key prefix 'method-cache'if isinstance model basestring name modelelse name model  name   if hasattr model '  name  ' else model  class  .  name   key make key **key if isinstance key dict else key return u '.join [prefix name method key 
def explain c declaration c decl parser c parser C Parser try node parser c decl filename '<stdin>' except c parser Parse Error e sys info [1]return 'arseerror ' + str e if not isinstance node c ast File A S T or not isinstance node -1 ] c ast Decl return 'otavaliddeclaration  explain decl node node -1 ]
def download weekly bars instrument year csv File begin dt first monday year end dt last monday year + datetime days 6 bars download csv instrument begin end 'w' f open csv File 'w' f bars f 
def avail modules desc False cmd u Find Module  pshell cmd names []if desc names {}for module in modules if desc names Name module Description module Name return names 
@pytest.mark.skipif not HAS SCIPY reason u No Scipy @pytest.mark.skipif OLDER SCIPY reason u Scipytooold def test regression 4082 from .. import search around sky search around 3dcat Sky Coord [10.076 10.00455] [18.54746 18.54896] unit u search around sky cat 1] cat seplimit u * 60 storekdtree False cat3d Sky Coord [10.076 10.00455] * u [18.54746 18.54896] * u distance [0.1 1.5] * u search around 3d cat3d 1] cat3d 1 * u storekdtree False 
@click.command 'socketio' def setup socketio from bench import setup socketiosetup socketio 
def  get cudafft try from skcuda import fftexcept Import Error try from scikits import fftexcept Import Error fft Nonereturn fft 
def  Decode Uniquifier byte str client id num bytes util Decode Var Length Number byte str server id byte str bytes ] if num bytes < len byte str else None return Asset Id Uniquifier client id server id 
@blueprint.route '/users/<user>/resources' def list resources by user user return  list resources user user project acl limited to project flask 
def  make sync call service call request response resp apiproxy stub map Make Sync Call service call request response if resp is not None return respreturn response 
def check simple wiki locale view func @wraps view func def  check simple wiki locale request *args **kwargs if request L A N G U A G E CODE in settings S I M P L E WIKI LANGUAGES statsd 'wiki.redirect to faq url reverse 'wiki.document' args [SIMPLE WIKI LANDING PAGE SLUG] return http Http Response Redirect url return view func request *args **kwargs return  check simple wiki locale 
def get properties of managed object mo ref properties service instance get service instance from managed object mo ref log 'etrievingnameof type mo ref .  name   try items get mors with properties service instance type mo ref container ref mo ref property list ['name'] local properties True mo name items vmodl Invalid Property mo name '<unnamed>'log.trace "etrievingproperties properties type mo ref .  name   mo name items get mors with properties service instance type mo ref container ref mo ref property list properties local properties True if not items raise salt V Mware Api Error "ropertiesofmanagedobject mo name return items 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def  extract subject public key info x509 certificate certificate Der Sequence .decode x509 certificate nr elements 3 tbs certificate Der Sequence .decode certificate nr elements range 6 11 index 5try tbs certificate + 1 version 1except Type Error version Der Integer explicit 0 .decode tbs certificate .valueif version not in 2 3 raise Value Error 'ncorrect X index 6return tbs certificate 
def quota class get all by name context class name return I M P L class get all by name context class name 
def  apply forwards to bindings forward bindings for var value in bindings while id value in forward value forward value ]bindings[var] value 
def outport port name '' props [] mac name None return   create port dict 'out' port name mac name props 
def get dates args no of days date diff add days args date 1 args date dates [add days args date i for i in range 0 no of days ]return dates 
def  shortpath abspath b os os os S E T T I N G S MODULE].  file   p os abspath return p os [b p ]
def convertlabels ys indices None if indices None ylabel yselse idx np indices if idx > 1 and ys 2 ylabel np [ '@%s@' % ii 2].tostring for ii in ys [ np ylabel ys unil unilinv np ylabel return index False return inverse True return unilinv np len unil unil 
def Uppercase Enum *args return Enum *[ v v for v in args 
def object download file self Filename Extra Args None Callback None Config None return self file Bucket self name Key self Filename Filename Extra Args Extra Args Callback Callback Config Config 
def retry job job new nzb password if job history db sabnzbd db futuretype url pp script cat history db other job if futuretype if pp 'X' pp Nonesabnzbd url url pp script cat history db history job else path history db path job if path nzo id repair job platform encode path new nzb password history db history job return nzo idreturn None 
def expand power base expr deep True force False return sympify expr .expand deep deep log False mul False power exp False power base True multinomial False basic False force force 
def run all delay seconds 0 default scheduler all delay seconds delay seconds 
def snapshot get all for cgsnapshot context project id return I M P L get all for cgsnapshot context project id 
def to sentiment json doc id sent label json doc {}json doc id doc idjson doc float '%.3f' % sent json doc labelreturn json json doc 
def when imported name *hooks global finderfinder imported name *hooks
def test feature ptbr from string ru Language 'ru' feature Feature string FEATURE language ru assert equals feature u assert equals feature u scenario feature equals scenario u assert equals scenario -1 ].hashes [{u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '100' u '2' u '50'} {u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '28' u '7' u '4'} {u'\u0434\u0435\u043b\u0438\u043c\u043e\u0435' '0' u '5' u '0'}]
def  create backup config temp dir backup os temp dir 'backup' shutil backup ignore errors True shutil config backup symlinks True return backup 
def filter after position names position if position is None return namesnames new []for n in names if n pos is not None and n pos < position or isinstance n definition tree Comp For tree Lambda names new n return names new 
def locale name locales [name]
def add Vector3 To X M L Element key vector3 xml Element xml Element Dictionary '[%s %s %s]' % vector3 vector3 vector3 
def unpack kwargs kwargs dsk {}kw pairs []for key val in iteritems kwargs if isinstance val Item dsk val val val isinstance val Base raise Not Implemented Error 'ag partitions % type val .  name   kw pairs [key val return dsk kw pairs 
def  parse pg lscluster output cluster dict {}for line in output version name port status user datadir log line cluster dict version name ] {'port' int port 'status' status 'user' user 'datadir' datadir 'log' log cluster dict 
def load data path 'mnist.pkl.gz' path get file path origin 'https //s3.amazonaws.com/img-datasets/mnist.pkl.gz' if path '.gz' f gzip path 'rb' else f open path 'rb' if sys info < 3 data c Pickle f else data c Pickle f encoding 'bytes' f return data 
def batch rename work dir old ext new ext for filename in os work dir file ext os filename [1]if old ext file ext name list list filename name list len name list - len old ext ] list new ext newfile ''.join name list os os work dir filename os work dir newfile 
def do round value precision 0 method 'common' if not method in 'common' 'ceil' 'floor' raise Filter Argument Error 'methodmustbecommon ceilorfloor if precision < 0 raise Filter Argument Error 'precisionmustbeapostiveintegerorzero.' if method 'common' return round value precision func getattr math method if precision return func value * 10 * precision / 10 * precision else return func value 
def hadamard n dtype int if n < 1 lg2 0else lg2 int math n 2 if 2 ** lg2 ! n raise Value Error 'nmustbeanpositiveinteger andnmustbeapowerof2 H np [[1]] dtype dtype for i in range 0 lg2 H np np H H np H - H return H
def  plot raw time value params info params times params times / float info + params time - params if value > max times value params times / float info + params time - params if value < params time value params time params start ! value params start valueparams patch x value 
def set static dns iface *addrs addr index 1for addr in addrs if addr index 1 cmd ['netsh' 'int' 'ip' 'set' 'dns' iface 'static' addrs 'primary']  salt  ['cmd.run'] cmd python shell False addr index addr index + 1 else cmd ['netsh' 'interface' 'ip' 'add' 'dns' 'name {0}'.format iface 'addr {0}'.format addr 'index {0}'.format addr index ]  salt  ['cmd.run'] cmd python shell False addr index addr index + 1 return {nterface iface ' N S Server addrs 
def schedule enable enable status salt utils enabled enable cmd ['softwareupdate' '--schedule' salt utils enabled status ]salt.utils.mac utils return success cmd return salt utils enabled schedule enabled status 
@depends HAS IOSTAT def iostat interval 1 count 5 disks None if salt linux return  iostat linux interval count disks elif salt freebsd return  iostat fbsd interval count disks 
def scan opts ret {}for root dirs files in os opts for fn  in files full os root fn  if full '.py' ret mod data opts full return ret 
def Open Output path mode 'w' gyp Ensure Dir Exists path return open path mode 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def fixed ip get context id get network False return I M P L ip get context id get network 
def p testlist multi p if len p 2 p p isinstance p list p p + [p[3]] else p [p[1] p 
def process extract samples samples to extract prefs {}if samples to extract samples samples to extract .strip "'" .split ' ' for j col in enumerate samples key str j prefs {}prefs[key] colreturn prefs 
def trace dot X Y return np X Y 
def write trans fname trans check fname fname 'trans' '-trans.fif' '-trans.fif.gz' fid start file fname write coord trans fid trans end file fid 
def use fsdev lib fs desc disk1 only reinit disks global FSDEV FS D E S Cglobal FSDEV R E S T O R Eglobal FSDEV DISK1 O N L Yglobal FSDEV PREP CNTFSDEV FS DESC fs desc F S D E V DISK1 ONLY disk1 only F S D E V RESTORE reinit disks F S D E V PREP CNT 0
def zfill x width if type x type '' s xelse s repr x n len s if n > width return ssign ''if s in '-' '+' sign s s s ] return sign + '0' * width - n + s 
def cosine similarity v1 v2 s sum v1 f 0 * w for f w in v2 s float s / l2 norm v1 * l2 norm v2 or 1 return s 
def html annotate doclist markup default markup tokenlist [tokenize annotated doc version for doc version in doclist tokens tokenlist tokens in tokenlist ] html annotate merge annotations cur tokens tokens cur tokens tokenscur tokens compress tokens cur tokens result markup serialize tokens cur tokens markup return ''.join result .strip
def compile dir dfn subprocess [PYTHON '-OO' '-m' 'compileall' '-f' dfn 
def pretty format tree entry name mode hexsha encoding 'utf-8' if mode & stat S IFDIR kind 'tree'else kind 'blob'return '%04o%s%s DCTB %s\n' % mode kind hexsha 'ascii' name encoding 'replace'
def  image property update context prop ref values session None  drop protected attrs models Image Property values values Falseprop ref values prop ref session session return prop ref 
def Smart Connect No S S L protocol 'https' host 'localhost' port 443 user 'root' pwd '' service 'hostd' path '/sdk' connection Pool Timeout CONNECTION POOL IDLE TIMEOUT SEC preferred Api Versions None key File None cert File None thumbprint None b64token None mechanism 'userpass' if hasattr ssl ' create unverified context ssl Context ssl create unverified context else ssl Context Nonereturn Smart Connect protocol protocol host host port port user user pwd pwd service service path path connection Pool Timeout connection Pool Timeout preferred Api Versions preferred Api Versions key File key File cert File cert File thumbprint thumbprint ssl Context ssl Context b64token b64token mechanism mechanism 
def worker stop worker lbn profile 'default' return  worker ctl worker lbn 's' profile 
@frappe.whitelist def get account balance and party type account date company debit None credit None exchange rate None if not frappe permission u Account frappe _ u No Permission raise exception 1 company currency get company currency company account details frappe value u Account account [u'account type u currency as dict 1 if not account details returnif account details type u Receivable party type u Customer account details type u Payable party type u Supplier party type u values {u'balance' get balance on account date u type party type u type account details type u currency account details currency or company currency u rate get exchange rate date account account details currency company debit debit credit credit exchange rate exchange rate }if not party type grid values u grid values 
def format  device fs type 'ext4' inode size None lazy itable init None force False salt until 'xygen 'heblockdevmodulehasbeenmergedwiththediskmodule andwilldisappearin Oxygen Usethedisk functioninstead return   salt  ['disk.format '] device fs type fs type inode size inode size lazy itable init lazy itable init force force 
def get storage profile spec session storage policy profile id pbm profile id by name session storage policy if profile id client factory session profile spec client factory 'ns0 Virtual Machine Defined Profile Spec storage profile spec Id profile id Idreturn storage profile spec 
def demo repr rule format postag ruleformat 'repr'
def get vlan device name src dev vlan src dev p utils interface name src dev max len n const D E V I C E NAME MAX LEN - MAX VLAN POSTFIX LEN return '%s.%s' % src dev vlan 
def quota usage create context project id resource in use reserved until refresh return I M P L usage create context project id resource in use reserved until refresh 
def  rm mods pre mods post mods pre set post set for mod in pre mods pre mod for mod in post mods post mod return pre - post 
def raise if offline func @functools.wraps func def decorator *args **kwargs if context offline mode raise Runtime Error _ '%scannotbecalledwhileinofflinemode' % func  name   return func *args **kwargs return decorator 
def fix lib64 lib dir symlink True if [p for p in distutils config vars .values if isinstance p basestring and 'lib64' in p ] if is pypy logger 'y Pydetected skippinglib64symlinking returnlogger 'hissystemuseslib64 assert os lib dir 'python%s' % sys 3] 'nexpectedpythonlibdir %r' % lib dir lib parent os lib dir top level os lib parent lib dir os top level 'lib' lib64 link os top level 'lib64' assert os lib parent 'lib' 'nexpectedparentdir %r' % lib parent if os lib64 link returncp or ln os if symlink else copyfile cp or ln 'lib' lib64 link 
def liberal is HDN text if IPV4 R E text return Falsereturn True 
def are permissions roles seeded course id try administrator role Role name FORUM ROLE ADMINISTRATOR course id course id moderator role Role name FORUM ROLE MODERATOR course id course id student role Role name FORUM ROLE STUDENT course id course id except return Falsefor per in STUDENT ROLE PERMISSIONS if not student role permission per return Falsefor per in MODERATOR ROLE PERMISSIONS + STUDENT ROLE PERMISSIONS if not moderator role permission per return Falsefor per in ADMINISTRATOR ROLE PERMISSIONS + MODERATOR ROLE PERMISSIONS + STUDENT ROLE PERMISSIONS if not administrator role permission per return Falsereturn True 
def any symbolic *args for a in args if isinstance a theano Variable return Truereturn False 
def Pack Geo Pt name value pbvalue pbvalue pointvalue .set x value pbvalue pointvalue .set y value 
def  combine annotations annotations last samps first samps sfreq if not any annotations return Noneelif annotations is None return annotations annotations is None old onset list old duration list old description list old orig time Noneelse old onset annotations duration annotations description annotations orig time annotations timeextra samps len first samps - 1 onset annotations + sum last samps -1 ] + extra samps - sum first samps -1 ] / sfreq onset np [old onset onset duration np [old duration annotations description np [old description annotations return Annotations onset duration description old orig time 
def copy int big src dest word src 4 dest word val unpack '>I' word return val 
def Get Result Handle I O Type Channel if os 'nt' static Lib ctypes Load Library 'labjackud' pv ctypes double ec static Lib Get Result Handle I O Type Channel ctypes pv if ec ! 0 raise Lab Jack Exception ec return pv raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def compute q noisy max approx counts noise eps winner np counts counts normalized noise eps * counts - counts counts rest np [counts normalized for i in xrange len counts if i ! winner ] gap - max counts rest q len counts - 1 * gap + 2.0 / 4.0 * math gap return min q 1.0 - 1.0 / len counts 
def parse account key L O G G E R 'arsingaccountkey proc subprocess Popen ['opensslrsa-in/tmp/account.key-noout-text'] stdin subprocess P I P E stdout subprocess P I P E stderr subprocess P I P E shell True out err proc if proc ! 0 raise I O Error 'pen S S L Error {0}'.format err return out 
def  get objects obj type lst objs Fake Retrieve Result for key in  db content type lst objs object  db content type return lst objs 
def exception handler exc context if isinstance exc exceptions A P I Exception headers {}if getattr exc u header None headers W W W Authenticate exc headerif getattr exc u None headers Retry After u % exc if isinstance exc list dict data exc data {u'detail' exc rollback return Response data status exc code headers headers elif isinstance exc Http404 msg _ u Notfound data {u'detail' six type msg }set rollback return Response data status status H T T P 404 NOT FOUND elif isinstance exc Permission Denied msg _ u Permissiondenied data {u'detail' six type msg }set rollback return Response data status status H T T P 403 FORBIDDEN return None 
def quotify qtype word terminate if qtype qq return qq + word qq '\\"' + terminate and qq or '' elif qtype q return q + word q "\\'" + terminate and q or '' else return re ' [\\"\\\'\\t\\n\\r] ' '\\\\\\1' word 
@pytest.mark.skipif ' A S YAML' def test write simple t simple table out String I O t out format 'ascii.ecsv' assert out .splitlines SIMPLE LINES
def get Output gcode Text repository None if gcode Text '' return ''if repository is None repository Gcode Time Segment Repository settings Read Repository repository return Gcode Time Segment Skein .rafted Gcode gcode Text repository 
def inputbox text x y w h from plasma import Inline Eded Inline Ed 0 0 0 text 0 [] ed curses h w y x ret ed view ed if not ret return ''return ed 
def  transform orig meg coils coils t do es True if t is None returnfor coil in coils coil trans np t coil trans orig coil coord frame t r0 coil trans 3 3] rmag apply trans coil trans coil orig cosmag apply trans coil trans coil orig False if do es r0 exey np coil orig 2] coil trans 3 2].T + coil trans 3 3] coil ex coil trans 3 0] ey coil trans 3 1] ez coil trans 3 2] r0 exey r0 exey 
@checker '.rst' severity 2 def check suspicious constructs fn lines inprod Falsefor lno line in enumerate lines if seems directive re line yield lno + 1 'commentseemstobeintendedasadirective' if '..productionlist ' in line inprod Trueelif not inprod and default role re line yield lno + 1 'defaultroleused' elif inprod and not line inprod False 
def test approve addons get files use case addon file1 file2 review type use caseassert approve addons files [addon.guid] [file1 file2 
def softmax mat target None if not target target materr code  eigenmat softmax mat mat target mat if err code raise generate exception err code return target 
def get images table meta images Table 'images' meta Column 'id' Integer primary key True nullable False Column 'name' String 255 Column 'disk format String 20 Column 'container format String 20 Column 'size' Big Integer Column 'status' String 30 nullable False Column 'is public Boolean nullable False default False index True Column 'location' Text Column 'created at Date Time nullable False Column 'updated at Date Time Column 'deleted at Date Time Column 'deleted' Boolean nullable False default False index True mysql engine 'nno D B extend existing True return images 
def iteritems compat d return iter getattr d  iteritems 
def ROCR100 ds count timeperiod - 2 ** 31 return call talib with ds ds count talib R O C R100 timeperiod 
def bzr wc source remote test 'bzr wc source remote '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabtools import is dirfrom fabtools import requireassert not is dir wt require copy REMOTE URL wt assert wc exists wt 
def  read coord trans struct fid tag shape rlims from ..transforms import Transformfro int np fid 4 dtype '>i4' to int np fid 4 dtype '>i4' rot np fid 36 dtype '>f4' .reshape 3 3 move np fid 12 dtype '>f4' trans np [ np [ rot move ] np [[0] [0] [0] [1]] .T ]data Transform fro to trans fid 48 1 return data 
def  parse repos module cmd  get cmd '--xmlout' 'repos' from xml import parse String as parse X M L rc stdout stderr module command cmd check rc False if rc 0 repos []dom parse X M L stdout repo list dom Elements By Tag Name 'repo' for repo in repo list opts {}for o in REPO OPTS opts repo Attribute o opts repo Elements By Tag Name 'url' [hild opts return reposelif rc 6 return []else module json msg 'ailedtoexecute % ''.join cmd rc rc stdout stdout stderr stderr 
def create hc G path length nx pairs shortest path length G distances numpy len G len G for u p in path length for v d in p distances d Y distance distances Z hierarchy Y membership list hierarchy Z t 1.15 partition defaultdict list for n p in zip list range len G membership partition n return list partition 
def  Gen Api Config Callback args api func Gen Api Config service class names output path hostname args args args service configs api func service class names hostname hostname for service class name config in service configs _ base service class name service class name '.' 1 api name base service class name + '.api'  Write File output path api name config 
def  bq cast string field bq type if string field is None return Noneelif bq type 'INTEGER' or bq type 'TIMESTAMP' return int string field elif bq type 'FLOAT' return float string field elif bq type 'BOOLEAN' assert string field in set ['true' 'false'] return string field 'true' else return string field 
def set computer sleep minutes value  validate sleep minutes cmd 'systemsetup-setcomputersleep{0}'.format value salt utils return success cmd return salt utils updated str value get computer sleep 
def convert to index sliceable obj key idx obj isinstance key slice return idx convert slice indexer key kind 'getitem' elif isinstance key compat types if key in obj data return Noneif idx all dates try return idx get string slice key except Key Error Value Error Not Implemented Error return Nonereturn None 
def  format failure failure result failure result host name play  get play result task if play play play name task result task name msg result result 'msg' u rows u Host host u Play play u Task task u Message stringc msg C.COLOR ERROR row format '{ 10}{}'return [row format header + u ' body for header body in rows 
def canonicalize address addr parsed address address addr addr spec only True if not isinstance parsed address address Email Address return addrlocal part parsed address hostname parsed address if hostname in 'gmail.com' 'googlemail.com' local part local part '.' '' return '@'.join local part hostname 
def  primitive in x0 f fring f fring to ground *range 1 fring dom ring  ring f expr cont dom coeff in f .itercoeffs cont func field modgcd cont coeff [0]if cont dom return cont f return cont f cont ring fring 
def common Prefix completions def cp str1 str2 '\n return thelongestcommonprefixfor2strings len str2 j 1for i in range len str1 if i > ls2 or str1 ! str2 j 0breakresult str1 i + j ]return resultstrs [v[len p ] for p v in completions len strs 0 return ''if len strs 1 return strs result tail strs strs ] for i in range len tail result cp result tail if result '' breakreturn result 
def  version from git describe p subprocess Popen ['git' 'describe' '--always'] cwd  SCAPY PKG DIR stdout subprocess P I P E stderr subprocess P I P E out err p if p 0 tag out match re '^v? .+? - \\d+ -g[a-f0-9]+$' tag if match return '%s.dev%s' % match 1 match 2 else return re '^v' '' tag else raise subprocess Called Process Error p err 
def read Data ncd buf ''while '\n' not in buf buf + ncd exact 1 size len buf - 1 print 'odeofsize % size buf + ncd exact size + 1 * size - 1 return buf '\n' [ size 
def  handle event colors unique events color unique events id if color is None if len unique events > len COLORS warn 'oreeventsthancolorsavailable Youshouldpassalistofuniquecolors colors cycle COLORS color dict for this event this color in zip sorted unique events id colors color event this colorelse for this event in color if this event not in unique events id raise Value Error '%sfromcolorisnotpresentineventsorevent id % this event for this event in unique events id if this event not in color warn 'olorisnotavailableforevent Defaultcolorswillbeused % this event return color 
def service type stype def inner f f type stypereturn freturn inner 
def  match topic subscription topic if subscription '#' return subscription -2 ] topic or topic subscription -1 ] sub parts subscription '/' topic parts topic '/' return len sub parts len topic parts and all a b for a b in zip sub parts topic parts if a ! '+'
def to textfiles b path name function None compression 'infer' encoding system encoding compute True out write bytes b delayed path name function compression encoding encoding if compute from dask import delayeddelayed out .compute else return out 
def  can use cache products shop customer product ids [prod.id for prod in products supplier in Supplier for sp in Shop Product product  id  in product ids if not sp orderable supplier customer customer quantity sp purchase quantity return Falsereturn True 
def test call accepts func kw params kw types @accepts kw 1 int kw 2 int kw 3 int def foo kw 1 5 kw 2 6 kw 3 7 passt time for i in range 0 10000 foo 5 6 7 return time - t 
def  iterate over statements sub policy check statement func if type sub policy Statement is list statements sub policy Statement statement in statements check statement func statement else check statement func sub policy Statement 
def name uniquely path names taken proposed name None unhide False if not proposed name proposed name os path '/' + os if unhide proposed name proposed name '.' .lstrip '_' dot idx proposed name '.' 0 if unhide else 1 if dot idx -1 prefix suffix proposed name '' else prefix suffix proposed name dot idx proposed name idx ] if prefix and proposed name not in names taken return proposed namefor i in itertools 1 if prefix name '%s-%d%s' % prefix i suffix else name '%d%s' % i suffix if name not in names taken return name 
def versions runas None ret  rbenv exec ['versions' '--bare'] runas runas return [] if ret is False else ret 
def loopback Async server client pump Policy identity Pump Policy server To Client  Loopback Queue client To Server  Loopback Queue server Connection  Loopback Transport server To Client client Connection  Loopback Transport client To Server return  loopback Async Body server server To Client client client To Server pump Policy 
def reiterate iterable if isinstance iterable list tuple return iterableelse iterator iter iterable try chunk ''while not chunk chunk next iterator return itertools [chunk] iterator except Stop Iteration return []
def chshell name shell pre info info name if not pre info raise Command Execution Error "ser name if shell pre info return True dscl [sers name 'ser Shell pre info shell ctype 'change' time 1 return info name .get 'shell' shell 
def start Logging file *a **kw if isinstance file Logging File returnflo File Log Observer file start Logging With Observer flo *a **kw return flo 
def no coverage env env os env 'COV CORE SOURCE' None return env 
def get dns hosts context network ref hosts []for fixedip in objects Fixed I P List by network context network ref if fixedip hosts  host dns fixedip return '\n'.join hosts 
def get qos policy group name from info qos policy group info if qos policy group info is None return Nonelegacy qos policy group info 'legacy' if legacy is not None return legacy name qos policy group info 'spec' if spec is not None return spec name None 
@require P O S T csrf cookie control no cache True no store True must revalidate True @require level 'instructor' @require post params rolename "'instructor' 'staff' or def list course role members request course id course id Slash Separated Course Key deprecated string course id course get course with access request 'instructor' course id depth None rolename request P O S T 'rolename' if rolename not in ROLES return Http Response Bad Request def extract user info user 'convertuserintodictsforjsonview'return {'username' user 'email' user 'first name user name 'last name user name payload {'course id course id deprecated string rolename map extract user info list with level course rolename }return Json Response response payload 
def param2id object id if '-' in object id return ec2utils vol id to uuid object id else return object id 
def create subtasks task qs chunk size *args ts [task.subtask args chunk + args for chunk in chunked qs chunk size ]ask Set ts .apply async 
def levenshtein seq1 seq2 limit None oneago Nonethisrow range 1 len seq2 + 1 + [0] for x in xrange len seq1 oneago thisrow thisrow [0] * len seq2 + [ x + 1 ] for y in xrange len seq2 delcost oneago + 1 addcost thisrow y - 1 ] + 1 subcost oneago y - 1 ] + seq1 ! seq2 thisrow min delcost addcost subcost if limit and x > limit and min thisrow > limit return limit + 1 return thisrow len seq2 - 1 ]
def test randomize corrmat correction a rs 3 20 p mat algo corrmat a 'upper' False p mat corr algo corrmat a 'upper' True triu np indices 3 1 npt array less p mat p mat corr 
def write chunks out chunks out  signature for chunk in chunks write chunk out *chunk
def get valid archs archs []try for breed in get valid breeds for operating system in SIGNATURE C A C H E archs + SIGNATURE C A C H E system arches passreturn uniquify archs 
def local port tcp port ret  remotes on port 'local port return ret 
def check qdatastream stream status to str { Data Stream Ok 'hedatastreamisoperatingnormally Q Data Stream Read Past End 'hedatastreamhasreadpasttheendofthedataintheunderlyingdevice Q Data Stream Read Corrupt Data 'hedatastreamhasreadcorruptdata Q Data Stream Write Failed 'hedatastreamcannotwritetotheunderlyingdevice stream ! Q Data Stream Ok raise O S Error status to str ]
def encode body body return encodeutils utf8 body 
@xfail py3 wx Python fail reason 'nsupportedwx Pythonversion @importorskip 'wx.lib.pubsub.core' def test wx lib pubsub protocol arg1 pyi builder pyi builder script 'pyi hooks lib pubsub setuparg1 
@utils.arg 'id' metavar '<id>' help _ ' Dofservice def do service delete cs args cs args 
def avail images call None if call 'action' raise Salt Cloud System Exit 'heavail imagesfunctionmustbecalledwith orwiththe server user password  get xml rpc auth ' '.join [user password image pool server auth -2 -1 -1 [1]images {}for image in  get xml image pool images 'NAME' .text]  xml to dict image return images 
def opener for ca bundle None return urllib2 opener Verifying H T T P S Handler ca bundle or find ca bundle .open
def estimate from weights log ais w ais w T max ais w T ais w dlogz T T T ais w - max ais w + max ais w log mean theano [ais w dlogz allow input downcast False dlogz log mean log ais w m numpy log ais w var dlogz log ais w * numpy numpy 2 * log ais w - m / numpy numpy log ais w - m ** 2 - 1.0 return dlogz var dlogz 
def default collate batch if torch tensor batch return torch [t.unsqueeze 0 for t in batch 0 elif isinstance batch int return torch Long Tensor batch elif isinstance batch float return torch Double Tensor batch elif isinstance batch str return batchelif isinstance batch collections Iterable transposed zip *batch return [default collate samples for samples in transposed Type Error 'batchmustcontaintensors numbers orlists type batch 
def impact return s3 rest controller 'impact' 'impact'
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  os path isdir pathname try s  os stat pathname except O S Error return Nonereturn s mode & 61440 16384
def Vol Magic vm return Object 'VOLATILITY MAGIC' 0 vm vm 
@image comparison baseline images [u'light source shading topo extensions [u'png'] def test light source topo surface fname cbook sample data u fault dem asfileobj False dem np fname elev dem dx dy dem dem dx 111320.0 * dx * np dem dy 111320.0 * dy dem ls mcolors Light Source 315 45 cmap cm earth fig axes plt nrows 3 ncols 3 for row mode in zip axes [u'hsv' u u for ax ve in zip row [0.1 1 10] rgb ls elev cmap vert exag ve dx dx dy dy blend mode mode ax rgb ax xticks [] yticks []
def is bool list value min None max None return [is boolean mem for mem in is list value min max ]
def gf sqf p f p K _ f gf monic f p K if not f return Trueelse return gf gcd f gf diff f p K p K [ 
def python implementation return  sys version [0]
def cleanup path path if path u path path ]if path u path path ]return path 
def new figure manager given figure num figure canvas Figure Canvas Mac figure manager Figure Manager Mac canvas num return manager 
def person search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'pr' 'person'
def snapshot destroy context snapshot id return I M P L destroy context snapshot id 
def metadef namespace get all context marker None limit None sort key None sort dir None filters None session None session session or get session namespaces metadef namespace api all context session marker limit sort key sort dir filters return namespaces 
def find prev keyword sql n skip 0 if not sql return None '' parsed sqlparse sql [0]flattened list parsed flattened flattened len flattened - n skip ]logical operators 'AND' 'OR' 'NOT' 'BETWEEN' for t in reversed flattened if t ' ' or t keyword and t not in logical operators idx flattened t text ''.join tok for tok in flattened idx + 1 ] return t text return None ''
def hgetall key host None port None db None password None server  connect host port db password return server key 
def get headers http response if hasattr http response 'getheaders' return http response else headers []for header in 'location' 'content-type' 'content-length' 'age' 'allow' 'cache-control' 'content-location' 'content-encoding' 'date' 'etag' 'expires' 'last-modified' 'pragma' 'server' 'set-cookie' 'transfer-encoding' 'vary' 'via' 'warning' 'www-authenticate' 'gdata-version' value http response header None if value is not None headers header value return headers 
def forward disable src dst ipaddr run settings '-D' 'FORWARD' '-i' src '-o' dst '--source' ipaddr '-j' 'ACCEPT' run settings '-D' 'FORWARD' '-i' dst '-o' src '--destination' ipaddr '-j' 'ACCEPT'
def add Mtime document fullpath for node in domhelpers Elements With Attribute document 'class' 'mtime' txt dom Text txt time os fullpath node Child txt 
def binom test count nobs prop 0.5 alternative 'two-sided' if np prop > 1.0 or np prop < 0.0 raise Value Error 'pmustbeinrange[0 1]' if alternative in ['2s' 'two-sided'] pval stats test count n nobs p prop elif alternative in ['l' 'larger'] pval stats count - 1 nobs prop elif alternative in ['s' 'smaller'] pval stats count nobs prop else raise Value Error 'alternativenotrecognized\nshouldbetwo-sided largerorsmaller return pval 
def  validate flavor service type validate type valid values None if not directory plugin validate type raise Invalid Flavor Service Type service type validate type 
def get relative path path components split all path if len components < 1 return os parents [os.pardir] * len components - 1 return os *parents
def check network connection server 'www.google.com' logger logging Logger   name   logger "heckingnetworkconnectiontoserver server try host socket server socket connection host 80 2 except Exception logger 'etworkconnectionnotworking return Falseelse logger 'etworkconnectionworking return True 
def get system encoding try encoding locale [1] or 'ascii' codecs encoding except Exception encoding 'ascii'return encoding 
@library.global function with 'landing/newsfeed.html' def newsfeed entries section headers False return {'updates' entries 'section headers section headers 
def quote plus string safe '' encoding None errors None if isinstance string str and '' not in string or isinstance string bytes and '' not in string return quote string safe encoding errors if isinstance safe str space ''else space ''string quote string safe + space encoding errors return string '' '+'
def get mask ipv4 bits if bits > 32 or bits < 0 raise Value Error 'maskcanonlybe0 got % bits elif bits 32 return FULL I Pv4 M A S Kmask bin  get binary 2 ** bits - 1 32 [ -1 ]octets [mask bin 8 * i 8 * i + 1 ] for i in range 4 ]return '.'.join [str int octet 2 for octet in octets 
def delete mig mig changed Falsereturn data []actions filter ['NONE' 'CREATING' 'RECREATING' 'DELETING' 'ABANDONING' 'RESTARTING' ' E F R E S H I N G names  get instance list mig filter list actions filter if mig changed Truereturn data instance namesreturn changed return data 
def relative v n float sum v or 1.0 s dict  setitem  for f in v s v f v / n return v 
def cx Partialy Matched ind1 ind2 size min len ind1 len ind2 p1 p2 [0] * size [0] * size for i in xrange size p1 ip2 icxpoint1 random 0 size cxpoint2 random 0 size - 1 if cxpoint2 > cxpoint1 cxpoint2 + 1else cxpoint1 cxpoint2 cxpoint2 cxpoint1 for i in xrange cxpoint1 cxpoint2 temp1 ind1 ind2 ind1 ind1 temp2 temp1 ind2 ind2 temp1 temp2 p1 p1 p1 p1 p2 p2 p2 p2 return ind1 ind2 
def response text response encoding None encoding encoding or get encoding from headers response or 'utf-8' return response encoding 'replace'
def query log status module le path path state 'present' if state 'present' rc out err module command '%sfollowed%s' % le path path if rc 0 return Truereturn False 
def transformation to DN eq var coeff diop type classify diop eq  dict False if diop type 'binary quadratic return  transformation to DN var coeff 
def  get ssl opts sslopts   salt  ['config.option'] 'cassandra' .get 'ssl options None ssl opts {}if sslopts ssl opts certs sslopts certs SSL VERSION in sslopts if not sslopts S S L V E R S I O N 'PROTOCOL ' valid opts ' '.join [x for x in dir ssl if x 'PROTOCOL ' ] raise Command Execution Error 'nvalidprotocol versionspecified Pleasemakesurethatthesslprotocolversionisonefromthe S S Lmodule Validoptionsare valid opts else ssl opts S S L VERSION] getattr ssl sslopts S S L VERSION] return ssl optselse return None 
def collect glib share files *path glib data dirs get glib system data dirs if glib data dirs is None return []destdir os 'share' *path[ -1 ] collected []for data dir in glib data dirs p os data dir *path collected + collect system data files p destdir destdir include py files False return collected 
def document etag value ignore fields None if ignore fields def filter ignore fields d fields for field in fields key _ value field '.' if value filter ignore fields d [value] elif field in d d field else passvalue  copy value filter ignore fields value  ignore fields else value  valueh hashlib json encoder app encoder class h dumps value  sort keys True default json encoder .encode 'utf-8' return h 
def cluster sequence creation sequence triseq triangle sequence creation sequence degseq degree sequence creation sequence cseq []for i deg in enumerate degseq tri triseq deg < 1 cseq 0 continuemax size deg * deg - 1 // 2 cseq float tri / float max size return cseq 
def post mortem level 1 if config D E B U G > level pdb mortem 
def dup add mul f g h K return dup add f dup mul g h K K
def  worktrees supported try return  git version > Loose Version '2.5.0' .encode except Attribute Error return False 
def get os if sys 'darwin' return 'mac'elif sys 'freebsd' ! -1 return 'freebsd'elif sys 'linux' ! -1 return 'linux'elif sys 'win32' ! -1 return 'windows'elif sys 'sunos' ! -1 return 'solaris'else return sys 
def validate uris value v Redirect U R I Validator oauth2 settings A L L O W E D REDIRECT URI SCHEMES for uri in value v uri 
def libvlc clearerr f  Cfunctions 'libvlc clearerr None or  Cfunction 'libvlc clearerr None None return f 
def do Spn Register po if not g created S P N Last  option error po 'pn Createmustappearbefore Spn Register Spn Register  get option po 'account name dn None g created S P N Last dscon D S SPN ADD SPN OP return g created S P N Last 
def Sourceify path if '$ ' in path return pathif os path return pathreturn srcdir prefix + path 
def split provision value global  provision rxif  provision rx is None  provision rx re ' [ Z ]\\w* ? \ Z ]\\w* * ? \\s*\\ \\s* [^ \\s]+ \\s*\\ ?$' value value m  provision rx value if not m raise Value Error 'illegalprovidesspecification %r' % value ver m 2 or None if ver ver distutils Strict Version ver return m 1 ver 
def find service and method in event name event name split event event name '.' [1 ]service name Noneif len split event > 0 service name split event name Noneif len split event > 1 operation name split event service name operation name 
def setattr on read func return One Time Property func 
def  check with col sign flipping A B tol 0.0 sign Truefor column idx in range A sign sign and A[ column idx - B[ column idx ** 2 .mean < tol ** 2 or A[ column idx + B[ column idx ** 2 .mean < tol ** 2 if not sign return Falsereturn True 
def list artifacts opts return [ g copy o for g o in  artifacts opts 
def Parse Message descriptor byte str class  Result Class message Message   metaclass   Generated Protocol Message Type D E S C R I P T O R descriptornew msg  Result Class new msg Parse From String byte str return new msg 
def create item version item if not item fields return hash hashlib for attrname in item fields  hash repr item attrname return  hash 
def  get masked bits mask if not is valid ipv4 address mask raise Value Error "'%s'isaninvalidsubnetmask" % mask mask bin  get address binary mask mask match re '^ 1* 0* $' mask bin if mask match return 32 - len mask match [1] else raise Value Error 'nabletoconvertmasktoabitcount %s' % mask 
def get prio gtype section try return sabnzbd config section '%s prio %s' % section gtype except Type Error logging 'ncorrect Notifyoption %s prio %s' section section gtype return -1000
def replace vars m var m 1 default m 2 if not re '\\w+$' var raise Unsupported Variable Expression var translate vars {'TM PHP OPEN TAG WITH ECHO' 'g Ulti Snips Open Tag With Echo 'TM PHP OPEN TAG' 'g Ulti Snips Open Tag 'PHPDOC AUTHOR' 'g snips author var in translate vars newvar translate vars raise Unknown Variable var return "`!vexists '%s' ?%s '%s'`" % newvar newvar default 
def Make Control Class control Class name None if name is None name control Class  name  return new type 'OCX' + name Control control Class {}
def get Tricomplextranslate transform Words translate euclidean Complex By Words transform Words return [complex 1.0 0.0 complex 0.0 1.0 translate 
def get repo options flocker version is dev not is release flocker version if is dev return ['--enablerepo clusterhq return []
def libvlc media discoverer new p inst psz name f  Cfunctions 'libvlc media discoverer new None or  Cfunction 'libvlc media discoverer new 1 1 class result Media Discoverer ctypes void p Instance ctypes char p return f p inst psz name 
def iterkeys d return iter getattr d  iterkeys 
def get top keywords service profile id return service .ga .get ids 'ga ' + profile id start date '2012-01-01' end date '2012-01-15' metrics 'ga visits dimensions 'ga source ga keyword sort '-ga visits filters 'ga medium organic start index '1' max results '25' .execute
def send email with reset password hash email link send email to email action PASSWORD RESET subject MAILS[PASSWORD R E S E T app name get settings ['app name html MAILS[PASSWORD R E S E T link link 
def test gpualloc x theano numpy 3 dtype 'float32' 'x' m x ['x' 0] v tensor 1.0 *m.shape f theano [] v + x mode mode with gpu 'local elemwise alloc l f assert numpy [isinstance y cuda Gpu Alloc for y in l 
def set buf size fd if OS PIPE SZ and hasattr fcntl 'F SETPIPE SZ' fcntl fd fcntl F SETPIPE SZ OS PIPE SZ
def profile func stream None def wrapper *args **kwargs prof Line Profiler val prof func *args **kwargs show results prof stream stream return valreturn wrapper 
def set Version template version for node in domhelpers Elements With Attribute template 'class' 'version' text dom Text text versionnode Child text 
def block device mapping get by instance and volume id context volume id instance uuid columns to join None return I M P L device mapping get by instance and volume id context volume id instance uuid columns to join 
def semanage port get type seport port proto ports port '-' 1 if len ports 1 ports ports key int ports int ports proto records seport all if key in records return records return None 
def convert ip to binary ip address octets ip address '.' ip addr bin []for octet in octets bin octet bin int octet bin octet bin octet ]bin octet pad binary digits bin octet ip addr bin bin octet return '.'.join ip addr bin 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def load example module example mod   import   example return mod 
def merge hooks request hooks session hooks dict class Ordered Dict if session hooks is None or session hooks 'response' [] return request hooksif request hooks is None or request hooks 'response' [] return session hooksreturn merge setting request hooks session hooks dict class 
def widont value count 1 def replace matchobj return u % matchobj 1 for i in range count value re widont replace force unicode value return value 
def  read temp data tout String I O tout data tout 0 output tout tout return output 
@pytest.fixture def admin user db return User superuser u u 
def create menu menu items parent None nodes []default fn import string settings O S C A R DASHBOARD DEFAULT ACCESS FUNCTION for menu dict in menu items try label menu dict Key Error raise Improperly Configured 'olabelspecifiedformenuitemindashboard children menu dict 'children' [] if children node Node label label icon menu dict 'icon' None access fn menu dict 'access fn default fn create menu children parent node else node Node label label icon menu dict 'icon' None url name menu dict 'url name None url kwargs menu dict 'url kwargs None url args menu dict 'url args None access fn menu dict 'access fn default fn if parent is None nodes node else parent child node return nodes 
def get openstack region for test config get blockdevice config return config 
def short name nt uri return nt uri S H O R T N A M E SLICE]
def permute signs t for signs in cartes * [ 1 -1 ] * len t - t 0 signs list signs yield type t [ i * signs if i else i for i in t 
def  remove old connections facebook id current user id None other facebook accounts  get old connections facebook id current user id other facebook accounts facebook id None 
def add Plain Listings document dir for node in domhelpers Elements With Attribute document 'class' 'listing' filename node Attribute 'href' val '<pre>\n%s</pre>' % cgi open os dir filename .read  replace With Listing node val filename 'listing'
def unpack thin thin path tfile tarfile Tar File thin path old umask os 63 tfile path O P T I O N S tfile os old umask os thin path 
def R Lock *args **kwargs return  R Lock *args **kwargs
@register.filter needs autoescape True def smartcoffee value autoescape True 'andalsodetectssurroundingautoescapeonfilter ifany andescapes autoescape value escape value result '<b>%s</b>' % value return mark safe result 
def commify n if n is None return Nonen str n if '.' in n dollars cents n '.' else dollars cents n None r []for i c in enumerate str dollars [ -1 ] if i and not i % 3 r 0 ' ' r 0 c out ''.join r if cents out + '.' + cents return out 
def get namespace keys app limit ns query datastore Query '  namespace  ' keys only True  app app return ns query Get limit limit 
def  Remove V4 Ending addr string match V4 E N D I N G addr string if match ipv4 addr '.'.join match [1 ] try socket aton ipv4 addr except socket Value Error raise socket 'llegal I Pv4extension %s' % addr string if int match 2 0 raise socket " Pv4can return '%s %04x %04x' % match 'v6' int match 2 * 256 + int match 3 int match 4 * 256 + int match 5 return addr string 
def v measure score labels true labels pred return homogeneity completeness v measure labels true labels pred [2]
def parse role attrs role attr flags if ' ' in role attr flags flag set frozenset r for r in role attr flags ' ' elif role attr flags flag set frozenset role attr flags else flag set frozenset if not flag set VALID FLAGS raise Invalid Flags Error 'nvalidrole attr flagsspecified %s' % ''.join flag set VALID FLAGS o flags ''.join flag set return o flags 
def Mem Values for line in open '/proc/meminfo' .readlines if line 'em Total ' mem Total line [1]if line 'em Free ' mem Free line [1]if line 'ached ' mem Cached line [1]return mem Total mem Cached mem Free 
def get global option checker option default None try return getattr checker option '-' '_' except Attribute Error passfor provider in checker providers for options in provider if options option return getattr provider option '-' '_' return default 
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def test rus fit sample half ratio 0.5rus Random Under Sampler ratio ratio random state RND SEED X resampled y resampled rus sample X Y X gt np [[0.92923648 0.76103773] [0.47104475 0.44386323] [0.13347175 0.12167502] [0.09125309 -0.85409574 ] [0.12372842 0.6536186] [0.04352327 -0.20515826 ] [0.15490546 0.3130677] [0.15490546 0.3130677] [0.15490546 0.3130677]] y gt np [0 0 0 1 1 1 1 1 1] assert array equal X resampled X gt assert array equal y resampled y gt 
def get zone zone id profile conn  get driver profile profile return conn zone zone id 
def  match sort key m return m is None m or ''
def flatten list list of list [[] []] return sum list of list []
def blend channels hard light bottom chan top chan dk lt top chan < 0.5 top chan > 0.5 output chan numpy bottom chan bottom chan output chan 2 * bottom chan * top chan output chan 1 - 2 * 1 - bottom chan * 1 - top chan return output chan 
def partition all n seq args [iter seq ] * n it zip longest fillvalue no pad *args prev next it for item in it yield prev prev itemif prev -1 ] is no pad yield prev prev no pad ] else yield prev 
def  games in week year week kind 'REG' return nflgame search schedule year week kind kind 
def quota destroy by project context project id return I M P L destroy by project context project id 
def client end request socket context for channel in socket events unsubscribe request socket context channel events finish request socket context for channel in socket ] socket channel del C L I E N T S id 
def verify Checksum buffer buff0 buffer buffer buffer Buffer set Checksum buffer if buff0 temp Buffer and buff4 temp Buffer and buff5 temp Buffer return Truereturn False 
def git new branch name check call ['git' 'checkout' '-b' name 
def network get by cidr context cidr return I M P L get by cidr context cidr 
def urlunquote plus quoted url return force text unquote plus force str quoted url 
def cosine distances X Y if X is Y X Y np X else X np X Y np Y if X ! Y raise Value Error 'ncompatibledimensionfor Xand Ymatrices return 1.0 - ssd X Y 'cosine'
@cached classmethoddef get edit handler cls if hasattr cls u handler return cls handler to model cls tabs []if cls panels tabs Object List cls panels heading ugettext lazy u Content if cls panels tabs Object List cls panels heading ugettext lazy u Promote if cls panels tabs Object List cls panels heading ugettext lazy u Settings classname u Edit Handler Tabbed Interface tabs base form class cls form class return Edit Handler to model cls 
def libvlc audio equalizer set preamp p equalizer f preamp f  Cfunctions 'libvlc audio equalizer set preamp None or  Cfunction 'libvlc audio equalizer set preamp 1 1 None ctypes int ctypes void p ctypes float return f p equalizer f preamp 
@cli app 'create-db' @click.option '--app' default 'app' help 'ourapplicationinitdirectory package ' @click.option '--appbuilder' default 'appbuilder' help 'pp Builderobject def create db app appbuilder from flask appbuilder import Base appbuilder import application app appbuilder engine  appbuilder session bind mapper None clause None Base all engine click click ' Bobjectscreated fg 'green'
def in box coords box if box < coords < box and box < coords < box return Truereturn False 
def get secret key keyid None fingerprint None user None gnupghome None tmp {}for  key in  list keys user gnupghome secret True if  key fingerprint or  key keyid or  key ] keyid tmp  key  key  key  key 'expires' None date  key 'date' None length  key 'length' None owner trust  key 'ownertrust' None trust  key 'trust' None if expires tmp time ' time float  key if date tmp time ' time float  key if length tmp Length  key owner trust tmp Trust LETTER TRUST DICT[ key trust tmp LETTER TRUST DICT[ key not tmp return Falseelse return tmp 
def bytes to text s encoding if isinstance s bytes return six type s encoding u else return s 
@require context pinned *arylist pmlist []for ary in arylist pm current context .mempin ary driver pointer ary driver memory size ary mapped False pmlist pm yield del pmlist 
def detect fakeroot return os 'FAKEROOTKEY' ! None 
def  server namespace handler k v atoms k '.' 1 if len atoms > 1 if not hasattr cherrypy 'servers' cherrypy {} servername k atomsif servername not in cherrypy from cherrypy import  cpservercherrypy  cpserver Server cherrypy if k 'on' if v cherrypy else cherrypy else setattr cherrypy k v else setattr cherrypy k v 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def Identifiers Concat def step ctxt key val ctxt u %s' % key val def finalize ctxt return u '.join ctxt return [] step finalize 
def install memory dumper dump signal signal S I G P R O F signal dump signal dump memory 
def fix win pythonw std stream if sys 'win32' and os sys 'pythonw.exe' if sys is None sys open os 'w' if sys is None sys open os 'w'
def write chunk outfile tag data '' outfile struct '!I' len data outfile tag outfile data checksum zlib tag checksum zlib data checksum outfile struct '!i' checksum 
def Get Driver Version if os 'nt' static Lib Get Driver Version ctypes floatreturn str static Lib Get Driver Version elif os 'posix' static Lib L J U S B Get Library Version ctypes floatreturn '%.2f' % static Lib L J U S B Get Library Version 
def Load Yaml Config config file name loaders exporters bulkloader config config config file name increment id Increment Id for cls in loaders Loader Register Loader cls for cls in exporters Exporter Register Exporter cls 
def build empty response search path operation name service model response Noneoperation model service model model operation name shape operation model shapeif search path for item in search path '.' item item '[0123456789]$' if shape name 'structure' shape shape shape name 'list' shape shape raise Not Implemented Error 'earchpathhitsshapetype shape name item if shape name 'structure' response {}elif shape name 'list' response []elif shape name 'map' response {}return response 
def  wait for vhd coalesce session instance sr ref vdi ref vdi uuid list if len vdi uuid list 1 L O G 'ldchainissingle V H D coalescenotpossible instance instance returnparent vdi uuid vdi uuid list  count children session parent vdi uuid sr ref > 1 L O G 'arenthasotherchildren coalesceisunlikely instance instance returnmax attempts C O N F coalesce max attemptsgood parent uuids vdi uuid list ]for i in range max attempts  scan sr session sr ref parent uuid  get vhd parent uuid session vdi ref if parent uuid and parent uuid not in good parent uuids L O G 'arent parent uuid snotyetinparentlist good parent uuids s waitingforcoalesce {'parent uuid parent uuid 'good parent uuids good parent uuids instance instance else L O G 'oalescedetected becauseparentis %s' parent uuid instance instance returngreenthread C O N F coalesce poll interval msg _ ' H Dcoalesceattemptsexceeded %d givingup % max attempts raise exception Nova Exception msg 
def test magnetic dipole trans Transform 'mri' 'head' info read info fname raw picks pick types info meg True eeg False exclude [] info pick info info picks 12] coils  create meg coils info 'normal' trans r0 np [0.0 13.0 -6.0 ] for ch coil in zip info coils rr ch 3] + r0 / 2.0 far fwd  magnetic dipole field vec r0 ] [coil] near fwd  magnetic dipole field vec rr ] [coil] ratio 8.0 if ch name -1 ] '1' else 16.0 assert allclose np near fwd / far fwd ratio atol 0.1
def validate not blank value if not value raise Validation Error 'hisfieldmaynotbeblank 
def cache page *args **kwargs if len args ! 1 or callable args raise Type Error 'cache pagehasasinglemandatorypositionalargument timeout cache timeout args alias kwargs 'cache' None key prefix kwargs 'key prefix None if kwargs raise Type Error 'cache pagehastwooptionalkeywordarguments cacheandkey prefix return decorator from middleware with args Cache Middleware cache timeout cache timeout cache alias cache alias key prefix key prefix 
def exit sab value sys sys if getattr sys 'frozen' None 'macosx app sabnzbd S A B S T O P Truefrom Py Obj C Tools import App Helper App Helper Event Loop sys value 
def  check decim info decim offset if decim < 1 or decim ! int decim raise Value Error 'decimmustbeaninteger>0' decim int decim new sfreq info / float decim lowpass info decim > 1 and lowpass is None warn 'hemeasurementinformationindicatesdataisnotlow Thedecim %z whichcancausealiasingartifacts % decim new sfreq elif decim > 1 and new sfreq < 2.5 * lowpass warn 'hemeasurementinformationindicatesalow Hz Thedecim %z whichcancausealiasingartifacts % lowpass decim new sfreq offset int offset if not 0 < offset < decim raise Value Error 'decimmustbeatleast0andlessthan%s got % decim offset return decim offset new sfreq 
def should overwrite settings return settings 'GZIP CACHE OVERWRITE' False 
def update csp for key in 'CSP SCRIPT SRC' values getattr settings key new set for value in values if value 'https //' and settings D E B U G res value 'https //' 'http //' for v in value res new v continueelif value 'http //' and not settings D E B U G continueelse new value setattr settings key tuple new 
def raise if duplicate entry error integrity error engine name def get columns from uniq cons or name columns uniqbase 'uniq 'if not columns uniqbase if engine name 'postgresql' return [columns[ columns '_' + 1 columns '_' ]]return [columns]return columns uniqbase ].split ' x ' if engine name not in ['mysql' 'sqlite' 'postgresql'] returnm  DUP KEY RE D B name integrity error if not m returncolumns m 1 if engine name 'sqlite' columns columns .split ' ' else columns get columns from uniq cons or name columns raise exception D B Duplicate Entry columns integrity error 
def pid file pid path None pid file None port 0 global DIR P I Dif not sabnzbd W I N32 if pid path and pid path '/' DIR PID os pid path 'sabnzbd-%s.pid' % port elif pid file and pid file '/' DIR PID pid fileif DIR PID try if port f open DIR PID 'w' f '%d\n' % os f else os DIR PID except logging 'annotaccess P I Dfile DIR PID
def maybe Name obj try return obj  name  except Attribute Error return str obj 
def   routes doctest pass 
def test simple cons entry tokenize ' a ' [0]assert entry Hy Cons Hy Symbol 'a' Hy Symbol 'b'
def host tuple url if not url Valid raise Invalid Url Error url scheme host port url url url assert schemeif not host raise Value Error 'ot U R L url Display String if port -1 port mapping {'http' 80 'https' 443 'ftp' 21}try port port mapping Key Error raise Value Error 'ot U R L url Display String return scheme host port 
def delete ssh key username  xml '<RIBCLVERSION " O G I N U S E R LOGIN " A S S W O R D " S E R INFOMODE " O D USERUSER LOGIN " E L USERS SSH K E Y M O D U S E R U S E R I N F O L O G I N R I B C L username return   execute cmd 'elete user SSH key  xml 
def is octal string return all ch in OCT DIGITS for ch in string 
def get sample ids map data map header states name to col dict [ s map header s for s in states good ids []for row in map data include Truefor s vals in states curr state row to col include and curr state in vals or '*' in vals and not '!' + curr state in vals if include good ids row return good ids 
def Get keys **kwargs return Get Async keys **kwargs .get result 
def build real request wsgi environ config testing Up settings DEFAULT SETTINGS includeme config request pyramid request Request wsgi environ request config request 
def kursawe individual f1 sum -10 * exp -0.2 * sqrt x * x + y * y for x y in zip individual -1 ] individual ] f2 sum abs x ** 0.8 + 5 * sin x * x * x for x in individual return f1 f2 
@app.route '/html' def view html page return render template 'moby.html'
def get Float From Character Split Line character split Line line From Character gcodec String From Character Split Line character split Line if line From Character is None return Nonereturn float line From Character 
def is Fixed Group kex Algorithm return  I Fixed Group Kex Algorithm By get Kex kex Algorithm 
def is votable origin filepath fileobj *args **kwargs from . import is votableif origin u if fileobj is not None try result is votable fileobj finally fileobj 0 return resultelif filepath is not None return is votable filepath elif isinstance args V O Table File V O Table return Trueelse return Falseelse return False 
def to rfc1123 when assert when is None return when  RFC1123 + 'GMT'
def hessian image scale range 1 10 scale step 2 beta1 0.5 beta2 15 filtered lambdas  frangi hessian common filter image scale range scale step beta1 beta2 filtered lambdas < 0 ] 0out np filtered axis 0 out out < 0 ] 1return out 
def get project build account project url make url '/projects/{account project account project account project response requests url headers make auth headers return response 
def user can edit snippets user snippet models get snippet models for model in snippet models if user can edit snippet type user model return Truereturn False 
def list vpnservices retrieve all True profile None **kwargs conn  auth profile return conn vpnservices retrieve all **kwargs
def dilate input factors output np tuple s - 1 * f + 1 for s f in zip input factors dtype input output None None factor for factor in factors inputreturn output 
def record user logged in user id user settings get user settings user id strict True user settings logged in datetime  save user settings user settings 
def version parts best False return  distro parts best 
def proxy bypass environment host proxies None if proxies is None proxies getproxies environment try no proxy proxies Key Error return 0if no proxy '*' return 1 hostonly port splitport host no proxy list [proxy.strip for proxy in no proxy ' ' ]for name in no proxy list if name name re name pattern ' .+\\. ?%s$' % name if re pattern hostonly re I or re pattern host re I return 1return 0
def parse qs qs keep blank values False strict parsing False encoding 'utf-8' errors 'replace' dict {}pairs parse qsl qs keep blank values strict parsing encoding encoding errors errors for name value in pairs if name in dict dict value else dict [value]return dict 
def parent document link obj if not obj return ''url reverse 'admin wiki document change args [obj.parent.id] return '<ahref "ranslated #%s </a>' % url obj 
def get change lines in file for tag tag change dict cleaned lines []data list change dict 'data' [] for data dict in data list block data dict 'block' '' lines block '\\n' for line in lines index line tag if index > -1 line line ]cleaned lines line return cleaned lines 
def check data fields header mapping data errors warnings disable primer check False has barcodes True char replace '_' variable len barcodes False added demultiplex field None errors check dna chars primers header mapping data errors disable primer check if has barcodes errors check dna chars bcs header mapping data errors has barcodes if not variable len barcodes and has barcodes warnings check bcs lengths header mapping data warnings errors check bc duplicates header mapping data errors has barcodes variable len barcodes added demultiplex field errors check sampleid duplicates header mapping data errors warnings check chars data fields header mapping data warnings warnings check fields past bounds header mapping data warnings warnings check empty fields before bounds header mapping data warnings return errors warnings 
def laplace transform f t s **hints if isinstance f Matrix Base and hasattr f 'applyfunc' return f lambda fij laplace transform fij t s **hints return Laplace Transform f t s .doit **hints
def setup axes fig rect tr Affine2 D .scale np / 180.0 1.0 + Polar Axes Polar Transform extreme finder angle helper Extreme Finder Cycle 20 20 lon cycle 360 lat cycle None lon minmax None lat minmax 0 np grid locator1 angle helper Locator D M S 12 grid locator2 grid finder Max N Locator 5 tick formatter1 angle helper Formatter D M S grid helper Grid Helper Curve Linear tr extreme finder extreme finder grid locator1 grid locator1 grid locator2 grid locator2 tick formatter1 tick formatter1 ax1 axisartist Subplot fig rect grid helper grid helper ax1 ].toggle ticklabels False fig subplot ax1 ax1 aspect 1.0 ax1 xlim -5 12 ax1 ylim -5 10 return ax1 
@jit nopython True def  has sorted sa indices s indices a indices L len s indices for i in range L - 1 if s indices > s indices i + 1 ] return Falseif s indices s indices i + 1 ] if a indices > a indices i + 1 ] return Falsereturn True 
def test untied ae ae Autoencoder 5 7 act enc 'tanh' act dec 'cos' tied weights True model Untied Autoencoder ae model ensure extensions 
def triu m k 0 return m * 1 - tri m m k k - 1 dtype m 
def get last modification file Name return Qt Core Q File Info file Name .odified 
def prepare asides func @functools.wraps func def wrapper *args **kwargs 'upportedkwargs \nasides-listwithconnectedasidesdataforthepassedblock\n'if 'asides' in kwargs kwargs prepare asides to store kwargs return func *args **kwargs return wrapper 
def isoparse iso str dt args [int p for p in  NONDIGIT R E iso str ]return datetime *dt args 
@click.command 'disable-production' def disable production from bench setup import disable productiondisable production bench path '.'
def get minimal bsgs base gens G Permutation Group gens base gens G sims incremental if not  is minimal bsgs base gens return Nonereturn base gens 
def tx partition app txid murmur int mmh3 app + str txid [0]return bytearray struct '<q' murmur int 
@pytest.mark.parametrize 'url expected ' Tp //u p Some Host 'http //some.host.proxy' ' Tp //u p Other Host 'http //http.proxy' ' Tps /ther Host None 'file ///etc/motd' None def test select proxies url expected proxies {'http' 'http //http.proxy' 'http //some.host' 'http //some.host.proxy'}assert select proxy url proxies expected 
def u s return s if PY3 or type s is unicode else unicode s 'string-escape' 'unicode escape 
def set stream rates if not msg period and mpstate streamrate1 mpstate and mpstate streamrate2 mpstate returnmpstate streamrate1 mpstate streamrate2 mpstate master in mpstate master if master 0 rate mpstate rate mpstate rate ! -1 master data stream send mpstate system mpstate component mavutil M A V DATA STREAM ALL rate 1
def check opts conf opts names []for opt in opts names opt check opt value conf names 
def filter table to core table sample ids None fraction for core 1.0 filter f get filter to core f table sample ids fraction for core return table filter f axis 'observation' inplace False 
def node method node method name for n in node attr method name if isinstance n astroid Function return nraise astroid Not Found Error method name 
@register stabilize specialize optimizer None def local det chol node if node det x node cl xpos in x if isinstance cl Cholesky L cl [tensor.prod extract diag L ** 2 ]
def url params from lookup dict lookups params {}if lookups and hasattr lookups 'items' items []for k v in lookups if callable v v v if isinstance v tuple list v ' '.join str x for x in v elif isinstance v bool v '0' '1' [v]else v str v items k v params dict items return params 
def urlunsplit components scheme netloc url query fragment  coerce result  coerce args *components if netloc or scheme and scheme in uses netloc and url 2] ! '//' if url and url 1] ! '/' url '/' + url url '//' + netloc or '' + url if scheme url scheme + ' ' + url if query url url + '?' + query if fragment url url + '#' + fragment return  coerce result url 
def import site symbol path module name dummy None modulefile None module import site module path module modulefile modulefile if not module return dummycant import object obj getattr module name cant import if obj is cant import logging "unabletoimportsitesymbol'%s' usingnon name return dummyreturn obj 
def run  task 
def  scrub headers headers headers dict headers if 'uthorization in headers auth headers Authorization auth 'token' headers Authorization 'token[secret]'return headers 
def unpicklechops string return loads zlib base64 string 
def  parse settings bond 6 opts iface bond def bond {'mode' '6'}for binding in ['miimon' 'downdelay' 'updelay'] if binding in opts try int opts bond {binding opts except Value Error  raise error iface iface binding ['integer'] else  log default iface iface binding bond def bond {binding bond def if 'use carrier in opts if opts carrier in  CONFIG TRUE bond {'use carrier '1'} elif opts carrier in  CONFIG FALSE bond {'use carrier '0'} else valid  CONFIG TRUE +  CONFIG FALSE  raise error iface iface 'use carrier valid else  log default iface iface 'use carrier bond def carrier bond {'use carrier bond def carrier return bond 
def create ohlc open high low close dates None direction 'both' **kwargs if dates is not None utils equal length open high low close dates else utils equal length open high low close validate ohlc open high low close direction **kwargs if direction is 'increasing' ohlc incr make increasing ohlc open high low close dates **kwargs data [ohlc incr direction is 'decreasing' ohlc decr make decreasing ohlc open high low close dates **kwargs data [ohlc decr ohlc incr make increasing ohlc open high low close dates **kwargs ohlc decr make decreasing ohlc open high low close dates **kwargs data [ohlc incr ohlc decr graph objs Layout xaxis dict zeroline False hovermode 'closest' return graph objs Figure data data layout layout 
def  Get Remote App Id url throttle email passin raw input fn raw input password input fn getpass throttle class None scheme host port url path _ _ urlparse url secure scheme 'https' throttled rpc server factory remote api throttle Throttled Http Rpc Server Factory throttle throttle class throttle class def Auth Function return  Auth Function host port email passin raw input fn password input fn app id server remote api stub Get Remote App Id host port url path Auth Function rpc server factory throttled rpc server factory secure secure return app id server 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
@ replace by ' tifffile packbits def decode packbits encoded func ord if sys '2' else lambda x x result []result extend result 0try while True n func encoded + 1 i + 1if n < 129 result extend encoded i + n ] i + nelif n > 129 result extend encoded i + 1 ] * 258 - n i + 1except Index Error passreturn ''.join result if sys '2' else bytes result 
def make Clone Map columns Shape output Cloning Width output Cloning Height -1 if output Cloning Height < 0 output Cloning Height output Cloning Width columns Height columns Width columns Shapenum Distinct Masters output Cloning Width * output Cloning Height a numpy columns Height columns Width 'uint32' for row in xrange columns Height for col in xrange columns Width a row col ] col % output Cloning Width + row % output Cloning Height * output Cloning Width return a num Distinct Masters 
def  filter configured apps module app found Trueif hasattr settings 'LETTUCE APPS' and isinstance settings L E T T U C E APPS list tuple app found Falsefor appname in settings L E T T U C E APPS if module  name  .startswith appname app found Truereturn app found 
def check job access permission exception class Popup Exception def inner view func def decorate request *args **kwargs if 'workflow' in kwargs job type 'workflow'elif 'coordinator' in kwargs job type 'coordinator'else job type 'bundle'job kwargs job type if job is not None job Job read or exception request job exception class exception class kwargs type jobreturn view func request *args **kwargs return wraps view func decorate return inner 
def activate packages module port path packages activate c 0for package in packages if not query package module port path package module json msg 'failedtoactivate%s package s notpresent % package if query package module port path package state 'active' continue rc out err module command '%sactivate%s' % port path package if not query package module port path package state 'active' module json msg 'failedtoactivate%s %s' % package out activate c + 1if activate c > 0 module json changed True msg 'activated%spackage s ' % activate c module json changed False msg 'package s alreadyactive 
def Remove One Flag flag name flag values FLAGS if flag name in flag values Flag Dict flag values  delattr   flag name 
def get user contributions user id strict False model user models User Contributions Model user id strict strict if model is not None result User Contributions model model exploration ids model exploration ids else result Nonereturn result 
def dmp gf sqf list f u K all False raise Not Implemented Error 'multivariatepolynomialsoverfinitefields'
def create rpc deadline None callback None if deadline is None deadline get default fetch deadline return apiproxy stub map User R P C 'urlfetch' deadline callback 
def glob many *globs result []for pattern in globs result glob pattern return sorted result 
def Check User For Labels username authorized labels token None authorized labels set authorized labels try user aff4 F A C T O R Y Open 'aff4 /users/%s' % username aff4 type aff4 users G R R User token token if authorized labels user Get Labels Names authorized labels return Trueelse raise access control Unauthorized Access 'ser required %s .' % username authorized labels except I O Error raise access control Unauthorized Access 'ser % username 
def aggregate method value self spec getattr method ' returns None if spec model _ _ specif model 'self' return sum value self elif model return sum value self return value 
@register.filter 'phone2numeric' is safe True def phone2numeric filter value return phone2numeric value 
def  translate volume summary view context vol image id None d {}d['id'] vol vol vol zone vol zone at vol at []if vol status 'attached' attachment  translate attachment detail view context vol d attachment d name vol name description vol description vol type id and vol 'volume type d type vol type d type str vol type id d id vol id volid vol volid image id d id image id L O G _ 'vol %s' vol context context if vol 'volume metadata metadata vol 'volume metadata d dict item item for item in metadata elif vol 'metadata' and isinstance vol 'metadata' dict d vol d {}if vol 'volume glance metadata d 'true'else d 'false'return d 
def  fsencoding encoding sys or sys if encoding 'mbcs' encoding 'utf8'return encoding 
@utils.arg 'cell' metavar '<cell-name>' help _ 'ameofthecell def do cell show cs args cell cs args utils dict cell dict 
def get host from body fn def wrapped self req id body *args **kwargs if len body 1 and 'host' in body host body raise exc H T T P Bad Requestreturn fn self req id host *args **kwargs return wrapped 
def  find gap open sequence A sequence B ali seq A ali seq B end row col col gap gap char score matrix trace matrix in process gap fn target index direction dead end Falsetarget score score matrix n in range target if direction 'col' col - 1ali seq A + gap charali seq B + sequence B row - 1ali seq A + sequence A seq B + gap charactual score score matrix + gap fn index n + 1 if rint actual score rint target score and n > 0 if not trace matrix breakelse in process ali seq A ] ali seq B ] end row col col gap trace matrix if not trace matrix dead end Truereturn ali seq A ali seq B row col in process dead end 
def get parser description 'untoxenvironment s inallsub argparse Argument Parser description description parser argument '--tox-env' dest 'tox env help 'hetoxenvironment s toruninsub packages help 'ptionallistofsub argument 'packages' nargs '*' default UNSET SENTINEL help packages help return parser 
def method decorator decorator def  dec func def  wrapper self *args **kwargs @decoratordef bound func *args2 **kwargs2 return func self *args2 **kwargs2 return bound func *args **kwargs @decoratordef dummy *args **kwargs passupdate wrapper  wrapper dummy update wrapper  wrapper func return  wrapperupdate wrapper  dec decorator  dec  name   'method decorator %s ' % decorator  name   return  dec 
def movvar x windowsize 3 lag 'lagged' m1 movmoment x 1 windowsize windowsize lag lag m2 movmoment x 2 windowsize windowsize lag lag return m2 - m1 * m1 
def join cluster host user 'rabbit' ram node None runas None cmd [  context  ['rabbitmqctl'] 'join cluster ram node cmd '--ram' cmd '{0}@{1}'.format user host if runas is None and not salt windows runas salt user stop app runas res   salt  ['cmd.run all cmd runas runas python shell False start app runas return  format response res 'oin 
def on Global Bases key value DEBUG MSG 'lobal Bases %s' % key 
def  get Slot Value name slot Data default None for slot Frame in slot Data -1 ] if slot Frame is not None and name in slot Frame return slot Frame if default is not None return defaultraise Unfilled Slot name 
def set proxy win server port types None bypass hosts None if   grains  ['os'] 'indows return  set proxy windows server port types bypass hosts 
def  broadcast onto src ndim src shape dest ndim dest shape if src ndim > dest ndim return 0else src index 0dest index dest ndim - src ndim while src index < src ndim src dim size src shape index dim size dest shape index dest dim size ! 1 if src dim size ! dest dim size and src dim size ! 1 return - dest index + 1 elif src dim size ! 1 dest shape index src dim sizesrc index + 1dest index + 1return dest index 
def file upload quota broken request response file upload echo request request handlers 0 Quota Upload Handler return response 
def osx clipboard get p subprocess Popen ['pbpaste' 'refer 'ascii'] stdout subprocess P I P E text stderr p text text '\r' '\n' text py3compat unicode text py3compat D E F A U L T ENCODING return text 
def get course enrollment info course id include expired False course key Course Key string course id try course Course Overview from id course key except Course Overview Does Not Exist msg u Requestedenrollmentinformationforunknowncourse course course id log msg raise Course Not Found Error msg else return Course Serializer course include expired include expired .data
@skip 'multiple execute @skip 'netstandard' def test addreferencetofileandpath conflict code1 'ystem Collision Test Result {est1 'ystem Collision Test Result {est2 testpath dir test1 cs test1 dll path combine tmp 'test1.cs' path combine tmp 'ollision Test test2 cs test2 dll path combine tmp 'test2.cs' path combine sys 'ollision Test write to file test1 cs code1 write to file test2 cs code2 Are Equal run csc '/nologo/target library ' + test2 dll + '' + test2 cs 0 Are Equal run csc '/nologo/target library ' + test1 dll + '' + test1 cs 0 clr Add Reference To File And Path test1 dll import Collision Test Are Equal Collision Test Result 'est1 
def select best available language target code available codes None target code lcode to django lang target code store cache Falseif available codes is None if target code in   select best available language return   select best available language code store cache Trueavailable codes get installed language packs .keys available codes [lcode to django lang lc for lc in available codes if lc target code in available codes actual code target codeelif target code '-' 1 [0] in available codes actual code target code '-' 1 [0]elif settings L A N G U A G E CODE in available codes actual code settings L A N G U A G E C O D Eelif 'en' in available codes actual code 'en'elif available codes actual code available codes raise Runtime Error 'olanguagesfound if store cache   select best available language code actual codereturn actual code 
def try march flag flags test code textwrap '#include<cmath>\nusingnamespacestd;\nintmain intargc char \x -x 25.0;\ndoubler Nx Sx ;\nif abs r >0.01 \n{\nreturn-1;\n}\nreturn0;\n}\n' cflags flags + [ '-L' + d for d in theano lib dirs ] compilation result execution result GCC compiler compile tmp test code tmp prefix 'try march ' flags cflags try run True return compilation result execution result 
def remove packages module xbps path packages changed packages []for package in packages installed updated query package module xbps path package if not installed continuecmd '%s-y%s' % xbps path package rc stdout stderr module command cmd check rc False if rc ! 0 module json msg 'failedtoremove%s' % package changed packages package if len changed packages > 0 module json changed True msg 'removed%spackage s ' % len changed packages packages changed packages module json changed False msg 'package s alreadyabsent 
def get promo country code programming language gold project False gold user False promo queryset Supporter Promo live True display type 'doc' filtered promos []for obj in promo queryset if obj language and not show to programming language obj programming language continueif country code and not show to geo obj country code continuefiltered promos obj promo obj choose promo filtered promos if not promo obj house promo Supporter Promo live True name 'house' .order by '?' if house promo promo obj house promo if gold user gold promo Supporter Promo live True name 'gold-user' if gold promo promo obj gold promo if gold project gold promo Supporter Promo live True name 'gold-project' if gold promo promo obj gold promo return promo obj 
def transform headers headers for key value in headers headers str value return headers 
def p error handler t pass 
def  node default '' try import socketexcept Import Error return defaulttry return socket except socket return default 
def get Should Reverse xml Element return evaluate Evaluated Boolean Default True 'reverse' xml Element 
def  expand glob path file roots unglobbed path []for path in file roots try if glob magic path unglobbed path glob path else unglobbed path path except Exception unglobbed path path return unglobbed path 
@register.filter name 'unix ms to datetime def unix ms to datetime unixtime if unixtime return datetime unixtime / 1000 return _ 'otime 
def generic recursive equality test a b class history dict a a  dict  dict b b  dict  for key in dict a assert key in dict b u Didnotpickle key if hasattr dict a u  eq  ' eq dict a dict b if u  iter  ' in dir eq eq False not in eq assert eq u Valueof key if hasattr dict a u  dict  ' if dict a  class   in class history passelse new class history [dict a  class  ]new class history class history generic recursive equality test dict a dict b new class history 
def group snapshot get context group snapshot id return I M P L snapshot get context group snapshot id 
def block device mappings vm  return config cloud config value 'block device mappings vm    opts   search global True 
def  number text if text return int text try return float text except Value Error return text 
def expected cost numobj region codes region codes for country code numobj code if len region codes 0 return Short Number Cost U N K N O W N C O S Tif len region codes 1 return expected cost for region numobj region codes cost Short Number Cost T O L L F R E Efor region code in region codes cost for region expected cost for region numobj region code if cost for region Short Number Cost P R E M I U M RATE return Short Number Cost P R E M I U M R A T Eelif cost for region Short Number Cost U N K N O W N COST return Short Number Cost U N K N O W N C O S Telif cost for region Short Number Cost S T A N D A R D RATE if cost ! Short Number Cost U N K N O W N COST cost Short Number Cost S T A N D A R D R A T Eelif cost for region Short Number Cost T O L L FREE passelse raise Exception 'nrecognizedcostforregion %s' cost for region return cost 
def  prepare message txt def plain val 'eturn Truewhenvalisplain A S C I I val 'ascii' return Trueexcept return Falsecode ' S O Message payload []body Falseheader Falsefor line in txt code 'replace' .split '\n' if header and not line body Trueif body payload line else m RE H E A D E R line if m header Truekeyword m 1 .strip value m 2 .strip if plain value msg header keyword value else header Header value code msg headermsg payload '\n'.join payload code if not msg key 'ontent Transfer Encoding encode quopri msg return msg string 
def get default address doctype name sort key u primary address out frappe u DCTB DCTB DCTB parent \n DCTB DCTB DCTB select Addressawherea dl as DCTB DCTB from DCTB DCTB DCTB `ynamic Link DCTB DCTB where DCTB DCTB DCTB link doctype %sand\n DCTB DCTB DCTB link name %sand\n DCTB DCTB DCTB parenttype "ddress DCTB DCTB '.format sort key doctype name if out return sorted out lambda x y cmp y x [0][0]else return None 
def next prime starting value if starting value < 2 return 2result starting value + 1 | 1 while not is prime result result result + 2 return result 
@pytest.mark.skipif ' A S BEAUTIFUL SOUP' def test soupstring soup Beautiful Soup '<html><head></head><body><p>foo</p></body></html>' soup str html Soup String soup assert isinstance soup str str assert isinstance soup str html Soup String assert soup str '<html><head></head><body><p>foo</p></body></html>' assert soup str is soup 
def gl Buffer Data target data usage if isinstance data int size datadata ctypes voidp 0 else if not data C CONTIGUOUS'] or not data A L I G N E D data data 'C' data  datasize data .nbytesdata data .ctypes.datares  lib Buffer Data target size data usage 
def esxcli host user pwd cmd protocol None port None esxi host None esx cmd salt 'esxcli' if not esx cmd log 'issingdependency Thesalt E S X C L I return Falseif port is None port 443if protocol is None protocol 'https'if not esxi host esx cmd + "-s{0}-u{1}-p'{2}'--protocol {3}--portnumber {4}{5}".format host user pwd protocol port cmd else esx cmd + "-s{0}-h{1}-u{2}-p'{3}'--protocol {4}--portnumber {5}{6}".format host esxi host user pwd protocol port cmd ret salt all esx cmd output loglevel 'quiet' return ret 
def rules 2prereq rules prereq defaultdict set for a _ impl in rules if isinstance a Not a a i _ in impl if isinstance i Not i i a return prereq 
def get string scope project code resource None return get string module project code resource .get scope 
def  mat ptrs a if len a 1 return cuda 1 a dtype numpy else stride a a cuda ptr ptr + stride * len a stride dtype numpy 
def test ast good assert can compile u assert1 ' can compile u assert1 Assertlabel ' can compile u assert1 +"spam""eggs" ' can compile u assert112345 ' can compile u assert1 None ' can compile u assert1 +2"incomingeggsception" '
@register.simple tag takes context True def expand fragment link context expanding tooltip expand above expand below text None lines of context context of context class u % expanding expand pos lines of context + expand above lines of context + expand below return render to string u link {u'tooltip' tooltip u text u id context u pos expand pos u class image class 
def get object model **kwargs for value in kwargs if not value return Nonethe object model **kwargs if len the object 1 the object the object the object Nonereturn the object 
def import setting name value getattr settings name None return import object value 
def  fileobj to fd fileobj if isinstance fileobj six types fd fileobjelse try fd int fileobj except Attribute Error Type Error Value Error raise Value Error 'nvalidfileobject {0!r}'.format fileobj if fd < 0 raise Value Error 'nvalidfiledescriptor {0}'.format fd return fd 
def check tree subset fasta labels tree fp raw fasta labels set [label.split '_' [0] for label in fasta labels tree f open tree fp 'U' tree Dnd Parser tree f tree tips set tree Tip Names labels not in tips []for curr label in raw fasta labels if curr label not in tree tips labels not in tips curr label if len labels not in tips 0 labels not in tips Truereturn labels not in tips 
def module enabled module enable module module reload service 'apache2'
def wait ready package popen if package DATASTORE datastore wait ready popen elif package PUBSUB wait ready prefix popen  PS READY LINE PREFIX elif package BIGTABLE wait ready prefix popen  BT READY LINE PREFIX else raise Key Error 'ackagenotsupported package 
def change keys recs key 'uuid' filter func None new recs {}for ref rec in recs if filter func is not None and not filter func rec continuenew recs recnew recs refreturn new recs 
def  editor progress limited reviewer False types ['nominated' 'pending']progress {'new' queue counts types days max 4 unlisted False admin reviewer True limited reviewer limited reviewer 'med' queue counts types days min 5 days max 10 unlisted False admin reviewer True limited reviewer limited reviewer 'old' queue counts types days min 11 unlisted False admin reviewer True limited reviewer limited reviewer }def pct p t return p / float t * 100 if p > 0 else 0 percentage {}for t in types total progress + progress + progress percentage {}for duration in 'new' 'med' 'old' percentage pct progress total return progress percentage 
def pool current Limit thread Factory Thread def start Thread target return thread Factory target target .start def limited Worker Creator stats team if stats Worker Count + stats Worker Count > current Limit return Nonereturn Thread Worker start Thread Queue team Team coordinator Lock Worker Lock Local Storage create Worker limited Worker Creator log Exception err return team 
def nsmallest n iterable if n < 0 return []it iter iterable result list islice it n if not result return result heapify max result  heappushpop  heappushpop maxfor elem in it  heappushpop result elem result return result 
def reverse course url handler name course key kwargs None return reverse url handler name 'course key string course key kwargs 
def get Path By Key key xml Element if key not in xml Element Dictionary return []word str xml Element Dictionary .strip evaluated Link Value get Evaluated Link Value word xml Element if evaluated Link Value  class   list return get Path By List evaluated Link Value xml Element Object get X M L Element Object evaluated Link Value if xml Element Object None return []return xml Element Object Paths [0]
@pytest.fixture autouse True def  annotate environment request environment getattr request ' environment None if environment behave version behave  version  environment 'behave' behave version 
def escape sql like special characters term escape '\\' for ch in escape +  special characters term term ch escape + ch return term 
def get body region defined scope defined scope pymodule defined module lines pymodule defined ast start line node defined doc is None start line node len node > 1 start line node lines line start start line scope start pymodule lines line in scope if scope start > start line start pymodule code ' ' start + 1 while pymodule code start + 1end min lines line end scope + 1 len pymodule code return start end 
def  enum to int value try return int value except Value Error Type Error return value 
def bfs beam edges G source value width None if width is None width len G def successors v 'eturnsalistofthebestneighborsofanode G The higherisbetter .nlythe Thelistreturnedbythisfunctionisindecreasingvalueas iter sorted G v key value reverse True [ width for e in generic bfs edges G source successors yield e 
def repeat stmt 'pass' setup 'pass' timer default timer repeat default repeat number default number return Timer stmt setup timer .repeat repeat number 
def nlargest n iterable key None in1 in2 tee iterable it izip imap key in1 imap neg count in2 result  nlargest n it return map itemgetter 2 result 
def format source url url if sabnzbd H A V E SSL prot 'https'else prot 'http 'return url 
def decode byte list byte list decoded items []for item in byte list decoded items item   salt system encoding   return decoded items 
def  revs equal rev1 rev2 rev type if rev1 is None and rev2 is not None or rev2 is None and rev1 is not None return Falseelif rev1 is rev2 is None return Trueelif rev type 'sha1' return rev1 rev2 else return rev1 rev2 
def random shift x wrg hrg row axis 1 col axis 2 channel axis 0 fill mode 'nearest' cval 0.0 h w x axis x axis tx np - hrg hrg * h ty np - wrg wrg * w translation matrix np [[1 0 tx [0 1 ty [0 0 1]] transform matrix translation matrixx apply transform x transform matrix channel axis fill mode cval return x 
def add indep x varnames dtype None if isinstance x np and x 2 x x Tnvars orig len x nobs len x if not dtype dtype np x .dtypexout np nobs nvars orig dtype dtype count 0rank old 0varnames new []varnames dropped []keepindx []for xi ni in zip x varnames xout count xirank new np matrix rank xout if rank new > rank old varnames new ni rank old rank newcount + 1else varnames dropped ni return xout count varnames new 
def  media path url from info root desc path url return '% root supload service path s path s % {'root' root desc Url 'service path root desc Path 'path' path url 
def delete blob call None kwargs None global storconnif not storconn storconn get conn Storage Management Client if kwargs is None kwargs {}if 'container' not in kwargs raise Salt Cloud System Exit 'containermustbespecified if 'blob' not in kwargs raise Salt Cloud System Exit 'blobmustbespecified storageaccount azure Cloud Storage Account config cloud config value 'storage account get configured provider   opts   search global False config cloud config value 'storage key get configured provider   opts   search global False storageservice storageaccount block blob service storageservice blob kwargs kwargs return True 
def formatstring cols colwidth  colwidth spacing  spacing spacing * ''return spacing c colwidth for c in cols 
def count sprintf parameters string return len  sprintf placeholder re string 
def roundrobin *iterables pending len iterables nexts cycle iter it .next for it in iterables while pending try for next in nexts yield next except Stop Iteration pending - 1nexts cycle islice nexts pending 
def update single f new frappe frappe u Singlessetfield %swheredoctype %sandfield %s' new f f frappe 
@image comparison baseline images [u'colorbar extensions uniform u extensions proportional extensions [u'png'] def test colorbar extension length  colorbar extension length u  colorbar extension length u 
def get documentation from . compat import String I O sys _ String I O sys help vim 'a word sys out _ sys vim str out .splitlines 0
def  get lut data dir op op   file   'data' lut fname op data dir 'ree Surfer Color L U T return np lut fname dtype None usecols 0 1 2 3 4 5 names ['id' 'name' 'R' 'G' 'B' 'A']
def add resource manager extra kwargs hook f hook if not hasattr f 'resource manager kwargs hooks f manager kwargs hooks []names [h.  name   for h in f manager kwargs hooks hook  name   not in names f manager kwargs hooks hook 
@pytest.fixture scope 'session' def stubs return stubsmod 
def  initial nodes a n k tauk  compute tauk n k sigk cos 0.5 * tauk ** 2 a n % 2 - 0.5 nu 4.0 * floor n / 2.0 + 2.0 * a + 2.0 xksq nu * sigk - 1.0 / 3.0 * nu * 5.0 / 4.0 * 1.0 - sigk ** 2 - 1.0 / 1.0 - sigk - 0.25 return xksq 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get CC operators i symbols 'i' below fermi True cls Dummy a symbols 'a' above fermi True cls Dummy t ai Anti Symmetric Tensor 't' a i ai NO Fd a * F i i j symbols 'i j below fermi True cls Dummy a b symbols 'a b above fermi True cls Dummy t abij Anti Symmetric Tensor 't' a b i j abji NO Fd a * Fd b * F j * F i T1 t ai * ai T2 Rational 1 4 * t abij * abji return T1 T2
def failing job raise Runtime Error u J O B F A I L U R E 
def  enqueue revent   context  ['inotify.queue'].append revent 
def dnslib record2iplist record assert isinstance record dnslib D N S Record iplist [x for x in str r for r in record if re '^\\d+\\.\\d+\\.\\d+\\.\\d+$' x or ' ' in x ]return iplist 
def install setuptools python cmd 'python' use sudo True setuptools version package version 'setuptools' python cmd distribute version package version 'distribute' python cmd if setuptools version is None  install from scratch python cmd use sudo elif distribute version is None  upgrade from setuptools python cmd use sudo else  upgrade from distribute python cmd use sudo 
def target info from filename filename basename osp filename storedir osp osp filename target filename '.' [ -1 ]return storedir basename target 
def Bounded Semaphore *args **kwargs return  Bounded Semaphore *args **kwargs
def  raise document too large operation doc size max size if operation 'insert' raise Document Too Large ' S O Ndocumenttoolarge %dbytes - S O Ndocumentsizesupto % doc size max size else raise Document Too Large 'commanddocumenttoolarge'
def test pick bio names '1 A2 Fz O B I O1 B I O2 B I O3 types 'magmageegeegbiobiobio'.split info create info names 1024.0 types idx channel indices by type info assert array equal idx [0 1] assert array equal idx [2 3] assert array equal idx [4 5 6]
def html unquote v for ent repl in [ '&nbsp;' '' '&gt;' '>' '&lt;' '<' '&quot;' '"' '&amp;' '&' ] v v ent repl return v 
def collect emojis emojis dict full path os  basedir 'static' 'emoji' if not os full path return emojisfor emoji in os full path name ending emoji '.' if ending in ['png' 'gif' 'jpg' 'jpeg'] emojis emojireturn emojis 
def redirect url code None if code is None code 303 if request 'SERVER PROTOCOL' 'HTTP/1.1' else 302 location urljoin request url raise H T T P Response '' status code header dict Location location 
def lv check vg name lv name cmd 'lvdisplay'result utils cmd ignore status True lvpattern ' V Path % vg name lv name match re lvpattern result if match logging 'rovidedlogicalvolume lv name vg name return Trueelse return False 
def raw cron user if  check instance uid match user or   grains  .get 'os family in 'olaris 'AIX' cmd 'crontab-l'lines   salt  ['cmd.run stdout cmd runas user rstrip False python shell False .splitlines True else cmd 'crontab-u{0}-l'.format user lines   salt  ['cmd.run stdout cmd rstrip False python shell False .splitlines True if len lines ! 0 and lines ' O N O T E D I T T H I S F I L E del lines 3]return ''.join lines 
def create logger app Logger get Logger Class class Debug Logger Logger def get Effective Level self if self 0 and app return D E B U Greturn Logger Effective Level self class Debug Handler Stream Handler def emit self record if app and  should log for app 'debug' Stream Handler self record class Production Handler Stream Handler def emit self record if not app and  should log for app 'production' Stream Handler self record debug handler Debug Handler debug handler Level DEBUG debug handler Formatter Formatter DEBUG LOG FORMAT prod handler Production Handler  proxy stream prod handler Level ERROR prod handler Formatter Formatter PROD LOG FORMAT logger get Logger app name del logger ]logger.  class   Debug Loggerlogger Handler debug handler logger Handler prod handler logger Falsereturn logger 
def get future timestamp idx timestamps if idx len timestamps - 1 return get past timestamp idx timestamps elif timestamps return timestamps idx min len timestamps idx + 1 return get future timestamp idx timestamps 
def splitline text index text '\n' + 1 if index return text index text ] else return text ''
def get host numa usage from instance host instance free False never serialize result False instance numa topology instance topology from instance instance if instance numa topology instance numa topology [instance numa topology host numa topology jsonify result host topology and format from host host updated numa topology numa usage from instances host numa topology instance numa topology free free if updated numa topology is not None if jsonify result and not never serialize result updated numa topology updated numa topology to json return updated numa topology 
def  get service result parser run utils global  service result parsertry return  service result parserexcept Name Error result parser  result parsers name of init run ] service result parser  Service Result Parser result parser return  service result parser 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def dtlz7 ind n objs gval 1 + 9.0 / len ind n objs - 1 ] * sum [a for a in ind n objs - 1 ]] fit [ind for ind in ind n objs - 1 ]]fit.append 1 + gval * n objs - sum [ a / 1.0 + gval * 1 + sin 3 * pi * a for a in ind n objs - 1 ]] return fit 
def make letterboxed thumbnail image shape assert len image 3 assert len shape 2 shrunk fit inside image shape letterboxed letterbox shrunk shape return letterboxed 
def Pluralize count singular '' plural 's' return singular if count 1 else plural 
def random reduce circuit gate ids seed None from sympy import  randrangeif not gate ids return circuitif isinstance circuit Mul circuit circuit flatten ids gate ids randrange  randrange seed while ids i randrange len ids id ids i if find subcircuit circuit id ! -1 breakelse return circuitreturn replace subcircuit circuit id 
def write cron file user path if  check instance uid match user or   grains  .get 'os family in 'olaris 'AIX' return   salt  ['cmd.retcode']  get cron cmdstr path runas user python shell False 0 else return   salt  ['cmd.retcode']  get cron cmdstr path user python shell False 0
def get img channel image path img load image image path img pil to nparray img try channel img channel 1return channel 
def get partial date formats warnings "'django.utils.translation.get partial date formats Pleaseupdateyourcodetousethenewi18nawareformatting Pending Deprecation Warning from google internal import settingsyear month format ugettext 'YEAR MONTH FORMAT' month day format ugettext 'MONTH DAY FORMAT' if year month format 'YEAR MONTH FORMAT' year month format settings Y E A R MONTH F O R M A Tif month day format 'MONTH DAY FORMAT' month day format settings M O N T H DAY F O R M A Treturn year month format month day format 
def generate cert domain result   salt  ['cmd.run'] 'icinga2pkinew-cert--cn{0}--key/etc/icinga2/pki/{0}.key--cert/etc/icinga2/pki/{0}.crt'.format domain return result 
def test resample x rng 0 1 10 10 10 x rs resample x 1 2 10 assert equal x 10 10 10 assert equal x rs 10 10 5 x 2 x 0 1 x 2 rs resample x 2 1 2 10 assert array equal x 2 rs 0 1 x rs x 3 x 0 2 x 3 rs resample x 3 1 2 10 0 assert array equal x 3 rs 0 2 x rs assert array equal resample [0 0] 2 1 [0.0 0.0 0.0 0.0]
def  is resumable exc checker  SELECT ERROR C H E C K E R S exc  class   None if checker is not None return checker exc else return False 
def  iexp x M L 8 R  nbits x << L // M T - int -10 * len str M // 3 * L y  div nearest x T Mshift M << R for i in range T - 1 0 -1 y  div nearest x * Mshift + y Mshift * i for k in range R - 1 -1 -1 Mshift M << k + 2 y  div nearest y * y + Mshift Mshift return M + y 
def safecall f name *args **kwargs lwork kwargs 'lwork' None if lwork in None -1 kwargs -1 ret f *args **kwargs kwargs ret -2 ][0].real.astype numpy ret f *args **kwargs if ret -1 ] < 0 raise Value Error 'illegalvaluein%d-thargumentofinternal%s' % - ret -1 ] name return ret -2 ]
def interval distance label1 label2 try return pow label1 - label2 2 except print 'non-numericlabelsnotsupportedwithintervaldistance'
def ensure completely loaded force False global COMPLETELY L O A D E Dif COMPLETELY LOADED and not force return Truefrom django import appsif not apps returnimport djangofrom distutils import Loose Versionif Loose Version django version < Loose Version u for model in apps models for cache name in u field cache u field name cache u m2m cache u related objects cache u related many to many cache u name map try delattr model meta cache name except Attribute Error passmodel meta fill fields cache if hasattr apps u apps models clear if apps COMPLETELY LOADED Truereturn True 
def  lookup syslog config config lookup {'default-timeout' 'efault Network Retry Timeout 'logdir' 'ocal Log Output 'default-size' 'ocal Logging Default Rotation Size 'logdir-unique' 'og To Unique Subdirectory 'default-rotate' 'ocal Logging Default Rotations 'loghost' 'emote Host lookup config 
def create comment request comment data thread id comment data 'thread id if not thread id raise Validation Error {'thread id [hisfieldisrequired cc thread context  get thread and context request thread id if cc thread raise Permission Denied check initializable comment fields comment data context serializer Comment Serializer data comment data context context actions form Comment Actions Form comment data if not serializer valid and actions form valid raise Validation Error dict serializer + actions form serializer cc comment serializer created sender None user request post cc comment api comment serializer do extra actions api comment cc comment comment data actions form context request track comment created event request context cc comment cc thread id followed False return api comment 
def notify info yielded event def decorator generator def decorated *args **kwargs for v in generator *args **kwargs send event info v yield v return decoratedreturn decorator 
def  validate snap name name snap name strict True runas None snap name  sdecode snap name if re GUID REGEX snap name return snap name '{}' else return snapshot name to id name snap name strict strict runas runas 
def get avg dists state1 samids state2 samids distdict state1 avg dists []for sam1 in state1 samids dists []for sam2 in state2 samids if sam1 sam2 continuedists distdict state1 avg dists numpy dists return state1 avg dists 
def in6 get6to Prefix addr try addr inet pton socket A F INET addr addr inet ntop socket A F INET6 '\x02' + addr + '\x00' * 10 except return Nonereturn addr 
def test sobel h horizontal i j np -5 6 -5 6]image i > 0 .astype float result filters h image i np j 5 ] 10000assert np result i 0 ] 1 assert np result np i > 1 ] 0
def farray ptr shape dtype None if not isinstance shape utils I N T TYPES shape shape -1 ]return carray ptr shape dtype .T
def secgroup info call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hesecgroup infofunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None secgroup id kwargs 'secgroup id None if secgroup id if name log "oththe id id elif name secgroup id get secgroup id kwargs {'name' name else raise Salt Cloud System Exit 'hesecgroup infofunctionrequireseitheranameorasecgroup idtobeprovided server user password  get xml rpc auth ' '.join [user password info {}response server auth int secgroup id [1]tree  get xml response info 'NAME' .text]  xml to dict tree return info 
def  make complex eigvecs w vin dtype v numpy vin dtype dtype m w > 0 m -1 ] | w ] < 0 for i in flatnonzero m v i vin i + 1 ]conj v i v i + 1 ] return v 
def  sig key key date stamp region Name service Name k Date  sign 'AWS4' + key .encode 'utf-8' date stamp if region Name k Region  sign k Date region Name k Service  sign k Region service Name else k Service  sign k Date service Name k Signing  sign k Service 'aws4 request return k Signing 
def validate int or basestring option value if isinstance value integer types return valueelif isinstance value string type if value return int value return valueraise Type Error 'rongtypefor valuemustbeanintegerorastring % option 
def get database password name password D A T A B A S E S P A S S W O R D if not password password D A T A B A S E S P A S S W O R D S C R I P T return password 
def retrieve token userid secret dtnow datetime dtutcnow datetime delta dtnow - dtutcnow newhour newmin divmod delta * 24 * 60 * 60 + delta + 30 // 60 60 newtime '%s%+02d %02d' % dtnow newhour newmin custom data {t newtime 'ey secret 'd userid 'ttl' 86400}newtoken create token secret custom data return newtoken 
def parse229 resp peer if resp 3] ! '229' raise error reply resp left resp ' ' if left < 0 raise error proto resp right resp ' ' left + 1 if right < 0 raise error proto resp if resp left + 1 ] ! resp right - 1 ] raise error proto resp parts resp left + 1 right resp left + 1 ] if len parts ! 5 raise error proto resp host peer int parts return host port 
def get Float List Lists By Paths paths float List Lists []for path in paths float List List []for point in path float List List point Float List return float List Lists 
def  get pnics host reference return host reference 
def get Fundamentals Path sub Name '' return get Joined Path get Geometry Utilities Path 'evaluate fundamentals sub Name 
def locks registry xml parent data locks dataif locks lw X M L Sub Element xml parent 'ock Wrapper locktop X M L Sub Element lw 'locks' for lock in locks lockwrapper X M L Sub Element locktop 'ock Wrapper -ock Wait Config X M L Sub Element lockwrapper 'name' .text lock 
def p additive expression 1 t pass 
def  skip bytes f n f n return 
def cheby2 N rs Wn btype 'low' analog False output 'ba' return iirfilter N Wn rs rs btype btype analog analog output output ftype 'cheby2'
def flatten const node list environment node list output []eval ctx Eval Context environment for node in node list if isinstance node Output for node in node try const node const eval ctx eval ctx if not isinstance const six type raise Unflattenable const output const except Impossible raise Unflattenable node else raise Unflattenable node return u output 
def count return partial  force sequence  advance lambda x x 
def paginated model query None increment 200 each True queryset model query paginator Paginator queryset increment for page num in paginator range page paginator page num if each for item in page list yield item else yield page list 
def get best language accept lang LUM settings L A N G U A G E URL MAPNSL settings N O N SUPPORTED LOCALESLC settings L A N G U A G E C O D Elangs dict LUM langs k v if v else LC for k v in N S L if k not in langs langs k '-' [0] v for k v in L U M if k '-' [0] not in langs ranked parse accept lang header accept lang for lang _ in ranked lang lang if lang in langs return langs lang '-' [0]if pre in langs return langs False 
def shlex quote s if not s return "''"if  find unsafe s is None return sreturn "'" + s "'" '\'"\'"\'' + "'"
def Synthesize User Id email user id digest  MD5 FUNC email .digest user id '1' + ''.join [ '%02d' % ord x for x in user id digest [ 20] return user id 
def distros for filename filename metadata None return distros for location normalize path filename os filename metadata 
def get xstatic dirs XSTATIC MODULES HORIZON CONFIG STATICFILES DIRS []HORIZON C O N F I G lib files []for module name files in XSTATIC MODULES module import module module name if module name 'xstatic.pkg.jquery ui if module V E R S I O N '1.10.' files [ 'ui/' + files ]STATICFILES D I R S 'horizon/lib/' + module N A M E module B A S E DIR if hasattr module 'MAIN' files module M A I Nif not isinstance files list files [files]files [file for file in files if file '.js' ]for file in files file 'horizon/lib/' + module N A M E + '/' + file HORIZON C O N F I G lib files file return STATICFILES DIRS
def reset extensions translations locales apps schema editor Extension apps model u u Extension Translation apps model u u Translation extensions Extension for extension in extensions translations ids filter None [extension.name id extension id lang extension language Translation id  in translations ids .update locale lang 
def metric to Christoffel 2nd expr ch 1st metric to Christoffel 1st expr coord sys expr Coord System .pop indices list range coord sys matrix twoform to matrix expr s fields set for e in matrix s fields e Base Scalar Field s fields list s fields dums coord sys dummiesmatrix matrix list zip s fields dums .inv .subs list zip dums s fields christoffel [dd *[ matrix i l ] * ch 1st[ l j k ] for l in indices for k in indices for j in indices for i in indices Immutable Dense N Dim Array christoffel 
def log loss actual predicted return np ll actual predicted 
def db exists name user None password None host None port None authdb None dbs db list user password host port authdb authdb if isinstance dbs string types return Falsereturn name in dbs 
def build graph ifilenames graph num threads 1 tags False if tags eat graph fasta and tag with reads parserelse eat graph fasta with reads parserfor _ ifile in enumerate ifilenames rparser khmer Read Parser ifile threads []for _ in range num threads cur thread threading Thread target eat args rparser threads cur thread cur thread for thread in threads thread 
def change state api url post data for _ in range LOGIN RETRIES req requests urljoin Z M api url data post data cookies Z M timeout DEFAULT TIMEOUT if req code ! requests login else breakelse  L O G G E R 'nabletoget A P Iresponsefrom Zone Minder return json req 
def  chunk write chunk local file progress local file chunk progress with increment value len chunk 
def tokenize annotated doc annotation tokens tokenize doc include hrefs False for tok in tokens tok annotationreturn tokens 
def listen target identifier fn *args **kw  event key target identifier fn .listen *args **kw
def quiet Run cmd **kwargs return err Run cmd stderr STDOUT **kwargs [0]
def no 4byte params f def wrapper *args **kwargs def  is match some str return isinstance some str six type and REGEX 4BYTE U N I C O D E some str ! [] def  check dict data dict for key value in six data dict if isinstance value dict  check dict value else if  is match key msg _ "ropertynamescan raise exception Invalid msg if  is match value msg _ "%scan'tcontain4byteunicodecharacters." % key raise exception Invalid msg for data dict in [arg for arg in args if isinstance arg dict ]  check dict data dict for arg in args if  is match arg msg _ "aramvaluescan raise exception Invalid msg  check dict kwargs return f *args **kwargs return wrapper 
def device exists with ips and mac device name ip cidrs mac namespace None try device I P Device device name namespace namespace if mac ! device return Falsedevice ip cidrs [ip['cidr'] for ip in device ]for ip cidr in ip cidrs if ip cidr not in device ip cidrs return Falseexcept Runtime Error return Falseelse return True 
def renyientropy px alpha 1 logbase 2 measure 'R' if not  isproperdist px raise Value Error 'pxisnotaproperprobabilitydistribution' alpha float alpha if alpha 1 genent shannonentropy px if logbase ! 2 return logbasechange 2 logbase * genent return genentelif 'inf' in string alpha .lower or alpha np return - np np px px px ** alpha genent np px if logbase 2 return 1 / 1 - alpha * genent else return 1 / 1 - alpha * logbasechange 2 logbase * genent 
def get sequential open distrib course id db query models Student Module course id  exact course id module type  exact 'sequential' .values 'module state key .annotate count sequential Count 'module state key sequential open distrib {}for row in db query row loc course id usage key from deprecated string row state key sequential open distrib loc row sequential sequential open distrib 
def highlight code lexer formatter outfile None return format lex code lexer formatter outfile 
def get res pool ref session cluster res pool ref session call method vutil 'get object property cluster 'ool return res pool ref 
def url replace param url name value url components urlparse force str url query params parse qs url components query params valuequery urlencode query params doseq True return force text urlunparse [url components url components url components url components query url components 
def libvlc hex version try return  dot2int bytes to str libvlc get version .split [0] except Value Error return 0
@commands u @example u //google.com' u Google def title command bot trigger if not trigger 2 if trigger not in bot seen url returnmatched check callbacks bot trigger bot seen url True if matched returnelse urls [bot.memory[u'last seen url urls re url finder trigger results process urls bot trigger urls for title domain in results 4] bot u % title domain 
def is threshold sequence degree sequence ds degree sequence ]ds.sort while ds if ds 0 ds 0 continueif ds -1 ] ! len ds - 1 return Falseds ds [ d - 1 for d in ds True 
def path tail apath bpath position bpath apath if position ! 0 return ''rposition position + len apath result bpath ]if not result '/' result '/' + result return result 
def  url replace regex prefix return u ?x #flags re V E R B O S E ? #theopeningquotes\n ? #theprefix\n ? #everythingelseintheurl\n ?P quote #thefirstmatchingclosingquote\n'.format prefix prefix 
def  check user user group err ''if user uid   salt  ['file.user to uid user if uid '' err + 'ser user if group gid   salt  ['file.group to gid group if gid '' err + 'roup group return err 
def group remove groupname user None host None port None maintenance db None password None runas None return  role remove groupname user user host host port port maintenance db maintenance db password password runas runas 
def safe open w path mkdir p os path return open path 'w'
def remove elasticbeanstalk docs dir location os PROJECT DIRECTORY '.ebextensions' if os docs dir location shutil docs dir location filenames ['ebsetenv.py']if '{{cookiecutter.use heroku ! 'y' filenames 'requirements.txt' for filename in filenames os os PROJECT DIRECTORY filename 
def  poll for fd readable writable error timeout event mask 0if readable event mask | select P O L L I Nif writable event mask | select P O L L O U Tif error event mask | select P O L L E R Rpollable select pollable fd event mask if timeout event list pollable long timeout * 1000 else event list pollable return bool event list 
def generate jmx configs agent Config hostname checknames None from jmxfetch import JMX C H E C K Sif not checknames checknames JMX C H E C K Sagent Config hostname hostnamegenerated {}for check name service disco check config in  service disco configs agent Config .iteritems if check name in checknames and check name in JMX CHECKS log 'enerating J M Xconfigfor %s' % check name sd init config sd instances service disco check configcheck config {'init config sd init config 'instances' sd instances yaml config to yaml check config generated {}'.format check name 0 ] yamllog ' A M Lgenerated %s' yaml except Exception log 'nabletogenerate Y A M Lconfigfor check name return generated 
def geoserver pre delete instance sender **kwargs if getattr ogc server settings 'BACKEND WRITE ENABLED' True if not getattr instance 'service' None if instance cascading delete gs catalog instance 
def make Missing Custom Dataframe nrows ncols density 0.9 random state None c idx names True r idx names True c idx nlevels 1 r idx nlevels 1 data gen f None c ndupe l None r ndupe l None dtype None c idx type None r idx type None df make Custom Dataframe nrows ncols c idx names c idx names r idx names r idx names c idx nlevels c idx nlevels r idx nlevels r idx nlevels data gen f data gen f c ndupe l c ndupe l r ndupe l r ndupe l dtype dtype c idx type c idx type r idx type r idx type i j  create missing idx nrows ncols density random state df i j ] np df 
def make rng rng or seed None default seed None which method None constructor None if isinstance which method six types which method [which method rng or seed is not None and all hasattr rng or seed attr for attr in which method rng rng or seedelif rng or seed is not None rng constructor rng or seed elif default seed is not None rng constructor default seed else rng constructor 42 return rng 
def register babel app from flask babel import Babelbabel Babel app supported app 'BABEL SUPPORTED LOCALES' ['en' 'zh'] default app 'BABEL DEFAULT LOCALE' 'en' @babel.localeselectordef get locale return request languages match supported default 
def  manage Roles mo first Half mo 1 second Half mo 2 new Roles []roles second Half '/' for role in roles role role if not role continuerole I D analyze imdbid role if role I D is None role I D u role I D + u Roles u " imdbpyrole "%s">%s</div>' % role I D role return first Half + u new Roles + mo 3
def list option s return List Value Component s 
def make filter name op values datastore types Validate Property name values properties datastore types To Property Pb name values if isinstance properties list filters [roperty Filter op prop for prop in properties Composite Filter Composite Filter A N D filters else return Property Filter op properties 
def vertical flip image data output encoding PNG quality None correct orientation UNCHANGED ORIENTATION rpc None transparent substitution rgb None rpc vertical flip async image data output encoding output encoding quality quality correct orientation correct orientation rpc rpc transparent substitution rgb transparent substitution rgb return rpc result 
def  plot option logic plot options from call signature default plot options copy DEFAULT PLOT OPTIONS file options tools config file session options session session plot options plot options from call signature copy plot options from call signature for option set in [plot options from call signature session options file options utils world readable and sharing settings option set utils sharing and world readable option set if 'filename' in option set and 'fileopt' not in option set option set 'overwrite'user plot options {}user plot options default plot options user plot options file options user plot options session options user plot options plot options from call signature user plot options {k v for k v in user plot options if k in default plot options }return user plot options 
def  parse tdim tdim m tdim and TDIM R E tdim if m dims m 'dims' return tuple int d for d in dims ' ' [ -1 ]return tuple 
def make ip network port network ip address netaddr I P Address port ips address return netaddr I P Network ip address network 
def make Unicode text if isinstance text str text unicode text 'ISO-8859-1' elif not isinstance text unicode text unicode text text regex control code lambda regs controlchars regs 1 ] text text re '\\\\x0 [0-7] ? [^0-7]|$ ' '\\\\\\1' text return text 
def beacon config log 'twilio txt msgbeaconstarting ret []if not all [config['account sid config token config number return retoutput {}output['texts'] []client Twilio Rest Client config sid config token messages client to config number log 'ummessages {0}'.format len messages if len messages < 1 log 'wiliobeaconhasnotexts return retfor message in messages item {}item['id'] str message item str message item str message  item str message sent item []if int message media media client message .list if len media for pic in media item str pic output item message ret output return ret 
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
def softmax mat target None if not target target materr code  eigenmat softmax mat mat target mat if err code raise generate exception err code return target 
def dmp swap f i j u K if i < 0 or j < 0 or i > u or j > u raise Index Error '0< i %sexpected' % u elif i j return f F H dmp to dict f u {} for exp coeff in F H[ exp i + exp + exp i + 1 j + exp + exp j + 1 ] ] coeffreturn dmp from dict H u K
def ceil shift n b if not isinstance n int long or not isinstance b int long raise Type Error 'unsupportedoperandtype s %rand%r' % type n .  name   type b .  name   assert n > 0 and b > 0 mask 1 << b - 1 if n & mask return n >> b + 1 else return n >> b 
def yield address space start length None reverse False if not length length linux process info sizecont Truewhile space valid address start and cont try value read address space start length yield value except struct cont False yield None if reverse start - lengthelse start + length 
def  get col o2o parent subname subcls fk col name deferrable None initially None ondelete None onupdate None assert subcls Attributes name is not None '%rhasnotablename.' % subcls col args col kwargs sanitize args subcls Attributes column args  sp attrs to sqla constraints parent subcls col kwargs pk column get pk columns subcls pk key pk spyne type pk columnpk sqla type  get sqlalchemy type pk spyne type if fk col name is None fk col name subname + '_' + pk key assert fk col name ! subname 'hecolumnnamefortheforeignkeymustbedifferentfromthecolumnnamefortheobjectitself Foreign Key '%s.%s' % subcls Attributes name pk key use alter True name '%s %s fkey % subcls Attributes name fk col name deferrable deferrable initially initially ondelete ondelete onupdate onupdate return Column fk col name pk sqla type fk *col args **col kwargs 
def fix iteration tables cursor connection cursor ' R O P T A B L Etko iteration attributes cursor  CREATE ITERATION ATTRIBUTES cursor ' R O P T A B L Etko iteration result cursor  CREATE ITERATION RESULTS
def traverse tree course queue [course]while len queue > 0 node queue queue node children return True 
def retrieve cors header response key headers response headers for header name in headers if header name .strip key return headers name return None 
def  conf family 'ipv4' if   grains  ['os family 'ed Hat if family 'ipv6' return '/etc/sysconfig/ip6tables'else return '/etc/sysconfig/iptables'elif   grains  ['os family 'rch if family 'ipv6' return '/etc/iptables/ip6tables.rules'else return '/etc/iptables/iptables.rules'elif   grains  ['os family 'ebian if family 'ipv6' return '/etc/iptables/rules.v6'else return '/etc/iptables/rules.v4'elif   grains  ['os'] 'entoo if family 'ipv6' return '/var/lib/ip6tables/rules-save'else return '/var/lib/iptables/rules-save'elif   grains  ['os family 'SUSE' return 'u S Efirewall2 raise Salt Exception 'avingiptablestofileisnot + 'supportedon{0}.'.format   grains  ['os'] + 'leasefileanissuewith Salt Stack 
def addif br None iface None return  os dispatch 'addif' br iface 
def apply label node return node  class  .  name  
def test table deletion deleted set class Test Table table Table def   del   self deleted id self t Test Table {'a' [1 2 3]} the id id t assert t table is t del tgc assert the id in deleted 
def missing dependencies missing deps []for dependency in DEPENDENCIES if not dependency and not dependency missing deps dependency if missing deps return status deps missing deps linesep '<br>' else return ''
def submit jobs commands prefix qiime config load qiime config CLUSTER JOBS SCRIPT qiime config jobs fp not CLUSTER JOBS SCRIPT raise Application Not Found Error 'cluster jobs fpnotsetinconfigfile if not exists CLUSTER JOBS SCRIPT or which CLUSTER JOBS SCRIPT raise Application Not Found Error 'cluster jobs fpnotin P A T Horprovidedasfullpath outfilename join get qiime temp dir '%s commands % prefix fh open outfilename 'w' fh '\n'.join commands fh cmd '%s-ms%s%s' % CLUSTER JOBS SCRIPT outfilename prefix system cmd remove outfilename 
def lab2rgb lab illuminant 'D65' observer '2' return xyz2rgb lab2xyz lab illuminant observer 
def server list detailed profile None conn  auth profile return conn list detailed 
def bool from string subject if isinstance subject bool return subjectelif isinstance subject int return subject 1 if hasattr subject 'startswith' if subject .lower in 'true' 'on' '1' 'yes' 'y' return Truereturn False 
def get Lifted Output derivation geometry Output xml Element if derivation Type [ 1] 'm' return geometry Outputgeometry Output Vertexes matrix Connection Vertexes geometry Output translation Vector3 0.0 0.0 - euclidean Bottom Path geometry Output Vertexes euclidean Vector3 Path geometry Output Vertexes translation return geometry Output 
def hash rename filename hashvalue path name ext split filename filename newfilename u name u 0x' hashvalue ext return os path newfilename 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def setup proxy element config if not hasattr element u or not config u returnelement property u httpclient proxy config auth False element property u config u element property u config u 
def assign regions resource for i in range 0 randint 0 5 random index randint 0 Region .count - 1 region Region [random index region 
def freqs zpk z p k wor N None k np k if k > 1 raise Value Error 'kmustbeasinglescalargain' if wor N is None w findfreqs z p 200 kind 'zp' elif isinstance wor N int N wor Nw findfreqs z p N kind 'zp' else w wor Nw atleast 1d w s 1j * w num polyvalfromroots s z den polyvalfromroots s p h k * num / den return w h 
def test bti2fiff check usage mne bti2fiff 
def timeuntil value arg None from django import timesincefrom datetime import datetimeif not value return ''if arg return timesince arg value return timesince datetime value 
def replace In File filename old To New os filename filename + '.bak' f open filename + '.bak' d f f for k v in old To New d d k v f open filename + '.new' 'w' f d f os filename + '.new' filename os filename + '.bak'
def read headers rfile hdict None if hdict is None hdict {}while True line rfile if not line raise Value Error 'llegalendofheaders if line CRLF breakif not line CRLF raise Value Error ' T T Prequires C R L Fterminators if line in SPACE TAB v line else try k v line COLON 1 except Value Error raise Value Error 'llegalheaderline k k .title v v hname kif k in comma separated headers existing hdict hname if existing v ' '.join existing v hdict vreturn hdict 
def people type return s3 rest controller 
def captured stdout return captured output 'stdout'
@login required required 'flagit.can moderate def queue request content type None return render request 'flagit/queue.html' {'objects' Flagged Object }
def Check Installed Version name desired explicit Call Set Allowed Module name desired find version P A C K A G E S name 'django' global  DESIRED DJANGO VERSION DESIRED DJANGO VERSION 'v' + desired '.' '_' installed version find version try desired version distutils Loose Version desired except Attribute Error desired version Loose Version desired if not Equal Versions installed version desired version raise Unacceptable Version Error '%s%swasrequested but % name desired version installed version installed desired explicit 
def restrict permission def decorator fx def wrapper *args **kwargs User Manager .require permission extract context permission return fx *args **kwargs return wrapperreturn decorator 
def logsafe val if isinstance val six type return valelif isinstance val bytes return val 'utf-8' 'replace' elif isinstance val subprocess Called Process Error try return six type val except Unicode Decode Error return str val .decode 'utf-8' 'replace' else return val 
def deb packages attrs None where None if   grains  ['os family 'ebian return  osquery cmd table 'deb packages attrs attrs where where return {'result' False 'comment' 'nlyavailableon Debianbasedsystems 
def descr From Doc obj if obj  doc   is None or obj  doc  .isspace return Nonelines [x.strip for x in obj  doc  .split '\n' if x and not x ]return ''.join lines 
def find gwt dir site gwt os  AUTOTEST DIR 'site-packages' 'gwt' if os site gwt return site gwtif not os  DEFAULT GWT DIR logging 'nabletofind G W T Youcanuseutils externals sys 1 return  DEFAULT GWT DIR
def determine format request serializer default format u format request G E T u if format if format in serializer return serializer mime for format format if u in request G E T and u in serializer return serializer mime for format u accept request M E T A u H T T P ACCEPT' u if accept ! u try best format mimeparse match serializer formats reversed accept except Value Error raise Bad Request u Invalid Acceptheader if best format return best formatreturn default format 
def get pymodule path modulename *joins if not u in joins joins [scrub part for part in joins os os get module scrub modulename .  file   *joins
def iter first sequence it iter sequence try if PY3 return next it else return it except Stop Iteration raise Value Error 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def run param registry xml parent data pdef base param registry xml parent data False 'un Parameter Definition X M L Sub Element pdef 'ame .text data 
def is docstring physical line previous logical line physical line start max [line.find i for i in START DOCSTRING TRIPLE] end max [ line -4 -1 ] i for i in END DOCSTRING TRIPLE] if previous logical 'def' or previous logical 'class' if start is 0 return Trueelse return end and start in -1 len line - 4
def  generate cache key request method headerlist key prefix ctx hashlib for header in headerlist value request M E T A header None if value is not None ctx value path hashlib iri to uri request full path cache key 'views.decorators.cache.cache page % key prefix method path ctx return  i18n cache key suffix request cache key 
def get location vm  None return   opts  .get 'location' config cloud config value 'location' vm  or get configured provider   opts   default DEFAULT LOCATION search global False 
def test continuous regression with overlap signal np 100000 times [1000 2500 3000 5000 5250 7000 7250 8000]events np len times 3 int events 2] 1events[ 0] timessignal 0]] 1.0effect hann 101 signal np signal effect [ len signal ]raw Raw Array signal ] mne info 1 100 'eeg' assert allclose effect linear regression raw raw events {1 1} tmin 0 [1].data.flatten
def check forhash filename if isinstance filename list filename filename path name os filename if re u  0x[a-z0-9]{32} ' name hashvalue re u  0x[a-z0-9]{32} ' name return True hashvalue else return False None 
def unregister models engine models Image Image Property for model in models model all engine 
def save to store content name mime type location content location Transcript location location name content Static Content content location name mime type content contentstore .save content return content location 
def  uninstall flocker ubuntu1604 return sequence  disable flocker systemd + [ uninstall flocker ubuntu ]
def test special bindings keyhint key config stub key config stub bindings for 'normal' Ordered Dict [ '<a' 'cmd-<a' '<b' 'cmd-<b' '<ctrl-a>' 'cmd-ctrla' ] keyhint keyhint 'normal' '<' assert keyhint expected text '&lt;' 'yellow' 'a' 'cmd-&lt;a' '&lt;' 'yellow' 'b' 'cmd-&lt;b'
def annotate webext incompatibilities results file  addon version string channel from .utils import find previous versionprevious version find previous version addon file  version string channel if not previous version return resultsis webextension results 'is webextension False was webextension previous version and previous version webextension if is webextension and not was webextension results upgrade to webextension Truemsg _ 'eallowandencourageanupgradebutyoucannotreversethisprocess Onceyourusershavethe Web Extensioninstalled theywillnotbeabletoinstallalegacyadd messages results 0 {'tier' 1 'type' 'warning' 'id' ['validation' 'messages' 'webext upgrade 'message' msg 'description' [] 'compatibility type None results + 1elif was webextension and not is webextension msg _ 'oucannotupdatea Web Extensionsadd Youruserswouldnotbeabletouseyournewversionbecause Firefoxdoesnotsupportthistypeofupdate messages results 0 {'tier' 1 'type' 'error' if channel amo R E L E A S E CHANNEL LISTED else 'warning' 'id' ['validation' 'messages' 'webext downgrade 'message' msg 'description' [] 'compatibility type None results + 1return results 
def test evoked arithmetic raw events picks  get data epochs1 Epochs raw events 4] event id tmin tmax picks picks evoked1 epochs1 epochs2 Epochs raw events 8] event id tmin tmax picks picks evoked2 epochs2 epochs Epochs raw events 8] event id tmin tmax picks picks evoked epochs evoked sum combine evoked [evoked1 evoked2 weights 'nave' assert array equal evoked evoked sum assert array equal evoked evoked sum assert equal evoked sum evoked1 + evoked2 evoked diff combine evoked [evoked1 evoked1 weights [1 -1 ] assert array equal np like evoked evoked diff 
def  get proc create time proc try return proc time if PSUTIL2 else proc time except psutil No Such Process psutil Access Denied return None 
def get disk bus for device type virt type image meta None device type 'disk' if image meta key 'hw ' + device type + ' bus disk bus image meta 'properties' {} .get key if disk bus is not None if not is disk bus valid for virt virt type disk bus raise exception Unsupported Hardware model disk bus virt virt type return disk busif virt type 'uml' if device type 'disk' return 'uml'elif virt type 'lxc' return 'lxc'elif virt type 'xen' if device type 'cdrom' return 'ide'elif device type 'disk' return 'xen'elif virt type in 'qemu' 'kvm' if device type 'cdrom' return 'ide'elif device type 'disk' return 'virtio'return None 
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
def get sid string principal try return win32security Convert Sid To String Sid principal except Type Error principal get sid principal try return win32security Convert Sid To String Sid principal except pywintypes raise Command Execution Error 'nvalidprincipal principal 
@auth decoratordef token authenticated self if self current user token is None raise web H T T P Error 403
def add prerequisite course key prereq content key milestone milestones api milestone {'name' _ 'atingmilestonefor key .format usage key unicode prereq content key 'namespace' '{usage key usage key prereq content key qualifier GATING NAMESPACE QUALIFIER 'description' _ 'ystemdefinedmilestone } propagate False milestones api course content milestone course key prereq content key 'fulfills' milestone 
def lag select data max lags 5 ic None pass 
@register.tag 'cache' def do cache parser token nodelist parser 'endcache' parser first token tokens token if len tokens < 3 raise Template Syntax Error u % tokens return Cache Node nodelist tokens tokens tokens ]
def scroll page up event w  current window for event event b event bufferif w and w info line index max 0 min w info visible line b position row - 1 b position b row col to index line index 0 b position + b start of line position after whitespace True w scroll 0
def get function object obj attr getattr obj '  numba  ' None if attr return getattr obj attr return obj 
def is staging srv return srv constants S T A G I N G URI or 'staging' in srv 
def is equal var val try v get scalar constant value var return v val except Not Scalar Constant Error return False 
def draw if interactive pass 
def unparse input dict output None encoding 'utf-8' full document True short empty elements False **kwargs if full document and len input dict ! 1 raise Value Error 'ocumentmusthaveexactlyoneroot must return Falseif output is None output String I O must return Trueif short empty elements content handler X M L Generator output encoding True else content handler X M L Generator output encoding if full document content handler Document for key value in input dict  emit key value content handler full document full document **kwargs if full document content handler Document if must return value output try value value encoding except Attribute Error passreturn value 
def H T T P Info From Exception value if isinstance value web H T T P Error return value code value message elif isinstance value Invalid Request Error return 400 value elif isinstance value Http Forbidden Error return 403 value elif isinstance value Not Found Error return 404 value elif isinstance value Service Unavailable Error return 503 value else return 500 str value 
def  make entity from pb annotations return [ntity Annotation pb annotation for annotation in annotations 
def title from columns cols if cols is not None cols title copy cols if not isinstance cols title list cols title [cols title str ' '.join cols title .title .title else return None 
def get database string fname f open fname dtb f f return dtb 
def get github releases project url u GITHUB API project response requests url response for status versions get versions response return sorted versions reverse True key operator u 
def freecpu return node info ['free cpus 
def unexpected fail on npm install arg if 'npminstall' in arg raise Build Failure 'ubprocessreturncode 50' else return 
def chars to ranges s char list list s char list i 0n len char list result []while i < n code1 ord char list code2 code1 + 1 i + 1while i < n and code2 > ord char list code2 + 1i + 1result.append code1 result code2 return result 
def formstyle divs form fields table FIELDSET for id label controls help in fields  help DIV help  class 'w2p fc  controls DIV controls  class 'w2p fw  label DIV label  class 'w2p fl table DIV  label  controls  help  id id return table 
@require role 'admin' def idc edit request header title path1 path2 u I D C u u I D C idc id request G E T 'id' '' idc get object IDC id idc id if request 'POST' idc form Idc Form request P O S T instance idc if idc form valid idc form return Http Response Redirect reverse 'idc list else idc form Idc Form instance idc return my render 'jasset/idc edit locals request 
def make Splitter lstrip None sep '|' comments True orig Notes Sep ' ' new Notes Sep ' ' strip None def splitter x if not x return xx x if not x return xif lstrip is not None x x lstrip .lstrip lx x sep lx ] filter None [j.strip for j in lx if comments lx ] [j.replace orig Notes Sep new Notes Sep 1 for j in lx strip lx ] [j.strip strip for j in lx lxreturn splitter 
@lower getattr generic types Base Named Tuple def namedtuple getattr context builder typ value attr index typ attr res builder value value index return impl ret borrowed context builder typ res 
def  wait until complete operation max attempts 5 retry Retry Result  operation complete max tries max attempts return retry operation 
def md5 Session Key params password keys 'username' 'realm' 'nonce' 'cnonce' params copy {}for key in keys params copy params copy MD5 S E S Sreturn  A1 params copy password 
def  validator validator name validator  name  doc validator  doc  def fget self return self tls fset self val self tls validator self val def fdel self self tls current name None return property fget fset fdel doc 
def  get globals from   main   import   dict   as namespaceshell namespace '  ipythonshell  ' if shell is not None and hasattr shell 'user ns return shell nselse return namespacereturn namespace 
def mut Shrink individual if len individual < 3 or individual < 1 return individual iprims []for i node in enumerate individual ] 1 if isinstance node Primitive and node in node iprims i node if len iprims ! 0 index prim random iprims arg idx random [i for i type  in enumerate prim if type  prim ] rindex index + 1 for _ in range arg idx + 1 rslice individual Subtree rindex subtree individual + len subtree slice  individual Subtree index individual ] subtreereturn individual 
def text  s encoding 'latin-1' errors 'strict' if isinstance s binary type return s encoding errors return s 
def gf compose mod g h f p K if not g return []comp [g[0]]for a in g ] comp gf mul comp h p K comp gf add ground comp a p K comp gf rem comp f p K return comp 
def make List Compatible fn def newfn *args 'eneratedfunction Closure len args 1 return fn *args args ''.join map str args return fn args setattr newfn '  name  ' fn  name   setattr newfn '  doc  ' fn  doc   return newfn 
def parse kwarg string  try return KWARG R E G E X string  .groups except Attribute Error return None None 
def short group names groups groups groups ' ' short group list []if helpers up anidb connection for group Name in groups try group sickbeard A D B A C O N N E C T I O N gname group Name except Ani D B Command Timeout Error logger u Timeoutwhileloadinggroupfrom Ani D B Tryingnextgroup logger D E B U G except Exception logger u Failedwhileloadinggroupfrom Ani D B Tryingnextgroup logger D E B U G else for line in group if line short group list line elif group Name not in short group list short group list group Name else short group list groupsreturn short group list 
def delete comment request unit **kwargs  unit by Noneunit on Nonelanguage request project form class unit comment form factory language form comment form class {} instance unit request request if form valid form return Json Response {} return Json Response Bad Request {'msg' _ 'ailedtoremovecomment }
def regex uri e regexes tag default None path e P A T H I N F O e 'HTTP HOST' e 'SERVER NAME' 'localhost' .lower i host ' ' if i > 0 host host i '%s %s //%s %s%s' % e 'REMOTE ADDR' 'localhost' e 'wsgi.url scheme 'http' .lower host e 'REQUEST METHOD' 'get' .lower path for regex value custom env in regexes if regex key e custom env rewritten regex value key log rewrite '%s [%s][%s]->%s' % tag key value rewritten return rewrittenlog rewrite '%s [%s]->%s notrewritten ' % tag key default return default 
def concatenate paths paths vertices []codes []for p in paths p make path regular p vertices p codes p  path Path np vertices np codes return  path 
def test prefer deep dsk {'a' 1 'b' f 'a' 'c' f 'b' 'x' 1 'y' f 'x' }o order dsk assert o {'c' 0 'b' 1 'a' 2 'y' 3 'x' 4}
def validate key key shape rows cols shapeif not isinstance key tuple if rows 1 key slice 0 1 None key elif cols 1 key key slice 0 1 None else raise Index Error 'nvalidindex key format slice slc dim for slc dim in zip key shape return tuple key 
def test end pos error correction s u 'defx \n.' m Parser With Recovery load grammar s .modulefunc m func 'funcdef' assert func pos 3 0 assert m pos 2 2
def int from geom func zero False func [GEOM P T R c intif zero func check zeroelse func check minus onereturn func 
def defoveate channel img rings dense input start idx ring w numpy rings inner h img - 2 * ring w inner w img - 2 * ring w end idx start idx + inner h * inner w inner img dense input start idx end idx -1 inner h inner w img ring w ring w + inner h ring w ring w + inner w ] inner imgidx 0start idx end idxfor rd in rings start idx restore ring img idx rd dense input start idx idx + rdreturn start idx 
def  get constant name field re re '  {}  \\s+ \\s+ .* '.format re name path os BASEDIR 'qutebrowser' '  init  .py' line field re read file path .group 1 value ast eval line return value 
@webob.dec.wsgify@util.check accept 'application/json' def get resource provider req uuid util path item req 'uuid' context req provider objects Resource Provider by uuid context uuid req encodeutils utf8 jsonutils  serialize provider req resource provider req type 'application/json'return req 
def get request location request context if context ! '' return context Noneif getattr request 'via cdn False g event 'geoip.cdn request cdn geoinfo g provider client location request if cdn geoinfo context cdn geoinfoelif getattr request 'ip' None g event 'geoip.non cdn request timer g timer 'providers.geoip.location by ips timer location location by ips request if location context location 'country code None timer return context 
def cache key prefix request cache key u % settings C A C H E MIDDLEWARE KEY PREFIX current site id device from request request or u return  i18n cache key suffix request cache key 
def ttost paired x1 x2 low upp transform None weights None if transform if transform is np x1 transform x1 x2 transform x2 else xx transform np x1 x2 0 x1 xx len x1 ]x2 xx x1 ]low transform low upp transform upp dd Descr Stats W x1 - x2 weights weights ddof 0 t1 pv1 df1 dd mean low alternative 'larger' t2 pv2 df2 dd mean upp alternative 'smaller' return np pv1 pv2 t1 pv1 df1 t2 pv2 df2 
def s3 addrow form label widget comment formstyle row id position -1 if callable formstyle row formstyle row id label widget comment if isinstance row tuple list for subrow in row form position subrow if position > 0 position + 1else form position row else addrow form label widget comment formstyle row id position position return 
def sync output saltenv 'base' return salt   opts   'output' saltenv saltenv [0]
def get Random Integer N randfunc None if randfunc is None  import Random randfunc Random . randfunc N >> 3 odd bits N % 8 if odd bits ! 0 char ord randfunc 1 >> 8 - odd bits S bchr char + S value bytes to long S return value 
@bdd.given bdd 'set def set setting given quteproc httpbin sect opt value if value '<empty>' value ''value value ' port ' str httpbin quteproc setting sect opt value 
def is nvcc available def set version p out output subprocess Popen [nvcc path '--version'] ver line decode p out .strip .split '\n' [ -1 ] build version ver line ' ' [1].strip .split assert build 'release' global nvcc versionnvcc version versiontry set version return Trueexcept Exception p os config 'bin' 'nvcc' if os p global nvcc pathnvcc path ptry set version except Exception return Falsereturn Trueelse return False 
def collect driver info driver info {'name' driver name 'version' driver 'fqn' driver fqn 'description' driver 'ci wiki name driver wiki name info 
def O Auth Token From Http Body http body token oauth O Auth Token string http body oauth token O Auth Token key token secret token return oauth token 
def  safe getattr obj attr default None try return getattr obj attr default except Exception return default 
def make Basic Response Cycles cycles 10 n Correct 4 n Incorrect 4 length None responses Correct Per Cycle np n Correct dtype np responses Incorrect Per Cycle np n Incorrect dtype np responses np np [ responses Correct Per Cycle responses Incorrect Per Cycle ] cycles .tolist if length is not None return responses length return responses 
def visitors start date end date visitors {}request  build request date start datewhile date < end date date str str date visitors date ] int request ids 'ga ' + profile id start date date str end date date str metrics 'ga visitors .execute ['rows'][0][0] date + timedelta days 1 return visitors 
def sample role name rawtext text lineno inliner options {} content [] pass 
def get lti consumer return Lti Consumer consumer name 'onsumer Name consumer key 'onsumer Key consumer secret 'onsumer Secret 
def  ls emr step stderr logs fs log dir stream step id None matches  ls logs fs log dir stream  match emr step stderr path step id step id return sorted matches key  match sort key reverse True 
def Get Single List Item list default None if list assert len list 1 listreturn list default 
def get Documentation Path sub Name '' return get Joined Path get Fabmetheus Path 'documentation' sub Name 
def test download exit status code when no requirements script result script 'download' expect error True assert 'oumustgiveatleastonerequirementtodownload in result assert result ERROR
def create option values for optionable optionable type **options if not issubclass optionable type Optionable raise Type Error u Thegiven type Optionable {}'.format optionable type option values {}registration function  options registration function option values optionable type options registration function option values **options return create option values option values 
def probitloglike params endog exog q 2 * endog - 1 X exogreturn np stats q * np X params 
def first ip network atoi lambda addr struct '!I' socket aton addr [0] itoa lambda addr socket ntoa struct '!I' addr address netmask network '/' netmask i 4294967295 << 32 - atoi netmask & 4294967295 return itoa atoi address & netmask i + 1
@opt.register specialize 'stabilize' 'fast compile @gof.local optimizer [lemwise def local logsoftmax node if isinstance node tensor Elemwise and isinstance node op scalar Log and len node 1 and node is not None and isinstance node Softmax in Vars node op Log Softmax ret new op in Vars ret eq approx values eq approx remove infcopy stack trace [node.inputs[0] node ret return [ret]
def st Chroma Features Init nfft fs freqs numpy [ f + 1 * fs / 2 * nfft for f in range nfft ] Cp 2hroma numpy 12.0 * numpy freqs / Cp .astype int n Freqs Per Chroma numpy n Chroma u Chroma numpy n Chroma for u in u Chroma idx numpy n Chroma u n Freqs Per Chroma idx n Chroma n Freqs Per Chroma 
def  set nxm headers nxm headers def  set nxm headers dec self self headers nxm headersreturn selfreturn  set nxm headers dec 
def send summary for d in frappe all u Daily Work Summary dict status u Open daily work summary frappe doc u Daily Work Summary d daily work summary summary 
def get Vertex Given Line line split Line line return Vector3 get Float split Line get Float split Line get Float split Line 
def splantider tck n 1 if n < 0 return splder tck - n t c k tcksh slice None + None * len c ] for j in range n dt t k + 1 ] - t - k - 1 ] dt dt np c - k - 1 ] * dt axis 0 / k + 1 c np [ np 1 + c ] c [c[ -1 ]] * k + 2 ]t np [ t t t -1 ] ]k + 1return t c k 
def load random chromosome chr name cur chromosome Basic Chromosome Chromosome chr name num segments random num possible segments for seg in range num segments if seg 0 cur segment Basic Chromosome Telomere Segment elif seg num segments - 1 cur segment Basic Chromosome Telomere Segment 1 else cur segment Basic Chromosome Chromosome Segment color chance random if color chance < color prob fill color random color choices cur segment color fill colorid chance random if id chance < id prob id get random id cur segment idcur chromosome cur segment return cur chromosome num segments 
def  generate python path pkg rospack if pkg in  bootstrapped return []m rospack manifest pkg if m catkin  bootstrapped pkg return []packages get depends pkg rospack packages pkg paths []try for p in packages m rospack manifest p d rospack path p  append package paths m paths d  bootstrapped p except if pkg in  bootstrapped  bootstrapped pkg raisereturn paths 
def is user capable user api name user urllib user sys 'checkingpermissionsforuser' + user + 'onapi' + api name + '\n' secret file open '/etc/appscale/secret.key' 'r' secret secret file secret secret -1 ]secret file uaserver file open '/etc/appscale/hypersoap' 'r' uaserver uaserver file uaserver file server S O A Ppy S O A P Proxy 'https //' + uaserver + ' 4343' capabilities server capabilities user secret if not isinstance capabilities str return Falsecapabilities capabilities ' ' sys 'user' + user + 'hasthefollowingcapabilities ' + str capabilities + '\n' if api name in capabilities return Trueelse return False 
def register linter linter checker Exceptions Checker linter 
def get all objects gc gcl gc objects olist {} getr gcl olist del olist olist ]del olist gcl ]del olist sys getframe ]return olist 
def collect data files package include py files False subdir None if not isinstance package string types raise Value Error pkg base pkg dir get package paths package if subdir pkg dir os pkg dir subdir datas []for dirpath dirnames files in os pkg dir for f in files extension os f [1]if include py files or extension not in PY IGNORE EXTENSIONS source os dirpath f dest remove prefix dirpath os pkg base + os datas source dest return datas 
def add metadata type ir buf []for line in ir if re metadata def line if None is re metadata correct usage line line line '!{' 'metadata!{' line line '!"' 'metadata!"' def sub metadata m return 'metadata{0}'.format m 0 line re metadata ref sub metadata line line line 'metadata' buf line return '\n'.join buf 
def is Line Intersecting Loops loops point Begin point End normalized Segment point End - point Begin normalized Segment Length abs normalized Segment if normalized Segment Length > 0.0 normalized Segment / normalized Segment Lengthsegment Y Mirror complex normalized Segment - normalized Segment point Begin Rotated segment Y Mirror * point Begin point End Rotated segment Y Mirror * point End if is Loop List Intersecting Inside X Segment loops point Begin Rotated point End Rotated segment Y Mirror point Begin Rotated return Truereturn False 
def sequences add start id sequences start id 0 remove last False sequences out [[] for _ in range len sequences ]for i in range len sequences if remove last sequences out [start id + sequences -1 ] else sequences out [start id + sequences return sequences out 
def seteuid uid uid parse uid uid if uid ! os os uid 
def dylib info filename is dylib DYLIB R E filename if not is dylib return Nonereturn is dylib 
def check paths paths for path in paths if is binary path continuefor line in open path 'r' match RE O B J line msg 'cookiecuttervariablenotreplacedin{}'assert match is None msg path 
def  compute mi x y x discrete y discrete n neighbors 3 if x discrete and y discrete return mutual info score x y elif x discrete and not y discrete return  compute mi cd y x n neighbors elif not x discrete and y discrete return  compute mi cd x y n neighbors else return  compute mi cc x y n neighbors 
def po due followups query FS 'followup date < datetime .date & FS 'completed' ! True resource current 'po household followup filter query return resource 
def vsepr build correct answer geometry atoms return {'geometry' geometry 'atoms' atoms 
def  get enabled tax rules taxing context tax class tax rules Tax Rule match postal code taxing context code .filter enabled True tax classes tax class if taxing context tax group tax rules tax rules Q customer tax groups taxing context tax group | Q customer tax groups None tax rules tax rules by '-override group 'priority' return tax rules 
def sixteen data n 0for b in serial data yield '{ 0 ord b b 'ascii' if '' < b < '\x7f' else '.' n + 1if n 8 yield '' '' elif n > 16 yield None None n 0if n > 0 while n < 16 n + 1if n 8 yield '' '' yield '' '' yield None None 
def texts i e return pq e .text
def inv item quantity try item id request raise HTTP 400 current message False 400 'ovalueprovided table s3db inv itemptable db item packquery table item id & table pack id ptable record db query .select table ptable limitby 0 1 .first d {'iquantity' record inv item 'pquantity' record item pack json d response Content Type 'application/json'return output 
def get job count by state request username res {'completed' 0 'running' 0 'failed' 0 'killed' 0 'all' 0}jobcounts request job count by user username res jobcounts Succeededres jobcounts Prep + jobcounts Running res jobcounts Failedres jobcounts Killedres res + res + res + res return res 
def html4annotation htmlpage baseurl None proxy resources None htmlpage add tagids htmlpage cleaned html descriptify htmlpage baseurl proxy proxy resources return cleaned html 
def test prompt should ask and rm repo dir mocker tmpdir mock read user mocker 'cookiecutter.vcs.read user yes no return value True autospec True repo dir tmpdir 'repo' vcs and delete repo str repo dir assert mock read user not repo dir 
def add close action widget return add action widget N  u Close widget hotkeys C L O S E hotkeys Q U I T 
def  du real path total size 0if os real path for dirpath dirnames filenames in os real path for filename in filenames total size + os os dirpath filename else total size + os real path return total size 
@click.command @click.option 'console' '--ipython' default True flag value 'ipython' help 'tartwithipythonconsole @click.option 'console' '--ptpython' flag value 'ptpython' help 'tartwithptpythonconsole @click.option 'console' '--bpython' flag value 'bpython' help 'tartwithbpythonconsole @click.option 'console' '--python' flag value 'python' help 'tartwithpythonconsole def shell console context {'app' app 'db' db create shell console extra vars context 
def simple parse to segments formatted text if 'message parser in dir hangups segments hangups Chat Message Segment str formatted text else segments kludgy html parser parse to segments formatted text return segments 
def setup request bound data config def attach bound data request parent getattr request 'parent' None return parent data if parent else {} config request method attach bound data name 'bound data reify True 
@bp.route '/<urlname>' def view urlname node Node by urlname urlname .first or 404 page force int request 'page' 1 0 if not page return abort 404 paginator Topic by node id node .order by Topic .paginate page paginator fill topics paginator status Noneif g status Node Status by account id g node id node .first return render template 'node/view.html' node node paginator paginator status status 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def var label var precision 3 if var is not None return var isinstance var gof Constant h np var is const Falseif h 0 is const Trueh np [h] dstr np h precision precision if '\n' in dstr dstr dstr dstr '\n' ]if is const dstr dstr '[' '' .replace ']' '' return dstrelse return type to str var 
def validate required iff **kwargs def  validator form field all conditions met Truefor key value in kwargs if getattr form key .data ! value all conditions met Falseif all conditions met if field is None or isinstance field str unicode and not field or isinstance field File Storage and not field raise validators Validation Error 'hisfieldisrequired else field ] []raise validators Stop Validation return  validator 
def import no virt driver import deps physical line filename thisdriver  get virt name virt file re filename thatdriver  get virt name virt import re physical line if thatdriver is not None and thisdriver is not None and thisdriver ! thatdriver return 0 'N311 importingcodefromothervirtdriversforbidden 
def  convert to array of opt val optvals array of optv Data Object array of optv Option Value optvalsreturn array of optv 
def setup user info if os ! 0 returnglobal g user uid g user gid g user uid g user gid desktop utils uid gid SETUID USER SETGID GROUP
def  setup styles conditions style dict style default tags set [tag for cond in conditions for tag in cond '/' ] msg "an Makesureyouhaveprovidedkeysintheformatof andthatthesecorrespondto e conditionslike Visual Right andstyleslike dict Visual 'red' 'heoffendingtagwas key in style dict for tag in key '/' if tag not in tags raise Value Error msg style tag condition warning 'ondition + style style warning 'singthedefaultof default for condition in conditions if condition not in style dict if '/' not in condition warn condition warning condition + style warning style dict defaultfor style  in style dict if style  in condition '/' style dict style dict ]breakreturn style dict 
def dijkstra predecessor and distance G source cutoff None weight 'weight' weight  weight function G weight pred {source []}return pred  dijkstra G source weight pred pred cutoff cutoff 
def atleast 2d *arys res []for a in arys if not isinstance a cupy raise Type Error 'nlycupyarrayscanbeatleast 2d' if a 0 a a 1 1 elif a 1 a a None ]res.append a if len res 1 res res res 
def last month day tm year month tm 2]day  D A Y S day 28 and year % 4 0 day 29return day 
def  reduce function func globs if func  closure   cells [cell.cell contents for cell in func  closure  ]else cells Nonereturn  reduce code func  code   globs func  name   cells 
def unpickle String O val sek x  c String I O x val x sek return x 
def is full slice obj l return isinstance obj slice and obj 0 and obj l and obj is None 
def langnames to langcodes names iso639  load iso639 translate  ans {}names set names for k v in iso639 3t'].iteritems tv translate v if tv in names names tv ans kif not names breakfor x in names ans Nonereturn ans 
def spherical yn n z derivative False if derivative return  spherical yn d n z else return  spherical yn n z 
def current year and week  update week number return  cur year  cur week 
def  chk asarray a axis if axis is None a ravel a outaxis 0else a asarray a outaxis axisreturn a outaxis 
def test large angle representation a Angle 350 u + Angle 350 u a string a string u repr a repr a u str a str a u 
def Gamma name k theta return rv name Gamma Distribution k theta 
def make subprocess cmdline stdout False stderr False stdin False universal newlines False cmdline cmdline 'ascii' logging "unningcmd % cmdline kwargs {}kwargs['stdout'] stdout and subprocess P I P E or None kwargs stderr and subprocess P I P E or None kwargs stdin and subprocess P I P E or None kwargs newlines universal newlinesargs shlex cmdline logging "unningargs % args proc subprocess Popen args **kwargs return proc 
def add Stream Handler add Handler logging Stream Handler stream sys 
def rfft inp norm None s inp ]cond norm  unitary norm scaling 1if cond norm 'ortho' scaling T s .astype inp return rfft op inp s / scaling 
def use Test vm prompt Prompt old vm old stdout log 'emporarilydisablingloggingtostdout vm Nonelog 'witchingtointeractiveuse vm if old stdout log 'estoringloggingtostdout vm stdout 
def mask between time dts start end include start True include end True time micros dts get time micros start micros  time to micros start end micros  time to micros end left op right op join op  opmap bool include start bool include end start micros < end micros ]return join op left op start micros time micros right op time micros end micros 
def  json plays drive data plays []seen ids set seen desc set for playid in map str sorted map int data p data p p p p if playid in seen ids or desc in seen desc continueseen ids playid seen desc desc plays Play drive playid data return plays 
def get course updates location provided id user id try course updates modulestore .get item location except Item Not Found Error course updates modulestore .create item user id location key location type location id course update items get course update items course updates  get index provided id return  get visible update course update items 
def served by perl url r requests url allow redirects False status r code 302 perl 'x-perl-redirect' in r and r 'rue return all [status perl 
def b64c b return string b B64C TRANSLATE B64C STRIP
def conjuncts expr return And args expr 
def create submission conf transform valid transform test None features None if transform test is None transform test transform validkwargs subdict conf ['dataset' 'normalize' 'normalize on the fly 'sparse'] kwargs randomize valid False randomize test False valid set test set load data kwargs [1 3]if not conf 'sparse' False valid set valid set value borrow True test set test set value borrow True if features is not None valid set valid set features set test set features repr transform valid valid set test repr transform test test set save submission conf valid repr test repr 
def get azimuth value label  check is integral 'azimuth' label if label -1 return Noneelse if label % 2 ! 0 or label < 0 or label > 34 raise Value Error 'xpectedazimuthtobeanevennumberbetween0and or butgot % str label return label * 10
def ajax editable boolean attr short description def  fn self item return ajax editable boolean cell item attr  fn description short description fn boolean field attrreturn  fn 
def get minions log 'sqlite3returner<get minions conn  get conn ret None cur conn sql ' E L E C T D I S T I N C Tid F R O Msalt returns sql data cur ret []for minion in data ret minion  close conn conn return ret 
def daemonize for module in sys if module 'gevent' raise Value Error 'annotdaemonizeifgeventisloaded if hasattr os 'fork' child pid os else raise Value Error 'aemonizingisnotavailableonthisplatform if child pid ! 0 os exit 0 os subchild os if subchild os exit 0 maxfd get maxfd closerange 0 maxfd os REDIRECT TO os O RDWR os 0 1 os 0 2
def show check request name try check C H E C K S Key Error raise Http404 'ocheckmatchesthegivenquery ignore 'ignored' in request G E T url params {}if ignore url params 'true'checks acl checks request .filter check name ignore ignore if 'language' in request G E T checks checks language  code request G E T url params request G E T 'project' in request G E T return redirect param 'show check project encode optional url params project request G E T name name checks checks 'project  slug .annotate count Count 'id' return render request 'check.html' {'checks' checks 'title' check 'check' check 'url params encode optional url params }
def test batch normalized mlp mean only propagated at alloc mlp Batch Normalized M L P [anh Tanh ] [5 7 9] mean only True assert mlp onlyassert not any act only for act in mlp mlp assert all act only for act in mlp 
def gf pow mod f n g p K if not n return [ n 1 return gf rem f g p K elif n 2 return gf rem gf sqr f p K g p K h [ True if n & 1 h gf mul h f p K h gf rem h g p K n - 1n >> 1if not n breakf gf sqr f p K f gf rem f g p K return h 
def run tests in emulator package env vars PACKAGE I N F O command get start command package proc start subprocess Popen start command stdout subprocess P I P E stderr subprocess P I P E try wait ready package proc start env init command get env init command package proc env subprocess Popen env init command stdout subprocess P I P E stderr subprocess P I P E env status proc env if env status ! 0 raise Runtime Error env status proc env env lines proc env .strip .split '\n' for env var in env vars line prefix 'export' + env var + ' ' value [line.split line prefix 1 [1] for line in env lines if line line prefix ]os.environ[env var valuerun module tests package ignore requirements True finally cleanup proc start 
def filter tool context tool return False 
@contextfilterdef number format context value value str value negative Falseaddzero Noneif value '-' value value ]negative Trueif '.' in value point value '.' if point len value - 2 addzero Trueelse point len value while point < len value - 3 if value len value - 1 ] '0' value value len value - 1 ]else breakwhile point > 3 value value point - 3 ] + ' ' + value point - 3 ] point value ' ' if addzero value + '0'if negative value '-' + value return value 
def timedelta to integral minutes delta return timedelta to integral seconds delta // 60
def test odd value return value % 2 1
def cut threshold labels rag thresh in place True if not in place rag rag to remove [ x y for x y d in rag iter data True if d > thresh ]rag.remove edges from to remove comps nx components rag map array np labels + 1 dtype labels for i nodes in enumerate comps for node in nodes for label in rag map array ireturn map array 
def flavor destroy context flavor id return I M P L destroy context flavor id 
def parse owner mappings type options fatal opt name '--map-' + type value rx '^ [^ ]+ [^ ]* $'if type in 'uid' 'gid' value rx '^ -?[0-9]+ -?[0-9]+ $'owner map {}for flag in options option parameter flagif option ! opt name continuematch re value rx parameter if not match raise fatal "couldn'tparse%sas%smapping" % parameter type old id new id match if type in 'uid' 'gid' old id int old id new id int new id owner map id new idreturn owner map 
def get total project memberships project return project 
def indexable *iterables result []for X in iterables if sp X result X elif hasattr X '  getitem  ' or hasattr X 'iloc' result X elif X is None result X else result np X check consistent length *result return result 
def get Tricomplex Times Column first Tricomplex other Column dot Product X first Tricomplex * other Column + first Tricomplex * other Column dot Product Y first Tricomplex * other Column + first Tricomplex * other Column return complex dot Product X dot Product Y 
def file upload echo request r dict [ k f for k f in request F I L E S ] return Http Response json r 
def urlquote plus url safe u return force text quote plus force str url force str safe 
def migrate cohort settings course cohort settings created Course Cohorts Settings or create course id course defaults {'is cohorted course cohorted 'cohorted discussions list course discussions 'always cohort inline discussions course cohort inline discussions if created manual cohorts Course User Group course id course group type Course User Group C O H O R T .exclude name  in course cohort groups for cohort in manual cohorts Course Cohort course user group cohort for group name in course cohort groups Course Cohort cohort name group name course id course assignment type Course Cohort R A N D O M return cohort settings 
def get account created name ret  get account policy data value name 'ime unix timestamp salt utils return ret date text  convert to datetime unix timestamp return date text 
def restore asset from trashcan location trash contentstore 'trashcan' store contentstore loc Static Content location from path location content trash loc store content if content location is not None try thumbnail content trash content location store thumbnail content except Exception pass 
def  parse date rfc822 date String data date String if data -1 ] in ' ' '.' or data in rfc822 daynames del data len data 4 s data s '+' if i > 0 data ] [s[ i s i + 1 ]]else data '' date String ''.join data elif len data 5 and data .startswith 'etc/' data data ]tring ''.join data if len data < 5 date String + '00 00 0 M T rfc822 tz date String if tm return time rfc822 tz tm 
def add cohort course key name assignment type log 'ddingcohort name course key if is cohort exists course key name raise Value Error _ 'oucannotcreatetwocohortswiththesamename try course courses course by id course key except Http404 raise Value Error 'nvalidcourse key cohort Course Cohort cohort name name course id course assignment type assignment type .course user grouptracker 'edx.cohort.creation requested {'cohort name cohort 'cohort id cohort return cohort 
def find email string unique True string u string .replace u '.' matches []for m in RE E M A I L string s m 0 if not unique or s not in matches matches s return matches 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def H from ransac fp tp model maxiter 1000 match theshold 10 from P C V import ransacdata vstack fp tp H ransac data ransac data T model 4 maxiter match theshold 10 return all True return H ransac data 
def   update loaders z non local []for filename in z if not isinstance filename str cls filename filename 'utf-8' non local filename 
def fminbound func x1 x2 args xtol 1e-05 maxfun 500 full output 0 disp 1 options {'xatol' xtol 'maxiter' maxfun 'disp' disp  minimize scalar bounded func x1 x2 args **options if full output return res res res res else return res 
def  conf family 'ipv4' if   grains  ['os family 'ed Hat if family 'ipv6' return '/etc/sysconfig/ip6tables'else return '/etc/sysconfig/iptables'elif   grains  ['os family 'rch if family 'ipv6' return '/etc/iptables/ip6tables.rules'else return '/etc/iptables/iptables.rules'elif   grains  ['os family 'ebian if family 'ipv6' return '/etc/iptables/rules.v6'else return '/etc/iptables/rules.v4'elif   grains  ['os'] 'entoo if family 'ipv6' return '/var/lib/ip6tables/rules-save'else return '/var/lib/iptables/rules-save'elif   grains  ['os family 'SUSE' return 'u S Efirewall2 raise Salt Exception 'avingiptablestofileisnot + 'supportedon{0}.'.format   grains  ['os'] + 'leasefileanissuewith Salt Stack 
def prelu x W return P Re L U Function x W
def mark as titlepage container name move to start True ver container version parsedif move to start for item q linear in container iter if name q breakif not linear item u u if item .index item > 0 container into xml item item 0 if ver < 3 for ref in container xpath u guide reference "cover"]' ref .remove ref for guide in get guides container container into xml guide guide OPF u type u href container to href name container name else container unique properties name u title container container name 
def batch det a return Batch Det a 
def  get content range start end total start start or 0 end end or total - 1 return 'bytes%s-%s/%s' % start end total 
def  compose linear fitting data mu u for k in range u - 1 k1 k + 1 mu1n np mu k1 u u * u - mu1n * u for p in range u - 1 u M u * np mu p + 1 ] k1 - mu1n 
def  fit dipoles fun min dist to inner skull data times guess rrs guess data fwd data whitener proj op ori n jobs from scipy import fmin cobyla parallel p fun _ parallel func fun n jobs res parallel p fun min dist to inner skull B t guess rrs guess data fwd data whitener proj op fmin cobyla ori for B t in zip data T times pos np [r[0] for r in res amp np [r[1] for r in res ori np [r[2] for r in res gof np [r[3] for r in res * 100 residual np [r[4] for r in res .return pos amp ori gof residual 
def  compare by version path1 path2 if path1 path2 if path1 version num > path2 version num return path1else return path2return None 
def  gen gce as policy as params asp data {}asp data Num Replicas as params instances 'min instances in as params asp data Num Replicas as params instances 'cool down period in as params asp data Down Period Sec as params down period 'cpu utilization in as params and 'target' in as params utilization asp data Utilization {arget as params utilization 'load balancing utilization in as params and 'target' in as params balancing utilization asp data Balancing Utilization {arget as params balancing utilization asp data 
def parse atom tokens options token tokens result []if token in ' [' tokens matching pattern {' ' [' ' Required '[' [']' Optional pattern *parse expr tokens options if tokens ! matching raise tokens "unmatched'%s'" % token return [result]elif token 'options' tokens return [ny Options ]elif token '--' and token ! '--' return parse long tokens options elif token '-' and token not in '-' '--' return parse shorts tokens options elif token '<' and token '>' or token return [rgument tokens ]else return [ommand tokens ]
def str2bin value classic mode True text ''for character in value if text ! '' text + ''byte ord character text + byte2bin byte classic mode return text 
def python implementation return  sys version [0]
def require cuda ndarray obj if not is cuda ndarray obj raise Value Error 'requireancudandarrayobject'
def slicable dim pad 0 dim0 np dim -1 ] + pad return dim0 dim -1 ]
def is ssh uri url return urllib parse url [0] in ssh uri schemes 
def  Cobject cls ctype o object  new   cls o as parameter  ctypereturn o 
def randitems from structure fmt t memlen itemsize _ _ _ _ treturn gen items memlen // itemsize '#' + fmt 'numpy'
def is ascii word def onlyascii char if ord char > 127 return ''else return charfor c in word if not onlyascii c return Falsereturn True 
def det perm M args []s Truen M list M. matexcept Attribute Error list flatten M for perm in generate bell n fac []idx 0for j in perm fac list idx + j ] idx + nterm Mul *fac args term if s else - term s not s return Add *args
def validate ok for update update validate is mapping 'update' update if not update raise Value Error 'updateonlyworkswith$operators' first next iter update if not first '$' raise Value Error 'updateonlyworkswith$operators'
def instance key model instance or pk return '%s.%s %d' % model meta label model meta name getattr instance or pk 'pk' instance or pk 
def gen arg base type fn mod fn fn [eta Data String mod str a for a in fnty lc Meta Data String mod 'kernel arg base type return lc Meta Data mod [name] + consts 
def test elemwise collapse2 shape 4 5 9 a cuda ndarray Cuda Ndarray theano asarray numpy *shape dtype 'float32' a theano asarray numpy *shape dtype 'float32' a2 tcn constructor a 'a' a3 a2 0 'x' 1 2 b tcn Cuda Ndarray Type False False False False c a3 + b f pfunc [b] [c] mode mode with gpu v theano asarray numpy shape 5 *shape[1 ] dtype 'float32' v cuda ndarray Cuda Ndarray v out f v [0]assert numpy out a shape 1 *shape[1 ] + v 
def libvlc video get title description p mi f  Cfunctions 'libvlc video get title description None or  Cfunction 'libvlc video get title description 1 None ctypes P O I N T E R Track Description Media Player return f p mi 
def generate U U I D return str uuid 
def show frontends socket '/var/run/haproxy.sock' ha conn  get conn socket ha cmd haproxy Frontends return ha conn Cmd ha cmd 
def resolve hostname hostname res socket hostname None [0] family socktype proto canonname sockaddr resreturn sockaddr 
def is safe path component path return path and '/' not in path and path not in '.' '..'
def find Twisted Projects base Directory projects []for file Path in base Directory if file Path 'topfiles' project Directory file Path projects Project project Directory return projects 
def display File filename print 'ile + filename + 'isbeingdisplayed.' file Text archive File Text filename gcodec File Message Suffix filename display Text file Text 'hegcodelogfileissavedas ' log 
def num windows of length M on buffers of length N M N return N - M + 1
def get storage hash storage if isinstance storage Lazy Object if storage wrapped is None storage setup storage storage wrappedif not isinstance storage six types storage cls storage  class  storage '%s.%s' % storage cls  module   storage cls  name   return hashlib storage 'utf8' .hexdigest
def convert to RGB 255 colors rgb components []for component in colors rounded num decimal Decimal str component * 255.0 .quantize decimal Decimal '1' rounding decimal R O U N D HALF EVEN rounded num int rounded num rgb components rounded num return rgb components rgb components rgb components 
def canonicalize emails changelog mapping for alias email address in mapping changelog changelog alias email address return changelog 
def  ordered count iterable c Ordered Dict for elem in iterable c c elem 0 + 1 return c 
def bin iterable key lambda x x value lambda x x m defaultdict list for x in iterable m x ].append value x return m 
def validate color s if s 'none' return 'one is color like s return sstmp '#' + s if is color like stmp return stmpcolorarg smsg ''if s ' ' > 0 stmp ''.join [c for c in s if c or c '.' or c ' ' ] vals stmp ' ' if len vals ! 3 msg 'olortuplesmustbelength3 try colorarg [float val for val in vals Value Error msg 'ouldnotconvertallentriestofloats not msg and is color like colorarg return colorargraise Value Error '%sdoesnotlooklikeacolorarg%s' % s msg 
def tob data enc 'utf8' return data enc if isinstance data unicode else bytes data 
@raise if offlinedef schema has column table name column name bind op bind insp sa Inspector engine bind if not schema has table table name returnreturn column name in [column['name'] for column in insp columns table name ]
def resolve link stats return stats 
def  fix global ids html html re 'id "\\d+"' 'id "###"' html global id 1while len re 'id "###"' html > 0 html re 'id "###"' 'id "%s"' % global id html count 1 global id + 1return html 
def build arg list fn env kw {}argspec inspect fn if argspec kw envelse argnames argspec ]for name in argnames if name in env kw env kw 
def get asset dir prefix asset dir prefix ''if feconf I S MINIFIED or not feconf D E V MODE cache slug get cache slug asset dir prefix '/build/%s' % cache slug return asset dir prefix 
def Get Report By Name name report class R E G I S T R Y Get Registered Plugins [name]report object report class return report object 
@egister With Arg Checks name 'neighbor.attribute map req args [ P ADDRESS] opt args [ROUTE DISTINGUISHER VRF RF] def get neighbor attribute map neigh ip address route dist None route family VRF RF IPV4 core CORE M A N A G E R core service peer core manager by addr neigh ip address at maps key const A T T R MAPS LABEL D E F A U L Tif route dist is not None at maps key ' '.join [route dist route family at maps peer maps at maps key if at maps return at maps const A T T R MAPS ORG KEY else return []
def get Rounded To Three Places number return str round number 3
@task ignore result True def email membership change group pk user pk old status new status from mozillians import Group Group Membershipgroup Group pk group pk user User pk user pk activate 'en-us' if old status in [roup Membership P E N D I N G Group Membership P E N D I N G TERMS] if new status Group Membership M E M B E R subject _ 'cceptedto Mozilliansgroup % group template name 'groups/email/accepted.txt'elif new status is None subject _ 'otacceptedto Mozilliansgroup % group template name 'groups/email/rejected.txt'else raise Value Error ' A D A R G S T Oemail membership change else raise Value Error ' A D A R G S T Oemail membership change context {'group' group 'user' user get template template name body template context send mail subject body settings F R O M NOREPLY [user.email] fail silently False 
def site enabled config enable site config reload service 'apache2'
@pytest.mark.parametrize 'constructor attrs expected [ False {} '<test utils Obj False {'foo' None '<test utils Objfoo None False {'foo' "b'ar" 'baz' 2} '<test utils Objbaz 2foo "b\'ar">' True {} 'test utils Obj ' True {'foo' None 'test utils Obj foo None ' True {'foo' "te'st" 'bar' 2} 'test utils Obj bar 2 foo "te\'st" ' ] def test get repr constructor attrs expected assert utils repr Obj constructor **attrs expected 
def cmp version ver1 ver2 return cmp [int v for v in ver1 '.' ] [int v for v in ver2 '.' ]
def git status path cmd git cmd base path + ['status' '--porcelain'] return run subprocess cmd stderr None universal newlines True [0]
def build encoder bi tparams options embedding tensor 'embedding' dtype 'float32' embeddingr embedding -1 ]x mask tensor 'x mask dtype 'float32' xr mask x mask -1 ]proj get layer options [1] tparams embedding options prefix 'encoder' mask x mask projr get layer options [1] tparams embeddingr options prefix 'encoder r mask xr mask ctx tensor [proj[0][ -1 ] projr -1 ]] axis 1 return embedding x mask ctx 
def locate prefix by name ctx name if name ROOT ENV NAME return ctx dirfor envs dir in chain ctx dirs + os prefix join envs dir name if isdir prefix return prefixraise Conda Environment Not Found Error name 
def  parse qsub job id qsub out return int qsub out [2]
def filter non model columns data model columns [c.name for c in model  table  .columns]return dict k v for k v in six data if k in columns or isinstance getattr model k None associationproxy Association Proxy 
def publish string source source path None destination path None reader None reader name 'standalone' parser None parser name 'restructuredtext' writer None writer name 'pseudoxml' settings None settings spec None settings overrides None config section None enable exit status False output pub publish programmatically source class io String Input source source source path source path destination class io String Output destination None destination path destination path reader reader reader name reader name parser parser parser name parser name writer writer writer name writer name settings settings settings spec settings spec settings overrides settings overrides config section config section enable exit status enable exit status return output 
def alignment summary alignment index '' answer []alignment len alignment alignment length rec count len alignment for i in range min 5 alignment len answer index + col summary alignment i + 'alignmentcolumn%i' % i if alignment len > 5 i alignment len - 1 answer index + col summary '|' * rec count + '...' answer index + col summary alignment i + 'alignmentcolumn%i' % i return '\n'.join answer 
def  check module dependencies is imbalanced dataset installing False for module name module metadata in REQUIRED MODULE METADATA if not is imbalanced dataset installing and not module metadata at installation  import module with version check module name module name minimum version module metadata version install info module metadata 'install info 
def create mpl fig fig None figsize None if fig is None plt  import mpl fig plt figsize figsize return fig 
def stash conf values conf {'bind host C O N F host 'bind port C O N F port 'tcp keepidle C O N F file 'backlog' C O N F 'key file C O N F file 'cert file C O N F file conf 
def  strxfrm s return s 
@celery app base Archiver Task ignore result False @logged 'make copy request def make copy request job pk url data create app context job Archive Job job pk src dst user job provider data 'endingcopyrequestforaddon {0}onnode {1}'.format provider dst id res requests url data json data if res code not in http O K http C R E A T E D http A C C E P T E D raise H T T P Error res code 
def name validator value context if not isinstance value basestring raise Invalid _ 'amesmustbestrings if value in ['new' 'edit' 'search'] raise Invalid _ 'hatnamecannotbeused if len value < 2 raise Invalid _ 'ustbeatleast % 2 if len value > PACKAGE NAME MAX LENGTH raise Invalid _ 'amemustbeamaximumof % PACKAGE NAME MAX LENGTH if not name match value raise Invalid _ 'ustbepurelylowercasealphanumeric ascii charactersandthesesymbols -_' return value 
def  estimate rank meeg cov data info scalings tol 'auto' return singular False picks list  picks by type info scalings  handle default 'scalings cov rank scalings  apply scaling cov data picks list scalings if data < data Value Error "ou yourrankestimatemightbeinaccurate out estimate rank data tol tol norm False return singular return singular rank out if isinstance out tuple else out ch type '+'.join list zip *picks list [0] logger 'estimatedrank %s %d' % ch type rank  undo scaling cov data picks list scalings return out 
def delete vpc peering connection name conn id None conn name None region None key None keyid None profile None log 'alledstatetodelete V P Cpeeringconnection ret {'name' name 'result' True 'changes' {} 'comment' 'oto V P Cpeeringstate conn name vpc ids   salt  ['boto vpc vpc peering connection conn name region region key key keyid keyid profile profile .get ' P C Peerings [] else vpc ids [conn id not vpc ids ret 'o V P Cconnectionfound nothingtobedone retif   opts  ['test'] if vpc ids ret ' P Cpeeringconnectionwouldbedeleted retlog 'alledmoduletodelete V P Cpeeringconnection result   salt  ['boto vpc vpc peering connection conn id conn id conn name conn name region region key key keyid keyid profile profile if 'error' in result ret 'ailedtodelete V P Cpeering {0}'.format result ret Falsereturn retret {'old' '' 'new' result return ret 
def  type check arg msg if arg is None return type None if isinstance arg basestring arg  Forward Ref arg if isinstance arg  Typing Base and type arg .  name   u Class Var or not isinstance arg type  Typing Base and not callable arg raise Type Error msg + u Got % arg if type arg .  name   in u Union u Optional and not getattr arg u  origin  ' None or isinstance arg Typing Meta and  gorg arg in Generic  Protocol raise Type Error u Plain % arg return arg 
def relpath to site lang target lang path  SITES RELPATH D B lang target lang None if path is None siteurl  SITE D B lang  MAIN SITEURL target siteurl  SITE D B target lang  MAIN SITEURL path posixpath get site path target siteurl get site path siteurl  SITES RELPATH DB[ lang target lang ] pathreturn path 
def get bucket conn bucket id bucket conn bucket bucket id if not bucket msg _ 'ouldnotfindbucketwith I D bucket id s % locals L O G msg raise exception Not Found msg return bucket 
def entails expr formula set {} formula set list formula set formula set Not expr return not satisfiable And *formula set 
def create gzip cache pelican for dirpath _ filenames in os pelican O U T P U T PATH'] for name in filenames if should compress name filepath os dirpath name create gzip file filepath should overwrite pelican 
def test gnb pfit wrong nb features clf Gaussian N B clf X y assert raises Value Error clf fit np X X y 
def url decode s charset 'utf-8' decode keys False include empty True errors 'replace' separator '&' cls None if cls is None cls Multi Dictreturn cls  url decode impl str s .split separator charset decode keys include empty errors 
def comment return s3 rest controller 
def data to tfrecord images labels filename print 'onvertingdatainto % filename cwd os writer tf io T F Record Writer filename for index img in enumerate images img raw img label int labels example tf Example features tf Features feature {'label' tf Feature int64 list tf Int64 List value [label] 'img raw tf Feature bytes list tf Bytes List value [img raw } writer example Serialize To String writer 
def pearson score list1 list2 size len list1 sum1 sum list1 sum2 sum list2 sum sq1 sum [pow l 2 for l in list1 sum sq2 sum [pow l 2 for l in list2 prod sum sum [ list1 * list2 for i in range size ] num prod sum - sum1 * sum2 / float size den sqrt sum sq1 - pow sum1 2.0 / size * sum sq2 - pow sum2 2.0 / size return num / den 
def detect stream try json stream return Trueexcept Value Error return False 
def is inside except node current nodewhile current and not isinstance current astroid Except Handler current current current and current is current 
def libvlc media list player get state p mlp f  Cfunctions 'libvlc media list player get state None or  Cfunction 'libvlc media list player get state 1 None State Media List Player return f p mlp 
def fixed ip get by host context host return I M P L ip get by host context host 
def download cover log title None authors None identifiers {} timeout 30 rq Queue abort Event run download log rq abort title title authors authors identifiers identifiers timeout timeout get best cover True results []while True try results rq nowait except Empty breakcp msprefs priorities keygen result plugin width height fmt data resultreturn cp plugin 1 1 / width * height results key keygen return results if results else None 
def interface is portchannel interface module intf type get interface type interface if intf type 'ethernet' command 'showinterface' + interface body execute show command command module try interface table body T A B L E interface R O W interface Key Error Attribute Error Index Error interface table Noneif interface table state interface table 'eth bundle if state return Trueelse return Falsereturn False 
def wc reducer word counts yield word sum counts 
def process validation validation is compatibility False file hash None validation fix addons linter output validation if is compatibility mangle compatibility messages validation validation 'ending tier 0 if not validation tier and validation validation tier max msg 'tier' -1 for msg in validation if file hash Validation Comparator validation .annotate results file hash limit validation results validation htmlify validation validation return validation 
def  install Handler Using Set Wakeup fd if fd -1 signal signal S I G C H L D signal S I G DFL else signal signal S I G C H L D  Handler None siginterrupt signal S I G C H L D False return set wakeup fd fd 
def filter labels train label classes None if isinstance train theano Shared Variable train train value borrow True if isinstance label theano Shared Variable label label value borrow True if not isinstance train numpy or scipy train raise Type Error 'trainmustbeanumpyarray ascipysparsematrix oratheanosharedarray if classes is not None label label classes scipy train idx label axis 1 .nonzero [0]return train label condition label axis 1 return tuple var condition axis 0 for var in train label 
def find dest path comp key files src path None src files files type src type dest src path is None src path src table {'s3' '/' 'local' os files op rel path src path src ]else rel path src path sep table type [ -1 ]compare key rel path sep table type '/' if files src name dest path dest path + rel path sep table type sep table type else dest path dest dest path compare key 
def get config ini path os THIS DIRECTORY 'version.ini' if not os ini path ini path os THIS DIRECTORY '../../../version.ini' if not os ini path raise Runtime Error "ouldn config Config Parser Safe Config Parser config ini path return config 
def norm constraint tensor var max norm norm axes None epsilon 1e-07 ndim tensor var norm axes is not None sum over tuple norm axes elif ndim 2 sum over 0 elif ndim in [3 4 5] sum over tuple range 1 ndim else raise Value Error 'nsupportedtensordimensionality Mustspecify axes ndim dtype np theano X .typenorms T T T tensor var axis sum over keepdims True target norms T norms 0 dtype max norm constrained output tensor var * target norms / dtype epsilon + norms return constrained output 
def test wheel compiles pyc script data script 'install' '--compile' 'simple.dist 0.1' '--no-index' '--find-links ' + data links exists [os.path.exists script packages path / 'simpledist/  init  .pyc' ]exists + glob script packages path / 'simpledist/  pycache  /  init  *.pyc' assert any exists 
def coverage fn fp Trace Func Coverage fn def new fn *args **kw return fp *args **kw new fn  doc   fn  doc  new fn  name   fn  name  new fn  dict   fn  dict  new fn  module   fn  module  return new fn 
def Setup Shared Modules module dict output dict {}for module name module in module dict if module is None continueif Is Encodings Module module name output dict name modulecontinueshared prefix Module Name Has Prefix module name SHARED MODULE PREFIXES banned prefix Module Name Has Prefix module name NOT SHARED MODULE PREFIXES if shared prefix and not banned prefix output dict name modulereturn output dict 
def test ada fit invalid ratio ratio 1.0 / 10000.0 ada ADASYN ratio ratio random state RND SEED assert raises Runtime Error ada X Y 
