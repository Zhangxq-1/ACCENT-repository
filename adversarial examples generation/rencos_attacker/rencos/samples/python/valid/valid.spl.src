def reorder suite suite classes reverse False class count len classes suite class type suite bins [rdered Set for i in range class count + 1 ]partition suite by type suite classes bins reverse reverse reordered suite suite class for i in range class count + 1 reordered suite Tests bins return reordered suite 
def  expand probes probes defaults expected probes {}for probe name probe test in six probes if probe name not in expected probes expected probes name {}probe defaults probe test 'defaults' {} for test name test details in six probe test test defaults test details 'defaults' {} expected test details deepcopy defaults expected test details probe defaults expected test details test defaults expected test details test details if test name not in expected probes name expected probes name name expected test detailsreturn expected probes 
def test records test data ds Chart Data Source data test data data assert len ds 2 assert len ds 4
def attach total voters to queryset queryset as field 'total voters model queryset apps model 'contenttypes' 'ontent Type .objects.get for model model sql ' E L E C Tcoalesce SUM total voters 0 FROM \ E L E C Tcoalesce votes votes 0 total voters F R O Mvotes votes W H E R Evotes votes type id {type id A N Dvotes votes id {tbl}.id\n ase sql type id type tbl model meta table qs queryset select {as field sql return qs 
def  add theming locales theme locale paths settings C O M P R E H E N S I V E THEME LOCALE P A T H Sfor locale path in theme locale paths settings L O C A L E PATHS + path locale path 
def  guess autoescape template name if template name is None or '.' not in template name return Falseext template name '.' 1 [1]return ext in ['html' 'htm' 'xml']
def path to filesystem root *paths paths [sanitize path path .strip '/' for path in paths path rootfor path in paths if not path continuefor part in path '/' if not is safe filesystem path component part raise Unsafe Path Error part safe path os safe path part return safe path 
def get Rectangular Grid diameter loops Complex maximum Complex minimum Complex zigzag demiradius 0.25 * diameter x Start minimum Complex - demiradius y minimum Complex - demiradius grid Path [ndex 0while y < maximum Complex add Grid Row diameter grid Path loops Complex maximum Complex row Index x Start y zigzag y + diameter Index + 1return grid Path 
def capture screenshot for step step when if world capture screenshots scenario num step step + 1 step num step step + 1 step func name step at nameimage name '{prefix 03d}  {num 03d}  {name}  {postfix}'.format prefix scenario num num step num name step func name postfix when world screenshot image name 
def run vcs tool path action info get vcs info get vcs root path tools info tool args in tools if programs program tool programs program tool args cwd path returnelse cmdnames [name for name args in tools Action Tool Not Found info action cmdnames 
def submit rescore entrance exam for student request usage key student None only if higher False check entrance exam problems for rescoring usage key task type 'rescore problem if higher if only if higher else 'rescore problem task class rescore problem task input task key encode entrance exam and student input usage key student task input {'only if higher only if higher return submit task request task type task class usage key key task input task key 
@pytest.fixture scope u def celery config return {}
def quota destroy all by project context project id return I M P L destroy all by project context project id 
def  get date time format dt string valid formats ['%I %M % '%I % '%H %M %S' '%H %M' ' '%m-%d-%y' ' '%m/%d/%y' ' ' dt format in valid formats try datetime dt string dt format return dt formatexcept Value Error continuereturn False 
def make path result r t rpath '/recipes/' + r tpath '/tasks/' + t return rpath + tpath + '/results/'
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def strategy saturation largest first G colors distinct colors {v set for v in G i in range len G if i 0 node max G key G yield node for v in G distinct colors 0 else saturation {v len c for v c in distinct colors if v not in colors }node max saturation key lambda v saturation G v yield node color colors v in G distinct colors color 
def initgroups uid gid if not pwd returnusername pwd uid [0]if hasattr os u return os username gid groups [gr.gr gid for gr in grp if username in gr mem ]setgroups groups 
def  Set Wsdl Method ns wsdl Name input M M  wsdl Method N Ss ns cur M M  wsdl Method Map ns wsdl Name if isinstance input M M list if cur M M is None  wsdl Method Map ns wsdl Name ] input M Mreturn input M Melif isinstance cur M M list raise Runtime Error 'uplicatewsdlmethod newclass ' % ns wsdl Name input M M cur M M else return cur M Melif cur M M is None or isinstance cur M M list  wsdl Method Map ns wsdl Name ] input M Mreturn input M Melse return cur M M 
def escape byte string s s  replace specials s try return s 'ASCII' except Unicode Decode Error passif IS PYTHON3 s new bytearray append extend s new s new for b in s if b > 128 extend '\\%3o' % b .encode 'ASCII' else append b return s new 'ISO-8859-1' else l []append l c in s o ord c if o > 128 append '\\%3o' % o else append c return join bytes l .decode 'ISO-8859-1'
def S white simple x if x 1 x x None np x T x 
def  find matching indices tree bin X left mask right mask left index np tree bin X & left mask right index np tree bin X | right mask side 'right' return left index right index 
def  disconnect session session session session 
def fix line ending content return content '\r\n' '\n' .replace '\r' '\n'
def assert equal none logical line res asse equal start with none re logical line or asse equal end with none re logical line if res yield 0 'G318 assert Equal A None orassert Equal None A sentencesnotallowed 
def  split query query qq query '' keywords []accum Nonefor kw in qq if accum is None if kw '"' accum kw ]elif kw keywords kw else accum + '' + kw if kw '"' keywords accum -1 ] accum Noneif accum is not None keywords accum return [kw.strip for kw in keywords if kw ]
def file url path return Q Url Local File path .tring Q Url Fully Encoded 
def get timeslice slice seconds now int time slice count now // slice seconds slice start int slice count * slice seconds slice end slice start + slice seconds return Time Slice slice start slice end 
def  safe split estimator X y indices train indices None if hasattr estimator 'kernel' and callable estimator and not isinstance estimator G P Kernel raise Value Error 'annotuseacustomkernelfunction Precomputethekernelmatrixinstead if not hasattr X 'shape' if getattr estimator ' pairwise False raise Value Error 'recomputedkernelsoraffinitymatriceshavetobepassedasarraysorsparsematrices X subset [ for idx in indices getattr estimator ' pairwise False if X ! X raise Value Error 'shouldbeasquarekernelmatrix if train indices is None X subset X  indices indices ]else X subset X  indices train indices ]else X subset safe indexing X indices if y is not None y subset safe indexing y indices else y subset Nonereturn X subset y subset 
def cx Uniform ind1 ind2 indpb size min len ind1 len ind2 for i in xrange size if random < indpb ind1 ind2 ind2 ind1 return ind1 ind2 
def  reverse ordering ordering tuple def invert x return x ] if x u else u + x return tuple [invert item for item in ordering tuple 
def get boost obj boost max log10 1 + get popularity obj 1.0 if obj in VALID STATUSES boost * BOOST MULTIPLIER FOR PUBLIC C O N T E N Treturn boost 
def guarded mul left right if not isinstance left numbers Integral passelif not isinstance right numbers Integral passelif left in 0 1 or right in 0 1 passelif left length + right length > 664386 raise Value Error u Valueistoolargetobehandledinlimitedtimeandmemory return operator left right 
def build or pattern patterns name None escape False or pattern []for pattern in patterns if not or pattern or pattern ' ?' if name or pattern 'P<' + name + '>' else or pattern ' ' else or pattern '|' or pattern ' ? %s ' % re pattern if escape else pattern or pattern ' ' return ''.join or pattern 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  with primary max staleness selection primary selection []for s in selection descriptions if s type SERVER T Y P E R S Secondary staleness s update time - s write date - primary update time - primary write date + selection frequency if staleness < max staleness sds s else sds s return selection server descriptions sds 
def  get bootstrap sample x y num reps combined hstack [x y total obs len combined num x len x for i in range num reps indices randint 0 total obs total obs sampled combined indices sampled x sampled num x y sampled x ] yield sampled x sampled y 
def get integration manager global  integration managerif not  integration manager from reviewboard import Integration Config integration manager Integration Manager Integration Config return  integration manager 
def  check Netaddr Works With Prefixlen net prefixlen version if net &  prefixlen To Netmask prefixlen version net return 1else return 0
def list servers backend socket '/var/run/haproxy.sock' objectify False ha conn  get conn socket ha cmd haproxy Servers backend backend return ha conn Cmd ha cmd objectify objectify 
def patch os patch module 'os'
def recursive walk function data if isinstance data list return list recursive walk function val for val in data if isinstance data dict return dict key recursive walk function val for key val in data return function data 
def cxxflags contains value return var contains 'CXXFLAGS' value 
@builtin u Swapthecaseoftext swapcase apply func to match groups def replace swapcase match number file name metadata dictionaries data functions *args **kwargs return apply func to match groups match swapcase 
def  solve P Q U V structure None P U + V Q - U + V if isspmatrix U return spsolve Q P elif structure is None return solve Q P elif structure UPPER TRIANGULAR return solve triangular Q P else raise Value Error 'unsupportedmatrixstructure ' + str structure 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def recover request uidb64 None token None User Model get user model try uid force text urlsafe base64 decode uidb64 user User Model default manager pk uid except Type Error Value Error Overflow Error User Model Does Not Exist user Noneif user and default token generator token user token temp pwd uuid .hexuser.set password temp pwd user user authenticate username user password temp pwd user unusable password user login request user return redirect 'users.recover done return render request 'users/recover failed 
def  is task visible context task if context admin return Trueif task is None return Trueif context is not None if context task return Truereturn False 
def correlation X Y condition None **kwargs return covariance X Y condition **kwargs / std X condition **kwargs * std Y condition **kwargs
def backup get all by volume context volume id filters None return I M P L get all by volume context volume id filters filters 
def volume up hass hass DOMAIN SERVICE VOLUME UP
def  tgrep conjunction action  s  l tokens join char u tokens [x for x in tokens if x ! join char ]if len tokens 1 return tokens return lambda ts lambda n m None l None all predicate n m l for predicate in ts tokens 
def set cache over settings destination setting key prefix value ttl existing destination setting {} existing value set cache key prefix + '.' + setting value ttl destination value 
def Shutdown Threads data source thread thread pool logger 'nerroroccurred Shuttingdown data source thread flag Truethread pool Shutdown data source thread timeout 3.0 if data source thread Alive logger '%shungwhiletryingtoexit' data source thread Get Friendly Name 
def get single name url module required getter u  version  ' mod get version module module name url version getter getattr mod getter if hasattr version getter u  call  ' current version getter else current version getterreturn name url current required 
def with Class classname namespace '' classattr '%s class % namespace if namespace else 'class' return with Attribute **{classattr classname 
def prio Sort elements random elements prio elems [ get Priority e e for e in elements elems sorted elems [s for _ s in prio elems sorted elems 
def openshift builder registry xml parent data osb X M L Sub Element xml parent 'pen Shift Builder mapping [ 'api-url' ' R L 'https //openshift.default.svc.cluster.local' 'bld-cfg' 'fg 'frontend' 'namespace' 'namespace' 'test' 'auth-token' 'oken '' ' D ' D '' 'verbose' 'verbose' False 'build-name' 'ame '' 'show-build-logs' 'uild Logs False ]convert mapping to xml osb data mapping fail required True 
def setup sidebar items data if data sidebar items frappe u Portal Menu Item 0' frappe u Portal Menu Item 1\n DCTB DCTB DCTB whereroutein {0} '.format u '.join [u'"{0}"'.format d for d in data sidebar items if data sidebar items frappe u Portal Menu Item 1' frappe u Portal Menu Item 0\n DCTB DCTB DCTB whereroutein {0} '.format u '.join [u'"{0}"'.format d for d in data sidebar items 
def gen password alphabet ' B C D E F G H I J K L M N O P Q R S T U V W X Y Z ''for _ in range 20 next index random len alphabet password + alphabet index pwd gen hash 'salt' password 'sha512' return password hashed pwd 
def get action libs abs path pack None entry point None entry point abs path get entry point abs path pack pack entry point entry point if entry point abs path is not None return os os entry point abs path ACTION LIBS DIR else return None 
def set Basic Logger D E B U G set Logger Class Basic Logger Basic Logger Level DEBUG
def get sandbox python path inherit from parent True inherit parent virtualenv True sandbox python path []parent python path os 'PYTHONPATH' '' parent python path parent python path ' ' parent python path [path for path in parent python path if path inherit from parent sandbox python path parent python path if inherit parent virtualenv and hasattr sys 'real prefix site packages dir get python lib assert sys in site packages dir sandbox python path site packages dir sandbox python path ' '.join sandbox python path sandbox python path ' ' + sandbox python path return sandbox python path 
def slug is numerical slug try float slug except Value Error return Falsereturn True 
def  get Parameter name index args kwargs default None param kwargs name if len args > index if param raise Type Error "arameter % name param args param or default 
def device portnumber enum comm Comm Port Identifier Port Identifiers ports []while enum More Elements el enum Element if el Port Type comm Comm Port Identifier P O R T SERIAL ports el return ports Name 
def assert in obj in  None out  None if in  is not None for name in in  assert name in obj if out  is not None for name in out  assert name not in obj 
def dominating set G start with None all nodes set G if start with is None start with arbitrary element all nodes if start with not in G raise nx Network X Error ' start with dominating set {start with nodes set G with remaining nodes all nodes - dominated nodes - dominating set while remaining nodes v remaining nodes undominated neighbors set G - dominating set dominating set v dominated nodes | undominated neighborsremaining nodes - undominated neighborsreturn dominating set 
def remove small objects ar min size 64 connectivity 1 in place False  check dtype supported ar if in place out arelse out ar if min size 0 return outif out bool selem ndi binary structure ar connectivity ccs np like ar dtype np ndi ar selem output ccs else ccs outtry component sizes np ccs except Value Error raise Value Error 'egativevaluelabelsarenotsupported Tryrelabelingtheinputwith if len component sizes 2 warn 'nlyonelabelwasprovidedto small objects Didyoumeantouseabooleanarray too small component sizes < min size too small mask too small small mask 0return out 
def get redirect url course key usage key course key chapter section vertical unused position final target id path to location modulestore usage key if chapter is None redirect url reverse 'courseware' args unicode course key elif section is None redirect url reverse 'courseware chapter args unicode course key chapter elif position is None redirect url reverse 'courseware section args unicode course key chapter section else redirect url reverse 'courseware position args unicode course key chapter section navigation index position redirect url + '?{}'.format urlencode {'activate block id unicode final target id } return redirect url 
def disable term protect name call None if call ! 'action' raise Salt Cloud System Exit 'hedisable term protectactionmustbecalledwith return  toggle term protect name 'false'
def test cnn fit cnn Condensed Nearest Neighbour random state RND SEED cnn X Y assert equal cnn c  0 assert equal cnn c  2 assert equal cnn c [0] 2 assert equal cnn c [1] 6 assert equal cnn c [2] 12
def prepend root dir opts path options root dir os opts dir root opt opts dir os for path option in path options if path option in opts path opts option path root opt or path root opt + os path path root opt ]opts[path option salt join root dir path 
def set X window properties win id **properties import xcb xcb xcb atoms {name conn Intern Atom False len name name for name in properties string atom Nonefor name val in properties atom atoms .atomtype atom xcb Atom S T R I N Gif isinstance val unicode if utf8 string atom is None utf8 string atom conn Intern Atom True len 'UTF8 STRING' 'UTF8 STRING' .reply .atomtype atom utf8 string atomval val u conn Change Property Checked xcb Prop Mode Replace win id atom type atom 8 len val val conn conn 
def from sequence seq partition size None npartitions None seq list seq if npartitions and not partition size partition size int math len seq / npartitions if npartitions is None and partition size is None if len seq < 100 partition size 1else partition size int len seq / 100 parts list partition all partition size seq name 'from sequence + tokenize seq partition size d dict name i list part for i part in enumerate parts return Bag d name len d 
def get Host By Name name timeout None effort 10 return get Resolver .ost By Name name timeout effort 
def  get fragments phase frags return [ 3 - x % 3 % 3 for x in  get fragments coord frags ]
@register.assignment tag takes context False def assignment explicit no context arg return 'assignment explicit no context Expectedresult %s' % arg 
def belongs to folder path file Name if not path os path + os file Name path 
def resource view clear context data dict model context check access 'resource view clear context data dict view types data dict 'view types model Resource View all view types model 
def validipport port try assert 0 < int port < 65535 except Assertion Error Value Error return Falsereturn True 
def floyd warshall predecessor and distance G weight 'weight' from collections import defaultdictdist defaultdict lambda defaultdict lambda float 'inf' for u in G dist 0pred defaultdict dict undirected not G directed for u v d in G data True e weight d weight 1.0 dist min e weight dist pred uif undirected dist min e weight dist pred vfor w in G for u in G for v in G if dist > dist + dist dist dist + dist pred pred dict pred dict dist 
def Pickle To File records outfile encoded records []for record in records encoded record Encode encoded records encoded pickle encoded records outfile protocol pickle H I G H E S T PROTOCOL
def  scal elemwise with nfunc nfunc nin nout def construct symbol symbolname symbol  name  inplace symbolname ' inplace if inplace msg 'inplace'else msg 'no inplace 'lemwise %s}' % symbolname msg if inplace scalar op getattr scal symbolname - len ' inplace ] inplace scalar op scalar op  class   scal type 0 rval elemwise Elemwise inplace scalar op {0 0} name n nfunc spec nfunc and nfunc nin nout else scalar op getattr scal symbolname rval elemwise Elemwise scalar op name n nfunc spec nfunc and nfunc nin nout if getattr symbol '  doc  ' False rval  doc   symbol  doc   + '\n' + rval  doc   rval  epydoc as Routine symbolrval  module   'tensor'pprint.assign rval printing Function Printer symbolname return rvalreturn construct 
def get complete paths config page input path os config dir page path output path os config dir page path return input path output path 
def enqueue *args **kwargs import frappe jobsfrappe jobs *args **kwargs
def user return dict form auth 
def get qualifier module qualifier Noneif module > 0 qualifier str module elif module qualifier str module return qualifier 
def  show legend ax leg ax loc 1 shadow True fancybox True labelspacing 0.2 borderpad 0.15 ltext leg texts llines leg lines frame leg frame from matplotlib import setpsetp ltext fontsize 'small' setp llines linewidth 1
def patch time from gevent import sleepimport timepatch item time 'sleep' sleep 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def trim var var value makeconf  get makeconf old value get var var if old value is not None   salt  ['file.sed'] makeconf value '' limit var new value get var var return {var {'old' old value 'new' new value 
def display ctl chars index cc title 'pecial Character width len title col2 width max map len index FMT '{idx <{col1 width <{col2 width 'pecialline Characters 40 .rstrip print F M T idx 'ndex name 'ame value 'alue col1 width col1 width col2 width col2 width print '{0}{1}{2}'.format '-' * col1 width '-' * col2 width '-' * 10 for index name name in index try index getattr termios index name value cc value '\xff' value ' POSIX V D I S A B L E value repr value except Attribute Error value 'undef'print F M T idx index name name name value value col1 width col1 width col2 width col2 width print 
def set Last Refresh ex List cache db con db D B Connection 'cache.db' cache db con 'scene exceptions refresh {'last refreshed int time datetime .timetuple } {'list' ex List 
def diversity first front first last df hypot first front - first first front - first dl hypot first front -1 ].fitness.values[0] - last first front -1 ].fitness.values[1] - last dt [hypot first - second first - second for first second in zip first front -1 ] first front ] ]if len first front 1 return df + dl dm sum dt / len dt di sum abs d i - dm for d i in dt delta df + dl + di / df + dl + len dt * dm return delta 
def handle sec error error exception class None if error 0 returncf error string Security Sec Copy Error Message String error null output C F Helpers string to unicode cf error string Core Foundation C F Release cf error string if output is None or output u output u O S Status % error if exception class is None exception class O S Errorraise exception class output 
def flag file path flag create False path os path JOB ADMIN path os path flag if create try f open path 'w' f 'ok\n' f return Trueexcept I O Error return Falseelse return os path 
def infinibox required together return [['user' 'password']]
def  generate group title group return group '_' '' .title
def data spider path ignore Value Error Not Implemented Error followlinks True hidden False extra kwargs None return {os.path.basename path  spider path ignore ignore followlinks followlinks hidden hidden extra kwargs extra kwargs }
def test ee bad ratio ratio -1.0 ee Easy Ensemble ratio ratio assert raises Value Error ee X Y ratio 100.0ee Easy Ensemble ratio ratio assert raises Value Error ee X Y ratio 'rnd'ee Easy Ensemble ratio ratio assert raises Value Error ee X Y ratio [0.5 0.5]ee Easy Ensemble ratio ratio assert raises Value Error ee X Y
def strict dependencies target dep context for declared in  resolve aliases target if isinstance declared dep context plugin types for r in declared bfs True **dep context closure kwargs yield r else yield declared 
def validate exps in collection are public collection for exploration id in collection ids if rights manager exploration private exploration id raise utils Validation Error 'annotreferenceaprivateexplorationwithinapubliccollection exploration I D %s' % exploration id 
@with setup prepare stdout def test output snippets with groups within single quotes colorful runner Runner feature name 'single-quoted-snippet' verbosity 3 no color False runner assert stdout lines u Feature single features 1cenario Proposematchedgroups features 2iven Ihave features 3\x1b[0m\n\n\x1b[1;37m1feature \x1b[0;31m0passed\x1b[1;37m \x1b[0m\n\x1b[1;37m1scenario \x1b[0;31m0passed\x1b[1;37m \x1b[0m\n\x1b[1;37m1step \x1b[0;33m1undefined\x1b[1;37m \x1b[1;32m0passed\x1b[1;37m \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Given Ihave [^\\']* \\'and\\' [^\\']* \\'' \ndefgiven i have group1 and group2 step group1 group2 \alse 'hisstepmustbeimplemented 
def  task info get task id global D A T Atry task info D A T A info id Key Error msg  LW 'ouldnotfindtaskinfo % task id L O G msg raise exception Task Not Found task id task id return task info 
def extract views from urlpatterns urlpatterns base '' namespace None views []for p in urlpatterns if hasattr p 'url patterns try patterns p patternsexcept Import Error continueviews extract views from urlpatterns patterns base + p namespace or [] + p and [p.namespace] or [] elif hasattr p 'callback' try views p base + p namespace p except View Does Not Exist continueelse raise Type Error _ '%sdoesnotappeartobeaurlpatternobject' % p return views 
def ts to str timestamp date datetime timestamp date string date ' H %M%Z' return date string 
def  node ports graph node portinputs {}portoutputs {}for u _ d in graph edges iter node data True for src dest in d portinputs u src for _ v d in graph edges iter node data True for src dest in d if isinstance src tuple srcport src srcport srcif srcport not in portoutputs portoutputs []portoutputs[srcport].append v dest src return portinputs portoutputs 
def equate Polar Dot Azimuth point return Value equate Cylindrical Dot Azimuth point return Value 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def build server url *args **kwargs return urljoin get server url **kwargs *args
def  toposort data if len data 0 returnfor k v in data v k extra items in deps  reduce set data - set data data {item set for item in extra items in deps while True ordered sorted set item for item dep in data if len dep 0 if not ordered breakfor item in ordered yield item data item None for dep in sorted data dep - set ordered if len data ! 0 msg u Cyclicdependenciesexistamongtheseitems {}'raise Conda Value Error msg u repr x for x in data 
def Ynm c n m theta phi from sympy import conjugatereturn conjugate Ynm n m theta phi 
def fd f return f if hasattr f 'fileno' else f 
def sync engines saltenv 'base' return salt   opts   'engines' saltenv saltenv [0]
def wrap traceback traceback if email .format 'html' try from pygments import highlightfrom pygments import Python Traceback Lexerfrom pygments import Html Formatterwith pygments Trueexcept Import Error with pygments Falseif with pygments formatter Html Formatter noclasses True wrapped highlight traceback Python Traceback Lexer formatter else wrapped '<pre>%s</pre>' % traceback else wrapped tracebackreturn wrapped 
def deserialize contributors node user dicts auth validate False contribs []for contrib dict in user dicts fullname contrib dict contrib dict contrib dict 'email' if validate is True fullname sanitize html fullname if not fullname raise Validation Value Error 'ullnamefieldcannotbeempty if email validate email email if contrib dict contributor User contrib dict else try contributor User unregistered fullname fullname email email contributor except Validation Error contributor get user email email if not contributor registered and node primary key not in contributor records contributor unclaimed record node node referrer auth given name fullname email email contributor contribs {'user' contributor 'visible' visible 'permissions' expand permissions contrib dict 'permission' } return contribs 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def test ast good raise can compile u raise ' can compile u raise Exception ' can compile u raisee '
def is type factory  type def inner x if type x !  type raise Value Error "aluemusthavetype % str  type return inner 
def exp create database db name demo lang user password 'admin' login 'admin' country code None  logger 'reatedatabase db name  create empty database db name  initialize db id db name demo lang user password login country code return True 
def ipexec validate fname expected out expected err '' options None commands import nose as nt out err ipexec fname options commands if err if expected err nt equal '\n'.join err .splitlines '\n'.join expected err .splitlines else raise Value Error 'unningfile %r' % fname err nt equal '\n'.join out .splitlines '\n'.join expected out .splitlines
def maybe convert ix *args ixify Truefor arg in args if not isinstance arg np list A B C Series Index ixify Falseif ixify return np  *args else return args 
def get language bidi lang get language if lang is None return Falseelse base lang get language .split '-' [0]return base lang in settings L A N G U A G E S BIDI
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def wrap callable wrapper fn if hasattr fn '  name  ' return update wrapper wrapper fn else  f wrapper f  name   fn  class  .  name  if hasattr fn '  module  '  f  module   fn  module  if hasattr fn  call   '  doc  ' and fn  call  .  doc    f  doc   fn  call  .  doc  elif fn  doc    f  doc   fn  doc  return  f 
@depends HAS ESX CLI def get coredump network config host username password protocol None port None esxi hosts None cmd 'systemcoredumpnetworkget'ret {}if esxi hosts if not isinstance esxi hosts list raise Command Execution Error "'esxi hosts for esxi host in esxi hosts response salt host username password cmd protocol protocol port port esxi host esxi host if response ! 0 ret {esxi host {rror response 'stdout' }} else ret {esxi host {oredump Config  format coredump stdout response }} else response salt host username password cmd protocol protocol port port if response ! 0 ret {host {rror response 'stdout' }} else stdout  format coredump stdout response ret {host {oredump Config stdout return ret 
def live screenshot registry xml parent data live X M L Sub Element xml parent 'ive Screenshot Build Wrapper live 'plugin' 'livescreenshot' mapping [ 'full-size' 'ilename 'screenshot.png' 'thumbnail' 'ilename 'screenshot-thumb.png' ]convert mapping to xml live data mapping fail required True 
def markmin escape text return regex markmin escape lambda m '\\' + m 0 .replace '\\' '\\\\' text 
def pickle String I stringi return unpickle String I stringi stringi 
def get url conn urlopen url resp conn conn return resp 
def random name size 6 chars string uppercase + string return 'test-' + ''.join random chars for x in range size 
def search python list python code template names retval []for tn in template names retval search python python code tn retval list set retval retval return retval 
def  ca items s if atomp items return itemsif len s 0 return items [0] * s stride len items // s if s else 0 for i in range s start i * stride lst  ca items start + stride ] s ] return lst 
def has arithmetic operator line for operator in pep8 A R I T H M E T I C OP if operator in line return Truereturn False 
def get xmodule urls pipeline js settings settings P I P E L I N E J S settings D E B U G paths [path.replace '.coffee' '.js' for path in pipeline js settings filenames paths [pipeline js settings filename [staticfiles storage path for path in paths 
@step STEP PREFIX + 'sendingemaildoesnotwork' def email broken step mail Email Message broken send 
def templates for host templates if not isinstance templates list tuple templates [templates]theme dir host theme path host templates []if theme dir for template in templates host templates u % theme dir template host templates template return host templatesreturn templates 
def  api translate name output kwargs return report output keyword 'value' data Tx kwargs 'value' ''
def make icindervolumemanager tests client factory class Tests I Cinder Volume Manager Tests Mixin Test Case def set Up self super Tests self .p self client factory test case self return Tests 
@open file 0 mode 'r' def read p2g path encoding 'utf-8' lines line encoding for line in path G parse p2g lines return G
def as float X variable if isinstance variable float return numpy X variable if isinstance variable numpy return numpy X variable return theano variable theano X 
@documented contextmanagerdef hide *groups return  set output groups False 
def replace network acl entry network acl id None rule number None protocol None rule action None cidr block None egress None network acl name None icmp code None icmp type None port range from None port range to None region None key None keyid None profile None kwargs locals return  create network acl entry replace True **kwargs
@with setup prepare stdout def test output with success colorless with table runner Runner feature name 'success table verbosity 3 no color True runner assert stdout lines 'eature Table Success features table table 1cenario Addtwonumbers features table table 2iven Ihave0bucks features table table steps 2ndthat Ihavetheseitems #tests/functional/output features table table steps 3orsche Ferrari When Isellthe Ferrari features table table steps 4hen Ihave400000bucks features table table steps 2ndmygaragecontains #tests/functional/output features table table steps 4orsche 1passed \n1scenario 1passed \n5steps 5passed \n'
def  get value type kind if kind TEXT return A P E Text Valueelif kind BINARY return A P E Binary Valueelif kind EXTERNAL return A P E Ext Valueraise Value Error 'unknownkind%r' % kind 
def translated revision locale 'de' **kwargs parent rev revision is approved True parent rev translation document parent parent rev locale locale translation new kwargs {'document' translation 'based on parent rev kwargs kwargs return revision **new kwargs 
def migrate admission plugin facts facts if 'master' in facts if 'kube admission plugin config in facts if 'admission plugin config not in facts facts plugin config dict facts plugin config merge facts facts plugin config facts admission plugin config additive facts to overwrite [] protected facts to overwrite [] facts 'kube admission plugin config None return facts 
def test how to use as vm logger slogging ' DEBUG eth INFO' log slogging logger 'eth.vm' def run vm raise error False log 'op' pc 1 log 'op' pc 2 if raise error raise Exceptionrecorder slogging Log Recorder try run vm raise error True except log slogging logger 'eth.vm' for x in recorder records log x 'event' **x
def  to seconds timestr timestr timestr if 'H' in timestr seconds int timestr 'H' '' * 3600 elif 'D' in timestr seconds int timestr 'D' '' * 86400 elif 'W' in timestr seconds 604800else try seconds int timestr except Value Error seconds 604800if seconds > 604800 seconds 604800return seconds 
def dumb css parser data import Index data '@import' while import Index ! -1 data data import Index + data data ';' import Index + 1 ] import Index data '@import' elements [x.split '{' for x in data '}' if '{' in x ]elements dict [ a dumb property dict b for a b in elements return elements 
def mut Counter individual if random > 0.5 individual [random.choice ITEMS NAME ] else val random ITEMS NAME individual [val] if individual < 0 del individual individual 
def groebner seq ring method None if method is None method query 'groebner'  groebner methods {'buchberger'  buchberger 'f5b'  f5b  groebner  groebner methods Key Error raise Value Error "roebnerbasesalgorithm validare " % method domain orig ring None if not domain Field or not domain assoc Field try orig ring ring ring domain domain field except Domain Error raise Domain Error "roebnerbasisover % domain else seq [s.set ring ring for s in seq G  groebner seq ring if orig is not None G [g.clear denoms [1].set ring orig for g in G G
def mnc2cum mnc mnc [1] + list mnc kappa [1]for nn m in enumerate mnc ] n nn + 1 kappa m for k in range 1 n kappa - comb n - 1 k - 1 exact 1 * kappa * mnc n - k ] return kappa ]
def parse Lines chunk items {}for lineno line in chunk header data line ' ' 1 header header items lineno data return items 
def is content authored by content user try return int content 'user id user except Value Error Type Error return False 
@pytest.mark.parametrize 'status expected [ usertypes Load Status url Url Type usertypes Load Status https url Url Type https usertypes Load Status url Url Type usertypes Load Status url Url Type usertypes Load Status url Url Type usertypes Load Status url Url Type ] def test on load status changed url widget status expected url widget url Q Url 'www.example.com' url widget load status changed status assert url widget urltype expected 
def register linter linter checker Exceptions Checker linter 
def handle calendar updates namespace id calendars log db session ids  []added count 0updated count 0for calendar in calendars assert calendar is not None 'otremoteitemwithnulluid calendar db session Calendar .filter Calendar id namespace id Calendar calendar .first if local calendar is not None local calendar calendar updated count + 1else local calendar Calendar namespace id namespace id local calendar calendar db session local calendar added count + 1db session ids .append local calendar local calendar log 'syncedaddedandupdatedcalendars' added added count updated updated count return ids 
def Web Template key defweb wdir if wdir is None try wdir fix webname key except wdir ''if not wdir wdir defwebif key key wdir if not wdir return ''full dir real path sabnzbd D I R INTERFACES wdir full main real path full dir DEF MAIN TMPL logging 'ebdiris full dir if not os full main if defweb DEF STDCONFIG return ''logging.warning T 'annotfindwebtemplate %s tryingstandardtemplate full main full dir real path sabnzbd D I R INTERFACES DEF STDINTF full main real path full dir DEF MAIN TMPL if not os full main logging 'annotfindstandardtemplate %s' full dir panic tmpl full dir exit sab 1 return real path full dir 'templates'
def arrays to list of tuples arrays colnames first array arrays [tuple arrays for colname in colnames for i in range len first array ]
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def clean s lines [l.rstrip for l in s '\n' ]return '\n'.join lines 
def  get venv path dirs venv venv os venv sitedir  get venv sitepackages venv sys path []addsitedir sys path sitedir return sys path 
def bin Arr2int arr from numpy import packbitstmp2 packbits arr int return sum val * 256 ** i for i val in enumerate tmp2 -1 ]
def from File filename f open filename contents c Pickle f f if hasattr contents 'abort' contents return contents 
def template funcs funcs {}for plugin in find plugins if plugin funcs funcs plugin funcs return funcs 
def continuous value String sys str value String return value String 
def idp Xrds request return util X R D S request [OPENID IDP 2 0 TYPE] [iew U R L request endpoint ]
def get device name bdm if isinstance bdm obj base Nova Object return bdm nameelse return bdm 'device name or bdm 'mount device 
def calc at skew sequence a sequence 'A' + sequence 'a' t sequence 'T' + sequence 't' if a + t 0 return 0.0else return a - t / float a + t 
@register.inclusion tag 'sponsors/templatetags/featured sponsor rotation def featured sponsor rotation return {'sponsors' Sponsor }
def Wigner Semicircle name R return rv name Wigner Semicircle Distribution R
def zen request project subproject lang translation get translation request project subproject lang search result unitdata get zen unitdata translation request if isinstance search result Http Response return search resultreturn render request u {u'object' translation u translation u unitdata u query search result u name search result u count len search result u section search result section u id search result id u search result u form search result u lock translation user request }
def identity obj return obj 
def review published cb sender user review to submitter only request **kwargs siteconfig Site Configuration current if siteconfig u send review mail mail review review user to submitter only request 
def resolve func spec try idx spec '.' mname spec idx spec idx + 1 ]module  import module mname return getattr module fname except Value Error return globals [spec]
@handle response format login required admin required 'treeio.changes' def status add request response format 'html' if request P O S T form Change Set Status Form request request P O S T if form valid status form return Http Response Redirect reverse 'changes status view args [status.id] else form Change Set Status Form request context  get default context request context {'form' form return render to response 'changes/status add context context instance Request Context request response format response format 
def encode path p if not isinstance p unicode raise Type Error u Canonlyencodeunicode not type p return p  FILESYSTEM ENCODING
def validate since response cherrypy response 'ast Modified if lastmod status reason msg  httputil status response request cherrypy request 'f Unmodified Since if since and since ! lastmod if status > 200 and status < 299 or status 412 raise cherrypy H T T P Error 412 since request 'f Modified Since if since and since lastmod if status > 200 and status < 299 or status 304 if request in 'GET' 'HEAD' raise cherrypy H T T P Redirect [] 304 else raise cherrypy H T T P Error 412
def get unit changes request unit id unit get object or 404 Unit pk int unit id unit acl request return render request 'js/changes.html' {'last changes unit set [ 10] 'last changes url urlencode unit kwargs }
def get vnc config spec client factory port virtual machine config spec client factory 'ns0 Virtual Machine Config Spec opt enabled client factory 'ns0 Option Value opt enabled 'emote Display enabled 'true'opt port client factory 'ns0 Option Value opt port 'emote Display port portopt keymap client factory 'ns0 Option Value opt keymap 'emote Display Map keymap C O N F [opt enabled opt port opt keymap machine config spec Config extrasreturn virtual machine config spec 
def  f list parser fl ref frame def flist iter for pair in fl obj force pairif isinstance obj Reference Frame yield obj vel in ref frame force elif isinstance obj Point yield obj ref frame force else raise Type Error 'irstentryineachforcelistpairmustbeapointorframe if not fl vel list f list else unzip lambda l list zip *l if l else [ ] vel list f list unzip list flist iter return vel list f list 
def test keypoints censure color image unsupported error assert raises Value Error CENSURE .detect np 20 20 3
def  compact Repr obj always Show None flag Names None field Names None section Names None if always Show is None always Show []if flag Names is None flag Names []if field Names is None field Names []if section Names is None section Names [lags []for name in flag Names if name in always Show or getattr obj name False True set Flags name displayable Args  get Displayable Arguments obj always Show field Names out ['<' obj  class  .  name  ] + displayable Args if set Flags out 'flags %s' % ' '.join set Flags for name in section Names section getattr obj name [] if section out '%s %r' % name section out '>' return ''.join out 
def load scores ba dir dir return File Binned Array Dir dir 
def  first Result gen return list gen [0]
def test random state transfer class Graph def   init   self seed 123 self MRG Random Streams seed self self size 1 g1 Graph seed 123 f1 theano [] g1 g2 Graph seed 987 f2 theano [] g2 g2 g1 su1 su2 in zip g1 updates g2 updates su2 value su1 value numpy array almost equal f1 f2 decimal 6
def load byte buf pos end pos + 1 if end > len buf raise Bad Rar File 'cannotloadbyte' return S B Y T E from buf pos [0] end 
def compute node statistics context result model query context func models Compute Node func models Compute Node func models Compute Node mb func models Compute Node gb func models Compute Node used func models Compute Node mb used func models Compute Node gb used func models Compute Node ram mb func models Compute Node disk gb func models Compute Node workload func models Compute Node vms func models Compute Node available least base model models Compute Node read deleted 'no' .first fields 'count' 'vcpus' 'memory mb 'local gb 'vcpus used 'memory mb used 'local gb used 'free ram mb 'free disk gb 'current workload 'running vms 'disk available least return dict field int result or 0 for idx field in enumerate fields 
def file move session dc ref src file dst file L O G 'ovingfilefrom src sto dst s {'src' src file 'dst' dst file vim session task session call method vim 'ove Datastore File Task vim content Manager source Name str src file source Datacenter dc ref destination Name str dst file destination Datacenter dc ref session wait for task move task L O G 'ilemoved 
def  do for subarray entry condition func path None if path is None path []if isinstance entry list if condition entry func entry path else for index item in enumerate entry  do for subarray item condition func path + [index]
def sysadmin context data dict return {'success' False 'msg' _ 'otauthorized }
def commit unless managed using None if using is None using DEFAULT DB A L I A Sconnection connections unless managed 
def libs from seqids seq ids delim '_' all libs set [i.rsplit delim 1 [0] for i in seq ids return all libs 
@ode 'before save def validate permissions schema instance node instancecontributor ids set [user. id for user in node permission ids set node mismatched contributors contributor ids permission ids if mismatched contributors raise Validation Value Error 'ontributors ' '.join mismatched contributors node id mismatched permissions permission ids contributor ids if mismatched permissions raise Validation Value Error 'ermissionkeys ' '.join mismatched contributors node id 
def dijkstra shortest path graph id1 id2 heuristic None directed False def flatten list while len list > 0 yield list list list G adjacency graph directed directed heuristic heuristic q [ 0 id1 ]visited set while True cost1 n1 path heappop q if n1 not in visited visited n1 if n1 id2 return list flatten path [ -1 ] + [n1] path n1 path for n2 cost2 in G if n2 not in visited heappush q cost1 + cost2 n2 path 
@with setup step runner environ def test can point undefined steps f Feature string FEATURE2 feature result f scenario result feature result results equals len scenario result undefined 2 assert equals len scenario result passed 1 assert equals scenario result steps 3 undefined1 scenario result undefined scenario result undefined equals undefined1 'henthisonehasnodefinition assert equals undefined2 'ndthisonealso 
def collection get options collection name **kwargs cluster cluster status **kwargs options {ame cluster name Name 'router.name' cluster name 'actor int cluster name Factor 'hards Per Node int cluster name Shards Per Node 'dd Replicas cluster name Add Replicas is True }if 'rule' in cluster name options cluster name 'snitch' in cluster name options cluster name options 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def version string as tuple s v  unpack version *s.split u if isinstance v string t v version info t v v * splitmicro *v[2 ] if not v and v and u in v v version info t * list v 3] + v u return v 
def fg1 x return x + 2 * np -16 * x ** 2
@csrf exempt P O S Tdef password reset request limiter Bad Request Rate Limiter if limiter rate limit exceeded request AUDIT L O G 'atelimitexceededinpassword reset return Http Response Forbidden form Password Reset Form No Active request P O S T if form valid form use https request secure from email configuration helpers value 'email from address settings D E F A U L T FROM EMAIL request request domain override request host tracker SETTING CHANGE INITIATED {'setting' 'password' 'old' None 'new' None 'user id request destroy oauth tokens request else AUDIT L O G 'adpassword resetuserpassedin limiter bad request counter request return Json Response {'success' True 'value' render to string 'registration/password reset done {} }
def  convert host to hex host ips []if host is not None for family ip in  convert host to ip host hexip nf binascii hex socket pton family ip hexip hf ''for i in range 0 len hexip nf 8 ipgroup nf hexip nf i + 8 ]ipgroup hf socket int ipgroup nf base 16 hexip hf ' % hexip hf ipgroup hf ips family hexip hf return ips 
def get output error code cmd out err p process handler cmd lambda p p p if out err is None return '' '' p out err out errreturn py3compat to str out py3compat to str err p 
@maintain.deprecated 'seauth is loggedin userinstead def auth is registered user return auth is loggedin user 
def list floatingips profile None conn  auth profile return conn floatingips 
def instance type access add context flavor id project id return I M P L type access add context flavor id project id 
def pytest configure config if config '--qute-profile-subprocs' try shutil 'prof' except File Not Found Error pass 
def equate Cylindrical Dot Radius point return Value original Radius abs point Axis if original Radius > 0.0 radius Multipler return Value / original Radius point * radius Multiplerpoint * radius Multipler 
def package to path package return package '.' '/'
def get system sass dirs system if system not in 'lms' 'cms' raise Value Error '"system"musteitherbe"lms"or"cms"' dirs []sass dir path system / 'static' / 'sass' css dir path system / 'static' / 'css' dependencies SASS LOOKUP D E P E N D E N C I E S system [] dirs {'sass source dir sass dir 'css destination dir css dir 'lookup paths dependencies + [ sass dir / 'partials' sass dir } if system 'lms' dirs {'sass source dir path system / 'static' / 'certificates' / 'sass' 'css destination dir path system / 'static' / 'certificates' / 'css' 'lookup paths [ sass dir / 'partials' sass dir return dirs 
def resolve route path if path not in u u context get page context from template path if context return contextreturn get page context from doctype path else context get page context from doctype path if context return contextreturn get page context from template path 
def derive key secret salt iterations 1000 keylen 32 assert type secret in [six.text type six type assert type salt in [six.text type six type assert type iterations in six types assert type keylen in six types if type secret six type secret secret 'utf8' if type salt six type salt salt 'utf8' key pbkdf2 secret salt iterations keylen return binascii base64 key .strip
def format otu map otu map otu id prefix for c in otu id prefix if not c and not c '.' raise Value Error ' T U I Ds % c for otu id seq ids in otu map yield '%s%s DCTB %s\n' % otu id prefix otu id ' DCTB '.join seq ids return 
@csrf protectdef render flatpage request f if f required and not request authenticated from django import redirect to loginreturn redirect to login request if f name t loader template f name DEFAULT TEMPLATE else t loader template DEFAULT TEMPLATE f mark safe f f mark safe f c Request Context request {'flatpage' f response Http Response t c populate xheaders request response Flat Page f return response 
def thumbnails for file relative source path root None basedir None subdir None prefix None if root is None root settings M E D I A R O O Tif prefix is None prefix settings T H U M B N A I L P R E F I Xif subdir is None subdir settings T H U M B N A I L S U B D I Rif basedir is None basedir settings T H U M B N A I L BASEDIR source dir filename os relative source path thumbs path os root basedir source dir subdir if not os thumbs path return []files all thumbnails thumbs path recursive False prefix prefix subdir '' return files filename []
def add capability capability source None limit access False image None restart False if salt cmp   grains  ['osversion'] '10' -1 raise Not Implemented Error '`install capability Windows {0}'.format   grains  ['osversion'] cmd ['DISM' 'uiet 'mage {0}'.format image if image else 'nline 'dd Capability 'apability Name {0}'.format capability ]if source cmd 'ource {0}'.format source if limit access cmd 'imit Access if not restart cmd 'o Restart return   salt  ['cmd.run all cmd 
def flip image return image Image F L I P TOP BOTTOM
def add Vertex To Attribute Dictionary attribute Dictionary vertex if vertex ! 0.0 attribute Dictionary str vertex if vertex ! 0.0 attribute Dictionary str vertex if vertex ! 0.0 attribute Dictionary str vertex 
def get base lun name volume base name extract provider location volume location 'base lun name if base name is None or base name 'one return volume base name 
def make pythonzip global python filesd realpath join 'private' 'lib' 'python2.7' def select fn if is blacklist fn return Falsefn realpath fn assert fn d fn fn d ]if fn '/site-packages/' or fn '/config/' or fn '/lib-dynload/' or fn '/libpymodules.so' return Falsereturn fnpython files [x for x in listfiles d if select x ]zfn join 'private' 'lib' 'python27.zip' zf Zip File zfn 'w' for fn in python files afn fn d ]zf.write fn afn zf 
def  get item request data usage key Usage Key string data 'locator' item modulestore .get item usage key if not has course author access request item key raise Permission Denied return item 
def is casava v180 or later header line assert header line '@' "adfastqfilepassedasinput Headerlinemuststartwith header line ' ' if len fields 10 and fields in 'YN' return Truereturn False 
def disk usage path try st os path except Unicode Encode Error if not PY3 and isinstance path unicode try path path sys except Unicode Encode Error passst os path else raisefree st bavail * st frsize total st blocks * st frsize used st blocks - st bfree * st frsize percent usage percent used total  round 1 return sdiskusage total used free percent 
def envs ignore cache False if not ignore cache env cache os   opts  ['cachedir'] 'hgfs/envs.p' cache match salt env cache   opts   env cache if cache match is not None return cache matchret set for repo in init repo if repo method in 'branches' 'mixed' for branch in  all branches repo branch name branch branch name repo branch name 'base'ret.add branch name if repo method in 'bookmarks' 'mixed' for bookmark in  all bookmarks repo bookmark name bookmark bookmark name repo bookmark name 'base'ret.add bookmark name ret [x[0] for x in  all tags repo ] repo return [x for x in sorted ret if  env is exposed x ]
def p parameter type list 2 t pass 
def to numpy m **options dtype options 'dtype' 'complex' if isinstance m Matrix Expr return sympy to numpy m dtype dtype elif isinstance m numpy ndarray return melif isinstance m scipy sparse matrix return m raise Type Error 'xpectedsympy got %r' % m 
def build clonespec config spec object ref reloc spec template if reloc spec Move Type QUICK LINKED CLONE return vim Clone Spec template template location reloc spec config config spec snapshot object ref Snapshot else return vim Clone Spec template template location reloc spec config config spec 
def makepatch original modified patch {}for key original value in original modified value modified key None if modified value is None patch Noneelif original value ! modified value if type original value type {} patch makepatch original value modified value else patch modified valueelse passfor key in modified if key not in original patch modified patch 
def image member create context values session None memb ref models Image Member  image member update context memb ref values session session return  image member format memb ref 
def staff member required view func @wraps view func def  checklogin request *args **kwargs if request active and request staff return view func request *args **kwargs assert hasattr request 'session' "he Djangoadminrequiressessionmiddlewaretobeinstalled Edityour M I D D L E W A R E C L A S S E Ssettingtoinsert Session Middleware {'template name 'admin/login.html' 'authentication form Admin Authentication Form 'extra context {'title' _ 'ogin 'app path request full path REDIRECT FIELD NAME request full path }}return login request **defaults return  checklogin 
def try descendant S C R1 c list R2 N alpha x beta Y D C A dict D.A dictif beta D and beta < N D [one * len D.A D beta D D A dict beta D D A dict inv alpha D stack alpha x if not D deductions check R1 c list D A dict R1 c list D A dict inv returnfor w in Y if not D check 0 w returnif first in class D Y descendant subgroups S D R1 c list x R2 N Y
def get mod num module number if len H O U S E > module mod H O U S E [module]if len H O U S E > number mod instance H O U S E [number]return mod mod instance return None None 
def test elemwise3 shape 3 4 5 6 a tcn constructor theano asarray numpy *shape dtype 'float32' 'a' b tensor new val a + b .dimshuffle [2 0 3 1] new val * tensor 1 + b ** a .dimshuffle [2 0 3 1] f pfunc [b] [] updates [ a new val ] mode mode with gpu has elemwise Falsefor i node in enumerate f has elemwise has elemwise or isinstance node tensor Elemwise assert not has elemwise f theano asarray numpy 6 dtype 'float32'
def map download check request try layer request status isinstance layer dict url 'ownload % ogc server settings L O C A T I O N layer resp content http client url 'GET' status resp resp 400 return Http Response content 'omethingwentwrong status status else content 'omething Wentwrong 400except Value Error logger 'sertriedtocheckstatus buthasnodownloadinprogress return Http Response content content status status 
def photo f filename os os   file   '..' f assert os filename return filename 
def aug assign lhs op rhs if op + ' ' not in Relational Valid Relation Operator raise Value Error 'nrecognizedoperator % op return Relational Valid Relation Operator op + ' ' ] lhs rhs 
@egister Shape 'ariable L S T M def  variable lstm shape op input shape op shape .with rank 4 state shape op shape .with rank 2 memory shape op shape .with rank 2 w m m shape op shape .with rank 3 batch size input shape with state shape batch size input shape with memory shape seq len input shape num input shape with w m m shape output dim input shape with state shape output dim output dim with memory shape output dim output dim with w m m shape output dim output dim with w m m shape return [[batch size seq len output dim [batch size seq len gate num output dim [batch size seq len output dim 
def MFI bar Ds count timeperiod - 2 ** 31 return call talib with hlcv bar Ds count talib M F I timeperiod 
def concatcsv in files import os as opfrom nipype import split filenameif not isinstance in files list return in filesif isinstance in files list in files in files open in files u path name ext split filename in files out name op u out file open out name u out file first first for in file in in files file to read open in file u scrap first line file to read for line in file to read out file line return out name 
def p parameter type list opt 1 t pass 
def typechain *args if len args 0 raise Type Error 'oargumentswereprovided def annotation value 'eturnsvalueeithertransformedwithoneofthefunctioninargs or orthevalueitselfifitisinthe raises Value Error Raiseswhencannottransformvalueinanyoneof arg in args if value arg return valueif isinstance arg type and isinstance value arg return valuetry return arg value except Value Error Type Error passraise Value Error "ouldn value return annotation 
def split dataset collection instance dataset collection instance collection type return  split dataset collection dataset collection instance collection type 
def is dir url link link path url to path link without fragment return os link path 
def test psdestimator raw io raw fif raw fname events read events event name picks pick types raw meg True stim False ecg False eog False exclude 'bads' picks picks 13 3]epochs Epochs raw events event id tmin tmax picks picks baseline None 0 preload True epochs data epochs data psd P S D Estimator 2 * np 0 np y epochs -1 ]X psd transform epochs data y assert true X epochs data assert array equal psd epochs data y .transform epochs data X assert raises Value Error psd epochs y assert raises Value Error psd epochs y 
@hook.command 'word' 'wordoftheday' autohelp False def wordoftheday text if not api key return 'hiscommandrequiresan A P Ikeyfromwordnik re ' \\d\\d\\d\\d-\\d\\d-\\d\\d ' text date ''if match date match 1 url API URL + 'f The Day if date params {'api key api key 'date' date dateelse params {'api key api key 'today'json requests url params params .json if json word json json json Of Speech json 'hewordfor '.format day word out + '\x0305 {} \x0305'.format pos out + '\x0310{}\x0310'.format note out + 'efinition \x02\x0303{}\x0303'.format definition return ''.join out else return "orry Icouldn checkoutthisawesomeotterinstead 'http /l Wx 
@get '/scan/<taskid>/status' def scan status taskid if taskid not in Data Store logger 'nvalidtask I Dprovidedtoscan status ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D if Data Store process is None status 'notrunning'else status 'terminated' if Data Store has terminated is True else 'running' logger 'etrievedscanstatus % taskid return jsonize {'success' True 'status' status 'returncode' Data Store get returncode }
def bot data in session *args **kwargs text args if args else None if text is None returnif text in  IDLE COMMAND session session counters idle True returnkwargs 'options' None session cmd text text session session session session counters 
def  create identity id type None username None password None tenant id None tenant name None api key None verify ssl None return context False if id type cls  import identity id type else cls settings 'identity class if not cls raise exc Identity Class Not Defined 'oidentityclasshasbeendefinedforthecurrentenvironment if verify ssl is None verify ssl get setting 'verify ssl context cls username username password password tenant id tenant id tenant name tenant name api key api key verify ssl verify ssl if return context return contextelse global identityidentity context 
@not implemented for 'directed' @not implemented for 'multigraph' def resource allocation index G ebunch None def predict u v return sum 1 / G w for w in nx neighbors G u v return  apply prediction G predict ebunch 
def translate pattern pattern anchor 1 prefix None is regex 0 if is regex if isinstance pattern str return re pattern else return patternif pattern pattern re glob to re pattern else pattern re ''if prefix is not None empty pattern glob to re '' prefix re glob to re prefix [ - len empty pattern ]pattern re '^' + os prefix re '.*' + pattern re elif anchor pattern re '^' + pattern re return re pattern re 
def test traverse postorder duplicate subtrees subtree ET u ET 1 ET 2 tree ET u subtree subtree traversal [n.value for n in tree postorder ]assert traversal [1 2 u 1 2 u u 
def get Path By Key key xml Element if key not in xml Element Dictionary return []word str xml Element Dictionary .strip evaluated Link Value get Evaluated Link Value word xml Element if evaluated Link Value  class   list return get Path By List evaluated Link Value xml Element Object get X M L Element Object evaluated Link Value if xml Element Object None return []return xml Element Object Paths [0]
def compare search obj obj a obj b assert  num difference obj a obj b 0 compare attrs obj a obj b list obj a  dict   if not isinstance obj a Search I O H S P Fragment assert len obj a len obj b 'length %ivs%ifor%rvs%r' % len obj a len obj b obj a obj b for item a item b in zip obj a obj b assert compare search obj item a item b return True 
def get plugin manager return get config .pluginmanager
def itemmap func d factory dict rv factory rv map func iteritems d return rv 
def matchmark colitem markexpr return eval markexpr {} Mark Mapping colitem 
def fields2csv head fields prefix '' line []for field subfields in fields if subfields is True or callable subfields line prefix + field elif isinstance subfields dict line + fields2csv head subfields prefix prefix + field + '.' return line 
def  check group auth context data dict if not data dict return Truemodel context context context 'package' api version context 'api version or '1' group blobs data dict 'groups' [] groups set for group blob in group blobs if isinstance group blob dict id group blob 'id' or group blob 'name' if not id continueelse id group blobgrp model Group id if grp is None raise logic Not Found _ 'roupwasnotfound groups grp if pkg pkg groups pkg groups groups groups - set pkg groups for group in groups if not authz user permission for group or org group user 'update' return Falsereturn True 
def auth traps enabled name status True ret {'name' name 'changes' {} 'comment' str 'result' None 'nable Authentication Traps status   salt  ['win snmp auth traps enabled if status current status ret '{0}alreadycontainstheprovidedvalue.'.format vname ret Trueelif   opts  ['test'] ret '{0}willbechanged.'.format vname ret {'old' current status 'new' status ret 'et vname ret {'old' current status 'new' status   salt  ['win snmp auth traps enabled status status return ret 
def make sample node table bt mf dict sids bt header 'ode I D DCTB Node Type DCTB Abundance DCTB ' + ' DCTB '.join mf dict lines [header] + [ '%s DCTB sample DCTB %s DCTB ' % sid bt sid axis 'sample' .sum + ' DCTB '.join mf dict for sid in sids return lines 
def list compatible workflows get compatible feedback alfred Feedback for w in workflows subtitle 'v' + unicode w + '' + w feedback Item title w subtitle subtitle icon w valid 'no' if feedback Empty feedback Item title 'ocompatibleworkflowsfound valid 'no' autocomplete '' else feedback Item title 'oback valid 'no' icon 'back.png' autocomplete '' feedback 
def get settings priority priority if isinstance priority six types return SETTINGS P R I O R I T I E S return priority 
def cubehelix gamma 1.0 s 0.5 r -1.5 h 1.0 def get color function p0 p1 def color x xg x ** gamma a h * xg * 1 - xg / 2 phi 2 * np * s / 3 + r * x return xg + a * p0 * np phi + p1 * np phi return colorreturn {u'red' get color function -0.14861 1.78277 u get color function -0.29227 -0.90649 u get color function 1.97294 0.0 }
def   prepare fancyarrow dpi cor test fig2 plt u dpi cor test figsize 4 3 dpi 50 ax fig2 subplot 111 ax xlim [0 1] ax ylim [0 1] ax patch mpatches Fancy Arrow Patch pos A 0.3 0.4 pos B 0.8 0.6 lw 3 arrowstyle u mutation scale 100 return fig2 
def get configured projects user Abstract Node apps model 'bstract Node configured project ids set user subscriptions get all user subscriptions user for subscription in user subscriptions if subscription is None continuenode subscription not isinstance node Abstract Node or subscription id user .exists and not node id or node id not in user configured or node collection continuewhile node id and not node deleted node node nodeif not node deleted configured project ids node id return list configured project ids 
def spawn public stream args keyword None if keyword if keyword '#' keyword keyword ]args.track keywords keywordg keywordelse g 'lobal P R E F I X u2str emojize format prefix keyword g g ''th threading Thread target stream args c P U B L I C DOMAIN'] args th Trueth 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def setpassword name password return update name name password password 
def verify indices all unique obj axis names [ 'index' 'index' 'columns' 'items' 'major axis 'minor axis ][ obj - 1 ]for axis name index in zip axis names obj if index unique continueraise Value Error 'uplicateentriesin {dupes}.'.format type type obj .  name   axis axis name dupes sorted index ] return obj 
def kill all jobs ret []for data in running ret signal job data salt SIGKILL return ret 
def body request return Http Response request 
def continuation tokens cli width return [ Token u * width - 1 + u ]
def cpu has flags flags cpu info get cpu info if not isinstance flags list flags [flags]for flag in flags if not list grep cpu info '.*%s.*' % flag return Falsereturn True 
def  check for setattr instance module instance parent until try stmts module names Key Error return Falsereturn any instance pos < stmt pos < instance pos for stmt in stmts 
def get Add Indexed Grid grid vertexes z indexed Grid []for row in grid indexed Row [rid indexed Row for point Complex in row vector3index Vector3 Index len vertexes point Complex point Complex z indexed Row vector3index vertexes vector3index return indexed Grid 
def create element tag attributes None sub elements None if tag elem Xml E T Element tag if attributes for k v in attributes elem k v if sub elements for k v in sub elements if v if k 'packages' for v tuple in v sub elem Xml E T Sub Element elem 'package' sub elem name sub elem version v tuplesub elem 'name' sub elem name sub elem 'version' sub elem version elif isinstance v list sub elem Xml E T Sub Element elem k for v tuple in v if len v tuple 2 v tag v tuple text v tuple v text v elem Xml E T Sub Element sub elem v tag v elem v textelse sub elem Xml E T Sub Element elem k sub elem vreturn elemreturn None 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def rule absent name method port None proto 'tcp' direction 'in' port origin 'd' ip origin 's' ttl None reload False ip nameret {'name' name 'changes' {} 'result' True 'comment' 'ulenotpresent   salt  ['csf.exists'] method ip port port proto proto direction direction port origin port origin ip origin ip origin ttl ttl if not exists return retelse rule   salt  ['csf.remove rule method method ip ip port port proto proto direction direction port origin port origin ip origin ip origin comment '' ttl ttl if rule comment 'ulehasbeenremoved reload if   salt  ['csf.reload'] comment + 'sfreloaded comment + 'sfunabletobereloaded commentret Rule 'emoved ret 
def id or nid song dict return song dict u or song dict 
def detect stream try json stream return Trueexcept Value Error return False 
def patch object *args **kwargs warnings 'leaseusepatch Deprecation Warning 2 return  patch object *args **kwargs
def render to response best match request template name dictionary None dictionary dictionary or {} dictionary page Page match for request request return render request template name dictionary 
def  get http proxy url http proxy url ''host   salt  ['config.option'] 'proxy host port   salt  ['config.option'] 'proxy port username   salt  ['config.option'] 'proxy username password   salt  ['config.option'] 'proxy password if host and port if username and password http proxy url 'http //{0} {1}@{2} {3}'.format username password host port else http proxy url 'http //{0} {1}'.format host port return http proxy url 
def tokenize input input sent vocab input tok []for sent in input sent text int [ -1 if t not in vocab else vocab for t in tokenize sent ]input tok np text int return np input tok 
def build collection type dataset instances dataset collection model Dataset Collection set collection elements dataset collection type dataset instances return dataset collection 
def get tiles height width ratio n tiles width ratio 1.0 width int np np n tiles * width ratio return get tiles height width n tiles desired width width 
def zero one loss y true y pred normalize True sample weight None score accuracy score y true y pred normalize normalize sample weight sample weight if normalize return 1 - score else if sample weight is not None n samples np sample weight else n samples  num samples y true return n samples - score 
def get path uid path if hasattr os 'O NOFOLLOW' fd os path os O RDONLY | os O NOFOLLOW file uid os fd .st uidos fd elif not os path file uid os path .st uidelse raise O S Error 'illnotreturnuidforsymlinks % path return file uid 
def  str elem config key  value config key '' if  valid str  value config  value 
def  get nonstar args func return func code varnames func code argcount 
def get org from db org country if org 'gvt' if country 'uinea return 'inisteredela Sante return 'o H % country if org 'WHO' return 'orld Health Organisation db otable org .select table limitby 0 1 .first if row return orgrow db otable org .select table limitby 0 1 .first if row return row org in new org new org + 1else new org 1return org 
def ae save token token key import gdata enginekey name ''.join 'gd auth token token key return gdata engine token key name token to blob token 
@requires segment infodef readonly indicator pl segment info text u R O return text if int vim getbufoption segment info u else None 
def  make text block name content content type None if content type 'xhtml' return u "xhtml"><divxmlns "%s">%s</div></%s>\n' % name XHTML NAMESPACE content name if not content type return u % name escape content name return u "%s">%s</%s>\n' % name content type escape content name 
@register 'role' def  check role brain match kind match target dict cred dict return match in [x.lower for x in cred dict 
def  description of path from charade import Universal Detectoru Universal Detector for line in open path 'rb' u line u result u result return '%s %swithconfidence%s' % path result result else return '%s noresult % path 
def canonical form k v SPECIAL SNOWFLAKES set ['set-cookie' 'set-cookie2'] k k if k in SPECIAL SNOWFLAKES yield k v else for sub val in v ' ' yield k sub val 
def posix to ldml fmt locale buf []pc Falsequoted []for c in fmt if not pc and c quoted c if c ! "'" else "''" continueif quoted buf "'" buf ''.join quoted buf "'" quoted []if pc if c '%' buf '%' elif c 'x' buf locale formats elif c 'X' buf locale formats else buf POSIX TO L D M L pc Falseelif c '%' pc Trueelse buf c if quoted buf "'" buf ''.join quoted buf "'" return ''.join buf 
def test lex expression symbols objs tokenize ' foobar ' assert objs [y Expression [y Symbol 'foo' Hy Symbol 'bar' ] ]
def setup axes1 fig rect tr Affine2 D .scale 2 1 .rotate deg 30 grid helper floating axes Grid Helper Curve Linear tr extremes -0.5 3.5 0 4 ax1 floating axes Floating Subplot fig rect grid helper grid helper fig subplot ax1 aux ax ax1 aux axes tr grid helper finder locator1 nbins 4grid helper finder locator2 nbins 4return ax1 aux ax 
def get resource resource name key identifier fields profile 'pagerduty' subdomain None api key None if 'pagerduty util cache not in   context     context  ['pagerduty util cache {}if resource name not in   context  ['pagerduty util cache if resource name 'services' action resource name + '?include[] escalation policy else action resource name  context  ['pagerduty util cache name  query action action profile profile subdomain subdomain api key api key [resource name resource in   context  ['pagerduty util cache name for field in identifier fields if resource key if resource name 'schedules' full resource info  query action '{0}/{1}'.format resource name resource profile profile subdomain subdomain api key api key return full resource inforeturn resourcereturn None 
def framework info filename is framework STRICT FRAMEWORK R E filename if not is framework return Nonereturn is framework 
def get xyz coords illuminant observer illuminant illuminant try return illuminants Key Error raise Value Error "nknownilluminant '{0}' '{1}' ".format illuminant observer 
def action name def decorator func func action namereturn funcreturn decorator 
def get projects with bugs projects mysite Project bug count Count 'bug' .filter bug count  gt 0 .order by u name return projects 
def  cpu tot time times tot sum times if LINUX tot - getattr times 'guest' 0 tot - getattr times 'guest nice 0 return tot 
def in6 getnsmac a a struct '16B' a [ -4 ]mac '33 33 'mac + ' '.join map lambda x '%.2x' % x a return mac 
def user has permission user db permission type if not cfg C O N F return Trueresolver resolvers resolver for permission type permission type permission type result resolver has permission user db user db permission type permission type return result 
def  get old license titles migrate engine titles {}select licenses ' E L E C Tid name F R O Mlicense migrate engine select licenses for id title in q titles titlereturn titles 
def  quote arg arg if '"' not in arg and '' in arg return '"%s"' % arg return arg 
def  check gle response response response  unpack response response assert response returned 1 result response check command response result if result 'wtimeout' False raise W Timeout Error result 'errmsg' result 'err' result 'code' result error msg result 'err' '' if error msg is None return resultif error msg 'notmaster' raise Not Master Error error msg result details resultif 'bjects in result for errobj in result Objects if errobj 'err' error msg details errobjbreakcode details 'code' if code in 11000 11001 12582 raise Duplicate Key Error details code result raise Operation Failure details code result 
def table shape fill None return [[fill for j in range shape ] for i in range shape ]
def reload library global libraryavailable ] library update user library  base library 
def make external id product domain getattr settings 'DOMAIN' None if not domain domain 'marketplace-dev'external id domain '.' [0]return '{0} {1}'.format external id product 
def  set proc title process name libc ctypes C D L L ctypes library 'c' name buffer ctypes string buffer len process name + 1 name buffer process nametry libc ctypes name buffer except Attribute Error pass 
def  rec strip g v if not v return dup strip g w v - 1 return dmp strip [ rec strip c w for c in g v 
def test flush jobs bg Background Job Manager j jobs sleeper j nt equal len jobs 1 nt equal len jobs 0 jobs nt equal len jobs 0
def redirect to custom form request auth entry kwargs backend name request id provider Registry from pipeline {'backend' backend name 'kwargs' kwargs .provider idform info AUTH ENTRY C U S T O M entry key form info key isinstance secret key unicode secret key secret key 'utf-8' custom form url form info str json {'auth entry auth entry 'backend name backend name 'provider id provider id 'user details kwargs digest hmac secret key msg data str digestmod hashlib .digest request custom auth entry data {'data' base64 data str 'hmac' base64 digest 'post url custom form url redirect reverse 'tpa post to custom auth form 
def  sympy tensor product *matrices if not all isinstance m Matrix for m in matrices raise Type Error 'equenceof Matricesexpected got %s' % repr matrices matrix expansion matrices -1 ]for mat in reversed matrices -1 ] rows mat mat i in range rows start matrix expansion * mat i * cols ] for j in range cols - 1 start start join matrix expansion * mat i * cols + j + 1 ] if i 0 next startelse next next join start matrix expansion nextreturn matrix expansion 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def Reset *args for mock in args mock Reset 
def find file path tgt env 'base' **kwargs fnd {'path' '' 'rel' ''}if os path or tgt env not in envs return fndfor repo in init env root  env root repo tgt env if env root is None continueif repo and not path repo + os continuerepo path path repo ].lstrip os if repo repo path os repo repo path full os env root repo path if os full fnd pathfnd fulltry fnd list os full except Exception passreturn fndreturn fnd 
def is release return VERSION[6]
def importer test global Job Destinationglobal Job Mapping Exceptionif test class Job Destionation object def   init   self *kwd self kwd 'id' self Spec kwd 'params' [pecification kwd 'runner' from galaxy import Job Mapping Exceptionelse from galaxy import Job Destinationfrom galaxy import Job Mapping Exception 
def create folder root '.' folder None folder path os root folder if folder and not os folder path try os folder path except O S Error raise Cuckoo Operational Error 'nabletocreatefolder %s' % folder path 
def asquare cdfvals axis 0 ndim len cdfvals nobs cdfvals reverse [slice None ] * ndim islice [one * ndim islice slice None slice reverse slice None None -1 asqu - 2.0 * np 1.0 nobs + 1 [islice] - 1 * np cdfvals + np 1 - cdfvals reverse / nobs .sum axis - nobs return asqu 
def resource type versioned topic resource type version None  validate resource type resource type cls resources resource cls resource type return topics R E S O U R C E TOPIC PATTERN % {'resource type resource type 'version' version or cls V E R S I O N }
def  assert inside fro to from .source space import  get solidstot angle  get solids to fro if np tot angle / 2 * np - 1.0 > 1e-05 .any raise Runtime Error 'urface %  surf name  surf name 
def  chunk data X slices slices [sl for sl in slices if len sl ]selected times np [np.ravel sl for sl in slices start np selected times stop np selected times + 1 slices chunk [ sl - start for sl in slices X chunk X[ start stop X chunk slices chunk 
def cgsnapshot destroy context cgsnapshot id return I M P L destroy context cgsnapshot id 
def writeestr dst edict os dst pathname Res F Sp Create Res File dst 'RSED' 'rsrc' sm All Scripts output Res F Sp Open Res File dst WRITE Res Use Res File output for num in edict res Res Resource Pstring edict res Add Resource 'str num '' res Write Resource Res Close Res File output 
def assert same dict data expected data diffs diff dicts data expected data if diffs raise Diff Assertion Error diffs 
def dup max norm f K if not f return K return max dup abs f K
def corpus path encoding 'utf-8' for s in open path encoding encoding s map lambda w w '/' s .split '' s map lambda w w '&slash;' '/' w s yield s 
def id to ec2 vol id volume id if uuidutils uuid like volume id ctxt context admin context int id get int id from volume uuid ctxt volume id return id to ec2 id int id 'vol-%08x' else return id to ec2 id volume id 'vol-%08x'
def libvlc event attach p event manager i event type f callback user data f  Cfunctions 'libvlc event attach None or  Cfunction 'libvlc event attach 1 1 1 1 None ctypes int Event Manager ctypes uint Callback ctypes void p return f p event manager i event type f callback user data 
def make links absolute root base url def link repl href return urljoin base url href rewrite links root link repl 
def  parse composites fh d {}for line in fh line line if not line continueif line 'nd Composites return dvals line ';' cc vals name num Parts cc  to int cc pcc Parts []for s in vals -1 ] pcc s name dx dy pcc  to float pcc  to float pcc pcc Parts name dx dy d pcc Partsraise Runtime Error u Badcompositesparse 
def is valid nickname entry try return bool NICKNAME P A T T E R N entry except Type Error return False 
def numeric part s m re numeric part s if m return int m 1 return None 
def  linux bin exists binary for search cmd in 'which' 'type-ap' try return   salt  ['cmd.retcode'] '{0}{1}'.format search cmd binary 0 except salt Command Execution Error passtry return len   salt  ['cmd.run all 'whereis-b{0}'.format binary ['stdout'].split > 1 except salt Command Execution Error return False 
def  ss data c None if c is None c mean data T total count  sum x - c ** 2 for x in data U total2 count2  sum x - c for x in data assert T U and count count2 total - total2 ** 2 / len data assert not total < 0 'negativesumofsquaredeviations %f' % total return T total 
def threaded reactor global  twisted threadtry from twisted import reactorexcept Import Error return None None if not  twisted thread from twisted import threadablefrom threading import Thread twisted thread Thread target lambda reactor install Signal Handlers False  twisted thread Daemon True  twisted thread return reactor  twisted thread 
def try enum cls val try return cls val except Value Error return val 
def person search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'pr' 'person'
def jacobi normalized n a b x nfactor S 2 ** a + b + 1 * gamma n + a + 1 * gamma n + b + 1 / 2 * n + a + b + 1 / factorial n * gamma n + a + b + 1 return jacobi n a b x / sqrt nfactor 
def installed pkgs cmd 'pkgutil--pkgs'return   salt  ['cmd.run'] cmd .split '\n'
def create or update trigger type db trigger type assert isinstance trigger type dict trigger type api Trigger Type A P I **trigger type trigger type api trigger type api Trigger Type A P I model trigger type api ref Resource Reference string reference name trigger type api pack trigger type api existing trigger type db get trigger type db ref if existing trigger type db is update Trueelse is update Falseif is update trigger type api existing trigger type db type db Trigger Type or update trigger type api extra {'trigger type db trigger type db is update L O G 'rigger Typeupdated Trigger Type %s' % trigger type db extra extra else L O G 'rigger Typecreated Trigger Type %s' % trigger type db extra extra return trigger type db 
def name to pathname name return name ' ' '/'
def  faa di bruno partitions n if n < 1 raise Value Error 'xpectedapositiveinteger % n try return  faa di bruno cache Key Error raise Not Implemented Error 'igherordertermsnotyetimplemented 
def can eliminate tool dependency metadata dict name dependency type version td dict metadata dict 'tool dependencies {} for td key td val in td dict if td key 'set environment for td in td val n td 'name' None t td 'type' None if n name and t dependency type return Falseelse n td val 'name' None t td val 'type' None v td val 'version' None if n name and t dependency type and v version return Falsereturn True 
@cli.command context settings CONTEXT SETTINGS @click.argument 'crashfile' type Existing File Path callback check not none @click.option '-r' '--rerun' is flag True flag value True help 'eruncrashednode @click.option '-d' '--debug' is flag True flag value True help 'nable Pythondebuggerwhenre @click.option '-i' '--ipydebug' is flag True flag value True help 'nable I Pythondebuggerwhenre @click.option '-w' '--dir' type Existing Dir Path help 'irectorywheretorunthenodein def crash crashfile rerun debug ipydebug dir from .crash files import display crash filedebug 'ipython' if ipydebug else debug if debug 'ipython' import sysfrom I Python import ultratbsys ultratb Formatted T B mode 'erbose color scheme 'inux call pdb 1 display crash file crashfile rerun debug dir 
def gcs get request url return requests 'GET' url verify False 
def mock render to string template name context return str template name sorted context 
def assert multi index is product testcase index *levels testcase Is Instance index Multi Index 'ulti Index % index testcase Equal set index set product *levels
def submit barcodes release barcode query mbxml barcode request release barcode return  do mb post 'release' query 
def  deserialize blobs artifact type blobs from db artifact properties for blob name blob value in six blobs from db if not blob value continueif isinstance artifact type blob name declarative List Attribute Definition val []for v in blob value b definitions Blob size v locations v checksum v item key v key val b elif len blob value 1 val definitions Blob size blob value locations blob value checksum blob value item key blob value key else raise exception Invalid Artifact Property Value message _ 'lob name smaynothavemultiplevalues name blob name artifact properties name val 
def get instance value label return  check range and return 'instance' label -1 9 -1
def get configuration tag api return api service hash 
def  link active kwargs highlight actions kwargs 'highlight actions kwargs 'action' '' .split return c kwargs 'controller' and c in highlight actions 
def get Deprecated self decorators for a in decorators if isinstance a ast Call Func decorator a List if isinstance decorator ast Getattr get Attr decorator List name get Attr self Name name + '.' + get Attr else fn self Name decorator if fn 'twisted.python.deprecate.deprecated' try self deprecated info deprecated To Useful Text self decorator except Attribute Error pass 
def  dup rr trivial gcd f g K if not f or g return [] [] [] elif not f if K nonnegative dup LC g K return g [] [ else return dup neg g K [] [ - K ] elif not g if K nonnegative dup LC f K return f [ [] else return dup neg f K [ - K ] [] return None 
def group type get all context inactive False filters None marker None limit None sort keys None sort dirs None offset None list result False return I M P L type get all context inactive filters marker marker limit limit sort keys sort keys sort dirs sort dirs offset offset list result list result 
def publish string source source path None destination path None reader None reader name 'standalone' parser None parser name 'restructuredtext' writer None writer name 'pseudoxml' settings None settings spec None settings overrides None config section None enable exit status False output pub publish programmatically source class io String Input source source source path source path destination class io String Output destination None destination path destination path reader reader reader name reader name parser parser parser name parser name writer writer writer name writer name settings settings settings spec settings spec settings overrides settings overrides config section config section enable exit status enable exit status return output 
def save telemetry submission data pce _ Persistent Cache Entry or create defaults {'data' None **LAST DATA KWARGS pce datapce 
@pick context manager readerdef s3 image get context image id result model query context models S3 Image read deleted 'yes' .filter by id image id .first if not result raise exception Image Not Found image id image id return result 
def  solve hyper RE f x RE g k terms Add args RE if len terms 2 gs list R E Function P Q map R E gs m gs - gs if m < 0 P Q Q P m abs m return rsolve hypergeometric f x P Q k m 
def addressable type constraint return  addressable wrapper Addressable Descriptor type constraint 
def failure As J S O N failure return dict failure  getstate   type dict   module   failure  module     name   failure  name  
def Get Remote App Id From Server server path remote token None if not remote token random remote token str random [2 ]remote token str remote token urlargs {'rtok' remote token server Send path payload None **urlargs if not response '{' raise Configuration Error 'nvalidresponserecievedfromserver %s' % response app info yaml response if not app info or 'rtok' not in app info or 'app id not in app info raise Configuration Error 'rrorparsingapp idlookupresponse if str app info ! remote token raise Configuration Error 'okenvalidationfailedduringapp idlookup sent got ' % repr remote token repr app info return app info id 
def  copytobuffer x isfloat Falseislist Falseistuple Falseif hasattr x 'shape' if x return  copytobuffer return scalar x else try x x order 'C' .astype 'd' return inx False False False except try x inx x 'd' return inx False False False except raise Type Error 'inputmustbeanarray list tupleorscalar elif hasattr x 'typecode' inx array 'd' x elif type x list inx array 'd' x islist Trueelif type x tuple inx array 'd' x istuple Trueelse return  copytobuffer return scalar x return inx isfloat islist istuple 
def serialized function function S T R I N G Truereturn function 
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
def inject into urllib3 connection wrap socket ssl wrap socketutil H A S SNI HAS S N Iutil I S PYOPENSSL True 
def get input stream environ safe fallback True stream environ length get content length environ if environ 'wsgi.input terminated return streamif content length is None return safe fallback and  empty stream or stream return Limited Stream stream content length 
def strip files files argv max 256 * 1024 while files cmd list STRIPCMD pathlen sum len s + 1 for s in cmd while pathlen < argv max and files f files cmd f pathlen + len f + 1 if len cmd > len STRIPCMD all files cmd STRIPCMD ]unwritable files tuple filter None None if os x os W OK else x os x .st mode for x in all files [os.chmod x stat S IWRITE | old mode for x old mode in unwritable files call cmd [os.chmod x old mode for x old mode in unwritable files 
@pytest.mark.parametrize u [pattern1 pattern2 def test issue118 doc pattern ORG doc O R G Matcher doc {oston Celtics u O R G {} pattern } assert len list doc 0 matches [ ent type start end for ent id ent type start end in matcher doc ]assert matches [ ORG 9 11 ORG 10 11 ] doc matches 1]ents list doc assert len ents 1 assert ents ORG assert ents 9 assert ents 11
def Connect No S S L host 'localhost' port 443 user 'root' pwd '' service 'hostd' adapter 'SOAP' namespace None path '/sdk' version None key File None cert File None thumbprint None b64token None mechanism 'userpass' if hasattr ssl ' create unverified context ssl Context ssl create unverified context else ssl Context Nonereturn Connect host host port port user user pwd pwd service service adapter adapter namespace namespace path path version version key File key File cert File cert File thumbprint thumbprint ssl Context ssl Context b64token b64token mechanism mechanism 
def win handle is a console handle from ctypes import byref POINTER windll W I N F U N C T Y P Efrom ctypes import BOOL DWORD HANDLEFILE TYPE CHAR 2FILE TYPE REMOTE 32768INVALID HANDLE VALUE DWORD -1 .et Console Mode WINFUNCTYPE BOOL HANDLE POINTER DWORD 'et Console Mode windll Get File Type WINFUNCTYPE DWORD DWORD 'et File Type windll if handle INVALID HANDLE VALUE or handle is None return Falsereturn Get File Type handle & ~ FILE TYPE REMOTE FILE TYPE CHAR and Get Console Mode handle byref DWORD
def  expand path path path os path path os path return path 
def discussion category id access course user discussion id xblock None if discussion id in course level discussion topic ids return Truetry if not xblock key get cached discussion key course discussion id if not key return Falsexblock modulestore .get item key return has required keys xblock and has access user 'load' xblock course except Discussion Id Map Is Not Cached return discussion id in get discussion categories ids course user 
def generate alton commands hotfix hash template textwrap '\n@altoncutamiforstage-edx-edxappfromprod-edx-edxappwithedx platform version {hotfix hash platform version {hotfix hash platform version {hotfix hash return template .format hotfix hash hotfix hash 
def object dict objects by ref False error message None error dict None if by ref items obj obj for obj in objects else items obj obj for obj in objects ordered Ordered Dict for key value in items if key in ordered error message error message or 'uplicatekey error dict error dict or {} raise Model Error error message key key **error dict ordered valuereturn ordered 
@membership requireddef message create request slug topic id template name 'groups/messages/message form group get object or 404 Group slug slug topic get object or 404 Group Topic pk topic id group group if request 'POST' form Group Message Form request P O S T if form valid message form commit False message request topicmessage return redirect request topic else form Group Message Form return render request template name {'group' group 'topic' topic 'form' form 
def echo to hierarchy text object parent text objectwhile parent parent parent parent parentdef  do print text object indent '' 'printsrecursively.'debug indent + as unicode text object try for child in text object children  do print child indent indent + '' except Attribute Error pass do print parent 
def read raw fif fname allow maxshield False preload False add eeg ref False verbose None return Raw fname fname allow maxshield allow maxshield preload preload add eeg ref add eeg ref verbose verbose 
def add Observer section name target attr None dtype str callback None default None observers config section name {} if not attr tokens name .split attr tokens + ''.join t for t in tokens ] log 'ubscribing target attr attr intern attr targetref weakref target observers targetref attr callback val  get Property section name dtype default setattr target attr val if callback callback val 
def Extract Shared M S V S System Includes configs generator flags all system includes Ordered Set configs 'msvs system include dirs [] for config in configs ] system includes config 'msvs system include dirs [] all system includes all system includes & Ordered Set system includes if not all system includes return Noneenv Get Global V S Macro Env Get V S Version generator flags expanded system includes Ordered Set [xpand Macros include env for include in all system includes if any [ '$' in include for include in expanded system includes return Nonefor config in configs includes config 'msvs system include dirs [] if includes new includes [i for i in includes if i not in all system includes ]config['msvs system include dirs new includesreturn expanded system includes 
def get default currency company get default company if company return frappe value u Company company u currency 
def  close event event params params params params params 'hannelsmarkedasbad %s' % params 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def egl Get Display display EGL DEFAULT DISPLAY res  lib Get Display display if not res or res EGL NO DISPLAY raise Runtime Error 'ouldnotcreatedisplay return res 
def enable inheritance path object Type clear False dc dacl Constants object Type dc Object Type Bit object Type path dc Path path object Type return  set dacl inheritance path object Type True None clear 
def explode dn dn notypes 0 flags 0 if not dn return []dn decomp str2dn dn flags rdn list []for rdn in dn decomp if notypes rdn list '+'.join [escape dn chars avalue or '' for atype avalue dummy in rdn else rdn list '+'.join [' '.join atype escape dn chars avalue or '' for atype avalue dummy in rdn return rdn list 
def only ci decorated func @wraps decorated func def  inner func *args **kwds if is running on ci return decorated func *args **kwds return  inner func 
def plan return s3 rest controller rheader s3db rheader hide filter True 
def find root thrifts basedirs sources log None root sources set sources for source in sources root sources update find includes basedirs source log log return root sources 
def test dont collect non function callable testdir testdir 'h object \ndef  call   self \npass\n\ntest a Oh \n\ndeftest real \npass\n' result testdir '-rw' result lines ['*collected1item*' 'WC2*' '*1passed 1pytest-warningsin*']
def cgconfig start return service cgconfig control 'start'
def password change email user from r2 import Password Change Emailreturn  system email user Password Change Email user user .render style 'email' Email Kind P A S S W O R D CHANGE user user 
def Parse Index Definitions document open fn None try return yaml object Build Single Object Index Definitions document except yaml errors Empty Configuration File return None 
def test init custom parameters tpot obj T P O T Classifier population size 500 generations 1000 mutation rate 0.05 crossover rate 0.9 scoring 'accuracy' num cv folds 10 verbosity 1 random state 42 disable update check True assert tpot obj size 500 assert tpot obj 1000 assert tpot obj rate 0.05 assert tpot obj rate 0.9 assert tpot obj function 'accuracy' assert tpot obj cv folds 10 assert tpot obj time mins is None assert tpot obj 1 assert tpot obj optimized pipeline is None assert tpot obj fitted pipeline is None assert not tpot obj pset is None assert not tpot obj toolbox is None 
def Get Remote App Id servername path auth func rpc server factory appengine rpc Http Rpc Server rtok None secure False save cookies False server rpc server factory servername auth func Get User Agent Get Source Name save cookies save cookies debug data False secure secure app id Get Remote App Id From Server server path rtok return app id server 
def sig mult s m return sig monomial mul s m s 
def create upload url success path max bytes per blob None max bytes total None rpc None gs bucket name None rpc create upload url async success path max bytes per blob max bytes per blob max bytes total max bytes total rpc rpc gs bucket name gs bucket name return rpc result 
def copy descriptor descriptor newname None if newname is None newname descriptor descriptor discrete newf Orange Discrete Variable newname values descriptor base value descriptor value ordered descriptor newf dict descriptor elif descriptor continuous newf Orange Continuous Variable newname newf of decimals descriptor of decimalsnewf dict descriptor else newf type descriptor newname newf dict descriptor return newf 
def task status update many context data dict results []model context context 'defer commit context commit Truefor data in data dict results  get action 'task status update context data if not deferred context 'defer commit if not context 'defer commit model Session return {'results' results 
def  match impl expr op other **kw return  boolean compare expr operators op  check literal expr operators op other result type type api M A T C H T Y P E negate operators op if op is operators op else operators op **kw
def uniform cdf x if x < 0 return 0elif x < 1 return xelse return 1
def is lucas prp n n as int n if n 2 return Trueif n < 2 or n % 2 0 return Falseif is square n False return False D P Q  lucas selfridge params n if D 0 return False U V Qk  lucas sequence n P Q n + 1 return U 0
def is gtk desktop if sys 'linux' xdg desktop os 'XDG CURRENT DESKTOP' '' if xdg desktop gtk desktops [nity 'GNOME' ' F C E any [xdg desktop d for d in gtk desktops return Trueelse return Falseelse return Falseelse return False 
def create url hostname port None is Secure False if port is not None netloc '%s %d' % hostname port elif is Secure netloc u 443'.format hostname else netloc u 80'.format hostname if is Secure scheme u scheme u u //{}'.format scheme netloc 
def  do lin field coeff bem rr tris tn ta rmags cosmags ws bins coeff np bins -1 ] + 1 len bem rr for tri tri nn tri area in zip tris tn ta tri rr bem rr []for trr in tri rr diff rmags - trr dl np diff * diff axis 1 c fast cross 3d diff tri nn ] x tri area * np c * cosmags axis 1 / 3.0 * dl * np dl zz + [np.bincount bins weights x * ws minlength bins -1 ] + 1 ]coeff[ tri + np zz .return coeff 
def find file path tgt env 'base' **kwargs fnd {'path' '' 'rel' ''}if os path or tgt env not in envs return fndfor repo in init env root  env root repo tgt env if env root is None continueif repo and not path repo + os continuerepo path path repo ].lstrip os if repo repo path os repo repo path full os env root repo path if os full fnd pathfnd fulltry fnd list os full except Exception passreturn fndreturn fnd 
def as url scheme host None port None user None password None path None query None sanitize False mask u parts [u'{0} //'.format scheme ]if user or password if user parts safequote user if password if sanitize parts [u' ' mask if mask else [u' '] else parts [u' ' safequote password ] parts u parts safequote host if host else u if port parts [u' ' port parts [u'/' path return u str part for part in parts if part 
def package finder argv try command Install Command except Type Error from pip import create main parsercommand Install Command create main parser options _ loads dumps command .parse args argv possible options ['find links FORMAT CONTROL ARG 'allow external 'allow unverified 'allow all external 'allow all prereleases 'pre' 'process dependency links {}for option in possible options kw attr option if isinstance option tuple else option option value getattr options attr MARKER if value is not MARKER kwargs valueindex urls [options.index url + options index urls if options index index urls []index urls + getattr options 'mirrors' [] if hasattr command ' build session kwargs command build session options return Package Finder index urls index urls **kwargs
def get view id list user site check global True use cache True page ids  get page ids for action user user site site action 'view page check global check global use cache use cache return page ids 
def set Last Refresh ex List cache db con db D B Connection 'cache.db' cache db con 'scene exceptions refresh {'last refreshed int time datetime .timetuple } {'list' ex List 
def require playable handler def test can play self exploration id **kwargs if exploration id in feconf D I S A B L E D EXPLORATION IDS self template 'pages/error/disabled exploration iframe restriction None returnif feconf E X P L O R A T I O N URL EMBED PREFIX in self or self 'iframed' self Trueif rights manager Actor self id .can play feconf A C T I V I T Y TYPE EXPLORATION exploration id return handler self exploration id **kwargs else raise self Page Not Found Exceptionreturn test can play 
def add Features features simplify G I S f []append  f feature in features geojson simplify feature output 'geojson' if geojson f dict type 'eature geometry json geojson append f return  f 
def gettempdirb return  os gettempdir 
def test timeit special syntax @register line magicdef lmagic line ip get ipython ip ns out line ip line magic 'timeit' '-n1-r1%lmagicmyline' nt equal  ip ns out 'myline'  ip cell magic 'timeit' '-n1-r1' '%lmagicmyline2' nt equal  ip ns out 'myline2'
def DEFINE float name default help C O N F I G Add Option type info Float name name default default description help 
def write output pin value import Adafruit BBIO.GPIO as G P I O G P I O pin value 
def fix code source options None encoding None apply config False options  get options options apply config if not isinstance source unicode source source encoding or get encoding sio io String I O source return fix lines sio options options 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def detect gzip contents return contents 2] '\x1f\x8b'
def is Line Intersecting Inside X Segment begin Complex end Complex segment First X segment Second X y x Intersection get X Intersection If Exists begin Complex end Complex y if x Intersection None return Falseif x Intersection < min segment First X segment Second X return Falsereturn x Intersection < max segment First X segment Second X 
def sessions app url 'http //localhost 8080/manager' timeout 180 return  simple cmd 'sessions' app url timeout timeout 
def list namespace namespace type pattern filter ignore case False show all False pattern list filter '.' if len pattern list 1 return filter ns namespace name pattern pattern list type pattern type pattern ignore case ignore case show all show all else filtered filter ns namespace name pattern pattern list type pattern 'all' ignore case ignore case show all show all results {}for name obj in filtered ns list namespace dict dir obj type pattern '.'.join pattern list ] ignore case ignore case show all show all for inner name inner obj in ns results '%s.%s' % name inner name ] inner objreturn results 
def test ada fit single class ada ADASYN random state RND SEED y single class np X assert warns User Warning ada X y single class 
def  parse homehub response data str root E T data str dirty json root 'known device list .get 'value' clean json unquote dirty json "'" '"' .replace '{' '{"' .replace ' "' '" "' .replace '" ' '" "' known devices [x for x in json clean json if x {}for device in known devices name device 'name' mac device 'mac' if  MAC R E G E X mac or ' ' in mac for mac addr in mac ' ' if  MAC R E G E X mac addr devices addr nameelse devices namereturn devices 
def from Pickle filename f open filename contents c Pickle f f return contents 
def  calculate lemmas stems n sum len lemmas for word in lemmas gdmt gdnt gumt gwmt 0.0 0.0 0.0 0.0 for lemma in lemmas lemmacount len lemmas gdmt + lemmacount * lemmacount - 1 gdnt + lemmacount * n - lemmacount umt wmt  calculate cut lemmas stems gumt + umtgwmt + wmtreturn gumt / 2 gdmt / 2 gwmt / 2 gdnt / 2
def enabled2py val try return LDAP V A L U E S Key Error passtry return int val except Value Error passreturn utf8 decode val 
def fix case name for s r in LOCALE N O R M A L I Z A T I O N name name s r return name 
def list ostypes return list items 'ostypes' True 'ID'
def get Loop Without Close Ends close loop if len loop < 2 return loopif abs loop - loop -1 ] > close return loopreturn loop -1 ]
def parse autopart rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--type' dest 'type' action 'store' parser argument '--encrypted' dest 'encrypted' action 'store true parser argument '--passphrase' dest 'passphrase' action 'store' parser argument '--escrowcert' dest 'escrowcert' action 'store' parser argument '--backuppassphrase' dest 'backuppassphrase' action 'store' args clean args vars parser args rules parser Nonereturn args 
def server power status host None admin username None admin password None module None return   execute cmd 'serveraction{0}'.format status host host admin username admin username admin password admin password module module 
def guess first nonoption gparser subcmds map gparser copy gparser def print usage nousage self file None passgparser usage print usage nousageprev interspersed gparser interspersed argsgparser interspersed args cwords os C O M P W O R D S error func gparser instancemethod type Option Parser gparser instancemethod error override gparser Option Parser gopts args gparser args cwords ] except System Exit return Nonefinally gparser instancemethod error func gparser Option Parser value Noneif args subcmdname args value subcmds map Key Error passgparser interspersed args prev interspersedreturn value 
def predict false args return False 
def response namespace k v if k 8] 'headers.' cherrypy '.' 1 [1]] velse setattr cherrypy k v 
def test import gzip reader data file   file   .read data gz sio c String I O String I O gz gzip Gzip File fileobj data gz sio mode 'wb' gz data gz data gz data gz sio old peek size beeswax table I M P O R T PEEK S I Z Ebeeswax table I M P O R T PEEK SIZE len data gz - 1024 try reader beeswax table Gzip File Readerlines reader data gz sio 'utf-8' assert true lines is not None lines joined '\n'.join lines assert equal data len lines joined ] lines joined finally beeswax table I M P O R T PEEK SIZE old peek size 
def file info from modpath modpath path None context file None if context file is not None context os context file else context context fileif modpath 'xml' try return  file from modpath [' xmlplus + modpath ] path context except Import Error return  file from modpath modpath path context elif modpath ['os' 'path'] return os  file   imp P Y SOURCE return  file from modpath modpath path context 
def hps Time Scale hfreq hmag stoc Env time Scaling if time Scaling % 2 ! 0 raise Value Error 'imescalingarraydoesnothaveanevensize L hfreq 0n Time max time Scaling 2] max Out Time max time Scaling 2] out L int L * max Out Time / max In Time in Frames L - 1 * time Scaling 2] / max In Time out Frames out L * time Scaling 2] / max Out Time time Scaling Env interp1d out Frames in Frames fill value 0 indexes time Scaling Env np out L yhfreq hfreq indexes ]yhmag hmag indexes ]nv stoc Env indexes ]for l in indexes ] yhfreq np yhfreq hfreq l ] yhmag np yhmag hmag l ] ystoc Env np ystoc Env stoc Env l ] return yhfreq yhmag ystoc Env 
def add X Intersection Indexes From X Intersections index x Intersection Index List x Intersections for x Intersection in x Intersections x Intersection Index List X Intersection Index index x Intersection 
def category structure category site return {'description' category 'rl '%s //%s%s' % PROTOCOL site category absolute url 'rl '%s //%s%s' % PROTOCOL site reverse 'zinnia category feed args [category.tree path 'd category 'd category and category or 0 'escription category 'ame category 
def remove task app project directory task app location os PROJECT DIRECTORY '{{cookiecutter.project slug shutil task app location 
def plugin unloaded bh thread bh regions all regions 
def putchunk fp cid *data data ''.join data fp o32 len data + cid fp data hi lo Image data Image cid fp o16 hi + o16 lo 
def chordal graph cliques G if not is chordal G raise nx Network X Error 'nputgraphisnotchordal cliques set for C in nx component subgraphs G cliques |  connected chordal graph cliques C return cliques 
def trim makeopts value return trim var 'MAKEOPTS' value 
def conv mul lin op rh val transpose False is abs False constant mul lin op {} is abs constant rh val map intf 1D to 2D [constant rh val if transpose constant np constant return fftconvolve rh val constant mode 'valid' elif constant > rh val return fftconvolve constant rh val mode 'full' else return fftconvolve rh val constant mode 'full'
def get url conn urlopen url resp conn conn return resp 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def xl cell to rowcol cell str if not cell str return 0 0 match range parts cell str col str match 2 row str match 4 expn 0col 0for char in reversed col str col + ord char - ord 'A' + 1 * 26 ** expn expn + 1row int row str - 1 col - 1return row col 
def reset no Gamma True OK init if no Gamma and OK set Video Mode NOGAMMACORRECT
def dipole potential x y r sq x ** 2 + y ** 2 theta np y x z np theta / r sq return np z - z / np z - np z 
@with intl app buildername 'html' cleanenv True def test i18n footnote break refid app app ['footnote'] result app / 'footnote.html' .text encoding 'utf-8'
def find field name field list related query if related query matches [f for f in field list if f query name name ]else matches [f for f in field list if f name ]if len matches ! 1 return Nonereturn matches 
def get unity data value 1 data copy data data copy charts ones valuereturn data copy charts ones 
def  format nsn number metadata num format carrier code None intl number formats metadata number formatif len intl number formats 0 or num format Phone Number Format N A T I O N A L available formats metadata formatelse available formats metadata number formatformatting pattern  choose formatting pattern for number available formats number if formatting pattern is None return numberelse return  format nsn using pattern number formatting pattern num format carrier code 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def str to array s import numpy as npfrom numpy import inf nanif s u s s -1 ]if s u a np eval s dtype float else a np 1d float s return a 
def discard config return   proxy  ['napalm.call'] 'discard config **{}
def org site staff config r table current human resourcesettings current settingsif settings module 'vol' if settings hrm show staff if settings org site volunteers field table current T 'ype field field Trueelif settings org site volunteers table 2field table idfield r idfield Falsefield None 
def get Idle Delay **kwargs  gsession  G Settings user kwargs 'user' schema 'org.gnome.desktop.session' key 'idle-delay' return  gsession get 
def cx Set ind1 ind2 temp set ind1 ind1 & ind2ind ^ tempreturn ind1 ind2 
def tabulate summary certificates kubeconfigs etcd certs router certs registry certs items certificates + kubeconfigs + etcd certs + router certs + registry certs summary results {'system certificates len certificates 'kubeconfig certificates len kubeconfigs 'etcd certificates len etcd certs 'router certs len router certs 'registry certs len registry certs 'total' len items 'ok' 0 'warning' 0 'expired' 0}summary results len [c for c in items if c 'expired' ] summary results len [c for c in items if c 'warning' ] summary results len [c for c in items if c 'ok' ] return summary results 
def rs hadamard exp p1 inverse False R p1 R ! QQ raise Not Implemented Errorp R not inverse for exp1 v1 in p1 p v1 / int ifac exp1 else for exp1 v1 in p1 p v1 * int ifac exp1 return p 
def  is ipython shell if ' Python not in sys return Falsetry from I Python import Interactive Shellexcept Import Error try from I Python import Interactive Shellexcept Import Error return Falsereturn isinstance shell Interactive Shell 
def  handle subset cert request config domains cert existing ' '.join cert question 'ouhaveanexistingcertificatethatcontainsaportionofthedomainsyourequested ref {0} {tcontainsthesenames {ourequestedthesenamesforthenewcertificate {oyouwanttoexpandandreplacethisexistingcertificatewiththenewcertificate cert existing ' '.join domains br os if config or config by default or zope Utility interfaces I Display .yesno question 'xpand 'ancel cli flag '--expand' force interactive True return 'renew' cert else reporter util zope Utility interfaces I Reporter reporter util message 'oobtainanewcertificatethatcontainsthesenameswithoutreplacingyourexistingcertificatefor youmustusethe Forexample {br}{br}{1}--duplicate{2}'.format existing sys ''.join sys ] br os reporter util H I G H PRIORITY raise errors Error USER CANCELLED
def hsv value image filter image *args **kwargs hsv color image 3] value hsv 2].copy value image filter value *args **kwargs hsv 2] convert value hsv return color hsv 
def encrypt A E S http request s http key m md5 m http key http key m http key str http key cipher A E S http key encrypted Encode A E S cipher s return encrypted http key 
def get service account name deadline None rpc create rpc deadline make get service account name call rpc rpc return rpc result 
def user can edit setting type user model return user perm u {}'.format model meta label model meta name 
def  get Year Cent R E cent 0 3 distance 3 now My Time My Time Now cent lambda year f cent t cent str year [f t exprset set cent now + i for i in -1 distance if len now and now exprset | set cent now + i for i in -1 distance return ' ? %s ' % '|'.join exprset if len exprset > 1 else ''.join exprset 
def  parse tokens tokens index 0parsed tokens []num tokens len tokens while index < num tokens tok Token *tokens[index] assert tok type ! token I N D E N T if tok type tokenize N E W L I N E breakif tok string in u [{' container index  parse container tokens index if not container return Noneparsed tokens container else parsed tokens Atom tok index + 1return parsed tokens 
def softmax numpy x stable x x T - x axis 1 .numer np stable x return numer T / numer axis 1 .T
def safe union a b if not isinstance a list raise Type Error 'xpectedfirstargumenttobealist butgot + str type a assert isinstance b list c []for x in a + b if x not in c c x return c 
def get Tricomplex Times Other first Tricomplex other Tricomplex tricomplex Times Other [ricomplex Times Column first Tricomplex other Tricomplex ]imes Other get Tricomplex Times Column first Tricomplex other Tricomplex tricomplex Times Other get Tricomplex Times Column first Tricomplex other Tricomplex + first Tricomplex return tricomplex Times Other 
def get meth class obj if PY2 return obj classelse return obj  self  .  class  
def detrend mean x axis None x np x if axis is not None and axis + 1 > x raise Value Error u %s outofbounds % axis if not x return np 0.0 dtype x if axis 0 or axis is None or x < 1 return x - x axis ind [slice None ] * x ind np x - x axis [ind]
def subtract mean percentile image selem out None mask None shift x False shift y False p0 0 p1 1 return  apply percentile cy subtract mean image selem out out mask mask shift x shift x shift y shift y p0 p0 p1 p1 
def parse count source return source while DIGITS
def is leap year builder year val actual year builder year val Constant DATETIME64 1970 multiple of 4 cgutils null builder builder  actual year Constant DATETIME64 3 not multiple of 100 cgutils not null builder builder actual year Constant DATETIME64 100 multiple of 400 cgutils null builder builder actual year Constant DATETIME64 400 return builder  multiple of 4 builder  not multiple of 100 multiple of 400
def load manifest package name bootstrap version '0.7' if package name in  bootstrapped returnsys  generate python path package name  rospack + sys 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  change uid gid uid gid None if not os 0 returnos gid os uid 
def return json file request match CONTENT TYPE R E request M E T A C O N T E N T TYPE'] if match charset match 1 else charset settings D E F A U L T C H A R S E Tobj dict json request charset obj json json obj dict cls Django J S O N Encoder ensure ascii False response Http Response obj json charset status 200 content type 'application/json;charset %s' % charset response Content Disposition 'attachment;filename testfile response 
def connection info for db or uri if db or uri 'postgresql //' 'postgres //' us urlparse db or uri if len us > 1 db name us ]elif us db name us db name us db name {'dsn' db or uri connection info {'database' db or uri p in 'host' 'port' 'user' 'password' cfg tools 'db ' + p ]if cfg connection info cfgreturn db or uri connection info 
def get New Derivation element Node return Grid Derivation element Node 
def needs renewal name window None if window is not None and window in 'force' 'orce True return Truereturn  renew by name window < datetime 
def get mnist withlabel True ndim 1 scale 1.0 dtype numpy label dtype numpy train raw  retrieve mnist training train  preprocess mnist train raw withlabel ndim scale dtype label dtype test raw  retrieve mnist test test  preprocess mnist test raw withlabel ndim scale dtype label dtype return train test 
def make clique bipartite G fpos None create using None name None B create using if create using is not None else networkx Graph B B nodes from G bipartite 1 for i cl in enumerate find cliques G name - i - 1 B node name bipartite 0 B edges from v name for v in cl return B
def primorial n nth True if nth n as int n else n int n if n < 1 raise Value Error 'primorialargumentmustbe> 1' p 1if nth for i in range 1 n + 1 p * prime i else for i in primerange 2 n + 1 p * ireturn p 
def fsencoding s encoding sys if isinstance s unicode s s encoding return s 
def remove masquerade zone None permanent True if zone cmd '--zone {0}--remove-masquerade'.format zone else cmd '--remove-masquerade'if permanent cmd + '--permanent'return   firewall cmd cmd 
def normalize dotted fields document if isinstance document list prev documentfor i in prev normalize dotted fields i elif isinstance document dict for field in list document if '.' in field parts field '.' prev documentfor part in parts -1 ] if part not in prev prev {}prev prev isinstance document dict list normalize dotted fields document prev -1 ]] document field elif isinstance document dict list normalize dotted fields document 
def demo grid with single cbar fig grid Image Grid fig 142 nrows ncols 2 2 axes pad 0.0 share all True label mode 'L' cbar location 'top' cbar mode 'single' Z extent get demo image for i in range 4 im grid Z extent extent interpolation 'nearest' grid axes im for cax in grid axes cax label False grid llc xticks [ -2 0 2] grid llc yticks [ -2 0 2]
def ion matplotlib True install repl displayhook 
def haddr to int addr try return int addr ' ' '' 16 except raise Value Error 
def test bool symbol assert And A True A assert And A True True A assert And A False is false assert And A True False is false assert Or A True is true assert Or A False A
def  scale params subject to subject from scale subjects dir subjects dir get subjects dir subjects dir raise error True if subject from is None ! scale is None raise Type Error 'eedtoprovideeitherbothsubject fromandscaleparameters orneither if subject from is None cfg read mri cfg subject to subjects dir subject from cfg from params cfg params cfg scale np scale if scale 0 n params 1elif scale 3 n params 3else raise Value Error 'nvalidshapeforscaleparameer Needscalarorarrayoflength3 Got % str scale if n params 1 nn scale Noneelif n params 3 nn scale 1.0 / scale else raise Runtime Error 'nvalidn paramsvalue %s' % repr n params return subjects dir subject from scale nn scale 
def mine on chain chain parent None transactions [] coinbase None if not parent parent chain coinbase chain coinbasechain update head parent for t in transactions chain transactions t assert chain candidate 1 m ethpow Miner chain candidate rounds 100nonce 0while True b m rounds rounds start nonce nonce if b breaknonce + roundsassert b pow chain block b return b 
def get bearing a Location1 a Location2 off x a Location2 - a Location1 off y a Location2 - a Location1 bearing 90.0 + math - off y off x * 57.2957795 if bearing < 0 bearing + 360.0return bearing 
def  cleanup for inst in  ACTIVE[ ] res inst if res is not True try  A C T I V E inst except Value Error pass 
def reboot zone single False altinit None smf options None ret {'status' True options ''if single boot options '-s{0}'.format boot options if altinit boot options '-i{0}{1}'.format altinit boot options if smf options boot options '-m{0}{1}'.format smf options boot options if boot options ! '' boot options '--{0}'.format boot options res   salt  ['cmd.run all 'zoneadm{zone}reboot{boot opts zone '-u{0}'.format zone if  is uuid zone else '-z{0}'.format zone boot opts boot options ret res 0 ret res if ret else res ret ret 'zoneadm ' '' if ret '' del ret ret 
def parse Application app return Direction app app ]
def encodestring s pieces []for i in range 0 len s MAXBINSIZE chunk s i + MAXBINSIZE ]pieces.append binascii base64 chunk return ''.join pieces 
def get Branch Matrix element Node branch Matrix Matrix matrix Child Element element Node First Child By Local Name 'matrix' if matrix Child Element ! None branch Matrix branch Matrix From Element Node matrix Child Element '' branch Matrix branch Matrix From Element Node element Node 'matrix.' if element Node Object None return branch Matrixelement Node Matrix element Node Object Matrix4 X4 if element Node Matrix None return branch Matrixreturn element Node Matrix Other Times Self branch Matrix 
def dup gf sqf list f K all False f dup convert f K K coeff factors gf sqf list f K K all all for i f k in enumerate factors factors dup convert f K K k return K coeff K factors 
def rslice n allow empty False minlen 0 if allow empty or n 0 else 1 slicelen randrange minlen n + 1 return randslice from slicelen slicelen n 
def Get Request Context global  thread Local Contextreturn  thread Local Context  dict  .setdefault 'tx String Dict 
def address  ret {}cmd 'hciconfig'out   salt  ['cmd.run'] cmd .splitlines dev ''for line in out if line 'hci' comps line ' ' dev comps {'device' dev 'path' '/sys/class/bluetooth/{0}'.format dev }if ' D Address in line comps line ret comps 'DOWN' in line ret 'off'if 'UPRUNNING' in line ret 'on'return ret 
def pem2der pem string pem string pem string '\r' '' first idx pem string '-----\n' + 6 if pem string '-----BEGIN' first idx ! -1 raise Exception 'pem2der expectsonlyone P E M last idx pem string '-----' 0 pem string '-----' base64 string pem string idx last idx string '\n' '' der string base64 base64 string return der string 
def get string string index node rich nodes string index node '{%s}r' % SHEET MAIN NS if rich nodes reconstructed text []for rich node in rich nodes partial text get text rich node reconstructed text partial text return unicode ''.join reconstructed text return get text string index node 
def srun cmd **kwargs return run 'sudo' + cmd **kwargs
def assert mail count count msg None from django import mailif msg is None msg u '.join [e.subject for e in mail msg u %d%s' % len mail count msg assert equals len mail count msg 
def coerce url to protocol url protocol 'http' parsed url Url Parser url parsed url protocolreturn parsed url 
def write log file log data log f log f 'etailsforremovalofreverseprimers log f 'riginalfastafilepath %s\n' % log data fp log f 'otalseqsinfasta %d\n' % log data seqs log f 'appingfilepath %s\n' % log data fp log f 'runcationoption %s\n' % log data option log f 'ismatchesallowed %d\n' % log data mismatches log f 'otalseqswritten %d\n' % log data written log f 'ample I Dsnotfound %d\n' % log data id not found log f 'everseprimersnotfound %d\n' % log data primer not found 
def dmp primitive prs f g u K if not u return dup primitive prs f g K else raise Multivariate Polynomial Error f g 
def print item item product item '-%s[%s] %s ' % product product product 
def get human readable time string time msec return time ' H %M %S' time time msec / 1000.0
def shall skip module opts if path module < 2 return Truefilename path module if filename ! '  init  .py' and filename '_' and not opts return Truereturn False 
def CDLHIKKAKEMOD bar Ds count return call talib with ohlc bar Ds count talib C D L H I K K A K E M O D 
def  search quidditch retries 5 passed Falseclean Truecomment ''while not passed log 'earching {0}'.format retries passed quidditch Auto Search log 'onesearching {0}'.format str passed if isinstance passed Exception clean Falsecomment + 'ailedintheseeking \n DCTB DCTB {0}\n'.format passed retries - 1if retries comment + '{0}triestogo.retrying\n'.format str retries else comment + 'outofretries.thisupdateroundfailed.\n'return comment True retries passed Falseif clean comment + 'earchwasdonewithouterror comment True retries 
def critical pair f g ring domain ring Polyn f . Tltg Polyn g . Tlt monomial lcm ltf ltg domain um term div lt ltf domain vm term div lt ltg domain fr lbp mul term lbp Sign f Polyn f .leading term Num f um gr lbp mul term lbp Sign g Polyn g .leading term Num g vm if lbp cmp fr gr -1 return Sign gr vm g Sign fr um f else return Sign fr um f Sign gr vm g 
def  codons2re codons reg ''for i in izip *codons if len set i 1 reg + ''.join set i else reg + '[' + ''.join set i + ']' return reg 
def  multinomial loss grad w X Y alpha sample weight n classes Y features X intercept w n classes * n features + 1 grad np n classes n features + bool fit intercept loss p w  multinomial loss w X Y alpha sample weight sample weight sample weight np sample weight * p - Y grad n features safe sparse dot diff T X grad n features + alpha * w if fit intercept grad -1 ] diff axis 0 return loss grad p 
def add course milestone course id relationship milestone if not settings F E A T U R E S 'MILESTONES APP' return Nonereturn milestones api course milestone course id relationship milestone 
def get root of doctype result frappe list u DCTB DCTB wherelft 1andrgt selectmax rgt from ' % doctype doctype return result if result else None 
def organisation type return s3 rest controller 
def id shown with wait context id str **kwargs return  shown elem with wait context By I D id str **kwargs
def load Alias File domains filename None fp None result {}if fp is None fp file filename else filename getattr fp 'name' '<unknown>' i 0prev ''for line in fp i + 1line line if line .startswith '#' continueelif line '' or line ' DCTB ' prev prev + line else if prev handle result prev filename i prev lineif prev handle result prev filename i for u a in result addr smtp Address u result Alias Group a domains u return result 
def volume admin metadata update context volume id metadata delete add True update True return I M P L admin metadata update context volume id metadata delete add update 
def send msg v2 module token room msg from msg msg format 'text' color 'yellow' notify False api NOTIFY URI V2 headers {uthorization 'earer % token 'ontent Type 'application/json'}body dict body msgbody colorbody format msg formatbody notify P O S T URL api + NOTIFY URI V2 url POST U R L '{id or name urllib room data json body if module mode module json changed False response info fetch url module url data data headers headers method 'POST' if info in [200 204] return response else module json msg 'failedtosendmessage returnstatus %s' % str info 
def make formatters config stream openers default stream opener Stream Opener stream sys formatter list []for i name in enumerate config stream opener default stream openerif i < len stream openers stream opener stream openers class select formatter class name formatter object formatter class stream opener config formatter list formatter object return formatter list 
def insert enterprise pipeline elements pipeline if not enterprise enabled returnadditional elements 'enterprise.tpa pipeline data sharing consent record 'enterprise.tpa pipeline data sharing consent insert point pipeline 'social.pipeline.social auth extra data for index element in enumerate additional elements pipeline insert point + index element 
def find tag fid node findkind if node is not None for subnode in node if subnode findkind return read tag fid subnode return None 
def shorten line tokens source indentation indent word max line length aggressive False experimental False previous line u for candidate in  shorten line tokens tokens source source indentation indentation indent word indent word aggressive aggressive previous line previous line yield candidate if aggressive for key token strings in SHORTEN OPERATOR GROUPS shortened  shorten line at tokens tokens tokens source source indentation indentation indent word indent word key token strings key token strings aggressive aggressive if shortened is not None and shortened ! source yield shortened if experimental for shortened in  shorten line at tokens new tokens tokens source source indentation indentation max line length max line length yield shortened 
def redirect param location params *args **kwargs return Http Response Redirect resolve url location *args **kwargs + params 
def test install package with utf8 setup script data to install data 'etup Py U T F8 script 'install' to install 
def get pub key vm  return config cloud config value 'ssh pubkey vm    opts   search global False 
def filter displayed blocks block unused view frag unused context if getattr block 'show in read only mode False return fragreturn Fragment _ u Thistypeofcomponentcannotbeshownwhileviewingthecourseasaspecificstudent 
def get New Repository return Fill Repository 
def do nothing return 
def generate ticket domain result   salt  ['cmd.run'] 'icinga2pkiticket--cn{0}'.format domain return result 
def notes document notes domhelpers Elements With Attribute document 'class' 'note' note Prefix dom String 'ote </strong>' .lementfor note in notes note Nodes 0 note Prefix 
def all from module module mod mod import module if not mod return {}members getmembers mod predicate lambda obj getmodule obj in mod None return dict key val for key val in members if not key '_'
def Probability2 yes no return yes / yes + no 
def agent check pass consul url None checkid None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not checkid raise Salt Invocation Error 'equiredargument if 'note' in kwargs query params kwargs 'agent/check/pass/{0}'.format checkid res  query consul url consul url function function query params query params method 'GET' if res ret Trueret 'heck checkid else ret Falseret 'nabletoupdatecheck checkid return ret 
@with setup prepare stdout def test background with header from lettuce import step world u \\w+ "holds \\d+ ' def set variable step name value setattr world name int value @step u \\w+ "isequalto \\d+ ' def check variable step name expected expected int expected expect world .to.have.property name .being.equal expected @step u \\w+ "times \\d+ isequalto \\d+ ' def multiply and verify step name times expected times int times expected int expected getattr world name * times .should.equal expected filename bg feature name 'header' runner Runner filename verbosity 1 runner assert stdout lines '..\n1feature 1passed \n2scenarios 2passed \n7steps 7passed \n'
def server security groups request instance id security groups []nclient novaclient request resp body nclient '/servers/%s/os-security-groups' % instance id if body sg objs [ova Security Group nclient groups sg loaded True for sg in body 'security groups [] ]security groups [ecurity Group sg for sg in sg objs sg in security groups rule objects [ecurity Group Rule rule for rule in sg rule objectsreturn security groups 
def is threshold graph G return is threshold sequence list d for n d in G 
def group by object stream stream iter stream current next stream current key current current group [current]for message in stream if message message ! current key yield current key group group []group.append message current messagecurrent key current current yield current key group 
def  remove in process courses courses in process course actions def format course for view course 'eturnadictofthedatawhichtheviewrequiresforeachcourse {'display name course name 'course key unicode course key 'url' reverse course url 'course handler course 'lms link get lms link for item course 'rerun link  get rerun link for item course 'org' course org with default 'number' course number with default 'run' course process action course keys [uca.course key for uca in in process course actions [format course for view course for course in courses if not isinstance course Error Descriptor and course not in in process action course keys ]return courses 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get docker client cluster address def get path name return cluster path name .pathtls T L S Config client cert get path 'user.crt' get path 'user.key' ssl version ssl P R O T O C O L T L Sv1 assert hostname False verify get path 'cluster.crt' return dockerpy client base url 'https //{} {}'.format address DOCKER PORT tls tls timeout 100 version '1.21'
def parse host host default port None if host '[' pos host '] ' if pos ! -1 return host pos int host pos + 2 ] else return host -1 ] default port pos host ' ' if pos -1 or pos ! host ' ' return host default port name _ port host ' ' return name int port 
def invalid email reason email address field if email address is None return 'oneemailaddressfor % field if isinstance email address users User email address email address if not isinstance email address basestring return 'nvalidemailaddresstypefor % field stripped address email address if not stripped address return 'mptyemailaddressfor % field return None 
def load and handle cert cert string now base64decode False if base64decode  cert string cert string 'base-64' else  cert string cert stringcert loaded Open S S L certificate Open S S L F I L E T Y P E PEM  cert string cert serial cert loaded serial number cert subjects []for name value in cert loaded subject .get components cert subjects '{} {}'.format name value i 0checked all extensions Falsewhile not checked all extensions try ext cert loaded extension i except Index Error san Nonechecked all extensions Trueelse if ext short name 'lt Name san extchecked all extensions Trueelse i + 1if san is not None cert subjects str san .split ' ' cert subject ' '.join cert subjects cert expiry cert loaded not After cert expiry date datetime cert expiry ' H M S Z time remaining cert expiry date - now return cert subject cert expiry date time remaining cert serial 
def get session stored refresh token service get oauth service r service raw access token data {'refresh token stored refresh token 'grant type 'refresh token return service session r ['access token 
@login required required or 403 'forums forum delete forum Forum 'slug  iexact 'forum slug def delete post request forum slug thread id post id forum get object or 404 Forum slug forum slug thread get object or 404 Thread pk thread id forum forum post get object or 404 Post pk post id thread thread if request 'GET' return render request 'forums/confirm post delete {'forum' forum 'thread' thread 'post' post log 'ser %s' % request post post statsd 'forums.delete post try Thread pk thread id goto reverse 'forums.posts' args [forum slug thread id except Thread Does Not Exist goto reverse 'forums.threads' args [forum slug return Http Response Redirect goto 
def ccitt Fax Encode stream parameters encoded Stream ''return -1 'citt Fax Encodenotsupportedyet 
def popup inputbox title text par widget h2 1w2 par widget * 6 // 7 x par widget - w2 // 2 - 1 + par widget y par widget - h2 // 2 - 1 + par widget borders curses h2 + 2 w2 + 2 y x borders borders 0 w2 - len title // 2 '%s' % title borders return inputbox text x + 1 y + 1 w2 h2 
@ uniquedef uninstallation paths dist r csv Fake File dist metadata lines 'RECORD' for row in r path os dist row yield path if path '.py' dn fn os path base fn -3 ]path os dn base + '.pyc' yield path 
def get host name hostname get address override if not hostname try hostname socket except passif not hostname or hostname 'localhost' or hostname '127.' hostname get local address return hostname 
def  get score from submissions submissions scores block if submissions scores submission value submissions scores unicode block if submission value attempted True weighted earned weighted possible submission valueassert weighted earned > 0.0 and weighted possible > 0.0 return None None + weighted earned weighted possible + attempted 
def test server threading File System current directory 'django' 'coconut' status out commands 'pythonmanage.pyharvest--verbosity 1' assert equals status 0 out 
def onlyif condition msg if callable condition skip condition lambda not condition else skip condition lambda not condition return skipif skip condition msg 
def  dumx remove dumx dumx flat p0 res []for dx in dumx if p0 not in dx res dx continuek dx p0 if k % 2 0 p0 paired dx k + 1 ]else p0 paired dx k - 1 ]dx.remove p0 dx p0 paired dumx flat p0 dumx flat p0 paired res dx 
def test cache existing metadata file config stub tmpdir config stub {'storage' {'cache-size' 1024} 'general' {'private-browsing' False 'http //qutebrowser.org'content 'foobar'metadata Q Network Cache Meta Data metadata Url Q Url url assert metadata Valid disk cache cache Disk Cache str tmpdir device disk cache metadata assert device is not None device content disk cache device disk cache Meta Data metadata files list tmpdir fil lambda path path assert len files 1 assert disk cache Meta Data str files metadata 
def register save id driver S A V E ] driver 
def from text rdclass rdtype ttl *text rdatas return from text list rdclass rdtype ttl text rdatas 
def tensors allclose a tensors b tensors rtol 0 atol 1e-07 if type a tensors is not list and type b tensors is not list a tensors [a tensors tensors [b tensors []for a tensor b tensor in zip a tensors b tensors if isinstance a tensor Tensor a tensor a tensor if isinstance b tensor Tensor b tensor b tensor results allclose with out a tensor b tensor b tensor rtol rtol atol atol return all results 
def  find common roots paths paths [x.split os for x in paths {}for chunks in sorted paths key len reverse True node rootfor chunk in chunks node node chunk {} node rv set def  walk node path for prefix child in iteritems node  walk child path + prefix if not node rv '/'.join path  walk root return rv 
def template instantiate call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hetemplate instantiatefunctionmustbecalledwith if kwargs is None kwargs {}vm name kwargs 'vm name None template id kwargs 'template id None template name kwargs 'template name None if vm name is None raise Salt Cloud System Exit "hetemplate instantiatefunctionrequiresa name if template id if template name log "oththe id name id elif template name template id get template id kwargs {'name' template name else raise Salt Cloud System Exit "hetemplate instantiatefunctionrequireseithera id name server user password  get xml rpc auth ' '.join [user password response server auth int template id vm name data {'action' 'template.instantiate' 'instantiated' response 'instantiated vm id response 'vm name vm name 'error code response data 
def get Interior Segments loops segments interior Segments []for segment in segments center 0.5 * segment + segment if euclidean Is In Filled Region loops center interior Segments segment return interior Segments 
def Format Class To Java input return 'L' + input '.' '/' + ';'
def muting md build mute dict dict data True print Nicely 'll ' + str len md + 'people.' for name in md user '' + cycle color md user + color func c T W E E T '' + name + '' print Nicely user c I G N O R E LIST'] [n for n in md 
def get Idle Activation **kwargs  gsession  G Settings user kwargs 'user' schema 'org.gnome.desktop.screensaver' key 'idle-activation-enabled' return  gsession get 
def get flinalg funcs names arrays debug 0 ordering []for i in range len arrays t arrays t not in  type conv t 'd'ordering.append t i if ordering ordering required prefix  type conv required prefix 'd'if ordering and has column major storage arrays suffix1 suffix2 ' c ' r else suffix1 suffix2 ' r ' c funcs []for name in names func name required prefix + name func getattr  flinalg func name + suffix1 getattr  flinalg func name + suffix2 None funcs func return tuple funcs 
def construct streamreader callback process handler implied arg 0partial args 0handler to inspect handlerif isinstance handler partial partial args len handler handler to inspect handler inspect handler to inspect implied arg 1num args get num args handler to inspect elif inspect handler to inspect num args get num args handler to inspect else implied arg 1num args get num args handler to inspect  call   net args num args - implied arg - partial args handler args if net args 1 handler args if net args 2 handler args process elif net args 3 handler args process weakref process def fn chunk args handler argsif len args 2 args handler args handler args return handler chunk *args return fn 
def get static index page with shutdown template ' O C T Y P E H T M L P U B L I C W3 C D T D H T M L4 Frameset E N / R H T M L Natural Language Toolkit Wordnet Interface Graphical Wordnet Browser Copyright C 2 L T K Project Author Jussi Salmela U R L <http /orlicenseinformation see L I C E N S E T X T H E A D T I T L E N L T K Wordnet Browser T I T L E H E A D "7%% 93%%">\n<framesrc "%s"name "header">\n<framesrc "start page " T M L with shutdown upper link 'upper.html'else upper link 'upper 2.html'return template % upper link 
def p rule empty2 p p 0 [] p p p 
def cuthill mckee ordering G heuristic None for c in nx components G for n in connected cuthill mckee ordering G c heuristic yield n 
def list nodes min ret {}cmd '{0}listvms'.format vboxcmd for line in salt cmd .splitlines if not line continuecomps line name comps '"' '' ret Truereturn ret 
def csr managed name **kwargs old   salt  ['x509.read csr name file args kwargs  get file args name **kwargs file args   salt  ['x509.create csr text True **kwargs ret   states  ['file.managed'] **file args if ret new   salt  ['x509.read csr file args if old ! new ret {ld old 'ew new ret 
def  get unicode data force False if isinstance data binary type return data u elif data is None return u force if PY2 return unicode data else return str data else return data 
def once git check commit title subp subprocess Popen ['git' 'log' '--no-merges' '--pretty %s' '-1'] stdout subprocess P I P E title subp [0]if subp raise Exception 'gitlogfailedwithcode%s' % subp git keywords ' I 40} | [b Ll Pp [\\s\\# ]* \\d+ | [b Pp Bb Pp [\\s\\# ]* [ Za 'GIT REGEX re git keywords error Falseif GIT R E G E X title is not None and len title < 3 print "N801 gitcommittitle '%s' shouldprovideanaccuratedescriptionofthechange notjustareferencetoabugorblueprint % title error Trueif len title 'utf-8' > 72 print "N802 gitcommittitle '%s' shouldbeunder50chars % title error Truereturn error 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def gaussian kl divergence mean ln var assert isinstance mean variable Variable assert isinstance ln var variable Variable J mean exponential ln var return sum mean * mean + sum var - sum ln var - J * 0.5
def auto auth browser username email staff course id Auto Auth Page browser username username email email course id course id staff staff .visit
def  is ipv6 enabled if socket ipv6 sock Nonetry sock socket socket A F INET6 socket S O C K STREAM sock H O S Tv6 0 return Trueexcept socket passfinally if sock sock return False 
def interpret in shape xshape if isinstance xshape int np return xshape 1 elif len xshape 2 return xshapeelse return np xshape 1
def test iba error y score prob y true y pred _ make prediction binary True aps make index balanced accuracy alpha 0.5 squared True average precision score assert raises Attribute Error aps y true y pred brier make index balanced accuracy alpha 0.5 squared True brier score loss assert raises Attribute Error brier y true y pred kappa make index balanced accuracy alpha 0.5 squared True cohen kappa score assert raises Attribute Error kappa y true y pred ras make index balanced accuracy alpha 0.5 squared True roc auc score assert raises Attribute Error ras y true y pred 
def get recommended content for user account settings record views False src SRC EXPLORE prefs Account S R Prefs user account recs get recommended content prefs src settings if record views sr data {r.sr r for r in recs Account S R Feedback views account sr data return recs 
def clobber in except node if isinstance node astroid Ass Attr return True node 'object%r' % node string elif isinstance node astroid Ass Name name node is builtin name return True name 'builtins' else stmts node name [1]if stmts and not isinstance stmts type astroid Assign astroid Aug Assign astroid Except Handler return True name 'outerscope line ' % stmts return False None 
def min edge dominating set G if not G raise Value Error 'xpectednon Network Xgraph return maximal matching G
def mosaic w imgs imgs iter imgs img0 imgs pad np like img0 imgs it [img0] imgs rows grouper w imgs pad return np map np rows 
def unquote str return re escaped char  sub replacement str -1 ]
def lambda notation tokens local dict global dict result []flag False toknum tokval tokens Len len tokens if toknum NAME and tokval 'lambda' if tok Len 2 result tokens elif tok Len > 2 result [ NAME 'ambda OP ' ' OP ' ' OP ' ' OP ' ' ] for tok Num tok Val in tokens ] if tok Num OP and tok Val ' ' tok Val ' 'flag Trueif not flag and tok Num OP and tok Val in ['*' '**'] raise Token Error 'tarredargumentsinlambdanotsupported if flag result -1 tok Num tok Val else result -2 tok Num tok Val else result tokens return result 
def test classification report imbalanced multiclass with digits iris datasets iris y true y pred _ make prediction dataset iris binary False expected report 'prerecspef1geoibasupsetosa0.826090.791670.921570.808510.864090.7408524versicolor0.333330.096770.863640.150000.438090.1872731virginica0.418600.900000.545450.571430.626450.3720820avg/total0.513750.533330.797330.473100.624640.4137075'report classification report imbalanced y true y pred labels np len iris names target names iris names digits 5 assert equal  format report report expected report expected report 'prerecspef1geoibasup00.830.790.920.810.860.742410.330.100.860.150.440.193120.420.900.550.570.630.3720avg/total0.510.530.800.470.620.4175'report classification report imbalanced y true y pred assert equal  format report report expected report 
def currentframe n 0 f inspect for x in range n + 1 f f backreturn f 
def libvlc media library retain p mlib f  Cfunctions 'libvlc media library retain None or  Cfunction 'libvlc media library retain 1 None None Media Library return f p mlib 
def is page candidate url Link url Title title artist title slugify title artist slugify artist sitename re u [^/]+ /.*' slugify url Link .group 1 url Title slugify url Title if url Title title ! -1 return Truetokens [ by + '_' + artist for by in BY TRANS] + [artist sitename sitename 'www.' '' ] + LYRICS TRANS song Title re u %s ' % u tokens u url Title song Title song Title '_|' typo Ratio 0.9return difflib Sequence Matcher None song Title title .ratio > typo Ratio 
@receiver post save sender User def create profile callback sender instance created False **kwargs if created for auto in Auto Group if re auto instance instance auto Token user instance Profile or create user instance 
def verify equivalency fasta seqs qual scores if len fasta seqs ! len qual scores raise Value Error 'umberofsequencesnotequalininputfasta + 'andqualfile.' qual scores labels set qual scores for label in fasta seqs if label not in qual scores labels raise Value Error 'astalabel % label + 'file.' if len fasta seqs ! len qual scores raise Value Error 'equence % label + 'basepositionsbetweenfastaandqualityscorefile.'
def get Acceptable accept header have types accepted parse Accept Header accept header preferred match Types accepted have types return [mtype for mtype _ in preferred 
def save list setting settings filename name new value old value None new value list set new value new value sorted new value key lambda s s if old value is not None if old value new value returnsettings name new value sublime settings filename 
def  labeled Input active Inputs cells Per Col 32 if cells Per Col 0 cells Per Col 1cols active Inputs / cells Per Col active Inputs active Inputs cols cells Per Col cols cell Idxs active Inputs if len cols 0 return ' O N E [ ' %d ' % len cols ]ol -1 for col cell Idx in zip cols cell Idxs if col ! prev Col if prev Col ! -1 items ']' items 'ol [' % col prev Col colitems '%d ' % cell Idx items ']' return ''.join items 
def line 2d to 3d line zs 0 zdir u line  class   Line3 Dline 3d properties zs zdir 
def row2feature row id field geometry field feature {'type' 'eature 'properties'  copy row }geometry feature geometry field feature  loadshape  unhexlify geometry feature feature id field return feature 
def  next tree candidate left rest  split tree candidate left height max left rest height max rest valid rest height > left height if valid and rest height left height if len left > len rest valid Falseelif len left len rest and left > rest valid Falseif valid return candidateelse p len left new candidate  next rooted tree candidate p if candidate > 2 new left new rest  split tree new candidate new left height max new left suffix range 1 new left height + 2 new candidate - len suffix ] suffixreturn new candidate 
def double complex from npy cdouble var res ' complexstuff complex from npy cdouble {} '.format var return res 
def item from env env item name item env item name None if item is None logging 'ERROR %scouldnotbefoundinenv!' % item name return item 
def list vhosts runas None if runas is None and not salt windows runas salt user res   salt  ['cmd.run all [  context  ['rabbitmqctl'] 'list vhosts '-q'] runas runas python shell False  check response res return  output to list res 
def error out resource reason None status 'error' reason  clean reason reason try L O G 'etting object type s object id stoerrordueto % reason s {'object type resource name 'object id resource 'reason' reason resource statusresource except Exception L O G  LE 'ailedsetting object type s object id sto status sstatus {'object type resource name 'object id resource 'status' status 
@cronjobs.registerdef reindex users that contributed yesterday if settings S T A G E returntoday datetime yesterday today - timedelta days 1 user ids list Answer created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision created  gte yesterday created  lt today .values list 'creator id flat True user ids + list Revision reviewed  gte yesterday reviewed  lt today .values list 'reviewer id flat True index task User Mapping Type list set user ids 
def Make Bad Signature Response return '{"status" 21003}'
def on configure config settings config migration if applied settings 'social auth 'social auth association 
def load batch fpath label key 'labels' f open fpath 'rb' if sys info < 3 d c Pickle f else d c Pickle f encoding 'bytes' d decoded {}for k v in d d decoded 'utf8' ] vd d decodedf data d d key data data 3 32 32 return data labels 
def parse Private Key s try return parse P E M Key s private True except return parse X M L Key s private True 
def app db migrated conn c get db connection journalist tables c ' R A G M Atable info journalists ' .fetchall table names set [table[1] for table in journalist tables return 'last token in table names 
def require http methods request method list def decorator func @wraps func def inner request *args **kwargs if request not in request method list logger 'ethod Not Allowed %s %s' request request extra {'status code 405 'request' request return Http Response Not Allowed request method list return func request *args **kwargs return innerreturn decorator 
def render parallel children if len children 1 return children latex [k.latex for k in children if k ! '||' ]latex '\\|'.join children latex tall any k for k in children return Latex Rendered latex tall tall 
def make instance save instance fields fail message def save self commit True return save instance self instance fields fail message commit return save 
@pytest.yield fixture autouse True def application app create app Config ctx app context ctx yield app ctx 
def  check ip available ip addr for vm name vm details in six get resources vms include Config True vm config vm details ip addr in vm config address or vm config address ip addr log ' P ip addr return Falselog " P ip addr return True 
def local edge connectivity G u v flow func None auxiliary None residual None cutoff None if flow func is None flow func default flow funcif auxiliary is None H build auxiliary edge connectivity G else H auxiliarykwargs dict flow func flow func residual residual if flow func is shortest augmenting path kwargs cutoffkwargs phase Trueelif flow func is edmonds karp kwargs cutoffelif flow func is dinitz kwargs cutoffelif flow func is boykov kolmogorov kwargs cutoffreturn nx flow value H u v **kwargs
def get support target tree trees len trees None term names sorted term for term in target tree clades terminal True bitstrs {}size len treesif size is None try size len trees except Type Error raise Type Error 'reesdoesnotsupportlen trees youmustprovidethenumberofreplicatesintreesastheoptionalparameterlen trees for clade in target tree clades terminal False bitstr  clade to bitstr clade term names bitstrs clade 0 for tree in trees for clade in tree clades terminal False bitstr  clade to bitstr clade term names if bitstr in bitstrs c t bitstrs t + 1 * 100.0 / size bitstrs c t + 1 return target tree 
def block print higher lower r0 g0 b0 lower 3] r1 g1 b1 higher 3]if c B I T is True sys '\x1b[38;2;%d;%d;%dm\x1b[48;2;%d;%d;%dm\xe2\x96\x84\x1b[0m' % r1 g1 b1 r0 g0 b0 else i0 rgb2short r0 g0 b0 i1 rgb2short r1 g1 b1 sys '\x1b[38;5;%sm\x1b[48;5;%sm\xe2\x96\x84\x1b[0m' % i1 i0 
def  Update User History user t auth ts  history user [] [ -30 ]ts.append t auth  history tsreturn ts 
def cublas init pass 
def stats r total sum r avg float total / float len r sdsq sum [ i - avg ** 2 for i in r s sorted list r return dict list zip [u'med' u u u u s len s // 2 ] avg sdsq / len r ** 0.5 min r max r 
def remove duplicates errors passed defaultdict list for error in errors key error error if key in DUPLICATES if key in passed continuepassed D U P L I C A T E S yield error 
def prune dump sessionid out   salt  ['cmd.run all ' sessionid  verify run out data  xfs prune output out sessionid if data return dataraise Command Execution Error 'ession U U I D sessionid 
def all enabled user None features Feature State all  world active {}for feature in features experiment feature 'experiment' if experiment and Feature State user experiment experiment variant feature user if variant active {'experiment id experiment 'experiment id 'variant' variant feature enabled user active Truereturn active 
def shared empty dim 2 dtype None if dtype is None dtype theano Xshp tuple [1] * dim return theano np shp dtype dtype 
def add Symmetric X Path outputs path x vertexes []loops [ymmetric X Loop path vertexes - x get Symmetric X Loop path vertexes x ]outputs.append get Pillar Output loops 
@login required csrf cookie http methods 'GET' 'POST' 'PUT' @ensure valid course keydef import handler request course key string courselike key Course Key string course key string library isinstance courselike key Library Locator if library root name LIBRARY R O O Tsuccessful url reverse library url 'library handler courselike key context name 'context library module modulestore .get library courselike key import func import library from xmlelse root name COURSE R O O Tsuccessful url reverse course url 'course handler courselike key context name 'context course module modulestore .get course courselike key import func import course from xmlreturn  import handler request courselike key root name successful url context name courselike module import func 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get python inc plat specific 0 prefix None if prefix is None prefix plat specific and EXEC PREFIX or PREFIX if os 'posix' if python build buildir os sys if plat specific inc dir buildirelse srcdir os os buildir get config var 'srcdir' inc dir os srcdir 'nclude return inc dirreturn os prefix 'include' 'python' + get python version elif os 'nt' return os prefix 'include' elif os 'os2' return os prefix 'nclude else raise Distutils Platform Error "don Pythoninstallsits Cheaderfilesonplatform % os 
def get model queryset model request None if use draft request return model return model 
def is Result Node node return node and node Type 'result'
def add Collar Shaft collar Length derivation element Node negatives positives if collar Length < 0.0 add Shaft derivation negatives positives returnconnection End Vector3 0.0 0.0 derivation Width + collar Length copy Shallow derivation Node Copy Shallow copy Shallow [ector3 0.0 0.0 derivation Width connection End Derivation extrude Extrude Derivation copy Shallow add Collar Shaft Set Derivation collar Derivation collar Length derivation element Node negatives positives 
def riemann cyclic replace t r free sorted t r key lambda x x m n p q [x[0] for x in free S 2 / 3 * t r t1 - S 1 / 3 * t r indices m m n q p n q p t2 S 1 / 3 * t r indices m m n p p n q q t3 t0 + t1 + t2 return t3 
def generalized exponential theta d theta np theta dtype np d np d dtype np if d > 1 n features d n features 1lth theta n features > 1 and lth 2 theta np [np.repeat theta n features theta elif lth ! n features + 1 raise Exception 'engthofthetamustbe2or % n features + 1 else theta theta 1 lth td theta 0 -1 ].reshape 1 n features * np d ** theta -1 ] r np - np td 1 return r 
def O S X Split Pathspec pathspec return client utils linux Lin Split Pathspec pathspec Get Mountpoints 
def parse set diff source info items [parse set imp union source info ]while source '--' items parse set imp union source info if len items 1 return items Set Diff info items 
def get review request id commit message server url commit id None repository None regex settings H O S T I N G S V C S HOOK REGEX % {u'server url server url pattern re regex settings H O S T I N G S V C S HOOK REGEX FLAGS match pattern commit message if match try review request id int match u except Value Error logging u Thereviewrequest I Dmustbeaninteger review request id Noneelif commit id assert repositorytry review request Review Request commit id six type commit id repository repository review request id review request idexcept Review Request Does Not Exist review request id Nonereturn review request id 
def ismount path try s1 os path s2 os join path '..' except os return Falsedev1 s1 devdev2 s2 devif dev1 ! dev2 return Trueino1 s1 inoino2 s2 inoif ino1 ino2 return Truereturn False 
def parse mf results mf py files []extensions []for item in mf if item '  main  ' continuesrc item src and src ! '-' if isinstance item Script py files item elif isinstance item Extension extensions item else py files item py files key lambda v v extensions key lambda v v return py files extensions 
def closest matches monocular ref pts pupil pts max dispersion 1 / 15.0 ref ref ptspupil0 pupil ptspupil0 ts np [p['timestamp'] for p in pupil0 def find nearest idx array value idx np array value side 'left' try if abs value - array idx - 1 ] < abs value - array return idx - 1 else return idxexcept Index Error return idx - 1 matched []if pupil0 for r in ref pts closest p0 idx find nearest idx pupil0 ts r closest p0 pupil0 p0 idx max closest p0 r - min closest p0 r if dispersion < max dispersion matched {'ref' r 'pupil' closest p0 else passreturn matched 
def unesc s esc chars for c in esc chars esc str u + c s s esc str c return s 
def auth u p global user passworduser upassword p 
def folder exists folder Name return os folder Name 
def  nt quote args args for i in range len args if string args '' ! -1 args '"%s"' % args return args 
def test all mail present monkeypatch g get auth handler monkeypatch {'all' 'ALL' 'inbox' 'INBOX' 'trash' 'TRASH'} assert g account Account Stub 
def get file filename return os TEST DIR filename 
def get parents x collection None if collection is None collection random variables node dict {node.value node for node in collection set [] nodes set [x] while nodes node nodes if isinstance node Random Variable node node candidate node node dict node None if candidate node and candidate node ! x output candidate node else nodes node return list output 
def  get release date xblock user None reset to default Falsetry reset to default xblock < 1900 except Value Error reset to default Trueif reset to default and user xblock DEFAULT START D A T Exblock  update with callback xblock user return get default time display xblock if xblock ! DEFAULT START DATE else None 
def sample path path num 10 space numpy 0.0 1.0 num endpoint True return [t Percent float p for p in space 
def Delete Async keys **kwargs config  Get Config From Kwargs kwargs if getattr config 'read policy None EVENTUAL CONSISTENCY raise datastore errors Bad Request Error 'read policyisonlysupportedonreadoperations keys _ Normalize And Type Check Keys keys return  Get Connection .async delete config keys 
def transform hr t lamda def  check args lamda cond lamda > 0 return condif not np  check args lamda raise Value Error 'invalidargs' term np 1.0 - t / t * 0.5 / lamda from scipy import normtransf 1 - t * norm cdf lamda + term + t * norm cdf lamda - term return transf 
def test get words c expected words ['f' 'float' 'foo' 'h' 'i' 'include' 'int' 'main' 'n' 'printf' 'pvar' 'return' 'stdio' 'struct' 'var' 'x' 'y']assert sorted expected words sorted get words by filename 'example.c' assert sorted expected words sorted get words by content 'example.c'
def close *args if len args 0 fig Manager  pylab helpers Gcf active if fig Manager is None returnelse  pylab helpers Gcf fig Manager elif len args 1 arg args arg u  pylab helpers Gcf all elif isinstance arg six types  pylab helpers Gcf arg elif hasattr arg u  pylab helpers Gcf arg elif is string like arg all Labels get figlabels if arg in all Labels num get fignums [abels arg ] pylab helpers Gcf num elif isinstance arg Figure  pylab helpers Gcf fig arg else raise Type Error u Unrecognizedargumenttype % type arg else raise Type Error u 
def http connect raw ipaddr port method path headers None query string None ssl False if not port port 443 if ssl else 80 if ssl conn H T T P S Connection '%s %s' % ipaddr port else conn Buffered H T T P Connection '%s %s' % ipaddr port if query string path + '?' + query string conn pathconn method path skip host headers and 'ost in headers if headers for header value in headers conn header str value conn return conn 
def multiproduct seq start 1 if not seq return startif isinstance seq dict seq iter seq units startmulti []for base exp in seq if not exp continueelif exp 1 units * baseelse if exp % 2 units * basemulti base exp // 2 return units * multiproduct multi ** 2
def pkg commit hash pkg path pth os pkg path COMMIT INFO FNAME if not os pth raise I O Error u Missingcommitinfofile % pth cfg parser Config Parser cfg parser pth archive subst cfg parser u u subst hash if not archive subst u Format return u archive subst install subst cfg parser u u hash if install subst ! u return u install subst proc subprocess Popen u H E A D stdout subprocess P I P E stderr subprocess P I P E cwd pkg path shell True repo commit _ proc if repo commit if PY3 repo commit repo commit return u repo commit return u nonefound ' u 
def nudge dataset X Y direction vectors [[[0 1 0] [0 0 0] [0 0 0]] [[0 0 0] [1 0 0] [0 0 0]] [[0 0 0] [0 0 1] [0 0 0]] [[0 0 0] [0 0 0] [0 1 0]]]shift lambda x w convolve x 8 8 mode 'constant' weights w .ravel X np [X] + [np.apply along axis shift 1 X vector for vector in direction vectors Y np [Y for _ in range 5 ] axis 0 return X Y
def existing user fields fields user fields get user model . meta field names [field.name for field in user fields [field for field in fields if field in user field names ]
def multivariate Cauchy mu sigma only Diagonal True if not only Diagonal u s d svd sigma coeffs sqrt s else coeffs diag sigma r rand len mu res coeffs * tan pi * r - 0.5 if not only Diagonal res dot d dot res u return res + mu 
def students require certificate course id enrolled students statuses to regenerate None if statuses to regenerate students require certificates enrolled students generatedcertificate  course id course id generatedcertificate  status  in statuses to regenerate return list students require certificates else students already have certs User ~ Q generatedcertificate  status Certificate Statuses generatedcertificate  course id course id return list set enrolled students - set students already have certs 
def sinica parse s tokens re u [ |] ' s for i in range len tokens if tokens u ' tokens i - 1 ] tokens tokens tokens i - 1 ] elif u ' in tokens fields tokens u ' if len fields 2 tokens fields tokens u ' + fields -2 ] + u + fields -1 ] + u ' elif tokens u tokens u string u tokens return Tree treebank string remove empty top bracketing True 
def validate string option value if isinstance value string type return valueraise Type Error 'rongtypefor valuemustbeaninstanceof % option string type  name  
def decoder conv func return lambda s conv func s u 
def row factory cursor row return Logline sqlite cursor cursor sqlite row row 
def  Get Blobstore Metadata blob key try blob info datastore Get datastore Key path blobstore B L O B INFO KIND blob key namespace '' return blob info blob info type blob key except datastore errors Entity Not Found Error return None None None 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def  api eval sort name output kwargs import sabnzbd kwargs 'name' '' value kwargs 'value' '' title kwargs 'title' multipart kwargs 'movieextra' '' path sabnzbd sort value title name multipart if path is None return report output  MSG NOT IMPLEMENTED else return report output keyword 'result' data path 
def config course cohorts legacy course discussions cohorted cohorted discussions None auto cohort groups None always cohort inline discussions None def to id name 'elpermethodtoconvertadiscussiontopicnametoadatabaseidentifier topic name to id course name topics dict name {'sort key 'A' 'id' to id name } for name in discussions course topics topicsconfig {'cohorted' cohorted cohorted discussions is not None config discussions [to id name for name in cohorted discussions auto cohort groups is not None config cohort groups auto cohort groupsif always cohort inline discussions is not None config cohort inline discussions always cohort inline discussionscourse config configtry modulestore .update item course Module Store Enum User I D except Not Implemented Error pass 
def group snapshot get all by group context group id filters None return I M P L snapshot get all by group context group id filters 
def quotes historical yahoo ochl ticker date1 date2 asobject False adjusted True cachename None return  quotes historical yahoo ticker date1 date2 asobject asobject adjusted adjusted cachename cachename ochl True 
def test enn fit single class enn Edited Nearest Neighbours random state RND SEED y single class np X assert warns User Warning enn X y single class 
def cluster commit ret {'comment' '' 'success' False   execute cmd 'riak-admin' 'clustercommit' if cmd ! 0 ret cmd ret cmd Truereturn ret 
def  load csv F if PY2 names F .strip .split ' ' else names F .decode 'ascii' .strip .split ' ' rec np F skiprows 0 delimiter ' ' dtype 'a22 f4 f4 rec namesreturn rec 
def get bcaddress version str Address addr b58decode str Address 25 if addr is None return Noneversion addr addr -4 ]vh160 addr -4 ]h3 sha256 sha256 vh160 .digest .digest if h3 4] checksum return ord version return None 
def Open Document Drawing doc Open Document 'application/vnd.oasis.opendocument.graphics' doc Drawing doc Element doc return doc 
def get word index path 'reuters word index path get file path origin 'https //s3.amazonaws.com/text-datasets/reuters word index f open path 'rb' if sys info < 3 data c Pickle f else data c Pickle f encoding 'latin1' f return data 
def cpickle dumps obj if isinstance obj dict return c Pickle obj 1 return c Pickle obj c Pickle H I G H E S T PROTOCOL
def  make voxel ras trans move ras voxel size assert voxel size 1 assert voxel size 3 rot ras T * voxel size ] assert rot 2 assert rot 3 assert rot 3 trans np [ np [ rot np 1 3 ] np [ move 1.0 ] ]t Transform 'mri voxel 'mri' trans return t 
@sopel.module.event u K I C K @sopel.module.rule u @sopel.module.priority u def hold ground bot trigger if bot ground channel trigger trigger bot bot channel 
def parse atom tokens options token tokens result []if token in ' [' tokens matching pattern {' ' [' ' Required '[' [']' Optional pattern *parse expr tokens options if tokens ! matching raise tokens "unmatched'%s'" % token return [result]elif token 'options' tokens return [ny Options ]elif token '--' and token ! '--' return parse long tokens options elif token '-' and token not in '-' '--' return parse shorts tokens options elif token '<' and token '>' or token return [rgument tokens ]else return [ommand tokens ]
def ensure dirs exist path outdir os path if outdir ! '' and not os outdir os outdir return path 
def create css gradient base color stop Q Point F 0 0 final Stop Q Point F 0 1 gradient create gradient base color stop final Stop return css gradient gradient 
def get Vertexes By Key key xml Element return euclidean Concatenated List evaluate Transformed Paths By Key key xml Element 
def get form data if is form submitted formdata request request formdata formdata formdata request return formdatareturn None 
def stdin loop options modules sender tags global A L I V Enext heartbeat int time + 600 while ALIVE time 15 reload changed config modules modules options sender tags now int time if now > next heartbeat L O G 'eartbeat %dcollectorsrunning ' % sum 1 for col in all living collectors next heartbeat now + 600
def ifftn x shape None axes None overwrite x False return  raw fftn dispatch x shape axes overwrite x -1
@require roledef get session user info request return [request.user.id request request 
def bitsource zcontext url zsock zcontext zmq P U B zsock url while True zsock string ones and zeros B * 2 time 0.01
def test simple bar bar Bar rng [ -3 -32 -39 ]bar.add 'test1' rng bar 'test2' map abs rng bar labels map str rng bar 'artest bar pyquery assert len q '.axis.x' 1 assert len q '.axis.y' 1 assert len q '.legend' 2 assert len q '.plot.seriesrect' 2 * 3
def block List2 Matrix l dims [m.shape[0] for m in l sum dims res zeros s s index 0for i in range len l d dims l index + d index index + d ] mindex + dreturn res 
def md5 encode t m hashlib t return m 
def get publish id list user site check global True use cache True page ids  get page ids for action user user site site action 'publish page check global check global use cache use cache return page ids 
def get locales dict global locales dictif not locales dict locales  get locales locales dict {}for locale in locales locales dict locale ] Locale locale return locales dict 
def ireport vehicle return s3 rest controller 'irs' 'ireport vehicle 
def detach volume name None kwargs None instance id None call None if call ! 'action' raise Salt Cloud System Exit 'hedetach volumeactionmustbecalledwith if not kwargs kwargs {}if 'volume id not in kwargs log 'volume idisrequired return Falseparams {ction 'etach Volume 'olume Id kwargs id aws params return url True location get location provider get provider opts   opts   sigver '4' return data 
def conv transpose2d input weight bias None stride 1 padding 0 output padding 0 groups 1 f Conv Nd  pair stride  pair padding  pair 1 True  pair output padding groups return f input weight bias if bias is not None else f input weight 
def get plugins return  cache 
def set cover tilt position hass tilt position entity id None data {ATTR ENTITY ID entity id if entity id else {} data A T T R TILT POSITION] tilt positionhass DOMAIN SERVICE SET COVER TILT POSITION data 
def img V Range h va font Size if va 'baseline' iyo 0elif va in 'text-top' 'top' iyo font Size - h elif va 'middle' iyo font Size - 1.2 * font Size + h * 0.5 elif va in 'text-bottom' 'bottom' iyo font Size - 1.2 * font Size elif va 'super' iyo 0.5 * font Size elif va 'sub' iyo -0.5 * font Size elif hasattr va 'alue iyo va Value font Size else iyo vareturn iyo iyo + h 
def write flv header stream stream ' L V stream '\x05' stream '\x00\x00\x00 DCTB ' stream '\x00\x00\x00\x00'
def  Make Args amazon collection map google collection map request list []for url label in amazon collection map request list Cloud Metadata Request bios version regex AMAZON BIOS REGEX service name regex AMAZON SERVICE REGEX instance type 'AMAZON' timeout 1.0 url url label label for url label in google collection map request list Cloud Metadata Request bios version regex GOOGLE BIOS REGEX service name regex GOOGLE SERVICE REGEX headers {etadata Flavor 'oogle instance type 'GOOGLE' timeout 1.0 url url label label return request list 
def rename name kwargs call None if call ! 'action' raise Salt Cloud System Exit 'herenameactionmustbecalledwith log 'enaming name kwargs set tags name {ame kwargs call 'action' salt key   opts  ['pki dir name kwargs 
def veoh download url output dir '.' merge False info only False **kwargs if re 'http //www.veoh.com/watch/\\w+' url item id match1 url 'http //www.veoh.com/watch/ \\w+ ' elif re 'http //www.veoh.com/m/watch.php\\?v \\.*' url item id match1 url 'http //www.veoh.com/m/watch.php\\?v \\w+ ' else raise Not Implemented Error 'annotfinditem I D veoh download by id item id output dir '.' merge False info only info only **kwargs
def  topo reorder entries get parents lambda commit commit todo collections pending {}num children defaultdict int for entry in entries todo entry for p in get parents entry num children + 1while todo entry todo commit entry id commit num children id pending id entrycontinuefor parent id in get parents commit num children id - 1if not num children id parent entry pending parent id None if parent entry todo parent entry yield entry 
def dmp sub ground f c u K return dmp sub term f dmp ground c u - 1 0 u K
def random func lib opts args query decargs args if opts objs list lib query else objs list lib query objs random objs objs opts opts opts opts chance for obj in objs print  format obj 
def ld mnist test only False file urls ['http //yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz' 'http //yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz' 'http //yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz' 'http //yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz']local urls maybe download file urls F L A G S dir train data extract mnist data local urls 60000 28 1 train labels extract mnist labels local urls 60000 test data extract mnist data local urls 10000 28 1 test labels extract mnist labels local urls 10000 if test only return test data test labels else return train data train labels test data test labels 
def spectral ordering G weight 'weight' normalized False tol 1e-08 method 'tracemin' if len G 0 raise nx Network X Error 'graphisempty.' G  preprocess graph G weight find fiedler  get fiedler func method order []for component in nx components G size len component if size > 2 L nx matrix G component x None if method ! 'lobpcg' else  rcm estimate G component fiedler find fiedler L x normalized tol [1]order.extend u for x c u in sorted zip fiedler range size component else order component return order 
def update vote lookups user thing direction key prequeued vote key user thing grace period int g queue grace period seconds direction Vote direction direction g key direction time grace period + 1 rel cls Votes By Account thing  class   Last Modified user fullname rel cls last modified name 
def require sales admin func def wrapped request course id try course key Course Key string course id except Invalid Key Error log u Unabletofindcoursewithcoursekey course id return Http Response Not Found access auth has role request Course Sales Admin Role course key if access return func request course id else return Http Response Forbidden return wrapped 
def netmask mask if not isinstance mask string types return Falseoctets mask '.' if not len octets 4 return Falsereturn ipv4 addr mask and octets sorted octets reverse True 
@synchronized IO LOCK def load admin  id remove False do pickle True silent False path os cfg dir path  id logging 'oadingdatafor  id path if not os path logging '%smissing' path return Nonetry f open path 'rb' if do pickle data c Pickle f else data f f if remove os path except if not silent excepterror str sys info [0] logging T 'oading path excepterror logging 'raceback ' exc info True return Nonereturn data 
def  Get Template Path template file return os os   file   'templates' template file 
def log likelihood emp cov precision p precision likelihood  - np emp cov * precision + fast logdet precision log likelihood  - p * np 2 * np log likelihood  / 2.0return log likelihood 
def query query type 'list nodes client  get client info client query type return info 
def mut E S Log Normal individual c indpb size len individual t c / math 2.0 * math size t0 c / math 2.0 * size n random 0 1 t0 n t0 * n for indx in xrange size if random < indpb individual * math t0 n + t * random 0 1 individual + individual * random 0 1 return individual 
@click.command @click.option '--name' help 'ull Name prompt True @click.option '--email' help 'mail prompt True @click.option '--password' help 'assword prompt True hide input True confirmation prompt True @click.option '--role' help 'ole prompt True def cli name None email None password None role None create user name email password role 
def is bin str data if '\x00' in data return Trueif not data return Falsetext characters ''.join [chr x for x in range 32 127 ] + list '\n\r DCTB \x08' if six P Y3 trans ''.maketrans '' '' text characters nontext data trans else trans string '' '' nontext data trans text characters if len nontext / len data > 0.3 return Truereturn False 
def ip missing mod attr IPY SHOULD I M P L mod attr + '\n' IPY SHOULD I M P L 
def  convert nnn val word '' mod rem val % 100 val // 100 if rem > 0 word to 19[rem] + 'undred if mod > 0 word + ''if mod > 0 word +  convert nn mod return word 
def test convert np array mixin cols t Q Table mixin cols ta t array m mixin cols kind m if hasattr m 'dtype' else 'O' assert ta dtype kind 
def educate Single Backticks str str re '`' '&#8216;' str str re "'" '&#8217;' str return str 
def align log prob i j source sents target sents alignment params l s sum source sents i - offset - 1 ] for offset in range alignment l t sum target sents j - offset - 1 ] for offset in range alignment try m l s + l t / params A V E R A G E CHARACTERS / 2 delta l s * params A V E R A G E CHARACTERS - l t / math m * params V A R I A N C E CHARACTERS except Zero Division Error return float '-inf' return - LOG2 + norm logsf abs delta + math params P R I O R S 
def assert false expr msg None if expr  report failure msg 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def write name list fid kind data write string fid kind ' '.join data 
def predicative adjective w adjective if w in adjective predicative return adjective predicative w 'ari' return w + 'o' if w 'ali' 'ili' 'esi' 'nti' 'ori' return w -1 ] + 'e' if w 'isti' return w -1 ] + 'a' if w 'che' 'ghe' return w -2 ] + 'a' if w 'chi' 'ghi' return w -2 ] + 'o' if w 'i' return w -1 ] + 'o' if w 'e' return w -1 ] + 'a' return adjective 
def  is number matching desc national number number desc if number desc is None return Falsenational re re number desc number pattern or U EMPTY STRING return  is number possible for desc national number number desc and fullmatch national re national number 
@treeio login requireddef ajax ticket lookup request response format 'html' tickets []if request G E T and 'term' in request G E T tickets Ticket name  icontains request G E T [ 10]return render to response 'services/ajax ticket lookup {'tickets' tickets context instance Request Context request response format response format 
def kolmogorov x if x < 0.27 return 1.0if x > 3.2 return 0.0x -2.0 * x * x k 0for i in reversed xrange 1 27 + 1 2 k 1 - k * exp x * i return 2.0 * k 
def visiblename name all None  hidden names '  builtins  ' '  doc  ' '  file  ' '  path  ' '  module  ' '  name  ' '  slots  ' '  package  ' if name in  hidden names return 0if name '__' and name '__' return 1if all is not None return name in all else return not name '_'
@dispatch object def scrub keys o raise Not Implemented Error 'scrub keysnotimplementedfortype % type o .  name  
def stl case activity owner group table row db current current s3db servicertable stable alias 'root service left [stable.on stable table id rtable rtable stable service ]query table row id row db query .select rtable left left limitby 0 1 .first if not row return Noneroot service name row not root service name return Noneif root service name INDIVIDUAL SUPPORT owner group uuid 'CASE M A N A G E M E N T root service name MENTAL HEALTH owner group uuid 'MENTAL H E A L T H owner group uuid 'GROUP A C T I V I T I E S current groupquery gtable owner group uuid & gtable ! True group db query .select gtable limitby 0 1 .first return group if group else None 
def dmp prs resultant f g u K if not u return dup prs resultant f g K if dmp zero p f u or dmp zero p g u return dmp zero u - 1 [] R S dmp inner subresultants f g u K if dmp degree R[ -1 ] u > 0 return dmp zero u - 1 R return S[ -1 ] R
def playlist to mpd format playlist *args **kwargs return tracks to mpd format playlist *args **kwargs
def assert has extension test credential name value expected X509 Extension name False value x509 credential []for i in range x509 extension count extension x509 extension i if extension short name name values extension data test In expected data values 
def unique values values com asarray tuplesafe values f lambda htype caster  unique object values htype caster return  hashtable algo f values 
def ldap hash password password password utf8 trunc password password .encode 'utf-8' h passlib salted sha1 password utf8 return h 
def cfunc sig locals {} cache False **options sig sigutils signature sig def wrapper func from .ccallback import C Funcres C Func func sig locals locals options options if cache res caching res return resreturn wrapper 
def  raise error routes iface option expected msg  error msg routes iface option expected log msg raise Attribute Error msg 
def encipher shift msg key symbols None msg _ A  prep msg '' symbols shift len A - key % len A key A ] + A[ shift return translate msg key A
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
def network io counters interface None if not interface return dict psutil io counters . asdict else stats psutil io counters pernic True if interface in stats return dict stats asdict else return False 
def  autogen docstring base msg u docstring Appender msg u return lambda func addendum docstring dedent base func 
def recompose xfm in bval in xfms import numpy as npimport os as opbvals np in bval out matrix np [np.eye 4 ] * len bvals xfms iter [np.loadtxt xfm for xfm in in xfms out files []for i b in enumerate bvals if b 0.0 mat np 4 else mat next xfms out name op u %04d.mat' % i out files out name np out name mat return out files 
def  ensure loaded start path for root folder files in os start path for phile in fnmatch files '*.py' path os root phile try   import   path '/' '.' [ -3 ] globals locals except Exception pass 
def handler from provider provider name from inbox import module registryauth mod module registry provider name if auth mod is None info providers provider name None if info provider type info 'type' None if provider type auth mod module registry 'generic' if auth mod is None raise Not Supported Error 'ylasdoesnotsupporttheemailprovider auth handler class getattr auth mod auth mod A U T H HANDLER CLS auth handler auth handler class provider name provider name return auth handler 
def get context manager context return  context manager from context context or main context manager 
def p const list seq p  parse seq p 
def make weighted tree fn ls **kwargs if not ls raise Value Error 'alledmake weighted treewithemptylist ls while len ls > 1 a ls 0 b ls 0 insort ls a + b fn a b return ls 
def add spelling ix fieldnames commit True from whoosh import Segment Readerwriter ix storage writer writer writer segment in segments filename segment filenamer Segment Reader storage schema segment f storage file filename dawg Dawg Builder field root True for fieldname in fieldnames ft fieldname for word in r fieldname dawg ft + tuple word dawg f for fieldname in fieldnames schema Trueif commit writer merge False 
def add charset charset header enc None body enc None output charset None if body enc SHORTEST raise Value Error ' H O R T E S Tnotallowedforbody enc C H A R S E T S header enc body enc output charset 
def  quit editor caller del caller multidesc editkeycaller 'xitededitor 
def  declarative constructor self **kwargs cls  type self for k in kwargs if not hasattr cls  k raise Type Error '%risaninvalidkeywordargumentfor%s' % k cls .  name   setattr self k kwargs 
@hello.get permission NO PERMISSION REQUIRED def get hello request settings request name settings name version settings version dict project name project name project version project version http api version settings api version project docs settings docs url request url hello eos get eos request if eos data eosdata {}public settings request settingsfor setting in list public settings data settings Authenticated in request principals data request user info data request capabilitiesreturn data 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def get tox env parser get parser args parser args if args env is not None tox env args envelif TOX ENV VAR in os tox env os T O X ENV V A R tox env get tox env from version return tox env 
def get request body text syntax True entities True sentiment True body {'document' {'type' 'PLAIN TEXT' 'content' text 'features' {'extract syntax syntax 'extract entities entities 'extract document sentiment sentiment 'encoding type ' T F32 body 
def calc H A1 psz Alg psz User Name psz Realm psz Password psz Nonce psz C Nonce pre H A1 None if pre H A1 and psz User Name or psz Realm or psz Password raise Type Error ' A1isincompatiblewiththepsz User Name psz Realm andpsz Passwordarguments if pre H A1 is None m algorithms Alg m psz User Name m ' ' m psz Realm m ' ' m psz Password HA1 m else HA1 pre H A1 'hex' if psz Alg 'md5-sess' m algorithms Alg m HA1 m ' ' m psz Nonce m ' ' m psz C Nonce HA1 m return H A1 'hex'
def now return datetime Time Zone Info 
def default catalogue backend msg "hereisno C A T A L O G U E % DEFAULT CATALOGUE ALIAS assert DEFAULT CATALOGUE ALIAS in settings C A T A L O G U E msgreturn settings C A T A L O G U E D E F A U L T CATALOGUE ALIAS]
def inplace logistic derivative Z delta delta * Zdelta * 1 - Z
def update live symlinks config for renewal file in storage conf files config storage Renewable Cert renewal file config update symlinks True 
def Is Python Version Correct path from ycmd import utilsif not Ends With Python path return Falsecommand [path u S u u minor sys info 2];good python major 2andminor> 6 or major 3andminor> 3 ormajor notgood python ']return utils Safe Popen command .wait 0
def test stratified table cube tab1 [[[8 9] [6 7]] [[4 9] [5 5]] [[8 8] [9 11]]]tab2 np tab1 .ct1 ctab Stratified Table tab1 ct2 ctab Stratified Table tab2 assert allclose ct1 pooled ct2 pooled assert allclose ct1 pooled ct2 pooled 
def dedent nodetext formatter nodetext has options caller None return dedent nodetext 
def dump Net Connections net nodes net + net + net dump Node Connections nodes 
@check job access permission @check job edition permission def create coordinator data request coordinator data type if data type 'input' data instance Data Input coordinator coordinator Data Form Data Input Formelse data instance Data Output coordinator coordinator Data Form Data Output Formresponse {'status' -1 'data' 'one request 'POST' data form Data Form request P O S T instance data instance coordinator coordinator prefix data type if data form valid data form response 0response['data'] reverse 'oozie edit coordinator kwargs {'coordinator' coordinator request _ 'oordinatordatacreated else response data form response _ ' P O S Trequestisrequired return Json Response response 
def  make unique l return sorted set l 
def is There A First Word first Word lines start Index for line Index in xrange start Index len lines line lines Index Line get Split Line Before Bracket Semicolon line if first Word get First Word split Line return Truereturn False 
def batch fetch art lib albums force maxwidth None for album in albums if album and not force message 'hasalbumart'else local paths None if force else [album.path] path art for album album local paths maxwidth if path album art path False album message ui 'green' 'foundalbumart' else message ui 'red' 'noartfound' log u {2}'.format album album message 
def numel x **kwargs return chunk np like x **kwargs
def tvar a limits None inclusive True True axis 0 ddof 1 a asarray a a a float .ravel if limits is None n len a return a * n / n - 1.0 am  mask to limits a limits inclusive return np am ddof ddof axis axis 
def floor mat target None if not target target materr code  cudamat floor mat mat target mat if err code raise generate exception err code return target 
def  longest d return collections Ordered Dict k d for k in sorted d key len reverse True 
def get rdm disk hardware devices uuid if hardware devices  class  .  name   'rray Of Virtual Device hardware devices hardware devices Virtual Devicefor device in hardware devices if device  class  .  name   'irtual Disk and device  class  .  name   'irtual Disk Raw Disk Mapping Ver1 Backing Info and device Uuid uuid return device 
def get session config return copy  session 
def dup zz cyclotomic factor f K lc f tc f dup LC f K dup TC f K if dup degree f < 0 return Noneif lc f ! 1 or tc f not in [ -1 1] return Noneif any bool cf for cf in f -1 ] return Nonen dup degree f F  dup cyclotomic decompose n K if not K one tc f return Felse H []for h in  dup cyclotomic decompose 2 * n K if h not in F H h return H
@utils.arg 'host' metavar '<hostname>' help _ 'ameofhost @utils.arg '--action' metavar '<action>' dest 'action' choices ['startup' 'shutdown' 'reboot'] help _ 'poweraction startup reboot orshutdown def do host action cs args result cs action args args utils list [result] ['HOST' 'power action 
def switch user request lti user lti consumer edx user authenticate username lti user user lti user id lti user user id lti consumer lti consumer if not edx user raise Permission Denied login request edx user 
def evalf subs prec subs newsubs {}for a b in subs b S b if b Float b b eval evalf prec newsubs breturn newsubs 
def configurable test state name changes True result True comment '' ret {'name' name 'changes' {} 'result' False 'comment' comment data {'testing' {'old' 'nchanged 'new' 'omethingpretendedtochange changes 'andom if random [rue False ret change dataelif changes is True ret change dataelif changes is False ret {}else err "ouhavespecifiedthestateoption Changes Itmustbeeither True 'alse or Random Salt Invocation Error err if result 'andom ret random [rue False elif result is True ret Trueelif result is False ret Falseelse raise Salt Invocation Error "ouhavespecifiedthestateoption Result Itmustbeeither True 'alse or Random if   opts  ['test'] ret True if changes is False else None ret 'hisisatest if not comment else comment return ret 
def profile list request page 1 template name 'userena/profile list paginate by 50 extra context None **kwargs warnings 'views.profile listisdeprecated Use Profile List Viewinstead Deprecation Warning stacklevel 2 try page int request G E T 'page' None except Type Error Value Error page pageif userena settings U S E R E N A DISABLE PROFILE LIST and not request staff raise Http404profile model get profile model queryset profile model visible profiles request if not extra context extra context dict return Profile List View view queryset queryset paginate by paginate by page page template name template name extra context extra context **kwargs request 
def in ipython frontend try ip get ipython return 'zmq' in str type ip .lower except passreturn False 
def batch normalization x mean var beta gamma epsilon 0.001 if not hasattr T 'batch normalization test return  old batch normalization x mean var beta gamma epsilon if mean 1 reduction axes range x - 1 else reduction axes [i for i in range x if mean T normalization test x gamma beta mean var reduction axes epsilon 
def available Versions local True force Check False if local return  local Versions force Check else return sorted list set  local Versions force Check +  remote Versions force Check reverse True 
def get effective router appname if not routers or appname not in routers return Nonereturn Storage routers 
def  content length rewriter state state list state length sum len block for block in state if state code in constants N O BODY RESPONSE STATUSES state []del state Content Length state 'REQUEST METHOD' 'HEAD' if length logging 'roppingunexpectedbodyinresponseto H E A Drequest state []elif not state large response and length > constants M A X RUNTIME RESPONSE SIZE logging 'esponsetoolarge %d maxis length constants M A X RUNTIME RESPONSE SIZE new response ' T T Presponsewastoolarge %helimitis %d.\n' % length constants M A X RUNTIME RESPONSE SIZE state 'nternal Server Error Content Type 'ontent Length str len new response state [new response state Content Length str length 
def obj sha type chunks sha sha1 sha object header type chunks length chunks if isinstance chunks bytes sha chunks else for chunk in chunks sha chunk return sha 
def parse date date string assume utc False as utc True default None from dateutil import parseif not date string return UNDEFINED D A T Eif default is None func datetime if assume utc else datetime default func .replace day 15 hour 0 minute 0 second 0 microsecond 0 tzinfo  utc tz if assume utc else  local tz if iso pat .match date string is not None dt parse date string default default else dt parse date string default default dayfirst parse date day first if dt is None dt dt tzinfo  utc tz if assume utc else  local tz return dt  utc tz if as utc else  local tz 
def test laplace mask image np 9 9 image -3 3 -3 ] 1result filters image ksize 3 mask np 9 9 bool assert np result 0
def tokens Match expected Tokens received Tokens ignore Error Order ignore Errors False check Self Closing Falsefor token in expected Tokens if token 'tart Tag and len token 4 or token 'nd Tag and len token 3 check Self Closing Truebreakif not check Self Closing for token in received Tokens if token 'tart Tag or token 'nd Tag token if not ignore Error Order and not ignore Errors return expected Tokens received Tokens else tokens {'expected' [[] []] 'received' [[] []]}for token Type token List in zip tokens expected Tokens received Tokens for token in token List if token ! 'arse Error tokens Type token elif not ignore Errors tokens Type token return tokens tokens 
def baseline assess tables return s3 rest controller 
def send remote request request result queue logging 'endingremoterequest {0}'.format request result queue urlfetch request 
def template source request template name request G E T u None if template name is None return Http Response Bad Request u loaders []for loader name in settings T E M P L A T E LOADERS loader find template loader loader name if loader is not None loaders loader for loader in loaders try source display name loader template source template name breakexcept Template Does Not Exist source u Template Does Not Exist %s' % template name try from pygments import highlightfrom pygments import Html Django Lexerfrom pygments import Html Formattersource highlight source Html Django Lexer Html Formatter source mark safe source source Trueexcept Import Error passreturn render to response u toolbar source {u'source' source u name template name 
def  hm event handler hass proxy device caller attribute value try channel int device ' ' [1] address device ' ' [0]hmdevice hass D A T A H O M E M A T I C address except Type Error Value Error  L O G G E R 'venthandlingchannelconverterror returnif attribute not in hmdevice E V E N T N O D E return L O G G E R 'vent attribute hmdevice N A M E channel if attribute in HM PRESS EVENTS hass job hass fire EVENT KEYPRESS {ATTR NAME hmdevice N A M E ATTR PARAM attribute ATTR CHANNEL channel returnif attribute in HM IMPULSE EVENTS hass job hass fire EVENT KEYPRESS {ATTR NAME hmdevice N A M E ATTR CHANNEL channel return L O G G E R 'ventisunknownandnotforwardedto H A 
def pull tar url name verify False return  pull image 'tar' url name verify verify 
def python int bitwidth return struct 'l' * 8
def bash wrap cmd str log 'bash wrap isdeprecatedandwillberemovedinv0 return "bash-c'%s'" % cmd str "'" "'\\''"
def maybe make aware dt tz None if is naive dt dt to utc dt return localize dt timezone if tz is None else timezone or local tz 
def get gravatar email size 80 default 'identicon' if userena settings U S E R E N A MUGSHOT GRAVATAR SECURE base url 'https //secure.gravatar.com/avatar/'else base url '//www.gravatar.com/avatar/'gravatar url '% base url s gravatar id s % {'base url base url 'gravatar id md5 email .encode 'utf-8' .hexdigest } gravatar url + urlencode {'s' str size 'd' default return gravatar url 
def mutualinfo kde 2sample y x normed True nobs len x x np x float y np y float kde x gaussian kde x T x T kde y gaussian kde y T x T mi obs np kde x - np kde y if len mi obs ! nobs raise Value Error 'rongnumberofobservations mi mi obs if normed mi normed np 1.0 - np -2 * mi return mi normedelse return mi 
def hacks for phantomjs browser if isinstance browser webdriver Phantom J S js "\nwindow.confirm function message {\nreturntrue;\n}\nwindow.alert window window R E F http //stackoverflow.com/questions/13536752/phantomjs-click-a-link-on-a-page?rq 1 E F http /ire function el etype {\nif el Event {vent 'on'+etype ;bj document Event 'vents ;bj Event etype true false ;vent ev Obj ;lick function el {\nvare document Event 'ouse Events ;vent 'click' true true ;vent e ;\n};\n"browser.execute script '%s' % js 
def  pretty hex hex str if len hex str % 2 ! 0 hex str '0' + hex str return ' '.join [hex str i + 2 ] for i in range 0 len hex str 2 ] .upper
@calculator 272696576 def calculate perf counter bulk count previous current property name n0 previous name current name previous Timestamp Sys100 N S current Timestamp Sys100 N S current Frequency Sys100 N S n0 is None or n1 is None returnreturn n1 - n0 / d1 - d0 / f 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def check header dups header errors for curr elem in range len header if header header elem ! 1 errors '%sfoundinheader%dtimes.' % header elem header header elem + 'eaderfieldsmustbeunique DCTB %d %d' % 0 curr elem return errors 
def Passphrase Callback verify False prompt1 'nterpassphrase ' prompt2 'erifypassphrase ' while 1 try p1 getpass prompt1 if verify p2 getpass prompt2 if p1 p2 breakelse breakexcept Keyboard Interrupt return Nonereturn p1 
def alias function fun name doc None alias fun types Function Type fun  code   fun  globals   name fun  defaults   fun  closure   alias fun  dict  .update fun  dict   if doc and isinstance doc six types alias fun  doc   docelse orig name fun  name  alias msg 'hisfunctionisanaliasof orig name alias fun  doc   alias msg + fun  doc   return alias fun 
def get Layer Thickness xml Element if xml Element None return 0.4return xml Element Cascade Float 0.4 'hickness 
def find skips start results {}debug 'earchingin start for root  dirs files in os start for name in files if name 'test ' and name 'py' path os root name debug 'earchingin path temp result find skips in file path for method name bug no in temp result if results bug no result dict results bug no if result dict name result dict method name else result dict [method name no result dictelse results no {name [method name results 
def init simple stream logging level logging I N F O streams None format None date format None if not streams streams [sys.stdout]if not format format '% asctime s message s not date format date format '%H %M % Config level level handlers []formatter Wrapping Log Formatter format format date format date format for stream in streams log handler logging Stream Handler stream log handler Level level log handler Formatter formatter handlers + [log handler Logger '' .handlers handlers 
def  dnsname to stdlib name def idna encode name "orrowedwholesalefromthe Python Cryptography Project Itturnsout itcanexplodefor Thisavoidsthatproblem idnafor prefix in [u'*.' u if name prefix name name prefix ]return prefix 'ascii' + idna name return idna name name idna encode name if sys info > 3 0 name name 'utf-8' return name 
def public url app user or service None if user or service if app host host user or service host public host app return host + user or service url else return public host app + app server url 
def bookmark absent name force False recursive False return  absent name 'bookmark' force recursive 
def string2lines astring tab width 8 convert whitespace 0 whitespace re '[\x0b\x0c]' if convert whitespace astring whitespace '' astring return [s.expandtabs tab width .rstrip for s in astring ]
def status code code redirect dict headers dict location REDIRECT LOCATION code map {301 redirect 302 redirect 303 redirect 304 dict data '' 305 redirect 307 redirect 401 dict headers { W W Authenticate 'asicrealm "ake Realm 402 dict data 'uckyou payme headers {'x-more-info' 'http //vimeo.com/22053820'} 406 dict data json {'message' 'lientdidnotrequestasupportedmediatype 'accept' ACCEPTED MEDIA TYPES} headers {ontent Type 'application/json'} 407 dict headers {roxy Authenticate 'asicrealm "ake Realm 418 dict data ASCII ART headers {'x-more-info' 'http //tools.ietf.org/html/rfc2324'} }r make response r code codeif code in code map m code map 'data' in m r m 'headers' in m r m r 
def get New Repository return Fill Repository 
def Validate Property Link name value Validate String Length name value max len  MAX LINK PROPERTY LENGTH
@validatordef truthy value return value and not isinstance value six types or value 
@xframe options sameorigindef  edit document collision request orig rev curr rev is async submit is raw rev form doc form section id rev doc content kuma request P O S T .ection I Ds .serialize if doc template curr content curr rev parsed content kuma curr rev parsed content Section I Ds if section id parsed content Section section id curr content parsed content if is raw response Http Response 'CONFLICT' response code 409return responsecontext {'collision' True 'revision form rev form 'document form doc form 'content' content 'current content curr content 'section id section id 'original revision orig rev 'current revision curr rev 'revision' rev 'document' doc render request 'wiki/edit.html' context 
@utils.arg 'hypervisor' metavar '<hypervisor>' help _ 'ameor I Dofthehypervisortoshowtheuptimeof def do hypervisor uptime cs args hyper  find hypervisor cs args hyper cs hyper utils dict hyper dict 
def create firewall rule protocol action profile None **kwargs conn  auth profile return conn firewall rule protocol action **kwargs
def conn from flowtuple ft sip sport dip dport offset relts ftreturn {'src' sip 'sport' sport 'dst' dip 'dport' dport 'offset' offset 'time' relts 
def  distribute info if info is info for arg in info if arg is info conj argbreakelse return info info *[a for a in info if a is not conj ] return info *list map  distribute [ info c rest info info for c in conj elif info is info return info *list map  distribute [ x info info for x in info else return info 
def get navigator auth password return NAVIGATOR.AUTH PASSWORD S C R I P T 
def parse pkt pkt if pkt TCP and pkt TCP .dport 80 and pkt Raw return parse http pkt elif pkt TCP and pkt TCP .dport 21 return parse ftp pkt elif pkt TCP and pkt TCP .dport 389 return parse ldap pkt return None None 
def rgb tuple to hsv rgb rgb 0 to 1 array rgb / 255.0 hsv rgb to hsv *tuple rgb 0 to 1 return hsv * 360 hsv * 100 hsv * 100
def   within2 value within None errmsg None dtype None valid  value False value if dtype try  value dtype value valid  value in within except Value Error passelse valid  value in within if errmsg is None if dtype typename getattr dtype '  name  ' hasattr dtype '  class  ' and getattr dtype  class   'name' dtype errmsg "{0}within'{1}'".format typename within else errmsg "within'{0}'".format within return valid  value errmsg 
def  list existing filesystem glob paths globs  constrain glob glob paths time start time listing []for g in sorted globs logger 'isting g if filesystem g listing filesystem g logger '%d%slistingstook%fstoreturn%ditems' len globs filesystem  class  .  name   time - time start len listing return set listing 
def fclusterdata X t criterion 'inconsistent' metric 'euclidean' depth 2 method 'single' R None X np X order 'c' dtype np if type X ! np or len X ! 2 raise Type Error 'heobservationmatrix Xmustbeannbymnumpyarray Y distance X metric metric Z linkage Y method method if R is None R inconsistent Z d depth else R np R order 'c' T fcluster Z criterion criterion depth depth R R t t return T
@depends HAS ESX CLI def set coredump network config host username password dump ip protocol None port None host vnic 'vmk0' dump port 6500 esxi hosts None cmd 'systemcoredumpnetworkset-v{0}-i{1}-o{2}'.format host vnic dump ip dump port ret {}if esxi hosts if not isinstance esxi hosts list raise Command Execution Error "'esxi hosts for esxi host in esxi hosts response salt host username password cmd protocol protocol port port esxi host esxi host if response ! 0 response Falseelse response Trueret {esxi host response else response salt host username password cmd protocol protocol port port if response ! 0 response Falseelse response Trueret {host response return ret 
def   space delimited list value valid  value errmsg False value 'space-delimitedstring' try if hasattr value '  iter  ' valid Trueelse  value value if  value [] raise Value Errorvalid Trueexcept Attribute Error passexcept Value Error passreturn valid  value errmsg 
def was Last Response H T T P Error thread Data get Current Thread Data return thread Data H T T P Error and thread Data H T T P Error thread Data Request U I D 
def default index func @wraps func def check default index self *args **kwargs if self file path ! self index path raise Assertion Error 'annotcall % func  name   return func self *args **kwargs return check default index 
def extract data input dir output dir if os output dir print 'singextracteddataat % output dir returnfor filename in 'data object label 2.zip' 'data object image 2.zip' 'devkit object filename os input dir filename zf zipfile Zip File filename 'r' print 'nzipping % filename zf output dir 
def conv3d input filters input shape None filter shape None border mode 'valid' subsample 1 1 1 filter flip True filter dilation 1 1 1 input as tensor variable input filters as tensor variable filters conv op Abstract Conv3d imshp input shape kshp filter shape border mode border mode subsample subsample filter flip filter flip filter dilation filter dilation return conv op input filters 
def store minions opts jid minions mminion None syndic id None if mminion is None mminion salt Master Minion opts states False rend False job cache opts job cache fstr '{0}.save minions job cache try mminion fstr jid minions syndic id syndic id except Key Error raise Key Error "eturner minions job cache 
def send Message qry try get User Name except return  skype Error if qry 'skypeupdate'  write Friends  get Avatars return len  read Friends .  str   + 'friendsfoundandcached!' else m qry ' ' ret skype 'MESSAGE' + m + '' + m if 'SENDING' in ret return 'essagesentto + m else return ' R R O Rsendingmessageto ' + m 
def find snippet files ft directory patterns ['%s.snippets' '%s *.snippets' os '%s' '*' ]ret set directory os directory for pattern in patterns for fn in glob os directory pattern % ft ret os fn return ret 
@signals.contributor removed remove contributor from subscriptions node user if user id not in node contributor ids node subscriptions get all node subscriptions user node for subscription in node subscriptions subscription user from subscription user 
def dup terms gcd f K if dup TC f K or not f return 0 f i 0for c in reversed f if not c i + 1else breakreturn i f - i ]
def get reverse primers id map rev primers {}for n in id map rev primers Barcode Sequence [str D N A Sequence curr rev primer .rc for curr rev primer in n Reverse Primer ' ' ]return rev primers 
def theano parzen data mu sigma x dataa x 0 'x' 1 - mu 'x' 0 1 / sigma E log mean exp -0.5 * a ** 2 .sum 2 Z mu * T sigma * numpy numpy * 2 return E - Z
def delete entity from table key datastore datastore delete APP ENTITY TABLE [key]
def register opts config config opts METER PUBLISH OPTS group 'publisher rpc 
def get exception data e err data {'type' e  class  .  name   'message' e 'detail' ''}return err data 
def hg file finder dirname '.' if not dirname dirname '.'if hg is None return find files with cmd dirname return find files with lib dirname 
def  binary compiler tmpl return lambda self l r tmpl % self l self r 
def test get items mixin cols attrs 'name' 'unit' 'dtype' 'format' 'description' 'meta' m mixin cols 'm'm.info.format '{0}'m.info.description 'd'm.info.meta {'a' 1}t Q Table [m] for item in [1 3] np [0 2] slice 1 3 t2 t m table name col equal t2 'm' m for attr in attrs assert getattr t2 attr getattr m attr assert getattr m2 attr getattr m attr 
def test process never started qtbot quit pyproc quit pyproc test 
def get problems in section section problem descriptors defaultdict if not isinstance section Usage Key section key Usage Key string section else section key sectionsection descriptor modulestore .get item section key depth 3 for subsection in section descriptor children for vertical in subsection children for component in vertical children if component 'problem' and getattr component 'has score False problem descriptors component ] componentreturn problem descriptors 
def p function p if p 'oneway' oneway Truebase 1else oneway Falsebase 0if p len p - 1 ] ' ' throws []else throws p len p - 1 ]p[0] [oneway p base + 1 ] p base + 2 ] p base + 4 ] throws 
def Test Hunt Helper client mock client ids check flow errors False token None iteration limit None Test Hunt Helper With Multiple Mocks dict [ client id client mock for client id in client ids check flow errors check flow errors iteration limit iteration limit token token 
@not implemented for 'undirected' def weakly connected component subgraphs G copy True for comp in weakly connected components G if copy yield G comp .copy else yield G comp 
def process iter def add pid proc Process pid  pmap procreturn procdef remove pid  pmap pid None a set pids b set  pmap new pids a - b gone pids b - a for pid in gone pids remove pid for pid proc in sorted list  pmap + list dict new pids .items try if proc is None yield add pid elif proc running yield proc else yield add pid except No Such Process remove pid except Access Denied if proc is None and pid in  pmap try yield  pmap except Key Error passelse raise 
def translate jobconf for all versions variable return sorted set [variable] + list  JOBCONF M A P variable {} .values
def validate modules try jwt loadexcept Attribute Error raise Improperly Configured 'y J W T Mozillanotimported Thisisbecausethereisanother J W Tmoduleinstalled The J W Tmoduleimportedisat {hiscanusuallybefixedbyrunning `y J W T Py J W T Py J W T jwt  file  
def  convert timestamp value if isinstance value datetime value  microseconds from datetime value * 1e-06 return value 
def on Request Create Account register Name password datas INFO MSG 'equest Create Account register Name %s' % register Name commit Name register Namereal Account Name commit Name K B Engine Account Response commit Name real Account Name datas K B Engine S E R V E R SUCCESS
def filter email recipients from hooks to field cc field signal **kwargs if signal in  hooks for hook in  hooks to field hook to field to field **kwargs cc field hook cc field cc field **kwargs return to field cc field 
def remove port zone port permanent True cmd '--zone {0}--remove-port {1}'.format zone port if permanent cmd + '--permanent'return   firewall cmd cmd 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def test isiterable t1 Time assert not isiterable t1 t2 Time ['1999-01-0100 00 00.123456789' '2010-01-0100 00 00'] format 'iso' scale 'utc' assert isiterable t2 
def  comp coords hsp seq type inter lens assert seq type in 'hit' 'query' seq step 1 if hsp '%s strand % seq type ] > 0 else -1 fstart hsp '%s start % seq type ]fend fstart + len hsp type '-' '' .replace '>' '' .replace '<' '' * seq step coords [ fstart fend ]for idx block in enumerate hsp type ] bstart coords -1 ][1] + inter lens * seq step bend bstart + seq step * len block '-' '' coords bstart bend if seq step ! 1 for idx coord in enumerate coords coords coords coords return coords 
def p struct or union specifier 2 t pass 
def warning message env Environment env File System Loader osp CONFDIR PATH 'templates' warning env template 'warning.html' return warning css path CSS PATH text message 
def make L M S2 R G B nm power R G B interpolate Cones interpolate wavelength 5nm cones Smith Pokorny cone Sens interpolate Cones nm rgb to cones numpy cone Sens numpy power R G B cones to rgb numpy rgb to cones return cones to rgb 
def register linter linter checker Exceptions Checker linter 
def database job pkg id pkg title pkg dict call action u show id pkg id pkg dict + pkg titlepkg dict call action u update **pkg dict 
def html keep url text idx 0final ''link tags re ' ?<!["\'] ftp \\/\\/ \\w+ {0 1}\\w*@ ? [^\\s<"\']+ [0-9]+ ? \\/|\\/ [^\\s<"\'] ? ?![^\\s<"\']*["\']|[^\\s<"\']*</a> ' for item in re link tags text final + text item ]final + '<ahref "%s"target " blank % item 0 item 0 idx item final + text ]return final 
def  Print Error And Exit stream msg exit code 2 stream msg sys exit code 
def prefetch one level instances prefetcher attname rel qs rel obj attr instance attr single cache name prefetcher prefetch queryset instances additional prl getattr rel qs ' prefetch related lookups [] if additional prl rel qs prefetch related lookups []all related objects list rel qs rel obj cache {}for rel obj in all related objects rel attr val rel obj attr rel obj rel obj cache rel attr val [] .append rel obj for obj in instances instance attr val instance attr obj vals rel obj cache instance attr val [] if single setattr obj cache name vals if vals else None else qs getattr obj attname .all qs result cache valsqs prefetch done Trueobj prefetched objects cache name qsreturn all related objects additional prl 
def side sankey n 1 prior len sankey for i in range 0 2 * n 2 sankey flows [1 -1 ] orientations [ -1 -1 ] patchlabel str prior + i prior prior + i - 1 connect 1 0 alpha 0.5 sankey flows [1 -1 ] orientations [1 1] patchlabel str prior + i + 1 prior prior + i connect 1 0 alpha 0.5
def list triggers name location '\\' pythoncom Co Initialize task service win32com Dispatch 'chedule Service task service Connect task folder task service Get Folder location task definition task folder Get Task name .efinitiontriggers task definition Triggersret []for trigger in triggers ret trigger Id return ret 
def ip address validators protocol unpack ipv4 if protocol ! u and unpack ipv4 raise Value Error u Youcanonlyuse ipv4 try return ip address validator map ]except Key Error raise Value Error u Theprotocol Supported %s" % protocol list ip address validator map 
def constr tmul constraints values is abs products []for constr val in zip constraints values products tmul constr val is abs return sum dicts products 
def safe unpickle string try return pickle string except return None 
def get filepath fileorpath if isinstance fileorpath basestring return fileorpathelif isinstance fileorpath Django File return fileorpathelif hasattr fileorpath 'file path return fileorpath pathelif hasattr fileorpath 'path' return fileorpath hasattr fileorpath 'name' return fileorpath fileorpath 
def  clear Suite suite suite tests []
def diff texts a b filename a a b b return difflib diff a b filename filename ' original ' ' refactored ' lineterm ''
def nipy spectral rc u cmap u spectral im gci if im is not None im cmap cm spectral 
def cgconfig condrestart return service cgconfig control 'condrestart'
def rmfile path if osp path if is win os path 511 os path 
@utils routes '/pic/<path filename def send pic filename return send from directory os '.' + '/static/' filename 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def get vm status vmid None name None if vmid is not None log 'get vm status V M I D vmid vmobj  get vm by id vmid elif name is not None log 'get vm status name name vmobj  get vm by name name else log 'get vm status No I Dor N A M Egiven raise Salt Cloud Execution Failurelog ' Mfound {0}'.format vmobj if vmobj is not None and 'node' in vmobj log 'VM STATUS Hasdesiredinfo Retrieving {0} '.format vmobj data query 'get' 'nodes/{0}/{1}/{2}/status/current'.format vmobj vmobj vmobj return datalog ' Morrequestedstatusnotfound return False 
def get url conn urlopen url resp conn conn return resp 
def  set deep data structure dot path or list value to set assert hasattr data structure '  setitem  ' search path Noneparam type type dot path or list if param type in tuple list search path dot path or listelif param type str search path dot path or list '.' assert len search path > 0 'issingvalidsearchpath item data structurefor search key in search path -1 ] current item search key dict current item current item key item path -1 ]] value to setreturn data structure 
def merge valid keys params valid keys extra merged {}if not extra return mergedfor key in valid keys if key in extra params extra extra merged 
def encode to py3bytes or py2str s fallback encoding 'utf8'if IS PY3 if isinstance s bytes passelse s str s try s bytes s DEFAULT ENCODING except Unicode Encode Error s bytes s fallback encoding else try s unicode s DEFAULT ENCODING except Type Error s unicode s try s s DEFAULT ENCODING except s s fallback encoding 'replace' return s 
def parse repository tag repo path tag separator u 'digest separator u digest separator in repo path repo tag repo path digest separator 1 return repo tag digest separator repo tag repo path u if tag separator in repo path repo tag repo path tag separator 1 if u in tag repo tag repo path u return repo tag tag separator 
def  auth key nonce username password digest  password digest username password md5hash md5 data '%s%s%s' % nonce username digest md5hash data 'utf-8' return  unicode md5hash 
@ docstring 'work' def get work by id id includes [] return  do mb query 'work' id includes 
def fixed ip disassociate all by timeout context host time return I M P L ip disassociate all by timeout context host time 
def  check audience payload dict audience if audience is None returnaudience in payload payload dict 'aud' if audience in payload is None raise App Identity Error 'oaudfieldintoken {0}'.format payload dict if audience in payload ! audience raise App Identity Error 'rongrecipient {0}! {1} {2}'.format audience in payload audience payload dict 
def check for language lang code for path in all locale paths if gettext module 'django' path [to locale lang code ] is not None return Truereturn False 
def get root key from entity key key tokens key KIND SEPARATOR return tokens + KIND SEPARATOR
def update scene exceptions indexer id scene exceptions season -1 [ore D B x for x in sickrage Core D B many u exceptions indexer id with doc True if x season ]ore Logger u Updatingsceneexceptions if indexer id in exceptions Cache exceptions Cache id {ache id scene exceptionsfor cur exception in scene exceptions sickrage Core D B {u' t u exceptions u id indexer id u name cur exception u season 
def delete course update location update passed id user if not passed id return Http Response Bad Request try course updates modulestore .get item location except Item Not Found Error return Http Response Bad Request course update items list reversed get course update items course updates passed index  get index passed id if 0 < passed index < len course update items course update item course update items passed index - 1 ]course update item Course Info Module S T A T U S D E L E T E Dcourse update items passed index - 1 ] course update itemsave course update items location course updates course update items user return  get visible update course update items else return Http Response Bad Request _ 'nvalidcourseupdateid 
def gf irreducible n p K while True f gf random n p K if gf irreducible p f p K return f 
def  is lun id available on host client host lun id mapping client volume mappings for host host Ref used lun ids  get used lun ids for mappings mapping return lun id not in used lun ids 
def sanitise Base32 data data data if '1' in data log 'ounda Base32 Assumingit I % data data data '1' 'I' if '0' in data log 'ounda Base32 Assumingit O % data data data '0' 'O' return data 
def create default context context ssl S S L Context ssl P R O T O C O L S S Lv23 context mode ssl C E R T N O N Econtext hostname Falsecontext | ossllib S S L OP NO S S Lv2context | ossllib S S L OP NO S S Lv3context | ossllib S S L OP NO C O M P R E S S I O Ncontext | ossllib S S L OP CIPHER SERVER P R E F E R E N C Econtext | ossllib S S L OP SINGLE DH U S Econtext | ossllib S S L OP SINGLE ECDH U S Econtext ctx mode ossllib S S L MODE ENABLE PARTIAL WRITE | ossllib S S L MODE ACCEPT MOVING WRITE BUFFER | ossllib S S L MODE AUTO RETRY return context 
def color Tuple c return c c c c 
def test history super Console Send Keys 'edirect Start }rue }{ENTER}' test Regex 'onsole Send Keys ' N T E R test Regex + 'onsole Send Keys ' N T E R test Regex + 'onsole Send Keys ' N T E R test Regex + 'onsole Send Keys ' N T E R test Regex + 'onsole Send Keys ' N T E R test Regex + 'onsole Send Keys '{UP}{UP}{UP}{ENTER}' test Regex + 'onsole Send Keys '{UP}{ENTER}' test Regex + 'onsole Send Keys '{UP}{UP}{UP}{DOWN}{ENTER}' test Regex + 'onsole Send Keys '{UP}{ENTER}' test Regex + 'onsole Send Keys '{DOWN}{ENTER}' test Regex + 'onsole Send Keys '{DOWN}{ENTER}' test Regex + 'onsole Send Keys '{DOWN}{ENTER}' test Regex + 'onsole Send Keys ' P U P E S C E N T E R test Regex + 'onsole Send Keys '{UP}{ENTER}' test Regex + 'onsole Send Keys '{UP}{DOWN}{DOWN}{DOWN}{DOWN}{DOWN}{DOWN}{ENTER}' test Regex + 'onsole Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex 
def  get closest end end after begin after end iter iter end after begin iter iter begin after while True try e next end iter except raise No Env Error 'oclosingenvironmentdetected try b next begin iter except breakif not e > b breakreturn e 
def parse Dict parent parent 0while True key Object parent 'key[]' yield key if key '0' break yield Object parent 'value[]' parent + 1
def  aspect preserving resize image smallest side smallest side tf to tensor smallest side dtype tf shape tf image height shape shape new height new width  smallest size at least height width smallest side image tf dims image 0 resized image tf bilinear image [new height new width align corners False resized image tf resized image resized image shape [one None 3] return resized image 
def sanitize timestamp timestamp if not timestamp return timestampif not isinstance timestamp datetime timestamp timeutils isotime timestamp return timeutils time timestamp 
def check returncode p out code p code 0 returnerrmap [one Rar Warning Rar Fatal Error Rar C R C Error Rar Locked Archive Error Rar Write Error Rar Open Error Rar User Error Rar Memory Error Rar Create Error Rar No Files Error Rar Wrong Password UNRAR TOOL ALT TOOL errmap [one code > 0 and code < len errmap exc errmap code 255 exc Rar User Breakelif code < 0 exc Rar Signal Exitelse exc Rar Unknown Errorif out msg '%s[%d] %s' % exc  doc   p out else msg '%s[%d]' % exc  doc   p raise exc msg 
def get test providers dir if not os TEST PROVIDERS DOWNLOAD DIR os TEST PROVIDERS DOWNLOAD DIR return TEST PROVIDERS DIR
def validate repository name app name user if name in [one None ''] return 'ntertherequiredrepositoryname name in ['repos'] return 'heterm soitcannotbeusedasarepositoryname % name check existing get repository by name and owner app name user if check existing is not None if check existing return 'ouownadeletedrepositorynamed pleasechooseadifferentname % escape name else return 'oualreadyownarepositorynamed pleasechooseadifferentname % escape name if len name < 2 return 'epositorynamesmustbeatleast2charactersinlength len name > 80 return 'epositorynamescannotbemorethan80charactersinlength not VALID REPOSITORYNAME R E name return 'epositorynamesmustcontainonlylower numbersandunderscore ''
def dup rshift f n K return f - n ]
def encode packet packet packet buff struct '!HH' packet packet id if packet in OPCODE RRQ OPCODE WRQ packet buff + packet name + '\x00' for k v in packet packet buff + '%s\x00%s\x00' % k v elif packet OPCODE DATA packet buff + struct '!H' packet number packet buff + packet packet OPCODE ACK packet buff + struct '!H' packet number elif packet OPCODE ERROR packet buff + struct '!H' packet code packet buff + packet msg + '\x00' elif packet OPCODE OACK for k v in packet packet buff + '%s\x00%s\x00' % k v return packet buff 
def render courseware request usage key from courseware import render xblockreturn render xblock request unicode usage key check if enrolled False 
def Cauchy name x0 gamma return rv name Cauchy Distribution x0 gamma 
def projection if settings security map and not s3 has role MAP ADMIN auth return s3 rest controller 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def benchmark score from merged benchmark env id episode lengths episode rewards episode types return benchmark benchmark env id episode lengths episode rewards episode types 
def  incompat bottleneck version method if method not in ['sum' 'prod'] return Falsetry import bottleneck as bnreturn bn  version   > Loose Version '1.0' except Import Error return False 
def axis name None cols None values None units None ax {ame Order ['name' 'units' 'title']if name is not None ax nameif values is not None ax valuesif units is not None ax unitsif cols is not None ax []for c in cols if type c ! list and type c ! tuple c [c]col {}for i in range 0 len c col Name Order c col return ax 
def  options browser cfg ret config defaults virtualname options for option in options value  fetch option cfg ret config virtualname options if value yield option value continueif defaults if option in defaults log 'singdefaultfor virtualname option yield option defaults continuecontinue 
def gen Delimiter file Name if file Name '.csv' '.CSV' delim ' 'else delim ' DCTB 'return delim 
def  handle broken tcl tk if is win and is venv basedir os base prefix 'tcl' files os basedir for f in files abs path os basedir f if f 'tcl' and os abs path os T C L LIBRARY'] abs pathelif f 'tk' and os abs path os T K LIBRARY'] abs pathelif f 'tix' and os abs path os T I X LIBRARY'] abs path 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def regex filter query model filters regexp op map {'postgresql' '~' 'mysql' 'REGEXP' 'oracle' 'REGEXP LIKE' 'sqlite' ' E G E X P string C O N F connection ' ' [0].split '+' [0]db regexp op regexp op map db string 'LIKE' for filter name in filters try column attr getattr model filter name except Attribute Error continueif 'property' type column attr .  name   continuequery query column attr db regexp op str filters name return query 
def consider constant x warnings 'consider constant isdeprecated usezero grad ordisconnected grad instead stacklevel 3 return consider constant  x 
def get Maximum By Vector3 Paths paths maximum Vector3 -9.876543219876543e+17 -9.876542319876543e+17 -9.876543219876543e+17 for path in paths for point in path maximum point return maximum 
def resource path resource *elements return  join path tuple resource path tuple resource *elements
def get unit name measurement unit length 'long' locale LC NUMERIC locale Locale locale unit  find unit pattern measurement unit locale locale if not unit raise Unknown Unit Error unit measurement unit locale locale return locale display names unit {} .get length 
def sids test songs return [s.sid for s in test songs 
def is maximal matching G matching if isinstance matching dict matching matching dict to set matching if not is matching G matching return Falseall edges set map frozenset G matched edges set map frozenset matching unmatched edges all edges - matched edges return all not is matching G matching | {e} for e in unmatched edges 
def dt to decimal utc decimal .prec 30return decimal Decimal str calendar utc + decimal Decimal str utc / decimal Decimal '1000000.0'
def runstest 1samp x cutoff 'mean' correction True if cutoff 'mean' cutoff np x elif cutoff 'median' cutoff np x xindicator x > cutoff .astype int return Runs xindicator .runs test correction correction 
def order angles golden ratio theta interval 180def angle distance a b difference a - b return min abs difference % interval abs difference % - interval remaining list np theta index remaining 0 angle theta yield index angle increment interval * 1 - np 5 - 1 / 2 while remaining angle angle + angle increment % interval insert point np theta angle index below insert point - 1 index above 0 if insert point len remaining else insert point distance below angle distance angle theta below distance above angle distance angle theta above if distance below < distance above yield remaining index below else yield remaining index above 
def  init python printing stringify func **settings import sysfrom sympy import builtinsdef  displayhook arg "ython Thisfunctionwasadaptedfrom \n\nhttp //www.python.org/dev/peps/pep-0217/\n\n"if arg is not None builtins  Noneprint stringify func arg **settings builtins  argsys  displayhook 
def store item context builder arrayty val ptr align None if arrayty else 1 return context value builder arrayty val ptr align align 
def insert into file fileobj data start end buffer String I O fileobj end copyfileobj fileobj buffer -1 buffer buffer 0 fileobj start fileobj data fileobj fileobj delta fileobj - end copyfileobj buffer fileobj -1 fileobj buffer return delta 
def  bytes iterator py3 bytes  for b in bytes  yield bytes [b]
def unique resolved paths paths rps  slashappend or add error resolve parent p 'unique resolved paths for p in paths return frozenset x for x in rps if x is not None 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def get system info key default None from sqlalchemy import Programming Errortry obj meta Session System Info .filter by key key .first if obj return obj Programming Error meta Session return default 
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
def run paired t bt s1 s2 test stats []pvals []s1 indices [bt.index i axis 'sample' for i in s1 indices [bt.index i axis 'sample' for i in s2 data in bt data axis 'observation' test stat pval t paired data s1 indices data s2 indices test stats test stat pvals pval return test stats pvals 
def printf builder format *args assert isinstance format str mod builder voidptr tfmt bytes make bytearray format + '\x00' .encode 'ascii' global fmt global constant mod 'printf format fmt bytes fnty ir Function Type int32 t [cstring] var arg True fn mod global 'printf' if fn is None fn ir Function mod fnty name 'printf' ptr fmt builder global fmt cstring return builder fn [ptr fmt + list args 
def replace named groups pattern named group indices [ m 0 m 0 m 1 for m in named group matcher pattern ]group pattern and name []for start end group name in named group indices unmatched open brackets prev char 1 None for idx val in enumerate list pattern ] if unmatched open brackets 0 group pattern and name pattern end + idx ] group name breakif val ' ' and prev char ! '\\' unmatched open brackets + 1elif val ' ' and prev char ! '\\' unmatched open brackets - 1prev char valfor group pattern group name in group pattern and name pattern pattern group pattern group name return pattern 
def validate mailgun webhook timestamp token signature message ''.join timestamp token expected mac hmac g api key message hashlib .hexdigest if not constant time compare expected mac signature g event 'mailgun.incoming.bad signature return Falseif abs int timestamp - time > MAX TIMESTAMP DEVIATION g event 'mailgun.incoming.bad timestamp return Falsereturn True 
@receiver user logged out def handle customer logout sender **kwargs kwargs Simple Lazy Object lambda Customer Model from request kwargs 
def get doc url page anchor '' if '-dev' in VERSION version 'latest'else version 'weblate-%s' % VERSION url 'https //docs.weblate.org/en/%s/%s.html' % version page if anchor ! '' url + '#%s' % anchor return url 
def parse config string config string issue warnings True config dict {}my splitter shlex config string posix True my splitter ' 'my splitter split Truefor kv pair in my splitter kv pair kv pair if not kv pair continuekv tuple kv pair ' ' 1 if len kv tuple 1 if issue warnings Theano Config Warning "onfigkey ignoringit % kv tuple stacklevel 1 else k v kv tupleconfig dict vreturn config dict 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def permutedims expr perm if not isinstance expr N Dim Array raise Type Error ' from sympy import Permutationif not isinstance perm Permutation perm Permutation list perm if perm ! expr raise Value Error 'wrongpermutationsize' iperm ~ perm indices span perm [range i for i in expr new array [one * len expr for i idx in enumerate itertools *indices span t iperm idx new array expr shape perm expr return expr new array new shape 
def merge cookies cookiejar cookies if not isinstance cookiejar cookielib Cookie Jar raise Value Error 'oucanonlymergeinto Cookie Jar if isinstance cookies dict cookiejar cookiejar from dict cookies cookiejar cookiejar overwrite False elif isinstance cookies cookielib Cookie Jar try cookiejar cookies except Attribute Error for cookie in jar in cookies cookiejar cookie cookie in jar return cookiejar 
def write chunk outfile tag data '' outfile struct '!I' len data outfile tag outfile data checksum zlib tag checksum zlib data checksum outfile struct '!i' checksum 
def get plot commands import inspectexclude {u'colormaps' u u u u plot commands u current fig manager u u u | set colormaps this module inspect get plot commands commands set for name obj in list six globals if name u ' or name in exclude continueif inspect obj and inspect obj is this module commands name return sorted commands 
def skip if configuration set configuration value message None if getattr config configuration value if message is not None raise Skip Test message else raise Skip Test 
def to slug value incoming None errors 'strict' value safe decode value incoming errors value unicodedata 'NFKD' value .encode 'ascii' 'ignore' .decode 'ascii' value SLUGIFY STRIP R E '' value .strip .lower return SLUGIFY HYPHENATE R E '-' value 
@receiver post save sender User def user post save callback sender **kwargs user kwargs field changed events user user sender meta table excluded fields ['last login 'first name 'last name hidden fields ['password']
def is nonstring iterable obj return isinstance obj Iterable and not isinstance obj string types 
def comparison negative logical line match COMPARE NEGATIVE R E G E X logical line if match pos match 1 if match 2 'in' yield pos "713testformembershipshouldbe else yield pos "714testforobjectidentityshouldbe 
def validate filters action filters if action in settings actions filtertypes settings filtertypes else filtertypes settings filtertypes for f in filters if f not in filtertypes raise Configuration Error '"{0}"filtertypeisnotcompatiblewithaction"{1}"'.format f action return filters 
def hfloat f p 5 i int f return i if i f else u .{p}}'.format f p p 
def session info consul url None session None **kwargs ret {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not session raise Salt Invocation Error 'equiredargument query params {}if 'dc' in kwargs query params kwargs 'session/info/{0}'.format session ret  query consul url consul url function function query params query params return ret 
def test 3d separations c1 ICRS ra 1 * u dec 1 * u distance 9 * u c2 ICRS ra 1 * u dec 1 * u distance 10 * u sep3d c2 3d c1 assert isinstance sep3d Distance assert allclose sep3d - 1 * u 0 * u atol 1e-12 * u 
def delete security group security group profile None conn  auth profile return conn security group security group 
def wigner 6j j 1 j 2 j 3 j 4 j 5 j 6 prec None res -1 ** int j 1 + j 2 + j 4 + j 5 * racah j 1 j 2 j 5 j 4 j 3 j 6 prec return res 
def Define Flags flag values FLAGS module bar Define Flags flag values flag values gflags D E F I N E boolean 'tmod foo bool True 'ooleanflagfrommodulefoo flag values flag values gflags D E F I N E string 'tmod foo str 'default' 'tringflag flag values flag values gflags D E F I N E integer 'tmod foo int 3 'ampleintflag flag values flag values 
def  decorate axes ax freq kwargs if not hasattr ax ' plot data ax plot data []ax.freq freqxaxis ax xaxis xaxis freqif not hasattr ax 'legendlabels' ax [kwargs.get 'label' None ]else ax kwargs 'label' None ax interval Noneax axis info None 
def first in class C Y [] n C -1 nu [one * n mu [one * n next alpha Falsefor alpha in range 1 n for beta in range lamda + 1 nu Nonefor w in Y if C C A dict ! alpha next alpha Truebreakif next alpha next alpha Falsecontinuemu alphanu 0lamda 0for beta in range n for x in C.A gamma C C A dict C C A dict gamma is None or delta is None next alpha Truebreakif nu is None lamda + 1nu[delta] lamdamu deltaif nu < gamma return Falseif nu > gamma next alpha Truebreakif next alpha next alpha Falsebreakreturn True 
def scan opts ret {}for root dirs files in os opts for fn  in files full os root fn  if full '.py' ret mod data opts full return ret 
def cache tip names tree if hasattr tree ' tip names returnelse for n in tree if n Tip n tip names [ame n tip names reduce add [c. tip names for c in n Children 
def get preferred arguments encoding return locale [1] or u 
def  get css imports data inline False imports  get css imports cssutils data inline if imports is None imports  get css imports regex data return imports 
def test read normal names include table '\n#comment withblanklineabove \n \ol1 Col2 Col3 \n1.2"hello"3\n2.4\'sworlds7\n \n'reader ascii reader Reader ascii R S T names 'name1' 'name2' 'name3' include names 'name1' 'name3' dat reader table assert equal dat ['name1' 'name3'] assert almost equal dat 2.4 assert equal dat 3
def min cost flow cost G demand 'demand' capacity 'capacity' weight 'weight' return nx simplex G demand demand capacity capacity weight weight [0]
def ip numstr to quad num n int num packed struct '>L' n bytes struct 'BBBB' packed return '.'.join map str bytes 
def append period text if text -1 ] '"' return text -1 ] + '."' return text 
def  find rteq a l x i bisect right a x lo l if i ! len a + 1 and a i - 1 ] x return i - 1 raise Value Error 
def close svn review request payload server url review id to commits map defaultdict list commit message payload u branch name payload u url u S V N Repository revision u % u Revision ' payload u review request id get review request id commit message server url None commit entry u %s ' % branch name revision review id to commits map request id commit entry close all review requests review id to commits map 
def pick char array0 unique []duplicate []for i in array0 if i in duplicate passelif i in unique duplicate i unique i else unique i return unique 
def apply provider facts facts provider facts if not provider facts return factscommon vars [ 'hostname' 'ip' 'public hostname 'public ip ]for h var ip var in common vars ip value provider facts ip var if ip value facts var ip valuefacts var choose hostname [provider facts h var ] facts var facts provider factsreturn facts 
def init mpstate return Cmdlong Module mpstate 
def move Host host old Switch new Switch new Port None hintf sintf host To old Switch [witch Intf sintf new Switch port new Port return hintf sintf 
def test list command script data script 'install' '-f' data links '--no-index' 'simple 1.0' 'simple2 3.0' result script 'list' expect stderr True assert WARN FORMAT in result str result assert 'simple 1.0 ' in result str result assert 'simple2 3.0 ' in result str result 
def get locales from config locales offered config 'ckan.locales offered '' .split filtered out config 'ckan.locales filtered out '' .split locale default [config.get 'ckan.locale default 'en' ]locale order config 'ckan.locale order '' .split known locales get locales all locales set known locales | set locales offered | set locale order | set locale default all locales - set filtered out return all locales 
def add advanced component page menu index name page for component menu click css page 'button>span.large-advanced-icon' menu index require notification False page for element visibility '.new-component-advanced' 'dvancedcomponentmenuisvisible component css 'button[data-category {}]'.format name page for element visibility component css 'dvancedcomponent name click css page component css 0
def  azimuth2math azimuth elevation theta np 90 - azimuth % 360 phi np 90 - elevation return theta phi 
def subdict d keys result {}for key in keys if key in d result d result 
def track from url url timeout DEFAULT ASYNC TIMEOUT param dict dict url url return  upload param dict timeout data None 
def entity from protobuf pb key Noneif pb Has Field 'key' key key from protobuf pb entity props {}entity meanings {}exclude from indexes []for prop name value pb in  property tuples pb value  get value from value pb value pb entity props name valueis list isinstance value list meaning  get meaning value pb is list is list if meaning is not None entity meanings name meaning value if is list exclude values set value pb from indexes for value pb in value pb value if len exclude values ! 1 raise Value Error 'oranarray value subvaluesmusteitherallbeindexedorallexcludedfromindexes if exclude values exclude from indexes prop name elif value pb from indexes exclude from indexes prop name entity Entity key key exclude from indexes exclude from indexes entity entity props entity meanings entity meanings return entity 
def test softmax def softmax values m np values e np values - m return e / np e x K ndim 2 f K [x] [activations.softmax x ] test values get standard values result f [test values [0]expected softmax test values assert allclose result expected rtol 1e-05
def test Ellipse2 D amplitude 7.5 x0 y0 15 15 theta Angle 45 u em models Ellipse2 D amplitude x0 y0 7 3 theta y x np 30 0 30]e em x y assert np e e > 0 ] amplitude assert e y0 x0 ] amplitude rotation models Rotation2 D angle theta point1 [2 0]point2 rotation *point1 point1 np point1 + [x0 y0 point2 np point2 + [x0 y0 e1 models Ellipse2 D amplitude x0 y0 7 3 theta 0.0 e2 models Ellipse2 D amplitude x0 y0 7 3 theta theta assert e1 *point1 e2 *point2
def define xml str xml conn   get conn return conn X M L xml is not None 
def categorize df columns None index None **kwargs if columns is None columns list df dtypes ['object' 'category'] .columns elif is scalar columns columns [columns]categories [get categories df for col in columns index is False index Noneelse index get categories df index is None values compute index *categories **kwargs categories {c v for c v in zip columns values ] if v is not None }if not len categories and index is None return dfreturn df partitions  categorize block categories values 
def make linkcode resolve package url fmt revision  get git revision return partial  linkcode resolve revision revision package package url fmt url fmt 
def mksalt method None if method is None method methods '${}$'.format method if method else '' s + ''.join  sr  saltchars for char in range method chars return s 
def unrar check rar version 0original ''if rar try version run simple rar except return version original original 'lexander Roshal in version m re ' A R \\d+ \\. \\d+ ' version if m version int m 1 * 100 + int m 2 else version 0return version original 
def primary key hash keys if isinstance keys six type keys keys 'utf-8' return hashlib keys .hexdigest
def gruntz e z z0 dir '+' if not z Symbol raise Not Implemented Error 'econdargumentmustbea Symbol r Noneif z0 oo r limitinf e z elif z0 - oo r limitinf e z - z z else if str dir '-' e0 e z z0 - 1 / z elif str dir '+' e0 e z z0 + 1 / z else raise Not Implemented Error "dirmustbe'+'or'-'" r limitinf e0 z return r 'intractable' deep True 
def pr instance type pe id if pe id etable current pentityrow current etable id pe id .select etable type limitby 0 1 .first if row return row typereturn None 
def seuclidean u v V u  validate vector u v  validate vector v V  validate vector V dtype np if V ! u or u ! v raise Type Error 'mustbea1 Darrayofthesamedimensionasuandv return np u - v ** 2 / V .sum
def float round value precision digits None precision rounding None rounding method 'HALF-UP' rounding factor  float check precision precision digits precision digits precision rounding precision rounding if rounding factor 0 or value 0 return 0.0normalized value value / rounding factor epsilon magnitude math abs normalized value 2 epsilon 2 ** epsilon magnitude - 53 if rounding method 'HALF-UP' normalized value + cmp normalized value 0 * epsilon rounded value round normalized value elif rounding method 'UP' sign cmp normalized value 0 normalized value - sign * epsilon rounded value math abs normalized value * sign result rounded value * rounding factor return result 
def send notification user email dict import ckan not user 'email' returntry ckan recipient user name user email dict email dict except ckan Mailer Exception raise 
def monkeypatch tarfile copyfileobj import tarfilefrom wal e import copyfileobjtarfile copyfileobj 
def serversetting accessing obj accessed obj *args **kwargs if not args or not args return Falseif len args < 2 setting args 'rue setting val args args if val 'rue val Trueelif val 'alse val Falseelif val val int val if setting in settings wrapped  dict   return settings wrapped  dict  [setting] val return False 
def to gettext rule rule Plural Rule rule used tags rule | set [ fallback tag  compile  Gettext Compiler .compile get index [tag for tag in  plural tags if tag in used tags ].indexresult [ 'nplurals %d;plural ' % len used tags ]for tag ast in rule result '%s?%d ' %  compile ast  get index tag result '%d ' %  get index  fallback tag return ''.join result 
def get stores ret dict cmd "et Child Item Path Cert \elect Object Location Name Store Names  cmd run cmd cmd as json True for item in items ret Location Name list for store in item Store Names ret Location Name store return ret 
def cerr *args cprint 'stderr' *args
def  to Endpoint description certificate None from twisted import reactortry port int description except Value Error return endpoints From String reactor description warnings 'pecifyingplainportsand Twisted11 category Deprecation Warning stacklevel 3 if certificate ctx S S L Context Factory certificate return endpoints S S L4 Server Endpoint reactor port ctx return endpoints T C P4 Server Endpoint reactor port 
def gcode Path new Type path Type layer Thickness start Point if layer Thickness < 0.0 layer Thickness 0.01if profile Profile Setting 'spiralize' 'rue layer Thickness profile Profile Setting Float 'layer height return {'type' new Type 'ype path Type 'hickness layer Thickness 'points' [oint 'extrusion' [0.0]}
def pidof target if isinstance target tubes channel return [target.pid]elif isinstance target tubes local target remote target def match c return c c c local remote 'ESTABLISHED' return [c.pid for c in psutil connections if match c ]elif isinstance target tuple host port targethost socket host def match c return c host port return [c.pid for c in psutil connections if match c ]elif isinstance target tubes return [target.proc.pid]else return pid by name target 
def Create Crypt Keyset name return  Create Keyset name keyinfo D E C R Y P T AND ENCRYPT keyinfo A E S 
def get Voronoi Loop By Point inside loop outside inside Minus Outside inside - outside inside Minus Outside / abs inside Minus Outside rotation complex inside Minus Outside - inside Minus Outside rotated Inside inside * rotation rotated Loop euclidean Rotated Complexes rotation loop rotated Outside outside * rotation mid X 0.5 * rotated Inside + rotated Outside voronoi Loop []for point Index point in enumerate loop next Index point Index + 1 % len loop add Voronoi Point point loop Index mid X voronoi Loop rotated Loop Index rotated Loop Index return voronoi Loop 
def flatten reply reply nodes dupes {} set for item in reply [dupes.add name for name in item if name in nodes ]nodes.update item if dupes warnings Duplicate Nodename Warning W D U P N O D E pluralize len dupes u u '.join sorted dupes return nodes 
def fd by path paths stats set for path in paths try fd os path os O RDONLY except O S Error continuetry stats os fd [1 3] finally os fd def fd in stats fd try return os fd [1 3] in stats except O S Error return Falsereturn [ fd for  fd in range get fdmax 2048 if fd in stats  fd ]
def add page if missing request try return {'feincms page Page request request best match True }except Page Does Not Exist return {}
def parse cmdline argv global BASE DIRECTORY VERBOSE SUMMARYDEFAULT BASE DIR os os os sys 'collectors' parser Option Parser description 'unspylintrecursivelyonadirectory parser option '-b' '--base-dir' dest 'base directory metavar 'DIR' default DEFAULT BASE DIR help 'irectorytostartlinting parser option '-v' '--verbose' dest 'verbose' action 'store true default False help 'erbosemode logdebugmessages .' parser option '-a' '--show-all' dest 'show all action 'store true default False help 'ydefault weareonlyshowingerrorlines parser option '-s' '--summary' dest 'summary' action 'store true default False help 'howsummaryreport options args parser args args argv ] VERBOSE options B A S E DIRECTORY options directoryreturn options args 
def get seq number name head tail os name if tail '.ts' match set num match ts name else num tail ]if num return int num else return 0
def get per lib sff fps sff dir for dirpath dirnames fnames in walk sff dir for fname in fnames if fname '.sff' libname _ splitext fname yield libname join dirpath fname 
def stripascii string ord  ord if sys info < 3 else lambda x x i len string while i i - 1if 8 < ord  string < 127 breakelse i -1 return string i + 1 ]
def auth basic check realm 'private' text 'ccessdenied def decorator func def wrapper *a **ka user password request or None None if user is None or not check user password response W W W Authenticate 'asicrealm "%s"' % realm return H T T P Error 401 text return func *a **ka return wrapperreturn decorator 
def acos x np import module 'numpy' if isinstance x int float if abs x > 1 return interval - np np is valid False else return interval np x np x elif isinstance x interval if x valid is False or x > 1 or x < -1 return interval - np np is valid False elif x < -1 or x > 1 return interval - np np is valid None else start np x end np x return interval start end is valid x valid 
def csvwrite inlist stringify False out list []for entry in inlist if stringify new entry []for val in entry if not isinstance val basestring val str val new entry val entry new entrythis line ' '.join [elem quote val for val in entry out list this line return out list 
def get time zone offset time zone date time None date time datetime utc if date time is None else date time return  format time zone string time zone date time '%z'
@pytest.mark.skipif not ON WINDOWS reason 'indows U N Cfunctionality def test uncpushd push base push rempath xonsh builtins pass 
@ docstring 'series' def get series by id id includes [] return  do mb query 'series' id includes 
def zmap scores compare axis 0 ddof 0 scores compare map np [scores compare mns compare axis axis sstd compare axis axis ddof ddof if axis and mns < compare return scores - np dims mns axis axis / np dims sstd axis axis else return scores - mns / sstd 
def get cohorted user partition course for user partition in course partitions if user partition Cohort Partition Scheme return user partitionreturn None 
def key entry entry name value entryif stat S ISDIR value name + '/'return name 
def ode almost linear eq func order match return ode 1st linear eq func order match 
def generic weighted projected graph B nodes weight function None if B multigraph raise nx Network X Error 'notdefinedformultigraphs' if B directed pred B G nx Di Graph else pred B G nx Graph if weight function is None def weight function G u v return len set G & set pred G B G nodes from n B for n in nodes for u in nodes nbrs2 set n for nbr in set B for n in B - set [u] for v in nbrs2 weight weight function B u v G edge u v weight weight return G
def get Icons filename None icons {}if filename is None filename join dirname abspath   file   'base.png' im Image filename icons pil To Bitmap im scale Factor 0.5 icons pil To Bitmap im scale Factor 0.5 filename128 filename -4 ] + '128.png' if False im Image filename128 else im Image filename icons pil To Bitmap im add Image join dirname abspath   file   'add.png' im add [0 0 add add mask add icons pil To Bitmap im return icons 
def invalidate cms page cache version  get cache version  set cache version version + 1
def isbow vec if scipy vec vec vec .tolist try id  val  vec id  val  int id  float val  except Index Error return Trueexcept Exception return Falsereturn True 
@synchronized IO LOCK def remove data  id path path os path  id try if os path os path logging '%sremoved' path except logging 'ailedtoremove path 
def Path Collection mode 'agg' *args **kwargs if mode 'raw' return Raw Path Collection *args **kwargs elif mode 'agg+' return Agg Path Collection *args **kwargs return Agg Fast Path Collection *args **kwargs
def load check from places check config check name checks places agent Config load success load failure {} {} for check path builder in checks places check path check path builder check name if not os check path continue check is valid check class load failure get valid check class check name check path if not check is valid continue load success load failure  initialize check check config check name check class agent Config  update python path check config log 'oaded % check path breakreturn load success load failure 
def copy sample file app filename dest path None if dest path is None dest path os app data path sample file name basic util path filename copied file sample file name '.sample' '' full source path os filename full destination path os dest path sample file name if full source path ! full destination path shutil full source path full destination path if not os os dest path copied file shutil full source path os dest path copied file 
def struct variable codeblocks variable policies id symbol table sub name ' % id if variable not in symbol table symbol table namesub dict sub sub idsub failure code init sub sub ptr 'py %s' % name sub ptr 'storage %s' % name struct builder Code Block * [apply policy policy variable name sub for policy in policies + [sub] sub id + 1 sub failure code sub sub ptr 'py %s' % name sub ptr 'storage %s' % name block Code Block * [apply policy policy variable name sub for policy in policies + [sub] return struct builder block 
def get cache mtime if os APT UPDATE SUCCESS STAMP PATH return os APT UPDATE SUCCESS STAMP PATH .st mtimeelif os APT LISTS PATH return os APT LISTS PATH .st mtimeelse return 0
def can view courses for username requesting user target username if requesting user target username return Trueelif not target username raise Type Error 'target usernamemustbespecified else staff Global Staff return staff user requesting user 
def resolve media files document resource for field in resource media fields document resource if isinstance document list resolved list []for file id in document resolved list resolve one media file id resource document resolved listelse document resolve one media document resource 
def delete doc doctype None name None force 0 ignore doctypes None for reload False ignore permissions False flags None import frappe docfrappe doc doc doctype name force ignore doctypes for reload ignore permissions flags 
@never cache required @require P O S T protectdef disconnect request backend association id None return do disconnect request request association id redirect name REDIRECT FIELD NAME
def objtag accessing obj accessed obj *args **kwargs return accessed obj *args
def get cert file try current path os   file   ca cert path os current path '..' '..' '..' 'conf' 'cacert.pem' return os ca cert path except Exception return None 
def bytes iterator bytes  raise Exception 'houldbeoverriden 
def  convert write result operation command result affected result 'n' 0 res {'ok' 1 'n' affected result 'errmsg' result 'err' '' if errmsg if result 'wtimeout' res Concern Error {'errmsg' errmsg 'code' 64 'nfo {'wtimeout' True error {'index' 0 'code' result 'code' 8 'errmsg' errmsg 'nfo in result error Info result Info Errors [error]return resif operation 'insert' res len command elif operation 'update' if 'upserted' in result res [{'index' 0 ' id result result 'xisting is False and affected 1 update command id update ' id update ' id res [{'index' 0 ' id  id res 
def bytes2human n if not isinstance n integer types raise Type Error n prefix {}for i s in enumerate  SYMBOLS prefix 1 << i + 1 * 10 for s in reversed  SYMBOLS if n > prefix value int float n / prefix return '%s%s' % value s return ' % n 
def clear trans cache global  SKIN C A C H Edummy  SKIN CACHE SKIN CACHE {}del dummysabnzbd W E B U I READY True 
def import date time format  strptime None if not  strptime  strptime datetime import date time lambda value if not value return Nonereturn  strptime value format return import date time lambda 
def  safe split estimator X y indices train indices None if hasattr estimator 'kernel' and callable estimator and not isinstance estimator G P Kernel raise Value Error 'annotuseacustomkernelfunction Precomputethekernelmatrixinstead if not hasattr X 'shape' if getattr estimator ' pairwise False raise Value Error 'recomputedkernelsoraffinitymatriceshavetobepassedasarraysorsparsematrices X subset [ for idx in indices getattr estimator ' pairwise False if X ! X raise Value Error 'shouldbeasquarekernelmatrix if train indices is None X subset X  indices indices ]else X subset X  indices train indices ]else X subset safe indexing X indices if y is not None y subset safe indexing y indices else y subset Nonereturn X subset y subset 
def parse keywords strings [] keywords {}for string in strings if ' ' in string funcname indices string ' ' else funcname indices string None if funcname not in keywords if indices inds []for x in indices ' ' if x -1 ] 'c' inds int x -1 ] 'c' else inds int x indices tuple inds keywords indicesreturn keywords 
def remove check module check id consul api get consul api module if check id in consul api consul api check id module json changed True id check id module json changed False id check id 
def check color option opt value if re '[a-z0-9]+$' value re I return valueif re '#[a-f0-9]{6}' value re I return valuemsg 'option%s invalidcolor %r shouldbeeitherhexadecimalvalueorpredefinedcolor Option Value Error msg % opt value 
@jsonifydef delete record self arg dict cmd ['xenstore-rm' '/local/domain/% dom id s path s % arg dict ] ret result  run command cmd return result 
@validate 'form' def valid page in book arch return not arch '//page[not ancestor notebook ]'
def get default mrcluster global MR C A C H Eglobal MR NAME C A C H Etry all mrclusters return MR C A C H E MR NAME CACHE except Key Error candidates all mrclusters if candidates return candidates [0]return None 
def user update userid **connection args conn args  login **connection args try if conn args method 'user.update'params {'userid' userid  params extend params  ignore name True **connection args ret  query method params conn args conn args return ret raise Key Errorexcept Key Error return ret 
def deserialize instance model data {} ret model for k v in data if v is not None try f model meta field k if isinstance f Date Time Field v dateparse datetime v elif isinstance f Time Field v dateparse time v elif isinstance f Date Field v dateparse date v except Field Does Not Exist passsetattr ret k v return ret 
def getipbyhost hostname return socket hostname 
def must not be rejected func @functools.wraps func def wrapped *args **kwargs node get or http error Node kwargs 'nid' kwargs 'pid' allow deleted True if node and node rejected raise H T T P Error http G O N E data dict message long 'hisregistrationhasbeenrejected return func *args **kwargs return wrapped 
def get configuration options agent config options yaml load agent config Content validate configuration configuration configuration configuration 'port' 4524 path agent config configuration Certificate P E M path 'cluster.crt' .ontent configuration Node Credential path path 'node' return configuration 
def require map reduce conn try import spidermonkeyexcept Base Exception try from ming import mimif hasattr conn 'conn' and isinstance conn mim Connection import testtoolsraise testtools Test Skipped 'requiresspidermonkey' except Import Error import testtoolsraise testtools Test Skipped 'requiresmim'
def make gax publisher api credentials None host None if credentials is None channel insecure channel host else channel make secure channel credentials DEFAULT USER AGENT Publisher Client S E R V I C E ADDRESS return Publisher Client channel channel 
def  get col attributes col attrs Column Dict attrs col name col  name  if not six P Y2 and type name 'bytes' 'str' type name 'string'if type name '_' type name type name -1 ]attrs['datatype'] type namefor attr nontrivial xform in 'unit' lambda x x is not None str 'format' lambda x x is not None None 'description' lambda x x is not None None 'meta' lambda x x None col attr getattr col attr if nontrivial col attr attrs xform col attr if xform else col attr return attrs 
@sopel.module.event u I N V I T E @sopel.module.rule u @sopel.module.priority u def invite join bot trigger if trigger or bot accept invite bot trigger return 
def s block start name group None encoder None dep None dep value None dep values [] dep compare ' ' block blocks name blocks C U R R E N T group encoder dep dep value dep values dep compare blocks C U R R E N T block return True 
def sps Model Synth tfreq tmag tphase stoc Env N H fs ys S M Model Synth tfreq tmag tphase N H fs yst S T M Model Synth stoc Env H H * 2 y ys min ys yst ] + yst min ys yst ] return y ys yst 
def to bytes text default 0 mult key org text '-1234567890' mult key mult key org mult key len len mult key if mult key 'b' mult key mult key -1 ]try multiplier BYTE M U L T I P L I E R S key mult key len text text - mult key len ]return int text * multiplier except Key Error msg _ 'nknownbytemultiplier %s' % mult key org raise Type Error msg except Value Error return default 
def ec2 credentials get user id None name None access None profile None **connection args kstone auth profile **connection args ret {}if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid not access return {rror 'ccesskeyisrequired credentials kstone user id user id access access profile profile **connection args ret credentials id {'user id ec2 credentials id 'tenant' ec2 credentials id 'access' ec2 credentials 'secret' ec2 credentials ret 
def sigmoid numpy x assert not isinstance x theano Variable return 1.0 / 1.0 + np - x 
@plugins.command 'uninstall' @click.argument 'plugin identifier def uninstall plugin plugin identifier validate plugin plugin identifier plugin get plugin from all plugin identifier click 'ninstallingplugin plugin fg 'cyan' try plugin manager plugins [plugin] except Attribute Error pass 
def warn limited msg args if args msg  hash limit string msg 10 args warnings msg exc S A Warning stacklevel 2
def find selected nodes for node in nodes if hasattr node 'selected' return nodeelif hasattr node 'ancestor' result find selected node if result return result 
def contrib setup py name description additional classifiers None **kwargs if not name u raise Value Error u Contribpluginpackagenamesmuststartwith given name return pants setup py name description additional classifiers additional classifiers namespace packages [u'pants' u **kwargs
def fake participant db is admin False random identities True username faker name + fake text id 3 ctime faker time between '-3y' '-4w' try insert fake data db 'participants' username username username lower username ctime ctime is admin is admin balance 0 anonymous giving random 5 0 balanced customer href faker is suspicious False claimed time ctime + datetime days 7 email address '{}@example.com'.format username participant Participant username username fake exchange route db participant if random identities if random 100 < 66 fake participant identity participant if random 100 < 33 fake participant identity participant if random 100 < 50 fake participant identity participant except Integrity Error return fake participant db is admin return participant 
def epsilon closure state result state closureif result is None result {}state.epsilon closure resultadd to epsilon closure result state return result 
def compute Chunk Height Map materials blocks Height Map None light Absorption materials Absorption extract Heights light Absorption heights heights 0 1 if Height Map is None return heights 'uint8' else Height Map ] heightsreturn Height Map 
def set transparent torification new transparent torification global transparent torificationstay open new transparent torification 
def  M Ppow x y z return MP pow x y z 
def simplify jobs joblist pass 
def full2sparse clipped vec topn eps 1e-09 if topn < 0 return []vec np vec dtype float nnz np abs vec > eps [0]biggest nnz argsort abs vec .take nnz topn reverse True return list zip biggest vec biggest 
def  print tree node level 0 if type node is list neon logger '' * level + ' '.join native str s for s in node 3] if len node > 3  print tree node level + 1 if len node > 4  print tree node level + 1 else neon logger '' * level + native str node 
def test tab completion caseinsensitive super Console Send Keys 'edirect Start }rue }{ENTER}' test Regex 'onsole Send Keys 'ystem E N T E R super Console Send Keys 'ystem T A B E N T E R test Regex + "andom Console Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def execute java classpath main jvm options None args None executor None workunit factory None workunit name None workunit labels None cwd None workunit log config None distribution None create synthetic jar True synthetic jar dir None runner  get runner classpath main jvm options args executor cwd distribution create synthetic jar synthetic jar dir workunit name workunit name or main return execute runner runner workunit factory workunit factory workunit name workunit name workunit labels workunit labels workunit log config workunit log config 
def install Handler fd if fd -1 signal signal S I G C H L D signal S I G DFL else def noop Signal Handler *args passsignal signal S I G C H L D noop Signal Handler signal signal S I G C H L D False return signal wakeup fd fd 
def parse channel modes mode string return  parse modes mode string 'bklvohq'
def  add candidate items results info log u Candidate {0}-{1}'.format info info if not info log 'otracks returnif info id in results log u Duplicate returnfor req tag in config str seq if getattr info req tag is None log u Ignored Missingrequiredtag {0}'.format req tag return mapping extra items extra tracks assign items items info dist distance items info mapping penalties [key for _ key in dist penalty in config str seq if penalty in penalties log u Ignored Penalty {0}'.format penalty returnlog u Success Distance {0}'.format dist results id hooks Album Match dist info mapping extra items extra tracks 
def petersen graph create using None description ['adjacencylist' 'etersen Graph 10 [[2 5 6] [1 3 7] [2 4 8] [3 5 9] [4 1 10] [1 8 9] [2 9 10] [3 6 10] [4 6 7] [5 7 8]]]G make small undirected graph description create using return G
def  cleanup Environment if issubclass urllib2 socks socks urllib2 if hasattr socket ' ready socket ready 
def draw random G **kwargs draw G random layout G **kwargs
def check Float s try float s return Trueexcept Value Error return False 
def map version version version map if version is None raise Type Errorif not version map raise Value Errorif isinstance version map dict version map sorted Loose Version k v for k v in version map req version Loose Version version for min version value in reversed version map if req version > min version return valueelse return version map 
def col name None dtype None if dtype is None dtype config Xtype Cuda Ndarray Type dtype dtype broadcastable False True return type name 
def  Format Eta eta usec eta datetime eta usec / 1000000 return eta ' H %M %S'
def force encoding text encoding return text encoding errors 'replace' .decode encoding 
def get Twist Precision element Node return get Cascade Float Without Self 5.0 element Node 'recision 
def with confirmation proc TIMEOUT  set confirmation proc True proc u proc u assert proc [TIMEOUT u assert proc [TIMEOUT u assert proc exact [TIMEOUT u proc '\n' assert proc [TIMEOUT u 
def create Link Path element Node element Node Name 'ode Object Path 
def make wsgi chain *args **kwargs app H T T P Git Application *args **kwargs wrapped app Limited Input Filter Gunzip Filter app return wrapped app 
def evaluate inipath path if sabnzbd W I N32 path unicoder path path os os path inipath os path DEF INI FILE if os path return inipathelif os path or os path + '.bak' return pathelse  dirpart name os path if name '.' < 1 return inipathelse return path 
def register plugin calls *funcs wrapped dict {}for func in funcs wrapped dict  name  ]  handle serialization func Xen A P I Plugin wrapped dict 
def xonsh pathsearch pattern pymode False lineno None col None pymode ast Name Constant value pymode lineno lineno col offset col searchfunc pattern RE S E A R C H P A T H pattern .groups pattern ast Str s pattern lineno lineno col offset col pathobj Falseif searchfunc '@' func searchfunc ]elif 'g' in searchfunc func '  xonsh globsearch  'pathobj 'p' in searchfunc else func '  xonsh regexsearch  'pathobj 'p' in searchfunc func ast Name id func ctx ast Load lineno lineno col offset col pathobj ast Name Constant value pathobj lineno lineno col offset col return xonsh call '  xonsh pathsearch  ' args [func pattern pymode pathobj lineno lineno col col 
def MIN ds count timeperiod - 2 ** 31 return call talib with ds ds count talib M I N timeperiod 
def system Information Type2bis a L2 Pseudo Length l2p Length 21 b Tp Pd pd 6 c Message Type mes Type 2 d Neighbour Cells Description e Rach Control Parameters f Si2bis Rest Octets packet a / b / c / d / e / f return packet 
def encode string encoding None if type string is not ustr return stringreturn string encoding or u u 
def test wiskott skip if no data data Wiskott assert isfinite data X 
def get Output gcode Text repository None if gcode Text '' return ''if repository is None repository Gcode Time Segment Repository settings Read Repository repository return Gcode Time Segment Skein .rafted Gcode gcode Text repository 
def changed *a **kw item a type item ! dict raise errors Ansible Filter Error '|changedexpectsadictionary' if not 'changed' in item changed Falseif 'results' in item and type item list and type item dict for result in item changed changed or result 'changed' False else changed item 'changed' False return changed 
def invert graph graph inverted {}for key in graph for value in graph inverted value set .add key return inverted 
def clear session request *names for name in names try del request Key Error pass 
def  detect compressor fileobj fileobj 0 first bytes fileobj  MAX PREFIX LEN fileobj 0 if first bytes  ZLIB PREFIX return 'zlib'elif first bytes  GZIP PREFIX return 'gzip'elif first bytes  BZ2 PREFIX return 'bz2'elif first bytes  LZMA PREFIX return 'lzma'elif first bytes  XZ PREFIX return 'xz'elif first bytes  ZFILE PREFIX return 'compat'return 'not-compressed'
def get Craft Sequence return 'carvescalebottomprefacewideninsetfillmultiplyspeedtemperatureraftskirtchambertowerjitterclipsmoothstretchskincombcoolhopwipeoozebanesplodgehomelashfilletlimitunpausedimensionaltshellalterationexport'.split
def nova not in logical line split line logical line if len split line 5 and split line 'if' and split line 'not' and split line 'in' and not split line ' ' yield logical line 'not' "N902 Usethe 
def task locale def set nikola test locales try out subprocess output ['locale' '-a'] out out 'utf-8' locales []languages set for line in out if line '.utf8' or line '.UTF-8' and '_' in line lang line '_' [0]if lang not in languages try locale locale L C ALL str line except continuelanguages lang locales lang line if len locales 2 breakif len locales ! 2 return Falseelse os N I K O L A LOCALE DEFAULT'] ' '.join locales os N I K O L A LOCALE OTHER'] ' '.join locales finally locale return {'actions' [set nikola test locales 'verbosity' 2}
def numpy to sympy m **options return Matrix m 
def make digest acl credential username password credential username 'utf-8' + ' ' + password 'utf-8' cred hash b64encode hashlib credential .digest .strip return username + ' ' + cred hash 'utf-8'
def get Instance Details api server instance {'id' server L I N O D E I D 'name' server L A B E L 'public' [] 'private' []}for ip in api ip list Linode Id server L I N O D E I D if ip I S P U B L I C and 'ipv4' not in instance instance ip I P A D D R E S S ip R D N S N A M E ip I S P U B L I C instance {'ipv4' ip I P A D D R E S S 'fqdn' ip R D N S NAME'] 'ip id ip I P A D D R E S S I D else instance {'ipv4' ip I P A D D R E S S 'fqdn' ip R D N S NAME'] 'ip id ip I P A D D R E S S I D return instance 
def  check upload response headers headers body if 'status' not in headers try d jsonutils body if 'image' in d and 'status' in d returnexcept Exception raise exception Upload Exception body 
def get config ini path os THIS DIRECTORY 'version.ini' if not os ini path ini path os THIS DIRECTORY '../../../version.ini' if not os ini path raise Runtime Error "ouldn config Config Parser Safe Config Parser config ini path return config 
def get foreign namespace name try return get foreign struct namespace name except Foreign Error return None 
def load router full router path path bits full router path u if len path bits < 2 raise Improperly Configured u Theprovidedrouter Pythonpathtoa Base Routersubclass % full router path return import class full router path 
def on report to master client id data data stats 0
def form ntuples from machines machines n 2 mapping func default mappings ntuples [] mappings failures mapping func machines for key in mappings key machines mappings machines len key machines while len key machines > n ntuples key machines n key machines key machines ]for mach in key machines failures mach 'machinecannotbetupled' return ntuples failures 
def black out x t W samples batch size x emb embed id id samples W neg y matmul matmul neg emb x neg y reshape neg y neg y -1 ] pos emb expand dims dims embed id id t W 1 pos y matmul matmul pos emb x pos y reshape pos y pos y -1 ] logz logsumexp concat [pos y neg y axis 1 blogz bneg y broadcast reshape logz batch size 1 neg y ny exponential 1 - exponential bneg y - blogz py reshape pos y batch size loss py - logz +  sum ny axis 1 return -  sum loss / batch size 
def versions information return salt information 
def create regex extractor pattern ereg re pattern re S def  extractor txt htmlpage None if txt is None returnm ereg txt if m return htmlregion u [g for g in m or m if g  extractor  name   'egex %s' % pattern 'utf-8' return  extractor 
def  Zero Pad addr string chunks addr string ' ' total length len chunks if total length > 8 raise socket 'oomanyaddresschunksin expected8 % addr string double colon Falseaddr array []for chunk in chunks if chunk chunk len len chunk if chunk len > 4 raise socket 'hunkmustbelength4 %s' % addr string if chunk len ! 4 chunk '0' * 4 - chunk len + chunk addr array chunk elif double colon raise socket 'orethanonedoublecolonin % addr string else double colon Trueaddr array ['0000'] * 8 - total length + 1 if len addr array ! 8 raise socket 'adaddresslength expected8chunks %s' % addr array return ''.join addr array 
def  new extension name value critical 0 issuer None  pyfree 1 if name 'ey Identifier and value ' B C D E F ' is not '' raise salt Salt Invocation Error 'valuemustbeprecomputedhash' try ctx M2 Crypto set nconf  fix ctx ctx issuer if ctx is None raise Memory Error 'otenoughmemorywhencreatinganew X509extension x509 ext ptr M2 Crypto ext conf None ctx name value lhash Noneexcept Attribute Error lhash M2 Crypto lhash ctx M2 Crypto set conf lhash lhash  fix ctx ctx issuer x509 ext ptr M2 Crypto ext conf lhash ctx name value if x509 ext ptr is None raise M2 Crypto X509 X509 Error "annotcreate X509 Extensionwithname name value x509 ext M2 Crypto X509 X509 Extension x509 ext ptr  pyfree x509 ext critical critical return x509 ext 
def format blocks blocks assert isinstance blocks tuple and all isinstance x int for x in blocks return  Pretty Blocks blocks 
def replace dots in field names document for key value in list document if isinstance value dict value replace dots in field names value if isinstance key string types and key '.' ! -1 del document '.' '_' ] valuereturn document 
def  is sparse x if not isinstance x scipy np tuple list raise Not Implemented Error 'thisfunctionshouldonlybecalledonsparse.scipy.sparse.spmatrixornumpy.ndarray not ' x return isinstance x scipy 
def loop until state found reactor get states state matches timeout def state reached d get states def find match states for state in states if state matches state return statereturn Noned Callback find match return dd loop until reactor state reached  timeout reactor d timeout seconds return d 
def fiducials subject None fid file None subjects dir None  check mayavi version from . backend import  check backend check backend from . fiducials gui import Fiducials Framegui Fiducials Frame subject subjects dir fid file fid file gui traits return gui 
def meta nonempty x if isinstance x pd Index return  nonempty index x elif isinstance x pd Series idx  nonempty index x return  nonempty series x idx elif isinstance x pd Data Frame idx  nonempty index x data {i  nonempty series x i idx for i c in enumerate x }res pd Data Frame data index idx columns np len x res x reselif is scalar x return  nonempty scalar x else raise Type Error 'xpected Index Series Data Frame orscalar got type x .  name  
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def test require file from local file from fabtools import file as require filetry baz contents 'hisisthecontentsofthebarfile fd filename mkstemp tmp file os fd 'w' tmp file baz contents tmp file require file 'baz' source filename assert is file 'baz' assert run 'catbaz' baz contents finally os filename run 'rm-fbaz'
@deprecated 'se Timedelta Win64fieldtype def duration Win64 field assert hasattr field 'value' and hasattr field 'size' assert field 64 delta do Duration Win64 field return human Duration delta 
def parse uid uid if U I D Field Mixin U I D SEPARATOR not in uid raise Value Error 'nvaliduid %s' % uid parsed uid U I D Field Mixin U I D SEPARATOR if len parsed < 2 raise Value Error 'nvalidormalformeduid %s' % uid resource type parsed remainder parsed ]return resource type uid remainder 
def  dont fail not exist error if isinstance error Azure Missing Resource Http Error return Falseelse raise error 
def base64image src return base64  get file src 
def get unsupported lower protocol if Version CASSANDRA VERSION > Version '3.0' return 2else return None 
def  build m3u filename basename basename re '[\\s /\\\\\'\\"]' '_' basename date datetime .strftime ' %h M path normpath os config filename date + '_' + basename + '.m3u' return path 
def run Tests vm tests None pre '' post '' prompt Prompt uninstall Ntpd False if uninstall Ntpd remove Ntpd vm vm prompt if Branch check Out Branch vm branch Branch vm prompt if not tests tests []if pre log 'unningcommand pre vm pre vm prompt testfns test Dict if tests log 'unningtests for test in tests if test not in testfns raise Exception 'nknowntest ' + test log 'unningtest test fn testfns vm vm prompt if post log 'unningpost post vm post vm prompt 
def test oss sample wrong X oss One Sided Selection random state RND SEED oss X Y assert raises Runtime Error oss np 100 40 np [0] * 50 + [1] * 50
def NDP Attack Fake Router ra iface None mac src filter None ip src filter None def is request req mac src filter ip src filter 'heckifpacketreqisarequest not Ether in req and I Pv6 in req and I C M Pv6 N D RS in req return 0mac src req Ether mac src filter and mac src ! mac src filter return 0ip src req I Pv6 ip src filter and ip src ! ip src filter return 0return 1def ra reply callback req iface 'allbackthatsendsan R Ainreplytoan R S req I Pv6 ra iface iface verbose 0 print 'ake R Asentinresponseto R Sfrom % src if not iface iface conf filter 'icmp6'sniff store 0 filter sniff filter lfilter lambda x is request x mac src filter ip src filter prn lambda x ra reply callback x iface iface iface 
def invert tree root if root None return Nonetemp root root tempinvert tree root invert tree root return root 
def decode uuid obj return uuid U U I D bytes str obj 
def tvar a limits None inclusive True True axis 0 ddof 1 a asarray a a a float .ravel if limits is None n len a return a * n / n - 1.0 am  mask to limits a limits inclusive return np am ddof ddof axis axis 
def save comment request unit unit by request on timezone .replace microsecond 0 language request project unit comment form factory language request P O S T instance unit request request if form valid form user request unit {'unit' unit 'language' language 'cantranslate' check user permission user 'translate' directory 'cansuggest' check user permission user 'suggest' directory }t loader template 'editor/units/xhr comment return Json Response {'comment' t context ctx request request } return Json Response Bad Request {'msg' _ 'ommentsubmissionfailed }
def number of friends user return len user 
def B64 Hex Decode s padding True s utf8 s if not  valid char re s raise Type Error 'nvalidcharacters pad needed len s %  PAD LEN if pad needed if padding raise Type Error 'nvalidpadding else s + ' ' * pad needed translated s  b64hex to std return base64 translated 
def check map mapping file barcode type 'golay 12' added demultiplex field None if barcode type 0 has barcodes Falsevar len barcodes Falseelif barcode type 'variable length has barcodes Truevar len barcodes Trueelse has barcodes Truevar len barcodes False header mapping data run description errors warnings process id map mapping file has barcodes has barcodes disable primer check True added demultiplex field added demultiplex field variable len barcodes var len barcodes for warning in warnings if 'differsthanlength' in warning raise Value Error 'etectedvariablelengthbarcodes ifthese + 'arebeingused use length if errors raise Value Error 'rrorsfoundinmappingfile pleasecheck + 'mappingfilewithvalidate mapping file return header mapping data 
def macro name def inner view context model column m context name if not m return mreturn m model model column column return inner 
def Header Print Generic Details message which MUA HP HEADERS return [k for k v in message if k in which ]
def infer name self context None frame stmts self self if not stmts parent function  higher function scope self if parent function _ stmts parent function self if not stmts raise Unresolvable Name self context context context self  infer stmts stmts context frame 
def get init version abs path None if abs path is None abs path find repo LEGACY REPO repo migrate Repository abs path oldest int min repo if oldest < 1 return Nonereturn oldest - 1
def obj equal prims obj 1 obj 2 ignore None def  strip prim keys if isinstance prim dict for k in keys prim k None for v in prim  strip v keys if isinstance prim list for v in prim  strip v keys return primif ignore is not None keys ['nova object + ignore else keys ['nova object 1  strip obj 1.obj to primitive keys prim 2  strip obj 2.obj to primitive keys return prim 1 prim 2
def Generate Python Paths *p suffixes imp suffixes return [ os *p + s for s m t in suffixes 
def reconcile against document args for d in args check if advance entry modified d validate allocated amount d doc frappe doc d type d no doc gl entries cancel 1 adv adj 1 if d type u Journal Entry update reference in journal entry d doc else update reference in payment entry d doc doc frappe doc d type d no doc gl entries cancel 0 adv adj 1
@lower getattr generic types Enum Class def enum class lookup context builder ty val attr member getattr ty class attr return context constant generic builder ty member 
def attachment specs get context attachment id return I M P L specs get context attachment id 
def get G N U Translator Files Unmodified return archive Files With File Types Without Words get Import Plugin File Names 
def get auth params from request request return request request request id base for request 'compute' base for request 'identity'
def compare a b if HAVE COMPARE DIGEST return hmac digest a b result len a ^ len b for i in xrange len b result | ord a i % len a ] ^ ord b return result 0
def recvfd socketfd data flags ancillary recv1msg socketfd [ cmsg level cmsg type packed F D ] ancillary F D unpack 'i' packed F D return unpacked F D data 
def ip4 hex arg numbers list map int arg '.' return '{ 02x}{ 02x}{ 02x}{ 02x}'.format *numbers
def delimit delimiters content if len delimiters ! 2 raise Value Error u Got % delimiters return u [delimiters[0] content delimiters 
def parse entry entry str separator ' ' entry {}for line in entry str if len line 0 continuetry name value line separator 1 except Value Error continuename name value value if name 'index' value int value entry valuereturn entry 
def sca ax managers  pylab helpers Gcf all fig managers for m in managers if ax in m  pylab helpers Gcf active m m ax returnraise Value Error u Axesinstanceargumentwasnotfoundinafigure 
def regions language x a language [] for tag language region iso639 iso3166 in LANGUAGE R E G I O N if iso639 x a iso3166 return sorted a key lambda tag tag ! x and tag or ''
def delete exploration summary exploration id exp models Exp Summary Model exploration id .delete
@pytest.mark.parametrize u modes def test gaussian eval 2D mode model Gaussian2 D 1 0 0 20 20 x np -100 101 y np -100 101 x y np x y values model x y disc values discretize model model -100 101 -100 101 mode mode assert allclose values disc values atol 0.001
@context.quietfunc@with devicedef logcat stream False if stream return process ['logcat'] else return process ['logcat' '-d'] .recvall
def ridder f a b args xtol  xtol rtol  rtol maxiter  iter full output False disp True if not isinstance args tuple args args if xtol < 0 raise Value Error 'xtoltoosmall %g< 0 ' % xtol if rtol <  rtol raise Value Error 'rtoltoosmall %g<%g ' % rtol  rtol r  zeros ridder f a b xtol rtol maxiter args full output disp return results c full output r 
def admin or self method def decorated method self name current self current user if current is None raise web H T T P Error 403 if not current if not isinstance current orm Service raise web H T T P Error 403 if current ! name raise web H T T P Error 403 if name not in self raise web H T T P Error 404 return method self name return decorated method 
def metadef object count context namespace name session None session session or get session return metadef object api context namespace name session 
def dup rr div f g K df dup degree f dg dup degree g q r dr [] f df if not g raise Zero Division Error 'polynomialdivision' elif df < dg return q r lc g dup LC g K while True lc r dup LC r K if lc r % lc g breakc K lc r lc g j dr - dg q dup add term q c j K h dup mul term g c j K r dup sub r h K  dr dr dr dup degree r if dr < dg breakelif not dr <  dr raise Polynomial Division Failed f g K return q r 
def test secondary Chart chart Chart rng [83 0.12 -34 59]chart.add 'irstserie rng chart 'econdaryserie map lambda x x * 2 rng secondary True assert chart pyquery 
def tests path None if path is None path os os   file   'testplan.org' return Test Reader State Machine .extract tests path 
def follow all url parser token bits token contents if len bits ! 2 raise Template Syntax Error 'cceptedformat all url else return Display Activity Follow Url bits actor only False 
def p command data bad p p 'MALFORMEDNUMBERLISTINDATA'
def verify cypher key return gluechops cypher key key encrypt int 
def  int to json value if isinstance value int value str value return value 
def  upgrade fields sig sig chord size fields u size return sig 
def blackwhite clip RGB [1 1 1] preserve luminosity True if RGB 'CRT phosphor RGB [0.2125 0.7154 0.0721] R G B 1.0 * np RGB / sum RGB if preserve luminosity else 1 def fl im im R * im 0] + G * im 1] + B * im 2] return np 3 * [im] .astype 'uint8' return clip image fl 
def test comments feature Feature string FEATURE10 assert equals feature length 55
def dt to timestamp dt if dt td dt - EPOCH AWARE else td dt - EPOCH NAIVE return total seconds td 
def rewrite single shorthand state decl data for sid states in six data if isinstance states six types data {states []}
def update axes image image axes image image axes array image h w image 2]image axes extent 0 w h 0
def to U R I Normal xri return iri To U R I to I R I Normal xri 
def test int x labels line Line line 'test1' range 100 line label -1 line labels list range 11 q line pyquery assert len q '.dots' 100 assert len q '.axis.x' 1 assert q '.axis.xtext' .map texts ['0' '1' '2' '3' '4' '5' '6' '7' '8' '9' '10']
def  calculate qa comment scores link cid tree comments responder ids link idsparent cids []for comment in comments if comment id in responder ids and comment id parent cids comment id parent comments Comment by I D parent cids return dict False comments parent comments all child cids []for comment in comments child cids cid tree comment id None if child cids all child cids child cids all child comments Comment by I D all child cids comment sorter {}for comment in comments child cids cid tree comment id child comments all child comments for cid in child cids sort value comment qa child comments responder ids comment sorter id36 sort valuereturn comment sorter 
def get env for subprocess command env os if 'PYTHONPATH' in env del env P Y T H O N P A T H env 
def consumer oauth url request backend url user or id redirect uri '/' json True user User Social Auth user or id user or id oauth info user auth provider backend A U T H B A C K E N D [0]token Token string oauth info token request build consumer oauth request backend token url redirect uri response '\n'.join dsa urlopen request url .readlines if json response simplejson response return response 
def type token ratio string n 100 punctuation PUNCTUATION def window a n 100 if n > 0 for i in xrange max len a - n + 1 1 yield a i + n ] s string .split s [w.strip punctuation for w in s mean 1.0 * len set x / max len x 1 for x in window s n 
def create security group rule security group remote group id None direction 'ingress' protocol None port range min None port range max None ethertype ' Pv4 profile None conn  auth profile return conn security group rule security group remote group id direction protocol port range min port range max ethertype 
def tokenize readline from itertools import chain repeat encoding consumed detect encoding readline rl gen iter readline '' empty repeat '' return  tokenize chain consumed rl gen empty .  next   encoding 
def read In Filter fname filter ''tmpfd open fname 'r' for line in tmpfd if '#' in line line line '#' [0] + '\n' filter + linetmpfd return filter 
def bind ack data if data ! '\x0c' return Falseif data 38] ! '\x00\x00' return Falsereturn True 
def  check origin origin info coord frame 'head' disp False if isinstance origin string types if origin ! 'auto' raise Value Error 'originmustbeanumericalarray or not % origin if coord frame 'head' R origin fit sphere to headshape info verbose False units 'm' [ 2]logger.info 'utomaticoriginfit headofradius % R * 1000.0 del Relse origin 0.0 0.0 0.0 origin np origin float if origin ! 3 raise Value Error 'originmustbea3-elementarray' if disp origin str ' '.join [ '%0.1f' % o * 1000 for o in origin logger 'singorigin % origin str coord frame return origin 
def  ip src dst payload ip Header ' +  H 20 + len payload + '\x00\x01\x00\x00@\x11' +  H 0 + socket pton socket A F INET native String src + socket pton socket A F INET native String dst checksum Step1 sum struct '!10H' ip Header carry checksum Step1 >> 16 checksum Step2 checksum Step1 & 65535 + carry checksum Step3 checksum Step2 ^ 65535 ip Header ip Header 10] + struct '!H' checksum Step3 + ip Header ] return ip Header + payload 
def get domain workgroup pythoncom Co Initialize conn wmi W M I for computer in conn Win32 Computer System if computer Part Of Domain return {omain computer Domain return {orkgroup computer Domain 
def  one D norm 2 a raise Not Implemented Error 
@ refresh mine cache api version 1.12 @ ensure existsdef pause name orig state state name if orig state 'stopped' return {'result' False 'state' {'old' orig state 'new' orig state 'comment' "ontainer cannotpause name }return  change state name 'pause' 'paused'
def samplemat dims aa np dims for i in range min dims aa i i ] ireturn aa 
def completeness score labels true labels pred return homogeneity completeness v measure labels true labels pred [1]
def Quoted File Name fname import regutil stringtry fname '' return '"%s"' % fname except Value Error return fname 
def start file filename from qtpy Qt Core import Q Urlfrom qtpy Qt Gui import Q Desktop Servicesurl Q Url url Url filename return Q Desktop Services Url url 
def permission required perm login url None redirect REDIRECT FIELD NAME only active True redirect func lambda u not u authenticated if only active deny func lambda u not u active and u perm perm else deny func lambda u not u perm perm redirect url func lambda login url return user access decorator redirect func redirect field redirect redirect url func redirect url func deny func deny func 
def features out   salt  ['cmd.run all 'list salt verify run out ret {}for line in [re.sub '\\s+' '' line for line in out '\n' if '-' in line ] option description line '-' 1 ret descriptionreturn ret 
def test softmax weight init nvis 5num classes 10MLP layers [oftmax num classes 's' irange 0.1 ] nvis nvis MLP layers [oftmax num classes 's' istdev 0.1 ] nvis nvis MLP layers [oftmax num classes 's' sparse init 2 ] nvis nvis 
def get image dir path instance return os C O N F path instance 
@testdef rgb h if h 2] '\x01\xda' return u 
def json generator items root expand False yield '{"%s" [' % root first Truefor item in items if first first Falseelse yield ' ' yield json  rep item expand expand yield ']}'
def  fast cross nd sum a b c return a 1] * b 2] - a 2] * b 1] * c 0] + a 2] * b 0] - a 0] * b 2] * c 1] + a 0] * b 1] - a 1] * b 0] * c 2]
def  extend port trunk details core plugin port res port db if port db port subports {x.port id {'segmentation id x id 'segmentation type x type 'port id x id for x in port db port ports core plugin ports context admin context filters {'id' subports for port in ports subports address port address details {'trunk id port db port 'sub ports [x for x in subports ]}port res details trunk detailsreturn port res 
def classifier Wrapper classifier classifier Type test Sample R -1 P -1 if classifier Type 'knn' [R P] classifier test Sample elif classifier Type 'svm' or classifier Type 'randomforest' or classifier Type 'gradientboosting' or 'extratrees' R classifier test Sample 1 -1 [0]P classifier proba test Sample 1 -1 [0]return [R P]
def is valid target if nick re target return Trueelse return False 
def distances along curve X X np X axis 0 return vector lengths X axis 1
def encode wanted remote local want {}if 'ts data in local if remote data > local data want Trueif 'ts meta in local and remote meta > local meta want Trueif 'ts ctype in local and remote ctype > local ctype and remote ctype > remote data want Trueelse want Truewant Trueif want key map dict data 'd' meta 'm' parts ''.join v for k v in sorted key map if want k return '%s%s' % urllib remote hash parts return None 
def get all tensor children tensor children list []children list tensor if tensor for t in tensor children list + get all tensor children t return list set children list 
def change TV DOWNLOAD DIR tv download dir if tv download dir '' sickbeard T V DOWNLOAD DIR ''return Trueif ek os sickbeard T V DOWNLOAD DIR ! ek os tv download dir if helpers Dir tv download dir sickbeard T V DOWNLOAD DIR ek os tv download dir logger u Changed T Vdownloadfolderto + tv download dir else return Falsereturn True 
def is block gradient op return isinstance op  Elemwise No Gradient 
def requires pillow jpeg func @wraps func def decorated func *args **kwargs 'xecutethefunctionifwehave J P E Gsupportin Pillow from PIL import Imageexcept Import Error raise Skip Test 'illowisnotinstalled ornotfound ' if not getattr Image 'jpeg decoder False raise Skip Test 'illowcannotopen J P E Gfiles return func *args **kwargs return decorated func 
def for unsigned dtypes combination names 'dtype' full None return for dtypes combination  unsigned dtypes names names full full 
@events.on finish channel '^room-' def finish request socket context try user context Key Error returnleft {'action' 'leave' 'name' user 'id' user channel left user 
def assert valid call prompt default cli flag force interactive msg 'nvalid I Displaycallforthisprompt \n{0}'.format prompt if cli flag msg + 'oucansetananswertothispromptwiththe cli flag assert default is not None or force interactive msg 
def match fs disk dev path fs type fs makeopt if disk type ! fs type return Falseelif disk mkfs fs makeopt return Trueelif fsinfo mkfs option fs type dev path fs makeopt if disk mkfs ! '?' raise Exception "mkfsoptionstringsdifferbutauto-detectioncodethinksthey'reidentical" else return Trueelse return False 
def lazy cache key None time expire None cache model 'ram' def decorator f key key time expire time expire cache model cache model key key or repr f def g *c **d from gluon import currentreturn current key time expire cache model f *c **d g  name   f  name  return greturn decorator 
def p service p thrift thrift stack -1 ]if len p 8 extends thriftfor name in p '.' extends getattr extends name None if extends is None raise Thrift Parser Error "an % p p if not hasattr extends 'thrift services raise Thrift Parser Error "an notaservice % p else extends Noneval  make service p p len p - 2 ] extends setattr thrift p val  add thrift meta 'services' val 
def write xspf f tuples xml Xml Writer f indent Amount '' xml xml 'playlist' {'xmlns' 'http //xspf.org/ns/0/' 'version' '1'} xml 'ist for tupe in tuples xml 'track' xml 'creator' tupe xml 'title' tupe xml 'location' tupe xml xml xml f 
def  get user and profile username try existing user User username username existing user profile User Profile user existing user except Object Does Not Exist raise User Not Found return existing user existing user profile 
@register.filter is safe False def length is value arg try return len value int arg except Value Error Type Error return u 
def as unicode text encoding u if isinstance text unicode return textelif text None return u isinstance text basestring return unicode text encoding else return unicode text 
def get barcode curr seq barcode len raw barcode curr seq barcode len seq curr seq len ]return raw barcode raw seq 
def geos version info ver geos version .decode m version regex ver if not m raise G E O S Exception 'ouldnotparseversioninfostring % ver return {key m key for key in 'version' 'release candidate 'capi version 'major' 'minor' 'subminor' }
def expandpath path path os path if path u path os path return path 
def filter token access token ref if access token ref access token ref access token ref access token ref 'access secret None return access token ref 
def test non iterable value Chart chart Chart no prefix True chart 'A' 1 chart 'B' 2 if not chart dual chart labels 'red' 'green' 'blue' chart1 chart chart Chart no prefix True chart 'A' [1] chart 'B' [2] if not chart dual chart labels 'red' 'green' 'blue' chart2 chart assert chart1 chart2 
def kit import csv file request budget import csv file session T 'atauploaded except session T 'nabletoparse C S Vfile redirect URL f 'kit'
def generate key key length 64 if hasattr random 'ystem Random choice random System Random .choiceelse choice random ''.join map lambda x choice string + string range key length 
@synchronized DIR LOCK def cleanup empty directories path path os path while 1 repeat Falsefor root dirs files in os path topdown False if not dirs and not files and root ! path try remove dir root repeat Trueexcept passif not repeat breaktry remove dir path except pass 
def group seq multiple True if not seq return [] current groups [seq[0]] [] for elem in seq ] if elem current -1 ] current elem else groups current current [elem]groups.append current if multiple return groupsfor i current in enumerate groups groups current len current return groups 
def make resource return {'url' 'http //www.example.com' 'description' 'exampleresourcedescription' 'format' 'txt' 'name' 'exampleresource'}
def  use str for masked values format func return lambda format  val str val if val is np else format func format  val 
def SMTP port 25 **kwargs return rule port **kwargs
def  module name *components return '.'.join components 
def from ctypes ctypeobj if ctypeobj is None return types isinstance ctypeobj type ctypeobjdef  convert internal ctypeobj if issubclass ctypeobj ctypes Pointer valuety  convert internal ctypeobj type  if valuety is not None return types C Pointer valuety else return  FROM C T Y P E S ctypeobj ty  convert internal ctypeobj if ty is None raise Type Error 'nsupportedctypestype %s' % ctypeobj return ty 
def test lazy log called print []class Expensive object def   repr   self called print 1 return 'expensivedatapreparation'slogging.configure log json True log slogging logger log 'no' data Expensive assert not called print log 'yes' data Expensive assert called print 
def Tick Job session session 'ick 
def get docs version version None positions 2 version get complete version version candidate pos  get candidate pos version if positions > candidate pos positions candidate posif  is development candidate version return 'dev'return  get version string version positions 
def get transparent torification return transparent torification 
def find creation sequence G cs []H Gwhile H > 0 dsdict dict H ds [ d v for v d in dsdict ]ds.sort if ds -1 ][0] 0 cs zip dsdict ['i'] * len ds - 1 + ['d'] breakwhile ds 0 d iso ds 0 cs iso 'i' d bigv ds cs bigv 'd' H H H bigv cs return cs 
def index if predicate seq idx 0for x in seq if predicate x return idxidx + 1return idx 
def number aware tokenizer doc token pattern re u ?u \\b\\w\\w+\\b' tokens token pattern doc tokens [ '#NUMBER' if token in '0123456789_' else token for token in tokens tokens 
def is valid ip address address if address in '127.0.0.1' 'localhost' ' 1' ' ffff 127.0.0.1' return Trueelif address in 'unknown' '' return Falseelif address '.' 3 if address ' ffff ' address address ]if hasattr socket 'inet aton try socket aton address return Trueexcept socket return Falseelse match REGEX I Pv4 address if match and all 0 < int match i < 256 for i in 1 2 3 4 return Truereturn Falseelif hasattr socket 'inet pton try socket pton socket A F INET6 address return Trueexcept socket return Falseelse return True 
def get localizable attributes obj locale {}try if obj locale obj passtry if obj locale obj passreturn locale 
def codegen name expr language prefix None project 'project' to files False header True empty True argument sequence None global vars None code gen get code generator language project if isinstance name expr string types name expr [name expr prefix is None prefix name expr []for name expr in name expr routines code gen name expr argument sequence global vars return code gen routines prefix to files header empty 
def  pairwise callable X Y metric **kwds X Y check pairwise arrays X Y if X is Y out np X Y dtype 'float' iterator itertools range X 2 for i j in iterator out i j ] metric X Y **kwds out out + out T for i in range X x X i i ] metric x x **kwds else out np X Y dtype 'float' iterator itertools range X range Y for i j in iterator out i j ] metric X Y **kwds return out 
def get simple split branchfile index branchfile '/' if index -1 return None None branch file branchfile '/' 1 return branch file 
def  get volume creation time volume try return volume time Key Error return parse date volume at .replace tzinfo tzutc 
def lint command tool xml lint ctx root tool xml commands root 'command' if len commands > 1 lint ctx 'orethanonecommandtagfound behaviorundefined returnif len commands 0 lint ctx 'ocommandtagfound mustspecifyacommandtemplatetoexecute returncommand get command tool xml if 'TODO' in command lint ctx 'ommandtemplatecontains T O D Otext command attrib command type Nonefor key value in command attrib if key 'interpreter' interpreter type valueelif key 'detect errors detect errors valueif detect errors not in ['default' 'exit code 'aggressive'] lint ctx 'nknowndetect errorsattribute % detect errors else lint ctx 'nknownattribute % key interpreter info ''if interpreter type interpreter info 'withinterpreteroftype[%s]' % interpreter type if interpreter type lint ctx "ommandusesdeprecated lint ctx 'oolcontainsacommand % interpreter info 
def muladd with overflow builder a b c p builder with overflow a b prod builder value p 0 prod ovf builder value p 1 s builder with overflow prod c res builder value s 0 ovf builder  prod ovf builder value s 1 return res ovf 
def decode base64 text encoding 'utf-8' text to bytes text encoding return to unicode base64 text encoding 
def is Valid Color color try color float color return Trueexcept Exception if isinstance color basestring and len color return color in colors255 or color '#' or color 2] '0x' return type color in [tuple list numpy or not color 
def  transform messages base64 messages transform key None for message in messages if key is not None message message 'data' in message message transform message 
def is Being Written filepath ctime max os filepath os filepath if ctime > time - 60 return Truereturn False 
def test cnn fit sample cnn Condensed Nearest Neighbour random state RND SEED X resampled y resampled cnn sample X Y X gt np [[ -0.10903849 -0.12085181 ] [0.01936241 0.17799828] [0.05230552 0.09043907] [ -1.25020462 -0.40402054 ] [0.70524765 0.39816382] [0.35831463 1.33483198] [ -0.284881 -0.62730973 ] [0.03394306 0.03986753] [ -0.01252787 0.34102657] [0.15198585 0.12512646]] y gt np [0 0 1 1 1 2 2 2 2 2] assert array equal X resampled X gt assert array equal y resampled y gt 
def is isolate G n return G n 0
def test inter process cache x y theano 'xy' f theano [x y [y Op x My Op y ] f numpy 60 numpy 60 if theano 'FAST COMPILE' or theano '' assert My Op called 0 else assert My Op called 1 x y theano 'xy' f theano [x y [y Op x My Op y ] f numpy 60 numpy 60 if theano 'FAST COMPILE' or theano '' assert My Op called 0 else assert My Op called 1
def downloaded reqs from path path argv finder package finder argv return [ownloaded Req req argv finder for req in  parse requirements path finder ]
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def polar *args **kwargs if gcf .get axes if not isinstance gca Polar Axes warnings u Tryingtocreatepolarplotonanaxisthatdoesnothaveapolarprojection ax gca polar True ret ax *args **kwargs return ret 
def inotify code changed class Event Handler pyinotify Process Event modified code Nonedef process default self event if event '.mo' Event Handler code I18N M O D I F I E Delse Event Handler code FILE M O D I F I E Dwm pyinotify Watch Manager notifier pyinotify Notifier wm Event Handler def update watch sender None **kwargs if sender and getattr sender 'handles files False returnmask pyinotify I N MODIFY | pyinotify I N DELETE | pyinotify I N ATTRIB | pyinotify I N MOVED FROM | pyinotify I N MOVED TO | pyinotify I N CREATE | pyinotify I N DELETE SELF | pyinotify I N MOVE SELF for path in gen filenames only new True wm watch path mask request finished update watch update watch notifier events timeout None notifier events notifier events notifier return Event Handler code 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@manager.option '-a' '--accounts' dest 'accounts' type unicode default u def run change reporter accounts account names  parse accounts accounts sm run change reporter account names 
def req job reset r **attr if r if r and r 'job' job id r idif job id S3 Task job id current current T 'obreactivated r id Noneredirect r method ''
def update font basefont weight None italic None underline None pixel Size None point Size None font Q Font basefont if weight is not None font Weight weight if italic is not None font Italic italic if underline is not None font Underline underline if pixel Size is not None font Pixel Size pixel Size if point Size is not None font Point Size point Size return font 
@pytest.mark.parametrize 'lang' settings A M O LANGUAGES def test get locale from lang lang locale get locale from lang lang assert isinstance locale Locale assert locale lang 2] separator filter None [ sep if sep in lang else None for sep in '-' '_' ] if separator territory lang separator [1]assert locale territory 
def  get comments group tasks comments {}for status human in  COMMENTS num tasks  get number of tasks for status group tasks if num tasks space '' if status in  PENDING SUB STATUSES else '' comments '{space}*{num tasks \n'.format space space num tasks num tasks human human return comments 
def change vulns table return [dict tab id vulnid for vulnid tab in table ]
def cinder one import per line logical line pos logical line ' ' parts logical line if pos > -1 and parts 'import' or parts 'from' and parts 'import' and not is import exception parts yield pos 'CINDERN301 oneimportperline 
def get programs data user None programs list get programs user program types get program types user program types lookup dict {program type program type for program type in program types program in programs list program image program types lookup dict image programs list 
def Escape Cpp Define s s Escape Shell Argument s s Escape Make Variable Expansion s return s '#' '\\#'
def whitesource registry xml parent data whitesource X M L Sub Element xml parent 'hite Source Publisher whitesource 'plugin' 'whitesource' policies ['global' 'enable' 'disable']mappings [ 'policies' 'heck Policies 'global' policies 'override-token' 'pi Token '' 'product-token' 'product' '' 'version' 'ersion '' 'project-token' 'oken '' 'requester-email' 'mail '' ]helpers.convert mapping to xml whitesource data mappings fail required True X M L Sub Element whitesource 'ncludes .text ''.join data 'includes' [] X M L Sub Element whitesource 'xcludes .text ''.join data 'excludes' [] X M L Sub Element whitesource 'om Modules .text 'false'
def packbits myarray if myarray not in 'biu' raise Type Error 'xpectedaninputarrayofintegerorbooleandatatype myarray myarray packed size myarray + 7 // 8 packed cupy packed size dtype cupy cupy Elementwise Kernel 'myarray rawint32myarray size 'uint8packed' 'for intj 0;j<8;++j {\nintk i k size 0;\npacked| bit 7-j ;\n}' 'packbits kernel myarray myarray packed return packed 
def q Object Report verbose False global q Obj Cachecount {}for obj in find Obj 'y Qt if isinstance obj Qt Core Q Object oid id obj if oid not in Q Obj Cache Q Obj Cache type Str obj + '' + obj Name try Q Obj Cache + '' + obj .ame Q Obj Cache + '' + obj except passprint 'checkobj' oid str Q Obj Cache if obj is None walk Q Object Tree obj count verbose typs list count typs for t in typs print count ' DCTB ' t 
def get Sense form pos 'noun' senseno 0 return get Word form pos [senseno]
def load extension ext name configs [] configs dict configs pos ext name ' ' if pos > 0 ext args ext name pos + 1 -1 ]ext name ext name pos [x.split ' ' for x in ext args ' ' ]configs.update [ x y for x y in pairs ext module 'markdown.extensions'module name new style '.'.join [ext module ext name module name old style ' '.join ['mdx' ext name try module   import   module name new style {} {} [ext module except Import Error try module   import   module name old style except Import Error message WARN "ailedloadingextension % ext name module name new style module name old style return Nonetry return module Extension configs except Attribute Error message CRITICAL "ailedtoinitiateextension % ext name 
def matching Dict d selection require existence False for k v in list selection if k in d if isinstance v list if d not in v return Falseelif d ! v return Falseelif require existence return Falsereturn True 
def  Send Recv port int os DEVSHELL ENV 0 if port 0 raise No Devshell Server sock socket sock 'localhost' port data CREDENTIAL INFO REQUEST J S O Nmsg '{0}\n{1}'.format len data data sock  helpers to bytes msg encoding 'utf-8' header sock 6 .decode if '\n' not in header raise Communication Error 'sawnonewlineinthefirst6bytes' len str json str header '\n' 1 to read int len str - len json str if to read > 0 json str + sock to read socket M S G WAITALL .decode return Credential Info Response json str 
def validate textbooks json text try textbooks json text except Value Error raise Textbook Validation Error ' S O N if not isinstance textbooks list tuple raise Textbook Validation Error ' S O Nlist for textbook in textbooks validate textbook json textbook all ids [textbook['id'] for textbook in textbooks if 'id' in textbook ]unique ids set all ids if len all ids > len unique ids raise Textbook Validation Error ' Dsmustbeunique return textbooks 
def decorate depth tree for node in tree include self True if node Parent is None node Score 0else node Score node Parent Score + 1 return tree 
def  construct signal from epochs epochs events sfreq tmin n epochs n channels n times epochs tmin + n times / float sfreq start np events 0] + int tmin * sfreq stop np events 0] + int tmax * sfreq + 1 n samples stop - start n epochs n channels n times epochs pos events 0] - events 0 0 ] raw np n channels n samples for idx in range n epochs onset events pos onset + n times raw onset offset epochs raw 
def calculate sha256 body as hex False checksum hashlib for chunk in iter lambda body 1024 * 1024 '' checksum chunk if as hex return checksum else return checksum 
def instance type extra specs get context flavor id return I M P L type extra specs get context flavor id 
def print undefined step snippets undefined steps stream None colored True if not undefined steps returnif not stream stream sys u Youcanimplementstepdefinitionsforundefinedstepswith + u \n\n'printed set for step in undefined steps if step in printed continueprinted step msg + make undefined step snippet step if colored from behave escapes import escapesmsg escapes + msg + escapes stream msg stream 
def  serialize node search node data {'id' node id 'title' node 'etal' len node contributors > 1 'egistration node registration node registration data + ' registration 'egistered node date else data Created node created data Modified node modified first author node contributors Author first author name or first author name or first author return data 
def topological sort elems result []visited set def visit n if n not in visited visited n if n in elems map visit elems result n map visit elems return result 
def min max axis X axis if isinstance X sp matrix or isinstance X sp matrix return sparse min max X axis axis else  raise typeerror X
def expand complex expr deep True return sympify expr .expand deep deep complex True basic False log False mul False power exp False power base False multinomial False 
def file list *packages errors []ret []cmd ['pacman' 'l len packages > 0 and os packages packages list packages cmd '-r' packages 0 cmd packages out   salt  ['cmd.run'] cmd output loglevel 'trace' python shell False for line in salt out '\n' if line 'error' errors line else comps line ret ''.join comps ] return {'errors' errors 'files' ret 
def md5 key mangler key return md5 key 'ascii' .hexdigest
def  get makeconf old conf '/etc/make.conf'new conf '/etc/portage/make.conf'if   salt  ['file.file exists old conf return old confelif   salt  ['file.file exists new conf return new conf 
def rand nonzero shape eps 0.0003 r numpy numpy *shape dtype config X r r * 1 - eps + eps * r > 0.5 r r * 2 - 1 return r 
def http code description http code description HTTP STATUS C O D E S try int http code if isinstance description list return u {0} '.format u '.join description return description 
def S ISGITLINK m return stat S IFMT m S IFGITLINK
def info return  nodetool 'info'
def  generative *assertions @util.decoratordef generate fn *args **kw self args clone for assertion in assertions assertion self fn  name   fn self *args[1 ] **kw return selfreturn generate 
def  preprocess widget widget name module name widget name name module name + '.views' module views   import   import name fromlist [str module name ] if hasattr module views name if 'title' not in widget widget getattr module views name .  doc  widget copy widget if 'view' not in widget widget getattr module views name return widget 
def convert translations to dict js translations plural n plural  get plural forms js translations translations dict {'plural' plural 'catalog' {} 'fallback' None js translations fallback is not None translations dict convert translations to dict js translations fallback for key value in js translations catalog if key '' continueif type key in str unicode translations dict valueelif type key tuple if key not in translations dict translations dict [''] * n plural translations dict key ] valuereturn translations dict 
def  get valid trace context trace context assert isinstance trace context Trace Context dict if isinstance trace context dict trace context Trace Context **trace context return trace context 
def find xem absolute numbering indexer id indexer absolute number if indexer id is None or absolute number is None return absolute numberindexer id int indexer id indexer int indexer xem refresh indexer id indexer main db con db D B Connection rows main db con ' E L E C Tscene absolute number F R O Mtv episodes W H E R Eindexer ?andshowid ?andabsolute number ?andscene absolute number 0' [indexer indexer id absolute number if rows return int rows absolute number 
def reap All Processes for process in list reap Process Handlers process Process 
def adapt references subtree destination course key export fs subtree fs export fsfor field name field in subtree if field set on subtree if isinstance field Reference value field from subtree if value is not None field to subtree field from subtree .map into course destination course key elif field name 'children' [adapt references child destination course key export fs for child in subtree children ]elif isinstance field Reference List field to subtree [ele.map into course destination course key for ele in field from subtree ] elif isinstance field Reference Value Dict field to subtree {key ele into course destination course key for key ele in field from subtree .iteritems }
def extract external port client container identifier internal port container details client container container identifier network settings container details Network Settings network settings Ports ports internal port ]host port int details Host Port Message message type u extract external port host port host port .write return host port 
def build routes iface **settings iface iface opts  parse routes iface settings try template J I N J A template 'route eth except jinja2 Template Not Found log 'ouldnotloadtemplateroute eth return ''add routecfg template route type 'add' routes opts iface iface del routecfg template route type 'del' routes opts iface iface if 'test' in settings and settings return  read temp add routecfg + del routecfg filename  write file routes iface add routecfg  DEB NETWORK UP DIR 'route-{0}' results  read file filename filename  write file routes iface del routecfg  DEB NETWORK DOWN DIR 'route-{0}' results +  read file filename return results 
def  dict reorder rep gens new gens gens list gens monoms rep coeffs rep new monoms [[] for _ in range len rep ]used indices set for gen in new gens try j gens gen used indices j for M new M in zip monoms new monoms new M M except Value Error for new M in new monoms new M 0 for i _ in enumerate gens if i not in used indices for monom in monoms if monom raise Generators Error 'unabletodropgenerators' return map tuple new monoms coeffs 
def  tupleize dct return [ key val for key val in dct ]
def block until instance ready booting instance wait time 5 extra wait time 20  id booting instance instance E C2 Instance id  id  state  instance Name ip  instance ip addresswhile  state ! 'running' or  ip is None time wait time  instance E C2 Instance id  id  state  instance Name ip  instance ip addressblock until ssh open  ip time extra wait time return  instance 
def nonnegative int argument value int argument if value < 0 raise Value Error 'negativevalue;mustbepositiveorzero' return value 
def base context s '' log None ctx -1 ] ''ctx.contexts[ -2 ] sif s and log log 'ontext %s' % get context 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def add Path To Group derivation group Dictionary Copy path target Matrix total Index for point Index point in enumerate path array Element derivation Copy derivation Node I D Suffix total Index derivation Node array Dictionary array Element Dictionary str derivation .lower array Dictionary group Dictionary Copy euclidean True From Dictionary array Dictionary 'visible' vertex Matrix matrix Matrix matrix Translate Tetragrid By Translation point z Angle total Index * 50.0 rotation Matrix get Rotation Matrix array Dictionary derivation path point point Index array Element Matrix vertex Matrix Self Times Other rotation Matrix Self Times Other target Matrix .tetragrid array Dictionary array Element Matrix Attributes 'matrix.' array Dictionary array Index total Indexarray Dictionary array Point pointtotal Index + 1
def epoch return datetime 1970 1 1
def extract data input dir output dir if os output dir print 'singextracteddataat % output dir returnfor filename in 'data object label 2.zip' 'data object image 2.zip' 'devkit object filename os input dir filename zf zipfile Zip File filename 'r' print 'nzipping % filename zf output dir 
def set dirty and flush changes non const func def flush changes self *args **kwargs rval non const func self *args **kwargs self dirty Trueself return rvalflush changes  name   non const func  name  return flush changes 
def remove invalid filter options context filters allowed search options if context admin returnunknown options [opt for opt in filters if opt not in allowed search options ]bad options ' '.join unknown options L O G "emovingoptions bad options for opt in unknown options del filters 
def get mock request user None request Request Factory .get '/' if user is not None request userelse request Anonymous User request secure lambda True request host lambda 'edx.org' crum current request request return request 
def qiime open fp permission 'U' if is gzip fp return gzip open fp else return open fp permission 
def prettify jsonobj prettify True if not prettify return json jsonobj json str json jsonobj indent 2 sort keys True if pygments try lexer get lexer for mimetype 'application/json' return pygments json str lexer Terminal Formatter except passreturn json str 
def seq2str sequence quote "'" sep ' ' lastsep 'and' sequence [ quote + unic item + quote for item in sequence not sequence return ''if len sequence 1 return sequence two lastsep sequence -2 ] return sep sequence -2 ] + [last two 
def filename match filename if not options return Truefor pattern in options if fnmatch filename pattern return True 
def  extract nodes html tree filename search expr  XPATH FIND N O D E Sfor name in  IGNORE NODES search expr + '[not ancestor %s ]' % name return html tree search expr 
def get cached trees queryset current path []top nodes []if queryset parent attr queryset mptt meta attrroot level Nonefor obj in queryset node level obj level if root level is None root level node levelif node level < root level raise Value Error _ u Node % type queryset obj cached children []while len current path > node level - root level current path -1 if node level root level top nodes obj else  parent current path -1 ]setattr obj parent attr  parent  parent cached children obj if root level 0 setattr obj u mptt use cached ancestors True current path obj return top nodes 
def test write noheader no pad out String I O ascii dat out Writer ascii Fixed Width No Header delimiter pad None assert equal splitlines out '|1.2|"hello"|1|a|\n|2.4|\'sworlds|2|2|\n'
def safecall f name *args **kwargs lwork kwargs 'lwork' None if lwork in None -1 kwargs -1 ret f *args **kwargs kwargs ret -2 ][0].real.astype numpy ret f *args **kwargs if ret -1 ] < 0 raise Value Error 'illegalvaluein%d-thargumentofinternal%s' % - ret -1 ] name return ret -2 ]
def userdel pwfile user return   salt  ['webutil.userdel'] pwfile user 
def p expression name t try t names Lookup Error print u Undefinedname % t t 0
def show notification name text None **kwargs if not text raise Salt Invocation Error 'issingrequiredargumenttext ret {'name' name 'changes' {} 'result' True 'comment' text ret 
def get Closest Point On Segment segment Begin segment End point segment Difference segment End - segment Begin if abs segment Difference < 0.0 return segment Beginpoint Minus Segment Begin point - segment Begin begin Plane Dot get Dot Product point Minus Segment Begin segment Difference difference Plane Dot get Dot Product segment Difference segment Difference intercept begin Plane Dot / difference Plane Dot intercept max intercept 0.0 intercept min intercept 1.0 return segment Begin + segment Difference * intercept 
def generate library search paths lib extra dirs COMMON LIB PATHS ld so conf filename Ldconfig L D SO CONF if os in lib paths [lib]else l Ldconfig search paths l ld so conf filename extra dirs paths path joiner lib search paths return paths 
def award enrollment badge user config Course Event Badges Configuration .enrolled settingsenrollments user set is active True .count award badge config enrollments user 
def test finder only installs data require data finder Package Finder [] [data.index url 'datarequire' ] session Pip Session links finder all candidates 'fakepackage' expected ['1.0.0' '9.9.9']if sys info < 2 7 expected '2.6.0' elif 2 7 < sys info < 3 expected '2.7.0' elif sys info > 3 3 expected '3.3.0' assert set [str v for v in links set expected 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  filter names names names [n for n in names if n not in EXCLUDE NAMES ]for pattern in EXCLUDE PATTERNS names [n for n in names if not fnmatch n pattern and not n '.py' ]return names 
def read bitpacked deprecated file obj byte count count width debug logging raw bytes array ARRAY BYTE STR file obj byte count .tolist mask  mask for bits width index 0res []word 0bits in word 0while len res < count and index < len raw bytes if debug logging logger u %d' index logger u %d' bits in word logger u %s' bin word if bits in word > width offset bits in word - width value word & mask << offset >> offset if debug logging logger u %d' offset logger u %d %s ' value bin value res value bits in word - widthelse word word << 8 | raw bytes index + 1bits in word + 8return res 
@register.simple tag takes context True def avatar url context user size resolution u service id None if resolution not in u u raise Value Error u not % resolution service avatar services user user service id if service is None logging u Couldnotgetasuitableavatarserviceforuser user return mark safe u urls service avatar urls request context user user size size return urls 
def reset docker settings Docker Util .set docker settings {} {}
def safe repr fmt *args **kwargs if not is py3 fmt fmt 'utf-8' out fmt *args **kwargs return out 'utf-8' else return fmt *args **kwargs
def ungettext singular plural number return do ntranslate singular plural number 'ungettext'
def write flv header stream stream ' L V stream '\x05' stream '\x00\x00\x00 DCTB ' stream '\x00\x00\x00\x00'
def approx fprime cs x f epsilon None args kwargs {} n len x epsilon  get epsilon x 1 epsilon n increments np n * 1j * epsilon partials [ f x + ih *args **kwargs .imag / epsilon for i ih in enumerate increments ]return np partials .T
def get Paths By Lists vertex Lists vector3 Lists get Vector3 Lists Recursively vertex Lists paths [o Paths Recursively paths vector3 Lists return paths 
def qnwlogn n mu None sig2 None nodes weights qnwnorm n mu sig2 return np nodes weights 
def resnet v2 200 inputs num classes None is training True global pool True output stride None reuse None scope 'resnet v2 200' blocks [resnet utils Block 'block1' bottleneck [ 256 64 1 ] * 2 + [ 256 64 2 ] resnet utils Block 'block2' bottleneck [ 512 128 1 ] * 23 + [ 512 128 2 ] resnet utils Block 'block3' bottleneck [ 1024 256 1 ] * 35 + [ 1024 256 2 ] resnet utils Block 'block4' bottleneck [ 2048 512 1 ] * 3 ]return resnet v2 inputs blocks num classes is training is training global pool global pool output stride output stride include root block True reuse reuse scope scope 
def bucket copy self Copy Source Key Extra Args None Callback None Source Client None Config None return self Copy Source Copy Source Bucket self Key Key Extra Args Extra Args Callback Callback Source Client Source Client Config Config 
def test random tree T nx tree 10 seed 1234 assert true nx tree T
def migrate add message prefix context max count force False return I M P L add message prefix context max count force 
def  get test cluster reactor control node environ 'FLOCKER ACCEPTANCE CONTROL NODE' if control node is None raise Skip Test 'etacceptancetestingcontrolnode I Paddressusingthe + 'FLOCKER ACCEPTANCE CONTROL N O D Eenvironmentvariable agent nodes env var environ 'FLOCKER ACCEPTANCE NUM AGENT NODES' if agent nodes env var is None raise Skip Test 'etthenumberofconfiguredacceptancetestingnodesusingthe F L O C K E R ACCEPTANCE NUM AGENT N O D E Senvironmentvariable num agent nodes int agent nodes env var certificates path File Path environ F L O C K E R ACCEPTANCE API CERTIFICATES PATH'] hostname to public address env var environ 'FLOCKER ACCEPTANCE HOSTNAME TO PUBLIC ADDRESS' '{}' hostname to public address json hostname to public address env var return connected cluster reactor control node certificates path num agent nodes hostname to public address 
def get key key host None port None db None password None server  connect host port db password return server key 
def  check guts eq attr old new last build if old ! new logger 'uildingbecause attr return Truereturn False 
def form hmac form data []for bf in form if form permitted and not form changed value bf or '' else value bf bf or '' if isinstance value basestring value value data bf value pickled pickle data pickle H I G H E S T PROTOCOL key salt 'django.contrib.formtools'return salted hmac key salt pickled .hexdigest
def get app qt4 *args **kwargs from I Python for kernel import Qt Guiapp Qt Gui Q Application if app is None if not args args [''] app Qt Gui Q Application *args **kwargs return app 
def p const map p p dict p 
def get loaded rules rules paths for path in rules paths if path ! '  init  .py' rule Rule path path if rule enabled yield rule 
def has subdirectories path include exclude show all try return len listdir path include exclude show all folders only True > 1 except I O Error O S Error return False 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  check to native self in string encoding py2 expected py3 expected if PY3 self Equal to native in string encoding py3 expected else self Equal to native in string encoding py2 expected 
def generate cert domain result   salt  ['cmd.run'] 'icinga2pkinew-cert--cn{0}--key/etc/icinga2/pki/{0}.key--cert/etc/icinga2/pki/{0}.crt'.format domain return result 
def renumerate it return zip xrange len it - 1 -1 -1 reversed it 
def get backend api cluster id backend config filename environ 'FLOCKER ACCEPTANCE TEST VOLUME BACKEND CONFIG' if backend config filename is None raise Skip Test 'histestrequirestheabilitytoconstructan I Block Device A P Iinordertoverifyconstruction Pleaseset F L O C K E R ACCEPTANCE TEST VOLUME BACKEND C O N F I Gtoayamlfilepathwiththedatasetconfiguration backend name environ 'FLOCKER ACCEPTANCE VOLUME BACKEND' if backend name is None raise Skip Test 'etacceptancetestingvolumebackendusingthe + 'FLOCKER ACCEPTANCE VOLUME B A C K E N Denvironmentvariable if backend name in 'loopback' 'zfs' raise Skip Test "heloopbackbackend A P Ican backend config filepath File Path backend config filename full backend config yaml load backend config filepath Content backend config full backend config backend name if 'backend' in backend config backend config 'backend' backend backend loader backend name return get api backend pmap backend config reactor cluster id 
def CDLDARKCLOUDCOVER bar Ds count penetration -4e+37 return call talib with ohlc bar Ds count talib C D L D A R K C L O U D C O V E R penetration 
def  record from json value field if  not null value field record {}record iter zip field value for subfield cell in record iter converter  CELLDATA FROM J S O N type subfield 'REPEATED' value [converter item subfield for item in cell value converter cell subfield record valuereturn record 
def ipv4 to int ip return struct '!I' addrconv to bin ip [0]
def add To Threads Remove From Surroundings old Ordered Location surrounding Loops skein if len surrounding Loops < 1 returnwhile len surrounding Loops > 0 get Transfer Closest Surrounding Loop old Ordered Location surrounding Loops skein 
def create thread name conn thread threading Thread target conn name name thread Daemon True return thread 
def test imap missing spam constants monkeypatch folder base [ 'as No Children '/' u I N B O X 'oselect 'as Children '/' u S K I P 'as No Children 'rafts '/' u Drafts 'as No Children 'ent '/' u Sent 'as No Children 'ent '/' u Sent Items 'as No Children 'rash '/' u Trash 'as No Children '/' u ]check missing generic 'spam' folder base localized folder names 'imap' constants monkeypatch 
def deactivate Aa Pdp Context Accept a Tp Pd pd 8 b Message Type mes Type 84 packet a / b return packet 
@sopel.module.commands u @sopel.module.priority u @sopel.module.thread False def pm f load bot trigger if trigger privmsg f load bot trigger 
def  get status status if status not in STATUS CODES raise Value Error 'nknownstatuscode return STATUS C O D E S 
@receiver pre delete sender Gold User def delete customer sender instance **__ if sender Gold User and instance id is not None utils customer instance id 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def service Lanes stacks duration 1.0 start time while start + duration > time for stack in stacks stack All if all [ not stack Msgs for stack in stacks console 'ervicestacksdonenormally breaktime 0.05 for stack in stacks console 'tack {1}\n'.format stack stack Remotes console 'ervicestacksexit 
def test amo locale not in django activate 'mn' en trans real translations U S trans real translations en ! mn assert en catalog ! mn catalog 
def get diff text old new filename newline u difflib diff old new u + filename u + filename lineterm newline text u line in diff text + lineif text and not line newline text + newline + u Nonewlineatendoffile + newline return text 
def doc *args return os  prefix u u u *args
@contextlib.contextmanagerdef temporary mutation obj **kwargs def is dict like thing return hasattr thing 'has key def get thing attr default if is dict like thing return thing attr default else return getattr thing attr default def set value thing attr val if is dict like thing thing valelse setattr thing attr val def delete thing attr if is dict like thing del thing delattr thing attr NOT PRESENT object old values {}for attr new value in kwargs old values get obj attr NOT PRESENT set value obj attr new value try yield finally for attr old value in old values if old value is NOT PRESENT delete obj attr else set value obj attr old value 
def mount module args mount bin module bin path 'mount' required True name args [mount bin ismount name return remount module mount bin args if get platform .lower 'openbsd' if module is not None module json msg 'pen B S Ddoesnotsupportalternatefstabfiles Donotspecifythefstabparameterfor Open B S Dhosts else cmd +  set fstab args args cmd + [name] rc out err module command cmd if rc 0 return 0 '' else return rc out + err 
def get phases by plugin name return list get plugin by name name .phase handlers 
def get Geometry Output By Arguments arguments element Node return get Geometry Output None element Node 
def can file be synced on current platform path can be synced Truefullpath os os H O M E path library path os os H O M E 'ibrary if platform constants P L A T F O R M LINUX if fullpath library path can be synced Falsereturn can be synced 
def Add Plugins Subparsers classes sorted export plugins Export Plugin key lambda cls cls subparsers flags P A R S E R subparsers title 'ubcommands for cls in classes if not cls continuesubparser subparsers parser cls help cls plugin obj cls plugin obj Configure Arg Parser subparser subparser defaults func plugin obj Run 
def str get dummies arr sep '|' arr arr '' try arr sep + arr + sep except Type Error arr sep + arr str + sep tags set for ts in arr sep tags ts tags sorted tags - set [''] dummies np len arr len tags dtype np for i t in enumerate tags pat sep + t + sep dummies i lib infer arr lambda x pat in x return dummies tags 
def parse expr s local dict global dict {}exec  'fromsympyimport*' global dict try a parse s mode 'eval' except Syntax Error raise Sympify Error 'annotparse % repr s a Transform local dict global dict .visit a e compile a '<string>' 'eval' return eval e global dict local dict 
def  transform equals sign tokens local dict global dict result []if OP ' ' in tokens result NAME 'q result OP ' ' for index token in enumerate tokens if token OP ' ' result OP ' ' continueresult token result OP ' ' else result tokensreturn result 
def security group get context security group id columns to join None return I M P L group get context security group id columns to join 
def install atlas chdir SRC DIR apt command 'build-depatlas' if glob '*atlas*.deb' run command 'dpkg-i*atlas*.deb' returnapt command 'sourceatlas' chdir 'atlas-*' run command 'fakerootdebian/rulescustom' run command 'dpkg-i../*atlas*.deb'
def  col chunks l max rows row first False if row first ncols len l // max rows + len l % max rows > 0 for i in range ncols yield [l[j] for j in range i len l ncols ] else for i in range 0 len l max rows yield l i + max rows ]
def encrypt data iv Random .read A E S size cipher  create cipher iv return iv + cipher data 
def condition yaw heading relative False if relative is relative 1else is relative 0msg vehicle factory long encode 0 0 mavutil M A V CMD CONDITION YAW 0 heading 0 1 is relative 0 0 0 vehicle mavlink msg 
def test expected operation order expected instructions C H E C K FETCH instructions F E T C H instructions C H E C K EXTRACT instructions E X T R A C T instructions U N L I N K instructions L I N K instructions S Y M L I N K CONDA instructions R M EXTRACTED instructions R M FETCHED assert expected instructions A C T I O N CODES
def enforce credentials action target do raise True init extra {}if do raise extra exc exception Forbidden Action action action do raise do raise return  E N F O R C E R action target credentials **extra
def org customise org resource fields method s3db current s3db resourcetable id s3db Location Represent sep '|' list fields ['organisation id 'location id 'parameter id 'value' 'comments']if method in 'datalist' 'profile' table by s3 auth user represent nametable on lambda dt S3 Date Time represent dt utc True list fields + ['modified by 'modified on 'organisation id 'org resource list fields list fields 
def see other location to location falcon H T T P 303
def test rus sample wrong X rus Random Under Sampler random state RND SEED rus X Y assert raises Runtime Error rus np 100 40 np [0] * 50 + [1] * 50
def  safe value obj key value typ obj type key return isinstance typ SAFE TYPES and isinstance value typ type 
def extract parameters for action alias db action alias db format str param stream formats []formats action alias db format strings if format str not in formats raise Value Error 'ormatstring % format str action alias db result extract parameters format str format str param stream param stream return result 
def with Request f f Request Truereturn f 
def get current ccx course key if not isinstance course key Course Key raise Value Error 'get current ccxrequiresa Course Keyinstance if not isinstance course key C C X Locator return Noneccx cache request cache cache 'ccx' if course key not in ccx cache ccx cache key Custom Course For Ed X pk course key return ccx cache key 
def test reset ip nvars user ns len ip ns nvars hidden len ip ns hidden ip ns 1ip.user ns 1ip.reset nt equal len ip ns nvars user ns nt equal len ip ns hidden nvars hidden 
def constant app status headers body def application unused environ start response start response status headers return [body]return application 
def train K N N features K [t Yt list Of Features2 Matrix features knn k N N Xt Yt K return knn 
def get admin users admins return [get user email e for e in admins 
def find vm by id content vm id vm id type 'vm name datacenter None cluster None si content Indexvm Noneif vm id type 'dns name vm si Find By Dns Name datacenter datacenter dns Name vm id vm Search True elif vm id type 'inventory path vm si Find By Inventory Path inventory Path vm id if type vm ! type vim Virtual Machine vm Noneelif vm id type 'uuid' vm si Find By Uuid datacenter datacenter instance Uuid vm id vm Search True elif vm id type 'ip' vm si Find By Ip datacenter datacenter ip vm id vm Search True elif vm id type 'vm name folder Noneif cluster folder clusterelif datacenter folder datacenter Foldervm find vm by name content vm id folder return vm 
@receiver m2m changed sender Local Site def  on local site users changed sender instance model action pk set **kwargs if action u add if isinstance instance User users [instance]local sites Local Site id  in pk set else users User id  in pk set local sites [instance]for user in users for local site in local sites local site user added sender Local Site user user local site local site 
def  Remaining Data Size input buffer current position input buffer input buffer 0 2 remaining data size input buffer - current position input buffer current position return remaining data size 
def do striptags value if hasattr value '  html  ' value value  html   return Markup unicode value .striptags
def add Rack Hole derivation vector3 Rack Profiles x xml Element rack Hole euclidean Complex Polygon complex x - derivation Hole Below derivation Hole Radius -13 vector3 Rack Profiles euclidean Vector3 Path rack Hole 
def abbr S max ellipsis u if S is None return u len S > max return ellipsis and S[ max - len ellipsis ] + ellipsis or S[ max return S
def threshold sauvola image window size 15 k 0.2 r None if r is None imin imax dtype limits image clip negative False r 0.5 * imax - imin m s  mean std image window size return m * 1 + k * s / r - 1
def  get presser fig callbacks fig press event Nonefor key val in callbacks if val  class  .  name   'partial' func val func is not None return func 
def create permission grant for resource db role db resource db permission types permission types  validate permission types resource db resource db permission types permission types resource uid resource db uid resource type resource db resource type result create permission grant role db role db resource uid resource uid resource type resource type permission types permission types return result 
def  format timedelta time result str strip microseconds time parts result if len parts 3 and len parts -1 ] 7 return '%s%s%s' % tuple parts else return result 
def timestamps registry xml parent data X M L Sub Element xml parent 'imestamper Build Wrapper 
def load graph xml xml filename load all False ret []try root objectify xml except Exception return []if root ! 'graphs' return []if not hasattr root 'graph' return []for g in root name g [e.text for e in g load all ret Graph Definition name e g expressions filename continueif have graph name continuefor e in expressions if expression ok e ret Graph Definition name e g expressions filename breakreturn ret 
def get language bidi lang get language if lang is None return Falseelse base lang get language .split '-' [0]return base lang in settings L A N G U A G E S BIDI
def run child process test info test info server sys 0
def  formatparam param value None quote True if value is not None and len value > 0 if isinstance value tuple param + '*'value utils rfc2231 value value value if quote or tspecials value return '%s "%s"' % param utils value else return '%s %s' % param value else return param 
def imread qt filename qtimg Q Image if not qtimg filename raise I O Error 'nabletoloadfile % filename if qtimg 1 raise I O Error '1-bitimagescurrentlynotsupported' arrayptr qtimg bytes per pixel qtimg // 8 pixels per line qtimg Per Line // bytes per pixel img size pixels per line * qtimg * bytes per pixel arrayptr img size img np arrayptr if bytes per pixel > 1 img img qtimg pixels per line bytes per pixel img img qtimg ]else img img qtimg pixels per line img img qtimg ]if bytes per pixel 4 and not qtimg Alpha Channel img img 2 -1 ]elif bytes per pixel 4 img 0 3] img 2 -1 ]return img 
def create txt response name txt records return dns text list name 60 'IN' 'TXT' txt records 
def preprocess on cluster sff fps log fp fasta fp None out fp '/tmp/' squeeze False verbose False primer STANDARD BACTERIAL PRIMER cmd 'denoiser preprocess % ' '.join sff fps log fp out fp if fasta fp cmd + '-f%s' % fasta fp if squeeze cmd + '-s'if verbose cmd + '-v'if primer cmd + '-p%s' % primer submit jobs [cmd] 'pp ' + make tmp name 6 wait for file out fp + '/prefix mapping 10
def assert Undefined Comparison test Case s1 s2 test Case False s1 s2 test Case False s1 < s2 test Case False s1 < s2 test Case False s1 > s2 test Case False s1 > s2 
def organisation needs skill s3 lambda r r 'options' and r 's3json' return s3 rest controller 
@salt.utils.decorators.depends 'time' fallback function  fallbackfunc def depends will not fallback ret {'ret' True 'time' time }return ret 
def Join Path stem '' *parts parts [mart Unicode path for path in parts stem + Normalize Path u parts .replace '//' '/' result result '/' return result or '/'
def qualname func  blah pass 
def crc string return '%08x' % binascii string 'utf-8' & 4294967295
def  jinja env loader jinja2 Package Loader 'cubes' 'templates' env jinja2 Environment loader loader return env 
def unique id token id return cms hash token token id 
def retry facebook invite modeladmin request queryset invites list queryset user invites defaultdict list for invite in invites user invites invite for user invites in user invites profile get profile user graph profile offline graph if not graph error message 'couldntconnecttothegraph useraccesstokenis % profile token messages request error message continuelogger 'gotgraph%sforuser%s retrying graph user len invites for invite in invites invite result invite graph message 'ser % user invite result id not invite result if invite result message + 'goterror%s' % invite result message messages request message profile invite denormalizations profile 
def get default domain request get name True domain id request 'domain context None domain name request 'domain context name None if V E R S I O N S > 3 and domain id is None domain id request domain iddomain name request domain nameif get name and not request federated try domain domain get request domain id domain name domain exceptions Not Authorized L O G 'annotretrievedomaininformationforuser %s thatdoesnothaveanadminroleonproject %s ' % request request name except Exception L O G 'nabletoretrieve Domain %s' % domain id domain base A P I Dict Wrapper {'id' domain id 'name' domain name return domain 
def  print baremetal nodes list nodes def  parse address fields macs []for interface in fields macs interface return ' '.join '%s' % i for i in macs formatters { A C Address  parse address translate baremetal node keys nodes utils list nodes ['ID' 'ost 'ask State ' P Us 'emory MB' 'isk GB' ' A C Address ' M Address ' M Username ' M Password 'erminal Port formatters formatters 
def  time from json value field if  not null value field return  time from iso8601 time naive value 
def flagsmaildir2imap maildirflaglist retval []for imapflag maildirflag in flagmap if maildirflag in maildirflaglist retval imapflag return ' ' + ''.join sorted retval + ' '
def  load coverage F header length 6 dtype np header [ for i in range header length ]make tuple lambda t t [0] float t [1] header dict [make tuple line for line in header M np F dtype dtype nodata int header N O D A T A value if nodata ! -9999 M -9999 return M
def loopback U N I X server client noisy True path tempfile from twisted import reactorf policies Wrapping Factory protocol Factory server Wrapper  Fire On Close f server f noisyf Protocol lambda addr server Wrapper server Port reactor U N I X path f client F Loopback Client Factory client client F noisyreactor U N I X path client F d client F Callback lambda x server Wrapper d Callback lambda x server Port Listening return d 
def get user diff ipa user module user result []sshpubkey Noneif 'ipasshpubkey' in module user module user [get ssh key fingerprint pubkey for pubkey in module user module user module user key in module user mod value module user key None ipa value ipa user key None if isinstance ipa value list and not isinstance mod value list mod value [mod value isinstance ipa value list and isinstance mod value list mod value sorted mod value ipa value sorted ipa value if mod value ! ipa value result key if sshpubkey is not None del module user user sshpubkeyreturn result 
def get Random Complex begin end end Minus Begin end - begin return begin + complex random * end Minus Begin random * end Minus Begin 
def diff encode line transform coords [transform x y for x y in line zip coords ] coords ] diffs [ x2 - x1 y2 - y1 for x1 y1 x2 y2 in pairs coords 1] + [ x y for x y in diffs if x y ! 0 0 ]
def chunked iterable n iterable iter iterable while 1 t tuple islice iterable n if t yield t else return 
def update parent status doc if doc type ! u Communication returnparent doc parent doc if not parent returnstatus field parent field u if status field options status field or u .splitlines if u Replied in options to status u Open if doc or received u Received else u Replied if to status in options parent set u to status update mins to first communication parent doc parent method u communication doc parent update 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def edge betweenness centrality subset G sources targets normalized False weight None b dict G 0.0 b dict G 0.0 for s in sources if weight is None S P sigma shortest path G s else S P sigma dijkstra G s weight b  accumulate edges subset b S P sigma s targets for n in G del b  rescale e b len G normalized normalized directed G directed return b 
def is known type item return isinstance item Masked Array or get type string item is not None 
def modify cache cluster name wait 600 security groups None region None key None keyid None profile None **args if security groups if not isinstance security groups list security groups [security groups   salt  ['boto secgroup to group ids groups security groups region region key key keyid keyid profile profile if 'ecurity Group Ids not in args args Security Group Ids [ecurity Group Ids + sgsargs dict [ k v for k v in args if not k '_' ] return  modify resource name name param 'ache Cluster Id desc 'cachecluster' res type 'cache cluster wait wait status param 'ache Cluster Status region region key key keyid keyid profile profile **args
def pythonize path path return path '/' '.'
def Cluster Controller *args **kwargs controller Controller *args **kwargs Intf 'eth0' node controller . P return controller 
def  get Accessible Attribute attribute Name if attribute Name in global Accessible Attribute Dictionary return global Accessible Attribute Dictionary Name None 
def to bool input default False if input is None value defaultelse int value to int input default None if int value is None value defaultelse value bool int value return value 
def register cmap name None cmap None data None lut None if name is None try name cmap Attribute Error raise Value Error u Argumentsmustincludeanameora Colormap if not cbook string like name raise Value Error u Colormapnamemustbeastring if isinstance cmap colors Colormap cmap d cmapreturnif lut is None lut mpl Params colors Linear Segmented Colormap name data lut cmap d cmap 
def quarter plot x dates None ylabel None ax None from pandas import Data Frameif dates is None from statsmodels import  check period index check period index x freq 'Q' else from pandas import Series Period Indexx Series x index Period Index dates freq 'Q' xticklabels ['q1' 'q2' 'q3' 'q4']return seasonal plot x lambda y y xticklabels ylabel ylabel ax ax 
def  cache lockfuncs global  LOCKFUNCS LOCKFUNCS {}for modulepath in settings L O C K FUNC MODULES  L O C K F U N C S utils from module modulepath 
def arma impulse response ar ma nobs 100 impulse np nobs impulse 1.0return signal ma ar impulse 
def valid subscribe topic value invalid chars '\x00' if isinstance value str and all c not in value for c in invalid chars return vol Length min 1 max 65535 value raise vol Invalid 'nvalid M Q T Ttopicname 
@track state change device tracker E N T I T Y ID ALL DEVICES def track devices hass entity id old state new state if not TARGET ID returnif new state STATE HOME and not core on hass TARGET ID core on hass TARGET ID elif new state STATE NOT HOME and core on hass TARGET ID core off hass TARGET ID
@testing.requires testing data freesurfer nibabel def test read volume from src aseg fname op subjects dir 'sample' 'mri' 'aseg.mgz' labels vol [eft Amygdala 'rain Stem 'ight Amygdala read source spaces fname vol src setup volume source space 'sample' mri aseg fname pos 5.0 bem fname bem volume label labels vol subjects dir subjects dir src + vol srcvolume src get volume labels from src src 'sample' subjects dir volume label volume src label 'eft + volume label '-lh' '' assert equal volume label src name assert equal src 'vol'
def mssql old passwd password salt uppercase True binsalt hexdecode salt unistr ''.join map lambda c '%s\x00' if ord c < 256 else '%s' % utf8encode c password ret Val '0100%s%s%s' % salt sha1 unistr + binsalt .hexdigest sha1 unistr + binsalt .hexdigest return '0x%s' % ret Val if uppercase else ret Val 
def  make masked array data mask if len data return ma np data mask np mask dtype u else return ma np data 
def is image sharable context image **kwargs if context admin return Trueif context is None return Falseif context image return Trueif 'membership' in kwargs member kwargs member is None return Falseelse members image member find context image id image member context if members member members return Falsereturn member share 
def get token host port headers auth data url api url host port 'sers Authenticate By Name r requests url headers headers data auth data return r .get 'ccess Token 
def in6 getifaddr ret []i dnet for int in i ifname int []if int key 'alias addrs v6 int addrs a in v6 if a ! dnet A D D R TYPE IP6 continuexx str a .split '/' [0]addr scapy ptop xx scope scapy getscope addr ret xx scope ifname return ret 
def twinx ax None if ax is None ax gca ax1 ax draw if interactive return ax1 
def maybe s to ms v return int float v * 1000.0 if v is not None else v 
def stringc text color if ANSIBLE COLOR return '\n'.join [ u % code Codes t for t in text '\n' ] else return text 
def timestamp I D db table t int Time 1000 while db 'selectidfrom%swhereid ?' % table t t + 1return t 
def  get terminal size tput try cols int subprocess call shlex 'tputcols' rows int subprocess call shlex 'tputlines' return cols rows except pass 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
@pytest.fixture scope 'function' def httpbin secure untrusted monkeypatch httpbin secure monkeypatch 'REQUESTS CA BUNDLE' return httpbin secure 
@commands u @example u //example.com' def meetinglink bot trigger if not ismeetingrunning trigger bot u Can startmeetingfirst returnif not trigger 2 bot u returnif not ischair trigger trigger bot u Onlymeetingheadorchairscandothat returnlink trigger 2 if not link u link u //' + link try title find title link verify bot ssl except title u u L I N K %s[%s]' % link title trigger log H T M L listitem u "%s">%s</a>' % link title trigger bot u L I N K ' + link 
def is instance obj klass return issubclass type obj klass 
def is ubuntu if sys 'linux' and osp '/etc/lsb-release' release info open '/etc/lsb-release' .read if 'buntu in release info return Trueelse return Falseelse return False 
def Netsh Static Ip interface ip u subnet u gw u args ['/c' 'netsh' 'interface' 'ip' 'set' 'address' interface 'static' ip subnet gw '1']res client utils common Execute 'cmd' args time limit -1 bypass whitelist True return res 
def signal signal None valid signals {'forcestop' 'stop-force' 'securestart' 'start-security' 'start' 'start' 'stop' 'stop'}if signal not in valid signals returncmd '{0}/bin/catalina.sh{1}'.format   catalina home valid signals   salt  ['cmd.run'] cmd 
def as int n try result int n if result ! n raise Type Errorexcept Type Error raise Value Error '%sisnotaninteger' % n return result 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def default export transform value if value is None return u return unicode value 
def write pnm file width height pixels meta bitdepth meta 2 ** bitdepth - 1 planes meta planes in 1 2 3 4 if planes in 1 3 if 1 planes fmt '5 fmt '6 '%s%d%d%d\n' % fmt width height maxval if planes in 2 4 if 2 planes tupltype 'GRAYSCALE A L P H A tupltype 'RGB A L P H A '7 W I D T H H E I G H T D E P T H M A X V A L T U P L T Y P E E N D H D R % width height planes maxval tupltype vpr planes * width fmt '>%d' % vpr if maxval > 255 fmt fmt + 'H' else fmt fmt + 'B' for row in pixels file struct fmt *row file 
def list unsubscribe t owner slug get slug try t slug slug owner screen name owner print Nicely green 'one except debug option print Nicely light magenta " 
@click.command 'download-translations' def download translations from bench import download translations pdownload translations p 
def get ips linode id None if linode id ips  query 'linode' 'ip.list' args {inode I D linode id else ips  query 'linode' 'ip.list' ips ips D A T A {}for item in ips node id str item L I N O D E I D if item I S P U B L I C 1 key 'public ips key 'private ips ret node id is None ret {node id {'public ips [] 'private ips []}} ret id item I P A D D R E S S if linode id  all ips {'public ips [] 'private ips []}matching id ret str linode id if matching id  all ips ips matching id ips all ips ips matching id ips  all ipsreturn ret 
def get tests modules basepath this dir path gui True packages None py ext '.py'for dirpath dirnames filenames in os basepath for dirname in list dirnames if dirname '.' dirnames dirname if is package dirpath and filenames pkg name dirpath len basepath + len os ].replace '/' '.' if packages and pkg name not in packages continuefilenames filter lambda x x 'test ' and x py ext filenames for name in filenames try yield importlib module '.%s.%s' % pkg name name - len py ext ] 'tkinter.test' except test Resource Denied if gui raise 
def y1p zeros nt complex False if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'rgumentsmustbescalarpositiveinteger kf 2kc not complex return specfun nt kf kc 
def find candidates in parent dirs filenames path candidates [filename for filename in filenames if os os path filename ]if not candidates parent dir os path u if os parent dir ! os path return find candidates in parent dirs filenames parent dir return candidates path 
def get year and month format locale return locale year and month formats locale u M M My 
def  activities about user query user id import ckan as modelq model Session model Activity q q model Activity id user id return q 
def  execute tasks tasks batch size 24 remaining tasks [] + tasks currently running tasks set [] while remaining tasks or currently running tasks if currently running tasks for task in list currently running tasks task 1 if not task Alive currently running tasks task while remaining tasks and len currently running tasks < batch size task remaining tasks currently running tasks task task task time time time 5 if remaining tasks log '----------------------------------------' log 'umberofunstartedtasks %s' % len remaining tasks  check all tasks tasks log '----------------------------------------'
@treeio login required response format process mass formdef index request response format 'html' if request G E T filters Filter Form request G E T if filters valid query  get filter query request G E T else query Q else query Q filters Filter Form events Object by request request Event query context  get default context request context {'events' events 'filters' filters return render to response 'events/index' context context instance Request Context request response format response format 
def mean input labels None index None count sum  stats input labels index return sum / numpy count .astype numpy 
def  get oauth2 client id and secret settings instance secret json getattr settings instance 'GOOGLE OAUTH2 CLIENT SECRETS JSON' None if secret json is not None return  load client secrets secret json else client id getattr settings instance 'GOOGLE OAUTH2 CLIENT ID' None client secret getattr settings instance 'GOOGLE OAUTH2 CLIENT SECRET' None if client id is not None and client secret is not None return client id client secret else raise exceptions Improperly Configured 'ustspecifyeither G O O G L E OAUTH2 CLIENT SECRETS JSON orboth G O O G L E OAUTH2 CLIENT I Dand G O O G L E OAUTH2 CLIENT S E C R E Tinsettings 
def withparent meth def wrapped self *args **kwargs res meth self *args **kwargs if getattr self 'parent' None is not None getattr self meth  name   *args **kwargs return reswrapped  name   meth  name  return wrapped 
def generate presigned post self Bucket Key Fields None Conditions None Expires In 3600 bucket Bucketkey Keyfields Fieldsconditions Conditionsexpires in Expires Inif fields is None fields {}if conditions is None conditions []post presigner S3 Post Presigner self request signer serializer self serializeroperation model self model model 'reate Bucket request dict serializer to request {ucket bucket operation model prepare request dict request dict endpoint url self url conditions {'bucket' bucket if key '${filename}' conditions ['starts-with' '$key' key - len '${filename}' ]] else conditions {'key' key fields keyreturn post presigner presigned post request dict request dict fields fields conditions conditions expires in expires in 
def get first id lines result set for line in lines if line '>' result line ].split [0] return result 
@utils.arg '--hypervisor' metavar '<hypervisor>' default None help _ 'ypeofhypervisor def do agent list cs args result cs args columns [gent id 'ypervisor 'OS' 'rchitecture 'ersion 'd5hash 'rl list result columns 
def prox l1 Y alpha n orient n positions Y // n orient norms np Y * Y . -1 n orient .sum axis 1 shrink np 1.0 - alpha / np norms alpha 0.0 shrink shrink -1 n positions .active set np shrink > 0.0 axis 1 shrink shrink set n orient > 1 active set np active set None [1 n orient .ravel Y Y set len Y > 0 for o in range n orient Y n orient * shrinkreturn Y active set 
def serialize Transform transform Obj return ''.join [ command + ' ' + ''.join [nitless Length number for number in numbers + ' ' for command numbers in transform Obj 
def test constructed module Module Type type sys Top Module Module Type 'op Module sys Top Module Top Module Sub Module Module Type 'ub Module Sub Module Object object Top Module Sub Module Sub Moduletry import Top Module Sub Module Assert Unreachable except Import Error passdel sys Top Module 
def gammamomentcond distfn params mom2 quantile None def cond params alpha scale paramsmom2s distfn alpha 0.0 scale return np mom2 - mom2s return cond 
def  default locale fallback request document slug document locale fallback doc Noneredirect url Nonefallback reason Nonetry fallback doc Document locale settings W I K I DEFAULT LANGUAGE slug document slug translation fallback doc to document locale if translation and translation revision url translation absolute url redirect url urlparams url query dict request G E T elif translation and fallback doc revision fallback reason 'translation not approved fallback doc revision fallback reason 'no translation Document Does Not Exist passreturn fallback doc fallback reason redirect url 
def allow unvouched function  set attribute func function ' allow unvouched True return function 
def Is Blank Line line return not line or line 
def send process return s3db send process 
def network create request **kwargs L O G 'network create kwargs %s' % kwargs body {'network' kwargs quantumclient request .create network body body .get 'network' return Network network 
def cityblock u v u  validate vector u v  validate vector v return abs u - v .sum
def Sample Sum dists n pmf Pmf Random Sum dists for i in range n return pmf 
def textile value try import textileexcept Import Error warnings "he Pythontextilelibraryisn Runtime Warning return valuereturn textile force text value encoding 'utf-8' output 'utf-8'
def window by index idx if not window registry raise No Window else key sorted window registry [idx]return window registry 
def  get email config intent require valid intent intent return config domain Registry config property feconf V A L I D MODERATOR A C T I O N S config 
def sum squares expr return quad over lin expr 1
def get warning statistics return get statistics 'W'
def get from identity session key passive instance session map key if instance is not None state attributes state instance if state if not passive & attributes S Q L OK return attributes P A S S I V E NO R E S U L Telif not passive & attributes R E L A T E D OBJECT OK return instancetry state load expired state passive except orm exc Object Deleted Error session remove newly deleted [state] return Nonereturn instanceelse return None 
def p empty t pass 
def build graph ifilenames graph num threads 1 tags False if tags eat graph fasta and tag with reads parserelse eat graph fasta with reads parserfor _ ifile in enumerate ifilenames rparser khmer Read Parser ifile threads []for _ in range num threads cur thread threading Thread target eat args rparser threads cur thread cur thread for thread in threads thread 
def assert all finite X  assert all finite X if sp X else X
def get course and check access course key user depth 0 if not has studio read access user course key raise Permission Denied course module modulestore .get course course key depth depth return course module 
@ile System directory current directory 'django' 'grocery' def test django admin media serving on django 125 os P Y T H O N P A T H '%s %s' % File System lib directory 'jango OLD PYTHONPATH status out commands 'pythonmanage.pyharvest--verbosity 2./features/' assert equals status 0 out lines out f '\n\n'f + '*' * 100 f + '\n' + '\n'.join lines assert u Preparingtoservedjango in lines fassert u Django 7000" in lines fassert u Runningonport7000 O K in lines fassert u Fetchingadminmedia O K in lines fassert u Fetchingstaticfiles O K in lines fassert u Fetching C S Sfiles ...OK' in lines fassert u Fetchingjavascriptfiles ...OK' in lines f 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def generate fake facility groups names 'lass4 E 'lass5 B facilities None if not facilities facilities generate fake facilities facility groups []for facility in facilities for name in names found facility groups Facility Group facility facility name name if found facility groups facility group found facility groups "etrievedfacilitygroup % name else facility group Facility Group facility facility name name facility group logging "reatedfacilitygroup % name facility groups facility group return facility groups facilities 
def backwards move org source apps schema editor Remote Organization apps model u u Remote Organization Social Account apps model u u Social Account for account in Social Account rows account organizations account None source account 
def parse startup pkt values []plen endian int pkt 4] pkt pkt ]tmp ''for i in xrange plen - 8 tmp + pkt 'hex' if pkt '00' values tmp tmp ''return values 
def get Is Path Entirely Outside Triangle begin center end vector3 Path loop [xis center Axis end Axis ]for vector3 in vector3 Path point vector3 Axis if euclidean Point Inside Loop loop point return Falsereturn True 
def mapping data source geom name 'geom' layer key 0 multi geom False if isinstance data source str data source Data Source data source elif isinstance data source Data Source passelse raise Type Error 'atasourceparametermustbeastringora Data Sourceobject  mapping {}for field in data source key mfield field if mfield -1 ] '_' mfield + 'field' mapping fieldgtype data source key typeif multi geom gtype multi  mapping name str gtype .upper return  mapping 
def test replace long type replaced replace hy obj long type 0 Hy Integer 13 assert replaced Hy Integer 0
def is Added Point On Path Intersecting Path begin path point point Index segment point - begin segment Length abs segment if segment Length < 0.0 return Falsenormalized Segment segment / segment Length segment Y Mirror complex normalized Segment - normalized Segment point Rotated segment Y Mirror * point begin Rotated segment Y Mirror * begin if euclidean X Segment Intersecting Path path 0 point Index - 20 point Index point Rotated begin Rotated segment Y Mirror point Rotated return Truereturn euclidean X Segment Intersecting Path path point Index + 1 point Index + 21 ] point Rotated begin Rotated segment Y Mirror point Rotated 
def get Debugging return Deferred 
def Get Type Checker field if field type  Field Descriptor C P P T Y P E STRING and field  Field Descriptor T Y P E STRING return Unicode Value Checker if field type  Field Descriptor C P P T Y P E ENUM return Enum Value Checker field type return  VALUE C H E C K E R S type 
def update named ports mig named ports changed Falseexisting ports []new ports []if hasattr mig group 'named ports existing ports sorted mig group ports key lambda x x if named ports is not None new ports sorted named ports key lambda x x if existing ports ! new ports if mig group named ports named ports changed Truereturn changed 
def clean Polygon elem options global num Points Removed From Polygonpts parse List Of Points elem Attribute 'points' N len pts / 2 if N > 2 startx starty pts 2] endx endy pts -2 ]if startx endx and starty endy del pts -2 ]oints Removed From Polygon + 1ttribute 'points' scour Coordinates pts options True 
def umask use sudo False func use sudo and run as root or run return func 'umask'
def  get comment and context request comment id try cc comment Comment id comment id .retrieve _ context  get thread and context request cc comment id return cc comment context except Comment Client Request Error raise Comment Not Found Error 'ommentnotfound 
def mock software secure post error url headers None data None **kwargs response requests Response response code 400return response 
def str decode arr encoding errors 'strict' if encoding in  cpython optimized decoders f lambda x x encoding errors else decoder codecs encoding f lambda x decoder x errors [0] return  na map f arr 
def make Extension *args **kwargs return Super Fences Code Extension *args **kwargs
def fix headers soup data header rows soup all 'th' for t in header rows if 'ersion ' in t if t sibling 'evision t if t sibling '' t if 'ast Modified ' in t if 'ate in t sibling t if t sibling '' t if t 'itle ' data t sibling t 'ontent Type ' t if 'ersion ' in t and 'N/A' in t sibling t return soup data 
def get configuration url name urls configuration helpers value 'urls' default {} return urls name or EMPTY URL
@conference signals user created queue osf4m welcome email user conference node root node addon 'osfstorage' .get root root children [child for child in root if child file mail to addr user mail mails W E L C O M E OSF4M send at timezone + settings W E L C O M E OSF4M WAIT TIME user user conference conference fullname user fid root children id if len root children else None 
def split filenames format string shards parsed formats parser format string sizes [files.stat filename .st size for filename in filenames per shard float sum sizes / shards if not size per shard returnif parsed formats split return  deep split filenames size per shard parsed formats else return  shallow split filenames size per shard parsed formats sizes 
def  getargs func import typesif sys info > 3 0 if isinstance func types Method Type func func  func  co func  code  else if isinstance func types Method Type func func funcco func codereturn co varnames co argcount 
def output Redirect Start err To Out False global STDOUT T E M Pglobal STDERR TEMPSTDOUT TEMP open 'ip session 'w' sys STDOUT T E M Pif err To Out STDERR TEMP STDOUT T E M Pelse STDERR TEMP open 'ip session stderr 'w' sys STDERR TEMP
def no dipy global HAVE D I P Yreturn not HAVE DIPY
def test assumptions m n symbols 'mn' integer True positive True diof diophantine n ** 2 + m * n - 500 assert diof set [ 5 20 40 10 95 5 121 4 248 2 499 1 ] a b symbols 'ab' integer True positive False diof diophantine a * b + 2 * a + 3 * b - 6 assert diof set [ -15 -3 -9 -4 -7 -5 -6 -6 -5 -8 -4 -14 ]
def get maintenance if not database return Nonemaintenance state database one {'maintenance' True if maintenance state return {'start' maintenance state 'start' 'end' maintenance state 'end' }else return None 
def  has Substring key text escaped Key re key return bool re '\\W' + escaped Key + '\\W' text 
def convert tokens tokens if tokens 'one return Noneelif isinstance tokens basestring or not isinstance tokens collections Iterable return tokenselif isinstance tokens dict return {convert tokens k convert tokens v for k v in tokens }else return [convert tokens v for v in tokens 
def  should send email self try return self profile .should send emailexcept Profile Does Not Exist return True 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def textile value try import textileexcept Import Error warnings "he Pythontextilelibraryisn Runtime Warning return valuereturn textile force text value encoding 'utf-8' output 'utf-8'
@egister Gradient 'ariable L S T M def  variable lstm grad op act grad gate grad mem grad initial state op memory op m m op op raw act op op rnn lstm grad initial state initial memory w m m act gate raw act memory act grad gate grad mem grad 
def demultiplex sequences file data keep barcode False barcode type 'golay 12' max bc errors 1.5 start index 1 write unassigned reads False disable bc correction False added demultiplex field None header mapping data check map file data file barcode type added demultiplex field ids bcs added field get ids bcs added field header mapping data barcode type added demultiplex field bc lens get bc lens ids bcs added field all bcs [curr bc for curr bc in ids bcs added field ] log data bc freqs seq counts corrected bc count assign seqs file data ids bcs added field bc lens all bcs keep barcode barcode type max bc errors start index write unassigned reads disable bc correction added demultiplex field return log data bc freqs seq counts corrected bc count 
def user home request return shortcuts horizon user home request 
def suite Visit suite visitor warnings 'estvisitorsdeprecatedin Twisted8 category Deprecation Warning for case in suite tests visit getattr case 'visit' None if visit is not None visit visitor elif isinstance case pyunit Test Case case itrial I Test Case case case visitor elif isinstance case pyunit Test Suite suite Visit case visitor else case visitor 
def get public modules path base package None result []for subdir _ files in os path if any [part.startswith '_' for part in subdir os ] continue _ rel dir subdir path rel dir rel dir os for filename in files if is valid module filename mod name _ os filename rel path os rel dir mod name if base package is not None rel path os base package rel path rel path rel path os '.' if mod name '  init  ' result rel path - len '.  init  ' ] else result rel path return result 
def Query Value Ex key value name regqueryvalueex advapi32 Reg Query Value Ex W ctypes longregqueryvalueex [ctypes.c void p ctypes wchar p LPDWORD LPDWORD LPBYTE L P D W O R D 256data type ctypes D W O R D while True tmp size ctypes D W O R D size buf ctypes string buffer size rc regqueryvalueex key value name LPDWORD ctypes data type ctypes buf LPBYTE ctypes tmp size if rc ! ERROR MORE DATA breakif size > 10 * 1024 * 1024 raise exceptions Windows Error 'aluetoobigtobereadby G R R size * 2if rc ! ERROR SUCCESS raise ctypes Win Error 2 return Reg2 Py buf tmp size data type data type 
def get testfile path name return os os os   file   name 
def denoise nl means image patch size 7 patch distance 11 h 0.1 multichannel None fast mode True if multichannel is None warn 'denoise nl meanswilldefaulttomultichannel Falseinv0 multichannel Trueif image 2 image image np Trueif image ! 3 raise Not Implemented Error 'on Dgrayscaleand R G Bimagesor3 Dgrayscaleimages if multichannel if fast mode return np np  fast nl means denoising 2d image patch size patch distance h else return np np  nl means denoising 2d image patch size patch distance h elif fast mode return np  fast nl means denoising 3d image s patch size d patch distance h h else return np  nl means denoising 3d image patch size patch distance h 
def default serialize error req resp exception representation Nonepreferred req prefers 'application/xml' 'text/xml' 'application/json' if preferred is None accept req if '+json' in accept preferred 'application/json'elif '+xml' in accept preferred 'application/xml'if preferred is not None if preferred 'application/json' representation exception json else representation exception xml resp representationresp type preferred + ';charset UTF-8' resp header 'ary 'ccept 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver def do reset network cs args  find server cs args .reset network 
def get theme dirs themes dir None return [ dir for  dir in os themes dir if is theme dir themes dir /  dir ]
@register.tag 'get current timezone def get current timezone tag parser token args token if len args ! 3 or args ! 'as' raise Template Syntax Error "'get current timezone got " % args return Get Current Timezone Node args 
def create eq lh op rh op None constr id None if constr id is None constr id get id expr get constr expr lh op rh op return Lin Eq Constr expr constr id lh op 
@socketio.on 'connect' namespace '/home' def on connect home pass 
def is isomorphic T1 T2 T1 np T1 order 'c' T2 np T2 order 'c' if type T1 ! np raise Type Error '1mustbeanumpyarray if type T2 ! np raise Type Error '2mustbeanumpyarray T1S T1 T2 S T2 len T1S ! 1 raise Value Error '1mustbeone if len T2S ! 1 raise Value Error '2mustbeone if T1S[0] ! T2S[0] raise Value Error '1and T2musthavethesamenumberofelements n T1 S {}d2 {}for i in xrange 0 n if T1 in d1 if not T2 in d2 return Falseif d1 T1 ! T2 or d2 T2 ! T1 return Falseelif T2 in d2 return Falseelse d1 T1 T2 T2 T1 True 
def download plugin file  global PLUGIN E X T E N S I O Nplugins installed before set   get all plugin descriptors file Name os resources P L U G I N S os file  content urlopen file  f open file Name u f content f zip File zipfile Zip File file Name u zip File resources P L U G I N S zip File os file Name plugins installed after set   get all plugin descriptors new plugin plugins installed after - plugins installed before .pop return new plugin 
def test skip duplicates by default testdir a testdir 'a' fh a 'test a fh  pytest code Source '\nimportpytest\ndeftest real \npass\n' result testdir a a result lines ['*collected1item*']
def quick sort collection total elements len collection if total elements < 1 return collectionless []equal []greater []pivot collection pivot for i in range 1 total elements element collection element < pivot less element elif element pivot equal element else greater element return quick sort less + equal + quick sort greater 
def test sobel h vertical i j np -5 6 -5 6]image j > 0 .astype float * np 2 result filters h image assert allclose result 0 atol 1e-10
def schema list dbname db user None db password None db host None db port None ret {}query ''.join [ E L E C Tpg namespace pg namespace pg roles F R O Mpg namespace L E F T J O I Npg roles O Npg roles pg namespace rows psql query query host db host user db user port db port maintenance db dbname password db password for row in rows retrow {}for key in 'owner' 'acl' retrow row retrowreturn ret 
def binom tost count nobs low upp tt1 binom test count nobs alternative 'larger' prop low tt2 binom test count nobs alternative 'smaller' prop upp return np tt1 tt2 tt1 tt2 
def k crust G k None core number None if core number is None core number find cores G if k is None k max core number - 1 nodes v for v in core number if core number < k return G nodes .copy
def serialize object obj if getattr obj 'to dict None value obj dict elif getattr obj 'to serializable dict None value obj serializable dict mask secrets True else value repr obj return value 
def  has distortion wcs return any getattr wcs dist attr is not None for dist attr in [u'cpdis1' u u u u 
def get ipython from I Python import Interactive Shellif Interactive Shell return Interactive Shell 
def push session document session id None url 'default' app path '/' io loop None coords  Session Coordinates dict session id session id url url app path app path session Client Session session id coords id websocket url coords url io loop io loop session document return session 
@with setup step runner environ def test ignore case on step definitions f Feature string FEATURE3 feature result f scenario result feature result results equals len scenario result passed 3 assert equals scenario result steps 3 assert all [s.has definition for s in scenario result 
def generic passthrough kodi set results try setting value results Index Error setting value Nonereturn setting value 
def  dup left decompose f h K g i {} 0 while f q r dup div f h K if dup degree r > 0 return Noneelse g dup LC r K f i q i + 1 return dup from raw dict g K
def set security groups mounttargetid securitygroup keyid None key None profile None region None **kwargs client  get conn key key keyid keyid profile profile region region client mount target security groups Mount Target Id mounttargetid Security Groups securitygroup 
def warn msg stacklevel 3 if isinstance msg compat types warnings msg exc S A Warning stacklevel stacklevel else warnings msg stacklevel stacklevel 
def db replace record obj if isinstance obj collections Mapping for k v in six obj if isinstance v api Command obj v isinstance obj collections Sequence and not isinstance obj six types for i v in enumerate obj if isinstance v api Command try obj v Type Error return type obj getattr v 'result' v for v in obj elif isinstance obj api Command obj obj obj 
def  download args options return dict version options download base options base downloader factory options factory to dir options dir 
def vmware path datastore datacenter path path '/folder/%s' % path '/' datacenter datacenter '&' '%26' if not path '/' path '/' + path params dict ds Name datastore if datacenter params Path datacenterparams urllib params return '%s?%s' % path params 
def pretty depth depth np depth 0 2 ** 10 - 1 depth depth >> 2depth depth np return depth 
def drop db name **client args if not db exists name **client args log " B name return Falseclient  client **client args client database name return True 
def format binary sff as fna sff file output file None qual False if output file is None output file String I O _ reads parse binary sff sff file for read in reads output file format read as fna read qual return output file 
def compute mul tree neg inputs treeif inputs is None raise Assertion Error 'unction mul didyouforgettocall mul elif isinstance inputs list rval tensor *list map compute mul inputs else rval inputsif neg rval - rval return rval 
def wildcards overlap name1 name2 if not name1 and not name2 return Trueif not name1 or not name2 return Falsefor matched1 matched2 in  character matches name1 name2 if wildcards overlap name1 ] name2 ] return Truereturn False 
def  mouse click event params if event ! 1 returnif event is None if params channels > 100 returnax params ax ylim pos ax Data .transform event event if pos > params start or pos < 0 or pos > ylim returnparams click fun pos if event params vscroll if 'fig selection in params  handle change selection event params else ch start max int event - params channels // 2 0 if params start ! ch start params start ch startparams fun elif event params hscroll  plot raw time event - params / 2 params params fun params fun elif event params params bads fun event 
def user can delete review request review is editor acl reviewer request is author review author request return review id request or not is author and is editor or acl allowed request 'sers 'dit or acl allowed request 'pps 'oderate Review 
def assert Contains All haystack needles test case for needle in reversed needles if needle in haystack needles needle if needles test case '{haystack}didnotcontain{needles}'.format haystack haystack needles needles 
def le a b return a < b 
def hamming M sym True if  len guards M return np M M needs trunc  extend M sym w  cos win M [0.54 0.46] return  truncate w needs trunc 
def get page from path path preview False draft False try return get page queryset from path path preview draft .get except Page Does Not Exist return None 
def lineage for certname config certname def update cert for name match candidate lineage rv 'eturncertifithasnamecertname elsereturnrv lineage name cert rvif candidate lineage certname matching lineage name cert candidate lineagereturn matching lineage name certreturn  search lineages config update cert for name match None 
def add Loops X Segment Intersections line Loops Intersections loops segment First X segment Second X segment Y Mirror y for loop in loops add Loop X Segment Intersections line Loops Intersections loop segment First X segment Second X segment Y Mirror y 
def sort by announcement courses key lambda course course score courses sorted courses key key return courses 
def test download wheel archive script data wheel filename 'colander-0.9.9-py2.py3-none-any.whl'wheel path os data links wheel filename result script 'download' wheel path '-d' '.' '--no-deps' assert Path 'scratch' / wheel filename in result created 
def update chain graph loc du ud ins graph ins from loc loc for var in ins used vars for def loc in set ud var loc ] du var def loc ].remove loc ud var loc ].remove def loc if not ud var loc ud var loc if def loc > 0 and not du var def loc ] du var def loc def ins graph ins from loc def loc if def ins call def ins defined var elif def ins side effect continueelse update chain graph def loc du ud graph ins def loc 
def locked volume id operation f external False def lvo inner1 inst *args **kwargs lock tag inst prefixcall args inspect f inst *args **kwargs if call args 'volume' volume id call args call args 'snapshot' volume id call args err msg _ 'hedecoratedmethodmustaccepteitheravolumeorasnapshotobject raise exception Volume Backend A P I Exception data err msg @utils.synchronized '%s-%s' % lock tag volume id external external def lvo inner2 return f inst *args **kwargs return lvo inner2 return lvo inner1 
def Cancel Batch Job client batch job max poll attempts MAX POLL ATTEMPTS batch job service client Get Service 'atch Job Service 'v201605' batch job ' A N C E L I N G {'operator' 'SET' 'operand' batch job job service [operation] poll attempt 0while poll attempt in range max poll attempts and batch job ! 'CANCELED' sleep interval 30 * 2 ** poll attempt + random 0 10000 / 1000 print 'atch Jobnotfinishedcanceling sleepingfor % sleep interval time sleep interval batch job Get Batch Job client batch job poll attempt + 1if batch job 'CANCELED' print 'atch Jobwith I D % batch job else print 'atch Jobwith I D % batch job max poll attempts 
def label to bin mpls label is bos True return type desc Int3 user mpls label << 4 | is bos 
def  check pyenv ret user None if not   salt  ['pyenv.is installed user ret Falseret 'pyenvisnotinstalled.'return ret 
def  collection to search dict collection rights rights manager collection rights collection doc {'id' collection 'title' collection 'category' collection 'objective' collection 'language code collection code 'tags' collection 'rank'  get search rank collection }doc.update  collection rights to search dict rights return doc 
def Toggle Interactive Window if edit is None Create Interactive Window elif edit Need Recreate Window edit Recreate Window else Close Interactive Window 
def  powerlaw sequence gamma low high condition length max iters for i in range max iters seq []while not length seq seq  zipf rv below gamma low high if condition seq return seqraise nx Exceeded Max Iterations 'ouldnotcreatepowerlawsequence 
def Check Section Spacing filename clean lines class info linenum error if class info line - class info linenum < 24 or linenum < class info linenum returnmatched Match '\\s* public ' clean lines if matched prev line clean lines linenum - 1 ]if not Is Blank Line prev line and not Search '\\b class \\b' prev line and not Search '\\\\$' prev line end class head class info linenumfor i in range class info linenum linenum if Search '\\{\\s*$' clean lines end class head ibreakif end class head < linenum - 1 error filename linenum 'whitespace/blank line 3 '"%s "shouldbeprecededbyablankline' % matched 1
def get report view request dates Date Form data request G E T if not dates valid logger 'atesparsedwerenotvalid return {}if dates data 'start' and dates data 'end' return {'range' 'custom' 'start' dates data ' 'end' dates data ' }elif dates data 'last' return {'range' dates data 'last' str dates data + 'days' }logger.info 'issing return {}
def set eng float format accuracy 3 use eng prefix False set option 'display.float format Eng Formatter accuracy use eng prefix set option 'display.column space max 12 accuracy + 9
def get env init command package result 'gcloud' 'beta' 'emulators' package 'env-init' extra E X T R A package return result + extra 
def paging Request Type3 a L2 Pseudo Length l2p Length 19 b Tp Pd pd 6 c Message Type mes Type 36 d Page Mode And Channel Needed e Tmsi P Tmsi f Tmsi P Tmsi g Tmsi P Tmsi h Tmsi P Tmsi i P3 Rest Octets packet a / b / c / d / e / f / g / h / i return packet 
def  covar mstep diag gmm X responsibilities weighted X sum norm min covar avg X2 np responsibilities T X * X * norm avg means2 gmm  ** 2 avg X means gmm  * weighted X sum * norm return avg X2 - 2 * avg X means + avg means2 + min covar 
def Update Resources From Res File dstpath srcpath types None names None languages None res Get Resources srcpath types names languages Update Resources From Dict dstpath res 
def list startup disks ret salt utils return result 'systemsetup-liststartupdisks' return ret 
def topic subscription push client to delete TOPIC NAME 'topic subscription push %  millis SUB PUSH 'topic subscription push %  millis PUSH URL 'https //api.example.com/push-endpoint'topic client TOPIC NAME topic to delete topic subscription topic SUB PUSH push endpoint PUSH URL subscription subscription push configuration push endpoint None subscription push configuration push endpoint PUSH URL
def Add Round Key alg Instance key Block for column in range alg Instance Nb for row in range 4 alg Instance ^ key Block 
def  unsigned zero dtype assert dtype 'u' return 1 << dtype * 8 - 1
def libvlc media get mrl p md f  Cfunctions 'libvlc media get mrl None or  Cfunction 'libvlc media get mrl 1 string result ctypes void p Media return f p md 
def  unpack opargs code if sys info < 3 code list map ord code extended arg 0n len code offset i 0while i < n op code + CODE L E Nif op > HAVE ARGUMENT arg code | extended arg for j in range ARG LEN arg | code i + j ] << 8 * j i + ARG L E Nif op EXTENDED ARG extended arg arg << 8 * ARG LEN continueelse arg Nonei + NO ARG L E Nextended arg 0 yield offset op arg i offset i 
def  encode list name value check keys opts lname gen list name data ''.join [ name value to bson next lname item check keys opts for item in value return '\x04' + name +  PACK INT len data + 5 + data + '\x00'
def float to rational flt int part int flt error flt - int part if abs error < 0.0001 return int part 1 den num float to rational 1.0 / error return int part * den + num den 
def seeother url return redirect url 'ee Other 
def test theano rng rngs [make theano rng rng or seed 42 which method 'uniform' make theano rng rng or seed Random Streams 42 which method 'uniform' make theano rng default seed 42 make theano rng ]functions [theano.function [] rng size 100 for rng in rngs numbers functions equals numpy 100 for function in functions ] equal random numbers function equals * equalassert equals 
def compressed one hot labels dtype None out None simplify binary True mode 'stack' sparse False labels  validate labels labels ndim 1 labels  labels uniq np labels  for i e in enumerate uniq labels [ labels  e ] iif simplify binary and len uniq 2 return labels .reshape labels .shape[0] 1 uniq else return One Hot Formatter len uniq dtype dtype .format labels  mode mode sparse sparse uniq 
@command 'reverseall' def reverse playlist if g search query None None or 'func' not in g search query g content g 'oplaylistloaded list or func g search query callable songs list or func songs reversed songs list or func 0 None else songs reversed songs list or func paginatesongs list songs g c + 'eversedentireplaylist + c g content songlist display 
def  cmp by aspath path1 path2 as path1 path1 pattr BGP ATTR TYPE AS PATH as path2 path2 pattr BGP ATTR TYPE AS PATH assert as path1 and as path2 l1 as path1 as path len l2 as path2 as path len assert l1 is not None and l2 is not None if l1 > l2 return path2elif l2 > l1 return path1else return None 
def unite iterable return set chain iterable iterable 
def gitignore template language return gh template language 
def compile controllers folder path pjoin folder 'controllers' for fname in listdir path '.+\\.py$' data read file pjoin path fname exposed find exposed functions data for function in exposed command data + '\nresponse. vars response caller %s \n' % function filename pjoin folder 'compiled' 'controllers.%s.%s.py' % fname -3 ] function write file filename command save pyc filename os filename 
def file upload echo request r dict [ k f for k f in request F I L E S ] return Http Response json r 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def  default Sys Path Factory return sys 
def md5sum str user str if not isinstance user str basestring console exit 'otavalidbasestringtypetocalculatemd5 m md5 m user str return m 
def prefix validation error error prefix code params if error list [error] error params error or {} return Validation Error message format lazy '{}{}' Simple Lazy Object lambda prefix % params Simple Lazy Object lambda error % error params code code params dict error params **params return Validation Error [prefix validation error e prefix code params for e in error list 
def cc binary config append None **kwargs blade config config 'cc binary config append kwargs 
def  Add Configuration To M S V S p spec tools config config type config name attributes  Get M S V S Attributes spec config config type tool list  Convert Tools To Expected Form tools p Add Config  Config Full Name config name config attrs attributes tools tool list 
def ex mod init low if   salt  ['config.get'] 'ebuild.enforce nice config False   salt  ['portage config nice config return True 
def private key managed name bits 2048 passphrase None cipher 'aes 128 cbc new False verbose True **kwargs file args kwargs  get file args name **kwargs new key Falseif  check private key name bits passphrase new file args   salt  ['x509.get pem entry name pem type 'RSAPRIVATEKEY' else new key Truefile args   salt  ['x509.create private key text True bits bits passphrase passphrase cipher cipher verbose verbose ret   states  ['file.managed'] **file args if ret and new key ret 'ewprivatekeygenerated ret 
@transaction.non atomic requests P O S Tdef generate user cert request course id if not request authenticated log u Anonusertryingtogeneratecertificatefor course id return Http Response Bad Request _ 'oumustbesignedinto name .format platform name configuration helpers value 'PLATFORM NAME' settings P L A T F O R M NAME student request key Course Key string course id course modulestore .get course course key depth 2 if not course return Http Response Bad Request _ 'ourseisnotvalid if not is course passed course None student request return Http Response Bad Request _ 'ourcertificatewillbeavailablewhenyoupassthecourse certificate status certs api downloadable status student course if certificate status downloadable return Http Response Bad Request _ 'ertificatehasalreadybeencreated elif certificate status generating return Http Response Bad Request _ 'ertificateisbeingcreated else certs api user certificates student course course course generation mode 'self'  track successful certificate generation student course return Http Response 
def vector path *names return pkg resources filename   name   os 'testdata' *names
def  row to dict row d for fld in row val row val is None val ''if  verify var type val d '$' + fld ]  as str val 
def test write noheader normal out String I O ascii dat out Writer ascii Fixed Width No Header assert equal splitlines out '|1.2|"hello"|1|a|\n|2.4|\'sworlds|2|2|\n'
def allowed from settings settings principals perms settings {k aslist v for k v in settings if k ' principals }from settings {}for key allowed principals in perms settings resource name permission _ key '_' if resource name not in PERMISSIONS INHERITANCE T R E E continueif not bool set principals & set allowed principals continueif permission 'create' permission '%s %s' % resource name permission resource name {'bucket' '' 'collection' 'bucket' 'group' 'bucket' 'record' 'collection'}[resource name settings resource name set .add permission return from settings 
def  end of life tween factory handler registry deprecation msg 'heserviceyouaretryingtoconnectnolongerexistsatthislocation eos tween request eos date registry url registry url message registry message not eos date return handler request eos date dateparser eos date if eos date > datetime code 'soft-eol'request.response handler request else code 'hard-eol'request.response errors error H T T P Gone errno errors E R R O R S S E R V I C E DEPRECATED message deprecation msg errors alert request eos message url eos url code code return request eos tween 
def iterable obj try len obj except return Falsereturn True 
def get all files folder strip prefix '' prefix None all files []def iterate path path dirs path files storage path for dirname in sorted path dirs full os path dirname all files full iterate full for filename in sorted path files full os path filename all files full iterate folder if prefix is not None all files [os.path.join prefix fname len strip prefix + 1 ] for fname in all files all files 
def  compute style grad F G G style layer Fl Gl F G c Fl ** -2 * Fl ** -2 El Gl - G style loss c / 4 * El ** 2 .sum grad c * sgemm 1.0 El Fl * Fl > 0 return loss grad 
def p function seq p  parse seq p 
def clear Events event Type None if not have Pygame or not display init def Display pyglet platform .get default display for win in def Display windows win events if event Type 'mouse' returnglobal  key Buffer key Buffer []elif event Type 'mouse' junk evt [ O U S E M O T I O N locals M O U S E B U T T O N U P locals M O U S E B U T T O N D O W N elif event Type 'keyboard' junk evt [ E Y D O W N locals K E Y U P elif event Type 'joystick' junk evt [ O Y A X I S M O T I O N locals J O Y B A L L M O T I O N locals J O Y H A T M O T I O N locals J O Y B U T T O N U P locals J O Y B U T T O N D O W N else junk evt 
@pytest.mark.skipif ' A S YAML' def test write full t T DTYPES[ 'bool' 'int64' 'float64' 'str' ]lines ['#%ECSV0.9' '#---' '#datatype ' '#-name bool '#unit m '#datatype bool '#description descr bool '#meta {metabool 1}' '#-name int64 '#unit m '#datatype int64 '#description descr int64 '#meta {metaint64 1}' '#-name float64 '#unit m '#datatype float64 '#description descr float64 '#meta {metafloat64 1}' '#-name str '#unit m '#datatype string '#description descr str '#meta {metastr 1}' '#meta !!omap' '#-comments [comment1 comment2 'boolint64float64str' 'alse00 'rue11 1"' 'alse22 String I O t out format 'ascii.ecsv' assert out .splitlines lines 
def markup description description if apply markdown description apply markdown description else description escape description .replace u u description u + description + u return mark safe description 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def csv fields series rv []fields set for row in series fields row rv row row count row date row return rv fields 
def escape new line original return smart decode original .replace u u .replace u u .replace u u 
def clear ccx field info from ccx map ccx block name try clean ccx key  clean ccx key block ccx override map  get overrides for ccx ccx .setdefault clean ccx key {} ccx override map name ccx override map name + ' id ccx override map name + ' instance except Key Error pass 
def render value in context value context value template localtime value use tz context tz value localize value use l10n context l10n value force text value if context and not isinstance value Safe Data or isinstance value Escape Data return escape value else return value 
def chain *rules def chain rl expr for rule in rules expr rule expr return exprreturn chain rl 
def add dict to cookiejar cj cookie dict return cookiejar from dict cookie dict cj 
def cos func arg return libm arg 
def get mx domains domain dns resolver  dns resolver mx records []try mx records dns resolver .query domain 'MX' except No Nameservers log 'o M Xservers domain domain except NXDOMAIN log 'osuchdomain domain domain except Timeout log 'imeoutduringresolution domain domain raiseexcept No Answer log 'oanswerfromprovider domain domain mx records  fallback get mx domains domain return [str rdata .lower for rdata in mx records 
def version diff v1 v2 if v1 is None or v2 is None return Nonev1 parts v1 '.' v2 parts v2 '.' v1 parts + ['0'] * len v2 parts - len v1 parts v2 parts + ['0'] * len v1 parts - len v2 parts for v1p v2p in zip v1 parts v2 parts cur diff int v1p - int v2p if cur diff return cur diffreturn 0
def modname path base os path filename ext os base return filename 
def set trace import pdbimport sysstdout sys sys  stdout  pdb Pdb .set trace sys getframe .f back 
def remote scp command password list log filename None transfer timeout 600 login timeout 20 logging "ryingto S C Pwithcommand timeout command transfer timeout if log filename output func utils lineoutput params log filename else output func Noneoutput params session aexpect Expect command output func output func output params output params try  remote scp session password list transfer timeout login timeout finally session 
def replace query param url key val scheme netloc path query fragment urlparse url query dict Query Dict query .copy query dict valquery query dict return urlparse scheme netloc path query fragment 
def dd object to id obj obj type id value 'id' if isinstance obj obj type return getattr obj id value elif isinstance obj basestring return objelse raise Type Error 'nvalidtype % type obj .  name   obj type  name  
def stddev from average timeseries series pandas Series [x[1] for x in timeseries mean series std Dev series t tail avg timeseries return abs t - mean > 3 * std Dev 
def test map effects selection names  map effects n factors 2 effects 'A' assert true names ['A'] selection names  map effects n factors 2 effects ['A' 'A B'] assert true names ['A' 'A B'] selection names  map effects n factors 3 effects 'A*B' assert true names ['A' 'B' 'A B'] selection names  map effects n factors 3 effects 'A*C' assert true names ['A' 'B' 'A B' 'C' 'A C' 'B C' 'A B C'] assert raises Value Error  map effects n factors 2 effects 'C' assert raises Value Error  map effects n factors 27 effects 'all'
def new data None return S H A224 Hash .new data 
@contextfilterdef number format context value value str value negative Falseaddzero Noneif value '-' value value ]negative Trueif '.' in value point value '.' if point len value - 2 addzero Trueelse point len value while point < len value - 3 if value len value - 1 ] '0' value value len value - 1 ]else breakwhile point > 3 value value point - 3 ] + ' ' + value point - 3 ] point value ' ' if addzero value + '0'if negative value '-' + value return value 
def available calculators return CALCULATED A G G R E G A T I O N S 
def wait rm name recurse False profile None return {'name' name 'changes' {} 'result' True 'comment' ''}
def  has required boto3 if not HAS BOTO3 return Falseelif Loose Version boto3  version   < Loose Version required boto3 version return Falseelse return True 
def debug host 'localhost' port 6000 authkey 'secretpassword' init host port authkey qdb debug 
def formstyle table inline form fields *args **kwargs def render row row id label widget comment hidden False  class 'hide' if hidden else None row TR TD label  class 'w2p fl TD widget  id row id  class  class if comment row TD DIV  class 'tooltip'  title '%s|%s' % label comment  class 'w2p fc return rowif args hidden kwargs 'hidden' False return render row form fields args args hidden hidden else parent TABLE for row id label widget comment in fields row render row row id label widget comment parent row return parent 
@pytest.mark.parametrize u totest frames def test gcrs icrs moonish testframe moonish GCRS MOONDIST CART obstime testframe moonicrs moonish to ICRS assert 0.97 * u < moonicrs < 1.03 * u 
def ldap Url Escape s return quote s .replace ' ' '%2C' .replace '/' '%2F'
def From Import package name name leafs for leaf in name leafs leaf children [eaf token N A M E 'from' Leaf token N A M E package name prefix '' Leaf token N A M E 'import' prefix '' Node syms as names name leafs ]imp Node syms from children return imp 
def whitespace around comma logical line line logical linefor m in WHITESPACE AFTER COMMA R E G E X line found m + 1 if ' DCTB ' in m yield found "242tabafter % m [0] else yield found "241multiplespacesafter % m [0]
def monkeypatch class name bases namespace assert len bases 1 'xactlyonebaseclassrequired bases name value in namespace if name ! '  metaclass  ' and name ! '  doc  ' setattr base name value return base 
def copy2 src dst shutil fsencoding src fsencoding dst 
def deploy mission hrquantity row if hasattr row 'deploy mission row row missiontry mission id row Attribute Error return 0db current db assignmentcount table row db table id mission id .select count .first if row return row return 0
def flatten applications series for row in series if 'data' in row new {}for app versions in row app amo A P P G U I D S app if not app continueappname unicode app for ver count in versions key ''.join [appname ver new countrow new yield row 
def docformat docstring docdict None if not docstring return docstringif docdict is None docdict {}if not docdict return docstringlines docstring .splitlines if len lines < 2 icount 0else icount indentcount lines lines ] indent '' * icount indented {}for name dstr in docdict lines dstr .splitlines try newlines [lines[0]]for line in lines ] newlines indent + line indented '\n'.join newlines except Index Error indented dstrreturn docstring % indented 
def get config root *append from hadoop import HDFS C L U S T E R Syarn site path HDFS C L U S T E R S H A D O O P CONF D I R return os os yarn site path '..' *append
def  Abs Url relative url context unused args return urlparse context Lookup 'base-url' relative url 
def check incomplete vs complete complete cfg dir path if misc file cfg dir path complete if misc path 'X' cfg dir cfg dir cfg dir os complete 'incomplete' else cfg dir 'incomplete'
def dup from dict f K if not f return [] n h max f [] if type n is int for k in range n -1 -1 h f k K else n nfor k in range n -1 -1 h f k K return dup strip h 
def search iter db query limit None batch 100 count search count db query if not count raise Stop Iterationremain countif limit is not None remain min remain limit offset 1prev ids []while remain batch min batch remain ids search db query offset batch .read .strip .split assert len ids batch 'ot expected % len ids batch if ids prev ids raise Runtime Error 'amesearchresultsforpreviousoffset for identifier in ids if identifier in prev ids raise Runtime Error 'esult % identifier yield identifier offset + batchremain - batchprev ids ids 
def show state usage queue False **kwargs conflict  check queue queue kwargs if conflict is not None return conflictpillar kwargs 'pillar' pillar enc kwargs 'pillar enc if pillar enc is None and pillar is not None and not isinstance pillar dict raise Salt Invocation Error 'illardatamustbeformattedasadictionary unlesspillar encisspecified st  salt High State   opts   pillar pillar enc pillar enc st .push active try ret st .compile state usage finally st .pop active  set retcode ret return ret 
def  weighted percentile array sample weight percentile 50 sorted idx np array weight cdf stable cumsum sample weight idx percentile idx np weight cdf percentile / 100.0 * weight cdf -1 ] return array idx idx 
def p jump statement 2 t pass 
def read int16 matrix fid rows cols return  unpack matrix fid rows cols dtype '>i2' out dtype np 
def pre run code hook self return None 
def gauss laguerre n n digits x Dummy 'x' p laguerre poly n x polys True p1 laguerre poly n + 1 x polys True xi []w []for r in p roots if isinstance r Root Of r r rational S 1 / 10 ** n digits + 2 xi r n digits w r / n + 1 ** 2 * p1 x r ** 2 .n n digits return xi w 
def add arg f *args **kwargs if not hasattr f 'arguments' f []if args kwargs not in f f 0 args kwargs 
def infix bp func class Operator Token Base lbp bpdef led self left parser self leftself parser bp return selfdef eval self context try return func context self self except Exception return Falsereturn Operator 
def find toplevel job dir start dir job dir start dirwhile not os os job dir '.autoserv execute if job dir '/' return Nonejob dir os job dir return job dir 
def get tree base exclude coverage the coverage tree {}runs coverage files for path in runs if not  skip file path exclude and not os path  graft path tree return tree 
def painting clip saturation 1.4 black 0.006 return clip image lambda im to painting im saturation black 
def ls  active None cache True path None contextvar 'lxc.ls{0}'.format path if active contextvar + '.active'if cache and contextvar in   context   return   context  [contextvar]else ret []cmd 'lxc-ls'if path cmd + ' pipes path if active cmd + '--active'output   salt  ['cmd.run stdout cmd python shell False for line in output ret line   context  [contextvar] retreturn ret 
def convert to camel data components data '_' return components + ''.join x for x in components ]
def methods equivalent meth1 meth2 return getattr meth1 '  func  ' meth1 is getattr meth2 '  func  ' meth2 
def test completion for bash script bash completion ' pip completion \ O M P R E P L Y $ COMP WORDS "${COMP W O R D S C O M P CWORD $COMP C W O R D P I P AUTO COMPLETE 1$1 \ pip completionpip script 'completion' '--bash' assert bash completion in result 'bashcompletioniswrong'
def test external js and css resource embedding class Custom Model1 Model   javascript   'external js 1'  css   'external css 1'class Custom Model2 Model   javascript   ['external js 2' 'external js 3']  css   ['external css 2' 'external css 3']class Custom Model3 Model   javascript   ['external js 1' 'external js 3']  css   ['external css 1' 'external css 2']r resources Resources assert 'external js 1' in r files assert 'external css 1' in r files assert 'external js 2' in r files assert 'external js 3' in r files assert 'external css 2' in r files assert 'external css 3' in r files assert r files 'external css 1' 1 assert r files 'external css 2' 1 assert r files 'external js 3' 1 assert r files 'external js 1' 1
def  requires npn func @wraps func def wrapper *args **kwargs if not  lib Cryptography HAS NEXTPROTONEG raise Not Implemented Error ' P Nnotavailable return func *args **kwargs return wrapper 
def set api params module module params api params dict for param in module params module param module param None if module param api params param ] module paramreturn api params 
def validating string param registry xml parent data pdef base param registry xml parent data True 'hudson.plugins.validating  string  parameter Validating String Parameter Definition X M L Sub Element pdef 'regex' .text data X M L Sub Element pdef 'alidation Message .text data 
def evaluate op op str a b raise on error False use numexpr True **eval kwargs use numexpr use numexpr and  bool arith check op str a b if use numexpr return  evaluate op op str a b raise on error raise on error **eval kwargs return  evaluate standard op op str a b raise on error raise on error 
def transfer events to another collection client source collection destination collection dry reverse False schemas match make sure keen schemas match source collection destination collection client if not schemas match raise Value Error 'hetwoprovidedschemasinkeendonotmatch youwillneedtodoabitmorework events from source extract events from keen client source collection for event in events from source event 'created at event 'id' if reverse remove events from keen client destination collection events from source dry else add events to keen client destination collection events from source dry logger 'ransferred len events from source source collection destination collection 
def unassign floating ip kwargs None call None if call ! 'function' log 'heinassign floating ipfunctionmustbecalledwith return Falseif not kwargs kwargs {}if 'floating ip not in kwargs log 'floating I Pisrequired return Falseresult query method 'floating ips command kwargs ip + '/actions' args {'type' 'unassign'} http method 'post' return result 
def pearson v1 v2 v1 v2 array v1 array v2 if not v1 v2 > 1 raise Value Error "neormorevectorsisn return corrcoef v1 v2 [0][1]
def mw search server query num search url u //%s/w/api.php?format json query search %d&srprop timestamp text ' % server num search url + queryquery json web search url if u in query query query [r[u'title'] for r in query return None 
def channel Mode Modify Vgcs Target Mode Identication presence 0 Multi Rate Configuration presence 0 a Tp Pd pd 6 b Message Type mes Type 8 c Channel Description2 d Channel Mode packet a / b / c / d if Vgcs Target Mode Identication is 1 e Vgcs Target Mode Identication Hdr iei V T M I 1 eight Bit V T M I 0 packet packet / e if Multi Rate Configuration is 1 f Multi Rate Configuration Hdr iei M R C 3 eight Bit M R C 0 packet packet / f return packet 
def matrix power M n result 1for i in xrange n result theano result M return result 
def test completion for fish script fish completion 'function  fish complete pip C O M P WORDS commandline " O M P CWORD math contains commandline $COMP WORDS -1 \ I P AUTO C O M P L E T E1 eval C O M P WORDS[1] \nend\ncomplete-fa"   fish complete pip "-cpip'result script 'completion' '--fish' assert fish completion in result 'fishcompletioniswrong'
def expand path s if os 'nt' s s '$\\' 'IPYTHON TEMP' s os os s if os 'nt' s s 'IPYTHON TEMP' '$\\' return s 
def test cnn sk estimator check estimator Condensed Nearest Neighbour 
def  split auth string auth string prev Nonefor item in auth string ' ' try if prev '"' 1 prev '%s %s' % prev item continueexcept Attribute Error if prev None prev itemcontinueelse raise Stop Iteration yield prev prev item yield prev raise Stop Iteration 
def  except import error node if not isinstance node astroid Try Except returnreturn any map is import error node 
@comm guard Bound Variable ANY TYPE def unify walk bv o U if bv o return Uelse return False 
def expect element   funcname  qualified name **named def  expect element collection if isinstance collection set frozenset collection for error message tuple sorted collection else collection for error message collectiontemplate "% funcname s expectedavaluein argname s butgot actual sinstead collection collection for error message return make check Value Error template complement op collection repr funcname   funcname return preprocess **valmap  expect element named 
def  Deep Copy Some Keys in dict keys d {}for key in keys if key not in in dict continued copy in dict return d 
def signed content private key name 'signing.key' command ['openssl' 'dgst' '-sha256' '-sign' join tests dir private key name ] out err out and err command input content return out 
@with setup prepare stdout def test output when could not find features path fs join abspath dirname   file   'no features 'unexistent-folder' runner Runner path verbosity 3 no color False runner assert stdout lines 'ops % path 
def listdir remove fs query dir original orig listdir query dir result []for fname in original if TEST PLUGIN NAME not in fname result fname return result 
def expect warn type message for filter in  warnings if filter 'ignore' and issubclass warn type filter return E X P E C T E D ' ' + warn type  name   + ' ' + message + '\n'
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
def increase indent func def wrapper *args **kwargs global  debug indent debug indent + 1try return func *args **kwargs finally  debug indent - 1return wrapper 
def min cost flow G demand 'demand' capacity 'capacity' weight 'weight' return nx simplex G demand demand capacity capacity weight weight [1]
def recommend for brands brands return []
def get Function Lists file Name file Text archive File Text file Name function List [ists [ist archive Text Lines file Text for line in lines line Stripped line if line Stripped 'def' bracket Index line Stripped ' ' if bracket Index > -1 line Stripped line Stripped bracket Index List line Stripped elif line 'class' function List [ists function List return function Lists 
def  get option list options return ' '.join ['{0} {1}'.format x y for x y in six options ]
def info return  nodetool 'info'
def dmp mul term f c i u K if not u return dup mul term f c i K v u - 1 if dmp zero p f u return fif dmp zero p c v return dmp zero u else return [dmp mul cf c v K for cf in f + dmp zeros i v K
def  extract jdk version java version out match re 'untime Environment build .*? \\ ' java version out if match is None return None version build match 1 .split '-' release version '_' [0].split '.' [1]update str int version '_' [1] return '% release su update s build s % locals 
def run bare wsgi app application env dict os env sys sys 1 0 env once Trueenv scheme wsgiref scheme env env Falseenv Falseresult application env  start response if result is not None for data in result sys data 
@jsonrpc method 'plugins.is authenticated def plugins is authenticated request sessionid engine import module settings S E S S I O N ENGINE session engine Session Store sessionid try user id session S E S S I O N K E Y path session B A C K E N D SESSION K E Y auth backend backend path user backend user user id except Key Error http auth sessionid 'base64' request type 'request' object {'META' {'HTTP AUTHORIZATION' http auth if Free Basic Authentication .is authenticated request user request return Falseif user and user authenticated return Truereturn False 
def genrepo return  genrepo opts   opts   fire event False 
def list enabled plugins runas None if runas is None and not salt windows runas salt user cmd [ get rabbitmq plugin 'list' '-m' '-e']ret   salt  ['cmd.run all cmd python shell False runas runas  check response ret return  output to list ret 
def  minify json data import jsonreturn json json data 
def  create srt file content None content content or SRT content srt file tempfile Named Temporary File suffix '.srt' srt file type 'application/x-subrip;charset utf file content srt file 0 return srt file 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def child max dependencies dependents scores result dict num needed dict k len v for k v in dependencies current set k for k v in num needed if v 0 while current key current score scores dependencies children score + max result for child in children result scorefor parent in dependents num needed - 1if num needed 0 current parent return result 
def rapid val get vars 'val' True if val '0' val Falseelse val Truesession data entry valresponse 'xml.html'return dict item str session data entry 
def length hint obj default 0 if not isinstance default int msg "'%s'objectcannotbeinterpretedasaninteger" % type default .  name   raise Type Error msg try return len obj except Type Error passtry hint type obj .  length hint  except Attribute Error return defaulttry val hint obj except Type Error return defaultif val is Not Implemented return defaultif not isinstance val int msg '  length hint  mustbeinteger not % type val .  name   raise Type Error msg if val < 0 msg '  length hint   shouldreturn 0'raise Value Error msg return val 
def get filter filetypes ext if not ext return ALL F I L T E Rfor title ftypes in filetypes if ext in ftypes return  create filter title ftypes else return ''
def reverse order order items []for item in order ' ' item item .split direction 'asc' if item ] ['desc'] else 'desc' items '%s%s' % item direction return ' '.join items 
def resolve answers exploration id state name rule str answers assert isinstance answers list answer log State Rule Answer Log Model or create exploration id state name rule str for answer in answers if answer not in answer log logging 'nswer state handler % answer rule str exploration id state name  OLD SUBMIT HANDLER NAME else del answer log log 
def CORREL ds1 ds2 count timeperiod - 2 ** 31 data1 value ds to numpy ds1 count if data1 is None return Nonedata2 value ds to numpy ds2 count if data2 is None return Nonereturn talib C O R R E L data1 data2 timeperiod 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
@ensure csrf cookie control no cache True no store True must revalidate True @require level 'staff' @require P O S Tdef mark student can skip entrance exam request course id course id Slash Separated Course Key deprecated string course id student identifier request P O S T 'unique student identifier student get student from identifier student identifier __ created Entrance Exam Configuration or create user student course id course id if created message _ 'hisstudent %s willskiptheentranceexam % student identifier else message _ 'hisstudent %s isalreadyallowedtoskiptheentranceexam % student identifier response payload {'message' message Json Response response payload 
def test show fixtures and test testdir p testdir '\nimportpytest\n@pytest.fixture\ndefarg \alse arg arg \alse result testdir '--setup-plan' p assert result 0 result lines [ E T U P Farg '*test arg fixturesused arg ' ' E A R D O W N Farg 
def isframe object return isinstance object types Frame Type 
def process hour hour date SLEEPTIME 180log dir os RAW LOG DIR hour date files missing [os.path.join log dir '%s.log.bz2' % h for h in g T R A F F I C LOG H O S T S missing [f for f in files missing if not s3 key exists s3 connection f ]while files missing print 'issinglog s %s sleeping % files missing sleep SLEEPTIME files missing [f for f in files missing if not s3 key exists s3 connection f ]process pixel log os log dir '*'
def  Compile Filters config filters []for filter type in iterkeys config compiler FILTER C O M P I L E R S filter type if compiler is not None for filter config in  List Of config type compiled Filter compiler filter config filters compiled Filter return filters 
def check sampleid duplicates header mapping data errors sample id field 'ample I D 1try sample id ix header sample id field except Value Error return errorssample ids []missing sample ids []for curr data in range len mapping data if len mapping data data id ix 0 errors 'issing Sample I D DCTB %d %d' % curr data + correction sample id ix missing sample ids curr data + correction sample ids mapping data data id ix dups duplicates indices sample ids for curr dup in dups for curr loc in dups dup if curr loc + correction not in missing sample ids errors 'uplicate Sample I D DCTB %d %d' % curr dup curr loc + correction sample id ix return errors 
def out2in *local opts **kwargs name kwargs and kwargs 'name' None if len local opts > 1 local opts Local Opt Group *local opts else local opts local optsif not name name local opts  name  ret Topo Optimizer local opts order 'out to in failure callback Topo Optimizer inplace **kwargs if name ret  name   namereturn ret 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def subnet group present name subnet ids None subnet names None description None tags None region None key None keyid None profile None ret {'name' name 'result' True 'comment' '' 'changes' {}}exists   salt  ['boto elasticache group exists name name tags tags region region key key keyid keyid profile profile if not exists if   opts  ['test'] ret 'ubnetgroup name ret Nonereturn retcreated   salt  ['boto elasticache subnet group name name subnet ids subnet ids subnet names subnet names description description tags tags region region key key keyid keyid profile profile if not created ret Falseret 'ailedtocreate name return retret Noneret nameret 'ubnetgroup name return retret 'ubnetgrouppresent ret 
def parse request request if not re ' T T P request return Nonehttp H T T P Request request if http code return Nonereturn http 
def test read twoline normal table 'ol1 Col2 ascii table Reader ascii Fixed Width Two Line assert equal dat 'ol1 'ol2 assert almost equal dat 2.4 assert equal dat '"hello"' assert equal dat "'sworlds"
def dot inp matrix if 'int' in inp and inp 2 return matrix ]elif 'int' in inp return matrix 'float' in inp and inp 3 shape0 inp inp inp T T inp shape0 * shape1 shape2 matrix else return T T inp matrix 
def Get Ordered Intersection handler list results  Intersect handler list results sorted results key lambda h h  Reorder Handlers results  Give Properties From General To Specific results return  Remove Redundant Handlers results 
def Create Filter pc task return Create Tasks Filter pc [task]
def download setuptools version DEFAULT VERSION download base DEFAULT URL to dir os delay 15 downloader factory get best downloader to dir os to dir tgz name 'setuptools-%s.tar.gz' % version url download base + tgz name saveto os to dir tgz name if not os saveto log 'ownloading url downloader downloader factory downloader url saveto return os saveto 
def read user variable var name default value return click var name default default value 
def padded key key symbols filter True syms list uniq symbols if len syms ! len symbols extra ''.join sorted set [i for i in symbols if symbols i > 1 ] raise Value Error 'duplicatecharactersinsymbols %s' % extra extra set key - set syms if extra raise Value Error 'charactersinkeybutnotsymbols %s' % ''.join sorted extra key0 ''.join list uniq key return key0 + ''.join [i for i in syms if i not in key0 ]
def test unique prefix completion super Console Send Keys 'edirect Start }{ }{ENTER}' test Regex 'onsole Send Keys ' A B E N T E R test Regex + 'onsole Send Keys ' A B E N T E R test Regex + 'onsole Send Keys 'edirect Stop }{ }{ENTER}' verify Results get Test Output [0] test Regex Are Equal remove Prompts get Test Output [1] []
def savez file *args **kwds args map cupy args for key in kwds kwds cupy kwds numpy file *args **kwds
def get slice bounds builder slicestruct start slicestruct slicestruct start 0 one start 1 is step negative builder signed '<' slicestruct zero lower builder is step negative builder stop one start upper builder is step negative builder start one stop return lower upper 
def  parse udevadm info udev info devices []dev {}for line in line for line in udev info if line line line ' ' 1 if len line ! 2 continue query data lineif query 'E' if query not in dev dev {} key val data .split ' ' 1 try val int val except Value Error try val float val except Value Error passdev valelse if query not in dev dev []dev[query].append data elif dev devices  normalize info dev dev {}if dev  normalize info dev devices  normalize info dev return devices 
def  restore webroot config config renewalparams if 'webroot map in renewalparams if not cli by cli 'webroot map config map renewalparams map 'webroot path in renewalparams logger 'ncientrenewalconffilewithoutwebroot restoringwebroot wp renewalparams path isinstance wp str wp [wp]config.namespace.webroot path wp 
def  band count a nrows ncols a 0for k in range - nrows + 1 0 if np a k .any ml - k breakmu 0for k in range nrows - 1 0 -1 if np a k .any mu kbreakreturn ml mu 
def  ensure trans trans fro 'mri' to 'head' if isinstance fro string types from str frofrom const  str to frame from str  frame to str const frodel froif isinstance to string types to str toto const  str to frame to str  frame to str const todel toerr str 'transmustgo%s<->%s provided % from str to str if trans is None raise Value Error 'one % err str if set [trans['from'] trans ! set [from const to const raise Value Error '%stransis%s->%s' % err str  frame to str  frame to str if trans ! from const trans invert transform trans return trans 
def get repository dependency tups from repository metadata app repository metadata deprecated only False dependency tups []if repository metadata is not None metadata repository metadata metadata repository dependencies dict metadata 'repository dependencies None if repository dependencies dict is not None repository dependency tups repository dependencies dict 'repository dependencies None if repository dependency tups is not None for repository dependency tup in repository dependency tups toolshed name owner changeset revision pir oicct common util repository dependency tuple repository dependency tup repository tool shed util repository by name and owner app name owner if repository if deprecated only if repository dependency tups repository dependency tup else dependency tups repository dependency tup else log 'annotlocaterepository % name owner return dependency tups 
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
@command 'r\\s? \\d{1 4} ' def related num if g mode ! 'normal' g 'elateditemsmustrefertoaspecificvideoitem c + g + c g content songlist display returng page 0item g int num - 1 ]related search item 
def describe data brief data items Ordered Dict if data is None return itemsif isinstance data Sql Table items Datainstances data len else items Datainstances len data items describe domain brief data return items 
def  connected chordal graph cliques G if G of nodes 1 x frozenset G return set [x] else cliques set unnumbered set G v random list unnumbered unnumbered v numbered set [v] clique wanna be set [v] while unnumbered v  max cardinality node G unnumbered numbered unnumbered v numbered v new clique wanna be set G v & numbered sg G clique wanna be if  is complete graph sg new clique wanna be v if not new clique wanna be > clique wanna be cliques frozenset clique wanna be clique wanna be new clique wanna beelse raise nx Network X Error 'nputgraphisnotchordal cliques frozenset clique wanna be return cliques 
def butterworth Filter data w Pass w Stop None g Pass 2.0 g Stop 20.0 order 1 dt None btype 'low' bidir True try import scipy Import Error raise Exception 'ilter requiresthepackagescipy if dt is None try tvals data 'ime dt tvals -1 ] - tvals / len tvals - 1 except dt 1.0if w Stop is None w Stop w Pass * 2.0 ord Wn scipy w Pass * dt * 2.0 w Stop * dt * 2.0 g Pass g Stop b a scipy ord Wn btype btype return apply Filter data b a bidir bidir 
def get host port spec default port args spec ' ' 1 + [default port [ 2]args[1] int args return args args 
def cleanup oauth url redirect uri if '?' in redirect uri redirect base redirect query redirect uri '?' 1 query dict items Query Dict redirect query .items else query dict items Query Dict '' True excluded query items [ k v for k v in query dict items if k in DROP QUERY PARAMS ]for k v in excluded query items redirect uri remove query param redirect uri k redirect uri redirect uri '?' redirect uri redirect uri '&' return redirect uri 
def cb Insecure Login result proto username password if result 'y' return proto username password .allback cb Authentication proto return defer Exception 'oginfailedforsecurityreasons 
def  check color dim val val np 2d val if val not in 3 4 raise Runtime Error 'aluemusthaveseconddimensionofsize3or return val val 
def get displayable exp summary dicts exploration summaries exploration ids [exploration summary for exploration summary in exploration summaries counts stats jobs continuous Statistics Aggregator views multi exploration ids displayable exp summaries []for ind exploration summary in enumerate exploration summaries if not exploration summary continuesummary dict {'id' exploration summary 'title' exploration summary 'activity type feconf A C T I V I T Y TYPE EXPLORATION 'category' exploration summary 'created on msec utils time in millisecs exploration summary model created on 'objective' exploration summary 'language code exploration summary code 'last updated msec utils time in millisecs exploration summary model last updated 'human readable contributors summary get human readable contributors summary exploration summary summary 'status' exploration summary 'ratings' exploration summary 'community owned exploration summary owned 'tags' exploration summary 'thumbnail icon url utils thumbnail icon url for category exploration summary 'thumbnail bg color utils hex color for category exploration summary 'num views view counts exp summaries summary dict return displayable exp summaries 
def has staff access to preview mode user obj course key None if course key is None if isinstance obj Course Descriptor or isinstance obj Course Overview course key obj isinstance obj Error Descriptor course key obj keyelif isinstance obj X Module course key obj keyelif isinstance obj X Block course key obj keyelif isinstance obj C C X Locator course key obj course locator elif isinstance obj Course Key course key objelif isinstance obj Usage Key course key obj keyif course key is None if Global Staff .has user user return ACCESS G R A N T E Delse return ACCESS D E N I E Dreturn  has access to course user 'staff' course key course key 
def assert Request Transmission Failed self deferred reason Types return assert Wrapper Exception Types self deferred Request Transmission Failed reason Types 
def   bootstrap   import osimport imphere os os   file   imp source   name   os here 'noname wrapped py 
def client name **kwargs return  run name 'chef.client' kwargs 
def evaluate slice index arg if hasattr arg '  index  ' return operator arg else raise Type Error 'oneorhavean  index  method 
def test start detached fake proc argv ['foo' 'bar']fake proc proc Detached value True 0 fake proc detached *argv fake proc proc Detached called with * list argv + [one 
def needs review msg def skip func func return skipif True msg func return skip func 
def  group flat tags tag tags grouped [tag]name tag 'name' '' .lower while tags and tags 'name' '' .lower name grouped tags 0 return grouped 
def  zfs storagepool reactor pool FLOCKER POOL mount root None volume config path None if mount root is None mount root FLOCKER M O U N T P O I N Telse mount root File Path mount root if volume config path is None config path DEFAULT CONFIG P A T Helse config path File Path volume config path pool zfs Storage Pool reactor reactor name pool mount root mount root api Volume Service config path config path pool pool reactor reactor api Service return api 
def repr flag flag return u u R if flag & READ else u u W if flag & WRITE else u u if flag & ERR else u 
def  split map maybe function sequence marker None annotated x function x for x in sequence original mapped tee annotated return x for x y in original if y is marker y for x y in mapped if y is not marker 
def iter roots roots for saltenv dirs in six roots for dir  in dirs if not os dir  continuefor ret in  iter dir dir  saltenv yield ret 
def year crumb date year date '%Y' return Crumb year reverse 'zinnia entry archive year args [year]
def need deployment if os O P T I O N S shutil O P T I O N S old umask os 63 os O P T I O N S os old umask euid os dstat os O P T I O N S if dstat uid ! euid need deployment if dstat mode ! 16832 need deployment sudo gid os 'SUDO GID' if sudo gid try os O P T I O N S -1 int sudo gid stt os O P T I O N S os O P T I O N S stt mode | stat S IWGRP | stat S IRGRP | stat S IXGRP except O S Error sys 'nabletosetpermissionsonthindirectory Ifsudo userissetandisnotroot becertaintheuserisinthesamegroup sys 1 sys '{0}\ndeploy\n'.format O P T I O N S sys EX THIN DEPLOY
def is file into dir filename dirname try res not os filename dirname .startswith u except Value Error res Falsereturn res 
def test singleshot timer assert not timer Single Shot timer Single Shot True assert timer Single Shot timer assert timer Active timer assert not timer Active 
def filtercomments source trailing comments []comment Truewhile comment if re '^\\s*\\/\\*' source comment source 0 source '*/' + 2 ]elif re '^\\s*\\/\\/' source comment re '^\\s*\\/\\/' source .group 0 else comment Noneif comment source re '^\\s+' '' source comment ] trailing comments comment return '\n'.join trailing comments + source 
@click.command 'sudoers' @click.argument 'user' def setup sudoers user from bench import setup sudoerssetup sudoers user 
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
def  make xy sfunc func ndim output False if ndim output def sfunc x y return np [func a y for a in x [ 0]else def sfunc x y return np [func a y for a in x sfunc  name   '.'.join ['score func func  module   func  name  ] sfunc  doc   func  doc  return sfunc 
def get static web help page return ' O C T Y P E H T M L P U B L I C W3 C D T D H T M L4 E N / R Natural Language Toolkit Wordnet Interface Graphical Wordnet Browser Copyright C 2 L T K Project Author Jussi Salmela U R L <http /orlicenseinformation see L I C E N S E T X T \ontent Type \'text/html;charset us N L T K Wordnet Browserdisplayof *elp \5 F5 F5 \ L T K Wordnet Browser Help The N L T K Wordnet Browserisatooltouseinbrowsingthe Wordnetdatabase Ittriestobehavelikethe Wordnetproject N L T K Wordnet Browserusesalocal Wordnetdatabase Youareusingthe Javascriptclientpartofthe N L T K Wordnet Browse Server Weassumeyourbrowserisintabsheetsenabledmode Forbackgroundinformationon Wordnet seethe Wordnetprojecthomepage <ahref "http //wordnet.princeton.edu/"><b>http /ormoreinformationonthe N L T Kproject seetheprojecthome \n<ahref "http //nltk.sourceforge.net/"><b>http /ogetanideaofwhatthe Wordnetversionusedbythisbrowserincludeschoose Show Database Info View Wordsearch Thewordtobesearchedistypedintothe New Word Enterorbyclickingthe Search Thereisnouppercase thesearchwordistransformedtolowercasebeforethesearch Inaddition theworddoesnothavetobeinbaseform Thebrowsertriestofindthepossiblebaseform s bymakingcertainmorphologicalsubstitutions Typing L Ie S "f L Ie S Clickthepreviouslinktoseewhatthiskindofsearchlookslikeandthencomebacktothispagebyusingthe Alt Left Arrow Theresultofasearchisadisplayofoneormore Asynsetisasetofwords Eachwordinasynsetthatis Everysynsethasahyperlink S <lickingthatsymbolshowsyouthenameofevery Everyrelationnameisahyperlinkthatopensupadisplayforthatrelation Clickingitanothertimeclosesthedisplayagain Clickinganotherrelationnameonalinethathasanopenedrelationclosestheopenrelationandopenstheclickedrelation Itisalsopossibletogivetwoormorewordsorcollocationstobesearchedatthesametimeseparatingthemwithacommalikethis "cheerup clearup clearup forexample Clickthepreviouslinktoseewhatthiskindofsearchlookslikeandthencomebacktothispagebyusingthe Alt Left Arrow Asyoucouldseethesearchresultincludesthesynsetsfoundinthesameorderthantheformsweregiveninthesearchfield Therearealsowordlevel lexical relationsrecordedinthe Wordnetdatabase Openingthiskindofrelationdisplayslineswithahyperlink W <lickingthislinkshowsmoreinfoonthewordinquestion The Buttons The Search Help The Show Database Info Wordnetdatabasestatistics The Shutdownthe Server Brow Serverprogrami Brow Serverisstartedbutnotforthesucceedingclientsinordertoprotecttheserverfromaccidentalshutdowns 
def  aligned zeros shape dtype float order 'C' align None dtype np dtype if align is None align dtype not hasattr shape '  len  ' shape shape size functools operator shape * dtype buf np size + align + 1 np offset buf  array interface  ['data'][0] % align if offset ! 0 offset align - offset buf buf offset + size + 1 ][ -1 ]data np shape dtype buf order order data 0 return data 
def  render value in context value context value localtime value use tz context tz value localize value use l10n context l10n value force unicode value if context and not isinstance value Safe Data or isinstance value Escape Data return escape value else return value 
def check cat sidebar url addon cache for type  in [ D D O N EXTENSION amo A D D O N THEME amo A D D O N SEARCH] addon type type  r Client .get url assert pq r '#side-nav' .attr 'data-addontype' str type 
def get users return User Q 'is registered 'eq' True 
def  align 32 f pos f if pos % 4 ! 0 f pos + 4 - pos % 4 return 
def textbrowser text None widget Qt Widgets Q Text Browser widget Open External Links True if text widget Text text return widget 
def agent build get all context hypervisor None return I M P L build get all context hypervisor 
def rel has nofollow rel return True if rel is not None and 'nofollow' in rel else False 
def scala library name srcs [] deps [] resources [] source encoding None warnings None exported deps [] provided deps [] **kwargs target Scala Library name srcs deps resources source encoding warnings exported deps provided deps kwargs blade target target 
def bokeh issue name rawtext text lineno inliner options None content None app inliner issue num int text if issue num < 0 raise Value Errorexcept Value Error msg inliner 'ithubissuenumbermustbeanumbergreaterthanorequalto1 % text line lineno prb inliner rawtext rawtext msg return [prb] [msg] node make gh link node app rawtext 'issue' '#' 'issues' str issue num options return [node] []
def hubble deep field return load 'hubble deep field 
def writebyproteinrec outprotrec handle fields GAF20FIELDS for outrec in outprotrec writerec outrec handle fields fields 
def keyring create **kwargs return ceph cfg create **kwargs
def get url prefix return getattr  local 'prefix' None 
def get prop spec client factory spec type properties prop spec client factory 'ns0 Property Spec prop spec spec typeprop spec Set propertiesreturn prop spec 
def add caching to response response request None etag None if not etag if 'ache Control not in response response Cache Control 'no-cache'returnassert request is not None if response not in 200 304 returnresponse Etag etagif 'ccess Control Allow Origin not in response response Access Control Allow Origin 'https //gratipay.com'if request 'etag' response Cache Control 'public max 31536000'else response Cache Control 'public max 5'
def is eligible node node if node id POPULAR LINKS NODE or node id NEW AND NOTEWORTHY LINKS NODE return Falsefor contrib in node if contrib id in NEW AND NOTEWORTHY CONTRIBUTOR BLACKLIST logger 'ode {} isblacklisted node id contrib id return Falsereturn True 
def  get gating info course xblock info {}if xblock 'sequential' and course subsection gating if not hasattr course 'gating prerequisites setattr course 'gating prerequisites gating api prerequisites course info prereq gating api prerequisite course xblock info [p for p in course prerequisites if unicode xblock not in p ] prereq prereq min score gating api required content course xblock info prereqinfo min score prereq min scoreif prereq info state Visibility State info 
def  verts within dist graph sources max dist dist map {}verts added last []for source in sources dist map 0verts added last source while len verts added last > 0 verts added []for i in verts added last v dist dist map graph ]neighbor vert row dist row j d in zip neighbor vert neighbor dist n dist v dist + d if j in dist map if n dist < dist map dist map n distelif n dist < max dist dist map n distverts added j verts added last verts addedverts np np list dist map dtype np dist np [dist map for v in verts return verts dist 
def  datetime from microseconds value return  EPOCH + datetime microseconds value 
def fixed ip update context address values return I M P L ip update context address values 
def get Window Given Text Repository file Name gcode Text repository skein Skeinlayer Skein skein Gcode file Name gcode Text repository return Skein Window repository skein 
def scale for robust loss function J f rho J scale rho + 2 * rho * f ** 2 J scale J scale < EPS ] EPSJ scale ** 0.5f * rho / J scale return left multiply J J scale copy False f 
def rand char bad '' chars allchars return rand base 1 bad chars 
def sample2d f x args try f sympify f except Sympify Error raise Value Error 'ym Pyfunction try x x min x max x n x argsexcept Attribute Error raise Value Error 'x argsmustbeatupleoftheform var min max n ' x l float x max - x min x d x l / float x n X np float x min float x max + x d x d Y np len X for i in range len X try Y float f x X except Type Error Y Nonereturn X Y
def notify notification Name message if sabnzbd F O U N D A T I O N pool Foundation N S Autorelease Pool .init nc Foundation N S Distributed Notification Center Center nc Notification Name object  notification Name message del pool 
def  eager tasklet tasklet @utils.wrapping tasklet def eager wrapper *args **kwds fut tasklet *args **kwds  run until rpc return futreturn eager wrapper 
def decorate numtips tree for n in tree include self True if n n Score 1else n Score len n return tree 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def example1 build temple x y **kwargs room create object rooms Room key 'temple' + str x + str y room "nwhat fromtheoutside appearedtobeagrandandancienttempleyou Evennia Inn Itconsistsofonelargeroomfilledwithtables Thebardiskextendsalongtheeastwall wheremultiplebarrelsandbottleslinetheshelves Thebarkeepseemsbusyhandingoutaleandchattingwiththepatrons whicharearowdyandcheerfullot keepingthesoundlevelonlyjustbelowthunderous Thisisararespotofmirthonthisdreadmoor room + '' + room return room 
def test instance stack is not the same as class level class My Fs io File System pass My Fs 'foo' My Fs 'bar' assert equals My Fs .stack []
def validate runner parameter attribute override action ref param name attr name runner param attr value action param attr value param values are the same action param attr value runner param attr value if attr name not in RUNNER PARAM OVERRIDABLE ATTRS and not param values are the same raise Invalid Action Parameter Exception 'heattribute % attr name param name action ref return True 
def threshold isodata image nbins 256 return all False hist bin centers histogram image nbins if len bin centers 1 if return all return bin centerselse return bin centers hist np csuml np hist csumh np hist -1 ] [ -1 ] - hist intensity sum hist * bin centers csumh -1 ] 1l np intensity sum / csuml h np intensity sum -1 ] [ -1 ] - intensity sum / csumh all mean l + h / 2.0 bin width bin centers - bin centers distances all mean - bin centers thresholds bin centers distances > 0 & distances < bin width ]if return all return thresholdselse return thresholds 
def auth decorator check auth def decorator method def decorated self *args **kwargs check auth self return method self *args **kwargs decorated  name   method  name  decorated  doc   method  doc  return decorateddecorator  name   check auth  name  decorator  doc   check auth  doc  return decorator 
def context from sample api keywords dirname desc uri if uri is None uri BASE HG URI + dirname '/' '%2F' else uri ''.join uri if api is None return Noneelse entry D I R E C T O R Y {'api' api 'version' entry 'api name wiki escape entry 'title' entry 'description' 'api desc wiki escape entry 'api icon entry 'keywords' keywords 'dir' dirname 'uri' uri 'desc' wiki escape desc }return context 
def genelatex body wrap lt La Te X Tool breqn wrap and lt breqn and kpsewhich 'breqn.sty' yield u '\\documentclass{article}' packages lt breqn packages packages + ['breqn'] for pack in packages yield u '\\usepackage{{{0}}}'.format pack yield u '\\pagestyle{empty}' if lt yield lt yield u '\\begin{document}' if breqn yield u '\\begin{dmath*}' yield body yield u '\\end{dmath*}' elif wrap yield u body else yield body yield u 
def  cg simp add e cg part []other part []e expand e for arg in e if arg CG if isinstance arg Sum other part  cg simp sum arg elif isinstance arg Mul terms 1for term in arg if isinstance term Sum terms *  cg simp sum term else terms * termif terms CG cg part terms else other part terms else cg part arg else other part arg cg part other  check varsh 871 1 cg part other part other cg part other  check varsh 871 2 cg part other part other cg part other  check varsh 872 9 cg part other part other return Add *cg part + Add *other part 
def  overload dummy *args **kwds raise Not Implemented Error u Youshouldnotcallanoverloadedfunction Aseriesof 
def tidy input string s s ''.join s .lower return s 
def x509 verify cacert cert binary False ca x509 parse cert cacert crt x509 parse cert cert binary return crt ca pubkey 
def choice validator optdict name value if not value in optdict msg 'option%s invalidvalue %r shouldbein optik ext Option Value Error msg % name value optdict return value 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def  prepare nodes workflow root objs serializers 'xml' etree root node Nonenodes []for obj in objs obj workflowif type obj is Node node obj node type obj typefull node obj k v in vars node .items if not k '_' and k not in 'node type 'workflow' 'node ptr id setattr full node k v full node workflowfull node type type full node .node typefull node ptr id Nonefull node Nonenodes full node return nodes 
def init spider log spider global variable spider logger logging Logger ' Spider Logs spider logger Level logging D E B U G console handler logging Stream Handler console handler Level logging D E B U G formatter logging Formatter '[% asctime s levelname s message s console handler Formatter formatter spider logger Handler console handler spider global variable logger spider loggerspider logger 'elcometo Mspider spider logger '---------------------------'
def reconstruct A B z f factorint igcd A B for p e in f if e ! 1 raise Value Error 'aandbshouldbesquare-free' z * preturn z 
def str to date string return datetime string config D A T E FORMAT if string else None 
def  authenticated func @functools.wraps func def func wrapper driver *args **kwargs try return func driver *args **kwargs except exception Not Authorized if args 'login' raisedriver return func driver *args **kwargs return func wrapper 
def make channel host port credentials _ google scopes [SPEECH SCOPE] http request google Request target '{} {}'.format host port return google authorized channel credentials http request target 
def E C2 Token filter factory global conf **local conf conf global conf conf local conf def filter app return E C2 Token app conf return filter 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def default help formatter quick helps ret ''for line in quick helps cmd path param hlp cmd hlp lineret + ''.join cmd path + '' if param hlp ret + param hlp + '' ret + '-' + cmd hlp + '\n' return ret 
def  disk profile profile hypervisor **kwargs default [{'system' {'size' '8192'}}]if hypervisor in ['esxi' 'vmware'] overlay {'format' 'vmdk' 'model' 'scsi' 'pool' '[{0}]'.format kwargs 'pool' '0' }elif hypervisor in ['qemu' 'kvm'] overlay {'format' 'qcow2' 'model' 'virtio' 'pool'   salt  ['config.option'] 'virt.images' }else overlay {}disklist   salt  ['config.get'] 'virt disk {} .get profile default for key val in six overlay for i disks in enumerate disklist for disk in disks if key not in disks disklist valreturn disklist 
def init mpstate return Cmdlong Module mpstate 
def convert to relative base Path file Name if file Name base Path file Name file Name base Path u if file Name os file Name file Name ]return file Name 
def suspend to ram set power state 'mem'
@pytest.mark.skipif sys info 2] < 3 3 reason 'ython3 def test exception handling no traceback testdir p1 testdir 'ool task n \nassertn 10\n\ndefmultitask job \ntasks [ool processes 1 aspool \npool.map process task tasks \n\ndeftest multitask job \nmultitask job \n' result testdir p1 '--tb long result lines [' *FAILURES* ' 'emote Traceback *' 'raceback mostrecentcalllast ' '*assertn 10' 'heaboveexceptionwasthedirectcauseofthefollowingexception ' '>*multitask job ']
def sequence seq limits None seq sympify seq if is sequence seq Tuple return Seq Per seq limits else return Seq Formula seq limits 
def find invited user email default None User apps model settings A U T H USER MODEL try return User email email except User Does Not Exist return default 
def condense hex colors css regex re ' [^\\"\' \\s] \\s* # [ F [ F [ F [ F [ F [ F ' match regex css while match first match 3 + match 5 + match 7 second match 4 + match 6 + match 8 if first second css css match match 1 + match 2 + '#' + first match regex css match - 3 else match regex css match return css 
def p integer t t t 
def dup resultant f g K include P R S False if include P R S return dup prs resultant f g K return dup prs resultant f g K [0]
def  recursive escape value esc conditional escape if isinstance value dict return type value esc k  recursive escape v for k v in value elif isinstance value list tuple return type value  recursive escape v for v in value elif isinstance value basestring return esc value elif isinstance value int long float or value in True False None return valuereturn esc Django J S O N Encoder .default value 
def central diff weights Np ndiv 1 if Np < ndiv + 1 raise Value Error 'umberofpointsmustbeatleastthederivativeorder if Np % 2 0 raise Value Error 'henumberofpointsmustbeodd from scipy import linalgho Np >> 1 x arange - ho ho + 1.0 x x newaxis X x ** 0.0 for k in range 1 Np X hstack [X x ** k ] w product arange 1 ndiv + 1 axis 0 * linalg X [ndiv] return w 
def placeholder *args **kwargs warnings 'default' Deprecation Warning warnings 'ed.placeholder isdeprecated instead Deprecation Warning x tf *args **kwargs tf to collection 'PLACEHOLDERS' x return x 
def get Median alist tmp list alist tmp alen len tmp if alen % 2 1 return tmp alen // 2 ]else return tmp alen // 2 ] + tmp alen // 2 - 1 ] / 2
def tree selection items tree item selected []for idx in range tree item Count child tree item idx if child Selected selected child return selected 
def month plot x dates None ylabel None ax None from pandas import Data Frameif dates is None from statsmodels import  check period index check period index x freq 'M' else from pandas import Series Period Indexx Series x index Period Index dates freq 'M' xticklabels ['j' 'f' 'm' 'a' 'm' 'j' 'j' 'a' 's' 'o' 'n' 'd']return seasonal plot x lambda y y xticklabels ylabel ylabel ax ax 
def initial state with taps layer dimensions None state initial state layer dimensions if state is not None return dict initial state taps [ -1 ] else return None 
def  show image title class UI tkinter Label def   init   self master im if im '1' self Bitmap Image im foreground 'white' master master else self Photo Image im master master tkinter Label  init   self master image self bg 'black' bd 0 if not tkinter default root raise I O Error 'tkinternotinitialized' top tkinter Toplevel if title top title UI top image .pack
def modelformset factory model form Model Form formfield callback None formset Base Model Form Set extra 1 can delete False can order False max num None fields None exclude None form modelform factory model form form fields fields exclude exclude formfield callback formfield callback Form Set formset factory form formset extra extra max num max num can order can order can delete can delete Form Set modelreturn Form Set 
def Unicode From Code Page string codepage ctypes Get O E M C P try return string 'cp%s' % codepage except Unicode Error try return string 'utf16' 'ignore' except Unicode Error return string 'utf8' 'ignore'
def  url to local path url path destination urllib url .pathif len destination < 2 or destination ! '/' raise Value Error 'nvalid U R L destination os path urllib destination [1 ] return destination 
def replace argument script from  to replaced in the end re u re from  u to script count 1 if replaced in the end ! script return replaced in the endelse return script u from  u to 1
def string to bitlist data data [ord c for c in data []for ch in data i 7while i > 0 if ch & 1 << i ! 0 result 1 else result 0 i - 1return result 
def  set D N S Cache def  getaddrinfo *args **kwargs if args in kb return kb kb socket getaddrinfo *args **kwargs return kb not hasattr socket ' getaddrinfo socket getaddrinfo socket  getaddrinfo 
def p primary expression t pass 
def  consensus alphabet alphabets base  consensus base alphabet alphabets gap Nonestop Nonenew letters ''for alpha in alphabets if not hasattr alpha 'gap char passelif gap is None gap alpha charelif gap alpha char passelse raise Value Error 'orethanonegapcharacterpresent if not hasattr alpha 'stop symbol passelif stop is None stop alpha symbolelif stop alpha symbol passelse raise Value Error 'orethanonestopsymbolpresent if hasattr alpha 'new letters for letter in alpha letters if letter not in new letters and letter ! gap and letter ! stop new letters + letteralpha baseif new letters alpha Alphabet Encoder alpha new letters if gap alpha Gapped alpha gap char gap if stop alpha Has Stop Codon alpha stop symbol stop return alpha 
def lat2zone lat zone int round lat / 8.0 + 9.5 return ' D E F G H J K L M N P Q R S T U V W X 
def list of true keys d ret []for key in d if d ret key return ret 
def validate settings from django import settingsfrom django facebook import settings as facebook settingsif facebook settings F A C E B O O K SKIP VALIDATE returnif not facebook settings F A C E B O O K APP ID logger u Warning F A C E B O O K APP I Disntspecified if not facebook settings F A C E B O O K APP SECRET logger u Warning F A C E B O O K APP S E C R E Tisntspecified if facebook settings F A C E B O O K STORE LIKES or facebook settings F A C E B O O K STORE FRIENDS if not facebook settings F A C E B O O K CELERY STORE msg u Storingfriendsorlikeswithoutusing Celerywillsignificantlyslowdownyourlogin Itsrecommendedtoenable F A C E B O O K CELERY S T O R Eordisable F A C E B O O K STORE F R I E N D Sand F A C E B O O K STORE L I K E S msg required [u'django facebook processors u processors processors settings T E M P L A T E CONTEXT P R O C E S S O R Sfor context processor in required if context processor not in context processors logger u Requiredcontextprocessor context processor backends settings A U T H E N T I C A T I O N B A C K E N D Srequired u facebook backends Facebook Backend required not in backends logger u Requiredauthbackend required 
def prettify index index initial indent 3 indent '' * initial indent output 'kind {}\n'.format index type if index output + '{}ancestor yes indent output + '{}properties \n'.format indent for prop in index list output + '{}-name {}\n'.format indent prop if prop prop D E S C E N D I N G output + '{}direction desc indent + '' return output 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
@typeof impl type def typeof type val c if issubclass val Base Exception return types Exception Class val if issubclass val tuple and hasattr val ' asdict return types Named Tuple Class val 
def cx Oracle py3 bug func from unittest import expected Failurefrom django import connectionreturn expected Failure func if connection 'oracle' else func 
@lower builtin 'number.item' types Boolean @lower builtin 'number.item' types Number def number item impl context builder sig args return args 
def  sqrtdenest0 expr if is sqrt expr n d expr numer denom if d is S One if n Add args sorted n key default sort key if len args > 2 and all x ** 2 .is Integer for x in args try return  sqrtdenest rec n except Sqrtdenest Stop Iteration passexpr sqrt  mexpand Add *[ sqrtdenest0 x for x in args return  sqrtdenest1 expr else n d [ sqrtdenest0 i for i in n d ]return n / d if isinstance expr Expr args expr args return expr *[ sqrtdenest0 a for a in args return expr 
def get exploration from model exploration model run conversion True versioned exploration states {'states schema version exploration model schema version 'states' copy exploration model }if run conversion and exploration model schema version ! feconf C U R R E N T EXPLORATION STATES SCHEMA VERSION  migrate states schema versioned exploration states return exp domain Exploration exploration model exploration model exploration model exploration model exploration model code exploration model exploration model exploration model notes exploration model customizations versioned exploration states schema version exploration model state name versioned exploration states exploration model specs exploration model changes exploration model created on exploration model on last updated exploration model updated 
def varmap func var context None name None if context is None context set objid id var if objid in context return func name '<...>' context objid if isinstance var dict ret dict k varmap func v context k for k v in six var elif isinstance var list tuple if all isinstance v list tuple and len v 2 for v in var ret [[k varmap func v context k ] for k v in var ret [varmap func f context name for f in var ret func name var context objid return ret 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  url collapse path path path parts path '/' head parts []for part in path parts -1 ] if part '..' head parts elif part and part ! '.' head parts part if path parts tail part path parts if tail part if tail part '..' head parts tail part ''elif tail part '.' tail part ''else tail part ''splitpath '/' + '/'.join head parts tail part collapsed path '/'.join splitpath return collapsed path 
def encipher rsa i key n e keyreturn pow i e n 
def change password username password  xml '<RIBCLVERSION " O G I N U S E R LOGIN " A S S W O R D " S E R INFOMODE " O D USERUSER LOGIN " A S S W O R Dvalue " O D U S E R U S E R I N F O L O G I N R I B C L username password return   execute cmd 'hange password  xml 
def  find observable paths extra files None rv set os x for x in sys for filename in extra files or rv os os filename for module in list sys fn getattr module '  file  ' None if fn is None continuefn os fn rv os fn return  find common roots rv 
def label add hosts id hosts host objs models Host get bulk hosts label models Label get id if label models Host no platform host objs label set *host objs 
@parse data databasedef get content parents ids None **kwargs if ids Parent Item parent values Item Parent .join Parent on Item Parent .where Item  ids .distinct if parent values is None parent values list return parent valueselse return list 
def index to three i return dindex to 3[i]
def to U T F8 s return s 'utf 8'
def max clique G if G is None raise Value Error 'xpected Network Xgraph cgraph nx G iset _ clique removal cgraph return iset 
def bitbucket registry xml parent data bbtrig X M L Sub Element xml parent 'it Bucket Trigger X M L Sub Element bbtrig 'spec' .text ''
def  tupleize dct return [ key val for key val in dct ]
def get Inset Points By Inset Loop inset Loop inside loops radius inset Points By Inset Loop []for point Index in xrange len inset Loop point Begin inset Loop point Index + len inset Loop - 1 % len inset Loop ]enter inset Loop Index End inset Loop point Index + 1 % len inset Loop ]if get Is Inset Point Inside Loops inside loops point Begin point Center point End radius inset Points By Inset Loop point Center return inset Points By Inset Loop 
def save form form update user None is draft True **kwargs obj super Media Form form .save commit False **kwargs if update user obj by update userobj draft is draftobj return obj 
def  read pcfg production input return  read production input standard nonterm parser probabilistic True 
@image comparison baseline images [u'legend auto1 remove text True def test legend auto1 fig plt ax fig subplot 111 x np 100 ax x 50 - x u label u 1' ax x x - 50 u label u -1' ax loc 0
def rbf x y 0.0 sigma 1.0 l 1.0 x tf to tensor x y tf to tensor y sigma tf to tensor sigma l tf to tensor l dependencies [tf.verify tensor all finite x msg '' tf tensor all finite y msg '' tf positive sigma tf positive l ]x control flow ops dependencies dependencies x y control flow ops dependencies dependencies y sigma control flow ops dependencies dependencies sigma l control flow ops dependencies dependencies l return tf sigma 2.0 * tf -1.0 / 2.0 * tf l 2.0 * tf x - y 2.0
def info return  nodetool 'info'
def altz to utctz str altz utci -1 * int float altz / 3600 * 100 utcs str abs utci utcs '0' * 4 - len utcs + utcs prefix utci < 0 and '-' or '+' return prefix + utcs 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def locate config apache ctl try proc subprocess Popen [apache ctl '-V'] stdout subprocess P I P E stderr subprocess P I P E output _ proc except O S Error sys  NO APACHECTL server root config file ''for line in output if 'HTTPD ROOT' in line server root line line '"' + 1 -1 ]elif 'SERVER CONFIG FILE' in line config file line line '"' + 1 -1 ]if not server root and config file sys 'nabletolocate Apacheconfiguration Pleaserunthisscriptagainandspecify return server root config file 
def Modular Integer Factory  mod  dom  sym parent try  mod  dom  mod except Coercion Failed ok Falseelse ok Trueif not ok or  mod < 1 raise Value Error 'modulusmustbeapositiveinteger got %  mod key  mod  dom  sym try cls  modular integer cache Key Error class cls Modular Integer mod dom sym  mod  dom  sym  parent parentif  sym cls  name   'ymmetric Modular Integer Mod %  mod else cls  name   'odular Integer Mod %  mod  modular integer cache clsreturn cls 
def new figure manager num *args **kwargs Figure Class kwargs 'igure Class Figure this Fig Figure Class *args **kwargs canvas Figure Canvas Template this Fig manager Figure Manager Template canvas num return manager 
def  get key id alias region None key None keyid None profile None key metadata describe key alias region key keyid profile ['key metadata key metadata Key Id 
def get next redirect url request redirect field name 'next' redirect to get request param request redirect field name if not get adapter request .is safe url redirect to redirect to Nonereturn redirect to 
def get deps all return {'hiddenimports' sorted set kivy modules + collect submodules 'kivy.core' 'excludes' []}
def  get test tolerance type char mattype None rtol {'f' 3000 * np np .eps 'F' 3000 * np np .eps 'd' 2000 * np np .eps 'D' 2000 * np np .eps }[type char rtoltol 0if mattype is aslinearoperator and type char in 'f' 'F' tol 30 * np np .eps rtol * 5if mattype is csr matrix and type char in 'f' 'F' rtol * 5return tol rtol atol 
def validate key csr privkey csr None if privkey and not crypto util privkey privkey raise errors Error 'heprovidedkeyisnotavalidkey if csr if csr 'der' csr obj Open S S L certificate request Open S S L F I L E T Y P E ASN1 csr csr util C S R csr Open S S L certificate Open S S L F I L E T Y P E PEM csr obj 'pem' if csr and not crypto util csr csr raise errors Error 'heprovided C S Risnotavalid C S R if csr and privkey if not crypto util matches pubkey csr privkey raise errors Error 'hekeyand C S Rdonotmatch 
def test reset in  ip cell 'parrot' store history True nt true 'parrot' in [ ip ns for x in ' i ' ii ' iii ]  ip '%reset-fin' nt false 'parrot' in [ ip ns for x in ' i ' ii ' iii ] nt equal len set  ip ns In 1
def  patch cmdutils monkeypatch stubs symbol cmd utils stubs Fake Cmd Utils {'stop' stubs Fake Command name 'stop' desc 'stopqutebrowser' 'drop' stubs Fake Command name 'drop' desc 'dropalluserdata' 'roll' stubs Fake Command name 'roll' desc 'nevergonnagiveyouup' 'hide' stubs Fake Command name 'hide' hide True 'depr' stubs Fake Command name 'depr' deprecated True } monkeypatch symbol cmd utils 
def NO MERGE writer segments return segments 
def get period alias offset str return  offset to period map offset str None 
def get poem def canceler d delayed call d Deferred canceler from twisted import reactordelayed call reactor Later 5 send poem d return d 
def test flaskgroup def create app info return Flask 'flaskgroup' @click.group cls Flask Group create app create app def cli **params pass def test click current app runner Cli Runner result runner cli ['test'] assert result code 0 assert result 'flaskgroup\n'
def dhcp options exists dhcp options id None name None dhcp options name None tags None region None key None keyid None profile None if name log 'boto vpc options exists nameparameterisdeprecatedusedhcp options nameinstead dhcp options name namereturn resource exists 'dhcp options name dhcp options name resource id dhcp options id tags tags region region key key keyid keyid profile profile 
def css escape s s re ' ^-$|[!"#\\$%&\\\' *+ ./ ;< >?@\\[\\\\\\]^`{|}~] ' '\\\\\\1' s s re '^ -? \\d ' lambda m '%s\\%x' % m 1 ord m 2 s s re ' [\\t\\n\\v\\f\\r] ' lambda m '\\%x' % ord m 1 s return s 
@ile System directory current directory 'django' 'alfaces' def test limit by app getting all apps by comma status out commands 'pythonmanage.pyharvest--verbosity 3--no-color--apps foobar donothing assert equals status 0 out assert 'estthedjangoapp D O N O T H I N G in out assert 'estthedjangoapp F O O B A R in out 
def forgiving round value precision 0 try value round float value precision return int value if precision 0 else value except Value Error Type Error return value 
def object upload file self Filename Extra Args None Callback None Config None return self file Filename Filename Bucket self name Key self Extra Args Extra Args Callback Callback Config Config 
def libvlc media player get media p mi f  Cfunctions 'libvlc media player get media None or  Cfunction 'libvlc media player get media 1 class result Media ctypes void p Media Player return f p mi 
def make template resource definitions version 'heat template version '2015-04-30' child env None tmpl template Template dict [version] env child env for name defn in resource definitions tmpl resource defn name return tmpl 
def remove record module gcdns record overwrite module module ttl module data module data record is None return Falseif not overwrite if not  records match record record ttl record data module json msg 'cannotdeleteduetonon-matchingttlorrecord data ' + 'ttl %d record data %s' % ttl record data + 'originalttl %d originalrecord data %s' % record record changed False if not module mode gcdns record record return True 
def get Model Params From Name gym Name import Name 'model params model params % gym Name '' '_' .replace '-' '_' print 'mportingmodelparamsfrom % import Name try imported Model Params importlib module import Name .MODEL P A R A M Sexcept Import Error raise Exception "omodelparamsexistfor Runswarmfirst % gym Name return imported Model Params 
def raise errors on nested writes method name serializer validated data assert not any isinstance field Base Serializer and field in validated data and isinstance validated data list dict for field in serializer writable fields u The name `riteanexplicit name `methodforserializer`{module}.{class name orset only True method name method name module serializer  class  .  module   class name serializer  class  .  name   assert not any u in field and key in validated data and isinstance validated data list dict for key field in serializer u The name `riteanexplicit name `methodforserializer`{module}.{class name orset only True method name method name module serializer  class  .  module   class name serializer  class  .  name  
def clean global runtime state reset runtracker True reset subsystem False if reset runtracker Run Tracker instance .reset reset options False if reset subsystem Subsystem Intermediate Target Factory Base Goal Options Initializer 
def require global staff func @wraps func def wrapped request *args **kwargs if Global Staff .has user request return func request *args **kwargs else return Http Response Forbidden u Mustbe name platform name settings P L A T F O R M NAME return login required wrapped 
def is websocket headers return 'upgrade' in headers 'onnection '' .lower and headers 'pgrade .lower 'websocket'
def basecompiledir ls subdirs []others []for f in os config compiledir if os os config compiledir f subdirs f else others f subdirs sorted subdirs others sorted others print 'asecompilediris % theano compiledir print 'ub possiblecompilecaches ' for d in subdirs print '%s' % d if not subdirs print ' None ' if others print print 'therfilesinbase compiledir ' for f in others print '%s' % f 
def getproxies environment proxies {}for name value in os name name if value and name -6 ] ' proxy proxies -6 ]] valuereturn proxies 
def init mpstate return Cmdlong Module mpstate 
def ignore patterns *patterns def  ignore patterns path names ignored names []for pattern in patterns ignored names fnmatch names pattern return set ignored names return  ignore patterns 
def Expand Windows Environment Variables data string knowledge base win environ regex re '% [^%]+? %' components []offset 0for match in win environ regex data string components data string match ] kb value getattr knowledge base 'environ %s' % match 1 .lower None if isinstance kb value basestring and kb value components kb value else components '%%%s%%' % match 1 offset match components data string ] return ''.join components 
def update user library library for stylelib path in iter user libraries styles read style directory stylelib path update nested dict library styles return library 
def test get version test apps capsys from flask import   version   as flask verfrom sys import version as py verclass Mock Ctx object resilient parsing Falsecolor Nonedef exit self returnctx Mock Ctx get version ctx None 'test' out err capsys assert flask ver in out assert py ver in out 
def gf crt1 M K E S [] [] p prod M start K for m in M E p // m S K E[ -1 ] m [0] % m return p E S
def trg trigger uid res type res id cr return Workflow Service cr uid res type res id .trigger
def FTOU val return val 
@receiver user registered @receiver local site user added def  add default groups sender user local site None **kwargs if local site default groups local site is default group True else default groups Group is default group True local site None for default group in default groups default group user 
def get user by username or email username or email if '@' in username or email return User email username or email else return User username username or email 
def zmq version info major ffi 'int*' minor ffi 'int*' patch ffi 'int*' C version major minor patch return int major int minor int patch 
def  integrate plugins import sysfrom airflow manager import macros modulesfor macros module in macros modules sys module  name  ] macros moduleglobals [macros module name macros moduleimport os as  osif not  os 'AIRFLOW USE NEW IMPORTS' False from zope import deprecated as  deprecatedfor  macro in macros module objects macro name  macro  name  globals [macro name  macro deprecated macro name "mportingpluginmacro Pleaseimportfrom module Supportfordirectimportswillbedroppedentirelyin Airflow2 i macro name 
def atomic open filename mode 'w' if mode in 'r' 'rb' 'r+' 'rb+' 'a' 'ab' raise Type Error "eadorappendmodesdon open ntf tempfile Named Temporary File mode prefix '.   atomic write dir os filename delete False return  Atomic W File ntf ntf filename 
def dup subresultants f g K return dup inner subresultants f g K [0]
def get fqdn return socket 
def  convert record2fits format recformat kind dtype  dtype to recformat format shape dtype dtype dtype 'U' itemsize itemsize // 4 option str itemsize ndims len shape repeat 1if ndims > 0 nel np shape dtype 'i8' .prod if nel > 1 repeat nelif kind 'a' ntot int repeat * int option output format str ntot + 'A' elif recformat in NUMPY2FITS if repeat ! 1 repeat str repeat else repeat ''output format repeat + N U M P Y2 F I T S else raise Value Error 'llegalformat format return output format 
def get dummy vm create spec client factory name data store name config spec client factory 'ns0 Virtual Machine Config Spec config spec nameconfig spec Id 'uest file info client factory 'ns0 Virtual Machine File Info vm file info Path Name '[' + data store name + ']' config spec vm file infotools info client factory 'ns0 Tools Config Info tools info Power On Truetools info Resume Truetools info Guest Standby Truetools info Guest Shutdown Truetools info Guest Reboot Trueconfig spec tools infoconfig spec C P Us 1config spec M B 4controller key -101 controller spec create controller spec client factory controller key disk spec create virtual disk spec client factory 1024 controller key device config spec [controller spec disk spec spec Change device config specreturn config spec 
def surrogate escape error chars error error len chars 1 val ord chars val + 56320return   builtin  .unichr val error 
def convert timedelta obj if not PY2 and isinstance obj bytes bytearray obj obj 'ascii' m TIMEDELTA R E obj if not m return Nonetry groups list m groups -1 ]  convert second fraction groups -1 ] negate -1 if groups else 1 hours minutes seconds microseconds groups ]tdelta datetime hours int hours minutes int minutes seconds int seconds microseconds int microseconds * negate return tdeltaexcept Value Error return None 
def  system copy in b bcpy b nrhs raise Not Implemented Error 
def signature fn import inspectif six P Y2 argspec inspect fn args argspec len args > 0 args tuple args ] if args u else args return args argspec signature inspect fn args []keywords Nonefor arg in signature if arg arg V A R KEYWORD keywords arg arg arg V A R POSITIONAL continueelse args arg return tuple args keywords 
def  nanmean a axis None if axis return np a axis / np 1 - np a axis else return np a / np 1 - np a 
def gf factor f p K lc f gf monic f p K if gf degree f < 1 return lc [] factors []for g n in gf sqf list f p K [1] for h in gf factor sqf g p K [1] factors h n return lc  sort factors factors 
def get username from uid uid if isinstance uid int return pwd uid .pw namereturn uid 
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def s3 comments name 'comments' **attr from s3widgets import s3 comments widget T current Tif 'label' not in attr attr T 'omments if 'represent' not in attr attr lambda comments XML comments if comments else current N O N E if 'widget' not in attr attr s3 comments widgetif 'comment' not in attr attr DIV  class 'tooltip'  title '%s|%s' % T 'omments T 'leaseusethisfieldtorecordanyadditionalinformation includingahistoryoftherecordifitisupdated f S3 Reusable Field name 'text' **attr return f 
def mobile view request url '/' if not url url '/' view args kwargs resolve url if view mobile view raise Http404 'OMG Iseemyself kwargs requestkwargs format 'html'response view *args **kwargs if response code 302 and not response Location 2] '/m' response Location '/m' + response Location return response 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def entriefy data convert lambda tup Entry *tup if is python3 return map convert data return imap convert data 
def gen test func None timeout None if timeout is None timeout get async test timeout def wrap f f gen f @functools.wraps f def wrapper self return self loop sync functools f self timeout timeout return wrapperif func is not None return wrap func else return wrap 
def get Largest Inset Loop From Loop loop radius loops get Inset Loops From Loop radius loop return euclidean Largest Loop loops 
def play nice with threads sleep True weak False deadline None if weak or threading Count < 4 time 0 return 0deadline time + 5 if deadline is None else deadline while True activity threshold 180 - time + LAST USER ACTIVITY / 120 delay max 0.001 min 0.1 0.1 * activity threshold if not sleep breakif LIVE USER ACTIVITIES < 1 time delay else time max delay 0.25 if QUITTING or LIVE USER ACTIVITIES < 1 breakif time > deadline breakreturn delay 
def  dct x type n None axis -1 overwrite x False normalize None x0 n copy made   fix shape x n axis 'DCT' if type 1 and n < 2 raise Value Error ' C T Iisnotdefinedforsize overwrite x overwrite x or copy made nm  get norm mode normalize if np x0 return  raw dct x0 type n axis nm overwrite x + 1j *  raw dct x0 type n axis nm overwrite x else return  raw dct x0 type n axis nm overwrite x 
def dailymotion download url output dir '.' merge True info only False **kwargs html get content url info json match1 html 'qualities" {.+?} "' title match1 html '"video title \\s*" [^"]+ "' or match1 html '"title"\\s* \\s*" [^"]+ "' for quality in ['1080' '720' '480' '380' '240' 'auto'] try real url info real url breakexcept Key Error passm3u url extract m3u real url mime ext size 'video/mp4' 'mp4' 0 print info site info title mime size if not info only download url ffmpeg m3u url title ext output dir output dir merge merge 
def email recipients recipients note template None extra context None subject '%s %s' % unicode comm N O T E T Y P E S type note for email user id tok in tokenize recipients recipients note headers {}if tok headers Reply To '{0}{1}@{2}'.format comm R E P L Y TO PREFIX tok settings P O S T F I X DOMAIN mail template template or comm C O M M MAIL M A P note type 'generic' context get mail context note user id context extra context or {} send mail jinja subject 'comm/emails/%s.html' % mail template context recipient list [email] from email settings M K T REVIEWERS EMAIL perm setting 'app reviewed headers headers 
def set connection info url user True section keypath reg info user try hive  winreg Connect Registry None section try key  winreg Create Key hive keypath except passkey  winreg Open Key hive keypath mykey  winreg Create Key key 'api'  winreg Set Value Ex mykey 'url' None  winreg R E G SZ url  winreg Close Key mykey  winreg Close Key key except Windows Error if user set connection info url user False passfinally  winreg Close Key hive 
def get jobs summary **filter data jobs get jobs **filter data ids [job['id'] for job in jobs status counts models Job status counts ids for job in jobs job counts all status counts rpc utils for serialization jobs 
def get doc files files start path force 0 sync everything False verbose False document type [u'doctype' u u u format u theme u form u alert doctype in document type doctype path os start path doctype if os doctype path for docname in os doctype path if os os doctype path docname doc path os doctype path docname docname + u if os doc path if not doc path in files files doc path 
def resource filename filename if hasattr sys 'frozen' return os os sys filename return pkg resources filename qutebrowser  name   filename 
def filter song md song md list [u'id'] no singletons True filtered [song[md type for md type in md list len md list 1 and no singletons return filtered return filtered 
def test bytes hashing import  sha  sha256  sha512  md5for hash Lib in  sha  sha256  sha512  sha512  md5 x hash Lib 'abc' x 'abc' temp hash Lib bytearray 'abc' x bytearray 'abc'
def p rule2 p p 0 p p p p 
def clean component source return source START ICONSET ]
def encode meta headers headers ret {}for header value in headers value encode utf8 value header header if isinstance header six types and header USER METADATA TYPE header encode utf8 header ret valuereturn ret 
def threaded func return threaded factory func True 
def py to val pyval if isinstance pyval bool return 'true' if pyval is True else 'false' elif pyval '' return '""'else return getattr pyval 'record id pyval 
def Delete Resource Sample client Create Client doc gdata Resource type 'document' title 'y Sample Doc doc client Create Resource doc client Delete Resource doc 
def doc parse markup content markup _ _ p doc rev parser content TEMPLATE TITLE PREFIX + 'test' category TEMPLATES CATEGORY doc pq p markup return doc p 
def recursive glob path pattern for root dirnames filenames in os path followlinks True for filename in fnmatch filenames pattern yield os root filename 
def test calc footprint 3 w wcs W C S w [ L O N C A R u G L A T C A R [1.5 5.5]w.wcs.cdelt [ -0.1 0.1]axes 2 10 ref np [[0.1 -0.5 ] [0.1 0.5] [359.9 0.5] [359.9 -0.5 ]] footprint w footprint axes axes undistort False center False assert allclose footprint ref 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def expand attribute metadata metadata if isinstance metadata compat type metadata {'name' metadata metadata 
def process Element Node By Geometry element Node geometry Output if geometry Output ! None element Node X M L Processor .lement Node element Node geometry Output 
def parse Apache Line s normal musecs vhost responsebytes s '' 3 extracted sisynala normal extracted dict musecs musecs vhost vhost responsebytes responsebytes return extracted 
def gen backend backend 'cpu' rng seed None datatype np batch size 0 stochastic round False device id 0 max devices get device count compat mode None deterministic update None deterministic None logger logging Logger   name   if Nervana Object is not None cleanup backend else atexit cleanup backend if deterministic update is not None or deterministic is not None logger 'deterministic updateanddeterministicargsaredeprecatedinfavorofspecifyingrandomseed deterministic Nonefrom neon import Backendbe Backend backend backend rng seed rng seed default dtype datatype stochastic round stochastic round device id device id num devices max devices compat mode compat mode deterministic deterministic logger 'ackend {} R N Gseed {}'.format backend rng seed Nervana Object bebe batch sizereturn be 
def package data pkg root list data []for root in root list for dirname _ files in os os pkg root for fname in files data os os dirname fname pkg return {pkg data 
def instance remove security group context instance id security group id return I M P L remove security group context instance id security group id 
def in6 mactoifaceid mac ulbit None if len mac ! 17 return Nonem ''.join mac ' ' if len m ! 12 return Nonefirst int m 2] 16 if ulbit is None or not ulbit 0 or ulbit 1 ulbit [1 '-' 0][ first & 2 ]ulbit * 2first '%.02x' % first & 253 | ulbit eui64 first + m 4] + ' ' + m 6] + 'FF FE' + m 8] + ' ' + m 12] return eui64 
def java fat library name srcs [] deps [] resources [] source encoding None warnings None exclusions [] **kwargs target Java Fat Library name srcs deps resources source encoding warnings exclusions kwargs blade target target 
def test prefilter attribute errors class X object def   getattr   self k raise Value Error 'brokenobject' def   call   self x return xip ns X ip 'autocall2' try ip 'x1' finally del ip ns 'autocall0'
def register output converter output type converter global OUTPUT CONVERTEROUTPUT C O N V E R T E R type converter 
def release interface device interface device ctx release interface device interface 
def stonith present name stonith id stonith device type stonith device options None cibname None return  item present name name item 'stonith' item id stonith id item type stonith device type extra args stonith device options cibname cibname 
@register.simple tag takes context True def child actions context content []for child action in context action actions try content child action context except Exception logging u Errorrenderingchildaction child action id return u content 
@utils.arg '--all-tenants' action 'store const const 1 default 0 help _ 'tartserver s inanothertenantbyname Adminonly .' @utils.arg 'server' metavar '<server>' nargs '+' help _ 'ameor I Dofserver s .' def do start cs args find args {'all tenants args tenants action on many lambda s  find server cs s **find args .start args _ 'equesttostartserver _ 'nabletostartthespecifiedserver s .'
def is Hermitian matlist K return conjugate transpose matlist K matlist 
def test adjust log image np 0 255 4 np .reshape 8 8 expected np [[0 5 11 16 22 27 33 38] [43 48 53 58 63 68 73 77] [82 86 91 95 100 104 109 113] [117 121 125 129 133 137 141 145] [149 153 157 160 164 168 172 175] [179 182 186 189 193 196 199 203] [206 209 213 216 219 222 225 228] [231 234 238 241 244 246 249 252]] dtype np result exposure log image 1 assert array equal result expected 
@raises Action Error def test parse command action error arg str 'selectorinvalid action parse command arg str 
def sign message key if 'p' not in key raise Exception 'oumustusetheprivatekeywithsign return chopstring message key key * key encrypt int 
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
@register.inclusion tag get template 'inclusion.html' def inclusion two params from template one two return {'result' 'inclusion two params from template Expectedresult %s %s' % one two }
@pytest.mark.parametrize 'parallel' [rue False def test whitespace before comment parallel read tab text 'a DCTB b DCTB c DCTB 2 DCTB 3'table read tab text parallel parallel expected Table [[1] [2] [3]] names 'a' 'b' 'c' assert table equal table expected 
def  merge dicts *args ret dict for arg in args ret arg return ret 
def is mt res item return item 'ackages Material Theme 
def  Line Contains I18n uwline if style Get u I18 N COMMENT' for tok in uwline if tok comment and re style Get u I18 N COMMENT' tok return Trueif style Get u I18 N FUNCTION CALL' length len uwline index 0while index < length - 1 if uwline index + 1 ].value u ' and uwline in style Get u I18 N FUNCTION CALL' return Trueindex + 1return False 
def write fd data return Write Event fd data 
def filter sum dict align dict filter attribute low bound high bound new sum dict F S S P F S S P Sum Dict new align dict copy align dict for prot num in sum dict attr value getattr sum dict num filter attribute if attr value > low bound and attr value < high bound new sum dict num sum dict num numbers sorted new sum dict for pos num in new align dict res dict new align dict pos num .pos align dict {}for prot num in prot numbers new align dict pos num .pos align dict num align dict pos num .pos align dict num new sum dict new align dict 
def to cli filter bool or filter if not isinstance bool or filter bool C L I Filter raise Type Error u Expectingaboolora C L I Filterinstance Got % bool or filter return {rue  always False  never bool or filter bool or filter 
def reduce with aggregation fn key values yield key aggregation fn values 
def test1 pm Package Maker 'reportlab' '1.10' "eport Lab Open Source P D Ftoolkit pm root 'sers Desktop Default Location 'pplications Report Lab Relocatable 'YES'
def closest scrapy cfg path '.' prevpath None if path prevpath return ''path os path cfgfile os path 'scrapy.cfg' if os cfgfile return cfgfilereturn closest scrapy cfg os path path 
def inspect error error 'nternal Pythonerrorintheinspectmodule Belowisthetracebackfromthisinternalerror 
def get color name value if not is known type value return CUSTOM TYPE C O L O Rfor typ name in list C O L O R S if isinstance value typ return nameelse np dtype get numpy dtype value if np dtype is None or not hasattr value 'size' return UNSUPPORTED C O L O Relif value 1 return SCALAR C O L O Relse return ARRAY COLOR
def  handle links event global treetree spanning tree calc spanning tree 
def test unique join node tmpdir global  sum operands sum operands []os.chdir str tmpdir wf pe Workflow name u inputspec pe Node Identity Interface fields [u'n'] name u inputspec [ u [3 1 2 1 3] ]pre join1 pe Node Increment Interface name u join1 wf inputspec u pre join1 u join pe Join Node Sum Interface joinsource u joinfield u unique True name u wf pre join1 u join u wf assert  sum operands [4 2 3] u Theuniquejoinoutputvalueisincorrect %s.' %  sum operands 
def system Information Type10 name 'y Stem Information Type10 desc [it Field 'pd' 0 1 Bit Field 'ype 0 5 Bit Field 'eader 0 2 Bit Field 'si10' 0 160 ]
def close logger for handler in  logger  logger Handler handler if isinstance handler logging File Handler handler 
def  meta links req count meta { U E R Y PAGE req config Q U E R Y MAX RESULTS req results config O P T I M I Z E PAGINATION FOR SPEED is False meta countreturn meta 
def  dpow x y n if n < 0 raise Value Error 'invalidderivativeorder' elif n > y return 0else return poch y - n + 1 n * x ** y - n 
def  compute scalings bn xlim ylim if isinstance ylim tuple list np ylim ylim ylim pos bn s pos / xlim - xlim bn t pos - bn s * xlim bn s pos / ylim - ylim bn t pos - bn s * ylim 
def  which git config global  cwd user password if global  return ['--global']version   Loose Version version versioninfo False if version  >  Loose Version '1.7.10.2' return ['--local']else return ['--file'  git config cwd user password ]
def plot day summary oclh ax quotes ticksize 3 colorup u colordown u return  plot day summary ax quotes ticksize ticksize colorup colorup colordown colordown ochl True 
def  refine enc enc rsa ['r' 'rsa' 'ssh-rsa']dss ['d' 'dsa' 'dss' 'ssh-dss']ecdsa ['e' 'ecdsa' 'ecdsa-sha2-nistp521' 'ecdsa-sha2-nistp384' 'ecdsa-sha2-nistp256']ed25519 ['ed25519' 'ssh-ed25519']if enc in rsa return 'ssh-rsa'elif enc in dss return 'ssh-dss'elif enc in ecdsa if enc in ['e' 'ecdsa'] return 'ecdsa-sha2-nistp256'return encelif enc in ed25519 return 'ssh-ed25519'else raise Command Execution Error "ncorrectencryptionkeytype enc 
def instance cache func def  wrapper self *args **kwargs key func  name   + args for pair in sorted kwargs key + pairif key in self cache return self cache func self *args **kwargs self cache datareturn datareturn  wrapper 
def server and port resources worked Falsefor port in xrange 4443 4543 try server H T T P Server 'localhost' port partial Request Handler resources except socket passelse worked Trueserver ssl socket server certfile join tests dir 'certs' 'localhost' 'server.pem' server side True breakif not worked raise Runtime Error "ouldn H T T P Sserver return server port 
def  validate constraints supported constraints model message u Optimizercannothandle any six model and u not in supported constraints raise Unsupported Constraint Error message u if any six model and u not in supported constraints raise Unsupported Constraint Error message u if any tuple b ! None None for b in six model and u not in supported constraints raise Unsupported Constraint Error message u if model and u not in supported constraints raise Unsupported Constraint Error message u if model and u not in supported constraints raise Unsupported Constraint Error message u 
def get Cascade Float Without Self default Float element Node key if key in element Node value element Node Name 'get' + key + key ] if function Name in value if element Node Node None return default Floatelse element Node element Node Nodereturn element Node Cascade Float default Float key 
def is html file path ext os path [1].lower return ext in [u'.html' u 
def get access key return environ 'HTTP ACCESSKEY' ''
def st Z C R frame count len frame count Z numpy numpy numpy numpy frame / 2 return numpy count Z / numpy count - 1.0
@downgrades 3 def  downgrade v3 op op table ' new equities sa Column 'sid' sa Integer unique True nullable False primary key True sa Column 'symbol' sa Text sa Column 'company symbol sa Text sa Column 'share class symbol sa Text sa Column 'fuzzy symbol sa Text sa Column 'asset name sa Text sa Column 'start date sa Integer default 0 nullable False sa Column 'end date sa Integer nullable False sa Column 'first traded sa Integer nullable False sa Column 'auto close date sa Integer sa Column 'exchange' sa Text op '\ninsertinto new equities tradedisnotnull op table 'equities' op table ' new equities 'equities' op index 'ix equities company symbol 'equities' ['company symbol op index 'ix equities fuzzy symbol 'equities' ['fuzzy symbol 
def dup mirror f K f list f for i in range len f - 2 -1 -2 f - f return f 
def pytest unconfigure config if config '--qute-profile-subprocs' stats pstats Stats for fn in os 'prof' stats os 'prof' fn stats stats os 'prof' 'combined.pstats'
def make path relative path rel to path filename os path path os path path os os path rel to os os rel to path parts path os .split os rel to parts rel to os .split os while path parts and rel to parts and path parts rel to parts path parts 0 rel to parts 0 full parts ['..'] * len rel to parts + path parts + [path filename if full parts [''] return '.' + os return os full parts 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def icosahedral graph create using None description ['adjacencylist' 'latonic Icosahedral Graph 12 [[2 6 8 9 12] [3 6 7 9] [4 7 9 10] [5 7 10 11] [6 7 11 12] [7 12] [] [9 10 11 12] [10] [11] [12] []]]G make small undirected graph description create using return G
def  parse query string settings query kwargs settings None def list from query string s return s ' ' parsers {'int' int 'float' float 'bool' bool 'list str lambda s list from query string s 'list escaped lambda s [urllib2.unquote e for e in list from query string s ] 'list int lambda s [int i for i in list from query string s ] }settings settings or {} for key in settings if key in query kwargs query value query kwargs type settings needed type ! 'str' try query kwargs parsers type query value except Key Error Value Error del query kwargs query kwargs 
def truncate year dt measure return date dt // measure * measure 1 1
def  is descriptor obj return hasattr obj '  get  ' or hasattr obj '  set  ' or hasattr obj '  delete  '
def mountroot for test test case mountroot File Path test case mountroot test case Cleanup umount all mountroot return mountroot 
def get imports project pydefined pymodule pydefined module module module imports Module Imports project pymodule if pymodule pydefined return [stmt.import info for stmt in module module used imports pydefined 
def connect to cloud monitoring region None return  create client ep name 'monitor' region region 
def poisson2d N dtype 'd' format None if N 1 diags asarray [[4]] dtype dtype return dia matrix diags [0] shape 1 1 .asformat format offsets array [0 - N N -1 1] diags empty 5 N ** 2 dtype dtype diags 4diags[1 ] -1 diags N - 1 N] 0diags[4 N N] 0return dia matrix diags offsets shape N ** 2 N ** 2 .asformat format 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def ae load token key import gdata enginekey name ''.join 'gd auth token token key token string gdata engine token key name if token string is not None return token from blob token string else return None 
def bzr wc target exists no update test 'bzr wc target exists no update '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabric import runfrom fabtools import is dirfrom fabtools import requireassert not is dir wt require copy REMOTE URL wt version '2' require copy REMOTE URL wt update False assert wc exists wt assert run 'bzrrevno%s' % wt '2'
def merge volume bindings volumes previous container affinity {}volume bindings dict build volume binding volume for volume in volumes if volume if previous container old volumes get container data volumes previous container volumes warn on masked volume volumes old volumes previous container volume bindings build volume binding volume for volume in old volumes if old volumes affinity {u'affinity container u ' + previous container }return list volume bindings affinity 
def read epochs kit input fname events event id None mrk None elp None hsp None verbose None epochs Epochs K I T input fname input fname events events event id event id mrk mrk elp elp hsp hsp verbose verbose return epochs 
def enqueue flag exploration email task exploration id report text reporter id payload {'exploration id exploration id 'report text report text 'reporter id reporter id services task feconf T A S K URL FLAG EXPLORATION EMAILS payload 0
def  romberg diff b c k tmp 4.0 ** k return tmp * c - b / tmp - 1.0
def file ext filename dot index filename '.' if dot index -1 return ''return filename index ]
def image tag get all context image id session None  check image id image id session session or get session tags session models Image Tag .filter by image id image id .filter by deleted False .all return [tag[0] for tag in tags 
def verify structure memlen itemsize ndim shape strides offset if offset % itemsize return Falseif offset < 0 or offset + itemsize > memlen return Falseif any v % itemsize for v in strides return Falseif ndim < 0 return ndim 0 and not shape and not strides if 0 in shape return Trueimin sum strides * shape - 1 for j in range ndim if strides < 0 imax sum strides * shape - 1 for j in range ndim if strides > 0 return 0 < offset + imin and offset + imax + itemsize < memlen 
def default locale negotiator request name ' LOCALE 'locale name getattr request name None if locale name is None locale name request name if locale name is None locale name request name return locale name 
def cflags contains value return var contains 'CFLAGS' value 
@check simple wiki locale template 'products/{mobile/}products.html' def product list request template products Product visible True return render request template {'products' products 
def  scale image image side length return image side length side length Image A N T I A L I A S 
def walk top topdown True followlinks False names os top dirs nondirs [] [] for name in names if path path top name dirs name else nondirs name if topdown yield top dirs nondirs for name in dirs fullpath path top name if followlinks or not path fullpath for x in walk fullpath topdown followlinks yield x if not topdown yield top dirs nondirs 
def  lineage block parent block parent while parent yield parent parent parent parent 
def Link File Lock *args **kwds from . import linklockfilereturn  fl helper linklockfile Link Lock File 'lockfile.linklockfile' *args **kwds
def run wsgi app application run bare wsgi app add wsgi middleware application 
def get default fetch deadline return getattr  thread local settings 'default fetch deadline None 
@memoizedef check key ver return check version get key ver 
def  requires alpn func @wraps func def wrapper *args **kwargs if not  lib Cryptography HAS ALPN raise Not Implemented Error ' L P Nnotavailable return func *args **kwargs return wrapper 
def asfreq obj freq method None how None normalize False fill value None if isinstance obj Period Index if method is not None raise Not Implemented Error "'method'argumentisnotsupported" if how is None how ' index obj freq how how new obj obj new obj new indexreturn new objelse if len obj 0 return obj dti date range obj obj -1 ] freq freq dti obj obj dti method method fill value fill value if normalize rs rs return rs 
def digest password realm username password content '%s %s %s' % username realm password if six P Y3 content content 'utf8' return md5 content .hexdigest
def connect walrus host None aws access key id None aws secret access key None port 8773 path 'alrus is secure False **kwargs from boto import S3 Connectionfrom boto import Ordinary Calling Formatif not aws access key id aws access key id config 'redentials 'euca access key id None if not aws secret access key aws secret access key config 'redentials 'euca secret access key None if not host host config 'oto 'walrus host None return S3 Connection aws access key id aws secret access key host host port port path path calling format Ordinary Calling Format is secure is secure **kwargs
@when u def step db create context context u context tmp context {u'database name context tmp 
def get vol list ip user passwd cmd 'showvv'showvv list run ssh thread ip user passwd cmd vol list []line num 0for line in showvv list line num + 1if '-------------------------' in line breakif '-----' in line or 'rcpy.' in line or '.srdata' in line or '0admin' in line continueif line num > 4 vol stats line vol list vol stats return vol list 
def is First Best Match result sickrage Core Logger u Checkingifweshouldarchiveourfirstbestqualitymatchforepisode + result show obj result any qualities best qualities Quality Quality show obj if best qualities and show obj firstmatch and result in best qualities return Truereturn False 
def at server reload start pass 
@magic arguments @argument '-f' '--foo' help 'anargument' def magic magic foo self args return parse argstring magic magic foo args 
def  checkblk name blk   salt  ['cmd.run'] 'lsblk-ofstype{0}'.format name .splitlines return '' if len blk 1 else blk 
def git Config Bool key if key not in  git Config cmd ['git' 'config' '--bool' key read pipe cmd ignore error True v s  git Config v 'true' return  git Config 
def profile list request page 1 template name 'userena/profile list paginate by 50 extra context None **kwargs warnings 'views.profile listisdeprecated Use Profile List Viewinstead Deprecation Warning stacklevel 2 try page int request G E T 'page' None except Type Error Value Error page pageif userena settings U S E R E N A DISABLE PROFILE LIST and not request staff raise Http404profile model get profile model queryset profile model visible profiles request if not extra context extra context dict return Profile List View view queryset queryset paginate by paginate by page page template name template name extra context extra context **kwargs request 
def installed extensions user None host None port None maintenance db None password None runas None exts []query 'selecta.* b namefrompg extensiona pg namespacebwherea b psql query query user user host host port port maintenance db maintenance db password password runas runas exts {}for row in ret if 'extversion' in row and 'extname' in row exts rowreturn exts 
def message Type Names def type Names for types in registry for typ in types yield typ Name return set type Names 
def string b64encode s return base64 b64encode s .strip ' '
def  docker prefix docker cmd DEFAULT DOCKER COMMAND sudo DEFAULT SUDO sudo cmd DEFAULT SUDO COMMAND host DEFAULT HOST **kwds command parts []if sudo command parts sudo cmd command parts docker cmd if host command parts ['-H' host return command parts 
def   get Location   **kwargs global CURRENT L A Tglobal CURRENT L O Nif kwargs is not None CURRENT LAT kwargs C U R R E N T LON kwargs 
def wrap Client T L S connection Creator wrapped Endpoint if T L S Memory B I O Factory is None raise Not Implemented Error 'pen S S Lnotavailable Try return  Wrapper Endpoint wrapped Endpoint lambda protocol Factory T L S Memory B I O Factory connection Creator True protocol Factory 
def  comp sums meg beta ctheta lut fun n fact volume integral sums np n fact len beta n chunk 50000000 // 8 * max n fact * 2 lims np [np.arange 0 beta n chunk [beta.size]] for start stop in zip lims -1 ] lims ] bbeta np beta stop n fact 1 bbeta * beta stop bbeta axis 0 out bbeta np 'ji jk ijk bbeta n fact lut fun ctheta stop out sums start stop return sums 
@handle response format login required admin required def module view request module id response format 'html' module get object or 404 Module pk module id return render to response 'core/administration/module view {'module' module context instance Request Context request response format response format 
def test commandline basic tmpdir subprocess call [sys.executable VIRTUALENV SCRIPT str tmpdir 'venv' ]
def technical 500 response request exc type exc value tb reporter Exception Reporter request exc type exc value tb html reporter traceback html return Http Response Server Error html mimetype 'text/html'
def urfftn inarray dim None if dim is None dim inarray np inarray axes range - dim 0 return outarray / np np inarray - dim ]
def gf to int poly f p symmetric True if symmetric return [gf int c p for c in f return f 
def foo pass 
def get object in event klass id  event id event get object or 404 Event Model event id obj get object or 404 klass id  if obj id ! event raise Invalid Service Error message '{}doesnotbelongtoevent'.format klass  name   return obj 
def line integrate field curve vars from sympy import Curve F sympify field if not F raise Value Error 'xpectingfunctionspecifyingfieldasfirstargument if not isinstance curve Curve raise Value Error 'xpecting Curveentityassecondargument if not is sequence vars raise Value Error 'xpectingorderediterableforvariables if len curve ! len vars raise Value Error 'ieldvariablesizedoesnotmatchcurvedimension if curve in vars raise Value Error 'urveparameterclasheswithfieldparameters Ft Fdldt 0for i var in enumerate vars  f curve dn diff  f curve dldt dldt +  dn *  dn Ft Ft var  f Ft Ft * sqrt dldt integral Integral Ft curve .doit deep False return integral 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def trimtail data proportiontocut 0.2 tail 'left' inclusive True True axis None tail str tail .lower [0]if tail 'l' limits proportiontocut None elif tail 'r' limits None proportiontocut else raise Type Error "hetailargumentshouldbein 'left' 'right' " return trimr data limits limits axis axis inclusive inclusive 
def find states markov model output mm markov model N len mm lp initial numpy mm initial + VERY SMALL NUMBER lp transition numpy mm transition + VERY SMALL NUMBER lp emission numpy mm emission + VERY SMALL NUMBER indexes itemindex mm output [indexes[x] for x in output  viterbi N lp initial lp transition lp emission output for i in range len results states score results [mm.states[x] for x in states numpy score return results 
def capped binomial deviance actual predicted return np capped log10 likelihood actual predicted 
def gnu hash s h 5381for c in s h h * 33 + ord c return h & 4294967295
def now return datetime Time Zone Info 
def request httprepr request parsed urlparse cached request path urlunparse '' '' parsed or '/' parsed parsed '' s ' T T P % request path s + 'ost %s\r\n' % parsed if request s + request string + '\r\n' s + '\r\n's + request s 
def check geom result func cargs if isinstance result int result c void p result if not result raise G D A L Exception 'nvalidgeometrypointerreturnedfrom % func  name   return result 
def new data None return S H A224 Hash .new data 
def p const list p p p 
def clear dag task instances session settings Session TI Task Instancetis session TI .filter T I id  DAG IDS .all for ti in tis logging 'eleting Task Instance {}'.format ti session ti session 
def getargsfromdoc obj if obj  doc   is not None return getargsfromtext obj  doc   obj  name  
def  ensure decoded s if isinstance s np  bytes s s pd option 'display.encoding' return s 
def getbranches tree if isinstance tree tuple name subtree treea [name]for st in subtree a getbranches st return areturn []
def persist uploads params if 'files' in params new files []for upload dataset in params f upload dataset data isinstance f Field Storage assert not isinstance f String I O assert f ! '<fdopen>' local filename util ln f 'upload file data ' f upload dataset data dict filename f local filename local filename elif type f dict and 'local filename not in f raise Exception 'ploadedfilewasencodedinawaynotunderstoodby Galaxy if upload dataset paste and upload dataset paste ! '' upload dataset paste is multi byte datatypes to file String I O upload dataset paste prefix 'strio url paste ' else upload dataset paste Nonenew files upload dataset params new filesreturn params 
def   get username if sys 'win32' return getpass import pwdreturn pwd os .pw name 
@requires application def test actual  test module properties None 
def get New Repository return Fill Repository 
def get bits flags reverse False bits 8 mybits 1 2 4 8 16 32 64 128 256 512 1024 2048 [ bits num 1if reverse rev num -1 ret array 'B' ret append ret bit in mybits rev num ret append flags & bit ! 0 return ret 
def refresh inventory data None try  inventory data except Attribute Error print ' inventorywasnotinitialized 
def download api data filename coord api base projection s host path p q f urlparse api base bbox coordinate latlon bbox coord projection path join path 'api/0.6/map?bbox %.6f %.6f %.6f %.6f' % bbox conn H T T P Connection host conn 'GET' path headers {ccept Encoding 'compress gzip resp conn assert resp 200 resp resp if resp 'ontent Encoding 'gzip' disk open filename 'w' else raise Exception host path disk Gzip File filename 'w' bytes resp disk bytes disk return len bytes / 1024.0
@functools.lru cache maxsize None def get finder import path Finder import string import path if not issubclass Finder Base Finder raise Improperly Configured 'inder % Finder Base Finder return Finder 
def package activity list package id limit offset q  package activity query package id return  activities at offset q limit offset 
def person search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'pr' 'person'
def unicodise safe string encoding None return unicodise deunicodise string encoding encoding .replace u '?'
def get block device mapping image bdm dict dict bdm getattr image 'block device mapping for device name in bdm bdm dict name {'size' bdm name 'snapshot id bdm name id 'volume type bdm name type 'encrypted' bdm name 'delete on termination bdm name on termination bdm dict 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def send update context old instance new instance service None host None if not C O N F on any change and not C O N F on state change returnupdate with state change Falseold vm state old instance state vm state new instance state task state old instance state task state new instance state old vm state ! new vm state update with state change Trueelif C O N F on state change if C O N F on state change 'vm and task state and old task state ! new task state update with state change Trueif update with state change send update with states context new instance old vm state new vm state old task state new task state service host else try  send instance update notification context new instance service service host host except Exception L O G _ 'ailedtosendstateupdatenotification instance new instance 
def logged level name None message None def decorate func logname name if name else func  module   log logging Logger logname logmsg message if message else func  name   @wraps func def wrapper *args **kwargs log level logmsg return func *args **kwargs return wrapperreturn decorate 
def do translate message translation function global  defaulteol message message and message str u str u .replace str u str u or None t getattr  active u None if t is not None result getattr t translation function eol message else if  default is None from django import settings default translation settings L A N G U A G E CODE result getattr  default translation function eol message if isinstance message Safe Data return mark safe result return result 
def Date year month day return datetime year month day 
def issues2dict issues idict {}for i in issues idict ireturn idict 
def get context context host get request site address links []for route page in get pages .iteritems if not page sitemap links {u'loc' urllib host urllib page u u nowdate } for route data in get all page context from doctypes .iteritems links {u'loc' urllib host urllib route or u .encode u u get datetime data u .strftime u Y } return {u'links' links 
def op abs mul lin op args if lin op in [ C A L A R CONST lo D E N S E CONST lo S P A R S E CONST] result np lin op elif lin op is lo N E G result args lin op is lo M U L coeff mul lin op {} True result coeff * args elif lin op is lo D I V divisor mul lin op {} True result args / divisor elif lin op is lo C O N V result conv mul lin op args is abs True else result op mul lin op args return result 
def get example filenames example dir for dirpath dirnames filenames in os example dir for fname in sorted filenames if not fname '.py' continuefilename op dirpath fname name filename example dir ].lstrip '/\\' [ -3 ]name name '\\' '/' yield filename name 
def decorate fn with doc new fn old fn additional text '' def wrapper *args **kw return new fn *args **kw if old fn  doc   wrapper  doc   old fn  doc   + additional text return wrapper 
def splituser host global  userprogif  userprog is None  userprog re '^ .* @ .* $' match  userprog host if match return match 1 2 return None host 
def configure json logging stream io String I O logging Config {'version' 1 'handlers' {'json' {'class' 'tream Handler 'formatter' 'json' 'stream' stream 'root' {'level' 'DEBUG' 'handlers' ['json']} 'formatters' {'json' {' ' 'ogging J S O N Formatter return stream 
def diop general pythagorean eq param symbols 'm' integer True var coeff diop type classify diop eq  dict False if diop type 'general pythagorean return  diop general pythagorean var coeff param 
def sync from app app try modules frappe attr app + u data or {} except Import Error return []if isinstance modules dict modules list []for m desktop icon in modules desktop icon name mmodules list desktop icon else modules list modulesfor i m in enumerate modules list desktop icon name frappe value u Desktop Icon {u'module name m name u app u 1} if desktop icon name desktop icon frappe doc u Desktop Icon desktop icon name else desktop icon frappe doc {u'doctype' u Desktop Icon u i u 1 u app u u Administrator if u in m m doctype m u desktop icon m desktop icon return modules list 
def extract patch textid os downsample temp '${PYLEARN2 DATA P A T H D % textid fname string utils temp img i Image fname img i img i img i / downsample img i / downsample Image B I L I N E A R x numpy 0 img i - os y numpy 0 img i - os patch img i x y x + os y + os return patch x y 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def time xlsxwriter optimised start time clock workbook xlsxwriter Workbook 'xlsxwriter opt {'constant memory True worksheet workbook worksheet for row in range row max // 2 for col in range col max worksheet string row * 2 col 'ow %ol %d' % row col for col in range col max worksheet number row * 2 + 1 col row + col workbook elapsed clock - start time print elapsed time 'xlsxwriter optimised ' elapsed 
def text charp if not charp return ''return native ffi charp 
def bin prefix cmd return os get bin path cmd 
@ile System directory current directory 'django' 'alfaces' def test limit by app getting one app status out commands 'pythonmanage.pyharvest--verbosity 3--no-color--apps foobar assert equals status 0 out assert 'estthedjangoapp D O N O T H I N G not in out assert 'estthedjangoapp F O O B A R in out 
def service tags not in module path physical line filename if 'tempest/scenario' not in filename matches SCENARIO D E C O R A T O R physical line if matches services matches 1 .split ' ' for service in services service name service .strip "'" modulepath os filename [0]if service name in modulepath return physical line service name 'T107 servicetagshouldnotbeinpath 
def cost per mille spend impressions if impressions return 1000.0 * float spend / impressions else return 0
def cluster depths cluster depths {}depths[cluster] 0for cluster in preorder cluster cl depth depths dict cluster cl depth + 1 return depths 
def var str name shape size np shape ind np shape + 1 .reshape -1 size names [ '[' + ' '.join map str i + ']' for i in zip *ind ]names[0] '%s%s' % name names return names 
def make plots filename num epochs training cost xmin 200 test accuracy xmin 200 test cost xmin 0 training accuracy xmin 0 training set size 1000 f open filename 'r' test cost test accuracy training cost training accuracy json f f plot training cost training cost num epochs training cost xmin plot test accuracy test accuracy num epochs test accuracy xmin plot test cost test cost num epochs test cost xmin plot training accuracy training accuracy num epochs training accuracy xmin training set size plot overlay test accuracy training accuracy num epochs min test accuracy xmin training accuracy xmin training set size 
def get lang from calibre base import prefslang prefs os 'CALIBRE OVERRIDE LANG' lang if lang return langtry lang get system locale except import tracebacktraceback exc lang Noneif lang match re '[a-z]{2 3}  [A-Z]{2} {0 1}' lang if match lang match if lang 'zh' lang 'zh C N not lang lang 'en'return lang 
def compile repl group source pattern source '<' name parse name source True True source '>' if name index int name if not 0 < index < pattern raise error 'invalidgroupreference' source source return indextry return pattern Key Error raise Index Error 'unknowngroup'
def  check equality tuple1 tuple2 list1 list tuple1 list2 list tuple2 list1 list2 return list1 list2 
def wipe disks job disk list for disk in disk list partition filesystem job disk 
def find language locale if not locale return None L A N G S settings A M O LANGUAGES + settings H I D D E N LANGUAGES if locale in LANGS return localeloc settings S H O R T E R L A N G U A G E S locale if loc return loclocale to language locale if locale in LANGS return localereturn None 
def create fake repository test case files source repo File Path test case source repo Directoryfor key in files new file source repo Child key if not new file .exists new file .makedirs new file Content files return 'file //' + source repo 
def get Vertex Given Line line split Line line return Vector3 get Float split Line get Float split Line get Float split Line 
def requeue queue index -1 x queue index queue 0 x return x 
def normalize leaf element if not is leaf element return element left operator right elementoriginal operatoroperator operator if operator '<>' operator '! 'if isinstance right bool and operator in 'in' 'notin'  logger "hedomainterm 'or'! 'operator." % left original right operator ' ' if operator 'in' else '! ' if isinstance right list tuple and operator in ' ' '! '  logger "hedomainterm % left original right operator 'in' if operator ' ' else 'notin' return left operator right 
def dataset follower count context data dict return  follower count context data dict ckan follow dataset schema context User Following Dataset 
def cb Close result from twisted import reactorreactor 
def parse sample id map sample id map f result {}new samp id counts defaultdict int for line in sample id map f line line if line samp id mapped id line ' DCTB ' if samp id in result raise Value Error "hefirstcolumnofthesample I Dmapmustcontainuniquesample I Ds '%s'isrepeated .hesecondcolumn however maycontainrepeats % samp id elif new samp id counts id > 2 raise Value Error "nlytwooriginalsample I Dsmaymaptothesamenewsample I D Thenewsample I D I Dsmappingtoit % mapped id else result id mapped idnew samp id counts id + 1return result 
@receiver post save sender Api Access Request dispatch uid 'api access request post save email def send request email sender instance created **kwargs if created  send new pending email instance 
def gradient image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy gradient image selem out out mask mask shift x shift x shift y shift y 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def snapshot domain name None suffix None if name and name domain raise Command Execution Error 'irtual Machine Pleasechooseanothernameforthesnapshot name name if not name name '{domain}-{tsnap}'.format domain domain tsnap time ' H M S time if suffix name '{name}-{suffix}'.format name name suffix suffix doc Element Tree Element 'domainsnapshot' n name Element Tree Sub Element doc 'name' n name name get domain domain .reate X M L Element Tree doc return {'name' name 
def extract link from header simple http response header name header value if not header value raise Stop Iterationtry yield http response url .url join header value except Value Error msg 'heapplicationsenta U R L theheadervaluewas "%s"'om.out.debug msg % header name header value 
def print fw iterable joins ' ' prefix '' indent 0 width 79 trail False shift width 4preline '%s%s' % '' * shift width prefix linew len preline sys preline for i entry in enumerate iterable if not trail and i len iterable - 1 sentry str entry else sentry '%s%s' % str entry joins if linew + len sentry > width sys '\n%s' % preline linew len preline sys sentry linew + len sentry sys '\n'
def get Window Analyze File Given Text file Name gcode Text repository None if gcode Text '' return Noneif repository None repository settings Read Repository Skeinlayer Repository skein Window get Window Given Text Repository file Name gcode Text repository skein Window Deiconify return skein Window 
def load ip q cidr ip q  all ips [str i for i in list netaddr I P Network cidr ]base exclude [str netaddr I P Network cidr .network str netaddr I P Network cidr .broadcast ]USED I P S base exclude for ip in random  all ips len  all ips if ip not in USED IPS ip q ip 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  get conn ret None  options  get options ret database  options 'database' timeout  options 'timeout' if not database raise Exception 'sqlite3configoption"sqlite3.database"ismissing' if not timeout raise Exception 'sqlite3configoption"sqlite3.timeout"ismissing' log 'onnectingthesqlite3database {0}timeout {1}'.format database timeout conn sqlite3 database timeout float timeout return conn 
def ensure pr fetch modified Falseremotes git .splitlines if u not in remotes git u u u //github.com/edx/edx-platform.git' modified Trueedx fetches git u get all True .splitlines pr fetch u refs pr fetch not in edx fetches git u pr fetch add True modified Truegit u return modified 
def unpair address if not salt address raise Command Execution Error 'nvalid B Daddresspassedtobluetooth cmd 'bluez-test-deviceremove{0}'.format address out   salt  ['cmd.run'] cmd .splitlines return out 
def Set Thread Name thread name thread Name '[%s %s]' % Global Process .ype name 
def test run multiproc nondaemon false should Have Failed Falsetry run multiproc nondaemon with flag False except should Have Failed Trueassert should Have Failed 
def Create Class From X M L String target class xml string string encoding None encoding string encoding or XML STRING ENCODING if encoding and isinstance xml string unicode xml string xml string encoding tree Element Tree xml string return  Create Class From Element Tree target class tree 
def p morerules p if len p 2 p [[]]elif len p 3 p [p[2]]else p p p 
def unload ipython extension ipython pass 
def security group rule count by group context security group id return I M P L group rule count by group context security group id 
def plot influence conf mse values prediction times complexities plt figsize 12 6 host host subplot 111 axes class Axes plt adjust right 0.75 par1 host host xlabel 'odel Complexity %s ' % conf label y1 label conf performance label label 'ime s 'host.set ylabel y1 label par1 ylabel y2 label p1 host complexities mse values 'b-' label 'predictionerror' p2 par1 complexities prediction times 'r-' label 'latency' host loc 'upperright' host color p1 color par1 color p2 color plt 'nfluenceof Model Complexity % conf  name   plt 
@pytest.mark.skipif u H A S SCIPY' def test fit with bound constraints estimate jacobian class My Model Fittable1 D Model a Parameter default 1 b Parameter default 2 @staticmethoddef evaluate x a b return a * x + b m real My Model a 1.5 b -3 x np 100 y m real x m My Model f fitting Lev Mar L S Q Fitter fitted 1 f m x y assert np fitted 1.a 1.5 assert np fitted 1.b -3 m2 My Model m2 -2 2 f2 fitting Lev Mar L S Q Fitter fitted 2 f2 m2 x y assert np fitted 1.a 1.5 assert np fitted 1.b -3 assert np f2 info ! 0
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  all number groups are exactly present numobj normalized candidate formatted number groups candidate groups re NON DIGITS PATTERN normalized candidate if numobj is not None candidate number group index len candidate groups - 2 else candidate number group index len candidate groups - 1 if len candidate groups 1 or candidate groups number group index national significant number numobj ! -1 return Trueformatted number group index len formatted number groups - 1 while formatted number group index > 0 and candidate number group index > 0 if candidate groups number group index ! formatted number groups number group index return Falseformatted number group index - 1candidate number group index - 1return candidate number group index > 0 and candidate groups number group index formatted number groups 
def co findloadednames co names {}names.update co code findloadednames co for c in co consts if isinstance c type co names co findloadednames c return names 
def random shear x intensity row axis 1 col axis 2 channel axis 0 fill mode 'nearest' cval 0.0 shear np - intensity intensity shear matrix np [[1 - np shear 0] [0 np shear 0] [0 0 1]] h w x axis x axis transform matrix transform matrix offset center shear matrix h w x apply transform x transform matrix channel axis fill mode cval return x 
def parse mime type mime type type mime type ';' type plist type type ] try type subtype type '/' 1 except Value Error type subtype type or '*' '*' else type type or '*' subtype subtype or '*' params {}for param in plist param param ' ' 1 if len param 2 key value param param if key and value params valuereturn type subtype params 
def alert ack return s3 rest controller 
def builds chain fingerprinter registry xml parent data fingerprinter X M L Sub Element xml parent 'utomatic Fingerprint Job Property X M L Sub Element fingerprinter 'er Builds Chain Enabled .text str data 'per-builds-chain' False .lower X M L Sub Element fingerprinter 'er Jobs Chain Enabled .text str data 'per-job-chain' False .lower
def p atom tuple p p p 
def paragraphs count common True paras []for i in range count if common and i 0 paras COMMON P else paras paragraph return paras 
def get redirect on fallback language site id None language get language object language site id return language 'redirect on fallback True 
def resolve1 x while isinstance x P D F Obj Ref x x return x 
def write incron file verbose user path return   salt  ['cmd.run all  get incron cmdstr path runas user python shell False 
@utils.arg 'project' metavar '<project id help _ ' U I Doftheprojecttocreatethecloudpipefor def do cloudpipe create cs args cs args 
def make test filename fname purpose base ext os fname return u % base purpose ext 
def get max id corpus maxid -1 for document in corpus maxid max maxid max [ -1 ] + [fieldid for fieldid _ in document return maxid 
def patch 2d to 3d patch z 0 zdir u verts get patch verts patch patch  class   Patch3 Dpatch 3d properties verts z zdir 
def  base64 md5hash buffer object hash obj md5  write buffer to hash buffer object hash obj digest bytes hash obj return base64 digest bytes 
def same Synapse syn synapses for s in synapses if s syn and s syn and abs s - syn < 0.001 return Truereturn False 
def set memmap min size memmap min size if memmap min size is not None if not isinstance memmap min size string types raise Value Error "'memmap min size if memmap min size -1 ] not in ['K' 'M' 'G'] raise Value Error 'hesizehastobegiveninkilo mega orgigabytes e 100K 500M 1G.' set config 'MNE MEMMAP MIN SIZE' memmap min size set env False 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def  array clip val val val np val if val > 1 or val < 0 logger 'valuewillbeclippedbetween0and1' val np val 0 1 return val 
def  get type e try return e  class  except Attribute Error return type e 
def check messages *messages def store messages func func msgs messagesreturn funcreturn store messages 
def expand indent line result 0for char in line if char ' DCTB ' result result / 8 * 8 + 8 elif char '' result + 1else breakreturn result 
def view my tweets t Twitter auth authen try num int g except num c H O M E TWEET N U M tweet in reversed t timeline count num screen name g name draw t tweet print Nicely ''
def  valid ip ip address octets ip address '.' if len octets ! 4 return Falsefor i octet in enumerate octets try octets int octet except Value Error return False first octet second octet third octet fourth octet octetsif first octet < 1 return Falseelif first octet > 223 return Falseelif first octet 127 return Falseif first octet 169 and second octet 254 return Falsefor octet in second octet third octet fourth octet if octet < 0 or octet > 255 return Falsereturn True 
def  match query query attrs attrs checked inner query -1 ]if inner '&' '|' if inner '&' matchfn allelse matchfn anygroups  paren groups inner ] return matchfn  match query group attrs attrs checked for group in groups if inner '!' return not  match query query -1 ] attrs attrs checked k  sep v inner ' ' attrs checked k return  match k v attrs 
def register functions lib ignore errors def register item return register function lib item ignore errors list map register function List 
def jacobi a n assert n > 3 assert n % 2 1 a a % n if a 0 return 0if a 1 return 1 a1 e a 0 while a1 % 2 0 a1 e a1 // 2 e + 1 if e % 2 0 or n % 8 1 or n % 8 7 s 1else s -1 if a1 1 return sif n % 4 3 and a1 % 4 3 s - s return s * jacobi n % a1 a1 
def get remote method info method if not callable method return Nonetry method info method Attribute Error return Noneif not isinstance method info  Remote Method Info return Nonereturn method info 
def test basic call coroutine @hug.call @asyncio.coroutinedef hello world return 'ello World loop until complete hello world 'ello World 
def maybe get subscriber emails stream user profile try subscribers get subscriber emails stream requesting user user profile except Jsonable Error subscribers []return subscribers 
def parse keqv list l encoded list [u.encode 'utf-8' for u in l parsed urllib2 keqv list encoded list return dict k 'utf-8' v 'utf-8' for k v in encoded parsed 
def Histogram data values None label None color None agg 'count' bins None yscale 'linear' xgrid False ygrid True continuous range None **kw if continuous range and not isinstance continuous range Range1d raise Value Error 'continuous rangemustbeaninstanceofbokeh Range1d y range continuous rangekw labelkw valueskw colorkw aggkw yscalekw xgridkw ygridkw range y rangekw binsreturn create and build Histogram Builder data **kw
def brent func args brack None tol 1.48e-08 full output 0 maxiter 500 options {'xtol' tol 'maxiter' maxiter  minimize scalar brent func brack args **options if full output return res res res res else return res 
def validate settings from django import settingsfrom django facebook import settings as facebook settingsif facebook settings F A C E B O O K SKIP VALIDATE returnif not facebook settings F A C E B O O K APP ID logger u Warning F A C E B O O K APP I Disntspecified if not facebook settings F A C E B O O K APP SECRET logger u Warning F A C E B O O K APP S E C R E Tisntspecified if facebook settings F A C E B O O K STORE LIKES or facebook settings F A C E B O O K STORE FRIENDS if not facebook settings F A C E B O O K CELERY STORE msg u Storingfriendsorlikeswithoutusing Celerywillsignificantlyslowdownyourlogin Itsrecommendedtoenable F A C E B O O K CELERY S T O R Eordisable F A C E B O O K STORE F R I E N D Sand F A C E B O O K STORE L I K E S msg required [u'django facebook processors u processors processors settings T E M P L A T E CONTEXT P R O C E S S O R Sfor context processor in required if context processor not in context processors logger u Requiredcontextprocessor context processor backends settings A U T H E N T I C A T I O N B A C K E N D Srequired u facebook backends Facebook Backend required not in backends logger u Requiredauthbackend required 
def Parse Kinds And Sizes kinds sizes known Truesize total 0kinds and sizes Retrieve Cached Stats if kinds and sizes for kind in kinds if kind in kinds and sizes size total + kinds and sizes sizes known Falseelse sizes known Falseif size total size total Get Pretty Bytes size total return sizes known size total len kinds - 2
def String Sizer field number is repeated is packed tag size  Tag Size field number local Varint Size  Varint Sizelocal len lenassert not is packed if is repeated def Repeated Field Size value result tag size * len value for element in value l local len element 'utf-8' result + local Varint Size l + l return resultreturn Repeated Field Sizeelse def Field Size value l local len value 'utf-8' return tag size + local Varint Size l + l return Field Size 
def  init mac g { I B D E S T get python lib plat specific 0 standard lib 1 g B I N L I B D E S T get python lib plat specific 1 standard lib 1 g I N C L U D E P Y get python inc plat specific 0 import Mac O Sif not hasattr Mac O S 'runtimemodel' g S O '.ppc.slb'else g S O '.%s.slb' % Mac O S g lib os EXEC PREFIX 'ib g platlib os EXEC PREFIX 'ac 'ib g ' 'global  config vars config vars g 
def cut size G S T None weight None edges nx boundary G S T data weight default 1 if G directed edges chain edges nx boundary G T S data weight default 1 return sum weight for u v weight in edges 
def get env global  jinja envif  jinja env is None  jinja env create env return  jinja env 
def get conf file name cfg root uuid cfg file ensure conf dir False conf base  get conf base cfg root uuid ensure conf dir return '%s.%s' % conf base cfg file 
def  safe str obj try return str obj except Exception return object  str   obj 
def  try lookup table value default '' try string table Key Error string defaultreturn string 
def unordered list value def  helper value tabs indent ' DCTB ' * tabs if value return '%s<li>%s\n%s<ul>\n%s\n%s</ul>\n%s</li>' % indent value indent '\n'.join [ helper v tabs + 1 for v in value indent indent else return '%s<li>%s</li>' % indent value return  helper value 1
def check available mod return mod in available 
def get exponential symbol locale LC NUMERIC return Locale locale .number symbols 'exponential' u E 
def test ast bad if cant compile u if ' cant compile u if ' cant compile u if '
def delete user org userid orgid profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile response requests '{0}/api/orgs/{1}/users/{2}'.format profile url orgid userid auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def plural w s number suffix 's' capitalize False numbers 'zero' 'one' 'two' 'three' 'four' 'five' 'six' 'seven' 'nine' 'ten' number str numbers if number < len numbers else str number if capitalize number str number str return s number number str s suffix if number % 100 ! 1 else ''
def tftpboot location make version os release str version str version if make in 'fedora' 'redhat' 'centos' 'virtuozzo' return '/var/lib/tftpboot'elif make 'suse' return '/srv/tftpboot'elif make 'ubuntu' and os '/var/lib/tftpboot' return '/var/lib/tftpboot'elif make 'ubuntu' and os '/srv/tftp' return '/srv/tftp'elif make 'debian' and int str version '.' [0] < 6 return '/var/lib/tftpboot'elif make 'debian' and int str version '.' [0] > 6 return '/srv/tftp'else return '/tftpboot'
def test filtfilt x np [ 1 np 100 ]y filtfilt [1 0] [1 0] x padlen 0 assert array equal x y y mne sosfiltfilt np [[1.0 0.0 0.0 1 0.0 0.0]] x padlen 0 assert array equal x y 
@pytest.mark.parametrize u totest frames def test cirs altaz nodist testframe coo0 CIRS Unit Spherical Representation 10 * u 20 * u obstime testframe coo1 coo0 to testframe .transform to coo0 assert allclose coo0 coo1 
def format scientific number format None return get i18n .format scientific number format 
def  get signature object func as instance eat self if isinstance func type and not as instance try func func  init  except Attribute Error return Noneeat self Trueelif not isinstance func Function Types try func func  call  except Attribute Error return Noneif eat self sig func partial func None else sig func functry return func inspect sig func except Value Error return None 
def  sorted factors factors method if method 'sqf' def key obj poly exp objrep poly exp len rep len poly rep else def key obj poly exp objrep poly len rep len poly exp rep return sorted factors key key 
def convert char c if c in PRINTABLE CHARACTERS return celse return '\\x%02x' % ord c 
def dup clear denoms f K0 K1 None convert False if K1 is None if K0 assoc Ring K1 K0 ring else K1 K0common K1 c in f common K1 common K0 c if not K1 one common f dup mul ground f common K0 if not convert return common f else return common dup convert f K0 K1
def create test log folder if not os sickbeard L O G DIR os sickbeard L O G DIR
def del store name store saltenv 'base' ret {'name' name 'result' True 'comment' '' 'changes' {}}cert file   salt  ['cp.cache file name saltenv if cert file is False ret Falseret + 'ertificatefilenotfound cert serial   salt  ['certutil.get cert serial cert file serials   salt  ['certutil.get stored cert serials store if cert serial in serials out   salt  ['certutil.del store cert file store if 'successfully' in out ret nameelse ret Falseret + 'ailedtoremovethecertificate name else ret + '{0}alreadyremoved.'.format name return ret 
def add permalink methods content inst for permalink method in PERMALINK METHODS setattr content inst permalink method  name   permalink method  get   content inst content inst  class  
def nquad func ranges args None opts None full output False depth len ranges ranges [ rng if callable rng else  Range Func rng for rng in ranges args is None args if opts is None opts [dict [] ] * depth if isinstance opts dict opts [ Opt Func opts ] * depth else opts [ opt if callable opt else  Opt Func opt for opt in opts  N Quad func ranges opts full output .integrate *args
def rs or single client noauth h client context p client context **kwargs return  mongo client h p authenticate False **kwargs
def get With Least Length path point if len path < 1 return 0oint Index Noneshortest Additional Length 9.999999999876543e+17for point Index in xrange len path + 1 additional Length get Additional Length path point point Index if additional Length < shortest Additional Length shortest Additional Length additional Lengthshortest Point Index point Indexreturn shortest Point Index 
def plot ccpr results exog idx ax None fig ax utils mpl ax ax exog name exog idx utils name or idx exog idx results results maybe unwrap results results x1 results exog idx x1 * results idx ax x1 x1beta + results 'o' from statsmodels import add constantmod OLS x1beta add constant x1 .fit params mod abline plot *params **dict ax ax ax title 'omponentandcomponentplusresidualplot ax ylabel 'esidual %d' % exog name exog idx ax xlabel '%s' % exog name return fig 
def add url url pp None script None cat None priority None nzbname None if 'http' not in url returnif not pp or pp '-1' pp Noneif script and script 'default' script Noneif cat and cat 'default' cat Nonelogging 'etching url msg T 'ryingtofetch N Z Bfrom % url future nzo Nzb Queue future msg pp script cat url url priority priority nzbname nzbname U R L Grabber url future nzo return future nzo id 
def ensure schemas for schema in OSF META SCHEMAS ensure schema schema schema version schema 'version' 1
def generate Grid Data x y return ticks False x np x x x y np y y y X Y np x y shape X Classification Data Set 2 1 ds Field 'input' np X X 1 Y X 1 1 ds Field 'target' np [ 1] ds convert To One Of Many if return ticks return ds x y else return ds X Y
def Mime Replace Filename header filename start header 'filename ' start header '"' start end header '"' start + 1 + 1 if start > 0 and end > start headernew header start + 1 ] + filename + header end - 1 ] else headernew header ]return headernew 
def processes attrs None where None return  osquery cmd table 'processes' attrs attrs where where 
def  find migrate repo path os os os   file   'migrate repo assert os path return path 
def is passing status cert status return Certificate Statuses passing status cert status 
def address type address return len address 4 and  TYPE A or  TYPE AAAA
@require P O S T required 'kbforums.sticky thread def sticky thread request document slug thread id doc get document document slug request thread get object or 404 Thread pk thread id document doc thread sticky not thread sticky log 'ser sticky % Bthreadwithid %s' % request thread sticky thread thread return Http Response Redirect reverse 'wiki.discuss.posts' args [document slug thread id 
@treeio login requireddef ajax ticket lookup request response format 'html' tickets []if request G E T and 'term' in request G E T tickets Ticket name  icontains request G E T [ 10]return render to response 'services/ajax ticket lookup {'tickets' tickets context instance Request Context request response format response format 
def list env saltenv 'base' ret {}if saltenv not in   opts  ['file roots return retfor f root in   opts  ['file roots ret root {}for root dirs files in os f root sub ret root root ! f root sroot rootabove []while not os sroot f root base os sroot if base above 0 base sroot os sroot for aroot in above sub sub dir  in dirs sub ] {}for fn  in files sub ] 'f'return ret 
def test set model completionview model base Base Completion Model filtermodel sortfilter Completion Filter Model model for i in range 3 model Row Q Standard Item str i completionview model filtermodel assert completionview is filtermodel for i in range model Count assert completionview Expanded filtermodel i 0
def acceptable title node omit titles ['test' 'photo' 'workshop' 'data']if any word in str node .lower for word in omit titles return Falsereturn True 
def image volume cache get all context **filters return I M P L volume cache get all context **filters
def id return  distro 
def test predict 2 tpot obj T P O T Classifier tpot obj optimized pipeline creator Individual string 'ecision Tree Classifier input matrix ' tpot obj pset tpot obj fitted pipeline tpot obj toolbox expr tpot obj optimized pipeline tpot obj fitted pipeline training features training classes result tpot obj testing features assert result testing features 
def get Description Fill lines activate Fill String get Setting String lines 'fill' 'ctivate Fill if activate Fill String None or activate Fill String 'alse return 'olidity String get Setting String lines 'fill' 'nfill Solidity return '_' + infill Solidity String '.' '' + 'fill'
def split token in parts token result []current []for part in token + u ' if part u ' if current result tuple current current []else current part return result 
def peers ntp peers   proxy  ['napalm.call'] 'get ntp peers **{} if not ntp peers 'result' return ntp peersntp peers list list ntp peers 'out' {} .keys ntp peers ntp peers listreturn ntp peers 
def bounds sizes low 0rv []for size in sizes rv low low + size low + sizereturn rv 
def read transform fid return read double matrix fid rows 4 cols 4
def block indent text spaces 4 return '\n'.join [ '' * spaces + l for l in pprint text .splitlines ]
def parse netntlm chal headers chal header ack try header val2 headers header Key Error returnheader val2 header val2 '' 1 if header val2 'NTLM' or header val2 'egotiate msg2 header val2 base64 msg2 parse ntlm chal ack msg2 
def mod watch name **kwargs if kwargs 'sfun' in ['wait set key 'wait set return set  name kwargs 'value' kwargs 'profile' if kwargs 'sfun' in ['wait rm key 'wait rm return rm  name kwargs 'profile' return {'name' name 'changes' {} 'comment' 'etcd.{0[sfun]}doesnotworkwiththewatchrequisite pleaseuseetcd setoretcd rm kwargs 'result' False 
def  format datastore key key path key path parts []for i in range 0 len path // 2 kind path i * 2 ]value path i * 2 + 1 ]if isinstance value int long parts '%s id %d' % kind value else parts '%s name %s' % kind value return '>'.join parts 
def  conf set F alpha 0.05 nobs len F epsilon np np 2.0 / alpha / 2 * nobs lower np F - epsilon 0 1 upper np F + epsilon 0 1 return lower upper 
def parse hex escape source info esc expected len in set type saved pos source []for i in range expected len ch source if ch not in HEX DIGITS raise error 'incompleteescape\\%s%s' % type ''.join digits source saved pos digits ch try value int ''.join digits 16 except Value Error passelse if value < 1114112 return make character info value in set raise error 'badhexescape\\%s%s' % esc ''.join digits source saved pos 
def  decode embedded list src output []for elem in src if isinstance elem dict elem  decode embedded dict elem elif isinstance elem list elem  decode embedded list elem elif isinstance elem bytes try elem elem except Unicode Error passoutput elem return output 
def cx One Point ind1 ind2 size min len ind1 len ind2 cxpoint random 1 size - 1 ind1 ] ind2 ] ind2 ] ind1 ] return ind1 ind2 
def checkout with shoppingcart request user course key course mode amount cart Order cart for user user cart enrollment mode course mode Certificate Item to order cart course key amount enrollment mode cart purchase callback url request absolute uri reverse 'shoppingcart.views.postpay callback payment data {'payment processor name settings C C PROCESSOR NAME 'payment page url get purchase endpoint 'payment form data get signed purchase params cart callback url callback url extra data [unicode course key course mode }return payment data 
def reverse Name From I Pv4 Address address tokens list reversed address '.' + ['in-addr' 'arpa' ''] return '.'.join tokens 
def test model extension class Dummy Model Extension Model Extension 'implestinstanceof Model Extension Dummy Model Model 'implestinstanceof Model Dummy Model Extension try 'hisshouldcauseanassertionerrorforpassingatupleinsteadof Dummy Model extensions extensions except Assertion Error passextensions [ummy Model Extension None 'hisshouldcauseanassertionerrorforpassingalistwhereeach Model Extension Dummy Model extensions extensions except Assertion Error passextensions []for i in xrange 3 extensions Dummy Model Extension 'hisshouldnotcauseanassertion Dummy Model extensions extensions 
def ord Lookup libname ord make name False names ords libname if names None if make name is True return 'ord%d' % ord return Nonename names ord if name None return 'ord%d' % ord return name 
def house x graph create using None description ['adjacencylist' 'ouse X Graph 5 [[2 3 4] [1 3 4] [1 2 4 5] [1 2 3 5] [3 4]]]G make small undirected graph description create using return G
def write pid pidfile f open pidfile 'w' try f str os finally f 
def Is Phrase node text Get Query Node Text node return node Type Query Parser V A L U E and text '"' and text '"'
def CDLSHOOTINGSTAR bar Ds count return call talib with ohlc bar Ds count talib C D L S H O O T I N G S T A R 
def  get spider loader settings if settings 'SPIDER MANAGER CLASS' warnings 'SPIDER MANAGER C L A S Soptionisdeprecated Pleaseuse S P I D E R LOADER CLASS.' category Scrapy Deprecation Warning stacklevel 2 cls path settings 'SPIDER MANAGER CLASS' settings 'SPIDER LOADER CLASS' loader cls load object cls path try verify Class I Spider Loader loader cls except Does Not Implement warnings 'SPIDER LOADER CLASS previouslynamed S P I D E R MANAGER CLASS doesnotfullyimplementscrapy I Spider Loaderinterface Pleaseaddallmissingmethodstoavoidunexpectedruntimeerrors category Scrapy Deprecation Warning stacklevel 2 return loader cls settings settings 
def Signed Varint Encode value result ''if value < 0 value + 1 << 64 bits value & 127 value >> 7while value result + HIGH CHR M A P value & 127 value >> 7result + CHR M A P result 
def validate source string source return unhexlify source if len source 40 and not source 'http' else source 
def  map oids oids new oids set for oid in oids if oid in  oid map new oids |  oid map oids | new oids 
def grading context course structure all graded blocks []all graded subsections by type Ordered Dict for chapter key in course structure children course structure block usage key for subsection key in course structure children chapter key subsection course structure key descendants of subsection []if subsection for descendant key in course structure order traversal filter func possibly scored start node subsection key scored descendants of subsection course structure key subsection info {'subsection block subsection 'scored descendants [child for child in scored descendants of subsection if getattr child 'has score None ]}subsection format getattr subsection 'format' '' if subsection format not in all graded subsections by type all graded subsections by type format []all graded subsections by type format subsection info all graded blocks scored descendants of subsection return {'all graded subsections by type all graded subsections by type 'all graded blocks all graded blocks 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def  pipe segment with colons align colwidth w colwidthif align in [u'right' u return u * w - 1 + u ' elif align u return u ' + u * w - 2 + u ' elif align u return u ' + u * w - 1 else return u * w 
def batch code exec caller ptr caller stackptrstack caller stackdebug caller debugcode stack format header caller code err B A T C H C O D E exec code extra environ {'caller' caller debug debug if err caller format code err return Falsereturn True 
def proppatch path xml request collection root E T xml request 'utf8' props to set props from request root actions 'set' props to remove props from request root actions 'remove' multistatus E T Element  tag 'D' 'multistatus' response E T Element  tag 'D' 'response' multistatus response href E T Element  tag 'D' 'href' href  href collection path response href for short name in props to remove props to set name ''collection.set meta props to set for short name in props to set  add propstat to response short name 200 return  pretty xml multistatus 
def p specifier qualifier list 2 t pass 
def halt return shutdown 
def rax find network module rax module network cnw rax module networkstry UUID network except Value Error if network 'public' return cnw server networks PUBLIC NET ID elif network 'private' return cnw server networks SERVICE NET ID else try network obj cnw network by label network except rax module Network Not Found rax module Network Label Not Unique module json msg 'omatchingnetworkfound %s ' % network else return cnw server networks network obj else return cnw server networks network 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def  load libcrypto if sys 'win' return cdll Load Library 'libeay32' elif getattr sys 'frozen' False and salt smartos return cdll Load Library glob os os sys 'libcrypto.so*' [0] else lib find library 'crypto' if not lib and salt sunos lib glob os '/opt/local/lib' 'libcrypto.so*' lib lib if len lib > 0 else None if lib return cdll Load Library lib raise O S Error 'annotlocate Open S S Llibcrypto 
def set input value and save page css value set input value page css value .send keys Keys E N T E R page for ajax 
def candidates items artist album va likely for plugin in find plugins for candidate in plugin items artist album va likely yield candidate 
def test solve polynomial cv 2 assert solve x + 1 / x - 1 x in [[ Rational 1 2 + I * sqrt 3 / 2 Rational 1 2 - I * sqrt 3 / 2 ] [ Rational 1 2 - I * sqrt 3 / 2 Rational 1 2 + I * sqrt 3 / 2 ]]
def ensure file path ensure directory containing path open path 'a+' .close
def  assert pid not reused fun @functools.wraps fun def wrapper self *args **kwargs if not self running raise No Such Process self self name return fun self *args **kwargs return wrapper 
def hash file filename return u //|file|%s|%d|%s|/' % os filename os filename hash filehash filename .upper
def subprocess Popen command **params startupinfo Noneif os 'nt' startupinfo subprocess S T A R T U P I N F O try startupinfo Flags | subprocess S T A R T F U S E S H O W W I N D O Wexcept Attribute Error startupinfo Flags | subprocess subprocess S T A R T F U S E S H O W W I N D O Wparams Trueif isinstance command list command ''.join command stdin Noneif 'stdin' not in params stdin open os params stdin try proc subprocess Popen command startupinfo startupinfo **params finally if stdin is not None stdin return proc 
def  int64 feature value if not isinstance value list value [value]return tf Feature int64 list tf Int64 List value value 
def process is alive name pattern return utils "pgrep-f'^ [^/]*/ * %s []|$ '" % name pattern ignore status True 0
def patch User Database patch user uid group gid pwent pwd os grent grp os database User Database database User user pwent passwd uid pwent gid pwent gecos pwent dir pwent shell def getgrnam name result list grent result grent name ] groupresult grent gid ] gidresult tuple result return {group result pwd 'getpwnam' database patch grp 'getgrnam' getgrnam 
def  dashboard activity query user id limit q1  user activity query user id limit q2  activities from everything followed by user query user id limit return  activities union all q1 q2 
def test model found arguments for goal assumptions in arguments g Expression goal alist [lp.parse a for a in assumptions Mace Command g assumptions alist max models 50 found m model for a in alist print '%s' % a print '|-%s %s\n' % g decode result found 
def require mime *mimes @decoratordef wrap f self request *args **kwargs m Mimer request realmimes set rewrite {'json' 'application/json' 'yaml' 'application/x-yaml' 'xml' 'text/xml' 'pickle' 'application/python-pickle'}for idx mime in enumerate mimes realmimes rewrite mime mime if not m type in realmimes return rc B A D R E Q U E S Treturn f self request *args **kwargs return wrap 
def  concat datetimetz to concat name None if len set [str x for x in to concat ! 1 raise Value Error 'to concatmusthavethesametz tz to concat values np [x.asi8 for x in to concat return to concat simple new new values tz tz name name 
def  get compute id local ips id to node ips matching instances []for server id api addresses in id to node ips if api addresses local ips matching instances server id if len matching instances 1 and matching instances return matching instances Key Error "ouldn 
def compute exploration contributors summary exploration id snapshots metadata get exploration snapshots metadata exploration id current version len snapshots metadata contributors summary collections int while True snapshot metadata snapshots metadata current version - 1 ]committer id snapshot metadata id revert snapshot metadata type 'revert' if not is revert and committer id not in feconf S Y S T E M USER IDS contributors summary id + 1if current version 1 breakif is revert current version snapshot metadata cmds number current version - 1return contributors summary 
def parse elements valid els inner els element result {}for sub in element t fixtag sub NS MAP [0]if ' ' in t t t ' ' [1]if t in valid els result sub or '' elif t in inner els inner result inner els sub if isinstance inner result tuple result result inner result result inner resultm re ' [a-z0-9-]+ -list' t if m and 'count' in sub result '%s-count' % m 1 ] int sub else  log 'in<%s> uncaught fixtag element NS MAP [0] t return result 
def set has profile image username is uploaded upload dt None if is uploaded and upload dt is None raise Value Error 'ouploaddatetimewassupplied elif not is uploaded upload dt Nonetry profile User Profile user  username username except Object Does Not Exist raise User Not Found profile image uploaded at upload dtprofile 
def split by comma and whitespace cstr return re '[\\s ]+' cstr 
def create java start cmd app name port load balancer host max heap db location DATASTORE P A T Hcmd [ 'cd' + constants J A V A APPSERVER + '&&' './appengine-java-sdk-repacked/bin/dev appserver '--port ' + str port '--jvm flag -socket connect true '--jvm flag -mx max heap '--disable update check '--address ' + appscale info private ip '--datastore path ' + db location '--login server ' + load balancer host '--appscale version 1' '--APP NAME ' + app name '--NGINX ADDRESS ' + load balancer host '--NGINX PORT anything os locate dir '/var/apps/' + app name + '/app/' 'WEB-INF' ]return ''.join cmd 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def test url to local path assert equal  url to local path 'http //google.com/home/why.html' '.' op '.' 'home' 'why.html'
def wait objects None timeout None count None if objects is None return get hub .join timeout timeout result []if count is None return list iwait objects timeout for obj in iwait objects objects timeout timeout result obj count - 1if count < 0 breakreturn result 
def python build return  sys version [4 6]
def create spider for request spidermanager request default spider None log none False log multiple False **spider kwargs snames spidermanager by request request if len snames 1 return spidermanager snames **spider kwargs if len snames > 1 and log multiple log 'orethanonespidercanhandle %s-%s' % request ' '.join snames log E R R O R if len snames 0 and log none log 'nabletofindspiderthathandles %s' % request log E R R O R return default spider 
def number type numobj region code region code for number numobj metadata Phone Metadata for region or calling code numobj code region code if metadata is None return Phone Number Type U N K N O W Nnational number national significant number numobj return  number type helper national number metadata 
def Get Remote App Id From Server server path remote token None if not remote token random remote token str random [2 ]remote token str remote token urlargs {'rtok' remote token server Send path payload None **urlargs if not response '{' raise Configuration Error 'nvalidresponserecievedfromserver %s' % response app info yaml response if not app info or 'rtok' not in app info or 'app id not in app info raise Configuration Error 'rrorparsingapp idlookupresponse if str app info ! remote token raise Configuration Error 'okenvalidationfailedduringapp idlookup sent got ' % repr remote token repr app info return app info id 
def margins a margsums []ranged list range a for k in ranged marg np over axes np a [j for j in ranged if j ! k ] margsums marg return margsums 
def test write table html fill values buffer output String I O t Table [[1] [2]] names 'a' 'b' ascii t buffer output fill values '1' 'elloworld format 'html' t expected Table [elloworld [2]] names 'a' 'b' buffer expected String I O ascii t expected buffer expected format 'html' assert buffer output buffer expected 
def  get verify flow redirect order cert items Certificate Item order order if cert items > 0 if cert items > 1 log u Morethanonecertificateiteminorder course .' order cert items id course id cert items idurl reverse 'verify student payment confirmation kwargs {'course id unicode course id } url + '?payment-order-num {order num order num order return Http Response Redirect url 
def balanced accuracy y true y pred all classes list set np y true y pred all class accuracies []for this class in all classes this class sensitivity float sum y pred this class & y true this class / float sum y true this class this class specificity float sum y pred ! this class & y true ! this class / float sum y true ! this class this class accuracy this class sensitivity + this class specificity / 2.0 all class accuracies this class accuracy return np all class accuracies 
def smart path string if os unicode filenames return smart unicode string return smart str string 
def nt to cw cur enc cur nt return array map int ''.join [INT TO B S enc for x in cur nt 
def chain names sg id sg name prefix sg label sg id sg name in chain name prefix + SUFFIX IN out chain name prefix + SUFFIX OUT return {'in' in chain name 'out' out chain name 
def make shared shape raise Not Implemented Error 'TODO implementthefunction 
def test continue on collection errors maxfail testdir testdir **COLLECTION ERROR PY FILES res testdir '--continue-on-collection-errors' '--maxfail 3' assert res 2 res lines ['collected2items/2errors' 'nterrupted stoppingafter3failures '*1failed 2error*']
def object mapper instance return object state instance .mapper
def user has cart context processor request def should display shopping cart 'eturnsabooleaniftheuserhasanitemsinacartwherebytheshoppingcartshouldbe request authenticated and is shopping cart enabled and Order user have cart request and Order cart has items request [aid Course Registration Course Reg Code Item return {'should display shopping cart func should display shopping cart 
def figshare root folder node settings auth **kwargs if not node settings auth or not node settings id return Nonenode node settings [rubeus.build addon root node settings node settings name node settings folder name permissions auth node Url node node Api Url node url root Folder Type node settings path private key kwargs 'view only None ]
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
def is mutating status if not status return Falsemutating set [u'insert' u u return status None 1 [0].lower in mutating 
def clocktime to millisecond value return value // Gst M S E C O N D 
def get unused port port s get unused port and socket s return port 
def find degree M deg f j deg ffor i in range 0 M if M[ M - 1 i ] 0 j j - 1 else return j if j > 0 else 0
def convert fastaqual fastq fasta file path qual file path conversion type 'fastaqual to fastq output directory '.' multiple output files False ascii increment 33 full fastq False full fasta headers False if conversion type 'fastaqual to fastq convert fastq fasta file path qual file path output directory multiple output files ascii increment full fastq full fasta headers elif conversion type 'fastq to fastaqual convert fastaqual fasta file path output directory multiple output files ascii increment full fastq full fasta headers else raise Value Error 'conversion typemustbefastaqual to fastqorfastq to fastaqual 
def on All Space Geometry Loaded space I D is Bootstrap mapping pass 
def  compute delta log moments eps min delta 1.0for moment order log moment in log moments if moment order 0 continueif math log moment or math log moment sys 'he Nan % moment order continueif log moment < moment order * eps min delta min min delta math log moment - moment order * eps return min delta 
def assert desired datasets case deployer desired manifestations local datasets local applications additional node config set expected datasets leases Leases calculator Recording Calculator NOTHING TO DO deployer deployer calculator calculator cluster configuration Deployment nodes {ode uuid deployer uuid hostname deployer manifestations {manifestation.dataset.dataset id manifestation for manifestation in desired manifestations } | additional node config leases leases local state Block Device Deployer Local State node uuid deployer uuid hostname deployer datasets {dataset.dataset id dataset for dataset in local datasets node state nonmanifest datasets local state state changes cluster state Deployment State nodes {node state applications local applications } nonmanifest datasets nonmanifest datasets deployer changes configuration cluster configuration cluster state cluster state local state local state case Equal {dataset.dataset id dataset for dataset in expected datasets calculator datasets 
def return To Matches allowed return to urls return to for allowed return to in allowed return to urls return realm Trust Root allowed return to if return realm is not None and not return realm and return realm U R L return to return Truereturn False 
def  get allow unicode flag import doctestreturn doctest optionflag 'ALLOW UNICODE'
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def jnjnp zeros nt if not isscalar nt or floor nt ! nt or nt > 1200 raise Value Error 'umbermustbeinteger 1200.' nt int nt n m t zo specfun nt return zo nt + 1 ] n nt m nt t nt 
def flowgram id to seq id map seqs result {}for id  seq in seqs fields id .split seq id id flowgram id fields id seq idreturn result 
def  get server health option config for monitor in config if monitor ACTIVE and monitor state up breakelse return '' [] server addon 'checkinter% delay dsfall max retries d % monitor opts [ 'timeoutcheck%ds' % monitor ]if monitor in constants H E A L T H MONITOR HTTP constants H E A L T H MONITOR HTTPS opts 'optionhttpchk% http method s url path s % monitor opts 'http-checkexpectrstatus%s' % '|'.join  expand expected codes monitor codes if monitor constants H E A L T H MONITOR HTTPS opts 'optionssl-hello-chk' return server addon opts 
def ext functest builder method func def do test self if not isinstance func types Builtin Function Type raise Skip Test '%sextensionnotfound' % func method self func return do test 
def benchmark throughputs configuration duration secs 0.1 X train y train X test y test generate dataset configuration train configuration test configuration features throughputs dict for estimator config in configuration estimator config X train y train start time time n predictions 0while time - start time < duration secs estimator config X test n predictions + 1throughputs[estimator config n predictions / duration secs return throughputs 
@cli app 'security-cleanup' @click.option '--app' default 'app' help 'ourapplicationinitdirectory package ' @click.option '--appbuilder' default 'appbuilder' help 'pp Builderobject def security cleanup app appbuilder  appbuilder import application app appbuilder  appbuilder cleanup click click 'inishedsecuritycleanup fg 'green'
@ile System directory current directory 'django' 'dill' def test model update status out run scenario 'leaves' 'update' 1 assert equals status 0 out status out run scenario 'leaves' 'update' 2 assert not equals status 0 out assert 'ntegrity Error P R I M A R Y K E Ymustbeunique in out status out run scenario 'leaves' 'update' 3 assert not equals status 0 out assert 'he in out status out run scenario 'leaves' 'update' 4 assert not equals status 0 out assert 'ustusethewrites modelsdecoratortoupdatemodels in out 
def form hmac form data []for bf in form if form permitted and not form changed value bf or '' else value bf bf or '' if isinstance value basestring value value data bf value pickled pickle data pickle H I G H E S T PROTOCOL key salt 'django.contrib.formtools'return salted hmac key salt pickled .hexdigest
def all status return {'cpuinfo' cpuinfo 'cpustats' cpustats 'diskstats' diskstats 'diskusage' diskusage 'loadavg' loadavg 'meminfo' meminfo 'netdev' netdev 'netstats' netstats 'uptime' uptime 'vmstats' vmstats 'w' w }
def metadef resource type get all context session None session session or get session return metadef resource type api all context session 
def test pickle globals def f x return np x + np x assert set ['np' '  builtins  '] set  loads  dumps f .  globals  .keys
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def add user permission doctype name user with message False if name not in frappe user permissions user .get doctype [] if not frappe doctype name frappe _ u .format _ doctype name frappe Does Not Exist Error frappe default doctype name user u User Permission elif with message msgprint _ u Permissionalreadyset 
def get current kernel arch return platform 
@receiver initializing def  on initializing *args **kwargs from reviewboard import init widgetsinit widgets 
def  child vhds session sr ref vdi uuid list old snapshots only False children set for ref rec in  get all vdis in sr session sr ref rec uuid rec rec uuid in vdi uuid list continueparent uuid  get vhd parent uuid session ref rec if parent uuid not in vdi uuid list continueif old snapshots only and not  is vdi a snapshot rec continuechildren rec uuid return list children 
def get status counts group by header groups [] fixed headers {} **filter data return get group counts group by header groups header groups fixed headers fixed headers extra select fields tko rpc utils S T A T U S FIELDS **filter data 
def bz2 decode input errors 'strict' assert errors 'strict' output bz2 input return output len input 
@ile System directory current directory 'django' 'brocolis' def test harvest sets environment variabled for gae status out run scenario 'leaves' 'appengine' assert equals status 0 out 
def  ems diff data0 data1 return np data0 axis 0 - np data1 axis 0
def load fips ecdsa key pair vectors vector data vectors []key data Nonefor line in vector data line line if not line or line '#' continueif line -1 ] in  ECDSA CURVE NAMES curve name  ECDSA CURVE N A M E S -1 ]]elif line 'd ' if key data is not None vectors key data key data {'curve' curve name 'd' int line ' ' [1] 16 }elif key data is not None if line 'x ' key data int line ' ' [1] 16 elif line 'y ' key data int line ' ' [1] 16 assert key data is not None vectors key data return vectors 
def fake urandom n return ''.join chr random 0 255 for _ in xrange n 
def williams correction n a G q 1.0 + a + 1.0 / 6.0 * n return G / q 
def register hosting service name cls cls service id name hosting service registry cls 
def  f ieqcons x full k params x params x full k params added x full params ]return np x params + x added x added - x params 
def  quota reservations session context reservations return model query context models Reservation read deleted 'no' session session .filter models Reservation  reservations .with lockmode 'update' .all
def handle500 request return render request 'handlers/500.html' status 500
def find nodes with matching text page xpath regex xpath matches page xpath results []for xp in xpath matches if re regex xp content results xp return results 
def  clear user info cookie cookie name  COOKIE NAME cookie Cookie Simple Cookie cookie name ''cookie[cookie name '/'cookie[cookie name '0'if App Dashboard Helper U S E SHIBBOLETH cookie name App Dashboard Helper S H I B B O L E T H COOKIE D O M A I Nreturn cookie name Output String 
def get leaking objects objects None if objects is None gc objects gc objects try ids set id i for i in objects for i in objects ids update id j for j in gc referents i return [i for i in objects if id i in ids ]finally del objects i 
def  make label to row indices labels result {}for row index label in enumerate labels short label tuple label 5] if result short label None is None result label []result[short label row index return result 
def initialize report report type start date end date start letter None end letter None for item in REPORT TYPES if report type in item return item start date end date start letter end letter raise Report Type Does Not Exist Exception 
def jseval script try interpreter Popen ['js'] stdin PIPE stdout PIPE except O S Error return script result errors interpreter script if interpreter or errors return scriptreturn result 
def write stream with colors win py3 stream outfile flush color '\x1b['encoding outfile chunk in stream if color in chunk outfile chunk encoding else outfile chunk if flush outfile 
def get url conn urlopen url resp conn conn return resp 
def Build Campaign Criterion Operations campaign operations criterion operations [{'xsi type 'ampaign Criterion Operation 'operand' {'xsi type 'egative Campaign Criterion 'd campaign operation 'criterion' {'xsi type 'eyword 'ype 'BROAD' 'text' 'venus'}} 'operator' 'ADD'} for campaign operation in campaign operations criterion operations 
def open logfile filename mode 'a' filename os filename filename os filename dirname os filename if not os dirname os dirname exists os filename log fp open filename mode if exists log fp '%s\n' % '-' * 60 log fp '%srunon%s\n' % sys time '%c' return log fp 
def horizon request context {'HORIZON CONFIG' conf H O R I Z O N CONFIG 'rue True 'alse False context 
def uuid bin to str uuid block1 block2 block3 struct '<LHH' uuid 8] block4 block5 block6 struct '>HHL' uuid 16] return '%08x-%04x-%04x-%04x-%04x%08x' % block1 block2 block3 block4 block5 block6 
def leaves tree branches attrgetter 'branches' return node for node in postorder tree branches if node leaf 
def  sha1 mangle key key try key key 'utf-8' errors 'xmlcharrefreplace' except Unicode Error Attribute Error passreturn util mangle key key 
def group seq multiple True if not seq return [] current groups [seq[0]] [] for elem in seq ] if elem current -1 ] current elem else groups current current [elem]groups.append current if multiple return groupsfor i current in enumerate groups groups current len current return groups 
def get xdg cache dir env os os 'posix' and sys ! 'darwin' xdg env 'XDG CACHE HOME' None or os get home dir '.cache' if xdg and  writable dir xdg return py3compat unicode xdg fs encoding return None 
def get mode path if not os path return ''func name '{0}.get mode   virtualname   if   opts  .get 'fun' '' func name log 'hefunction Windowssystems Thevaluereturnedisalways None func name return None 
def add ngram sequences token indice ngram range 2 new sequences []for input list in sequences new list input list ]for i in range len new list - ngram range + 1 for ngram value in range 2 ngram range + 1 ngram tuple new list i + ngram value ] if ngram in token indice new list token indice new sequences new list return new sequences 
def auth field and value resource if '|resource' in request public method list to check 'public methods public method list to check 'public item methods dict app D O M A I N resource auth resource request auth value auth request auth value if auth else None auth field resource dict 'auth field None if request not in resource dict method list to check else None return auth field request auth value 
def parse set item source info version info &  ALL VERSIONS or DEFAULT VERSION if source '\\' return parse escape source info True saved pos source source '[ ' try return parse posix class source info except Parse Error source saved posif version VERSION1 and source '[' negate source '^' item parse set union source info if not source ']' raise error 'missing]' source source if negate item item flags positive not item return itemch source if not ch raise error 'unterminatedcharacterset' source source return Character ord ch 
def filter format number val places None grouping True if not isinstance val int float int return valif places is not None format u + str places + u elif isinstance val int int format u format u locale L C ALL u return locale format val grouping 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def combine game stats games return reduce lambda ps1 ps2 ps1 + ps2 [g.players for g in games if g is not None ]
def  number of set bits to ipv4 netmask set bits return cidr to ipv4 netmask  number of set bits set bits 
def cache cluster exists name conn None region None key None keyid None profile None return bool describe cache clusters name name conn conn region region key key keyid keyid profile profile 
def iscoroutinefunction func return getattr func ' is coroutine False or hasattr inspect 'iscoroutinefunction' and inspect func 
def  render template config file dirname filename os config file env Environment loader File System Loader dirname template env template filename config template   grains   return config 
def id return  distro 
def validate template limit contain str if len contain str > cfg C O N F template size msg _ 'emplatesize % actual len sbytes exceedsmaximumallowedsize % limit sbytes .' % {'actual len len contain str 'limit' cfg C O N F template size raise exception Request Limit Exceeded message msg 
@pytest.fixture scope u def remove additional folders request def fin remove additional folders if os u utils u if os u utils u if os u utils u request fin remove additional folders 
def option from wire otype wire current olen cls get option class otype return cls wire otype wire current olen 
def serve protected thumbnail request path source path thumbnail to original filename path if not source path raise Http404 'ilenotfound try file obj File file source path is public False except File Does Not Exist raise Http404 'ilenotfound if not file obj read permission request if settings D E B U G raise Permission Deniedelse raise Http404 'ilenotfound try thumbnail Thumbnail File name path storage file obj storage return thumbnail server request thumbnail save as False except Exception raise Http404 'ilenotfound 
@memoizeddef get Color value default None if isinstance value Color return valuevalue str value .strip .lower if value 'transparent' or value 'none' return defaultif value in COLOR BY NAME return COLOR BY N A M E value '#' and len value 4 value '#' + value + value + value + value + value + value elif rgb re value r g b [int x for x in rgb re value .groups ]value '#%02x%02x%02x' % r g b else passreturn to Color value default 
def test Using Psycho Py Monitor Config io launch Hub Server psychopy monitor name 'onitor display io 'isplay Psychopy Monitor Name ' display Psychopy Monitor Name print 'isplay Default Eye Distance ' display Default Eye Distance print 'isplay Physical Dimensions ' display Physical Dimensions io 
def  convert etree element to queue entry element queue Queue invalid queue Truequeue element entry element './atom content Queue Description  etree sb feed namespaces if queue element is not None mappings [ 'ock Duration 'lock duration None 'ax Size In Megabytes 'max size in megabytes int 'equires Duplicate Detection 'requires duplicate detection  parse bool 'equires Session 'requires session  parse bool 'efault Message Time To Live 'default message time to live None 'ead Lettering On Message Expiration 'dead lettering on message expiration  parse bool 'uplicate Detection History Time Window 'duplicate detection history time window None 'nable Batched Operations 'enable batched operations  parse bool 'ax Delivery Count 'max delivery count int 'essage Count 'message count int 'ize In Bytes 'size in bytes int ]for map in mappings if  read etree element queue element map queue map map invalid queue Falseif invalid queue raise Azure Service Bus Resource Not Found  ERROR QUEUE NOT FOUND for name value in  E Tree Xml To Object entry properties from element entry element True .items setattr queue name value return queue 
def article url content return ' I T E U R L content content .encode 'utf-8'
def set verbose verbose global  verbose verbose verbose 
def get hub class global  threadlocaltry hubtype  threadlocal Hubexcept Attribute Error hubtype Noneif hubtype is None hubtype  threadlocal Hub Hubreturn hubtype 
def eval b x if sys info 2 return xelse import codecsreturn codecs 8 encode x [0]
def segment matches section segment section sh size section size + 3 & ~ 3 return section addr segment and sh size len segment 
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
def  train iis xs classes features f sharp alphas e empirical max newton iterations newton converge p yx  calc p class given x xs classes features alphas N len xs newalphas alphas ]for i in range len alphas delta  iis solve delta N features f sharp e empirical p yx max newton iterations newton converge newalphas + deltareturn newalphas 
def  split mime type mime type if mime type match  MIME P A T T E R N mime type if not match raise  Invalid M I M E Type Format Error 'ncorrectlyformatted M I M Etype %s' % mime type return match else return 'application' 'octet-stream'
def create default options allowed methods allowed ' '.join allowed methods def on options req resp **kwargs resp HTTP 204resp.set header 'llow allowed resp header 'ontent Length '0' return on options 
def simple Multivariate Normal Pdf z det Factor Sigma dim len z return exp -0.5 * dot z z / power 2.0 * pi dim / 2.0 * det Factor Sigma 
def hex encode input errors 'strict' assert errors 'strict' output binascii hex input return output len input 
def create blockdevicedeployer test case hostname u node uuid uuid4 eventually consistent False api loopbackblockdeviceapi for test test case if eventually consistent api Eventually Consistent Block Device A P I api async api  Sync To Threaded Async A P I Adapter  sync api  reactor Non Reactor  threadpool Non Thread Pool return Block Device Deployer hostname hostname node uuid node uuid block device api api  async block device api async api mountroot mountroot for test test case 
def avail locations call None if call 'action' raise Salt Cloud System Exit 'heavail locationsfunctionmustbecalledwith orwiththe ret {}conn get conn service 'oft Layer Product Package locations conn Locations id 50 for location in locations ret {'id' location 'name' location 'location' location Name conn Available Locations id 50 for location in available if location 'vailable 0 is 0 continueret Id Truereturn ret 
def leaky relu x slope 0.2 return Leaky Re L U slope x 
def image description dict description if description 'shape ' shape tuple int i for i in description -1 ].split ' ' return dict shape shape if description '{' and description '}' return json description 'utf-8' raise Value Error 'unknownimagedescription'
def copy extras config outdir config dst src in config dst path os outdir dst dst dir os dst path if not os dst dir os dst dir shutil src dst path 
def get current reporter return  reporters -1 ]
def format money amount digits None widen 0 locale None if not locale loc get current babel locale else loc get babel locale locale if widen 0 and digits is None return format currency amount amount locale loc currency digits True pattern loc formats digits is not None pattern pattern '.00' '.' + digits * '0' if widen pattern pattern '.00' '.00' + widen * '0' return format currency amount amount pattern loc currency digits False 
def pn cli module username module cliusername module clipassword module cliswitch username and password cli '/usr/bin/cli--quiet--user%s %s' % username password else cli '/usr/bin/cli--quiet'if cliswitch if cliswitch 'local' cli + 'switch-local'else cli + 'switch' + cliswitch return cli 
def swirl image center None strength 1 radius 100 rotation 0 output shape None order 1 mode None cval 0 clip True preserve range False if mode is None warn 'hedefaultof mode 'constant'if center is None center np image [ 2] / 2 warp args {'center' center 'rotation' rotation 'strength' strength 'radius' radius warp image  swirl mapping map args warp args output shape output shape order order mode mode cval cval clip clip preserve range preserve range 
def  get cached requirements requirements saltenv req file senv salt requirements if senv saltenv senvif req file not in   salt  ['cp.list master saltenv return Falsecached requirements   salt  ['cp.is cached requirements saltenv if not cached requirements cached requirements   salt  ['cp.cache file requirements saltenv if   salt  ['cp.hash file requirements saltenv !   salt  ['cp.hash file cached requirements saltenv cached requirements   salt  ['cp.cache file requirements saltenv return cached requirements 
def add To Paths Recursively paths vector3 Lists if vector3 Lists  class   Vector3 or vector3 Lists  class  .  name   'ector3 Index paths [ists returnpath []for vector3 List in vector3 Lists if vector3 List  class   list add To Paths Recursively paths vector3 List elif vector3 List  class   Vector3 path vector3 List if len path > 0 paths path 
def in6 get common plen a b def matching bits byte1 byte2 for i in range 8 cur mask 128 >> i if byte1 & cur mask ! byte2 & cur mask return ireturn 8 inet pton socket A F INET6 a tmp B inet pton socket A F INET6 b for i in range 16 mbits matching bits ord tmp A ord tmp B if mbits ! 8 return 8 * i + mbits return 128
def key from protobuf pb path args []for element in pb path args element if element path args element if element path args element project Noneif pb id id project pb id idnamespace Noneif pb id id namespace pb id idreturn Key namespace namespace project project *path args 
def get network attach config spec client factory vif info index vif limits None config spec client factory 'ns0 Virtual Machine Config Spec vif spec  create vif spec client factory vif info vif limits config spec Change [vif spec vif info id is not None config spec Config [ iface id option value client factory vif info id index ]return config spec 
def test format flake8 if not flake8 available raise Skip Test 'flake8isnotinstalled' total errors 0for path in list files rel path os path theano  path  [0] if rel path in whitelist flake8 continueelse error num flake8 file path ignore ignore total errors + error numif total errors > 0 raise Assertion Error ' L A K E8 Formatnotrespected 
def encrypted dict data encryption key None return data {}if not data return return datafor prop name prop value in data prop string jsonutils prop value encrypted value encrypt prop string encryption key return data name encrypted valuereturn return data 
def split url or path url or path if ' //' in url or path return url or path '/' .rsplit '/' 1 return osp url or path osp 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def test find number 2 s 'aghwirougiuhfajlsopka"-987?'r find number s assert s r '-987'
def load certificates directory '.' certs {}if not os directory raise I O Error 'nvalidcertificatedirectory {0}'.format directory glob string os directory '*.key' cert files glob glob string for cert file in cert files public key _ load certificate cert file if public key certs key Truereturn certs 
def recall a Tp Pd pd 3 b Message Type mes Type 11 c Recall Type d Facility packet a / b / c / d return packet 
def iter format modules lang if check for language lang format locations ['django.conf.locale.%s']if settings F O R M A T MODULE PATH format locations settings F O R M A T MODULE PATH + '.%s' format locations locale to locale lang locales [locale]if '_' in locale locales locale '_' [0] for location in format locations for loc in locales try yield import module '.formats' location % loc except Import Error pass 
def  cancelled To Timed Out Error value timeout if isinstance value failure Failure value Cancelled Error raise Timeout Error timeout 'eferred return value 
def normalized mutual info score labels true labels pred labels true labels pred check clusterings labels true labels pred classes np labels true clusters np labels pred if classes clusters 1 or classes clusters 0 return 1.0contingency contingency matrix labels true labels pred sparse True contingency contingency np mi mutual info score labels true labels pred contingency contingency h true h pred entropy labels true entropy labels pred nmi mi / max np h true * h pred 1e-10 return nmi 
def replace Project Version filename newversion f open filename 'w' f generate Version File Data newversion f 
def  sphere pot or field rr mri rr mri Q coils sphere bem rr n jobs coil type fun  eeg spherepot coil if coil type 'eeg' else  sphere field parallel p fun _ parallel func fun n jobs B np parallel p fun r coils sphere for r in np split rr n jobs return B
def getnextfiles directory sensor None count 1 if sensor is None fmt re FILEFORMAT % '[^\\.]*' else fmt re FILEFORMAT % re sensor files [fmt.match f for f in os directory ]files [f for f in files if f is not None ]files.sort key lambda x map int x ['datetime'].split '-' return [f for f in files count 
def answer callback query token callback query id text None show alert None url None cache time None method url 'allback Query {'callback query id callback query id text payload textif show alert payload alert show alertif url payload urlif cache time payload time cache timereturn  make request token method url params payload method 'post'
def rs puiseux2 f p q x prec index p x n 1for k in p power k isinstance power Rational num den power numer denom n n * den // igcd n den elif power ! int power num den power power n n * den // igcd n den if n ! 1 p1 pow xin p index n r f p1 q x prec * n n1 QQ 1 n r pow xin r index n1 else r f p q x prec return r 
def  bound wishart a B det B n features B wishart logz a B det B n features logprior - wishart logz n features np n features 1 n features logprior + 0.5 * a - 1 * wishart log det a B det B n features logprior + 0.5 * a * np B return logprior 
def build name setter registry xml parent data build name setter X M L Sub Element xml parent 'uild Name Updater mapping [ 'name' 'ame 'version.txt' 'template' 'emplate '#${BUILD NUMBER}' 'file' 'ile False 'macro' 'acro False 'macro-first' 'irst False ]convert mapping to xml build name setter data mapping fail required True 
def get interfaces dict module command 'showinterfacestatus'try body execute show command command module [0]except Index Error body {}interfaces {'ethernet' [] 'svi' [] 'loopback' [] 'management' [] 'portchannel' [] 'nve' [] 'unknown' []}interface list body 'TABLE interface ['ROW interface index in interface list intf index type get interface type intf interfaces type intf return interfaces 
def nannumel x **kwargs return chunk ~ np x **kwargs
@treeio login requireddef ajax ticket lookup request response format 'html' tickets []if request G E T and 'term' in request G E T tickets Ticket name  icontains request G E T [ 10]return render to response 'services/ajax ticket lookup {'tickets' tickets context instance Request Context request response format response format 
def  cryptovariables equal x y return  hmac sha256 CRYPTOVARIABLE EQUALITY COMPARISON NONCE x  hmac sha256 CRYPTOVARIABLE EQUALITY COMPARISON NONCE y 
def get datacenters service instance datacenter names None get all datacenters False items [i['object'] for i in get mors with properties service instance vim Datacenter property list ['name'] if get all datacenters or datacenter names and i in datacenter names ]return items 
def check dataset access permission view func def decorate request *args **kwargs dataset kwargs 'dataset' if dataset is not None dataset Dataset read or exception request dataset kwargs datasetreturn view func request *args **kwargs return wraps view func decorate 
def hostport scheme host port if port scheme in [ 80 'http' 443 'https' ] return hostelse return '%s %s' % host port 
def sign message key if 'p' not in key raise Exception 'oumustusetheprivatekeywithsign return chopstring message key key * key encrypt int 
def test gui if sys ] filename sys filename 'sheet1.xml'g Sheet G U I filename g 
def get location vm  None return   opts  .get 'location' config cloud config value 'location' vm  or get configured provider   opts   default DEFAULT LOCATION search global False 
def update floatingip floatingip id port profile None conn  auth profile return conn floatingip floatingip id port 
def  recurring component to events component rrule as str component 'rrule' .to ical recur rule rrule rrule as str dtstart component 'dtstart' recur set rrule recur set recur rule if 'exdate' in component for exdate line in component 'exdate' for exdate in exdate line recur set exdate utcnow now later utcnow + datetime days MAX FUTURE start times recur set utcnow later event length component 'dtend' - component 'dtstart' events []for start in start times events {'start' start 'end' start + event length 'summary' component 'summary' 'uid' component 'uid' 'last modified component 'last-modified' } return events 
def delete floatingip floatingip id profile None conn  auth profile return conn floatingip floatingip id 
@lru cache def is crypto available from stem import logtry from Crypto Public Key import R S Afrom Crypto Util import asn1from Crypto Util import long to bytesreturn Trueexcept Import Error log once 'stem.prereq.is crypto available log I N F O CRYPTO UNAVAILABLE return False 
def get parser class parser name parser name parser name if  parser aliases key parser name parser name  parser aliases name   import   parser name globals locals return module Parser 
def handler And Bytes I O output Bytes I O stream outputtemplate py logging B A S I C F O R M A Tif  PY3 stream Text I O Wrapper output encoding 'utf-8' newline '\n' formatter py logging Formatter template handler py logging Stream Handler stream handler Formatter formatter return handler output 
def group from type return type u 1 [0]
def get supervisees eps list pkg resources entry points ENTRY POINT GROUP return dict ep ep for ep in eps 
def class2func path func 'CLASS ' + path '/' '_' .replace '$' '_' .replace ';' '' return func 
def sim otu table sample ids otu ids samples otu metadata tree num replicates dissimilarity sample dicts []res sam names []for i sample info in enumerate samples sample vector sample info j in range num replicates sample dict {}for k in range len otu ids otu abundance sample vector otu abundance 0 continuenew otu id get new otu id otu ids tree dissimilarity if new otu id in sample dict sample dict otu id + otu abundanceelse sample dict otu id otu abundancesample dicts sample dict res sam names sample ids + '.' + str j res otu mtx res otus combine sample dicts sample dicts res otu metadata []if otu metadata is None or otu metadata [] res otu metadata Noneelse for otu id in res otus try res otu metadata otu metadata ids otu id ] except Value Error res otu metadata None return res sam names res otus res otu mtx res otu metadata 
def Get Java Jars target list target dicts toplevel dir for target name in target list target target dicts name action in target 'actions' [] for input  in action if os input  [1] '.jar' and not input .startswith '$' if os input  yield input  else yield os os target name input 
def text charp if not charp return ''return native ffi charp 
def Node Item tool Tip Helper node links in [] links out [] desc node descriptionchannel fmt '<li>{0}</li>'title fmt '<b>{title}</b><hr/>'title title fmt title escape node inputs list fmt 'nputs <ul>{inputs}</ul><hr/>'outputs list fmt 'utputs <ul>{outputs}</ul>'if desc inputs [channel fmt inp for inp in desc inputs list fmt inputs ''.join inputs else inputs 'oinputs desc outputs [channel fmt out for out in desc outputs list fmt outputs ''.join outputs else outputs 'ooutputs title + inputs + outputs style 'ul{margin-top 1px;margin-bottom 1px;}'return TOOLTIP T E M P L A T E style style tooltip tooltip 
@task filter protocol 'sort' batch True def sort by name keyword tasks return sorted tasks key lambda x x 
def datetime combine date time return make aware datetime date time get current timezone 
def mutual incoherence X relevant X irelevant projector np np X irelevant T X relevant pinvh np X relevant T X relevant return np np projector .sum axis 1
def test translated field supports migration fields {'charfield' Translated Field }migration type str 'igration migrations Migration {'operations' [reate Model name 'y Model fields tuple fields bases models Model ]} writer Migration Writer migration output writer string result safe exec output globals  globals assert 'igration in result 
def make Extension *args **kwargs return Super Fences Code Extension *args **kwargs
def gatling registry xml parent data gatling X M L Sub Element xml parent 'atling Publisher X M L Sub Element gatling 'enabled' .text 'true'
def v4 int to packed address try return address bytes 4 'big' except Exception raise Value Error 'ddressnegativeortoolargefor I Pv4 
def sm volume get all context return I M P L volume get all context 
def getip request ip request M E T A 'HTTP X REAL IP' '' if not ip ip request M E T A 'REMOTE ADDR' 'one return ip 
def get pickleable etype cls loads pickle dumps pickle try loads dumps cls except Exception return Exceptionelse return cls 
def is survey required for course course descriptor return course descriptor survey required and Survey Form course descriptor survey name throw if not found False 
def format html join sep format string args generator return mark safe conditional escape sep .join format html format string *tuple args for args in args generator 
def  skip whitespace data pos must be nontrivial False if must be nontrivial if pos len data or not data raise Parsing Error u Expectingwhitespaceat  format position data pos while pos < len data if not data breakpos + 1return pos 
def cross test func args None if args is None args []return   salt  [func] *args
def get best local timezone zone name tzlocal localzone .zoneif zone name in pytz timezones return zone nameif time local offset time time local offset time time offset datetime seconds - local offset for zone name in pytz timezones timezone pytz zone name if not hasattr timezone u tzinfos continuefor utcoffset daylight tzname in timezone tzinfos if utcoffset local offset and tzname localtz return zone name 
@treeio login required response format process mass formdef index request response format 'html' if request G E T filters Filter Form request G E T if filters valid query  get filter query request G E T else query Q else query Q filters Filter Form events Object by request request Event query context  get default context request context {'events' events 'filters' filters return render to response 'events/index' context context instance Request Context request response format response format 
def clean lxc namespace container dir try img  Disk Image image None mount dir container dir img except Exception L O G  LE 'ailedtoumountcontainerfilesystem 
def auth logout redirect url None redirect url redirect url or request 'redirect url or web url for 'goodbye'  absolute True osf logout if 'reauth' in request cas endpoint cas login url redirect url else cas endpoint cas logout url redirect url resp redirect cas endpoint resp cookie settings C O O K I E NAME domain settings O S F COOKIE DOMAIN return resp 
def libvlc media list index of item p ml p md f  Cfunctions 'libvlc media list index of item None or  Cfunction 'libvlc media list index of item 1 1 None ctypes int Media List Media return f p ml p md 
def reformat array return np array dtype np order 'F'
def is role request request role 'user' role all {'user' 'CU' 'admin' 'GA' 'super' ' U request role all role 'CU' return Trueelse return False 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def is default interface interface module command 'showruninterface' + interface try body execute show command command module command type 'cli show ascii [0]except Index Error body ''if body raw list body '\n' found Falsefor line in raw list if line 'interface' found Trueif found and line and not line 'interface' return Falsereturn Trueelse return 'DNE'
def close client client if client and options value 'savecache' 'true' client client session 
def  dthandler obj if isinstance obj datetime return obj elif hasattr obj 'to json return obj json else return None 
def get rackspace driver rackspace rackspace get driver Provider R A C K S P A C E rackspace rackspace region rackspace return rackspace 
def ranfunc return 'ranfunc'
def typed subpart iterator msg maintype 'text' subtype None for subpart in msg if subpart content maintype maintype if subtype is None or subpart content subtype subtype yield subpart 
def  get package info module package env None if env opt dirs [ '%s/bin' % env ]else opt dirs []python bin module bin path 'python' False opt dirs if python bin is None formatted dep Noneelse rc out err module command [python bin '-c'  SPECIAL PACKAGE C H E C K E R S if rc formatted dep Noneelse formatted dep '%s %s' % package out return formatted dep 
def give variables names variables names [var.name for var in variables hist names def bad var var return not var or h > 1 for i var in enumerate filter bad var variables var var or '' + ' %d' % i if not unique [str v for v in variables raise Value Error "otallvariableshaveuniquenames Maybeyou return variables 
@gof.local optimizer [nc Subtensor inplace True def local inplace setsubtensor node if isinstance node Inc Subtensor and not node dta node tolerate aliasednew op node  class   node list inplace True set instead of inc node instead of inc destroyhandler tolerate aliased dta new node new op *node.inputs val getattr node 'nan guard mode check True new node guard mode check valcopy stack trace node new node return [new node False 
def get sleep on power button ret salt utils return result 'systemsetup-getallowpowerbuttontosleepcomputer' return salt utils enabled salt utils return ret 'on'
def run  task 
def  python cmd *args args sys + args return subprocess args 0
def ip fqdn if salt proxy return {}ret {}ret['ipv4'] salt addrs include loopback True ret salt addrs6 include loopback True  fqdn hostname ['fqdn']for socket type ipv num in socket A F INET '4' socket A F INET6 '6' key 'fqdn ip + ipv num if not ret 'ipv' + ipv num ] ret []else try info socket  fqdn None socket type ret list set item for item in info except socket ret []return ret 
def Generate O Auth Authorization Url request token authorization url 'https / Auth Authorize Token callback url None extra params None include scopes in callback False scopes param prefix 'oauth token scope scopes request token isinstance scopes list scopes ''.join scopes if include scopes in callback and callback url if callback url '?' > -1 callback url + '&'else callback url + '?'callback url + urllib {scopes param prefix scopes oauth token oauth O Auth Token request token request token oauth request oauth O Auth Request token and callback token oauth token callback callback url http url authorization url parameters extra params return atom url oauth request url 
def test nearmiss sk estimator check estimator Near Miss 
def check supported function func check func def inner *args **kwargs obj args check func obj return func *args **kwargs else raise Not Implemented In R O M Error obj func return inner 
def do pending lookups sender **kwargs key sender meta label sender  name   for cls field operation in pending lookups key [] operation field sender cls 
def get context dict context if isinstance context Request Context ctx {}map ctx context else ctx contextreturn ctx 
def  current window for event event return find window for buffer name event event buffer name 
def  sort keys x keys list x idx np [str k for k in keys keys [keys[ii] for ii in idx keys 
def format timestamp timestamp return u >010x}'.format int timestamp 
def maybe call thing context args None kwargs None func maybe callable context context thing thing if func thing func * args or ** kwargs or {} return thing 
def addressable dict type constraint return  addressable wrapper Addressable Dict type constraint 
def  order all package confs for conf file in SUPPORTED CONFS  package conf ordering conf file  unify keywords 
def nova docstring start space physical line previous logical if physical line 'N401 deffoo ' ! -1 returnif is docstring physical line previous logical pos max [physical line i for i in START DOCSTRING TRIPLE] if physical line pos + 3 ] '' return pos 'N401 docstringshouldnotstartwithaspace 
def error Occurred err log err try reactor except Runtime Error pass 
def  ros group rank df dl idx censorship ranks df ranks 'rank'] 1ranks ranks by [dl idx censorship ['rank'].transform lambda g g return ranks 
@pytest.mark.usefixtures 'clean system 'remove additional dirs def test cookiecutter no input extra context main 'tests/fake-repo-pre' no input True extra context {'repo name 'fake-project-extra'} assert os 'fake-project-extra'
def iscsi target create safe context values return I M P L target create safe context values 
def  get vdi other config disk type instance None other config {'nova disk type disk type instance other config instance uuid instance other config 
def equate Polar point return Value equate Cylindrical point return Value 
def is valid disk device partitions []for partline in open '/proc/partitions' .readlines fields partline .split if len fields ! 4 or partline 'major' continue major minor blocks partname fieldsblocks int blocks if not partname -1 ].isdigit if device '/dev/' partname return Truereturn False 
def test stacked line interpolate stacked Stacked Line interpolate 'cubic' stacked 'one two [1 2] stacked 'ten twelve [10 12] q stacked pyquery assert set [v.text for v in q 'desc.value' ] set '1' '2' '11 +10 ' '14 +12 '
def  sqlite format dtdelta conn lhs rhs try if isinstance lhs int lhs str decimal Decimal lhs / decimal Decimal 1000000 real lhs parse duration lhs if real lhs is None real lhs backend utils timestamp lhs if isinstance rhs int rhs str decimal Decimal rhs / decimal Decimal 1000000 real rhs parse duration rhs if real rhs is None real rhs backend utils timestamp rhs if conn '+' out real lhs + real rhs else out real lhs - real rhs except Value Error Type Error return Nonereturn str out 
def get Special Row I D values 255 255 255 255 255 255 255 255 255 s struct Struct 'BBBBBBBBB' packed data s *values return packed data 
def floating ip bulk create context ips return I M P L ip bulk create context ips 
def null node formatter nodetext optionstext caller None return nodetext + '\n\n' + optionstext 
def description for number numobj lang script None region None ntype number type numobj if ntype Phone Number Type U N K N O W N return ''elif not  can be geocoded ntype return country name for number numobj lang script region return description for valid number numobj lang script region 
def slice From String slice String slice Args []for val in slice String ' ' if len val 0 slice Args None else slice Args int round float val return apply slice slice Args 
def acl group remove users id users group models Acl Group get id group for acl violation acl group users models User get bulk users group *users group current user if empty 
def Operation Retries Criteria operation rate retry rate alerts []warnings []def  Compute Threshold x return math math x / 3 if retry rate total >  Compute Threshold operation rate total warnings CLUSTER TOKEN for m v in operation rate data if retry rate data >  Compute Threshold v warnings m return alerts warnings 
def  time to json value if isinstance value datetime value value return value 
def get namespace attrs return ''.join 'xmlns {} "{}"'.format k v for k v in XML N A M E S P A C E S 
def mouse drag distance event button Qt Left Button diff event Down Screen Pos button - event Pos return diff Length 
def v4 int to packed address try return address bytes 4 'big' except Exception raise Value Error 'ddressnegativeortoolargefor I Pv4 
def set i18n i18n key  i18n registry key request None request request or webapp2 request request i18n 
@register canonicalize 'fast compile @register useless optimizer [ def local useless fill node if node T r v node v node return [v]
def create animations figure filename None sharing 'public' auto open True body {'figure' figure 'world readable True filename if '/' in filename warnings "his B E T Aversionof animations Thismeansafilenameoftheform body filenameif sharing 'public' body readable Trueelif sharing 'private' body readable Falseelif sharing 'secret' body readable Falsebody key enabled Trueelse raise exceptions Plotly Error "hoops sharingcanonlybesettoeither 'private' or response v2 body parsed content response if sharing 'secret' web url parsed content url -1 ] + '?share key ' + parsed content key else web url parsed content url auto open  open url web url return web url 
def get Radius Complex radius xml Element radius get Complex By Prefixes ['demisize' 'radius'] radius xml Element return get Complex By Multiplier Prefixes 2.0 ['diameter' 'size'] radius xml Element 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def hash token token salt 8 rounds 16384 algorithm 'sha512' h hashlib algorithm if isinstance salt int salt b2a hex os salt if isinstance salt bytes bsalt saltsalt salt 'utf8' else bsalt salt 'utf8' btoken token 'utf8' 'replace' h bsalt for i in range rounds h btoken digest h return '{algorithm} {rounds} {salt} {digest}'.format **locals
def pool del pool name **kwargs return ceph cfg del pool name **kwargs
def assert is not expr1 expr2 msg None assert true expr1 is not expr2 msg 
def version commit return version C O M M I T 
def Run Instance region ami id keypair name instance type availability zone None user data None ec2  Connect region ret ec2 instances ami id key name keypair name user data user data instance type instance type placement availability zone assert ret and len ret 1 return ret 
def serialize atomic type argtype cast accessor if dereference type argtype argtype return ' %s %s ' % cast accessor else real type dereference type argtype t accessor cast real type accessor real type return '!! %s ? %s 0 * %s* copyin uint64 t %s sizeof %s ' % t 
def shannoninfo px logbase 2 px np px if not np px < 1 or not np px > 0 raise Value Error 'pxdoesnotdefineproperdistribution' if logbase ! 2 return - logbasechange 2 logbase * np px else return - np px 
def skill provision mode session prep r if mode is not None auth return Trues3 prepreturn s3 rest controller 'hrm' resourcename 
def salt token tool x auth cherrypy ' Auth Token None if x auth cherrypy id x auth 
def parse file info field storage info  parse upload info field storage File Info Parse Error if info is None return Noneinfo 'blob key None return File Info **info
def  get backup metadata backup operation try svc dict json backup metadata backup path svc dict 'backup path backup mode svc dict 'backup mode except Type Error vol prefix C O N F tsm volume prefixbackup id backup path utils dev path '%s-%s' % vol prefix backup id backup mode 'image'if backup mode not in VALID BACKUP MODES volume id backup id id backup _ '% op s backup bck id s volume vol id sfailed Backupobjecthasunexpectedmode Imageorfilebackupssupported actualmodeis vol mode s % {'op' operation 'bck id backup id 'vol id volume id 'vol mode backup mode L O G err raise exception Invalid Backup reason err return backup path backup mode 
def plasma rc u cmap u im gci if im is not None im cmap cm 
def get message exploration id thread id message id return  get message from model feedback models Feedback Message Model exploration id thread id message id 
def retrieve settings excluded from all []grab all True if   addon  .etting 'all' 'true' else False for key in SETS if grab all and key not in excluded from all S E T S Trueelse S E T S True if   addon  .etting key 'true' else False return sys 'copy' False 
def body encode s maxlinelen 76 eol NL if not s return sencvec []max unencoded maxlinelen * 3 // 4 for i in range 0 len s max unencoded enc b2a base64 s i + max unencoded ] .decode 'ascii' if enc NL and eol ! NL enc enc -1 ] + eol encvec enc return E M P T Y S T R I N G encvec 
def test multi search pg xlog for i in range 3 ready str i * 8 * 3 pg xlog ready '.ready' complete segment name 'F' * 8 * 3 pg xlog complete segment name '.done' ready history file name 'F' * 8 + '.history' pg xlog ready history file name '.ready' segs worker Wal Segment ready archive status str pg xlog xlog for i seg in enumerate segs assert seg str i * 8 * 3 assert i 2 pg xlog exists complete segment name '.done' pg xlog exists ready history file name '.ready'
def rename lineage config disp zope Utility interfaces I Display certname  get certname config 'rename' new certname config certnameif not new certname code new certname disp 'nterthenewnameforcertificate certname flag '--updated-cert-name' force interactive True if code ! display util O K or not new certname raise errors Error 'serendedinteraction lineage lineage for certname config certname if not lineage raise errors Configuration Error 'oexistingcertificatewithname certname storage renewal config certname new certname config disp 'uccessfullyrenamed certname new certname pause False 
def test Host With Private Dirs topo Single Switch Topo 10 private Dirs [ '/var/log' '/tmp/% name s '/var/run' '/tmp/% name s '/var/mn']host partial Host private Dirs private Dirs net Mininet topo topo host host net directories [ directory if isinstance directory tuple else directory for directory in private Dirs 'rivate Directories ' directories '\n' CLI net net 
def Index Definitions To Protos app id index definitions return [ndex Definition To Proto app id index for index in index definitions 
def has known bases klass try return klass all bases knownexcept Attribute Error passfor base in klass result safe infer base if not isinstance result astroid Class or result is klass or not has known bases result klass all bases known Falsereturn Falseklass all bases known Truereturn True 
def print attachments stream test all channels False channels 'stdout' 'stderr' for name detail in test name name ' ' [0]if detail type 'test' detail type 'text'if all channels or name in channels and detail text title 'aptured ' % name stream '\n%s\n%s\n' % title '~' * len title for line in detail text .split '\n' stream '%s\n' % line 
def create br json data role type bucket name index storage data {}if role 'db master data J S O N Tags T Y P E 'cassandra {0}'.format type data J S O N Tags O B J E C T NAME] 'gs //{0}{1}'.format bucket name hermes constants D B MASTER OBJECT NAME elif role 'db slave data J S O N Tags T Y P E 'cassandra {0}'.format type data J S O N Tags O B J E C T NAME] 'gs //{0}{1}'.format bucket name hermes constants D B SLAVE OBJECT N A M E index else return Nonedata J S O N Tags S T O R A G E storagereturn json data 
def check if vlan interface exists session vlan interface cluster None host mor vm util host ref session cluster physical nics ret session call method vim util 'get dynamic property host mor 'ost System 'config.network.pnic' if not physical nics ret return Falsephysical nics physical nics ret Physical Nicfor pnic in physical nics if vlan interface pnic return Truereturn False 
def contentstore config return {'ENGINE' 'ongo Content Store 'DOC STORE CONFIG' {'host' MONGO HOST 'db' 'test xcontent {}'.format os 'port' MONGO PORT NUM} 'ADDITIONAL OPTIONS' {'trashcan' {'bucket' 'trash fs 
def create repo body repo type None compress True chunk size None max restore bytes per sec None max snapshot bytes per sec None location None bucket None region None base path None access key None secret key None **kwargs if not repo type raise Missing Argument 'issingrequiredparameter type argdict locals body {}body['type'] argdict type {}settingz []maybes ['compress' 'chunk size 'max restore bytes per sec 'max snapshot bytes per sec ['bucket' 'region' 'base path 'access key 'secret key + [i for i in maybes if argdict argdict type 'fs' settingz 'location' if argdict type 's3' settingz + [i for i in s3 if argdict k in settingz body argdict body 
def symmetric residue a m if a < m // 2 return areturn a - m 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def  Set Filters filters  cpplint state Set Filters filters 
def is uuid like val try return str uuid U U I D val val except Type Error Value Error Attribute Error return False 
def parse bool text if text in 'true' '1' return Trueelif text in 'false' '0' return Falseraise Exception 'nvalidboolean %s' % text 
def explode opts opts preloads [ '.salt.opts' dict value opts ]for key val in six opts ukey key '.' '_' preloads '.salt.etc.{0}'.format ukey dict value val preloads '.salt.etc.id' dict value opts return preloads 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
@help Chord Builder def Chord data source None target None value None square matrix False label None xgrid False ygrid False **kw kw sourcekw targetkw valuekw matrix square matrixkw labelkw xgridkw ygridchart create and build Chord Builder data **kw chart Falsechart Falsechart line color Nonereturn chart 
def clusters at height root height lower set cluster list []for cl in preorder root if cl in lower continueif cl < height cluster list cl lower preorder cl return cluster list 
def change AUTOPOSTPROCESSOR FREQUENCY freq sickbeard A U T O P O S T P R O C E S S O R FREQUENCY try int freq sickbeard D E F A U L T AUTOPOSTPROCESSOR FREQUENCY if sickbeard A U T O P O S T P R O C E S S O R FREQUENCY < sickbeard M I N AUTOPOSTPROCESSOR FREQUENCY sickbeard A U T O P O S T P R O C E S S O R FREQUENCY sickbeard M I N AUTOPOSTPROCESSOR F R E Q U E N C Ysickbeard Post Processor Scheduler Time datetime minutes sickbeard A U T O P O S T P R O C E S S O R FREQUENCY
def test unicode class Unicode Table tables Table first name tables Link Column u args [A u ] last name tables Link Column u args [A u ] verbose name u dataset [{u'pk' 1 u name u Br u name u {u'pk' 2 u name u Chr u name u D Template u tables2 tabletable html template Context {u'request' build request u Unicode Table dataset } assert u Br in html assert u in html assert u Chr in html assert u D in html 
def crop to corner img corner small padding 1 large padding 2 assert corner in 0 1 2 3 'specifycorner0 1 2 or3 img img 'imgisnotsquare'assert img % 2 0 'evennumberofpixelsassumptionviolated'half size img / 2 big ii 0 if corner in 0 1 else 1 big jj 0 if corner in 0 2 else 1 tp small padding + large padding return img big ii * half size + tp big ii + 1 * half size - tp big jj * half size + tp big jj + 1 * half size - tp ]
def get changes between models model1 model2 excludes None if excludes is None excludes []changes {}for field in model1 meta if isinstance field fields Auto Field fields Related Field or field in excludes continueif field from object model1 ! field from object model2 changes name field from object model1 field from object model2 return changes 
def  parse routes iface opts opts dict k v for k v in six opts result {}if 'routes' not in opts  raise error routes iface 'routes' 'istofroutes for opt in opts result opts result 
def package remove name r salt D E T A I L S + 'package/remove/' + name decode type 'json' decode True return r 
def nonvoid cdata elements test parse function markup u "test"></html>\n'for tag in cdata Elements | rcdata Elements for x in tag tag u + tag tag + u "xxx"' root parse function markup x test Equal len X Path u body "test"]' root 1 u Incorrectparsingfor parsedmarkup \n' % x + etree root 
def send email confirmation request user signup False from .models import Email Address Email Confirmation C O O L D O W N PERIOD timedelta minutes 3 email user email user if email try email address Email Address for user user email if not email address if app settings E M A I L CONFIRMATION HMAC send email Trueelse send email not Email Confirmation sent  gt now - COOLDOWN PERIOD email address email address .exists if send email email address confirmation request signup signup else send email Falseexcept Email Address Does Not Exist send email Trueemail address Email Address email request user email signup signup confirm True assert email addressif send email get adapter request .add message request messages I N F O 'account/messages/email confirmation sent {'email' email if signup get adapter request .stash user request user pk to url str user 
def get Absolute Frozen Folder Path file Path folder Name '' if hasattr sys 'frozen' if '.py' in file Path file Path ''.join file Path '\\' [ 2] file Path os file Path 'skeinforge application return get Absolute Folder Path file Path folder Name 
def is alpha number number if not  is viable phone number number return False extension stripped number  maybe strip extension number return bool fullmatch  VALID ALPHA PHONE PATTERN stripped number 
def get parent pid return psutil Process .ppid
def from biadjacency matrix A create using None edge attribute 'weight' G  prep create using create using n m A G nodes from range n bipartite 0 G nodes from range n n + m bipartite 1 triples u n + v d for u v d in  generate weighted edges A if A in 'i' 'u' and G multigraph chain itertools iterabletriples chain u v 1 for d in range w for u v w in triples G weighted edges from triples weight edge attribute return G
def Style Factory style elm style cls {WD STYLE TYPE.PARAGRAPH  Paragraph Style WD STYLE TYPE.CHARACTER  Character Style WD STYLE TYPE.TABLE  Table Style WD STYLE TYPE.LIST  Numbering Style elm style cls style elm 
def random bitstring n return ''.join [random.choice '01' for i in range n ]
def test nm2 fit sample auto indices ratio 'auto'nm2 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS return indices True X resampled y resampled idx under nm2 sample X Y X gt np [[0.91464286 1.61369212] [ -0.80809175 -1.09917302 ] [ -0.20497017 -0.26630228 ] [ -0.05903827 0.10947647] [0.03142011 0.12323596] [ -0.60413357 0.24628718] [0.50701028 -0.17636928 ] [0.4960075 0.86130762] [0.45713638 1.31069295]] y gt np [0 0 0 1 1 1 2 2 2] idx gt np [3 10 11 2 8 5 9 1 6] assert array equal X resampled X gt assert array equal y resampled y gt assert array equal idx under idx gt 
def test pydotprint long name if not theano imported raise Skip Test 'pydotnotavailable' x tensor mode theano default mode .excluding 'fusion' f theano [x] [ x * 2 x + x ] mode mode f [1 2 3 4] theano f max label size 5 print output file False theano [ x * 2 x + x ] max label size 5 print output file False 
def extract env vars from xml xml file custom vars {}tree Element Tree xml file root tree for child in root if not child 'env-variables' continuefor env var in child var dict env var vars dict var dict custom vars 
@contributor removed checkin files by user node user files Osf Storage File Node Q 'node' 'eq' node & Q 'checkout' 'eq' user for file in files file Nonefile 
def  get date from str date input return datetime date input ' .replace tzinfo pytz U T C 
def get cpg list ip user passwd cmd 'showcpg'showcpg list run ssh thread ip user passwd cmd cpg list []line num 0for line in showcpg list line num + 1if '-------------------------' in line breakif '-----' in line or 'rcpy.' in line or '.srdata' in line or '0admin' in line continueif line num > 4 cpg stats line cpg list cpg stats return cpg list 
def ripple data return data - 3 * data - 3 + 2 * sin data - 4 * data - 4
def  get expand head file path config return os  get root versions dir config EXPAND HEAD FILENAME
def step 4 w for suffix rules in suffixes4 if w suffix for A in rules if w A return R2 w .endswith A and w - len A ] or w if R2 w .endswith 'ion' and w -3 ].endswith 's' 't' return w -3 ]return w 
def run psea fname os 'psea' + fname last fname '/' [ -1 ]base last '.' [0]return base + '.sea'
def clean astext node node node for img in node nodes img ''return node 
def execute ipmi cmd template None template template or [] def  execute ipmi cmd f def  execute self **kwargs args ['ipmitool']command f self **kwargs args command '' try out __ utils run as root True *args except processutils Process Execution Error raise ipmiexcept I P M I Exception _ 'runningipmitoolfailure' return  parse output out template return  executereturn  execute ipmi cmd 
def  base module conf file disable gpg check disablerepo enablerepo base dnf Base  configure base module base conf file disable gpg check  specify repositories base disablerepo enablerepo base sack load system repo 'auto' return base 
def safe zip *args base len args for i arg in enumerate args ] if len arg ! base raise Value Error 'rgument0haslength % base i + 1 len arg return zip *args
def find resource pkg resource name filter fn None rospack None if rospack is None rospack rospkg Ros Pack pkg path rospack path pkg source path to packages rospack custom cache 'source path to packages {} matches []search paths catkin find search dirs ['libexec' 'share'] project pkg first matching workspace only True source path to packages source path to packages if source path to packages rospack custom cache 'source path to packages source path to packages for search path in search paths matches  find resource search path resource name filter fn filter fn matches  find resource pkg path resource name filter fn filter fn unique matches []for match in matches if match not in unique matches unique matches match return unique matches 
def human readable size size if size > 0 for x in ['B' 'KB' 'MB' 'GB' 'TB' 'PB'] if size < 1024 return '%3.1f%s' if x ! 'B' else '%d%s' % size x size / 1024.0raise Runtime Error 'filesizesuspiciouslylarge'
def  get partitions dev dev path utils dev path dev out  err utils 'parted' '--script' '--machine' dev path 'units' 'print' run as root True lines [line for line in out '\n' if line [ O G _ 'artitions ' for line in lines ] num start end size ptype line ' ' [ 5]start int start 's' end int end 's' size int size 's' L O G _ '% num s % ptype s size dsectors % locals partitions num start size ptype return partitions 
def run  task 
def bytes validator optdict name value return optik ext bytes None name value 
def clear layers name set keep layers name list []
def  has unicode fields array dtypes d for d in array return any d 'U' for d in dtypes 
def ftperrors global  ftperrorsif  ftperrors is None import ftplib ftperrors ftplib errorsreturn  ftperrors 
def ustr what if isinstance what unicode return whattry r what  str   except Attribute Error r str what if not isinstance r unicode return unicode r ENCODING return r 
@connect on app finalizedef add accumulate task app @app.task bind True name u shared False lazy False def accumulate self *args **kwargs index kwargs u return args if index is not None else args return accumulate 
def search ignore case s *keywords acora Acora Builder keywords .build ignore case True return acora s 
def filter ns ns name pattern '*' type pattern 'all' ignore case True show all True pattern name pattern '*' '.*' .replace '?' '.' if ignore case reg re pattern + '$' re I else reg re pattern + '$' return dict key obj for key obj in ns if reg key and show hidden key show all and is type obj type pattern 
def load data path 'mnist.pkl.gz' path get file path origin 'https //s3.amazonaws.com/img-datasets/mnist.pkl.gz' if path '.gz' f gzip path 'rb' else f open path 'rb' if sys info < 3 data c Pickle f else data c Pickle f encoding 'bytes' f return data 
def macroexpand tree compiler load macros compiler name old Nonewhile old ! tree old treetree macroexpand 1 tree compiler return tree 
@requires tvtk mayavidef test decimate surface points np [[ -0.00686118 -0.1036986 0.0261517] [ -0.00713948 -0.10370162 0.02614874] [ -0.00686208 -0.10368247 0.02588313] [ -0.00713987 -0.10368724 0.02587745]] tris np [[0 1 2] [1 2 3] [0 3 1] [1 2 0]] for n tri in [4 3 2] _ this tris decimate surface points tris n tri assert true len this tris n tri if not n tri % 2 else 2 nirvana 5tris np [[0 1 2] [1 2 3] [0 3 1] [1 2 nirvana assert raises Value Error decimate surface points tris n tri 
def register pickle def pickle dumps obj dumper pickle return dumper obj protocol pickle protocol registry u pickle dumps unpickle content type u content encoding u 
def unmarshall time tyme return datetime day tyme month tyme year tyme hour tyme minute tyme second tyme microsecond tyme 
def test ast lambda lists cant compile u fn ' cant compile u fn ' cant compile u fn ' cant compile u fn list12 '
def  get top level images imagedata subset None try parents [arent Id for x in imagedata  subset if subset is not None else imagedata return [x for x in filter  if x not in parents ]except Key Error Type Error raise Command Execution Error 'nvalidimagedatapassedto get top level images .leasereportthisissue Fullimagedata {0}'.format imagedata 
def sorted list difference expected actual i j 0missing []unexpected []while True try e expected actual e < a missing e i + 1while expected e i + 1elif e > a unexpected a j + 1while actual a j + 1else i + 1try while expected e i + 1finally j + 1while actual a j + 1except Index Error missing expected ] unexpected actual ] breakreturn missing unexpected 
def not success status return status ! u 
def xml root open data links data config L I N K S href title ''if links and 'self' in links self  links 'self' href 'href "%s"' % utils self ['href'] if 'title' in self  title 'title "%s"' % self ['title'] return '<resource%s%s>' % href title 
def  get cscript path for dir in os 'PATH' '' .split os cscript path os dir 'cscript.exe' if os cscript path return cscript path 
def zeromq event registry xml parent data zmq event X M L Sub Element xml parent ' M Q Event Publisher Hudson Notification Property X M L Sub Element zmq event 'enabled' .text 'true'
def human readable value value float value index -1 suffixes ' M G T P E Z Y value > 1024 and index + 1 < len suffixes index + 1value round value / 1024 if index -1 return '%d' % value return '%d%si' % round value suffixes 
def tostring element *args **kwargs global modules bootstrap t  get type element etree modules t None if not etree raise Runtime Error 'nabletofindtheetreeimplementationrelatedto type ' % element t return etree element *args **kwargs
def  generate First Order0 num Categories 5rob numpy num Categories init Prob 1rder dict first Order numpy [0 0.1 0 0 0.9] first Order numpy [0 0 0.75 0.25 0] first Order numpy [1.0 0 0 0 0] first Order numpy [1.0 0 0 0 0] first Order numpy [0 0 0.5 0.5 0] second Order Nonecategory List [ '%d' % x for x in range 5 ]return init Prob first Order second Order 3 category List 
def available aggregate functions  create function dict return  function dict 
def lookup A F S Database name timeout None return get Resolver . F S Database name timeout 
def secgroup clone call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hesecgroup clonefunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None secgroup id kwargs 'secgroup id None secgroup name kwargs 'secgroup name None if name is None raise Salt Cloud System Exit "hesecgroup clonefunctionrequiresa if secgroup id if secgroup name log "oththe id name id elif secgroup name secgroup id get secgroup id kwargs {'name' secgroup name else raise Salt Cloud System Exit "hesecgroup clonefunctionrequireseithera id name server user password  get xml rpc auth ' '.join [user password response server auth int secgroup id name data {'action' 'secgroup.clone' 'cloned' response 'cloned secgroup id response 'cloned secgroup name name 'error code response data 
def require editor handler def test collection editor self collection id **kwargs 'etstheuserandcollectionidiftheusercaneditit Args \nself thehandlerinstance id thecollectionid anyotherargumentspassedtothehandler Returns \herelevanthandler iftheuserisauthorizedtoeditthis Raises \age Not Found Exception ifnosuchcollectionexists Unauthorized User Exception iftheuserexistsbutdoesnot not self id self current user services login url self returnif self in config domain B A N N E D U S E R N A M E S or self not in config domain W H I T E L I S T E D COLLECTION EDITOR U S E R N A M E S raise self Unauthorized User Exception 'oudonothavethecredentialstoaccessthispage try collection services collection by id collection id except raise self Page Not Found Exceptionif not rights manager Actor self id .can edit feconf A C T I V I T Y TYPE COLLECTION collection id raise self Unauthorized User Exception 'oudonothavethecredentialstoeditthiscollection self id return handler self collection id **kwargs return test collection editor 
def  garbage collect connection socket instance if socket instance is not None quiet shutdown socket instance quiet close socket instance 
def create options options passthru args None class Fake Options object def for scope self scope scoped options options isinstance scoped options  Fake Option Values return scoped optionselse return create option values scoped options def for global scope self return self scope u def passthru args for scope self scope return passthru args or [] def items self return options @propertydef scope to flags self return {}def get fingerprintable for scope self scope return []def   getitem   self key return self scope key return Fake Options 
def test makereport getsource dynamic code testdir monkeypatch import inspectoriginal findsource inspect findsource obj *args **kwargs if obj  name   'foo' raise Index Error return original findsource obj *args **kwargs monkeypatch inspect 'findsource' findsource testdir '\nimportpytest\n\n@pytest.fixture\ndeffoo missing \npass\n\ndeftest fix foo \alse result testdir '-vv' assert 'INTERNALERROR' not in result result lines ['*test fix "*fixture*'missing'*notfound*"]
def  Underride d **options if d is None d {}for key val in options d key val return d 
def Logistic name mu s return rv name Logistic Distribution mu s 
def O S C Blob next if type next type '' length len next padded math len next / 4.0 * 4 binary struct '>i%ds' % padded length next tag 'b'else tag ''binary ''return tag binary 
def get target index lang name 'target-%s' % lang try exists S T O R A G E exists name except O S Error create index exists Falseif not exists create target index lang index S T O R A G E index name if 'comment' not in index index field 'comment' TEXT if 'pk' not in index index field 'pk' NUMERIC stored True unique True if 'checksum' in index index field 'checksum' return index 
def test get words html expected words ['DOCTYPE' 'ello 'amie 'orld 'body' 'charset' 'en' 'h' 'head' 'here' 'html' 'lang' 'meta' 'p' 'title' 'utf' 'was']assert sorted expected words sorted get words by filename 'example.html' assert sorted expected words sorted get words by content 'example.html'
def tanimoto coefficient X Y if X is Y X Y np X else X np X Y np Y result []i 0for array X in X result [] for array Y in Y n XY np array Y array X .sizeresult[i].append n XY / float len array X + len array Y - n XY result np result i + 1return np result 
def  gen jid cur jid salt jid sql ' E L E C Tjid F R O Mjids W H E R Ejid %s'cur.execute sql jid data cur if not data return jidreturn None 
def xmltoolkit63 tree E T Tree Builder tree 'tag' {} tree 'text' tree 'tag'
def remove extension name if name and '.' in name base name sep extension name '.' if base name and extension in ['nzb' 'torrent'] + media Extensions name base namereturn name 
def parse network vlan ranges network vlan ranges cfg entries networks {}for entry in network vlan ranges cfg entries network vlan range parse network vlan range entry if vlan range networks network [] .append vlan range else networks network [] return networks 
def  save editor caller buffer key caller multidesc editkey update store caller key buffer caller "aveddescriptiontokey % key return True 
def vpn status ret {}for line in run settings 'openvpn' 'status' [0].split '\n' x re "' ? '\\is\\ ? ?" line if x ret 'vpn' ] x 'running' ! 'not' return ret 
def Gen Rand Line length dims 2 line Data np dims length line Data 0] np dims for index in range 1 length step np dims - 0.5 * 0.1 line Data index line Data index - 1 ] + step return line Data 
def Get Source Name get version sdk update checker Get Version Object version get version if version is None release 'unknown'else release version 'oogle % release 
def jsonify request response content {'status' response code 'content' smart str response response }return Http Response json content content type 'application/json'
def  loop lift get candidate infos cfg blocks livemap loops  extract loop lifting candidates cfg blocks loopinfos []for loop in loops [callfrom] loop exit next iter loop [ returnto _ ] cfg an exit inputs sorted livemap outputs sorted livemap lli  loop lift info loop loop inputs inputs outputs outputs callfrom callfrom returnto returnto loopinfos lli return loopinfos 
def add Handler handler handler Formatter formatter logger Handler handler 
def libvlc audio output list release p list f  Cfunctions 'libvlc audio output list release None or  Cfunction 'libvlc audio output list release 1 None None ctypes P O I N T E R Audio Output return f p list 
def create foreign key kind key is id False def generate foreign key lambda value if key is id value int value return datastore Key path kind value return generate foreign key lambda 
def get text original token replace if replace return token return original token 
def check acls user obj acl type if acl type 'moz contact try return user in obj mozilla contacts except Attribute Error try return user in obj mozilla contacts except Attribute Error return Falseelif acl type 'admin' return acl allowed user user 'dmin '%' elif acl type 'reviewer' return acl allowed user user 'pps 'eview or acl allowed user user 'ontent Tools 'ddon Review elif acl type 'senior reviewer return acl allowed user user 'pps 'eview Escalated else raise Exception 'nvalid A C Llookup return False 
def get Evaluated Float key xml Element None if xml Element None return Noneif key in xml Element Dictionary return euclidean Float From Value get Evaluated Value Obliviously key xml Element return None 
def setup test environment Template original render Template render Template render instrumented test rendermail original email backend settings E M A I L B A C K E N Dsettings E M A I L BACKEND 'mail Backend original allowed hosts settings A L L O W E D H O S T Ssettings A L L O W E D HOSTS ['*']mail.outbox []deactivate
@not implemented for 'directed' @not implemented for 'multigraph' def communicability G import numpyimport scipy list G A nx numpy matrix G nodelist A[ A ! 0.0 ] 1 w vec numpy A expw numpy w mapping dict zip nodelist range len nodelist c {}for u in G c {}for v in G s 0p mapping mapping j in range len nodelist s + vec j p 0 ] * vec j q 0 ] * expw c float s return c 
def decrypt aes secret key sha S H A256 sha key for  i in range 1 1000 + 1 sha secret 60] aeskey sha data ''for i in range 60 len secret 16 aes A E S aeskey AES.MODE CBC '\x00' * 16 buf secret i + 16 ]if len buf < 16 buf + 16 - len buf * '\x00' data + aes buf return data 
def sort seq gaps [x for x in range len seq // 2 0 -1 ]for gap in gaps for i in range gap len seq temp seq iwhile j > gap and seq j - gap ] > temp seq seq j - gap ]j - gapseq tempreturn seq 
def match mkfs option fs type dev needed options if fs type 'ext' ret match ext options fs type dev needed options elif fs type 'xfs' ret match xfs options dev needed options else ret Falsereturn ret 
def parse property source info positive in set saved pos source source if ch '{' negate source '^' prop name name parse property name source if source '}' prop lookup property prop name name positive ! negate source return make property info prop in set elif ch and ch in 'CLMNPSZ' prop lookup property None ch positive source return make property info prop in set source saved posch 'p' if positive else 'P' return make character info ord ch in set 
def synloop obj connection consumer blueprint hub qos heartbeat clock hbrate 2.0 **kwargs RUN bootsteps R U Non task received obj task handler perform pending operations obj pending operationsif getattr obj u green False  enable amqheartbeats obj connection rate hbrate consumer message on task receivedconsumer obj ready while blueprint RUN and obj state shutdown if qos ! qos qos try perform pending operations connection events timeout 2.0 except socket passexcept socket if blueprint RUN raise 
def  Fix Code Filename code filename if isinstance code types Code Type code types Code Type code argcount code nlocals code stacksize code flags code code tuple [ Fix Code Filename c filename for c in code consts code names code varnames filename code name code firstlineno code lnotab code freevars code cellvars return code 
def R Lock *args **kwargs return  R Lock *args **kwargs
def can generate key return find executable u is not None 
def  patch docstring docstring for pattern subs in  DOC P A T T E R N S replaced count pattern subs docstring if count return replacedreturn docstring 
def  get old connections facebook id current user id None user or profile model get model for attribute 'facebook id other facebook accounts user or profile model facebook id facebook id kwargs {}if current user id user model get user model if user or profile model user model kwargs current user idelse kwargs current user idother facebook accounts other facebook accounts **kwargs return other facebook accounts 
@requires segment infodef readonly indicator pl segment info text u R O return text if int vim getbufoption segment info u else None 
def dmp zero u r []for i in range u r [r]return r 
def Register Python Exe exe Full Path exe Alias None exe App Path None if exe App Path raise error 'onotsupportexe App Pathargumentcurrently if exe Alias is None exe Alias os exe Full Path win32api Reg Set Value Get Root Key Get App Paths Key + '\\' + exe Alias win32con R E G SZ exe Full Path 
def memset builder ptr size value sizety size 'llvm.memset.p0i8.i%d' % sizety fn builder intrinsic 'llvm.memset' voidptr t size ptr builder ptr voidptr t if isinstance value int value int8 t value builder fn [ptr value size int32 t 0 bool t 0 ]
def Get Big Query Client service account None private key None project id None dataset id None service account service account or config lib C O N F I G Big Query account private key private key or config lib C O N F I G Big Query key project id project id or config lib C O N F I G Big Query id dataset id dataset id or config lib C O N F I G Big Query id if not service account and private key and project id and dataset id raise Runtime Error 'ig Query account Big Query key Big Query idand Big Query idmustbedefined creds Signed Jwt Assertion Credentials service account private key scope BIGQUERY SCOPE http httplib2 Http http creds http service build 'bigquery' 'v2' http http return Big Query Client project id project id bq service service dataset id dataset id 
def polygon under graph xlist ylist return [ xlist 0.0 ] + list zip xlist ylist + [ xlist -1 ] 0.0 ]
def admin or self method def decorated method self name current self current user if current is None raise web H T T P Error 403 if not current if not isinstance current orm Service raise web H T T P Error 403 if current ! name raise web H T T P Error 403 if name not in self raise web H T T P Error 404 return method self name return decorated method 
def file generator limited fileobj count chunk size 65536 remaining countwhile remaining > 0 chunk fileobj min chunk size remaining chunklen len chunk if chunklen 0 returnremaining - chunklen yield chunk 
def imagej shape shape rgb None shape tuple int i for i in shape ndim len shape if 1 > ndim > 6 raise Value Error 'mage Jhyperstack not2to if rgb is None rgb shape -1 ] in 3 4 and ndim > 2 if rgb and shape -1 ] not in 3 4 raise Value Error 'mage Jhyperstack nota R G Bimage if not rgb and ndim 6 and shape -1 ] ! 1 raise Value Error 'mage Jhyperstack notanon R G Bimage if rgb or shape -1 ] 1 return 1 * 6 - ndim + shape else return 1 * 5 - ndim + shape + 1
@receiver job was submitted def on job was submitted sender job **kwargs subject template loader template 'jobs/email/job was submitted subject message template loader template 'jobs/email/job was submitted message context Context {'content object job 'site' Site current } subject subject template message context message message template message context send mail subject message settings J O B FROM EMAIL [EMAIL JOBS BOARD]
def parse soap enveloped saml text body class header class None envelope Element Tree text assert envelope 'nvelope % NAMESPACE body Noneheader {}for part in envelope if part 'ody % NAMESPACE for sub in part try body saml2 class from element tree body class sub except Exception raise Exception 'rongbodytype %s in S O A Penvelope % sub elif part 'eader % NAMESPACE if not header class raise Exception "eaderwhere Ididn for sub in part for klass in header class if sub '{%s}%s' % klass namespace klass tag header saml2 class from element tree klass sub breakreturn body header 
def ensure app is not running logging 'nsure App Scaleisnotcurrentlyrunning appscale running subprocess ['service' CONTROLLER SERVICE 'status'] 0 if appscale running logging 'pp Scaleisrunning pleaseshutitdownandtryagain sys 1
def configure blueprints app from user import userfrom frontend import frontendfrom api import apifor bp in [user frontend api app blueprint bp 
def remove duplicates errors passed defaultdict list for error in errors key error error if key in DUPLICATES if key in passed continuepassed D U P L I C A T E S yield error 
@register opt @local optimizer [pu From Host tensor Dot22 def local gpu dot22 node if isinstance node Gpu From Host host input node host input and isinstance host input tensor Dot22 x y host input [gpu dot22 as cuda ndarray variable x as cuda ndarray variable y ]if isinstance node tensor Dot22 if any [ i and isinstance i Host From Gpu for i in node x y node [host from gpu gpu dot22 as cuda ndarray variable x as cuda ndarray variable y ]return False 
def get harris points harrisim min dist 10 threshold 0.1 corner threshold harrisim * threshold harrisim t harrisim > corner threshold * 1 coords array harrisim t .candidate values [harrisim[ c c ] for c in coords argsort candidate values allowed locations zeros harrisim allowed locations dist - min dist min dist - min dist ] 1filtered coords []for i in index if allowed locations coords i 0 ] coords i 1 ] ] 1 filtered coords coords allowed locations coords i 0 ] - min dist coords i 0 ] + min dist coords i 1 ] - min dist coords i 1 ] + min dist ] 0return filtered coords 
def  is ratelimited request return is ratelimited request 'kbforum-post-min' '4/m' or is ratelimited request 'kbforum-post-day' '50/d'
def  flatten metadata metadata if metadata return dict k unicode v for k v in metadata if type v not in set [list dict set return {}
def get version module module name url optional False try mod importlib module module except Import Error if optional return Noneraise Exception u Failedtoimport pleaseinstall % module u  version  ' u name url return mod 
def event return events opts  get options {} opts Truefor event in events log 'arbonreturnerreceivedevent {0}'.format event metric base event event 'data'  send saltdata metric base opts 
def  generate File filename data print 'reating % filename num Records num Fields data [ 'field%d' % i + 1 'float' '' for i in range num Fields ]ile File filename fields for i in xrange num Records out File data out File 
def campaign return s3 rest controller 
def clipped list items limit 1000 less lookups False total min 10 total '' if less lookups s ' '.join itertools items limit + 2 // 3 else s ' '.join items s clip string s limit ' ' if total and len items > total min s + '' + total len items return s 
def user role name rawtext text lineno inliner options None content None options options or {} content content or [] has explicit title title target split explicit title text target utils target .strip title utils title .strip config inliner config user uri ref config user uri user target else ref 'https //github.com/{0}'.format target if has explicit title text titleelse text '@{0}'.format target link nodes text text refuri ref **options return [link] []
def grails registry xml parent data grails X M L Sub Element xml parent 'rails Builder grails 'plugin' 'grails' mappings [ 'targets' 'targets' None 'name' 'name' ' Default ' 'work-dir' 'ork Dir '' 'project-dir' 'ork Dir '' 'base-dir' 'ase Dir '' 'server-port' 'ort '' 'properties' 'properties' '' 'force-upgrade' 'pgrade False 'non-interactive' 'nteractive False 'use-wrapper' 'rapper False 'plain-output' 'utput False 'stack-trace' 'race False 'verbose' 'verbose' False 'refresh-dependencies' 'ependencies False ]convert mapping to xml grails data mappings fail required True 
def safe open path mode 'w' chmod None buffering None open args if chmod is None else chmod fdopen args if buffering is None else buffering return os os path os O CREAT | os O EXCL | os O RDWR *open args mode *fdopen args 
def is python 27 major version minor version sys info 2]return major version > 2 or major version 2 and minor version > 7
def compute collection contributors summary collection id snapshots metadata get collection snapshots metadata collection id current version len snapshots metadata contributors summary collections int while True snapshot metadata snapshots metadata current version - 1 ]committer id snapshot metadata id revert snapshot metadata type 'revert' if not is revert and committer id not in feconf S Y S T E M USER IDS contributors summary id + 1if current version 1 breakif is revert current version snapshot metadata cmds number current version - 1return contributors summary 
def sendfile request filename **kwargs return Http Response u Dummybackendresponse 
def active window return Qt Widgets Q Application Window 
def view auth classes is user False is authenticated True def  decorator func or class 'equireseither O Auth2or Session Ifis useris True alsorequiresusernamein U R Lmatchestherequestuser or class classes Jwt Authentication O Auth2 Authentication Allow Inactive User Session Authentication Allow Inactive User func or class classes if is authenticated func or class classes + Is Authenticated if is user func or class classes + Is User In Url return func or classreturn  decorator 
def hex to rgb value value value '#' lv len value return tuple int value i + lv // 3 ] 16 for i in range 0 lv lv // 3
def test str cat no runtime exception expr t str cat cat t compute expr {t s str cat t str cat s str cat return type 'native'
def  check type picks picks err msg 'one alistoranarrayofintegers picks is None passelif isinstance picks list if not all isinstance i int for i in picks raise Value Error err msg picks np picks elif isinstance picks np if not picks 'i' raise Value Error err msg else raise Value Error err msg return picks 
def  shown elem with wait context by wait time MAX WAIT TIME def  visibility try elem context element by by context script '$ window .eft %s ;$ window .op %s ;' % elem elem return elem displayed except No Such Element Exception return Falsetry return Web Driver Wait context wait time .until lambda browser  visibility except Timeout Exception return None 
def get Search root Dir data Path os os root Dir 'datasets' 'scalar 1.csv' stream Def dict version 1 info 'patial Classification streams [dict source 'file //%s' % data Path info 'scalar 1.csv' columns ['*'] ] exp Desc {'environment' 'nupic' 'rgs {ield 'classification' 'teps [0]} 'ype 'ulti Step 'ef stream Def 'ields [ame 'field1' 'ype 'float'} {ame 'classification' 'ype 'string'} {ame 'ata 'ype 'float'}] 'ount -1 }return exp Desc 
def metadef tag create tags context namespace name tag list session None session get session return metadef tag api tags context namespace name tag list session 
def Embl Iterator handle return Embl Scanner debug 0 .parse records handle 
def acosh x np import module 'numpy' if isinstance x int float if x < 1 return interval - np np is valid False else return interval np x elif isinstance x interval if x < 1 return interval - np np is valid False elif x < 1 return interval - np np is valid None else start np x end np x return interval start end is valid x valid else return Not Implemented Error 
def  mock hide 64px icon path *args **kwargs if '128' in path raise I O Error 'o128pxiconforyou return storage open path *args **kwargs
def format html html return html u u .replace u u 
def  safe text return text "'" "''" .replace '\\' '\\\\'
def adds message to errors dict error message def decorator validator def call and assert key data errors context result validator key data errors context assert errors [error message 'houldaddmessagetoerrorsdict {msg}'.format msg error message return resultreturn call and assertreturn decorator 
def normalize Title title lang None is Unicode isinstance title unicode stitle title ' ' articles Dicts linguistics Dicts For Lang lang if len stitle > 1 and stitle -1 ].lower in articles Dicts Unicode sep ''if stitle -1 ][ -1 ] in "'" '-' sep ''if is Unicode  format u joiner u 'else  format '%s%s%s' joiner ' 'title  format % stitle -1 ] sep  joiner stitle -1 ] return title 
def show labeling im labels imshow im contour labels [ -0.5 0.5] contourf labels [ -1 -0.5 ] colors 'b' alpha 0.25 contourf labels [0.5 1] colors 'r' alpha 0.25 xticks [] yticks []
def schema version request cursor connection cursor ' E L E C Tversion F R O Mschema version version [x for x in cursor render to response 'kadmin/schema.html' {'schema version version 'title' 'chema Version Request Context request {}
def encode Name name encoded Name ''if name '/' name name ]for char in name if char '\x00' encoded Name + charelse try hex '%x' % ord char encoded Name + '#' + hex except return -1 'rrorencodingname return 0 '/' + encoded Name 
def test megabit assert u Mbit is u Mb assert u is u Mb assert u Mbyte is u M B assert u is u M B 
def Get Phrase Query Node Text node text Get Query Node Text node if text if text '"' and text -1 ] '"' text text -1 ]return text 
def  unlock imports global   lock imports  lock imports False 
def rax to dict obj obj type 'standard' instance {}for key in dir obj value getattr obj key if obj type 'clb' and key 'nodes' instance []for node in value instance rax clb node to dict node elif isinstance value list and len value > 0 and not isinstance value NON CALLABLES instance []for item in value instance rax to dict item elif isinstance value NON CALLABLES and not key '_' if obj type 'server' if key 'image' if not value instance boot source 'volume'else instance boot source 'local'key rax slugify key instance valueif obj type 'server' for attr in ['id' ' Pv4 'name' 'status'] instance instance rax slugify attr return instance 
def add source zone source permanent True if source in get sources zone permanent log 'ourceisalreadyboundtozone cmd '--zone {0}--add-source {1}'.format zone source if permanent cmd + '--permanent'return   firewall cmd cmd 
def correct mesh orientation volume verts faces spacing 1.0 1.0 1.0 gradient direction 'descent' warn Deprecation Warning '`correct mesh orientation cubes classic verts verts verts 0] / spacing 1] / spacing 2] / spacing verts verts  correct mesh orientation volume actual verts faces spacing gradient direction 
def output notebook resources None verbose False hide banner False load timeout 5000 load notebook resources verbose hide banner load timeout  state notebook 
def check python import package or module logger logging Logger   name   logger "heckingpythonimport package or module loader pkgutil loader package or module found loader is not None if found logger "ython %r" 'package' if loader package package or module else 'module' package or module loader filename else logger "ythonimport package or module return found 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  Set Counting Style level  cpplint state Set Counting Style level 
@ assure identitydef authenticate connect True identity 
def delete vpc peering connection name conn id None conn name None region None key None keyid None profile None log 'alledstatetodelete V P Cpeeringconnection ret {'name' name 'result' True 'changes' {} 'comment' 'oto V P Cpeeringstate conn name vpc ids   salt  ['boto vpc vpc peering connection conn name region region key key keyid keyid profile profile .get ' P C Peerings [] else vpc ids [conn id not vpc ids ret 'o V P Cconnectionfound nothingtobedone retif   opts  ['test'] if vpc ids ret ' P Cpeeringconnectionwouldbedeleted retlog 'alledmoduletodelete V P Cpeeringconnection result   salt  ['boto vpc vpc peering connection conn id conn id conn name conn name region region key key keyid keyid profile profile if 'error' in result ret 'ailedtodelete V P Cpeering {0}'.format result ret Falsereturn retret {'old' '' 'new' result return ret 
def validate conversion rate currency conversion rate conversion rate label company company currency frappe value u Company company u currency cache True if not conversion rate throw _ u Maybe Currency Exchangerecordisnotcreatedfor .format conversion rate label currency company currency 
def find occurrences project resource offset unsure False resources None in hierarchy False task handle taskhandle Null Task Handle name worder name at resource offset this pymodule project pymodule resource primary pyname rope location2 this pymodule offset def is match occurrence return unsurefinder occurrences finder project name pyname unsure is match in hierarchy in hierarchy instance primary if resources is None resources project python files job set task handle jobset 'inding Occurrences count len resources return  find locations finder resources job set 
def is hidden folder folder def is hidden filepath name ek os ek os filepath return name u or has hidden attribute filepath def has hidden attribute filepath try attrs ctypes Get File Attributes W ctypes wchar p unicode filepath assert attrs ! -1 result bool attrs & 2 except Attribute Error Assertion Error result Falsereturn resultif ek os folder if is hidden folder return Truereturn False 
def array Permutation permutation assert permutation 1 'nlyonedimensionalpermutatonarraysaresupported permute arr assert arr 1 'nlyonedimensionalarraysaresupported arr permutation "rrayshapesdon array [arr[i] for i in permutation return permute 
def volume to dataset volume return '%s.%s' % volume id 'ascii' volume bytes 
def TR4 rv return rv 
def split filenames format string shards parsed formats parser format string sizes [files.stat filename .st size for filename in filenames per shard float sum sizes / shards if not size per shard returnif parsed formats split return  deep split filenames size per shard parsed formats else return  shallow split filenames size per shard parsed formats sizes 
@auth.s3 requires membership 1 def icategory output s3 rest controller return output 
def clean name s if not isinstance s unicode u unicode s 'ascii' 'replace' else u su  transliterate u  XLATE GRAPHICAL AND DIACRITICAL u unicodedata 'NFKC' u u  translate u  XLATE SPECIAL u  CN R E1 u u u  CN R E2 u u u u return u 
def  is Python Identifier string return '' not in string and '.' not in string and '-' not in string 
def clean locks LCK 'removed'out {LCK 0}if not os '/etc/zypp/locks' return outfor node in   zypper  .xml.call 'cl' .lements By Tag Name 'message' text node Nodes Value if text LCK out L C K text '' [1]breakreturn out 
def st Energy frame return numpy frame ** 2 / numpy len frame 
def exclusion registry xml parent data exl X M L Sub Element xml parent 'd Allocator exl 'plugin' 'xclusion ids X M L Sub Element exl 'ids' resources data 'resources' [] for resource in resources dit X M L Sub Element ids 'efault Id Type X M L Sub Element dit 'name' .text str resource .upper
def Add Request S S Handle p I O Type p Channel Value x1 User Data if os 'nt' static Lib ctypes Load Library 'labjackud' v ctypes double Value ud ctypes double User Data ec static Lib Add Request S S Handle p I O Type p Channel v x1 ud if ec ! 0 raise Lab Jack Exception ec else raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def require fully signed up handler def test registered as editor self **kwargs 'heckthattheuserhasregisteredasaneditor not self id or self in config domain B A N N E D U S E R N A M E S or not user services fully registered self id raise self Unauthorized User Exception 'oudonothavethecredentialstoaccessthispage return handler self **kwargs return test registered as editor 
def Normalize Path path sep '/' if not path return seppath Smart Unicode path path list path sep if path list in ['.' '..' ''] path list 0 i 0while True list len len path list for i in range i len path list if path list '.' or not path list path list i breakelif path list '..' path list i if i 1 and path list or i > 1 i - 1path list i breakif len path list list len return sep + sep path list 
def get User Name us skype 'GETCURRENTUSERHANDLE' .partition 'CURRENTUSERHANDLE' [2].strip if us '' raise Exception 'ouldnotaccessskype return us 
def  shell join seq result []for word in seq if isinstance word tuple Mutable Sequence word  shell join word escaped shell quote word result escaped return ''.join result 
def  convert 2 string item if isinstance item dict return dict  convert 2 string key  convert 2 string value for key value in item elif isinstance item list return [ convert 2 string i for i in item isinstance item tuple return tuple [ convert 2 string i for i in item elif isinstance item set return itemelse try return item 'utf-8' except Attribute Error return str item 
def uniform random intersection graph n m p seed None G bipartite graph n m p seed seed return nx graph G range n 
def documents for locale topics None products None documents  documents for locale topics products if locale ! settings W I K I DEFAULT LANGUAGE l10n document ids [d['document parent id for d in documents if 'document parent id in d ]en documents  documents for locale settings W I K I DEFAULT LANGUAGE products products topics topics fallback documents [d for d in en documents if d not in l10n document ids ]else fallback documents Nonereturn documents fallback documents 
def get batch normalization updates training graph allow duplicates False from ..bricks import Batch Normalizationfrom ..filter import Variable Filter get application callvar filter Variable Filter bricks [atch Normalization roles [OUTPUT] all app calls map get application call var filter training graph train app calls  training mode application calls all app calls if len train app calls 0 raise Value Error 'atch Normalizationapplicationsfoundingraph bricks [c.application.brick for c in train app calls not allow duplicates and not isdistinct bricks raise Value Error 'atch Normalizationbrick duplicates Truetooverridethischeck def extract pair brick attribute metadata key app call return getattr app call brick attribute app call key mean pair partial extract pair 'population mean 'offset' stdev pair partial extract pair 'population stdev 'divisor' return sum [ [mean pair a stdev pair a ] if not a only else [mean pair a ] for a in train app calls []
def to xml items msg [u'<?xmlversion "1.0"?>' u item in items msg item xml msg u return u msg 
def D N S Service Process Result sd Ref  global lock try  D N S Service Process Result sd Ref finally  global lock 
def fire pilight message protocol data message { O N F PROTOCOL protocol data H A S S pilight E V E N T message 
def object array *args array np len args dtype object for i in range len args array args array 
def delete profiler id models Profiler get id .delete
def get milestone relationship types if not settings F E A T U R E S 'MILESTONES APP' return {}return milestones api milestone relationship types 
def location list arg if isinstance arg tuple return latlng arg else return '|'.join [latlng location for location in as list arg ]
def test primary key is inherited t table Table [ 2 3 2 1 8 7 6 5 ] names 'a' 'b' t index 'a' original key t keyassert original key is 'a' t2 t ]t3 t t4 table Table t assert original key t2 key assert original key t3 key assert original key t4 key assert t t2 assert t t3 assert t t4 
def fork task context functor context None context context or Context instance xheader context get task context def wrapped *args **kargs context load task context xheader return functor *args **kargs return wrapped 
def write int fid kind data data size 4data np data dtype '>i4' .T write fid data kind data size FIFF.FIFFT INT '>i4'
def Test Hunt Helper With Multiple Mocks client mocks check flow errors False token None iteration limit None total flows set token token Set U I D client mocks [ock Client client id client mock token token for client id client mock in client mocks ]worker mock Mock Worker check flow errors check flow errors token token while iteration limit is None or iteration limit > 0 client processed 0for client mock in client mocks client processed + client mock Next flows run []for flow run in worker mock Next total flows flow run flows run flow run if client processed 0 and not flows run breakif iteration limit iteration limit - 1if check flow errors Check Flow Errors total flows token token 
def is int list value min None max None return [is integer mem for mem in is list value min max ]
def get dependencies return config driver dependencies   virtualname   {'libcloud' HAS LIBS}
def dashboard new activities count context data dict  check access 'dashboard new activities count context data dict activities logic action 'dashboard activity list context data dict return len [activity for activity in activities if activity new 
def add to sys path pathnames index 0 for pathname in pathnames -1 ] sys index pathname 
def  sym quad form x mu A q cdist x mu 'mahalanobis' VI A ** 2 .reshape -1 return q 
def test With I O inp out f try oldin sys sys inp oldout sys sys out x f finally sys oldinsys oldoutreturn x 
def validate check flags val if not val returnfor flag in val ' ' name flag ' ' [0]if name in EXTRA FLAGS or name in IGNORE CHECK FLAGS continueraise Validation Error _ 'nvalidcheckflag "%s"' % flag 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
def millions x pos return ' % x * 1e-06
def unpack Open direct tcpip data conn Host rest common N S data conn Port int struct '>L' rest 4] [0] orig Host rest common N S rest ] orig Port int struct '>L' rest 4] [0] return conn Host conn Port orig Host orig Port 
def tree plist l a f if l > 3 lst []for p in plist p l q p p a q a lst p lst q for x in tree lst l * f a f yield None 
def search packages info query installed packages dict [ p name p for p in pkg resources set for name in query normalized name name if normalized name in installed packages dist installed packages name {'name' dist name 'version' dist 'location' dist 'requires' [dep.project name for dep in dist ]}filelist os dist dist name + '.egg-info' 'installed-files.txt' if os filelist package filelist yield package 
def  cgi Field Storage  repr  patch self if self return 'ield Storage %r %r ' % self self return 'ield Storage %r %r %r ' % self self self 
def a is b a b return a is b 
def adapt chart data if isinstance chart pygal X Y return datadata cut data if isinstance chart Base Map return list map lambda x chart  class  .x labels int x % len chart  class  .x labels ] if x is not None else None data return data 
def test unicode dups request Http Request setattr request ' messages default storage request info request u Titl u Body info request u Titl u Body info request u Another Titl u Another Body storage django messages messages request assert len storage 2 'oofewortoomanymessagesrecorded 
def test require file from fabtools import file as require filetry require file 'foo' assert is file 'foo' assert run 'catfoo' '' finally run 'rm-ffoo'
def match command to alias command aliases results []for alias in aliases format strings list format strings from aliases [alias] for format string in format strings try extract parameters format str format string param stream command except Parse Exception continueresults alias format string format string return results 
def test evaluation report y real np [['a' 'b' 'c'] ['a' 'b' 'e' 'f' 'g'] ['a' 'b']] y pred np [['a' 'b' 'c'] ['a' 'b' 'c' 'd'] ['e' 'f']] labels np ['user id1 'user id2 'user id3 expected report 'precisionrecallf1-score\n\nuser id11 id20 id30 evaluation report y real y pred target names labels assert equals report expected report expected report 'precisionrecallf1-score\n\n01.001.001.00\n10.400.500.44\n20.000.000.00\n\navg/total0.470.500.48\n'report evaluation report y real y pred assert equals report expected report 
def  activation summary x tensor name re '%s [0-9]*/' % TOWER NAME '' x tf summary tensor name + '/activations' x tf summary tensor name + '/sparsity' tf fraction x 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def pure driver debug trace f @functools.wraps f def wrapper *args **kwargs driver args name driver  class  .  name  method name '% cls name s method s % {'cls name cls name 'method' f  name  } backend name driver get current array . backend id L O G '[% backend name s Enter method name s % {'method name method name 'backend name backend name result f *args **kwargs L O G '[% backend name s Leave method name s % {'method name method name 'backend name backend name return resultreturn wrapper 
@with open mode 'w' @with sizes 'small' def write bytewise f source for i in xrange 0 len source f source i + 1 ]
def exception to dict fault message None code 500if hasattr fault 'kwargs' code fault 'code' 500 try if not message message fault message except Exception try message six type fault except Exception message Noneif not message message fault  class  .  name  u message utils truncate message 255 fault dict dict exception fault fault dict u messagefault dict codereturn fault dict 
def  check and install rbenv ret user None ret  check rbenv ret user if ret is False if   salt  ['rbenv.install'] user ret Trueret 'benvinstalled ret Falseret 'benvfailedtoinstall ret Trueret 'benvalreadyinstalled ret 
def compare ordered vals alpha vals np vals alphaf alphasortind np vals pvals vals sortind ntests len vals v1 v2 np indices ntests 1 for i in range 4 for j in range 4 i -1 print i j 
def fetch libzmq savedir dest pjoin savedir 'zeromq' if os dest info 'alreadyhave%s' % dest returnpath fetch archive savedir libzmq url fname libzmq checksum libzmq checksum tf tarfile path with version pjoin savedir tf tf savedir tf shutil with version dest 
def clean sort param request date sort 'created' sort request G E T 'sort' date sort order request G E T 'order' 'asc' if sort not in 'name' 'created' 'nomination' sort date sortif order not in 'desc' 'asc' order 'asc'return sort order 
def get cli body ssh command response module if 'xml' in response body []elif '^' in response or 'showrun' in response or response '\n' body responseelse try body [json.loads response ]except Value Error module json msg 'ommanddoesnotsupport J S O Noutput command command return body 
def part rebulk Rebulk .regex defaults flags re I G N O R E C A S E abbreviations [dash] validator {'  parent  ' seps surround prefixes ['pt' 'part']def validate roman match 'alidatearomanmatchifsurroundedbyseparators parammatch \n typematch \n return \n rtype \n'if int coercable match return Truereturn seps surround match rebulk build or pattern prefixes + '-? ? + numeral + ' ' prefixes prefixes validate all True private parent True children True formatter parse numeral validator {'part' compose validate roman lambda m 0 < m < 100 } return rebulk 
def bin perm rep ndim a 0 b 1 nperms 2 ** ndim perms np nperms ndim type a perms a half point nperms // 2 perms point 0] bfor j in range 1 ndim half col perms 2 j - 1 ]perms[ half point j half colperms point j half colreturn perms 
def  get current unhelpful old formatted final {}cursor connection cursor ' E L E C Tdoc id yes no F R O M S E L E C Twiki revision idasdoc id \ U M limitedvotes asyes \ U M NOT limitedvotes asno F R O M S E L E C T F R O Mwiki helpfulvote W H E R Ecreated DATE SUB CURDATE INTERVAL1WEEK \n aslimitedvotes I N N E R J O I Nwiki revision O N id wiki revision I N N E R J O I Nwiki document O N document wiki revision id W H E R Ewiki document " S G R O U P B Ydoc id H A V I N Gno ascalculated current data cursor for data in current data doc id data float data no float data total yes + no if total 0 continuepercentage yes / total if doc id in old formatted final id {'total' total 'currperc' percentage 'diffperc' percentage - old formatted id }else final id {'total' total 'currperc' percentage 'diffperc' 0.0}return final 
def block Combine l l [list map mat row for row in l [m.shape[1] for m in l sum hdims vdims [row[0].shape[0] for row in l sum vdims res zeros hs vs vindex 0for i row in enumerate l hindex 0for j m in enumerate row res vindex + vdims hindex hindex + hdims ] mhindex + hdims + vdims res 
def calculators for aggregates cube aggregates drilldown levels None split None functions []for aggregate in aggregates try factory CALCULATED A G G R E G A T I O N S Key Error raise Argument Error "nknownpost % aggregate aggregate if aggregate source cube aggregate aggregate else raise Internal Error "omeasurespecifiedforaggregate % aggregate cube func factory aggregate source drilldown levels split functions func return functions 
def  base class object build node member basenames name None localname None klass build class name or getattr member '  name  ' None or localname basenames member  doc   klass newstyle isinstance member type node local node klass localname try if issubclass member Exception instdict member .  dict  else raise Type Errorexcept passelse for name obj in instdict valnode Empty Node valnode objvalnode klassvalnode 1klass.instance attrs [valnode]return klass 
def get user perms user obj check Object Permission Checker user return check user perms obj 
def threshold percentile image selem out None mask None shift x False shift y False p0 0 return  apply percentile cy threshold image selem out out mask mask shift x shift x shift y shift y p0 p0 p1 0
def  user activity query user id limit q1  activities limit  activities from user query user id limit q2  activities limit  activities about user query user id limit return  activities union all q1 q2 
def pretty message string *params output textwrap string if output u ! -1 output re u ?< \\S \n ? [^\n DCTB \\d\\*\\- ] ' u output if params output output % params output output return output 
def print errors patch result return make instancemethod Text Test Result Errors result 
def register Reap Process Handler pid process if pid in reap Process Handlers raise Runtime Error 'rytoregisteranalreadyregisteredprocess try aux P I D status os pid os W N O H A N G except log 'ailedtoreap ' % pid log aux P I D Noneif aux P I D process Ended status else reap Process Handlers process 
def get event transaction id return get cache 'event transaction .get 'id' None 
def choose content type accept header supported types for accept item in parse accept header accept header for supported type in supported types if accept item supported type return supported typereturn None 
def get last accessed courseware course request user field data cache Field Data Cache for descriptor descendents course request course depth 2 course module get module for descriptor user request course field data cache course course course chapter module get current child course module if chapter module is not None section module get current child chapter module if section module is not None url reverse 'courseware section kwargs {'course id unicode course 'chapter' chapter module name 'section' section module name return urlreturn None 
def String To Constant p String if os 'nt' static Lib ctypes Load Library 'labjackud' a ctypes string buffer p String 256 return static Lib String To Constant a else raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
@ docstring 'label' def search labels query '' limit None offset None strict False **fields return  do mb search 'label' query fields limit offset strict 
def smoothness n if n 1 return 1 1 facs factorint n return max facs max m ** facs for m in facs 
def keymap func d factory dict rv factory rv zip map func iterkeys d itervalues d return rv 
def parse commit repo committish committish to bytes committish return repo 
def validate dependencies if not app is installed 'treebeard' raise Improperly Configured ' M Srequiresdjango Pleaseinstallitandadd I N S T A L L E D APPS.'
def scoverage registry xml parent data scoverage X M L Sub Element xml parent 'coverage Publisher scoverage 'plugin' 'scoverage' mappings [ 'report-directory' 'ir None 'report-file' 'ile None ]helpers.convert mapping to xml scoverage data mappings fail required True 
def unescape s assert isinstance s basestring s s ' DCTB ' ' ' s s '\\ ' ' ' s s '\\n' '\n' s s '\\\\' '\\' return s 
def Encode P O S I X Shell List list encoded arguments []for argument in list encoded arguments Encode P O S I X Shell Argument argument return ''.join encoded arguments 
def quota usage refresh context resources keys until refresh max age project id None user id None return I M P L usage refresh context resources keys until refresh max age project id project id user id user id 
def variables and orphans i o def expand r if r and r not in i l list r + list r l return lvariables stack search deque o expand 'dfs' orphans [r for r in variables if r is None and r not in i ]return variables orphans 
def start recording env None recorder proxy for current request if env is None env os not config record env returnif memcache lock key 0 time config L O C K TIMEOUT namespace config K E Y NAMESPACE recorder proxy for current request Recorder env if config D E B U G logging 'etrecorder 
@click.command @click.option '--name' help 'ull Name prompt True @click.option '--email' help 'mail prompt True @click.option '--password' help 'assword prompt True hide input True confirmation prompt True @click.option '--role' help 'ole prompt True def cli name None email None password None role None create user name email password role 
def flocker keypair return Comparable Key Pair keypair Key Pair crypto T Y P E RSA size 4096
def inconsistent Z d 2 Z np Z order 'c' Zs Z valid linkage Z throw True name 'Z' if not d np d or d < 0 raise Value Error 'hesecondargumentdmustbeanonnegativeintegervalue [Z]  copy arrays if base present [Z] n Zs + 1 R np n - 1 4 dtype np  hierarchy Z R int n int d return R
def row sort cell return column index from string cell 
def filter factory global conf **local conf conf global conf conf local conf register swift info 'tempauth' account acls True def auth filter app return Temp Auth app conf return auth filter 
def conda versions pkg name file name j json open file name ret list for pkg in j if pkg pkg name ret '%s--%s' % pkg pkg return ret 
def set id device minor system id  validate device device try int minor except Exception raise Command Execution Error 'nvalidminornumberpassedtopartition id if system id not in system types raise Command Execution Error 'nvalidsystem idpassedtopartition id cmd 'sfdisk--change-id{0}{1}{2}'.format device minor system id out   salt  ['cmd.run'] cmd .splitlines return out 
@app.route '/send-multiple' methods ['POST'] def multi send create account g account 'easaccount' raise Input Error 'ultiplesendisnotsupportedforthisprovider data request json force True draft create message from json data g g session is draft False validate draft recipients draft draft as sending g session draft request context public id draft idreturn g draft 
def  iterate over sub policies sub policies check statement func for sub policy name in sub policies sub policy sub policies policy name iterate over statements sub policy check statement func 
def check message extractors dist name value assert name 'message extractors if not isinstance value dict raise Distutils Setup Error 'thevalueofthe"message extractors 
def Set Variable List output variable name values if not values return Set Variable output variable name '' if len values 1 return Set Variable output variable name values output 'list APPEND' output variable name output '\n"' output '"\n"'.join [ Make String Escape value for value in values output '" \n'
def copyto dst src casting 'same kind where None if not numpy cast src dst casting raise Type Error 'annotcast % src dst casting if dst 0 returnif where is None if  can memcpy dst src dst from src src else core copy src dst else core copy where src where dst 
def brick get connector protocol driver None use multipath False device scan attempts 3 *args **kwargs root helper get root helper return connector Initiator Connector protocol root helper driver driver use multipath use multipath device scan attempts device scan attempts *args **kwargs
def preprocess file or url output None temp suffix '.txt' temp prefix 'inc' result Nonepath Noneif not output fd path tempfile suffix temp suffix prefix temp prefix output open path 'w' atexit unlink quietly path os fd result pathelse result output Includer file or url output output return result 
def request minidom url **kwargs response request response url **kwargs if response is not None return minidom String response 
def make default signal map name map {'SIGTSTP' None 'SIGTTIN' None 'SIGTTOU' None 'SIGTERM' 'terminate'}signal map dict getattr signal name target for name target in name map if hasattr signal name return signal map 
def remote command client ip command process output []d run ssh reactor 'ubuntu' client ip command handle stdout process output d Callback lambda process result process result process output return d 
def order mod x m if m < 1 return 0assert gcd x m 1 z xresult 1while z ! 1 z z * x % m result result + 1 return result 
def get group type ctxt id expected fields None if id is None msg _ 'one raise exception Invalid Group Type reason msg if ctxt is None ctxt context admin context return db type get ctxt id expected fields expected fields 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def get named colors mapping return  colors full map 
def bubble a count 0for i in range len a - 1 for j in range len a - i - 1 if a j + 1 ] < a a a j + 1 ] a j + 1 ] a count + 1return count 
def subsumes fstruct1 fstruct2 return fstruct2 unify fstruct1 fstruct2 
@jsonifydef delete record self arg dict cmd ['xenstore-rm' '/local/domain/% dom id s path s % arg dict ] ret result  run command cmd return result 
def Not Found message None if message return  Not Found message elif ctx 'app stack return ctx stack -1 ].notfound else return  Not Found 
def test default values raw events  get data [ 2]epoch 1 Epochs raw events 1] preload True epoch 2 Epochs raw events 1] tmin -0.2 tmax 0.5 preload True assert equal hash epoch 1 hash epoch 2
def extract meta refresh html soup Beautiful Soup html 'html.parser' element soup 'meta' attrs {'http-equiv' 'refresh'} if element try wait part url part element ';' except Value Error return Noneelse if url part .startswith 'url ' return url part ].replace '"' '' .replace "'" ''
def make plot source xname yname line color xdr None ydr None if xdr is None xdr Data Range1d if ydr is None ydr Data Range1d plot Plot x range xdr y range ydr min border 50 plot layout Linear Axis 'below' plot layout Linear Axis 'left' plot glyph source Line x xname y yname line color line color plot tools Pan Tool Wheel Zoom Tool return plot 
def  get method info cls result {}methods inspect cls inspect for name method in methods if name '_' continueresult method  get arg count method return result 
def from migration import module name fromlist module path 'glance.db.sqlalchemy.migrate repo % module name module   import   module path globals locals fromlist 0 return [getattr module item for item in fromlist 
def segments intersect s1 s2 x1 y1 x2 y2 s1 x3 y3 x4 y4 s2den y4 - y3 * x2 - x1 - x4 - x3 * y2 - y1 n1 x4 - x3 * y1 - y3 - y4 - y3 * x1 - x3 n2 x2 - x1 * y1 - y3 - y2 - y1 * x1 - x3 if den 0 return Falseu1 n1 / den u2 n2 / den return 0.0 < u1 < 1.0 and 0.0 < u2 < 1.0
def manifest list extension mods None db None debug None if debug is not None  logger 'odoo.addons.web.main.manifest list debugparameterisdeprecated files manifest glob extension addons mods db db include remotes True return [wp for  fp wp in files 
def  parse oneof validator error types []for context in error if context u Of _ error msg  parse oneof validator context return path string context error msg if context u return None context if context u Properties invalid config key parse key from error msg context return None u '{}'".format invalid config key if context return path string context u whichisaninvalidtype itshouldbe json context  parse valid types from validator context value if context u Items return None u pleaseremoveduplicatesfrom context if context u types context value valid types  parse valid types from validator types return None u itshouldbe valid types 
def publish To New Observer observer event Dict text From Event Dict if 'log time not in event Dict event Dict time event Dict 'log format not in event Dict text text From Event Dict event Dict if text is not None event Dict text textevent Dict format u text 'log level not in event Dict if 'evel in event Dict try level from Stdlib Log Level Mapping Dict Level Key Error level Noneelif 'rror in event Dict if event Dict Error level Log Level level Log Level level Log Level level is not None event Dict level levelif 'log namespace not in event Dict event Dict namespace u legacy 'log system not in event Dict and 'system' in event Dict event Dict system event Dict event Dict 
def connect consumer message *args **kwargs message channel {u'accept' True 
def dummy func x shape return np shape 
def mutual info regression X y discrete features 'auto' n neighbors 3 copy True random state None return  estimate mi X y discrete features False n neighbors copy random state 
def metadef property delete context namespace name property name session None session session or get session return metadef property api context namespace name property name session 
def  get nodes supported instances cpu arch None if not cpu arch return []return [ cpu arch obj fields H V Type B A R E M E T A L obj fields V M Mode H V M ]
def unbits s endian 'big' if endian 'little' u lambda s chr int s -1 ] 2 elif endian 'big' u lambda s chr int s 2 else raise Value Error "unbits 'endian'mustbeeither'little'or'big'" out ''cur ''for c in s if c in ['1' 1 True cur + '1'elif c in ['0' 0 False cur + '0'else raise Value Error 'unbits cannotdecodethevalue % c if len cur 8 out + u cur cur ''if cur out + u cur 8 '0' return ''.join out 
def  get gcp credentials module require valid json True check libcloud False service account email credentials file project id  get gcp ansible credentials module service account email credentials file project id  get gcp environment credentials service account email credentials file project id service account email credentials file project id  get gcp libcloud credentials service account email credentials file project id if credentials file is None or project id is None or service account email is None if check libcloud is True module json msg 'issing G C Econnectionparametersinlibcloudsecretsfile return Noneelif credentials file is None or project id is None module json msg ' C Pconnectionerror enabletodetermineproject %s orcredentialsfile %s ' % project id credentials file  validate credentials file module credentials file require valid json require valid json check libcloud check libcloud return {'service account email service account email 'credentials file credentials file 'project id project id 
def schedule guard global SCHEDULE GUARD FLAGSCHEDULE GUARD FLAG True 
def test mpl preserve dpi f create figure width height f width height s mplhooks to tight array f 0.5 * width 0.5 * height False exp D P Iobs f f assert exp obs 
def  parse tal channel tal channel data tals bytearray for chan in tal channel data for s in chan i int s tals np [ i % 256 i // 256 ] regex tal ' [+-]\\d+\\.?\\d* \x15 \\d+\\.?\\d* ? \x14.*? \x14\x00'tal list re regex tal tals 'latin-1' events []for ev in tal list onset float ev duration float ev if ev else 0 for annotation in ev '\x14' [1 ] if annotation events [onset duration annotation return events 
def s3 gis location parents r **attr table r not s3 has permission 'read' table r if r 'html' output dict raise HTTP 501 ERROR.BAD FORMAT elif r 'json' if r parents gis parents r if parents  parents {}for parent in parents  parents parent json  parents separators SEPARATORS return outputelse raise HTTP 404 ERROR.NO MATCH else raise HTTP 404 ERROR.BAD RECORD else raise HTTP 415 ERROR.BAD FORMAT
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def generate Sequences n Patterns 10 pattern Len 500 pattern Activity 50 hubs [2 6] seq Length [5 6 7] n Simple Sequences 50 n Hub Sequences 50 patterns generate Coinc Matrix n Coinc n Patterns length pattern Len activity pattern Activity seq List generate Simple Sequences n Coinc n Patterns seq Length seq Length n Seq n Simple Sequences + generate Hub Sequences n Coinc n Patterns hubs hubs seq Length seq Length n Seq n Hub Sequences return seq List patterns 
def frames From Bytes data buffer Frame Buffer buffer Data data return list buffer 
def reset no Gamma True OK init if no Gamma and OK set Video Mode NOGAMMACORRECT
def dict to pdnode d e dict for k v in iteritems d if v is not None if isinstance v list v ' DCTB '.join [str x for x in v else v str v v str v v v '"' "'" e vpynode pd Node **e return pynode 
def is excluded root excludes for exclude in excludes if fnmatch root exclude return Truereturn False 
def get readme files dict for display app tool shed url repo info dict name next iter repo info dict repo info tuple repo info dict description repository clone url changeset revision ctx rev repository owner repository dependencies installed td repository util repo info tuple contents repo info tuple tool shed url common util tool shed url from tool shed registry app tool shed url params dict name name owner repository owner changeset revision changeset revision pathspec ['repository' 'get readme files text url get tool shed url password mgr app shed registry auth tool shed url pathspec pathspec params params readme files dict json raw text return readme files dict 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def get children cluster if is leaf cluster raise Type Error 'aleafclusterhasnochildren' else return cluster 
def split Path Info pathinfo if pathinfo '/' return None None None if  pathinfo pat pathinfo or '' path  pathinfo pat pathinfo layer row column zoom extension [path.group p for p in 'lyxze']coord Coordinate int row int column int zoom elif  preview pat pathinfo or '' path  preview pat pathinfo layer extension path 'l' 'html' coord Noneelse raise Core Known Unknown 'adpath "wasexpectingsomethingmorelike % pathinfo return layer coord extension 
def find Base Image flavor size '8G' image path V M Image Dir flavor + '-base.qcow2' if path image perms stat image [ST MODE] & 511 if perms ! 292 raise Exception 'rror % image + 'remultiplebuildsrunning remove % image else run 'mkdir-p%s' % V M Image Dir iso findiso flavor log 'reatingimagefile image run 'qemu-imgcreate-fqcow2%s%s' % image size install Ubuntu iso image log 'rite image os image 292 kernel initrd extract Kernel image flavor log 'singbaseimage image 'andkernel' kernel return image kernel initrd 
def read exactly socket n data six type while len data < n next data read socket n - len data if not next data raise Socket Error 'nexpected E O F data + next datareturn data 
def metadef tag get all context namespace name filters None marker None limit None sort key None sort dir None session None session session or get session return metadef tag api all context namespace name session filters marker limit sort key sort dir 
def find id with wait context id str **kwargs return  find elem with wait context By I D id str **kwargs
def Cherry Py W S G I Server bind addr wsgi app numthreads 10 server name None max -1 request queue size 5 timeout 10 shutdown timeout 5 max threads maxif max threads < 0 max threads 0return Rocket bind addr 'wsgi' {'wsgi app wsgi app min threads numthreads max threads max threads queue size request queue size timeout timeout 
def generate wcs length 14 assert type length in six types return u [random.choice WCS SECRET CHARSET for _ in range length ] .encode 'ascii'
def organization member create context data dict  check access 'organization member create context data dict return  group or org member create context data dict is org True 
def copy test to media module name mezzanine path path for import module test path os mezzanine path u u name to path os settings M E D I A ROOT name to dir os to path if not os to dir os to dir if os test path copy copytreeelse copy copyfiletry copy test path to path except O S Error pass 
def  make position location string offset 0 if location string '?' return Seq Feature Unknown Position try return Seq Feature Exact Position max 0 offset + int location string except Value Error passif location string '<' try return Seq Feature Before Position max 0 offset + int location string ] except Value Error passelif location string '>' try return Seq Feature After Position max 0 offset + int location string ] except Value Error passelif location string '?' try return Seq Feature Uncertain Position max 0 offset + int location string ] except Value Error passraise Not Implemented Error "annotparselocation % location string 
def cmd *args return ''.join str arg for arg in args if arg 
def notify notification Name message if sabnzbd F O U N D A T I O N pool Foundation N S Autorelease Pool .init nc Foundation N S Distributed Notification Center Center nc Notification Name object  notification Name message del pool 
def bokeh commit name rawtext text lineno inliner options None content None app inliner make gh link node app rawtext 'commit' 'commit' 'commit' text options return [node] []
def clear path graph reg loc1 loc2 logger 'clear path reg %s loc1 %s loc2 %s ' reg loc1 loc2 node1 graph node from loc loc1 node2 graph node from loc loc2 if node1 is node2 return clear path node graph reg loc1 + 1 loc2 if not clear path node graph reg loc1 + 1 node1 range return Falsepath build path graph node1 node2 for node in path locs node rangeend loc loc2 if locs < loc2 < locs else locs if not clear path node graph reg locs end loc return Falsereturn True 
def Update Resources From Data File dstpath srcpath type  names None languages None src open srcpath 'rb' data src src Update Resources dstpath data type  names languages 
def assign funcs modname service module None pack None if pack global   salt    salt   packmod sys mod ' get conn get connection func service module module setattr mod ' cache id cache id func service setattr mod ' exactly one exactly one 
def parse Request pty req data term rest common N S data cols rows xpixel ypixel struct '>4L' rest 16] modes ignored common N S rest ] win Size rows cols xpixel ypixel modes [ ord modes struct '>L' modes i + 1 i + 5 ] [0] for i in range 0 len modes - 1 5 ]return term win Size modes 
def suite s Test Suite for test suite in test suites s Test test suite return s 
def Date year month day return datetime year month day 
def get configuration value name default None configuration get current site configuration return configuration value name default 
def worktree browser widget parent update True settings None view Browser parent update update settings settings view Model Git Repo Model view view Browser Controller view if update view return view 
def  ensure scope level global dict None local dict None resolvers target None **kwargs return Scope level + 1 global dict global dict local dict local dict resolvers resolvers target target 
def get author name user email True full name user nameif full name u full name user not email return full namereturn u % full name user 
def hr search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'hrm' 'human resource 
def ai zeros nt kf 1if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'ntmustbeapositiveintegerscalar.' return specfun nt kf 
def interlink removed content generator current lang generator D E F A U L T L A N G content in  GENERATOR D B url  NATIVE CONTENT URL D B path relpath to site current lang content content url posixpath relpath url 
def get auto step size max squared sum alpha scaled loss fit intercept if loss in 'log' 'multinomial' return 4.0 / max squared sum + int fit intercept + 4.0 * alpha scaled elif loss 'squared' return 1.0 / max squared sum + int fit intercept + alpha scaled else raise Value Error "nknownlossfunctionfor S A Gsolver got % loss 
@register.inclusion tag 'utilities/render form def render form form return {'form' form 
def use Version requested Version imported  psychopy Components Imported if imported msg  translate 'leaserequestaversionbeforeimportingany Psycho Pymodules Found {} ' raise Runtime Error msg imported reqd Major Minor Patch full Version requested Version logging 'equested use Version {} {}'.format requested Version reqd Major Minor Patch if not reqd Major Minor Patch msg  translate 'nknownversion raise Value Error msg requested Version if psychopy  version   ! reqd Major Minor Patch if not  git Present msg  translate 'leaseinstallgit Version ' raise Runtime Error msg  switch To Version reqd Major Minor Patch reload psychopy reload logging reload web if  version Tuple reqd Major Minor Patch > 1 80 reload tools logging 'ersionnowsetto {}'.format psychopy  version   return psychopy  version  
def Get Entity Via Memcache entity key entity memcache entity key if entity is not None return entitykey ndb Key urlsafe entity key entity key if entity is not None memcache entity key entity return entity 
def  rm mods pre mods post mods pre set post set for mod in pre mods pre mod for mod in post mods post mod return pre - post 
def   get all plugin descriptors global PLUGIN E X T E N S I O Nreturn [pf for pf in os resources P L U G I N S if pf PLUGIN EXTENSION ]
def get script choices choices return [ script get script name script for script in choices + [ '' '' ]
def batch iterator X batch size 64 n samples X batches n samples // batch size batch end 0for b in range n batches batch begin b * batch size batch end batch begin + batch size X batch X begin batch end yield X batch if n batches * batch size < n samples yield X end ]
def get timedelta conversion factor src unit dest unit return  get conversion multiplier DATETIME U N I T S unit DATETIME U N I T S unit 
def  check tips cursor conflicting tips cursor ' E L E C Tcount * \ R O M \ E L E C T F R O Mtips E X C E P T S E L E C T D I S T I N C T O N tipper tippee mtime * R O Mtips O R D E R B Ytipper tippee mtime A Sfoo assert conflicting tips 0
def libvlc audio equalizer new f  Cfunctions 'libvlc audio equalizer new None or  Cfunction 'libvlc audio equalizer new None ctypes void p return f 
def make instance save instance fields fail message def save self commit True return save instance self instance fields fail message commit return save 
def p expression uminus t t - t 
def  model to prospective search schema model add entry from google import dbfor name model property in model .iteritems model class model property  class  if issubclass model class db List Property model class  Get Model Type For List Property Type model property type  add schema entry model class name add entry 
def mac ver release '' versioninfo '' '' '' machine '' info  mac ver xml if info is not None return infoinfo  mac ver gestalt if info is not None return inforeturn release versioninfo machine 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def load module name file  pathname description suffix mode type  descriptionif type  PKG DIRECTORY if name in sys mod sys mod new module name sys modfilename os pathname '  init  .py' mod  file   filenameexecfile filename mod  dict   mod  dict   return modelse raise Not Implemented Error 'nlyimportingpackagesissupportedon App Engine 
def localdate value None timezone None return localtime value timezone .date
def dmp zeros n u K if not n return []if u < 0 return [ * n else return [dmp zero u for i in range n ]
def Property deprecation None removal None alternative None description None def  inner fun return  deprecated property fun deprecation deprecation removal removal alternative alternative description description or fun  name   return  inner 
def func std string func name if func name 2] '~' 0 name func name name '<' and name '>' return '{%s}' % name -1 ] else return nameelse return '%s %d %s ' % func name 
def get llite stats directory fs out []for fspath in os directory if fs in fspath logging 'openingfile' + str directory + '/' + str fspath + '/stats' try llite stats open '%s/%s/stats' % directory fspath except I O Error llite stats []for line in llite stats item re '\\s+' line out item return out 
def test evoked detrend ave read evokeds fname 0 ave normal read evokeds fname 0 ave 0 ave normal - np ave normal axis 1 [ np pick types ave meg True eeg True exclude 'bads' assert true np ave ave normal rtol 1e-08 atol 1e-16
def  find python traceback lines all tb lines []tb lines []non tb lines []in traceback Falsefor line in lines line to string line if in traceback tb lines line if line line in traceback Falseif line 'alled Process Error all tb lines + non tb linesall tb lines + tb linestb lines []non tb lines []elif line 'raceback mostrecentcalllast ' tb lines line in traceback Trueelse non tb lines line if all tb lines return all tb lineselse return None 
def critical block start registry xml parent data cbs X M L Sub Element xml parent 'ritical Block Start cbs 'plugin' 'xclusion 
def test scenario matches tags excluding fuzzywuzzy scenario Scenario string SCENARIO1 original string '@anothertag\n@another-tag\n' + S C E N A R I O1 assert not scenario tags ['-~anothertag']
def sdm LT f return f 
def hostinterface create hostid ip dns '' main 1 type 1 useip 1 port None **connection args conn args  login **connection args if not port port INTERFACE DEFAULT P O R T S if conn args method 'hostinterface.create'params {'hostid' hostid 'ip' ip 'dns' dns 'main' main 'port' port 'type' type 'useip' useip  params extend params **connection args ret  query method params conn args conn args return ret raise Key Errorexcept Key Error return ret 
def load locustfile path directory locustfile os path added to path Falseindex Noneif directory not in sys sys 0 directory added to path Trueelse i sys directory if i ! 0 index isys 0 directory del sys i + 1 ]imported   import   os locustfile [0] if added to path del sys index is not None sys index + 1 directory del sys dict filter is locust vars imported .items return imported  doc   locusts 
def s3 rheader tabs r tabs None rheader tabs S3 Component Tabs tabs return rheader tabs r 
def  recursive dirname f while f yield f f dirname f yield u 
def pydot from networkx N from warnings import warnwarn 'pydot from networkxisreplacedbyto pydot Deprecation Warning return to pydot N
@application.route '/event click def event click try session str urllib request 'reddit session '' user id int session str ' ' [0] except Value Error user id Noneargs request dict if user id payload args 'data' .encode 'utf-8' try payload json json payload except Value Error passelse payload json id user idargs json payload json return  redirect nocache '/event redirect % urllib args 
def validate int or None s if s u None s Noneif s is None return Nonetry return int s except Value Error raise Value Error u Couldnotconvert % s 
def supply item entity category row if hasattr row 'supply item entity row row item entityelse return Nonetry item id row idexcept Attribute Error return Nonetable current itemquery table item id record current query .select table category id limitby 0 1 .first if record return table category id record category id else return current N O N E 
def load modules session modules paths glob '%s/modules/*/[a-z]*py' % config path for module path in modules paths module group module filename module path os [ -2 ]module name os module filename [0]classname module name module   import   'modules.%s.%s' % module group module name fromlist ['*'] folder module path module filename ' %s' % module name module class getattr module classname session '%s %s' % module group module name folder loaded '%s %s' % module group module name ] module classtree group loaded tree module group if not tree group loaded tree group []loaded tree group '%s %s' % module group module name 
def extract tasks imported vars new style tasks  Dict classic tasks {}default task Noneif 'new style tasks not in state state style tasks Falsefor tup in imported vars name obj tupif is task object obj state style tasks Trueif obj and obj ! 'undefined' new style tasks objelse obj namenew style tasks objif obj is not None for alias in obj new style tasks objif obj default default task objelif is classic task tup classic tasks objelif is task module obj docs newstyle classic default load tasks from module obj for task name task in newstyle if name not in new style tasks new style tasks  Dict new style tasks name taskif default is not None new style tasks defaultreturn new style tasks classic tasks default task 
def get app access token app id app secret args {'grant type 'client credentials 'client id app id 'client secret app secret urllib2 'https //graph.facebook.com/oauth/access token + urllib args try result file .split ' ' [1]finally file return result 
def  parse quoted string data start value u data start + 1 while pos < len data char data char u if pos + 1 < len data value + data pos + 1 ]pos + 2else raise Parsing Error u Unexpectedendofdatawhileescaping {0} '.format  format position data pos elif char u or char u and char qc return pos + 1 value else value + charpos + 1raise Parsing Error u Unexpectedendofunquotedstring startedat !'.format  format position data start 
def zfill x width if type x type '' s xelse s repr x n len s if n > width return ssign ''if s in '-' '+' sign s s s ] return sign + '0' * width - n + s 
def fix column name val if val is not None try val str val except Unicode Encode Error if six P Y2 raise Value Error u Columnnamesmustnotcontain Unicodecharacterson Python2 raisereturn val 
def  unquote filename filename return urllib filename 
def prod a axis None dtype None out None keepdims False return a axis dtype out keepdims 
def random discrete dp num states num actions beta None k None scale 1 sparse False sa pair False random state None if sparse sa pair True L num states * num actions random state check random state random state R scale * random state L Q  random stochastic matrix L num states k k sparse sparse format 'csr' random state random state if beta is None beta random state sample if sa pair s indices a indices sa indices num states num actions else s indices a indices None None R num states num actions Q num states num actions num states ddp Discrete D P R Q beta s indices a indices return ddp 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def is fp closed obj try return obj except Attribute Error passtry return obj Attribute Error passtry return obj is None except Attribute Error passraise Value Error 'nabletodeterminewhetherfpisclosed 
def set console screen buffer size x y fd 1 coord COORD coord X xcoord Y yhcon S T D H A N D L E S Set Console Screen Buffer Size hcon coord return rtn 
def get parser description 'untoxenvironment s inallsub argparse Argument Parser description description parser argument '--tox-env' dest 'tox env help 'hetoxenvironment s toruninsub packages help 'ptionallistofsub argument 'packages' nargs '*' default UNSET SENTINEL help packages help return parser 
def add X Intersection Indexes From Loop Y loop solid Index x Intersection Index List y for point Index in xrange len loop point First loop Index Second loop point Index + 1 % len loop ]ntersection get X Intersection If Exists point First point Second y if x Intersection ! None x Intersection Index List X Intersection Index solid Index x Intersection 
def get agent settings ret dict sorted types sorted  SERVICE T Y P E S key lambda x - x x ret list ret   salt  ['reg.read value  HKEY  AGENT KEY 'ontact ['vdata']ret['location']   salt  ['reg.read value  HKEY  AGENT KEY 'ocation ['vdata']current bitmask   salt  ['reg.read value  HKEY  AGENT KEY 'ervices ['vdata']if current bitmask 0 ret sorted types -1 ][0] else for service bitmask in sorted types if current bitmask > 0 remaining bitmask current bitmask - bitmask if remaining bitmask > 0 current bitmask remaining bitmaskret service else breakret sorted ret return ret 
def get zookeeper zk location ips zookeeper locations get zk locations string zk location ips zookeeper zk Z K Transaction host zookeeper locations start gc False return zookeeper 
def was Last Response D B M S Error thread Data get Current Thread Data return thread Data Error Page and thread Data Error Page thread Data Request U I D 
def get service type f return getattr f 'service type None 
def test config  ip 'config'
def TXT host nameserver None dig ['dig' '+short' str host ' X T nameserver is not None dig '@{0}'.format nameserver cmd   salt  ['cmd.run all dig python shell False if cmd ! 0 log "eturningemptylistasfallback cmd return []return [i for i in cmd '\n' ]
def  build localename localetuple language encoding localetupleif language is None language ' encoding is None return languageelse return language + '.' + encoding 
def Get Schema component parent componentwhile not isinstance parent X M L Schema parent parent parent return parent 
def has url url return  cache url url 
def is pointer ltyp return isinstance ltyp ir Pointer Type 
def make yaml patterns kw any 'keyword' [' | Za ]+ ? '] links any 'normal' ['# [^\\n]*'] comment any 'comment' ['#[^\\n]*'] number any 'number' [ ' A Fa L '\\b[+-]?[0-9]+ ? \\.[0-9]+ ? ? [ ?\\b'] sqstring " \u U ?'[^'\\\\\\n]* \\\\.[^'\\\\\\n]* *'?"dqstring ' \u U ?"[^"\\\\\\n]* \\\\.[^"\\\\\\n]* *"?'string any 'string' [sqstring dqstring return '|'.join [kw string number links comment any 'SYNC' ['\\n'] ]
def get comment format commentstring vim '&commentstring' if commentstring '%s' c commentstring -2 ]return c c c '' comments  parse comments vim '&comments' for c in comments if c 'SINGLE CHAR' return c ]return comments ]
def is swapping loader lock swapping swap event process loader lock return swapping 
def initialize rnn state state if isinstance state tf cell L S T M State Tuple c state h state return c h else new state state return new state 
def run node node updatehash taskid result dict result None traceback None taskid taskid try result node updatehash updatehash except etype eval etr sys info result format exception etype eval etr result node result 
def get file name type test platform None return ' '.join get platform string platform type  module   get class name type test + '.log'
def colors pass 
def With Events disp user event class disp Dispatch disp if not disp  class  .  dict  .get 'CLSID' try ti disp oleobj .et Type Info disp clsid ti Get Type Attr [0] tlb index ti Get Containing Type Lib tla tlb Get Lib Attr gencache Ensure Module tla tla tla tla b Validate File 0 disp class gencache Get Class For Prog I D str disp clsid except pythoncom error raise Type Error 'his C O Mobjectcannotautomatethemakepyprocess else disp class disp  class  clsid disp class C L S I Dimport newevents class getevents clsid if events class is None raise Value Error 'his C O Mobjectdoesnotsupportevents result class new ' O M Event Class events class user event class {} instance result class disp if hasattr user event class '  init  ' user event class  init   instance return instance 
def idz reconid B idx proj B np B if proj > 0 return  id reconid B idx proj else return B[ np idx ]
def sort seq gaps [x for x in range len seq // 2 0 -1 ]for gap in gaps for i in range gap len seq temp seq iwhile j > gap and seq j - gap ] > temp seq seq j - gap ]j - gapseq tempreturn seq 
def  pipe line with colons colwidths colaligns segments [ pipe segment with colons a w for a w in zip colaligns colwidths ]return u + u segments + u 
def prepare mock wb response node None provider 'github' files None folder True path '/' method httpretty G E T status code 200 node nodefiles files or [] wb url waterbutler api url for node id provider provider path path meta True default file {ype None u {u'downloads' 0 u 1} u u u None u u New File u u New File u provider u None u '/'}if len files data [dict default file **each for each in files data [default file data []for datum in data jsonapi data {'attributes' datum if not folder jsonapi data jsonapi data json {u'data' jsonapi data httpretty uri method wb url body body status status code content type 'application/json'
@ docstring 'series' def search series query '' limit None offset None strict False **fields return  do mb search 'series' query fields limit offset strict 
def get group id *args **kargs raise  stub error 
def  condition arg value if isinstance value float six types complex return valueif isinstance value np and value in [u'i' u u return valuetry avalue np value assert avalue in [u'i' u u return avalueexcept Value Error Assertion Error raise Value Error u Valuenotscalarcompatibleorconvertibletoanint float orcomplexarray 
def  torf args saw T saw F Falsefor a in args if a is True if saw F returnsaw T Trueelif a is False if saw T returnsaw F Trueelse returnreturn saw T 
def fix IE for vary request response useragent request M E T A 'HTTP USER AGENT' '' .upper if 'MSIE' not in useragent and 'CHROMEFRAME' not in useragent return responsesafe mime types 'text/html' 'text/plain' 'text/sgml' if response Content Type ';' [0] not in safe mime types try del response Vary Key Error passreturn response 
def remove cookie by name cookiejar name domain None path None clearables []for cookie in cookiejar if cookie name if domain is None or domain cookie if path is None or path cookie clearables cookie cookie cookie for domain path name in clearables cookiejar domain path name 
def get all config try path os '~' + os + '.rainbow config data load config path data 'ONLY LIST' None data 'IGNORE LIST' None data 'FORMAT' None data 'QUOTE FORMAT' None data 'NOTIFY FORMAT' None return dataexcept return []
def libvlc media player is seekable p mi f  Cfunctions 'libvlc media player is seekable None or  Cfunction 'libvlc media player is seekable 1 None ctypes int Media Player return f p mi 
def start Viewer filename if filename try os filename except os 'open"%s"' % filename 
def html tree equal received expected for attr in 'tag' 'attrib' 'text' 'tail' if getattr received attr ! getattr expected attr return Falseif len received ! len expected return Falseif any not html tree equal rec exp for rec exp in zip received expected return Falsereturn True 
def signature fn import inspectif six P Y2 argspec inspect fn args argspec len args > 0 args tuple args ] if args u else args return args argspec signature inspect fn args []keywords Nonefor arg in signature if arg arg V A R KEYWORD keywords arg arg arg V A R POSITIONAL continueelse args arg return tuple args keywords 
def get grid grid url raw False fid parse grid id args None grid url response v2 fid parsed content response if raw return parsed contentreturn Grid parsed content fid 
def all weighers if C O N F cost functions is not None or C O N F fill first cost fn weight is not None L O G _ 'least costhasbeendeprecatedinfavorofthe R A M Weigher return least cost least cost weighers return Host Weight Handler .get all classes 
def get xsrf token entity  Ah Admin Xsrf Token .get by key name  Ah Admin Xsrf Token .XSRF KEY NAME if not entity randints [ '%08x' % random - 2 ** 31 2 ** 31 - 1 & 2 ** 32 - 1 for i in range 6 ]xsrf token ' '.join randints entity  Ah Admin Xsrf Token  key name  Ah Admin Xsrf Token .XSRF KEY NAME xsrf token xsrf token entity return entity token 
def get trim footnote ref space settings if settings footnote reference space is None return hasattr settings 'footnote references and settings references 'superscript' else return settings footnote reference space 
def  quote filename filename return urllib filename 
def get preferred output encoding if hasattr locale u L C MESSAGES' return locale locale L C MESSAGES [1] or locale [1] or u return locale [1] or u 
@handle response format login required admin required def settings edit request response format 'html' if request P O S T if 'cancel' not in request P O S T form Settings Form request request P O S T request F I L E S if form valid form return Http Response Redirect reverse 'core settings view else return Http Response Redirect reverse 'core settings view else form Settings Form request return render to response 'core/administration/settings edit {'form' form context instance Request Context request response format response format 
def ISNULL x return x None 
def test sigmoid calibration ex F np [5 -4 1.0] ex Y np [1 -1 -1 ] AB lin libsvm np [ -0.20261354391187855 0.6523631498001051] assert array almost equal AB lin libsvm  sigmoid calibration ex F ex Y 3 lin prob 1.0 / 1.0 + np AB lin libsvm * ex F + AB lin libsvm sk prob  Sigmoid Calibration .fit ex F ex Y .predict ex F assert array almost equal lin prob sk prob 6 assert raises Value Error  Sigmoid Calibration .fit np ex F ex F ex Y 
def post begin for fn in post configure fn options file config global util fixtures engines exclusions assertions warnings profiling config testingfrom sqlalchemy import testingfrom sqlalchemy import fixtures engines exclusions assertions warnings profiling configfrom sqlalchemy import util 
def  get version from git pre version git dir  get git directory if git dir if pre version try return  run shell command 'git--git-dir ' + git dir + 'describe--exact-match' throw on error True .replace '-' '.' except Exception sha  run shell command 'git--git-dir ' + git dir + 'log-n1--pretty format %h' return '%s.a%s.g%s' % pre version  get revno git dir sha else return  run shell command 'git--git-dir ' + git dir + 'describe--always' .replace '-' '.' return None 
def binary crossentropy y true y pred y true tf y true tf y pred logit tf y pred tf return tf mean tf cross entropy with logits y pred y true 
def deserialize usage key usage key string course key return Usage Key string usage key string .replace course key course key 
def users attrs None where None return  osquery cmd table 'users' attrs attrs where where 
def OR domains return combine OR OPERATOR FALSE DOMAIN TRUE DOMAIN domains 
def get test module names module list module prefix 'test ' module names [m for m in module list if m module prefix ]return module names 
def reduce along dim img dim weights indicies other dim abs dim - 1 if other dim 0 weights np weights np img dim 1 1 3 out img img indicies ] * weights out img np out img axis 2 else weights np weights np np 1 1 img dim 3 out img img ] * weights out img np out img axis 1 return out img 
def  event on first init manager cls instrumenting mapper manager  INSTRUMENTOR if instrumenting mapper if Mapper new mappers configure mappers 
def is List l return hasattr l '  iter  ' and not is String l or type l in types List Type types Tuple Type 
def can init if not sys return Falseif sys return Falsemods sys for repl in [ Python 'bpython' 'dreampielib'] if repl in mods return Falsetry raise Base Exceptionexcept Base Exception frame sys info [2].tb framewhile frame if frame code filename '<stdin>' return Falseframe frame backreturn True 
def least squares fit x y beta correlation x y * standard deviation y / standard deviation x alpha mean y - beta * mean x return alpha beta 
def roots sh chebyu n mu False x w m roots chebyu n True x x + 1 / 2 m us cephes 1.5 1.5 w * m us / m if mu return x w m us else return x w 
def introspect rebulk context None return Introspection rebulk context 
def knapsack weights values W optimal vals [0] * W + 1 for j in range 0 len weights for w in range W weights - 1 -1 if optimal vals w - weights ] + values > optimal vals optimal vals optimal vals w - weights ] + values return optimal vals -1 ]
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def  dtype to stata type dtype if dtype np  return chr dtype elif dtype np  return chr 244 elif dtype np return chr 255 elif dtype np return chr 254 elif dtype np return chr 253 elif dtype np return chr 252 elif dtype np or dtype np return chr 251 else raise Value Error 'atatype Pleasereportanerrortothedevelopers % dtype 
def parse identifier source start throw True start pass white source start end startif not end < len source if throw raise Syntax Error 'issingidentifier return Noneif source not in IDENTIFIER START if throw raise Syntax Error 'nvalididentifierstart "%s"' % source return Noneend + 1while end < len source and source in IDENTIFIER PART end + 1if not is valid lval source end if throw raise Syntax Error 'nvalididentifiername "%s"' % source end return Nonereturn source end end 
def shape i var i fgraph None if fgraph is None and hasattr var 'fgraph' fgraph var fgraph and hasattr fgraph 'shape feature shape feature fgraph featureshape of shape feature ofdef recur node if not node in shape of for inp in node if inp recur inp shape feature import fgraph node 'gof.ops.shape i if var not in shape of recur var return shape of var 
def get preferred environment encoding return locale or u 
def  add message to email buffer author id exploration id thread id message id message length old status new status thread feedback models Feedback Thread Model by exp and thread id exploration id thread id has suggestion thread suggestionfeedback message reference feedback domain Feedback Message Reference exploration id thread id message id batch recipient ids other recipient ids  get all recipient ids exploration id thread id author id if old status ! new status  send feedback thread status change emails other recipient ids feedback message reference old status new status exploration id has suggestion if message length > 0  send batch emails batch recipient ids feedback message reference exploration id has suggestion  send instant emails other recipient ids feedback message reference exploration id has suggestion 
def status peers consul url ret {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retfunction 'status/peers'ret  query consul url consul url function function return ret 
def generate Simple Sequences n Coinc 10 seq Length [5 6 7] n Seq 100 coinc List range n Coinc seq List []for i in xrange n Seq if max seq Length < n Coinc seq List random coinc List random seq Length else len random seq Length seq []for x in xrange len seq random coinc List seq List seq return seq List 
def img as bool image force copy False return convert image np  force copy 
def create serial port spec client factory if not C O N F port service uri returnbacking client factory 'ns0 Virtual Serial Port U R I Backing Info backing ' R I C O N F port service uribacking U R I C O N F port proxy uriconnectable spec client factory 'ns0 Virtual Device Connect Info connectable spec Connected Trueconnectable spec Guest Control Trueconnectable spec Trueserial port client factory 'ns0 Virtual Serial Port serial port connectable specserial port backingserial port -2 serial port On Poll Truedev spec client factory 'ns0 Virtual Device Config Spec dev spec 'add'dev spec serial portreturn dev spec 
def calculate group scores messages user email now datetime message ids to scores {}molecules dict defaultdict set def get message list weight message ids return sum [message ids to scores id for m id in message ids for msg in messages participants  get participants msg [user email if len participants > MIN GROUP SIZE molecules dict participants ].add msg message ids to scores  get message weight now msg if len molecules dict > SOCIAL MOLECULE LIMIT return {}if len molecules dict < SOCIAL MOLECULE EXPANSION LIMIT  expand molecule pool molecules dict molecules list [ set emails set msgs for emails msgs in molecules dict if get message list weight msgs > MIN MESSAGE COUNT ]molecules list  subsume molecules molecules list get message list weight molecules list  combine similar molecules molecules list return {' '.join sorted g get message list weight m for g m in molecules list 
def allow add attachment by user if user superuser or user staff return Trueif user perm 'attachments.add attachment return Trueif user perm 'attachments.disallow add attachment return Falsereturn True 
def list repos basedir None basedirs  normalize basedir basedir repos {}log.debug 'earchingforreposin basedirs for bdir in basedirs if not os bdir continuefor repofile in os bdir repopath '{0}/{1}'.format bdir repofile if not repofile '.repo' continuefilerepos  parse repo file repopath [1]for reponame in filerepos repo filerepos repopathrepos reporeturn repos 
def load all client tests options local namespace locals .copy global namespace globals .copy all tests []broken tests []for test base dir in ['tests' 'site tests testdir os os A U T O D I R test base dir for test name in os testdir client test init test options os testdir test name if client test all tests client test else broken tests test name if 'CUSTOM DIR' in os testdir os C U S T O M D I R test name in os testdir client test init test options os testdir test name if client test all tests client test else broken tests test name return all tests broken tests 
def py default type name return {'double' '123.0' 'long' '123' 'integer' '123' 'string' "'string'" 'blob' "b'bytes'" 'boolean' 'rue False 'list' '[...]' 'map' '{...}' 'structure' '{...}' 'timestamp' 'datetime 2015 1 1 '}.get type name '...'
def HTTPS port 443 **kwargs return rule port **kwargs
def  validate event listeners option listeners if not isinstance listeners Sequence raise Type Error '%smustbealistortuple' % option for listener in listeners if not isinstance listener  Event Listener raise Type Error 'istenersfor Command Listener Server Heartbeat Listener Server Listener or Topology Listener % option return listeners 
def add X Intersections From Loop For Table loop x Intersections Table width for point Index in xrange len loop point Begin loop Index End loop point Index + 1 % len loop ]if point Begin > point End point Original point Beginpoint Begin point Endpoint End point Originalfill Begin int math point Begin / width fill End int math point End / width if fill End > fill Begin second Minus First Complex point End - point Begin second Minus First Imaginary Over Real second Minus First Complex / second Minus First Complex begin Real Minus Imaginary point Begin - point Begin * second Minus First Imaginary Over Real for fill Line in xrange fill Begin fill End y fill Line * width x Intersection y * second Minus First Imaginary Over Real + begin Real Minus Imaginary add Element To List Table x Intersection fill Line x Intersections Table 
def decode dbkey dbkey if ' ' in dbkey return dbkey ' ' else return None dbkey 
def resolve given outfile path path if path is None returnoutfile os os path if not os os os outfile os W OK raise Value Error 'nabletowritetofile %s' % outfile return outfile 
def sendmail smtphost from addr to addrs msg sender Domain Name None port 25 if not hasattr msg 'read' msg String I O str msg d defer Deferred factory S M T P Sender Factory from addr to addrs msg d if sender Domain Name is not None factory sender Domain Namereactor T C P smtphost port factory return d 
def get known settings return  KNOWN S E T T I N G S 
def update repository repo ctx rev None commands get configured ui repo rev ctx rev 
def  latest common snapshot some others others set set others for snapshot in reversed some if snapshot in others set return snapshotreturn None 
def scatter tensor devices chunk sizes None dim 0 if chunk sizes is None chunks tensor len devices dim else assert sum chunk sizes tensor dim "givenchunksizesdon'tsumuptothetensor'ssize sum chunk sizes {} butexpected ".format sum chunk sizes tensor dim assert min chunk sizes > 0 'gotanegativechunk size [tensor.narrow dim start - size size for start size in zip  accumulate chunk sizes chunk sizes ]return tuple chunk gpu id async chunk contiguous for gpu id chunk in zip devices chunks 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def qos specs disassociate context qos specs id type id return I M P L specs disassociate context qos specs id type id 
def get config var name return get config vars .get name 
def  estimate gaussian covariances tied resp X nk means reg covar avg X2 np X.T X avg means2 np nk * means T means covariance avg X2 - avg means2 covariance / nk covariance len covariance + 1 ] + reg covarreturn covariance 
def  preflight check desired fromrepo **kwargs if 'pkg.check db not in   salt   return {}ret {'suggest' {} 'no suggest []}pkginfo   salt  ['pkg.check db fromrepo fromrepo *list desired **kwargs for pkgname in pkginfo if pkginfo is False if pkginfo ret pkginfo ret suggest pkgname return ret 
def read Pin pin Number global P O R Treturn P O R T Pin pin Number 
def mappings prepend dev mappings for m in mappings virtual m is swap or ephemeral virtual and not m '/' m '/dev/' + m return mappings 
def jvp v z n 1 if not isinstance n int or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n 0 return jv v z else return  bessel diff formula v z n jv -1
def submit tags **kwargs query mbxml tag request **kwargs return  do mb post 'tag' query 
def list availability zones call None ret {}params {ction 'escribe Zones 'egion Id get location }items query params for zone in items Zones Zone ret Zone Id {}for item in zone ret Zone Id str zone return ret 
def get paragraphs amount start with lorem False paragraphs  G E N E R A T O R paragraphs amount start with lorem return [p[ -1 ] for p in paragraphs 
def vb machinestate to description machinestate return vb machinestate to tuple machinestate [1]
@bdd.then bdd 'thejavascriptmessage"{message}"shouldnotbelogged' def javascript message not logged quteproc message quteproc not logged category 'js' function 'cript Console Message message '[*]{}'.format message 
def test Dict suffix 'est len suffix fdict dict [ fname - trim ] f for fname f in inspect modules  name  ] inspect if fname suffix ] return fdict 
def get Maximum By Complex Path path maximum complex -9.876543219876543e+17 -9.876543219876543e+17 for point in path maximum get Maximum maximum point return maximum 
def update module conn module remote module conn  name  ]local file inspect module remote file inspect remote module upload file conn local filem remote file reload remote module 
def  accumulate iterable fn lambda x y x + y it iter iterable try total next it except Stop Iteration return yield total for element in it total fn total element yield total 
def  filter names names names [n for n in names if n not in EXCLUDE NAMES ]for pattern in EXCLUDE PATTERNS names [n for n in names if not fnmatch n pattern and not n '.py' ]return names 
def forget func *xs return Forget func *xs
def get shell embed func shells None known shells None if shells is None shells DEFAULT PYTHON S H E L L S if known shells is None known shells DEFAULT PYTHON S H E L L S for shell in shells if shell in known shells try return known shells except Import Error continue 
def read user choice var name options if not isinstance options list raise Type Errorif not options raise Value Errorchoice map Ordered Dict u i value for i value in enumerate options 1 choices choice map default u lines [u'{}-{}'.format *c for c in choice map ]prompt u u Select '.format var name u choice lines u Choosefrom u '.join choices user choice click prompt type click Choice choices default default return choice map choice 
def with metaclass meta *bases class metaclass meta   call   type  call    init   type  init  def   new   cls name this bases d if this bases is None return type  new   cls name d return meta name bases d return metaclass 'ummy Meta Class None {}
def url test url location None status code requests permanently req headers None req kwargs None resp headers None query None follow redirects False final status code requests test data {'url' url 'location' location 'status code status code 'req headers req headers 'req kwargs req kwargs 'resp headers resp headers 'query' query 'follow redirects follow redirects 'final status code final status code urls list braceexpand url num urls len expanded urls if num urls 1 return test datatry location pattern location data location patternexcept Attribute Error location pattern Nonenew urls []if location expanded locations list braceexpand test data num locations len expanded locations for i url in enumerate expanded urls data test data data urlif location and num urls num locations if location pattern is not None data re expanded locations else data expanded locations urls data return new urls 
def dstack xs return Dstack *xs
def camelcase to spaces content camelcase boundry ' ?< [a-z] [A-Z] | [A-Z] ?![A-Z]|$ 'content re camelcase boundry '\\1' content .strip return ''.join content '_' .title
def synchronize iterables iterables out list []iterable items [ field iter fvals for field fvals in sorted iterables ]while True cur dict {}for field iter values in iterable items try cur dict next iter values except Stop Iteration passif cur dict out list cur dict else breakreturn out list 
def  enabled used error ret ret Falseret 'ervice + 'erhaps .format ret return ret 
def first predicate it return next v for v in evaluate promises it if predicate v if predicate is not None else v is not None None 
def weekend to monday dt if dt 6 return dt + timedelta 1 elif dt 5 return dt + timedelta 2 return dt 
def Generate Output target list target dicts data params if params output raise Not Implemented Error '--generator outputnotimplementedforeclipse user config params 'generator flags {} .get 'config' None if user config Generate Output For Config target list target dicts data params user config else config names target dicts list for config name in config names Generate Output For Config target list target dicts data params config name 
def vb stop vm name None timeout 10000 **kwargs vbox vb get box machine vbox Machine name log 'toppingmachine name session  virtualbox Manager Machine Session machine try console session console Down progress For Completion timeout finally  virtualbox Manager Machine Session session vb wait for session state session log 'toppedmachine name vb machinestate to str machine return vb xpcom to attribute dict machine ' Machine 
def do migration dry False n migrated 0for user in get targets n migrated + 1logger.info 'learingunclaimedrecordsfor user if not dry user records {}user.save logger 'igrated n migrated return n migrated 
def tokenize attribute iterable attribute sattr attribute mattr r attribute sattr if mattr atrv mattr 1 if r comattrval atrv name type tokenize single comma atrv next item next iterable elif r wcomattrval atrv name type tokenize single wcomma atrv next item next iterable else raise Value Error 'multilinenotsupportedyet' else raise Value Error 'irstlineunparsable %s' % sattr if type 'relational' raise Value Error 'relationalattributesnotsupportedyet' return name type next item 
def spline filter Iin lmbda 5.0 intype Iin array [1.0 4.0 1.0] 'f' / 6.0 if intype in ['F' 'D'] Iin Iin 'F' ckr cspline2d Iin lmbda cki cspline2d Iin lmbda outr sepfir2d ckr hcol hcol outi sepfir2d cki hcol hcol out outr + 1j * outi .astype intype elif intype in ['f' 'd'] ckr cspline2d Iin lmbda out sepfir2d ckr hcol hcol out out intype else raise Type Error 'nvaliddatatypefor Iin return out 
def  make args cmd opts os opts separator u flags None cmd args None args [u'']flags flags or [] for k v in opts args u + k u ' u if v is not None args v for k v in os opts args u + separator + k u ' separator if v is not None args v for flag in flags args u % flag if cmd args cmd if cmd args args cmd args return args 
def get active history queue None items None if items is None items []if queue is None queue Post Processor queue for nzo in queue history build history info nzo item {} item item item name item item item item item item item id item item item log item line item time item time item log item item item message item info item dummy dummy historyitem line nzo lineitem unpack history info item item nzo activeif item item format bytes item else item ''for kw in item if isinstance item str item item 'utf-8' items item return items 
def get module files src directory blacklist files []for directory dirnames filenames in os src directory  handle blacklist blacklist dirnames filenames if not '  init  .py' in filenames dirnames ] continuefor filename in filenames if  is python file filename src os directory filename files src return files 
def test pdbbreakpoint op b tensor condition tensor b 0 b monitored Pdb Breakpoint name 'est Breakpoint condition b output b monitored ** 2 f theano [b] output mode mode with gpu topo f assert isinstance topo -2 ].op cuda Gpu Elemwise assert topo -1 ].op cuda from gpu 
@deprecated Version 'wisted 15 3 0 replacement 'twisted.web.template' def PRE text return '<pre>' + escape text + '</pre>'
def parse date date string assume utc False as utc True default None from dateutil import parseif not date string return UNDEFINED D A T Eif default is None func datetime if assume utc else datetime default func .replace day 15 hour 0 minute 0 second 0 microsecond 0 tzinfo  utc tz if assume utc else  local tz if iso pat .match date string is not None dt parse date string default default else dt parse date string default default dayfirst parse date day first if dt is None dt dt tzinfo  utc tz if assume utc else  local tz return dt  utc tz if as utc else  local tz 
def wsgiapp2 wrapped if wrapped is None raise Value Error 'one def decorator context request return call app with subpath as path info request wrapped if getattr wrapped '  name  ' None return wraps wrapped decorator return wraps wrapped '  module  ' '  doc  ' decorator 
def  psed text before after limit flags atext textif limit limit re limit comps text limit atext ''.join comps ] count 1if 'g' in flags count 0flags flags 'g' '' aflags 0for flag in flags aflags | RE FLAG T A B L E re before flags aflags text re before after atext count count return text 
def bin to nibbles s return [hti[c] for c in encode hex s ]
def  take time iter secs album out []total time 0.0for obj in iter length  length obj album if total time + length < secs out obj total time + lengthreturn out 
def s3 datatable truncate string maxlength 40 string s3 unicode string if string and len string > maxlength  class 'dt-truncate'return TAG[''] DIV SPAN  class 'ui-iconui-icon-zoomin'  style 'float right string maxlength - 3 ] + '...'  class  class DIV SPAN  class 'ui-iconui-icon-zoomout'  style 'float right string  style 'display none  class  class else return string if string else ''
@datastore rpc positional 1 def Non Transactional  func None allow existing True if  func is not None return Non Transactional  func def outer wrapper func def inner wrapper *args **kwds if not Is In Transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error 'unctioncannotbecalledfromwithinatransaction txn connection  Pop Connection try return func *args **kwds finally  Push Connection txn connection return inner wrapperreturn outer wrapper 
def avail projects call None if call 'action' raise Salt Cloud Exception 'heavail projectsfunctionmustbecalledwith vm  get configured provider manager packet Manager auth token vm ['token'] ret {}for project in manager projects ret project  dict  return ret 
def  fill defaults context builder sig args defaults ty sig typellty context data type ty args tuple args + tuple ir Constant llty d for d in defaults args ] sig signature * ty * len args + 1 return sig args 
def run background process cmd out log None err log None cwd None kwargs {'shell' True 'cwd' cwd out log out log file open out log 'w' kwargs out log fileif err log err log file open err log 'w' kwargs err log fileproc subprocess Popen cmd **kwargs def exit handler "end S I G I N Ttotheprocess Thisisimportant ascoveragewillnot group psutil Process proc child pids p1 group children recursive True for child pid in child pids os child pid signal S I G I N T proc atexit exit handler 
def get Memory Limit return None 
def test download should download wheel deps script data wheel filename 'colander-0.9.9-py2.py3-none-any.whl'dep filename 'translationstring-1.1.tar.gz'wheel path os data links wheel filename result script 'install' wheel path '-d' '.' '--find-links' data links '--no-index' expect stderr True assert Path 'scratch' / wheel filename in result created assert Path 'scratch' / dep filename in result created 
def spawnd path args pidfile None daemonize no close True pidfile pidfile  os path args 
def You Complete Me Instance custom options {} def Decorator test @functools.wraps test def Wrapper *args **kwargs ycm You Complete Me  Make User Options custom options  Wait Until Ready try test ycm *args **kwargs finally Stop Server ycm return Wrapperreturn Decorator 
def  maybe slice grouped columns if isinstance grouped pd Data Frame Group By if columns is not None if isinstance columns tuple list set pd Index columns list columns return grouped grouped 
def make indentation indent size part u return indent size * part 
def get public projects user return Node for user user .filter is public True is deleted False .get roots 
def uncache zipdir path from zipimport import  zip directory cache as zdc uncache path zdc  uncache path sys importer cache 
def  envpaths env root env name u shelldict {} sep shelldict binpath from arg sep [env root env name shelldict shelldict 
def get best unit unit a unit b a DATETIME U N I T S a DATETIME U N I T S b a 14 return unit bif b 14 return unit aif b > a return unit breturn unit a 
def  fsync files filenames touched directories set mode os O R D O N L Yif hasattr os 'O BINARY' mode | os O B I N A R Yfor filename in filenames fd os filename mode os fd os fd touched directories os filename if hasattr os 'O DIRECTORY' for dirname in touched directories fd os dirname os O RDONLY | os O DIRECTORY os fd os fd 
def compile client if hasattr sys u raise Not Implemented Error else from distutils import new compilercompiler new compiler .compilercflags os u C F L A G S str u O3 subprocess call compiler + shlex cflags + [u'client/powerline.c' u u 
def cmd get spider stats args opts stats jsonrpc call opts 'stats' 'get stats args for name value in stats print '%-40s%s' % name value 
def redirect To URL request if isinstance URL unicode raise Type Error 'nicodeobjectnotallowedas U R L request Header 'ontent Type 'text/html;charset utf request URL content '\n<html>\n<head>\n<metahttp-equiv "refresh"content "0;URL % url s " F F F F F "#000000">\n<ahref "% url s % {'url' native String URL } if  PY3 content content 'utf8' return content 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def query query type 'list nodes client  get client info client query type return info 
def parse authorization header value if not value returnvalue wsgi to bytes value try auth type auth info value None 1 auth type auth type except Value Error returnif auth type 'basic' try username password base64 auth info .split ' ' 1 except Exception returnreturn Authorization 'basic' {'username' bytes to wsgi username 'password' bytes to wsgi password } elif auth type 'digest' auth map parse dict header auth info for key in 'username' 'realm' 'nonce' 'uri' 'response' if key not in auth map returnif 'qop' in auth map if not auth map 'nc' or not auth map 'cnonce' returnreturn Authorization 'digest' auth map 
def logsumexp x axis None return Log Sum Exp axis x 
def  fast hmac key msg digest dig1 dig2 digest digest if len key > dig1 size key digest key .digest key + chr 0 * dig1 size - len key dig1 key  trans 36 dig1 msg dig2 key  trans 5c dig2 dig1 return dig2 
def calc Response HA1 HA2 algo psz Nonce psz Nonce Count psz C Nonce psz Qop m algorithms m HA1 m ' ' m psz Nonce m ' ' if psz Nonce Count and psz C Nonce m psz Nonce Count m ' ' m psz C Nonce m ' ' m psz Qop m ' ' m HA2 resp Hash hexlify m return resp Hash 
def get processor decline html params payment support email configuration helpers value 'payment support email settings P A Y M E N T SUPPORT EMAIL msg _ 'orry Ourpaymentprocessordidnotacceptyourpayment Thedecisiontheyreturnedwas text andthereasonwas text Youwerenotcharged Pleasetryadifferentformofpayment Contactuswithpayment formatted msg decision text '<spanclass "decision">{}</span>'.format params reason text '<spanclass "reason">{code} {msg}</span>'.format code params Code msg REASONCODE M A P Code email payment support email return '<pclass "error msg formatted 
@register.inclusion tag u list takes context True def app list context context app list admin app list context return context 
def recv until sock suffix message sock 4096 if not message raise E O F Error 'socketclosed' while not message suffix data sock 4096 if not data raise I O Error 'received{!r}thensocketclosed'.format message message + datareturn message 
def unicodise string encoding None errors 'replace' if not encoding encoding S3 Config Config .encodingif type string unicode return stringdebug 'nicodising % string encoding try return unicode string encoding errors except Unicode Decode Error raise Unicode Decode Error 'onversiontounicodefailed %r' % string 
def filter fasta input seqs f output seqs f seqs to keep negate False seqid f None if seqid f is None seqs to keep lookup {}.fromkeys [seq id [0] for seq id in seqs to keep if not negate def keep seq seq id return seq id [0] in seqs to keep lookup else def keep seq seq id return seq id [0] not in seqs to keep lookup elif not negate keep seq seqid felse keep seq lambda x not seqid f x for seq id seq in parse fasta input seqs f if keep seq seq id output seqs f '>%s\n%s\n' % seq id seq output seqs f 
def eat descriptor descr array dim 0while descr '[' array dim + 1descr descr ]if descr 'L' try end descr ';' except raise Parser Error 'otavaliddescriptorstring ' + descr type descr end descr ]else global code to type nametry type code to type name Key Error raise Parser Error 'otavaliddescriptorstring %s' % descr return type '/' '.' + array dim * '[]' descr ]
def json2list jsonstr if jsonstr '' value list []else if jsonstr '[' value list json2py jsonstr else value list jsonstr ' ' if not isinstance value list list value list [value list value list 
def dft n scale None if scale not in [one 'sqrtn' 'n'] raise Value Error "one 'sqrtn' or % scale omegas np -2j * np * np n / n .reshape -1 1 m omegas ** np n if scale 'sqrtn' m / math n elif scale 'n' m / nreturn m 
def consume n iterator if n is None collections iterator maxlen 0 else next islice iterator n n None 
def format seconds total seconds prefix '-' if total seconds < 0 else '' hours rem divmod abs round total seconds 3600 minutes seconds divmod rem 60 chunks []if hours chunks str hours min format '{ 02}'else min format '{}'chunks.append min format minutes chunks '{ 02}'.format seconds return prefix + ' '.join chunks 
def check delete headers request if 'x-delete-after' in request try x delete after int request except Value Error raise H T T P Bad Request request request content type 'text/plain' body 'on X Delete After actual del time time + x delete after if actual del time < time raise H T T P Bad Request request request content type 'text/plain' body ' Delete Afterinpast request utils delete at timestamp actual del time if 'x-delete-at' in request try x delete at int utils delete at timestamp int request except Value Error raise H T T P Bad Request request request content type 'text/plain' body 'on X Delete At if x delete at < time raise H T T P Bad Request request request content type 'text/plain' body ' Delete Atinpast return request 
@with setup prepare stdout def test output with failed colorless with table runner Runner feature name 'failed table verbosity 3 no color True runner assert stdout lines with traceback u Feature Table Fail features table table 1cenario Seeitfail features table table 2iven Ihaveadumbstepthatpasses features table table steps 2ndthisonefails features table table steps 2raceback mostrecentcalllast \ile lettuce core file s line call line d in  call  \nret self self *args **kw \ile step file s line25 intof False Assertion Error Thenthisonewillbeskipped features table table steps 2ndthisonewillbeskipped features table table steps 2ndthisonedoesnotevenhasdefinition features table table 12 undefined \n\n1feature 0passed \n1scenario 0passed \n5steps 1failed 2skipped 1undefined 1passed \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Andthisonedoesnotevenhasdefinition \ndefand this one does not even has definition step \alse \hisstepmustbeimplemented Listoffailedscenarios \cenario Seeitfail features table table 2\n\n' % {'lettuce core file lettuce path 'core.py' 'step file abspath lettuce path '..' 'tests' 'functional' 'output features 'failed table 'failed table steps 'call line call line 
def test resample x rng 0 1 10 10 10 x rs resample x 1 2 10 assert equal x 10 10 10 assert equal x rs 10 10 5 x 2 x 0 1 x 2 rs resample x 2 1 2 10 assert array equal x 2 rs 0 1 x rs x 3 x 0 2 x 3 rs resample x 3 1 2 10 0 assert array equal x 3 rs 0 2 x rs assert array equal resample [0 0] 2 1 [0.0 0.0 0.0 0.0]
def get major minor version version None version get complete version version return  get version string version 2]
def course outline initial state locator to show course structure def find xblock info xblock info locator 'indsthexblockinfoforthespecifiedlocator xblock info locator return xblock infochildren xblock info info if xblock info 'child info None else None if children for child xblock info in children result find xblock info child xblock info locator if result return resultreturn Nonedef collect all locators locators xblock info 'ollectallthelocatorsforanxblockanditschildren xblock info children xblock info info if xblock info 'child info None else None if children for child xblock info in children collect all locators locators child xblock info selected xblock info find xblock info course structure locator to show if not selected xblock info return Noneexpanded locators []collect all locators expanded locators selected xblock info return {'locator to show locator to show 'expanded locators expanded locators 
def test fill Chart chart Chart fill True chart '_' [1 2 3] chart '?' [10 21 5] assert chart pyquery 
def  get instructor task status task id instructor task get updated instructor task task id status get status from instructor task instructor task if instructor task is not None and instructor task state in STATES WITH STATUS succeeded message get task completion info instructor task status messagestatus succeededreturn status 
def  nearest real complex idx fro to which assert which in 'real' 'complex' order np np fro - to mask np fro if which 'complex' mask ~ mask return order mask [0][0]]
def approx equal a b epsilon EPSILON return abs a - b < epsilon 
def instantiate Shoot Errback d defer Deferred try 1 / 0 except d d Errback lambda x None 
def force delete func path exc info os path stat S IWRITE func path 
@require context context manager writerdef instance remove security group context instance uuid security group id model query context models Security Group Instance Association .filter by instance uuid instance uuid .filter by security group id security group id .soft delete 
def aggregate metadata delete context aggregate id key I M P L metadata delete context aggregate id key 
def start time service return   salt  ['service.start'] 'w32time'
def  convert to float if possible s try ret float s except Value Error Type Error ret sreturn ret 
def parse mul tree root mul info is mul root if mul info is None neg info is neg root if neg info is None return [alse root neg sub tree parse mul tree neg info return [ not neg sub tree return [alse list map parse mul tree mul info ]
def  authn context decl decl authn auth None return factory saml Authn Context authn context decl decl authenticating authority factory saml Authenticating Authority text authn auth 
def select supported python installed pythons for python in installed pythons if python -3 ] in SUPPORTED PYTHON VERS return python 
def unpack files key list for key in key list underscore key '_' if underscore < 0 filename key if underscore < 0 else key ] else filename '{basename}.{ext}'.format basename key underscore + 1 ] ext key underscore clear metadata to file key filename 
def vm attach nic name kwargs None call None if call ! 'action' raise Salt Cloud System Exit 'hevm attach nicactionmustbecalledwith if kwargs is None kwargs {}path kwargs 'path' None data kwargs 'data' None if data if path log "oththe elif path data salt path mode 'r' .read else raise Salt Cloud System Exit "hevm attach nicfunctionrequireseither server user password  get xml rpc auth ' '.join [user password vm id int get vm id kwargs {'name' name response server auth vm id data ret {'action' 'vm.attachnic' 'nic attached response 'vm id response 'error code response ret 
def  instantiate proxy bindings None if bindings is None bindings {}if isinstance proxy Proxy return  instantiate proxy tuple proxy bindings elif isinstance proxy dict return dict  instantiate k bindings  instantiate v bindings for k v in six proxy elif isinstance proxy list return [ instantiate v bindings for v in proxy isinstance proxy six types return preprocess proxy else return proxy 
def search by lookup tgt type 'compound' minion id None expr funcs dict inspect sys  name  ] predicate inspect matches []for key target list in lookup for target in target list params target minion id if minion id else target if expr funcs type *params matches key return matches or None 
def test hook proxy testdir testdir **{'root/demo-0/test foo1 'deftest1 pass 'root/demo-a/test foo2 'deftest1 pass 'root/demo-a/conftest.py' '\ndefpytest ignore collect path config \rue 'root/demo-b/test foo3 'deftest1 pass 'root/demo-c/test foo4 'deftest1 pass result testdir result lines ['*test foo1 '*test foo3 '*test foo4 '*3passed*']
def get grouped data form data res {}for elem data in form data values res elem data [] if elem data INPUT TYPE SELECT values elem data else values elem data return res 
def get english article word return 'a' + 'n' if word in 'aeiou' else ''
def  get user via basic auth auth header try creds binascii base64 auth header 'asic ] .split ' ' 1 except binascii Error raise Response 400 'alformed Authorization if len creds ! 2 raise Response 401 userid api key credsif len userid 36 and '-' in userid user  get user via api key userid else try userid int userid except Value Error raise Response 401 user User id userid if user A N O N or not constant time compare user key api key raise Response 401 return user 
def global context request context {'WITH WS4REDIS' hasattr settings 'WEBSOCKET URL' }return context 
def fmin powell func x0 args xtol 0.0001 ftol 0.0001 maxiter None maxfun None full output 0 disp 1 retall 0 callback None direc None opts {'xtol' xtol 'ftol' ftol 'maxiter' maxiter 'maxfev' maxfun 'disp' disp 'direc' direc 'return all retall  minimize powell func x0 args callback callback **opts if full output retlist res res res res res res if retall retlist + res return retlistelif retall return res res else return res 
def install hg path hook op path 'hgrc' if not op hook open hook 'w+' .close c Config Parser c open hook 'r' if not c section 'hooks' c section 'hooks' if not c option 'hooks' 'commit' c 'hooks' 'commit' 'python pylama hook if not c option 'hooks' 'qrefresh' c 'hooks' 'qrefresh' 'python pylama hook c open hook 'w+'
def require activities to be public activity references exploration ids collection ids activity services by type activity references activity summaries by type [{'type' feconf A C T I V I T Y TYPE EXPLORATION 'ids' exploration ids 'summaries' exp services exploration summaries matching ids exploration ids } {'type' feconf A C T I V I T Y TYPE COLLECTION 'ids' collection ids 'summaries' collection services collection summaries matching ids collection ids }]for activities info in activity summaries by type for index summary in enumerate activities info if summary is None raise Exception 'annotfeaturenon % activities info activities info if summary rights manager A C T I V I T Y STATUS PRIVATE raise Exception 'annotfeatureprivate % activities info activities info 
def create api service persistence service cluster state service endpoint context factory clock reactor api root Resource user Configuration A P I User V1 persistence service cluster state service clock api root Child 'v1' user api root v1 user userreturn Stream Server Endpoint Service endpoint T L S Memory B I O Factory context factory False Site api root 
def ode Riccati special minus2 eq func order match x func func match a2 b2 c2 d2 [r[r[s]] for s in 'a2b2c2d2'.split ]C1 get numbered constants eq num 1 mu sqrt 4 * d2 * b2 - a2 - c2 ** 2 return Eq f x a2 - c2 - mu * tan mu / 2 * a2 * log x + C1 / 2 * b2 * x 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def setuptools version MIN SETUPTOOLS VERSION python cmd 'python' if not is setuptools installed python cmd python cmd install setuptools python cmd python cmd 
def capfirst value return value and value + value ]
def  get certname config verb certname config not certname disp zope Utility interfaces I Display filenames storage conf files config choices [storage.lineagename for filename name for name in filenames not choices raise errors Error 'oexistingcertificatesfound code index disp 'hichcertificatewouldyouliketo verb choices ok label 'elect flag '--cert-name' force interactive True if code ! display util O K or not index in range 0 len choices raise errors Error 'serendedinteraction certname choices certname 
def function key generator namespace fn to str compat type if namespace is None namespace '%s %s' % fn  module   fn  name   else namespace '%s %s|%s' % fn  module   fn  name   namespace args inspect fn has self args and args in 'self' 'cls' def generate key *args **kw if kw raise Value Error "dogpile.cache'sdefaultkeycreationfunctiondoesnotacceptkeywordarguments." if has self args args ]return namespace + '|' + ''.join map to str args return generate key 
def construct snap name volume if is snapcopy enabled volume return 'snap-as-vol-' + six type volume id else return 'tmp-snap-' + six type volume id 
def uninstall pkg user None env None cmd ['ghc-pkgunregister']cmd.append '"{0}"'.format pkg result   salt  ['cmd.run all ''.join cmd runas user env env if result ! 0 raise Command Execution Error result return result 
def transform series series force list False vals series transform array vals force list 
def get First Word Index Reverse first Word lines start Index for line Index in xrange len lines - 1 start Index - 1 -1 if first Word get First Word get Split Line Before Bracket Semicolon lines Index return line Indexreturn -1
def  get brew tap specific commands brew path prefix commands []brew taps path brew path prefix + TAP PATH for user in  get directory names only brew taps path taps  get directory names only brew taps path + '/%s' % user taps tap for tap in taps if tap 'homebrew-' for tap in taps tap cmd path brew taps path + TAP CMD PATH % user tap if os tap cmd path commands + name 'brew-' '' .replace '.rb' '' for name in os tap cmd path if  is brew tap cmd naming name return commands 
@utils.arg 'monitor' metavar '<monitor>' help ' Dofthemonitortodelete @utils.service type 'monitor' def do delete cs args monitor  find monitor cs args monitor 
def validate utf8 utfbytes return  validate utf8 utfbytes 
def  example number anywhere for type num type for region code in SUPPORTED REGIONS example numobj example number for type region code num type if example numobj is not None return example numobjfor country calling code in COUNTRY CODES FOR NON GEO REGIONS metadata Phone Metadata for nongeo region country calling code None desc  number desc for type metadata num type if desc number is not None try return parse  PLUS SIGN + unicod country calling code + desc number UNKNOWN REGION except Number Parse Exception passreturn None 
def get signin vcode cookie code String url ''.join [ A S S P O R T BASE 'cgi-bin/genimage?' code String headers {ookie cookie output 'eferer const R E F E R E R net url headers headers if req return req return None 
def get all ret  get systemd services ret set  get sysv services return sorted ret 
def  dhcp file dev kind fileutils tree C O N F path return os '%s/nova-%s.%s' % C O N F path dev kind 
def newline logger nb blank lines 1 formatter logging Formatter fmt '' handler Custom Stream Handler formatter formatter logger Handler handler for i in xrange nb blank lines logger '' logger Handler handler 
def genslices n return product range - n n + 1 range - n n + 1 range - n n + 1
def next ip ip ip2int lambda ipstr struct '!I' socket aton ipstr [0] int2ip lambda n socket ntoa struct '!I' n return int2ip ip2int ip + 1
def tox registry xml parent data pluginelement 'ox Builder X M L Sub Element xml parent pluginelement X M L Sub Element t 'ni .text data 'ini' 'tox.ini' X M L Sub Element t 'recreate' .text str data 'recreate' False .lower pattern data 'toxenv-pattern' if pattern X M L Sub Element t 'attern .text pattern 
def test scenario has repr scenario Scenario string SCENARIO1 assert equals repr scenario 'cenario "ddingsomestudentstomyuniversitydatabase 
def test from ndarray try from numpy import arrayexcept Import Error skip 'um Pymustbeavailabletotestcreatingmatricesfromndarrays assert Matrix array [1 2 3] Matrix [1 2 3] assert Matrix array [[1 2 3]] Matrix [[1 2 3]] assert Matrix array [[1 2 3] [4 5 6]] Matrix [[1 2 3] [4 5 6]] assert Matrix array [x y z Matrix [x y z raises Not Implemented Error lambda Matrix array [[[1 2] [3 4]] [[5 6] [7 8]]]
def  To Gyp Path path if os '\\' and os '/' return path '\\' '/' return path 
def  add async tag url question id return reverse 'questions.add tag async kwargs {'question id question id 
def  get oid data position dummy0 dummy1 dummy2 end position + 12 return Object Id data end end 
def  match emr step log path path log type step id None m  EMR STEP LOG PATH R E path if not m return Noneif m 'log type ! log type return Noneif not step id is None or m 'step id step id return Nonereturn dict step id m 'step id timestamp m 'timestamp'
def show backrefs objs max depth 3 extra ignore filter None too many 10 highlight None filename None extra info None refcounts False shortnames True output None  show graph objs max depth max depth extra ignore extra ignore filter filter too many too many highlight highlight edge func gc referrers swap source target False filename filename output output extra info extra info refcounts refcounts shortnames shortnames cull func is proper module 
def check str arg result func cargs dbl resultptr cargs -1 ]. objreturn dbl ptr 
def add Negative Peg derivation negatives x y negative Peg Radius derivation Radius Arealized + derivation Peg Clearance inradius complex negative Peg Radius negative Peg Radius copy Shallow derivation Node Copy Shallow start Vector3 x y derivation sides evaluate Sides Minimum Three Based On Precision copy Shallow negative Peg Radius cylinder Cylinder Output By End Start 0.0 inradius negatives sides start derivation Over Bottom 
def free physmem out sh 'free-b' lines out '\n' for line in lines if line 'em total used free shared [int x for x in line [1 5]]nt collections 'free' 'totalusedfreesharedoutput' return nt total used free shared out raise Value Error "em \n%s" % '\n'.join lines 
def assert ok response msg prefix u return assert code response 200 msg prefix msg prefix 
def store parser result package dirpath parser result tag copy copy parser result parser result sto filepath path package dirpath PARSER RESULT STORE sto shelve open sto filepath sto copysto 
def  append params oauth params params merged list params merged oauth params merged key lambda i i 'oauth ' return merged 
def  Get Config From Kwargs kwargs convert rpc False config class datastore rpc Configuration if not kwargs return Nonerpc kwargs 'rpc' None if rpc is not None if not isinstance rpc apiproxy stub map User R P C raise datastore errors Bad Argument Error 'rpc argumentshouldbe Noneora User R P Cinstance if 'config' in kwargs raise datastore errors Bad Argument Error 'xpectedrpc orconfig argumentbutnotboth if not convert rpc if kwargs raise datastore errors Bad Argument Error 'nexpectedkeywordarguments %s' % ' '.join kwargs return rpcread policy getattr rpc 'read policy None kwargs datastore rpc Configuration deadline rpc read policy read policy config  Get Connection .config return config class **kwargs
def unpack groups hg unbundle10 obj yield [chunk for chunk in unpack chunks hg unbundle10 obj ] yield [chunk for chunk in unpack chunks hg unbundle10 obj ] while True length struct '>l' readexactly hg unbundle10 obj 4 if length < 4 breakfilename readexactly hg unbundle10 obj length - 4 .encode 'string escape yield filename [chunk for chunk in unpack chunks hg unbundle10 obj ]
def ensure has elts x lineno None col offset None if not has elts x if not isinstance x Iterable x [x]lineno x if lineno is None else lineno col offset x offset if col offset is None else col offset x ast Tuple elts x ctx ast Load lineno lineno col offset col offset return x 
def add Negative Sphere derivation negatives x radius Vector3 derivation Plus Clearance derivation Plus Clearance derivation Plus Clearance sphere Output sphere Geometry Output derivation Node Copy Shallow radius euclidean Vector3 Path matrix Vertexes sphere Output Vector3 x 0.0 derivation negatives sphere Output 
def Ensure Dispatch prog id b For Demand 1 disp win32com Dispatch prog id if not disp  dict  .get 'CLSID' try ti disp oleobj .et Type Info disp clsid ti Get Type Attr [0] tlb index ti Get Containing Type Lib tla tlb Get Lib Attr mod Ensure Module tla tla tla tla b For Demand b For Demand Get Module For C L S I D disp clsid import C L S I D To Classdisp class C L S I D To Class Get Class str disp clsid disp disp class disp oleobj  except pythoncom error raise Type Error 'his C O Mobjectcannotautomatethemakepyprocess return disp 
def verify crl crl cert if not salt 'openssl' raise salt Salt Invocation Error 'opensslbinarynotfoundinpath' crltext  text or file crl crltext get pem entry crltext pem type 'X509CRL' crltempfile tempfile Named Temporary File crltempfile crltext crltempfile certtext  text or file cert certtext get pem entry certtext pem type 'CERTIFICATE' certtempfile tempfile Named Temporary File certtempfile certtext certtempfile cmd ' Afile crltempfile certtempfile output   salt  ['cmd.run stderr cmd crltempfile certtempfile if ' K in output return Trueelse return False 
def show Static Words first Page second Page info Msg 'findingstaticwordsinlongestmatchingpartofdynamicpagecontent'logger.info info Msg first Page get Filtered Page Content first Page second Page get Filtered Page Content second Page info Msg 'staticwords 'if first Page and second Page match Sequence Matcher None first Page second Page .find longest match 0 len first Page 0 len second Page common Text first Page match + match ]ords get Page Word Set common Text else common Words Noneif common Words common Words list common Words common Words lambda a b cmp a b for word in common Words if len word > 2 info Msg + "'%s' " % word info Msg info Msg ' ' else info Msg + 'one info Msg 
def  get flow for token csrf token flow pickle session  FLOW K E Y csrf token None if flow pickle is None return Noneelse return pickle flow pickle 
@hook.command 'karma' 'k' def karma text db query db select [karma table .where karma table vote text .fetchone if not query return 'hatuserhasnokarma 'else return '{}has\x02{}\x02karma!'.format text query karma - query karma 
@ F A I Ldef test conditionset equality assert solveset Eq tan x y x Condition Set x Eq tan x y S Complexes 
def write cron file verbose user path if  check instance uid match user or   grains  .get 'os family in 'olaris 'AIX' return   salt  ['cmd.run all  get cron cmdstr path runas user python shell False else return   salt  ['cmd.run all  get cron cmdstr path user python shell False 
def  find mapreduce yaml start checked dir startwhile dir not in checked checked dir for mr yaml name in MR YAML NAMES yaml path os dir mr yaml name if os yaml path return yaml pathdir os dir return None 
def skip on not implemented only if None def decorator fun @functools.wraps fun def wrapper *args **kwargs try return fun *args **kwargs except Not Implemented Error if only if is not None if not only if raisemsg 'ot Implemented Error % fun  name   raise unittest Skip Test msg return wrapperreturn decorator 
def iter Source Code paths for path in paths if os path for dirpath dirnames filenames in os path for filename in filenames if filename '.py' yield os dirpath filename else yield path 
def get focus python shell widget Q Application Widget from spyder import Python Shell Widgetfrom spyder import External Python Shellif isinstance widget Python Shell Widget return widgetelif isinstance widget External Python Shell return widget 
def request host request url request full url host  rfc3986 url [1]if host is None host request header 'ost '' host cut port re '' host 1 return host 
def pkcs mgf1 mgf Seed mask Len h if not  hash Func Params key h warning 'pkcs mgf1 invalidhash %s provided return Noneh Len  hash Func Params Func  hash Func Params mask Len > 2 ** 32 * h Len warning 'pkcs mgf1 mask Len Len return None T 'ounter math float mask Len / float h Len counter 0while counter < max Counter C pkcs i2osp counter 4 T + h Func mgf Seed + C counter + 1return T[ mask Len 
def validate children config if CONF CHILDREN not in config  L O G G E R 'ochildrenunder Universal Media Player %s ' config C O N F NAME] config C O N F CHILDREN] []elif not isinstance config C O N F CHILDREN] list  L O G G E R 'niversal Media Player %s childrennotlistinconfig Theywillbeignored config C O N F NAME] config C O N F CHILDREN] []
def run spyder app options args main Main Window options try main except Base Exception if main is not None try main interpreter except Base Exception passraisemain main visible setup if main main Spy app app window main if args for a in args main external file a if sys 'darwin' Q Core Application Attribute Qt A A Dont Show Icons In Menus True if running in mac app app open external file main external file app Changed main last focused widget app  return main 
def wmf unwrap wmf data verbose 0 w WMF verbose verbose w wmf data if not w raster image raise Value Error 'orasterimagefoundinthe W M F return w png 
def  get pep8 violations report dir Env R E P O R T DIR / 'pep8' report dir ignore errors True report dir p Env M E T R I C S D I R p sh 'pep8.|tee{report dir report dir report dir count violations list  pep8 violations '{report dir report dir report dir return count violations list 
def extras *p return reqs 'extras' *p
def process Shape archivable Class xml Element if xml Element None returnarchivable Object evaluate Archivable Object Add To Parent archivable Class xml Element matrix X M L Element Dictionary To Other Element Dictionary xml Element xml Element X4 'matrix.' xml Element xml Element X M L Processor .hildren xml Element 
def delitem a b del a 
def resize bitmap parent  bitmap target height image wx Image From Bitmap  bitmap  width  height image Get Size if  height < target height return wx Static Bitmap parent -1 wx Bitmap From Image image ratio float  width /  height image image Scale target height * ratio target height wx I M A G E QUALITY HIGH return wx Static Bitmap parent -1 wx Bitmap From Image image 
def instance destroy context instance uuid constraint None update cells True rv I M P L destroy context instance uuid constraint if update cells try cells rpcapi Cells A P I .instance destroy at top context rv except Exception L O G _ 'ailedtonotifycellsofinstancedestroy return rv 
def folds documents [] K 10 **kwargs def chunks iterable n 10 a list iterable i 0j 0for m in xrange n j i + len a n yield a j i jk kwargs 'k' K d list chunks documents max k 2 for holdout in xrange k yield list chain * d holdout + d holdout + 1 ] d 
def gpu mem free global cudaif cuda is None from theano import cudareturn cuda info [0] / 1024.0 / 1024
def setup events conf trait plugin mgr return Notification Events Converter conf declarative definitions conf [] conf cfg file trait plugin mgr 
def  connect user None password None host None port None database 'admin' authdb None if not user user   salt  ['config.option'] 'mongodb.user' if not password password   salt  ['config.option'] 'mongodb.password' if not host host   salt  ['config.option'] 'mongodb.host' if not port port   salt  ['config.option'] 'mongodb.port' if not authdb authdb databasetry conn pymongo Mongo Client host host port port mdb pymongo Database conn database if user and password mdb user password source authdb except pymongo Py Mongo Error log 'rrorconnectingtodatabase database return Falsereturn conn 
def sm backend conf get by sr context sr uuid return I M P L backend conf get by sr context sr uuid 
def parse volume info connection data volume id connection data id portal connection data portal host  get target host target portal target port  get target port target portal target iqn connection data iqn L O G ' vol id number host port iqn %s %s %s %s ' volume id target host target port target iqn if volume id is None or target host is None or target iqn is None raise Storage Error _ 'nabletoobtaintargetinformation connection data s % locals volume info {}volume info volume idvolume info target hostvolume info target portvolume info I Q N target iqnif 'auth method in connection data and connection data method 'CHAP' volume info connection data username info connection data password volume info 
def log page hit request view func level None if level is None level logging I N F Oai Access Info request ai level app re match  MODULE R E view func  module   app app re match and app re match 0 or '-' ai to access history app 
def normalize text for edit user text rich text escape html True if text is None return u not rich text and is rich text default for user user text djblets markdown escape text if escape html text escape text return text 
def connect database url db  connect database url db lambda  connect database url return db 
def ranksums x y x y map np x y n1 len x n2 len y alldata np x y ranked rankdata alldata x ranked n1 np x axis 0 expected n1 * n1 + n2 + 1 / 2.0 z s - expected / np n1 * n2 * n1 + n2 + 1 / 12.0 prob 2 * distributions abs z return Ranksums Result z prob 
def assert mode 644 mode assert mode & stat S IROTH and mode & stat S IRGRP assert mode & stat S IWUSR and mode & stat S IRUSR and not mode & stat S IXUSR
def user documentation text header section examples None if examples is None examples []def deco f f documentation User Documentation text text examples pvector examples header header section section return freturn deco 
def strip plaintext quote text found quote Falselines text .splitlines quote start Nonefor i line in enumerate lines if line '>' found quote Trueif quote start is None quote start ielse found quote Falseif found quote return '\n'.join lines quote start - 1 ] else return text 
def superimposition matrix v0 v1 scale False usesvd True v0 numpy v0 dtype numpy copy False [ 3]v1 numpy v1 dtype numpy copy False [ 3]return affine matrix from points v0 v1 shear False scale scale usesvd usesvd 
def Residuals xs ys inter slope xs np xs ys np ys res ys - inter + slope * xs return res 
def jupyter notebook script blocks work notebook jupyter notebook skeleton add code cell work notebook '%matplotlibinline' fill notebook work notebook script blocks return work notebook 
def get anonymous user User get user model lookup {ser U S E R N A M E FIELD guardian settings A N O N Y M O U S USER N A M E User **lookup
def pyherion code imports list codebase list for line in code '\n' if not line '#' if 'import' in line imports line else codebase line key helpers Key 32 cipher Enc A E S key encrypted Encode A E S cipher Enc '\n'.join codebase b64var helpers String 5 aesvar helpers String 5 imports 'frombase64importb64decodeas%s' % b64var imports 'rypto Cipherimport A E Sas % aesvar random imports crypted ';'.join imports + '\n' crypted + 'exec %s "%s" ' % b64var base64 'exec %s.new "%s" .decrypt %s "%s" .rstrip \'{\' \n' % aesvar key b64var encrypted return crypted 
def fix divmod mod  Divmod Fixer .visit mod 
def inspect container container status base status status containertry infos  get container infos container  valid status id  container out infos except Exception  invalid status id  container out traceback exc comment 'ontainerdoesnotexit {0}'.format container return status 
def get mongo client host port 27017 def create mongo client try client Mongo Client host host port port client {'ping' 1} return clientexcept Py Mongo Error return Falsed loop until reactor create mongo client return d 
def dist in site packages dist return normalize path dist location dist .startswith normalize path site packages 
def assert timestamp equal left right compare nat equal True msg '' if compare nat equal and left is pd Na T and right is pd Na T returnreturn pd equal left right msg msg 
def hello5 return HTML BODY H1 T 'ello World  style 'color red .xml
def get Attr Str attrs from xml import quoteattrs ''for attr value in attrs if not isinstance value basestring value str value elif isinstance value unicode value value 'utf-8' s + '%s %s' % attr quoteattr value return s 
def to Segments cwd path if path '/' segs []else segs cwd ]for s in path '/' if s '.' or s '' continueelif s '..' if segs segs else raise Invalid Path cwd path elif '\x00' in s or '/' in s raise Invalid Path cwd path else segs s return segs 
def jn zeros n nt return jnyn zeros n nt [0]
def  rate limit exceeded forbidden return any error 'imit Exceeded for error in forbidden errors 
def rgb transpose array return np array 1 0 2
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def remount module mount bin args msg ''cmd [mount bin get platform .lower .endswith 'bsd' cmd + ['-u']else cmd + ['-o' 'remount']if get platform .lower 'openbsd' if module is not None module json msg 'pen B S Ddoesnotsupportalternatefstabfiles Donotspecifythefstabparameterfor Open B S Dhosts else cmd +  set fstab args args cmd + [args['name']]out err ''try if get platform .lower .endswith 'bsd' rc 1else rc out err module command cmd except rc 1if rc ! 0 msg out + err if ismount args rc msg umount module args if rc 0 rc msg mount module args return rc msg 
def encipher kid rsa msg key n e keyreturn msg * e % n 
def is escaped url if salt windows return Falsescheme urlparse url .schemeif not scheme return url '|' elif scheme 'salt' path saltenv parse url return path '|' else return False 
def test op Implicit inheritance a New Class Are Equal int a 1002 Are Equal long a 1002 Are Equal New Class Implicit a 1002
def can access all blocks requesting user course key return has access requesting user Course Staff Role R O L E course key 
def register internal trigger types action sensor enabled cfg C O N F sensor trigger types db []for _ trigger definitions in six INTERNAL TRIGGER TYPES for trigger definition in trigger definitions L O G 'egisteringinternaltrigger %s' trigger definition is action trigger trigger definition ACTION SENSOR T R I G G E R if is action trigger and not action sensor enabled continuetry trigger type db  register internal trigger type trigger definition trigger definition except Exception L O G 'ailedregisteringinternaltrigger %s.' trigger definition raiseelse registered trigger types db trigger type db return registered trigger types db 
def close Dumper status msg '' if hasattr conf 'dumper' and hasattr conf 'finish' conf status msg 
def register special log handler name or logger callback if isinstance name or logger string types name name or loggerelse name name or logger logger handlers callback 
def assert disabled try assert Falseexcept Assertion Error return Falseelse return True 
def  Copy Query To Protocol Buffer query params params query query 'utf-8'
def remove prerequisite prereq content key milestones milestones api milestones '{usage key usage key prereq content key qualifier GATING NAMESPACE QUALIFIER for milestone in milestones milestones api milestone milestone 'id'
def validate encoding encoding try codecs encoding return Trueexcept Lookup Error return False 
def extract error messages exception if isinstance exception Deserialization Exception return exception hasattr exception 'errors' return exception hasattr exception 'message' return exception hasattr exception '  str  ' return str exception return None 
def read mm header fh byteorder dtype count return fh record MM HEADER byteorder byteorder 
def get props cycled col prop fx lambda x x n len col paths t prop [fx x for x in prop islice cycle t prop None n return list sliced 
def run As Effective User euid egid function *args **kwargs uid gid os os if uid euid and gid egid return function *args **kwargs else if uid ! 0 and uid ! euid or gid ! egid os 0 if gid ! egid os egid if euid ! 0 and euid ! uid or gid ! egid os euid try return function *args **kwargs finally if euid ! 0 and uid ! euid or gid ! egid os 0 if gid ! egid os gid if uid ! 0 and uid ! euid or gid ! egid os uid 
def pyramid reduce image downscale 2 sigma None order 1 mode 'reflect' cval 0  check factor downscale image img as float image rows image image rows math rows / float downscale out cols math cols / float downscale if sigma is None sigma 2 * downscale / 6.0 smoothed  smooth image sigma mode cval out resize smoothed out rows out cols order order mode mode cval cval return out 
def bzr wc target exists plain no force test 'bzr wc target exists plain no force '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabric import runfrom fabtools import is dirfrom fabtools import requirerun 'mkdir%s' % wt assert not is dir path wt '.bzr' try require copy REMOTE URL wt except System Exit passelse assert False "working copydidn not is dir path wt '.bzr'
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def  euler red x0 x1 y0 a A sympify x0 . to mpmath mp B sympify x1 . to mpmath mp y 0 [sympify i . to mpmath mp for i in y0 B - A f 0 y 0[1 ]f 0 n 0for i in range a f 0 n + sympify D M Fsubs red A mpm True . to mpmath mp * y 0[i] f 0.append f 0 n sol []for i in range a sol y 0[i] + h * f 0[i] return sol 
def cluster get all context is up None get services False services summary False read deleted 'no' name match level None **filters return I M P L get all context is up get services services summary read deleted name match level **filters
@register Tags def check url namespaces unique app configs **kwargs if not getattr settings 'ROOT URLCONF' None return []from django import get resolverresolver get resolver all namespaces  load all namespaces resolver counter Counter all namespaces non unique namespaces [n for n count in counter if count > 1 ]errors []for namespace in non unique namespaces errors Warning " R Lnamespace Youmaynotbeabletoreverseall U R Lsinthisnamespace namespace id '005 return errors 
def get Local Dictionary attributes Key element Node xml Processor element Node X M L Processor if len xml Processor < 1 return Nonereturn xml Processor -1 ]ictionary 
def format float arg return '%f' % float arg .rstrip '0' .rstrip '.'
def path not found req resp **kwargs raise H T T P Not Found 
@pytest.mark.parametrize 'fast writer [rue False def test write quoted empty field fast writer t table Table [ello ''] ['' '']] dtype ['S10' 'S10'] out String I O ascii t out fast writer fast writer assert out .splitlines ['col0col1' 'ello '""""'] out String I O ascii t out fast writer fast writer delimiter ' ' assert out .splitlines ['col0 col1 'ello ' ' ']
def  check for unsupported ica channels picks info if picks is None returnelif len picks 0 raise Value Error 'ochannelsprovidedto I C A types  DATA CH TYPES SPLIT + ['eog'] chs list set [channel type info j for j in picks check all [ ch in types for ch in chs if not check raise Value Error 'nvalidchanneltype s passedfor I C A Onlythefollowingchannelsaresupported Followingtypeswerepassed types chs 
def process python symbol data oedata symbol list []for key in oedata val oedata val and key ! 'found cell separators if val class or function symbol list key val name val level val token return sorted symbol list 
def  convert exception e args 'exceptioninldapbackend {0}'.format repr e e if six P Y2 six L D A P Error args sys info [2] else six from L D A P Error *args e 
def unhex s bits 0for c in s c bytes c if '0' < c < '9' i ord '0' elif 'a' < c < 'f' i ord 'a' - 10 elif 'A' < c < 'F' i ord 'A' - 10 else assert False 'non-hexdigit' + repr c bits bits * 16 + ord c - i return bits 
def  translate alias to requests alias spec pci aliases  get alias from config pci requests []for name count in [spec.split ' ' for spec in alias spec ' ' ] name name if name not in pci aliases raise exception Pci Request Alias Not Defined alias name else request objects Instance P C I Request count int count spec copy pci aliases alias name name pci requests request return pci requests 
def get configured provider return config provider configured   opts     active provider name   or   virtualname   'user' 'password' 'url'
def clear Caches gc 
def choice helper random state a replace p size if a > 1 raise Value Error 'a.ndim %i mustbe0or % a if p 1 if p 0 p Noneelse raise Value Error 'p.ndim %i mustbe1 % p replace bool replace return random state a size replace p 
def remove mo files for root dirs files in os MO DIR topdown False for f in files if not f DOMAIN os os root f 
def update profilers in db profilers description 'NA' add noncompliant False for profiler in profilers name os profiler if name '.py' name name -3 ]if not profilers if add noncompliant doc descriptionelse logging 'kipping missingdocstring profiler continueelse doc profilers models Profiler or create name name [0]model.description doc log or execute repr model model 
def get collection snapshots metadata collection id collection get collection by id collection id current version collection nums range 1 current version + 1 return collection models Collection Model snapshots metadata collection id version nums 
def Fake Set Locale category value None original setlocale locale if value not in None '' 'C' 'POSIX' raise locale Error ' return original setlocale category 'C'
def node info conn   get conn raw conn Info info {'cpucores' raw 'cpumhz' raw 'cpumodel' str raw 'cpus' raw 'cputhreads' raw 'numanodes' raw 'phymemory' raw 'sockets' raw info 
def date from quarter base date ordinal year interval 3month start interval * ordinal - 1 if month start < 0 month start 9month end month start + interval if month start 0 month start 1return [datetime year month start 1 datetime year month end calendar year month end [1] ]
def handle com error err None if err is None _ err _ sys info hresult code hresult name additional info parameter in error err code signed to unsigned hresult code exception string [ '%s-%s' % hex hresult code hresult name ]scode Noneif additional info wcode source of error error description whlp file whlp context scode additional infoscode signed to unsigned scode exception string 'rrorin %s' % source of error exception string '%s-%s' % hex scode error description or '' .strip for error code klass in WMI E X C E P T I O N S if error code in hresult code scode breakelse klass x wmiraise klass com error err 
def convert Rating Property model prop kwargs kwargs validators Number Range min 0 max 100 return f Integer Field **kwargs
def decompress data results []while data decomp B Z2 Decompressor try res decomp data except O S Error if results breakelse raiseresults res if not decomp raise Value Error 'ompresseddataendedbeforetheend data decomp datareturn ''.join results 
def customize compiler for nvcc self self extensions '.cu' default compiler so self sosuper self compiledef  compile obj src ext cc args extra postargs pp opts if os src [1] '.cu' self executable 'compiler so C U D A postargs extra postargs postargs extra postargs obj src ext cc args postargs pp opts self so default compiler soself compile  compile 
def get template from request request obj None no current page False template Noneif len get cms setting 'TEMPLATES' 1 return get cms setting 'TEMPLATES' [0][0]if hasattr request 'POST' and 'template' in request P O S T template request P O S T hasattr request 'GET' and 'template' in request G E T template request G E T not template and obj is not None template obj template if not template and not no current page and hasattr request 'current page current page request pageif hasattr current page 'get template template current page template if template is not None and template in dict get cms setting 'TEMPLATES' .keys if template constants T E M P L A T E INHERITANCE MAGIC and obj return obj template return templatereturn get cms setting 'TEMPLATES' [0][0]
def region codes for country code country code regions COUNTRY CODE TO REGION C O D E country code None if regions is None return else return regions 
def  init once path os 'LIBCLOUD DEBUG' if path mode 'a'from libcloud import P Y3if path in ['/dev/stderr' '/dev/stdout'] and PY3 mode 'w'fo codecs path mode encoding 'utf8' enable debug fo if have paramiko paramiko Config level paramiko D E B U G 
def list monitor data kwargs None call None if call ! 'function' raise Salt Cloud System Exit 'helist monitor datamustbecalledwith if not isinstance kwargs dict kwargs {}ret {}params {ction 'et Monitor Data 'egion Id get location }if 'name' in kwargs params Instance Id kwargs query params params monitor Data items Monitor Data data in monitor Data Instance Monitor Data ret Instance Id {}for item in data ret Instance Id str data return ret 
def  active mounts freebsd ret for line in   salt  ['cmd.run stdout 'mount-p' .split '\n' comps re '\\s+' '' line .split ret {'device' comps 'fstype' comps 'opts'  resolve user group names comps ' ' }return ret 
def  search software target search results {}software dict  get reg software .items for key value in six software if key is not None if target in key search results valuereturn search results 
def get random id from random import randomfrom time import timetry from hashlib import sha1 as shaexcept Import Error import shasha sha sha '%s|%s' % random time .hexdigest
def get non private exploration summaries return  get exploration summaries from models exp models Exp Summary Model non private 
def  check permission clashing custom builtin ctype pool set builtin codenames set p for p in builtin for codename  name in custom if codename in pool raise Command Error u Thepermissioncodename % codename ctype label ctype class .  name   elif codename in builtin codenames raise Command Error u Thepermissioncodename % codename ctype label ctype class .  name   pool codename 
def parse headers environ for cgi var value in environ if cgi var in  parse headers special yield  parse headers special var value elif cgi var 'HTTP ' yield cgi var ].title .replace '_' '-' value 
def Default Throttle multiplier 1.0 layout dict [ name multiplier * limit for name limit in DEFAULT L I M I T S ] return Throttle layout layout 
def rejectionline n alpha 0.5 t np n / float n frej t / t * 1 - alpha + alpha return frej 
def sokalmichener u v u  validate vector u v  validate vector v if u bool ntt u & v .sum nff ~ u & ~ v .sum else ntt u * v .sum nff 1.0 - u * 1.0 - v .sum nft ntf  nbool correspond ft tf u v return float 2.0 * ntf + nft / float ntt + nff + 2.0 * ntf + nft 
def  get mysql error return sys  salt  ['test.ping'].  module  ].  context  .pop 'mysql.error' None 
def build ownership map table key from row value from row rows sa table .execute .fetchall mappings {}for row in rows mappings key from row row [] .append Ownership Period pd Timestamp row date unit 'ns' tz 'utc' pd Timestamp row date unit 'ns' tz 'utc' row value from row row return merge ownership periods mappings 
def test ast unicode strings def  compile string s hy s Hy String s hy s line hy s line 0hy s column hy s column 0code hy compile [hy s u  main  ' return code  compile string u u assert  compile string u u assert  compile string u u 
def kaiserord ripple width A abs ripple if A < 8 raise Value Error 'equestedmaximumrippleattentuation Kaiserformula % A beta kaiser beta A numtaps A - 7.95 / 2.285 / np * width + 1 return int ceil numtaps beta 
def  as Filesystem Text path encoding None if type path unicode return pathelse if encoding is None encoding sys return path encoding 
def compat str s if isinstance s str return selif isinstance s bytes return s 'utf-8' else return str s 
def save filename None family 'ipv4' if  conf and not filename filename  conf family log 'avingrulesto filename parent dir os filename if not os parent dir os parent dir cmd '{0}-save'.format  iptables cmd family ipt   salt  ['cmd.run'] cmd if len  conf save filters > 0 ipt  regex iptables save ipt out   salt  ['file.write'] filename ipt return out 
def constructor copy obj cls **kw names get cls kwargs cls kw k obj  dict  [k] for k in names if k in obj  dict   return cls **kw
def guard quota dp scheduler force True 
def get request api cpu usage if apiproxy return apiproxy Get Request Api Cpu Usage return 0
def  pre yarn history unescape s return  PRE YARN HISTORY ESCAPE R E '\\1' s 
def  handle old style images staging path file num 0for filename in 'snap.vhd' 'image.vhd' 'base.vhd' path os staging path filename if os path  rename path os staging path '%d.vhd' % file num file num + 1
def parse info response info {}response nativestr response def get value value if ' ' not in value or ' ' not in value try if '.' in value return float value else return int value except Value Error return valueelse sub dict {}for item in value ' ' k v item ' ' 1 sub dict get value v return sub dictfor line in response if line and not line '#' if line ' ' ! -1 key value line ' ' 1 info get value value else info '  raw  ' [] .append line return info 
def get changes for svn txn repo path txn id changes subproc check output ['svnlook' 'changed' repo path '-t' txn id for line in String I O changes yield line line -1 ]
def opposite Function basef if isinstance basef Fitness Evaluator if isinstance basef Function Environment ' P Q isinstance basef Multi Objective Function res Multi Objective Function else res Function Environment basef basef else res Fitness Evaluator res lambda x - basef x if not basef Value is None res Value - basef Value res Be Minimized not basef Be Minimized return reselse return lambda x - basef x 
def jarque bera x x np x n float x if n 0 raise Value Error 'tleastoneobservationisrequired mu x diffx x - mu skewness 1 / n * np diffx ** 3 / 1 / n * np diffx ** 2 ** 3 / 2.0 kurtosis 1 / n * np diffx ** 4 / 1 / n * np diffx ** 2 ** 2 jb value n / 6 * skewness ** 2 + kurtosis - 3 ** 2 / 4 p 1 - distributions jb value 2 return jb value p 
def get context first object context context lookups return get context first matching object context context lookups [1]
def what filename res whathdr filename return res 
def confirm title text informative text ok text icon None default True cancel text None cancel icon None msgbox Qt Widgets Q Message Box active window msgbox Window Modality Qt Window Modal msgbox Window Title title msgbox Text text msgbox Informative Text informative text icon icons icon icons ok msgbox Button ok text Qt Widgets Q Message Box Action Role ok Icon icon cancel msgbox Button Qt Widgets Q Message Box Cancel cancel icon icons cancel icon icons cancel Icon cancel icon if cancel text cancel Text cancel text if default msgbox Default Button ok else msgbox Default Button cancel msgbox  return msgbox Button ok 
def test no nans np 1 image 0.5 + 1e-09 * np size 20 20 template np 6 6 template 3 ] 0result match template image template assert not np np result 
def test scenario matches tags excluding when scenario has no tags scenario Scenario string SCENARIO1 original string S C E N A R I O1 assert scenario tags ['-nope' '-neither']
def parse tag namespaces tag list namespaces {}for tag in tag list ns ' ' in tag and '%s ' % tag ' ' 1 [0] or '' if ns not in namespaces namespaces []namespaces[ns].append tag return namespaces 
def  test dir imputil Import Manager .install path sys ]path.reverse for d in path sys 0 Directory Importer d sys 0 imputil Builtin Importer 
def get markdown extensions return  markdown extensions 
def merge Path Info layer coord extension z coord coord coord '/% layer s z d x d y d extension s % locals 
def check media permissions media user perm type media type media  class  .  name  .lower perm name 'gallery.%s %s' % perm type media type if user ! media and not user perm perm name raise Permission Denied 
def  compare inverses approx inv 1 inv 2 evoked rtol atol check depth True if check depth if inv 1['depth prior is not None assert array almost equal inv 1['depth prior inv 2['depth prior 5 else assert true inv 2['depth prior is None if inv 1['orient prior is not None assert array almost equal inv 1['orient prior inv 2['orient prior else assert true inv 2['orient prior is None assert array almost equal inv 1['source cov inv 2['source cov assert array almost equal np inv 1['eigen fields np inv 2['eigen fields 0 assert array almost equal np inv 1['eigen leads np inv 2['eigen leads 0 stc 1 apply inverse evoked inv 1 lambda2 ' P M stc 2 apply inverse evoked inv 2 lambda2 ' P M assert true stc 1.subject stc 2.subject assert equal stc 1.times stc 2.times assert allclose stc 1.data stc 2.data rtol rtol atol atol assert true inv 1['units'] inv 2['units']
def get Tokens End Loc import inspectfstack inspect try for f in fstack ] if f ' parse No Cache endloc f locals endlocelse raise Parse Fatal Exception 'okens End Loc finally del fstack 
def run le auto venv dir base url **kwargs env environ d dict XDG DATA HOME venv dir LE AUTO JSON URL base url + 'certbot/json' LE AUTO DIR TEMPLATE base url + '%s/' LE AUTO PUBLIC KEY ' E G I N P U B L I C K E Y M I I B Ij A N Bgkqhki G9w B A Q E F A A O C A Q8 A M I I B Cg K C A Q E As Mo Sz L Y Q7 E1sd S Okwelg K Ih2qi Xu Ytcf F C0 Xrv Wig071 Nw Ij Zi T0 O L Z2h Pisp E H0 B7 I Suu Wg1ll G F W0 Vdbx L6 Jd Gz S2 Sh N Wk X9h E9z Vqw D P O Bn3 Z Hm03qwp Yk B Dw Qib3 Kq Od Yb T T Ut Jmm Gcuk3a Aq C T6 Ddfm T Sd P5asd Q Yw Ica Qre Dr Oosa S84 D T W I3 I U U Y J Vgl Ls I V P Buy9 Icg Hid U Q96h Jno Ps D C Ws Hw X62495 Q K Earauy K Qr Jz Fes0 E Y95or D M47 Z5o N Di Q B11m N B0 Mm P Y Y9 Q Sbn O A9j Iaa C97 Aw R Luw X Y R2abl Tcxur Wou68 Q I D A Q A B E N D P U B L I C K E Y **kwargs env d return out and err join venv dir 'letsencrypt-auto' + '--version' shell True env env 
def clear Node node node Nodes ] []
def dnn pool img ws stride None mode 'max' pad None img gpu contiguous img if stride is None stride 1 * len ws if pad is None pad 0 * len ws if mode 'sum' ret Gpu Dnn Pool mode 'average inc pad img ws stride pad context name ret namewindow elem theano ws .astype ret return as gpuarray variable ret * window elem context name return Gpu Dnn Pool mode mode img ws stride pad 
def get spine visible ax spine key spine ax key frame on ax frame on spine frame like spine frame like if not spine visible return Falseelif not spine edgecolor -1 ] return Falseelif not ax frame on and spine frame like return Falseelif ax frame on and spine frame like return Trueelif not ax frame on and not spine frame like return Trueelse return False 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def get fontconfig fonts fontext u fontext get fontext synonyms fontext return [fname for fname in  call fc list if os fname [1][1 ] in fontext ]
def parse ml headers headers attrs {ist Archive headers 'ist Archive attrs List Help headers 'ist Help attrs List Id headers 'ist Id attrs List Owner headers 'ist Owner attrs List Post headers 'ist Post attrs List Subscribe headers 'ist Subscribe attrs List Unsubscribe headers 'ist Unsubscribe return attrs 
def send session accept reject email session name acceptance link message settings Message Settings by action SESSION ACCEPT REJECT .first if not message settings or message settings status 1 send email to email action SESSION ACCEPT REJECT subject MAILS[SESSION ACCEPT R E J E C T session name session name acceptance acceptance html MAILS[SESSION ACCEPT R E J E C T email str email session name str session name acceptance str acceptance link link 
def number connected components G return len list connected components G
def register linter linter checker Exceptions Checker linter 
def Table *args **kwargs kwargs character set 'utf8'return sa Table *args **kwargs
def  regex from encoded pattern s if s '/' and s '/' ! 0 idx s '/' pattern flags str s idx s idx + 1 ] flag from char {'i' re I G N O R E C A S E 'l' re L O C A L E 's' re D O T A L L 'm' re M U L T I L I N E 'u' re U N I C O D E 0for char in flags str try flags | flag from char Key Error raise Value Error "unsupportedregexflag '%s'in'%s' mustbeoneof " % char s ''.join list flag from char return re s idx flags else return re re s 
def await gc obj rc for i in range 50 if grc obj < rc + 2 returntime 0.05
def add server protocol None service address None server address None packet forward method 'dr' weight 1 **kwargs cmd '{0}-a{1}'.format   detect os  build cmd protocol protocol service address service address server address server address packet forward method packet forward method weight weight **kwargs out   salt  ['cmd.run all cmd python shell False if out ret out else ret Truereturn ret 
@gen.coroutinedef List Identities client obj store user id device id request def  Make Identity Dict ident i dict {'identity' ident ident is not None i dict ident i dictquery expr 'identity.user id %d' % user id identities yield gen Task Identity Index Query client query expr ['key' 'authority'] raise gen Return {'identities' [ Make Identity Dict ident for ident in identities 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def remove users in conference id user users if checking conference id and is owner user id user conferences get memcached get key 'conferences' for val in users del conferences memcached get key 'conferences' conferences return get new message for user user 
def parsecodes codes len len filter filter range range if not codes return Nonel codes '+' if len l 1 return int l 16 for i in range len l try l int l 16 except Value Error l Nonel filter lambda x x is not None l if len l 1 return l return tuple l 
def count from 1 index collection return index + 1
def get Functions With String By File Name file Name search String file Text archive File Text file Name functions []lines archive Text Lines file Text for line in lines line Stripped line if line Stripped 'def' and search String in line Stripped if ' self ' not in line Stripped or line Stripped ' ' > 1 functions line Stripped 'def' ].strip functions return functions 
def Command char return Caseless Preserving Literal char 
def get a line src number global FILE C A C H Eif src not in FILE CACHE FILE C A C H E []for line in open src 'r' FILE C A C H E line try return FILE C A C H E number - 1 ]except return ''
def  count title words value ret 0for word in iter words value if word ret + 1return ret 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def render report cr uid ids name data context None env api Environment cr uid context or {} return env report ids name data 
def get Geometry Output By Arguments arguments element Node return get Geometry Output None element Node 
def lookup cname domain try answer dns domain 'CNAME' .rrsetttl answer answer text result result '.' return ttl result except D N S Exception NXDOMAIN No Answer return 0 None 
def get website users return frappe u * from User DCTB DCTB whereenabled 1anduser type 'ebsite User [0][0]
def call xxdot context builder conjugate dtype n a data b data out data fnty ir Function Type ir Int Type 32 [ll char ll char intp t ll void p ll void p ll void p fn builder or insert function fnty name 'numba xxdot kind get blas kind dtype kind val ir Constant ll char ord kind conjugate ir Constant ll char int conjugate res builder fn kind val conjugate n builder a data ll void p builder b data ll void p builder out data ll void p check blas return context builder res 
def test slicing on instance with parameterless model p2 Polynomial2 D 1 c0 0 1 c1 0 2 c0 1 3 p1 Polynomial2 D 1 c0 0 1 c1 0 2 c0 1 3 mapping Mapping 0 1 0 1 offx Shift -2 name u translation offy Shift -1 name u translation aff Affine Transformation2 D matrix [[1 2] [3 4]] name u model mapping | p1 & p2 | offx & offy | aff assert model names u 0 1' u 0 1' u 1 1' u 0 2' u 0 2' u 1 2' u 3' u 4' u 5' u 5' assert model 1 2 23.0 53.0 m model ]assert m names u 3' u 4' u 5' u 5' assert m 1 2 1.0 1.0
def assert deb headers test case expected headers package path output check output ['dpkg' '--info' package path actual headers parse colon dict output assert dict contains test case expected headers actual headers 'issingdpkg Headers '
def rebulk builder rebulk Rebulk rebulk path rebulk groups rebulk episodes rebulk container rebulk format  rebulk video codec rebulk audio codec rebulk screen size rebulk website rebulk date rebulk title rebulk episode title rebulk language rebulk country rebulk release group rebulk other rebulk edition rebulk cds rebulk bonus rebulk film rebulk part rebulk crc rebulk processors rebulk mimetype rebulk type  def customize properties properties 'ustomizedefaultrebulkproperties properties properties count countproperties count countreturn propertiesrebulk properties customize propertiesreturn rebulk 
def  test jd2jcal import randomn 1000year [random.randint -4699 2200 for i in range n ]month [random.randint 1 12 for i in range n ]day [random.randint 1 28 for i in range n ]jd [jcal2jd y m d [1] for y m d in zip year month day ]x [jd2gcal MJD 0 i for i in jd i in range n assert x year assert x month assert x day assert x < 1e-15
def modifier symbol def set modifier func modifiers funcreturn funcreturn set modifier 
def  attribute matcher kwargs def match node if 'terminal' in kwargs kwa copy kwargs pattern kwa copy 'terminal' if pattern is not None and not hasattr node 'is terminal or node terminal ! pattern return Falseelse kwa copy kwargsfor key pattern in kwa copy if not hasattr node key return Falsetarget getattr node key if isinstance pattern basestring return isinstance target basestring and re pattern + '$' target if isinstance pattern bool return pattern bool target if isinstance pattern int return pattern target if pattern is None return target is None raise Type Error 'invalidquerytype %s' % type pattern return Truereturn match 
def test ipv4 detect assert  is ipv4 like '1.1.1.1' is True assert  is ipv4 like '1.1.1.256' is True assert  is ipv4 like '-1.1.1.1' is True assert  is ipv4 like '1.1.1.hello' is False assert  is ipv4 like 'hello' is False assert  is ipv4 like '-1.1.1' is False assert  is ipv4 like '-1.1.1.' is False 
def  error execute *args **kargs cmd args -3 ] if args 'raidcom' else args result  execute *args **kargs ret ERROR EXECUTE T A B L E cmd return ret if ret else result 
def apply palette256 image return image 'RGB' .convert 'P' palette Image A D A P T I V E colors 256 dither Image N O N E 
def parse extra info info if not info return infofinfos info ';' data for files {}for finfo in finfos items finfo '{' if len items 1 fname fake sff nameinfo items fname items items info '}' '' data {}for item in info ' ' key value item .split ' ' key key value value data valuedata for files datareturn data for files 
def t2b t clean b rws t if len clean % 2 1 raise Value Error 'vennumberofcharactersexpected return a2b hex clean 
def for type typ func oldfunc  type pprinters typ None if func is not None  type pprinters funcreturn oldfunc 
def compute corr x y if len x 0 or len y 0 raise Value Error 'xoryhaszerolength' fast dot  get fast dot X np x float Y np y float X - X 0 Y - Y 0 x sd X 0 ddof 1 y sd Y 0 ddof 1 [ None if X Y else Ellipsis ]return fast dot X.T Y / float len X - 1 / x sd * y sd 
def get text stream name encoding None errors 'strict' opener text streams name if opener is None raise Type Error 'nknownstandardstream % name return opener encoding errors 
def in qtconsole try ip get ipython front end ip 'ernel App {} .get 'parent appname '' or ip ' P Kernel App {} .get 'parent appname '' if 'qtconsole' in front end return Trueexcept return Falsereturn False 
def load tasks from module imported imported vars vars imported if '  all  ' in imported vars imported vars [ name imported vars for name in imported vars if name in imported vars  all  '] ]else imported vars imported vars new style classic default extract tasks imported vars return imported  doc   new style classic default 
def escaped Data data in Attribute if isinstance data unicode data data 'utf-8' data data '&' '&amp;' .replace '<' '&lt;' .replace '>' '&gt;' if in Attribute data data '"' '&quot;' return data 
def  is same origin websocket origin host scheme host port host policy if websocket origin 'null' return Falseif not isinstance websocket origin tuple or not len websocket origin 3 raise Value Error "'websocket origin origin scheme origin host origin port websocket origintemplate '{scheme} //{host} {port}'origin header template scheme origin scheme host origin host port origin port for origin pattern in host policy if origin pattern origin header return Truereturn False 
def elide filename filename length elidestr '...'if length < len elidestr raise Value Error 'lengthmustbegreaterorequalto3' if len filename < length return filenamelength - len elidestr left length // 2 right length - left if right 0 return filename left + elidestr else return filename left + elidestr + filename - right ]
def check requirements if sys info < 3 3 and sys info 2] ! 2 7 raise System Exit 'y Installerrequiresatleast Python2 if is win try from Py Installer import winutilspywintypes winutils pywin32 module 'pywintypes' except Import Error raise System Exit 'y Installercannotcheckforassemblydependencies Pleaseinstall Py Win32 
def create shadow trigger trigger type db trigger type ref trigger type db reference .refif trigger type db schema L O G 'kipshadowtriggerfor Trigger Typewithparameters trigger type ref return Nonetrigger {'name' trigger type db 'pack' trigger type db 'type' trigger type ref 'parameters' {}}return create or update trigger db trigger 
def create container reactor control service node uuid name image volumes None timeout DEFAULT TIMEOUT d control service container node uuid name image volumes def wait until running container def container matches container state return container state and container uuid state uuid and state d loop until state found reactor control service containers state partial container matches container timeout def delete container failure d control service container container d Callback lambda  ignore failure return dd Errback delete container return dd Callback wait until running return d 
def normalize headers response headers strict True category {}for idx in range len response headers key val response headers get header key strict if not head newhead '-'.join [x.capitalize for x in key '_' '-' .split '-' ] response headers newhead val category 4continueresponse headers str head val category head ] head orderdef key func item value item category value response headers key key func 
def get prosite raw id cgi 'http //www.expasy.ch/cgi-bin/get-prosite-raw.pl' return  urlopen '%s?%s' % cgi id 
def run changed drain False min size 500 limit 1000 sleep time 10 use safe get False verbose False if use safe get Cloud Search Uploader safe get Trueamqp items 'cloudsearch changes  run changed min size min size limit limit drain drain sleep time sleep time verbose verbose 
def  parse Client S S L Options kwargs hostname kwargs 'hostname' None client Certificate  private Cert From Paths kwargs 'ey None kwargs 'ey None trust Root  parse Trust Root Path kwargs 'erts Dir None if hostname is not None configuration options For Client T L S  idna Text hostname trust Root trust Root client Certificate client Certificate else if client Certificate is not None private Key Open S S L client Certificate Key Open S S L client Certificate private Key Open S S L Nonecertificate Open S S L Noneconfiguration Certificate Options trust Root trust Root private Key private Key Open S S L certificate certificate Open S S L kwargs Context Factory configurationreturn kwargs 
def set rate limiting rate limit min wait timedelta milliseconds 50 global RATE L I M I Tglobal RATE LIMIT MIN W A I Tglobal RATE LIMIT LAST CALLRATE LIMIT rate limitif not rate limit RATE LIMIT MIN WAIT Noneelse RATE LIMIT MIN WAIT min wait R A T E LIMIT LAST CALL None 
def attached clients pl minimum 1 session output get tmux output pl u u F u name if not session output return Nonesession name session output .split u [0]attached clients output get tmux output pl u u session name attached count len attached clients output .split u return None if attached count < minimum else str attached count 
def all languages languages [ lang _ lang for lang in settings A L L L A N G U A G E S sorted languages key lambda lang lang 
def setattr default obj name value if not hasattr obj name setattr obj name value 
def cgsnapshot get all by group context group id filters None return I M P L get all by group context group id filters 
def test nm1 fit sample auto ratio 'auto'nm1 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS X resampled y resampled nm1 sample X Y X gt np [[0.91464286 1.61369212] [ -0.80809175 -1.09917302 ] [ -0.20497017 -0.26630228 ] [ -0.05903827 0.10947647] [0.03142011 0.12323596] [ -0.60413357 0.24628718] [0.50701028 -0.17636928 ] [0.4960075 0.86130762] [0.45713638 1.31069295]] y gt np [0 0 0 1 1 1 2 2 2] assert array equal X resampled X gt assert array equal y resampled y gt 
def make ref group info name position return Ref Group info name position case flags make case flags info 
def get deployment physnet mtu return cfg C O N F physnet mtu 
def get template attribute template name attribute return getattr current app env template template name .module attribute 
def splitattr url words url ';' return words words ]
def parse yn00 lines results sequences for line in lines line floats res re '-*\\d+\\.\\d+' line line floats [float val for val in line floats res res re '\\s+ \\d+ \\s+ \\d+ ' line if row res is not None seq1 int row res 1 seq2 int row res 2 seq name1 sequences seq1 - 1 ]seq name2 sequences seq2 - 1 ]YN00 {}YN00['S'] line floats Y N00 N line floats Y N00 line floats Y N00 line floats Y N00 line floats Y N00 N line floats Y N00 N S E line floats Y N00 S line floats Y N00 S S E line floats name1 name2 Y N00 Y N00results name2 name1 Y N00 Y N00seq name1 Noneseq name2 Nonereturn results 
def setup app app role 'rfc' rfclink return 
def make ifilesystemsnapshots tests fixture class I Filesystem Snapshots Tests Async Test Case 'estsfor class ` Filesystem Snapshots Thesearefunctionaltestsifrunagainstrealfilesystems test interface self 'hetestedobjectprovides class ` Filesystem Snapshots snapshots fixture self self True verify Object I Filesystem Snapshots fs snapshots def test created self 'napshotscreatedwith ``arelistedinthatorderin\n``list ``.\n'fs snapshots fixture self d fs snapshots 'first' d Callback lambda _ fs snapshots 'another' d Callback lambda _ fs snapshots d Callback self Equal ['first' 'another'] return dreturn I Filesystem Snapshots Tests 
def tencode data key encode base64 salt length 16 salt ''for n in range salt length salt + chr random 256 data salt + crypt data sha1 key + salt .digest if encode data encode data return data 
def populate module and state trans workflow param map allow tool state corrections False module injector None if module injector is None module injector Workflow Module Injector trans allow tool state corrections for step in workflow step args param map step {} step errors module injector step step args step args if step errors raise exceptions Message Exception step errors err data {step.order index step errors if step messages if allow tool state corrections log 'orkflowstep %s' step step messages else raise exceptions Message Exception step messages err data {step.order index step messages 
def jupyter info import nbconvertreturn dict nbconvert version nbconvert  version  
def test ros fit single class ros Random Over Sampler random state RND SEED y single class np X assert warns User Warning ros X y single class 
def test detect nan nan detected [alse detect nan i node fn for output in fn if numpy output .any print 'a Ndetected theano node print 'nputs %s' % [input[0] for input in fn print 'utputs %s' % [output[0] for output in fn nan detected Truebreakx theano 'x' f theano [x] [ theano x * x ] mode theano Monitor Mode post func detect nan f 0 assert nan detected 
def  to matrix vectorized M assert isinstance M tuple list assert all [isinstance item tuple list for item in M] c vec np [len item for item in M] assert np c vec - c vec 0 r len M c c vec M00 np M[0][0] dt M00 [00 r c M ret np sh dtype dt for irow in range r for icol in range c M ret irow icol np M return M ret 
def Verify Missing Sources sources build dir generator flags gyp to ninja if int generator flags 'msvs error on missing sources 0 no specials filter lambda x '$' not in x sources relative [os.path.join build dir gyp to ninja s for s in no specials filter lambda x not os x relative if missing cleaned up [os.path.normpath x for x in missing Exception 'issinginputfiles \n%s' % '\n'.join cleaned up 
def no backend test func backend if settings D A T A B A S E S D E F A U L T DB A L I A S E N G I N E '.' [ -1 ] backend return pass testelse return test func 
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def get matplotlib backend module names import statement '\nimportos sys Preservestdout stdout sys \edirectoutputprintedbythisimportationto preventing os \'w\' asdev null \nsys.stdout dev null  import   \'%s\' \fthisisan Import Error printthisexception Import Errormessagesarehuman Import Errorasexc \nsys.stdout sys stdout exc \lse printthisexceptionprecededbyatraceback exc \xception \nsys.stdout sys stdout traceback exc \n'backend names eval statement 'importmatplotlib;print matplotlib backends ' module names []if not is darwin and 'ocoa Agg in backend names backend names 'ocoa Agg for backend name in backend names module name 'matplotlib.backends.backend %s' % backend name stdout exec statement import statement % module name if not stdout module names module name logger 'atplotlibbackend added % backend name else logger 'atplotlibbackend ignored % backend name stdout return module names 
def  Wrap End Marker tree if isinstance tree pytree Leaf and tree token E N D M A R K E R return pytree Node pygram symbols input [tree] return tree 
def p command print p p 'PRINT' p p 
def  get table item doc name return doc '//th[contains text "%s" ]/following-sibling td % name [0]
def add Lists To Repository By Function file Name Help get Profile Directory repository repository Entities [itle Nonerepository Name Help file Name Helprepository Name Input Nonerepository Name file Name Help '.' [ -2 ]ame repository Name + '.csv' repository Name Synonym Nonerepository Name get Each Word Capitalized repository Name repository Profile Directory get Profile Directoryrepository Local Help Page Help Page .pen From Documentation Sub Name repository Name Help repository Wiki Manual Help Page Nonerepository [ialog Nonerepository Listener Table {}repository.title repository Name + 'ettings repository Entities [lose Title 'aveand Close Position Window Position .rom Value repository '0+0' for setting in repository setting repository 
def  str2records filename rel recs []contents nltk u % filename format u for line in contents if line rel line re rel + u ' u line line re u \\.$' u line record line u ' recs record return recs 
@click.command u @click.option u root password def setup global help mariadb root password None from frappe import update site configfrappe frappe dict frappe setup help Truefrappe install Truefrappe u frappe site config sites path u update site config u help setup 1 site config path os u u site config if mariadb root password frappe password mariadb root passwordfrom frappe import syncsync 
def curve keypair  check version 3 2 'monitor' public ffi 'char[64]' private ffi 'char[64]' rc C curve keypair public private  check rc rc return ffi public [ 40] ffi private [ 40]
def isroutine object return isbuiltin object or isfunction object or ismethod object or ismethoddescriptor object 
def plot day summary ohlc ax quotes ticksize 3 colorup u colordown u return  plot day summary ax quotes ticksize ticksize colorup colorup colordown colordown ochl False 
def  validate pad padtype padlen x axis ntaps if padtype not in ['even' 'odd' 'constant' None raise Value Error "nknownvalue 'odd' 'constant' or None % padtype if padtype is None padlen 0if padlen is None edge ntaps * 3 else edge padlenif x < edge raise Value Error 'helengthoftheinputvectorxmustbeatleastpadlen whichis % edge if padtype is not None and edge > 0 if padtype 'even' ext even ext x edge axis axis elif padtype 'odd' ext odd ext x edge axis axis else ext const ext x edge axis axis else ext xreturn edge ext 
def strcmp const time s1 s2 if len s1 ! len s2 return Falseresult 0for a b in zip s1 s2 result | ord a ^ ord b return result 0
def sum squared X X flat X order 'F' if np X else 'C' return np X flat X flat 
def inside resource1 resource2 while resource1 is not None if resource1 is resource2 return Trueresource1 resource1  parent  return False 
def markdown escape field obj field name if isinstance obj Model setattr obj field name djblets markdown escape getattr obj field name elif isinstance obj dict obj name djblets markdown escape obj name else raise Type Error u Unexpectedtype escape field % obj 
def ode separable reduced eq func order match x func func Dummy 'y' u match match y ycoeff 1 / y * match - u m1 {y 1 x -1 / x 'coeff' 1}m2 {y ycoeff x 1 'coeff' 1}r {'m1' m1 'm2' m2 'y' y 'hint' x ** match * f x }return ode separable eq func order r 
def test ast valid for can compile u for printa '
def in system path filename fn sdk normalize os filename if fn '/usr/local/' return Falseelif fn 'ystem or fn '/usr/' if fn in NOT SYSTEM FILES return Falsereturn Trueelse return False 
def connect cloudhsm aws access key id None aws secret access key None **kwargs from boto import Cloud H S M Connectionreturn Cloud H S M Connection aws access key id aws access key id aws secret access key aws secret access key **kwargs
def make stem cleaner stem if stem -1 ] 's' stem stem -1 ]if len stem > 2 return  memoized stem cleaner stem return nop 
def split filter op expression left sep right expression ' ' if sep try timeutils isotime expression op 'eq'threshold expressionexcept Value Error op leftthreshold rightelse op 'eq'threshold leftreturn op threshold 
def get default verify paths parts  ssl default verify paths cafile os parts parts capath os parts parts return Default Verify Paths cafile if os cafile else None capath if os capath else None *parts
def date in range date range date debug True out Truefor item in date range u ' attribute comparison operator value C L A U S E item .groups if attribute in u u left getattr date attribute right int value elif attribute left getattr date attribute right int value else left dateright dateutil value if debug print u left comparison operator right out out and O P E R A T O R S operator left right return out 
def p expression opt 1 t pass 
def hardware events attrs None where None return  osquery cmd table 'hardware events attrs attrs where where 
def tenant get tenant id None name None profile None **connection args kstone auth profile **connection args ret {}if name for tenant in getattr kstone  TENANTS None .list if tenant name tenant id tenant not tenant id return {rror 'nabletoresolvetenantid getattr kstone  TENANTS None .get tenant id ret dict value getattr tenant value for value in dir tenant if not value '_' and isinstance getattr tenant value six type dict bool str return ret 
def sgd loss or grads params learning rate grads get or compute grads loss or grads params updates Ordered Dict for param grad in zip params grads updates param - learning rate * grad return updates 
def create resource deserializer wsgi J S O N Request Deserializer serializer wsgi J S O N Response Serializer return wsgi Resource Controller deserializer serializer 
def  footer social links platform name configuration helpers value 'platform name settings P L A T F O R M NAME links []for social name in settings S O C I A L MEDIA FOOTER NAMES display settings S O C I A L MEDIA FOOTER D I S P L A Y social name {} links {'name' social name 'title' unicode display 'title' '' 'url' settings S O C I A L MEDIA FOOTER U R L S social name '#' 'icon-class' display 'icon' '' 'action' unicode display 'action' '' .format platform name platform name } return links 
@route bp '/<store id def products store id return  stores or 404 store id .products
@check is trading as api Execution Context phase EXECUTION PHASE.HANDLE BAR EXECUTION PHASE.SCHEDULED def order target value id or ins cash amount style None order book id assure order book id id or ins bar dict Execution Context current bar dict price bar dict book id get simu exchange .account.portfolio.positions[order book id value position * price return order value order book id cash amount - current value style 
def  collect tcl tk files hook api  handle broken tcl tk tcl root tk root  find tcl tk hook api if not tcl root logger 'cl Tkimproperlyinstalledonthissystem return []if not os tcl root logger 'cldatadirectory tcl root return []if not os tk root logger 'kdatadirectory tk root return []tcltree Tree tcl root prefix 'tcl' excludes ['demos' '*.lib' 'onfig tktree Tree tk root prefix 'tk' excludes ['demos' '*.lib' 'onfig if is darwin  warn if activetcl or teapot installed tcl root tcltree return tcltree + tktree 
def test column filter def all positive column if np column < 0 return Falsereturn Truet Table ['acd' '-27.00' '-25.01' '00.04' '13.05' '12.0-6' '11.07' '33.05' '3-2.06' '31.07'] format 'ascii' tg t by 'a' c2 tg all positive assert len c2 3 assert c2 ['c' '---' '7.0' '5.0'] assert c2 ['c' '---' '0.0'] assert c2 ['c' '---' '3.0' '2.0' '1.0']
def  div nearest a b q r divmod a b return q + 2 * r + q & 1 > b 
def s3 currency name 'currency' **attr settings current settingsif 'label' not in attr attr current T 'urrency if 'default' not in attr attr settings fin currency default if 'requires' not in attr currency opts settings fin currencies attr IS IN SET currency opts zero None if 'writable' not in attr attr settings fin currency writable f S3 Reusable Field name length 3 **attr return f 
def call with appropriate fn kwargs args keyword signature fn if not keyword kwargs {key kwargs for key in kwargs if key in args }return fn **kwargs
def combined tensor printing combined global  combined printing combined printing combined 
def use plugin name kind None if kind is None kind plugin store else if not kind in plugin provides raise Runtime Error 'lugin % name kind if kind 'imshow' kind [kind ' app show kind [kind] load name for k in kind if not k in plugin store raise Runtime Error "'%s'isnotaknownpluginfunction." % k funcs plugin store [ n f for n f in funcs if n name ] + [ n f for n f in funcs if n ! name ] plugin store funcs 
def bmat block lists row blocks [hstack *blocks for blocks in block lists vstack *row blocks 
def mvn nloglike obs x sigma sigmainv np sigma cholsigmainv np sigmainv .x whitened np cholsigmainv x logdetsigma np np sigma sigma2 1.0llike 0.5 * np sigma2 - 2.0 * np np cholsigmainv + x whitened ** 2 / sigma2 + np 2 * np return llike 
def  check portname name if not isinstance name string types or '/' not in name raise Salt Invocation Error "nvalidportname categoryrequired ".format name path os '/usr/ports' name if not os path raise Salt Invocation Error "ath path return path 
def  obfuscate inner var if isinstance var dict salt Ordered Dict return var  class   key  obfuscate inner val for key val in six var elif isinstance var list set tuple return type var  obfuscate inner v for v in var else return '<{0}>'.format var  class  .  name  
def check force season folders pattern None multi None if pattern is None pattern sickbeard N A M I N G P A T T E R Nvalid not validate name pattern None file only True if multi is not None valid valid or not validate name pattern multi file only True return valid 
def get descriptions nzo match name if nzo ep name nzo info 'episodename' else ep name ''if not ep name if match ep name name ]else ep name nameep name ep name '_.' if ep name '-' ep name ep name '-_.' if '.' in ep name and '' not in ep name ep name ep name '.' '' ep name ep name '_' '' ep name2 ep name '-' '-' .replace '' '.' ep name3 ep name '' '_' return ep name ep name2 ep name3 
def get domain cname False subreddit True no www False domain g prefix c prefix or g prefix site c not no www and domain prefix domain domain prefix + '.' + domain if hasattr request 'port' and request domain + ' ' + str request if subreddit domain + site '/' return domain 
def archive deleted rows for table context tablename max rows None return I M P L deleted rows for table context tablename max rows max rows 
def rs or single client h client context p client context **kwargs return  mongo client h p **kwargs
def gf expand F p K if type F is tuple lc F Felse lc K [lc]for f k in F f gf pow f k p K g gf mul g f p K return g 
def  extract model data model data []for i in range 0 model Count cat idx model i 0 row []for j in range 0 model Count cat idx row model cat idx j 0 model cat idx j 1 model cat idx j 2 data row return data 
def common prefix *seqs if any not s for s in seqs return []elif len seqs 1 return seqs 0for i in range min len s for s in seqs if not all seqs seqs for j in range len seqs breakelse i + 1return seqs i 
def accumulate dict from superclasses cls propname cachename '  cached all + propname if cachename not in cls  dict   d dict for c in inspect cls if issubclass c Has Props and hasattr c propname base getattr c propname for k v in base if k not in d d vsetattr cls cachename d return cls  dict  [cachename]
def has permission job action username None if job read only return Falseif username is None username get username if not username return Falseif not job return Truereturn username job 
def allitems attr None doc '' def getter self if attr is None return self itemsreturn [getattr frag attr for frag in self items property fget getter doc doc 
def  set user info cookie email admin cookie name  COOKIE NAME cookie value  create cookie data email admin cookie Cookie Simple Cookie cookie name cookie valuecookie name '/'return cookie name Output String 
def videos index json course return Json Response {'videos'  get index videos course } status 200
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def test malformed destinations monkeypatch monkeypatch 'WALE SYSLOG FACILITY' 'wat' out valid facility log help syslog facility assert not valid facility assert out handlers Sys Log Handler L O G USER monkeypatch 'WALE SYSLOG FACILITY' 'local0 wat out valid facility log help syslog facility assert not valid facility assert out handlers Sys Log Handler L O G USER monkeypatch 'WALE SYSLOG FACILITY' ' ' out valid facility log help syslog facility assert not valid facility assert out handlers Sys Log Handler L O G USER
def  generate dispatch cls if '  visit name  ' in cls  dict   visit name cls  visit name  if isinstance visit name str getter operator 'visit %s' % visit name def  compiler dispatch self visitor **kw try meth getter visitor except Attribute Error raise exc Unsupported Compilation Error visitor cls else return meth self **kw else def  compiler dispatch self visitor **kw visit attr 'visit %s' % self  visit name   try meth getattr visitor visit attr except Attribute Error raise exc Unsupported Compilation Error visitor cls else return meth self **kw  compiler dispatch  doc   'ookforanattributenamed "+self.  visit name  \nonthevisitor andcallitwiththesamekwparams compiler dispatch  compiler dispatch 
def mangle name name mode gitmode if stat S ISREG mode and not stat S ISREG gitmode assert stat S ISDIR gitmode return name + '.bup' elif name '.bup' or name -1 ].endswith '.bup' return name + '.bupl' else return name 
def rs fun p f *args  R p R1  x ring ' x  R h int args -1 ] args1 args -2 ] +  x h zm  R monomif zm in p x1  x + p p1 p - p else x1  xp1 pif isinstance f str q getattr x1 f *args1 else q f x1 *args1 a sorted q c [0] * h for x in a c x rs series from list p1 c args -2 ] args -1 ] return p1 
def idle showwarning message category filename lineno file None line None if file is None file warning streamtry file idle formatwarning message category filename lineno line line file '>>>' except Attribute Error I O Error pass 
def get value val name default None **kwargs if is site configuration enabled configuration value get configuration value val name default default else configuration value microsite value val name default default **kwargs try value dict default value configuration value except Type Error Value Error Attribute Error value configuration valuereturn value 
def  init helptopic completion log 'nitializinghelptopiccompletion model miscmodels Help Completion Model  instances Completion model 
def  auth to kv pairs auth string for item in  split auth string auth string k v item ' ' 1 if v '"' and len v > 1 and v '"' v v -1 ] yield k v 
def update state task handle state result None if result is None result {}if not current app 'CELERY ALWAYS EAGER' task handle state state state meta result 
def plus or dot pieces if '+' in pieces 'closest-tag' '' return '.'return '+'
def get Fonts Directory Path return archive Fabmetheus Utilities Path 'fonts'
def compare a b if HAVE COMPARE DIGEST return hmac digest a b result len a ^ len b for i in xrange len b result | ord a i % len a ] ^ ord b return result 0
def Start Tcp Server context None identity None address None **kwargs framer Modbus Socket Framerserver Modbus Tcp Server context framer identity address **kwargs server forever 
def  build request data sample language code None max alternatives None profanity filter None speech context None if sample is not None audio {'content'  bytes to unicode b64encode  to bytes sample }else audio {'uri' sample uri {'encoding' sample 'ate sample rate language code is not None config Code language codeif max alternatives is not None config Alternatives max alternativesif profanity filter is not None config Filter profanity filterif speech context is not None config Context {'phrases' speech context {'audio' audio 'config' config data 
def sdm add f g O K h dict f for monom c in g if monom in h coeff h + c if not coeff del h h coeffelse h creturn sdm from dict h O
def  set obj attribute value obj  dict  [attribute] value 
def find Op node v Op Finder walk node v verbose 0 return v 
def recent changes request page max 1 request 'page' type int query Revisioned Page by Revisioned Page id return Response generate template 'recent changes pagination Pagination query 20 page 'pecial Recent Changes 
def round to int number precision precision int precision rounded int number + precision / 2 // precision * precision return rounded 
def assert quantity allclose actual desired rtol 1e-07 atol None **kwargs import numpy as npnp allclose * unquantify allclose arguments actual desired rtol atol **kwargs
def delete vhost vhost runas None if runas is None and not salt windows runas salt user res   salt  ['cmd.run all [  context  ['rabbitmqctl'] 'delete vhost vhost runas runas python shell False msg 'eleted  format response res msg 
def str replace arr pat repl n -1 case True flags 0 if not is string like repl or callable repl raise Type Error 'replmustbeastringorcallable' use re not case or len pat > 1 or flags or callable repl if use re if not case flags | re I G N O R E C A S Eregex re pat flags flags n n if n > 0 else 0 def f x return regex repl x count n else f lambda x x pat repl n return  na map f arr 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def lscsum lx epsilon None lx numpy lx base lx if numpy base return baseif epsilon is not None and base < epsilon return epsilonx numpy lx - base ssum x result numpy ssum + base return result 
def  candidate tempdir list dirlist []for envname in 'TMPDIR' 'TEMP' 'TMP' dirname  os envname if dirname dirlist dirname if  os 'nt' dirlist ['c \\temp' 'c \\tmp' '\\temp' '\\tmp'] else dirlist ['/tmp' '/var/tmp' '/usr/tmp'] try dirlist  os except Attribute Error O S Error dirlist  os return dirlist 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def set users users test False commit True return   salt  ['net.load template 'set users users users test test commit commit 
def partial Release a Tp Pd pd 6 b Message Type mes Type 10 c Channel Description packet a / b / c return packet 
def add task queue name url payload None **kws Task Queue queue name .add Task url payload **kws
def geo distance a b a y radians a b y radians b delta x radians a - b cos x sin a y * sin b y + cos a y * cos b y * cos delta x return acos cos x * earth radius km 
def to valid filename s valid chars '-_. %s%s' % string letters string return ''.join c for c in s if c in valid chars 
@with setup state state def test subunit output undefined steps state [ncludes {'status' 'fail' 'details' Includes {'steps' Content Contains 'henthisteststepisundefined } } Includes {'status' 'fail' 'details' Includes {'steps' Content Contains 'henthisteststepisundefined } } ]runner Runner feature name 'undefined steps enable subunit True runner 
def remove Element From Pixel List From Point element pixel Dictionary point step Key get Step Key From Point point remove Element From List Table element step Key pixel Dictionary 
def pandas dtype dtype if isinstance dtype Datetime T Z Dtype return dtypeelif isinstance dtype Period Dtype return dtypeelif isinstance dtype Categorical Dtype return dtypeelif isinstance dtype string types try return Datetime T Z Dtype from string dtype except Type Error passif dtype 'period[' or dtype 'eriod try return Period Dtype from string dtype except Type Error passtry return Categorical Dtype from string dtype except Type Error passelif isinstance dtype Extension Dtype return dtypereturn np dtype 
def  server From String Legacy reactor description default name Or Plugin args kw  parse Server description None default if type name Or Plugin is not str plugin name Or Pluginreturn plugin Stream Server reactor *args **kw else name name Or Pluginargs args 1] + args ] return  endpoint Server Factories reactor *args **kw
def rate limit argument spec spec None arg spec dict rate dict type 'int' rate limit dict type 'int' if spec arg spec spec return arg spec 
def check api key key url 'https /anguages {'part' 'snippet' 'fields' 'items/id' 'key' key urlopen url + '?' + urlencode query .read message "hekey '" + key + " P Irequests pafy api key Config A P I K E Y return dict valid True message message except H T T P Error message "nvalidkeyorquotaexceeded '" + key + "'" return dict valid False message message 
def get resolver for resource type resource type if resource type Resource Type R U N N E R resolver cls Runner Permissions Resolverelif resource type Resource Type P A C K resolver cls Pack Permissions Resolverelif resource type Resource Type S E N S O R resolver cls Sensor Permissions Resolverelif resource type Resource Type A C T I O N resolver cls Action Permissions Resolverelif resource type Resource Type A C T I O N ALIAS resolver cls Action Alias Permissions Resolverelif resource type Resource Type R U L E resolver cls Rule Permissions Resolverelif resource type Resource Type E X E C U T I O N resolver cls Execution Permissions Resolverelif resource type Resource Type K E Y VALUE PAIR resolver cls Key Value Permissions Resolverelif resource type Resource Type W E B H O O K resolver cls Webhook Permissions Resolverelif resource type Resource Type A P I KEY resolver cls Api Key Permission Resolverelif resource type Resource Type R U L E ENFORCEMENT resolver cls Rule Enforcement Permissions Resolverelse raise Value Error 'nsupportedresource %s' % resource type resolver instance resolver cls return resolver instance 
@with setup reset def test single bundle b Bundle register 'foo' b assert  get b 
def date value arg None from django import formatif not value return ''if arg is None arg settings D A T E F O R M A Treturn format value arg 
def set vary header response header name varies response 'ary '' varies [x.strip for x in varies ' ' if x ]if header name not in varies varies header name response Vary ' '.join varies 
@receiver post init sender Course Creator def post init callback sender **kwargs instance kwargs state instance 
def xml translate callback value if not value return valuetrans X M L Translator callback 'xml' try root etree encode value trans root return trans done except etree Parse Error wrapped '<div>%s</div>' % encode value root etree wrapped etree H T M L Parser encoding 'utf-8' trans root return trans done [5 -6 ]
def thunk hook type value trace log thunk trace value   excepthook type value trace 
def scan opts ret {}for root dirs files in os opts for fn  in files full os root fn  if full '.py' ret mod data opts full return ret 
def calledback url dispatch 'score update return dispatch 
def run grouped correlation md vals otu arrays test test choices pval assignment method permutations None test fn test choices sizes map len md vals def  rho otu vals md vals return test fn otu vals md vals rhos []for i in range len md vals rhos apply along axis  rho 1 otu arrays md vals pvals []for i group rhos in enumerate rhos pvals i zeros len group rhos for j rho in enumerate group rhos pvals i assign correlation pval rho sample sizes pval assignment method permutations test fn otu arrays md vals pvals array pvals i fisher pvals apply along axis fisher 0 array pvals fisher rho and h apply along axis fisher population correlation 0 array rhos sample sizes return rhos pvals fisher pvals fisher rho and h fisher rho and h 
def mean squared logarithmic error y true y pred first log tf tf by value y pred 1e-08 np + 1.0 second log tf tf by value y true 1e-08 np + 1.0 return tf mean tf first log - second log 
def is commentable cohorted course key commentable id course courses course by id course key course cohort settings get course cohort settings course key if not course cohort settings cohorted or get team commentable id ans Falseelif commentable id in course level discussion topic ids or course cohort settings cohort inline discussions is False ans commentable id in course cohort settings discussions else ans Truelog u commentable cohorted %s %s {%s}' course key commentable id ans return ans 
def unique Arrays vs resdic {}for v in vs resdic v ] vreturn list resdic 
def default handlers handlers [] return handlers + [ '/gist/ [^\\/]+/ ? [0-9]+|[0-9a-f]{20 } ' Gist Handler '/gist/ [^\\/]+/ ? [0-9]+|[0-9a-f]{20 } / ? files ? .* ' Gist Handler '/ [0-9]+|[0-9a-f]{20 } ' Gist Redirect Handler '/ [0-9]+|[0-9a-f]{20 } / .* ' Gist Redirect Handler '/gist/ [^\\/]+ /?' User Gists Handler ]
def  have socket alg try s socket socket A F ALG socket S O C K SEQPACKET 0 except Attribute Error O S Error return Falseelse s return True 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def collect master lb hosts message "ettinguphigh Pleaseprovidethe F Q D Nofahostthatwillbeconfiguredasaproxy This H A Proxyinstalledonit Ifthehostprovidedisnotyetconfigured areference H A Proxyload It thisreferenceloadbalancerwillnotbe Itcanbereplacedpost message host props {}def validate prompt lb hostname hostname validate prompt hostname hostname for host in hosts if host to hostname and host master or host node raise click Bad Parameter 'annotre pleasespecifyaseparatehost % hostname return hostnamelb hostname click 'nterhostnameor I Paddress value proc validate prompt lb if lb hostname host props to lb hostnameinstall haproxy click 'houldthereference H A Proxyloadbalancerbeinstalledonthishost host props not install haproxy host props ['master lb Host **host props else return None 
@ensure csrf cookie control no cache True no store True must revalidate True @require level 'staff' @require P O S Tdef mark student can skip entrance exam request course id course id Slash Separated Course Key deprecated string course id student identifier request P O S T 'unique student identifier student get student from identifier student identifier __ created Entrance Exam Configuration or create user student course id course id if created message _ 'hisstudent %s willskiptheentranceexam % student identifier else message _ 'hisstudent %s isalreadyallowedtoskiptheentranceexam % student identifier response payload {'message' message Json Response response payload 
def DEFINE flag flag flag values FLAGS fv flag valuesfv flagif isinstance flag values Flag Values module module name  Get Calling Module Object And Name flag values Register Flag By Module module name flag flag values Register Flag By Module Id id module flag 
def rtu Frame Size buffer byte count pos return struct '>B' buffer count pos [0] + byte count pos + 3
def get openshift version facts version Noneif 'common' in facts if 'version' in facts and facts is not None return chomp commit offset facts if os '/usr/bin/openshift' _ output _ module command ['/usr/bin/openshift' 'version'] version parse openshift version output elif 'common' in facts and 'is containerized in facts version get container openshift version facts if not version and os '/usr/local/bin/openshift' _ output _ module command ['/usr/local/bin/openshift' 'version'] version parse openshift version output return chomp commit offset version 
def identity matrix return numpy 4
def precompute config soups show toc config u toc {} page {}pantsrefs precompute pantsrefs soups for p soup in soups title get title soup or p page Precomputed Page Info title title show toc show toc p True return Precomputed page page pantsref pantsrefs 
def  safe id val utils ascii for bad in '#;/?' val val bad '' return val 
def get item from queue Q timeout 0.01 try item Q True timeout except Queue Empty return Nonereturn item 
def pbkdf2 password salt iterations digest Mod hash passwordfor i in range iterations hash hmac salt hash digest Mod .digest return hash 
def  get filter query args query Q for arg in args if hasattr Message arg and args kwargs {str arg + '  id long args }query query & Q **kwargs return query 
def timedelta to days delta return delta + delta / 3600 * 24
@must be logged indef user choose mailing lists auth **kwargs user auth data escape html request json if json data for list name subscribe in json data if list name settings O S F HELP LIST update osf help mails subscription user user subscribe subscribe else update mailchimp subscription user list name subscribe else raise H T T P Error http B A D REQUEST data dict message long "ustprovideadictionaryoftheformat Boolean user all mailing lists {}all mailing lists user mailing lists all mailing lists user mailing lists return {'message' 'uccessfullyupdatedmailinglists 'result' all mailing lists 200
def get coding text for line in text [ 2] try result CODING R E to text string line except Unicode Decode Error passelse if result codec result 1 if codec in CODECS return codecif is binary string text detector Universal Detector for line in text [ 2] detector line if detector breakdetector return detector None 
def  pval from histogram T H0 tail if tail not in [ -1 0 1] raise Value Error 'invalidtailparameter' if tail -1 pval np [np.sum H0 < t for t in T] elif tail 1 pval np [np.sum H0 > t for t in T] else pval np [np.sum abs H0 > abs t for t in T] pval pval + 1.0 / H0 + 1.0 return pval 
def resolve iterator class mode if isinstance mode six types and mode not in  iteration schemes raise Value Error 'unknowniterationmodestring %s' % mode elif mode in  iteration schemes subset iter class  iteration schemes subset iter class modereturn subset iter class 
def in6 getifaddr ret []i dnet for int in i ifname int []if int key 'alias addrs v6 int addrs a in v6 if a ! dnet A D D R TYPE IP6 continuexx str a .split '/' [0]addr scapy ptop xx scope scapy getscope addr ret xx scope ifname return ret 
def get free disk bytes dirname if platform .lower .startswith 'win' free bytes ctypes ulonglong 0 ctypes Get Disk Free Space Ex W ctypes wchar p dirname None None ctypes free bytes return free bytes st os dirname return st bavail * st frsize 
@local optimizer [gemm no inplace def local gemm to gemv node if node gemm no inplace z a x y b node z x True False r gemv no inplace z 1 a y T x 1 b return [r.dimshuffle 'x' 0 ]if z y False True r gemv no inplace z 0 a x y 0 b return [r.dimshuffle 0 'x' ]
def ae delete token key import gdata enginekey name ''.join 'gd auth token token key gdata engine token key name 
def merge dict dic1 dic2 return dict dic1 + dic2 
def create exception cls name module parent None if not parent parent Exceptionreturn subclass exception name parent module 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def scale bem subject to bem name subject from None scale None subjects dir None subjects dir subject from scale nn scale  scale params subject to subject from scale subjects dir src bem fname subjects dir subjects dir subject subject from name bem name dst bem fname subjects dir subjects dir subject subject to name bem name if os dst raise I O Error 'ilealredyexists %s' % dst surfs read bem surfaces src for surf in surfs surf * scaleif nn scale is not None surf * nn scalesurf / np np surf ** 2 1 [ np bem surfaces dst surfs 
def check member pool lb member pool name if   opts  ['load balancers lb None username password list   opts  ['load balancers else raise Exception 'nabletofind lb F5 F5 Mgmt lb username password return F5 member pool member pool name 
def  reconstruct object typ obj axes dtype try typ typ Attribute Error passres t np type obj dtype if not isinstance typ partial and issubclass typ pd Pandas Object return typ obj dtype res t **axes if hasattr res t 'type' and typ np  and res t ! np  ret value res t obj else ret value typ obj .astype res t if len obj 1 and len obj 1 if not isinstance ret value np ret value np [ret value .astype res t return ret value 
def attach generated user stories queryset as field 'generated user stories attr model queryset ' E L E C Tjson agg row to json t \ R O M \ E L E C T userstory \nuserstories userstory \nuserstories userstory F R O Muserstories userstory W H E R Egenerated from issue id {tbl}.id t sql tbl model meta table queryset queryset select {as field sql return queryset 
def edge betweenness centrality G k None normalized True weight None seed None betweenness dict G 0.0 betweenness dict G 0.0 if k is None nodes Gelse random seed nodes random G k for s in nodes if weight is None S P sigma  single source shortest path basic G s else S P sigma  single source dijkstra path basic G s weight betweenness  accumulate edges betweenness S P sigma s for n in G del betweenness  rescale e betweenness len G normalized normalized directed G directed return betweenness 
def rshift a b return a >> b 
def save flavor info metadata instance type prefix '' for key in system metadata flavor props to key '%sinstance type %s' % prefix key metadata key instance type specs instance type 'extra specs {} for extra prefix in system metadata flavor extra props for key in extra specs if key extra prefix to key '%sinstance type extra %s' % prefix key metadata key extra specs metadata 
@np.deprecate message 'stats.f valuedeprecatedinscipy0 def f value ER EF df R df F return ER - EF / float df R - df F / EF / float df F 
def  init readline if g line returnif has readline g R E A D L I N E FILE os paths config dir 'input history if os g R E A D L I N E FILE readline history file g R E A D L I N E FILE dbg c + 'eadhistoryfile + c 
def unhex s bits 0for c in s c bytes c if '0' < c < '9' i ord '0' elif 'a' < c < 'f' i ord 'a' - 10 elif 'A' < c < 'F' i ord 'A' - 10 else assert False 'non-hexdigit' + repr c bits bits * 16 + ord c - i return bits 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  handle interrupt exc original exc hardfail False trace '' if hardfail if trace log trace raise original excelse raise exc 
def max I D db now int Time 1000 for tbl in 'cards' 'notes' now max now db 'selectmax id from % tbl or 0 return now + 1
@with setup prepare stderr def test feature missing scenarios filename syntax feature name 'feature missing scenarios runner Runner filename assert raises Lettuce Runner Error runner assert stderr lines u Syntaxerrorat %eaturesmusthavescenarios Pleaserefertothedocumentationavailableathttp //lettuce.itformoreinformation.\n' % filename 
def concatenate matrices *matrices M numpy 4 for i in matrices M numpy M i return M
def Make Hists live hist thinkstats2 Hist live lb label 'birthwgt lb thinkplot Hist hist thinkplot Save root 'first wgt lb hist xlabel 'pounds' ylabel 'frequency' axis [ -1 14 0 3200] hist thinkstats2 Hist live oz label 'birthwgt oz thinkplot Hist hist thinkplot Save root 'first wgt oz hist xlabel 'ounces' ylabel 'frequency' axis [ -1 16 0 1200] hist thinkstats2 Hist np live label 'agepreg' thinkplot Hist hist thinkplot Save root 'first agepreg hist xlabel 'years' ylabel 'frequency' hist thinkstats2 Hist live label 'prglngth' thinkplot Hist hist thinkplot Save root 'first prglngth hist xlabel 'weeks' ylabel 'frequency' axis [ -1 53 0 5000]
def test nested mlp inner mlp MLP layers [inear 10 'h0' 0.1 Linear 10 'h1' 0.1 ] layer name 'inner mlp outer mlp MLP layers [omposite Layer layer name 'composite' layers [inner mlp Linear 10 'h2' 0.1 ] ] nvis 10 X outer mlp input space .make theano batch f theano [X] outer mlp X f np 5 10 .astype theano X 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def test dataset validation k fold skip if no sklearn mapping {'dataset iterator 'ataset Validation K Fold yaml test yaml dataset iterator % mapping trainer yaml parse test yaml trainer loop 
def format exception msg *args **kwargs tb traceback tb sys info [2] limit 1 if len tb > 0 filename lineno func text tb filename lineno func text u msg filename filename lineno lineno func func text text *args **kwargs
@taskdef linkcheck ctx build ctx builder 'linkcheck'
@check login required prefs requireddef root request local site name None if request authenticated url name u url name u Http Response Redirect local site reverse url name local site name local site name 
def  auto create specific service result parser run utils result parser  result parsers name of init run ]command list [c for c in COMMANDS if c not in ['list' 'set target ]return  Service Result Parser result parser command list 
def get pending reboot checks get pending update get pending file rename get pending servermanager get pending component servicing get reboot required witnessed get pending computer name get pending domain join for check in checks if check return Truereturn False 
def  structure msg fp None level 0 include default False if fp is None fp sys '' * level * 4 print >>fp tab + msg content type if include default print >>fp '[%s]' % msg default type else print >>fpif msg multipart for subpart in msg payload  structure subpart fp level + 1 include default 
def smarty Pants text attr default smartypants attr language 'en' return ''.join [t for t in educate tokens tokenize text attr language ]
def test deep bases win over dependents dsk {'a' f 'b' 'c' 'd' 'b' f 'd' 'e' 'c' f 'd' 'd' 1 'e' 2}o order dsk assert o < o assert o < o or o < o 
def render to response *args **kwargs httpresponse kwargs {'content type kwargs 'content type None }mimetype kwargs 'mimetype' None if mimetype warnings 'hemimetypekeywordargumentisdeprecated usecontent typeinstead Pending Deprecation Warning stacklevel 2 httpresponse kwargs type mimetypereturn Http Response loader to string *args **kwargs **httpresponse kwargs 
def build alpha spans alpha spans str alpha regexs spans []for elem in alpha spans str if elem in alpha regexs spans re alpha regexs else bucket sorted [x for x in elem if x ] if bucket begin index ASCII D I G I T S bucket end index ASCII D I G I T S bucket -1 ] else raise ui User Error u noalphanumericcharacterfound % elem spans re '^[' + ASCII D I G I T S index end index + 1 ] + ASCII D I G I T S index end index + 1 ].upper + ']' return spans 
def validate config config del config C O N F P L A T F O R M CONF NAME not in config  L O G G E R 'niversal Media Playerconfigurationrequiresname return Falsevalidate children config validate commands config validate attributes config del keys []for key in config if key not in [CONF NAME CONF CHILDREN CONF COMMANDS CONF ATTRS]  L O G G E R 'niversal Media Player %s unrecognizedparameter config C O N F NAME] key del keys key for key in del keys del config True 
def  get head types pat if isinstance pat pytree Node Pattern pytree Leaf Pattern if pat is None raise  Every Nodereturn set [pat.type] if isinstance pat pytree Negated Pattern if pat return  get head types pat raise  Every Nodeif isinstance pat pytree Wildcard Pattern r set for p in pat for x in p r  get head types x return rraise Exception "hno Idon % pat 
def  minpoly rootof ex x p ex p {ex.poly.gens[0] x _ factors factor list p x result  choose factor factors x ex return result 
def Triangular name a b c return rv name Triangular Distribution a b c 
def read uic image property fh size struct 'B' fh 1 [0]name struct '%is' % size fh size [0][ -1 ] flags prop struct '<IB' fh 5 if prop 1 value struct 'II' fh 8 value value / value else size struct 'B' fh 1 [0]value struct '%is' % size fh size [0]return dict name name flags flags value value 
def configure node cluster node certnkey dataset backend configuration provider logging config None setup action 'start'if provider 'managed' setup action 'restart'return run remotely username 'root' address node commands sequence [task install node certificates cluster certnkey certnkey task install api certificates cluster cluster task enable docker node if firewall available node open firewall for docker api node task configure flocker agent control node cluster node dataset backend cluster backend dataset backend configuration dataset backend configuration logging config logging config task enable docker plugin node task enable flocker agent distribution node action setup action ]
@np.deprecate message 'scipy.stats.fastsortisdeprecatedinscipy0.16.0' def fastsort a it np a as  a as  it 
def maxzero x x np x cond1 x -1 ] < 0 cond2 x ] > 0 allzeros np cond1 & cond2 | x ] 0 [0] + 1 if x -1 ] > 0 maxz max allzeros else maxz Nonereturn maxz allzeros 
def list cache subnet groups region None key None keyid None profile None return [ache Subnet Group Name for g in describe cache subnet groups None region key keyid profile ]
def prepend path newpath oldpath if oldpath return newpath + ' ' + oldpath else return newpath 
@login required redirect False @json view atomic requestsdef ajax request if 'q' not in request G E T raise http Http404 data {'status' 0 'message' ''}email request G E T 'q' '' .strip if not email data message _ 'nemailaddressisrequired return datauser User Profile email email msg _ 'userwiththatemailaddressdoesnotexist if user data status 1 id user name user else data msgreturn escape all data 
def restore ccx val ccx id if isinstance val Course Locator return C C X Locator course locator val ccx id elif isinstance val Block Usage Locator ccx key restore ccx val key ccx id val C C X Block Usage Locator ccx key val type val id for field name in XMODULE FIELDS WITH USAGE KEYS if hasattr val field name setattr val field name restore ccx getattr val field name ccx id if hasattr val 'children' val restore ccx collection val ccx id return val 
def ishow for manager in Gcf all fig managers manager if show needmain thread new thread Fltk run interactive show needmain False 
def is shared variable variable return isinstance variable Shared Variable and not isinstance variable Random State Shared Variable and not hasattr variable 'is rng 
def test suggested column names with table dot completer complete event text u S E L E C Tusers len u S E L E C Tusers result set completer completions Document text text cursor position position complete event assert set result set testdata u 
def needs sgemv fix info if uses accelerate info return Trueelse return False 
def scaled zero mag sign 1 if type mag is tuple and len mag 4 and iszero mag scaled True return mag + mag ] elif isinstance mag SYMPY INTS if sign not in [ -1 1] raise Value Error 'signmustbe+/-1' rv p mpf shift fone mag -1 s 0 if sign 1 else 1 rv [s] + rv ] return rv p else raise Value Error 'scaledzeroexpectsintorscaled zerotuple 
def restore defaults top level logger logging Logger   name  .split '.' [0] top level logger Truetop level logger Level logging N O T S E T while top level logger top level logger 
def demangle name name mode if name '.bupl' return name -5 ] BUP NORMAL elif name '.bup' return name -4 ] BUP CHUNKED elif name '.bupm' return name -5 ] BUP CHUNKED if stat S ISDIR mode else BUP NORMAL else return name BUP NORMAL
def menu prompt model prompt '>' rows None header None theading None footer None force 0 content ''for x in header theading rows footer if isinstance x list for line in x content + line + '\n' elif isinstance x str content + x + '\n' g contentscreen choice input prompt if choice in model return model force return menu prompt model prompt rows header theading footer force elif not choice return False False else return False 'abort'
def test parse focus arg str 'id with no annotation output {'id' 'id with no annotation 'annotation' ''}actual output screenshot parse focus arg str assert equal expected output actual output arg str 'id with annotation output {'id' 'id with annotation 'annotation' 'testannotation'}actual output screenshot parse focus arg str assert equal expected output actual output 
def Maybe Invoke Authentication datastore stub apiproxy stub map Get Stub 'datastore v3 if isinstance datastore stub Remote Stub datastore stub server Send datastore stub path payload None else raise Configuration Error 'remote apiisnotconfigured 
def  Bisect Hash List ls left right value if right < left return Noneif left right return ls left + right - left / 2 middleval ls middleval middleval start < value < end return middlevalif value > end return  Bisect Hash List ls middle + 1 right value if value < start return  Bisect Hash List ls left middle - 1 value 
def test cache call signatures def check column call name path None assert jedi Script s 1 column path .call signatures [0].name call name s 'str int 'for i in range 3 check 8 'int' check 4 'str' for i in range 3 check 8 'int' 'boo' check 4 'str' 'boo'
def loadhook h def processor handler h return handler return processor 
def set errout fp import commandsif fp commands E R R fpelse commands E R R sys 
def execute directly request query query server None design None on success url None on success params None **kwargs if design is not None authorized get design request design db dbms request query server database query 'database' 'default' db database query history db query query design watch url reverse get app name request + ' watch query history kwargs {'query history id query history get dict Query Dict None mutable True if on success url if callable on success url on success url on success url query history get dict success url on success urlif on success params get dict on success params return format preserving redirect request watch url get dict 
def test exception in exception handler exception app request response sanic endpoint test exception app uri '/error in error handler handler assert response 500 assert response 'nerroroccurredwhilehandlinganerror 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def  non reducing slice slice  kinds tuple list compat types + [ B C Series np Index list if isinstance slice  kinds slice  Index Slice slice ]def pred part return isinstance part slice or is list like part if not is list like slice  if not isinstance slice  slice slice  [[slice ]]else slice  [slice ]else slice  [ part if pred part else [part] for part in slice ]return tuple slice 
def test module is active module get pricing module assert isinstance module Customer Group Pricing Module 
def gluechops string key n funcref message ''chops decode64chops string for cpart in chops mpart funcref cpart key n message + int2bytes mpart return message 
def read cz lsm time stamps fh size count struct '<ii' fh 8 if size ! 8 + 8 * count raise Value Error 'lsm time stampsblockistooshort return fh array '<f8' count count 
def scan postfix submission line date log collector m re ' [A-Z0-9]+ client \\S+ sasl method PLAIN sasl username \\S+ ' log if m collector + 1
def test get words java expected words [ompilation 'xecution 'ello 'ello World 'rints 'tring 'ystem 'orld 'args' 'class' 'java' 'javac' 'main' 'out' 'println' 'public' 'static' 'terminal' 'the' 'to' 'void' 'window']assert sorted expected words sorted get words by filename 'example.java' assert sorted expected words sorted get words by content 'example.java'
def mm Information Network Name presence 0 Network Name presence1 0 Time Zone presence 0 Time Zone And Time presence 0 Lsa Identifier presence 0 a Tp Pd pd 5 b Message Type mes Type 50 packet a / b if Network Name presence is 1 c Network Name Hdr iei N N 67 eight Bit N N 0 packet packet / c if Network Name presence1 is 1 d Network Name Hdr iei N N 69 eight Bit N N 0 packet packet / d if Time Zone presence is 1 e Time Zone Hdr iei T Z 70 eight Bit T Z 0 packet packet / e if Time Zone And Time presence is 1 f Time Zone And Time Hdr iei T Z A T 71 eight Bit T Z A T 0 packet packet / f if Lsa Identifier presence is 1 g Lsa Identifier Hdr iei L I 72 eight Bit L I 0 packet packet / g return packet 
@lru cache 1 def  extract containers state deployment state result []for node in deployment state applications if node is not None applications node for application in applications container container configuration response application node container application container return result 
def  label clicked pos params labels params ticklabels offsets np params + params line idx np offsets pos text labels idx text if len text 0 returnif 'fig selection in params ch idx  find channel idx text params  handle topomap bads text params else ch idx [ params start + line idx ]bads params text in bads while text in bads bads text color vars params idx ['def color idx in ch idx params vscroll color color else bads text color params color idx in ch idx params vscroll color color params bads plot update raw proj params None 
def make auth tkt middleware app global conf secret None cookie name 'auth tkt secure False include ip True logout path None from paste import asboolsecure asbool secure include ip asbool include ip if secret is None secret global conf 'secret' if not secret raise Value Error "oumustprovidea inglobalorlocalconfiguration " return Auth T K T Middleware app secret cookie name secure include ip logout path or None 
def make arrow pad if pad > 2 return '-' * pad - 2 + '>' elif pad 1 return '>'return ''
def eval str expr from datetime import date datetimeif isinstance expr date datetime return repr expr return repr expr if isinstance expr  strtypes else str expr 
def summarize text ratio 0.2 word count None split False sentences  clean text by sentences text if len sentences 0 logger 'nputtextisempty returnif len sentences 1 raise Value Error 'inputmusthavemorethanonesentence' if len sentences < INPUT MIN LENGTH logger 'nputtextisexpectedtohaveatleast + str INPUT MIN LENGTH + 'sentences.' corpus  build corpus sentences most important docs summarize corpus corpus ratio ratio if word count is None else 1 extracted sentences  extract important sentences sentences corpus most important docs word count extracted sentences key lambda s s return  format results extracted sentences split 
def iterate obj opts stack deque [obj] while stack t stack yield t for c in t children **opts stack c 
def disk block size path return os path .f bsize 
def function namespace f args None m args inspect f [0]if len m args and args if m args 'self' return '%s.%s.%s' % f  module   args  class  .  name   f  name   elif m args 'cls' return '%s.%s.%s' % f  module   args  name   f  name   if hasattr f 'im func return '%s.%s.%s' % f  module   f class  name   f  name   elif hasattr f '  class  ' return '%s.%s.%s' % f  module   f  class  .  name   f  name   else return '%s.%s' % f  module   f  name  
def is numeric v string like a b is a array isinstance a np is b array isinstance b np is a numeric array is a array and is numeric dtype a is b numeric array is b array and is numeric dtype b is a string array is a array and is string like dtype a is b string array is b array and is string like dtype b is a scalar string like not is a array and is string like a is b scalar string like not is b array and is string like b return is a numeric array and is b scalar string like or is b numeric array and is a scalar string like or is a numeric array and is b string array or is b numeric array and is a string array 
def timecall fn None immediate True timer time if fn is None def decorator fn return timecall fn immediate immediate timer timer return decoratorfp Func Timer fn immediate immediate timer timer def new fn *args **kw return fp *args **kw new fn  doc   fn  doc  new fn  name   fn  name  new fn  dict   fn  dict  new fn  module   fn  module  return new fn 
def process summary article summary article get summary summary parsed Beautiful Soup summary 'html.parser' math summary parsed all class  'math' if len math > 0 last math text math -1 ].get text if len last math text > 3 and last math text -3 ] '...' content parsed Beautiful Soup article content 'html.parser' full text content parsed all class  'math' [ len math - 1 ].get text math -1 ].string '%s...' % full text summary summary parsed article summary "%s<scripttype 'text/javascript'>%s</script>" % summary process summary script 
def shift time events events ids tshift sfreq events events for ii in ids events events 2] ii 0 ] + int tshift * sfreq return events 
def resourcebase post save instance *args **kwargs if not instance return Resource Base id instance .update thumbnail url instance thumbnail url detail url instance absolute url csw insert date datetime instance missing info for link in instance set if link 'xternal Document if link url ! link link elif urlsplit settings S I T E U R L .hostname not in link link 
def symbol gen sym str n 0while True yield Symbol '%s %d' % sym str n n + 1
def event return events opts  get options {} opts Truefor event in events log 'arbonreturnerreceivedevent {0}'.format event metric base event event 'data'  send saltdata metric base opts 
def set effective user uid None gid None uid uid and parse uid uid gid gid and parse gid gid if uid if not gid and pwd gid pwd uid .pw gidsetegid gid seteuid uid else gid and setegid gid 
@np.deprecate message 'scipy.special.sph knisdeprecatedinscipy0 Usescipy kninstead Notethatthenewfunctionhasadifferentsignature def sph kn n z if not isscalar n and isscalar z raise Value Error 'argumentsmustbescalars.' if n ! floor n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n < 1 n1 1else n1 nif iscomplex z or less z 0 nm In Inp kn knp specfun n1 z else nm kn knp specfun n1 z return kn n + 1 ] knp n + 1 ]
def run  task 
def delete documents from search index collection ids search services documents from index collection ids SEARCH INDEX COLLECTIONS
def decode Base58 string alphabet ALPHABET base len alphabet num 0try for char in string num * basenum + alphabet char except return 0return num 
def env purge doc app env docname if docname in env plot files del env plot files 
def get course position course module urlargs {'course id unicode course module }chapter get current child course module min depth 1 if chapter is None log 'ochapterfoundwhenloadingcurrentpositionincourse return Noneurlargs chapter nameif course module is not None return {'display name chapter name with default escaped 'url' reverse 'courseware chapter kwargs urlargs }section get current child chapter min depth 1 if section is None log 'osectionfoundwhenloadingcurrentpositionincourse return Noneurlargs section namereturn {'display name section name with default escaped 'url' reverse 'courseware section kwargs urlargs }
def on Fini INFO MSG 'ini '
def get role policy role name policy name region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile try  policy conn role policy role name policy name  policy  policy role policy response document policy  unquote  policy  policy json  policy object pairs hook odict Ordered Dict return  policyexcept boto Boto Server Error return {}
def check update github slug current version prereleases False releases get valid releases github slug prereleases wf .logger.info u len releases github slug if not len releases raise Value Error u Novalidreleasesfor github slug latest release releases Version latest release vl Version current version wf .logger.debug u Latest {nstalled {1!r}'.format vr vl if vr > vl wf .cache data u  workflow update status {u'version' latest release u url latest release url u True return Truewf .cache data u  workflow update status {u'available' False return False 
def coerce types **kwargs def  coerce types return coerce *types return preprocess **valmap  coerce kwargs 
def attachment specs delete context attachment id key return I M P L specs delete context attachment id key 
def  load lexers module name mod   import   module name None None ['  all  '] for lexer name in mod  all   cls getattr mod lexer name  lexer cache cls 
def translate attributes op server dict operation kwargs auto disk config raw server dict API DISK CONFIG None if auto disk config raw is not None auto disk config disk config from api auto disk config raw operation kwargs disk config auto disk configif API ACCESS V4 in server dict operation kwargs ip v4 server dict API ACCESS V4 if API ACCESS V6 in server dict operation kwargs ip v6 server dict API ACCESS V6 if 'preserve ephemeral in server dict and op REBUILD preserve strutils from string server dict 'preserve ephemeral strict True operation kwargs ephemeral preserveif 'personality' in server dict if op REBUILD operation kwargs to inject get injected files server dict 'personality' if op CREATE operation kwargs files get injected files server dict 'personality' []
def s3 cleanup bucket session region 'us-west-2'client session client 's3' region name region try client bucket Bucket bucket except Client Error returnresponse client objects Bucket bucket contents response 'ontents {} keys [ey for content in contents key in keys client object Bucket bucket Key key client bucket Bucket bucket 
def confirm title text informative text ok text icon None default True cancel text None cancel icon None msgbox Qt Widgets Q Message Box active window msgbox Window Modality Qt Window Modal msgbox Window Title title msgbox Text text msgbox Informative Text informative text icon icons icon icons ok msgbox Button ok text Qt Widgets Q Message Box Action Role ok Icon icon cancel msgbox Button Qt Widgets Q Message Box Cancel cancel icon icons cancel icon icons cancel Icon cancel icon if cancel text cancel Text cancel text if default msgbox Default Button ok else msgbox Default Button cancel msgbox  return msgbox Button ok 
def Parse Integer text is signed False is long False try result int text 0 except Value Error raise Value Error "ouldn %s" % text checker  INTEGER CHECKERS[ 2 * int is long + int is signed ]heck Value result return result 
@app.template filter 'as timezone def as timezone dt tzname if tzname and timezone tzname return dt timezone tzname return dt 
def call alert *args **kwargs res dict devices  get lights for dev id in 'id' not in kwargs and sorted devices or  get devices kwargs res id  set dev id {'alert' kwargs 'on' True and 'lselect' or 'none' } return res 
def  override Func v t return 'OVERRIDDEN'
def list images provider 'all' client  get client images client images provider return images 
def imtext from .ansiext import Ansi Extensionmd Markdown output format 'imtext' extensions [xtra Extension Ansi Extension ] md Top Level Tags Falsereturn md 
def expect warn type message for filter in  warnings if filter 'ignore' and issubclass warn type filter return E X P E C T E D ' ' + warn type  name   + ' ' + message + '\n'
def test nvcc cast var theano f theano [var] -1.0 * var > 0 mode mode with gpu if not numpy f [ -1 0 1] [0 0 -1 ] raise Exception 'heversionofnvccthat Theanodetectedonyoursystemhasabugduringconversionfromintegerstofloatingpoint Installing C U D A7 ormorerecent shouldfixtheproblem 
def  generate path between rules old rules new rules old by chain  get rules by chain old rules new by chain  get rules by chain new rules old chains new chains set old by chain set new by chain statements [ ' %s-[0 0]' % c for c in sorted new chains - old chains ]sg chains []other chains []for chain in sorted old chains | new chains if '-sg-' in chain sg chains chain else other chains chain for chain in other chains + sg chains statements +  generate chain diff iptables commands chain old by chain new by chain for chain in sorted old chains - new chains statements + [ ' % chain ]return statements 
def get info app env account container None swift source None env 'swift.infocache' {} if container path '/v1/%s/%s' % account container path env env path env P A T H INFO'] pathreturn get container info path env app swift source swift source else path '/v1/%s' % account path env env path env P A T H INFO'] pathreturn get account info path env app swift source swift source 
def abstract func def wrapper *  args **  kw raise Not Implemented Error 'issingrequired method % func  name   wrapper  name   func  name  wrapper  dict   func  dict  wrapper  doc   func  doc  return wrapper 
def get latest gce image for distribution distribution compute return GCE DISTRIBUTION TO IMAGE M A P active image compute [ink 
def trigger hass event value1 None value2 None value3 None data {ATTR EVENT event ATTR VALUE1 value1 ATTR VALUE2 value2 ATTR VALUE3 value3 DOMAIN SERVICE TRIGGER data 
def  size fmt num try num int num if num < 1024 return '{0}bytes'.format num num / 1024.0for unit in 'i B 'i B 'i B 'i B 'i B if num < 1024.0 return '{0 3.1f}{1}'.format num unit num / 1024.0except Exception log "nabletoformatfilesizefor num return 'unknown'
def run dummy heroku worker sandbox  imminent shutdown delay sys open os sandbox u u class Test Heroku Worker Heroku Worker imminent shutdown delay  imminent shutdown delaydef perform job self job queue create file os sandbox u for i in range 20 time 0.1 create file os sandbox u w Test Heroku Worker Queue u w work horse None None 
def latency echo url count poll copy ctx zmq Context s ctx zmq R E P if poll p zmq Poller p s s url block zmq N O B L O C K if poll else 0 for i in range count if poll res p msg s block copy copy if poll res p s msg block copy copy msg s assert msg 'done' s ctx 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def decode from s3 string errors 'replace' if type string unicode return stringtry return unicode string 'UTF-8' errors except Unicode Decode Error raise Unicode Decode Error 'onversiontounicodefailed %r' % string 
@then u def step it should pass with context assert context is not None 'ENSURE multilinetextisprovided command output should contain context assert that context result equal to 0 context result 
def From String s more formatters lambda x None  constructor None f String I O String I O s return From File f more formatters more formatters  constructor  constructor 
def test replace column qtable a [1 2 3] * u b [4 5 6]t table Q Table [a b names ['a' 'b'] ta t t {'aa' [0 1 2 3 4]}ta.info.format '%f't.replace column 'a' a 'cm' assert np t ta assert t is not ta assert t is tb assert t ['a' 'b'] assert t is None assert t is None 
@frappe.whitelist def get start end dates payroll frequency start date None company None if payroll frequency u Monthly or payroll frequency u Bimonthly or payroll frequency u fiscal year get fiscal year start date company company [0]month u % getdate start date .month m get month details fiscal year month if payroll frequency u Bimonthly if getdate start date .day < 15 start date m start date date m mid end date start date m mid start date date m end date start date m start date date m end date payroll frequency u Weekly end date add days start date 6 if payroll frequency u Fortnightly end date add days start date 13 if payroll frequency u Daily end date start datereturn frappe dict {u'start date start date u date end date 
def from openid response openid response issued int time sreg resp sreg S Reg Response Success Response openid response or [] ax resp ax Fetch Response Success Response openid response ax args {}if ax resp is not None ax args ax resp Extension Args ax resp Extension Args ax args ax args ax resp Open I D openid response url issued openid response fields dict sreg resp ax args 
@with setup step runner environ def test steps that match groups and named groups takes just named as params @step ' he getsa ? ' def given action named step what assert equals what 'caipirinha' f Feature string FEATURE6 feature result f scenario result feature result results equals len scenario result passed 1 assert equals scenario result steps 1
def make rpm version flocker version parsed version parse version flocker version installable parsed version releaseif is pre release installable release ['0' 'rc' parsed version release is weekly release installable release ['0' 'dev' parsed version release release ['1']if parsed version count is not None release + [parsed version count 'g' + parsed version hash ]if parsed version release 'dirty' return R P M Version version parsed version release '.'.join release 
def xthreaded func return threaded factory func False 
def read forward solution meg *args **kwargs fwd read forward solution *args **kwargs fwd pick types forward fwd meg True eeg False return fwd 
def test strf index ea ea ' strftime index Truestart ts to dt '2015-01-02T12 34 45Z' end ts to dt '2015-01-02T16 15 14Z' assert ea index ea start end 'logstash-2015.01.02' end ts to dt '2015-01-03T01 02 03Z' assert ea index ea start end 'logstash-2015.01.02 logstash assert ea index ea 'logstash-*' ea ' ea index ea 'logstash-*' ea ' ea index ea 'logstash-*-stuff'
def get ip port afi host and port str host and port str host and port str if host and port str '[' af socket A F INET6 host rest host and port str ].split ']' if rest port int rest ] else port DEFAULT KAFKA P O R Treturn host port af elif ' ' not in host and port str af  address family host and port str return host and port str DEFAULT KAFKA PORT af else try socket pton socket A F INET6 host and port str return host and port str DEFAULT KAFKA PORT socket A F INET6 except Attribute Error log 'socket.inet ptonnotavailableonthisplatform inet pton passexcept Value Error socket pass host port host and port str ' ' 1 port int port af  address family host return host port af 
def get access token uncached scopes deadline None service account id None rpc create rpc deadline make get access token call rpc scopes service account id service account id rpc return rpc result 
def list nodes select call None return salt nodes select list nodes full 'function'   opts  ['query.selection'] call 
def T3 ds count timeperiod - 2 ** 31 vfactor -4e+37 return call talib with ds ds count talib T3 timeperiod vfactor 
def select directory paths if not paths return core for path in paths if core path return pathreturn os paths 
def resource def prep r if r if r in 'create' 'update' table r id get vars ' location ' None if location id field table idfield location idfield field Falseorganisation id get vars ' organisation ' None if organisation id field table idfield organisation idfield field Falsereturn Trues3 prepreturn s3 rest controller 
def can do meijer a1 a2 b1 b2 numeric True from sympy import unpolarify expandr hyperexpand meijerg a1 a2 b1 b2 z if r meijerg return Falser unpolarify expand r force True power base True power exp False mul False log False multinomial False basic False if not numeric return Truerepl {}for n a in enumerate meijerg a1 a2 b1 b2 z .free symbols - {z} repl randcplx n return tn meijerg a1 a2 b1 b2 z .subs repl r repl z 
def  keystone client context version 3 0 auth plugin identity Token auth url C O N F authtoken uri token context token project id context id client session ka loading Session .load from options auth auth plugin insecure C O N F authtoken cacert C O N F authtoken key C O N F authtoken cert C O N F authtoken return client Client auth url C O N F authtoken uri session client session version version 
def l2 projection f basis lim r 0for b in basis r + l2 inner product f b lim * b return r 
def is ip addr value if not isinstance value string type raise Vdt Type Error value value value try dotted Quad To Num value except Value Error raise Vdt Value Error value return value 
def get Area Loop Absolute loop return abs get Area Loop loop 
def has isoread return has userland tool 'iso-read'
def set unittest reportflags flags global  unittest reportflagsif flags & REPORTING FLAGS ! flags raise Value Error 'nlyreportingflagsallowed flags old  unittest reportflags unittest reportflags flagsreturn old 
def enforce shopping cart enabled func def func wrapper *args **kwargs 'rapperfunctionthatdoestheenforcementthat not is shopping cart enabled raise Http404return func *args **kwargs return func wrapper 
def key subtitles subtitle video languages services order key ''for sort item in order if sort item LANGUAGE INDEX key + '{0 03d}'.format len languages - languages subtitle - 1 key + '{0 01d}'.format subtitle languages subtitle ] elif sort item SERVICE INDEX key + '{0 02d}'.format len services - services subtitle - 1 elif sort item SERVICE CONFIDENCE key + '{0 04d}'.format int subtitle * 1000 elif sort item MATCHING CONFIDENCE confidence 0if subtitle confidence matching confidence video subtitle key + '{0 04d}'.format int confidence * 1000 return int key 
def cut after node levels removed if levels 0 removed node node []else removed local []for child in node if child cut after child levels - 1 removed else removed local child for removed child in removed local node removed child removed removed local 
def mul shapes lh shape rh shape if lh shape 1 1 return rh shapeelif rh shape 1 1 return lh shapeelse if lh shape ! rh shape raise Value Error 'ncompatibledimensions % lh shape rh shape return lh shape rh shape 
def constructor args class  *args **kwargs argspec inspect  constructor class  return argspec args argspec True *args **kwargs
def validate arguments func args kwargs drop extra True parser  parse signature func args kwargs missing extra extra positional parser args kwargs [ 5]if missing raise Argument Validation Error tuple missing elif extra or extra positional and not drop extra raise Argument Validation Error None extra extra positional return tuple args kwargs 
def test install from local directory with symlinks to directories script data to install data 'symlinks' result script 'install' to install expect error False pkg folder script packages / 'symlinks' egg info folder script packages / 'symlinks-0.1.dev0-py%s.egg-info' % pyversion assert pkg folder in result created str result assert egg info folder in result created str result 
def  get gpg exec gpg exec salt 'gpg' if gpg exec return gpg execelse raise Salt Render Error ' P Gunavailable 
def iternext impl func def wrapper context builder sig args pair type sig typepairobj context helper builder pair type func context builder sig args  Iternext Result context builder pairobj return impl ret borrowed context builder pair type pairobj getvalue return wrapper 
def serialize Object object  return base64pickle object 
def potential energy *body pe sys S 0 for e in body if isinstance e Rigid Body Particle pe sys + e energyelse raise Type Error 'articleor Rigid Body return pe sys 
def deepcopy x try return  deepcopy dispatch x ] x except Key Error raise Error 'nsupportedtype Usecopy + 'orexpandsimple copysupport % type x 
def get bban from iban iban return normalize iban iban [4 ]
def xml add items data try xml ''.join [xml item item for item in data I T E M S except xml xml dict data return xml 
def vsplit ary indices or sections if ary < 1 raise Value Error 'annotvsplitanarraywithlessthan2dimensions return split ary indices or sections 0
def subtest nocleanup function def wrapped self *args **kwds self cleanup Falseself result function self *args **kwds return resultwrapped name function namereturn wrapped 
def entry from named pair register pairs key results register pairs 'results' if results is None raise Runtime Error "hedictargumentdoesnothavea Mustnothavebeencreatedusing for result in results item result 'item' if item is not None name item 'name' if name key return result Runtime Error 'herewasnoentryfoundinthedictthathadanitemwithanamethatmatched key 
def service location return s3 rest controller 
def get dims x if isinstance x float or isinstance x int return []elif isinstance x tf Tensor or isinstance x tf Variable return x shape .as list elif isinstance x np return list x elif isinstance x Random Variable return x batch shape .as list else raise Not Implemented Error 
def  pmap model klass record {u'category' u u {u'key' sorted fqpn cls for cls in klass checked key types u sorted fqpn cls for cls in klass checked value types }}further classes set for cls in klass checked key types + klass checked value types further classes cls return record further classes 
def finish common config encoding common config encoding encoding default top theme get default theme encoding u or encoding u common config common config common config u top theme default top theme common config u [] common config u u common config u level u W A R N I N G common config u format u asctime s % levelname s % message s common config u truecolor False common config u escape style u common config u 1 common config u escapes None common config u config True common config u None common config u file [one if not isinstance common config file list common config file [common config file config [os.path.expanduser path for path in common config common config 
def migrate up manager if db utils tables exist manager management environ settings from django import management as content managementfrom django import management as auth managementfrom django import models as db modelscontent management all contenttypes for app in db models apps auth management permissions app None 2 manager script migration 059.UP SQL
def www authenticate realm key algorithm 'MD5' nonce None qop qop auth stale False if qop not in valid qops raise Value Error "nsupportedvalueforqop '%s'" % qop if algorithm not in valid algorithms raise Value Error "nsupportedvalueforalgorithm '%s'" % algorithm if nonce is None nonce synthesize nonce realm key s 'igestrealm "%s" nonce "%s" algorithm "%s" qop "%s"' % realm nonce algorithm qop if stale s + ' stale "true"'return s 
def p unary expression 3 t pass 
def get configuration errors return cache u []
def get needs reboot return salt update reboot 
def set virt pxe boot self num try inum int num if inum 0 or inum 1 self pxe boot inumreturnraise CX _ "invalidvirt pxe bootvalue %s valuemustbeeither disabled or enabled " % inum except raise CX _ "invalidvirt pxe bootvalue %s valuemustbeeither disabled or enabled " % num 
def check slug list name try owner slug list name '/' if slug '@' slug slug ]return owner slug except print Nicely light magenta 'istnameshouldfollow name raise Exception 'ronglistname 
def search reverse prog chars col m prog chars if not m return Nonefound None i j m while i < col and j < col found mif i j j j + 1 m prog chars j if not m break i j m return found 
def get project request project skip acl False project get object or 404 Project slug project if not skip acl project acl request return project 
def migration get unconfirmed by dest compute context confirm window dest compute return I M P L get unconfirmed by dest compute context confirm window dest compute 
def  merge hash option opt str value parser if not parser parser {}try algo digest value ' ' 1 except Value Error parser 'rgumentsto like sha256 abcde % opt str if algo not in STRONG HASHES parser 'llowedhashalgorithmsfor % opt str ' '.join STRONG HASHES parser algo [] .append digest 
def addparentstofks rels fks for j in rels son index fks j parent index fks j fks fks 'odel parent if parent not in fks fks parent 
@memoize 'traffic last modified time 60 * 10 def get traffic last modified try return Session Sitewide Pageviews .order by desc Sitewide Pageviews .limit 1 .one .dateexcept No Result Found return datetime 
def getconn obj if not isproxy obj raise Type Error 'et Proxy return  get conn obj 
def teardown module if os SCIKIT LEARN DATA shutil SCIKIT LEARN DATA if os SCIKIT LEARN EMPTY DATA shutil SCIKIT LEARN EMPTY DATA
def make increasing candle open high low close dates **kwargs increase x increase y  Candlestick open high low close dates **kwargs .get candle increase if 'line' in kwargs kwargs 'fillcolor' kwargs else kwargs 'fillcolor'  DEFAULT INCREASING COLOR if 'name' in kwargs kwargs 'showlegend' True else kwargs 'showlegend' False kwargs 'name' 'ncreasing kwargs 'line' dict color  DEFAULT INCREASING COLOR candle incr data dict type 'box' x increase x y increase y whiskerwidth 0 boxpoints False **kwargs return [candle incr data 
def libvlc media player set android context p mi p jvm p awindow handler f  Cfunctions 'libvlc media player set android context None or  Cfunction 'libvlc media player set android context 1 1 1 None None Media Player ctypes void p ctypes void p return f p mi p jvm p awindow handler 
def events request if not test user authenticated request return login request next '/cobbler web expired True events remote events events2 []for id in events ttime name state read by events [id time time ttime name state def sorter a b return cmp a b events2 sorter t get template 'events.tmpl' html t Request Context request {'results' events2 'version' remote version request ['version'] 'username' username return Http Response html 
def get Local Attribute Value String key value String augmented Statements '+ - * / % ** '.split for augmented Statement in augmented Statements if value String augmented Statement return key + augmented Statement -1 ] + value String augmented Statement ] return value String 
def check entrance exam problems for rescoring exam key problems get problems in section exam key .values if any not hasattr problem 'module class or not hasattr problem class 'rescore problem for problem in problems msg _ 'otallproblemsinentranceexamsupportre raise Not Implemented Error msg 
def test sharedmethod reuse on subclasses class A Meta type def foo cls return cls metaclass A Meta class A object x 3def   init   self x self x foo self return self A 1 a2 A 2 assert a1 1 assert a2 2 assert A 3 class B A x 5assert B 5
def get setter methods from fields item fields setters {}for elem in fields name elem '*' '' setters getattr item 'set %s' % name if item C O L L E C T I O N TYPE 'system' setters interface getattr item 'modify interface setters interface getattr item 'delete interface setters interface getattr item 'rename interface return setters 
def locattr accessing obj accessed obj *args **kwargs if hasattr accessing obj 'obj' accessing obj accessing obj hasattr accessing obj 'location' return attr accessing obj accessed obj *args **kwargs
def get Vector3 Path complex Path z 0.0 vector3 Path []for complex Point in complex Path vector3 Path Vector3 complex Point complex Point z return vector3 Path 
def csm indptr csm return csm properties csm [2]
def maybe expression s if not isinstance s string types return Falseops Expr Visitor ops + Expr Visitor ops + ' ' return any op in s for op in ops 
def corner harris image method 'k' k 0.05 eps 1e-06 sigma 1 Axx Axy Ayy structure tensor image sigma det A Axx * Ayy - Axy ** 2 trace A Axx + Ayy if method 'k' response det A - k * trace A ** 2 else response 2 * det A / trace A + eps return response 
def get repr obj constructor False **attrs cls qualname obj  class   parts []items sorted attrs for name val in items parts '{} {!r}'.format name val if constructor return '{} {} '.format cls ' '.join parts elif parts return '<{}{}>'.format cls ''.join parts else return '<{}>'.format cls 
def test prewitt v zeros result filters v np 10 10 np 10 10 bool assert allclose result 0
def libvlc vlm add broadcast p instance psz name psz input psz output i options ppsz options b enabled b loop f  Cfunctions 'libvlc vlm add broadcast None or  Cfunction 'libvlc vlm add broadcast 1 1 1 1 1 1 1 1 None ctypes int Instance ctypes char p ctypes char p ctypes char p ctypes int List P O I N T E R ctypes char p ctypes int ctypes int return f p instance psz name psz input psz output i options ppsz options b enabled b loop 
def find locustfile locustfile names [locustfile]if not names '.py' names + [ names + '.py' ]if os names for name in names expanded os name if os expanded if name '.py' or  is package expanded return os expanded else path '.'while os os path [1] for name in names joined os path name if os joined if name '.py' or  is package joined return os joined path os '..' path 
@block user agents required required 'wiki.delete document @check readonly document pathdef delete document request document slug document locale document get object or 404 Document locale document locale slug document slug prevent document first revision document [0]if request 'POST' form Document Deletion Form data request P O S T if form valid Document Deletion Log locale document slug document user request reason form data document return redirect document else form Document Deletion Form context {'document' document 'form' form 'request' request 'revision' first revision 'prevent' prevent render request 'wiki/confirm document delete context 
def test relative requirements file script data url path to url os data 'packages' '..' 'packages' ' S Pkg + '#egg F S Pkg script path 'file-egg-req.txt' .write textwrap '%s\n' % url result script 'install' '-vvv' '-r' script path / 'file-egg-req.txt' assert script packages / ' S Pkg % pyversion in result created str result assert script packages / 'fspkg' in result created str result 
def lookup Canonical Name name timeout None return get Resolver .anonical Name name timeout 
def send mail sender email recipient email subject plaintext body html body bcc admin False if not feconf M A I L G U N API KEY raise Exception 'ailgun A P Ikeyisnotavailable if not feconf M A I L G U N DOMAIN NAME raise Exception 'ailgundomainnameisnotset mailgun domain name 'https //api.mailgun.net/v3/%s/messages' % feconf M A I L G U N DOMAIN NAME if not feconf C A N SEND EMAILS raise Exception 'hisappcannotsendemailstousers data {'from' sender email 'to' recipient email 'subject' subject 'text' plaintext body 'html' html body bcc admin data feconf A D M I N EMAIL A D D R E S Srequests mailgun domain name auth 'api' feconf M A I L G U N API KEY data data 
def test get new command assert get new command Command u 'ps-ef|grepfoo'
def load scores wiggle fname chrom buffer size 3 scores by chrom dict try for chrom pos val in bx Reader U C S C Out Wrapper open fname if chrom not in scores by chrom if chrom buffer size scores by chrom Binned Array chrom buffer size - 1else scores by chrom Positional Scores On Disk scores by chrom valexcept U C S C Limit Exception print 'ncounteredmessagefrom U C S C "eachedoutputlimitof100000datavalues sobeawareyourdatawastruncated except Index Error stop err 'ataerror oneormorecolumndatavaluesismissingin % fname except Value Error stop err 'ataerror invaliddatatypeforoneormorevaluesin % fname return scores by chrom 
def contextwin l win assert win % 2 1 assert win > 1 l list l lpadded win // 2 * [ -1 ] + l + win // 2 * [ -1 ] out [lpadded[i i + win ] for i in range len l ]assert len out len l return out 
def test cylinder md create cylinder 10 20 radius [10 10] radii np md vertices [ 2] ** 2 .sum axis 1 assert allclose radii np like radii * 10
def use library name version if name not in PACKAGES raise Value Error '%sisnotasupportedpackage' % name versions P A C K A G E S if version not in versions raise Value Error '%sisnotasupportedversionfor%s;supportedversionsare%s' % version name versions if USING SDK Check Installed Library name version else Install Library name version explicit True 
def outer atomic using None savepoint True read committed False name None if callable using return Outer Atomic DEFAULT DB ALIAS savepoint read committed using else return Outer Atomic using savepoint read committed name 
def set score user id usage key score max score student module created Student Module or create student id user id module state key usage key course id usage key key defaults {'grade' score 'max grade max score if not created student module scorestudent module grade max scorestudent module return student module 
def get Extensions extensions []if not sys 'java' for dir in os 'twisted' + [''] topfiles os 'twisted' dir 'topfiles' if os topfiles ns {}setup py os topfiles 'setup.py' execfile setup py ns ns if 'extensions' in ns extensions ns return extensions 
def Document docx None docx  default docx path if docx is None else docx document part Package docx .main document partif document part type ! CT.WML DOCUMENT MAIN tmpl "ordfile contenttypeis Value Error tmpl % docx document part type return document part 
def volume type qos disassociate context qos specs id type id return I M P L type qos disassociate context qos specs id type id 
def get aggregate function name  create function dict return  function dict 
def imp type for filename filename for type data in imp suffixes extension type data filename extension return type datareturn None 
def strip proto url return re '^[^ /]+ //' '' url 
def maven builder registry xml parent data maven X M L Sub Element xml parent 'aven3 Builder mapping [ 'name' 'ame None 'goals' 'goals' None 'pom' 'om 'pom.xml' 'maven-opts' 'pts '' ]convert mapping to xml maven data mapping fail required True 
def  restore plugin configs config renewalparams if renewalparams 'webroot'  restore webroot config config renewalparams plugin prefixes []else plugin prefixes [renewalparams['authenticator']]if renewalparams 'installer' None is not None plugin prefixes renewalparams for plugin prefix in set plugin prefixes plugin prefix plugin prefix '-' '_' for config item config value in six renewalparams if config item plugin prefix + '_' and not cli by cli config item if config value in 'one 'rue 'alse setattr config config item eval config value else cast cli type config item setattr config config item cast config value 
def expression ok expression expression ok Truefields expression for f in fields try if f ' 2' f f -2 ]if mavutil expression f mestate is None expression ok Falseexcept Exception expression ok Falsebreakreturn expression ok 
def s3 str s if type s is str return selse return s3 unicode s .encode 'utf-8' 'strict'
def test create wedge text polar cats text data build wedge text source polar cats assert isinstance text data Column Data Source assert all col in text data names for col in ['x' 'y' 'text' 'text angle is True 
def test mod x y fscalars 'xy' fn gof Dual Linker .accept gof Function Graph [x y [ x % y ] .make function for a b in 0 1 1 1 0 -1 1 -1 -1 -1 1 2 -1 2 1 -2 -1 -2 5 3 -5 3 5 -3 -5 -3 assert fn a b a % b a 
def is non string sequence obj return not isinstance obj six types and isinstance obj Sequence 
def p initializer list 2 t pass 
@task base Base Instructor Task routing key settings G R A D E S DOWNLOAD ROUTING KEY def calculate problem responses csv entry id xmodule instance args action name ugettext noop 'generated' task fn partial upload problem responses csv xmodule instance args return run main task entry id task fn action name 
def guess vfs zfs arc max if HW PHYSMEM GB > 200 and TRUENAS return int max min int HW PHYSMEM * 0.92 HW PHYSMEM - USERLAND RESERVED MEM + KERNEL RESERVED MEM MIN ZFS RESERVED MEM else return int max min int HW PHYSMEM * 0.9 HW PHYSMEM - USERLAND RESERVED MEM + KERNEL RESERVED MEM MIN ZFS RESERVED MEM
def rot axis1 theta ct cos theta st sin theta lil 1 0 0 0 ct st 0 - st ct return Matrix lil 
def  raises invalid signature **kwargs return Raises Matches Exception Invalid Signature Equals Invalid Signature **kwargs
def boxcox normplot x la lb plot None N 80 x np x if x 0 return xif lb < la raise Value Error '`lb`hastobelargerthan`la`.' lmbdas np la lb num N ppcc lmbdas * 0.0 for i val in enumerate lmbdas z boxcox x lmbda val _ r2 probplot z dist 'norm' fit True ppcc r2 -1 ]if plot is not None plot lmbdas ppcc 'x'  add axis labels title plot xlabel '$\\lambda$' ylabel 'rob Plot Corr Coef title 'ox Cox Normality Plot return lmbdas ppcc 
def numa fit instance to host host topology instance topology limits None pci requests None pci stats None if not host topology and instance topology L O G 'equirebothahostandinstance N U M Atopologytofitinstanceonhost returnelif len host topology < len instance topology L O G 'herearenotenough N U M Anodesonthesystemtoscheduletheinstancecorrectly Required % required s actual % actual s {'required' len instance topology 'actual' len host topology } returnfor host cell perm in itertools host topology len instance topology cells []for host cell instance cell in zip host cell perm instance topology try got cell  numa fit instance cell host cell instance cell limits except exception Memory Page Size Not Supported breakif got cell is None breakcells got cell if len cells ! len host cell perm continueif not pci requests or pci stats is not None and pci stats requests pci requests cells return objects Instance N U M A Topology cells cells 
@ile System directory current directory 'django' 'celeries' def test failfast status output run scenario **{'--failfast' None the output .should.contain 'hisoneispresent the output .should.contain 'eleriesbeforeall the output .should.contain 'eleriesbeforeharvest the output .should.contain "eleriesbeforefeature Testthedjangoappleaves the output .should.contain "eleriesbeforescenario Thisoneispresent the output .should.contain "eleriesbeforestep Given Isayfoobar the output .should.contain "eleriesafterstep Given Isayfoobar the output .should.contain "eleriesbeforestep Thenitfails the output .should.contain "eleriesafterstep Thenitfails the output .should.contain "eleriesafterscenario Thisoneispresent the output .should.contain "eleriesafterfeature Testthedjangoappleaves the output .should.contain 'eleriesafterharvest the output .should.contain 'eleriesafterall the output .should not 'hisoneisnevercalled 
def time a while ago days 0 seconds 0 microseconds 0 milliseconds 0 minutes 0 hours 0 weeks 0 delta timedelta days seconds microseconds milliseconds minutes hours weeks return datetime - delta 
def quopri decode input errors 'strict' assert errors 'strict' f String I O str input g String I O quopri f g output g return output len input 
def validate host mapping host mapping schema {'$schema' 'http //json-schema.org/draft-04/schema#' 'type' 'object' 'roperties 'true'}v Draft4 Validator schema format checker Format Checker v host mapping 
def get lang from http header request supported accept request M E T A 'HTTP ACCEPT LANGUAGE' '' for accept lang __ in trans real accept lang header accept if accept lang '*' return Nonenormalized data code data to common accept lang if normalized in ['en-us' 'en'] return Noneif normalized in supported return normalizedfor lang in supported if normalized data code lang return langreturn None 
def compare elements a b if a is None a []if b is None b []return set a set b 
def create url helper base url base url base url '/' def url for path '' if path path '/' + path '/' return base url + path return url for 
def check flow information evaluator flow search name pos if not settings flow information return Noneresult set if flow scope try names reversed flow dict name except Key Error Attribute Error names []for name in names ass name parent until tree Assert Stmt if isinstance ass tree Assert Stmt and pos is not None and ass pos < pos result  check isinstance type evaluator ass search name if result breakif isinstance flow tree If Stmt tree While Stmt potential ifs [c for c in flow 4] if c ! ' ' ]for if test in reversed potential ifs if search name pos > if test pos return  check isinstance type evaluator if test search name return result 
def tree post save handler sender instance **kwargs instance descendants include self True .update  ct inventory None 
def restore long table names for table in metadata table table original namedel table original name 
def new bookmark collection user Collection apps model 'ollection existing bookmark collection Collection Q 'is bookmark collection 'eq' True & Q 'creator' 'eq' user if existing bookmark collection > 0 raise Node State Error 'sersmayonlyhaveonebookmarkcollection collection Collection title 'ookmarks creator user is bookmark collection True collection return collection 
def  Reference From Reference reference new reference entity pb Reference new reference Copy From reference return new reference 
def make extension trigger None default name None priority None invoke before training False finalizer None if trigger is None trigger Extension priority is None priority Extension decorator ext ext triggerext name default name or ext  name   ext priorityext before training invoke before trainingext finalizerreturn extreturn decorator 
def oc cmd mock cmd oadm False output False output type 'json' input data None version 'ocv3.4.0.39\nkubernetesv1.4.0+776c994\nfeatures Basic Auth G S S A P I Kerberos S P N E G O Serverhttps //internal.api.opstest.openshift.com\nopenshiftv3.4.0.39\nkubernetesv1.4.0+776c994\n'if 'version' in cmd return {'stderr' None 'stdout' version 'returncode' 0 'results' version 'cmd' cmd 
def is List l return hasattr l '  iter  ' and not is String l or type l in types List Type types Tuple Type 
def test text elide none mocker qtbot label Text Base qtbot widget label label Text '' mocker 'ext Base Metrics label update elided text 20 assert not label Metrics 
def set external opts defaults cors defaults allow headers [ Auth Token ' Openstack Request Id ' Subject Token ' Project Id ' Project Name ' Project Domain Id ' Project Domain Name ' Domain Id ' Domain Name expose headers [ Auth Token ' Openstack Request Id ' Subject Token allow methods ['GET' 'PUT' 'POST' 'DELETE' 'PATCH'] profiler defaults CONF enabled False trace sqlalchemy False opts cache opts opts for opt list in opts if opt list 'cache' for o in opt list if o 'enabled' o True 
def PCO option dispatcher s option ord s cls PCO OPTION C L A S S E S option Raw return cls s 
def zip format request context {'title' 'ipped Source Instruction 'general/zip.html'return render request template context 
def get git revision repopath try git programs program 'git' assert git is not None and osp osp repopath '.git' commit programs program git ['rev-parse' '--short' 'HEAD'] cwd repopath .communicate commit commit if PY3 commit commit sys branches programs program git ['branch'] cwd repopath .communicate branches branches PY3 branches branches sys branches branches '\n' active branch [b for b in branches if b '*' ]if len active branch ! 1 branch Noneelse branch active branch None 1 [1]return commit branch except subprocess Called Process Error Assertion Error Attribute Error return None None 
def splitport host global  portprogif  portprog is None import re portprog re '^ .* [0-9]+ $' match  portprog host if match return match 1 2 return host None 
def p command def p p 'FUNC' p p p 
def hierarchical cuboids dimensions required None default only False cuboids combined cuboids dimensions required result []for cuboid in cuboids result + list combined levels cuboid default only return result 
def block devices attrs None where None return  osquery cmd table 'block devices attrs attrs where where 
def Swallow Args func @functools.wraps func def Decorator arg *unused args return func arg return Decorator 
def get sample func model layer to state x theano rng MRG Random Streams 2012 + 9 + 18 if x > 0 sampling updates model sampling updates layer to state theano rng layer to clamp {model.visible layer True num steps x t1 time sample func function [] updates sampling updates t2 time print 'lampedsamplingfunctioncompilationtook t2 - t1 sample func sampling updates model sampling updates layer to state theano rng assert layer to state layer in sampling updates t1 time sample func function [] updates sampling updates t2 time print 'amplingfunctioncompilationtook t2 - t1 return sample func 
def get ident return -1
def assert has n columns output n sep ' DCTB ' n int n first line get first line output assert first line is not None 'asexpectingoutputwith butoutputwasempty % n assert len first line sep n 'utputdoesnothave % n 
def filter stack graph head filters visited removes orphans set [head] set set stack deque [ head head ] get data graph dataget edges graph edgesget tail graph stack last good node stack data get data node if data is not None for filtfunc in filters if not filtfunc data removes node breakelse last good nodefor edge in get edges node tail get tail edge if last good is not node orphans last good tail if tail not in visited visited tail stack last good tail orphans [ last good tail for last good tail in orphans if tail not in removes ]return visited removes orphans 
def vowel consonant pairs w max None m 0for i ch in enumerate w if is vowel ch and i < len w - 1 and is consonant w i + 1 ] m + 1if m max breakreturn m 
def create snapshot body indices ignore unavailable False include global state True partial False if not indices logger 'oindicesprovided return Falsebody {'ignore unavailable ignore unavailable 'include global state include global state 'partial' partial indices ' all body indiceselse body to csv indices return body 
def  open library config dbpath util path config filename try lib library Library dbpath config filename get path formats get replacements lib item 0 except sqlite3 Operational Error sqlite3 Database Error log u traceback exc raise User Error u util path dbpath log u {0}\nlibrarydirectory {1}' util path lib util path lib return lib 
def set useragent app version contact None global  useragent  clientif not app or not version raise Value Error 'ppandversioncannotbeempty if contact is not None  useragent '%s/%spython-musicbrainzngs/%s %s ' % app version  version contact else  useragent '%s/%spython-musicbrainzngs/%s' % app version  version  client '%s-%s' % app version  log 'setuser-agentto%s' %  useragent 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def resource mapping return {'OS Heat Resource Chain Resource Chain 
def split filenames format string shards parsed formats parser format string sizes [files.stat filename .st size for filename in filenames per shard float sum sizes / shards if not size per shard returnif parsed formats split return  deep split filenames size per shard parsed formats else return  shallow split filenames size per shard parsed formats sizes 
@require http methods ['POST'] def password change request handler request limiter Bad Request Rate Limiter if limiter rate limit exceeded request AUDIT L O G 'asswordresetratelimitexceeded return Http Response Forbidden user request user if user authenticated else request P O S T 'email' if email try request password change email request host request secure user user if user authenticated else User email email destroy oauth tokens user except User Not Found AUDIT L O G 'nvalidpasswordresetattempt limiter bad request counter request return Http Response status 200 else return Http Response Bad Request _ 'oemailaddressprovided 
def override timeout timeout action retval timeoutif action in ['forcemerge' 'snapshot' 'sync flush if timeout 30 if action in ['forcemerge' 'snapshot'] retval 21600elif action 'sync flush retval 180logger.debug 'verridingdefaultconnectiontimeoutfor Newtimeout {1}'.format action timeout return retval 
def bump cache for shop product shop product from shuup import Shop Productbump cache for item shop product bump cache for item shop product q Q q | Q product  variation parent id shop product if shop product parent q | Q product id shop product parent for child in Shop Product q .select related 'product' bump cache for item child bump cache for item child if shop product package child for package parent in shop product all package parents for sp in Shop Product product id package parent bump cache for item sp bump cache for item sp 
def symptom caching enabled without a backend return C O N F and C O N F 'dogpile.cache.null'
def get value from json json dict sensor type group tool if group in json dict if sensor type in json dict if sensor type 'target' and json dict type is None return 0else return json dict type tool is not None if sensor type in json dict return json dict type 
def  Tag Size field number return  Varint Size wire format Pack Tag field number 0
def modpath from file filename extrapath None base splitext abspath filename [0]if extrapath is not None for path  in extrapath path abspath path  if path and base len path ] path submodpath [pkg for pkg in base path ].split os if pkg  check init path submodpath -1 ] return extrapath ].split '.' + submodpath for path in sys path abspath path if path and base path modpath [pkg for pkg in base path ].split os if pkg  check init path modpath -1 ] return modpathraise Import Error 'nabletofindmodulefor % filename ' \n'.join sys 
def expand log expr deep True force False return sympify expr .expand deep deep log True mul False power exp False power base False multinomial False basic False force force 
def acl represent acl options values []for o in options if o 0 and acl 0 values '%s' % options elif acl and acl & o o values '%s' % options else values '_' return ''.join values 
@blueprint.route '/sources/<source>/resources' def list resources by source source return  list resources source source project acl limited to project flask 
def test multiclass fit sample y Y y 2y[6] 2rus Random Under Sampler random state RND SEED X resampled y resampled rus sample X y count y res Counter y resampled assert equal count y res 2 assert equal count y res 2 assert equal count y res 2
def description of file name 'stdin' u Universal Detector for line in file u line u result u result return '%s %swithconfidence%s' % name result result else return '%s noresult % name 
def scale s dtype None assert len s 3 return np np np [s 1.0 ] dtype 
def rvm env registry xml parent data rpo X M L Sub Element xml parent 'ruby-proxy-object' ro class 'enkins Plugin Proxies Build Wrapper X M L Sub Element rpo 'ruby-object' {'ruby-class' ro class 'pluginid' 'rvm'} o X M L Sub Element ro 'object' {'ruby-class' 'vm Wrapper 'pluginid' 'rvm'} X M L Sub Element o 'impl' {'pluginid' 'rvm' 'ruby-class' 'tring .text data X M L Sub Element ro 'pluginid' {'pluginid' 'rvm' 'ruby-class' 'tring .text 'rvm'
def  surface constraint rd surf min dist to inner skull dist  compute nearest surf rd ] return dists True [1][0]if  points outside surface rd ] surf 1 [0] dist * -1.0 dist - min dist to inner skullreturn dist 
def make pony app global conf return Pony Middleware app 
def  root notice msg *args **kwargs if len logging 0 logging Config logging msg *args **kwargs
def run Tests vm tests None pre '' post '' prompt Prompt uninstall Ntpd False if uninstall Ntpd remove Ntpd vm vm prompt if Branch check Out Branch vm branch Branch vm prompt if not tests tests []if pre log 'unningcommand pre vm pre vm prompt testfns test Dict if tests log 'unningtests for test in tests if test not in testfns raise Exception 'nknowntest ' + test log 'unningtest test fn testfns vm vm prompt if post log 'unningpost post vm post vm prompt 
def subscribe with data mailchimp list id user data format entry lambda e {name to tag k v for k v in e } formated data list format entry e for e in user data for batch in chunk formated data SUBSCRIBE BATCH SIZE result mailchimp Batch Subscribe id list id batch batch double optin False update existing True log 'dded %rroron %s' result count result count 
def group backend by type items key lambda x x from social auth import get backends Base O Auth Base O Auth2result defaultdict list backends get backends for item in items backend backends item ]if issubclass backend Base O Auth2 result item elif issubclass backend Base O Auth result item return dict result 
def get i3 connection global connif not conn try import i3ipcexcept Import Error import i3 as connelse conn i3ipc Connection return conn 
def get updated instructor task task id try instructor task Instructor Task task id task id except Instructor Task Does Not Exist log 'nstructor Taskstatusfailed task id %s notfound task id return Noneif instructor task state not in READY STATES result Async Result task id  update instructor task instructor task result return instructor task 
@require P O S Tdef join group request url group get object or 404 Group url url profile to add request group member profile to add messages request _ 'ouarealreadyinthisgroup elif group pending member profile to add messages request _ 'ourrequesttojointhisgroupisstillpending elif group new members 'no' messages request _ 'hisgroupisnotacceptingrequeststojoin else if group new members 'yes' status Group Membership M E M B E Rmessages request _ 'ouhavebeenaddedtothisgroup if group status Group Membership P E N D I N G T E R M Selif group new members 'by request status Group Membership P E N D I N Gmessages request _ 'ourmembershiprequesthasbeensenttothegroupcurator s .' group member profile to add status status return redirect reverse 'groups show group args [group.url]
def mulrowcol row col K result K i in range len row result + row * col return result 
def  exception pprint obj p cycle name getattr obj  class   '  qualname  ' obj  class  .  name   if obj  class  .  module   not in 'exceptions' 'builtins' name '%s.%s' % obj  class  .  module   name step len name + 1 p group step name + ' ' for idx arg in enumerate getattr obj 'args' if idx p ' ' p p arg p group step ' '
def  coerce scalar to timedelta type r unit 'ns' box True errors 'raise' try result tslib to timedelta64 r unit except Value Error if errors 'raise' raiseelif errors 'ignore' return rresult pd Na Tif box result tslib Timedelta result return result 
def test pl fancy o nikola u Za lang u assert o u assert isinstance o nikola str 
def detect periodical toc log None if toc < 1 or not toc u return Falsefor node in toc if node 1 and node ! u if log is not None log u Notaperiodical Deepestnodedoesnothaveclass "article"' return Falseif node 2 and node ! u if log is not None log u Notaperiodical Seconddeepestnodedoesnothaveclass "section"' return Falseif node 3 and node ! u if log is not None log u Notaperiodical Thirddeepestnodedoesnothaveclass "periodical"' return Falseif node > 3 if log is not None log u Notaperiodical Hasnodesofdepth return Falsereturn True 
def get Skeinforge Path sub Name '' return get Joined Path get Fabmetheus Path 'skeinforge application sub Name 
def uri reference uri encoding 'utf-8' return U R I Reference string uri encoding 
@not implemented for 'directed' def connected component subgraphs G copy True for c in connected components G if copy yield G c .copy else yield G c 
def get templates dirs templates set for root in dirs for dirpath dirnames filenames in os root for f in filenames if len [rue for e in TEMPLATE EXTENSIONS if f e ] > 0 t make template info os dirpath f dirs t templates templatestemplates t return templates 
def deprecated version replacement None def deprecation Decorator function 'ecoratorthatmarks C String get Deprecation Warning String function version None replacement @wraps function def deprecated Function *args **kwargs warn warning String Deprecation Warning stacklevel 2 return function *args **kwargs  append To Docstring deprecated Function  get Deprecation Docstring version replacement deprecated Function Version versionreturn deprecated Functionreturn deprecation Decorator 
def p command if bad2 p p 'INVALIDLINENUMBERINTHEN'
def quota class get defaults context return I M P L class get defaults context 
def   method Dict cls  dict base List list cls  bases   base List for  super in base List   method Dict  super  dict for key value in cls  dict  .items if type value types Function Type  dict value 
def nll loss input target weight None size average True return  functions N L L Loss size average weight weight input target 
def  Test Update Follower tester user cookie request dict user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict actual dict tester Send Request 'update follower user cookie request dict op dict tester Derive Notification Op Dict user id device id request dict  Validate Update Follower tester user cookie op dict request dict tester Compare Response Dicts 'update follower user id request dict {} actual dict return actual dict 
def hue1 to hue2 data migration jd list Job Design for jd in jd list if jd 'jar' job design migration for jar jd elif jd 'streaming' job design migration for streaming jd else L O G "nknown Job Designtype Rowid %s" % jd jd 
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def get interval return 10
def demean x axis 0 return detrend mean x axis axis 
def recurse *cls def wrap f def wrapped f tlist for sgroup in tlist sublists if not isinstance sgroup cls wrapped f sgroup f tlist return wrapped freturn wrap 
def turan graph n r if not 1 < r < n raise nx Network X Error 'ustsatisfy1 r n partitions [ n // r ] * r - n % r + [ n // r + 1 ] * n % r G complete multipartite graph *partitions G 'turan graph {} {} '.format n r return G
def add Nested Ring Beginning distance Feed Rate loop z distance Feed Rate Line ' <ing ' distance Feed Rate Line ' <erimeter ' for point in loop point Vector3 Vector3 point point z distance Feed Rate Line distance Feed Rate Boundary Line point Vector3 
def add pool member lb name port pool name if   opts  ['load balancers lb None username password list   opts  ['load balancers else raise Exception 'nabletofind lb F5 F5 Mgmt lb username password F5 pool member name port pool name return True 
def check workers workers worker sockets log fh None for worker sock in zip workers worker sockets try sock '' except error if log fh log fh ' A T A L E R R O R Worker Aborting % worker stop workers worker sockets log fh return Falsereturn True 
def is any marketing link set names return any is marketing link set name for name in names 
def  tokenize description empty  matching String u description colon  matching String u ' description equals  matching String u ' description backslash  matching String u description current emptyops colon + equals next Ops {colon colon + equals equals colon iter iterbytes description for n in iterdesc if n in iterbytes ops yield  STRING current yield  OP n current emptyops next Ops n backslash current + next iterdesc else current + n yield  STRING current 
def  repr pprint obj p cycle output repr obj for idx output line in enumerate output if idx p  p output line 
def total by codename cls codenames codenames tup codenames q Session cls sum cls count .filter cls 'hour' .filter cls  codenames .group by cls return list q 
def test only major dots no labels line Line show only major dots True line 'test' range 12 q line pyquery assert len q '.dots' 12
def trade events strategy portfolio execution heartbeat while True try event events False except queue Empty passelse if event is not None if event 'TICK' logger 'eceivednewtickevent %s' event strategy signals event portfolio portfolio event elif event 'SIGNAL' logger 'eceivednewsignalevent %s' event portfolio signal event elif event 'ORDER' logger 'eceivedneworderevent %s' event execution order event time heartbeat 
def  clone vdi session vdi to clone ref vdi ref session xenapi ' D I vdi to clone ref L O G 'loned V D I vdi ref sfrom V D I vdi to clone ref s {'vdi ref vdi ref 'vdi to clone ref vdi to clone ref return vdi ref 
def format err msg and raise operation type component error message error code formated err msg _ 'rror Failedto operation type s component s % {'operation type operation type 'component' component if error message '"\'' and error message '\'"' error message error message len error message - 2 ]formated err msg formated err msg + 'eason ' + error message raise Copr Hd Error error code formated err msg 
@apply to text filedef typogrify sans widont data if typo is None req missing ['typogrify'] 'usethetypogrify sans widontfilter data  normalize html data data typo data data typo data data typo quotes data return data 
def itruediv a b a / breturn a 
def test disarmed nikola U S E SLUGIFY Falseo nikola u Za lang u assert o u Za assert isinstance o nikola str nikola U S E SLUGIFY True 
def make option group group parser option group Option Group parser group for option in group option group option option return option group 
def quota class update resource context resource new resource return I M P L class update resource context resource new resource 
def rating post save instance *args **kwargs Resource Base id instance id .update rating instance 
def test allknn init allknn All K N N random state RND SEED assert equal allknn neighbors 3 assert equal allknn sel 'all' assert equal allknn jobs -1 assert equal allknn state RND SEED
def test position angle directly from ..angle utilities import position angleresult position angle 10.0 20.0 10.0 20.0 assert result is u assert result 0.0
@pytest.mark.usefixtures 'clean system 'remove additional dirs def test cookiecutter no input return project dir project dir main 'tests/fake-repo-pre' no input True assert project dir os 'fake-project'
def guess path pth if os pth return pthelse return os os '~' pth 
def maintenance mode exempt view func view func mode exempt Truereturn view func 
def words count common True word list list COMMON WORDS if common else [] c len word list if count > c count - cwhile count > 0 c min count len WORDS count - cword list + random WORDS c else word list word list count ''.join word list 
def  bench skipper condition skip message def decorator func if isinstance condition bool and condition or not isinstance condition bool and condition wrapper unittest '[{}]skipped {}\n'.format  get bench name func skip message func else @wraps func def wrapper *args **kwargs func *args **kwargs return wrapperreturn decorator 
def get courseware with tabs course id course get course by id course id chapters [chapter for chapter in course children if not chapter from toc ]courseware [{'chapter name c name with default escaped 'sections' [{'section name s name with default escaped 'clickable tab count len s children if type s seq module Sequence Descriptor else 0 'tabs' [{'children count len t children if type t vertical block Vertical Block else 0 'class' t  class  .  name  } for t in s children ]} for s in c children if not s from toc ]} for c in chapters courseware 
def to Lux raw return np 10 raw * LOG LUX RATIO
def system resolvers system None if system is None if stem gentoo system 'entoo system platform if system 'indows resolvers [esolver N E T S T A T W I N D O W S system in 'arwin 'pen B S D resolvers [esolver L S O F system 'ree B S D resolvers [esolver B S D SOCKSTAT Resolver B S D PROCSTAT Resolver L S O F resolvers [esolver N E T S T A T Resolver S O C K S T A T Resolver L S O F Resolver S S [r for r in resolvers if stem available RESOLVER C O M M A N D ]if stem available and os '/proc/net/tcp' os R OK and os '/proc/net/udp' os R OK resolvers [esolver P R O C + resolvers return resolvers 
@step u def step directory named does not exist context directory step the directory should not exist context directory 
def  get jinja error line tb data try return  get jinja error slug tb data [1]except Index Error passreturn None 
def  running on ci env vars ['CI' 'BUILD N U M B E R any var in os for var in env vars 
def  to forward dict fwd names fwd grad None coord frame FIFF.FIFFV COORD HEAD source ori FIFF.FIFFV MNE FREE ORI assert names is not None if len fwd 0 return Nonesol dict data fwd T nrow fwd ncol fwd row names names col names [] fwd Forward sol sol source ori source ori nsource sol coord frame coord frame sol grad None nchan sol  orig source ori source ori  orig sol sol  orig sol grad None if fwd grad is not None sol grad dict data fwd grad T nrow fwd grad ncol fwd grad row names names col names [] fwd dict sol grad sol grad  orig sol grad sol grad return fwd 
def split hosts hosts default port DEFAULT PORT nodes []for entity in hosts ' ' if not entity raise Configuration Error 'mptyhost orextracommainhostlist .' port default portif entity '.sock' port Nonenodes parse host entity port return nodes 
def cmd save args child multiprocessing Process target save process args [mestate.last graph child 
def uptime seconds uptime list years uptime list uptime list uptime list uptime list uptime list years * 365 + weeks * 7 + days minutes days * 24 * 60 + hours * 60 + minutes seconds minutes * 60 return seconds 
def clean link link text return link text ' DCTB \r\n\'"'
def save tiled raster images tiled img filename if tiled img 2 ensure Image img Image tiled img 'L' elif tiled img 3 ensure Image img Image tiled img 'RGBA' else raise Type Error 'badndim' tiled img img filename return img 
def  image member format member ref return {'id' member ref 'image id member ref id 'member' member ref 'can share member ref share 'status' member ref 'created at member ref at 'updated at member ref at 
def generate random asset md course key Course Key string 'org/course/run' asset key course key asset key asset type filename curr version prev version versions return Asset Metadata asset key pathname pathname internal name str [filename for __ in xrange 10 ] locked locked contenttype contenttype thumbnail filename fields fields curr version curr version prev version prev version edited by user id edited by email 'staff@edx.org' edited on date and time created by user id created by email 'staff@edx.org' created on date and time 
def read named ranges xml source workbook named ranges []root fromstring xml source names root root Q Name 'http //schemas.openxmlformats.org/spreadsheetml/2006/main' 'ames .text if names root is not None for name node in names root range name name node 'name' if name node 'hidden' '0' '1' continuevalid Truefor discarded range in DISCARDED RANGES if discarded range in range name valid Falsefor bad range in BUGGY NAMED RANGES if bad range in name node valid Falseif valid destinations split named range name node new destinations []for worksheet cells range in destinations worksheet workbook sheet by name worksheet if worksheet new destinations worksheet cells range named range Named Range range name new destinations named ranges named range return named ranges 
def  get dir path sibling py file   file  .replace '.pyc' '.py' dir paths [os.path.abspath os os py file os os py file ]for dir path in dir paths sibling path os dir path sibling if os sibling path return dir pathraise Value Error 'ouldnotdeterminedirectorythatcontainsboth thisfileand % sibling 
def latest release tag git tags subprocess output ['git' 'tag' '-l'] stderr subprocess S T D O U T .split release tags [tag for tag in git tags if tag 'ckan-' ]release tags if release tags return release tags -1 ]else return 'COULD NOT DETECT VERSION NUMBER'
def remove logrotate app name app logrotate script '{0}/appscale-{1}'.format LOGROTATE CONFIG DIR app name logging 'emovingscript {}'.format app logrotate script try os app logrotate script except O S Error logging 'rrordeleting app logrotate script return Falsereturn True 
def cmd reverse lookup command name for key value in miss cmds if value command name return keyreturn 0
def get Vector3 By Prefixes element Node prefixes vector3 for prefix in prefixes vector3 get Vector3 By Prefix vector3 element Node prefix return vector3 
def fuzzy search query elements key lambda x x rank True seq 3 R match rank query [key el for el in elements seq seq out [ el R for i el in enumerate elements if R is not None ]return [el[0] for el in sorted out key lambda el el ]
def  resolve args cls *args **kwargs attrs cls argumentsattrset set attrs if not set kwargs < attrset raise Type Error '%sgotunknownkeywords %s' % cls  name   ' '.join set kwargs - attrset if len args > len attrs raise Type Error '%stakes3positionalargumentsbut%dweregiven' % cls  name   len args attributes Ordered Dict zip attrs repeat None to add dict zip attrs args attributes to add added set to add for key value in kwargs if key in added raise Type Error '%sgotmultiplevaluesforargument%r' % cls  name   key attributes valueadded key return attributes 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def unlisted addons reviewer required f @login required f def wrapper request *args **kw if acl unlisted addons reviewer request return f request *args **kw raise Permission Deniedreturn wrapper 
def convert fontsize length unit base font size 16.0 dpi 96.0 if unit u return length / base font size pt to px dpi / 72.0 pt to rem pt to px / base font size return length * length factors unit 1 * pt to rem 
def set extra environ key value def decorator func def wrapper *args **kwargs app  get test app app '/' extra environ {key value try return value func *args **kwargs finally app '/' extra environ {key ''} return return valuereturn nose decorator func wrapper return decorator 
def aggregated indicator return s3 rest controller 
def guestbook key guestbook name DEFAULT GUESTBOOK NAME return ndb Key 'uestbook guestbook name 
def read Plist From String data return read Plist String I O data 
def  higher function scope node current nodewhile current and not isinstance current nodes Function current current current and current return current 
def abort action session task raise importer Import Abort 
def monkeypatch property cls def decorator func setattr cls func  name   property func return funcreturn decorator 
def get Serial Ports if sys 'darwin' ports [ S A 'ey '/dev/tty.modem*' '/dev/cu.usbmodem*' '/dev/tty.usbserial*']elif sys 'linux' ports [ C M ' S B ' sys 'cygwin' ports [ sys 'win32' return imap ' O M xrange 11 else logging "edon sys return []return chain iterable imap glob ports 
def add Plugins To Menu directory Path menu plugin File Names for plugin File Name in plugin File Names Tool Dialog .lugin To Menu menu os directory Path plugin File Name 
def chunkyreader f count None if count ! None while count > 0 b f min count 65536 if not b raise I O Error ' O Fwith % count yield b count - len b else while 1 b f 65536 if not b break yield b 
def Get Indexes **kwargs return Get Indexes Async **kwargs .get result 
def  rotate polygon lon lat lon0 lat0 polygon Unit Spherical Representation lon lon lat lat m1 rotation matrix - 0.5 * np * u - lat0 axis 'y' m2 rotation matrix - lon0 axis 'z' transform matrix matrix product m2 m1 polygon polygon cartesian polygon polygon transform matrix polygon Unit Spherical Representation cartesian polygon return polygon polygon 
def  determine host data omit '' host ''bestmem 0for hv  comps in six data if hv  omit continueif not isinstance comps dict continueif comps 'freemem' 0 > bestmem bestmem comps hv return host 
def  match Report Keys report Key R Es [] all Report Keys [] matching Report Keys []for key R E in report Key R Es match Obj re key R E found Falsefor key Name in all Report Keys match match Obj key Name if match and match len key Name matching Report Keys key Name found Trueif not found raise  Bad Key Error key R E return matching Report Keys 
def set epsilon closure state set result {}for state1 in state set for state2 in epsilon closure state1 result 1return result 
def urlencoded processor entity cherrypy cpreqbody urlencoded entity cherrypy data entity body ''
def get api query service table id return service .ga .get ids table id start date '2012-01-01' end date '2012-01-15' metrics 'ga visits dimensions 'ga source ga keyword sort '-ga visits filters 'ga medium organic start index '1' max results '25'
def get payment provider portals app None user None provider portals []if app q dict addon app elif user q dict payment account  user user else raise Value Error 'userorappisrequired' for acct in Addon Payment Account **q .select related 'payment account provider get provider id acct account portal url provider portal url acct slug if portal url provider portals {'provider' provider 'app' acct 'portal url portal url 'payment account acct account return provider portals 
def generate paragraphs amount start with lorem False return  G E N E R A T O R paragraphs amount start with lorem 
def enable Cache if not isinstance  entity Cache L R U Cache  entity Cache  L R U Cache size 
def infer layout val if sys info > 3 return 'C' if val contiguous else 'F' if val contiguous else 'A' if val 1 and val val return ' 'A'
def prop set prop value extra args None cibfile None return item create item 'property' item id '{0} {1}'.format prop value item type None create 'set' extra args extra args cibfile cibfile 
def sync user email addresses user from .models import Email Addressemail user email user if email and not Email Address user user email  iexact email .exists if app settings U N I Q U E EMAIL and Email Address email  iexact email .exists return Email Address user user email email primary False verified False 
def create method not allowed allowed methods def method not allowed req resp **kwargs 'aise405 H T T P Method Not Allowederror H T T P Method Not Allowed allowed methods return method not allowed 
def File Size APP PATH return round float os APP PATH / 1024 * 1024 2
def  host dhcp opts vif id None gateway None values []if vif id is not None values  host dhcp network vif id values '3' if gateway values '%s' % gateway return ' '.join values 
def opts if   opts  .get 'grain opts False or isinstance   pillar   dict and   pillar  .get 'grain opts False return   opts  return {}
def locate library candidates find library ctypes library if find library is None find library ctypes libraryuse dll workaround sys 'win32' and find library is ctypes library for candidate in candidates if use dll workaround candidate + '.dll'libname find library candidate if libname return libnamereturn None 
def dotted from fs path fs path sys path if os fs path .startswith '  init  .' fs path os fs path path ''for s in sys path if fs path s and len path < len s path smodule path fs path path ].lstrip os .lstrip '/' return  path re '' module path .replace os '.' .replace '/' '.'
def update support forum contributors metric day None if day start end dayelse latest metric  get latest metric SUPPORT FORUM CONTRIBUTORS METRIC CODE if latest metric is not None start latest metric + timedelta days 1 else start date 2011 1 1 end date - timedelta days 1 day startwhile day < end thirty days back day - timedelta days 30 contributors Answer creator F 'question  creator .filter created  gte thirty days back created  lt day .values 'creator' .annotate count Count 'creator' .filter count  gte 10 count contributors metric kind Metric Kind code SUPPORT FORUM CONTRIBUTORS METRIC CODE Metric kind metric kind start thirty days back end day value count day day + timedelta days 1
def convert language code format lang code for django True if not lang code return lang codelang code lang code code parts re '-|_' lang code if len code parts > 1 assert len code parts 2 'code partswas {0}'.format code parts code parts code parts if for django lang code ' '.join code parts else lang code '-'.join code parts return lang code 
def print commands commands status update callback logger close logger on success True logger 'rintingcommandsonly for c in commands for e in c status update callback '#%s' % e print '%s' % e logger '#%scommand\n%s\n\n' % e 
def liberal is HDN text if IPV4 R E text return Falsereturn True 
def filterprotected *filters def  filterprotected f @functools.wraps f def wrapper self context **kwargs if not context admin action 'identity %s' % f  name   creds  build policy check credentials self action context kwargs target dict if len filters > 0 for filter in filters if filter in context string target context string L O G _ 'RBAC Addingqueryfilterparams %s ' % ' '.join [ '%s %s' % filter target for filter in target for key in kwargs target kwargs api context creds action flatten target L O G _ 'RBAC Authorizationgranted else L O G _ 'RBAC Bypassingauthorization return f self context filters **kwargs return wrapperreturn  filterprotected 
def convert to octal file name return oct os file name [ T MODE] [ -3 ]
def  require sender id is valid intent sender id if intent not in SENDER VALIDATORS raise Exception 'nvalidemailintentstring %s' % intent elif not SENDER V A L I D A T O R S sender id logging "nvalidsender id % sender id intent raise Exception "nvalidsender idforemailwithintent % intent 
def  doc parms cls axis descr '{%s}' % ' '.join ['{0} {1} '.format a i for i a in enumerate cls AXIS ORDERS ] name cls constructor sliced  name   if cls AXIS LEN > 1 else 'scalar' name2 cls  name  return axis descr name name2 
def set device request device u response redirect add cache bypass next url request or u set cookie response u device 60 * 60 * 24 * 365 return response 
def get pgraster srid data if data is None returnreturn unpack 'i' data 114] [0]
def filter aln by otus aln prefs filtered seqs []removed seqs []for j in range aln count remove Falsealn name aln aln name aln name '' [0].split '_' if len stripped aln name > 1 new aln name ''.join stripped aln name -1 ] else new aln name stripped aln name sample id in prefs if prefs id new aln name remove Trueif remove removed seqs aln name str aln name else filtered seqs aln name str aln name return filtered seqs removed seqs 
def convert db channel to json channel include rel score False res json {'id' channel 'dispersy cid channel 'hex' 'name' channel 'description' channel 'votes' channel 'torrents' channel 'spam' channel 'modified' channel 'subscribed' channel VOTE SUBSCRIBE }if include rel score res json score channel res json 
def opengl arrays modules statement 'pen G L Open G L  path  [0] 'opengl mod path exec statement statement arrays mod path os opengl mod path 'arrays' files glob arrays mod path + '/*.py' modules []for f in files mod os os f [0]if mod '  init  ' continuemodules 'pen G L + mod return modules 
def floating ip bulk destroy context ips return I M P L ip bulk destroy context ips 
def take sorted outname inname blockdims index axis 0 sizes blockdims lists partition by size sizes sorted index where index [i for i il in enumerate index lists if il lists [il for il in index lists if il [range len bd for bd in blockdims list dims indims list range len where index keys list product [outname] *indims outdims list dims outdims where indexslices [ [colon] * len bd for bd in blockdims index listsslices list product *slices inkeys list product [inname] *outdims values [ getitem inkey slc for inkey slc in zip inkeys slices ]blockdims2 list blockdims blockdims2 tuple map len index lists return tuple blockdims2 dict zip keys values 
def reverse x axes if isinstance axes int axes [axes]slices [ slice None None -1 if i in axes else slice None None None for i in range x ]return x 
def Assign target source if not isinstance target list target [target]if not isinstance source list source u [source]return Node syms target + [eaf token E Q U A L u ' prefix u ] + source 
def Build Clone Post Body file tuples file list []for tup in file tuples path tup tup ]file list TUPLE D E L I M I T E R [path] + list tup return LIST D E L I M I T E R file list 
def  has wiki staff access user wiki slug modstore course keys modstore courses for wiki wiki slug if wiki slug '_' and slug is numerical wiki slug -1 ] course keys modstore courses for wiki wiki slug -1 ] for course key in course keys course modstore course course key if courseware access user 'staff' course course key return Truereturn False 
def  filepath to path filepath return filepath 
@evalcontextfilterdef do urlize eval ctx value trim url limit None nofollow False target None rel None policies eval ctx set rel or '' .split or [] if nofollow rel 'nofollow' rel policies or '' .split if target is None target policies ''.join sorted rel or None rv urlize value trim url limit rel rel target target if eval ctx rv Markup rv return rv 
def get latest downloadable repository metadata trans repository encoded repository id trans id repository repo hg util repo for repository trans repository repository repo path None create False tip ctx str repo repo repository metadata Nonetry repository metadata metadata util repository metadata by changeset revision trans encoded repository id tip ctx if repository metadata is not None and repository metadata return repository metadatareturn Noneexcept latest downloadable revision metadata util previous metadata changeset revision repository repo tip ctx downloadable True if latest downloadable revision hg util I N I T I A L CHANGELOG HASH return Nonerepository metadata metadata util repository metadata by changeset revision trans encoded repository id latest downloadable revision if repository metadata is not None and repository metadata return repository metadatareturn None 
def saxify element or tree content handler return Element Tree Producer element or tree content handler .saxify
def migration get by instance and status context instance uuid status return I M P L get by instance and status context instance uuid status 
def is prime n if n < 1 return Falsefor i in range 2 int math n + 1 if n % i 0 return Falsereturn True 
@deprecated u def alltrue seq if not len seq return Falsefor val in seq if not val return Falsereturn True 
def oauth2decorator from clientsecrets filename scope message None return O Auth2 Decorator From Client Secrets filename scope message 
def array split ary indices or sections axis 0 ndim ary - ndim > axis or ndim < axis raise Index Error 'xisexceedsndim axis % ndimsize ary numpy indices or sections each size size - 1 // indices or sections + 1 indices [ i * each size for i in six 1 indices or sections ]else indices indices or sectionsif len indices 0 return [ary]skip slice None * axis ret []i 0for index in indices ret ary skip + slice i index ] i indexret ary skip + slice i size ] return ret 
def  decode rrq wrq packet packet buff offset file name idx  get string packet buff offset packet name file name decode options packet packet buff idx return packet 
def prob quantize cdf old binsx binsy cdf binsx np binsx binsy np binsy nx len binsx - 1 ny len binsy - 1 probs np * np nx ny for xind in range 1 nx + 1 for yind in range 1 ny + 1 upper binsx binsy lower binsx xind - 1 ] binsy yind - 1 ] probs xind - 1 yind - 1 ] prob bv rectangle lower upper cdf assert not np probs .any return probs 
def  list Friends fs sep ' ' lock True get Last Message False p Py Fred 'ch.xtin.skypingalfred.find' False for f in fs img imgtype  get Avatar f p Item 'skypename ' + f f + sep f + ' ' + f + ' ' if f else ' ' + f + ' ' if f else ''  get Last Message Formated f if get Last Message else '' not lock f + sep img imgtype if len p items 0 p Item 'skypename notfound 'skypeupdate' 'o Skypefriendfound ' + tg 'aybetryupdatingyourfriends Hitentertodoso True return p X M L 
def Concatenate sep u ' def step ctxt value if value is not None ctxt value def finalize ctxt if not ctxt return Nonereturn sep ctxt return [] step finalize 
def related revisions link obj link '%s?%s' % reverse 'admin wiki revision changelist args [] 'document  exact %s' % obj count obj what count 1 and 'revision' or 'revisions' return '<ahref "%s">%s&nbsp;%s</a>' % link count what 
def compare dirs dir1 dir2 dc filecmp dir1 dir2 if len dc files > 0 or len dc only > 0 or len dc only > 0 or len dc files > 0 dc return Falseelse for subdir in dc dirs if not compare dirs dir1 + '\\' + subdir dir2 + '\\' + subdir return Falsereturn True 
def delta seconds before after delta after - before return datetime seconds delta 
def item endpoint **lookup resource  resource response Nonemethod request method in 'GET' 'HEAD' response getitem resource **lookup elif method 'PATCH' response patch resource **lookup elif method 'PUT' response put resource **lookup elif method 'DELETE' response deleteitem resource **lookup elif method 'OPTIONS' send response resource response else abort 405 return send response resource response 
def  is valid args func args kwargs if func not in signatures return Nonesigs signatures any check valid sig args kwargs for sig in sigs 
def create api key import timetry from hashlib import md5except Import Error from md5 import md5import randomt str time r str random m md5 t m r return m 
def  api qstatus name output kwargs if output 'json' keyword ''else keyword 'queue'return report output keyword keyword data qstatus data 
def handle extra payload payload api model if type payload ! dict return payloaddata payload for key in payload if key not in api model del data isinstance api model fields Nested data handle extra payload data api model elif isinstance api model fields List temp []for _ in payload temp handle extra payload _ api model data tempreturn data 
def get Body Structure msg extended False return  get Message Structure msg .encode extended 
def check mod enabled mod if mod '.load' or mod '.conf' mod file modelse mod file '{0}.load'.format mod return os '/etc/apache2/mods-enabled/{0}'.format mod file 
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
def find predicate seq for element in seq if predicate element return elementreturn None 
def is Stacking Available ret Val Falseif PAYLOAD.TECHNIQUE.STACKED in kb ret Val Trueelse for technique in get Public Type Members PAYLOAD.TECHNIQUE True _ get Technique Data technique if _ and 'stacked' in  ['title'].lower ret Val Truebreakreturn ret Val 
def normjoin *path parts return os os os *path parts 
def parse course and usage keys course id usage id course key Course Key string course id usage id unquote slashes usage id usage key Usage Key string usage id .map into course course key return course key usage key 
def gf quo f g p K df gf degree f dg gf degree g if not g raise Zero Division Error 'polynomialdivision' elif df < dg return []inv K g p h dq dr f ] df - dg dg - 1 for i in range 0 dq + 1 coeff h j in range max 0 dg - i min df - i dr + 1 coeff - h i + j - dg ] * g dg - j ] h coeff * inv % p return h dq + 1 ]
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def magic set obj def decorator func is class isinstance obj six types args varargs varkw defaults inspect func if not args or args not in 'self' 'cls' 'klass' if is class replacement staticmethod func else replacement funcelif args 'self' if is class replacement funcelse def replacement *args **kw return func obj *args **kw try replacement  name   func  name  except passelif is class replacement classmethod func else def replacement *args **kw return func obj  class   *args **kw try replacement  name   func  name  except passsetattr obj func  name   replacement return replacementreturn decorator 
def open cover hass entity id None data {ATTR ENTITY ID entity id if entity id else None hass DOMAIN SERVICE OPEN COVER data 
def info return  nodetool 'info'
def savepoint using None if using is None using DEFAULT DB A L I A Sconnection connections ident thread ident if thread ident in savepoint state and using in savepoint state ident savepoint state ident None else savepoint state thread ident {} savepoint state ident [one str thread ident .replace '-' '' sid 's%s x % tid len savepoint state ident connection savepoint sid return sid 
def pem managed name text backup False **kwargs file args kwargs  get file args name **kwargs file args   salt  ['x509.get pem entry text text return   states  ['file.managed'] **file args 
@not implemented for 'directed' 'multigraph' def is strongly regular G return is distance regular G and diameter G 2
def decode encoding None default encoding 'utf-8' body cherrypy encoding is not None if not isinstance encoding list encoding [encoding]body.attempt charsets encodingelif default encoding if not isinstance default encoding list default encoding [default encoding charsets body charsets + default encoding 
def  instance to allocations dict instance is bfv compute utils volume backed instance instance context instance disk 0 if is bfv else instance gb + instance + instance gb alloc dict {MEMORY MB instance mb VCPU instance DISK GB disk {key val for key val in alloc dict if val 
def dup spherical bessel fn n K seq [ [ K i in range 2 n + 1 a dup mul ground dup lshift seq -1 ] 1 K K 2 * i - 1 K seq dup sub a seq -2 ] K return dup lshift seq 1 K
def quopri decode input errors 'strict' assert errors 'strict' f String I O str input g String I O quopri f g output g return output len input 
def  get related models m related models [subclass for subclass in m  subclasses   if issubclass subclass models Model ]related fields models set for f in m meta fields include parents True include hidden True if f relation and f model is not None and not isinstance f model str related fields models f related models f model opts m metaif opts and m in related fields models related models opts model return related models 
def encode problem and student input usage key student None assert isinstance usage key Usage Key if student is not None task input {'problem url usage key deprecated string 'student' student key stub '{student} {problem}'.format student student problem usage key deprecated string else task input {'problem url usage key deprecated string }task key stub ' {problem}'.format problem usage key deprecated string task key hashlib task key stub .hexdigest return task input task key 
def dashboard mark activities old context data dict  check access 'dashboard mark activities old context data dict model context id model User context .ashboard user id .activity stream last viewed datetime if not context 'defer commit model 
def test local abstractconv gemm image tensor W tensor conv tensor image W input shape 1 32 32 32 filter shape 32 32 3 3 border mode 'half' f theano [image W] [conv] mode mode with gpu f numpy 1 32 32 32 .astype 'float32' numpy 32 32 3 3 .astype 'float32'
def host topology and format from host host was json Falsetry host numa topology host 'numa topology except Attribute Error host numa topology host topologyif host numa topology is not None and isinstance host numa topology six types was json Truehost numa topology objects N U M A Topology from db obj host numa topology return host numa topology was json 
def validate id birthday gd fix coordination number day True today datetime day int gd if fix coordination number day and day > 60 day - 60if gd is None current year today int today '%Y' - int today '%y' + int gd if '%s%s%02d' % gd gd day > today '%y%m%d' year - 100if gd '+' year - 100else year int gd + gd if year < 1800 raise Value Errorbirth day datetime year int gd day if birth day > today raise Value Errorreturn birth day 
def  first and last element arr if isinstance arr np or hasattr arr 'data' data arr if sparse arr else arr return data data -1 ] else return arr 0 0 ] arr -1 -1 ]
def tryit rule def try rl expr try return rule expr except Exception return exprreturn try rl 
def wrap draft item item draft item Mongo Revision Key item item revision Mongo Revision Key return item 
def check key user key enc comment options config '.ssh/authorized keys cache keys None if cache keys is None cache keys []enc  refine enc enc current auth keys user config nline  format auth line key enc comment options if key in current cline  format auth line key current current current if cline ! nline return 'update'else return 'add'return 'exists'
def generate search qs term match 'term' video Duration 'any' after None aliases dict views 'ount qs {'q' term 'esults 50 'earch 'none' 'order' aliases config O R D E R config O R D E R 'part' 'id snippet 'type' 'video' 'uration video Duration 'key' config A P I K E Y after after after qs After ' % datetime - timedelta days D A Y S .isoformat if after in D A Y S else '%s%s' % after 'T00 00 00Z' * len after 10 if match 'related' qs To Video Id termdel qs config S E A R C H M U S I C qs Category Id 10return qs 
def parse cookie value if not value return Nonereturn value 
def docopt doc argv None help True version None options first False if argv is None argv sys ]ocopt Exit printable usage doc options parse defaults doc pattern parse pattern formal usage Docopt Exit options argv parse argv Token Stream argv Docopt Exit list options options first pattern options set pattern Option for ao in pattern Any Options doc options parse defaults doc ao list set doc options - pattern options extras help version argv doc matched left collected pattern .match argv if matched and left [] return Dict a a for a in pattern + collected raise Docopt Exit 
def  init tk type global  tk typeif platform 'darwin' root tkinter Tk ws root 'tk' 'windowingsystem' if 'x11' in ws  tk type 'xquartz'elif 'aqua' not in ws  tk type 'other'elif 'pp Kit in root 'winfo' 'server' '.'  tk type 'cocoa'else  tk type 'carbon'root.destroy else  tk type 'other'
def test feature max length on feature name feature Feature string FEATURE3 assert equals feature length 78
def dmp sub term f c i u K if not u return dup add term f - c i K v u - 1 if dmp zero p c v return fn len f m n - i - 1 if i n - 1 return dmp strip [dmp sub f c v K ] + f ] u elif i > n return [dmp neg c v K ] + dmp zeros i - n v K + f else return f m + [dmp sub f c v K ] + f m + 1 ]
def norm0255 arr arr arr arr - arr arr * 255.0 / arr + 1e-10 arr np arr 'uint8' return arr 
def clear property zone key return  property 'clear' zone key None 
def get Half Simplified Path path radius remainder if len path < 2 return pathchannel Radius radius * 0.01 simplified [path[0]]for point Index in xrange 1 len path - 1 point path Index point Index % 2 remainder simplified point elif not is Within Channel channel Radius point Index path simplified point simplified path -1 ] return simplified 
def  get userprofile from registry user sid profile dir   salt  ['reg.read value 'HKEY LOCAL MACHINE' u S O F T W A R E Microsoft Windows N T Current Version Profile List sid 'rofile Image Path ['vdata']log.debug u {2}profileislocatedat"{1}"'.format user profile dir sid return profile dir 
def Assign target source if not isinstance target list target [target]if not isinstance source list source u [source]return Node syms target + [eaf token E Q U A L u ' prefix u ] + source 
def user data dir appname None appauthor None version None roaming False if system 'win32' if appauthor is None appauthor appnameconst roaming and 'CSIDL APPDATA' or 'CSIDL LOCAL APPDATA' path os  get win folder const if appname if appauthor is not False path os path appauthor appname else path os path appname elif system 'darwin' path os 'ibrary Application Support if appname path os path appname else path os 'XDG DATA HOME' os '~/.local/share' if appname path os path appname if appname and version path os path version return path 
def pw affine fromim toim fp tp tri im toim is color len fromim 3 im t zeros im 'uint8' for t in tri H homography Haffine from points tp t fp t if is color for col in range fromim im t col ndimage transform fromim col H[ 2 2] H[ 0 2 ] H[ 1 2 ] im 2] else im t ndimage transform fromim H[ 2 2] H[ 0 2 ] H[ 1 2 ] im 2] alpha alpha for triangle tp t im im im alpha > 0 ] im t alpha > 0 ]return im 
def noop node lineno return Expr Stmt Const 0 .set lineno lineno 
@login required csrf cookie feature enabled feature name 'ENTRANCE EXAMS' def entrance exam request course key string course key Course Key string course key string if not has course author access request course key return Http Response status 403 if request 'GET' return  get entrance exam request course key elif request 'POST' response format request P O S T 'format' 'html' http accept request M E T A 'http accept if response format 'json' or 'application/json' in http accept ee min score request P O S T 'entrance exam minimum score pct None entrance exam minimum score pct  get default entrance exam minimum pct if ee min score ! '' and ee min score is not None entrance exam minimum score pct float ee min score return create entrance exam request course key entrance exam minimum score pct return Http Response status 400 elif request 'DELETE' return delete entrance exam request course key else return Http Response status 405
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def disable insecure serializers allowed ['json'] for name in registry decoders registry name if allowed is not None for name in allowed registry name 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def get tests for python name def  extract ids t if isinstance t Test Suite result pset for sub tests in t result result |  extract ids sub tests return resultelse return pset [t.id ] loader Test Loader tests loader By Name python name recurse True return  extract ids tests 
@requires csrf tokendef page not found request template name '404.html' try template loader template template name content type Noneexcept Template Does Not Exist template Template 'ot Found Therequested U R L path content type 'text/html'body template Request Context request {'request path request return http Http Response Not Found body content type content type 
def euclidean distance u v diff u - v return sqrt numpy diff diff 
def list to string inlist endsep 'and' addquote False if not endsep endsep ' 'else endsep '' + endsep if not inlist return ''if addquote if len inlist 1 return '"%s"' % inlist return ' '.join '"%s"' % v for v in inlist -1 ] + '%s%s' % endsep '"%s"' % inlist -1 ] else if len inlist 1 return str inlist return ' '.join str v for v in inlist -1 ] + '%s%s' % endsep inlist -1 ]
def maybe list l scalars Mapping string t return l if l is None or is list l scalars else [l]
def destroy oauth tokens user dop access token user user .delete dop refresh token user user .delete dot access token user user .delete dot refresh token user user .delete
def translation matrix direction M numpy 4 M[ 3 3] direction 3]return M
def get info app env account container None swift source None env 'swift.infocache' {} if container path '/v1/%s/%s' % account container path env env path env P A T H INFO'] pathreturn get container info path env app swift source swift source else path '/v1/%s' % account path env env path env P A T H INFO'] pathreturn get account info path env app swift source swift source 
def instantiate descriptor **field data system get test descriptor system course key Slash Separated Course Key 'org' 'course' 'run' usage key course key usage key 'html' 'ample Html return system xblock from class Html Descriptor scope ids Scope Ids None None usage key usage key field data Dict Field Data field data 
def opt in msg hash email removed Email in msg hash if email and removed  system email email '' Email Kind O P T I N return email removed 
def iddr svd A k A np A U V S ier  id svd A k if ier raise  RETCODE E R R O Rreturn U V S
def  validate int name value limits strip '%' comment ''try if isinstance value string types value value '' + strip value int value except Type Error Value Error comment + '{0}mustbeaninteger'.format name else if len limits 2 if value < limits or value > limits comment + '{0}mustbeintherange[{1[0]} {1[1]}]'.format name limits return value comment 
def pull from email account email account email account frappe doc u Email Account email account email account 
def affinity locality predicate write affinity str affinity str write affinity str if not affinity str return Nonematchers []pieces [s.strip for s in affinity str ' ' ]for piece in pieces match re 'r \\d+ ? z \\d+ ?$' piece if match region zone match region int region zone int zone if zone else None matcher {'region' region zone is not None matcher zonematchers matcher else raise Value Error 'nvalidwrite %r' % affinity str def is local ring node for matcher in matchers if matcher ring node and 'zone' not in matcher or matcher ring node return Truereturn Falsereturn is local 
def train autoencoder hidden units training data autoencoder training data [ x x for x _ in training data Network [784 hidden units 784] net S G D autoencoder training data 6 10 0.01 0.05 return net 
def wildcards2patterns wildcards return [re.compile '^' + wc '.' '\\.' .replace '*' '.*' + '$' for wc in wildcards 
def Correlated Normal Generator mu sigma rho for x in Correlated Generator rho yield x * sigma + mu 
def  raise unknown type element type element name raise Invalid B S O N "etectedunknown B S O Ntype Areyouusingthelatestdriverversion % element type element name 
def is device memory obj return getattr obj '  cuda memory  ' False 
def Sub Plot plot number rows None cols None rows rows or SUBPLOT ROWS cols cols or SUBPLOT COLS pyplot rows cols plot number 
def  solve discrete lyapunov bilinear a q eye np a a H a .transpose a H I inv inv a H + eye b np a H - eye a H I inv c 2 * np np inv a + eye q a H I inv return solve lyapunov b .transpose - c 
def xen mem use name global connvm mem 0for id in conn Domains I D dom conn By I D id info dom vm mem vm mem + info return vm mem 
def CAN CHANGE PERMISSIONS article user return  is staff for article article user 
def pci device get by addr context node id dev addr return I M P L device get by addr context node id dev addr 
@utils.arg 'id' metavar '<id>' help _ ' Doftheagent @utils.arg 'version' metavar '<version>' help _ 'ersion @utils.arg 'url' metavar '<url>' help _ 'URL' @utils.arg 'md5hash' metavar '<md5hash>' help _ ' D5hash def do agent modify cs args result cs args args args args utils dict result dict 
def describe object o Function Type types Function Type Method Type types Method Type Instance Type types Instance Type sl []if isinstance o Function Type try sl "<type'function'%s>" % str o name except passelif isinstance o Method Type try sl "<type'method'%s>" % str o func name except passelif isinstance o Instance Type try sl "<type'instance'%s>" % str o  class  .  name   except passelse sl str type o try sl str len o except passreturn ''.join sl 
def test get debug values exc prev value config test valuetry config test value 'raise'x T try for x val in op debug values x assert Falseraised Falseexcept Attribute Error raised Trueassert raisedfinally config test value prev value 
def application init args update False setup environment process args args app new application args model new model app args prompt args settings args if update model status cfg gitcfg return Application Context args app cfg model 
def do merge pr url pr session response session pr url + '/merge' data json dict sha pr if response code ! 200 print ' Rfailedtomerge {}'.format response ['message'] return Falseelse print '{}at{}'.format response ['message'] response ['sha'] del resp delete branch pr session if del resp code ! 204 print 'ranchdeletionfailed {}'.format del resp return Falseprint 'ranchdeleted return True 
def admin url model url object id None opts model metaurl u %s %s %s' % opts label opts name url args if object id is not None args object id return reverse url args args 
def short group names groups groups groups ' ' short group list []if helpers up anidb connection for group Name in groups try group sickbeard A D B A C O N N E C T I O N gname group Name except Ani D B Command Timeout Error logger u Timeoutwhileloadinggroupfrom Ani D B Tryingnextgroup logger D E B U G except Exception logger u Failedwhileloadinggroupfrom Ani D B Tryingnextgroup logger D E B U G else for line in group if line short group list line elif group Name not in short group list short group list group Name else short group list groupsreturn short group list 
def instance test and set context instance uuid attr ok states new state return I M P L test and set context instance uuid attr ok states new state 
def for user user recs recommend for user user return 'oruser wholikes werecommend user user liked ' '.join brandsfor user ['nothing'] recs ' '.join recs 
def match host host pattern if ' ' in host host host port host ' ' 1 else host port Noneif ' ' in pattern pattern pattern port pattern ' ' 1 if pattern port '*' pattern port Noneelse pattern port Noneif pattern port is not None and host port ! pattern port return Falsehost host '.' pattern pattern '.' if len pattern > len host return Falsefor h p in zip host pattern if h p or p '*' continueelse return Falsereturn True 
def  all traverse self result []result.append self for child in self result child all traverse return result 
def  patch wrapper old new try new  name   old  name  new  module   old  module  new  doc   old  doc  new  dict   old  dict  except Exception passreturn new 
def demo bottom cbar fig grid Axes Grid fig 121 nrows ncols 2 2 axes pad 0.1 share all True label mode '1' cbar location 'bottom' cbar mode 'edge' cbar pad 0.25 cbar size '15%' direction 'column' Z extent get demo image cmaps [plt.get cmap 'autumn' plt cmap 'summer' ]for i in range 4 im grid Z extent extent interpolation 'nearest' cmap cmaps i // 2 ] if i % 2 cbar grid axes i // 2 ].colorbar im for cax in grid axes cax label True cax label 'ar grid llc xticks [ -2 0 2] grid llc yticks [ -2 0 2]
def celery settings request capital re '^[A-Z]' settings [key for key in dir current app if capital key ]sorted settings [{'key' key 'value' '*****' if 'password' in key else getattr current app key } for key in sorted settings ]return render to response 'kadmin/settings.html' {'settings' sorted settings 'title' 'elery Settings Request Context request {}
def rescale data matrix means stdevs scale data matrix def rescaled i j if stdevs > 0 return data matrix - means / stdevs else return data matrix num rows num cols shape data matrix return make matrix num rows num cols rescaled 
def keep Original Text s start Loc t try endloc get Tokens End Loc except Parse Exception raise Parse Fatal Exception 'riginal Text del t ]t + Parse Results s Loc endloc return t 
def get disk timeout scheme None return  get powercfg minute values scheme 'SUB DISK' 'DISKIDLE' 'urnoffharddiskafter 
def get calendar info hass calendar calendar info DEVICE SCHEMA {CONF CAL ID calendar CONF ENTITIES [{CONF TRACK calendar CONF NAME calendar CONF DEVICE ID generate entity id '{}' calendar hass hass }]} return calendar info 
def assert true instance logical line if asse trueinst re logical line yield 0 'G316 assert True isinstance a b sentencesnotallowed 
def  convert to example filename image buffer label text height width colorspace ' G B 3image format ' P E G tf Example features tf Features feature {'image/height'  int64 feature height 'image/width'  int64 feature width 'image/colorspace'  bytes feature tf bytes colorspace 'image/channels'  int64 feature channels 'image/class/label'  int64 feature label 'image/class/text'  bytes feature tf bytes text 'image/format'  bytes feature tf bytes image format 'image/filename'  bytes feature tf bytes os filename 'image/encoded'  bytes feature tf bytes image buffer } return example 
def partition lst f save keys False d collections Ordered Dict for l in lst c f l s d c [] s l if save keys return delse return d 
def  merge and sort errors errors key to error {}for error in errors key  time sort key error key to error key {} key to error error def sort key key and error key error key and errorreturn key bool error 'task error key ] return [error for key error in sorted key to error key sort key reverse True ]
def corr nearest corr threshold 1e-15 n fact 100 k vars corr k vars ! corr raise Value Error 'matrixisnotsquare' diff np corr x new corr diag idx np k vars for ii in range int len corr * n fact x adj x new - diff x psd clipped clip evals x adj value threshold if not clipped x new x psdbreakdiff x psd - x adj x new x psd x new diag idx diag idx ] 1else import warningswarnings iteration limit doc Iteration Limit Warning return x new 
def bind row anchor column column name def decorator method @functools.wraps method def wrapper table row cell row name element cell element by By C S S SELECTOR 'td.%s>a' % NORMAL COLUMN CLASS return method table action element row return wrapperreturn decorator 
def  find predicates expr if not isinstance expr Boolean Function return {expr}return set .union *  find predicates i for i in expr 
def get R M S data def  rms data 'udioloudness asrms \n'if len data > 1 return np data axis 1 return np data if isinstance data basestring if not os data raise Value Error ' M S couldnotfindfile % data  junk data wavfile data data tr np data data data tr / 32768.0 elif not isinstance data np data np data .astype np return  rms data 
def  validate min score min score if min score message _ '% min score sisnotavalidgradepercentage % {'min score min score try min score int min score except Value Error raise Gating Validation Error message if min score < 0 or min score > 100 raise Gating Validation Error message 
def strict eq x y   tracebackhide   Trueassert x y assert issubclass type x type y or issubclass type y type x if isinstance x dict and isinstance y dict x sorted x y sorted y elif isinstance x set and isinstance y set x sorted x y sorted y assert repr x repr y 
def  zconfint generic mean std mean alpha alternative if alternative in ['two-sided' '2-sided' '2s'] zcrit stats 1 - alpha / 2.0 lower mean - zcrit * std mean upper mean + zcrit * std mean elif alternative in ['larger' 'l'] zcrit stats alpha lower mean + zcrit * std mean upper np alternative in ['smaller' 's'] zcrit stats 1 - alpha lower - np upper mean + zcrit * std mean else raise Value Error 'invalidalternative' return lower upper 
def start response app environ start response raise Value Error 'hi'
def get more info for log more info []site getattr frappe u None if site more info u Site {0}'.format site form dict getattr frappe u dict None if form dict more info u Form Dict {0}'.format frappe json form dict if more info more info more info + [u''] return u more info 
def  prod vectorized M1 M2 sh1 M1 M2 len sh1 > 2 assert len sh2 > 2 assert sh1 -1 ] sh2 -2 ] ndim1 len sh1 t1 index list xrange ndim1 - 2 + [ ndim1 - 1 ndim1 - 2 ] return np np M1 t1 index [... np * M2[... np ] -3
def to base85 x islong False size 10 if islong else 5 rems ''for i in xrange size rems b85chars x % 85 ] + rems x // 85return rems 
def torrent availability seeds leeches return seeds * 2 + leeches 
def get table description cursor table name cursor ' E L E C T F R O M L I M I T1 % quote name table name return cursor 
def pages to list items objs []while True try page items for item in page objs item except Generator Exit breakreturn objs 
def replace name repl full match False ret {'name' name 'result' False 'changes' {} 'comment' ''}if full match is False search '^.*{0}.*$'.format name else search namematches   salt  ['nxos.cmd'] 'find' search if not matches ret Trueret 'othingfoundtoreplace retif   opts  ['test'] is True ret Noneret 'onfigswillbechanged matchesret [re.sub name repl match for match in matches retret   salt  ['nxos.cmd'] 'replace' name repl full match full match matches   salt  ['nxos.cmd'] 'find' search if matches ret Falseret 'ailedtoreplaceallinstancesof name else ret Trueret 'uccessfullyreplacedallinstancesof name repl return ret 
def install build utils apt install BUILD UTILS PKGS
def  netstat sunos log 'serandprogramnot yet supportedon Sun O S ret []for addr family in 'inet' 'inet6' cmd 'tcp addr family out   salt  ['cmd.run'] cmd python shell True for line in out comps line ret {'proto' 'tcp6' if addr family 'inet6' else 'tcp' 'recv-q' comps 'send-q' comps 'local-address' comps 'remote-address' comps 'state' comps cmd 'udp addr family out   salt  ['cmd.run'] cmd python shell True for line in out comps line ret {'proto' 'udp6' if addr family 'inet6' else 'udp' 'local-address' comps 'remote-address' comps if len comps > 2 else '' } return ret 
def get page classes warn u page classesisdeprecatedin Review Board3 Account Page Deprecation Warning return iter Account Page 
def parse media range range type subtype params parse mime type range try if not 0 < float params < 1 raise Value Errorexcept Key Error Value Error params '1'return type subtype params 
def  Copy Metadata To Protocol Buffer index spec pb spec pb name index 'utf-8' spec pb namespace index 'utf-8' if index source ! Index S E A R C H spec pb source  SOURCES TO PB M A P index source 
def short platform r None p None if r is None r platform if p is None p platform sp r '-' if len sp < 2 return pkernel version sp '.' if len kernel version < 2 return psp '.'.join kernel version 2] rest sp '.' while len rest if rest del rest breaksp '.'.join rest sr '-'.join sp p p r sr return p 
def make filesystem device block device options []if block device and not device Block Device raise Exception '{}isnotablockdevicebutitwasexpectedtobe'.format device elif device Block Device and not block device raise Exception '{}isablockdevicebutitwasnotexpectedtobe'.format device if not block device options ['-F'] command ['mkfs'] + options + ['-t' 'ext4' device run process command 
def set auth auth key  auth registry key request None request request or webapp2 request request auth 
def  merge extra filerefs *args ret []for arg in args if isinstance arg string types if arg ret arg ' ' elif isinstance arg list if arg ret arg return ' '.join ret 
def get url conn urlopen url resp conn conn return resp 
def  check arguments kwargs release deprecated name right name None if deprecated name in kwargs if right name if right name in kwargs msg  LW "he old s release sanditsusemayresultinerrorsinfuturereleases As new s the old s % {'old' deprecated name 'release' release 'new' right name kwargs deprecated name else msg  LW "he old s release sanditsusemayresultinerrorsinfuturereleases Use right s % {'old' deprecated name 'release' release 'right' right name kwargs name kwargs deprecated name else msg  LW "he old s release sanditsusemayresultinerrorsinfuturereleases % {'old' deprecated name 'release' release kwargs deprecated name warnings msg 
def  discover test modules package dir def is unittest module path file name os path return file name UNITTEST FILE PREFIX names get module names package dir package dir should include is unittest module if len names < 1 raise Exception 'ounit % package dir return names 
def skip unless internalhash test ok sys info in {'fnv' 'siphash24'} msg 'equires Sip Hash24or F N V test if ok else unittest msg test 
def get comment header line m re '^ [\\t]*#* ' line if m is None return ''return m 1
def dbg signal sig args return '{} {} '.format signal name sig format args args 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def add ssh public key name filename add ssh public keys name [filename]
def mkalias src dst relative None srcfsr File F S Ref src dstdir dstname os dst if not dstdir dstdir os File F S Ref dstdir if relative relativefsr File F S Ref relative alias File F S New Alias relativefsr srcfsr else alias srcfsr F S New Alias Minimal dstfsr dstfss Res F S Create Resource File dstdirfsr unicode dstname File F S Get Resource Fork Name h Res F S Open Resource File dstfsr File F S Get Resource Fork Name 3 resource Res Resource alias resource Add Resource 'alis' 0 '' Res Close Res File h dstfinfo dstfss F Sp Get F Info dstfinfo Flags dstfinfo Flags | 32768 dstfss F Sp Set F Info dstfinfo 
@transaction.non atomic requests control no cache True no store True must revalidate True @require level 'staff' def spoc gradebook request course id course key Course Key string course id course get course with access request 'staff' course key depth None student info page get grade book page request course course key return render to response 'courseware/gradebook.html' {'page' page 'page url reverse 'spoc gradebook kwargs {'course id unicode course key } 'students' student info 'course' course 'course id course key 'staff access True 'ordered grades sorted course cutoffs key lambda i i reverse True }
def  decode file path fp open path 'r' txt fp m re '#encoding[ \\s]+ \\S+ ' txt if m and m 1 encoding m 1 else encoding 'latin-1'source fp fp try return source encoding except return ''
def get New Derivation element Node return Grid Derivation element Node 
@given u def step a file named filename with context filename step a file named filename and encoding with context filename 'UTF-8' if filename '.feature' command util context attribute exists context 'features' [] context filename 
def get pack base path pack name if not pack name return Nonepacks base paths get packs base paths for packs base path in packs base paths pack base path os packs base path quote unix pack name pack base path os pack base path if os pack base path return pack base pathpack base path os packs base paths quote unix pack name pack base path os pack base path return pack base path 
def test same max and relative values sparktext chart Line chart '_' [0 0 0 0 0] assert chart sparktext u '\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81' chart2 Line chart2 '_' [1 1 1 1 1] assert chart2 sparktext relative to 1 u '\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81\xe2\x96\x81'
def test choose port returns a port number app Onion Share app port assert 1024 < app < 65535
def test greaterthan value other return value > other 
@register.filter name 'currency' def currency value currency None try value D value except Type Error Invalid Operation return u {'currency' currency if currency else settings O S C A R DEFAULT CURRENCY 'format' getattr settings 'OSCAR CURRENCY FORMAT' None 'locale' to locale get language or settings L A N G U A G E CODE }return format currency value **kwargs
def  check means means n components n features means check array means dtype [np.float64 np ensure 2d False  check shape means n components n features 'means' return means 
@collect authdef auth login auth campaign request 'campaign' next url request 'next' data login and register handler auth login True campaign campaign next url next url if data code http F O U N D return redirect data url 
def Locate Optional File Name file Name search Paths None try return Locate File Name file Name search Paths except Keyboard Interrupt return None 
def  expires name cert file  cert file name 'cert' if 'tls.cert info in   salt   expiry   salt  ['tls.cert info cert file ['not after openssl cmd 'opensslx509-in{0}-noout-enddate'.format cert file strptime sux cmd 'date--date "$ {0}|cut-d -f2 "+%s'.format openssl cmd expiry float   salt  ['cmd.shell'] strptime sux cmd output loglevel 'quiet' return datetime expiry 
def  freedman diaconis bins a a np a h 2 * iqr a / len a ** 1 / 3 if h 0 return int np a else return int np a - a / h 
def get manager class rdbms type klass RDBMS R E G I S T R Y rdbms type None if klass is None logging 'here rdbms type klass Dummy Database Managerreturn klass 
def test hsl to rgb part 8 assert hsl to rgb 60 20 50 153 153 102 assert hsl to rgb 60 60 50 204 204 51 assert hsl to rgb 60 100 50 255 255 0
def extract from dict data path value datatry for key in path value value valueexcept Key Error Index Error Type Error return ''
def get contact objects current user contact objects dict CONTACT OBJECTS for key in objects if hasattr contact key manager getattr contact key try manager manager status  hidden False except passobjects Object permitted current user manager return objects 
def  depth first select rectangles min area j None None for i _ u v s t _ _ _ _ in enumerate rectangles area s - u * t - v if min area is None or area < min area min area j area i return rectangles j 
def getval filename keyword *args **kwargs if 'do not scale image data not in kwargs kwargs not scale image data Truehdr getheader filename *args **kwargs return hdr 
def get S V G By Loop Layers add Layer Template To S V G carving loop Layers if len loop Layers < 1 return 'laces Carried max 0 2 - int math math carving Thickness svg Writer S V G Writer add Layer Template To S V G carving Carve Corner Maximum carving Carve Corner Minimum decimal Places Carried carving Carve Layer Thickness return svg Writer Replaced S V G Template carving Name loop Layers 'basic' carving Fabmetheus X M L 
def version exclude prerelease versions output []for version in versions if Sem Ver semver compat version .prerelease is not None continueoutput version return output 
@needs 'pavelib.prereqs.install prereqs 'pavelib.utils.test.utils.clean reports dir @cmdopts [ 'failed' 'f' 'unonlyfailedtests 'fail-fast' 'x' 'unonlyfailedtests make option '-c' '--cov-args' default '' help 'addsasargstocoverageforthetestrun' make option '--verbose' action 'store const const 2 dest 'verbosity' make option '-q' '--quiet' action 'store const const 0 dest 'verbosity' make option '-v' '--verbosity' action 'count' dest 'verbosity' default 1 make option '--disable-migrations' action 'store true dest 'disable migrations help "reatetablesdirectlyfromapps Canalsobeusedbyexporting D I S A B L E MIGRATIONS 1." 'cov args ' None 'deprecatedinfavorofcov-args' make option '-e' '--extra args default '' help 'deprecated passextraoptionsdirectlyinthepavercommandline 'fail fast None 'deprecatedinfavoroffail-fast' ] @assthrough Task test python options passthrough options python suite suites Python Test Suite 'ython Tests passthrough options passthrough options **options.test python python suite 
def  check version actver version cmp op try if cmp op '>' return Loose Version actver > Loose Version version elif cmp op '> ' return Loose Version actver > Loose Version version elif cmp op ' ' return Loose Version actver Loose Version version elif cmp op '<' return Loose Version actver < Loose Version version else return Falseexcept Type Error return True 
def output string  context + str string 
def assert Is first second msg '' a b first second assert a is b '%s %risnot%r' % msg a b a b 
def dup revert f n K g [ dup TC f K ]h [ K K N int  ceil  log n 2 for i in range 1 N + 1 a dup mul ground g K 2 K b dup mul f dup sqr g K K g dup rem dup sub a b K h K h dup lshift h dup degree h K return g 
def  exclude home path list home os '~' for p in path list if not p home yield p 
def get open threads exploration id has suggestion threads get threads exploration id open threads []for thread in threads if thread suggestion has suggestion and thread feedback models S T A T U S CHOICES OPEN open threads thread return open threads 
def test clrtype metaclass characteristics class T type 'hisisourowntype   clrtype   self return type  clrtype   self class X object   metaclass   T Are Equal X.  class   T Are Equal X.  metaclass   X.  class   Are Equal X.  class  .  base   type Are Equal X.  class  .  bases   type Are Equal X.  class  .  doc   'hisisourowntype x X Assert isinstance x X Assert not isinstance x T Assert not issubclass X T Are Equal x  class   X Are Equal x  metaclass   T
def get name of init run utils global  init nametry return  init nameexcept Name Error Attribute Error  init name  get name of init run return  init name 
def create catalog by name name T 'general' result util 'catalog/create' {} POST True data {'name' name 'type' T} result result Catalog result **dict k result for k in 'name' 'type'
def  check call *args **kwargs kwargs open devnull 'w' return check call *args **kwargs
def cov cluster results group use correction True xu hessian inv  get sandwich arrays results cov type 'clu' if not hasattr group 'dtype' or group ! np 'int' clusters group np group return inverse True else clusters np group scale S crosssection xu group nobs k params xu groups len clusters cov c  HCCM2 hessian inv scale if use correction cov c * n groups / n groups - 1.0 * nobs - 1.0 / float nobs - k params return cov c 
def S ISBLK mode return S IFMT mode S IFBLK
def Match pattern s if pattern not in  regexp compile cache  regexp compile cache sre compile pattern return  regexp compile cache s 
@login required redirect False @json view atomic requestsdef ajax request if 'q' not in request G E T raise http Http404 data {'status' 0 'message' ''}email request G E T 'q' '' .strip if not email data message _ 'nemailaddressisrequired return datauser User Profile email email msg _ 'userwiththatemailaddressdoesnotexist if user data status 1 id user name user else data msgreturn escape all data 
def hr search s3 FS 'application.active' True s3 lambda r r 'search ac return s3 rest controller 'hrm' 'human resource 
def warn msg stacklevel 3 if isinstance msg compat types warnings msg exc S A Warning stacklevel stacklevel else warnings msg stacklevel stacklevel 
@hook.commanddef spalbum text params {'q' text }request requests 'http //ws.spotify.com/search/1/album.json' params params if request code ! requests return 'ouldnotgetalbuminformation {}'.format request code data request try  type  id data ' ' [1 ]except Index Error return 'ouldnotfindalbum web shorten gateway  type  id return '\x02{}\x02by\x02{}\x02-{}'.format data data url 
def  walk vdi chain session vdi uuid scan default sr session while True vdi ref session xenapi ' D I by uuid vdi uuid vdi rec session xenapi ' D I record vdi ref yield vdi rec parent uuid  get vhd parent uuid session vdi ref if not parent uuid breakvdi uuid parent uuid 
def tracked files *args out git files u z True *args [ T D O U T out return sorted out -1 ].split u else return []
def get group id for comments service request course key commentable id None if commentable id is None or is commentable cohorted course key commentable id if request 'GET' requested group id request G E T 'group id elif request 'POST' requested group id request P O S T 'group id if has permission request 'see all cohorts course key if not requested group id return Nonetry group id int requested group id get cohort by id course key group id except Course User Group Does Not Exist raise Value Errorelse group id get cohort id request course key return group idelse return None 
def get Local I P ret Val Nonetry s socket socket A F INET socket S O C K STREAM s conf conf ret Val _ s s except debug Msg 'sg + "connectiontoward'%s'" % conf logger debug Msg return ret Val 
def user list profile None **connection args kstone auth profile **connection args ret {}for user in kstone ret dict value getattr user value None for value in dir user if not value '_' and isinstance getattr user value None six type dict bool str tenant id getattr user 'd None if tenant id ret id tenant idreturn ret 
def match file filename exclude base name os filename if base name u return Falsefor pattern in exclude if fnmatch base name pattern return Falseif fnmatch filename pattern return Falseif not os filename and not is python file filename return Falsereturn True 
def solc arguments libraries None combined 'bin abi optimize True extra args None args ['--combined-json' combined '--add-std']if optimize args '--optimize' if extra args try args shlex extra args except args extra args if libraries is not None and len libraries addresses ['{name} {address}'.format name name address address 'utf8' for name address in libraries ]args.extend ['--libraries' ' '.join addresses ] return args 
def  inherit from context uri calling uri if uri is None return Nonetemplate  lookup template context uri calling uri self ns context self nswhile ih is not None ih ih context  {'next' ih ih Template Namespace 'self %s' % template lclcontext template template populate self False context data lclcontext data ih  getattr template ' mako inherit None if callable  is not None ret callable  template lclcontext if ret return retgen ns getattr template ' mako generate namespaces None if gen ns is not None gen ns context return template  lclcontext 
def  pg is older ext ver a b return a < b 
def dup ff prs gcd f g K result  dup ff trivial gcd f g K if result is not None return resulth dup subresultants f g K [ -1 ]h dup monic h K cff dup quo f h K cfg dup quo g h K return h cff cfg 
def  af invert a inv form [0] * len a for i ai in enumerate a inv form ireturn inv form 
def test get index urls locations finder Package Finder [] ['file //index1/' 'file //index2'] session Pip Session locations finder get index urls locations Install Requirement line 'omplex Name .name assert locations ['file //index1/complex-name/' 'file //index2/complex-name/']
def member roles list context data dict group type data dict 'group type 'organization' roles list authz list if group type 'group' roles list [role for role in roles list if role ! 'editor' ] check access 'member roles list context data dict return roles list 
def separate interface data ospf data ospf data re ' .+isup lineprotocolisup ' ospf data ospf data 0 ospf list []while True if len ospf data > 2 intf ospf data 0 section ospf data 0 ospf string intf + section ospf list ospf string else breakreturn ospf list 
def enable Concurrency Checks max Concurrency raise Exception True global g max concurrency g max concurrency raise exceptionassert max Concurrency > 0 g max concurrency max Concurrencyg max concurrency raise exception raise Exceptionreturn 
def format signature signature terms {'\n' '' '[source]' '' u ''}return replace all signature terms 
def path for script script return path current directory script 
def fill notebook work notebook script blocks for blabel bcontent in script blocks if blabel 'code' add code cell work notebook bcontent else add markdown cell work notebook text2string bcontent 
def check dbl result func cargs if result ! 1 return Nonereturn last arg byref cargs 
def encode path p if not isinstance p unicode raise Type Error u Canonlyencodeunicode not type p return p  FILESYSTEM ENCODING
def package create default resource views context data dict dataset dict  get or bust data dict 'package'  check access 'package create default resource views context data dict create datastore views paste data dict 'create datastore views False return ckan views to dataset resources context dataset dict view types [] create datastore views create datastore views 
def get Plugins Directory Path return archive Absolute Folder Path os   file   os 'skeinforge plugins 'analyze plugins 
def dup factor list include f K coeff factors dup factor list f K if not factors return [ dup strip [coeff] 1 ]else g dup mul ground factors coeff K return [ g factors ] + factors ]
def get indexes cursor table name raise Not Implemented Error 
def current request has associated site theme request get current request site theme getattr request 'site theme None return bool site theme and site theme 
def list2numpy l dtype object from numpy import emptya empty len l dtype for i s in enumerate l a sreturn a 
def test add column mixin cols attrs 'name' 'unit' 'dtype' 'format' 'description' 'meta' m mixin cols m is None t Q Table [m] names ['a'] assert m is None t massert m is None m 'm'm.info.format '{0}'m.info.description 'd'm.info.meta {'a' 1}t Q Table [m] t mm 'm3't.add columns [m] copy True m 'm4't.add columns [m] copy False for name in 'm2' 'm3' 'm4' assert table name col equal t 'm' t for attr in attrs if attr ! 'name' assert getattr t attr getattr t attr 
def returns model downgrade None upgrade None return attrsetter ' returns model downgrade upgrade 
def subs task key val if not istask task try if type task is type key and task key return valexcept Exception passif isinstance task list return [subs x key val for x in task tasknewargs []for arg in task ] if istask arg arg subs arg key val elif isinstance arg list arg [subs x key val for x in arg type arg is type key and arg key arg valnewargs arg return task 1] + tuple newargs 
def event name ret {'name' name 'changes' {} 'comment' '' 'result' False event in   events   if salt match event name ret Truereturn ret 
def compile args args kwargs sep prefix processed args []encode encode to py3bytes or py2strfor arg in args if isinstance arg list tuple if isinstance arg Glob Results and not arg arg [arg.path]for sub arg in arg processed args encode sub arg elif isinstance arg dict processed args + aggregate keywords arg sep prefix raw True else processed args encode arg processed args + aggregate keywords kwargs sep prefix return processed args 
def Log Init logging 'nitializing Loggingsubsystem if flags F L A G S config lib C O N F I G Add Context 'ebug Context 'hiscontextistoallowverboseanddebugoutputfromthebinary logger logging Logger memory handlers [m for m in logger if m  class  .  name   're Logging Memory Handler ]logger.handlers list Get Log Handlers Set Log Levels for handler in memory handlers for record in handler logger record 
def single param schema ret multi params schema ret Items 1return ret 
@image comparison baseline images [vent Collection plot  set lineoffset def test  Event Collection  set lineoffset splt coll props generate Event Collection plot new lineoffset -5.0 coll lineoffset new lineoffset assert equal new lineoffset coll lineoffset check segments coll props props new lineoffset props splt title u Event Collection set lineoffset splt ylim -6 -4
def get Geometry Output derivation xml Element if derivation None derivation Shaft Derivation derivation To X M L Element xml Element shaft Path get Shaft Path derivation Bottom derivation Top derivation derivation return lineation Geometry Output By Loop lineation Side Loop shaft Path xml Element 
def apply vagrant workaround if os 'USER' None 'vagrant' del os 
def scheduled resume global   PAUSE E N Dif   PAUSE END is None sabnzbd all 
def parse spec text tokens text ' ' specs []for token in tokens if ' ' not in token token + ' 1' sizespec weight token ' ' weight float weight units {'m' 1 'g' 1 << 10 't' 1 << 20 'p' 1 << 30 }unit units sizespec -1 ].lower None if not unit size float sizespec unit 1else size float sizespec -1 ] spec Partition Spec int size * unit weight specs spec return specs 
def get spacing matrix size spacing offset val arr []row arr []col arr []for var row in range size val arr 1.0 row arr spacing * var row + offset col arr var row mat sp matrix val arr row arr col arr size .tocsc return lu const mat size sparse True 
def do translate message translation function global  defaulteol message message and message str u str u .replace str u str u or None t getattr  active u None if t is not None result getattr t translation function eol message else if  default is None from django import settings default translation settings L A N G U A G E CODE result getattr  default translation function eol message if isinstance message Safe Data return mark safe result return result 
def account check f def wrapper self *args **kwargs for arg in args if isinstance arg Payment Account and arg ! self raise Value Error 'rongaccount {1}'.format arg self return f self *args **kwargs return wrapper 
def list nodes full call None if call 'action' raise Salt Cloud System Exit 'helist nodes fullfunctionmustbecalledwith return get resources vms include Config True 
def prepare multi upload segments yield Fake Wal Segment '0' * 8 * 3 explicit True for i in range 1 5 yield Fake Wal Segment str i * 8 * 3 explicit False 
def gen salt length if length < 0 raise Value Error 'altlengthmustbepositive return ''.join  sys rng SALT CHARS for _ in range type length 
def is html ct headers url allow xhtml False if not ct headers ext os  rfc3986 url [2] [1]html exts ['.htm' '.html']if allow xhtml html exts + ['.xhtml']return ext in html exts ct split header words ct headers [0][0][0]html types ['text/html']if allow xhtml html types + ['text/xhtml' 'text/xml' 'application/xml' 'application/xhtml+xml']return ct in html types 
def get valid column name field if not REGEX VALID TB F L D field if re '^[0-9]' field numbers [ero 'ne 'wo 'hree 'our 'ive 'ix 'even 'ight 'ine numbers field ] + field ] field INVALID C H A R S '_' field return field 
def normalize paragraph text line len 80 indent '' text  NORM SPACES R G X '' text line len line len - len indent lines []while text aline text splittext text line len lines indent + aline return linesep lines 
def skip if command unavailable cmd from matplotlib import check outputtry check output cmd except return skipif True reason u %s' % cmd return lambda f f 
def  flip fiducials idx points nm idx points nm 2]] idx points nm 1]]return idx points nm 
def  list libraries request lib info [{'display name lib name 'library key unicode lib key } for lib in modulestore .get libraries if has studio read access request lib key ]return Json Response lib info 
def  trace S s j b S cosets for h in S cosets if s j return hreturn None 
def group type access get all context type id return I M P L type access get all context type id 
def equalize hist image nbins 256 mask None if mask is not None mask np mask dtype bool cdf bin centers cumulative distribution image nbins else cdf bin centers cumulative distribution image nbins out np image bin centers cdf return out image 
def cache set key value timeout None refreshed False if timeout is None timeout settings C A C H E MIDDLEWARE S E C O N D Srefresh time timeout + time real timeout timeout + settings C A C H E SET DELAY SECONDS packed value refresh time refreshed return cache  hashed key key packed real timeout 
def extract digest key date digest s3 key return digest s3 key -24 -8 ]
def get vagrant config result local 'vagrantssh-config' capture True conf {}for line in iter result parts line conf ''.join parts ] return conf 
def vg check vg name cmd 'vgdisplay%s' % vg name try utils cmd logging 'rovidedvolumegroupexists %s' vg name return Trueexcept error Cmd Error return False 
def  initialize issue counts review request if review request is None return 0issue counts fetch issue counts review request review request open count issue counts Base Comment O P E N request resolved count issue counts Base Comment R E S O L V E D request dropped count issue counts Base Comment D R O P P E D request update fields [u'issue open count u resolved count u dropped count return None 
def  py WX28 convert agg to wx image agg bbox if bbox is None image wx Empty Image int agg int agg image Set Data agg rgb return imageelse return wx Image From Bitmap  WX28 clipped agg as bitmap agg bbox 
def top last month cls key ids None num None cur month datetime .replace day 1 last month decrement month cur month q Session cls .filter cls last month .filter cls 'month' .order by desc cls desc cls count if ids q q getattr cls key .in  ids else num num or 55 q q num return [ getattr r key r count r count for r in q ]
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def from nested tuple sequence sensible relabeling False def  make tree sequence 'ecursivelycreatesatreefromthegivensequenceofnested Thisfunctionemploysthe func `~networkx.tree.join`function\ntorecursivelyjoinsubtreesintoalargertree.\n\n'if len sequence 0 return nx graph 1 return nx [  make tree child 0 for child in sequence T  make tree sequence if sensible relabeling bfs nodes chain [0] v for u v in nx edges T 0 labels {v i for i v in enumerate bfs nodes }T nx nodes T labels return T
def assert case equal case actual desired assert actual desired 'est %s\ndesired %s\n' % case actual desired 
def volume get context volume id return I M P L get context volume id 
def force copy src dest if os dest os dest if os dest dest os dest os src shutil src dest return dest 
def migration get all unconfirmed context confirm window return I M P L get all unconfirmed context confirm window 
def latex preview math expr variables functions case sensitive False if math expr '' return ''latex interpreter Parse Augmenter math expr case sensitive latex interpreter algebra variables functions add defaults variables functions case sensitive if case sensitive casify lambda x x else casify lambda x x render actions {'number' render number 'variable' variable closure variables casify 'function' function closure functions casify 'atom' render atom 'power' render power 'parallel' render parallel 'product' render product 'sum' render sum '\\'wrap escaped strings lambda s Latex Rendered s backslash backslash * 2 output latex interpreter tree render actions terminal converter wrap escaped strings return output 
def collection backup all location backup name None **kwargs for collection name in collection list **kwargs if backup name is not None backup name '&name {backup}.{collection}'.format backup backup name collection collection name else backup name '' query '{collection}/replication?command B A C K U P {location}{backup name json collection collection name backup name backup name location location **kwargs
def login url login view next url None next field 'next' base expand login view login view if next url is None return baseparts list urlparse base md url decode parts md field make next param base next url parts url encode md sort True return urlunparse parts 
@requires version 'scipy' '0.12' def test plot psd epochs import matplotlib as pltepochs  get epochs epochs psd assert raises Runtime Error epochs psd topomap bands [ 0 0.01 'foo' ] epochs psd topomap plt 'all'
def cg has cgsnapshot filter return I M P L has cgsnapshot filter 
def Write Include Paths out eclipse langs include dirs out '<sectionname "nclude Paths out '<languagename "holderforlibrarysettings"></language>\n' for lang in eclipse langs out '<languagename "%s">\n' % lang for include dir in include dirs out '<includepathworkspace path "false">%s</includepath>\n' % include dir out '</language>\n' out '</section>\n'
def  parse timestamp and interval keyword content line '%s%s' % keyword content content match  timestamp re content if not content match raise Value Error 'alformed %s' % keyword line timestamp str interval remainder content match if remainder remainder remainder ]if not interval raise Value Error "%sline'sintervalwasn'tanumber %s" % keyword line try timestamp stem tools parse timestamp timestamp str return timestamp int interval remainder except Value Error raise Value Error "%sline'stimestampwasn'tparsable %s" % keyword line 
def test hsl to rgb part 0 assert hsl to rgb 0 100 50 255 0 0 assert hsl to rgb 60 100 50 255 255 0 assert hsl to rgb 120 100 50 0 255 0 assert hsl to rgb 180 100 50 0 255 255 assert hsl to rgb 240 100 50 0 0 255 assert hsl to rgb 300 100 50 255 0 255
def kernel extensions attrs None where None if salt darwin return  osquery cmd table 'kernel extensions attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def test no truncate crval w wcs W C S naxis 3 w [50 50 212345678000.0]w.wcs.cdelt [0.001 0.001 100000000.0]w.wcs.ctype [ A T A N u D E C T A N u F R E Q header w header for ii in range 3 assert header C R V A L ii + 1 ] w assert header C D E L T ii + 1 ] w 
def get running instructor tasks course id instructor tasks Instructor Task course id course id for state in READY STATES instructor tasks instructor tasks task state state return instructor tasks by '-id'
def make matrix return T 
def  cgi Field Storage  repr  patch self if self return 'ield Storage %r %r ' % self self return 'ield Storage %r %r %r ' % self self self 
def compute dict measures ntwk iflogger u Computingmeasureswhichreturnadictionary ' measures {}iflogger.info u Computingrichclubcoefficient measures club coef nx club coefficient ntwk return measures 
def config Input Queue def capture Input iqueue while True c getch if c u or c u log u Breakreceived \\x{0 02X} '.format ord c iqueue c breaklog u Input Char c if c ! u else u iqueue c input queue queue Queue input thread threading Thread target lambda capture Input input queue input thread Trueinput thread return input queue input thread 
@dog stats api 'status.service.celery.ping' def celery ping _ start time result delayed ping async 'ping' 0.1 task id result value result timeout 4.0 success Trueexcept Timeout Error value Nonesuccess Falseoutput {'success' success 'task id task id 'value' value 'time' time - start }return Http Response json output indent 4 content type 'application/json'
def get Halfwave pitch Radius teeth return pitch Radius * math / float teeth 
def File fd filename None mimetype None from warnings import warnwarn Deprecation Warning 'ileisdeprecated usethe Environ Builderor File Storageinstead return File Storage fd filename filename content type mimetype 
def new data None return S H A224 Hash .new data 
def test lex exception try tokenize ' foo assert True is False except Premature End Of Input passtry tokenize '{foobar' assert True is False except Premature End Of Input passtry tokenize ' defnfoo assert True is False except Premature End Of Input passtry tokenize ' foo assert True is False except Premature End Of Input pass 
def get recommendation tree data recommendation tree {}for subtopic in data recommendation tree subtopic ] []related subtopics data subtopics rel subtopic in related subtopics if rel subtopic exercises get topic contents topic id rel subtopic kinds [xercise for ex in exercises recommendation tree subtopic ].append ex return recommendation tree 
def dbunserialize data db obj None return from pickle do unpickle data db obj db obj 
def inplace optimizer f dh handler dh Destroy Handlerrequirements lambda fgraph fgraph feature dh handler rval From Function Optimizer f requirements rval  name   f  name  return rval 
def nspfxmap *nspfxs return dict pfx nsmap for pfx in nspfxs 
def truncate day dt measure days dt days days // measure * measure return date days 
def get Loop Length polygon polygon Length 0.0for point Index in xrange len polygon point polygon Index Point polygon point Index + 1 % len polygon ]ength + abs point - second Point return polygon Length 
def get module for descriptor user request descriptor field data cache course key position None wrap xmodule display True grade bucket type None static asset path '' disable staff debug info False course None track function make track function request xqueue callback url prefix get xqueue callback url prefix request user location getattr request 'session' {} .get 'country code student kvs Django Key Value Store field data cache if is masquerading as specific student user course key student kvs Masquerading Key Value Store student kvs request student data Kvs Field Data student kvs return get module for descriptor internal user user descriptor descriptor student data student data course id course key track function track function xqueue callback url prefix xqueue callback url prefix position position wrap xmodule display wrap xmodule display grade bucket type grade bucket type static asset path static asset path user location user location request token xblock request token request disable staff debug info disable staff debug info course course 
def get tensor parents placeholders tensor placeholders list []if tensor 'laceholder placeholders list tensor if tensor for t in tensor if not 'read 0' in t placeholders list + get tensor parents placeholders t return list set placeholders list 
def  ll nb1 y X beta alph ll  ll nbp y X beta alph Q 1 return ll 
def send catch log deferred signal Any sender Anonymous *arguments **named def logerror failure recv if dont log is None or not isinstance failure dont log log failure 'rrorcaughtonsignalhandler %s' % recv spider spider return failuredont log named 'dont log None spider named 'spider' None dfds []for receiver in live Receivers get All Receivers sender signal d maybe Deferred robust Apply receiver signal signal sender sender *arguments **named d Errback logerror receiver d Both lambda result receiver result dfds d d Deferred List dfds d Callback lambda out [x[1] for x in out return d 
def test null str Are Equal str Rude Object Override '' Are Equal Rude Object Override .  str   '' Are Equal Rude Object Override .o String None Assert repr Rude Object Override .startswith 'ron Python Test Rude Object Overrideobjectat 
def validate positive float or zero option value if value 0 or value '0' return 0return validate positive float option value 
def  warn missing microversion header header name L O G  LW 'ourrequestwasprocessedbya Nova A P Iwhichdoesnotsupportmicroversions %sheaderismissingfromresponse .arning Responsemaybeincorrect header name 
@receiver post save sender Course User Group def  cohort added sender **kwargs instance kwargs kwargs and instance type Course User Group C O H O R T tracker 'edx.cohort.created' {'cohort id instance 'cohort name instance 
def nearest intersection line0 line1 Pa Pb intersection dist nearest intersection points line0 line1 if Pa is not None n Point Pa - Pb return Pb + n Point * 0.5 intersection dist else return None None 
def resource data get context resource id key result resource data get by key context resource id key if result return crypt result method result return result 
def test skycoord representation c coordinates Sky Coord [0] [1] [0] representation 'cartesian' t Table [c] assert t ['col0' 'one None None '--------------' '0.0 1.0 0.0'] c coordinates Sky Coord [0] [1] [0] unit 'm' representation 'cartesian' t Table [c] assert t ['col0' 'm m m '-----------' '0.0 1.0 0.0'] t 'unitspherical'assert t ['col0' 'deg deg '--------' '90.0 0.0'] t 'cylindrical'assert t ['col0' 'm deg m '------------' '1.0 90.0 0.0']
def  find monitor type cs vtype return utils resource cs types vtype 
def is unique conn table field rows query conn " E L E C Tinformation schema column usage name F R O Minformation schema constraints N A T U R A L J O I Ninformation schema column usage W H E R Einformation schema constraints name % N Dinformation schema column usage name % N Dinformation schema constraints type ' N I Q U E table field name return rows and True or False 
def parse ipv6 literal host entity default port if entity ']' -1 raise Value Error " Pv6addressliteralmustbeenclosedin R F C2732 i entity '] ' if i -1 return entity -1 ] default port return entity i entity i + 2 ]
def test show script result script 'show' 'pip' lines result assert len lines 9 assert 'ame pip in lines assert 'ersion %s' %   version   in lines assert any line 'ocation ' for line in lines assert 'equires ' in lines 
def brand return s3 rest controller 'supply' 'brand'
def  upload folder cf folder container ttl None headers None total bytes 0for root dirs files in os folder for fname in files full path os root fname obj name os full path folder obj size os full path cf file container full path obj name obj name return none True ttl ttl headers headers total bytes + obj sizereturn total bytes 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def encrypt bigfile infile outfile pub key if not isinstance pub key key Public Key raise Type Error 'ublickeyrequired butgot % pub key key bytes common size pub key // 8 blocksize key bytes - 11 outfile byte varblock V A R B L O C K VERSION for block in varblock fixedblocks infile blocksize crypto pkcs1 block pub key varblock varint outfile len crypto outfile crypto 
def  print char code additional info None sys ' X % code  character name code if additional info is not None sys ' DCTB ' + additional info sys '\n'
def  Format Eta eta usec eta datetime eta usec / 1000000 return eta ' H %M %S'
def is decreasing f interval S Reals symbol None f sympify f free sym f symbolsif symbol is None if len free sym > 1 raise Not Implemented Error 'is decreasinghasnotyetbeenimplementedforallmultivariateexpressions elif len free sym 0 return Truesymbol free sym df f symbol df nonpos interval solveset df < 0 symbol domain S Reals return interval subset df nonpos interval 
def  Make Cron List Into Yaml cron list statements ['cron ']for cron in cron list statements + cron To Yaml return '\n'.join statements + '\n'
def add X Intersections From Loop For Table loop x Intersections Table width for point Index in xrange len loop point Begin loop Index End loop point Index + 1 % len loop ]if point Begin > point End point Original point Beginpoint Begin point Endpoint End point Originalfill Begin int math point Begin / width fill End int math point End / width if fill End > fill Begin second Minus First Complex point End - point Begin second Minus First Imaginary Over Real second Minus First Complex / second Minus First Complex begin Real Minus Imaginary point Begin - point Begin * second Minus First Imaginary Over Real for fill Line in xrange fill Begin fill End y fill Line * width x Intersection y * second Minus First Imaginary Over Real + begin Real Minus Imaginary add Element To List Table x Intersection fill Line x Intersections Table 
def trimboth data proportiontocut 0.2 inclusive True True axis None return trimr data limits proportiontocut proportiontocut inclusive inclusive axis axis 
def memoize property storage def decorator method name method  name  def wrapper self if name not in storage storage method self return storage property update wrapper wrapper method return decorator 
def redirect to referrer request default return redirect safe referrer request default 
def custom 404 request template name '404.html' context {'legacy path legacy path request 'download path reverse 'download download 'doc path reverse 'documentation' 'pypi path PYPI U R L render request template name context response Cache Control 'max-age 300'response.status code 404return response 
def  urlnode render replacement self context args [arg.resolve context for arg in self app webapp W S G I Application instancehandler app registered handler by name self name return handler url implicit args True *args except webapp No Url Found Error return ''
def load session filename return loads read filename binary False 
def simple paginate request queryset per page 20 p paginator Simple Paginator queryset per page page p request G E T 'page' 1 page build paged url request return page 
def link or copy src dst if os dst dst os dst os src link errno link src dst if link errno errno E E X I S T if os src .st ino os dst .st ino returnnew dst dst + ' % random 1 16 ** 4 try link or copy src new dst except try os new dst except O S Error passraiseos new dst dst elif link errno ! 0 shutil src dst 
def record absent name zone type data profile zones libcloud dns module zones profile try matching zone [z for z in zones if z zone ][0]except Index Error return state result False 'onecouldnotbefound records libcloud dns module records matching zone profile matching records [record for record in records if record name and record type and record data ]if len matching records > 0 result []for record in matching records result libcloud dns module record matching zone record profile return state result all result 'emoved len result else return state result True 'ecordsalreadyabsent 
def HT DCPERIOD ds count return call talib with ds ds count talib H T DCPERIOD
def  parse iso timestamp entry if not isinstance entry str str type raise Value Error 'parse iso timestamp inputmustbeastr gota % type entry if '.' in entry timestamp str microseconds entry '.' else timestamp str microseconds entry '000000' if len microseconds ! 6 or not microseconds raise Value Error "timestamp'smicrosecondsshouldbesixdigits" if timestamp str 'T' timestamp str timestamp str 10] + '' + timestamp str ] else raise Value Error " timestamp  parse timestamp timestamp str return timestamp + datetime microseconds int microseconds 
def  salt cloud force ascii exc if not isinstance exc Unicode Encode Error Unicode Translate Error raise Type Error "an exc unicode trans {u'\xa0' u u u exc exc in unicode trans return unicode trans exc exc raise exc 
@with setup prepare stdout def test output level 2 fail runner Runner feature name 'failed table verbosity 2 runner assert stdout lines with traceback 'eeitfail F A I L E D Step "ndthisonefails Traceback mostrecentcalllast \ile lettuce core file s line call line d in  call  \nret self self *args **kw \ile step file s line25 intof False Assertion Error 0passed \n1scenario 0passed \n5steps 1failed 2skipped 1undefined 1passed \istoffailedscenarios \cenario Seeitfail features table table 2\n\n' % {'lettuce core file lettuce path 'core.py' 'step file abspath lettuce path '..' 'tests' 'functional' 'output features 'failed table 'failed table steps 'call line call line 
def qcut x q labels None retbins False precision 3 duplicates 'raise' x is series series index name x  preprocess for cut x x dtype  coerce to type x if is integer q quantiles np 0 1 q + 1 else quantiles qbins algos x quantiles fac bins  bins to cuts x bins labels labels precision precision include lowest True dtype dtype duplicates duplicates return  postprocess for cut fac bins retbins x is series series index name 
def best docstring param1 param2 return None 
def dup quo ground f c K if not c raise Zero Division Error 'polynomialdivision' if not f return fif K Field return [ cf c for cf in f return [ cf // c for cf in f 
def  is int string try int string return Trueexcept Value Error return False 
def  icrs to fk5 matrix eta0 -19.9 / 3600000.0 xi0 9.1 / 3600000.0 da0 -22.9 / 3600000.0 m1 rotation matrix - eta0 u m2 rotation matrix xi0 u m3 rotation matrix da0 u return matrix product m1 m2 m3 
def oauth dance app name consumer key consumer secret token filename None open browser True print "ithere We % app name twitter Twitter auth O Auth '' '' consumer key consumer secret format '' api version None oauth token oauth token secret parse oauth tokens twitter token oauth callback 'oob' oauth url 'https //api.twitter.com/oauth/authorize?oauth token ' + oauth token oauth verifier get oauth pin oauth url open browser twitter Twitter auth O Auth oauth token oauth token secret consumer key consumer secret format '' api version None oauth token oauth token secret parse oauth tokens twitter token oauth verifier oauth verifier if token filename write token file token filename oauth token oauth token secret print print "hat Yourauthorizationkeyshavebeenwrittento % token filename return oauth token oauth token secret 
def  date lookup for field field date if isinstance field models Date Time Field date range datetime date datetime datetime date datetime return { '%s  range % field date range return {field.name date 
def adduser group name cmd 'roups Group Membership group name return   salt  ['cmd.retcode'] cmd 0
def  import migrated vhds session instance chain label disk type vdi label imported vhds session plugin serialized 'migration.py' 'move vhds into sr instance uuid chain label sr path get sr path session uuid stack  make uuid stack scan default sr session vdi uuid imported vhds ref session xenapi ' D I by uuid vdi uuid  set vdi info session vdi ref disk type vdi label disk type instance return {'uuid' vdi uuid 'ref' vdi ref 
def conf test return   salt  ['config.option'] 'test.foo'
def Has Class clsid return clsid in map C L S I D To Class 
def dirname path current dir u while u in path path path u u path dirname path u 1 [0]if path dirname path return current dirreturn path u 1 [0]
def decode Generator params return Generic Batch Generator 
def async runner timeout async factory  Async Runner factory timeout timeout seconds suppress twisted logging False store twisted logs False return retry flaky async factory 
def get updater name None if not name name settings A S S E T S U P D A T E Rtry return {one update never False update never 'never' update never 'timestamp' update by timestamp 'hash' update by hash 'interval' update by interval 'always' update always Key Error raise Value Error 'pdater % name 
def create simple binding jboss config binding name value profile None log ' MODULEFUNCTION jboss7 simple binding binding name %s value %s profile %s' binding name value profile operation '/subsystem naming "{binding name add binding simple value "{value}" '.format binding name binding name value   escape binding value value if profile is not None operation '/profile "{profile}"'.format profile profile + operation return   salt  ['jboss7 cli operation jboss config operation 
def starts with path path prefix if sabnzbd W I N32 return clip path path .lower .startswith prefix elif sabnzbd D A R W I N return path .startswith prefix else return path prefix 
def plot MCMC trace ax xdata ydata trace scatter False **kwargs xbins ybins sigma compute sigma level trace trace ax xbins ybins sigma T levels [0.683 0.955] **kwargs if scatter ax trace trace ' k alpha 0.1 ax xlabel '$\\alpha$' ax ylabel '$\\beta$'
def fix error editor self filename linenum column msg warnings '\n`fix error editor I Python5 Itappearstobeusedonlyforautomaticallyfixingsyntax Ifyou oronthe Git Hub Issuetracker \nhttps //github.com/ipython/ipython/issues/9649' User Warning def vim quickfix file t tempfile Named Temporary File t '%s %d %d %s\n' % filename linenum column msg t return tif os self ! 'vim' self filename linenum returnt vim quickfix file try if os 'vim--cmd"seterrorformat %f %l %c %m"-q' + t raise Try Next finally t 
def  url to origin url if url 'null' return 'null'res urllib url scheme res if scheme 'file' return 'null'host res res port is None try port {'https' 443 'http' 80}[scheme]except Key Error port Noneif not host raise Value Error "ohostpartin Origin url return scheme host port 
def  cert details cert pointer data pointer Nonetry data pointer Security Sec Certificate Copy Data cert pointer der cert C F Helpers data to bytes data pointer cert hash hashlib der cert .digest return der cert cert hash finally if data pointer is not None Core Foundation C F Release data pointer 
def get Keys A prefix '' keys A []for row in xrange 4 for column in xrange 4 key get Key A row column prefix keys A key return keys A 
def attach is fan queryset user as field 'is fan attr model queryset user is None or user anonymous sql ' E L E C Tfalse sql " E L E C T C O U N T likes like > R O Mlikes like I N N E R J O I Ndjango content type O Nlikes like type id django content type W H E R Edjango content type ' N D content type label ' N D like id {user id A N D like id {tbl}.id\n"sql sql tbl model meta table user id user queryset queryset select {as field sql return queryset 
def  get menu class for instance menu class instance attrs {'instance' instance name menu class  name  meta class type menu class return meta class class name menu class attrs 
def natural pk mti test format self child 1 Child parent data '1' child data '1' child 2 Child parent data '2' child data '2' string data serializers format [child 1.parent ptr child 2.parent ptr child 2 child 1] use natural foreign keys True use natural primary keys True child 1.delete child 2.delete for obj in serializers format string data obj children Child self Equal len children 2 for child in children self Equal child data child data 
def total seconds delta if sys info 2] ! 2 6 return delta seconds day in seconds delta * 24 * 3600.0 micro in seconds delta / 10.0 ** 6 return day in seconds + delta + micro in seconds 
def get money supply rdint vs request Request vs M A C R O URL % vs P T Y P E vs D O M A I N S rdint vs M A C R O TYPE[2] 1 600 rdint text urlopen request timeout 10 .read text text 'gbk' reg Sym re '\\ count .*? \\}' datastr reg Sym text datastr datastr datastr 'data ' [1]js json datastr df pd Data Frame js columns vs M O N E Y SUPPLY COLS for i in df df df lambda x np x is None '--' x return df 
def stonith create stonith id stonith device type stonith device options None cibfile None return item create item 'stonith' item id stonith id item type stonith device type extra args stonith device options cibfile cibfile 
def get jid jid ret {}for returner  in   opts  [CONFIG KEY] ret  mminion .returners['{0}.get jid returner  ] jid return ret 
def plot results src res figure nbr results len res for i in range nbr results imname src filename res subplot 1 nbr results i + 1 imshow array Image imname axis 'off' show 
def get permalink path self try first permalink id self permalink ids iter .next except Stop Iteration return Nonereturn ' E R M A L I N K P A T H permalink settings self first permalink first permalink id 
@log calldef metadef object get all context namespace name namespace metadef namespace get context namespace name objects [] check namespace visibility context namespace namespace name for object in D A T A objects if object id namespace objects object return objects 
def test trailing spaces in row definition table '\n#comment withblanklineabove \n \ol1 Col2 Col3 \n33.4foo\n14.5bar\n \n'reader ascii reader Reader ascii R S T dat reader table assert equal dat [ol1 'ol2 'ol3 assert equal dat 'foo' assert equal dat 1
def event name ret {'name' name 'changes' {} 'comment' '' 'result' False event in   events   if salt match event name ret Truereturn ret 
def catch errors app application environ start response error callback app ok callback None catch Exception try app iter application environ start response except catch return error callback app environ start response sys info if type app iter in list tuple if ok callback is not None ok callback return app iterelse return  wrap app iter app environ start response app iter error callback app ok callback catch catch 
def is debug return  debug 
def  can access descriptor with start date user descriptor course key return check start date user descriptor early for beta descriptor course key 
def assert mail count count msg None from django import mailif msg is None msg u '.join [e.subject for e in mail msg u %d%s' % len mail count msg assert equals len mail count msg 
def arg type *args **kwargs ret {'args' [] 'kwargs' {}}for argument in args ret str type argument for key val in six kwargs ret str type val return ret 
def  check preload inst if inst is False raise Runtime Error 'odifyingdataof Instanceisonlysupportedwhenpreloadingisused Usepreload True orstring intheconstructor 
def  instrument class cls if cls  module   '  builtin  ' raise sa exc Argument Error 'annotinstrumentabuilt Useasubclass evenatrivialone roles methods  locate roles and methods cls  setup canned roles cls roles methods  assert required roles cls roles methods  set collection attributes cls roles methods 
def filter otu table to n samples otu table n if not 0 < n < len otu table raise Value Error 'umberofsamplestofiltermustbebetween0andthenumberofsamples return otu table n axis 'sample' by id True 
def gprs Suspension Request a Tp Pd pd 6 b Message Type c Tlli d Routing Area Identification e Suspension Cause packet a / b / c / d / e return packet 
def load frame url skiprows return pd csv url skiprows skiprows skipinitialspace True na values [ankholiday 'otavailable parse dates [ate index col 'ate .dropna how 'all' .tz localize 'UTC' .rename columns COLUMN NAMES
def  validate project project parent if parent is None if project is None raise Value Error ' Keymusthaveaprojectset return project 
def valid api version version global VALID API V E R S I O N Sif not isinstance VALID API VERSIONS list VALID API VERSIONS [str VALID API VERSIONS ]return version in VALID API VERSIONS
def test import path seperator Assert Error Import Error   import   'iptest\\warning util   import   'iptest.warning util 
def rs series inversion p x prec R p p R raise Zero Division Errorzm R monomindex R x m min p key lambda k k [index]if m p mul xin p index - m prec prec + m if zm not in p raise Not Implemented Error 'oconstantterminseries if  has constant term p - p x raise Not Implemented Error 'p-p[0]mustnothaveaconstanttermintheseriesvariables' r  series inversion1 p x prec if m ! 0 r mul xin r index - m return r 
@not implemented for 'directed' @not implemented for 'multigraph' def power G k if k < 0 raise Value Error 'kmustbeapositiveinteger' H nx Graph for n in G seen {}level 1nextlevel G nextlevel thislevel nextlevelnextlevel {}for v in thislevel if v n continueif v not in seen seen levelnextlevel G if k < level breaklevel + 1 edges from n nbr for nbr in seen return H
def fast urandom16 urandom [] locker threading R Lock try return urandom except Index Error try locker ur os 16 * 1024 urandom + [ur[i i + 16 ] for i in xrange 16 1024 * 16 16 ]return ur 16]finally locker 
def next tag el el el while el 'br' el el return el 
@pytest.yield fixture autouse True def imp env xonsh execer load builtins execer xonsh execer builtins  xonsh env   Env {'PATH' [] 'PATHEXT' []} yield unload builtins 
def get application id return app identity application id 
def except token source start token throw True start pass white source start if start < len source and source token return start + 1 if throw raise Syntax Error 'issingtoken Expected % token return None 
@contextlib.contextmanagerdef temporary mutation obj **kwargs def is dict like thing return hasattr thing 'has key def get thing attr default if is dict like thing return thing attr default else return getattr thing attr default def set value thing attr val if is dict like thing thing valelse setattr thing attr val def delete thing attr if is dict like thing del thing delattr thing attr NOT PRESENT object old values {}for attr new value in kwargs old values get obj attr NOT PRESENT set value obj attr new value try yield finally for attr old value in old values if old value is NOT PRESENT delete obj attr else set value obj attr old value 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@protocol.commands.add u list end list command False def command list end context if not context list receiving raise exceptions Mpd Unknown Command command u list end context list receiving False command list context list context list [] command list ok context list ok context list ok False command list response []for index command in enumerate command list response context request command current command list index index command list response response if command list response and command list response -1 ].startswith u A C K return command list responseif command list ok command list response u OK' return command list response 
def  check rel element if 'rel' not in element return Truemust have {'stylesheet' 'icon'}rels [rel.lower for rel in element '' ]return any rel in rels for rel in must have 
def  bytes feature value return tf Feature bytes list tf Bytes List value [value]
@step 'donotseethechanges @step 'seethesetdates def i see the set dates  step verify date or time COURSE START DATE CSS '12/20/2013' verify date or time COURSE END DATE CSS '12/26/2013' verify date or time ENROLLMENT START DATE CSS '12/01/2013' verify date or time ENROLLMENT END DATE CSS '12/10/2013' verify date or time COURSE START TIME CSS DUMMY TIME verify date or time COURSE END TIME CSS DEFAULT TIME verify date or time ENROLLMENT START TIME CSS DEFAULT TIME verify date or time ENROLLMENT END TIME CSS DUMMY TIME
def getnameinfo sockaddr flags return get hub .resolver.getnameinfo sockaddr flags 
def decode base32 to hex base32 string bin form base64 base32 string return binascii bin form 
def verify list mailchimp list id course id lists mailchimp filters {'list id list id ['data']if len lists ! 1 log 'incorrectlistid' return Falselist name lists 'listname %s' list name parts course id '_' '' .replace '/' '' .split count sum 1 for p in parts if p in list name if count < 3 log course id log list name log 'course iddoesnotmatchlistname return Falsereturn True 
def ceph version return ceph cfg version 
def record user has seen notifications user id last seen msecs subscriptions model user models User Subscriptions Model user id strict False if not subscriptions model subscriptions model user models User Subscriptions Model id user id subscriptions model checked datetime last seen msecs / 1000.0 subscriptions model 
def  Scrub Update Viewpoint op args  Scrub For Class Viewpoint op args dict 
def get localizer language 'nglish languages dict English English Getter Greek Greek Getter return languages 
def create uninitialized tensor descriptor desc Descriptor cudnn Tensor Descriptor cudnn Tensor Descriptor return desc 
def merge cache under settings destination setting key prefix list  False default {} if not list  else [] existing destination setting value get cache key prefix + '.' + setting default if value if existing if list  base dict zip value [one * len value for val in existing if val in base continuevalue val else value existing destination value 
def get terminal size def ioctl GWINSZ fd try import fcntlimport termiosimport structcr struct 'hh' fcntl fd termios T I O C G W I N S Z '1234' except return Noneif cr 0 0 return Nonereturn crcr ioctl GWINSZ 0 or ioctl GWINSZ 1 or ioctl GWINSZ 2 if not cr try fd os os os O RDONLY cr ioctl GWINSZ fd os fd except passif not cr cr os 'LINES' 25 os 'COLUMNS' 80 return int cr int cr 
def add milestone milestone data if not settings F E A T U R E S 'MILESTONES APP' return Nonereturn milestones api milestone milestone data 
def convert to RGB 255 colors rgb components []for component in colors rounded num decimal Decimal str component * 255.0 .quantize decimal Decimal '1' rounding decimal R O U N D HALF EVEN rounded num int rounded num rgb components rounded num return rgb components rgb components rgb components 
def import E Tree etree in c Nonetry import xml Element Tree as etree in cexcept Import Error try import xml Element Tree as etreeexcept Import Error try import c Element Tree as etree in cexcept Import Error try import elementtree Element Tree as etreeexcept Import Error message CRITICAL 'ailedtoimport Element Tree sys 1 if etree in c and etree in c V E R S I O N < '1.0' message CRITICAL 'orc Element Treeversion1 sys 1 elif etree in c return etree in celif etree V E R S I O N < '1.1' message CRITICAL 'or Element Treeversion1 sys 1 else return etree 
@environmentfilterdef do attr environment obj name try name str name except Unicode Error passelse try value getattr obj name except Attribute Error passelse if environment and not environment safe attribute obj name value return environment undefined obj name return valuereturn environment obj obj name name 
def validate clip with axis axis args kwargs if isinstance axis ndarray args axis + args axis Nonevalidate clip args kwargs return axis 
def delete flavor info metadata *prefixes for key in system metadata flavor props for prefix in prefixes to key '%sinstance type %s' % prefix key del metadata key key in list metadata for prefix in prefixes if key '%sinstance type extra ' % prefix del metadata metadata 
def init Multiprocessing if not queue returnfor handler in logger ] logger Handler handler queue handler Queue Handler queue queue handler Level logging D E B U G logger Handler queue handler threading thread .name multiprocessing process .name
def expand reqs fpath absfpath os fpath output expand reqs helper absfpath set return sorted set output 
def test read twoline Re S T table '\n \ol1 Col2 \n1.2"hello"\n2.4\'sworlds\n \n'dat ascii table Reader ascii Fixed Width Two Line header start 1 position line 2 data end -1 assert equal dat 'ol1 'ol2 assert almost equal dat 2.4 assert equal dat '"hello"' assert equal dat "'sworlds"
def imp find module name path None names name '.' if path is not None if isinstance path str unicode path [os.path.realpath path ]for name in names result imp module name path if result is not None result path [result[1]]return result 
def  Check Integer value name zero ok True upper bound None datastore types Validate Integer value name Value Error empty ok True zero ok zero ok if upper bound is not None and value > upper bound raise Value Error '%s %dmustbe< %d' % name value upper bound return value 
def gaussian x mean stddev tmp -0.5 * sum x - mean / stddev ** 2 return np tmp / np 2.0 * np 0.5 * len x * stddev 
@require P O S T required create sub comment request course id comment id if is comment too deep parent cc Comment comment id return Json Error _ 'ommentleveltoodeep return  create comment request Course Key string course id parent id comment id 
def location Updating Reject a Tp Pd pd 5 b Message Type mes Type 4 c Reject Cause packet a / b / c return packet 
def collect attributes attributes *containers collected []if attributes collected + attributesfor container in containers if container collected + container attributesreturn collected 
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def api New user passwd return Delicious A P I user user passwd passwd 
def  safe html s return cgi s quote 1 .replace "'" '&#39;'
def test set format shares subfmt t Time '+02000-02-03' format 'fits' out subfmt 'date hms precision 5 tc t t 'isot'assert t 5 assert t subfmt 'date hms assert t '2000-02-03T00 00 00.00000' t 'fits'assert t tc assert t 5
def connect Net To Ms Facility presence 0 Progress Indicator presence 0 Connected Number presence 0 Connected Subaddress presence 0 User User presence 0 a Tp Pd pd 3 b Message Type mes Type 7 packet a / b if Facility presence is 1 c Facility Hdr iei F 28 eight Bit F 0 packet packet / c if Progress Indicator presence is 1 d Progress Indicator Hdr iei P I 30 eight Bit P I 0 packet packet / d if Connected Number presence is 1 e Connected Number Hdr iei C N 76 eight Bit C N 0 packet packet / e if Connected Subaddress presence is 1 f Connected Subaddress Hdr iei C S 77 eight Bit C S 0 packet packet / f if User User presence is 1 g User User Hdr iei U U 127 eight Bit U U 0 packet packet / g return packet 
def compatible channels source channel sink channel source type name lookup source channel sink type name lookup sink channel ret issubclass source type sink type if source channel ret ret or issubclass sink type source type return ret 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def get global notification type global subscription user for notification type in constants N O T I F I C A T I O N TYPES if getattr global subscription notification type .filter id user .exists return notification type 
def temp directory prefix  create trashcan dir return  create trashcan subdir prefix 
def format block block nlspaces 0 import relines str block .split '\n' while lines and not lines del lines lines and not lines -1 ] del lines -1 ]ws re '\\s*' lines .group 0 if ws lines map lambda x x ws '' 1 lines while lines and not lines del lines lines and not lines -1 ] del lines -1 ]flines [ '%s%s' % '' * nlspaces line for line in lines '\n'.join flines + '\n'
def copy cache cache if cache is None return Noneelif type cache is dict return {}return L R U Cache cache 
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def array repr arr max line width None precision None suppress small None return numpy repr cupy arr max line width precision suppress small 
def aggregate metadata get context aggregate id return I M P L metadata get context aggregate id 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def gis hierarchy editable level id country current parent country id s3db current s3db hierarchyfieldname 'edit %s' % level query table 'SITE DEFAULT' if country query | table id country limitby 0 2 else limitby 0 1 rows current query .select table table limitby limitby cache s3db if len rows > 1 filter lambda row row 'SITE DEFAULT' rows filter row rows editable row editable 
def raw seconds short string match re '^ \\d+ [0-5]\\d $' string if not match raise Value Error u Stringnotin M S Sformat minutes seconds map int match return float minutes * 60 + seconds 
def unregister email hook signal handler assert signal in review request published review request closed review published reply published u Invalidsignal % signal  hooks handler 
def get field parts model field name parts field name LOOKUP SEP opts model metafields []for name in parts try field opts field name except Field Does Not Exist return Nonefields field if isinstance field Related Field opts remote model field . metaelif isinstance field Foreign Object Rel opts field model metareturn fields 
def avail sizes response list common lookups kwargs {'lookup' 'server.ram'} ret {}for item in response name item itemreturn ret 
def  get plugin plugin name plugin list plugin Nonefor plug in plugin list if plug plugin name plugin plugbreakreturn plugin 
def empty urlconf request t Template EMPTY URLCONF TEMPLATE name 'mpty U R L Conftemplate c Context {'project name settings S E T T I N G S M O D U L E '.' [0]} return Http Response Not Found t c mimetype 'text/html'
def  mark method skipped meth reason @functools.wraps meth def wrapper *args **kwargs raise testtools Test Skipped reason return wrapper 
def keyring present **kwargs return ceph cfg present **kwargs
def create index types evaluator index if index ' ' return set [lice evaluator None None None ] elif tree node index 'subscript' result []for el in index if el ' ' if not result result None elif tree node el 'sliceop' if len el 2 result el else result el result + [one * 3 - len result return set [lice evaluator *result ] return evaluator element index 
@dispatch Expr Mongo Query def post compute e q scope None scope {'$project' toolz {' id 0} dict col 1 for col in e }q q scope if not e result get result q list q [0]if isscalar e return result name return get e result dicts get result q list q if isscalar e return list pluck e dicts default None else return list pluck e dicts default None 
def widget toggle request collapsed request G E T u None widget request G E T u None if widget and collapsed siteconfig Site Configuration current widget settings siteconfig u settings {} widget settings collapsedsiteconfig u settings widget settings siteconfig return Http Response u 
def p direct declarator 4 t pass 
def format help entry title help text aliases None suggested None string  SEP + '\n' if title string + ' Helpfor % title if aliases string + '{C aliases % {n' % '{C {n'.join '{w%s{n' % ali for ali in aliases if help text string + '\n%s' % dedent help text if suggested string + ' Suggested {n'string + '%s' % fill '{C {n'.join '{w%s{n' % sug for sug in suggested string string + '\n' +  SEP return string 
def miscs update idxs vals miscs idxs vals assert all vals used True idxs map None if idxs map is None idxs map {}assert set idxs set vals misc by id dict [ m m for m in miscs for m in miscs m dict [ key [] for key in idxs m dict [ key [] for key in idxs for key in idxs assert len idxs len vals for tid val in zip idxs vals tid idxs map tid tid if assert all vals used or tid in misc by id misc by id [tid]misc by id [val]return miscs 
def get versions cfg get config verbose cfg return git versions from keywords get keywords cfg prefix verbose except Not This Method passtry root os   file   for i in cfg source '/' root os root except Name Error return {'version' '0+unknown' 'full-revisionid' None 'dirty' None 'error' 'unabletofindrootofsourcetree' 'date' None pieces git pieces from vcs cfg prefix root verbose return render pieces cfg except Not This Method passtry if cfg prefix return versions from parentdir cfg prefix root verbose except Not This Method passreturn {'version' '0+unknown' 'full-revisionid' None 'dirty' None 'error' 'unabletocomputeversion' 'date' None 
def  copy entries arr return [c.copy for c in arr 
def p numlist p if len p > 2 p p p else p [p[1]]
def strip accents ascii s nkfd form unicodedata u N F K D s return nkfd form u A S C I I u .decode u A S C I I 
def dmp add ground f c u K return dmp add term f dmp ground c u - 1 0 u K
def roundrobin *iterables pending len iterables nexts cycle iter it .next for it in iterables while pending try for next in nexts yield next except Stop Iteration pending - 1nexts cycle islice nexts pending 
def clean filename filename split fname filename '.' 1 split fname FILENAME T O K E Nreturn '.'.join split fname 
def format status status github jenkins statusreturn u {} {} '.format github jenkins github url 
def  gen rules port min port min top bit rules []mask top bit - 1 while True if port min & mask 0 rules  hex format port min mask breaktop bit >> 1mask >> 1if port min & top bit 0 rules  hex format port min & ~ mask | top bit mask return rules 
def  select helper args kwargs if len args > 1 raise Type Error ' N Epositionalargument if len args > 0 and len kwargs > 0 raise Type Error ' I T H E Rapositionalargument O Rkeywordarguments notboth .' if len args 0 and len kwargs 0 raise Type Error ' I T H E Rapositionalargument O Rkeywordarguments if args arg args isinstance arg dict selector argelif isinstance arg string types selector dict name arg elif issubclass arg Model selector {'type' arg raise Runtime Error 'electormustbeadictionary stringorplotobject else selector kwargsreturn selector 
def Comma return Leaf token C O M M A ' '
def etag request processor page request class Dummy Response dict u Thisisadummyclasswithenoughbehaviourof Http Responsesowe has header page what return Falsedef dummy response handler *args **kwargs return Dummy Response def etagger request page *args **kwargs etag page request return etagdef lastmodifier request page *args **kwargs lm page modified return lmfrom django import conditionrsp condition etag func etagger last modified func lastmodifier dummy response handler request page if not isinstance rsp Dummy Response return rsp 
def  inclusive Namespace Prefixes node context unsuppressed Prefixes inclusive []if node used Prefixes [ 'xmlns %s' % node ]else used Prefixes ['xmlns']for a in  attrs node if a Name 'xmlns' or not a continueused Prefixes 'xmlns %s' % a unused namespace dict {}for attr in context n attr Nameif n in unsuppressed Prefixes inclusive attr elif n 'xmlns ' and n ] in unsuppressed Prefixes inclusive attr elif n 'xmlns' and n ] in unsuppressed Prefixes inclusive attr elif attr Name in used Prefixes inclusive attr elif n 'xmlns ' unused namespace dict attr inclusive unused namespace dict 
def in6 ifaceidtomac ifaceid try ifaceid inet pton socket A F INET6 ' ' + ifaceid [8 16]except return Noneif ifaceid 5] ! '\xff\xfe' return Nonefirst struct 'B' ifaceid 1] [0]ulbit 2 * [1 '-' 0][ first & 2 ] first struct 'B' first & 253 | ulbit oui first + ifaceid 3] end ifaceid ]l map lambda x '%.02x' % struct 'B' x [0] list oui + end return ' '.join l 
def interpret in shape xshape if isinstance xshape int np return xshape 1 elif len xshape 2 return xshapeelse return np xshape 1
def Donut data label 'index' values None color None agg None hover tool True hover text None plot height 400 plot width 400 xgrid False ygrid False **kw kw labelkw valueskw colorkw xgridkw ygridkw height plot heightkw width plot widthif agg is not None kw aggchart create and build Donut Builder data **kw chart Falsechart False values agg derive aggregation dim cols label agg col values agg agg if hover tool tooltip build agg tooltip hover text hover text aggregated col values agg text agg chart tools Hover Tool tooltips [tooltip] return chart 
def idd reconid B idx proj B np B if proj > 0 return  id reconid B idx proj else return B[ np idx ]
def check multinomial samples value expected shape expected mean tol assert value expected shape assert is binary value assert np value axis 1 1 mean value axis 0 max error np mean - expected mean .max if max error > tol print 'ctualmean ' print mean print 'xpectedmean ' print expected mean print 'aximalerror ' max error raise Value Error "amplesdon 
def is carrier specific numobj region codes region codes for country code numobj code region code  region code for short number from region list numobj region codes national number national significant number numobj metadata Phone Metadata metadata for region region code return metadata is not None and  is number matching desc national number metadata specific 
def sanitize hostname hostname if six P Y3 hostname hostname 'latin-1' 'ignore' hostname hostname 'latin-1' elif isinstance hostname six type hostname hostname 'latin-1' 'ignore' hostname re '[_]' '-' hostname hostname re '[^\\w.-]+' '' hostname hostname hostname hostname hostname '.-' return hostname 
def test scenario matches tags excluding scenario Scenario string SCENARIO1 original string S C E N A R I O1 tags ['anothertag' 'another-tag'] assert not scenario tags ['-anothertag'] assert scenario tags ['-foobar']
def destroy vm session instance vm ref try session V M vm ref except session Xen A P I Failure L O G  LE 'estroy V Mfailed return L O G ' Mdestroyed instance instance 
def  pick data channels info exclude 'bads' with ref meg True return pick types info ref meg with ref meg include [] exclude exclude selection None ** PICK TYPES DATA DICT
def Nonfunction *args return None 
def test disconnect one timer func mock Mock timer func timer func timer assert not func 
def  add new ide controller helper ide controller label controller key bus number if controller key is None controller key randint -200 250 ide spec vim Virtual Device Spec ide spec vim Virtual I D E Controller ide spec vim Virtual Device Spec Operation spec controller keyide spec Number bus numberide spec Info vim Description ide spec Info ide controller labelide spec Info ide controller labelreturn ide spec 
def copy monitordir host tmp dir host tmp dir host file MONITORDIR tmp dir return os tmp dir 'monitors'
def db setup with retry db name db host db port username None password None ensure indexes True ssl False ssl keyfile None ssl certfile None ssl cert reqs None ssl ca certs None ssl match hostname True retrying obj retrying Retrying retry on exception  retry if connection error wait exponential multiplier cfg C O N F retry backoff mul * 1000 wait exponential max cfg C O N F retry backoff max s * 1000 stop max delay cfg C O N F retry max delay m * 60 * 1000 return retrying obj db setup db name db host db port username username password password ensure indexes ensure indexes ssl ssl ssl keyfile ssl keyfile ssl certfile ssl certfile ssl cert reqs ssl cert reqs ssl ca certs ssl ca certs ssl match hostname ssl match hostname 
def print info content summary info fout None rep record 0 fout fout or sys if not summary info vector summary info content rep sequence summary info record pos ic in enumerate summary info vector fout '%d%s%.3f\n' % pos rep sequence ic 
def get portaudio version text return pa version text 
def benchmark N Func iter ns def decorator func for n in ns benchmark Funcs func n iter return funcreturn decorator 
def format tb tb limit None return format list extract tb tb limit 
def source attributes domain return string attributes domain 
def generate involutions n idx list range n for p in permutations idx for i in idx if p ! i breakelse yield p 
def   standardize result status message data None debug msg None result {'status' status 'message' message data is not None result dataif debug msg is not None and debug result debug msgreturn result 
def autostartup for app in settings I N S T A L L E D APPS try mod import module app + '.startup' except Import Error continueif hasattr mod 'run' mod 
def Check Flow Authorized Labels token flow name flow cls flow G R R Flow Get Plugin flow name if flow cls A U T H O R I Z E D LABELS return Check User For Labels token flow cls A U T H O R I Z E D LABELS token token else return True 
def fetch lyricswiki artist title url LYRICSWIKI URL PATTERN %  lw encode artist  lw encode title html fetch url url if not html returnlyrics extract text in html u 'lyricbox'>" if lyrics and 'nfortunately wearenotlicensed not in lyrics return lyrics 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def recipients to addresses recipients review request id None addresses set for recipient in recipients assert isinstance recipient User or isinstance recipient Group if isinstance recipient User addresses build email address for user recipient else addresses get email addresses for group recipient review request id return addresses 
def assert deb content test case expected paths package path output dir File Path test case output dir check output ['dpkg' '--extract' package path output dir actual paths set for f in output dir if f continueactual paths File Path '/' .descendant f From output dir test case Equal set expected paths actual paths 
def is First Best Match result sickrage Core Logger u Checkingifweshouldarchiveourfirstbestqualitymatchforepisode + result show obj result any qualities best qualities Quality Quality show obj if best qualities and show obj firstmatch and result in best qualities return Truereturn False 
def task flake8 yield {'name' os os 'nikola' 'actions' ['flake8nikola/']}
def iterlen items try return len items except Type Error for i x in enumerate items count ireturn count + 1
def prepare adagrad test dataset type 'arange' model type 'random' cost Sum Of Costs [um Of One Half Params Squared 0.0 Dummy Cost ] model Dummy Model shapes lr scalers scales init type model type if dataset type 'arange' dataset Arange Dataset 1 elif dataset type 'zeros' X np 1 1 X[ 0] np 1 dataset Dense Design Matrix X else raise Value Error 'nknownvaluefordataset type %s' dataset type sgd SGD cost cost learning rate learning rate learning rule Ada Grad batch size 1 sgd model model dataset dataset state {}for param in model params param shape param value .shapestate[param] {}state[param]['sg2'] np param shape return cost model dataset sgd state 
def asinh x np import module 'numpy' if isinstance x int float return interval np x elif isinstance x interval start np x end np x return interval start end is valid x valid else return Not Implemented Error 
def zdt2 individual g 1.0 + 9.0 * sum individual ] / len individual - 1 f1 individual g * 1 - f1 / g ** 2 return f1 f2 
def load repo client path None index 'git' path dirname dirname abspath   file   if path is None else path repo name basename path repo git Repo path create git index client index client index index doc type 'repos' id repo name body {} ignore 409 for ok result in streaming bulk client parse commits repo repo name index index doc type 'commits' chunk size 50 action result result doc id '/%s/commits/%s' % index result id if not ok print 'ailedto %r' % action doc id result else print doc id 
def delete firewall rule firewall rule profile None conn  auth profile return conn firewall rule firewall rule 
def rbm ais pk free energy rbm A params rbm B params beta v sample def rbm fe rbm params v b weights visbias hidbias rbm paramsvis term b * tensor v visbias hid act b * tensor v weights + hidbias fe - vis term - tensor tensor 1 + tensor hid act axis 1 return fefe a rbm fe rbm A params v sample 1 - beta fe b rbm fe rbm B params v sample beta return fe a + fe b 
def new repo path qtutils dialog N  u New Repository core if not path return Noneif git git worktree path or git git dir path return path status out err core command [u'git' u path if status 0 return pathelse title N  u Error Creating Repository msg N  u command s status d % dict command u % path status status details N  u Output \n%s' % out if err details + u + N  u Errors %s' % err qtutils title msg details return None 
def get http url method host path headers if method ! None and path ! None if host ! '' and not re ' http s ? // ?' + host path http url req method + '' + host + path else http url req method + '' + path http url req url filter http url req return http url req 
def apply Sparse Filter kerns kshp nkern images imgshp step 1 1 bias None mode 'valid' if numpy imgshp 2 imgshp 1 + imgshp indices indptr spmat shape sptype outshp kmap convolution indices eval imgshp kshp nkern step mode sparsew theano C S M sptype kmap kerns indices indptr spmat shape output sparse dot sparsew images T .if bias is not None output + biasreturn output numpy nkern outshp 
def  can show deleted context if hasattr context 'show deleted return context deletedif not hasattr context 'get' return Falsereturn context 'deleted' False 
def finder pl initialize vim u set active finder return [{u'highlight groups [u'commandt finder u vim u powerline commandt reply .replace u Command T ' u .replace u Finder ' u }]
def Init Network input pattern model spec mode 'eval' initial learning rate 5e-05 final learning rate 5e-05 halflife 1600000 optimizer type 'dam num preprocess threads 1 reader None model V G S L Image Model mode model spec initial learning rate final learning rate halflife left bracket model spec '[' right bracket model spec ']' if left bracket < 0 or right bracket < 0 raise Value Error 'ailedtofind model spec input spec model spec left bracket spec model spec bracket right bracket + 1 ]output spec model spec right bracket + 1 ]uild input pattern input spec layer spec output spec optimizer type num preprocess threads reader return model 
def  save user contributions user contributions user contributions user models User Contributions Model id user contributions id created exploration ids user contributions exploration ids edited exploration ids user contributions exploration ids .put
def  default callback unzip afile fi nfiles if fi > 0 and fi % round nfiles / 10 0 pct done round 100.0 * fi + 1.0 / nfiles sys '%d%%' % pct done sys if not is windows and os afile [1] in system specific scripts or afile 'manage.py' sys ' DCTB Changingpermsonscript % afile 
def test sample wrong X sm SMOTEENN random state RND SEED sm X Y assert raises Runtime Error sm np 100 40 np [0] * 50 + [1] * 50
def SHORTER fragment return len fragment 
def min weight graph src dst n default {'weight' np graph src default ['weight']w2 graph dst default ['weight']return {'weight' min w1 w2 }
def sort q values header val if not header val return []def item x e r x u [ 2] p v r u ' [ 2]q 1.0if p u and v try q max 0.0 min 1.0 float v except Exception passreturn e q return tuple map itemgetter 0 sorted map item parse http list header val key itemgetter 1 reverse True 
def  Shard Name name number return  Suffix Name name str number 
def get compiler compiler **compiler attrs if compiler is None or isinstance compiler str cc ccompiler compiler compiler compiler customize compiler cc if cc type 'mingw32' customize mingw cc else cc compilerfor name val in compiler attrs setattr cc name val return cc 
def jsbuild prompt print BOKEHJS BUILD PROMPT mapping {'1' True '2' False input 'hoice while value not in mapping print "nput Validchoices 1 2\n" % value value input 'hoice return mapping 
def attach total points queryset as field 'total points attr model queryset 'SELECTSUM projects points \ R O Muserstories rolepoints I N N E R J O I Nprojects points O Nuserstories rolepoints id projects points W H E R Euserstories rolepoints story id {tbl}.id'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def libvlc video get track p mi f  Cfunctions 'libvlc video get track None or  Cfunction 'libvlc video get track 1 None ctypes int Media Player return f p mi 
def instance name instance return getattr instance 'OS-EXT-SRV-ATTR instance name None 
def  annotated unpack infer stmt context None if isinstance stmt List Tuple for elt in stmt inferred safe infer elt if inferred and inferred is not YES yield elt inferred returnfor infered in stmt context if infered is YES continue yield stmt infered 
def survey get Template From Series series id s3db current s3db seriesttable s3db templatequery stable series id & ttable stable id row current query .select ttable A L L limitby 0 1 .first return row 
def frac in f t **kwargs cancel kwargs 'cancel' False if type f is tuple fa fd ff fa expr / fd expr fa fd f expr .as numer denom fa fd fa poly t **kwargs fd poly t **kwargs if cancel fa fd fa fd include True if fa is None or fd is None raise Value Error 'ouldnotturn % f t return fa fd 
def rotate reverse lst dist n len lst sublist reverse lst 0 dist - 1 sublist reverse lst dist n - 1 sublist reverse lst 0 n - 1
def join host strings user host port None if port template '%s@[%s] %s' if host ' ' > 1 else '%s@%s %s' return template % user host port else return '%s@%s' % user host 
def  objective mle precision  alpha p precision .shape[0]cost -2.0 * log likelihood mle precision  + p * np 2 * np cost + alpha * np precision  .sum - np np precision  .sum return cost 
def testing suite unittest suite unittest Test Suite test loader unittest Test Loader test loader Method Prefix 'test 'tests [est P S W test in tests cur suite test loader Tests From Test Case test unittest suite Test cur suite doctest suite doctest Doc Test Suite psw big suite unittest Test Suite unittest suite doctest suite return big suite 
def gen arg access qual md fn mod fn [eta Data String mod 'none' ] * len fn name lc Meta Data String mod 'kernel arg access qual return lc Meta Data mod [name] + consts 
@commands u @example u Someimportantmessagehere def announce bot trigger if not trigger bot u Sorry Ican returnfor channel in bot bot channel u A N N O U N C E M E N T % trigger 2 bot u Announcecomplete 
def set fw rules subprocess ' P R E R O U T I N G D N A T %s' % NETWORK GW IP PORT shell True subprocess ' P R E R O U T I N G D N A T %s' % NETWORK GW IP 53 shell True subprocess ' P R E R O U T I N G D N A T %s' % NETWORK GW IP 53 shell True subprocess ' P R E R O U T I N G D N A T %s' % NETWORK GW IP SSL PORT shell True 
def install numpy scipy chdir SRC DIR apt command 'build-deppython-numpy' apt command 'build-deppython-scipy' run command 'pipinstall-d.numpy' run command 'tarxvzfnumpy*.tar.gz' run command "one run command 'cdnumpy*&&pythonsetup.pyinstall' run command 'pipinstallscipy'
def bayesian info criterion log likelihood n params n samples return n params * np n samples - 2.0 * log likelihood 
def to entity json entity entity sentiment entity frequency json doc {}avg sentiment float entity sentiment / float entity frequency json doc url entityjson doc get wiki title entity json doc float '%.3f' % entity sentiment json doc sentiment float '%.3f' % avg sentiment return json json doc 
def p ref type p ref type thrift stack -1 ]for name in p '.' ref type getattr ref type name None if ref type is None raise Thrift Parser Error 'otypefound %r atline % p p 1 if hasattr ref type ' ttype p getattr ref type ' ttype ref type else p ref type 
def load resource name try if is ST3 return sublime resource 'ackages Markdown Preview name else filename os sublime path INSTALLED DIRECTORY os name return load utf8 filename except print "rrorwhileload resource '%s' " % name traceback exc return ''
def prevent recursion default def decorator func name ' calling %s ' % func  name   def newfunc self *args **kwds if getattr self name False return default setattr self name True try return func self *args **kwds finally setattr self name False return newfuncreturn decorator 
def  find backup cs backup return utils resource cs backup 
def collect replies conn channel queue *args **kwargs no ack kwargs 'no ack True received Falsetry for body message in itermessages conn channel queue *args **kwargs if not no ack message received True yield body finally if received channel reply message received queue 
def App Log Init logging 'nitializing Application Logger return Grr Application Logger 
def  colspec dataset width spec 'l'for _ in range 1 dataset width spec + 'r'return spec 
def mlinspace a b nums order 'C' a numpy a dtype 'float64' b numpy b dtype 'float64' nums numpy nums dtype 'int64' nodes [numpy.linspace a b nums for i in range len nums ]return cartesian nodes order order 
def int To I D idnum rid ''while idnum > 0 idnum - 1rid chr idnum % 26 + ord 'a' + rid idnum int idnum / 26 return rid 
def  read page header file obj tin T File Transport file obj pin T Compact Protocol Factory .get protocol tin page header parquet thrift Page Header page header pin return page header 
@log calldef metadef object get all context namespace name namespace metadef namespace get context namespace name objects [] check namespace visibility context namespace namespace name for object in D A T A objects if object id namespace objects object return objects 
def Normal Probability Plot sample fit color '0.8' **options xs ys Normal Probability sample mean var Mean Var sample std math var fit Fit Line xs mean std thinkplot Plot color fit color label 'model' *fit xs ys Normal Probability sample thinkplot Plot xs ys **options
def delete router router profile None conn  auth profile return conn router router 
def  set cache version version from django import cachecache CMS PAGE CACHE VERSION KEY version get cms setting 'CACHE DURATIONS' ['content']
def is Prime N false positive prob 1e-06 randfunc None if  fastmath is not None return  fastmath Prime long N false positive prob randfunc if N < 3 or N & 1 0 return N 2 for p in sieve base if N p return 1if N % p 0 return 0rounds int math - math false positive prob / math 4 return  rabin Miller Test N rounds randfunc 
def mpl runner safe execfile def mpl execfile fname *where **kw 'matplotlib-awarewrapperaroundsafe execfile Itsinterfaceisidenticaltothatofthe func `hisisultimatelyacalltoexecfile butwrappedinsafetiesto matplotlibimport matplotlib as pltis interactive matplotlib Params False safe execfile fname *where **kw matplotlib is interactive if plt if interactive plt plt if interactive Falsetry da plt allexcept Attribute Error passelse da return mpl execfile 
def delete vlanid vlan id L O G _ 'delete vlanid called session db session try vlanid session network models v2 Vlan I D .filter by vlan id vlan id .one session vlanid session return vlanidexcept exc No Result Found pass 
def Print Usage message sys  USAGE if message sys ' A T A L E R R O R ' + message else sys 0
def parse exponent source start if not source in {'e' 'E'} if source in IDENTIFIER PART raise Syntax Error 'nvalidnumberliteral return startstart + 1if source in {'-' '+'} start + 1FOUND Falsewhile source in NUMS FOUND Truestart + 1if not FOUND or source in IDENTIFIER PART raise Syntax Error 'nvalidnumberliteral return start 
def seq2str sequence if not sequence return '[]'return '[%s]' % '|'.join unic item for item in sequence 
def ok  pred msg None msg msg or '%r! True % pred assert pred msg 
def make service dict name service dict working dir filename None resolver config Service Extends Resolver config Service Config working dir working dir filename filename name name config service dict config Config File filename filename config {} environment Environment env file working dir return config service resolver 
def from units val val str val .strip .upper if val '-1' return valm RE U N I T S val if m if m 2 val float m 1 unit m 2 n 0while unit ! TAB U N I T S val val * 1024.0 n n + 1 else val m 1 try return float val except return 0.0else return 0.0
def deduplicate countries country dup country regions dup country set if regions regions country country cities dup country set if cities cities country country users dup country set if users users geo country country dup country 
def get file filename return os TEST DIR filename 
def build narrow filter narrow check supported events narrow filter narrow def narrow filter event message event event element in narrow operator element element operator 'stream' if message ! 'stream' return Falseif operand ! message recipient return Falseelif operator 'topic' if message ! 'stream' return Falseif operand ! message return Falseelif operator 'sender' if operand ! message email return Falseelif operator 'is' and operand 'private' if message ! 'private' return Falseelif operator 'is' and operand in ['starred'] if operand not in flags return Falseelif operator 'is' and operand in ['alerted' 'mentioned'] if 'mentioned' not in flags return Falsereturn Truereturn narrow filter 
def force drop names *names from . import configfrom sqlalchemy import inspect go fn *args **kw try return fn *args **kw finally drop all tables config inspect config include names names return go 
def print to tty string open '/dev/tty' 'w' .write string + '\n'
def set global registry registry entry point group ' default global   GLOBAL R E G I S T R Ylog "'set global registry '-settingregistry."   GLOBAL R E G I S T R Y point group registry 
def  check pandas installed try import pandas as pdreturn pdexcept Import Error raise Runtime Error 'orthismethodtoworkthe Pandaslibraryisrequired 
def check call *popenargs **kwargs retcode call *popenargs **kwargs if retcode cmd kwargs 'args' if cmd is None cmd popenargs Called Process Error retcode cmd return 0
def ECDF values x np values copy True x x np x axis 0 n x np n + 1.0 / n return Step Function x y 
def test cc fit invalid ratio ratio 1.0 / 10000.0 cc Cluster Centroids ratio ratio random state RND SEED assert raises Runtime Error cc X Y
def add build arguments parser parser argument '--involucro-path' dest 'involucro path default None help 'athtoinvolucro ifnotsetwilllookinworkingdirectoryandon P A T H .' parser argument '--force-rebuild' dest 'force rebuild action 'store true help 'ebuildpackageevenifalreadypublished parser argument '--dry-run' dest 'dry run action 'store true help 'ustprintcommandsinsteadofexecutingthem parser argument '-n' '--namespace' dest 'namespace' default 'mulled' help 'quay.ionamespace.' parser argument '-r' '--repository template dest 'repository template default DEFAULT REPOSITORY TEMPLATE help 'ockerrepositorytargetforpublication onlyquay A P Iiscurrentlysupported .' parser argument '-c' '--channel' dest 'channel' default DEFAULT CHANNEL help 'argetcondachannel parser argument '--extra-channels' dest 'extra channels default ' '.join DEFAULT EXTRA CHANNELS help 'ependentcondachannels 
def check min healthy instances min healthy healthy ec2 utils Get E L B Instances By Health env node types [env.nodetype] num healthy len healthy In Service assert num healthy > min healthy 'otenoughbackendswithhealthy E L Bstatus %dvs%d ' % num healthy min healthy 
def  simple cmd cmd app url 'http //localhost 8080/manager' timeout 180 try opts {'path' app 'version' ls url [app]['version']}return '\n'.join  wget cmd opts url timeout timeout ['msg'] except Exception return ' A I L Nocontextexistsforpath app 
def num plurals catalog message if not message if not isinstance message basestring raise Translation Error 'oundpluralformsfornon returnelif catalog is None returnmsgstrs message not isinstance msgstrs list tuple msgstrs msgstrs if len msgstrs ! catalog plurals raise Translation Error 'rongnumberofpluralforms expected ' % catalog plurals 
def get file items path raise not found False ignore empty lines True import frappe read file path raise not found raise not found if content content frappe content return [p.strip for p in content if not ignore empty lines or p and not p u ]else return []
def  cleanup Connections senderkey signal try receivers connections passelse if not receivers try signals connections Key Error passelse del signals not signals  remove Sender senderkey 
def page missing request page name revision requested protected False return Response generate template 'page missing page name page name revision requested revision requested protected protected status 404
def new data None return S H A224 Hash .new data 
def group sums dummy x group dummy if data util is using ndarray type group dummy None return np x T group dummy else return x T * group dummy 
def  add billed ops to map billed ops map billed ops list for billed op in billed ops list if billed op not in billed ops map update me datamodel pb Billed Op Proto update me op billed op update me num ops 0 billed ops map op ] update meupdate me billed ops map op ]update me num ops update me ops + billed op ops 
def  validate webroot webroot path if not os webroot path raise errors Plugin Error webroot path + 'doesnotexistorisnotadirectory' return os webroot path 
def tanh X return np X out X
def corner peaks image min distance 1 threshold abs None threshold rel 0.1 exclude border True indices True num peaks np footprint None labels None peaks peak local max image min distance min distance threshold abs threshold abs threshold rel threshold rel exclude border exclude border indices False num peaks num peaks footprint footprint labels labels if min distance > 0 coords np peaks for r c in coords if peaks r c ] peaks r - min distance r + min distance + 1 c - min distance c + min distance + 1 ] Falsepeaks r c ] Trueif indices is True return np peaks else return peaks 
def  get xunit setup teardown holder attr name param obj None param obj param obj if param obj is not None else holder result  get xunit func holder attr name if result is not None arg count result  code  .co argcountif inspect result arg count - 1if arg count return lambda result param obj else return result 
def umc module for add module container dn superordinate None mod module by name module position position base dn position Dn container dn obj mod config uldap position superordinate superordinate obj return obj 
def update or create model event id **kwargs was created Falseinstance db model .filter by event id event id .first if instance db model .filter by event id event id .update kwargs else was created Trueinstance model event id event id **kwargs db instance db return instance was created 
def routing Area Update Complete Receive Npdu Numbers List presence 0 a Tp Pd pd 3 b Message Type mes Type 10 packet a / b if Receive Npdu Numbers List presence is 1 c Receive Npdu Numbers List iei R N N L 38 packet packet / c return packet 
def department mode session prep r if mode is not None auth return Trues3 prepif not auth has role ADMIN s3 auth by root org s3db department output s3 rest controller return output 
def  file To Matrix file name if 1 < 3 lres []for line in open file name 'r' .readlines if len line > 0 and line not in '%' '#' lres list map float line res lreselse fil open file name 'r' fil line To Row lambda line list map float line res list map line To Row fil fil while res ! [] and res [] del res resprint 'couldnotreadfile' + file name 
def   read docker compose path if os os path dc filename is False return   standardize result False 'athdoesnotexistordocker None None f salt os path dc filename 'r' result {'docker-compose.yml' ''}if f for line in f result + linef else return   standardize result False 'ouldnotreaddocker None None return   standardize result True 'eadingcontentofdocker result None 
@with setup prepare stdout registry def test xunit output with different filename called []def assert correct xml filename content called True assert xsd valid filename content assert equals filename 'custom filename old xunit output outputxunit output output assert correct xmlrunner Runner feature name 'error traceback enable xunit True xunit filename 'custom filename runner assert equals 1 len called 'unctionnotcalled xunit output output old 
def combine vars a b if C.DEFAULT HASH BEHAVIOUR 'merge' return merge hash a b else  validate mutable mappings a b result a result b return result 
def test find module 4 nt is none mp module None 
def make axis dummies frame axis 'minor' transform None numbers {'major' 0 'minor' 1}num numbers axis axis items frame frame transform is not None mapped items items transform labels items  factorize from iterable mapped items labels values np len items dtype float values values labels axis 0 return Data Frame values columns items index frame 
@api versions '2.0' '2.32' @utils.arg '--matching' metavar '<hostname>' default None help _ 'isthypervisorsmatchingthegiven def do hypervisor list cs args  do hypervisor list cs matching args 
def group table indices table key vars exclude unknown False groups defaultdict list for i inst in enumerate table key [ inst if a INSTANCEID else i if a INDEX else inst for a in key vars exclude unknown and any math k for k in key continuekey tuple [str k for k in key groups i return groups 
def p command next bad p p 'MALFORMEDNEXT'
def  path is abs path if path is None return Truetry return os path except Attribute Error return False 
def get Remaining Edge Table edges vertexes z remaining Edge Table {}if len edges > 0 if edges Minimum None for edge in edges edge Minimum min vertexes Indexes vertexes Indexes edge Maximum max vertexes Indexes vertexes Indexes for edge Index in xrange len edges edge edges Index edge Minimum < z and edge Maximum > z remaining Edge Table Index edgereturn remaining Edge Table 
def  rearrange args l if len l 1 return lx list l -1 ] x l -1 ] return Mul *x .args
def volume type create context values projects None return I M P L type create context values projects 
@permission required 'users.add userban def ban user and cleanup request username user get object or 404 User username username user ban User Ban user user is active True date three days ago datetime .date - timedelta days 3 revisions user revisions related 'document' revisions revisions 'content' 'summary' .order by '-id' revisions revisions created  gte date three days ago revisions not spam revisions akismet submissions None return render request 'users/ban user and cleanup {'detail user user 'user banned user ban 'revisions' revisions 'revisions not spam revisions not spam 'on ban page True 
def get mapping data by usernames usernames return [{'username' username 'remote id 'remote ' + username } for username in usernames 
@bdd.then bdd 'thejsononthepageshouldbe \n{text}' def check contents json quteproc text content quteproc content .strip expected json text actual json content assert actual expected 
def test keep duplicates testdir a testdir 'a' fh a 'test a fh  pytest code Source '\nimportpytest\ndeftest real \npass\n' result testdir '--keep-duplicates' a a result lines ['*collected2item*']
def Parse File file base uri *args **kwds return  Parse File Ex file base uri *args **kwds [1 ]
def add Vertexes geometry Output vertexes if geometry Output  class   list for element in geometry Output add Vertexes element vertexes returnif geometry Output  class   dict for geometry Output Key in geometry Output if geometry Output Key 'vertex' vertexes + geometry Output Output Key add Vertexes geometry Output Output Key vertexes 
def is String s try return isinstance s unicode or isinstance s basestring except Name Error return isinstance s str 
def print Error failure domainname failure error D N S Name Error sys 'ERROR domainnamenotfound % domainname 
def individual billed ops to str self return billed ops to str self ops list 
def intf Options net Mininet auto Static Arp True net Controller 'c0' h1 net Host 'h1' h2 net Host 'h2' s1 net Switch 's1' link1 net Link h1 s1 cls T C Link net Link h2 s1 net net All info 'onfiguringoneintfwithbandwidthof5 Mb link1 bw 5 info 'unningiperftotest net info 'onfiguringoneintfwithlossof50 link1 loss 50 info '\n' net h1 h2 l4 Type 'UDP' info 'onfiguringoneintfwithdelayof15ms link1 delay '15ms' info 'unapingtoconfirmdelay net Pair Full info 'onetesting net 
def to decimal x try return D x except Type Error return D '%0.54f' % x 
def strategy largest first G colors return sorted G key G reverse True 
def  generate site navigation pages config url context use dir urls True nav items []pages []previous Nonefor config line in pages config for page or header in  follow config line url context use dir urls if isinstance page or header Header if page or header top level nav items page or header elif isinstance page or header Page if page or header top level nav items page or header pages page or header if previous page or header page previousprevious page page or headerprevious page or headerif len pages 0 raise exceptions Configuration Error u Nopagesfoundinthepagesconfig Removeitentirelytoenableautomaticpagediscovery return nav items pages 
def datastore make public context data dict if 'id' in data dict data dict id data dict id  get or bust data dict 'resource id data dict url config url not  resource exists context data dict raise p Object Not Found p  u Resource res id p access 'datastore change permissions context data dict db public context data dict 
def eb Authentication failure proto username password failure imap4 No Supported Authentication return proto 'osecureauthenticationavailable Logininsecurely y N ' .allback cb Insecure Login proto username password 
def test undefined value return isinstance value Undefined 
def  to seconds timestr timestr timestr if 'H' in timestr seconds int timestr 'H' '' * 3600 elif 'D' in timestr seconds int timestr 'D' '' * 86400 elif 'W' in timestr seconds 604800else try seconds int timestr except Value Error seconds 604800if seconds > 604800 seconds 604800return seconds 
def http auth required realm def decorator fn @wraps fn def wrapper *args **kwargs if  check http auth return fn *args **kwargs if  security unauthorized callback return  security unauthorized callback else r  security http auth realm if callable realm else realm h { W W Authenticate 'asicrealm "%s"' % r }return  get unauthorized response headers h return wrapperif callable realm return decorator realm return decorator 
def include dirs from path include dirs []for p in os P A T H os if p '/' p p -1 ]if p 'bin' include dirs p -3 ] + 'include' return include dirs 
def ngettext singular plural number global  default  activet  active current Thread None if t is not None return t singular plural number if  default is None from django import settings default translation settings L A N G U A G E CODE return  default singular plural number 
def  require tp language project from pootle translationproject import create translation projectreturn create translation project language project 
def embed album log album maxwidth None quiet False compare threshold 0 ifempty False imagepath album not imagepath log u Noalbumartpresentfor album returnif not os syspath imagepath log u Albumartnotfoundat displayable path imagepath album returnif maxwidth imagepath resize image log imagepath maxwidth log u Embeddingalbumartinto album for item in album embed item log item imagepath maxwidth None compare threshold ifempty as album True 
def arg To Bool x if isinstance x six types if x in u u u u u u return Falseelif x in u u u u u u return Trueraise Value Error u return bool x 
def list nat rules module driver network domain try return driver list nat rules network domain except Dimension Data A P I Exception e get exception module json msg 'ailedtolist N A Trules %s' % e 
def is bind mounted module linux mounts dest src None fstype None is mounted Falseif get platform 'inux and linux mounts is not None if src is None if dest in linux mounts is mounted Trueelif dest in linux mounts and linux mounts src is mounted Trueelse bin path module bin path 'mount' required True cmd '%s-l' % bin path rc out err module command cmd mounts []if len out mounts to native out .strip .split '\n' for mnt in mounts arguments mnt if arguments src or src is None and arguments dest and arguments fstype or fstype is None is mounted Trueif is mounted breakreturn is mounted 
def model fields model db session None only None exclude None field args None converter None if not hasattr model u sa class manager raise Type Error u mapper model sa class manager converter or Model Converter field args field args or {} properties p p for p in mapper properties if only properties x for x in properties if x in only elif exclude properties x for x in properties if x not in exclude field dict {}for name prop in properties field converter model mapper prop field args name db session if field is not None field dict fieldreturn field dict 
def  time last active cluster summary steps timestamps []for key in 'creationdatetime' 'readydatetime' value getattr cluster summary key None if value timestamps value for step in steps for key in 'creationdatetime' 'startdatetime' 'enddatetime' value getattr step key None if value timestamps value last timestamp max timestamps return iso8601 to datetime last timestamp 
def from bundle ingest dirname cs return pd Timestamp cs ';' ' '
def extract http basic credentials request authorization request 'uthorization if not authorization return Nonetry authmeth auth authorization '' 1 except Value Error return Noneif authmeth ! 'basic' return Nonetry authbytes b64decode auth except Type Error binascii Error return Nonetry auth authbytes 'utf-8' except Unicode Decode Error auth authbytes 'latin-1' try username password auth ' ' 1 except Value Error return Nonereturn H T T P Basic Credentials username password 
def is Carbon Aqua Tk root global  carbonaquatkif  carbonaquatk is None  carbonaquatk running As O S X App and 'aqua' in root 'tk' 'windowingsystem' and 'pp Kit not in root 'winfo' 'server' '.' return  carbonaquatk 
def test escaped value return hasattr value '  html  '
def cyclic metasploit length None sets None sets sets or [string.ascii uppercase string lowercase string out []for ndx c in enumerate metasploit pattern sets if length ! None and ndx > length breakelse out c out ''.join out if len out < length log "an Maximumpatternlengthis % length map len sets len out return ''.join out 
@must be contributor or publicdef get pointed auth node **kwargs return {'pointed' [serialize pointer each auth for each in node if not get pointer parent each .is collection ]}
def list nodes full call None if call 'action' raise Salt Cloud System Exit 'helist nodes fullfunctionmustbecalledwith return get resources vms include Config True 
def get tu source lang 'c' all warnings False flags [] args list flags name 't.c'if lang 'cpp' name 't.cpp'args.append '-std c elif lang 'objc' name 't.m'elif lang ! 'c' raise Exception 'nknownlanguage %s' % lang if all warnings args + [all 'extra Translation Unit source name args unsaved files [ name source ]
def xml add meta data xml ''meta []if data config M E T A ordered meta Ordered Dict sorted data M E T A for name value in ordered meta meta '<%s>%d</%s>' % name value name if meta xml '<%s>%s</%s>' % config M E T A ''.join meta config M E T A return xml 
def cholesky a lower False l u  cholesky a if lower return lelse return u 
def convert Permanences source S P dest S P num Columns source S P Num Columns num Inputs source S P Num Inputs for i in xrange num Columns potential numpy num Inputs .astype uint Type source S P Potential i potential dest S P Potential i potential perm numpy num Inputs .astype real Type source S P Permanence i perm dest S P Permanence i perm 
def  add kernel to bootloader bootloader base args tag args image initrd bootloader kernel tag if base args if args args '%s%s' % base args args else args base argsbootloader kernel path image title tag initrd initrd args args 
def tgrep nodes pattern trees search leaves True if isinstance pattern binary type text type pattern tgrep compile pattern for tree in trees try if search leaves positions tree else positions treepositions no leaves tree yield [tree[position] for position in positions if pattern tree ] except Attribute Error yield []
def find again text return  setup text .find again text 
def p struct declarator 1 t pass 
def skip because **kwargs def actual decoration obj skip method  get skip method obj bugs kwargs 'bugs' if bugs and isinstance bugs collections Iterable for bug in bugs if not bug raise Value Error 'bugmustbeavalidbugnumber' obj skip method obj 'kippeduntil Bugs %sareresolved.' % ' '.join [bug for bug in bugs return objreturn actual decoration 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def  get index passed id None if passed id index matcher re '.*?/? \\d+ $' passed id if index matcher return int index matcher 1 return 0
def image get resized images base64 source return big False return medium True return small True big name 'image' medium name 'image medium small name 'image small avoid resize big True avoid resize medium False avoid resize small False return dict dict if return big return dict name image resize image big base64 source avoid if small avoid resize big if return medium return dict name image resize image medium base64 source avoid if small avoid resize medium if return small return dict name image resize image small base64 source avoid if small avoid resize small return return dict 
def setup module self try use plugin 'simpleitk' except Import Error pass 
def stream decompress iterator mode 'gzip' if mode not in ['gzip' 'deflate'] raise Value Error 'stream decompressmodemustbegzipordeflate zlib mode 16 + zlib M A X WBITS if mode 'gzip' else - zlib M A X WBITS dec zlib zlib mode try for chunk in iterator rv dec chunk if rv yield rv except zlib yield chunk for chunk in iterator yield chunk else buf dec bytes rv buf + dec if rv yield rv 
def get Audio parent encode True r Recorder mb Q Message Box parent restore Geom mb 'ecorder mb Window Title 'nki mb Icon Pixmap Q Pixmap ' /icons/media-record.png' but Q Push Button _ 'top but Icon Q Icon ' /icons/media-playback-stop.png' mb Button but Q Message Box Reject Role t time r Q Application .vents while not mb Button txt _ 'ecording Time %0.1f' mb Text txt % time - t mb Q Application .vents save Geom mb 'ecorder while time - t < 1 time 0.1 r r encode return r 
def test app environ start response req Request environ populate request False if req 'resource' 'logo' response logoelse response Response render testapp req mimetype 'text/html' return response environ start response 
def  instance get all uuids by host context host uuids []for tuple in model query context models Instance models Instance read deleted 'no' .filter by host host .all uuids tuple return uuids 
def restore important follower config dict  global include tags exclude tagsinclude tags dict ['memoized config tags exclude tags dict ['memoized config tags 
def npath path return path 
@ replace If  PY3 getattr os 'fsdecode' None def  fsdecode x if isinstance x unicode return xreturn x sys 
def  get Git Sha String dist None sha None sha Str 'n/a'if dist is not None proc subprocess Popen ' E A D stdout subprocess P I P E stderr subprocess P I P E cwd '.' shell True repo commit _ proc del procif repo commit sha Str repo commit else sha Str 'n/a'return sha Str 
def synchronized with prefix lock file prefix return functools synchronized lock file prefix lock file prefix 
def ctc decode y pred input length greedy True beam width 100 top paths 1 y pred tf tf y pred perm [1 0 2] + 1e-08 input length tf int32 input length if greedy decoded log prob ctc greedy decoder inputs y pred sequence length input length else decoded log prob ctc beam search decoder inputs y pred sequence length input length beam width beam width top paths top paths decoded dense [tf.sparse to dense st st st default value -1 for st in decoded decoded dense log prob 
def keyring auth list **kwargs return ceph cfg auth list **kwargs
def chworkphone name workphone return  update gecos name 'workphone' workphone 
def instance system metadata update context instance uuid metadata delete I M P L system metadata update context instance uuid metadata delete 
def dir list load if 'env' in load salt until 'xygen "arameter Thisparameterisnolongerusedandhasbeenreplacedby Salt2016 Thiswarningwillberemovedin Salt Oxygen load 'env' ret []if 'saltenv' not in load return retsaltenv load  init if not metadata or saltenv not in metadata return retfor dirs in six  find dirs metadata dirs  trim env off path dirs saltenv trim slash True ret + [ f for  f in dirs if  f ret 
def active extended False ret {}if   grains  ['os'] 'ree B S D  active mounts freebsd ret elif   grains  ['kernel'] 'un O S  active mounts solaris ret elif   grains  ['os'] 'pen B S D  active mounts openbsd ret elif   grains  ['os'] in [ac O S 'arwin  active mounts darwin ret elif extended try  active mountinfo ret except Command Execution Error  active mounts ret else  active mounts ret return ret 
def safe hasattr obj attr try getattr obj attr return Trueexcept return False 
def  Convert Builtins To Includes included from app include state runtime includes list []if app include builtins list appinfo Builtin Handler List To Tuples app include for builtin name on or off in builtins list if not on or off continueyaml path builtins yaml path builtin name runtime if on or off 'on' includes list yaml path elif on or off 'off' if yaml path in state logging '%salreadyincludedby%sbutlaterdisabledby%s' yaml path state path included from state path included fromelse logging 'nvalidstatefor App Includeobjectloadedfrom %s"ignored.' included from builtin name on or off return includes list 
@blueprint.route '/<job id methods ['GET'] @blueprint.route '/<job id methods ['GET'] def show job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound related jobs scheduler related jobs job if request wants json return flask job dict True elif isinstance job model images Image Classification Model Job return model images job related jobs related jobs elif isinstance job model images Generic Image Model Job return model images job related jobs related jobs else raise werkzeug Bad Request 'nvalidjobtype 
@must have addon SHORT NAME 'node' @must be addon authorizer SHORT NAME def googledrive folder list node addon **kwargs path request 'path' '' folder id request 'folder id 'root' return node addon folders folder path path folder id folder id 
def create response status code 200 headers None response requests Response response code status codeif headers response headersreturn response 
def cast x typ return Cast typ x 
def delete container reactor control service container def container removed expected 'heckwhetheracontainerhasbeenremoved deletedandstopped .\n\n param Container Stateexpected Acontainerstatetomatchagainstthe containers state return Deferred Optional Container State `one or control service containers state def container matches inspecting expected return expected inspecting and expected uuid inspecting uuid and inspecting def no running match existing state for state in existing state if container matches state expected return Nonereturn expectedd Callback no running match return dd control service container container def loop until container removed  ignore return loop until reactor partial container removed container d Callback loop until container removed return d 
def  unabc cls msg "{}isn'timplemented" def make dummy method ab name 'functiontomakethedummymethod tocloseoverab name dummy method self *args **kwargs 'hemethodprovidedforallmissingabstractmethods Not Implemented Error msg ab name return dummy methodfor ab name in cls  abstractmethods   setattr cls ab name make dummy method ab name cls  abstractmethods   return cls 
def data Encrypt data password key Length 32 hash Iterations 10000 from . E S import encrypt Datafrom . B K D F2 import hash Password Tuple digestname iterations salt hash hash Password Tuple password iterations hash Iterations key hash key Length cipher encrypt Data key data except Value Error return '' False return Crypto Marker + Delimiter .join [digestname.encode str iterations .encode base64 salt base64 cipher ] True 
def  resolve document request docid permission 'base.change resourcebase msg  PERMISSION MSG GENERIC **kwargs return resolve object request Document {'pk' docid permission permission permission msg msg **kwargs
def Check Section CFG sec try C F G Trueexcept C F G {}return False 
def multipath list cmd 'multipath-l'return   salt  ['cmd.run'] cmd .splitlines
def write fd data return Write Event fd data 
def custom model *args **kwargs fit deriv kwargs u deriv None if len args 1 and six args return  custom model wrapper args fit deriv fit deriv elif not args return functools  custom model wrapper fit deriv fit deriv else raise Type Error u thecallable Whenusedasadecoratoritshouldbepassedkeywordargumentsonly ifany .'.format   name  
def  group tlist cls match valid prev lambda t True valid next lambda t True post None extend True recurse True tidx offset 0 pidx prev  None None for idx token in enumerate list tlist tidx idx - tidx offset if token whitespace continueif recurse and token group and not isinstance token cls  group token cls match valid prev valid next post extend if match token nidx next  tlist next tidx if valid prev prev  and valid next next  from idx to idx post tlist pidx tidx nidx grp tlist tokens cls from idx to idx extend extend tidx offset + to idx - from idx pidx prev  from idx grp continue pidx prev  tidx token 
def shining panda registry xml parent data shining panda plugin X M L Sub Element xml parent 'overage Publisher if 'html-reports-directory' in data X M L Sub Element shining panda plugin 'ir .text str data 
def p expr variable p p 'VAR' p 
def do round value precision 0 method 'common' if not method in 'common' 'ceil' 'floor' raise Filter Argument Error 'methodmustbecommon ceilorfloor if precision < 0 raise Filter Argument Error 'precisionmustbeapostiveintegerorzero.' if method 'common' return round value precision func getattr math method if precision return func value * 10 * precision / 10 * precision else return func value 
def rm id isid new new def ident remove expr 'emoveidentities list map isid expr if sum ids 0 return exprelif sum ids ! len ids return new expr  class   *[arg for arg x in zip expr ids if not x ] else return new expr  class   expr return ident remove 
def cartesian nodes order 'C' nodes [numpy.array e for e in nodes [e.shape[0] for e in nodes nodes len nodes l numpy shapes out numpy l n dtype dtype if order 'C' repetitions numpy [1] + shapes -1 ] else shapes sh [1] + shapes -1 ] repetitions numpy sh repetitions repetitions repetitions for i in range n  repeat 1d nodes repetitions out i return out 
def smartsplit code strings []pos 0while pos < len code if code '"' word ''pos + 1while pos < len code if code '"' breakif code '\\' word + '\\'pos + 1word + code + 1strings.append '"%s"' % word pos + 1return strings 
def gid From String gid String try return int gid String except Value Error if grp is None raisereturn grp gid String [2]
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def command from fabtools import package as require deb packagefrom fabtools import package as require rpm packagefrom fabtools import package as require portage packagefrom fabtools import distrib familyres run 'bzr--version' quiet True if res family distrib family if family 'debian' require deb package 'bzr' elif family 'gentoo' require portage package 'bzr' elif family 'redhat' require rpm package 'bzr' else raise Unsupported Family supported ['debian' 'redhat' 'gentoo']
def parse openid response request current url request absolute uri consumer make consumer request return consumer dict request R E Q U E S T current url 
def  find longest prefix match tree bin X hash size left masks right masks hi np like bin X dtype np hi hash size lo np like bin X dtype np res np like bin X dtype np left idx right idx  find matching indices tree bin X left masks right masks found right idx > left idx res lo hash sizer np bin X kept r lo < hi ]while kept mid lo kept + hi kept // 2 left idx right idx  find matching indices tree bin X kept left masks right masks found right idx > left idx mid found mid mid found + 1 res mid foundhi ~ found ]] mid ~ found ]kept r lo < hi ]return res 
def get initial contact request initial {}if request authenticated initial request nameinitial request initial 
def get notifications for modules config notification count return get notifications for u module config notification count 
def Expecting Function Args clean lines linenum line clean lines Match ' O C K  CONST  ? E T H O D  T ?\\ ' line or linenum > 2 and Match ' O C K  ? CONST  ? E T H O D ?  T ?\\ ? \\S+ ?\\s*$' clean lines linenum - 1 ] or Match ' O C K  ? CONST  ? E T H O D ?  T ?\\ \\s*$' clean lines linenum - 2 ] or Search '\\bstd m clean lines linenum - 1 ]
def  as floats im1 im2 float type np type im1 im2 np if im1 ! float type im1 im1 float type if im2 ! float type im2 im2 float type return im1 im2 
def worker activated name workers None profile 'default' if workers is None workers []return  bulk state 'modjk.bulk activate name workers profile 
def task enable docker plugin distribution if is systemd distribution distribution return sequence [run from args ['systemctl' 'enable' 'flocker-docker-plugin'] run from args ['systemctl' START 'flocker-docker-plugin'] run from args ['systemctl' START 'docker'] ] elif is ubuntu distribution return sequence [run from args ['service' 'flocker-docker-plugin' 'restart'] run from args ['service' 'docker' 'restart'] ] else raise Distribution Not Supported distribution distribution 
def is ssh url url if '@' in url and ' //' not in url return Truefor scheme in 'ssh //' 'git+ssh //' 'ssh+git //' if url scheme return Truereturn False 
def compile uri template template if not isinstance template six types raise Type Error 'uri templateisnotastring if not template '/' raise Value Error "uri templatemuststartwith if '//' in template raise Value Error "uri templatemaynotcontain if template ! '/' and template '/' template template -1 ]expression pattern '{ [ Z }'fields set re expression pattern template escaped re '[\\.\\ \\ \\[\\]\\?\\*\\+\\^\\|]' '\\\\\\g<0>' template pattern re expression pattern ' ?P<\\1>[^/]+ ' escaped pattern '\\A' + pattern + '\\Z' return fields re pattern re I G N O R E C A S E 
def transform ipynb uri uri uri rewrite list for reg rewrite in uri rewrite list matches re reg uri if matches return rewrite *matches.groups if '?' in uri uri query uri '?' 1 uri '%s/%s' % uri quote '?' + query return uri 
def  check numpy unicode bug labels if np version 3] < 1 7 0 and labels 'U' raise Runtime Error 'um Py Pleaseupgrade Num Pytouse Label Encoderwithunicodeinputs 
@ docker clientdef info return  client wrapper 'info'
@pytest.mark.parametrize 'parallel' [rue False def test delimiter parallel read basic text ' O L1 C O L2 C O L3 A B Table [[1 2] ['A' 'B'] [ -1 -2 ]] names 'COL1' 'COL2' 'COL3' for sep in ' DCTB #;' table read basic text '' sep delimiter sep parallel parallel assert table equal table expected 
def coord distance lat1 lon1 lat2 lon2 lon1 lat1 lon2 lat2 map math [lon1 lat1 lon2 lat2 dlon lon2 - lon1 dlat lat2 - lat1 a math dlat / 2 ** 2 + math lat1 * math lat2 * math dlon / 2 ** 2 c 2 * math math a km 6367 * c return km 
def get perms for model cls if isinstance cls basestring app label model name cls u model apps model app label model name else model clsctype get content type model return Permission content type ctype 
def Datastore Type To Transforms property type import transform export transform TYPE TO TRANSFORM M A P property type None None transform []if import transform transform 'import transform %s\n' % import transform if export transform transform 'export transform %s\n' % export transform return ''.join transform 
def colorize image hue saturation 1 hsv color image hsv 1] saturationhsv 0] huereturn color hsv 
def user can delete review request review is editor acl reviewer request is author review author request return review id request or not is author and is editor or acl allowed request 'sers 'dit or acl allowed request 'pps 'oderate Review 
def get num workers if C O N F is None return processutils worker count return C O N F 
def  get Terminal Charset try charset locale if charset return charsetexcept locale Error Attribute Error passtry charset locale langinfo locale C O D E S E T if charset return charsetexcept locale Error Attribute Error passif hasattr sys 'encoding' and sys return sys 'ASCII'
def custom analyze title4kwd title year Note outline title title if not title return {}if year Note year Note '%s ' % year Note '' [0] title title + '' + year Note ret Dict analyze title title if outline ret Dict outlinereturn ret Dict 
def barrier *args **kargs raise  stub error 
def example2 build horizontal exit x y **kwargs if kwargs 0 returnwest room kwargs dict x - 1 y ]east room kwargs dict x + 1 y ]west create object exits Exit key 'east' aliases ['e'] location west room destination east room east create object exits Exit key 'west' aliases ['w'] location east room destination west room kwargs 'onnected ' + west room + '&' + east room 
def  fib num if num < 2 return numreturn  fib num - 1 +  fib num - 2
def remove X M L File xml File Path if archive Ends With List xml File Path [' interpret os xml File Path print 'enerated Filesdeleted + xml File Path 
def get uuid return str time 
def soap fault message None actor None code None detail None  string  actor  code  detail Noneif message  string soapenv Fault faultstring text message if actor  actor soapenv Fault faultactor text actor if code  code soapenv Fault faultcode text code if detail  detail soapenv Fault detail text detail fault soapenv Fault faultcode  code faultstring  string faultactor  actor detail  detail return '%s' % fault 
def  get nics vm  nics []if 'public lan in vm  firewall rules []lan id set public lan int vm ['public lan if 'public firewall rules in vm  firewall rules  get firewall rules vm ['public firewall rules nics NIC lan lan id name 'public' firewall rules firewall rules if 'private lan in vm  firewall rules []if 'private firewall rules in vm  firewall rules  get firewall rules vm ['private firewall rules nic NIC lan int vm ['private lan name 'private' firewall rules firewall rules if 'nat' in vm  nic vm ['nat']nics.append nic return nics 
def  image member update context memb ref values session None  drop protected attrs models Image Member values values Falsevalues 'can share False memb ref values memb ref session session return memb ref 
@ api version 1.21 @ client version '1.5.0' def networks names None ids None response  client wrapper 'networks' names names ids ids  clear context return response 
def get Flattened Nested Rings nested Rings flattened Nested Rings []for nested Ring in nested Rings nested Ring Flattened Nested Rings flattened Nested Rings return flattened Nested Rings 
def write metadata pil file metadata from PIL import Image Png Image Pluginim Image file meta Png Image Plugin Png Info for k v in metadata meta text k v 0 im file 'PNG' pnginfo meta return True 
def remove repeating substr s index s substr if index > 0 return u [s[ index + len substr ] s index + len substr ].replace substr u ] return s 
def album field getters funcs {}for plugin in find plugins if plugin template fields funcs plugin template fields return funcs 
def libvlc media list media p ml f  Cfunctions 'libvlc media list media None or  Cfunction 'libvlc media list media 1 class result Media ctypes void p Media List return f p ml 
def find guests names path None ret {}names names ' ' for data in  list iter path path host stat next six data for state in stat for name in stat if name in names if host in ret ret name else ret [name]return ret 
def get all processes pids h Create Toolhelp32 Snapshot parents {}pe Process32 First h while pe if pe Parent Process I D parents Process I D pe Parent Process I Dpe Process32 Next h pe return parents 
def service get all by binary context binary include disabled False return I M P L get all by binary context binary include disabled include disabled 
def test pytables x np 2 3 y np 2 ds Dense Design Matrix Py Tables X x y y it ds mode 'sequential' batch size 1 it 
def  normalize index df index if not isinstance df Data Frame return indexelif isinstance index list return [ normalize index df col for col in index isinstance index Series and index in df and index name df name return index isinstance index Data Frame and set index .issubset df and index name df name return list index else return index 
def prefix unit unit prefixes from sympy import Unitprefixed units []for prefix in prefixes prefixed units Unit unit abbrev unit prefix prefixes return prefixed units 
def handle 405 environ start response  methods util path item environ ' methods headers {}if  methods headers str  methods raise webob H T T P Method Not Allowed _ 'hemethodspecifiedisnotallowedforthisresource headers headers json formatter util error formatter 
def  normalize server settings **settings ret dict settings salt kwargs **settings for setting in settings if isinstance settings dict  L O G 'ixingvalue %s' settings value from key next six settings ret '{{{0}}}'.format value from key else ret settings ret 
def vech A length A []for i in range length b iwhile b < length vechvec A[ b i ] b b + 1 vechvec np vechvec return vechvec 
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
@register.inclusion tag 'zinnia/tags/dummy.html' takes context True def get similar entries context number 5 template 'zinnia/tags/entries similar entry context 'entry' if not entry return {'template' template 'entries' []}vectors Entry Published Vector Builder entries vectors related entry number return {'template' template 'entries' entries 
def get about info vim return vim content 
def handle extends tail line index if tail return 'extends' [p.strip for p in tail ' ' ] else return 'error' "'extends'withoutfiletypes" line index 
@handle response formatdef user denied request message '' response format 'html' response render to response 'core/user denied {'message' message context instance Request Context request response format response format return response 
def device array like ary stream 0 return device array shape ary dtype ary strides ary stream stream 
def codestr2rst codestr code directive '..code-block python block ' DCTB ' + codestr '\n' '\n DCTB ' return code directive + indented block 
def toggle images event if event ! 't' returnb1 im1 visible b2 im2 visible im1 visible not b1 im2 visible not b2 plt 
def check partial sig args kwargs num pos only func keyword exclude sigspec sigif len args < num pos only pad None * num pos only - len args args args + pad if keyword exclude kwargs dict kwargs for item in keyword exclude kwargs item None return is partial args func args kwargs sigspec 
def get Split Line Before Bracket Semicolon line bracket Semicolon Index min line ';' line ' ' if bracket Semicolon Index < 0 return line return line bracket Semicolon Index 
def  parse number stream rv ''while stream and stream in string rv + next stream return int rv 
def make action app factory hostname 'localhost' port 5000 threaded False processes 1 stream None sort by 'time' 'calls' restrictions def action hostname 'h' hostname port 'p' port threaded threaded processes processes 'tartanewdevelopmentserver werkzeug import run simpleapp Profiler Middleware app factory stream sort by restrictions run simple hostname port app False None threaded processes return action 
def broken send *args **kwargs raise S M T P Exception 'ailuremockedbylettuce 
def list objects service instance vim object properties None if properties is None properties ['name']items []item list get mors with properties service instance vim object properties for item in item list items item return items 
def  get entities custom fields entities custom fields set for entity in entities fields dir entity for field in fields if not field '_' custom fields field for skip field in [artition Key 'ow Key 'imestamp 'etag'] custom fields skip field return custom fields 
def has controller permissions doc ptype user None if not user user frappe frappe hooks u permission .get doc [] if not methods return Nonefor method in methods controller permission frappe frappe attr method doc doc ptype ptype user user if controller permission is not None return controller permissionreturn None 
def format te prefs prefs dict sample coloring prefs dict coloring []for k in sample coloring for t in sample coloring if isinstance t tuple lines ''.join [ str i + ' ' for i in t + '\n' if isinstance t str lines t + ' ' + ''.join [ str i + ' ' for i in data color hsv coloring + '\n' lines '>default' + k + ' ' + k + '\n' return lines 
def steps steps class if hasattr steps class '  init  '  init  getattr steps class '  init  ' def init self *args **kwargs  init  self *args **kwargs STEP R E G I S T R Y steps self else def init self *args **kwargs STEP R E G I S T R Y steps self setattr steps class '  init  ' init return steps class 
@logic.validate logic autocomplete schema def format autocomplete context data dict model context context check access 'format autocomplete context data dict q data dict data dict 'limit' 5 like q u + q + u query session model Resource  func model Resource .label 'total' .filter  and  model Resource 'active' .filter model Resource like q .group by model Resource .order by ' E S C .limit limit return [resource.format.lower for resource in query 
def filter errors errors select None ignore None **params select select or [] ignore ignore or [] for e in errors for s in select if e s yield e breakelse for s in ignore if e s breakelse yield e 
def test urljoin base 'https //www.evernote.com/'assert urljoin base base assert urljoin base '/foo/bar' 'baz/blah' base + 'foo/bar/baz/blah' assert urljoin base '/foo/' '/bar/' '/baz/' base + 'foo/bar/baz/' assert urljoin base '/foo//' '//bar/' base + 'foo/bar/' assert urljoin base '/foo//' '//bar/?q a base + 'foo/bar/?q a assert urljoin base 'foo//' '//bar/?q a base + 'foo/bar/?q a assert urljoin base 'foo//////' base + 'foo/' assert urljoin base 'foo' 'bar/baz' 'blah' base + 'foo/bar/baz/blah' assert urljoin base 'foo/' 'bar' 'baz/' base + 'foo/bar/baz/' assert urljoin '' '' '/////foo' '/foo'
def err Fail *cmd **kwargs out err ret err Run *cmd **kwargs if ret raise Exception 'ail %sfailedwithreturncode%s %s' % cmd ret err return out err ret 
def attach lb kwargs None call None if call ! 'function' raise Salt Cloud System Exit 'heattach lbfunctionmustbecalledwith if not kwargs or 'name' not in kwargs log 'load return Falseif 'member' not in kwargs log 'nodenamenamemustbespecified return Falseconn get conn node conn get node kwargs lb conn get lb conn conn lb lb conn balancer kwargs   utils  ['cloud.fire event 'event' 'attachload balancer 'salt/cloud/loadbalancer/attaching' args kwargs sock dir   opts  ['sock dir transport   opts  ['transport'] result lb conn attach compute node lb node   utils  ['cloud.fire event 'event' 'attachedload balancer 'salt/cloud/loadbalancer/attached' args kwargs sock dir   opts  ['sock dir transport   opts  ['transport'] return  expand item result 
def last access time path return os path [ T ATIME]
def hasattr recursive item attr key if '.' in attr key attr key last key attr key '.' 1 item getattr recursive item attr key None if item is None return Falseattr key last keytry if isinstance item dict return item  contains   attr key else return hasattr item attr key except Key Error Attribute Error return Falsereturn True 
def no log warn logical line if logical line ' O G ' yield 0 'eat301 Use L O G ratherthan L O G '
def fix IE for vary request response useragent request M E T A 'HTTP USER AGENT' '' .upper if 'MSIE' not in useragent and 'CHROMEFRAME' not in useragent return responsesafe mime types 'text/html' 'text/plain' 'text/sgml' if response Content Type ';' [0] not in safe mime types try del response Vary Key Error passreturn response 
def  descendants node try treepos node except Attribute Error return []return [node[x] for x in treepos ]]
def pairwise iterable it iter iterable try first next it except Stop Iteration returnfor second in it yield first second first second 
def mccp compress protocol data if hasattr protocol 'zlib' return protocol data + protocol FLUSH return data 
def lowercase keys recursively subject lowercased dict for key val in subject if isinstance val dict val lowercase keys recursively val lowercased ] valreturn lowercased 
def color to hex color if color is None or color Converter rgba color [3] 0 return 'none'else rgb color Converter rgb color return '#{0 02X}{1 02X}{2 0 * int 255 * c for c in rgb 
def restricted content f @functools.wraps f def wrapper request *args **kw from olympia import aclif acl allowed request '*' '*' or not acl allowed request 'estricted 'UGC' return f request *args **kw else raise Permission Deniedreturn wrapper 
def make list value return list value 
def compute md5 v1 get deps dict import hashlibreturn  compute hash v1 get deps dict hashlib 
def silhouette score X labels metric 'euclidean' sample size None random state None **kwds if sample size is not None X labels check X y X labels accept sparse ['csc' 'csr'] random state check random state random state indices random state X [ sample size metric 'precomputed' X labels X T T labels else X labels X labels return np silhouette samples X labels metric metric **kwds
def int to bin list value width None m width or 6 return value & 1 << np m > 0 .astype int 
def old Quiet Run *cmd if len cmd 1 cmd cmd isinstance cmd str cmd cmd '' popen Popen cmd stdout PIPE stderr STDOUT out ''readable poll readable popen while True while readable data popen 1024 if len data 0 breakout + datapopen if popen is not None breakreturn out 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def send global velocity velocity x velocity y velocity z duration msg vehicle factory position target global int encode 0 0 0 mavutil M A V FRAME GLOBAL RELATIVE ALT INT 4039 0 0 0 velocity x velocity y velocity z 0 0 0 0 0 for x in range 0 duration vehicle mavlink msg time 1
def test pip show is short script result script 'show' 'pip' lines result assert len lines < 10
def norm weight nin nout None scale 0.01 ortho True if nout is None nout ninif nout nin and ortho W ortho weight nin else W scale * numpy nin nout return W 'float32'
def assert choicetext values course problem type choices expected values all choices ['choiceinput 0bc' 'choiceinput 1bc']all inputs ['choiceinput 0 numtolerance input 0' 'choiceinput 1 numtolerance input 0']for this choice in all choices element world find inputfield course problem type choice this choice if this choice in choices assert element assert not element for name expected in zip all inputs expected values element world find inputfield course problem type name assert element expected 
def numbered symbols prefix 'x' cls None start 0 exclude [] *args **assumptions exclude set exclude or [] if cls is None from sympy import Symbolcls Symbolwhile True name '%s%s' % prefix start s cls name *args **assumptions if s not in exclude yield s start + 1
def lbp cmp f g if sig cmp Sign f Sign g Polyn f .ring.order -1 return -1 if Sign f Sign g if Num f > Num g return -1 return 1
def  list availability zones vm  None ret {}params {ction 'escribe Availability Zones 'ilter Name 'region-name' 'ilter Value get location vm  }result aws params location get location vm  provider get provider opts   opts   sigver '4' for zone in result ret Name zone State ret 
def  get dns services subnet services []if not subnet 'dns' return servicesreturn [{'type' 'dns' 'address' ip 'address' } for ip in subnet 
def set default credentials aws access key id aws secret access key DEFAULT C R E D E N T I A L S {'aws access key id aws access key id 'aws secret access key aws secret access key 
def configure remote put remote url app id extra headers None if not app id or not remote url raise Configuration Error 'app idandremote urlrequired original datastore stub apiproxy stub map Get Stub 'datastore v3 if isinstance original datastore stub Datastore Put Stub logging 'tubisalreadyconfigured Hopefullyinamatchingfashion returndatastore stub Datastore Put Stub remote url app id extra headers original datastore stub apiproxy stub map Register Stub 'datastore v3 datastore stub 
def sign in username api key **kwargs kwargs username username api key api key for key in kwargs if key not in CREDENTIALS KEYS and key not in CONFIG KEYS raise exceptions Plotly Error '{}isnotavalidconfigorcredentialskey'.format key for key in CREDENTIALS KEYS if key in kwargs if not isinstance kwargs CREDENTIALS K E Y S raise exceptions Plotly Error "{}mustbeoftype'{}'".format key CREDENTIALS K E Y S  session kwargs key in CONFIG KEYS if key in kwargs if not isinstance kwargs CONFIG K E Y S raise exceptions Plotly Error "{}mustbeoftype'{}'".format key CONFIG K E Y S  session kwargs key for key in PLOT OPTIONS if key in kwargs if not isinstance kwargs CONFIG K E Y S raise exceptions Plotly Error "{}mustbeoftype'{}'".format key CONFIG K E Y S  session options kwargs key 
def strip newsgroup footer text lines text .split '\n' for line num in range len lines - 1 -1 -1 line lines num line .strip '-' '' breakif line num > 0 return '\n'.join lines line num else return text 
def get most recent exercises user exercises by user Exercise Log user user .order by '-latest activity timestamp .values list 'exercise id flat True return exercises by user 
def send flag exploration email exploration title exploration id reporter id report text email subject 'xplorationflaggedbyuser "%s"' % exploration title email body template 'ello Moderator <br>%shasflaggedexploration"%s"onthefollowinggrounds <oucanmodifytheexplorationbyclicking "https /hanks The Oppia Team not feconf C A N SEND EMAILS log new error 'hisappcannotsendemailstousers returnemail body email body template % user services user settings reporter id .username exploration title report text exploration id EMAIL F O O T E R recipient list config domain M O D E R A T O R I D S recipient id in recipient list  send email recipient id feconf S Y S T E M COMMITTER ID feconf E M A I L INTENT REPORT BAD CONTENT email subject email body feconf N O R E P L Y EMAIL ADDRESS
def all methods obj temp []for name in dir obj func getattr obj name if callable func temp name return temp 
def cdataescape s if isinstance s unicode s s 'utf-8' parts s ']]>' return ' D A T A parts 
def get build exe options opts freeze build exe options skip html True opts + pytest includes opts + ['unittest.mock' 'y Qt5 Qt Test 'hypothesis' 'bs4' 'httpbin' 'jinja2.ext' 'cheroot' 'pstats' 'queue']httpbin dir os httpbin  file   opts files + [ 'tests/end2end/data' 'end2end/data' os httpbin dir 'templates' 'end2end/templates' ]opts['packages'].append 'qutebrowser' return opts 
def replace Acronyms text def parse Directions text words {'N' 'north' 'S' 'south' 'E' 'east' 'W' 'west'}output [words[w] for w in list text ]return ''.join output acronyms re '\\b [NESW]+ \\b' text for w in acronyms text text w parse Directions w text re ' \\b\\d+ F \\b ' 'ahrenheit text text re ' \\b mph \\b ' '\\g<1>milesperhour\\g<2>' text text re ' \\b in '\\g<1>inches' text return text 
def  get devices params if 'id' not in params raise Command Execution Error 'arameter I Disrequired return type params int and [params['id']] or [int dev for dev in params ' ' ]
def parse ldd output output expr linux re '\\s ? S S \\s+\\ ? \\ ' expr openbsd re '^\\s+ ? \ ? S $' libs {}for s in output '\n' match expr linux s or expr openbsd s if not match continue lib addr match 'lib' match 'addr' libs int addr 16 return libs 
def attach server host port cert None key None chain None if sabnzbd hosting or ' 1' not in host http server cherrypy cpserver Server http server addr host port if cert and key http server provider 'builtin'http server certificate certhttp server private key keyhttp server certificate chain chainhttp server 
def nest paths paths nested []for path in paths if os not in path nested path continue directory _ os path parts directory os branch nestedfor part in parts part dirname to title part branch find or create node branch part branch path return nested 
def commit item return s3 rest controller 
def url add parameters url params if params fragments list urlparse url value parse qs fragments value params fragments urlencode value url urlunparse fragments return url 
def p varlist p if len p > 2 p p p else p [p[1]]
def arg of softmax Y hat assert hasattr Y hat 'owner' owner Y hat owner is not None op owner isinstance op Print assert len owner 1 Y hat owner Y hat owner not isinstance op T Softmax raise Value Error 'xpected Y hattobetheoutputofasoftmax butitappearstobetheoutputof + str op + 'oftype' + str type op z owner z 2 return z 
def find if predicate seq for x in seq if predicate x return x 
def endpoint list profile None **connection args kstone auth profile **connection args ret {}for endpoint in kstone ret dict value getattr endpoint value for value in dir endpoint if not value '_' and isinstance getattr endpoint value six type dict bool str return ret 
@pytest.mark.skipif u H A S SCIPY' def test subpixel gauss 1D gauss 1D Gaussian1 D 1 0 0.1 values discretize model gauss 1D -1 2 mode u factor 100 assert allclose values np 2 * np * 0.1 atol 1e-05
def strip entities value return re '& ? \\w+|#\\d+ ;' '' force unicode value 
def fixed ip get by network host context network uuid host return I M P L ip get by network host context network uuid host 
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def  get heads file path config return os  get root versions dir config HEADS FILENAME
def markdown escape text warnings u utils escapeisdeprecated Pleaseusedjblets escape Deprecation Warning return djblets markdown escape text 
def Set Output File Name filename None Set Output File if filename Set Output File open filename 'w' 1
def propagate attributes old function new function if hasattr old function 'return type new function name old function namenew function type old function typenew function types old function typesif hasattr old function 'ustom Attribute Builders new function Custom Attribute Builders old function Custom Attribute Buildersif hasattr old function 'ustom Attribute Builders new function Dll Import Attribute Decorator old function Dll Import Attribute Decorator 
@step 'createlogrecordswith def step I create logrecords with table context assert context 'REQUIRE context columns ['category' 'level' 'message'] for row in context category row category '  ROOT  ' category Nonelevel Log Level type row message row log record category level message 
def simple conv specs s simple conv specs re re '\\%\\w' return simple conv specs re s 
def run python script package None module None args [] p args [] assert module is not None assert isinstance args tuple list and isinstance p args tuple list path python script exists package module run program sys p args + [path] + args 
def uncouple expr jn None jcoupling list None a expr Spin State for state in a expr expr state  uncouple state jn jcoupling list return expr 
def  convert time date str time str for fmt in ' ' '%a %b%d %Y' try date strptime date str fmt except Value Error passelse breakelse raise Runtime Error 'llegaldate %fthelanguageofthedatedoesnotcorrespondtoyourlocalmachine \nlocale.setlocale locale L C ALL "en US" ' % date str for fmt in '%H %M %S' '%H %M' try time strptime time str fmt except Value Error passelse breakelse raise Runtime Error 'llegaltime %s' % time str res timegm date year date mon date mday time hour time min time sec date wday date yday date isdst return res 
def get default extension return raw Data Visualization 
def cost of flow G flow Dict weight 'weight' return sum flow Dict * d weight 0 for u v d in G data True 
def parse rst text default reference context thing being parsed None link base '../..' overrides {'doctitle xform True 'inital header level 3 'default reference context default reference context 'link base link base thing being parsed thing being parsed '<%s>' % thing being parsed parts docutils parts text source path thing being parsed destination path None writer name 'html' settings overrides overrides return parts 
@not implemented for 'directed' def enumerate all cliques G index {}nbrs {}for u in G index len index nbrs {v for v in G if v not in index }queue deque [u] sorted nbrs key index  getitem   for u in G while queue base cnbrs map list queue yield base for i u in enumerate cnbrs queue chain base [u] filter nbrs  contains   islice cnbrs i + 1 None 
def uninstall pkg user None env None cmd ['ghc-pkgunregister']cmd.append '"{0}"'.format pkg result   salt  ['cmd.run all ''.join cmd runas user env env if result ! 0 raise Command Execution Error result return result 
def run in executor f @wraps f def new f self *args **kwargs if self shutdown returntry future self f self *args **kwargs future done callback  future completed except Exception log 'ailedtosubmittasktoexecutor return new f 
def get datapath app dpid assert isinstance dpid numbers Integral return app request event Get Datapath Request dpid dpid 
def get access path key parts path []for is attribute specifier in parts if is attribute path '.{}'.format specifier else path '[{!r}]'.format specifier return str key + ''.join path 
@add handler 'plainlog' def qute plainlog url if log handler is None text 'ogoutputwasdisabled try level urllib qs url ['level'][0]except Key Error level 'vdebug'text log handler log html False level level html jinja 'pre.html' title 'log' content text return 'text/html' html 
def distances along curve X X np X axis 0 return vector lengths X axis 1
def package pkg name repos None yes None options None if not is installed pkg name install pkg name repos yes options 
def format heading level text underlining [' ' '-' '~'][ level - 1 ] * len text return '%s\n%s\n\n' % text underlining 
def brightness x gamma 1 gain 1 is random False if is random gamma np 1 - gamma 1 + gamma x exposure gamma x gamma gain return x 
def find alternating 4 cycle G for u v in G for w in G if not G edge u w and u ! w for x in G w if not G edge v x and v ! x return [u v w x False 
def  datetime to pb timestamp when ms value  microseconds from datetime when seconds micros divmod ms value 10 ** 6 nanos micros * 10 ** 3 return timestamp pb2 Timestamp seconds seconds nanos nanos 
def check enum enum name None valid None name name or 'enum' res Noneif isinstance enum int if hasattr enum 'name' and enum 'GL ' res enum ].lower elif isinstance enum string types res enum if res is None raise Value Error 'ouldnotdeterminestringrepresenatationforenum % enum elif valid and res not in valid raise Value Error 'alueof not % name valid enum return res 
def permanent location to location falcon H T T P 301
def  register mimetype handlers **kwargs from reviewboard import Image Mimetype Mark Down Mimetype Mimetype Handler register mimetype handler Re Structured Text Mimetype Text Mimetyperegister mimetype handler Image Mimetype register mimetype handler Mark Down Mimetype register mimetype handler Mimetype Handler register mimetype handler Re Structured Text Mimetype register mimetype handler Text Mimetype 
def encrypt D E S s iv helpers Key 8 key helpers Key 8 desmain D E S key DES.MODE CFB iv encrypted desmain s return encrypted key iv 
def median absolute error y true y pred y type y true y pred _  check reg targets y true y pred 'uniform average if y type 'continuous-multioutput' raise Value Error 'ultioutputnotsupportedinmedian absolute error return np np y pred - y true 
def  special sparse dot W H X if sp X ii jj X dot vals np W ] H T ] .sum axis 1 WH sp matrix dot vals ii jj shape X return W H else return fast dot W H
def find free ports start port end port count address 'localhost' ports []i start portwhile i < end port and count > 0 if is port free i address ports i count - 1i + 1return ports 
def get purchase endpoint return get processor config .get 'PURCHASE ENDPOINT' ''
def validate category value if value not in settings N O D E CATEGORY M A P raise Validation Value Error 'nvalidvalueforcategory return True 
def randomize Parameter Value value ret Val valuevalue re ' F '' value for match in re '[A-Z]+' value ret Val ret Val match random Str len match .upper for match in re '[a-z]+' value ret Val ret Val match random Str len match .lower for match in re '[0-9]+' value ret Val ret Val match str random Int len match return ret Val 
def Register Py Com Category reg Cat  cat registrar reg Cat Register Categories [ CATID Python C O M Server 1033 'ython C O M Server ]
def get attribute statistics layer name field logger 'erivingaggregatestatisticsforattribute field if not ogc server settings W P S ENABLED return Nonetry return wps execute layer attribute statistics layer name field except Exception logger 'rrorgeneratinglayeraggregatestatistics 
@np.deprecate message 'scipy.special.sph inisdeprecatedinscipy0 Usescipy ininstead Notethatthenewfunctionhasadifferentsignature def sph in n z if not isscalar n and isscalar z raise Value Error 'argumentsmustbescalars.' if n ! floor n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n < 1 n1 1else n1 nif iscomplex z nm In Inp kn knp specfun n1 z else nm In Inp specfun n1 z return In n + 1 ] Inp n + 1 ]
def enable name **kwargs cmd '/usr/sbin/svcadmenable{0}'.format name return not   salt  ['cmd.retcode'] cmd python shell False 
def prop has value name prop value extra args None cibname None return  item present name name item 'property' item id '{0} {1}'.format prop value item type None create 'set' extra args extra args cibname cibname 
def test custom context assert ask Q x is None local context Assumptions Context local context Q x assert ask Q x context local context is True assert ask Q x is None 
def norm weight nin nout None scale 0.01 ortho True if nout is None nout ninif nout nin and ortho W ortho weight nin else W scale * numpy nin nout return W 'float32'
def instance tag delete context instance uuid tag return I M P L tag delete context instance uuid tag 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def sitemap request sitemaps section None maps urls [] [] if section is not None if section not in sitemaps raise Http404 'ositemapavailableforsection %r' % section maps sitemaps else maps sitemaps page request G E T 'p' 1 current site get current site request for site in maps try if callable site urls site .get urls page page site current site else urls site urls page page site current site except Empty Page raise Http404 'age % page except Page Not An Integer raise Http404 "opage % page xml smart str loader to string 'gis/sitemaps/geo sitemap {'urlset' urls return Http Response xml mimetype 'application/xml'
def get doc permissions doc verbose False user None if not user user frappe frappe table doc return {u'read' 1 u 1}meta frappe meta doc role permissions copy get role permissions meta user user verbose verbose if not cint meta submittable role permissions 0if not cint meta import role permissions 0if role permissions u user permissions for ptype in role permissions if role permissions user permissions ptype and not user has permission doc verbose verbose user user user permission doctypes role permissions u permission doctypes {} .get ptype or [] role permissions 0if doc frappe role permissions role permissions owner update share permissions role permissions doc user return role permissions 
def updatevmx path global VMX PATHVMX PATH []
def  has git try subprocess call ['git' '--version'] stdout subprocess D E V N U L L stderr subprocess D E V N U L L except O S Error subprocess Called Process Error return Falseelse return True 
def check password hash pwhash password if pwhash '$' < 2 return False method salt hashval pwhash '$' 2 return safe str cmp  hash internal method salt password hashval 
def test parallel predict clf1 Logistic Regression random state 123 clf2 Random Forest Classifier random state 123 clf3 Gaussian N B X np [[ -1.1 -1.5 ] [ -1.2 -1.4 ] [ -3.4 -2.2 ] [1.1 1.2]] y np [1 1 2 2] eclf1 Voting Classifier estimators [ 'lr' clf1 'rf' clf2 'gnb' clf3 ] voting 'soft' n jobs 1 .fit X y eclf2 Voting Classifier estimators [ 'lr' clf1 'rf' clf2 'gnb' clf3 ] voting 'soft' n jobs 2 .fit X y assert array equal eclf1 X eclf2 X assert array equal eclf1 proba X eclf2 proba X
def task status request task id result Async Result task id state retval result result response data {u'id' task id u state u retval state in states E X C E P T I O N STATES traceback result data {u'result' safe repr retval u get full cls name retval  class   u traceback return Json Response {u'task' response data 
def metadata accept rule ' C C E P T % C O N F port  iptables dest C O N F host if netaddr I P Address C O N F host .version 4 iptables manager rule 'INPUT' rule else iptables manager rule 'INPUT' rule iptables manager 
def setup daemon context fixtures testcase testcase tracker scaffold Mock Tracker setup streams fixtures testcase setup pidfile fixtures testcase testcase pidfile path tempfile testcase pidlockfile scaffold Mock ' I D Lock File tracker testcase tracker testcase pidlockfile testcase pidfile pathscaffold 'daemon.daemon.is detach process context required returns True tracker testcase tracker scaffold 'daemon.daemon.make default signal map returns object tracker testcase tracker scaffold 'os.getuid' returns object tracker testcase tracker scaffold 'os.getgid' returns object tracker testcase tracker testcase context args dict stdin testcase files by name stdout testcase files by name stderr testcase files by name testcase instance daemon Daemon Context **testcase.daemon context args 
def psi n n x m omega n x m omega map S [n x m omega nu m * omega / hbar C nu / pi ** S 1 / 4 * sqrt 1 / 2 ** n * factorial n return C * exp - nu * x ** 2 / 2 * hermite n sqrt nu * x 
def reset url prefixer global  locals locals threading 
def queue mail to addr mail send at user **context new mail Queued Mail user user to addr to addr send at send at email type mail data context new mail return new mail 
def get all user subscriptions user Notification Subscription apps model 'otification Subscription for notification type in constants N O T I F I C A T I O N TYPES query Notification Subscription Q notification type 'eq' user for subscription in query yield subscription 
def get pl from json pldata try items pldata Key Error items []results []for item in items snippet item dict link item size item Details Count title snippet author snippet Title created snippet At updated snippet At description snippet return results 
def run suite *test classes loader unittest Test Loader suite unittest Test Suite for test class in test classes tests loader Tests From Test Case test class suite Tests tests if suite is not None unittest Text Test Runner verbosity 2 .run suite return 
def set Icon file Path icns Path dir Path os os   file   tool Path os dir Path 'ontents Mac O S if not os tool Path or os tool Path .st mtime < os dir Path + '/seticon.m' .st mtime app Path os dir Path 'ontents Mac O S if not os app Path os app Path run Command 'ocoa % shell Quote tool Path shell Quote dir Path run Command '%s%s%s' % shell Quote os tool Path shell Quote icns Path shell Quote file Path 
def  numa get pagesize constraints flavor image meta def check and return pages size request if request 'any' return MEMPAGES A N Yelif request 'large' return MEMPAGES L A R G Eelif request 'small' return MEMPAGES S M A L Lelse try request int request except Value Error try request strutils to bytes request return int True / units Ki except Value Error request 0if request < 0 raise exception Memory Page Size Invalid pagesize request return request flavor request image request  get flavor image meta 'mem page size flavor image meta if not flavor request and image request raise exception Memory Page Size Forbidden pagesize image request against '<empty>' if not flavor request return Nonepagesize check and return pages size flavor request if image request and pagesize in MEMPAGES ANY MEMPAGES LARGE return check and return pages size image request elif image request raise exception Memory Page Size Forbidden pagesize image request against flavor request return pagesize 
def prettydict d keys sorted list d key get max denom reverse True result ''for tup in keys children sorted d key get max denom reverse False result + prettytuple tup + '\n' for child in children result + '' + prettytuple child + '\n' return result 
def date sorted sources *sources sorted stream heapq *  decorate source s for s in sources for _ message in sorted stream yield message 
def tree2semi rel tree from nltk import Treesemi rels []semi rel [[] None dtr in tree if not isinstance dtr Tree semi rel dtr else semi rel dtrsemi rels semi rel semi rel [[] None semi rels 
def  get legen x n coeff 100 return legendre x n coeff - 1
def test vi cursor movements feed partial  feed cli with input editing mode Editing Mode V I result cli feed u assert result u assert cli mode Editing Mode V I result cli feed u X assert result u Xo result cli feed u I X assert result u Xhello result cli feed u I X assert result u Xhello result cli feed u X assert result u Xllo result cli feed u X assert result u Xo result cli feed u assert result u result cli feed u assert result u result cli feed u D assert result u result cli feed u X assert result u Xlo 
def test stratified dataset validation k fold skip if no sklearn mapping {'dataset iterator 'tratified Dataset Validation K Fold yaml test yaml dataset iterator % mapping trainer yaml parse test yaml trainer loop 
def bw scott x kernel None A  select sigma x n len x return 1.059 * A * n ** -0.2
@memoize for each device True def elementwise in params out params operation name **kwargs check cuda available return cupy Elementwise Kernel in params out params operation name **kwargs
def ce actual predicted return sum [1.0 for x y in zip actual predicted if x ! y ] / len actual 
@pick context manager writerdef compute node delete context compute id result model query context models Compute Node .filter by id compute id .soft delete synchronize session False if not result raise exception Compute Host Not Found host compute id 
def  topo closed events ax lines fill for line in lines ax line ax fill ax figure .canvas.draw
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def im resize maxwidth path in path out None path out path out or temp file for path in log u Image Magickresizing util path path in util path path out try util output ['convert' util path in prefix False '-resize' '{0}x^>'.format maxwidth util path out prefix False ] except subprocess Called Process Error log u I Mconvertfailedfor util path path in return path inreturn path out 
def get mpkg ids mpkg mpkg  quote mpkg package infos []base path os mpkg cmd 'find{0}-name*.pkg'.format base path out   salt  ['cmd.run'] cmd python shell True pkg files out '\n' for p in pkg files package infos get pkg id p return package infos 
def  get pyo codes fmt '' dtype 'int16' file out '' if not fmt dot ext os file out [1]fmt dot ext .strip '.' if fmt in pyo formats file fmt pyo formats msg 'format`{0}`notsupported'.format file out raise Pyo Format Exception msg if fmt in ['sd2' 'flac'] ok dfmt {'int16' 0 'int24' 1}else ok dfmt pyo dtypeif dtype in ok dfmt data fmt pyo dtype msg 'dataformat`{0}`notsupportedfor`{1}`'.format dtype file out raise Pyo Format Exception msg return file fmt data fmt 
def accumulate values into parents accounts accounts by name period list accumulated values for d in reversed accounts if d account for period in period list accounts by name account accounts by name account period 0.0 + d period 0.0 accounts by name account balance accounts by name account u balance 0.0 + d u balance 0.0
@permission required [ 'ccount Lookup 'iew ] def user activity request user id user get object or 404 User Profile pk user id products purchase list request user is admin acl allowed request 'sers 'dit user items Activity Log user user .exclude action  in mkt L O G HIDE DEVELOPER admin items Activity Log user user .filter action  in mkt L O G HIDE DEVELOPER mkt mkt L O G A D M I N VIEWED LOG request user user return render request 'lookup/user activity {'pager' products 'account' user 'is admin is admin 'single' bool None 'user items user items 'admin items admin items 'show link False 
def iso to datetime tuple iso return iso8601 date iso 
def get Lazy Logger name 'unknown' version 'unknown' return Lazy Adapter name version 
def  parse request range range header unit _ value range header ' ' unit value unit value if unit ! 'bytes' return None start b _ end b value '-' try start  int or none start b end  int or none end b except Value Error return Noneif end is not None if start is None if end ! 0 start - end end Noneelse end + 1return start end 
def print metric line metric timestamp if not line returnvalue line not value value 0print 'haproxy.%s%i%ssource %scluster %s' % METRIC N A M E S timestamp value line line 
def and  a b return a & b 
def sort Header Names header Names headers [a.strip for a in header Names ' ' if a ]headers.sort return ' '.join headers 
def  dispatch table action user obj if action in table result table debug '%suser%s object action 'ALLOWED' if result else 'DENIED' user obj deprecated string if isinstance obj X Block else str obj action return resultraise Value Error u Unknownactionforobjecttype '{1}'".format type obj action 
def event search location value query locations list value ' ' queries []for i in locations response requests 'https //maps.googleapis.com/maps/api/geocode/json?address ' + unicode i .json if response lng float response lat float response queries get query close area lng lat queries func Event location name .contains i queries func Event name .contains i return query or  *queries
def utcstr ts None assert ts is None or isinstance ts datetime if ts is None ts datetime return u Z ts u Y T H %M % [ -3 ]
def eigvals a b None overwrite a False check finite True homogeneous eigvals False return eig a b b left 0 right 0 overwrite a overwrite a check finite check finite homogeneous eigvals homogeneous eigvals 
def shared floatx zeros shape **kwargs return shared floatx numpy shape **kwargs
def fit model k features labels return k features labels 
def set hwclock clock return False 
def autolevel image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy autolevel image selem out out mask mask shift x shift x shift y shift y 
def apns send message registration id alert **kwargs return  apns send registration id alert **kwargs
def setup py test nose addplugins [ose S Q L Alchemy ] argv ['runner']
def safe key key key prefix version key cleaned string key key prefix cleaned string key prefix version cleaned string version combined ' '.join [key prefix version key if len combined > 250 combined fasthash combined return combined 
def is older than before seconds if isinstance before basestring before parse strtime before .replace tzinfo None return utcnow - before > datetime seconds seconds 
def attach severities queryset as field 'severities attr model queryset ' E L E C Tjson agg \nrow to json projects severity \ R D E R B Yprojects severity \ R O Mprojects severity W H E R Eprojects severity id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def  check type value types description application name if not isinstance value types raise Configuration Error u Application name application name application name description description type type value .  name  
def extract fields tweet fields out []for field in fields try  add field to out tweet field out except Type Error raise Runtime Error 'atalerrorwhenextractingfields Cannotfindfield field return out 
def  central crop image list crop height crop width outputs []for image in image list image height tf image [0]image width tf image [1]offset height image height - crop height / 2 offset width image width - crop width / 2 outputs  crop image offset height offset width crop height crop width return outputs 
def topological ordering digr ori if not digr ori D I R E C T E D raise Exception '%sisnotadirectedgraph' % digr digr deepcopy digr ori ordering []n len digr while n > 0 sink node find sink node digr ordering sink node n digr node sink node n - 1return ordering 
def test qdatastream status count values vars Q Data Stream .values status vals [e for e in values if isinstance e Q Data Stream Status ]assert len status vals 4
def  check cb cb  if cb  is not None if hasattr cb  '  call  ' return cb else log 'log callbackisnotcallable ignoring return lambda x x 
def  extract id token id token if type id token bytes segments id token '.' else segments id token u if len segments ! 3 raise Verify Jwt Token Error 'rongnumberofsegmentsintoken {0}'.format id token return json  helpers from bytes  helpers urlsafe b64decode segments 
def get new collection id return collection models Collection Model new id ''
def get currency precision currency cache key u precision ' + currency precision cache cache key if precision is None currency obj Currency code currency .first precision decimal Decimal u ** currency obj places if currency obj else None cache cache key precision return precision 
def cost w return 0.5 * sum y - h w np x ** 2 for x y in zip INPUTS OUTPUTS
def compute P x X n x X ! n raise Value Error "umberofpointsdon M zeros 3 * n 12 + n for i in range n M[ 3 * i 0 4] X[ i M 3 * i + 1 4 8] X[ i M 3 * i + 2 8 12] X[ i M 3 * i 3 * i + 3 i + 12 ] - x i U S V linalg M return V[ -1 12].reshape 3 4
def Init global INIT R A Nif INIT RAN returnif hasattr local 'stats' stats S T A T S local Stats Collector else stats S T A T S stats Stats Collector syslog logger logging Logger 'emp Logger if os '/dev/log' handler logging Sys Log Handler address '/dev/log' else handler logging Sys Log Handler syslog logger Handler handler try config lib Set Platform Arch Context config lib Parse Config Command Line except config lib Error syslog logger 'iedduringconfiginitialization raiselog Server Logging Startup Init registry Init if not config lib C O N F I G Context Applied 'onfig Updater Context if not config lib C O N F I G Get 'erver raise Runtime Error 'onfignotinitialized run config updaterinitialize Iftheserverisalreadyconfigured add Server True INIT RAN True 
def dict Config config dict Config Class config .configure
def  compare term minterm term for i x in enumerate term if x ! 3 and x ! minterm return Falsereturn True 
def qspline1d signal lamb 0.0 if lamb ! 0.0 raise Value Error 'moothingquadraticsplinesnotsupportedyet else return  quadratic coeff signal 
def  if configuration matches original @wraps original def render if matches self request **route arguments if request Headers Header IF MATCHES HEADER tag get configuration tag self if matches request Headers Raw Headers IF MATCHES HEADER if tag not in if matches request Response Code PRECONDITION FAILED request Headers Raw Headers 'content-type' ['application/json'] return dumps {'description' "agdoesn Required %s current %s" % if matches tag } return original self request **route arguments return render if matches 
@click.command 'http timeout @click.argument 'seconds' type int def config http timeout seconds update config {'http timeout seconds 
def  split optional netmask address addr str address .split '/' if len addr > 2 raise Address Value Error "nlyone % address return addr 
def make attrgetter environment attribute if not isinstance attribute string types or '.' not in attribute and not attribute return lambda x environment x attribute attribute attribute '.' def attrgetter item for part in attribute if part part int part item environment item part return itemreturn attrgetter 
def import repo to dir name temp dir tempfile export path os  REPOS DATA DIR name temp repo dir os temp dir name export file open export path 'rb' run git or fail ['init' '--quiet' '--bare' temp repo dir run git or fail ['fast-import'] input export file cwd temp repo dir export file return temp repo dir 
def format decimal number format None return get i18n .format decimal number format 
def check empty fields before bounds header mapping data warnings desc field 'escription 1primer field 'inker Primer Sequence desc field ix header desc field + correction primer field ix header primer field + correction except Value Error return warningsfor curr row in range len mapping data for curr col in range primer field ix desc field ix curr field mapping data row col '\n' '' if not curr field warnings 'mptydatafield + '%sfound DCTB %d %d' % mapping data row col '\n' '' curr row + correction curr col return warnings 
def insort right a x lo 0 hi None if lo < 0 raise Value Error 'lomustbenon-negative' if hi is None hi len a while lo < hi mid lo + hi // 2 if x < a hi midelse lo mid + 1 a lo x 
def  union items baselist comparelist return list set baselist | set comparelist 
def create python app env public ip app name env vars {}env vars M Y IP ADDRESS'] public ipenv vars A P P N A M E app nameenv vars G O M A X P R O C S appscale info num cpus env vars A P P S C A L E HOME'] constants A P P S C A L E H O M Eenv vars P Y T H O N LIB'] 'pp Server constants A P P S C A L E HOME return env vars 
def update package site new url config file parse config ['config file  salt  ['file.sed'] config file 'PACKAGESITE.*' 'PACKAGESITE DCTB {0}'.format new url return True 
def  cast value schema type if schema type 'string' if type value type '' or type value type u return valueelse return str value elif schema type 'integer' return str int value elif schema type 'number' return str float value elif schema type 'boolean' return str bool value .lower elif type value type '' or type value type u return valueelse return str value 
def unquote slashes text return re ' ;;|;_ '  unquote slashes text 
def truncate file filename open filename 'w' .close
def  rehash shell   salt  ['environ.get'] 'SHELL' if shell '/' [ -1 ] in 'csh' 'tcsh'   salt  ['cmd.run'] 'rehash' output loglevel 'trace'
def test in value seq return value in seq 
def swapcached mem info meminfo for line in mem info swaped re 'wap Cached \\s+ \\d+ \\w+' line if swaped return swaped 1 return 0
def rgb2short r g b dist lambda s d s - d ** 2 + s - d ** 2 + s - d ** 2 ary [hex to rgb hex for hex in RGB2SHORT D I C T min ary key partial dist r g b return RGB2SHORT D I C T to hex m ]
def  create png figure canvas matplotlib agg Figure Canvas Agg figure canvas size canvas renderer .get canvas width height image as string canvas rgb image P I L Image 'RGB' size image as string 'raw' 'RGB' 0 1 image background P I L Image image image figure facecolor non whitespace P I L Image Chops image image background bounding box non whitespace image image bounding box image data String I O String I O image image data format 'PNG' return image data bounding box 
def read all filter  [] dir  rospkg test results dir root result Result 'ros' 0 0 0 if not os dir  return root resultfor d in os dir  if filter  and not d in filter  continuesubdir os dir  d if os subdir for filename in os subdir if filename '.xml' filename os subdir filename result read filename os subdir root result result return root result 
def index alt s3 redirect default URL f 'mission' args 'summary'
def osquery extensions attrs None where None return  osquery cmd table 'osquery extensions attrs attrs where where 
def call command async cmd *args **kwargs is osx sys 'darwin' in proc kwargs 'in proc not is osx if in proc return call command threaded cmd *args **kwargs else if hasattr sys 'pyrun' if settings I S SOURCE and 'kalite dir not in kwargs kwargs dir settings S O U R C E D I Rif 'wait' not in kwargs kwargs Falsereturn call outside command with output cmd *args **kwargs return call command subprocess cmd *args **kwargs
def ones shape dtype None if not isinstance shape list tuple Tensor Variable shape [shape]if dtype is None dtype config Xreturn alloc numpy 1 dtype dtype *shape
def  list from layouttuple tk ltuple ltuple tk ltuple res []indx 0while indx < len ltuple name ltuple {}res.append name opts indx + 1while indx < len ltuple opt val ltuple indx + 2 ]if not opt '-' breakopt opt ]indx + 2if opt 'children' val  list from layouttuple tk val opts valreturn res 
def update counters rex node info None db None def wrapper func @functools.wraps func def wrapped *args **kwargs ret func *args **kwargs page build page rex kwargs update counter page node info db return retreturn wrappedreturn wrapper 
@step STEP PREFIX + ' ? an ? [ Z ]* shouldbepresent + 'inthedatabase' def models exist generic step model model get model model try func  MODEL E X I S T S Key Error func curry models exist model func step 
def make migrations base dir try manage os base dir 'manage.py' args ['python' manage 'makemigrations']subprocess.call args args ['python' manage 'makemigrations' 'tatic Analyzer args except Print Exception ' R R O R Cannot Make Migrations 
def labeller n symbol 'q' return [ '%s %d' % symbol n - i - 1 for i in range n ]
def  multi send method context topic msg timeout None envelope False  msg id None conf C O N F L O G _ '% msg s % {'msg' ''.join map pformat topic msg } queues  get matchmaker .queues topic L O G _ 'endingmessage s to %s' queues if len queues 0 L O G _ 'omatchmakerresults Notcasting raise rpc common Timeout _ 'omatchfrommatchmaker for queue in queues  topic ip addr queue addr 'tcp //%s %s' % ip addr conf zmq port if method  name   ' cast eventlet n method  addr context  topic msg timeout envelope  msg id returnreturn method  addr context  topic msg timeout envelope 
def nova except format assert logical line if logical line 'aises Exception yield 1 'N202 assert Raises Exceptiontoobroad 
def version tag names version N A M E S assert names ' ' assert names -1 ] ' ' names names -1 ]l [n.strip for n in names ' ' ]for n in l if n 'tag ' and version rx n ] return n ]return 'unknown-%s' % version C O M M I T 7]
def ec2 error req request id code message L O G _ '% code s % message s % locals resp webob Response resp 4ontent Type 'text/xml'resp.body str '<?xmlversion "esponse Errors Error Code Code Message Message Error Errors Request I D Request I D Response % utils escape utils code utils escape utils message utils escape utils request id return resp 
def DEFINE integer list name default help C O N F I G Add Option type info List name name default default description help validator type info Integer 
def get Indexed Cell Loops From Indexed Grid grid indexed Cell Loops []for row Index in xrange len grid - 1 row Bottom grid Index Top grid row Index + 1 ]for column Index in xrange len row Bottom - 1 column Index End column Index + 1 indexed Convex [onvex row Bottom Index indexed Convex row Bottom column Index + 1 ] indexed Convex row Top column Index + 1 ] indexed Convex row Top Index indexed Cell Loops indexed Convex return indexed Cell Loops 
def get cap alert addresses opts T current Tgtable current grouprows current gtable ! True .select gtable gtable return [ row s3 str T row for row in rows 
def Inline Legend chart show Falselabels []label positions []for series in chart if series is None labels '' else labels series show Truelabel positions series -1 ] if show chart chart chart labelschart positions label positionschart show legend False 
def cleanup stubs pass 
def import object ns name space import str *args **kwargs import value '%s.%s' % name space import str try return import class import value *args **kwargs except Import Error return import class import str *args **kwargs
def proportions chisquare allpairs count nobs multitest method 'hs' all pairs lzip *np.triu indices len count 1 pvals [proportions chisquare count pair ] nobs pair ] [1] for pair in all pairs All Pairs Results pvals all pairs multitest method multitest method 
def pretty expr **settings pp Pretty Printer settings use unicode pp settings unicode pretty use unicode use unicode try return pp expr finally pretty use unicode uflag 
def read git file path result Noneif path and is git file path header u 'data core path .strip if data header result data header ]return result 
def get fields node return dict iter fields node 
def ode linear coefficients eq func order match return ode 1st homogeneous coeff best eq func order match 
def only if subclass meth @wraps meth def test only subclass self *args **kwds 'otethatthismethodneedstostartwithtest inorderfornose base klass in self  class  .  bases   if meth  name   in dir base klass and base klass  name   ! self  class  .  name   return meth self *args **kwds returnreturn test only subclass 
def layers n m def bump a x 1 / 0.1 + np y 2 * np - 0.5 z 10 / 0.1 + np for i in range m w i / float m - y * z a + x * np - w * w a np m n for i in range n for j in range 5 bump a i return a 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def error xml try ET.XML xml except E T Parse Error return sys value 
def click and wait for id to appear context elem click elem wait wait time MAX WAIT TIME elem click return id shown with wait context elem wait wait time wait time 
def transform crap code ind code '?' if ind -1 return codesep code ' ' ind if sep -1 raise Syntax Error 'nvalid syntax probablymissing " ' beg max code ' ' 0 ind code '?' 0 ind + 1 end code ' ' sep + 1 end len code if end -1 else end formula ' ' + code ind + 1 sep + 'if' + code ind + 'else' + code sep + 1 end + ' ' return transform crap code beg + formula + code ]
def permutation Filter perm return True 
def partial max a raise Not Implemented Error 'TODO implementthisfunction 
def reject fairness experiment num heads len [flip for flip in experiment if flip return num heads < 469 or num heads > 531
def remove nexusport binding port id vlan id switch ip instance id L O G _ 'remove nexusport binding called session db session try binding session nexus models v2 Nexus Port Binding .filter by vlan id vlan id .filter by switch ip switch ip .filter by port id port id .filter by instance id instance id .all for bind in binding session bind session return bindingexcept exc No Result Found pass 
def read comments ws xml source root fromstring xml source authors  get author list root comment nodes safe iterator root '{%s}comment' % SHEET MAIN NS for node in comment nodes author authors node Id ]cell node node node '{%s}text' % SHEET MAIN NS substrs []for run in text node '{%s}r' % SHEET MAIN NS runtext ''.join [t.text for t in run '{%s}t' % SHEET MAIN NS ] substrs runtext comment text ''.join substrs comment Comment comment text author ws coordinate cell .comment comment 
def insert read more link instance if type instance ! contents Article return S U M M A R Y MAX LENGTH instance 'SUMMARY MAX LENGTH' READ MORE LINK instance 'READ MORE LINK' None READ MORE LINK FORMAT instance 'READ MORE LINK FORMAT' '<aclass "read-more"href "/{url}">{text}</a>' if not SUMMARY MAX LENGTH and READ MORE LINK and READ MORE LINK FORMAT returnif hasattr instance ' summary and instance summary summary instance summaryelse summary truncate html words instance SUMMARY MAX LENGTH if summary ! instance read more link READ MORE LINK F O R M A T url instance text READ MORE LINK instance summary insert into last element summary read more link 
def Simple Parser fieldname schema **kwargs from whoosh import pluginspins [hitespace Plugin plugins Plus Minus Plugin plugins Phrase Plugin Query Parser fieldname schema plugins pins **kwargs
def get Points By Vertical Dictionary width x Intersections Dictionary points [ntersections Dictionary Keys x Intersections Dictionary x Intersections Dictionary Keys for x Intersections Dictionary Key in x Intersections Dictionary Keys for x Intersection in x Intersections Dictionary Intersections Dictionary Key points complex x Intersections Dictionary Key * width x Intersection return points 
def rotation x rg 20 is random False row index 0 col index 1 channel index 2 fill mode 'nearest' cval 0.0 if is random theta np / 180 * np - rg rg else theta np / 180 * rg rotation matrix np [[np.cos theta - np theta 0] [np.sin theta np theta 0] [0 0 1]] h w x index x index transform matrix transform matrix offset center rotation matrix h w x apply transform x transform matrix channel index fill mode cval return x 
def make segments x y points np [x y . -1 1 2 segments np [points[ -1 ] points ]] axis 1 return segments 
@lower constant types Uni Tuple @lower constant types Named Uni Tuple def unituple constant context builder ty pyval consts [context.get constant generic builder ty v for v in pyval ir Array Type consts len consts consts 
def experimental api name if not chainer experimental feature warning warnings 'heinterfacecanchangeinthefuture api name Future Warning 
def secondary clustering sff file mapping bestscores log fh threshold 4.5 verbose False if len bestscores 0 return flowgrams header lazy parse sff handle open sff file counter 0for f in flowgrams id score bestscores Name score < threshold counter + 1mapping[id].extend mapping Name mapping f Name del mapping Name verbose log fh 'econdaryclusteringremoved % counter 
def available attrs fn if six P Y3 return WRAPPER A S S I G N M E N T Selse return tuple a for a in WRAPPER ASSIGNMENTS if hasattr fn a 
def id return  distro 
def find undeclared nodes names visitor Undeclared Name Visitor names try for node in nodes visitor node except Visitor Exit passreturn visitor 
def home dir if IS WINDOWS PLATFORM return os 'USERPROFILE' '' else return os '~'
def  get nibbles char try x y hex ord char [2 ]except x '0'y hex ord char [2 ]return x y 
def get openshift secret key token os 'OPENSHIFT SECRET TOKEN' if token is not None return tokenname os 'OPENSHIFT APP NAME' uuid os 'OPENSHIFT APP UUID' if name is not None and uuid is not None nameuuid '-'.join name uuid return hashlib nameuuid 'utf-8' .hexdigest sys 'OPENSHIFTWARNING Usingdefaultvaluesforsecurevariables ' + ' P E N S H I F T SECRET TOKEN!' raise Value Error 'okeyavailable 
def use step matcher name global current matchercurrent matcher matcher mapping 
def will expire soon expiry soon timeutils + datetime seconds 30 return expiry < soon 
def proxy rewriter condition rewrite def  proxy rewriter criteria criteria integral criteria integrand symbol integralargs criteria + list integral if condition *args rewritten rewrite *args if rewritten ! integrand return Rewrite Rule rewritten integral steps rewritten symbol integrand symbol return  proxy rewriter 
def build property spec client factory type 'irtual Machine properties to collect None all properties False if not properties to collect properties to collect ['name']property spec client factory 'ns0 Property Spec property spec all propertiesproperty spec Set properties to collectproperty spec typereturn property spec 
def test db ip  unittest '] 12nt.assert equal ip  unittest '] 12 del ip  unittest ']assert '  unittest ' not in ip 
def path to url2 path path os os path drive path os path filepath path os url '/'.join [urllib.quote part for part in filepath if not drive url url '/' return 'file ///' + drive + url 
def  filter source try varname re 'eval\\ \\w+\\ \\w+\\ \\w+ \\ \\ \\ ;' source .group 1 reverse re "var+%s*\\ *' .* ';" % varname source .group 1 except Attribute Error raise Unpacking Error 'alformed My Obfuscatedata try return base64 reverse -1 ].encode 'utf8' .decode 'utf8' except Type Error raise Unpacking Error 'y Obfuscatepayloadisnotbase64 
def Format Arguments *args **kwargs def  Format Arg arg return Format Log Argument arg args [ Format Arg arg for arg in args {key  Format Arg value for key value in kwargs }return ' args %s kwargs %s ' % args kwargs 
def get available colours ret ''for colours in IRC COLOUR DICT ret + colours + ' ' return ret -2 ]
def index alt s3 redirect default URL f 'mission' args 'summary'
def unpublish desc type port properties None add hostname True server start server service create service desc type port properties add hostname server Service service if server Registered Services 0 stop server 
def set palette palette n colors None desat None color codes False colors palettes palette palette n colors desat if mpl ge 150 from cycler import cyclercyl cycler 'color' colors mpl Params cycle cylelse mpl Params cycle list colors mpl Params colors color codes palettes color codes palette 
def has parent basepath obj try return any cls for cls in obj  class  .mro if basepath '%s.%s' % cls  module   cls  name   except Type Error Attribute Error return False 
def module Provides *interfaces frame sys getframe 1 locals frame localsif locals is not frame globals or '  name  ' not in locals raise Type Error 'rovidescanonlybeusedfromamoduledefinition if '  provides  ' in locals raise Type Error 'rovidescanonlybeusedonceinamoduledefinition locals  provides  '] Provides Module Type * normalizeargs interfaces 
def multigroup pvals groups exact True keep all True alpha 0.05 pvals pd Series pvals if not set pvals < set [alse True raise Value Error 'theseriesshouldbebinary' if hasattr pvals 'is unique and not pvals unique raise Value Error 'serieswithduplicatedindexisnotaccepted' results {'pvals' {} 'increase' {} ' in sign {} ' in non {} ' out sign {} ' out non {}}for group name group list in iteritems groups res  test group pvals group name group list exact results name res name res in sign name res in non name res out sign name res out non name res df sort values pd Data Frame results 'pvals' if not keep all result df result df df stats smt result df method 'fdr bh alpha alpha [1]result df pvals correctedreturn result df 
def has key key store load return key in store 
def collect quantum ports bridges root helper ports []for bridge in bridges ovs ovs lib O V S Bridge bridge root helper ports + [port.port name for port in ovs vif ports ]return ports 
def  yule walker X order 1 assert X 2 denom X -1 ] - np order + 1 r np order + 1 np for di d in enumerate X d - d r + np d d for k in range 1 order + 1 r + np d - k ] d ] r / denom * len X rho linalg linalg r -1 ] r ] sigmasq r - r ] * rho .sum return rho np sigmasq 
def  get headnode dict fixer list head nodes collections list every []for fixer in fixer list if fixer try heads  get head types fixer except  Every Node every fixer else for node type in heads head nodes type fixer elif fixer accept type is not None head nodes accept type fixer else every fixer for node type in chain pygram grammar pygram grammar head nodes type every return dict head nodes 
def keyboard role name rawtext text lineno inliner options {} content [] new element nodes rawtext text new element class 'kbd' return [new element []
def pkg commit hash pkg path pth os pkg path COMMIT INFO FNAME if not os pth raise I O Error u Missingcommitinfofile % pth cfg parser Config Parser cfg parser pth archive subst cfg parser u u subst hash if not archive subst u Format return u archive subst install subst cfg parser u u hash if install subst ! u return u install subst proc subprocess Popen u H E A D stdout subprocess P I P E stderr subprocess P I P E cwd pkg path shell True repo commit _ proc if repo commit if PY3 repo commit repo commit return u repo commit return u nonefound ' u 
def supported fixes yield u E101 docstring summary reindent  doc   instance Fix P E P8 filename None options None contents u for attribute in dir instance code re u  [ew][0-9][0-9][0-9] ' attribute if code yield code 1 .upper re u u docstring summary getattr instance attribute .  doc   for code function in sorted global fixes yield code + 4 - len code * u re u u docstring summary function  doc   for code in sorted CODE TO 2TO3 yield code + 4 - len code * u re u u docstring summary fix 2to3.  doc  
def memory index indices t memlen itemsize ndim shape strides offset tp offsetfor i in range ndim p + strides * indices return p 
def cs int func func [CS PTR POINTER c uint ]func.restype c intfunc check cs getreturn func 
def  Repr class instance ordered dictionary return u %s ' % class instance  class  .  name   ' '.join [ '%s %r' % key value for key value in ordered dictionary if value is not None and value ! [] ]
def  infer return type *args return type Nonefor arg in args if arg is None continueif isinstance arg bytes if return type is str raise Type Error "an return type byteselse if return type is bytes raise Type Error "an return type strif return type is None return strreturn return type 
def roots chebyu n mu False m int n if n < 1 or n ! m raise Value Error 'nmustbeapositiveinteger.' t np m 0 -1 * pi / m + 1 x np t w pi * np t ** 2 / m + 1 if mu return x w pi / 2 else return x w 
def  element in child template root e return any x 'bind template for x in root to e 
def generate gexf G encoding 'utf-8' prettyprint True version '1.1draft' writer G E X F Writer encoding encoding prettyprint prettyprint version version writer graph G for line in str writer .splitlines yield line 
def Copy Reversed Lines instream outstream blocksize 2 ** 16 line count 0instream.seek 0 2 last block instream // blocksize spillover ''for iblock in xrange last block + 1 -1 -1 instream iblock * blocksize data instream blocksize lines data True lines -1 ] ''.join lines -1 ] + [spillover] .splitlines True if lines and not lines -1 ].endswith '\n' lines -1 ] + '\n'lines.reverse if lines and iblock > 0 spillover lines if lines line count + len lines data ''.join lines .replace '\x00' '\n DCTB ' outstream data return line count 
def create new user confirmation user address id chars string letters + string rand random System Random random id ''.join [rand.choice id chars for i in range 42 ] record User Confirmation Record user address user address id random id record return 'https //{}/user/confirm?code {}'.format socket socket random id 
def generate lane mask aln entropy threshold if entropy threshold 0.0 result ['1'] * aln length else entropies aln entropies nan on non standard chars False entropy cutoff np entropies 1 - entropy threshold * 100.0 interpolation 'nearest' result []for entropy in entropies if entropy > entropy cutoff result '0' else result '1' return ''.join result 
def  error detail data item err item Detail 'code' in err msg '{1} {2}'.format item Detail item Detail else msg item Detail msg 
def loop until reactor predicate steps None if steps is None steps repeat 0.1 steps iter steps action LOOP UNTIL ACTION predicate predicate d action Deferred Context maybe Deferred action predicate def loop result if not result LOOP UNTIL ITERATION MESSAGE result result .write try delay steps except Stop Iteration raise Loop Exceeded predicate result d defer Later reactor delay action predicate d Callback partial action loop return daction Success Fields result result return resultd Callback loop return d Action Finish 
@login required required or 403 'forums forum delete forum Forum 'slug  iexact 'forum slug def delete post request forum slug thread id post id forum get object or 404 Forum slug forum slug thread get object or 404 Thread pk thread id forum forum post get object or 404 Post pk post id thread thread if request 'GET' return render request 'forums/confirm post delete {'forum' forum 'thread' thread 'post' post log 'ser %s' % request post post statsd 'forums.delete post try Thread pk thread id goto reverse 'forums.posts' args [forum slug thread id except Thread Does Not Exist goto reverse 'forums.threads' args [forum slug return Http Response Redirect goto 
@blueprint.route '/sources/<source>/users' def list users by source source return  list users source source 
def parse content type content type if content type is not None and ';' in content type return parse header content type return content type empty 
def  is minimal bsgs base gens base1 []sgs1 gens ]size gens i in range size if not all h array form i for h in sgs1 base1 i sgs1 [h for h in sgs1 if h array form i ]return base1 base 
@utils.arg 'hypervisor' metavar '<hypervisor>' help _ 'ameor I Dofthehypervisortoshowthedetailsof @utils.arg '--wrap' dest 'wrap' metavar '<integer>' default 40 help _ 'raptheoutputtoaspecifiedlength Defaultis40or def do hypervisor show cs args hyper  find hypervisor cs args utils dict utils dict hyper dict wrap int args 
def extract test sentences string comment chars '#%;' encoding None if encoding is not None string string encoding sentences []for sentence in string '\n' if sentence '' or sentence in comment chars continuesplit info sentence ' ' 1 result Noneif len split info 2 if split info in [rue 'true' 'alse 'false'] result split info in [rue 'true'] sentence split info result int split info sentence split info sentence if tokens [] continuesentences + [ tokens result ]return sentences 
def check for obj leakage f *args **kwargs f gc gc gc f gc gc gc r1 gc objects f gc gc gc r2 gc objects d2 dict [ id x x for x in r2 del d2 r1 ]for o in r1 if id o in d2 del d2 o ]return len r2 - len r1 - 1 d2 
def parse gcs uri uri components urlparse uri if components ! 'gs' or '/' not in components raise Value Error 'nvalid G C S U R I %s' % uri return components components ]
def encipher elgamal i key seed None p r e keyif i < 0 or i > p raise Value Error 'essage %s shouldbeinrange %s ' % i p randrange  randrange seed a randrange 2 p return pow r a p i * pow e a p % p 
def signalcommand func def inner self *args **kwargs pre command self  class   args args kwargs kwargs ret func self *args **kwargs post command self  class   args args kwargs kwargs outcome ret return retreturn inner 
def parse keqv list l encoded list [u.encode 'utf-8' for u in l parsed urllib2 keqv list encoded list return dict k 'utf-8' v 'utf-8' for k v in encoded parsed 
def  pretty fulltext sentences sents outstr u + u {0.ID} {0.name} \n\n'.format sents outstr + u U R L U R L sents outstr + u sents for i sent in enumerate sents outstr + u i sent outstr + u outstr 
def  sample even odd W list b list samples beta odd True for i in xrange odd len samples 2 samples sample hi given samples i W list b list beta 
def arbitrary address family if family 'AF INET' return 'localhost' 0 elif family 'AF UNIX' return tempfile prefix 'listener-' dir util temp dir elif family 'AF PIPE' return tempfile prefix '\\\\.\\pipe\\pyc-%d-%d-' % os next  mmap counter dir '' else raise Value Error 'unrecognizedfamily'
def encode short string pieces value encoded value as bytes value length len encoded value if length > 255 raise exceptions Short String Too Long encoded value pieces struct 'B' length pieces encoded value return 1 + length 
def safe loads arg try loaded json arg except Type Error Value Error loaded argreturn loaded 
def combine types x y if isinstance x Unknown return yif isinstance y Unknown return xif isinstance x Any return xif isinstance y Any return yif isinstance x Union return combine either x y if isinstance y Union return combine either y x if x y return xreturn simplify either [x] [y]
def hex2rgb hex Color if hex Color '#' hex Color hex Color ]elif hex Color 2].lower '0x' hex Color hex Color ]if len hex Color 3 hex Color hex Color + '0' + hex Color + '0' + hex Color + '0' rgb int hex Color 2] 16 int hex Color 4] 16 int hex Color 6] 16 return rgb 
def gray rc u cmap u im gci if im is not None im cmap cm 
def Gen Bank Iterator handle return Gen Bank Scanner debug 0 .parse records handle 
def  country level time zones for number numobj cc str numobj code for prefix len in range TIMEZONE LONGEST PREFIX 0 -1 prefix cc 1 + prefix len ]if prefix in TIMEZONE DATA return TIMEZONE D A T A  UNKNOWN TIME ZONE LIST
def edition rebulk Rebulk .regex defaults flags re I G N O R E C A S E abbreviations [dash] .string defaults ignore case True rebulk name 'edition' validator seps surround rebulk 'collector' 'collector-edition' 'edition-collector' value 'ollector Edition rebulk 'special-edition' 'edition-special' value 'pecial Edition conflict solver lambda match other other if other 'episode details and other 'pecial else '  default  ' rebulk 'criterion-edition' 'edition-criterion' value 'riterion Edition rebulk 'deluxe' 'deluxe-edition' 'edition-deluxe' value 'eluxe Edition rebulk "director'?s?-cut" "director'?s?-cut-edition" "edition-director'?s?-cut" value "irector return rebulk 
def  check roundtrip montage fname assert equal montage frame 'head' montage fname montage read read dig montage fif fname assert equal str montage str montage read for kind in 'elp' 'hsp' 'nasion' 'lpa' 'rpa' assert allclose getattr montage kind getattr montage read kind err msg kind assert equal montage read frame 'head'
def  find collections root packages []for dirname subdirs files in os root for filename in files if filename u xmlfile os dirname filename yield Element Tree xmlfile .getroot
def common mocks f def  common inner inner1 inst *args **kwargs @mock.patch 'open spec True @mock.patch 'eventlet.sleep' spec True @mock.patch 'time.time' spec True @mock.patch 'cinder.backup.drivers.ceph.rbd' @mock.patch 'cinder.backup.drivers.ceph.rados' def  common inner inner2 mock rados mock rbd mock time mock sleep mock popen mock time effect inst incmock popen effect Exceptioninst rados mock radosinst rbd mock rbdinst rbd Image Busy Mock Image Busy Exceptioninst rbd Image Not Found Mock Image Not Found Exceptioninst inst rbdinst inst radosreturn f inst *args **kwargs return  common inner inner2 return  common inner inner1 
def libvlc media player get chapter count for title p mi i title f  Cfunctions 'libvlc media player get chapter count for title None or  Cfunction 'libvlc media player get chapter count for title 1 1 None ctypes int Media Player ctypes int return f p mi i title 
def  get win adapter name and ip address mac address network adapters  get windows network adapters return  get adapter name and ip address network adapters mac address 
def cloudstack displayname vm  return config cloud config value 'cloudstack displayname vm    opts   search global True 
def rs is puiseux p x index p x for k in p if k ! int k return Trueif k < 0 raise Value Error 'heseriesisnotregularin % x return False 
def cached query model filter fn filter identity def cached query decorator fn def cached query wrapper *args assert fn  name  .startswith 'get ' row key components [fn.  name  [len 'get ' ]]if len args > 0 if isinstance args Thing args list args args args idif isinstance args int long serialized to36 args else serialized str args row key components serialized row key components str x for x in args ] row key '.'.join row key components query fn *args query sort query sorttry is precomputed query Attribute Error is precomputed  is query precomputed query return Cached Query model row key query sort filter fn is precomputed return cached query wrapperreturn cached query decorator 
def  Prepare Special Properties entity proto is load for i in xrange entity proto size - 1 -1 -1 if  SPECIAL PROPERTY M A P key entity proto i .name del entity proto list [i]for is visible is stored property func in  SPECIAL PROPERTY M A P if is load should process is visibleelse should process is storedif should process special property property func entity proto if special property entity proto list .append special property 
def split content type c type delim ';'ps c type delim tup dict [ k .strip v for k v in [p.split ' ' 1 for p in ps ]]] return tup 
def test scenario post email feature Feature string FEATURE21 scenario1 scenario2 feature ['tag']
def confirm email token status token return get token status token 'confirm' 'CONFIRM EMAIL'
def remove Dynamic Content page if page for item in kb Markings prefix suffix itemif prefix is None and suffix is None continueelif prefix is None page re ' ?s ^.+%s' % re suffix suffix '\\' '\\\\' page elif suffix is None page re ' ?s %s.+$' % re prefix prefix '\\' '\\\\' page else page re ' ?s %s.+%s' % re prefix re suffix '%s%s' % prefix '\\' '\\\\' suffix '\\' '\\\\' page return page 
def  is Category field Type if field Type 'string' return Trueif field Type 'int' or field Type 'float' return False 
def  build template params params str i 0params {}for item in params str param __ value item ' ' if value params valueelse i i + 1 params i ] paramreturn params 
def includes cls fields first field Noneif len fields if isinstance fields six types first field fields isinstance fields list tuple and len fields first field fields first field ' cls 
def test record bad output String I O recorder Record file object output replay False num lines 10for i in xrange num lines recorder line str i + '\n' output value output output String I O output value playback checker Record file object output replay True for i in xrange num lines // 2 playback checker line str i + '\n' try playback checker line '0\n' except Mismatch Error returnraise Assertion Error 'ailedtodetectmismatchbetweenrecordedsequenceandrepetitionofit 
def equate point return Value point To Vector3 evaluate Vector3 By Dictionary List Value return Value point 
def migrate node facts facts params {'common' 'dns ip 'node' not in facts facts {}for role in params if role in facts for param in params if param in facts facts facts param return facts 
def Get Module For Typelib typelib C L S I D lcid major minor mod Name Get Generated File Name typelib C L S I D lcid major minor mod  Get Module mod Name if ' in gencache ' not in mod  dict   Add Module To Cache typelib C L S I D lcid major minor assert ' in gencache ' in mod  dict   return mod 
def  psql cmd *args **kwargs user host port maintenance db password  connection defaults kwargs 'user' kwargs 'host' kwargs 'port' kwargs 'maintenance db kwargs 'password'  PSQL BIN  find pg binary 'psql' cmd [ PSQL BIN '--no-align' '--no-readline' '--no-psqlrc' '--no-password']if user cmd + ['--username' user host cmd + ['--host' host port cmd + ['--port' str port ]if not maintenance db maintenance db 'postgres'cmd.extend ['--dbname' maintenance db cmd args return cmd 
def decode fvwi byts flag size 4 arg consumed decint bytes byts val arg >> flag size flags 0for i in xrange flag size flags | arg & 1 << i return val flags consumed 
@pytest.mark.parametrize u [[u'user action u [u'user group u [u'user group u action def test should break ties using lexical order completer collection text u completer matches text collection assert matches > matches 
def get exploration recommendations exp id recommendations model recommendations models Exploration Recommendations Model exp id strict False if recommendations model is None return []else return recommendations model exploration ids 
def test stockwell check input for last dim in 127 128 data np 2 10 last dim x in n fft zero pad  check input st data None assert equal x in 2 10 128 assert equal n fft 128 assert equal zero pad 128 - last dim 
def parse logging rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--host' dest 'host' action 'store' parser argument '--port' dest 'port' action 'store' parser argument '--level' dest 'level' action 'store' choices ['debug' 'info' 'warning' 'error' 'critical'] args clean args vars parser args rules parser Nonereturn args 
def DER cert to PEM cert der cert bytes if hasattr base64 'standard b64encode f base64 b64encode der cert bytes return PEM HEADER + '\n' + textwrap f 64 + '\n' + PEM FOOTER + '\n' else return PEM HEADER + '\n' + base64 der cert bytes + PEM FOOTER + '\n'
def check stack complete cnxt stack current traversal sender id deps is update roots set deps if sender id is update not in roots returndef mark complete stack id data stack complete sender key sender id is update sync point cnxt stack current traversal True mark complete roots {sender key None 
def get Complex By Multiplier Prefix element Node multiplier prefix value Complex if multiplier 0.0 return value Complexold Multiplied Value Complex value Complex * multiplier complex By Prefix get Complex By Prefix element Node prefix old Multiplied Value Complex if complex By Prefix old Multiplied Value Complex return value Complexreturn complex By Prefix / multiplier 
def  get chart ajax request chart id None div id None 'eportsindexpage json {'chart' {o div id 'eries Type 'line'} 'title' {'text' 'lexs Questfor Mooshoo 'xis {'categories' [pples 'ananas 'ranges 'xis {'title' {'text' 'owdy 'series' [{'name' 'hi' 'data' 50} {'name' 'h0' 'data' 60} {'name' 'hi' 'data' 50} {'name' 'h0' 'data' 10} {'name' 'hi' 'data' 80} {'name' 'h0' 'data' 40} {'name' 'hi' 'data' 50} {'name' 'h0' 'data' 26} {'name' 'hi' 'data' 50} {'name' 'h0' 'data' 20} {'name' 'hi' 'data' 30} {'name' 'h0' 'data' 80} {'name' 'hi' 'data' 50}]} return Http Response options content type settings H A R D T R E E RESPONSE F O R M A T S 
def get filesystem name 'default' if name not in FS CACHE FS C A C H E  make fs name return FS C A C H E 
def getframeinfo frame context 1 if istraceback frame lineno frame linenoframe frame frameelse lineno frame linenoif not isframe frame raise Type Error 'argisnotaframeortracebackobject' filename getsourcefile frame or getfile frame if context > 0 start lineno - 1 - context // 2 try lines lnum findsource frame except I O Error lines index Noneelse start max start 1 start max 0 min start len lines - context lines lines start + context ]index lineno - 1 - start else lines index Nonereturn Traceback filename lineno frame code name lines index 
def k core G k None core number None def k filter v k c return c > k return  core subgraph G k filter k core number 
def add tag trace thing user line None if user line is None user line config user line -1 user line Noneskips ['theano/tensor/' 'theano\\tensor\\' 'theano/compile/' 'theano\\compile\\' 'theano/gof/' 'theano\\gof\\' 'theano/scalar/basic.py' 'theano\\scalar\\basic.py' 'theano/sandbox/' 'theano\\sandbox\\' 'theano/scan module 'theano\\scan module 'theano/sparse/' 'theano\\sparse\\' 'theano/typed list 'theano\\typed list config limit > 0 skips []tr simple extract stack limit user line skips skips if tr thing [tr]else thing trreturn thing 
def Encode P O S I X Shell Argument argument if not isinstance argument str argument str argument if  quote argument quote '"'else quote ''encoded quote + re  escape '\\\\\\1' argument + quote return encoded 
def  read uint16 f return np struct '>H' f 4 [2 4] [0]
def attach cd session vm ref vdi ref userdevice vbd ref create vbd session vm ref None userdevice vbd type 'cd' read only True bootable True empty True unpluggable False session xenapi ' B D vbd ref vdi ref return vbd ref 
def metadef tag get context namespace name name session None session session or get session return metadef tag api context namespace name name session 
def assert soon condition message None max tries 60 if not wait for condition max tries max tries raise Assertion Error message or ''
def change music new music repeat False if music and new music is not current music if new music new playlist Play List [new music repeat repeat else new playlist Nonechange playlist new playlist 
def log dir init if sys 'darwin' name str Q Core Application Name logdir os os 'ibrary Logs name else logdir data dir if not os logdir os logdir return logdir 
def str2tuple s sep '/' loc s sep if loc > 0 return s loc s loc + len sep ].upper else return s None 
def test format pep8 pep8 checker Style Guide files to check []for path in list files '.py' rel path os path pylearn2  path  [0] if rel path in whitelist pep8 continueelse files to check path report pep8 checker files files to check if report errors > 0 raise Assertion Error ' E P8 Formatnotrespected 
def randslice from slicelen slicelen listlen maxstart listlen - slicelen start randrange maxstart + 1 maxstep listlen - start // slicelen if slicelen else 1 step randrange 1 maxstep + 1 stop start + slicelen * step s slice start stop step _ _ _ control slice indices s listlen if control ! slicelen raise Runtime Errorreturn s 
def road stats estate None return get stats estate estate stack 'road'
def  missing count album return album or 0 - len album 
def get bufsize iface if   grains  ['kernel'] 'inux if os '/sbin/ethtool' return  get bufsize linux iface return {}
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def toint number if isinstance number float if number > 1 number round number 0 else number round math number 0 return int number 
def create keytab name keytab enctypes None ret {}krb cmd 'ktadd-k{0}'.format keytab if enctypes krb cmd + '-e{0}'.format enctypes krb cmd + '{0}'.format name cmd   execute kadmin krb cmd if cmd ! 0 or cmd ret cmd [ -1 ]ret['result'] Falsereturn retreturn True 
def get symmetric group sgs n antisym False if n 1 return [] [ af new list range 3 ] gens [ermutation n - 1 i i + 1 . array form for i in range n - 1 ]if antisym 0 gens [ x + [n n + 1 ] for x in gens gens [ x + [ n + 1 n for x in gens list range n - 1 return base [ af new h for h in gens 
def build environment request response session store current True environment dict  base environment  if not request request Storage response to run ['^\\w+\\.py$' '^%s/\\w+\\.py$' % request '^%s/%s/\\w+\\.py$' % request request ]t environment T translator os request 'languages' request accept language c environment Cache request if store current current environmentcurrent requestcurrent responsecurrent sessioncurrent T tcurrent cif is jython global   builtins    builtins   mybuiltin environment requestenvironment responseenvironment sessionenvironment import lambda name reload False app request local import aux name reload app Base Adapter folder pjoin request 'databases' custom import install return environment 
def buy data return {}
def format subject subject return subject '\n' '\\n' .replace '\r' '\\r'
def isotime at None subsecond False if not at at timeutils st at  ISO8601 TIME FORMAT if not subsecond else  ISO8601 TIME FORMAT SUBSECOND tz at None if at else 'UTC' st + 'Z' if tz 'UTC' else tz return st 
def basic tokenizer sentence words []for space separated fragment in sentence .split words  WORD S P L I T space separated fragment return [w for w in words if w 
def maybe evaluate obj try return obj  maybe evaluate   except Attribute Error return obj 
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def chuang f1 individual total 0if individual -1 ] 0 for i in xrange 0 len individual - 1 4 total + inv trap individual i + 4 ] else for i in xrange 0 len individual - 1 4 total + trap individual i + 4 ] return total 
def poi type return s3 rest controller 
def remove refct pairs bb didsomething Truewhile didsomething didsomething Falseincrefs {}decrefs {}for inst in bb if isinstance inst lc Call Or Invoke Instruction fname inst function fname 'y Inc Ref arg inst instelif fname 'y Dec Ref arg inst instfor val in increfs if val in decrefs increfs from parent decrefs from parent didsomething True 
def get ipdir ipdir pjoin os   file   os ipdir os ipdir cd ipdir if not os ' Python and os 'setup.py' raise System Exit 'nvalidipythondirectory %s' % ipdir return ipdir 
def validate filter filter return filter in C O N F scheduler filters 
def add tenant user role request tenant id user id role id return keystoneclient request admin True .roles.add user role user id role id tenant id 
def demo print times True print grammar False print trees True trace 2 sent 'saw Johnwithadogwithmycookie numparses 5 import sys timefrom nltk import demo grammargrammar demo grammar if print grammar print 'rammar print grammar print 'entence ' print sent tokens sent print tokens print earley Earley Chart Parser grammar trace trace t time chart earley parse tokens parses list chart grammar t time - t if numparses assert len parses numparses 'otallparsesfound print trees for tree in parses print tree else print 'rtrees ' len parses if print times print 'ime ' t 
def in6 getha prefix r in6 and inet pton socket A F INET6 prefix in6 cidr2mask 64 r in6 or r inet pton socket A F INET6 ' fdff ffff ffff fffe return inet ntop socket A F INET6 r 
def Random Sum dists total sum dist Random for dist in dists return total 
def sdm monomial mul M X return M[0] + monomial mul X M[1 ]
def sql flush style connection only django False reset sequences True allow cascade False if only django tables connection table names only existing True include views False else tables connection names include views False seqs connection list if reset sequences else statements connection flush style tables seqs allow cascade return statements 
def validate is mapping option value if not isinstance value collections Mapping raise Type Error '%smustbeaninstanceofdict bson S O N orothertypethatinheritsfromcollections Mapping % option 
def get cwd p subprocess Popen ['pwd'] stdout subprocess P I P E shell True return p [0].strip
def echo instancemethod klass method write sys mname method name method never echo '  str  ' '  repr  ' if mname in never echo passelif is classmethod method klass setattr klass mname classmethod echo method  func   write else setattr klass mname echo method write 
def sub Array data offset shape stride data data ]shape tuple shape stride tuple stride extra Shape data ]for i in range len shape mask slice None * i + slice None shape * stride new Shape shape i + 1 ]if i < len shape - 1 new Shape + stride new Shape + extra Shapedata data data new Shape return data 
def image member delete context memb id session None session session or get session member ref  image member get context memb id session  image member delete context member ref session 
def dup primitive f K if not f return K f cont dup content f K if K one cont return cont f else return cont dup quo ground f cont K
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def handler url block handler name suffix '' query '' thirdparty False view name 'xblock handler handler name func getattr block  class   handler name None if not func raise Value Error '{!r}isnotafunctionname'.format handler name if thirdparty view name 'xblock handler noauth reverse view name kwargs {'course id unicode block key 'usage id quote slashes unicode block ids id .encode 'utf-8' 'handler' handler name 'suffix' suffix if not suffix url url '/' if query url + '?' + query if thirdparty scheme 'https' if settings H T T P S 'on' else 'http' url '{scheme} //{host}{path}'.format scheme scheme host settings S I T E NAME path url return url 
def  add billed op to trace trace num ops op if num ops billed op trace billed ops billed op num ops num ops billed op op op 
def format acl v1 groups None referrers None header name None groups referrers groups or [] referrers or [] referrers [ '.r %s' % r for r in referrers ' '.join groups + referrers return clean acl header name result if header name else result 
def get labels url return '{base url **API PARAMS
def require jinja2 test func test func skip If jinja2 is None 'thistestrequiresjinja2' test func test func override settings TEMPLATES [{'BACKEND' 'jango Templates 'APP DIRS' True {'BACKEND' 'inja2 'APP DIRS' True 'OPTIONS' {'keep trailing newline True test func return test func 
def sort otu table by mapping field otu table data mapping file data sort field sort f natsort mapping data header data comments mapping file datamapping field index header data sort field sorted sample ids [ e field index e for e in mapping data sample ids sort f sorted sample ids sorted sample ids [e[1] for e in sorted sample ids sort otu table otu table data sorted sample ids 
def  Has I O S Target targets for target dict in targets for config in target dict if config 'xcode settings {} .get 'IPHONEOS DEPLOYMENT TARGET' return Truereturn False 
def get cup metric name for metric in cup metrics if metric  name  .lower name return metricraise Attribute Error 
def time to datetime x if isinstance x time return datetime date 1970 1 1 x return x 
def on Ready For Shut Down INFO MSG 'eady For Shut Down ' return True 
def get factory return random [og Factory Cat Factory 
def cum Norm xx sd thresh chance 0.5 xx numpy xx y special xx - thresh / numpy 2 * sd + 1 * 0.5 y y * 1 - chance + chance return y 
def register linter linter checker Exceptions Checker linter 
def intword value try value int value except Type Error Value Error return valueif value < 1000000 return valueif value < 1000000000 new value value / 1000000.0 return ungettext '% value .1fmillion' '% value .1fmillion' new value % {'value' new value if value < 1000000000000 new value value / 1000000000.0 return ungettext '% value .1fbillion' '% value .1fbillion' new value % {'value' new value if value < 1000000000000000 new value value / 1000000000000.0 return ungettext '% value .1ftrillion' '% value .1ftrillion' new value % {'value' new value return value 
def is valid lval t if not is internal t and is lval t and t not in RESERVED NAMES return Truereturn False 
def ubuntu module release module module module module module module get ubuntu url release stream req get url module url reader csv req delimiter ' DCTB ' try ami aki ari tag serial lookup ubuntu ami reader release stream store arch region virt module json changed False ami ami aki aki ari ari tag tag serial serial except Key Error module json msg 'omatching A M Ifound 
def  ensure decoded s if isinstance s np  bytes s s pd option 'display.encoding' return s 
def test add array odd shape large test array np 11 11 small test array np 5 5 large test array ref large test array large test array ref 8 3 8] + small test arrayadded array add array large test array small test array 5 5 assert np added array large test array ref 
def remote args remote local branch u remote branch u ff only False force False no ff False tags False rebase False pull False push False set upstream False args [remote]what refspec arg local branch remote branch pull push if what args what kwargs {u'verbose' True pull if rebase kwargs Trueelif ff only kwargs only Trueelif no ff kwargs ff Trueelif force kwargs Trueif push and set upstream kwargs upstream Trueif tags kwargs Truereturn args kwargs 
def s3 get extension request None if request is None request current request request 'ticket' and request 'admin' extension 'html'elif 'format' in request vars ext request vars isinstance ext list ext ext -1 ]extension ext or extension else ext Nonefor arg in request -1 ] if '.' in arg ext arg '.' 1 [1].lower breakif ext extension extreturn extension 
def cors enabled origin methods ['GET'] def decorator f @wraps f def decorated func request *args **kwargs if request 'OPTIONS' if 'HTTP ACCESS CONTROL REQUEST METHOD' in request M E T A and 'HTTP ACCESS CONTROL REQUEST HEADERS' in request M E T A response http Http Response response Access Control Allow Methods ' '.join methods response Access Control Allow Headers request M E T A H T T P ACCESS CONTROL REQUEST H E A D E R S return http Http Response Bad Request elif request in methods response f request *args **kwargs else return http Http Response Bad Request response Access Control Allow Origin originreturn responsereturn decorated funcreturn decorator 
def national significant number numobj national number U EMPTY S T R I N Gif numobj leading zero num zeros numobj of leading zerosif num zeros is None num zeros 1national number U ZERO * num zeros national number + str numobj number return national number 
def list commands docstring format  if format  'short' return  task names state result []if docstring trailer '\n' if not docstring '\n' else '' result docstring + trailer header COMMANDS H E A D E Rif format  'nested' header + NESTED R E M I N D E Rresult header + ' \n' c  normal list if format  'normal' else  nested list state result c return result 
def get child nodes node return list iter child nodes node 
def str pad arr width side 'left' fillchar '' if not isinstance fillchar compat types msg 'fillcharmustbeacharacter not Type Error msg type fillchar .  name   if len fillchar ! 1 raise Type Error 'fillcharmustbeacharacter notstr if not is integer width msg 'widthmustbeofintegertype not Type Error msg type width .  name   if side 'left' f lambda x x width fillchar elif side 'right' f lambda x x width fillchar elif side 'both' f lambda x x width fillchar else raise Value Error 'nvalidside return  na map f arr 
def compute q noisy max counts noise eps winner np counts counts normalized noise eps * counts - counts counts rest np [counts normalized for i in xrange len counts if i ! winner ] q 0.0for c in counts rest gap - c q + gap + 2.0 / 4.0 * math gap return min q 1.0 - 1.0 / len counts 
def  third party login url backend name auth entry redirect url None params [ 'auth entry auth entry ]if redirect url params 'next' redirect url return u url reverse 'social begin kwargs {'backend' backend name params urllib params 
def m assign llst rlst lslices rslices if atomp rlst return rlstrlst [m assign l r lslices ] rslices ] for l r in zip llst rlst ]llst[lslices[0]] rlstreturn llst 
def D A Crange n return numpy 0.0 256.0 255.0 / n - 1 .astype numpy 
def diff expression tracked gitcmds branch current gitcmds branch if tracked and current ref tracked + u + current else ref u expression qtutils window ref 
def in list list possible values def validate key data errors context if not data in list possible values raise Invalid '"{0}"isnotavalidparameter'.format data return validate 
def  do mb post path body return  mb request path 'POST' AUTH YES True body body 
def newey west m max lags nobs df nw overlap False Xeps np m T m for lag in range 1 max lags + 1 auto cov np m - lag ].T m ] weight lag / max lags + 1 if nw overlap weight 0bb auto cov + auto cov T dd 1 - weight * bb Xeps + dd Xeps * nobs / nobs - df if nw overlap and not is psd Xeps new max lags int np max lags * 1.5 return newey west m new max lags nobs df return Xeps 
def load qiime config qiime config filepaths []qiime project dir get qiime project dir qiime config filepaths qiime project dir + '/qiime/support files config qiime config env filepath getenv 'QIIME CONFIG FP' if qiime config env filepath qiime config filepaths qiime config env filepath home dir getenv 'HOME' if home dir qiime config home filepath home dir + '/.qiime config qiime config filepaths qiime config home filepath qiime config files []for qiime config filepath in qiime config filepaths if exists qiime config filepath qiime config files open qiime config filepath qiime config parse qiime config files qiime config files qiime config otus reference seqs fp qiime config otus reference seqs fp or get reference sequences qiime config template alignment fp qiime config template alignment fp or get template alignment qiime config taxonomy reference seqs fp qiime config taxonomy reference seqs fp or get reference sequences qiime config taxonomy id to taxonomy fp qiime config taxonomy id to taxonomy fp or get reference taxonomy temp dir qiime config dir or tempfile if not temp dir os temp dir + os config dir temp dirreturn qiime config 
def process multipart form data entity process multipart entity kept parts []for part in entity if part is None kept parts part else if part is None value part else value partif part in entity if not isinstance entity list entity [entity.params[part.name]]entity.params[part.name].append value else entity valueentity kept parts 
def rpartition s t i s t if i ! -1 return s i s i + len t ] return '' s 
def parse args parser argparse Argument Parser parser argument '--profile-tool' metavar 'TOOL' action 'store' choices ['kcachegrind' 'snakeviz' 'gprof2dot' 'none'] default 'snakeviz' help 'hetooltousetoviewtheprofilingdata parser argument '--profile-file' metavar 'FILE' action 'store' help 'hefilenametousewith none return parser known args 
def requote uri uri return quote unquote unreserved uri safe "!#$%&' *+ / ; ?@[]~"
def fudge headers response stats if not stats add never cache headers response else seven days 60 * 60 * 24 * 7 patch cache control response max age seven days 
def shuffle Array in Array shuffle Axis -1 seed None if seed is not None numpy seed in Array numpy in Array 'O' rnd Array numpy in Array new Indices numpy rnd Array shuffle Axis return numpy in Array new Indices 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def matrix eye n **options format options 'format' 'sympy' if format 'sympy' return eye n elif format 'numpy' return  numpy eye n elif format 'scipy.sparse' return  scipy sparse eye n raise Not Implemented Error 'nvalidformat %r' % format 
def get fake volume return {'id' '114774fb-e15a-4fae-8ee2-c9723e3645ef' 'size' 1 'volume name 'lun1' 'host' ' D P 'os type 'linux' 'provider location 'lun1' 'name id '114774fb-e15a-4fae-8ee2-c9723e3645ef' 'provider auth 'providerab' 'project id 'project' 'display name None 'display description 'lun1' 'volume type id None 'migration status None 'attach status fields Volume Attach Status D E T A C H E D 
def validate email trans email user None check dup True message ''if user and user email return messageif not VALID EMAIL R E email message 'heformatoftheemailaddressisnotcorrect len email > EMAIL MAX LEN message 'mailaddresscannotbemorethan % EMAIL MAX LEN elif check dup and trans session trans User .filter by email email .first message 'serwiththatemailalreadyexists trans content is not None domain email '@' [1]if len domain '.' > 2 domain '.'.join domain '.' [ -2 ] if domain in trans content message 'leaseenteryourpermanentemailaddress message 
def cpu times user nice system idle irq cext times return scputimes user nice system idle irq 
def  parse key key splt key '\\' hive splt 0 key '\\'.join splt return hive key 
def do flash message category None if config value 'FLASH MESSAGES' flash message category 
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def  patch objects layout attribute paths []for node path in utils generator GRAPH REFERENCE if any [ key in path for key in GRAPH R E F E R E N C E Keys continueif path and path -1 ] 'ttributes layout attribute paths path for trace name in TRACE NAMES O B J E C T S name {'meta paths [ 'traces' trace name ] 'attribute paths [ 'traces' trace name 'attributes' ] 'additional attributes { B J E C T S {'meta paths [ 'layout' ] 'attribute paths layout attribute paths 'additional attributes {}}figure attributes {'layout' {'role' 'object'} 'data' {'role' 'object' ' is Linked To Array True 'frames' {'role' 'object' ' is Linked To Array True O B J E C T S {'meta paths [] 'attribute paths [] 'additional attributes figure attributes 
def  htmlentity transform entity with semicolon entity entity with semicolon -1 ]if entity in compat html entities return compat chr compat html entities if entity with semicolon in compat html entities html5 return compat html entities html5 with semicolon re u x A F ' entity if mobj is not None numstr mobj 1 if numstr u base 16numstr u % numstr else base 10try return compat chr int numstr base except Value Error passreturn u % entity 
def  escape json for js json dumps string json dumps string json dumps string '&' '\\u0026' json dumps string json dumps string '>' '\\u003e' json dumps string json dumps string '<' '\\u003c' return json dumps string 
def create mig gce params changed Falsereturn data []actions filter [ R E A T I N G gce create instancegroupmanager name params size params template params zone params if mig changed Truereturn data  get instance list mig filter list actions filter return changed return data 
def test cache deactivated metadata file config stub tmpdir config stub {'storage' {'cache-size' 1024} 'general' {'private-browsing' True cache cache Disk Cache str tmpdir assert disk cache Meta Data 'foo' Q Network Cache Meta Data 
def global config append None **kwargs duplicated source action kwargs 'duplicated source action if duplicated source action not in   DUPLICATED SOURCE ACTION VALUES console exit 'nvalidglobal config source actionvalue canonlybein %   DUPLICATED SOURCE ACTION VALUES blade config config 'global config append kwargs 
def  get quote indices line escaped indices quote index [] -1 for _ in range 2 quote index line '"' quote index + 1 if escaped while quote index > 1 and line quote index - 1 ] '\\' quote index line '"' quote index + 1 indices quote index return tuple indices 
def hcluster features distfcn L2dist distances {}node [luster Leaf Node array f id i for i f in enumerate features ]while len node > 1 closest float 'nf for ni nj in combinations node 2 if ni nj not in distances distances ni nj ] distfcn ni nj d distances ni nj ]if d < closest closest dlowestpair ni nj ni nj lowestpairnew vec ni + nj / 2.0 new node Cluster Node new vec left ni right nj distance closest node ni node nj node new node return node 
def libvlc chapter descriptions release p chapters i count f  Cfunctions 'libvlc chapter descriptions release None or  Cfunction 'libvlc chapter descriptions release 1 1 None None ctypes P O I N T E R Chapter Description ctypes uint return f p chapters i count 
@register u def end of line event buff event bufferbuff position + buff end of line position 
def test main2 import tempfiletempdir tempfile arglist '--data-dir%s-e2--iter-num 1-v-v--tensorboard-verbose 1train5000' % tempdir arglist arglist '' tf default graph ts2s Command Line arglist arglist wfn ts2s output fnassert os wfn arglist '-i%spredict1234567890' % wfn arglist arglist '' tf default graph ts2s Command Line arglist arglist assert len ts2s results 10 os 'rm-rf%s' % tempdir 
def stop cassandra db ips keyname logging 'topping Cassandra for ip in db ips stop service cmd STOP SERVICE SCRIPT + CASSANDRA WATCH NAME try utils ip keyname stop service cmd except subprocess Called Process Error logging 'nabletostop Cassandraon ip 
def get cache durations return getattr settings 'CMS CACHE DURATIONS' {'menus' 60 * 60 'content' 60 'permissions' 60 * 60 }
def quote c assert isinstance c bytes and len c 1 c ord c return ESCAPE + bytes HEX[ c // 16 ] HEX[ c % 16 ]
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def in idle import sysreturn sys  class  .  name   in 'y Shell ' P C Proxy 
@manager.option '-a' '--accounts' dest 'accounts' type unicode default u def run change reporter accounts account names  parse accounts accounts sm run change reporter account names 
def Parse Status Rewriter response location value response 'location' status value response 'status' if status value response status status valuedel response location value response status 'edirecting % httplib F O U N D else return responsestatus parts response status '' 1 response code response message status parts + [''] [ 2]try response code int response code except Value Error response code 500response.body c String I O String I O 'rror Invalid 
def keyfilter predicate d factory dict rv factory for k v in iteritems d if predicate k rv vreturn rv 
def get check class agent Config check name from config import get os get checks places get valid check classosname get os checks places get checks places osname agent Config for check path builder in checks places check path check path builder check name if not os check path continue check is valid check class load failure get valid check class check name check path if check is valid return check classlog 'ailedtoloadthecheckclassfor % check name return None 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
@task def assets ctx dev False watch False if os ! HERE os HERE npm 'npminstall'if not dev npm + '--production'ctx.run npm echo True bower install ctx webpack ctx clean False watch watch dev dev 
def  mock view index model category idx child idx qtbot view Q Tree View qtbot widget view view Model model idx model From Item model category idx .child child idx view Current Index idx return view 
def check mount root drive if not urllib plus drive drive return Falsepath os root drive return utils path 
def resnet v2 152 inputs num classes None is training True global pool True output stride None reuse None scope 'resnet v2 152' blocks [resnet utils Block 'block1' bottleneck [ 256 64 1 ] * 2 + [ 256 64 2 ] resnet utils Block 'block2' bottleneck [ 512 128 1 ] * 7 + [ 512 128 2 ] resnet utils Block 'block3' bottleneck [ 1024 256 1 ] * 35 + [ 1024 256 2 ] resnet utils Block 'block4' bottleneck [ 2048 512 1 ] * 3 ]return resnet v2 inputs blocks num classes is training is training global pool global pool output stride output stride include root block True reuse reuse scope scope 
@receiver models save sender Skipped Reverification @receiver models delete sender Skipped Reverification def invalidate skipped verification cache sender instance **kwargs cache key Skipped Reverification key name instance unicode instance id cache cache key 
def gen keys nbits p q find p q nbits e d calculate keys p q nbits return p q e d 
@iquid Tags 'graphviz' def graphviz parser preprocessor tag markup m DOT BLOCK R E markup if m code m 'code' program m 'program' .strip output run graphviz program code return '<spanclass "graphviz"style "text-align center "data image %s"></span>' % base64 output .decode 'utf-8' else raise Value Error 'rrorprocessinginput Expectedsyntax {0}'.format SYNTAX
@register.tag u def do filter parser token _ rest token None 1 filter expr parser filter u % rest for func unused in filter expr if getattr func u decorated function func .  name   in u u raise Template Syntax Error u Usethe % func  name   nodelist parser u parser first token return Filter Node filter expr nodelist 
@pytest.fixturedef remove fake project dir request def fin remove fake project dir if os 'fake-project' utils 'fake-project' request fin remove fake project dir 
@add handler 'version' @add handler 'verizon' def qute version  url html jinja 'version.html' title 'ersioninfo version version copyright qutebrowser  copyright   return 'text/html' html 
def  log error and abort ret obj ret Falseret Trueif 'error' in obj ret '{0}'.format obj 'error' return ret 
def mrjob pythonpath return os os os mrjob  file   '..'
def cm2pix cm monitor if not isinstance monitor monitors Monitor msg 'onitorobjectasthesecondargumentbutreceived Value Error msg % str type monitor scr Width Cm monitor Width scr Size Pix monitor Size Pix if scr Size Pix is None msg 'onitor SEEMONITORCENTER 'raise Value Error msg % monitor if scr Width Cm is None msg 'onitor SEEMONITORCENTER 'raise Value Error msg % monitor return cm * scr Size Pix / float scr Width Cm 
def get Distance To Plane Segment segment Begin segment End point segment Difference segment End - segment Begin point Minus Segment Begin point - segment Begin begin Plane Dot get Dot Product point Minus Segment Begin segment Difference if begin Plane Dot < 0.0 return abs point - segment Begin * abs point - segment Begin difference Plane Dot get Dot Product segment Difference segment Difference if difference Plane Dot < begin Plane Dot return abs point - segment End * abs point - segment End intercept begin Plane Dot / difference Plane Dot intercept Perpendicular segment Begin + segment Difference * intercept return abs point - intercept Perpendicular * abs point - intercept Perpendicular 
def  clean string str regex ' ^ Z ]+ | [ Z 0-9]+ ' replace '_' regex re regex if str str replace + str return regex replace str 
def  isfile side effect path return {'/tmp/foo.tar.gz' True '/tmp/out' False '/usr/bin/tar' True '/bin/tar' True '/tmp/test extracted tar False 
def add Line And Newline If Necessary line output output line if len line < 1 returnif not line '\n' output '\n'
def get Geometry Output By Arguments arguments element Node return get Geometry Output None element Node 
def truncate reverse primer fasta fp mapping fp output dir '.' truncate option 'truncate only primer mismatches 2 reverse primers get rev primer seqs open mapping fp 'U' output fp log fp get output filepaths output dir fasta fp log data truncate rev primers open fasta fp 'U' open output fp 'w' reverse primers truncate option primer mismatches log data fp fasta fplog data fp mapping fplog data option truncate optionlog data mismatches primer mismatcheswrite log file log data open log fp 'w'
@themes.command 'new' @click.argument 'theme identifier callback check cookiecutter @click.option '--template' '-t' type click S T R I N G default 'https //github.com/sh4nks/cookiecutter-flaskbb-theme' help 'athtoacookiecuttertemplateortoavalidgitrepo def new theme theme identifier template from cookiecutter import cookiecutterout dir os current app path 'themes' click 'reatingnewtheme theme identifier fg 'cyan' cookiecutter template output dir out dir click 'one Createdin out dir fg 'green' bold True 
def list genres kwargs {}result util '%s/%s' % 'artist' 'list genres kwargs return result 
def  multi permission mask mode compose lambda f g lambda *args **kwargs g f *args **kwargs return functools compose map  permission mask mode u '
def  validate deletion lineedit bridge method text deleted rest lineedit aug text text method assert bridge deleted deleted assert lineedit text rest lineedit bridge yank assert lineedit text deleted + '|'
def  array to file like arr fileobj if len arr 0 returnif arr try fileobj arr except Type Error passelse returnif hasattr np 'nditer' for item in np arr fileobj item else byteorder arr sys 'little' and byteorder '>' or sys 'big' and byteorder '<' for item in arr fileobj item .tostring else for item in arr fileobj item 
def pkcs emsa pkcs1 v1 5 encode M em Len h h Len  hash Func Params Func  hash Func Params H h Func M h Leading Digest Info  hash Func Params T h Leading Digest Info + H t Len len T if em Len < t Len + 11 warning 'pkcs emsa pkcs1 v1 5 encode intendedencodedmessagelengthtooshort return None P S '\xff' * em Len - t Len - 3 EM '\x00' + '\x01' + PS + '\x00' + T return EM
def multi constructor obj loader tag suffix node yaml src yaml node construct mapping node mapping loader mapping node assert hasattr mapping 'keys' assert hasattr mapping 'values' for key in mapping if not isinstance key six types message 'eceivednonstringobject %s askeyinmapping % str key raise Type Error message if '.' not in tag suffix callable eval tag suffix else callable try to import tag suffix rval Proxy callable callable yaml src yaml src positionals keywords mapping return rval 
def get harris points harrisim min dist 10 threshold 0.1 corner threshold harrisim * threshold harrisim t harrisim > corner threshold * 1 coords array harrisim t .candidate values [harrisim[ c c ] for c in coords argsort candidate values allowed locations zeros harrisim allowed locations dist - min dist min dist - min dist ] 1filtered coords []for i in index if allowed locations coords i 0 ] coords i 1 ] ] 1 filtered coords coords allowed locations coords i 0 ] - min dist coords i 0 ] + min dist coords i 1 ] - min dist coords i 1 ] + min dist ] 0return filtered coords 
def parse percent percent input percent input percent input u try return float percent input except Value Error raise Value Error u 
def get module attribute module name attr name attr value if undefined '! A Bad Cafe D15ea Dead Beef Fee1 Dead value exec statement '\nimport%sasm\nprint getattr m %r %r \n' % module name attr name attr value if undefined if attr value attr value if undefined raise Attribute Error 'odule % module name attr name else return attr value 
def  validate encode value value do pickle flags 0stored value valueif isinstance value str passelif isinstance value unicode stored value value 'utf-8' flags | TYPE U N I C O D Eelif isinstance value bool stored value str int value flags | TYPE B O O Lelif isinstance value int stored value str value flags | TYPE I N Telif isinstance value long stored value str value flags | TYPE L O N Gelse stored value do pickle value flags | TYPE P I C K L E Dif len stored value > MAX VALUE SIZE raise Value Error 'aluesmaynotbemorethan % MAX VALUE SIZE len stored value return stored value flags 
@not implemented for 'directed' def laplacian matrix G nodelist None weight 'weight' import scipy nodelist is None nodelist list G A nx scipy sparse matrix G nodelist nodelist weight weight format 'csr' n m A A axis 1 D scipy diags [0] m n format 'csr' return D - A
def remove suffix string suffix if suffix and string suffix return string - len suffix ]else return string 
def find predicate seq for element in seq if predicate element return elementreturn None 
def get platform string current None if current None import syscurrent sys current 'win' or current 'linux' return 'nat'if current 'cli' return 'cli'return 'non'
def parse region region if isinstance region type and issubclass region regions R E G I O N return regionif str region .isdigit return regions R E G I O N S CHOICES ID D I C T region ]else region by slug regions R E G I O N L O O K U P region if region by slug is not None return region by slugregion lower region for region in regions A L L REGIONS if unicode region .lower region lower return region 
def attach  dev None cache uuid if not cache log 'ocachetoattach dev return Falseif dev is None res {}for dev data in status alldevs True .items if 'cache' in data res attach  dev if len res return reselse return Nonebcache uuid dev if bcache if bcache cache log '{0}isalreadyattachedtobcache{1} doingnothing dev cache return Noneelif not detach dev return Falselog 'ttaching dev cache if not  bcsys dev 'attach' cache 'error' 'rrorattaching dev cache return Falsereturn  wait lambda uuid dev cache 'error' '{0}receivedattachtobcache{1} butdidnotcomply dev cache 
def conditional update context model values expected values filters include deleted 'no' project only False order None return I M P L update context model values expected values filters include deleted project only order 
def run cmd cmd shell False args shlex cmd try sp subprocess Popen args shell shell stdout subprocess P I P E stderr subprocess P I P E close fds True except O S Error raise Exception ' Serrorrunningcommand % cmd output err sp rc sp rc ! 0 raise Exception 'ommandreturnreturncode error %s' % rc err return output 
def getobjdir obj return [item for item in dir obj if is text string item ]
def test exclusive environment markers eq26 Install Requirement line "jango 1.6.10 <1.7;python version '2.6'" ne26 Install Requirement line "jango 1.6.10 <1.8;python version '2.6'" req set Requirement Set '' '' '' session Pip Session req set requirement eq26 req set requirement ne26 assert req set requirement 'jango 
def  Get Libraries spec libraries spec 'libraries' [] found Ordered Set unique libraries list []for entry in reversed libraries library re '^\\-l' '' entry if not os library [1] library + '.lib'if library not in found found library unique libraries list library unique libraries list return unique libraries list 
def image show id None name None profile None g client  auth profile ret {}if name for image in g client if image name id image not id return {'result' False 'comment' "nabletoresolveimage I Dforname name }try image g client id except exc H T T P Not Found return {'result' False 'comment' 'oimagewith I D id }pformat pprint Pretty Printer indent 4 .pformatlog.debug 'ropertiesofimage \n{1}'.format image pformat image schema image schema profile profile if len schema 1 schema schema key in schema if key in image ret image ret 
def make api method func @functools.wraps func def wrapper *args **kwargs args extra params kwargs 'extra params None result func *args **kwargs try del args extra paramsexcept Attribute Error passreturn resultreturn wrapper 
def unpackbyte b ret struct 'B' b return ret 
def make temp file copies file paths for file path in file paths temp file path get temp file path file path shutil file path temp file path 
def string at ptr size -1 return  string at ptr size 
def abspath path if not isabs path path join os path return normpath path 
def get resource from path path resource Falsefor adpath in ad paths adpath os adpath '' if os [adpath path adpath resource path adpath '' 1 breakif resource relative resource os if not relative relative 0 module relative 0 return module '/'.join relative os relative return None 
def parse form data environ stream factory None charset 'utf-8' errors 'replace' max form memory size None max content length None cls None silent True return Form Data Parser stream factory charset errors max form memory size max content length cls silent .parse from environ environ 
def mindtouch file redirect request file id filename attachment get object or 404 Attachment mindtouch attachment id file id return redirect attachment file url permanent True 
def betweenness centrality G k None normalized True weight None endpoints False seed None betweenness dict G 0.0 if k is None nodes Gelse random seed nodes random G k for s in nodes if weight is None S P sigma  single source shortest path basic G s else S P sigma  single source dijkstra path basic G s weight if endpoints betweenness  accumulate endpoints betweenness S P sigma s else betweenness  accumulate basic betweenness S P sigma s betweenness  rescale betweenness len G normalized normalized directed G directed k k return betweenness 
def open help chapter '' try current branch get current branch except git Invalid Git Repository Error current branch 'latest'else if current branch in DETACHED HEAD 'master' current branch 'latest'help url DOC ROOT FMT % current branch if chapter help url + DOC R O U T E R chapter '' webbrowser help url 
def convert files to filenames answers new answers dict for answer id in answers answer answers id is list of files answer new answers id [f.name for f in answer new answers id answers id new answers 
def  get tri dist p q p0 q0 a b c dist return np p - p0 * p - p0 * a + q - q0 * q - q0 * b + p - p0 * q - q0 * c + dist * dist 
def Get Calendar client obj store user id device id request callback def  On Query User user calendars request {'calendars' []}for cal in calendars if cal id 'holidays' cal data Calendar Get Holidays By Locale user else cal data Calendar Get Calendar cal id response {'calendar id cal data id 'year' cal 'events' cal data Get Events year cal } logging 'GETCALENDAR user %d device %d %dcalendars eventcounts %s' % user id device id len calendars dict [ c id len c for c in response callback response User Query client user id None  On Query User 
def is path to egg path return get path to egg path is not None 
def set shortcut context name keystr C O N F 'shortcuts' '%s/%s' % context name keystr 
def get next timezone transition zone None dt None zone get timezone zone dt  get datetime dt .replace tzinfo None if not hasattr zone ' utc transition times raise Type Error 'iventimezonedoesnothave U T Ctransitiontimes Thiscanhappenbecausetheoperatingsystemfallbacklocaltimezoneisusedoracustomtimezoneobject try idx max 0 bisect right zone utc transition times dt old trans zone transition info idx - 1 ]new trans zone transition info tz zone tzinfos trans tz zone tzinfos trans Lookup Error Value Error return Nonereturn Timezone Transition activates zone utc transition times from tzinfo old tz to tzinfo new tz reference date dt 
def file list *packages errors []ret []cmd ['pacman' 'l len packages > 0 and os packages packages list packages cmd '-r' packages 0 cmd packages out   salt  ['cmd.run'] cmd output loglevel 'trace' python shell False for line in salt out '\n' if line 'error' errors line else comps line ret ''.join comps ] return {'errors' errors 'files' ret 
def generate I B P customers alpha 10 reducedprop 1.0  lambda alpha * sum 1.0 / array list range 1 customers + 1 alpha / reducedpropmaxdishes int  lambda + sqrt  lambda * 2 + 1 res zeros customers maxdishes dtype bool stickprops beta alpha 1 maxdishes currentstick 1.0dishesskipped 0for i nu in enumerate stickprops currentstick * nudishestaken rand customers < currentstick * reducedprop if sum dishestaken > 0 res i - dishesskipped ] dishestakenelse dishesskipped + 1return res maxdishes - dishesskipped ]
def random password generator characters string + string pwd size constants P A S S W O R D S I Z Ereturn ''.join random characters for x in range pwd size 
def clean orphaned instances xenapi orphaned instances for vm ref vm rec instance in orphaned instances if C O N F print 'CLEANINGINSTANCE %s ' % instance cleanup instance xenapi instance vm ref vm rec 
def gen data p batch size BATCH SIZE data in text return target True x np batch size SEQ LENGTH vocab size y np batch size for n in range batch size ptr nfor i in range SEQ LENGTH x n i char to ix p + ptr + i ]] ] 1.0if return target y char to ix p + ptr + SEQ LENGTH ]]return x np y dtype 'int32'
def  pshell json cmd cwd None cmd 'mport Module Server Manager cmd if 'convertto-json' not in cmd cmd 'onvert To Json cmd log 'ower Shell {0}'.format cmd ret   salt  ['cmd.shell'] cmd shell 'powershell' cwd cwd try ret json ret strict False except Value Error log 'sonnotreturned return ret 
def  string as base 36 string total 0for c power in zip string -1 ]  powers of 36 if 48 < ord c < 57 val ord c - 22 elif 65 < ord c < 90 val ord c - 65 elif 97 < ord c < 122 val ord c - 97 else val 0total + val * power return total 
def generate rolls num rolls cur state ' seq Mutable Seq '' Dice Roll Alphabet state seq Mutable Seq '' Dice Type Alphabet for roll in range num rolls state seq cur state chance num random new roll  loaded dice roll chance num cur state roll seq new roll chance num random if cur state 'F' if chance num < 0.05 cur state ' cur state 'L' if chance num < 0.1 cur state ' roll seq state seq 
def export book databook return yaml dump databook package ordered False 
@app.route '/patch' methods 'PATCH' def view patch return jsonify get dict 'url' 'args' 'form' 'data' 'origin' 'headers' 'files' 'json'
def mavg x y window x y map  plot friendly [x y x is date  isdate x if x is date x np [i.toordinal for i in x std err pd std y window y pd mean y window y1 y - std err y2 y + std err if x is date x [imestamp int i for i in x x y y1 y2 
def create extra classes classes {}for platform caps in EXTRA P L A T F O R M S name '{} {}'.format platform Selenium Tests  name   classdict dict Selenium Tests  dict   classdict {'caps' caps classes type name Selenium Tests classdict globals .update classes 
def dsa urlopen *args **kwargs timeout setting 'SOCIAL AUTH URLOPEN TIMEOUT' if timeout and 'timeout' not in kwargs kwargs timeoutreturn urlopen *args **kwargs
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def run  task 
def service get by host and binary context host binary return I M P L get by host and binary context host binary 
def p expr list t pass 
def load basic system bindings registry Registry suspend supported Condition lambda cli suspend to background supported @registry.add binding Keys Control Z filter suspend supported def _ event u Suspendprocesstobackground to background return registry 
def savepoint commit sid using None get connection using .savepoint commit sid 
def get kind from entity key entity key tokens entity key KEY DELIMITER return tokens ' ' [0]
def ignore warnings obj None category Warning if callable obj return  Ignore Warnings category category obj else return  Ignore Warnings category category 
def  encode maxkey name dummy0 dummy1 dummy2 return '\x7f' + name 
def get secret token platform version global version GLOBAL TOKEN VERSION token identifier '{global version {platform} {version}'.format global version global version platform platform version version global secret g signature secret versioned hmac global secret token identifier global version 
def configure context processors app @app.context processordef inject flaskbb config 'njectsthe config dict flaskbb config flaskbb config 
def read string table xml source root fromstring text xml source nodes safe iterator root '{%s}si' % SHEET MAIN NS strings get string node for node in nodes return Indexed List strings 
def get datastore session cluster datastore regex None storage policy None allowed ds types ALL SUPPORTED DS TYPES datastore ret session call method vutil 'get object property cluster 'datastore' if not datastore ret raise exception Datastore Not Found data store mors datastore ret Managed Object Referencedata stores session call method vim util 'get properties for a collection of objects 'atastore data store mors ['summary.type' 'summary.name' 'summary.capacity' 'pace 'summary.accessible' 'ode best match Nonewhile data stores best match  select datastore session data stores best match datastore regex storage policy allowed ds types data stores session call method vutil 'continue retrieval data stores if best match return best matchif storage policy raise exception Datastore Not Found _ 'toragepolicy % storage policy elif datastore regex raise exception Datastore Not Found _ 'atastoreregex % datastore regex else raise exception Datastore Not Found 
def validate id is docker compatible value match re u value if not match raise Validation Error u App I Dscanonlycontain 
def validate appname or none option value if value is None return valuevalidate string option value if len value 'utf-8' > 128 raise Value Error '%smustbe< 128bytes' % option return value 
def select from attribute attribute value path def get path component collection key if not isinstance collection collections Mapping collections Sequence raise Type Error _ "an if not isinstance key six types int raise Type Error _ 'athcomponentsinattributesmustbestrings return collection return six get path component path attribute value except Key Error Index Error Type Error return None 
def  filter hypervisor macs instance ports hypervisor macs if not hypervisor macs return Noneavailable macs set hypervisor macs if not ports return available macsfor port in ports mac port address mac not in hypervisor macs L O G 'ort port smacaddress mac sisnotinthesetofhypervisormacs % hyper macs s Novawilloverwritethiswithanewmacaddress {'port' port 'mac' mac 'hyper macs hypervisor macs instance instance else available macs mac return available macs 
def  pianobar exists pianobar exe shutil 'pianobar' if pianobar exe return Trueelse  L O G G E R 'he Pandoracomponentdependsonthe Pianobarclient whichcannotbefound Pleaseinstallusinginstructionsathttps //home-assistant.io/components/media player return False 
def metadef property count context namespace name session None session session or get session return metadef property api context namespace name session 
def owner required f None require owner True def decorator func @functools.wraps func def wrapper request username slug *args **kw collection get collection request username slug if acl collection ownership request collection require owner require owner return func request collection username slug *args **kw else raise Permission Deniedreturn wrapperreturn decorator f if f else decorator 
def get login ip raw ips file io constants L O G I N IP LOC ips raw ips '\n' return ips 
def is votable origin filepath fileobj *args **kwargs from . import is votableif origin u if fileobj is not None try result is votable fileobj finally fileobj 0 return resultelif filepath is not None return is votable filepath elif isinstance args V O Table File V O Table return Trueelse return Falseelse return False 
@with setup prepare stdout def test output level 1 error runner Runner feature name 'error traceback verbosity 1 runner assert stdout lines with traceback ' Step "ivenmystepthatblowsaexception Traceback mostrecentcalllast \ile lettuce core file s line call line d in  call  \nret self self *args **kw \ile step file s line10 ingiven my step that blows a exception Runtime Error Runtime Error 0passed \n2scenarios 1passed \n2steps 1failed 1passed \istoffailedscenarios \cenario Itshouldraiseanexceptiondifferentof Assertion Error features traceback traceback 5\n\n' % {'lettuce core file lettuce path 'core.py' 'step file abspath lettuce path '..' 'tests' 'functional' 'output features 'error traceback 'error traceback steps 'call line call line 
def deterministic Reactor Threads worker doer create Memory Worker class CFT object def call From Thread self f *a **k worker lambda f *a **k return CFT doer 
def test rgb to hsl part 9 assert rgb to hsl 102 153 102 120 20 50 assert rgb to hsl 51 204 51 120 60 50 assert rgb to hsl 0 255 0 120 100 50
def immediate Assignment Extended Starting Time presence 0 a L2 Pseudo Length b Tp Pd pd 6 c Message Type mes Type 57 d Page Mode And Spare Half Octets f Channel Description g Request Reference h Timing Advance i Mobile Allocation packet a / b / c / d / f / g / h / i if Starting Time presence is 1 j Starting Time Hdr iei S T 124 eight Bit S T 0 packet packet / j k Iax Rest Octets packet packet / k return packet 
def hello plugin return u Hello World thisisservedfromanextension 
def correlate eye world eye timestamps world timestamps e ts eye timestampsw ts list world timestamps eye frames by timestamp dict zip e ts range len e ts eye timestamps by world index [[] for i in world timestamps idx 0try current e ts e ts 0 except logger 'oeyetimestampsfound return eye timestamps by world indexwhile e ts try t between frames w ts idx + w ts frame idx + 1 ] / 2.0 except Index Error breakif current e ts < t between frames eye timestamps by world index idx current e ts current e ts e ts 0 else frame idx + 1idx 0eye world frame map []for candidate world ts in zip eye timestamps by world index w ts if not candidate e past ts get past timestamp idx eye timestamps by world index e future ts get future timestamp idx eye timestamps by world index eye world frame map eye frames by timestamp nearest timestamp e past ts e future ts world ts ] else eye world frame map eye frames by timestamp timestamps by world index -1 ]] idx + 1return eye world frame map 
def parse auth entries raise on error False conf {}for registry entry in six entries if not isinstance entry dict log 'onfigentryforkey registry if raise on error raise errors Invalid Config File 'nvalidconfigurationforregistry registry return {}if 'identitytoken' in entry log 'oundan Identity Tokenentryforregistry registry conf {dentity Token entry 'auth' not in entry log 'uthdatafor Clientmightbeusingacredentialsstoreinstead conf {}continue username password decode auth entry log 'oundentry registry {0} username {1} '.format repr registry repr username conf {'username' username 'password' password 'email' entry 'email' 'serveraddress' registry conf 
def  iter relative dirs dirname if not dirname dirname os files or dirs os dirname except os returnfor file or dir in files or dirs yield file or dir path os dirname file or dir for sub file or dir in  iter relative dirs path yield os file or dir sub file or dir 
@cache control no cache True no store True must revalidate True @require level 'staff' @require G E Tdef look up registration code request course id course key Slash Separated Course Key deprecated string course id code request G E T 'registration code course get course by id course key depth 0 try registration code Course Registration Code code code except Course Registration Code Does Not Exist return Json Response {'is registration code exists False 'is registration code valid False 'is registration code redeemed False 'message' _ 'heenrollmentcode {code} wasnotfoundforthe name .format code code course name course name } status 400 reg code already redeemed Registration Code Redemption registration code redeemed code registration code detail url reverse 'registration code details kwargs {'course id unicode course id } return Json Response {'is registration code exists True 'is registration code valid registration code valid 'is registration code redeemed reg code already redeemed 'registration code detail url registration code detail url 
def to int repr clauses symbols symbols dict list zip symbols list range 1 len symbols + 1 def append symbol arg symbols if arg is Not return - symbols else return symbols [set append symbol arg symbols for arg in Or args c for c in clauses 
def print numa stats numafiles for numafilename in numafiles numafile open numafilename node id int numafile numafile '/node/node' + 10 -9 ] ts int time stats dict line for line in numafile .splitlines for stat tag in 'numa hit 'hit' 'numa miss 'miss' print 'sys.numa.zoneallocs%d%snode %dtype %s' % ts stats node id tag print 'sys.numa.foreign allocs %d' % ts stats foreign node id for stat tag in 'local node 'local' 'other node 'remote' print 'sys.numa.allocation%d%snode %dtype %s' % ts stats node id tag print 'sys.numa.interleave%d%snode %dtype hit % ts stats hit node id numafile 
def parse block scalar empty line Indent Token Class Content Token Class def callback lexer match context text match if context scalar indent is None or len text < context scalar indent if text yield match Indent Token Class text else indentation text context scalar indent text scalar indent ] yield match Indent Token Class indentation yield match + context scalar indent Content Token Class content context match return callback 
def test status bar backup views status bar viewsviews status bar views []c make logged in client views status bar view lambda _ Http Response 'foo' status 200 views status bar view lambda _ Http Response 'bar' views status bar view lambda _ None def f r raise Exception views status bar view f response c '/desktop/status bar assert equal 'foobar' response views status bar views backup 
def get html img scene byte array Q Byte Array filename Q Buffer byte array filename Q I O Device Write Only Png Format filename scene img encoded byte array Base64 .data .decode 'utf-8' return "<imgsrc 'data image %s'/>" % img encoded 
def generate dependency paths name packages dir os st dir u Packages dependency dir os packages dir name ver u % st version plat sublime arch sublime return {'all' os dependency dir 'all' 'ver' os dependency dir ver 'plat' os dependency dir u %s' % ver plat 'arch' os dependency dir u %s %s' % ver plat arch }
def conv input length output length filter size border mode stride if output length is None return Noneassert border mode in {'same' 'valid' 'full'} if border mode 'same' pad filter size // 2 elif border mode 'valid' pad 0elif border mode 'full' pad filter size - 1 return output length - 1 * stride - 2 * pad + filter size 
def int to base36 i digits u 0if i < 0 raise Value Error u Negativebase36conversioninput if six P Y2 if not isinstance i six types raise Type Error u Non if i > sys raise Value Error u Base36conversioninputtoolarge while True factor + 1if i < 36 ** factor factor - 1breakbase36 []while factor > 0 j 36 ** factor base36 digits i // j ] i i % j factor - 1return u base36 
def exp msg t None obj None root msg level EXP t t obj obj 
def check is right name lhs rhs  split left right name if lhs u return Trueelif rhs u ' return Trueelif rhs u return Truereturn False 
def validate plugin plugin if plugin not in plugin manager plugins raise Flask B B C L I Error 'lugin plugin fg 'red' return True 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def pol2cart theta radius units 'deg' if units in 'deg' 'degs' theta theta * numpy / 180.0 xx radius * numpy theta yy radius * numpy theta return xx yy 
@pytest.mark.parametrize units attr args [x for x in units attr sets if x in u u ] def test galactic spherical two components repr name unit1 unit2 unit3 cls2 attr1 attr2 attr3 representation c1 c2 c3 sc Galactic 1000 * c1 * u Unit unit1 / 1000 cls2 c2 unit unit2 representation representation assert quantities allclose sc c1 * unit1 c2 * unit2 attr1 attr2 sc Galactic c1 * unit1 c2 * unit2 representation representation assert quantities allclose sc c1 * unit1 c2 * unit2 attr1 attr2 kwargs {attr1 c1 * unit1 attr2 c2 * unit2 }sc Galactic representation representation **kwargs assert quantities allclose sc c1 * unit1 c2 * unit2 attr1 attr2 
@step 'willanswerallpromptswith [^"]* "' def i answer prompts with step prompt world script 'window.prompt function {return%s;}' % prompt 
def is course in block structure cache course key store course usage key store course usage key course key return Block Structure Cache get cache .get course usage key is not None 
def  is int string try int string return Trueexcept Value Error return False 
def referrer allowed referrer referrer acl allow Falseif referrer acl rhost urlparse referrer or '' .hostname or 'unknown' for mhost in referrer acl if mhost '-' mhost mhost ]if mhost rhost or mhost '.' and rhost mhost allow Falseelif mhost '*' or mhost rhost or mhost '.' and rhost mhost allow Truereturn allow 
def test topic move same forum topic assert not topic topic 
def is Within Channel channel Radius point Index loop point loop Index Segment Complex loop point Index + len loop - 1 % len loop ] - point behind Segment Complex Length abs behind Segment Complex if behind Segment Complex Length < channel Radius return Trueahead Segment Complex loop point Index + 1 % len loop ] - point ahead Segment Complex Length abs ahead Segment Complex if ahead Segment Complex Length < channel Radius return Truebehind Segment Complex / behind Segment Complex Lengthahead Segment Complex / ahead Segment Complex Lengthabsolute Z get Dot Product Plus One ahead Segment Complex behind Segment Complex if behind Segment Complex Length * absolute Z < channel Radius return Truereturn ahead Segment Complex Length * absolute Z < channel Radius 
def   newobj ex   cls args kwargs return cls  new   cls *args **kwargs
def volunteer cluster return s3 rest controller 
def message detail request slug topic id message id template name 'groups/messages/message detail group get object or 404 Group slug slug is active True topic get object or 404 Group Topic pk topic id is active True message get object or 404 Group Message pk message id is active True return render request template name {'group' group 'topic' topic 'message' message 
def get file mode path return stat S IMODE os path .st mode 
def get key value store name kvs region None global KEY VALUE STORE REGISTRY register backends key value store KEY VALUE STORE R E G I S T R Y name if key value store is None if kvs region is None kvs region region region name name key value store Key Value Store kvs region KEY VALUE STORE R E G I S T R Y key value storereturn key value store 
def matching dict to set matching return set map frozenset matching 
def gf Qmatrix f p K n r gf degree f int p q [ + [ * n - 1 Q [list q ] + [[]] * n - 1 for i in range 1 n - 1 * r + 1 qq c [ - q -1 ] * f -1 ] % p ] q -1 ] for j in range 1 n qq q j - 1 ] - c * f - j - 1 ] % p if not i % r Q[ i // r ] list qq q qqreturn Q
def generate resource file target source env src path str source new src path str target cmd ' E S O U R C E / E S O U R C E /g">%s' % src path new src path p subprocess Popen cmd env {} stdout subprocess P I P E stderr subprocess P I P E shell True universal newlines True stdout stderr p if p or stderr error 'failedtogenerateresourcefile'if stderr error error + ' ' + stderr console exit error return p 
def safe email email if EMAIL R E G E X email is not None return not email '.' and '..' not in email else logger 'nvalidemailaddress %s.' email return False 
def generate all aliases fieldfile include global all options aliases fieldfile include global include global if all options thumbnailer get thumbnailer fieldfile for key options in six all options options A L I A S keythumbnailer thumbnail options 
def compute first bit a bits np and a 1 << np 32 bits bits axis 1 .astype np return 33 - bits axis 1
def handle del request basket line id **kwargs return {u'ok' basket line int line id }
def get music *names **kwds prefix kwds 'prefix' 'music' return resource path prefix *names
def set pipeline timeout strategy user *args **kwargs if strategy and not user strategy expiry strategy 'PIPELINE TIMEOUT' 600
@ docstring 'discid' def get releases by discid id includes [] toc None cdstubs True media format None params  check filter and make params 'discid' includes release status [] release type [] if toc params tocif not cdstubs params 'no'if media format params media formatreturn  do mb query 'discid' id includes params 
def digitsrep n b 10 if n < 0 return [0]dlist []while n > 0 dlist [ n % b ] + dlist n n // b return dlist 
def network get context network id project only 'allow none return I M P L get context network id project only project only 
def rslices ndim ndim shape iterations 5 for _ in range iterations yield tuple rslice shape for n in range ndim for _ in range iterations yield tuple rslice shape allow empty True for n in range ndim yield tuple slice 0 1 0 for _ in range ndim 
def parse ignoredisk rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--drives' dest 'drives' action 'store' parser argument '--only-use' dest 'only-use' action 'store' parser argument '--interactive' dest 'interactive' action 'store true args clean args vars parser args rules parser Nonereturn args 
def R1 w m RE R1 w if m return w ]return ''
def maybe utf8 value if isinstance value unicode return value 'utf-8' return value 
def format arg value arg val arg val arg valreturn '%s %r' % arg val 
def Dispatcher env resp page util path info env if page in DISPATCH return D I S P A T C H env resp else status 'ot Found [ 'ontent 'text/plain' ]resp status headers return [ 'ot Found ' + page ]
def sentence iterator corpus iterator current sentence []for l in corpus iterator if l None None if current sentence yield current sentence current sentence []else sys 'WARNING Gotemptyinputfile raise Stop Iterationelse current sentence l if current sentence yield current sentence 
def bind lineedit model hint u class Bound Line Edit Completion Line Edit def   init   self hint hint parent None Completion Line Edit  init   self model hint hint parent parent return Bound Line Edit 
def export patches revs summaries gitcmds helper to export select commits N  u Export Patches revs summaries if not to export returncmds cmds Format Patch reversed to export reversed revs 
def bucket upload fileobj self Fileobj Key Extra Args None Callback None Config None return self fileobj Fileobj Fileobj Bucket self Key Key Extra Args Extra Args Callback Callback Config Config 
def http log resp resp body if not pyrax http debug returnlog logging Logger 'pyrax' log 'RESP %s\n%s' resp resp if body log 'RESPBODY %s' body 
def user by anonymous id uid if uid is None return Nonetry return User anonymoususerid  anonymous user id uid except Object Does Not Exist return None 
def setlocale category locale None if locale and type locale is not type '' locale normalize  build localename locale return  setlocale category locale 
def  embed standard shell namespace {} banner '' import codetry import readlineexcept Import Error passelse import rlcompleterreadline and bind 'tab complete @wraps  embed standard shell def wrapper namespace namespace banner '' code banner banner local namespace return wrapper 
def ensure dir exists directory if dir if not os directory os directory 
def randslice qs limit exclude None cnt qs if exclude is not None limit + 1rand 0 if limit > cnt else random 0 cnt - limit slice  list qs rand + limit ] if exclude is not None slice  [o for o in slice  if o ! exclude ][ limit - 1 ]return slice 
@register u def delete char event deleted event buffer count event if not deleted event 
def get param list layer list plist []for l in layer list ptuple l params plist ptuple if isinstance ptuple list else plist ptuple return plist 
def select element cache selector element selector not element or element u for elem in cache yield elem else for elem in cache map lower element ] yield elem 
def mpl image to rgba mpl image image mpl image array if image 2 input range mpl image mpl image image rescale intensity image in range input range image mpl image img as float image elif image 3 and image 3 image np image np like image return img as float image 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def mul a b return a * b 
def get Next Link Text hypertext Files next Index next File Name 'contents.html'if next Index < len hypertext Files next File Name hypertext Files Index '<ahref "ext % next File Name 
def  init non posix vars vars L I B D E S T get path 'stdlib' vars B I N L I B D E S T get path 'platstdlib' vars I N C L U D E P Y get path 'include' vars S O ' X E ' E R S I O N  PY VERSION SHORT NO D O Tvars B I N D I R os  safe realpath sys 
def  error msg network option expected msg 'nvalidnetworksetting Setting {0} Expected [{1}]'return msg option '|'.join expected 
def get display name username if len username > 40 return '%s...%s' % username 20].strip username -15 ].strip return username 
def pos tag sents sentences tagset None lang 'eng' tagger  get tagger lang return [ pos tag sent tagset tagger for sent in sentences 
@on valid 'file/dynamic' def file data response **kwargs if hasattr data 'read' name data getattr data 'name' '' data elif os data name data data open data 'rb' else response type 'text/plain'response.status HTTP NOT F O U N Dreturn 'ilenotfound type mimetypes type name None [0] or 'application/octet-stream' return data 
def rangename3d book ref3d coords ref3d '%s!%s' % sheetrange book *coords[ 2] rangename2d *coords[2 6]
def prevent indexing func @wraps func def  added header request *args **kwargs response func request *args **kwargs response X Robots Tag 'noindex'return responsereturn  added header 
def test lambda list keywords kwargs can compile u fn x listxkw ' cant compile u fn x listxxsys ' can compile u fn &optionalx&kwargskw listxkw '
def Get Root Key return win32con H K E Y LOCAL MACHINE
def gettz db metadata if len  CLASS ZONE INSTANCE 0  CLASS ZONE I N S T A N C E Zone Info File getzoneinfofile stream return  CLASS ZONE I N S T A N C E 
def clean text by word text deacc True text without acronyms replace with separator text '' [AB ACRONYM LETTERS] original words list tokenize text without acronyms to lower True deacc deacc filtered words [join words word list '' for word list in preprocess documents original words ]if HAS PATTERN tags tag join words original words else tags Noneunits merge syntactic units original words filtered words tags return dict unit unit for unit in units 
def  cache key to dir cachedir func argument hash parts [cachedir]if isinstance func  basestring parts func else parts  get func fullname func if argument hash is not None parts argument hash return os *parts
@register specialize stabilize canonicalize useless optimizer [ def local useless alloc node op node not isinstance op Alloc return Falseinput node node input output return [input]
def init mpstate return Cmdlong Module mpstate 
def win shutdown try import win32securityimport win32apiimport ntsecurityconflags ntsecuritycon T O K E N ADJUST PRIVILEGES | ntsecuritycon T O K E N QUERY htoken win32security Open Process Token win32api Get Current Process flags id  win32security Lookup Privilege Value None ntsecuritycon S E SHUTDOWN NAME new Privileges [ id  ntsecuritycon S E PRIVILEGE ENABLED ]djust Token Privileges htoken 0 new Privileges win32api Initiate System Shutdown '' '' 30 1 0 finally os exit 0
def xml findtext xpath return all xml find xpath getattr 'text'
def image present name ret {'name' name 'changes' {} 'result' None 'comment' ''}if name in   salt  ['imgadm.list'] ret Trueret 'image{0}ispresent'.format name else available images   salt  ['imgadm.avail'] if name in available images if   opts  ['test'] ret Trueelse   salt  ['imgadm.import'] name ret name in   salt  ['imgadm.list'] ret 'image{0}installed'.format name ret available images ret Falseret 'image{0}doesnotexists'.format name return ret 
def resolve relative url url environ cur url construct url environ with query string False return urlparse cur url url 
def tuple Remove Item tup index l list tup return tuple l index + l index + 1 ]
def fg1eu x return x + 0.5 * np -50 * x - 0.5 ** 2
@pytest.fixture scope u def remove additional folders request def fin remove additional folders if os u utils u if os u utils u if os u utils u request fin remove additional folders 
def refresher name refreshers Completion Refresher def wrapper wrapped refreshers wrappedreturn wrappedreturn wrapper 
def generate map map name 'url map map rules []converters []for rule in map rules trace [{'is dynamic is dynamic 'data' data for is dynamic data in rule trace converters {}for key converter in rule converters js func js to url function converter try index converters js func except Value Error converters js func index len converters - 1 rule converters indexrules {u'endpoint' rule u list rule u rule converters u trace u rule return render template name parts name and name '.' or [] rules dumps rules converters converters 
def  validate locale locale if locale and locale not in settings S U M O LANGUAGES raise Http404return locale 
def check for x over abs X numerators denominators for den in list denominators if den and den T  and den in numerators if den 'complex' passelse denominators den numerators den numerators T den return numerators denominators 
def posify index shape ind if isinstance ind tuple return tuple map posify index shape ind if isinstance ind int long if ind < 0 return ind + shape else return indif isinstance ind list return [ i + shape if i < 0 else i for i in ind ind 
def get identity identity if isinstance identity Anonymous User identity get anonymous user if isinstance identity get user model return identity None elif isinstance identity Group return None identity raise Not User Nor Group u User Anonymous Useror Groupinstanceisrequired got ' % identity 
def package pkg name repos None yes None options None if not is installed pkg name install pkg name repos yes options 
def execute salt restart task return   salt  ['task.run'] name 'restart-salt-minion'
@profiler.trace@memoized with request list extensions 1 def extension supported extension name extensions for extension in extensions if extension extension name return Truereturn False 
@pytest.mark.parametrize u totest frames def test gcrs altaz sunish testframe sun get sun testframe assert sun u assert EARTHECC - 1 * u < sun u < EARTHECC + 1 * u sunaa sun to testframe assert EARTHECC - 1 * u < sunaa u < EARTHECC + 1 * u 
def decrypt dtc code code dtc []current codefor i in range 0 3 if len current < 4 raise 'riedtodecodebad D T C %s' % code tc obd sensors to int current tc tc >> 2 if tc 0 type ' tc 1 type ' tc 2 type ' tc 3 type ' raise tcdig1 str obd sensors to int current & 3 dig2 str obd sensors to int current dig3 str obd sensors to int current dig4 str obd sensors to int current dtc type + dig1 + dig2 + dig3 + dig4 current current ]return dtc 
def instanceproperty fget None fset None fdel None doc None classval None if fget is None return partial instanceproperty fset fset fdel fdel doc doc classval classval return Instance Property fget fget fset fset fdel fdel doc doc classval classval 
def  vote or unvote request course id obj value 'up' undo vote False course key Course Key string course id course get course with access request 'load' course key user cc User django user request if undo vote user obj else user obj value track voted event request course obj value undo vote return Json Response prepare content obj dict course key 
def chordal cycle graph p create using None if create using is None create using nx Multi Graph elif create using directed or not create using multigraph msg '`create using nx Network X Error msg G create using G for x in range p left x - 1 % p right x + 1 % p chord pow x p - 2 p if x > 0 else 0 for y in left right chord G edge x y G 'chordal cycle graph {0} '.format p return G
def delete logged in cookies response for cookie name in [ D X M K T G LOGGED IN COOKIE NAME settings E D X M K T G USER INFO COOKIE NAME] response cookie cookie name u path u domain settings S E S S I O N COOKIE DOMAIN return response 
def block device mapping create context values return I M P L device mapping create context values 
def  Get Scatter Property entity proto hash obj  MD5 FUNC for element in entity proto .path .element list if element name hash obj element elif element id hash obj str element hash bytes hash obj [0 2] hash int struct 'H' hash bytes if hash int >  SCATTER PROPORTION return Nonescatter property entity pb Property scatter property name '  scatter  ' scatter property meaning entity pb Property B Y T E S T R I N G scatter property multiple False property value scatter property value property value stringvalue hash bytes return scatter property 
def Generate U R L callback object store S3 Object Store 'photos-viewfinder-co' upload url object store Generate Upload Url options logging 'PUTURL %s' % upload url logging 'GETURL %s' % object store Generate Url options callback 
def  avoid invalidating lineage config lineage original server latest cert Open S S L certificate Open S S L F I L E T Y P E PEM open lineage .read now valid 'fake' not in repr latest cert issuer .lower if util staging config if not util staging original server or now valid if not config my certs names ' '.join lineage raise errors Error "ou domains {0} .ewillnotdothatunlessyouusethe names 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def parse mapping fileobj filename None extractors {}method map []options map {}parser Raw Config Parser parser sections odict parser sections parser fileobj filename for section in parser if section 'extractors' extractors dict parser section else method pattern [part.strip for part in section ' ' 1 ]method map pattern method options map dict parser section if extractors for idx pattern method in enumerate method map if method in extractors method extractors map pattern method return method map options map 
def get mock dir *subdirs **kwargs environ kwargs 'environ' or os path os environ M O C K HADOOP TMP'] *subdirs if not os path os os path return path 
def pretty unicode string if isinstance string six type return stringtry return string 'utf8' except Unicode Decode Error return string 'atin .encode 'unicode escape .decode 'utf8'
def list public ips kwargs None call None if kwargs is None kwargs {}args {}if 'state' in kwargs if kwargs 'assigned' args 'ssigned args 'nassigned args 'nassigned 'ublic  query 'grid' 'ip/list' args args ret {}for item in response name item itemreturn ret 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def test build model arguments g Expression 'allx.man x ' alist [xpression a for a in ['man John ' 'man Socrates ' 'man Bill ' 'somex. - x John &man x &sees John x ' 'somex. - x Bill &man x ' 'allx.somey. man x ->gives Socrates x y ']]m Mace Command g assumptions alist m model spacer print 'ssumptionsand Goal spacer for a in alist print '%s' % a print '|-%s %s\n' % g decode result m model spacer print 'aluation spacer print m '\n'
def assemble name devices test mode False **kwargs opts []for key in kwargs if not key '__' opts '--{0}'.format key if kwargs is not True opts kwargs if isinstance devices str devices devices ' ' cmd ['mdadm' '-A' name '-v'] + opts + devices if test mode is True return cmdelif test mode is False return   salt  ['cmd.run'] cmd python shell False 
def test sobel vertical i j np -5 6 -5 6]image j > 0 .astype float result filters image * np 2 j np i 5 ] 10000assert np result j 0 ] 1 assert np result np j > 1 ] 0
def quopri encode input errors 'strict' assert errors 'strict' f String I O str input g String I O quopri f g quotetabs True output g return output len input 
def test regression 3998 time Time u 00 00' assert time get sun time assert sun sun is time 
def get instance metadata version 'latest' url 'http //169.254.169.254' data 'meta-data/' timeout None num retries 5 try metadata url  build instance metadata url url version data return  get instance metadata metadata url num retries num retries timeout timeout except urllib U R L Error boto 'xceptioncaughtwhentryingtoretrieveinstancemetadatafor %s' data return None 
def run on executor fn @functools.wraps fn def wrapper self *args **kwargs callback kwargs 'callback' None future self fn self *args **kwargs if callback self loop future future lambda future callback future return futurereturn wrapper 
def standard deviation input labels None index None return numpy variance input labels index 
def drop stray directories apps schema editor Directory apps model u app Directory TP apps model u translationproject Translation Project Language apps model u language Language dirs Directory pootle path u .exclude pootle path  startswith u .exclude pootle path  startswith u language codes Language list u flat True for directory in dirs directory path parts directory path u if len directory path parts < 4 continuedirectory lang code directory path parts directory lang code in language codes tp path u directory path parts 3] + [u''] has tp T P pootle path tp path .exists if not has tp Directory pootle path  startswith directory path .delete
@depends HAS ESX CLI def get firewall status host username password protocol None port None esxi hosts None cmd 'networkfirewallrulesetlist'ret {}if esxi hosts if not isinstance esxi hosts list raise Command Execution Error "'esxi hosts for esxi host in esxi hosts response salt host username password cmd protocol protocol port port esxi host esxi host if response ! 0 ret {esxi host {rror response 'success' False 'rulesets' None else ret {esxi host  format firewall stdout response } else response salt host username password cmd protocol protocol port port if response ! 0 ret {host {rror response 'success' False 'rulesets' None else ret {host  format firewall stdout response } return ret 
def visualize profiling data converter Calltree Converter profiling data converter 
def  get args for reloading rv [sys.executable]py script sys os 'nt' and not os py script and os py script + '.exe' py script + '.exe'rv.append py script rv sys ] return rv 
@cuda.jitdef gpu single block sum arr out temp cuda gpu block sum max blockdim dtype float32 tid cuda Idx cuda Dim 0for i in range tid arr blksz temp + arr if tid 0 for i in range 1 blksz temp + temp temp 
@given u def step an empty file named filename context filename assert not os filename command util workdir exists context filename2 os context filename pathutil textfile with contents filename2 ''
def test hosts in role dict @roles 'r1' def command passeq hosts command ['a' 'b'] env {'roledefs' dict roles 
def indices From String inds String try inds int round float inds String return [inds]except Exception passtry inds slice From String inds String return indsexcept Exception passtry inds list eval inds String return indsexcept Exception pass 
def  make edges 3d n x n y n z 1 vertices np n x * n y * n z .reshape n x n y n z edges deep np vertices -1 ].ravel vertices 1 ].ravel edges right np vertices -1 ].ravel vertices 1 ].ravel edges down np vertices -1 ].ravel vertices ].ravel edges np edges deep edges right edges down return edges 
def modify Complete Low Layer Compatibility presence 0 High Layer Compatibility presence 0 Reverse Call Setup Direction presence 0 a Tp Pd pd 3 b Message Type mes Type 31 c Bearer Capability packet a / b / c if Low Layer Compatibility presence is 1 d Low Layer Compatibility Hdr iei L L C 124 eight Bit L L C 0 packet packet / d if High Layer Compatibility presence is 1 e High Layer Compatibility Hdr iei H L C 125 eight Bit H L C 0 packet packet / e if Reverse Call Setup Direction presence is 1 f Reverse Call Setup Direction iei R C S D 163 packet packet / f return packet 
def get scene exceptions indexer id season -1 exceptions List []if indexer id not in exceptions Cache or season not in exceptions Cache id cache db con db D B Connection 'cache.db' exceptions cache db con ' E L E C Tshow name F R O Mscene exceptions W H E R Eindexer id ?andseason ?' [indexer id season if exceptions exceptions List list {cur exception name for cur exception in exceptions if indexer id not in exceptions Cache exceptions Cache id {ache id exceptions Listelse exceptions List exceptions Cache id season ! -1 and not exceptions List exceptions List + get scene exceptions indexer id season -1 return list {exception for exception in exceptions List 
def test record mode good output String I O recorder Record file object output replay False record mode Record Mode recorder i iscalar f function [i] i mode record mode name 'f' num lines 10for i in xrange num lines recorder line str i + '\n' f i output value output output String I O output value playback checker Record file object output replay True playback mode Record Mode playback checker i iscalar f function [i] i mode playback mode name 'f' for i in xrange num lines playback checker line str i + '\n' f i 
def constrain stationary univariate unconstrained n unconstrained np n n dtype unconstrained r unconstrained / 1 + unconstrained ** 2 ** 0.5 for k in range n for i in range k y k i ] y k - 1 i ] + r * y k - 1 k - i - 1 ] y k k ] r - y n - 1 ]
def test ncr fit ncr Neighbourhood Cleaning Rule random state RND SEED ncr X Y assert equal ncr c  0 assert equal ncr c  2 assert equal ncr c [0] 2 assert equal ncr c [1] 6 assert equal ncr c [2] 7
def find program basename names [basename]if os 'nt' extensions '.exe' '.bat' '.cmd' if not basename extensions names [ basename + ext for ext in extensions + [basename] for name in names path is program installed name if path return path 
def is existing language language code try get babel locale language code except Unknown Locale Error Value Error 'atcherrorswithbabellocaleparsing Forexamplelanguage Unknown Locale Error Value Error codeis Falsereturn True 
def  mro cls if isinstance cls type return cls  mro  else mro [cls]for base in cls  bases   mro  mro base return mro 
def  Handle Common Prefix first handler second handler common prefix stripped first handler Simple Handler first handler common prefix ] first handler stripped second handler Simple Handler second handler common prefix ] second handler stripped handlers  Intersect Two Handlers stripped first handler stripped second handler handlers set for stripped handler in stripped handlers handlers Simple Handler common prefix + stripped handler stripped handler return handlers 
def is extension module filename return os filename [1].lower in '.so' '.pyd'
def new loncapa problem xml problem id '1' capa system None seed 723 use capa render template False render template capa render template if use capa render template else None return Loncapa Problem xml id problem id seed seed capa system capa system or test capa system render template capa module mock capa module 
def show version info about False import osimport sysimport twistedimport djangoreturn VERSION I N F O version EVENNIA VERSION about ABOUT INFO if about else '' os os python sys [0] twisted twisted django django version 
def  to secs delta return delta * 86400.0 + delta + delta / 1000000.0
def Eval Exponential Pdf x lam return lam * math - lam * x 
def  data response return response 
def get limit conn shared memory import psutiltotal vm psutil memory .total / 1024 * 1024 return int 0.02 * total vm 
def get milestones repo name None profile 'github' state 'open' sort 'due on direction 'asc' output 'min' per page None org name  get config value profile 'org name if repo name is None repo name  get config value profile 'repo name action '/'.join ['repos' org name repo name args {}if per page args page per pageif state and state ! 'open' args stateif sort and sort ! 'due on args sortif direction and direction ! 'asc' args directionret {}milestones  query profile action action command 'milestones' args args for milestone in milestones milestone id milestone 'id' if output 'full' ret id milestoneelse milestone 'creator' milestone 'html url milestone 'labels url ret id milestonereturn ret 
@jit nopython True cache True def pivoting tableau pivot pivot row nrows ncols tableau elt tableau pivot row pivot ]for j in range ncols tableau pivot row j ] / pivot eltfor i in range nrows if i pivot row continuemultiplier tableau i pivot ]if multiplier 0 continuefor j in range ncols tableau i j ] - tableau pivot row j ] * multiplier return tableau 
def region style loss style image target image style mask target mask assert 3 K style image K target image assert 2 K style mask K target mask if K dim ordering 'th' masked style style image * style mask masked target target image * target mask nb channels K style image [0]else masked style K dimensions style image 2 0 1 * style mask masked target K dimensions target image 2 0 1 * target mask nb channels K style image [ -1 ]s gram matrix masked style / K style mask / nb channels c gram matrix masked target / K target mask / nb channels return K K s - c 
def Memoize func @wraps func def wrapper *args if args not in dg dg func *args return dg wrapper 
def tool proxy tool path ensure cwltool available tool to cwl tool object tool path return tool 
def mask missing arr values to mask if not isinstance values to mask list np values to mask [values to mask values to mask np values to mask dtype arr except Exception values to mask np values to mask dtype object na mask isnull values to mask nonna values to mask ~ na mask ]mask Nonefor x in nonna if mask is None if is numeric v string like arr x mask Falseelse mask arr x if is scalar mask mask np arr dtype bool elif is numeric v string like arr x mask | Falseelse mask | arr x if na mask if mask is None mask isnull arr else mask | isnull arr return mask 
def pass bracket source start bracket ' ' e bracket split source ] [bracket] False try cand e except Stop Iteration return None None if not cand try res e return res start + len cand + len res except Stop Iteration return None None elif cand -1 ] bracket return cand start + len cand else return None None 
def parse code code var factory **kwargs block Code Block defdict collections var factory defdict kwargs indent -1 code code for line in code length len line line line spaces length - len line if spaces if indent < 0 indent spaceslevel 1else level spaces // indent else level 0if line '$' and line '$' 1 name line ]if name in kwargs and isinstance kwargs Code Block kwargs into block level continueblock line string Template line .substitute defdict level return block dict defdict 
def  reorder unifrac res one sample unifrac res sample names in desired order sample names sample names in desired orderunifrac dist arry unifrac res sample names unifrac res sample names idx dict [ n i for i n in enumerate unifrac sample names ] if list unifrac sample names list sample names dist arry unifrac dist arryelse dist arry np len sample names for i sam i in enumerate sample names if sam i not in unifrac sample names idx dist arry 1.0else unifrac i unifrac sample names idx i arry unifrac dist arry i dist arry 
def size string raw text size MAX DISPLAY SIZE if raw text and len raw text > size large str 'ilecontentstruncatedbecausefilesizeislargerthanmaximumviewingsizeof % nice size size raw text '%s%s' % raw text size large str return raw text or ''
def error exit msg code 1 error msg sys code 
def  antidivisors n for d in  divisors n y 2 * d if n > y and n % y yield y for d in  divisors 2 * n - 1 if n > d > 2 and n % d yield d for d in  divisors 2 * n + 1 if n > d > 2 and n % d yield d 
def general config get config config get patterns config validation kodi set default **kwargs results []for line in config -1 ] if not line continueif line .startswith '#' continueif '#' in line line line line '#' ]for pair in config get patterns matched re pair line re I G N O R E C A S E if matched raw value re pair line re I G N O R E C A S E if raw value result config validation raw value 1 if result is not None results result kodi setting kodi set results if kodi setting is None kodi setting retrieve default **default return kodi setting 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def test sip hst test file get pkg data filename os u u sip hdr fits Header test file crpix1 hdr C R P I X1 hdr C R P I X2 wcs W C S hdr a pars dict * *'] b pars dict * *'] a order a pars u A ORDER' b order b pars u B ORDER' sip SIP [crpix1 crpix2 a order b order a pars b pars coords [1 1]rel coords [ 1 - crpix1 1 - crpix2 ]astwcs result wobj pix2foc [coords] 1 [0] - rel coords assert allclose sip 1 1 astwcs result 
def is installed return get binstar is not None 
def are variants uri other uri if uri domain ! other uri domain return Falseif uri path ! other uri path return Falseif not uri query string and not other uri query string return Trueif uri query string and other uri query string dc uri other uri dc ! odc return Falsefor vself vother in izip longest chain *dc.values chain *odc.values fillvalue None if None in vself vother or vself ! vother return Falsereturn Truereturn False 
def int to string x assert x > 0 if x 0 return b '\x00' result []while x ordinal x & 255 result int2byte ordinal x >> 8result.reverse return b '' .join result 
def hqic sigma sigma2 nobs df modelwc islog False if not islog sigma2 np sigma2 return sigma2 + hqic 0 nobs df modelwc / nobs 
def  kernel kernel spec if isinstance kernel spec int return [kernel spec kernel spec len kernel spec 1 return [kernel spec kernel spec assert len kernel spec 2 return kernel spec 
def nvram attrs None where None if salt darwin return  osquery cmd table 'nvram' attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def show reconstructions m model path model load model model path m x input 'usetestset? y ' dataset load dataset model yaml src x vis batch dataset batch topo m pv init viewer dataset rows cols vis batch batch model layer theano batch reconstruction model batch recons func function [batch] reconstruction if hasattr model layer 'beta' beta model layer value print 'beta ' beta beta beta while True update viewer dataset batch rows cols pv recons func vis batch pv print 'isplayingreconstructions qtoquit ENTER showmore ' while True x input if x 'q' quit if x '' x 1breakelse print 'nvalidinput tryagain vis batch dataset batch topo m 
def add error codes new codes for code message in new codes error list _ message errors code 
def rooms socketio flask app socketio flask namespace flask 
def  get legen lut fast x lut block None n interp lut - 1.0 mm x * n interp / 2.0 mm + 0.5 * n interp idx np mm .astype int if block is None vals lut vals lut block vals 
def django boolean icon field val alt text None title None BOOLEAN MAPPING {rue u False u None u text alt text or BOOLEAN M A P P I N G val if title is not None title u "%s"' % title else title u url static u % BOOLEAN M A P P I N G val return mark safe u "%s"alt "%s"%s/>' % icon url alt text title 
def mac Colon Hex mac return  colon Hex mac 6
def  sysv services  services []output   salt  ['cmd.run'] ['chkconfig' '--list'] python shell False for line in output comps line try if comps '0 '  services comps except Index Error continuereturn [x for x in  services if  service is sysv x ]
def normalize to string host string return join host strings *normalize host string 
def  get recarray field array key field np array key if field in 'S' 'U' and not isinstance field chararray field field chararray return field 
def decode task payload task body task not body return {}decoded base64 body result {}for name value in cgi qs decoded .items if len value 1 result value result valuereturn util Huge Task payload result 
@gof.local optimizer [csm grad None ] def local csm grad c node if node csm grad None return [csm grad c *node.inputs ]return False 
def cherry pick revs summaries gitcmds helper all True commits select commits N  u Cherry Pick Commit revs summaries multiselect False if not commits returncmds cmds Cherry Pick commits 
def generate helper script pkg manager cmd os packages pip cmd failed deps temp dir tempfile script path os temp dir SCRIPT NAME script file file script path 'w' script file '#!/bin/bash\n' if os packages missing pkgs ''.join os packages script file '%s%s\n' % pkg manager cmd missing pkgs if failed deps script file '\n' if running in virtualenv script file 'unwithoutsudotoinstallinsidevenv not git pkgs [fdep for fdep in failed deps if not fdep git ]git pkgs [fdep.git src for fdep in failed deps if fdep git not git pkgs cmd generate pip install non git pip cmd not git pkgs script file '%s\n' % cmd if git pkgs for missing git pkg in git pkgs cmd generate pip install git pip cmd missing git pkg script file '%s\n' % cmd os script path 493 script file return script path 
def restart name return   salt  ['service.run'] name 'restart'
def plt show show True **kwargs import matplotlibimport matplotlib as pltif show and matplotlib backend ! 'agg' plt **kwargs
def  determine error message remainder match BAD QUOTED PARAM R E remainder if match if match 1 return u Spaceexpectedafterclosing return u Missingclosing u Invalidunquotedcharacter 
def format list lst locale DEFAULT LOCALE locale Locale locale if not lst return ''if len lst 1 return lst len lst 2 return locale patterns *lst result locale patterns lst lst for elem in lst -1 ] result locale patterns result elem result locale patterns result lst -1 ] return result 
def make Connections app if web is None web Proxy if web 0 returnif app Usage Stats send Usage Stats if app For Updates app latest Available Version get Latest Version Info 
def parse event payload event if 'event' in event and isinstance event basestring event event try event json event except Value Error passreturn event 
def cg simp e if isinstance e Add return  cg simp add e elif isinstance e Sum return  cg simp sum e elif isinstance e Mul return Mul *[cg simp arg for arg in e elif isinstance e Pow return Pow cg simp e e else return e 
@inspect command def active queues state if state consumer return [dict queue dict recurse True for queue in state consumer []
def notify about server group update context event suffix sg payload notifier rpc notifier service 'servergroup' notifier context 'servergroup.%s' % event suffix sg payload 
@register.filter def oneline value return value '\n' ''
def  check and install python ret python default False user None ret  python installed ret python user user if not ret if   salt  ['pyenv.install python python runas user ret Trueret 'nstalled 'uccessfullyinstalledpython defaultelse ret Falseret 'ouldnotinstallpython retif default   salt  ['pyenv.default'] python runas user return ret 
def prepare lookup value key value if key '  in value value ' ' if key '  isnull and type value str if value in '' 'false' value Falseelse value Truereturn value 
def get strategy name return 'store type 
def resolve ipv6 name flags 0 waiter Waiter core resolve ipv6 name flags waiter args result  type ttl addrs waiter if result ! core D N S ERR NONE raise D N S Error result return ttl addrs 
def api github v1 user profile event payload branches stream **kwargs commit stream streamissue stream 'issues'return api github v2 user profile event payload branches stream commit stream issue stream **kwargs
def compare dicts old None new None ret {}for key in set new or {} .union old or {} if key not in old ret {'old' '' 'new' new key not in new ret {'new' '' 'old' old new ! old ret {'old' old 'new' new ret 
def Put Secret secret secret value Get Secrets Manager For Secret secret .ut Secret secret secret value 
def p struct declaration list 2 t pass 
def roots sh jacobi n p1 q1 mu False if p1 - q1 < -1 or q1 < 0 raise Value Error ' p mustbegreaterthan andqmustbegreaterthan0 x w m roots jacobi n p1 - q1 q1 - 1 True x x + 1 / 2 scale 2.0 ** p1 w / scalem / scaleif mu return x w m else return x w 
def  get indent length line result 0for char in line if char '' result + 1elif char ' DCTB ' result +  TAB L E N G T Helse breakreturn result 
def get course date blocks course user block classes Course End Date Course Start Date Todays Date Verification Deadline Date Verified Upgrade Deadline Date blocks cls course user for cls in block classes def block key fn block "ftheblock None returnthemaximumdatetimeinorder block is None return datetime tzinfo pytz U T C return block sorted b for b in blocks if b enabled key block key fn 
def check bc duplicates header mapping data errors has barcodes True variable len barcodes False added demultiplex field None if has barcodes and not variable len barcodes and not added demultiplex field errors check fixed len bcs dups header mapping data errors if has barcodes and variable len barcodes and not added demultiplex field errors check variable len bcs dups header mapping data errors if added demultiplex field errors check added demultiplex dups header mapping data errors has barcodes added demultiplex field if not has barcodes and not added demultiplex field if len mapping data ! 1 errors 'fnobarcodesarepresent andthe + "added demultiplex fieldoptionisn onlyasingle + 'ample I Dcanbepresent DCTB -1 -1' return errors 
def read cz lsm info fh byteorder dtype count assert byteorder '<' magic number structure size struct '<II' fh 8 if magic number not in 50350412 67127628 raise Value Error ' S LSM I N F Ostructure fh -8 1 if structure size < numpy CZ LSM INFO .itemsize cz lsm info []size 0for name dtype in CZ LSM INFO size + numpy dtype .itemsizeif size > structure size breakcz lsm info name dtype else cz lsm info CZ LSM I N F Oreturn fh record cz lsm info byteorder byteorder 
def module suite module classnames None if classnames return unittest Test Loader .ests From Names classnames module elif hasattr module 'suite' return module else return unittest Test Loader .ests From Module module 
def educate Single Backticks str str re '`' '&#8216;' str str re "'" '&#8217;' str return str 
def write table votable input output table id None overwrite False tabledata format None if input mixin columns mixin names [name for name col in input if not isinstance col input Column Class ]raise Value Error u s { O Table mixin names if isinstance output six types and os output if overwrite os output else raise I O Error u Fileexists {0}'.format output table file from table input table id table id table file xml output tabledata format tabledata format 
def is site configuration enabled configuration get current site configuration if configuration return configuration False 
def  trim zeros str floats na rep 'a N trimmed str floatsdef  cond values non na [x for x in values if x ! na rep ]return len non na > 0 and all [x.endswith '0' for x in non na and not any [ 'e' in x or 'E' in x for x in non na while  cond trimmed trimmed [ x -1 ] if x ! na rep else x for x in trimmed [ x + '0' if x '.' and x ! na rep else x for x in trimmed 
def make local path s return s '/' os 
def matches patterns path patterns None if patterns is None patterns []for pattern in patterns if fnmatch path pattern return Truereturn False 
def add application with volume node state manifestation list node state [0]return node state 'applications' {pplication name u image Docker Image string u volume Attached Volume manifestation manifestation mountpoint File Path '/data' }
def he uniform shape name None dim ordering 'th' fan in fan out get fans shape dim ordering dim ordering s np 6.0 / fan in return uniform shape s name name 
def  write data writer data data data '&' '&amp;' .replace '<' '&lt;' data data '"' '&quot;' .replace '>' '&gt;' writer data 
def get valid user user None if user is None theuser get default user elif isinstance user basestring theuser get user model .objects.get username user elif user user anonymous raise Geo Node Exception 'heuseruploadingfilesmustnotbeanonymous else theuser userassert isinstance theuser get user model return theuser 
def check if vlan interface exists session vlan interface cluster None host mor vm util host ref session cluster physical nics ret session call method vim util 'get dynamic property host mor 'ost System 'config.network.pnic' if not physical nics ret return Falsephysical nics physical nics ret Physical Nicfor pnic in physical nics if vlan interface pnic return Truereturn False 
def parse gff attributes attr str attributes list attr str ';' attributes {}for name value pair in attributes list pair name value pair .split '' if len pair 1 pair name value pair .split ' ' if len pair 1 continueif pair '' continuename pair if name '' continuevalue pair '"' attributes valueif len attributes 0 attributes attr strreturn attributes 
def open repo in new window dirname qtutils dialog N  u Open Git Repository main .getcwd if not dirname returncmds cmds Open New Repo dirname 
def Odds p if p 1 return float 'inf' return p / 1 - p 
def service stop name r salt D E T A I L S + 'service/stop/' + name decode type 'json' decode True return r 
def convert jobsub design jobsub design action get root action jobsub design if action is None return Noneif action type Oozie Mapreduce Action A C T I O N TYPE action  convert jobsub mapreduce action action elif action type Oozie Streaming Action A C T I O N TYPE action  convert jobsub streaming action action elif action type Oozie Java Action A C T I O N TYPE action  convert jobsub java action action else return Noneaction jobsub design jobsub design action 
def test custom completion error ip get ipython class A object passip ns A @complete object type A def complete A a existing completions raise Type Error 'thisshouldbesilenced' ip 'a.'
def  get rc timezone s matplotlib Params s u U T C return U T Cimport pytzreturn pytz s 
@deprecated Version 'wisted 16 0 0 def add Slash request return  add Slash request 
def save obj base mapper states uowtransaction single False if not single and not base mapper for state in  sort states states save obj base mapper [state] uowtransaction single True return states to insert states to update  organize states for save base mapper states uowtransaction cached connections  cached connection dict base mapper for table mapper in base mapper sorted tables insert  collect insert commands base mapper uowtransaction table states to insert update  collect update commands base mapper uowtransaction table states to update if update  emit update statements base mapper uowtransaction cached connections mapper table update if insert  emit insert statements base mapper uowtransaction cached connections mapper table insert  finalize insert update commands base mapper uowtransaction states to insert states to update 
def  engine Services Running process subprocess Popen ['ps' 'aux'] stdout subprocess P I P E stdout process [0]result process result ! 0 raise Runtime Error 'nabletocheckforrunningclientjobmanager running Falsefor line in stdout '\n' if 'python' in line and 'clientjobmanager.client job manager in line running Truebreakreturn running 
@xframe options sameorigin required document pathdef edit attachment request document slug document locale document get object or 404 Document locale document locale slug document slug if request ! 'POST' return redirect document edit url if not allow add attachment by request raise Permission Deniedform Attachment Revision Form data request P O S T files request F I L E S if form valid revision form commit False revision request Attachment title revision revision attachmentrevision attachment document request revision return redirect document edit url else context {'form' form 'document' document render request 'attachments/edit attachment context 
def get report list module is standard u No reports frappe list u Report fields [u'name' u doctype u type filters {u'is standard is standard u 0 u module order by u out []for r in reports out {u'type' u u r doctype u query report 1 if r type in u Query Report u Script Report else 0 u _ r u r return out 
def get Data Provider dataset assert dataset in ['flickr8k' 'flickr30k' 'coco'] 'dataset%sunknown' % dataset return Basic Data Provider dataset 
def test pickle multidimensional column protocol a np 3 2 c Column a name 'a' cs pickle c cp pickle cs assert np c cp assert c cp assert cp equal c assert repr c repr cp 
def get scanner hass config info config D O M A I N info CONF HOST username info CONF USERNAME password info CONF PASSWORD port info CONF PORT scanner Netgear Device Scanner host username password port return scanner if scanner init else None 
def Cache Stats formatted results kinds and sizes dict kind name kind bytes for kind in formatted results memcache KINDS AND SIZES VAR kinds and sizes namespace MEMCACHE NAMESPACE
def  get entrance exam request course key course modulestore .get course course key if course is None return Http Response status 400 if not course exam id return Http Response status 404 try exam key Usage Key string course exam id except Invalid Key Error return Http Response status 404 try exam descriptor modulestore .get item exam key return Http Response dump js escaped json {'locator' unicode exam descriptor } status 200 content type 'application/json' except Item Not Found Error return Http Response status 404
def Imgt Iterator handle return  Imgt Scanner debug 0 .parse records handle 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
def split template path template pieces []for piece in template '/' if path in piece or path and path in piece or piece path raise Template Not Found template elif piece and piece ! '.' pieces piece return pieces 
def detach volume name None kwargs None instance id None call None if call ! 'action' raise Salt Cloud System Exit 'hedetach volumeactionmustbecalledwith if not kwargs kwargs {}if 'volume id not in kwargs log 'volume idisrequired return Falseparams {ction 'etach Volume 'olume Id kwargs id aws params return url True location get location provider get provider opts   opts   sigver '4' return data 
def  check orphans no tips cursor orphans with tips cursor ' I T Hvalid tips A S S E L E C T F R O Mcurrent tips W H E R Eamount \ E L E C Tusername F R O M S E L E C Ttipper A Susername F R O Mvalid tips U N I O N S E L E C Ttippee A Susername F R O Mvalid tips foo W H E R E N O T E X I S T S S E L E C T1 F R O Melsewhere W H E R Eparticipant username \n' assert len orphans with tips 0 orphans with tips 
def  is safe size n n int n if n 0 return Truefor c in 3 5 while n % c 0 n // creturn not n & n - 1
def header decode s s s '_' '' return re ' [ F0  unquote match s flags re A S C I I 
def name from path path collection path path '/' + '/' start collection + '/' if not path start raise Value Error "'%s'doesn'tstartwith'%s'" % path start return path start ].rstrip '/'
def  sc encode gain peak peak * 32768.0g1 int min round 10 ** gain / -10 * 1000 65534 g2 int min round 10 ** gain / -10 * 2500 65534 uk 0values g1 g1 g2 g2 uk uk int peak int peak uk uk return u X * 10 % values 
def on Login Callback From D B login Name account Name errorno datas INFO MSG 'ogin Callback From D B login Name %s account Name %s errorno %s' % login Name account Name errorno 
def new Recovery Header self if self yield filesize Handler U Int32 self 'body size 'izeoftheunknownbodyfollowing self size self size yield text Handler U Int32 self 'unknown[]' 'nknownfield probably0 hexadecimal yield String self 'signature' 7 "ignature normally A C E yield text Handler U Int32 self 'relative start "ffset crc16 ofthisblockinthefile hexadecimal yield text Handler U Int32 self 'unknown[]' 'nknownfield probably0 hexadecimal 
def  sysv delete name if not  service is chkconfig name return Falsecmd '/sbin/chkconfig--del{0}'.format name return not   salt  ['cmd.retcode'] cmd 
def database dburl None **params if not dburl and not params dburl os D A T A B A S E U R L dburl params dburl2dict dburl dbn params 'dbn' if dbn in  databases return  databases **params else raise Unknown D B dbn 
def get store from uri context uri loc None scheme uri uri '/' - 1 ]store get store from scheme context scheme loc return store 
def  sort distributions plot data plot labels plot colors sort type if sort type 'median' sort key lambda item np item elif sort type 'alphabetical' sort key lambda item item else raise Value Error "nvalidsorttype % sort type return zip *sorted zip plot data plot labels plot colors key sort key 
def check status status if status 'REQUEST DENIED' return 'hegeocode A P Iisoffinthe Google Developers Console status 'ZERO RESULTS' return 'oresultsfound status 'OVER QUERY LIMIT' return 'hegeocode A P Iquotahasrunout status 'UNKNOWN ERROR' return 'nknown Error status 'INVALID REQUEST' return 'nvalid Request status 'OK' return None 
def Ids2 Words ids list vocab assert isinstance ids list list '%sisnotalist' % ids list return [d To Word i for i in ids list 
@deprecated 'se Timedelta Win64fieldtype def duration Win64 field assert hasattr field 'value' and hasattr field 'size' assert field 64 delta do Duration Win64 field return human Duration delta 
def is path browsable app path repository id is admin False if is admin and is path within dependency dir app path return Truereturn is path within repo app path repository id 
def history add paths state  open state if HISTORY KEY not in state state H I S T O R Y KEY] set state H I S T O R Y K E Y tuple paths  save state state 
def  get old package revision license ids migrate engine old ids {}select licenses ' E L E C Tid license id F R O Mpackage revision migrate engine select licenses for id license id in q old ids license idreturn old ids 
def vulnerability rheader r tabs [] if r ! 'html' return Nonerecord r record is None return Nonetable r r T current Tif resourcename 'risk' tabs [ T 'asic Details None T 'ags 'tag' ]rheader tabs s3 rheader tabs r tabs rheader DIV TABLE TR TH '%s ' % table record rheader tabs return rheader 
def define servers global C F Gtry for server in C F G svr C F G Config Server server '{' '[' .replace '}' ']' svr if s s 1 s False except Key Error pass 
def java binary name main class srcs [] deps [] resources [] source encoding None warnings None exclusions [] **kwargs target Java Binary name srcs deps resources source encoding warnings main class exclusions kwargs blade target target 
def base Pre base a b base Base Pre base Base Pre + 1
def set hidden list hidden list user None if isinstance hidden list basestring hidden list json hidden list for module name in hidden list set hidden module name user 1 for module name in list set get all icons - set hidden list set hidden module name user 0 if user clear desktop icons cache else frappe cache 
def connect discussion signals post save count discussions handler sender comment model dispatch uid COMMENT PS COUNT DISCUSSIONS pre delete count discussions handler sender comment model dispatch uid COMMENT PD COUNT DISCUSSIONS comment was flagged count discussions handler sender comment model dispatch uid COMMENT WF COUNT DISCUSSIONS comment was posted count comments handler sender comment model dispatch uid COMMENT WP COUNT COMMENTS pingback was posted count pingbacks handler sender comment model dispatch uid PINGBACK WF COUNT PINGBACKS trackback was posted count trackbacks handler sender comment model dispatch uid TRACKBACK WF COUNT TRACKBACKS
def satisfiable expr algorithm 'dpll2' all models False expr to cnf expr if algorithm 'dpll' from sympy import dpll satisfiablereturn dpll satisfiable expr elif algorithm 'dpll2' from sympy import dpll satisfiablereturn dpll satisfiable expr all models raise Not Implemented Error 
def  lltrace selector def traced cls *args **kwargs ret selector cls *args **kwargs if TRACED OIDS is not None  trace selector cls selector args ret return rettraced  name   selector  name  traced  doc   selector  doc  return traced 
def  cmp Top a b what 'top250rank' av int a what bv int b what if av bv return 0return -1 1 [ av > bv ]
def thetagrids *args **kwargs ax gca if not isinstance ax Polar Axes raise Runtime Error 'rgridsonlydefinedforpolaraxes' if len args 0 lines ax ticklines labels ax ticklabels else lines labels ax thetagrids *args **kwargs draw if interactive return silent list 'ine2 Dthetagridline lines silent list 'extthetagridlabel labels 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def test import vispy util modnames loaded vispy modules 'vispy.util' 2 assert equal modnames set  min modules 
def task install docker distribution if is centos or rhel distribution update 'yum--assumeyesupdate&&'else update ''return retry effect with timeout run command '[[-e/usr/bin/docker]]||{' + update + 'curlhttps //get.docker.com/>/tmp/install-docker.sh&&sh/tmp/install-docker.sh;}' timeout 5.0 * 60.0
def parse Fragment String string context namespaces True if namespaces builder Fragment Builder N S context else builder Fragment Builder context return builder String string 
def p dimitem single p p p eval p 0
def rootname filename if os not in filename return ''else file root _ filename os 1 return file root 
def no minc return not check minc 
def connect ec2containerservice aws access key id None aws secret access key None **kwargs from boto import E C2 Container Service Connectionreturn E C2 Container Service Connection aws access key id aws access key id aws secret access key aws secret access key **kwargs
def endswith string def ends with value validate text value if not value string raise Value Error "'{0}'doesnotendwith'{1}'".format value string return Truereturn ends with 
def smoothed sens counts noise eps l beta k 0smoothed sensitivity sens at k counts noise eps l k while k < max counts k + 1sensitivity at k sens at k counts noise eps l k smoothed sensitivity max smoothed sensitivity math - beta * k * sensitivity at k if sensitivity at k 0.0 breakreturn smoothed sensitivity 
def about dialog view About View qtutils window view return view 
def  New Schema From Pb field type pb list field types {}for field type pb in field type pb list for field type in field type pb list public type  FIELD TYPE M A P type  Decode U T F8 field type pb if name in field types field types public type else field types [public type field types 
def system Information Type7 a L2 Pseudo Length l2p Length 1 b Tp Pd pd 6 c Message Type mes Type 55 d Si7 Rest Octets packet a / b / c / d return packet 
def plot image and patch ax prng size 20 20 values prng sample size size ax values interpolation 'none' c plt Circle 5 5 radius 5 label 'patch' ax patch c ax xticks [] ax yticks []
def send query query json query if query ' color query json {'xy' xy color query color } conn httplib H T T P Connection query 'host' conn query 'method' query 'url' query 'data'
def  canonical type name if name 'int' return 'int256'if name 'uint' return 'uint256'if name 'fixed' return 'fixed128x128'if name 'ufixed' return 'ufixed128x128'if name 'int[' return 'int256' + name ] if name 'uint[' return 'uint256' + name ] if name 'fixed[' return 'fixed128x128' + name ] if name 'ufixed[' return 'ufixed128x128' + name ] return name 
def generic cdp parser pattern cdp cdp cdp '\n' for line in cdp re pattern re pattern line if re pattern return val re pattern 1 return return val return ''
def dt data row list None add header False config current configbrowser config browser element by id 'table-container' text cell text records []cnt 0lastrow ''header ''for row in parts if row 'etail header lastrowrow row ]if row list None or cnt in row list records row cnt + 1else lastrow rowif add header return [header] + records return records 
def make testdata filename mission type filename return os os   file   '..' mission type 'testdata' filename 
def extract request response None ids []cookie name settings O S C A R RECENTLY VIEWED COOKIE N A M Eif cookie name in request C O O K I E S try ids json request C O O K I E S name except Value Error if response response cookie cookie name else if not isinstance ids list ids []return ids 
def bnot value width None if width is None width context 1 << width - 1 return mask ^ value 
def get original mod name item name if isinstance item name string types return  get original mod name [item name [0]else return  get original mod name item name 
def add Cube element Node faces inradius vertexes square [complex - inradius - inradius complex inradius - inradius complex inradius inradius complex - inradius inradius ]op Square triangle mesh Add Indexed Loops square vertexes [ - inradius inradius triangle mesh Pillar By Loops faces bottom Top Square 
def  rgb x y z rgb np [x y z .rgb - rgb 0 rgb / rgb 0 return rgb 
def format image notification image return {'id' image id 'name' image 'status' image 'created at timeutils image at 'updated at timeutils image at 'min disk image disk 'min ram image ram 'protected' image 'checksum' image 'owner' image 'disk format image format 'container format image format 'size' image 'is public image 'public' 'properties' dict image properties 'tags' list image 'deleted' False 'deleted at None 
@app.route '/' @app.route '/home' def home view return render template 'index.html' title 'ome Page year datetime .year
def await results program timeout seconds 2 countdown timeout seconds * 10 while program is None and countdown > 0 time 0.1 countdown - 1if countdown 0 program raise Timeout Failure '<programtimedout>'
def nodesplit name parts name NODENAME SEP 1 if len parts 1 return None parts return parts 
def xpath elem path return elem path namespaces NS
def volume type access remove context type id project id return I M P L type access remove context type id project id 
@require chanmsg u @commands u u @example u @example u def update channel bot trigger if bot < OP returnelse param u trigger 2 and trigger 3 param trigger 3 .strip .lower sfw param u bot channel value trigger u sfw if sfw bot u Gotit S F W % trigger else bot u Gotit N S F W % trigger 
def fullrank X r None if r is None r np matrix rank X V D U L X full matrices 0 order np D order order -1 ]value []for i in range r value V[ order return np np value .astype np 
def get docs file Name source open file Name .read basename os os file Name [0] ast parser source return Module Info ast basename 
def typed list conversion func return lambda setting [conversion func String Converter elem for elem in setting 
def askopenfiles mode 'r' **options files askopenfilenames **options if files ofiles []for filename in files ofiles open filename mode files ofilesreturn files 
def  wait for volume state change operation volume update  get ebs volume state timeout VOLUME STATE CHANGE TIMEOUT time 5.0 start time time poll until lambda  reached end state operation volume update time - start time timeout itertools 1
def rand string min max int gen random length int gen min max return ''.join [chr int gen ord '' ord '~' for __ in range string length ]
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
def nltkdemo18plus return nltkdemo18 + [emplate Word [ -1 ] Pos [1] Template Pos [ -1 ] Word [1] Template Word [ -1 ] Word [0] Pos [1] Template Pos [ -1 ] Word [0] Word [1] Template Pos [ -1 ] Word [0] Pos [1] ]
def get telemetry data request indent None admin user User data dict {'daily data get daily data now 'apps' settings I N S T A L L E D APPS 'debug' settings D E B U G 'host' request host if request else None 'key' get installation key 'machine' platform 'admin user admin user if admin user else None 'last login admin user login if admin user else None 'platform' platform 'python version sys 'shuup version shuup  version  }return safe json data dict indent 
def add items fs items set db items create or resurrect db item parent items []new items []db items set set db items items to delete db items set - fs items set items to create fs items set - db items set for name in items to delete db items for name in db items set - items to delete items db items for name in items to create item create or resurrect db item name items item new items item try item except Exception logging 'rrorwhileadding item return items new items 
def instructor task status request output {}task id request G E T 'task id or request P O S T 'task id tasks request G E T 'task ids or request P O S T 'task ids if task id output  get instructor task status task id elif tasks for task id in tasks task output  get instructor task status task id if task output is not None output id task outputreturn Http Response json output indent 4
def speed limits client place ids params [ 'd place id for place id in convert list place ids ]return client get 'imits params base url  ROADS BASE URL accepts clientid False extract body  roads extract [imits 
def assert Not In first second msg '' a b first second assert a not in b '%s %risin%r' % msg a b a b 
def qos specs associations get context qos specs id return I M P L specs associations get context qos specs id 
def render and scrub markdown return Markup render markdown .striptags
def format datetime datetime None format None rebase True return get i18n .format datetime datetime format rebase 
def Index Definition To Proto app id index definition proto entity pb Composite Index proto app id app id proto id 0 proto state entity pb Composite Index W R I T E ONLY definition proto proto definition definition proto entity type index definition definition proto ancestor index definition if index definition is not None is geo any x 'geospatial' for x in index definition for prop in index definition prop proto definition proto property prop proto name prop if prop 'geospatial' prop proto mode entity pb Index Property G E O S P A T I A L elif is geo passelif prop Is Ascending prop proto direction entity pb Index Property A S C E N D I N G else prop proto direction entity pb Index Property D E S C E N D I N G return proto 
def get valid completed exploration ids user id collection completed exploration ids get completed exploration ids user id collection return [exp id for exp id in completed exploration ids if collection node exp id ]
def setup database via manager engine settings D A T A B A S E S E N G I N E type database manager to rdbms type engine manager database manager manager from config rdbms type rdbms type manager instance manager privileges 
def test keypoints censure moon image dob detector CENSURE detector img expected keypoints np [[21 497] [36 46] [119 350] [185 177] [287 250] [357 239] [463 116] [464 132] [467 260]] expected scales np [3 4 4 2 2 3 2 2 2] assert array equal expected keypoints detector assert array equal expected scales detector 
def rsync upload excludes [u'*.pyc' u u u D S Store u u settings u u u dir os + os return rsync project remote dir env path local dir local dir exclude excludes 
def make service options def make stub 'elperfunctionformakingastubtotalktoservice path options 'credentials path None http httplib2 Http http apiclient user agent http 'pinnaker Stackdriver Agent if credentials path logging 'sing Stackdriver Credentialsfrom credentials path credentials Service Account Credentials json keyfile name credentials path scopes Stackdriver Metrics Service W R I T E SCOPE else logging 'sing Stackdriver Credentialsfromapplicationdefault credentials Google Credentials application default http credentials http return apiclient 'monitoring' 'v3' http http return Stackdriver Metrics Service make stub options 
def inputhook wx2 context try app wx Get App if app is not None assert wx Thread Is Main elr Event Loop Runner elr Run time 10 input is ready context is ready except Keyboard Interrupt passreturn 0
def mail admins contact request subject message context sender L O G G E R u sender if not settings A D M I N S messages request _ u Messagecouldnotbesenttoadministrator L O G G E R u A D M I N Snotconfigured cannotsendmessage returnmail Email Multi Alternatives u % settings E M A I L SUBJECT PREFIX subject % context message % context to [a[1] for a in settings A D M I N S headers {eply To sender mail fail silently False messages request _ u Messagehasbeensenttoadministrator 
def   version client versions {9 'CMC' 8 ' R A C6 10 ' R A C6 11 ' R A C6 16 ' R A C7 17 ' R A C7 isinstance client paramiko S S H Client stdin stdout stderr client command 'ac Info for i in stdout if i ].startswith 'ac Type return versions int i ].split ' ' [1] None return None 
def get power command power type if power type power path1 '/sbin/fence %s' % power type power path2 '/usr/sbin/fence %s' % power type for power path in power path1 power path2 if os power path and os power path os X OK return power pathreturn None 
def init mpstate return Cmdlong Module mpstate 
@task def push course update task course key string course subscription id course display name from .push notification import send push course updatesend push course update course key string course subscription id course display name 
def is text file filename try return not is binary filename except O S Error I O Error return False 
@ile System directory current directory 'django' 'brocolis' def test harvest uses test runner status out run scenario 'leaves' 'disabled' assert equals status 0 out assert 'ustomtestrunnerenabled in out 
def apply acoustid metadata task session for item in task items if item in  fingerprints item fingerprint  fingerprints item in  acoustids item id  acoustids 
def test recursive File Links td mkdtemp tf Named Temporary File dir td subtd mkdtemp dir td subtf Named Temporary File dir subtd fl display File Links td actual str fl actual actual '\n' nt equal len actual 4 actual fl display File Links td recursive False actual str fl actual actual '\n' nt equal len actual 2 actual 
def create program action parent text name icon None nt name None if is text string icon icon get icon icon if os 'nt' and nt name is not None name nt namepath programs program name if path is not None return create action parent text icon icon triggered lambda programs program name 
def enabled name **kwargs ret {'name' name 'result' True 'changes' {} 'comment' []}current schedule   salt  ['schedule.list'] show all True return yaml False if name in current schedule if 'test' in   opts   and   opts  ['test'] kwargs Trueresult   salt  ['schedule.enable job name **kwargs ret result else result   salt  ['schedule.enable job name **kwargs if not result ret result result retelse ret 'nabledjob name else ret 'ob name ret '\n'.join ret return ret 
def get certificate footer context data dict terms of service and honor code branding api tos and honor code url if terms of service and honor code ! branding api E M P T Y URL data {'company tos url terms of service and honor code privacy policy branding api privacy url if privacy policy ! branding api E M P T Y URL data {'company privacy url privacy policy about branding api about url if about ! branding api E M P T Y URL data {'company about url about return data 
def get data for unfinished jobs unfinished job models job models Job Model all unfinished jobs NUM JOBS IN DASHBOARD LIMIT return [ get job dict from job model model for model in unfinished job models 
def my kernel X Y M np [[2 0] [0 1.0]] return np np X M Y.T
def  get error details data default code None if isinstance data list ret [ get error details item default code for item in data isinstance data Return List return Return List ret serializer data return retelif isinstance data dict ret {key  get error details value default code for key value in data }if isinstance data Return Dict return Return Dict ret serializer data return rettext force text data code getattr data u default code return Error Detail text code 
def get comment form parser token return Comment Form Node token parser token 
def  validate name name name str name name length len name regex re ' Z0 A Za - Z0 if name length < 3 or name length > 48 ret Falseelif not re regex name ret Falseelse ret Trueif ret is False log ' Linodelabelmayonlycontain A S C I Ilettersornumbers dashes andunderscores mustbeginandendwithlettersornumbers andbeatleastthreecharactersinlength return ret 
def destroy namespace conf namespace force False try ip ip lib I P Wrapper namespace namespace if force kill dhcp conf namespace if ip namespace try kill listen processes namespace except Pids In Namespace Exception L O G  LE 'otallprocesseswerekilledin namespace for device in ip devices exclude loopback True unplug device conf device ip collect namespace except Exception L O G  LE 'rrorunabletodestroynamespace %s' namespace 
def ensure local plotly files if check file permissions for fn in [CREDENTIALS FILE CONFIG FILE] utils file exists fn contents utils json dict fn for key val in list FILE C O N T E N T if key not in contents contents valcontents keys list contents for key in contents keys if key not in FILE C O N T E N T del contents json dict fn contents else warnings "ookslikeyoudon '~' directoryortoour Thatmeansplotly Noproblemthough You in 'orhelpwiththat 'help plotly in 'uestions Visitcommunity Proplanfor1 https / U Vu9 
def null applicable aside types block return []
def  merge map key values partial proto file service pb Key Values proto key key proto list .extend values proto partial partial yield proto Encode 
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
def project activity year options db current current activityquery table False min field table start date min db query .select min field orderby min field limitby 0 1 .first [min field start date min start year start date min start year Nonemax field table date end date max db query .select max field orderby max field limitby 0 1 .first [max field end date max end year end date max end year Noneif not start year or not end year return {start year start year or {end year end year years {}for year in xrange start year end year + 1 years yearreturn years 
def read dict filename return getcfs 'lang ' + filename filename lambda read dict aux filename 
def replace With repl Str def  repl Func *args return [tr  repl Func 
def  generate java test coverage flag env env dict env Dictionary jacoco agent env dict 'JACOCOAGENT' if jacoco agent jacoco agent os jacoco agent target under test package env dict 'JAVATARGETUNDERTESTPKG' if target under test package options []options.append 'includes %s' % ' '.join [ p + '.*' for p in target under test package if p options 'output file return '-javaagent %s %s' % jacoco agent ' '.join options return ''
def sample count value len uris len value if len uris 1 return 'ten'if len uris > 10 return 'ten'else return human number len uris 
def insort left a x lo 0 hi None if lo < 0 raise Value Error 'lomustbenon-negative' if hi is None hi len a while lo < hi mid lo + hi // 2 if a < x lo mid + 1 else hi mida lo x 
def pushed name tag 'latest' insecure registry False image name  get image name name tag if   opts  ['test'] comment 'mage image name return  ret status name name comment comment push   salt  ['docker.push']returned push name tag tag insecure registry insecure registry log 'eturned ' + str returned if returned changes {name {ev returned changes {}return  ret status returned name changes changes 
def init rttable rt table interface if rt table in ['local' 'main' 'default'] return stdout _ run settings 'route' 'list' 'dev' interface for line in stdout '\n' args ['route' 'add'] + [x for x in line '' if x args + ['dev' interface 'table' rt table settings *args
def volume type get by name context name return I M P L type get by name context name 
def survey get Priority Question For Series series id template rec survey get Template From Series series id if template rec ! None priority question code template rec qstn survey get Question From Code priority question code series id return questionelse return None 
def pop from stack section args if len args 0 return ''parts []for idx in xrange len args parts 'self->arg%d self stack "arg%d"];\n DCTB self stack "arg%d"] 0;' % idx idx idx parts '--self->deeplevel;' return '\n DCTB ' + '\n DCTB '.join parts 
def  Skip Fixed32 buffer pos end pos + 4if pos > end raise  Decode Error 'runcatedmessage return pos 
@register u def transpose chars event b event bufferp b positionif p 0 returnelif p len b or b u b characters before cursor else b position + b cursor right position b characters before cursor 
def  setup scenario switches logger config hass scenario config CONF SCENARIO if scenario for _ entity info in scenario if entity info C O N F SCS ID] in scsgate S C S G A T E continuename entity info C O N F N A M E id entity info C O N F SCS I D 'dding switch name switch S C S Gate Scenario Switch name name scs id scs id logger logger hass hass scsgate S C S G A T E device switch 
def bfs successors G source parent sourcechildren []for p c in bfs edges G source if p parent children c continue yield parent children children [c]parent p yield parent children 
def warning priority def prep r if r 'json' list fields ['id' 'priority rank 'color code 'severity' 'certainty' 'urgency' 'event type id 'event code 'name']s3db.configure 'cap warning priority list fields list fields return Trues3 prepreturn s3 rest controller 
def  insert header network str incomings outgoings line 1 deque [] if incomings line 1.append 'n line 1.append 'ayer if outgoings line 1.append 'ut line 1.append 'escription line 2 deque [] if incomings line 2.append '-------' line 2.append '-----' if outgoings line 2.append '-------' line 2.append '-----------' network str line 2 network str line 1 return network str 
def  unixdll getnode  uuid generate time  buffer return UUID bytes  buffer .node
def instance get all context columns to join None return I M P L get all context columns to join columns to join 
def depth first search node visit lambda node False traversable lambda node edge True  visited None stop visit node  visited  visited or {}  visited Truefor n in node if stop return Trueif traversable node node n is False continueif not n in  visited stop depth first search n visit traversable  visited return stop 
def get wanna help queue from session session ret []for project id in session PROJECTS TO HELP OUT KEY [] try project mysite Project id project id except mysite Project Does Not Exist continueret project ret list set ret return ret 
def find current module depth 1 finddiff False frm inspect for i in range depth frm frm backif frm is None return Noneif finddiff currmod inspect frm if finddiff is True diffmods [currmod]else diffmods []for fd in finddiff if inspect fd diffmods fd elif isinstance fd six types diffmods   import   fd elif fd is True diffmods currmod else raise Value Error u while frm frmb frm backmodb inspect frmb if modb not in diffmods return modbfrm frmbelse return inspect frm 
def Close Expression clean lines linenum pos line clean lines line startchar not in ' {[<' return line clean lines Num Lines -1 if startchar ' ' endchar ' 'if startchar '[' endchar ']'if startchar '{' endchar '}'if startchar '<' endchar '>' end pos num open Find End Of Expression In Line line pos 0 startchar endchar if end pos > -1 return line linenum end pos while linenum < clean lines Num Lines - 1 linenum + 1line clean lines end pos num open Find End Of Expression In Line line 0 num open startchar endchar if end pos > -1 return line linenum end pos return line clean lines Num Lines -1
def get store from location uri loc location location from uri uri return loc name 
def add Orbits If Large distance Feed Rate loop orbital Feed Rate Per Second temperature Change Time z if orbits Are Large loop temperature Change Time add Orbits distance Feed Rate loop orbital Feed Rate Per Second temperature Change Time z 
def stop service service name os cmd ['/usr/bin/openstack-service' 'stop' service name   salt  ['cmd.retcode'] os cmd 0
def alarm keypress handler service entity ids service ATTR ENTITY ID keypress service ATTR KEYPRESS  target devices [device for device in DEVICES if device id in entity ids ]for device in  target devices Envisalink Alarm keypress device keypress 
def  is url dns urlstr url qurl from user input urlstr assert url Valid if utils Value Error ipaddress address urlstr and not Q Host Address urlstr .ull log 'ogus I P U R L False return Falsehost url if not host log ' R Lhasnohost False return Falselog 'oing D N Srequestfor host info Q Host Info Name host return not info 
def drk org rheader r tabs [] if r ! 'html' return Nonefrom s3 import s3 rheader resource S3 Resource Header tablename record s3 rheader resource r if tablename ! r resource current tablename id record else resource r Nonerheader fields []if record T current Tif tablename 'org facility if not tabs tabs [ T 'asic Details None ]rheader fields [['name' 'email'] ['organisation id 'phone1'] ['location id 'phone2']]rheader S3 Resource Header rheader fields tabs r table resource record record return rheader 
def p function definition 1 t pass 
def get current theme request None if  current theme class is not  not set if  current theme class return  current theme class return Nonevalue cache THEME CACHE KEY if value return valueif request and hasattr request ' current xtheme return request current xthemetheme  get current theme if request request current xtheme themecache THEME CACHE KEY theme return theme 
@hello.get permission NO PERMISSION REQUIRED def get hello request settings request name settings name version settings version dict project name project name project version project version http api version settings api version project docs settings docs url request url hello eos get eos request if eos data eosdata {}public settings request settingsfor setting in list public settings data settings Authenticated in request principals data request user info data request capabilitiesreturn data 
def parse http list u encoded str u 'utf-8' encoded list urllib2 http list encoded str return [s.decode 'utf-8' for s in encoded list 
def walk top topdown True followlinks False names os top dirs nondirs [] [] for name in names if path path top name dirs name else nondirs name if topdown yield top dirs nondirs for name in dirs fullpath path top name if followlinks or not path fullpath for x in walk fullpath topdown followlinks yield x if not topdown yield top dirs nondirs 
def  extract instance info instances ret {}for instance in instances if isinstance instance Set list for item in instance Set name  extract name tag item ret itemret nameret dict id item Id image item Id size item Type state item State private ips item 'p Address [] public ips item 'ddress [] else item instance Set  extract name tag item ret itemret nameret dict id item Id image item Id size item Type state item State private ips item 'p Address [] public ips item 'ddress [] return ret 
def prexsync create container stat table self conn put timestamp None if put timestamp is None put timestamp normalize timestamp 0 conn " R E A T E T A B L Econtainer stat \ E X T \ E X T \ncreated at T E X T \nput timestamp T E X T D E F A U L T \ndelete timestamp T E X T D E F A U L T \nobject count I N T E G E R \nbytes used I N T E G E R \nreported put timestamp T E X T D E F A U L T \nreported delete timestamp T E X T D E F A U L T \nreported object count I N T E G E R D E F A U L T0 \nreported bytes used I N T E G E R D E F A U L T0 \ E X Tdefault \ E X T \ E X T D E F A U L T \nstatus changed at T E X T D E F A U L T \ E X T D E F A U L T ; N S E R T I N T Ocontainer stat object count bytes used \ A L U E S 0 0 ;\n" conn ' P D A T Econtainer stat S E Taccount ? container ? created at ? id ? \nput timestamp ?\n' self self normalize timestamp time str uuid4 put timestamp 
@step 'havenotsentanyemails def mail not sent step return mail sent count step 0
def find words string trie  boundary re re '[%s]+' % re DEFAULT BOUNDARY CHARS results []start 0while start < len string keys match all string ] trie for key in keys l len key if start + l len string or  boundary re string start + l ] results key start start + l m  boundary re string start if m is None breakstart m return results 
def sanitize hostname hostname if six P Y3 hostname hostname 'latin-1' 'ignore' hostname hostname 'latin-1' elif isinstance hostname six type hostname hostname 'latin-1' 'ignore' hostname re '[_]' '-' hostname hostname re '[^\\w.-]+' '' hostname hostname hostname hostname hostname '.-' return hostname 
def parse query string query string keep blank values True encoding 'utf-8' if image map pattern query string pm query string ' ' pm {'x' int pm 'y' int pm }else pm  parse qs query string keep blank values encoding encoding return pm 
def print Exception exctype value traceback print ''.join format Exception exctype value traceback skip 1
@ensure csrf cookie control no cache True no store True must revalidate True @require level 'staff' @require P O S Tdef mark student can skip entrance exam request course id course id Slash Separated Course Key deprecated string course id student identifier request P O S T 'unique student identifier student get student from identifier student identifier __ created Entrance Exam Configuration or create user student course id course id if created message _ 'hisstudent %s willskiptheentranceexam % student identifier else message _ 'hisstudent %s isalreadyallowedtoskiptheentranceexam % student identifier response payload {'message' message Json Response response payload 
def mangle type typ if typ in N2C typename N2 C typename str typ return mangle type c typename 
def endpoint absent name profile None **connection args ret {'name' name 'changes' {} 'result' True 'comment' 'ndpointforservice name }endpoint   salt  ['keystone.endpoint get name profile profile **connection args if not endpoint return retelse if   opts  .get 'test' ret Noneret 'ndpointforservice name return ret  salt  ['keystone.endpoint delete name profile profile **connection args ret 'ndpointforservice name ret 'eleted ret 
def validate metadata map fp gradient variable metadata parse mapping file map fp if not gradient variable in metadata raise Exception 'eader ' % gradient variable + ' '.join metadata column ix metadata gradient variable gradient zip *metadata[0] [column ix i in xrange len gradient try float gradient except Value Error if gradient ! 'NA' raise Exception 'on ' % gradient + ' '.join gradient 
def  plot results metrics formats title x ticks x label format markers 'x' '|' 'o' '+' metric colors 'c' 'm' 'y' 'k' 'g' 'r' 'b' fig plt 'scikit-learnmultilabelmetricsbenchmarks' plt title ax fig subplot 111 for i metric in enumerate metrics for j format in enumerate formats ax x ticks results i j ].flat label '{} {}'.format metric format marker format markers color metric colors i % len metric colors ] ax xlabel x label ax ylabel 'ime s ' ax plt 
def get enrolled students course id objects User Profile key Course Key string course id students objects user  courseenrollment  course id course key user  courseenrollment  is active True return students 
def mysql encode t return 'CHAR %s ' % ' '.join str ord c for c in t 
def zk service name ip address keyname key file '{}/{}.key'.format KEY DIRECTORY keyname ssh cmd ['ssh' '-i' key file ip address 'ls{}'.format SERVICES DIR ]response subprocess output ssh cmd init files response for init file in init files if 'zookeeper' in init file return init fileraise O S Error 'nabletofind Zoo Keeperon ip address 
def wait objects None timeout None count None if objects is None return get hub .join timeout timeout result []if count is None return list iwait objects timeout for obj in iwait objects objects timeout timeout result obj count - 1if count < 0 breakreturn result 
def erfinv x a 0.147 lnx log 1 - x * x part1 2 / a * pi + lnx / 2 part2 lnx / a sgn 1 if x > 0 else -1 return sgn * sqrt sqrt part1 * part1 - part2 - part1 
def impulse2 system X0 None T None N None **kwargs if isinstance system lti sys system as ss elif isinstance system dlti raise Attribute Error 'impulse2canonlybeusedwithcontinuous-timesystems.' else sys lti *system . as ss B sys Bif B -1 ] ! 1 raise Value Error 'impulse2 requiresasingle B B if X0 is None X0 zeros like B if N is None N 100if T is None T  default response times sys A N ic B + X0 Tr Yr Xr lsim2 sys T T X0 ic **kwargs return Tr Yr 
def learn cache key request response cache timeout None key prefix None cache None if key prefix is None key prefix settings C A C H E MIDDLEWARE KEY P R E F I Xif cache timeout is None cache timeout settings C A C H E MIDDLEWARE S E C O N D Scache key  generate cache header key key prefix request if cache is None cache get cache settings C A C H E MIDDLEWARE ALIAS if response header u Vary is accept language redundant settings U S E I18N or settings U S E L10N headerlist []for header in cc delim re response Vary header header .replace u u ' if header u A C C E P T LANGUAGE' and is accept language redundant continueheaderlist u H T T P ' + header headerlist cache cache key headerlist cache timeout return  generate cache key request request headerlist key prefix else cache cache key [] cache timeout return  generate cache key request request [] key prefix 
def get field setup query query model column name if not hasattr model column name rel model getattr model column name '.' [0] .mapper.class query query rel model return query getattr rel model column name '.' [1] else return query getattr model column name 
def load plugin names settings seen set def generate name path maxsplit 0 splits None if splits is None splits len path '.' - 1 name '.'.join path '.' splits - maxsplit [ -1 ].rsplit '.' maxsplit if name not in seen or maxsplit > splits seen name return namereturn generate name path maxsplit + 1 splits if settings P L U G I N S return [generate name path for path in settings P L U G I N S return [nnotations 
def tokenize Json Entry json dict return set find words ''.join word for word in json dict 
def  Handle Wildcard Cases first handler second handler merged handlers set if len first handler < 1 or len second handler < 1 return merged handlersif first handler -1 ] second handler ! '*' '*' return merged handlersfirst no star first handler -1 ]merged handlers Simple Handler first no star + second handler if second handler Matches String first no star merged handlers Simple Handler first no star return merged handlers 
def test paginated url url '%s?%s' % reverse 'search' 'q bookmarks 2' request Request Factory .get url queryset [{} {}]paginated paginate request queryset eq  paginated request absolute uri request + '?q bookmarks 
def  get course enrollment domain course id course modulestore .get course course id if course is None return Nonereturn course domain 
def get filename from path path dirpath filename ntpath path return filename if filename else ntpath dirpath 
@hsa.jit device True def shuf device inclusive scan data temp tid hsa local id 0 lane tid &  WARPSIZE - 1 warpid tid >> 6 warp scan res shuf wave inclusive scan data hsa if lane  WARPSIZE - 1 temp warp scan reshsa if warpid 0 shuf wave inclusive scan temp hsa blocksum 0if warpid > 0 blocksum temp warpid - 1 ]return warp scan res + blocksum 
def dist location dist egg link egg link path dist if egg link return egg linkreturn dist 
def test scenario outline1 ptbr from string ptbr Language 'pt-br' scenario Scenario string SCENARIO OUTLINE1 language ptbr assert equals scenario 'adastrarumalunonobancodedados assert equals scenario [{'nome' u Gabriel u '22'} {'nome' u Jo u '30'}]
def get rdm create spec client factory device adapter type 'ogic disk type 'rdmp' create vmdk spec client factory 'ns0 Device Backed Virtual Disk Spec create vmdk spec Type adapter typecreate vmdk spec Type disk typecreate vmdk spec devicereturn create vmdk spec 
def test feature first scenario tags extraction feature Feature string FEATURE23 assert that feature .deep equals ['onetag' 'another' '$%^&even-weird chars 
def strswapmid data return ''.join arrswapmid data 
def  windows long path name short path if not isinstance short path six type short path short path  fsencoding import ctypesbuf ctypes unicode buffer 260 get long path name w ctypes Get Long Path Name Wreturn value get long path name w short path buf 260 if return value 0 or return value > 260 return short pathelse long path buf len long path > 1 and long path ' ' long path long path + long path ] return long path 
def paths equal paths 1 paths 2 if len paths 1 ! len paths 2 return Falsefor path 1 path 2 in zip paths 1 paths 2 if len path 1 ! len path 2 return Falsefor path item 1 path item 2 in zip path 1 path 2 if path item 1.display name ! path item 2.display name return Falseusage key 1 path item 1.usage key course key modulestore .fill in run path item 1.usage key key usage key 2 path item 1.usage key course key modulestore .fill in run path item 2.usage key key if usage key 1 ! usage key 2 return Falsereturn True 
def get network with the name session network name 'vmnet0' cluster None vm networks session call method vim util 'get object properties None cluster 'luster Compute Resource ['network'] while vm networks if vm networks network obj  get network obj session vm networks network name if network obj session call method vutil 'cancel retrieval vm networks return network objvm networks session call method vutil 'continue retrieval vm networks L O G 'etwork network name 
@log calldef metadef object get all context namespace name namespace metadef namespace get context namespace name objects [] check namespace visibility context namespace namespace name for object in D A T A objects if object id namespace objects object return objects 
def  check all skipped test import doctestall skipped all x doctest S K I P False for x in test if all skipped pytest ' K I Poption 
def  render jinja2 recipe dir try import jinja2except Import Error raise Exception 'ailedtoimportjinja2forevaluating Condarecipetemplates loaders [ile System Loader recipe dir ]env jinja2 Environment loader jinja2 Choice Loader loaders template env or select template 'meta.yaml' return template environment env 
def read int s start position m  READ INT R E s start position if not m raise Read Error 'integer' start position return int m m 
@register.filter u is safe True def slice filter value arg try bits []for x in arg u ' if len x 0 bits None else bits int x return value *bits ]except Value Error Type Error return value 
def list security groups profile None conn  auth profile return conn security groups 
def create l2 gw service cluster tenant id display name devices tags [{'tag' tenant id 'scope' 'os tid [{'transport node uuid device 'device id device name 'type' '2 Gateway for device in devices obj {'display name  check and truncate name display name 'tags' tags 'gateways' gateways 'type' '2 Gateway Service Config return json do single request 'POST'  build uri path GWSERVICE RESOURCE json gwservice obj cluster cluster except Nvp Api Client Nvp Api Exception L O G _ 'nexceptionoccuredwhilecommunicatingwiththe N V Pcontrollerforcluster %s' cluster raise 
@allow unvouched cachedef confirm delete request return render request 'phonebook/confirm delete 
def Make Joint pmf1 pmf2 joint Joint for v1 p1 in pmf1 Items for v2 p2 in pmf2 Items joint Set v1 v2 p1 * p2 return joint 
def format exception msg *args **kwargs tb traceback tb sys info [2] limit 1 if len tb > 0 filename lineno func text tb filename lineno func text u msg filename filename lineno lineno func func text text *args **kwargs
def get deprecated tense removal version future tense u past tense u return future tense if Version removal version > PANTS SEMVER else past tense 
def discover files base path sub path '' ext '' trim base path False file list []for root dirs files in walk path base path sub path if trim base path root path root base path file list [path.join root file name for file name in files if file name ext ] return sorted file list 
def  plot ci band ax x ci color err kws **kwargs low high ciif 'alpha' not in err kws err kws 0.2ax.fill between x low high facecolor color **err kws 
def  simplified pairs terms simplified terms []todo list range len terms for i ti in enumerate terms -1 ] for j i tj in enumerate terms i + 1 ] index  check pair ti tj if index ! -1 todo todo j i + i + 1 ] Nonenewterm ti ]newterm[index] 3if newterm not in simplified terms simplified terms newterm simplified terms [terms[i] for i in [_ for _ in todo if _ is not None ]] return simplified terms 
@receiver pre save sender Microsite def on microsite updated sender instance **kwargs if instance original Microsite id instance  make archive copy original 
def strict positive int integer string cutoff None ret int integer string if ret < 0 raise Value Error if cutoff ret min ret cutoff return ret 
def max api calls user return  rules for user user [ -1 ][1]
@utils.arg 'server' metavar '<server>' help 'ameor I Dofserver def do restore cs args utils resource cs args deleted True .restore
def get client for backend backend name vserver name None config get backend configuration backend name client client cmode Client transport type config transport type username config login password config password hostname config server hostname port config server port vserver vserver name or config vserver trace utils T R A C E API return client 
def partitioning index df npartitions return hash pandas object df index False % int npartitions 
def get and delete messages request include auth False assert hasattr request 'session' "dityour M I D D L E W A R E C L A S S E Ssettingtoinsert Session Middleware request 'messages' [] if include auth and request authenticated messages request and delete messages return messages 
def is vlanid used vlan id L O G _ 'is vlanid used called session db session try vlanid session l2network models Vlan I D .filter by vlan id vlan id .one return vlanid used exc No Result Found raise c exc Vlan I D Not Found vlan id vlan id 
def  init globals global  FROM MODEL MAP  TO MODEL MAP  SESSION H A N D L E Rif not  FROM MODEL MAP  FROM MODEL MAP defaultdict str  FROM MODEL M A P dict c c key for c in Content Type if not  TO MODEL MAP  TO MODEL MAP defaultdict str  TO MODEL M A P dict c key c class for c in Content Type if not  SESSION HANDLER from evennia import SESSION HANDLER as  SESSION HANDLER
def truncate fields old value new value max value length settings T R A C K MAX EVENT / 4 serialized old value old was truncated  get truncated setting value old value max length max value length serialized new value new was truncated  get truncated setting value new value max length max value length truncated values []if old was truncated truncated values 'old' if new was truncated truncated values 'new' return {'old' serialized old value 'new' serialized new value 'truncated' truncated values 
def prod a axis None dtype None out None keepdims False return a axis dtype out keepdims 
def transpose matlist K return [list a for a in zip *matlist ]
@mock streams 'stdout' def test puts with user output on s 'string!'output.user Trueputs s show prefix False eq  sys s + '\n'
def request middleware api None def decorator middleware method apply to api hug A P I api if api else hug object middleware method class Middleware Router object   slots   def process request self request response return middleware method request response apply to api middleware Middleware Router return middleware methodreturn decorator 
def retrieve fid share key None url build url RESOURCE id fid params make params share key share key return request 'get' url params params 
def randbelow exclusive upper bound if exclusive upper bound < 0 raise Value Error 'pperboundmustbepositive return  sysrand randbelow exclusive upper bound 
def get Bearing Center Xs bearing Center X number Of Steps step X bearing Center Xs []for step Index in xrange number Of Steps + 1 bearing Center Xs bearing Center X bearing Center X + step Xreturn bearing Center Xs 
def create country codes user tk action 'get site user {'ignore auth True {} context {'user' user data {'id' 'country codes action 'vocabulary show context data logging 'xamplegenrevocabularyalreadyexists skipping except tk Object Not Found logging "reatingvocab codes data {'name' 'country codes tk action 'vocabulary create context data for tag in u u u u u logging "ddingtag codes tag data {'name' tag 'vocabulary id vocab action 'tag create context data 
def ring of cliques num cliques clique size if num cliques < 2 raise nx Network X Error 'ringofcliquesmusthaveatleasttwocliques if clique size < 2 raise nx Network X Error 'hecliquesmusthaveatleasttwonodes G nx Graph for i in range num cliques edges itertools range i * clique size i * clique size + clique size 2 G edges from edges G edge i * clique size + 1 i + 1 * clique size % num cliques * clique size return G
def redirect to message title html http status code None context None message id generate hash length 8 message {u'context' context or {} u status code http status code or 200 }message[u'context'].update {u'header' title u title u html cache .set value u id {0}'.format message id message expires in sec 60 location u {0}'.format message id if not getattr local u ajax False local u locationelse return location 
def send msg app msg reply cls None reply multi False return app request event Send Msg Request msg msg reply cls reply cls reply multi reply multi 
def add path path config None log 'ddpath % path if not path return []added []parent os path if parent and os os path '  init  .py' added add path parent config elif not path in sys log 'insert%sintosys.path' path sys 0 path added path if config and config Dirs for dirname in config Dirs dirpath os path dirname if os dirpath sys 0 dirpath added dirpath return added 
def matrix dot *args rval args a in args ] rval theano rval a return rval 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def bpm from config config extra getattr config 'BOT EXTRA BACKEND DIR' [] return Specific Plugin Manager config 'backends' Err Bot CORE BACKENDS extra search dirs extra 
def  parse multi options options split token ' ' if options return [o.strip for o in options split token if o ]else return options 
def  get state pkg cmd ['opkg' 'status']cmd.append pkg out   salt  ['cmd.run'] cmd python shell False state flag ''for line in salt out '\n' if line 'tatus  status  state want state flag  state status line return state flag 
def  replace B R mo txt mo 0 return txt '<br>' ' '
def strip ccx val retval valccx id Noneif isinstance retval C C X Locator ccx id retval retval course locator elif isinstance retval C C X Block Usage Locator ccx id retval key retval block locator else for field name in XMODULE FIELDS WITH USAGE KEYS if hasattr retval field name stripped field value ccx id strip ccx getattr retval field name setattr retval field name stripped field value return retval ccx id 
def omniscient datetime *args d original datetime *args if settings U S E TZ d timezone aware d timezone return d 
def  make nxm   name   vendor   field   len None type None **kw if type is None type  nxm numeric entry else type  fix types type t  make type   vendor   field kw nxm type tif   len is not None kw nxm length   lenimport   builtin  typ   builtin  .typec typ   name tuple type kw  nxm type to class c nxm name to type  name tassert   name not in globals globals [  name creturn c 
def cart2sph z y x width len z elevation numpy [width width radius numpy [width width azimuth numpy [width width radius numpy x ** 2 + y ** 2 + z ** 2 azimuth numpy y x elevation numpy z numpy x ** 2 + y ** 2 azimuth * 180.0 / numpy elevation * 180.0 / numpy sphere numpy [elevation azimuth radius sphere numpy sphere 0 3 return sphere 
def to ascii input string return unicodedata 'NFKD' unicode input string .encode 'ascii' 'ignore'
def parse cost equation source constraints if 'cost' in constraints raise error 'morethanonecostequation' source source cost {}parse cost term source cost while source '+' parse cost term source cost max inc parse fuzzy compare source if max inc is None raise Parse Error max cost int parse count source if not max inc max cost - 1if max cost < 0 raise error 'badfuzzycostlimit' source source cost max costconstraints cost 
def test none transform sc Sky Coord 0 * u 1 * u sc arr Sky Coord 0 * u [1 2] * u sc2 sc to ICRS assert sc sc2 and sc sc2 sc5 sc to u assert sc5 sc2 to u .ra sc arr2 sc arr to ICRS sc arr5 sc arr to u npt array equal sc arr5 sc arr2 to u .ra
def LSTD values T R f Map discount Factor **kwargs stat Matrix stat Residual true Feature Stats T R f Map discount Factor **kwargs weights lstsq stat Matrix stat Residual [0]return dot weights f Map 
def create children store parent category load factor created count 0for child index in range load factor child object Item Factory parent location parent category category display name u category child index time modulestore store publish item True start datetime 2015 3 1 tzinfo UTC created count + 1if category in COURSE CHILD STRUCTURE created count + create children store child object COURSE CHILD S T R U C T U R E load factor return created count 
def get ref to error error return get ref to doc 'webapi2.0-error-%s' % error 
def web listing all files url count 0 max count None urls [] dirs files parse web listing url for f in files urls url + f count + 1if max count is not None and count > max count logger 'eachedmaximumlimitforthiscategory return urls count for d in dirs new urls count web listing all files url + d count max count urls + new urlsif max count is not None and count > max count breakreturn urls count 
def  get namespaces apiserver url name '' url '{0}/api/v1/namespaces/{1}'.format apiserver url name ret http url if ret 'body' return json ret 'body' else return None 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def root test return True 
def process value name value action A C T I O N S name if not action return valueif callable action return action value if action return bool int value return value 
def get Geometry Output By Connection connection End connection Start geometry Output xml Element first Value geometry Output [alue Start connection Startfirst Value End connection Endreturn solid Geometry Output By Manipulation geometry Output xml Element 
def teredo Addr Extract Info x addr inet pton socket A F INET6 x server inet ntop socket A F INET addr 8] flag struct '!H' addr 10] [0]mappedport struct '!H' strxor addr 12] '\xff' * 2 [0]mappedaddr inet ntop socket A F INET strxor addr 16] '\xff' * 4 return server flag mappedaddr mappedport 
def  get vm by id vmid all Details False for vm name vm details in six get resources vms include Config all Details if str vm details str vmid return vm detailslog ' Mwith I D vmid return False 
def resource path resource *elements return  join path tuple resource path tuple resource *elements
def match document topic None result key None result relative url '/ ah search result task queue 'default' result batch size DEFAULT RESULT BATCH SIZE result return document True from google import dbrequest prospective search pb Match Request if isinstance document db Model topic  get document topic document topic doc pb db to protobuf document if result return document request result python document class  doc class M O D E L elif isinstance document datastore Entity topic  get document topic document topic doc pb document To Pb if result return document request result python document class  doc class E N T I T Y else raise Document Type Error request topic topic request document .opy From doc pb if result key request result key result key request result relative url result relative url request result task queue result task queue request result batch size result batch size response prospective search pb Match Response  make sync call 'matcher' 'atch request response 
def fetch google uuid fetch url constants Urlfetch Test Identifiers G O O G L E U R Lreturn fetch fetch url 
def cleanup list wdir skip nzb if cfg list try files os wdir except files for filename in files path os wdir filename if os path cleanup list path skip nzb elif on cleanup list filename skip nzb try logging 'emovingunwantedfile path os path except logging T 'emoving clip path path logging 'raceback ' exc info True if files try remove dir wdir except pass 
def add Pixel To Pixel Table pixel Dictionary value x y pixel Dictionary Step Key x y ] value 
def fix frame records filenames records fixed records []for frame filename line no func name lines index in records filename py3compat unicode py2 filename 'utf-8' if not filename '.pyx' '.pxd' '.pxi' better fn frame globals '  file  ' None if isinstance better fn str filename better fnfixed records frame filename line no func name lines index return fixed records 
def suspend to disk set power state 'disk'
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def libvlc media subitems p md f  Cfunctions 'libvlc media subitems None or  Cfunction 'libvlc media subitems 1 class result Media List ctypes void p Media return f p md 
def  community defaults return {'mode' 'ro'}
def is Locked name l Filesystem Lock name result Nonetry result l finally if result l return not result 
def double nibble hex encoding t parts []for c in t x y  get nibbles c parts '%%%X%%%X' % ord x ord y return '%' + '%'.join parts 
def connect to cloud networks region None return  create client ep name 'compute network region region 
def askquestion title None message None **options return  show title message QUESTION YESNO **options
def test aws cf simple capsys tmpdir mocked aws cf simple info desc check success capsys tmpdir mocked aws cf simple assert info 'cloudformation' assert 'stack name in info assert 'region' in info assert 'access key id in info assert 'secret access key in info assert info name 'default' assert info with stack is False assert info key MOCK SSH KEY DATA assert info 'core' assert 'stack name in desc 
def get index key from params params if len params ! 5 and len params ! 4 raise Value Error 'adnumberofparams if params -1 ] is None key dbconstants K E Y D E L I M I T E R params -1 ] + dbconstants K E Y DELIMITER else key dbconstants K E Y D E L I M I T E R params return key 
def validate loop doctype name lft rgt if name in frappe list u %sandrgt> %s' % doctype u u lft rgt frappe _ u Itemcannotbeaddedtoitsowndescendents Nested Set Recursion Error 
def remaining start ends in now None relative True now now or datetime end date start + ends in if not relative end date delta resolution end date ends in return end date - now 
@keras testdef test masking layer I np 6 3 4 V np np 6 3 5 V / V axis -1 keepdims True model Sequential model Masking input shape 3 4 model recurrent L S T M output dim 5 return sequences True unroll False model loss 'categorical crossentropy optimizer 'adam' model I V nb epoch 1 batch size 100 verbose 1 model Sequential model Masking input shape 3 4 model recurrent L S T M output dim 5 return sequences True unroll True model loss 'categorical crossentropy optimizer 'adam' model I V nb epoch 1 batch size 100 verbose 1
def dict to json xcol ycols labels value columns json data dict json data [{'id' xcol 'label' as unicode labels 'type' 'string'}]for ycol in ycols json data {'id' ycol 'label' as unicode labels 'type' 'number'} json data []for value in value columns row {'c' []}if isinstance value datetime row {'v' str value } else row {'v' value for ycol in ycols if value row {'v' value else row {'v' 0} json data row return json data 
def get import stacklevel import hook py version sys info 2]if py version < 3 2 return 4 if import hook else 2 elif py version 3 3 return 8 if import hook else 10 elif py version 3 4 return 10 if import hook else 8 else return 4 if import hook else 2
def get vmdk create spec client factory size in kb adapter type 'ogic disk type 'preallocated' create vmdk spec client factory 'ns0 File Backed Virtual Disk Spec create vmdk spec Type adapter typecreate vmdk spec Type disk typecreate vmdk spec Kb size in kbreturn create vmdk spec 
def ensure container agent enabled node to enable d is container agent running node def change if needed enabled if enabled ! to enable return set container agent enabled on node node to enable d Callback change if needed return d 
def get bits flags reverse False bits 8 mybits 1 2 4 8 16 32 64 128 256 512 1024 2048 [ bits num 1if reverse rev num -1 ret array 'B' ret append ret bit in mybits rev num ret append flags & bit ! 0 return ret 
def delfacl acl type acl name '' *args **kwargs recursive kwargs 'recursive' False  raise on no files *args cmd 'setfacl'if recursive cmd + ' + '-x'cmd '{0}{1} {2}'.format cmd  acl prefix acl type acl name for dentry in args cmd + '"{0}"'.format dentry   salt  ['cmd.run'] cmd python shell False return True 
def atrous conv2d x kernel rate 1 border mode 'valid' dim ordering 'default' image shape None filter shape None if dim ordering 'default' dim ordering image dim ordering if dim ordering not in {'th' 'tf'} raise Value Error 'nknowndim ordering + str dim ordering if rate 1 return conv2d x kernel strides 1 1 border mode border mode dim ordering dim ordering x  preprocess conv2d input x dim ordering kernel  preprocess conv2d kernel kernel dim ordering padding  preprocess border mode border mode x tf conv2d x kernel rate padding return  postprocess conv2d output x dim ordering 
def add debugging monkeypatches from twisted import Serviceold start Service Service Serviceold stop Service Service Servicedef start Service self assert not self return old start Service self def stop Service self assert self old stop Service self Service Service start Service Service Service stop Serviceif twisted < 9 and sys info 2] 2 7 def nopatch self *args raise unittest Skip Test 'est Case unittest Test Case nopatch 
def  parse date hungarian date String m  hungarian date format re date String if not m or m 2 not in  hungarian months return Nonemonth  hungarian months 2 ]day m 3 if len day 1 day '0' + day hour m 4 if len hour 1 hour '0' + hour w3dtfdate '% year s month s day s T hour s % minute s zonediff s % {'year' m 1 'month' month 'day' day 'hour' hour 'minute' m 5 'zonediff' m 6 } return  parse date w3dtf w3dtfdate 
def test cube vertices filled outline create cube assert array equal np len vertices np filled assert array equal np len vertices np outline 
def vtk old global  vtk versionif  vtk version is None raise Runtime Exception u V T Kisnotcorrectlyinstalled return  vtk version < 6
def Pack Float name value pbvalue pbvalue doublevalue value 
def get type size param return TYPE L E N param 1
def  To Datastore Error err return  Datastore Exception From Error Code And Detail err error err detail 
def  calculate emissions emission probs emissions dict for state symbol in emission probs try emissions symbol except Key Error emissions [symbol]return emissions 
def cache permission func def wrapper user target object if user is None user User username appsettings A N O N Y M O U S USER NAME if target object is None obj key Noneelse obj key target object full slug if not hasattr user 'acl permissions cache user permissions cache {}key func  name   obj key if key not in user permissions cache user permissions cache func user target object return user permissions cache wrapper 
def make loopback control client test case reactor control amp service build control amp service test case reactor reactor client Loopback A M P Client command locator Control A M P reactor control amp service .locator return control amp service client 
def class option argument if argument is None raise Value Error 'argumentrequiredbutnonesupplied' names argument class names []for name in names class name nodes id name if not class name raise Value Error 'cannotmake"%s"intoaclassname' % name class names class name return class names 
def  zero mantissa dval bb  double as bytes dval return bb & 15 | reduce operator  bb ] 0
def globfind directory pattern blacklist STD BLACKLIST for curdir dirnames filenames in os directory  handle blacklist blacklist dirnames filenames for fname in fnmatch filenames pattern yield join curdir fname 
def test line line Line rng [8 12 23 73 39 57]line.add 'ingleserie rng line 'neserie line pyquery assert len q '.axis.x' 0 assert len q '.axis.y' 1 assert len q '.plot.seriespath' 1 assert len q '.x.axis.guides' 0 assert len q '.y.axis.guides' 7
def add empty vol in file out file None import nibabel as nbimport os as opimport numpy as npimport mathif out file is None fname fext op op in file if fext u fname _ op fname out file op u 4 % fname im nb in file zim nb Nifti1 Image np like im data im im nb images [im zim .to filename out file return out file 
def should stage conflicts path title msg N  u Stageconflicts info N  u Youshouldprobablyskipthisfile Stageitanyways % path ok text N  u Stageconflicts cancel text N  u Skip return Interaction title msg info ok text default False cancel text cancel text 
def  Get Model Type For List Property Type property type from google import db LISTPROPERTY TYPE TO SCHEMA ENTRY {basestring db String Property str db String Property unicode db String Property bool db Boolean Property int db Integer Property float db Float Property db Text db Text Property  LISTPROPERTY TYPE TO SCHEMA E N T R Y property type None 
def specificity classify lambda document False documents [] TP TN FP FN confusion matrix classify documents return float TN / TN + FP or 1
def spherical to cartesian r lat lon if not hasattr r u r r * u unscaled if not hasattr lat u lat lat * u if not hasattr lon u lon lon * u sph Spherical Representation distance r lat lat lon lon cart sph as Cartesian Representation return cart cart cart 
def has field model fieldname mapper sqlalchemy inspect model descriptors mapper orm descriptorsif fieldname not in descriptors return Falsefield descriptors hasattr field 'fset' return field is not None return not callable getattr model fieldname 
def make toplevel master title None class  None if class  widget Toplevel master class  class  else widget Toplevel master if title widget title widget title return widget 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def move subscription remove users source event source node new event new node Notification Subscription apps model 'otification Subscription O S F User apps model ' S F User if source node new node returnold sub Notification Subscription to subscription key source node id source event if not old sub returnelif old sub old sub id to subscription key new node id new event old sub name new eventold sub new nodenew sub old subnew sub for notification type in constants N O T I F I C A T I O N TYPES if new sub for user id in remove users type related manager getattr new sub notification type None subscriptions related manager if related manager else [] if user id in subscriptions user O S F User user id new sub user from subscription user 
def test dpsswavelet freqs np 5 25 3 Ws  make dpss 1000 freqs freqs n cycles freqs / 2.0 time bandwidth 4.0 zero mean True assert true len Ws 3 assert true np np np Ws < 1e-05 assert true len Ws len freqs 
def average gradients tower grads average grads []for grad and vars in zip *tower grads grads []for g _ in grad and vars expanded g tf dims g 0 grads expanded g grad tf v2 grads 0 grad tf mean grad 0 v grad and vars and var grad v average grads grad and var return average grads 
@skip 'silverlight' @skip 'netstandard' def test multiple inheritance clr Add Reference 'ystem Windows Forms class foo System Windows Forms Form System Windows Forms Control pass 
def registry cache filename cache dir config dir default os cache dir 'registry-cache.pck' cache filename config 'registry.registry-cache' default dirname os cache filename if not os dirname log 'reatingdirectory dirname os dirname return cache filename 
def get expired sessions expired []for device in u u expired + frappe list u Sessions DCTB DCTB DCTB DCTB where T I M E D I F F NOW lastupdate >TIME %s \n DCTB DCTB DCTB DCTB anddevice %s' get expiry period device device return expired 
def tag Test tag comment None return getattr pytest tag 
def split first s delims min idx Nonemin delim Nonefor d in delims idx s d if idx < 0 continueif min idx is None or idx < min idx min idx idxmin delim dif min idx is None or min idx < 0 return s '' None return s min idx s min idx + 1 ] min delim 
def solve undetermined coeffs equ coeffs sym **flags if isinstance equ Equality equ equ - equ equ cancel equ .as numer denom [0]system list collect equ sym evaluate False .values if not any equ sym for equ in system return solve system *coeffs **flags else return None 
def remove headers from response response *headers response headers headers 
def get merge commit commit branch u commit range u commit branch ancestry paths git list commit range ancestry path True .splitlines first parents git list commit range first parent True .splitlines both set ancestry paths & set first parents for commit hash in reversed ancestry paths if commit hash in both return repo commit hash msg u Nomergecommitfor commit commit branch branch raise Does Not Exist msg commit branch 
def get profile model if not getattr settings u A C C O U N T S PROFILE MODEL' None raise Profile Not Configuredtry return apps model settings A C C O U N T S PROFILE MODEL except Value Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lmustbeoftheform label name except Lookup Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lreferstomodel % settings A C C O U N T S PROFILE MODEL
def replace In File filename old To New os filename filename + '.bak' f open filename + '.bak' d f f for k v in old To New d d k v f open filename + '.new' 'w' f d f os filename + '.new' filename os filename + '.bak'
@control command def election state id topic action None **kwargs if state state id topic action 
def test require virtualenv from fabtools import virtualenvtry virtualenv '/tmp/venv' assert is dir '/tmp/venv' assert is file '/tmp/venv/bin/python' finally run 'rm-rf/tmp/venv'
def uninstall pkg user None env None cmd ['ghc-pkgunregister']cmd.append '"{0}"'.format pkg result   salt  ['cmd.run all ''.join cmd runas user env env if result ! 0 raise Command Execution Error result return result 
def  get number of subtasks total num items items per task num subtasks remainder divmod total num items items per task if remainder num subtasks + 1return num subtasks 
def get duplicate provider messages social auth messages [m for m in messages if m 'isalreadyinuse.' ]if not social auth messages returnassert len social auth messages 1 backend name social auth messages tags [1]return backend name 
def libtree lib root Node {} {} for item in lib dest item fragment True parts util dest  insert root parts item return root 
def stop gradient variables return theano grad variables 
def get db ips return list set [get db master ip ] + get db slave ips 
def ca exists ca name cacert path None ca filename None set ca path cacert path if not ca filename ca filename '{0} ca cert ca name certp '{0}/{1}/{2}.crt'.format cert base path ca name ca filename if os certp maybe fix ssl version ca name cacert path cacert path ca filename ca filename return Truereturn False 
def correspond Z Y is valid linkage Z throw True distance valid y Y throw True Z np Z order 'c' Y np Y order 'c' return distance obs y Y num obs linkage Z
def rowwise rank array mask None return argsort argsort array 
def add array array large array small position if all large shape > small shape for large shape small shape in zip array large array small large slices small slices overlap slices array large array small position array large slices + array small slices array largeelse raise Value Error u Can Smallarraytoolarge 
def apphook post delete title checker instance **kwargs from cms import invalidate cms page cacheinvalidate cms page cache if instance urls request finished trigger restart dispatch uid DISPATCH UID
def list  profile 'splunk' client  get splunk profile searches [x['name'] for x in client searches searches 
def color triple color if color '#' and len color 4 return int color 16 int color 16 int color 16 if color '#' and len color 7 return int color 3] 16 int color 5] 16 int color 7] 16 elif color '#' and len color 13 return int color 5] 16 int color 9] 16 int color 13] 16
def  Needs Indexes func def Update Indexes Wrapper self *args **kwargs self Setup Indexes try return func self *args **kwargs finally self Update Indexes return Update Indexes Wrapper 
def verify username strategy backend details user None **kwargs if not user and u in details if User username  iexact details .exists raise Auth Already Associated backend _ u Thisusernameisalreadytaken Pleasechooseanother 
def t two sample a b tails 'two-sided' exp diff 0 if len a 1 or len b 1 if len a < len b t p t one observation a b tails exp diff else t p t one observation b a tails exp diff return t p t _ ttest ind asarray a - exp diff asarray b axis 0 equal var True if isnan t or isinf t return nan nan p tprob t len a + len b - 2.0 tails return float t p 
def deprecated version of f oldname newname None if newname is None newname f  name  warning 'hefunction Pleaseusethenewname ``%s`` instead % oldname newname def fdepr *a **kw warnings 'ovie Py ' + warning Pending Deprecation Warning return f *a **kw fdepr  doc   warningreturn fdepr 
def sensitive post parameters *parameters def decorator view @functools.wraps view def sensitive post parameters wrapper request *args **kwargs assert isinstance request Http Request "sensitive post parametersdidn Http Request Ifyouaredecoratingaclassmethod besuretouse decorator parameters request post parameters parameterselse request post parameters '  ALL  'return view request *args **kwargs return sensitive post parameters wrapperreturn decorator 
def get Limit Range count plus One False ret Val Nonecount int count limit Start limit Stop 1 count if isinstance conf Stop int and conf Stop > 0 and conf Stop < limit Stop limit Stop conf Stopif isinstance conf Start int and conf Start > 0 and conf Start < limit Stop limit Start conf Startret Val xrange limit Start limit Stop + 1 if plus One else xrange limit Start - 1 limit Stop return ret Val 
def get current date time zone 'local' increment 0 result format 'timestamp' exclude millis False if time zone 'LOCAL' dt datetime elif time zone 'UTC' dt datetime else raise Value Error "nsupportedtimezone % time zone date Date dt + Time increment return date result format millis is falsy exclude millis 
def wotan2universal token tag if tag 'dv return token ADV return penntreebank2universal *wotan2penntreebank token tag 
def test slice setslice forbidden global set Valclass foo def   setslice   self i j value global set Valset Val i j value def   setitem   self index value global set Valset Val index value foo [ None 2re Equal set Val slice None None None 23 foo [ None 2re Equal set Val slice None None None 23
def equate Points points prefix revolutions xml Element equate Vertexes By Function equate Cylindrical points prefix revolutions xml Element equate Vertexes By Function equate Cylindrical Dot Azimuth points prefix revolutions xml Element equate Vertexes By Function equate Cylindrical Dot Radius points prefix revolutions xml Element equate Vertexes By Function equate Cylindrical Dot Z points prefix revolutions xml Element equate Vertexes By Function equate Polar points prefix revolutions xml Element equate Vertexes By Function equate Polar Dot Azimuth points prefix revolutions xml Element equate Vertexes By Function equate Polar Dot Radius points prefix revolutions xml Element equate Vertexes By Function equate Rectangular points prefix revolutions xml Element equate Vertexes By Function equate Rectangular Dot X points prefix revolutions xml Element equate Vertexes By Function equate Rectangular Dot Y points prefix revolutions xml Element equate Vertexes By Function equate Rectangular Dot Z points prefix revolutions xml Element equate Vertexes By Function equate Spherical points prefix revolutions xml Element equate Vertexes By Function equate Spherical Dot Azimuth points prefix revolutions xml Element equate Vertexes By Function equate Spherical Dot Elevation points prefix revolutions xml Element equate Vertexes By Function equate Spherical Dot Radius points prefix revolutions xml Element 
def register admin widget widget cls primary False widget id widget cls idif not widget id raise Value Error u Thewidget idattributemustbeseton % widget cls if widget cls in primary widgets or widget cls in secondary widgets raise Key Error u % widget id if primary primary widgets widget cls else secondary widgets widget cls 
def test goto definition not multiple s dedent ' \ndef  init   self a \nself.a 3\n\ndeffoo self \npass\n\nifrandom.randint 0 1 \na A 2 \nelse \na A 1 \na' assert len api Script s .goto definitions 1
def set field java object field name value command part get command part value java object gateway client property command proto F I E L D COMMAND NAME + proto F I E L D SET SUBCOMMAND NAME + java object target id + u + field name + u + command part + u + proto E N D COMMAND PART answer java object gateway client command command if answer proto N O MEMBER COMMAND or is error answer [0] raise Py4 J Error u field name java object target id return get return value answer java object gateway client java object target id field name 
def render in context context template text html intent False env Sandboxed Environment autoescape html intent template env string template text return template context variables 
def tosequence x if isinstance x np return np x elif isinstance x Sequence return xelse return list x 
def  tool from string name known tools sorted  known tools if name in known tools tool fn  known tools isinstance tool fn string types tool fn  known tools fn tool fn else matches text difflib close matches name known tools 'similar' if not matches matches text known tools 'possible' raise Value Error "unexpectedtoolname'%s' %stoolsare%s" % name text nice join matches 
def get document json document return json {u'id' document u document u document u link reverse u edit args document }
def upload exec summary to store data dict report name course id generated at config name 'FINANCIAL REPORTS' report store Report Store config config name output buffer String I O render to string 'instructor/instructor dashboard 2/executive summary data dict report store course id u prefix {report name {timestamp str course prefix course filename prefix generator course id report name report name timestamp str generated at ' H M output buffer tracker REPORT REQUESTED EVENT NAME {'report type report name 
def test class assign class x object def set self value Assert Unreachable prop property lambda x 42 set x 4re Equal x  dict  ['prop'] 42
def check major version api version available versions get available major versions if not api version null and str api version major not in available versions if len available versions 1 msg _ "nvalidclientversion version s Majorpartshouldbe major s % {'version' api version string 'major' available versions else msg _ "nvalidclientversion version s Majorpartmustbeoneof '% major s % {'version' api version string 'major' ' '.join available versions } raise exceptions Unsupported Version msg 
def soft delete aware query context *args **kwargs query context *args show deleted kwargs 'show deleted or context deleted if not show deleted query query by deleted at None return query 
def test Log Locator set params loc mticker Log Locator loc params numticks 7 numdecs 8 subs [2.0] base 4 assert loc 7 assert loc 8 assert loc base 4 assert list loc subs [2.0]
def DW matrices graph W nx scipy sparse matrix graph format 'csc' entries W axis 0 D sparse matrix entries 0 shape W .tocsc return D W
def get Geometry Output derivation xml Element if derivation None derivation Shaft Derivation derivation To X M L Element xml Element shaft Path get Shaft Path derivation Bottom derivation Top derivation derivation return lineation Geometry Output By Loop lineation Side Loop shaft Path xml Element 
def application icon path pkg resources filename   name   'icons/orange-canvas.svg' return Q Icon path 
def read plain int64 file obj count return struct '<{0}q'.format count .encode u file obj 8 * count 
def Any s result Code Ranges chars to ranges s result 'ny %s ' % repr s return result 
@utils.decoratordef non transactional func args kwds allow existing True from . import taskletsctx tasklets context if not ctx transaction return func *args **kwds if not allow existing raise datastore errors Bad Request Error '%scannotbecalledwithinatransaction.' % func  name   save ctx ctxwhile ctx transaction ctx ctx parent contextif ctx is None raise datastore errors Bad Request Error 'ontextwithoutnon save ds conn datastore Get Connection try if hasattr save ctx ' old ds conn datastore Set Connection save ctx old ds conn tasklets context ctx return func *args **kwds finally tasklets context save ctx datastore Set Connection save ds conn 
def get messages from report name report frappe doc u Report name messages  get messages from page or report u Report name frappe value u Doc Type report doctype u if report messages [ None message for message in re u [^ ^"]* ' report if is translatable message ] messages None report name return messages 
def test convolutional network skip if no data yaml file path os os os   file   '..' save path os os   file   save path '\\' '\\\\' yaml open '{0}/conv.yaml'.format yaml file path 'r' .read hyper params {'train stop 50 'valid stop 50050 'test stop 50 'batch size 50 'output channels h2 4 'output channels h3 4 'max epochs 1 'save path save path yaml % hyper params train yaml parse yaml train loop try os '{}/convolutional network best save path except O S Error pass 
def format option value optdict value if isinstance value list tuple value ' '.join value elif isinstance value dict value ' '.join [ '%s %s' % k v for k v in value ] elif hasattr value 'match' value value optdict 'type' 'yn' value value and 'yes' or 'no' elif isinstance value string types and value value "'%s'" % value elif optdict 'type' 'time' and isinstance value float int long value format time value elif optdict 'type' 'bytes' and hasattr value '  int  ' value format bytes value return value 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def validate non negative integer option value val validate integer option value if val < 0 raise Value Error 'hevalueof % option return val 
def lpn n z if not isscalar n and isscalar z raise Value Error 'argumentsmustbescalars.' if n ! floor n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n < 1 n1 1else n1 nif iscomplex z pn pd specfun n1 z else pn pd specfun n1 z return pn n + 1 ] pd n + 1 ]
def setup scanner hass config see devices config C O N F D E V I C E S config C O N F Q O S id lookup {}def device tracker message received topic payload qos ' Q T Tmessagereceived dev id dev id lookup location name payload for dev id topic in devices dev id lookup dev idmqtt hass topic device tracker message received qos return True 
def validate password dictionary value password max edit distance getattr settings 'PASSWORD DICTIONARY EDIT DISTANCE THRESHOLD' None password dictionary getattr settings 'PASSWORD DICTIONARY' None if password max edit distance and password dictionary for word in password dictionary distance nltk distance value word if distance < password max edit distance raise Validation Error _ 'oosimilartoarestricteddictionaryword code 'dictionary word 
def getch try import msvcrtreturn msvcrt except Import Error import sysimport ttyimport termiosfd sys old settings termios fd try tty sys ch sys 1 finally termios fd termios T C S A D R A I N old settings return ch 
def get country time zones country code None if country code is None return  get sorted time zone list common timezones if country code in set countries codes return  get sorted time zone list country timezones country code raise Country Code Error 
def  same filesystem path1 path2 return os path1 .st dev os path2 .st dev 
def test timeit return res  ip line magic 'timeit' '-n10-r10-o1' assert res is not None 
def encode polyline points last lat last lng 0result ''for point in points ll normalize lat lng point lat int round ll * 100000.0 lng int round ll * 100000.0 d lat lat - last lat d lng lng - last lng for v in [d lat d lng v ~ v << 1 if v < 0 else v << 1 while v > 32 result + chr 32 | v & 31 + 63 v >> 5result + chr v + 63 last lat latlast lng lngreturn result 
def xydist p1 0.0 0.0 p2 0.0 0.0 return numpy pow p1 - p2 2 + pow p1 - p2 2
def get shared doctype user None rights None if not user user frappe not rights rights [u'read']condition u [u'`{0}` 1'.format right for right in rights return frappe list u namefromtab Doc Share DCTB DCTB where user %s{everyone} andshare doctype %sand{condition}'.format condition condition everyone u 1' if user ! u Guest else u user doctype 
def cleanup test name name strip tags True strip scenarios False if strip tags tags start name '[' tags end name ']' if tags start > 0 and tags end > tags start newname name tags start + name tags end + 1 ]name newnameif strip scenarios tags start name ' ' tags end name ' ' if tags start > 0 and tags end > tags start newname name tags start + name tags end + 1 ]name newnamereturn name 
def make view context builder aryty ary return type data shapes strides retary make array return type context builder populate array retary data data shape shapes strides strides itemsize ary meminfo ary parent ary return retary 
def check title slugs page for title in page set old slug old path title title title get available slug title if title ! old slug or title ! old path title 
def dup copy f return list f 
def set virt bridge self vbridge if vbridge is None or vbridge '' vbridge self virt bridgeself bridge vbridge 
def find template variables code return re re template var code 
def make Centered data return data - data axis 0
def compute jac scale J scale inv old None if issparse J scale inv np J 2 .sum axis 0 .ravel ** 0.5 else scale inv np J ** 2 axis 0 ** 0.5 if scale inv old is None scale inv scale inv 0 ] 1else scale inv np scale inv scale inv old return 1 / scale inv scale inv 
def test min informative str A tensor name 'A' B tensor name 'B' C A + B C 'C'D tensor name 'D' E tensor name 'E' F D + E G C + F mis min informative str G .replace ' DCTB ' '' reference ' Elemwise no inplace B C C Elemwise no inplace D D E E mis ! reference print '--' + mis + '--' print '--' + reference + '--' assert mis reference 
def keypair list profile None conn  auth profile return conn list 
def mult align sum dict align dict mult align dict {}for j in align dict 1 .pos align dict mult align dict ''for i in range 1 len align dict + 1 for j in align dict i .pos align dict mult align dict + align dict i .pos align dict Alphabet Gapped Alphabet I U P A C protein fssp align Multiple Seq Alignment [] alphabet alpha for i in sorted mult align dict fssp align Seq Record Seq mult align dict alpha sum dict + sum dict return fssp align 
def commonfooter request messages None is mobile False if messages is None messages {}hue settings Settings settings template 'common footer is mobile template 'common footer m django mako to string template {'request' request 'messages' messages 'version' hue version 'collect usage collect usage 'tours and tutorials hue settings and tutorials 
@pytest.mark.slow@pytest.mark.models@pytest.mark.parametrize u expected sents TEST CASES def test parser sbd prag EN text expected sents doc EN text sents []for sent in doc sents u doc for i in range sent sent .strip assert sents expected sents 
def empty and escape value if value is None return ''else return escape value 
def  find splitting points expr x p q [ild n exclude [x] for n in 'pq']def compute innermost expr res if not isinstance expr Expr returnm expr p * x + q if m and m ! 0 res - m / m returnif expr Atom returnfor arg in expr compute innermost arg res innermost set compute innermost expr innermost return innermost 
def get file spec global file specif file spec is None if sys info 3 import  iofile spec list set dir  io Text I O Wrapper .union set dir  io Bytes I O else file spec file 
def encode number as hex num num bytes hex num [2 ].upper nlen len num if nlen % 2 ! 0 num '0' + num return encode string num 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def create cache security group name description region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile created conn cache security group name description if created log 'reatedcachesecuritygroup name return Trueelse msg 'ailedtocreatecachesecuritygroup name log msg return False 
def specialization signature string fused compound type fused to specific fused types fused compound type fused types if len fused types 1 fused type fused types fused type fused compound typereturn fused type fused to specific .typeof name 
def pre Build site optimize site 'optimize' [] if 'js' in optimize site manager optimizer Closure J S Optimizer if 'css' in optimize site manager optimizer Y U I C S S Optimizer 
def load data and labels positive data file negative data file positive examples list open positive data file 'r' .readlines positive examples [s.strip for s in positive examples examples list open negative data file 'r' .readlines negative examples [s.strip for s in negative examples text positive examples + negative examples x text [clean str sent for sent in x text labels [[0 1] for _ in positive examples labels [[1 0] for _ in negative examples np [positive labels negative labels 0 return [x text y 
def string similarity string1 string2 vocabulary set list string1 + string2 vec1 [string1.count v for v in vocabulary [string2.count v for v in vocabulary return float sum vec1 * vec2 for i in range len vocabulary / math sum v1 ** 2 for v1 in vec1 * math sum v2 ** 2 for v2 in vec2 except Zero Division Error return 0
def basedir def *args return os '$pybasedir' *args
def devname pcap name return ifaces pcap name 
def  section metrics course access course key course data {'section key 'metrics' 'section display name _ 'etrics 'access' access 'course id unicode course key 'sub section display name get section display name course key 'section has problem get array section has problem course key 'get students opened subsection url reverse 'get students opened subsection 'get students problem grades url reverse 'get students problem grades 'post metrics data csv url reverse 'post metrics data csv }return section data 
def json iso dttm ser obj val base json conv obj if val is not None return valif isinstance obj datetime obj obj elif isinstance obj date obj obj elif isinstance obj time obj obj else raise Type Error u Unserializableobject obj type obj return obj 
def  Skip Length Delimited buffer pos end size pos  Decode Varint buffer pos pos + sizeif pos > end raise  Decode Error 'runcatedmessage return pos 
def get table list cursor cursor 'SELECTTABLE NAMEFROMUSER TABLES' return [row[0] for row in cursor ]
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def form view with template request if request 'POST' form Test Form request P O S T if form valid message ' O S Tdata O K message ' O S Tdatahaserrors form Test Form message ' E Tformpage render request 'form view {'form' form 'message' message 
def clean filename filename split fname filename '.' 1 split fname FILENAME T O K E Nreturn '.'.join split fname 
def add offsetboxes ax size 10 margin 0.1 color u m mp margin 1 + margin anchor points [ - m - m - m 0.5 - m mp mp 0.5 0.5 mp mp mp 0.5 - m mp - m 0.5 - m ]for point in anchor points da Drawing Area size size background Rectangle 0 0 width size height size facecolor color edgecolor u None linewidth 0 antialiased False da artist background anchored box Anchored Offsetbox loc 10 child da pad 0.0 frameon False bbox to anchor point bbox transform ax Axes borderpad 0.0 ax artist anchored box return anchored box 
def assert mask matches arr expected mask mask np arr assert equal mask expected mask 
def cpuid attrs None where None return  osquery cmd table 'cpuid' attrs attrs where where 
def pid by name name def match p if p 'zombie' return Falseif p name return Truetry if p name return Trueexcept Exception passreturn Falseprocesses p for p in psutil iter if match p processes sorted processes key lambda p p time return list reversed [p.pid for p in processes 
def  validate interface option attr value addrfam 'inet' valid  value errmsg False value 'nknownvalidator attrmaps A T T R M A P S addrfam [] for attrmap in attrmaps if attr in attrmap validate func attrmap valid  value errmsg validate func value breakreturn valid  value errmsg 
def count pingbacks handler sender **kwargs entry kwargs count F 'pingback count + 1 entry update fields ['pingback count 
def find matching headers name headers return [h for h in headers if h name ]
def simplify mul tree neg inputs treeif isinstance inputs list s inputs []for s i in imap simplify mul inputs if s i is None neg ^ s i s inputs s i if not s inputs rval [neg None len s inputs 1 s inputs ^ negrval s inputs rval [neg s inputs rval treereturn rval 
def get indent fix text indent chars '' * 4 tab stop width spaces 4 sol False app qapplication editor Code Editor parent None editor editor language 'ython indent chars indent chars tab stop width spaces tab stop width spaces editor text text cursor editor Cursor cursor Position Q Text Cursor End if sol lines text True repeat len lines -1 ].lstrip cursor Position Q Text Cursor Left n repeat editor Text Cursor cursor editor indent return to text string editor Plain Text 
def convert vif model name if name network model V I F MODEL E1000 return 'irtual E1000 name network model V I F MODEL E1000E return 'irtual E1000e name network model V I F MODEL PCNET return 'irtual P C Net32 name network model V I F MODEL SRIOV return 'irtual Sriov Ethernet Card name network model V I F MODEL VMXNET return 'irtual Vmxnet name network model V I F MODEL VMXNET3 return 'irtual Vmxnet3 name not in ALL SUPPORTED NETWORK DEVICES msg _ '%sisnotsupported.' % name raise exception Invalid msg return name 
def gcd *a if len a > 1 return reduce gcd2 a if hasattr a '  iter  ' return reduce gcd2 a return a 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def validate power type power type power types get power types if not power types raise CX 'youneedtohavefence-agentsinstalled' if power type not in power types raise CX 'powermanagementtypemustbeoneof %s' % ' '.join power types 
def get qual stats qual bins score min ave bins []std dev bins []total bases bins []found first poor qual pos Falsesuggested trunc pos Nonefor base position in qual bins total bases bins len base position std dev bins std base position ave bins average base position if not found first poor qual pos if average base position < score min suggested trunc pos qual bins base position found first poor qual pos Truereturn ave bins std dev bins total bases bins suggested trunc pos 
def find Biggest root if root is None return rootelse return find Biggest root 
def setup worker optimizations app hostname None global trace task rethostname hostname or gethostname  install stack protection app current app default app  localized ] [app. tasks prepare accept content app content hostname task ret  fast trace taskfrom celery import request as request modulerequest module task ret  fast trace taskrequest module  optimize  
def arbitrary element iterable if is iterator iterable raise Value Error 'cannotreturnanarbitraryitemfromaniterator' return next iter iterable 
def get print name node simple form True name node hasattr node u interface pkglist node interface  class  .  module  .split u interface node interface  class  .  name  destclass u len pkglist > 2 destclass u % pkglist if simple form name node + destclass else name u [node.fullname interface + destclass if simple form parts name u if len parts > 2 return u '.join parts ] + u ' elif len parts 2 return parts name 
def  assert all finite X X np X if X in np All Float and not np X and not np X .all raise Value Error 'nputcontains Na N infinityoravaluetoolargefor % X 
def test voigt model m models Voigt1 D x 0 5 amplitude L 10 fwhm L 0.5 fwhm G 0.9 x np 0 10 0.01 y m x assert y y 
def  parse schema resource info if 'fields' not in info return Noneschema []for r field in info name r field type r field r field 'mode' 'NULLABLE' description r field 'description' sub fields  parse schema resource r field schema Schema Field name field type mode description sub fields return schema 
def modeladmin register modeladmin class instance modeladmin class instance with wagtail 
def slices indices indices list sorted indices if indices first last indices i in indices ] if i last + 1 last ielse yield first last + 1 first last i yield first last + 1
def  get codegen obj if isinstance obj Base Context return obj elif isinstance obj Code Library return obj isinstance obj Compile Result return obj context else raise Type Error type obj 
def  initialise bot Bridge Instance bot 'samplebridge' Incoming Messages 
def load key bindings for prompt **kw kw u abort and exit bindings True kw u search True kw u auto suggest bindings True return load key bindings **kw
def  falling factorial x n val 1for k in range x - n + 1 x + 1 val * kreturn val 
def Get Module For C L S I D clsid clsid str str clsid try typelib C L S I D lcid major minor clsid To Typelib str Key Error return Nonetry mod Get Module For Typelib typelib C L S I D lcid major minor except Import Error mod Noneif mod is not None sub mod mod C L S I D To Package Map clsid str if sub mod is None sub mod mod V Tables To Package Map clsid str if sub mod is not None sub mod name mod  name   + '.' + sub mod try   import   sub mod name except Import Error info typelib C L S I D lcid major minor if info in demand Generated Type Libraries info demand Generated Type Libraries makepymakepy Generate Child From Type Lib Spec sub mod info mod sys mod name mod 
def  Check Field Names names for name in names  Check Field Name name return names 
def  flash encryption tweak range flash crypt config 15 tweak range []if flash crypt config & 1 ! 0 tweak range + range 67 if flash crypt config & 2 ! 0 tweak range + range 67 132 if flash crypt config & 4 ! 0 tweak range + range 132 195 if flash crypt config & 8 ! 0 tweak range + range 195 256 return tweak range 
def pport Select state global ctrl Regif state 0 ctrl Reg ctrl Reg | 8 else ctrl Reg ctrl Reg & ~ 8 port Dl Port Write Port Uchar ctrl Reg Adrs ctrl Reg 
def  Compute O T P secret t h hmac base64 secret struct '>Q' t hashlib hash h offset struct 'B' hash -1 ] [0] & 15 truncated hash struct '>I' hash offset + 4 ] [0]truncated hash & 2147483647truncated hash %  VERIFY M O D U L U Sreturn truncated hash 
def proxied attribute local attr proxied attr doc def fget self return getattr getattr self local attr proxied attr def fset self value setattr getattr self local attr proxied attr value def fdel self delattr getattr self local attr proxied attr return property fget fset fdel doc 
def Content Length Rewriter response request headers env dict if env dict and env dict 'REQUEST METHOD' '' 'HEAD' returnif response code ! httplib N O T MODIFIED response Content Length str  Remaining Data Size response elif 'ontent Length in response del response Content Length 
def  create Dataset num Sequences original Sequences relative Frequencies data Set [ummulative Frequencies numpy relative Frequencies for _ in xrange num Sequences which Sequence numpy training Cummulative Frequencies  R G E N sample data Set original Sequences Sequence return data Set 
def  New Fields From Pb field list return [ New Field From Pb f for f in field list 
def test bad setv cant compile u setvif ' cant compile u setv ab [12] '
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def register linter linter checker Exceptions Checker linter 
def validator data dict return { 'otherkey' 'othervalue'}
@hgcommanddef sync ui repo **opts if codereview disabled raise hg util Abort codereview disabled if not opts if hg incoming ui repo err hg pull ui repo update True else err hg update ui repo if err return errsync changes ui repo 
def  received message pb to mapping received message pb return {d received message pb id 'message'  message pb to mapping received message pb }
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def  Clear User History  history 
def permanent delete fid url build url RESOURCE id fid route 'permanent delete return request 'delete' url 
def graph atlas i if not 0 < i < NUM GRAPHS raise Value Error 'indexmustbebetween0and{}'.format NUM GRAPHS return next islice  generate graphs i None 
def add wildcards arg if not arg u arg u + arg if not arg u arg arg + u return arg 
def is Point Added Around Closest pixel Table layer Extrusion Width paths removed Endpoint Point width closest Distance Squared 1ath Index Nonefor path Index in xrange len paths path paths Index point Index in xrange len path point path Index Squared abs point - removed Endpoint Point if distance Squared < closest Distance Squared closest Distance Squared distance Squaredclosest Path Index path Indexif closest Path Index None returnif closest Distance Squared < 0.8 * layer Extrusion Width * layer Extrusion Width returnclosest Path paths Path Index Point Index get With Least Length closest Path removed Endpoint Point if is Added Point On Path Free closest Path pixel Table removed Endpoint Point closest Point Index width add Point On Path closest Path closest Path Index pixel Table removed Endpoint Point closest Point Index width return Truereturn is Side Point Added pixel Table closest Path closest Path Index closest Point Index layer Extrusion Width removed Endpoint Point width 
def markup description description if apply markdown description apply markdown description else description escape description .replace u u description u + description + u return mark safe description 
def  load libzmq import sys ctypes platformdlopen hasattr sys 'getdlopenflags' if dlopen dlflags sys sys ctypes R T L D GLOBAL | dlflags try from . import libzmqexcept Import Error passelse globals [' libzmq libzmqif platform implementation .lower 'pypy' ctypes C D L L libzmq  file   ctypes R T L D GLOBAL finally if dlopen sys dlflags 
def approx equal a b epsilon EPSILON return abs a - b < epsilon 
def textfile to semi redundant sequences path seq maxlen 25 redun step 3 to lower case False pre defined char idx None text open path .read if to lower case text text return string to semi redundant sequences text seq maxlen redun step pre defined char idx 
def proportions ztost count nobs low upp prop var 'sample' if prop var 'limits' prop var low lowprop var upp uppelif prop var 'sample' prop var low prop var upp Falseelif prop var 'null' prop var low prop var upp 0.5 * low + upp elif np prop var prop var low prop var upp prop vartt1 proportions ztest count nobs alternative 'larger' prop var prop var low value low tt2 proportions ztest count nobs alternative 'smaller' prop var prop var upp value upp return np tt1 tt2 tt1 tt2 
def num2julian n if cbook n n np n return n - 1721425.5
def sign blob bytes to sign deadline None rpc create rpc deadline make sign blob call rpc bytes to sign rpc return rpc result 
def style change check request path authorized Trueif request 'POST' if not request authenticated authorized Falseif request 'PUT' if path 'rest/layers' authorized Trueelse style name os request [0].split '/' [ -1 ]try style Style name style name for layer in style styles if not request perm 'change layer style obj layer authorized Falseexcept authorized Falselogger 'hereisnotastylewithsuchaname %s.' % style name return authorized 
def  parse composites fh d {}for line in fh line line if not line continueif line 'nd Composites return dvals line ';' cc vals name num Parts cc  to int cc pcc Parts []for s in vals -1 ] pcc s name dx dy pcc  to float pcc  to float pcc pcc Parts name dx dy d pcc Partsraise Runtime Error u Badcompositesparse 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def f32 as int32 builder val assert val Type return builder val Type 32
def check http server host port req get 'http //{host} {port}'.format host host port port timeout SOCKET TIMEOUT FOR POLLING persistent False def failed failure return Falsedef succeeded result return Truereq Callbacks succeeded failed return req 
def cc library config append None **kwargs blade config config 'cc library config append kwargs 
def make events add nulls def gen date interleavings for e1 e2 t1 t2 in product * [critical dates * 4 if e1 < e2 yield e1 e2 t1 t2 event frames []for sid e1 e2 t1 t2 in enumerate gen date interleavings event frames make events for sid sid [e1 e2 [t1 t2 if add nulls for date in critical dates event frames make null event date events np sid + 1 timestamp date return pd event frames ignore index True 
def make S Q L Tests base suffix globals connectors [y S Q Lite2 Connector S Q Lite3 Connector Py Pg S Q L Connector Psycopg Connector My S Q L Connector Firebird Connector {}for connclass in connectors name connclass T E S T PREFIX + suffix class testcase connclass base unittest Test Case   module   connclass  module  testcase  name   nameif hasattr connclass '  qualname  ' testcase  qualname   '.'.join connclass  qualname  .split [0 -1 ] + [name] tests testcaseglobals tests 
def dup hermite n K seq [ [K 2 K i in range 2 n + 1 a dup lshift seq -1 ] 1 K b dup mul ground seq -2 ] K i - 1 K c dup mul ground dup sub a b K K 2 K seq c return seq 
def chprofile name profile return update name name profile profile 
def  update lut cmap colors cmap lut 256] colorscmap set extremes 
def test S A M P Proxy Error S A M P Proxy Error 'test' 'any'
def getattrs value attrs default  no default try for attr in attrs value getattr value attr except Attribute Error if default is  no default raisevalue defaultreturn value 
def store x global freelistp freelistif p is None p len referents referents x else freelist referents xreturn p 
def valid email emailaddress domains GENERIC DOMAINS if len emailaddress < 6 return Falsetry localpart domainname emailaddress '@' 1 host toplevel domainname '.' 1 except Value Error return Falseif len toplevel ! 2 and toplevel not in domains return Falsefor i in '-_.%+.' localpart localpart i '' for i in '-_.' host host i '' if localpart and host return Trueelse return False 
def remote function argument public True if hasattr function argument '  call  ' return  intercept function argument None public else if not  isstr function argument if not isinstance function argument bool raise Exception 'xpectedan R P Cmethodnameorvisibilitymodifier else def  wrap revised function function  intercept function None function argument return functionreturn  wrap reviseddef  wrap remapped function function  intercept function function argument public return functionreturn  wrap remapped 
def aws output args aws config environment os environment aws config return check output ['aws'] + args env environment 
def  generate Model0 num Categories init Prob numpy num Categories init Prob 0rob 0rder dict for cat Idx in range num Categories key str [dx probs numpy num Categories / num Categories if cat Idx 0 or cat Idx 4 probs 0 probs 1rder probssecond Order dict for first Idx in range num Categories for second Idx in range num Categories key str [dx second Idx probs numpy num Categories / num Categories if key str [0 1] probs 0 probs 0.8probs[3] 0.2elif key str [4 1] probs 0 probs 0.2probs[3] 0rder probsreturn init Prob first Order second Order 3
def decode and decrypt encoded data key return aes decrypt base64 b64decode encoded data key 
def shared memory attrs None where None if   grains  ['os family in [ed Hat 'ebian return  osquery cmd table 'shared memory attrs attrs where where return {'result' False 'comment' 'nlyavailableon Red Hator Debianbasedsystems 
def get display spec if spec is None return Noneelif isinstance spec six types return pyglet Display spec else raise error Error 'nvaliddisplayspecification {}. Mustbeastringlike 0one '.format spec 
def  find get notepad pages if config W E B GET NOTEPAD PAGES is None return Noneif type config W E B GET NOTEPAD PAGES is not tuple config W E B GET NOTEPAD PAGES config W E B GET NOTEPAD PAGES return functools GET NOTEPAD P A G E S W E B GET NOTEPAD PAGES[0]] * E B GET NOTEPAD PAGES[1]
def latex highlight classified text title 'python' commands default latex commands document default latex document macros '\n'.join '\\newcommand{\\py%s}[1]{%s}' % c for c in commands result []for kind text in classified text if kind result '\\py%s{' % kind result alltt escape text if kind result '}' return default latex document % dict title title macros macros body ''.join result 
def getimagesize url try from PIL import Image Fileexcept Import Error try import Image Fileexcept Import Error return Nonetry import urllib2except Import Error return Nonetry p Image File Parser f urllib2 url while True s f 1024 if not s breakp s if p return 'width "%i"height "%i"' % p except I O Error Value Error return None 
def to timestamp value return value - epoch .total seconds 
def sm backend conf update context sm backend conf id values return I M P L backend conf update context sm backend conf id values 
def datetime tuple to iso tup iso datetime tup iso8601 U T C ' T H %M % Z return iso 
def dice hard coe output target epsilon 1e-10 output tf output > 0.5 dtype tf target tf target > 0.5 dtype tf inse tf sum output * target l tf sum output * output r tf sum target * target dice 2 * inse / l + r if epsilon 0 return diceelse return tf by value dice 0 1.0 - epsilon 
def create process progname sensor return subprocess Popen CMDLINE % {'progname' progname 'sensor' S E N S O R S sensor sensor } shell True stdin subprocess P I P E 
def cool rc u cmap u im gci if im is not None im cmap cm 
@decoratordef rollback open connections fn *args **kw try fn *args **kw finally testing reaper all 
@set databasedef get or create item **kwargs if item return Item or get **parse model data item 
def connect to cloud dns region None return  create client ep name 'dns' region region 
def get ctx file path from manifest filename repo changeset revision stripped filename basic util path filename for changeset in reversed upper bounded changelog repo changeset revision manifest ctx repo changeset for ctx file in manifest ctx ctx file name basic util path ctx file if ctx file name stripped filename return manifest ctx ctx file return None None 
def test tokenize 0 s '123klsdgh56.7?98.2---\\%-1e3'true tokens ['' 123 'klsdgh' 56.7 '?' 98.2 '---\\%' -1000.0 ]tokens tokenize by number s assert token lists match tokens true tokens 
def convert id32 id 64 out ['STEAM 0 ']final id 64 - ID BASE if final % 2 0 out '0 ' else out '1 ' out str final // 2 return ''.join out 
def read plain int96 file obj count items struct '<qi' * count file obj 12 * count args [iter items ] * 2 return [ q << 32 | i for q i in zip *args ]
def volume glance metadata create context volume id key value return I M P L glance metadata create context volume id key value 
def test reconnect samp hub my client S A M P Integrated Client my client my client my client 
def to latex expr if expr is None return ''expr s latex expr expr s expr s '\\XI' 'XI' expr s re 'script [ Z0 ' '\\mathcal{\\1}' expr s if expr s '$' return '[mathjax]%s[/mathjax]<br>' % expr s -1 ] return '[mathjax]%s[/mathjax]<br>' % expr s 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def pants version return  VERSION
def flipwritable fn mode None if os fn os W OK return Noneold mode os fn .st modeos fn stat S IWRITE | old mode return old mode 
def  syspath dev dev  devbase dev dev re '^ [vhs][a-z]+ [0-9]+ ' '\\1/\\1\\2' dev return os '/sys/block/' dev 
def merge map old new deep merge False if not old return newfor k v in new if v if not deep merge old velif isinstance v collections Mapping old v old k old merge map old v v deep merge if old v else v elif isinstance v collections Sequence and not isinstance v six types old v old k old merge list old v v if old v else v elif isinstance v six types old ''.join [old.get k '' v else old vreturn old 
def slugify uniquely for queryset value queryset slugfield 'slug' suffix 0potential base django slugify unidecode value if len potential 0 potential 'null'while True if suffix potential '-'.join [base str suffix ] if not queryset **{slugfield potential .exists return potentialsuffix + 1
def  strip additional query parameters schema req additional properties schema 'roperties True pattern regexes []patterns schema 'roperties None if patterns for regex in patterns pattern regexes re regex if additional properties for param in set req G E T if param not in schema if not list regex for regex in pattern regexes if regex param del req G E T 
def attach dummy node node name object  marker enode Empty Node enode object attach local node node enode name 
def xml str s encoded str smart str s encoding 'utf8' errors 'xmlcharrefreplace' encoded str re INVALID XML '?' encoded str return encoded str 
def extract token from cookie request try token request token Key Error token Noneelse token  sanitize token token if  requesting asset request token Noneelse token token or  get new token return {u'csrf token token 
def wcs to celestial frame wcs for mapping set in WCS FRAME MAPPINGS for func in mapping set frame func wcs if frame is not None return frameraise Value Error u Couldnotdeterminecelestialframecorrespondingtothespecified W C Sobject 
def sig cmp u v order if u > v return -1 if u v if order u < order v return -1 return 1
def s3 flatlist nested for item in nested if isinstance item collections Iterable and not isinstance item basestring for sub in s3 flatlist item yield sub else yield item 
def vat number check digit vat number normalized vat number smart str vat number .zfill 10 total 0for i in range 0 10 2 total + int normalized vat number for i in range 1 11 2 quotient remainder divmod int normalized vat number * 2 10 total + quotient + remainder return smart unicode 10 - total % 10 % 10
def geometric conj ab a b a b map sympify a b if abs a oo or abs b oo return a if abs b oo else b else return a * b / a + b 
def diff dict orig new result dict k ['-'] for k in set orig - set new for key value in new if key not in orig or value ! orig result ['+' value result 
@register.tag name 'wishlists containing product def do basket form parse token tokens token contents if len tokens ! 5 raise template Template Syntax Error '%rtagusesthefollowingsyntax {%%wishlists containing productwishlistsproductasctx var % tokens wishlists var product var name var tokens tokens tokens return Product Wishlists Node wishlists var product var name var 
def  solve inequality ie s expr ie - ie try p Poly expr s if p ! 1 raise Not Implemented Errorexcept Polynomial Error Not Implemented Error try return reduce rational inequalities [[ie]] s except Polynomial Error return solve univariate inequality ie s a b p coeffs if a positive or ie op in '! ' ' ' return ie s - b / a elif a negative return ie s - b / a else raise Not Implemented Error 
def iter errback iterable errback *a **kw it iter iterable while True try yield next it except Stop Iteration breakexcept errback failure Failure *a **kw
def assert equal none logical line res asse equal start with none re logical line or asse equal end with none re logical line if res yield 0 'G318 assert Equal A None orassert Equal None A sentencesnotallowed 
def ttfa yaml formatter table dict data string table dict data list data string '\n' table string 'TTFA {\n'for definition string in data list definition list definition string ' ' field definition list if len definition list > 1 value definition list else value "''"table string table string + '' * 4 + field + ' ' + value + ' \n' table string table string + '}\n\n' return table string 
def mock requests get *args **kwargs response transcript list '\n<transcript list "1"name "ustom code "en"/>\n<trackid "0"name "ustom1 code " B list transcript textwrap '\n<transcript>\n<textstart "100"dur "100">subs#1</text>\n<textstart "200"dur "40">subs#2</text>\n<textstart "240"dur "140">subs#3</text>\n</transcript>\n' if kwargs {'params' {'lang' 'en' 'v' 'good id 2'}} return Mock status code 200 text '' elif kwargs {'params' {'type' 'list' 'v' 'good id 2'}} return Mock status code 200 text response transcript list content response transcript list elif kwargs {'params' {'lang' 'en' 'v' 'good id 2' 'name' 'ustom return Mock status code 200 text response transcript content response transcript return Mock status code 404 text ''
def get form data if is form submitted formdata request request formdata formdata formdata request return formdatareturn None 
def mode cmd no target mode text text inp chan conn notice split text inp '' if split '#' channel split 'ttemptingto text channel conn ' O D E channel mode else channel channotice 'ttemptingto text channel conn ' O D E channel mode 
def check anyuri uri config None pos None if uri is not None and not xml check anyuri uri warn or raise W05 W05 uri config pos return Falsereturn True 
@pytest.fixture scope u def dummy input request tmpdir factory input path tmpdir factory u data .join u test s3 input path binary 'ABCD1234' return str input path 
@bdd.when bdd 'setupafakeeditorreplacing def set up editor replacement quteproc httpbin tmpdir text replacement text text ' port ' str httpbin script tmpdir / 'script.py' script textwrap '\nimportsys\n\nwithopen sys encoding \'utf-8\' asf \ndata f \n\ndata data "{text}" "{replacement}" \n\nwithopen sys \'w\' encoding \'utf-8\' asf \nf.write data \n'.format text text replacement replacement editor '"{}""{}"{{}}'.format sys script quteproc setting 'general' 'editor' editor 
@rofiler test orm query cols only n session Session bind engine for id  in random ids n session Customer Customer Customer .filter Customer id  .one
def make static global conf document root cache max age None if cache max age is not None cache max age int cache max age return Static U R L Parser document root cache max age cache max age 
def get File Names By File Paths plugin File Paths file Names []for plugin File Path in plugin File Paths plugin Basename os plugin File Path plugin Basename get Until Dot plugin Basename file Names plugin Basename return file Names 
def  kput url data headers {ontent Type 'application/json'}ret http url method 'PUT' header dict headers data json data if ret 'error' return retelse return json ret 'body'
def test equalto value other return value other 
def test scenario matches tags fuzzywuzzy scenario Scenario string SCENARIO1 original string S C E N A R I O1 tags ['anothertag' 'another-tag'] assert scenario tags ['~another']
def  safe read fp size if size < 0 return ''if size < SAFEBLOCK return fp size data []while size > 0 block fp min size SAFEBLOCK if not block breakdata block size - len block return ''.join data 
def  match Friends tg friends mfilter lambda s len ''.join re re '[\\.\\ \\-\\_]' '' '|'.join tg .lower re '[\\.\\ \\-\\_]' '' ''.join filter None s .lower return sorted filter lambda s mfilter s > 0 friends key mfilter reverse True 
def dtlz1 individual obj g 100 * len individual obj - 1 ] + sum xi - 0.5 ** 2 - cos 20 * pi * xi - 0.5 for xi in individual obj - 1 ] f [ 0.5 * reduce mul individual obj - 1 ] 1 * 1 + g ]f.extend 0.5 * reduce mul individual m 1 * 1 - individual * 1 + g for m in reversed xrange obj - 1 return f 
def rooms socketio flask app socketio flask namespace flask 
def get overall ratings for exploration exploration id exp summary exp services exploration summary by id exploration id return exp summary 
@njitdef  repeat 1d x K out N x L out // K * N for n in range N val x k in range K for l in range L ind k * N * L + n * L + l out val 
def wait for qos operations client qos id operation args None start time int time while True if operation 'qos-key-unset' body client qos qos id ['qos specs not any key in body for key in args returnelif operation 'disassociate' body client association qos qos id ['qos associations not any args in body for i in range 0 len body returnelif operation 'disassociate-all' body client association qos qos id ['qos associations not body returnelse msg 'operationvalueiseithernotdefinedorincorrect.'raise lib exc Unprocessable Entity msg if int time - start time > client timeout raise lib exc Timeout Exceptiontime client interval 
@handle response format login required admin required def pagefolder edit request folder id response format 'html' folder get object or 404 Page Folder pk folder id if request P O S T form Page Folder Form request P O S T instance folder if form valid folder form return Http Response Redirect reverse 'core admin pagefolder view args [folder.id] else form Page Folder Form instance folder return render to response 'core/administration/pagefolder edit {'folder' folder 'form' form context instance Request Context request response format response format 
@ docstring 'recording' def search recordings query '' limit None offset None strict False **fields return  do mb search 'recording' query fields limit offset strict 
def  get dev size dev module blockdev cmd module bin path 'blockdev' required True rc devsize in bytes err module command '%s%s%s' % blockdev cmd '--getsize64' dev return int devsize in bytes 
def  get units args kwargs if u not in kwargs units [one None None units kwargs u if isinstance units six types units [x.strip for x in units u ' ]if len units 1 units [units[0] units units isinstance units Unit Irreducible Unit units [units units units units [ Unit x if x else None for x in units None for x in range 3 - len units if len units > 3 raise Value Error except Exception raise Value Error u Unitkeywordmusthaveonetothreeunitvaluesastupleorcomma return units 
def list projects request return render request 'projects.html' {'projects' Project acl request 'title' _ 'rojects }
def provider fw rule destroy context rule id return I M P L fw rule destroy context rule id 
def test sample weight adaboost regressor class Dummy Estimator Base Estimator def fit self X y passdef predict self X return np X boost Ada Boost Regressor Dummy Estimator n estimators 3 boost X y regr assert equal len boost weights  len boost errors 
def pathpatch 2d to 3d pathpatch z 0 zdir u path pathpatch path trans pathpatch patch transform mpath trans path path pathpatch  class   Path Patch3 Dpathpatch 3d properties mpath z zdir 
def package of pkg or module pkg name package name pkg or module   import   pkg name return sys name 
def fixup adict k v for key in adict if key k adict velif isinstance adict dict fixup adict k v 
def  set config c func sdl2 S D L GL Set Attributefunc sdl2 S D L GL RED SIZE c size func sdl2 S D L GL GREEN SIZE c size func sdl2 S D L GL BLUE SIZE c size func sdl2 S D L GL ALPHA SIZE c size func sdl2 S D L GL DEPTH SIZE c size func sdl2 S D L GL STENCIL SIZE c size func sdl2 S D L GL DOUBLEBUFFER 1 if c buffer else 0 samps c sdl2 S D L GL MULTISAMPLEBUFFERS 1 if samps > 0 else 0 func sdl2 S D L GL MULTISAMPLESAMPLES samps if samps > 0 else 0 func sdl2 S D L GL STEREO c 
def get valid cwd try cwd os 'PWD' or os except warn 'ourcurrentdirectoryisinvalid Ifyouopenaticketat + 'https //github.com/milkbikis/powerline-shell/issues/new' + 'wewouldlovetohelpfixtheissue.' sys '>' sys 1 parts cwd os up cwdwhile parts and not os up parts up os parts if cwd ! up warn 'ourcurrentdirectoryisinvalid Lowestvaliddirectory ' + up return cwd 
def deprecated attribute old new since None remove None doc None def  warn version u six type x for x in since message [u'{}hasbeendeprecatedsince{}'.format old version ]if remove version u six type x for x in remove message u version message u Use new logger u message logger u six type x for x in traceback stack def fget self  warn return getattr self new def fset self value  warn setattr self new value def decorator dummy return property fget fget fset fset doc doc return decorator 
def check theano variable variable n dim dtype prefix if variable is None returnif not isinstance variable tensor Variable variable tensor tensor variable variable if n dim and variable ! n dim raise Value Error 'rongnumberofdimensions \n DCTB expected got n dim variable if dtype prefix and not variable dtype prefix raise Value Error 'rongdtypeprefix \n DCTB expectedstartingwith got dtype prefix variable 
def  py vq 1d obs code book raise Runtime Error ' py vq 1dbuggy donotuserank1arraysfornow n obs code book np n nc for i in range nc dist i np obs - code book print dist code np dist min dist dist code np min dist 
def  patched describe step emr conn *args **kwargs try boto Cluster Timeline  Patched Cluster Timelinereturn emr conn step *args **kwargs finally boto Cluster Timeline Cluster Timeline 
def validate color or inherit s if s u return sreturn validate color s 
def get Exception Frame Locals ret Val {}if sys info trace sys info [2]while trace next trace trace nextret Val trace frame localsreturn ret Val 
def test can parse tables step Step string I HAVE TASTY BEVERAGES assert isinstance step list assert equals len step 2 assert equals step {ame 'kol 'ype 'eer 'rice '3.80'} assert equals step {ame 'estea 'ype 'ce 'rice '2.10'}
def get File Path With Underscored Basename file Name suffix suffix File Name get Until Dot file Name + suffix suffix Directory Name os suffix File Name suffix Replaced Base Name os suffix File Name .replace '' '_' return os suffix Directory Name suffix Replaced Base Name 
def chunked iterable n iterable iter iterable while 1 t tuple islice iterable n if t yield t else return 
def normalize pack version version version str version version seperator count version '.' if version seperator count 1 version version + '.0' return version 
def make full parser **kwargs features tuple PARSER M O D U L E S return make parser *features **kwargs
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def okay random length *seeds secret ''while len secret < length secret + sha512b os 128 + length * 2 '%s' % time '%x' % random 0 4294967295 *seeds secret Clean Text secret banned Clean Text N O N A L N U M + '01l DCTB ' .clean[ length secret 
def get pid location module for dir in ['/var/run' '/var/lib/run' '/run' os '~/' ] try if os dir and os dir os R OK | os W OK return os dir '.accelerate.pid' except passmodule json msg "couldn'tfindanyvaliddirectorytousefortheacceleratepidfile"
def  get bkroot return os   salt  ['config.get'] 'cachedir' 'file backup 
def string to dict string kwargs {}if string string str string if ' ' not in string string + ' 'for arg in string ' ' arg arg if arg '' continue kw val arg ' ' 1 kwargs valreturn kwargs 
def returner ret conn mdb  get conn ret if isinstance ret dict back  remove dots ret else back ret isinstance ret dict full ret  remove dots ret else full ret retlog back sdata {'minion' ret 'jid' ret 'return' back 'fun' ret 'full ret full ret 'out' in ret sdata ret float version > 2.3 mdb Returns one sdata else mdb Returns sdata 
def  release Lock if  lock  lock 
def render to template None mimetype None def renderer function @wraps function def wrapper request *args **kwargs output function request *args **kwargs if not isinstance output dict return outputtmpl output 'TEMPLATE' template return render to response tmpl output context instance Request Context request mimetype mimetype return wrapperreturn renderer 
def network associate context project id network id None force False return I M P L associate context project id network id force 
def render accordion request course table of contents context dict [ 'toc' table of contents 'course id unicode course 'csrf' csrf request ['csrf token 'due date display format course date display format ] + TEMPLATE I M P O R T S return render to string 'courseware/accordion.html' context 
def system Information Type17 a L2 Pseudo Length l2p Length 1 b Tp Pd pd 6 c Message Type mes Type 62 d Si17 Rest Octets packet a / b / c / d return packet 
def  set obj attribute value obj  dict  [attribute] value 
def  get manifest by dir package dir f os package dir roslib M A N I F E S T FILE if f return roslib file f else return None 
def  closest date target dt date list before target None fb lambda d d - target dt if d > target dt else datetime fa lambda d d - target dt if d < target dt else datetime fnone lambda d target dt - d if d < target dt else d - target dt if before target is None return min date list key fnone .date if before target return min date list key fb .date else return min date list key fa .date
def get Yadis X R D xrd tree xrd Nonefor xrd in xrd tree xrd tag passif xrd is None raise X R D S Error 'o X R Dpresentintree return xrd 
def get subproject request project subproject skip acl False subproject get object or 404 Sub Project project  slug project slug subproject if not skip acl subproject acl request return subproject 
def Execution Result *sources **options if not sources raise Data Error 'neormoredatasourceneeded if options 'merge' False return  merge results sources sources ] options if len sources > 1 return  combine results sources options return  single result sources options 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  check ports dpid  dirty switches dpid None con core Connection dpid if con is None returncon of barrier request con of features request log 'equestedswitchfeaturesfor str con 
def ngettext singular plural number global  default  activet  active current Thread None if t is not None return t singular plural number if  default is None from django import settings default translation settings L A N G U A G E CODE return  default singular plural number 
def make query qname rdtype rdclass dns I N use edns None want dnssec False ednsflags 0 payload 1280 request payload None options None if isinstance qname str unicode qname dns text qname if isinstance rdtype str unicode rdtype dns text rdtype if isinstance rdclass str unicode rdclass dns text rdclass m Message m | dns R Dm rrset m qname rdclass rdtype create True force unique True m edns use edns ednsflags payload request payload options m dnssec want dnssec return m 
def file option s return s 
def  translate key key d  get deprecated option key if d return d or key else return key 
def  set retcode ret   context  ['retcode'] 0if isinstance ret list   context  ['retcode'] 1returnif not salt state result ret   context  ['retcode'] 2
def  colorbar extension length spacing cmap norms  get cmap norms fig plt fig adjust hspace 0.6 for i extension type in enumerate u u u u norm norms type values norm j extendfrac in enumerate None u 0.1 cax fig subplot 12 1 i * 3 + j + 1 for item in cax xticklabels + cax yticklabels + cax xticklines + cax yticklines item visible False Colorbar Base cax cmap cmap norm norm boundaries boundaries values values extend extension type extendfrac extendfrac orientation u spacing spacing return fig 
def memory setting label suffixes { 1000.0 u M 1000.0 ** 2 u G 1000.0 ** 3 u T 1000.0 ** 4 }try mem float label return memexcept Value Error prefix label -1 ]suffix label -1 ].upper if suffix not in suffixes raise Value Error u label try multiplier float prefix return multiplier * suffixes except Value Error raise Value Error u label 
def test quantity representation t Q Table [ [1 2] * u ] assert t ['col0' 'm' '----' '1.0' '2.0']
def check service protocol None service address None **kwargs cmd '{0}'.format  build cmd protocol protocol service address service address **kwargs if not kwargs cmd + ''all rules get rules out all rules cmd if out ! -1 ret Trueelse ret 'rror servicenotexists ret 
def expected bar value asset id date colname from asset asset id * 100000 from colname O H L C V colname * 1000 from date date - PSEUDO EPOCH .daysreturn from asset + from colname + from date 
def vm allocate call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hevm allocatefunctionmustbecalledwith if kwargs is None kwargs {}path kwargs 'path' None data kwargs 'data' None hold kwargs 'hold' False if data if path log "oththe elif path data salt path mode 'r' .read else raise Salt Cloud System Exit "hevm allocatefunctionrequireseither server user password  get xml rpc auth ' '.join [user password response server auth data salt true hold ret {'action' 'vm.allocate' 'allocated' response 'vm id response 'error code response ret 
def deunicodise string encoding None errors 'replace' if not encoding encoding S3 Config Config .encodingif type string ! unicode return str string debug 'e Unicodising % string encoding try return string encoding errors except Unicode Encode Error raise Unicode Encode Error 'onversionfromunicodefailed %r' % string 
def optimizer f rval From Function Optimizer f rval  name   f  name  return rval 
def has request context return  request ctx stack is not None 
def layout *args **kwargs responsive kwargs 'responsive' None sizing mode kwargs 'sizing mode 'fixed' children kwargs 'children' None if responsive sizing mode  convert responsive responsive  verify sizing mode sizing mode children  handle children children children *args rows []for r in children row children []for item in r if isinstance item Layout D O M item mode sizing moderow children item else raise Value Error 'nly Layout D O Mitemscanbeinsertedintoalayout Triedtoinsert %softype%s' % item type item rows row children row children sizing mode sizing mode grid column children rows sizing mode sizing mode return grid 
def enable pretty logging options None logger None if options is None from tornado import optionsif options is None or options 'none' returnif logger is None logger logging Logger logger Level getattr logging options if options file prefix channel logging Rotating File Handler filename options file prefix max Bytes options file max size backup Count options file num backups channel Formatter Log Formatter color False logger Handler channel if options to stderr or options to stderr is None and not logger channel logging Stream Handler channel Formatter Log Formatter logger Handler channel 
@register.filter name 'key exist def key exist username if os os KEY DIR 'user' username + '.pem' return Trueelse return False 
def test neg type misc global calledclr Add Reference 'ron Python Test import Iron Python Test as I P Tfrom Iron Python Runtime Types import Python Typecalled Falseclass My Type type def   clrtype   self global calledcalled Truereturn I P T Negative Emptyclass X object   metaclass   My Typea X Are Equal clr Get Clr Type type a clr Get Clr Type I P T Negative Empty class My Type type def   clrtype   self global calledcalled Truereturn I P T Negative No Constructorclass X object   metaclass   My Typea X Are Equal clr Get Clr Type type a clr Get Clr Type int 
def exact files directory ignore links False found []for root _ files in os directory followlinks not ignore links for f in files p os root f if ignore links and os p continuefound os p directory return found 
def skip on access denied only if None def decorator fun @functools.wraps fun def wrapper *args **kwargs try return fun *args **kwargs except psutil Access Denied if only if is not None if not only if raisemsg 'ccess Denied % fun  name   raise unittest Skip Test msg return wrapperreturn decorator 
def dmp include f J u K if not J return f F f dmp to dict f u {} for monom coeff in F monom list monom for j in J monom j 0 f monom ] coeffu + len J return dmp from dict f u K
def  rec get names args names None if names is None names []for arg in args if isinstance arg Tuple  rec get names arg names else names arg return names 
def strxor c term c expect byte string term if not 0 < c < 256 raise Value Error 'cmustbeinrange 256 ' result create string buffer len term  raw strxor c term c result c size t len term return get raw buffer result 
def arma acf ar ma nobs 10 acovf arma acovf ar ma nobs return acovf / acovf 
def setup dummy social apps sender **kwargs from allauth import registryfrom allauth import Social Appfrom allauth import O Auth Providerfrom allauth import O Auth2 Providerfrom django import Sitesite Site current for provider in registry list if isinstance provider O Auth2 Provider or isinstance provider O Auth Provider try Social App provider provider sites site except Social App Does Not Exist print 'nstallingdummyapplicationcredentialsfor Authenticationviathisproviderwillnotworkuntilyouconfigurepropercredentialsviathe Djangoadmin `ocial App ' % provider app Social App provider provider secret 'secret' client id 'client-id' name 'ummy % provider app site 
def ssh connect connection try ssh paramiko S S H Client ssh missing host key policy paramiko Auto Add Policy ssh connection username connection password connection port connection key filename connection timeout constants P O W E R V M CONNECTION TIMEOUT return sshexcept Exception L O G _ 'onnectionerrorconnecting Power V Mmanager raise exception Power V M Connection Failed 
def get size start path total size 0for dirpath __ filenames in os start path for f in filenames fp os dirpath f total size + os fp return total size 
def test feature has scenarios feature Feature string FEATURE1 expect feature .to.be.a list expect feature .to.have.length of 3 expected scenario names [entingafeaturedmovie 'entinganon 'entingtwomoviesallowsclienttotakeonemorewithoutcharge scenario expected name in zip feature expected scenario names expect scenario .to.be.a Scenario expect scenario .to.equal expected name expect feature .to.equal 'ame 'ating 'ew 'vailable expect list feature .to.equal [ame 'nightatthemuseum2 'ating '3stars' 'ew 'yes' 'vailable '9'} {ame 'atrix Revolutions 'ating '4stars' 'ew 'no' 'vailable '6'}]
def q Object Tree root childs [root]for ch in pg Qt Core Q Object root childs + q Object Tree ch return childs 
@jinja2.contextfunction@library.global functiondef number context n if n is None return ''return format decimal n locale  babel locale  contextual locale context 
def  maybe coerce freq code assert code is not None if isinstance code offsets Date Offset code code codereturn code 
def layer bitmap layer coord from . import get Tile mime body get Tile layer coord 'png' image Image String I O body .convert 'RGBA' return Blit Bitmap image 
def get zoneinfo global zoneinfoif zoneinfo is None zoneinfo zipfile Zip File zoneinfo path return zoneinfo 
def itilbert x h period None  cache  cache tmp asarray x if iscomplexobj tmp return itilbert tmp h period + 1j * itilbert tmp h period if period is not None h h * 2 * pi / period n len x omega  cache n h if omega is None if len  cache > 20 while  cache  cache def kernel k h h if k return - tanh h * k return 0omega convolve convolution kernel n kernel d 1  cache n h ] omegaoverwrite x  datacopied tmp x return convolve tmp omega swap real imag 1 overwrite x overwrite x 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def snapshot get all active by window context begin end None project id None return I M P L get all active by window context begin end project id 
def blog def prep r s3db r listadd False return Trues3 prepdef postp r output if r response s3base S3 C R U D view r 'cms/blog.html' return outputs3 postpoutput s3 rest controller 'cms' 'series' return output 
def distfitmc sample distr nrepl 100 distkwds {} arg distkwds 'arg' nobs len sample res np nrepl for ii in range nrepl x distr arg size nobs **distkwds res distr fr x frozen [np.nan 0.0 1.0] return res 
def  getcdlistdir return os getcwd 
def test tukeylambda stats invalid lam [ -1.0 -0.5 ]var tukeylambda variance lam assert equal var np [np.nan np lam [ -1.0 -0.25 ]kurt tukeylambda kurtosis lam assert equal kurt np [np.nan np 
@functools.wraps linecache def getlines filename module globals None warn ' Python I Python6 Deprecation Warning stacklevel 2 return linecache filename module globals module globals 
def libvlc video set subtitle file p mi psz subtitle f  Cfunctions 'libvlc video set subtitle file None or  Cfunction 'libvlc video set subtitle file 1 1 None ctypes int Media Player ctypes char p return f p mi psz subtitle 
def p4 read pipe lines c real cmd p4 build cmd c return read pipe lines real cmd 
def megacycles to cpu seconds mcycles return mcycles / MCYCLES PER SECOND
def class for name class name tokens class name '.' if len tokens > 1 package '.'.join tokens -1 ] class name tokens -1 ]exec 'from%simport%s' % package class name return eval class name 
def cossim vec1 vec2 vec1 vec2 dict vec1 dict vec2 if not vec1 or not vec2 return 0.0vec1len 1.0 * math sum val * val for val in itervalues vec1 vec2len 1.0 * math sum val * val for val in itervalues vec2 assert vec1len > 0.0 and vec2len > 0.0 'sparsedocumentsmustnotcontainanyexplicitzeroentries'if len vec2 < len vec1 vec1 vec2 vec2 vec1 result sum value * vec2 index 0.0 for index value in iteritems vec1 result / vec1len * vec2len return result 
def internals input string source path None destination path None input encoding 'unicode' settings overrides None if settings overrides overrides settings overrides else overrides {}overrides['input encoding input encoding output pub core programmatically source class io String Input source input string source path source path destination class io Null Output destination None destination path destination path reader None reader name 'standalone' parser None parser name 'restructuredtext' writer None writer name 'null' settings None settings spec None settings overrides overrides config section None enable exit status None return pub pub 
def test gmail folders no flags monkeypatch folders [ 'as No Children '/' u I N B O X 'oselect 'as Children '/' u Gmail 'as No Children 'll '/' u Gmail All Mail 'as No Children 'rafts '/' u Gmail Drafts 'as No Children 'mportant '/' u Gmail Important 'as No Children '/' u Gmail Sent Mail 'as No Children '/' u Gmail Spam 'lagged 'as No Children '/' u Gmail Starred 'as No Children '/' u Gmail Trash 'as No Children '/' u ]gmail role map {mail All Mail 'all' 'nbox 'inbox' 'mail Trash 'trash' 'mail Spam 'spam' 'mail Drafts 'drafts' 'mail Sent Mail 'sent' 'mail Important 'important' 'mail Starred 'starred' 'reference' None patch gmail client monkeypatch folders raw folders client generic folder checks raw folders gmail role map client 'gmail'
def bold text return u [CONTROL BOLD text CONTROL BOLD]
def get logger global  loggerif not  logger import logging atexitif hasattr atexit 'unregister' atexit  exit function atexit  exit function else atexit exithandlers  exit function {} atexit exithandlers  exit function {}  check logger class  logger logging Logger LOGGER NAME return  logger 
def send notification email language email notification translation obj None context None headers None user None info None email get notification email language email notification translation obj context headers user info send mails [email]
def transcode text input PREFERRED ENCODING output PREFERRED ENCODING try return text 'cp437' .encode 'cp1252' except Unicode Error try return text 'cp437' .encode output except Unicode Error return text 
def  kwa val onts mdb safe False if not mdb safe return dict [ k from dict v onts for k v in val if k not in EXP SKIP ] else  skip [' id skip EXP SKIP return dict [ k '__' '.' from dict v onts for k v in val if k not in  skip ]
def read handle debug 0 iterator parse handle debug try first next iterator except Stop Iteration first Noneif first is None raise Value Error 'opathwaysfoundinhandle try second next iterator except Stop Iteration second Noneif second is not None raise Value Error 'orethanonepathwayfoundinhandle return first 
def jacard Coefficient a b if a ! b raise Value Error 'rraysmustbeofsameshape length a a bool b b bool return float a b .sum / length 
def set learning phase value global  GRAPH LEARNING P H A S E Sif value not in {0 1} raise Value Error 'xpectedlearningphasetobe0or  GRAPH LEARNING P H A S E S default graph ] value 
def dumps obj key None salt u serializer J S O N Serializer compress False data serializer .dumps obj is compressed Falseif compress compressed zlib data if len compressed < len data - 1 data compressedis compressed Truebase64d b64 encode data if is compressed base64d '.' + base64d return Timestamp Signer key salt salt .sign base64d 
def qsub sanitize job name testjobname if testjobname return testjobnameelse return u J + testjobname 
def gen query hash sql sql COMMENTS R E G E X '' sql sql ''.join sql .lower return hashlib sql 'utf-8' .hexdigest
def shared normal num rows num cols scale 1 return theano numpy scale scale size num rows num cols .astype theano X 
def  find exe path exe list for filename in os path if os os path filename if '.exe' in filename exe list path + '\\' + filename else exe list  find exe path + '\\' + filename exe list return exe list 
def remove file filename if os filename os filename 
def columnize items row first False separator '' displaywidth 80 spread False if not items return '\n' matrix info compute item matrix items row first row first separator size len separator displaywidth displaywidth if spread separator separator int info separator width fmatrix [filter None x for x in matrix lambda x separator [y.ljust w '' for y w in zip x info widths ] return '\n'.join map sjoin fmatrix + '\n'
def static prefix view serve **kwargs if not settings D E B U G or prefix and ' //' in prefix return []elif not prefix raise Improperly Configured 'mptystaticprefixnotpermitted return [url '^%s ? $' % re prefix '/' view kwargs kwargs ]
def set subprocess  subprocess None global subprocesssubprocess  subprocess 
def blend *cols **kwargs return Blend *cols **kwargs
def pathignore registry xml parent data ruby X M L Sub Element xml parent 'ruby-proxy-object' robj X M L Sub Element ruby 'ruby-object' attrib {'pluginid' 'pathignore' 'ruby-class' 'enkins Plugin Proxies Build Wrapper pluginid X M L Sub Element robj 'pluginid' {'pluginid' 'pathignore' 'ruby-class' 'tring pluginid 'pathignore'obj X M L Sub Element robj 'object' {'ruby-class' 'athignore Wrapper 'pluginid' 'pathignore'} ignored X M L Sub Element obj 'ignored  paths {'pluginid' 'pathignore' 'ruby-class' 'tring ignored data 'ignored' '' X M L Sub Element obj 'invert  ignore {'ruby-class' 'alse Class 'pluginid' 'pathignore'}
def Is Error Suppressed By Nolint category linenum return linenum in  error suppressions category set or linenum in  error suppressions None set 
def get colormaps return  colormaps 
def  create open message local ip port description ' Pn P Punch protocol 'TCP' upnp schema ' A N I P Connection soap message '<?xmlversion "1.0"?>\n<s Envelopexmlns s "http //schemas.xmlsoap.org/soap/envelope/"s encoding Style "http //schemas.xmlsoap.org/soap/encoding/">\n<s Body Add Port Mappingxmlns u "urn schemas service {upnp schema 1ew Remote Host New Remote Host New External Port New External Port New Protocol New Protocol New Internal Port New Internal Port New Internal Client ip New Internal Client New Enabled New Enabled New Port Mapping Description New Port Mapping Description New Lease Duration New Lease Duration Add Port Mapping Body Envelope port port protocol protocol host ip local ip description description upnp schema upnp schema return REMOVE W H I T E S P A C E '><' soap message 'dd Port Mapping 
def ismodule object return isinstance object types Module Type 
def setup environment global oldstuff platformstuffoldstuff env os sys path home dir I Python  file   os 
def minibatch map fn batch size input data output data None output width None if output width is None if output data is None raise Value Error 'output dataoroutput widthshouldbeprovided output width output data length input data output data is None output data numpy output length output width else assert output data input data 'output datashouldhavethesamelengthasinput data output data input data for i in xrange 0 output length batch size output data i + batch size ] fn input data i + batch size ] return output data 
def remove directory dirpath if os dirpath shutil dirpath ignore errors True 
def dt to decimal utc decimal .prec 30return decimal Decimal str calendar utc + decimal Decimal str utc / decimal Decimal '1000000.0'
def restart httpd all request notifier .restart 'http' notifier .restart 'django' return Http Response 'OK'
def build Table From Completed List data source headers data source data source ]table TABLE  id 'completed list  class 'abledisplay hr TR for title in headers hr TH title header THEAD hr body TBODY for row in items tr TR for answer in row tr TD answer body tr table header table body current sspag Trueattr S3 Data Table Config Data form S3 Data Table Config table 'completed list [[0 'asc']] '' None **attr return form 
def data url path data utils file path binary True filename utils filename path mimetype mimetypes type filename assert mimetype is not None pathreturn urlutils url mimetype data .tring 
def extract Text Tag Content page page page or '' if REFLECTED VALUE MARKER in page page re ' ?si [^\\s>]*%s[^\\s<]*' % REFLECTED VALUE MARKER '' page return filter None  .group 'result' .strip for _ in re TEXT TAG REGEX page 
def error next redirect request default '/' additional params None next key None redirect url None canvas False if not next key next key ['error next 'next']redirect next redirect request default additional params next key redirect url canvas return redirect 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def test setitem as column name t Table t ['x' 'y']t['b'] 'b'assert np t ['x' 'y'] assert np t ['b' 'b']
def convert Category Property model prop kwargs return get Text Field kwargs 
def metadata accept rule ' C C E P T % C O N F port  iptables dest C O N F host if netaddr I P Address C O N F host .version 4 iptables manager rule 'INPUT' rule else iptables manager rule 'INPUT' rule iptables manager 
def takes args function return bool function  code  .co flags & 4
def  slow construct edges G radius p for u pu v pv in combinations G data 'pos' 2 if sum abs a - b ** p for a b in zip pu pv < radius ** p G edge u v 
def  item to metric iterator log metric pb resource Message To Dict log metric pb return Metric api repr resource iterator 
def pack Open direct tcpip destination source conn Host conn Port destination orig Host orig Port sourceif isinstance conn Host unicode conn Host conn Host 'utf-8' if isinstance orig Host unicode orig Host orig Host 'utf-8' conn common N S conn Host + struct '>L' conn Port orig common N S orig Host + struct '>L' orig Port return conn + orig 
def is valid git sha1 hash if len hash ! 40 return Falsetry value int hash 16 except Value Error return Falsereturn True 
def  valid size size if size % 1024 0 return True '' return False 'ilesystemsizemustbemultipleof1024 not % size 
def table plot data np [[1 4 2 5 2] [2 1 1 3 6] [5 3 6 4 1]] index np len data color index ['r' 'g' 'b']bottom np [0 0 0 0 0] for i in range len data plt index + 0.25 data width 0.5 color color index bottom bottom alpha 0.7 label 'label%d' % i bottom + data loc 'upperleft' shadow True plt return 
def test enn sample wt fit enn Edited Nearest Neighbours random state RND SEED assert raises Runtime Error enn X Y
def chunk xml xml depth 0 data etree xml root xml 'add' and 'add' or 'delete' content length len data if content length <  CHUNK SIZE yield data else depth + 1print 'WARNING Chunking depth %s ' % depth half len xml / 2 left half xmlright half etree Element root right half xml ] for chunk in chunk xml left half depth depth yield chunk for chunk in chunk xml right half depth depth yield chunk 
def matshow A fignum None **kw A np A if fignum is False or fignum is 0 ax gca else fig figure fignum figsize figaspect A ax fig axes [0.15 0.09 0.775 0.775] im ax A **kw sci im return im 
def  square of sums a axis 0 a axis  chk asarray a axis s np a axis if not np s return s float * s else return float s * s 
def is letter uni char category Category uni char return category Category U P P E R C A S E LETTER or category Category L O W E R C A S E LETTER or category Category T I T L E C A S E LETTER or category Category M O D I F I E R LETTER or category Category O T H E R LETTER
def publish long description make long description if long description ! read RST DESCRIPTION PATH print 'escriptionfilenotup %unthefollowingcommandandcommitthechanges % RST DESCRIPTION PATH PREP COMMAND sys print 'escriptionup %s' % RST DESCRIPTION PATH answer raw input 'reyousureyouwanttopublishto Py P I yes ?' if answer ! 'yes' exit 'borted nothingpublished os 'pythonsetup.pysdistupload'
def hmac sha512 k m key Open S S L k len k d Open S S L m len m md Open S S L 0 64 i Open S S L Open S S L int 0 Open S S L H M A C Open S S L E V P sha512 key len k d len m md i return md 
def walk packages path None prefix '' onerror None def seen p m {} if p in m return Truem Truefor importer name ispkg in iter modules path prefix yield importer name ispkg if ispkg try   import   name except Import Error if onerror is not None onerror name except Exception if onerror is not None onerror name else raiseelse path getattr sys '  path  ' None or [] path [p for p in path if not seen p ]for item in walk packages path name + '.' onerror yield item 
def check symlinks directory symlinks True for root _ files in os directory for f in files p os root f if symlinks ^ os p return Falsereturn True 
def describe attributes obj attrs func None if not func func lambda x x pairs []for attr in attrs value getattr obj attr None if func value pairs '%s %s' % attr value return ' '.join pairs 
def parallel func func n jobs verbose 5 try try from joblib import Parallel delayedexcept Import Error from sklearn import Parallel delayedparallel Parallel n jobs verbose verbose my func delayed func if n jobs -1 try import multiprocessingn jobs multiprocessing count except Import Error Not Implemented Error import warningswarnings module unavailable doc 'multiprocessing' Module Unavailable Warning n jobs 1except Import Error import warningswarnings module unavailable doc 'joblib' Module Unavailable Warning n jobs 1my func funcparallel listreturn parallel my func n jobs 
def compute Object Key id generation Num encryption Key key Length Bytes algorithm 'RC4' key encryption Key + struct '<i' id [ 3] + struct '<i' generation Num [ 2] if algorithm 'AES' key + 'l T hashlib key .digest if key Length Bytes + 5 < 16 key key key Length Bytes + 5 ]else key key 16]return key 
def quay versions namespace pkg name if requests is None raise Exception 'requetslibraryisunavailable functionalitynotavailable assert namespace is not None assert pkg name is not None url 'https //quay.io/api/v1/repository/%s/%s' % namespace pkg name response requests url timeout None data response if 'error type in data and data type 'invalid token return []if 'tags' not in data raise Exception 'nexpectedresponsefromquay % data return [tag for tag in data if tag ! 'latest' ]
def build inverse barcode map seqs inverse map {}map count defaultdict int for label seq in seqs map id seq id label [ 2]map id map id '_' [0]inverse map id map idmap count id + 1return inverse map map count 
def result to country result if 'country' in result mapbox country result dict v k for k v in product details regions ' S .iteritems code codes mapbox country '' lookup args {'name' mapbox country {'mapbox id mapbox country 'code' code lookup args query Q **lookup args | Q mapbox id mapbox country country qs Country query .distinct if country qs if country qs 2 deduplicate countries country qs country qs country qs **args country country qs country Country **args return country 
def Update Resources From Dict dstpath res types None names None languages None if types types set types if names names set names if languages languages set languages for type  in res if not types or type  in types for name in res ] if not names or name in names for language in res ][name] if not languages or language in languages Update Resources dstpath res ][name][language] [type ] [name] [language]
def search keys text keyserver None user None if GPG 1 3 1 raise Salt Invocation Error 'hesearch keysfunctionisnotsupportwiththisversionofpython else if not keyserver keyserver 'pgp.mit.edu' keys []for  key in  search keys text keyserver user tmp {'keyid'  key 'uids'  key  key 'expires' None date  key 'date' None length  key 'length' None if expires tmp time ' time float  key if date tmp time ' time float  key if length tmp Length  key keys tmp return  keys 
def  delete calendar db session calendar count 0for e in calendar db session e count + 1if count % 100 0 db session db session db session calendar db session 
def halt return shutdown 
def expanded Epoch epoch int get Epoch return [str epoch str epoch - 1 str epoch + 1 ]
def run if active func @functools.wraps func def inner self if not keyczar active returnreturn func self return inner 
def term translation show context data dict model context table model translation tableq  select [trans table if 'terms' not in data dict raise Validation Error {'terms' 'termsnotindata'} terms  get or bust data dict 'terms' if isinstance terms basestring terms [terms]if terms q q trans table  terms if 'lang codes in data dict lang codes  get or bust data dict 'lang codes if isinstance lang codes basestring lang codes [lang codes q trans table code  lang codes conn model Session cursor conn q results []for row in cursor results  table dictize row context return results 
def cublas init pass 
def generate sha1 string salt None if not isinstance string str text type string str string if not salt salt sha1 str random .encode 'utf-8' .hexdigest [ 5]salted bytes smart bytes salt + smart bytes string hash  sha1 salted bytes .hexdigest return salt hash 
@when u def step edit file context context file name u file {0}.sql'.format context if os context file name os context file name context u context file name  expect exact context u timeout 2
def get compile mode node if not isinstance node mod raise Type Error 'expectedmodnode got % node  class  .  name   return {xpression 'eval' Interactive 'single'}.get node  class   'expr'
def end block fid kind write int fid FIFF.FIFF BLOCK END kind 
def get cgroup mountpoint controller if controller not in get all controllers raise error Test Error "oesn % controller f cgcon open '/proc/mounts' ' cgconf txt f cgcon f cgcon mntpt re '\\s \ S *%s *\\S* ' % controller cgconf txt return mntpt 
def gnc graph n create using None seed None if create using is None create using nx Di Graph elif not create using directed raise nx Network X Error 'irected Graphrequiredincreate using if seed is not None random seed G empty graph 1 create using G 'gnc graph %s ' % n if n 1 return Gfor source in range 1 n target random 0 source for succ in G target G edge source succ G edge source target return G
def  out encoding return  stream encoding sys 
def linear x return x 
def  parse creation creation string field name split creation string creation string '.' 1 if len split creation string ! 2 raise  Creation Format Error 'ouldnotparsecreation % creation string field name timestamp string microsecond split creation stringtry timestamp time timestamp string  BASE CREATION HEADER FORMAT microsecond int microsecond except Value Error raise  Creation Format Error 'ouldnotparsecreation % creation string field name return datetime * timestamp 6] + tuple [microsecond]
def create Network data Source network Network network Region 'sensor' 'ecord Sensor json {'verbosity'  VERBOSITY} sensor network Self sensor create Encoder sensor Source data Sourcesys os os   file   from custom region region import Identity Region Network Region Identity Region network Region 'egion 'dentity Region json {idth sensor Width } network 'sensor' 'egion 'niform Link '' network return network 
def versioned id field resource settings return resource settings field + app V E R S I O N ID SUFFIX']
def  generate image and label batch image label min queue examples batch size shuffle num preprocess threads 16if shuffle images label batch tf batch [image label batch size batch size num threads num preprocess threads capacity min queue examples + 3 * batch size min after dequeue min queue examples else images label batch tf [image label batch size batch size num threads num preprocess threads capacity min queue examples + 3 * batch size tf summary 'images' images return images tf label batch [batch size 
def string partial matching alternatives inp ret index True if not alternatives or not inp return []matches defaultdict list inp words inp .split for altindex alt in enumerate alternatives alt words alt .split last index 0score 0for inp word in inp words submatch [ last index + alt num for alt num alt word in enumerate alt words index ] if alt word inp word ]if submatch last index min submatch + 1 score + 1else score 0breakif score if ret index matches altindex else matches alt if matches return matches matches ]return []
def test read bin lush matrix float 3tensor path example bin lush path + 'float 3tensor.lushbin' result read bin lush matrix path assert str result 'float32' assert len result 3 if result ! 4 3 2 raise Assertion Error 'ubyte 3tensor.lushbinstoresa3-tensorofshape 4 3 2 butread bin lush matrixthinksithasshape + str result for i in xrange 1 result + 1 for j in xrange 1 result + 1 for k in xrange 1 result + 1 assert np result i - 1 j - 1 k - 1 ] i + 1.5 * j + 1.7 * k 
@click.command u @pass context u @click.option u default None @click.option u default False is flag True help u Runapplocally def write docs context app target None local False from frappe docs import setup docsif not target target os os u u app for site in context try frappe site site frappe make setup docs app make docs target local finally frappe 
def get by session model pk value primary key None result query by primary key session model pk value primary key return result 
def build launch request authenticated True request Request Factory .post '/' request User Factory request authenticated Magic Mock return value authenticated request { O S T LTI DEFAULT PARAMS return request 
def get Token By Number number return ' %s ' % number 
def  get fast dot try from sklearn import fast dotexcept Import Error fast dot np fast dot 
def fix attribute names payload api model data payload for key in payload if api model data model data data data 
@core helperdef convert to dict object type objs def dictize revision list revision context def process names items array []for item in items array item return arrayrev {'id' revision 'state' revision 'timestamp' revision 'author' revision 'packages' process names revision 'groups' process names revision 'message' revision revimport ckan dictize as mdconverters {'package' md dictize 'revisions' dictize revision list converters type []context {'model' model obj in objs item converter obj context items item return items 
def pfilter f patterns None use regex False if patterns is None return Trueif use regex for p in patterns r re p if r f return Trueelse for p in patterns if fnmatch f p return Truereturn False 
def R2 w if w tuple overstemmed return R1 R1 R1 w return R1 R1 w 
def create principal name enctypes None ret {}krb cmd 'addprinc-randkey'if enctypes krb cmd + '-e{0}'.format enctypes krb cmd + '{0}'.format name cmd   execute kadmin krb cmd if cmd ! 0 or cmd if not cmd [ -1 ].startswith 'WARNING ' ret cmd [ -1 ]ret['result'] Falsereturn retreturn True 
def chebys n monic False if n < 0 raise Value Error 'nmustbenonnegative.' if n 0 n1 n + 1 else n1 n x w mu0 roots chebys n1 mu True if n 0 x w [] [] hn pikn 1.0p orthopoly1d x w hn kn wfunc lambda x sqrt 1 - x * x / 4.0 limits -2 2 monic monic if not monic factor n + 1.0 / p 2 p scale factor p  dict  [' eval func lambda x eval chebys n x return p 
def for app *app names **kwargs def  for app fn command if is app command *app names **kwargs return fn command else return Falsereturn decorator  for app 
def  api queue change complete action output value kwargs sabnzbd queue complete action value return report output 
def create Tables tables if Not Exists True for table in tables  dbschema logger 'creatingtable%s' table imdbpy Name table Table if Not Exists if table imdbpy Schema  dbschema logger 'insertingvaluesintotable%s' table imdbpy Name for key in table imdbpy Schema for value in table imdbpy Schema table **{key unicode value }
def Make Guid name seed 'msvs new d  new md5 str seed + str name .hexdigest .upper guid '{' + d 8] + '-' + d 12] + '-' + d 16] + '-' + d 20] + '-' + d 32] + '}' return guid 
def is pkiz token text return token text PKIZ PREFIX
def  clear dict endpoint props return dict prop name prop val for prop name prop val in six endpoint props if prop val is not None 
def mangle mako loop node printer loop variable Loop Variable node visitor loop variable if loop variable node -1 ].has loop context Truematch  FOR L O O P node if match printer 'loop   M loop enter %s ' % match 2 'try ' text 'for%sinloop ' % match 1 else raise Syntax Error "ouldn %s" % node else text node text 
def ffmpeg merge video audio video audio output vcodec 'copy' acodec 'copy' ffmpeg output False verbose True cmd [get setting 'FFMPEG BINARY' '-y' '-i' audio '-i' video '-vcodec' vcodec '-acodec' acodec output call cmd verbose verbose 
def init manager signal signal S I G I N T signal S I G IGN
def valid memslice dtype dtype i 0 if dtype complex and dtype type int return Falseif dtype is Pyrex Types bint type return Falseif dtype struct and dtype 'struct' for member in dtype entries if not valid memslice dtype member return Falsereturn Truereturn dtype error or dtype array and i < 8 and valid memslice dtype dtype type i + 1 or dtype numeric or dtype pyobject or dtype fused or dtype typedef and valid memslice dtype dtype base type 
def  parse add values argvish new cmd format opts args validate args argvish parsed devs []if len args > 0 if new cmd format or len args % 2 ! 0 print Commands  doc  .strip exit EXIT ERROR devs and weights izip islice args 0 len args 2 islice args 1 len args 2 for devstr weightstr in devs and weights dev dict parse add value devstr if dev dict is None stderr 'WARNING Noregionspecifiedfor Defaultingtoregion1 % devstr dev dict 1if dev dict ip is None dev dict ip dev dict dev dict port is None dev dict port dev dict float weightstr if weight < 0 raise Value Error 'nvalidweightvalue %s' % devstr dev dict weightparsed devs dev dict else parsed devs build dev from opts opts return parsed devs 
def parse authorization header value if not value returnvalue wsgi to bytes value try auth type auth info value None 1 auth type auth type except Value Error returnif auth type 'basic' try username password base64 auth info .split ' ' 1 except Exception returnreturn Authorization 'basic' {'username' bytes to wsgi username 'password' bytes to wsgi password } elif auth type 'digest' auth map parse dict header auth info for key in 'username' 'realm' 'nonce' 'uri' 'response' if key not in auth map returnif 'qop' in auth map if not auth map 'nc' or not auth map 'cnonce' returnreturn Authorization 'digest' auth map 
def Wrap Linker Many linkers wrappers def wrapper *args for f in wrappers f *args return Wrap Linker linkers wrapper 
def on Timed Event source e global COUNTCOUNT COUNT + 1
def  ticket tuple ticket attempts ticket Attempt date ticket Time ip ticket I P matches ticket Matches return ip attempts date matches 
def g return 5
def whiten obs check finite True obs  asarray validated obs check finite check finite std dev np obs axis 0 zero std mask std dev 0 if zero std mask std dev std mask 1.0warnings.warn 'omecolumnshavestandarddeviationzero Thevaluesofthesecolumnswillnotchange Runtime Warning return obs / std dev 
def header check octet return chr octet !  QUOPRI HEADER M A P 
def Get Stub si Get Si if si return si Get Stub return None 
def get custom sql app from django import get modelsoutput []app models get models app app dir os os os app  file   'sql' for model in app models output get custom sql for model model return output 
def vm state from status status for state task map in  STATE M A P status string task map 'default' if status status string return state 
def get locale path lang code None if not lang code return settings U S E R WRITABLE LOCALE D I Relse return os settings U S E R WRITABLE LOCALE DIR lcode to django dir lang code 
def  candidate tempdir list dirlist []for envname in 'TMPDIR' 'TEMP' 'TMP' dirname  os envname if dirname dirlist dirname if  os 'nt' dirlist ['c \\temp' 'c \\tmp' '\\temp' '\\tmp'] else dirlist ['/tmp' '/var/tmp' '/usr/tmp'] try dirlist  os except Attribute Error O S Error dirlist  os return dirlist 
def cache local tex root name generate try result read local tex root name except Cache Miss result generate write local tex root name result return result 
def to hgrid node auth **data return Node File Collector node auth **data .to hgrid 
def convert perm perm if isinstance perm six types perm six type perm return int perm 8
def do deactivate realm realm if realm returnrealm Truerealm update fields ['deactivated'] for user in active humans in realm realm delete user sessions user 
@ F F I u Value Extern Context Value uint64 t bool ' def extern store list context handle vals ptr ptr vals len merge c  F F I handle context handle vals tuple c value val for val in  F F I vals ptr ptr vals len if merge merged set set def merged for outer val in vals for inner val in outer val if inner val in merged set continuemerged set inner val yield inner val vals tuple merged return c value vals 
def is iterable but not string obj return is iterable obj and not hasattr obj 'strip'
def Trunc Delta delta return datetime days delta seconds delta 
def  ips get pkgversion line return line [0].split '@' [1].strip
def test normal mode img data keypoints corner peaks corner harris img min distance 5 threshold abs 0 threshold rel 0.1 extractor BRIEF descriptor size 8 sigma 2 extractor img keypoints 8] expected np [alse True False False True False True False [rue False True True False True False False [rue False False True False True False True [rue True True True False True False True [rue True True False False True True True [alse False False False True False False False [alse True False False True False True False [alse False False False False False False False dtype bool assert array equal extractor expected 
def set opt out flag if flag and not is opt out Persistent Cache Entry data True **OPT OUT KWARGS return Trueelse Persistent Cache Entry **OPT OUT KWARGS .delete return False 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def callback method pass 
def truncate millisecond dt measure d datetime dt dt dt tzinfo dt seconds total seconds dt - d * 1000 // measure * measure / 1000.0 + 1e-07 return dt seconds + utctotimestamp d 
def Permission With Getter Base getter class Perm Base def get object self request view obj if callable getter return getter request view obj return operator getter obj def has object permission self request view obj obj self object request view obj return super Perm self .has object permission request view obj return Perm 
def list renderers *args renderers  salt   opts   [] renderers set if not args for rend in six renderers  renderers rend return sorted renderers for module in args for rend in fnmatch renderers  module renderers rend return sorted renderers 
def translate Key key return _ key To X M L key 
def  get securitygroupname id securitygroupname list securitygroupid set set if not isinstance securitygroupname list list securitygroupname list [securitygroupname list {ction 'escribe Security Groups sg in aws params location get location provider get provider opts   opts   sigver '4' if sg Name in securitygroupname list log ' W S Security Group I Dof sg Name sg Id securitygroupid set sg Id return list securitygroupid set 
@commands u u @example u def get channel tz bot trigger if not pytz bot u Sorry Idon else channel trigger 2 if not channel channel trigger channel timezone bot channel value channel u if timezone bot u %s" % channel timezone else bot u % channel 
@disabled 'http /ork Item View Work Item Id 25860' def test system diagnostics contracts class K New object def m1 self p0 Contract Requires True k K New k 0
def generate adapter adapter name 'url for map name 'url map values {u'server name dumps adapter name u name dumps adapter name u dumps adapter u scheme dumps adapter scheme u name u name map name u name s % map name s \n% server name s \n% script name s \n% subdomain s \n% url scheme s ;' % values 
def list sizes provider 'all' client  get client sizes client sizes provider return sizes 
def  base and stride freqstr groups opattern freqstr if not groups raise Value Error 'ouldnotevaluate % freqstr stride groups 1 if len stride stride int stride else stride 1base groups 2 return base stride 
def convert Integer Property model prop kwargs return get Integer Field kwargs 
def get G A E Objects context return context 'gae objects G A E Reference Collection 
def start Debug Mode Failure  init    debuginit 
@given u "{encoding}"with' def step a file named filename and encoding with context filename encoding   encoding is valid Trueassert context is not None 'ENSURE multilinetextisprovided not os filename assert   encoding is validcommand util workdir exists context filename2 os context filename pathutil textfile with contents filename2 context encoding 
def check indices indices if not isinstance indices tuple or len indices ! 2 raise Value Error 'indicesmustbeatupleoflength2' if len indices ! len indices raise Value Error 'ndexarraysindices return indices 
def authtypes **kwargs for name in  auth names if name not in kwargs kwargs Falsereturn Auth Types **kwargs
def site config dirs appname if WINDOWS path os  get win folder 'CSIDL COMMON APPDATA' pathlist [os.path.join path appname ]elif sys 'darwin' pathlist [os.path.join 'ibrary Application Support appname ]else xdg config dirs os 'XDG CONFIG DIRS' '/etc/xdg' if xdg config dirs pathlist [os.path.join expanduser x appname for x in xdg config dirs os ]else pathlist []pathlist.append '/etc' return pathlist 
def add course course id enrollment start None enrollment end None invite only False course modes None course info {'course id course id 'enrollment end enrollment end 'course modes [] 'enrollment start enrollment start 'invite only invite only not course modes course info modes  DEFAULT FAKE MODE else for mode in course modes new mode copy  DEFAULT FAKE MODE new mode modecourse info modes new mode  C O U R S E S course info 
def test read normal names table '\n#comment withblanklineabove \n \ol1 Col2 \n1.2"hello"\n2.4\'sworlds\n \n'reader ascii reader Reader ascii R S T names 'name1' 'name2' dat reader table assert equal dat ['name1' 'name2'] assert almost equal dat 2.4
def match document topic None result key None result relative url '/ ah search result task queue 'default' result batch size DEFAULT RESULT BATCH SIZE result return document True from google import dbrequest prospective search pb Match Request if isinstance document db Model topic  get document topic document topic doc pb db to protobuf document if result return document request result python document class  doc class M O D E L elif isinstance document datastore Entity topic  get document topic document topic doc pb document To Pb if result return document request result python document class  doc class E N T I T Y else raise Document Type Error request topic topic request document .opy From doc pb if result key request result key result key request result relative url result relative url request result task queue result task queue request result batch size result batch size response prospective search pb Match Response  make sync call 'matcher' 'atch request response 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  dtype to recformat dtype if not isinstance dtype np dtype np dtype kind dtype kind in 'U' 'S' recformat kind 'a'else itemsize dtype kind + str itemsize return recformat kind dtype 
def add enabled units units context  Unit Context get current unit registry get current unit registry .add enabled units units return context 
def run pip initial args status code pip initial args logger []if status code raise Pip Exception status code 
def maximals A le lambda x y x < y r []for x in A for a in A if le x a and not le a x breakelse for a in r if le x a breakelse r x return r 
def get path of temp url url return '{}/static/{}'.format app B A S E DIR'] url '/serve static ]
def inflate b64string decoded data base64 b64string return zlib decoded data -15
def  naive eval 2 x t c k n len t - k + 1 assert n > k + 1 assert len c > n assert t < x < t return sum c *  naive B x k i t for i in range n 
def init log debug False syslog False logthreshold None logfile None logformat LOG FORMAT logdateformat LOG DATE FORMAT fmt None rotation parameters None handler None logger logging Logger if handler is None handler get handler debug syslog logfile rotation parameters logger [handler]logthreshold get threshold debug logthreshold logger Level logthreshold if fmt is None if debug fmt get formatter logformat logformat logdateformat logdateformat else fmt logging Formatter logformat logdateformat handler Formatter fmt return handler 
def cleanup directory tempdir skip cleanup 'GALAXY TEST NO CLEANUP' in os or 'TOOL SHED TEST NO CLEANUP' in os if skip cleanup log 'GALAXY TEST NO C L E A N U Pison Temporaryfilesin % tempdir returntry if os tempdir and skip cleanup shutil tempdir except Exception pass 
def simplify class decorator class decorator @wraps class decorator def outer fn None *decorator args **decorator kwargs def actual decorator fn instance class decorator fn *decorator args **decorator kwargs  wrapped view instance  call   return  wrapped viewif fn is not None wrapped view actual decorator fn else wrapped view actual decoratorreturn wrapped viewreturn outer 
def get node init process name runner node parser Process Name Parser d runner node  GET INIT PROCESS NAME COMMAND handle stdout parser Received d Callback lambda  ignored parser return d 
def  get first child data node return node Nodes 
def check series params or 404 group start end format if group not in SERIES GROUPS or format not in SERIES FORMATS raise http Http404return get daterange or 404 start end 
def hexencode value return utf8encode value .encode 'hex'
def arma acovf ar ma nobs 10 if np np ar - 1 > 0.9 nobs ir max 1000 2 * nobs else nobs ir max 100 2 * nobs ir arma impulse response ar ma nobs nobs ir while ir -1 ] > 5 * 1e-05 nobs ir * 10ir arma impulse response ar ma nobs nobs ir if nobs ir > 50000 and nobs < 1001 acovf np [np.dot ir nobs - t ] ir nobs for t in range nobs ] else acovf np ir ir 'full' [ len ir - 1 ]return acovf nobs 
def libvlc vlm del media p instance psz name f  Cfunctions 'libvlc vlm del media None or  Cfunction 'libvlc vlm del media 1 1 None ctypes int Instance ctypes char p return f p instance psz name 
def test no data with empty serie interpolation Chart chart Chart interpolate 'cubic' chart 'erie [] q chart pyquery assert q '.text-overlaytext' .text 'odata 
def clear review apps schema editor Document Spam Attempt apps model u u Document Spam Attempt to clear Document Spam Attempt review REVIEW UNAVAILABLE to clear review NEEDS REVIEW
@jit nopython True def sa indices num states num actions L num states * num actions dtype np s indices np L dtype dtype a indices np L dtype dtype i 0for s in range num states for a in range num actions s indices sa indices ai + 1return s indices a indices 
def get client id  scope  maybe call get oauth user  scope return  get client id from environ 
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
def fourier cos seq func limits n from sympy import integrate x L limits limits - limits cos term cos 2 * n * pi * x / L formula 2 * cos term * integrate func * cos term limits / L a0 formula n S Zero / 2 return a0 Seq Formula 2 * cos term * integrate func * cos term limits / L n 1 oo 
def contingency matrix labels true labels pred eps None sparse False if eps is not None and sparse raise Value Error "annotset True classes class idx np labels true return inverse True clusters cluster idx np labels pred return inverse True n classes classes clusters clusters sp matrix np class idx class idx cluster idx shape n classes n clusters dtype np if sparse contingency contingency contingency duplicates else contingency contingency if eps is not None contingency contingency + eps return contingency 
def dict As String d s '{'for key val in sorted d s + '%s %s ' % key val s s ' ' s + '}'return s 
def find lines code strs linenos find lines from code code strs for c in code consts if isinstance c types Code Type linenos find lines c strs return linenos 
def  maybe real A B tol None if np A and np B if tol is None tol {0 feps * 1000.0 1 eps * 1000000.0 }[ array precision B np B 0.0 atol tol B B B
def Get Default Token token if token is None token default tokenif not isinstance token access control A C L Token raise access control Unauthorized Access 'okenisnotproperlyspecified Itshouldbeaninstanceofgrr control A C L Token ' return token 
def split args args args dict {}for arg in args split arg arg ' ' 1 if len split arg > 1 value split arg value Trueargs dict arg valuereturn args dict 
def get db master ip return file io constants M A S T E R S FILE LOC .rstrip
def  api test pushover name output kwargs logging 'ending Pushovernotification res sabnzbd pushover ' A Bnzbd T 'est Notification 'other' force True test kwargs return report output error res 
def get unix group group None if isinstance group six types try group info grp group except Key Error try i int group except Value Error raise Key Error "groupname'%s'notfound" % group try group info grp i except Key Error raise Key Error 'groupid%dnotfound' % i elif isinstance group int try group info grp group except Key Error raise Key Error 'groupid%dnotfound' % group elif group is None group info grp os else group cls name reflection class name group fully qualified False raise Type Error 'groupmustbestring intor None %r ' % group cls name group return group info gid group info name 
def image info call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'heimage infofunctionmustbecalledwith if kwargs is None kwargs {}name kwargs 'name' None image id kwargs 'image id None if image id if name log "oththe id id elif name image id get image id kwargs {'name' name else raise Salt Cloud System Exit "heimage infofunctionrequireseithera id server user password  get xml rpc auth ' '.join [user password info {}response server auth int image id [1]tree  get xml response info 'NAME' .text]  xml to dict tree return info 
def  extract from egg toc new toc []for item in toc modname pth typ itemif not os pth pth check extract from egg pth [0][0]new toc modname pth typ return new toc 
def minimize *rules **kwargs objective kwargs 'objective' identity def minrule expr return min [rule expr for rule in rules key objective return minrule 
def install gobject iteration from kivy import Clocktry from gi import G Object as gobjectexcept Import Error import gobjectif hasattr gobject ' gobject already installed returngobject gobject already installed Trueloop gobject Main Loop gobject init context loop context def  gobject iteration *largs loop 0while context and loop < 10 context False loop + 1lock interval  gobject iteration 0
@frappe.whitelist def send now name auto email report frappe doc u Auto Email Report name auto email report permission auto email report 
def get tmux configs version for fname matcher priority file version in list all tmux configs if matcher file version version yield fname priority + file version * 10 + file version * 10000
def get Divmod x y return divmod x y 
def additions umount mount point ret   salt  ['mount.umount'] mount point if ret os mount point return ret 
def spectral projection u eigenpairs coeff []evect eigenpairs ev in evect c sum [ evv * uv for evv uv in zip ev u ] coeff c return coeff 
def dup pow f n K if not n return [ n < 0 raise Value Error "can'traisepolynomialtoanegativepower" if n 1 or not f or f [ return fg [ True n m n // 2 n if m % 2 g dup mul g f K if not n breakf dup sqr f K return g 
def update dashboard stats log user id model user models User Stats Model or create user id if model version ! feconf C U R R E N T DASHBOARD STATS SCHEMA VERSION  migrate dashboard stats to latest schema model weekly dashboard stats {get current date as string {'num ratings model ratings or 0 'average ratings model ratings 'total plays model plays or 0 }}model.weekly creator stats list weekly dashboard stats model 
def gf sqr f p K df gf degree f dh 2 * df h [0] * dh + 1 for i in range 0 dh + 1 coeff K max 0 i - df jmax min i df n jmax - jmin + 1 jmax jmin + n // 2 - 1 for j in range jmin jmax + 1 coeff + f * f i - j ] coeff + coeffif n & 1 elem f jmax + 1 ]coeff + elem ** 2 h coeff % p return gf strip h 
def parse parameters lines results num params parameters {}parameters parse parameter list lines parameters num params parameters parse kappas lines parameters parameters parse rates lines parameters parameters parse freqs lines parameters results parametersreturn results 
def dup abs f K return [ coeff for coeff in f 
def test download exit status code when blank requirements file script script path 'blank.txt' .write '\n' script 'download' '-r' 'blank.txt'
def geometric mean prediction forward props presoftmax []for out in forward props assert isinstance out T Softmax assert len out 1 presoftmax out average reduce operator presoftmax / float len presoftmax return T average 
def strip rst docs for func docstring in six docs if not docstring continuedocstring new re '*..code-block \ 2}' '' docstring docstring new re '..note ' 'ote ' docstring new docstring new re '..warning ' 'arning ' docstring new docstring new re '..versionadded ' 'ewinversion docstring new docstring new re '..versionchanged ' 'hangedinversion docstring new if docstring ! docstring new docs docstring newreturn docs 
def b64decode data if isinstance data six types try data data 'ascii' except Unicode Encode Error raise Value Error ' S C I Icharacters elif not isinstance data six type raise Type Error 'argumentshouldbeastrorunicode' return base64 b64decode data + ' ' * 4 - len data % 4
def email split and format text if not text return []return [formataddr addr addr for addr in getaddresses [text] if addr if '@' in addr ]
def memoize default default NO DEFAULT evaluator is first arg False second arg is evaluator False def func function def wrapper obj *args **kwargs if evaluator is first arg cache obj cacheelif second arg is evaluator cache args cacheelse cache obj evaluator cachetry memo cache Key Error memo {}cache[function] memokey obj args frozenset kwargs if key in memo return memo if default is not NO DEFAULT memo defaultrv function obj *args **kwargs if inspect rv rv list rv memo rvreturn rvreturn wrapperreturn func 
@login required http methods ['GET'] def learner profile request username try return render to response 'student profile profile learner profile context request username request staff except User Not Authorized User Not Found Object Does Not Exist raise Http404 
def simplex projection v b 1 v np v p len v v v > 0 * v u np v [ -1 ]sv np u rho np u > sv - b / np 1 p + 1 [0][ -1 ]theta np [0 sv - b / rho + 1 ] w v - theta w w < 0 ] 0return w 
def init rtmbot rtmbot Rtm Bot {'SLACK TOKEN' 'test-12345' 'BASE PATH' '/tmp/' 'LOGFILE' '/tmp/rtmbot.log' 'DEBUG' True return rtmbot 
def  get installed entrypoint subproject if subproject not in migration entrypoints alembic util _ 'ackage % subproject return migration entrypoints 
def assign textbook id textbook used ids tid Location textbook title if not tid tid random string + tid while tid in used ids tid tid + random string lowercase return tid 
@step 'resetthedatabase def reset the db  step reset data None 
def resolve encoding alias  aliases  ENCODING ALIASES return  aliases alias alias 
def recursive rowfunc t stop funcs []while not t stop funcs rowfunc t t child t return compose *funcs
def  filter list input list search key search value output list list for dictionary in input list if dictionary search key search value output list dictionary return output list 
def debug host 'localhost' port 6000 authkey 'secretpassword' init host port authkey qdb debug 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def department mode session prep r if mode is not None auth return Trues3 prepif not auth has role ADMIN s3 auth by root org s3db department output s3 rest controller return output 
def moment a moment 1 axis 0 a axis  chk asarray a axis if moment 1 shape list a del shape shape return np shape dtype float else return np 0.0 else n list [moment]current n momentwhile current n > 2 if current n % 2 current n current n - 1 / 2 else current n / 2n list current n a zero mean a - ma dims a axis axis if n list -1 ] 1 s a zero mean else s a zero mean ** 2 for n in n list -2 -1 ] s s ** 2 if n % 2 s * a zero meanreturn s axis 
def miso lfilter ar ma x useic False ma np ma ar np ar inp signal x ma -1 ] [ x + 1 // 2 ]nobs x useic return signal [1] ar inp zi signal np [1.0 0.0] ar useic [0][ nobs inp nobs else return signal [1] ar inp [ nobs inp nobs 
def chunk indexing indexer chunk size chunks list indexer indexable .values list 'id' flat True return chunked chunks chunk size len chunks 
def has matplotlib version '1.2' try import matplotlibexcept Exception has mpl Falseelse if Loose Version matplotlib  version   > Loose Version version has mpl Trueelse has mpl Falsereturn has mpl 
def with metaclass meta *bases class metaclass meta   call   type  call    init   type  init  def   new   cls name this bases d if this bases is None return type  new   cls name d return meta name bases d return metaclass 'ummy Meta Class None {}
def  validate namespace name if name '.' 1 len name - 1 < 0 raise errors Invalid Configuration "nvalid Mongo D Bnamespace % name 
def  get opts localconfig None opts copy   opts   if localconfig opts salt config localconfig defaults opts return opts 
def some calculation x y z 1 return x * y / z 
def ndiff a b linejunk None charjunk IS CHARACTER JUNK return Differ linejunk charjunk .compare a b 
def make response data headers url code msg mime headers make headers headers r closeable response String I O data mime headers url code msg return response seek wrapper r 
def format Time when time Format time Format R F C3339 default u if time Format is None or when is None return defaultelse tz Fixed Offset Time Zone Local Time Stamp when datetime Date Time when tz return unicode datetime time Format 
def  Get Actual Name name if  allow Capitalized Names name Uncapitalize Vmodl Name name for def Map in  data Def Map  managed Def Map  enum Def Map dic def Map name if dic return dic None 
def handler req profname '%s.%.3f.prof' % req '/' .replace '/' '.' time profname os PROFILE DATA DIR profname prof hotshot Profile profname return prof Mod Python Handler req 
def build hover tooltips hover spec None chart cols None if isinstance hover spec bool tooltips [ col '@' + col for col in chart cols isinstance hover spec tuple tooltips hover specelse tooltips [ col '@' + col for col in hover spec tooltips 
def test array test data ds Chart Data Source data *test data data assert len ds 2 assert len ds 4
def Mk File Box w msg Tix Message w relief Tix F L A T width 240 anchor Tix N text 'he Tix File Select Boxisa Motif Forexample youcanadjustthesizeofthetwolistboxesandyourpastselectionsarerecorded box Tix File Select Box w msg side Tix T O P expand 1 fill Tix B O T H padx 3 pady 3 box side Tix T O P fill Tix X padx 3 pady 3
def set Basic Logger W A R N set Logger Class Basic Logger Basic Logger Level WARN
def test make imbalance single class y  np X ratio 0.5assert raises Value Error make imbalance X y  ratio 
@set databasedef get or create item **kwargs if item return Item or get **parse model data item 
def indentby parser token args token contents largs len args if largs not in 2 4 raise template Template Syntax Error '%rtagrequires1or3arguments' indent level args statement Noneif largs 4 if statement args parser 'endindentby' parser first token return Indent By Node nodelist indent level if statement 
def user activity list html context data dict activity stream user activity list context data dict offset int data dict 'offset' 0 extra vars {'controller' 'user' 'action' 'activity' 'id' data dict 'offset' offset activity streams list to html context activity stream extra vars 
def get module root path while not module manifest path new path os opj path os if path new path return Nonepath new pathreturn path 
def  truncate words cutlength stems {}for word in words stem word cutlength stems [word] except Key Error stems set [word] return stems 
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def run  task 
def set x layout cmd 'setxkbmap{0}'.format layout   salt  ['cmd.run'] cmd return layout 
def get File parent title cb filter '*.*' dir None key None assert not dir or not key if not dir dirkey key + 'irectory dir aqt dirkey '' else dirkey Noned Q File Dialog parent d File Mode Q File Dialog Existing File if os dir d Directory dir d Window Title title d Name Filter filter ret []def accept file str list d Files [0] if dirkey dir os file aqt dirif cb cb file ret file d accept d  return ret and ret 
def obfuscate whisper whisper level 0.0 level min max 0.0 level 1.0 olevel int 13.0 * level return  RE WHISPER O B S C U R E '...' if olevel 13.0 else '-' whisper 
def find xem numbering indexer id indexer season episode if indexer id is None or season is None or episode is None return season episode indexer id int indexer id indexer int indexer xem refresh indexer id indexer main db con db D B Connection rows main db con ' E L E C Tscene season scene episode F R O Mtv episodes W H E R Eindexer ?andshowid ?andseason ?andepisode ?and scene seasonorscene episode ! 0' [indexer indexer id season episode if rows return int rows season int rows episode 
def send command remote conn cmd cmd cmd remote conn cmd + '\n' time 1 return remote conn very eager 
def object download fileobj self Fileobj Extra Args None Callback None Config None return self fileobj Bucket self name Key self Fileobj Fileobj Extra Args Extra Args Callback Callback Config Config 
def  variance values return  mean [ v ** 2 for v in values -  mean values ** 2
def confusion matrix rater a rater b min rating None max rating None assert len rater a len rater b if min rating is None min rating min rater a + rater b if max rating is None max rating max rater a + rater b num ratings int max rating - min rating + 1 conf mat [[0 for i in range num ratings ] for j in range num ratings ]for a b in zip rater a rater b conf mat a - min rating ][ b - min rating ] + 1return conf mat 
def course specific login request course id course key Slash Separated Course Key deprecated string course id course modulestore .get course course key if not course return redirect with get 'signin user request G E T if settings F E A T U R E S 'AUTH USE SHIB' and course domain and course domain SHIBBOLETH DOMAIN PREFIX return redirect with get 'shib-login' request G E T return redirect with get 'signin user request G E T 
def mvn loglike sum x sigma nobs len x nobs2 nobs / 2.0 SSR x ** 2 .sum llf - np SSR * nobs2 llf - 1 + np np / nobs2 * nobs2 if np sigma and sigma 2 llf - 0.5 * np np sigma return llf 
def test scenario outline2 ptbr from string ptbr Language 'pt-br' scenario Scenario string SCENARIO OUTLINE2 language ptbr assert equals scenario 'adastrarumalunonobancodedados assert equals scenario [{'nome' u Gabriel u '99'} {'nome' u Jo u '100'}]
def conv Up images filters targets num Modules X padding Start module Stride num Img Colors num Groups 1 num Images images Filters filters targets num Images num Filters * num Modules X * num Modules X '%s%d%d-%d-%d' % targets  str   num Images num Filters num Modules X num Modules X  Conv Net Up images mat filters mat targets mat num Modules X - padding Start module Stride num Img Colors num Groups 
def build class name basenames doc None node Class name doc for base in basenames basenode Name basenode basenode basenode basenode nodereturn node 
def api manage *args **kwargs ctx context Request Context fake U S E R ID fake P R O J E C T ID True vol {'status' 'creating' 'display name 'fake name 'availability zone 'nova' 'tenant id fake P R O J E C T ID 'id' fake V O L U M E ID 'volume type None 'snapshot id None 'user id fake U S E R ID 'size' 0 'attach status fields Volume Attach Status D E T A C H E D 'volume type id None fake volume volume obj ctx **vol
def askopenfilenames **options options 1return Open **options .show
def symptom usability of Fernet key repository fernet utils utils Fernet Utils C O N F tokens repository C O N F tokens active keys return 'fernet' in C O N F and not fernet utils key repository 
def drop db name **client args if not db exists name **client args log " B name return Falseclient  client **client args client database name return True 
def get key func key func if key func is not None if callable key func return key funcelse key func module path key func name key func u 1 key func module import module key func module path return getattr key func module key func name return default key func 
@macro 'test' def tmac *tree return Hy List tree 
def read ssh data remote conn delay 1 time delay return remote conn 65535
def  query super func name def wrapped self *args **kwargs return getattr self func name *args **kwargs return wrapped 
def test dpll A B C symbols 'A B C' assert dpll [ A | B ] [A B] {A True B True {A True B True 
def test positive integer try positive integer '-1' assert Falseexcept Exception pass 
def  verify leniency numobj candidate if leniency Leniency P O S S I B L E return is possible number numobj elif leniency Leniency V A L I D if not is valid number numobj or not  contains only valid x chars numobj candidate return Falsereturn  is national prefix present if required numobj elif leniency Leniency S T R I C T GROUPING return  verify strict grouping numobj candidate elif leniency Leniency E X A C T GROUPING return  verify exact grouping numobj candidate else raise Exception 'rror unsupported Leniencyvalue % leniency 
def write to ports conf module temp tempfile Named Temporary File try temp 'anaged By Ansible for k in sorted module conf hash port setting module conf hash str '%s %s\n' % k port setting temp  str temp 0 shutil temp PORTS CONF except I O Error error msg get exception module json msg 'ailedtowriteto %s' % PORTS CONF error msg finally temp 
def continuous query exists database name **client args if get continuous query database name **client args return Truereturn False 
def mailchimp get endpoint **kwargs return {} http O K 
def ellipse width height dtype np selem np 2 * height + 1 2 * width + 1 dtype dtype rows cols draw height width height + 1 width + 1 selem rows cols ] 1return selem 
def rate limit user request user domain ratelimited time is ratelimited user domain request ratelimit applied limits Truerequest ratelimit secs to freedom timerequest ratelimit over limit ratelimitedif ratelimited statsd 'ratelimiter.limited.%s.%s' % type user user raise Rate Limited incr ratelimit user domain calls remaining time reset api calls left user domain request ratelimit remaining calls remainingrequest ratelimit secs to freedom time reset 
def get metadata for threads course id threads user user info def infogetter thread return get annotated content infos course id thread user user info metadata reduce merge dict map infogetter threads {} return metadata 
def  get bufsize linux iface ret {'result' False '/sbin/ethtool-g{0}'.format iface out   salt  ['cmd.run'] cmd pat re '^ .+ \\s+ \\d+ $' suffix 'max-'for line in out res pat line if res ret res 1 .lower .replace '' '-' + suffix ] int res 2 ret Trueelif line 'maximums ' suffix '-max'elif line 'settings ' suffix ''if not ret parts out if parts 'sh ' out ''.join parts ] ret outreturn ret 
def montage2d arr in fill 'mean' rescale intensity False grid shape None assert arr in 3 n images height width arr in in arr in if rescale intensity for i in range n images arr in exposure intensity arr in if grid shape alpha y alpha x grid shapeelse alpha y alpha x int np np n images if fill 'mean' fill arr in n missing int alpha y * alpha x - n images missing np n missing height width dtype arr in * fill arr out np arr in missing arr out arr out alpha y alpha x height width arr out arr out 1 2 arr out arr out alpha y * height alpha x * width return arr out 
def command mkdir args errors 0for directory in args if os directory if not os directory sys 'mkdir %s\n' % directory sys 'ERROR Existsalready butasfile errors + 1else assert not os directory sys 'mkdir %s\n' % directory os directory return errors 
def mig Pipe deme k pipein pipeout selection replacement None emigrants selection deme k if replacement is None immigrants emigrantselse immigrants replacement deme k pipeout emigrants buf pipein for place immigrant in zip immigrants buf indx deme place deme immigrant 
def process class c name obj c sk c md c mdt c idt c has doctest mod path sph sphinx True if c name '_' c sk c name return False False None c Falsec dt Falsetry source line no inspect obj except I O Error return False False None c Truefull name ' I N E %s' % line no c name if not obj  doc   c md full name elif not '>>>' in obj  doc   c mdt full name elif  is indirect c name obj  doc   c idt full name else c dt Truec has doctest full name in sphinx Falseif sphinx in sphinx find sphinx c name mod path if not in sphinx sph full name return c dt c source 
def is sys or user meta server type key return is user meta server type key or is sys meta server type key 
@pytest.fixture params sorted MIXIN COLS def mixin cols request cols Ordered Dict mixin cols deepcopy MIXIN COLS cols table Column [0 1 2 3] name 'i' cols table Column ['a' 'b' 'b' 'c'] name 'a' cols table Column ['b' 'c' 'a' 'd'] name 'b' cols mixin cols cols 
def code assist project source code offset resource None templates None maxfixes 1 later locals True if templates is not None warnings 'odeassistnolongersupportstemplates Deprecation Warning stacklevel 2 assist  Python Code Assist project source code offset resource resource maxfixes maxfixes later locals later locals return assist 
def get game high scores token user id chat id None message id None inline message id None method url 'ame High Scores {'user id user id chat id payload id chat idif message id payload id message idif inline message id payload message id inline message idreturn  make request token method url params payload 
def  convert other other raiseit False allow float False if isinstance other Decimal return otherif isinstance other int return Decimal other if allow float and isinstance other float return Decimal float other if raiseit raise Type Error 'nabletoconvert Decimal % other return Not Implemented 
def instance group create context values policies None members None return I M P L group create context values policies members 
def get mdict item or list mdict key if hasattr mdict 'getlist' v mdict key if len v 1 value v value '' value Nonereturn valueelif len v 0 return Noneelse return tuple v return None 
def annotate clip txt txt color 'white' bg color 0 0 255 txtclip Text Clip txt fontsize 20 font 'buntu color txt color txtclip txtclip color clip txtclip + 6 color 0 0 255 pos 6 'center' cvc Composite Video Clip [clip txtclip pos 0 'bottom' ] return cvc duration clip 
def is Close To Last paths point radius if len paths < 1 return Falselast Path paths -1 ]return abs last Path -1 ] - point < radius 
def gettempprefix return template 
def  properties from dict d key name 'key' fields []for key value in six d if isinstance value dict fields {key name key 'alue value else fields {key name key 'alue value return fields 
@ F F I u Key Extern Context Value ' def extern key for context handle val c  F F I handle context handle return c to key val 
def cholesky a lower False l u  cholesky a if lower return lelse return u 
def verify location strategy conf None strategies  available strategies if not conf conf C O N F strategyif conf not in strategies msg _ 'nvalidlocation strategyoption % name s Thevalidstrategyoption s is are % strategies s % {'name' conf 'strategies' ' '.join strategies } L O G msg raise Runtime Error msg 
def int64 as f64 builder val assert val Type 64 return builder val Type 
def read ros handshake header sock b buff size header str Nonewhile not header str d sock buff size if not d raise R O S Handshake Exception 'leasechecksenderforadditionaldetails % b b d btell b if btell > 4 bval b size struct '<I' bval 4] if btell - 4 > size header str bvalleftovers bval size + 4 ]b.truncate len leftovers b 0 b leftovers header recvd Truereturn decode ros handshake header bval 
def test logout dcos api session r dcos api session '/acs/api/v1/auth/logout' cookieheader r 'dcos-acs-auth-cookie ;' in cookieheader or 'dcos-acs-auth-cookie "";' in cookieheader assert 'expires' in cookieheader 
def get primary at source code offset retry True obj ''left re ' Z .]' source code offset if left and left -1 ] obj left -1 ]right re '\\W' source code ] if right and right obj + right obj and obj obj ''if not obj and retry and offset and source code offset - 1 ] in ' [.' return get primary at source code offset - 1 retry False return obj 
def default data selector connection return []
def xpath lower case arg return "translate %s 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' " % arg 
def get http data data get stack trace data real data {'cookies' VARS 'data' VARS 'env' VARS 'headers' VARS 'method' 'GET' 'query string '' 'url' 'http //localhost/'}return data 
def merge dicts d1 d2 result copy d1 for key value in six d2 if isinstance value dict result merge dicts result value elif key not in result or value is not None result valuereturn result 
def  compute dir contents n path show hidden False url append ''if show hidden url append '?hidden 1'if path ! '/' yield '..' '../' + url append '' for sub in n display sub urllib sub if stat S ISDIR sub resolve .mode link + '/'if not show hidden and len display > 1 and display '.' continuesize Noneif stat S ISDIR sub display + '/'elif stat S ISLNK sub display + '@'else size sub size opt readable and format filesize size or size yield display link + url append size 
def encode basestring s  PY3 PY3  q u '"' if  PY3 if isinstance s binary type s s 'utf-8' elif isinstance s str and HAS U T F8 s is not None s s 'utf-8' def replace match return ESCAPE D C T 0 ]return  q + E S C A P E replace s +  q 
def dict from cookiejar cj cookie dict {}for cookie in cj cookie dict cookie cookie dict 
def Gompertz name b eta return rv name Gompertz Distribution b eta 
def init console logging formatter logging Formatter '% asctime s name s levelname s % message s ch Console Handler ch Formatter formatter log Handler ch log Level logging I N F O 
def build ipy lexer python3 if python3 Py Lexer Python3 Lexername ' Python3 ['ipython3']doc ' Python3 Lexer Py Lexer Python Lexername ' Python ['ipython2' 'ipython']doc ' Python Lexer Py Lexer tokens ipython tokens + tokens attrs {'name' name 'aliases' aliases 'filenames' [] '  doc  ' doc 'tokens' tokens type name Py Lexer attrs 
def  get trans trans fro 'mri' to 'head' if isinstance trans string types if not op trans raise I O Error 'transfile"%s"notfound' % trans if op trans [1] in ['.fif' '.gz'] fro to t read trans trans else t np trans if t ! 2 or t ! 4 4 raise Runtime Error 'ile % trans fro to t Transform to fro t elif isinstance trans dict fro to t transtrans 'dict'elif trans is None fro to t Transform fro to trans 'identity'else raise Value Error 'transformtype%snotknown mustbestr dict or None % type trans fro to t  ensure trans fro to t fro to return fro to t trans 
def model custom form cf data model tmp model 'emp Model cf json cf data for key in tmp if key in cf if cf 1 tmp Trueelif cf 0 tmp Falsereturn tmp 
def run  task 
def  get dirs user dir startup dir try users os user dir except Windows Error users []full dirs []for user in users full dir os user dir user startup dir if os full dir full dirs full dir return full dirs 
def test seed same skip if no scipy rng np Random State [1 2 3] seed rng 2147462579 dim 3mu rng dim rank dim X rng rank dim cov np X.T X mnd1 MND sigma cov mu mu seed seed num samples 5rd1 mnd1 design matrix num samples rd1 function [] rd1 mnd2 MND sigma cov mu mu seed seed rd2 mnd2 design matrix num samples rd2 function [] rd2 assert np rd1 rd2 
def enable microsites pre startup log if is feature enabled B A C K E N D microsites pre startup log 
def asset s3db asset id S3 Popup Link f 'item' label T 'reate Item title T 'tem tooltip T "ypethenameofanexistingcatalogitem O R Click Create Item return s3db controller 
def get shortcut context name return C O N F 'shortcuts' '%s/%s' % context name 
def url prefix mat return '/' + mat mat ].strip '/'
def get authenticated user auth provider username uid match models Django Storage social auth provider auth provider name uid uid if not match or match ! username raise User Does Not Existuser match auth provider authentication backend return user 
def volume types get by name or id context volume type list return I M P L types get by name or id context volume type list 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def  get scodon moves tmp seq blocks scodon moves {'query' [] 'hit' []}for seq type in scodon moves scoords []for block in tmp seq blocks m start re  RE SCODON START block type m end re  RE SCODON END block type if m start m start len m start 1 scoords m start 0 else scoords 0 0 if m end m end len m end 1 scoords 0 m end else scoords 0 0 scodon moves type scoordsreturn scodon moves 
def  do bistochastic test scaled  do scale test scaled assert almost equal scaled axis 0 .mean scaled axis 1 .mean decimal 1
def stashed H T M L2text text md def  html sub m u Substituterawhtmlwithplaintext raw safe md Stash Html Blocks m 1 ]except Index Error Type Error return m 0 if md Mode and not safe return u re u <[^>]+> | & Z0 ' u raw return HTML PLACEHOLDER R E  html sub text 
def Current Audit Log now sec rdfvalue R D F Datetime Now .s Seconds From Epoch rollover config lib C O N F I G Logging audit log rollover log now sec // rollover * rollover return ROOT U R N Add 'audit' .dd 'logs' .dd str current log 
def extract mentions txt return re u ? [^\\w]|^ @ [\\w]* ' txt 
def backoff Policy initial Delay 1.0 max Delay 60.0 factor 1.5 jitter  good Enough Random def policy attempt return min initial Delay * factor ** attempt max Delay + jitter return policy 
def with requires *requirements ws pkg resources Working Set try ws *requirements skip Falseexcept pkg resources Version Conflict skip Truemsg 'requires {}'.format ' '.join requirements return unittest If skip msg 
def match coordinates sky matchcoord catalogcoord nthneighbor 1 storekdtree u sky if catalogcoord or len catalogcoord < 1 raise Value Error u Thecatalogforcoordinatematchingcannotbeascalarorlength newmatch matchcoord to catalogcoord match urepr newmatch as Unit Spherical Representation newmatch u newmatch frame match urepr cat urepr catalogcoord as Unit Spherical Representation newcat u catalogcoord frame cat urepr storekdtree catalogcoord storekdtree storekdtree idx sep2d sep3d match coordinates 3d newmatch u newcat u nthneighbor storekdtree if not isinstance catalogcoord Unit Spherical Representation or isinstance newmatch Unit Spherical Representation sep3d catalogcoord 3d newmatch if isinstance storekdtree six types catalogcoord newcat u storekdtree is True catalogcoord newcat u idx sep2d sep3d 
def test line secondary line Line rng [8 12 23 73 39 57]line.add 'irstserie rng line 'econdaryserie map lambda x x * 2 rng secondary True line 'neserie line pyquery assert len q '.axis.x' 0 assert len q '.axis.y' 1 assert len q '.plot.seriespath' 2 assert len q '.x.axis.guides' 0 assert len q '.y.axis.guides' 7
def permute arr permutation return array [arr[i] for i in permutation 
def get max denom tup return max Fraction f .denominator for f in tup 
def get file subs from folder addon user kind path name folder dict kind kind path path name name file tree addon get file tree filenode folder user user version 'latest-published' return list of files file tree 
def find cover page container ver container version parsedif ver < 3 mm container mapguide type map container type mapfor ref type name in guide type map if ref type u and mm name u .lower in OEB DOCS return nameelse for name in container items with property u title return name 
def Make Expired Response reference json k Verify Response Renewed Expired return json {'status' reference 'receipt' reference 
def compile matcher regex if not regex return lambda x True elif regex '!' return lambda x False elif regex '!' rx re regex ] return lambda x rx x is None else rx re regex return lambda x rx x is not None 
def api version f @wraps f def wrapped *args **kwargs rv f *args **kwargs rv A P I Version   version  return rvreturn wrapped 
def get package directories ls tree out check output 'git' 'ls-tree' '-d' '--name-only' '--full-name' 'HEAD' PROJECT ROOT result []for package in ls tree out '\n' if package not in IGNORED DIRECTORIES result package return result 
def get validation digit number sum 0dvs [4 3 6 7 8 9 2]number str number for i in range 0 len number sum int number -1 - i ] * dvs + sum % 10 return 10 - sum % 10
def as float X variable if isinstance variable float return numpy X variable if isinstance variable numpy return numpy X variable return theano variable theano X 
@task base Base Instructor Task def calculate may enroll csv entry id xmodule instance args action name ugettext noop 'generated' task fn partial upload may enroll csv xmodule instance args return run main task entry id task fn action name 
def compare multiset w baseline multiplicities letters 'abcdefghijklmnopqrstuvwxyz'bl partitions multiset partitions baseline multiplicities letters aocp partitions set for state in multiset partitions taocp multiplicities p1 tuple sorted [tuple p for p in list visitor state letters ] aocp partitions p1 assert bl partitions aocp partitions 
def quota class destroy context class name resource return I M P L class destroy context class name resource 
def init mpstate return Cmdlong Module mpstate 
def append cflags value return append var 'CFLAGS' value 
def save stats instance migration info remaining migration total info totalmigration processed info processedmigration remaining info remainingmigration total info totalmigration processed info processedmigration remaining info remainingmigration instance 100 - remaining instance 
def Invoke Command  cmd Name  input None *args **kws cmd Command  cmd Name for arg in args cmd Parameters Add Command Parameter None fix arg arg for name value in kws cmd Parameters Add Command Parameter name fix arg value pipeline  runspace Create Pipeline pipeline Commands Add cmd if  input ret pipeline Invoke fix arg  input else ret pipeline Invoke return Shell Output ret 
def  get doc and fallback reason document locale document slug doc Nonefallback reason Nonetry doc Document locale document locale slug document slug if not doc revision and doc and doc revision fallback reason 'translation not approved not doc revision fallback reason 'no content Document Does Not Exist passreturn doc fallback reason 
def is sh executable try fp open executable magic fp 2 fp except O S Error I O Error return executablereturn magic '#!'
def patch ast node source sorted children False if hasattr node 'region' return nodewalker  Patching A S T Walker source children sorted children ast for nodes node walker return node 
def mail reply reply user review reply reply toreview request review requestif not review request returnextra context {u'user' reply u review u reply has error extra context entries build diff comment fragments reply by u u line extra context u diff comment fragment reviewer reply to field cc field build recipients reviewer review request review request to field cc field filter email recipients from hooks to field cc field reply published reply reply user user review review review request review request summary  ensure unicode review request reply message id send review mail user review request u Re Review Request %s' % review request id summary review message id to field cc field u email u email extra context reply emailed timezone reply 
def benchmark estimator estimator X test n bulk repeats 30 verbose False atomic runtimes atomic benchmark estimator estimator X test verbose bulk runtimes bulk benchmark estimator estimator X test n bulk repeats verbose return atomic runtimes bulk runtimes 
def wait and close handle process handle Wait For Single Object process handle INFINITE Close Handle process handle 
def get Vector3 By Prefixes element Node prefixes vector3 for prefix in prefixes vector3 get Vector3 By Prefix vector3 element Node prefix return vector3 
def mindtouch namespace redirect request namespace slug new locale new slug Noneif namespace in 'alk 'roject 'roject talk locale _ doc slug slug '/' new locale settings M T TO KUMA LOCALE M A P locale ' S new slug '%s %s' % namespace doc slug elif namespace 'ser new slug '%s %s' % namespace slug try rev Revision document  slug new slug .latest 'created' new locale rev Revision Does Not Exist new locale ' S new locale ' S slug '%s %s' % namespace slug if new locale new url '/%s/docs/%s' % request L A N G U A G E CODE new slug return redirect new url permanent True 
def validate response response content response code response codetry parsed content response except Value Error message content if content else 'o Content raise exceptions Plotly Request Error message status code content message ''if isinstance parsed content dict error parsed content 'error' if error message errorelif response returnif not message message content if content else 'o Content raise exceptions Plotly Request Error message status code content 
def log logistic X out None is 1d X 1 X np 2d X X check array X dtype np n samples n features X out is None out np like X  log logistic sigmoid n samples n features X out if is 1d return np out return out 
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
def has perm user perm obj check get check user perm return user perm perm or check and check obj 
def could be isomorphic G1 G2 if G1 ! G2 return Falsed1 G1 t1 nx G1 c1 nx of cliques G1 props1 [[d t1 c1 for v d in d1 d2 G2 t2 nx G2 c2 nx of cliques G2 props2 [[d t2 c2 for v d in d2 if props1 ! props2 return Falsereturn True 
def cache available config if config option 'cache' 'cache dir dpath config 'cache' 'cache dir try existing os '/'.join [dpath 'inventory'] except return Falseif config option 'cache' 'cache max age maxage config 'cache' 'cache max age if int time - int existing mtime < int maxage return Truereturn False 
def is smtp enabled backend None if backend is None backend get mail backend return backend not in settings S E N T R Y SMTP DISABLED BACKENDS
def task uninstall flocker distribution return  flocker uninstallers 
def  aybabtu c l [c Versioned b in inspect c if b not in l and issubclass b Versioned l b return l ]
def test2 build Package 'sers Desktop Title 'reportlab' Version '1.10' Description "eport Lab Open Source P D Ftoolkit Default Location 'pplications Report Lab Relocatable 'YES'
def get Shortest Unique Setting Name setting Name settings for length in xrange 3 len setting Name number Of Equals 0ame setting Name length setting in settings if setting length short Name number Of Equals + 1if number Of Equals < 2 return short Name return setting Name 
def aware to naive d offset d if offset d d tzinfo None d d - offset return d 
def to bytes text default 0 mult key org text '-1234567890' mult key mult key org mult key len len mult key if mult key 'b' mult key mult key -1 ]try multiplier BYTE M U L T I P L I E R S key mult key len text text - mult key len ]return int text * multiplier except Key Error msg _ 'nknownbytemultiplier %s' % mult key org raise Type Error msg except Value Error return default 
def sqeuclidean u v utype vtype None None if not hasattr u 'dtype' and np u np utype np not hasattr v 'dtype' and np v np vtype np  validate vector u dtype utype v  validate vector v dtype vtype u v u - v return np u v u v 
def  set Plugin Path Environ if 'VLC PLUGIN PATH' in os returndll Path vlc namefrom os import split joinn Steps 0last dll Pathwhile n Steps < 4 last split last [ath join last 'plugins' if os plugin Path os V L C PLUGIN PATH'] plugin Pathbreakn Steps + 1
def check available mod return mod in available 
def  update badge context context course user badge Noneif badges enabled and course badges badges get completion badge course key user .get for user user if badges badge badges badge 
def submit echoprints recording echoprints warn 'choprintswereneverintroduced Warning stacklevel 2 return {'message' {'text' 'OK'}}
def indentation logical line previous logical indent char indent level previous indent level if indent char '' and indent level % 4 return 0 '111indentationisnotamultipleoffour indent expect previous logical ' ' if indent expect and indent level < previous indent level return 0 '112expectedanindentedblock if indent level > previous indent level and not indent expect return 0 '113unexpectedindentation 
def set State Location state Location if state Location is None returnif not state Location '/' state Location + 'ocation + const T R A N S P O R T N A M E + '/' if not os state Location log "reatingdirectorypath % state Location os state Location log "ettingthestatelocationto % state Location const S T A T E LOCATION state Location 
def webclient request  shared login request pagevars {'browser sessid request key render request 'webclient.html' pagevars 
def  Is Test Filename filename if filename ' test or filename ' unittest or filename ' regtest return Trueelse return False 
def  is Sequence obj m Type type obj return m Type is list or m Type is tuple 
def  bind parameters operation parameters string parameters {}for name value in parameters if value is None string parameters ' U L L isinstance value basestring string parameters "'" +  escape value + "'" else string parameters str value return operation % string parameters 
def  identity nodes graph include iterables return [node for node in nx sort graph if isinstance node interface Identity Interface and include iterables or getattr node u is None ]
def p compound stmt p p p 
def send score update assignment score xml generate replace result xml assignment result sourcedid score try response sign and send replace result assignment xml except Request Exception response Nonelog 'utcome Service Errorwhensendingresult if not response and check replace result response response log 'utcome Service Failedtoupdatescoreon L T Iconsumer User %s course %s usage %s score %s status %s body %s' assignment assignment key assignment key score response response if response else 'nknown 
def get Length Minus One Minimum One element List return max 1 len element List - 1
def takewhile inclusive pred seq for e in seq yield e if not pred e return 
def encode cert cert return encode b64jose Open S S L certificate Open S S L F I L E T Y P E ASN1 cert 
def  preferred alias aliases if not aliases returnaliases [a for a in aliases if 'locale' in a ]for locale in config str seq matches [a for a in aliases if a locale and 'primary' in a ]if not matches continuereturn matches 
def get allowed view plugins data dict can view []for plugin in p Plugin Implementations p I Resource View plugin info plugin if plugin info 'always available False or plugin view data dict can view plugin return can view 
def sigmoid cross entropy x t use cudnn True normalize True return Sigmoid Cross Entropy use cudnn normalize x t 
def set Settings Path path global settings Pathsettings Path path 
def cublas shutdown C U D A Matrix 0 cudamat shutdown 
def sm flavor get context sm flavor return I M P L flavor get context sm flavor 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def attr ge accessing obj accessed obj *args **kwargs return attr accessing obj accessed obj *args **{'compare' 'ge'}
def survey get Question From Code code series id None s3db current s3db seriesq ltable s3db question listqsntable s3db questionif series id ! None query sertable series id & q ltable id sertable id & q ltable id qsntable & qsntable code else query q ltable id sertable id & q ltable id qsntable & qsntable code record current query .select qsntable qsntable qsntable qsntable q ltable limitby 0 1 .first question {}if record ! None question row record questionquestion id question row question row question row question row record question list question 
def enabled name **kwargs ret {'name' name 'result' True 'changes' {} 'comment' []}current schedule   salt  ['schedule.list'] show all True return yaml False if name in current schedule if 'test' in   opts   and   opts  ['test'] kwargs Trueresult   salt  ['schedule.enable job name **kwargs ret result else result   salt  ['schedule.enable job name **kwargs if not result ret result result retelse ret 'nabledjob name else ret 'ob name ret '\n'.join ret return ret 
def whitespace around comma logical line line logical linefor m in WHITESPACE AFTER COMMA R E G E X line found m + 1 if ' DCTB ' in m yield found "242tabafter % m [0] else yield found "241multiplespacesafter % m [0]
@with support storage Null Storage def test no srcdir support raises Runtime Error support 
def connect euca host None aws access key id None aws secret access key None port 8773 path 'ucalyptus is secure False **kwargs from boto import E C2 Connectionfrom boto import Region Infoif not aws access key id aws access key id config 'redentials 'euca access key id None if not aws secret access key aws secret access key config 'redentials 'euca secret access key None if not host host config 'oto 'eucalyptus host None reg Region Info name 'eucalyptus' endpoint host return E C2 Connection aws access key id aws secret access key region reg port port path path is secure is secure **kwargs
def get user objects current user user module None preformat False objects dict if module user objects  get module objects module current user user 'get user objects if user objects for key in user objects user objects moduleobjects 'related user + key ] user objects [module]else perspective current user perspective modules perspective display True .order by 'title' if not modules modules Module display True .order by 'title' for module in modules user objects  get module objects module current user user 'get user objects if user objects for key in user objects user objects moduleobjects 'related user + key ] user objects preformat return  preformat objects modules objects return objects 
def import and wrap deprecated module name module dict warn import True if warn import deprecated import module name from importlib import import modulemodule import module module name for attr in module  all   module dict deprecated getattr module attr 
def iterencode iterator encoding errors 'strict' **kwargs encoder getincrementalencoder encoding errors **kwargs for input in iterator output encoder input if output yield output output encoder '' True if output yield output 
def  get upgradable dist upgrade True **kwargs cmd ['apt-get' '--just-print']if dist upgrade cmd 'dist-upgrade' else cmd 'upgrade' fromrepo  get repo **kwargs if fromrepo cmd ['-o' 'APT Default Release {0}'.format fromrepo ] call   salt  ['cmd.run all cmd python shell False output loglevel 'trace' if call ! 0 msg 'ailedtogetupgrades key in 'stderr' 'stdout' if call msg + ' ' + call breakraise Command Execution Error msg else out call re ' ?m ^onf [^]+ \\ [^]+ ' keys ['name' 'version'] get lambda l k l k ] upgrades rexp out ret {}for line in upgrades name  get line 'name' version num  get line 'version' ret version numreturn ret 
def  factorize from iterables iterables if len iterables 0 return [[] []]return map list lzip *[ factorize from iterable it for it in iterables 
def oo image tag to rpm version version include dash False if not isinstance version string types raise errors Ansible Filter Error '|failedexpectsastringorunicode' if version 'v' version version ]version version '-' [0]if include dash and version and not version '-' version '-' + version return version 
def isinteractive return matplotlib interactive 
def webuse data baseurl 'http //www.stata-press.com/data/r11/' as df True from statsmodels import genfromdtaurl urljoin baseurl data + '.dta' dta urlopen url dta Bytes I O dta if as df return Data Frame records genfromdta dta else return genfromdta dta 
def get Unique Quote Index unique Quote Index word unique Quote Index + 1while get Token By Number unique Quote Index in word unique Quote Index + 1return unique Quote Index 
def is update flags if from flags flags UPDATE return Truereturn False 
def fd f return f if hasattr f 'fileno' else f 
def File Writer context if context context format return Html File Writer context if context context format return Tsv File Writer context if context separated return Pipe Separated Txt Writer context return Space Separated Txt Writer context 
@csrf protect requireddef flag request comment id next None comment get object or 404 comments model pk comment id site  pk settings S I T E ID if request 'POST' perform flag request comment return next redirect request fallback next or 'comments-flag-done' c comment else return render to response 'comments/flag.html' {'comment' comment 'next' next template Request Context request 
def  hadoop cmd module command *args out Noneif module and command if module in   authorized modules   cmd 'hadoop{0}-{1}{2}'.format module command ''.join args out   salt  ['cmd.run'] cmd python shell False else return 'rror Unknownmodule return 'rror Moduleandcommandnotdefined out 
def rs compose add p1 p2 R p1 R p1 * p2 + 1 np1 rs newton p1 x prec np1e rs hadamard exp np1 np2 rs newton p2 x prec np2e rs hadamard exp np2 np3e rs mul np1e np2e x prec np3 rs hadamard exp np3e True np3a np3 0 ] - np3 / x q rs integrate np3a x q rs exp q x prec q  invert monoms q q q [1]dp p1 * p2 - q if dp q q * x ** dp return q 
def widget settings dir return os data dir 'widgets'
def run D E Seq2 input path out path mapping category subcategory 1 subcategory 2 D E Seq2 diagnostic plots outfile diagnostic if D E Seq2 diagnostic plots True command args [ '-i%s-o%s-c%s-x%s-y%s-d%s-e%s' % input path out path mapping category subcategory 1 subcategory 2 D E Seq2 diagnostic plots outfile diagnostic ]else command args [ '-i%s-o%s-c%s-x%s-y%s' % input path out path mapping category subcategory 1 subcategory 2 ]rsl R Executor Tmp Dir get qiime temp dir app result rsl command args command args script name ' E Seq2 nbinom return app result 
def paired manhattan distances X Y X Y check paired arrays X Y diff X - Y if issparse diff diff np diff return np np diff axis 1 else return np diff .sum axis -1
def test setting from masked column mask b np [rue True False False for select in mask b slice 0 2 t Table masked True t Column [1 2 3 4] t Masked Column [11 22 33 44] mask mask b t Masked Column [111 222 333 444] mask [rue False True False t t t t assert t is np assert t 222 assert t 33 assert t 44 assert np t t mask before add t t np len t assert np t mask before add 
def is iter y ignore six types if ignore and isinstance y ignore return Falsetry iter y return Trueexcept Type Error return False 
def sysctl ret {}sysctl jail   salt  ['cmd.run'] 'sysctlsecurity.jail' for line in sysctl jail key value line ' ' 1 ret ] value return ret 
def  Pad Labels3d logits labels logits shape shapes shape logits labels shape shapes shape labels labels tf labels [ -1 labels shape labels  Pad Labels2d logits shape labels labels tf labels [labels shape -1 ] labels  Pad Labels2d logits shape * logits shape labels return tf labels [labels shape logits shape logits shape 
def is Procedure Done Or File Is Empty gcode Text procedure if gcode Text '' return Truereturn is Procedure Done gcode Text procedure 
def akismet spam check user ip user agent **optional AKISMET API KEY getattr settings 'AKISMET API KEY' '' AKISMET CHECK ENABLED waffle is active 'AKISMET CHECK ENABLED' if not AKISMET API KEY or not AKISMET CHECK ENABLED return None A K I S M E T URL 'https //{0}.rest.akismet.com/1.1/comment-check'.format AKISMET API KEY parameters {'blog' settings S I T E URL 'user ip user ip 'user agent user agent optional response requests AKISMET URL data parameters response for status try return {'true' True 'false' False Key Error error response 'x-akismet-debug-help' raise Exception 'kismetraisedanerror {0}'.format error 
def temporary Apply Overrides repository global global Temporary Overridesif repository Name in global Temporary Overrides setting Table {}for setting in repository setting Table settingfor name value in overrides Name if name in setting Table setting Table Value To String value else print 'verridenotappliedfor %s %s' % name value 
def  get rois blob im rois im scale factors rois levels  project im rois im rois im scale factors rois blob np levels rois return rois blob np copy False 
def  poll while predicate steps sleep None return poll until lambda not predicate steps sleep 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def required length nmin nmax class Required Length Action def   call   self parser args values option string None if not nmin < len values < nmax raise Argument Error self u % nmin nmax setattr args self values return Required Length 
def test table groups mask index T1 for masked in False True t1 Table T1 masked masked .group by 'a' t2 t1 [rue False True ]assert len t2 2 assert t2 t1 assert t2 t1 assert np t2 np [0 2]
def test unicode escapes s '00008000 len s 29 entry tokenize s [0]assert len entry 5 assert [ord x for x in entry [97 172 4660 8364 32768]
def  pragma cursor cursor if cursor cursor lambda None cursor lambda [] return cursor 
def  parse log statement options for i in options if  is reference i  add reference i  current statement elif  is junction i  add junction i elif  is inline definition i  add inline definition i  current statement 
@app.route '/notes' methods ['POST' 'PUT'] def add note id token request Authorization '' .pop claims google token firebase token id token HTTP REQUEST if not claims return 'nauthorized 401 data request json note Note parent ndb Key Note claims message data note id claims 'name' claims 'email' 'nknown note return 'OK' 200
def gcal2jd year month day year int year month int month day int day a ipart month - 14 / 12.0 jd ipart 1461 * year + 4800 + a / 4.0 jd + ipart 367 * month - 2 - 12 * a / 12.0 x ipart year + 4900 + a / 100.0 jd - ipart 3 * x / 4.0 jd + day - 2432075.5 jd - 0.5return MJD 0 jd 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def diop ternary quadratic normal eq var coeff diop type classify diop eq  dict False if diop type 'homogeneous ternary quadratic normal return  diop ternary quadratic normal var coeff 
def test ada bad ratio ratio -1.0 ada ADASYN ratio ratio random state RND SEED assert raises Value Error ada X Y ratio 100.0ada ADASYN ratio ratio random state RND SEED assert raises Value Error ada X Y ratio 'rnd'ada ADASYN ratio ratio random state RND SEED assert raises Value Error ada X Y ratio [0.5 0.5]ada ADASYN ratio ratio random state RND SEED assert raises Value Error ada X Y
def  get node node Id node Attrs 'id' 'class' 'model' 'pattern' if hasattr node 'ttributes and node Attributes for node Attr in node Attrs if str node Attribute node Attr node Id return nodeif node Child Nodes if hasattr node Nodes 'length' length node Nodes length len node Nodes for child Num in range length result  get node Nodes Num node Id if result return result 
def title or url node title getattr node 'display name None if not title title node deprecated string return title 
def make providers strings providers if not providers return Noneif len providers 1 providers string providers len providers 2 providers string _ '{first provider provider .format first provider providers second provider providers else providers string _ '{first providers and provider .format first providers u '.join providers -1 ] last provider providers -1 ] return providers string 
def ensure tenant exists keystone tenant name tenant description check mode try tenant get tenant keystone tenant name except Key Error passelse if tenant tenant description return False tenant elif check mode return True tenant else tenant description tenant description return True tenant if check mode return True None ks tenant keystone tenant name tenant name description tenant description enabled True return True ks tenant 
def   Send Data Part data connection deprecated 'calltodeprecatedfunction  Send Data Part if isinstance data str connection data returnelif Element Tree data connection Element Tree data returnelif hasattr data 'read' while 1 binarydata data 100000 if binarydata '' breakconnection binarydata returnelse connection str data return 
def  parse network details machine id logging _ 'eceivedmachine idfromvmtools %s' % machine id network details []if machine id '1' passelse for machine id str in machine id '#' network info list machine id str ';' if len network info list % 6 ! 0 breakno grps len network info list / 6 i 0while i < no grps k i * 6 network details network info list .lower network info list k + 1 ].strip network info list k + 2 ].strip network info list k + 3 ].strip network info list k + 4 ].strip network info list k + 5 ].strip .split ' ' i + 1logging.debug _ ' I Cinformationfromvmtools %s' % network details return network details 
def test template e H T T P Internal Server Error e 'A% ping sand pong s str e .startswith 'nternal Server Error assert e {'ping' 'fun' 'pong' 'happy'} 'nternal Server Error Afunandhappymessage assert 'funand in e {'ping' 'fun' 'pong' 'happy'}
def recursively remove dir if not  os dir returnshutil dir 
def get hosts and tests host info {}q dbmodels Q test name  startswith 'kernbench' | dbmodels Q test name  startswith 'dbench' | dbmodels Q test name  startswith 'tbench' | dbmodels Q test name  startswith 'unixbench' | dbmodels Q test name  startswith 'iozone' test query models Test View q .values 'test name 'hostname' 'machine idx .distinct for result dict in test query hostname result dict result dict name idx result dict idx info hostname {} host info 'tests' [] host info test host info machine idxreturn rpc utils for serialization host info 
@profiler.tracedef vpnservice create request **kwargs body {'vpnservice' {'admin state up kwargs state up 'name' kwargs 'description' kwargs 'router id kwargs id 'subnet id kwargs id neutronclient request .create vpnservice body .get 'vpnservice' return V P N Service vpnservice 
def get Loop Starting Nearest extrusion Half Width location loop nearest Index get Nearest Distance Index location loop .indexloop get Around Loop nearest Index nearest Index loop nearest Point get Nearest Point On Segment loop loop location if abs nearest Point - loop > extrusion Half Width and abs nearest Point - loop > extrusion Half Width loop [oint + loop ] + [loop[0]] elif abs nearest Point - loop > abs nearest Point - loop loop loop ] + [loop[0]] return loop 
def  do mb delete path return  mb request path 'DELETE' AUTH YES True 
def Access Denied message response shortcuts to response '404.html' {'message' message logging message response code 4 T A T S Increment Counter 'http access denied return response 
def farness user return sum len paths for paths in user paths 
def get File Paths Recursively file In Directory '' file Paths get File Paths file In Directory file Paths Recursively file Paths ]for file Path in file Paths if os file Path directory os file Path if len directory > 0 file Paths Recursively + get File Paths Recursively os file Path directory return file Paths Recursively 
def is distance regular G try intersection array G return Trueexcept nx Network X Error return False 
@facebook required lazy page tab True def page tab request graph signed request string request P O S T request request parse signed request signed request string context {'signed request signed request render request 'django facebook tab context 
def list nodes min ret {}cmd '{0}listvms'.format vboxcmd for line in salt cmd .splitlines if not line continuecomps line name comps '"' '' ret Truereturn ret 
def fixed ip disassociate context address return I M P L ip disassociate context address 
def user follower count context data dict return  follower count context data dict ckan follow user schema context User Following User 
def permalink func from django import reversedef inner *args **kwargs bits func *args **kwargs return reverse bits None *bits[1 3] return inner 
def verify cypher key return gluechops cypher key key encrypt int 
def  geometric transform input mapping coordinates matrix offset output order mode cval extra arguments extra keywords  nd image transform input mapping coordinates matrix offset output order mode cval extra arguments extra keywords if output is not None and not output output True return output 
def  kpatch url data headers {ontent Type 'application/json-patch+json'}ret http url method 'PATCH' header dict headers data json data if ret 'error' log 'otanerror {0}'.format ret 'error' return retelse return json ret 'body'
def set  key value profile None conn salt conn profile time profile 'expire' DEFAULT EXPIRATION return salt  conn key value time time 
def pytest unconfigure config if config '--qute-profile-subprocs' stats pstats Stats for fn in os 'prof' stats os 'prof' fn stats stats os 'prof' 'combined.pstats'
def docstr2rst docstr idx whitespace len docstr - len docstr whitespace docstr whitespace ]return eval docstr + whitespace 
def init git pillar opts ret []for opts dict in [x for x in opts 'ext pillar [] ] if 'git' in opts dict if isinstance opts dict six types try import gitexcept Import Error return retparts opts dict .split try br parts parts Index Error log 'nabletoextractexternalpillardata {0}'.format opts dict else ret git pillar Legacy Git Pillar br loc opts else pillar salt Git Pillar opts pillar remotes opts dict git pillar P E R REMOTE OVERRIDES ret pillar return ret 
def sec to hms sec if sec < -1 return '[endless]'h sec / 3600 sec % 3600m sec / 60 sec % 60return '[%d %02d %02d]' % h m sec 
def iter filename info dir name pattern re '^ .+ __ .+ __ [^-]+ \\.png' for t in os dir name for filename in t if filename '.png' m pattern filename if m is None yield {'error' 'pngfilenamenotfollowingscreenshotpattern {}'.format filename } else d m 2 .replace '__' sep yield {'dunder' m 1 'dir' d 'file' m 3 'ext' m 4 'source' slash d m 3 + '.' + m 4 }
def get New Repository return Fill Repository 
def disk io counters device None if not device return dict psutil io counters . asdict else stats psutil io counters perdisk True if device in stats return dict stats asdict else return False 
def make wdg validate middleware app global conf wdg path 'validate' return W D G Validate Middleware app global conf wdg path wdg path 
def get notifications user notifications []try user return []try if not getattr settings 'HARDTREE ALLOW GRITTER NOTIFICATIONS' False return notificationsrequest Http Request request userstorage default storage request for msg in storage get [0] notifications {'message' msg 'tags' msg get tags } storage store None except passreturn notifications 
def paranoid urlparser method check def check wrapper parser *args **kwargs return Url Parser paranoid check parser check *args **kwargs return check wrapper 
def list datastores service instance return list objects service instance vim Datastore 
def utcnow if utcnow time try return utcnow time 0 except Attribute Error return utcnow timereturn datetime 
def search reverse prog chars col m prog chars if not m return Nonefound None i j m while i < col and j < col found mif i j j j + 1 m prog chars j if not m break i j m return found 
def test misc conversions pass 
@blueprint.route '/projects/<project>/meters/<meter>/volume/sum' def compute project volume sum project meter check authorized project project return  get statistics 'sum' meter meter project project 
def  to list obj ret {}for attr in   attrs ret obj  dict  [attr]return ret 
@manager.option u u action u true help u Startthewebserverindebugmode @manager.option u u default config u S U P E R S E T WEBSERVER ADDRESS' help u Specifytheaddresstowhichtobindthewebserver @manager.option u u default config u S U P E R S E T WEBSERVER PORT' help u Specifytheportonwhichtorunthewebserver @manager.option u u default config u S U P E R S E T WORKERS' 2 help u Numberofgunicornwebserverworkerstofireup @manager.option u u default config u S U P E R S E T WEBSERVER TIMEOUT' help u Specifythetimeout seconds forthegunicornwebserver def runserver debug address port timeout workers debug debug or config u D E B U G if debug app host u port int port threaded True debug True else cmd u {port}--limit-request-line0--limit-request-field size0superset app **locals print u Startingserverwithcommand ' + cmd Popen cmd shell True .wait
@command 'historyrecent' def recent history view history duplicates False 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def school type return s3 rest controller 
def test solve discrete lyapunov zero A np 4 * 0.95 B np 4 4 X qme discrete lyapunov A B assert allclose X np 4 4
def test precision exceeds 64bit t1 Time 123456789000.0 format 'cxcsec' t2 t1 + dt tiny assert t1 t2 
def synctasklet func taskletfunc tasklet func @utils.wrapping func def synctasklet wrapper *args **kwds   ndb debug   utils info func return taskletfunc *args **kwds .get result return synctasklet wrapper 
def db add group **kwargs name kwargs 'name' group get object User Group name name users kwargs 'users id if not group group User Group **kwargs group for user id in users group add user group user id 
def egl Terminate display  lib Terminate display 
def write megam file train toks encoding stream bernoulli True explicit True labels encoding labelnum dict label i for i label in enumerate labels for featureset label in train toks if hasattr encoding 'cost' stream ' '.join str encoding featureset label l for l in labels else stream '%d' % labelnum if not explicit  write megam features encoding featureset label stream bernoulli else for l in labels stream '#'  write megam features encoding featureset l stream bernoulli stream '\n'
def assert python ok *args **env vars return  assert python True *args **env vars 
def gen extractor classes return  ALL CLASSES
def fixed ips by virtual interface context vif id return I M P L ips by virtual interface context vif id 
def resolve mro model name predicate result []for cls in type model .  mro   if name in cls  dict   value cls  dict  [name]if not predicate value breakresult value return result 
def tamper payload **kwargs ret Val ''if payload ret Val '%s%ssp password % payload '--' if not any _ if _ in payload else None for _ in '#' '--' else '' return ret Val 
def warn nonexistent targets targets sections log printer for target in targets if target not in sections log printer "herequestedsection Thusitcannotbeexecuted section target files config absent warn config absent sections 'files' log printer bears config absent warn config absent sections 'bears' log printer if files config absent or bears config absent raise System Exit 2
def goto grep line parsed line parse grep line line if parsed line filename line number contents parsed linedo cmds Edit [filename] line number line number 
def remove root root paths return [pth.replace root + '/' '' for pth in paths 
def grains if not GRAINS CACHE return  grains D E T A I L S D E T A I L S D E T A I L S return GRAINS CACHE
def make dict copy from dict copy from dict {}for key value in from dict if type value .  name   'dict' copy from dict make dict copy value elif isinstance value list copy from dict make list copy value else copy from dict valuereturn copy from dict 
def  mongo client host port authenticate True direct False **kwargs client options client context client options if client context set name and not direct client options Set client context set nameclient options kwargs client Mongo Client  connection string host port authenticate port **client options return client 
def ternary value true val false val if value return true valelse return false val 
def resource fields resource fields if fields resource {key item for key item in resource if key in fields }return attributes project info resource 
def start hass instance hass hass 
def migration get context migration id return I M P L get context migration id 
def test rechunk 2d a np 0 1 300 .reshape 10 30 x da array a chunks 1 2 3 4 5 * 6 new 5 5 15 * 2 x2 rechunk x chunks new assert x2 new assert np x2 a 
def  key string key key prefix '' server to user dict None if  is pair key key key not isinstance key basestring raise Type Error 'eymustbeastringinstance received % key if not isinstance key prefix basestring raise Type Error 'key prefixmustbeastringinstance received % key prefix server key key prefix + key if isinstance server key unicode server key server key 'utf-8' if len server key > MAX KEY SIZE server key hashlib server key .hexdigest if server to user dict is not None assert isinstance server to user dict dict server to user dict key keyreturn server key 
def fnunpickle fileorname number 0 usec Pickle True if usec Pickle and six P Y2 import c Pickle as pickleelse import pickleif isinstance fileorname six types f open fileorname u close Trueelse f fileornameclose Falsetry if number > 0 res []for i in range number res pickle f elif number < 0 res []eof Falsewhile not eof try res pickle f except E O F Error eof Trueelse res pickle f finally if close f return res 
def start server data stream port 5557 hwm 20 logging Config level 'INFO' context zmq Context socket context zmq P U S H socket hwm hwm socket 'tcp //* {}'.format port it data streamlogger 'serverstarted' while True try data next it stop Falselogger 'sending{}arrays'.format len data except Stop Iteration it data streamdata Nonestop Truelogger 'top Iteration send arrays socket data stop stop 
@register.inclusion tag 'inclusion.html' def inclusion unlimited args one two 'hi' *args return {'result' 'inclusion unlimited args Expectedresult %s' % ' '.join [six.text type arg for arg in [one two + list args ] }
def test good create config from post tmpdir workspace tmpdir config path workspace + '/config.yaml' make default config if needed temp config path temp ip detect path workspace + '/ip-detect' f open temp ip detect path 'w' f '#/bin/bashfoo' good post data {'agent list ['10.0.0.2'] 'master list ['10.0.0.1'] 'cluster name 'ood Test 'resolvers' ['4.4.4.4'] 'ip detect filename temp ip detect path good messages {}messages backend config from post post data good post data config path temp config path assert messages expected good messages 
def get user meta prefix server type return 'x-%s-%s-' % server type 'meta'
def normal lower bound probability mu 0 sigma 1 return inverse normal cdf 1 - probability mu sigma 
def  sym decorrelation W s u linalg np W W.T return np np u * 1.0 / np s u T W
def matrix2numpy m dtype object from numpy import emptya empty m dtype for i in range m for j in range m a i j ] m i j ]return a 
def  track event event name bookmark tracker event name {'course id unicode bookmark key 'bookmark id bookmark id 'component type bookmark key type 'component usage id unicode bookmark key }
def test unicode axes bar Bar [1 2 3] bar titles x u y u Z A G L J A 
def complete xonfig prefix line start end ctx args line '' if len args 0 or args ! 'xonfig' return Nonecurix args prefix if curix 1 possible {'info' 'wizard' 'styles' 'colors' '-h'}elif curix 2 and args 'colors' possible set xt style names else raise Stop Iterationreturn {i for i in possible if i prefix }
def askopenfile mode 'r' **options filename Open **options .show if filename return open filename mode return None 
@task name 'all' help {'args' 'ommandlineargsfortestrun def test all ctx args '' options '' pytest args select by prefix args ctx behave args select by prefix args ctx test pytest should run not args or args and pytest args behave should run not args or args and behave args if pytest should run pytest ctx pytest args options options if behave should run behave ctx behave args options options 
def  Parse Port port description try port int port if not 65535 > port > 0 raise Value Errorreturn portexcept Value Error print >>sys.stderr 'nvalidvalue % port description Print Usage Exit 1
def import required mod name error msg try return import module mod name except Import Error raise Runtime Error error msg 
def  convert value T if type value is T return valueif issubclass T int and value ! 1 T floattry return T value except Type Error if issubclass T Decimal return T value / T value else raise 
def search python list python code template names retval []for tn in template names retval search python python code tn retval list set retval retval return retval 
def is algebraic p if p Rational return Trueelif p Atom return Falseelif is sqrt p or p Pow and p Integer return is algebraic p elif p Add or p Mul return all is algebraic x for x in p else return False 
def user media url what default '%s%s/' % settings M E D I A URL what key '{0} U R L what .replace '-' '_' return getattr settings key default 
def  Strip Leading Or Trailing Double Colons addr string if addr string ' ' return addr string ]if addr string ' ' return addr string -1 ]return addr string 
def parse rec filename tree E T filename objects []for obj in tree 'object' obj struct {}obj struct obj 'name' .textobj struct obj 'pose' .textobj struct int obj 'truncated' .text obj struct int obj 'difficult' .text bbox obj 'bndbox' obj struct [int bbox 'xmin' .text int bbox 'ymin' .text int bbox 'xmax' .text int bbox 'ymax' .text ]objects.append obj struct return objects 
def get hub class global  threadlocaltry hubtype  threadlocal Hubexcept Attribute Error hubtype Noneif hubtype is None hubtype  threadlocal Hub Hubreturn hubtype 
def dotted netmask mask bits 4294967295 ^ 1 << 32 - mask - 1 return socket ntoa struct '>I' bits 
def  minimal Percent Encode text safe unsafe set  gen Delims +  sub Delims - set safe return u c if c not in unsafe else '%{ 0 ord c for c in text 
def  compute hist tensor hist nbins 64 offset -48 threads 128assert nbins < threads and nbins > 0 size tensor np np size / threads * threads if strides < threads strides max size / threads * threads threads blocks max 1 int strides // threads kernel args [hist tensor int strides size kern  get hist kernel tensor nbins offset hist kern call blocks 1 1 threads 1 1 *kernel args 
def timefunc func @functools.wraps func def inner *args **kwargs start time time try return func *args **kwargs finally total time time - start time L O G _ "timefunc '% name s total time .2fsecs" % dict name func  name   total time total time return inner 
def can list access key secret key if not access key and secret key return Falsetry connect s3 access key secret key .get all buckets except exception S3 Response Error return Falsereturn True 
def test instantiate regression yaml "{'a' &test!obj pylearn2 yaml parse Dum Dum 'b' *test}"obj load yaml assert obj is obj 
def is decimal string return all ch in DIGITS for ch in string 
def pkgfiles opts return Lazy Loader  module dirs opts 'pkgfiles' base path os SALT BASE PATH 'spm' opts tag 'pkgfiles'
def kruskal wallis data return kruskal *data
def argmin random tie seq func return random argmin list seq func 
def strip uri prefix path return re '^ /v\\d+ ?' '' six type path 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def config check name passed default module diff Default V M Config passed default if len diff diff module json msg 'issingrequiredkey % ' '.join diff diff name default if diff diff module json msg 'onfigmismatchfor % name diff diff return True 
def jitdevice func link [] debug False inline False if link raise Value Error 'linkkeywordinvalidfordevicefunction' return compile device template func debug debug inline inline 
def build expression tree Omega rewrites class Node def ht self return reduce lambda x y x + y [x.ht for x in self 1 nodes {}for expr v in Omega n Node n []n.var vn exprnodes nfor _ v in Omega if v in rewrites n nodes rewrites _ v2 in Omega if r v2 n nodes return nodes 
def notrack cls cls no instance tracking Truereturn cls 
def attach roles queryset as field 'roles attr model queryset ' E L E C Tjson agg \nrow to json users role \ R D E R B Yusers role \ R O Musers role W H E R Eusers role id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def test rgb to hsl part 11 assert rgb to hsl 102 102 153 240 20 50 assert rgb to hsl 51 51 204 240 60 50 assert rgb to hsl 0 0 255 240 100 50
def make projector projs ch names bads include active True return  make projector projs ch names bads include active 
@pytest.fixture def  temp analyze files prime tmpdir orig img tmpdir u prime orig hdr tmpdir u prime orig img u .close orig hdr u .close return str orig img str orig hdr 
def date from adverb base date name adverb date datetime base date base date base date if name 'today' or name 'tonite' or name 'tonight' return adverb date elif name 'yesterday' return adverb date - timedelta days 1 elif name 'tomorrow' or name 'tom' return adverb date + timedelta days 1
def cm Reestablishment Request Local Area Id presence 0 a Tp Pd pd 5 b Message Type mes Type 40 c Ciph Key Seq Nr And Spare Half Octets e Mobile Station Classmark2 f Mobile Id if Local Area Id presence is 1 g Local Area Id iei 19 eightbit 0 packet packet / g packet a / b / c / e / f return packet 
def domain match A B A A B B if A B return Trueif not is HDN A return Falsei A B if i -1 or i 0 return Falseif not B '.' return Falseif not is HDN B[1 ] return Falsereturn True 
def libvlc media player set position p mi f pos f  Cfunctions 'libvlc media player set position None or  Cfunction 'libvlc media player set position 1 1 None None Media Player ctypes float return f p mi f pos 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def divisible a b return not a % b 
def get or create anonymous cart from token token cart queryset Cart return cart queryset .filter token token user None .get or create defaults {u'user' None [0]
def  Default App Id return os 'APPLICATION ID' '_'
def nice s if type s is String Type return repr s else return str s 
def generate email start ref end ref release date None if release date is None release date default release date prbe prs by email start ref end ref email u To {oumergedatleastonepullrequestforedx andyouareresponsibleforverifyingthose Pleasego \n\nhttps / N G Release Thestagingserveris https /otethatyouareresponsibleforverifyinganypullrequeststhatyou whetheryouwrotethecodeornot Ifyoudidn \nyoucanandshouldtrytogetthepersonwhowrotethecodetohelp\nverifythechanges--butevenifyoucan't you \fyoufindanybugs pleasenotifymeandrecordthebugsonthe Thanks Bytheway ifyouhavean youmayneedtoresetyourpassword Ifyouwouldpreferthisemailbesenttoadifferentemailaddressofyours \nsendarequesttooscm@edx.orgwiththedetails.\n\n".format emails u '.join prbe date release date return textwrap email .strip
def vmstat vm stat ['vmstatus ']vm stat + utils output 'vmstat' verbose False .splitlines vm stat + ['\n']return vm stat 
def compare Portion Direction portion Direction other Portion Direction if portion Direction > other Portion Direction return 1if portion Direction < other Portion Direction return -1 if portion Direction Reversed < other Portion Direction Reversed return -1 return portion Direction Reversed > other Portion Direction Reversed 
def Cmp To Key mycmp class K object def   init   self obj self objdef   lt   self other return mycmp self other -1 return K
def  periodicity args symbol periods []for f in args period periodicity f symbol if period is None return Noneif period is not S Zero periods period if len periods > 1 return lcim periods return periods 
def get warnings state warnings warn txt Deprecation Warning stacklevel 2 return warnings ]
def parse authorization header value if not value returnvalue wsgi to bytes value try auth type auth info value None 1 auth type auth type except Value Error returnif auth type 'basic' try username password base64 auth info .split ' ' 1 except Exception returnreturn Authorization 'basic' {'username' bytes to wsgi username 'password' bytes to wsgi password } elif auth type 'digest' auth map parse dict header auth info for key in 'username' 'realm' 'nonce' 'uri' 'response' if key not in auth map returnif 'qop' in auth map if not auth map 'nc' or not auth map 'cnonce' returnreturn Authorization 'digest' auth map 
def generate dataset shelve filename number items 1000 if os filename os filename data shelve filename names get names totalnames len names random for i in range number items data i + 1 ] {'name' names 0 totalnames - 1 ] 'age' random 1 100 'description' li words 50 False }data.close
def parse method descriptor descr name None assert descr and descr ' ' descr descr ]params list []while descr ! ' ' param descr eat descriptor descr params list param type tail eat descriptor descr ] assert not tail params ' '.join params list if name return '%s%s %s ' % type name params else return '%s %s ' % type params 
def get bytes from wsgi environ key default value environ key default return value ISO 8859 1
def read epochs eeglab input fname events None event id None montage None eog verbose None uint16 codec None epochs Epochs E E G L A B input fname input fname events events eog eog event id event id montage montage verbose verbose uint16 codec uint16 codec return epochs 
def equate X point return Value point return Value 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def question list output s3 rest controller return output 
def get all entries feed url d feedparser feed url entries []for e in d published make aware datetime *e['published parsed 7] timezone utc entry {'title' e 'summary' e 'summary' '' 'pub date published 'url' e entry return entries 
def cols lst ncols nrows int math 1.0 * len lst / ncols lst lst + [one for i in range len lst nrows * ncols ] cols [lst[i i + nrows ] for i in range 0 nrows * ncols nrows ]rows zip *cols rows [filter lambda x x is not None r for r in rows rows 
def sortkey item return type item .  name   item 
def get ipython cache dir xdgdir get xdg cache dir if xdgdir is None return get ipython dir ipdir os xdgdir 'ipython' if not os ipdir and  writable dir xdgdir ensure dir exists ipdir elif not  writable dir xdgdir return get ipython dir return py3compat unicode ipdir fs encoding 
def fmin ncg f x0 fprime fhess p None fhess None args avextol 1e-05 epsilon  epsilon maxiter None full output 0 disp 1 retall 0 callback None opts {'xtol' avextol 'eps' epsilon 'maxiter' maxiter 'disp' disp 'return all retall  minimize newtoncg f x0 args fprime fhess fhess p callback callback **opts if full output retlist res res res res res res if retall retlist + res return retlistelif retall return res res else return res 
def  set price list quotation cart settings if quotation price list returnselling price list Noneif quotation from erpnext import get default price listselling price list get default price list frappe doc u Customer quotation if not selling price list selling price list cart settings listquotation price list selling price list 
def rackconnect vm  return config cloud config value 'rackconnect' vm    opts   default False search global False 
@bdd.then bdd 'thepageshouldcontainthehtml"{text}"' def check contents html quteproc text content quteproc content plain False assert text in content 
def  volume type and iops for profile name profile name size volume type Noneiops Nonetry A E B S Mandatory Profile Attributes By Name Mandatory Profiles By Value profile name .name .valueexcept Value Error passelse volume type A type A iops size return volume type iops 
def gf zassenhaus f p K factors []for factor n in gf ddf zassenhaus f p K factors + gf edf zassenhaus factor n p K return  sort factors factors multiple False 
def uid sequence uidlist def getrange start end if start end return str start return '%s %s' % start end if not len uidlist return '' start end None None retval []sorted uids sorted map int uidlist for item in iter sorted uids item int item if start None start end item item elif item end + 1 end itemelse retval getrange start end start end item item retval getrange start end return ' '.join retval 
def get rect xmax data return max data data data data 
def register canonical role name role fn set implicit options role fn  role registry role fn 
def apiinfo version **connection args conn args  login **connection args try if conn args method 'apiinfo.version'params {}ret  query method params conn args conn args return ret raise Key Errorexcept Key Error return False 
def get data for recent jobs recency msec DEFAULT RECENCY MSEC recent job models job models Job Model recent jobs NUM JOBS IN DASHBOARD LIMIT recency msec return [ get job dict from job model model for model in recent job models 
def install grubby if necessary path None installed grubby Falseif path is None if find executable GRUBBY DEFAULT USER PATH executable GRUBBY DEFAULT USER P A T Helse executable find executable GRUBBY DEFAULT SYSTEM PATH else executable find executable path if executable is None log 'nstallinggrubbybecauseitwasnotfoundonthissystem grubby Grubby path grubby install installed grubby Trueelse grubby Grubby executable current version grubby grubby version if current version is None log 'ouldnotfindversionforgrubbyexecutable executable path grubby install installed grubby Trueelif current version < GRUBBY REQ VERSION log 'nstallinggrubbybecausecurrentlyinstalledversion %s.%s isnotrecentenough current version current version path grubby install installed grubby Trueif installed grubby grubby Grubby path installed version grubby grubby version raw log 'nstalled %s' installed version 
def title s *args **kwargs return gca .set title s *args **kwargs
def scp from remote host port username password remote path local path limit '' log filename None timeout 600 interface None if limit limit '-l%s' % limit if host and host .startswith 'fe80' if not interface raise S C P Error 'henusingipv6linklocaladdressmustassign ' 'theinterfacetheneighbourattache' host '%s%%%s' % host interface command 'ser Known Hosts File /referred Authentications password P %s%s' % limit port username host remote path local path password list []password list password remote scp command password list log filename timeout 
def test ast anon fns basics code can compile u fn x *xx ' .body[0]assert type code ast Function Def code can compile u fn x ' .body[0]cant compile u fn '
def managed name servers None ret {'name' name 'changes' {} 'result' True 'comment' ' T Pserversalreadyconfiguredasspecified not  check servers servers ret Falseret ' T Pserversmustbealistofstrings servers  get servers desired servers set servers if before servers desired servers return retif   opts  ['test'] ret Noneret ' T Pserverswillbeupdatedto {0}'.format ' '.join sorted desired servers return ret  salt  ['ntp.set servers *desired servers after servers  get servers if after servers desired servers ret ' T Pserversupdated {'old' sorted before servers 'new' sorted after servers }else ret Falseret 'ailedtoupdate N T Pservers before servers ! after servers ret {'old' sorted before servers 'new' sorted after servers }return ret 
def sysctl ret {}sysctl jail   salt  ['cmd.run'] 'sysctlsecurity.jail' for line in sysctl jail key value line ' ' 1 ret ] value return ret 
def  remove tags conn load balancer names tags params {}conn.build list params params load balancer names 'oad Balancer Names conn list params params tags 'ags Key return conn status 'emove Tags params verb 'POST'
def test import from ... import numpy as anpassert anp is matmul 
def test ch loc raw py read raw kit sqd path mrk path elp txt path hsp txt path stim '<' raw bin read raw fif op data dir 'test bin raw ch py raw py raw extras locs 5]ch py 3] * 1000.0ch sns read sns op data dir 'sns.txt' assert array almost equal ch py ch sns 2 assert array almost equal raw py head t raw bin head t 4 for py ch bin ch in zip raw py raw bin if bin ch name 'MEG' assert array almost equal py ch bin ch decimal 2 mrks [mrk path mrk2 path mrk3 path raw kit sqd path mrks elp txt path hsp txt path preload False raw bin raw bin 8]raw py raw py 8]assert dig allclose raw py raw bin 
def harden allow root login False allow password auth False sshd config '/etc/ssh/sshd config if not allow password auth disable password auth sshd config sshd config if not allow root login disable root login sshd config sshd config 
def ipow a b a ** breturn a 
def uncamelcase name separator '_' s1 FIRST CAP R E '\\1%s\\2' % separator name return ALL CAP R E '\\1%s\\2' % separator s1 .lower
def test can parse a unary array from single step steps Step from lines I HAVE TASTY B E V E R A G E S assert equals len steps 1 assert isinstance steps Step assert equals steps string I HAVE TASTY BEVERAGES '\n' [0]
def zulip registry xml parent data X M L Sub Element xml parent 'umbug Notifier 
def transform tawn2 t theta k def  check args theta k condth theta > 0 cond1 theta + 3 * k > 0 and theta + k < 1 and theta + 2 * k < 1 return condth and cond1 if not np  check args theta k raise Value Error 'invalidargs' transf 1 - theta + k * t + theta * t * t + k * t ** 3 return transf 
def get canonical path project resource offset pymod project pymodule resource pyname rope location pymod offset defmod lineno pyname definition location if not defmod return Nonescope defmod scope .get inner scope for line lineno names []if isinstance pyname pynamesdef Parameter Name names [ worder name at pymod resource offset 'PARAMETER' ]elif isinstance pyname pynamesdef Assigned Name names [ worder name at pymod resource offset 'VARIABLE' ]while scope if isinstance scope pyscopes Function Scope scope type ' U N C T I O N isinstance scope pyscopes Class Scope scope type ' L A S S scope type Nonenames scope name scope type scope scope defmod resource .real path 'MODULE' names return names 
def  generate overlap table prefix table [0] * len prefix for i in range 1 len prefix idx table i - 1 ]while prefix ! prefix if idx 0 table 0breakidx table idx - 1 ]else table idx + 1 return table 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def profile post save instance sender **kwargs from django import Group anon group created Group or create name 'anonymous' instance anon group if instance not in [u'' '' None and not kwargs 'raw' False address created Email Address or create user instance primary True defaults {'email' instance 'verified' False if not created Email Address user instance primary True .update email instance 
def get run configuration fname configurations  get run configurations for filename options in configurations if fname filename runconf Run Configuration runconf options return runconf 
@requires duration to maskdef time symmetrize clip return concatenate videoclips [clip clip time mirror ]
def path *s joined os os config S T O R E DIR *s absolute os joined verify absolute return absolute 
def clear middleware app def clear throw errors environ start response headers sent []def replacement status headers exc info None if headers sent return start response status headers exc info headers sent True return start response status headers if 'paste.throw errors in environ del environ errors app environ replacement return clear throw errors 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def put  keyname val mdata  check mdata put ret {}if mdata cmd 'echo{2}|{0}{1}'.format mdata keyname val ret   salt  ['cmd.run all cmd python shell True return ret 0
@blueprint.route '/autocomplete/path' methods ['GET'] def path autocomplete path flask 'query' '' if not os path path os + path suggestions [os.path.abspath p for p in glob path + '*' ]if platform 'indows suggestions [p.replace '\\' '/' for p in suggestions {'suggestions' sorted suggestions }return json result 
@utils.arg 'tenant' metavar '<tenant id help ' U I Doftenanttosetthequotasfor @utils.arg '--monitors' metavar '<monitors>' type int default None help 'ewvalueforthe @utils.arg '--snapshots' metavar '<snapshots>' type int default None help 'ewvalueforthe @utils.arg '--gigabytes' metavar '<gigabytes>' type int default None help 'ewvalueforthe @utils.service type 'monitor' def do quota update cs args  quota update cs args args 
def spherical jn n z derivative False if derivative return  spherical jn d n z else return  spherical jn n z 
def clear triggers name location '\\' if name not in list tasks location return '{0}notfoundin{1}'.format name location pythoncom Co Initialize task service win32com Dispatch 'chedule Service task service Connect task folder task service Get Folder location task definition task folder Get Task name .efinitiontriggers task definition Triggerstriggers Clear return  save task definition name name task folder task folder task definition task definition user name task definition Principal User I D password None logon type task definition Principal Logon Type 
def deferred Generator f def unwind Generator *args **kwargs return  defer Generator f *args **kwargs Deferred return merge Function Metadata f unwind Generator 
def do email change request user new email activation key None pec list Pending Email Change user user if len pec list 0 pec Pending Email Change pec userelse pec pec list not activation key activation key uuid .hexpec.new email new emailpec key activation keypec context {'key' pec key 'old email user 'new email pec email render to string 'emails/email change subject context subject ''.join subject message render to string 'emails/email change context from address configuration helpers value 'email from address settings D E F A U L T FROM EMAIL try mail mail subject message from address [pec.new email except Exception log u Unabletosendemailactivationlinktouserfrom from address exc info True raise Value Error _ 'nabletosendemailactivationlink Pleasetryagainlater tracker SETTING CHANGE INITIATED {'setting' 'email' 'old' context email 'new' context email 'user id user 
def merge solution var var t solution sol []if None in solution return solution iter solution params numbered symbols 'n' integer True start 1 for v in var if v in var t sol next solution else sol next params for val symb in zip sol var if check assumptions val **symb.assumptions0 is False return tuple return tuple sol 
def get location details complete id db current current {}ctable s3db completeqtable s3db questionatable s3db answerquery atable id qtable & atable id ctable code list [ T D P Code 'STD-L0' 'STD-L1' 'STD-L2' 'STD-L3' 'STD-L4' ' T D Lat ' T D Lon location code in code list record db query & qtable location code .select qtable limitby 0 1 .first if record widget obj survey get Widget From Question record widget obj Answer complete id record locations code widget objreturn locations 
@memoizedef check key ver return check version get key ver 
def  get migrate command if   salt  ['config.option'] 'virt.tunnel' return 'virshmigrate--p2p--tunnelled--live--persistent--undefinesource'return 'virshmigrate--live--persistent--undefinesource'
def get hosts service instance datacenter name None host names None cluster name None get all hosts False properties ['name']if not host names host names []if cluster name properties 'parent' if datacenter name start point get datacenter service instance datacenter name if cluster name cluster get cluster start point cluster name else start point get root folder service instance hosts get mors with properties service instance vim Host System container ref start point property list properties filtered hosts []for h in hosts name condition get all hosts or h in host names cluster condition not datacenter name or not cluster name or isinstance h vim Cluster Compute Resource and h cluster name if name condition and cluster condition filtered hosts h return filtered hosts 
def up iface iface type None if iface type not in ['slave'] return   salt  ['cmd.run'] 'iplinkset{0}up'.format iface return None 
def  file iter range fp offset bytes maxread 1024 * 1024 fp offset while bytes > 0 part fp min bytes maxread if not part breakbytes - len part yield part 
def lpmerge L R setitem L.  setitem  [setitem k v for k v in items R if v is not None ]return L
def show Error Dlg errmsg parent trcbk False if trcbk error u String I O print exc file f error mess f .splitlines for line in error mess error error + str line + u errmsg errmsg + u + error return error dialog parent _ PLUGIN NAME + u + PLUGIN VERSION _ errmsg show True 
def run module name file if name '  main  ' nose argv [file '-vvs' '-x' '--pdb' '--pdb-failure'] exit False 
def should Refresh ex List MAX REFRESH AGE SECS 86400cache db con db D B Connection 'cache.db' rows cache db con ' E L E C Tlast refreshed F R O Mscene exceptions refresh W H E R Elist ?' [ist if rows last Refresh int rows refreshed return int time datetime .timetuple > last Refresh + MAX REFRESH AGE SECS else return True 
def check account exists username None email None conflicts []if email is not None and User email email .exists conflicts 'email' if username is not None and User username username .exists conflicts 'username' return conflicts 
def  call cmds cwd None for c in cmds if cwd subprocess call c cwd cwd else subprocess call c 
def ldflags libs True flags False libs dir False include dir False ldflags str theano  ldflags ldflags str ldflags str libs libs flags flags libs dir libs dir include dir include dir 
def sample from mixture x pred weights pred means pred std amount samples np amount 2 n mix len pred weights to choose from np n mix for j weights means std devs in enumerate zip pred weights pred means pred std index np to choose from p weights samples j 1 ] np means std devs size 1 samples j 0 ] x j amount - 1 breakreturn samples 
def remove credential tenant id credential id session db session try cred session l2network models Credential .filter by tenant id tenant id .filter by credential id credential id .one session cred session return credexcept exc No Result Found pass 
def handle cat api output kwargs name kwargs 'keyword' if not name name kwargs 'name' if not name return Nonefeed config config 'categories' name if feed feed dict kwargs else config Config Cat name kwargs return name 
def create param value size return lo Lin Op lo P A R A M size [] value 
def shim xmodule js block fragment if not fragment init fn fragment js ' Block To X Module Shim fragment init args {'xmodule-type' block module name 
def native type range fmt if fmt 'c' lh 0 256 elif fmt '?' lh 0 2 elif fmt 'f' lh - 1 << 63 1 << 63 elif fmt 'd' lh - 1 << 1023 1 << 1023 else for exp in 128 127 64 63 32 31 16 15 8 7 try struct fmt 1 << exp - 1 breakexcept struct passlh - 1 << exp 1 << exp if exp & 1 else 0 1 << exp return lh 
def test raises value error non nonnegative P np [[0.4 0.6] [ -0.2 1.2]] assert raises Value Error Markov Chain P assert raises Value Error Markov Chain sparse matrix P
def pack bits bits packed 0level 0for bit in bits if bit packed + 2 ** level level + 1return packed 
def do not recurse value return value 
def Chi name k return rv name Chi Distribution k 
def equate Polar Dot Radius point return Value equate Cylindrical Dot Radius point return Value 
def get Logger Class return  logger Class 
def find torrent info hash torrent list for t in torrent list if t hash info hash return t 
def  getpen if Turtle pen is None Turtle pen Turtle return Turtle pen 
def dumpconf return   salt  ['ps.pkill'] 'znc' signal signal S I G U S R1 
def vlatex expr **settings latex printer Vector Latex Printer settings return latex printer expr 
def list zones verbose True installed False configured False hide global True zones {}header 'zoneid zonename state zonepath uuid brand ip ' ' zone data   salt  ['cmd.run all 'zoneadmlist-p-c' if zone data 0 for zone in zone data zone zone ' ' zone t {}for i in range 0 len header zone t zone hide global and zone t 'global' continueif not installed and zone t 'installed' continueif not configured and zone t 'configured' continuezones t zone tdel zones t zones if verbose else sorted zones 
def imview async *args **kwargs if 'figure' in kwargs raise Value Error 'passingafigureargumentnotsupported' def fork image viewer f plt kwargs fimview *args **kwargs if 'window title in kwargs f window title kwargs title plt p Process None fork image viewer p return p 
def grains if not GRAINS CACHE return  grains D E T A I L S D E T A I L S D E T A I L S return GRAINS CACHE
def  minimize scalar brent func brack None args xtol 1.48e-08 maxiter 500 **unknown options  check unknown options unknown options tol xtolif tol < 0 raise Value Error 'toleranceshouldbe> 0 got % tol brent Brent func func args args tol tol full output True maxiter maxiter brent bracket brack brent x fval nit nfev brent result full output True return Optimize Result fun fval x x nit nit nfev nfev success nit < maxiter 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def defer To Thread In Reactor reactor f *args **kwargs d defer Deferred reactor In Thread  put Result In Deferred reactor d f args kwargs return d 
@event u def make environment manager global environmentenvironment Environment undefined Strict Undefined loader Choice Loader [ackage Loader u File System Loader os manager base u ] extensions [u'jinja2.ext.loopcontrols'] environment class Flex Get Templatefor name filt in list globals .items if name u ' environment u ' 1 [1]] filt 
def  repr column dict dumper data return dumper mapping u yaml 2002 map data 
def synset distance statement other statement from nltk import wordnetfrom nltk import word tokenizefrom chatterbot import utilsimport itertoolstokens1 word tokenize statement tokens2 word tokenize other statement tokens1 utils stopwords tokens1 language 'english' tokens2 utils stopwords tokens2 language 'english' max possible similarity max len statement len other statement max similarity 0.0for combination in itertools *[tokens1 tokens2 synset1 wordnet combination synset2 wordnet combination if synset1 and synset2 for synset in itertools *[synset1 synset2 similarity synset similarity synset if similarity and similarity > max similarity max similarity similarityif max possible similarity 0 return 0return max similarity / max possible similarity 
def mx2num mxdates scalar Falseif not cbook mxdates scalar Truemxdates [mxdates]ret epoch2num [m.ticks for m in mxdates if scalar return ret return ret 
def get Date date None if date is None return datetime if isinstance date datetime return dateif isinstance date datetime return date if isinstance date int long float return datetime date if isinstance date basestring date date '' '0' if len date 6 return datetime *time.strptime date '%y%m%d' [ 3] return datetime *time.strptime date ' [ 3] if hasattr date '  getitem  ' return datetime *date[ 3] return datetime date 
def  validate device device if os device dev os device .st modeif stat S ISBLK dev returnraise Command Execution Error 'nvaliddevicepassedtopartitionmodule 
def  engine namespace handler k v engine cherrypy k 'SIGHUP' engine 'SIGHUP' v elif k 'SIGTERM' engine 'SIGTERM' v elif '.' in k plugin attrname k '.' 1 plugin getattr engine plugin if attrname 'on' if v and hasattr getattr plugin 'subscribe' None '  call  ' plugin returnelif not v and hasattr getattr plugin 'unsubscribe' None '  call  ' plugin returnsetattr plugin attrname v else setattr engine k v 
def commit unless managed using None if using is None using DEFAULT DB A L I A Sconnection connections unless managed 
def bruteforce val res []printable range 32 128 for x in xrange 65536 c x - 13106 & 65535 hi c >> 8 lo c & 255 if hi ^ lo val and x >> 8 in printable and x & 255 in printable res x return res 
def require instance exists using uuid f @functools.wraps f def wrapper context instance uuid *args **kwargs instance get by uuid context instance uuid return f context instance uuid *args **kwargs return wrapper 
def os release attr attribute return  distro release attr attribute 
def convert starred uri uri assert type uri six type cnt stars uri u if cnt stars 0 match u cnt stars 1 and uri -1 ] u match u uri -1 ]else match u uri u u return uri match 
def temporal padding x padding 1 pattern [[0 0] [padding padding [0 0]]return tf x pattern 
def test version int assert version int '3.5.0a1pre2' 3050000001002 assert version int '' 200100 assert version int '0' 200100 assert version int '*' 99000000200100 assert version int MAXVERSION MAXVERSION assert version int MAXVERSION + 1 MAXVERSION assert version int '9999999' MAXVERSION
def restrict permission def decorator fx def wrapper *args **kwargs User Manager .require permission extract context permission return fx *args **kwargs return wrapperreturn decorator 
def  system email email plaintext body kind reply to '' thing None from address g email html body '' list unsubscribe header '' user None suppress username False if suppress username user Noneelif user is None and c is loggedin user c Email to queue user email g from address kind body plaintext body reply to reply to thing thing 
def widget settings dir return os data dir 'widgets'
def get task user return User Profile pk settings T A S K USER ID
def raise error on parallel unavailable qiime config None if qiime config is None qiime config load qiime config if 'jobs to start not in qiime config or int qiime config to start < 2 raise Runtime Error 'arallel Q I I M Eisnotavailable Haveyouset + 'jobs to starttogreaterthan1inyourqiime config 
def dmp add term f c i u K if not u return dup add term f c i K v u - 1 if dmp zero p c v return fn len f m n - i - 1 if i n - 1 return dmp strip [dmp add f c v K ] + f ] u elif i > n return [c] + dmp zeros i - n v K + f else return f m + [dmp add f c v K ] + f m + 1 ]
def check entry points dist attr value try pkg resources Entry Point map value except Value Error e sys info [1]raise Distutils Setup Error e 
@step CHECK PREFIX + 'havesent \\d+ emails def mail sent count step count count int count assert len mail count 'engthofoutboxis count 
def  oauth uri name discovery params if name not in ['request' 'access' 'authorize'] raise Key Error name keys discovery query {}for key in keys if key in params query params discovery + '?' + urllib query 
@receiver post save sender Release def purge fastly download pages sender instance **kwargs if kwargs 'raw' False returnif instance published purge url '/downloads/' purge url '/downloads/latest/python2/' purge url '/downloads/latest/python3/' purge url '/downloads/mac-osx/' purge url '/downloads/source/' purge url '/downloads/windows/' if instance version is not None purge url '/ftp/python/{}/'.format instance version purge url instance absolute url 
def colname2num s s s n 0for c in s assert 'A' < c < 'Z' n n * 26 + ord c - ord 'A' + 1 return n 
def  build user auth token None user id None username None password None tenant id None tenant name None trust id None auth json {}if token is not None auth json tokenif username or password auth json Credentials {}if username is not None auth json Credentials usernameif user id is not None auth json Credentials Id user idif password is not None auth json Credentials passwordif tenant name is not None auth json Name tenant nameif tenant id is not None auth json Id tenant idif trust id is not None auth json id trust idreturn auth json 
@require context retry instance update @pick context manager writerdef instance update and get original context instance uuid values columns to join None expected None instance ref  instance get by uuid context instance uuid columns to join columns to join return copy instance ref  instance update context instance uuid values expected original instance ref 
def read Gif filename as Numpy True if PIL is None raise Runtime Error 'eed P I Ltoreadanimatedgiffiles if np is None raise Runtime Error 'eed Numpytoreadanimatedgiffiles if not os filename raise I O Error 'ilenotfound ' + str filename pil Im P I L Image filename pil Im 0 images []try while True tmp pil Im a np tmp if len a 0 raise Memory Error 'oolittlememorytoconvert P I Limagetoarray images a pil Im pil Im + 1 except E O F Error passif not as Numpy images2 imagesimages []for im in images2 images P I L Image im return images 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  calc cp base attack base defense base stamina iv attack 15 iv defense 15 iv stamina 15 cp multiplier 0.0 assert base attack > 0 assert base defense > 0 assert base stamina > 0 if cp multiplier < 0.0 cp multiplier Level To C Pm M A X C P Massert cp multiplier > 0.0 return base attack + iv attack * base defense + iv defense ** 0.5 * base stamina + iv stamina ** 0.5 * cp multiplier ** 2 / 10
def exit set Config Options exit Cleanup False atexit run exitfuncs if sys 'darwin' for fd in range 3 4096 if fd not in [7] os fd else os 3 4096 os exit 0
def   django version setup django version  config handle versionif django version is not None from google import use libraryuse library 'django' str django version else from google import  library version explicit  library 'django' '0.96' False if not explicit logging 'ouareusingthedefault Djangoversion %s .hedefault Djangoversionwillchangeinan App Enginereleaseinthenearfuture Pleasecalluse library toexplicitlyselecta Djangoversion Formoreinformationsee version 'https /jango try import djangoif not hasattr django 'VERSION' from django import v0 96except Import Error pass 
def Add Library name version explicit sys 1 Create Path name version installed version explicit 
def get collection owner names collection id collection rights get collection rights collection id return user services human readable user ids collection rights ids 
def find max daily commits contributions calendar daily counts parse contributions calendar contributions calendar return max daily counts 
def encint value forward True if value < 0 raise Value Error u Cannotencodenegativenumbersasvwi byts bytearray while True b value & 127 value >> 7byts.append b if value 0 breakbyts 0 if forward else -1 ] | 128byts.reverse return bytes byts 
def is Path Inside Loop loop path return is Point Inside Loop loop get Left Point path 
def test singletablemixin with non paginated view class Table tables Table class Meta model Regionclass View tables Single Table Mixin Template View table class Tabletable data MEMORY D A T Atemplate name 'iew view build request '/'
def validate review groups form field u groups groups form data field [] local site form data site group in groups if group site ! local site raise Validation Error [ _ u Thereviewgroup % group ] return groups 
def data to graph6 data if len data > 0 and min data < 0 or max data > 63 raise Network X Error 'graph6dataunitsmustbewithin0..63' return ''.join [chr d + 63 for d in data 
def parse qs qs keep blank values False strict parsing False encoding 'utf-8' errors 'replace' dict {}pairs parse qsl qs keep blank values strict parsing encoding encoding errors errors for name value in pairs if name in dict dict value else dict [value]return dict 
def fs relpath from url path url path url path unquote url path if sys 'win32' and len url path url path url path '/' '\\' return url path 
def  update return dict ret success data errors None warnings None errors [] if errors is None else errors warnings [] if warnings is None else warnings ret successret data ret ret + errors ret ret + warnings return ret 
def list to scope scope if isinstance scope unicode type or scope is None return scopeelif isinstance scope set tuple list return u [unicode type s for s in scope else raise Value Error u Invalidscope %s mustbestring tuple set orlist % scope 
def dup Assemblies num for i in xrange num create Assembly 'DUP' + str i '' i 
def movorder x order 'med' windsize 3 lag 'lagged' if lag 'lagged' lead windsize // 2 elif lag 'centered' lead 0elif lag 'leading' lead - windsize // 2 + 1 else raise Value Errorif np order True ord orderelif order 'med' ord windsize - 1 / 2 elif order 'min' ord 0elif order 'max' ord windsize - 1 else raise Value Errorxext expandarr x windsize return signal filter xext np windsize ord [ windsize - lead - windsize + lead ]
def parse token contents parser token bits token contents tag bits 0 args []kwargs {}asvar Noneif len bits > 2 and bits -2 ] u asvar bits -1 ]bits bits -2 ]if len bits for bit in bits match kwarg re bit if not match raise Template Syntax Error u Malformedargumentstotag tag name value match if name kwargs parser filter value else args parser filter value return {u'tag' tag u args u kwargs u asvar 
def  reset http connections http if getattr http 'connections' None for conn key in list http if ' ' in conn key del http key 
def has mne c return 'MNE ROOT' in os 
def  on walk error err log '%s %s' err err 
def copy func f name None return types Function Type six function code f six function globals f name or f  name   six function defaults f six function closure f 
def upper keys dictionary return dict k v for k v in dictionary 
def fireplace route path name None kwargs {}if name kwargs namereturn url '^%s$' % path views {'repo' 'fireplace'} **kwargs
def brier score loss y true y prob sample weight None pos label None y true column or 1d y true y prob column or 1d y prob assert all finite y true assert all finite y prob if pos label is None pos label y true y true np y true pos label int y true  check binary probabilistic predictions y true y prob return np y true - y prob ** 2 weights sample weight 
def  temp exists method ip  type method 'temp' '' .upper cmd "csf-t|awk-vcode 1-vtype  type ip type ip 0 N D  type  type ip ip exists   salt  ['cmd.run all cmd return not bool exists 
def  to micros dur if hasattr dur 'total seconds return int dur seconds * 1000000.0 return dur + dur + dur * 24 * 3600 * 1000000
@register canonicalize specialize optimizer [ Scalar From Tensor def local scalar tensor scalar node if isinstance node T Scalar From Tensor t node t and isinstance t T Tensor From Scalar s t [s]
def set image opacity img alpha 0.5 return imageops opacity image from data img alpha 
def Custom Config Default pass 
def From File f more formatters lambda x None  constructor None  constructor  constructor or Template options {}while 1 line f match  OPTION R E line if match name value match 1 match 2 name name if name in  OPTION NAMES name name '-' '_' value value if name 'default formatter and value 'none' value Noneoptions valueelse breakelse breakif options if line raise Compilation Error 'ustbeoneblanklinebetweentemplateoptionsandbody got ' % line body f else body line + f return  constructor body more formatters more formatters **options
def probe from definition definition types if definition '  ignore  ' False return ''elif len definition 0 return return probe from definition definition types else entry probe entry probe from definition definition return probe return probe from definition definition types return entry probe + return probe 
def convert to bytes string factors {'K' 1024 'M' 1024 * 1024 'G' 1024 * 1024 * 1024 'T' 1024 * 1024 * 1024 * 1024 'P' 1024 * 1024 * 1024 * 1024 * 1024 'E' 1024 * 1024 * 1024 * 1024 * 1024 * 1024 }for f fm in factors if string f number float string -1 ] number number * fm return long number return long string 
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
def setup app for worker app loglevel logfile app app current app default type app . setup Falseapp loglevel loglevel logfile logfile 
def Vectorize v if operator Sequence Type v v Direct X Vector3 System Single v System Single v System Single v return v 
@command 'set\\s+ [-\\w]+ \\s* .* ' def setconfig key val key key '-' '_' if key 'ALL' and val 'DEFAULT' for ci in config config config message 'efaultconfigurationreinstated not key in config message 'nknownconfigitem %s%s%s' % c key c elif val 'DEFAULT' att config ]att.value att '%s%s%ssetto%s%s%s default 'dispval att or 'one message message % c key c c dispval c config else message config ].set val showconfig g message 
def get metadata headers return dict k v for k v in headers if k 'x-goog-meta-'
@csrf exempt required P O S Tdef draft revision request draft form Draft Revision Form request P O S T if draft form valid draft form request request return Http Response status 201 return Http Response Bad Request 
def create event name message type routing key 'everyone' **kwargs ret {'name' name 'changes' {} 'result' None 'comment' ''}if   opts  ['test'] ret 'eedtocreateevent {0}'.format name return retres   salt  ['victorops.create event message type message type routing key routing key **kwargs if res 'success' ret Trueret 'reatedevent {0}forentity{1}'.format name res id else ret Falseret 'ailedtocreateevent {0}'.format res return ret 
def  parse scram response response return dict item ' ' 1 for item in response ' '
def  add kind one if one int '47314252' 16 one 1elif one int '47324252' 16 one 2elif one int '47334252' 16 one 3else one int one 
def envs ignore cache False if not ignore cache env cache os   opts  ['cachedir'] 'hgfs/envs.p' cache match salt env cache   opts   env cache if cache match is not None return cache matchret set for repo in init repo if repo method in 'branches' 'mixed' for branch in  all branches repo branch name branch branch name repo branch name 'base'ret.add branch name if repo method in 'bookmarks' 'mixed' for bookmark in  all bookmarks repo bookmark name bookmark bookmark name repo bookmark name 'base'ret.add bookmark name ret [x[0] for x in  all tags repo ] repo return [x for x in sorted ret if  env is exposed x ]
def elimination matrix n vech indices vec np np n n return np n * n [ vech indices ! 0 ]
def  test Config base Params exp Missing Min 0 exp Missing Max 0 **mods params dict base Params params mods func params Function num Cols training Sequences func **params if params Cols is None params Cols num Colstps create T Ps **params tp Stats eval Sequences tps tps training Sequences training Sequences test Sequences None **params for name stats in tp Stats print 'etected % stats Missing if exp Missing Min is not None and stats Missing < exp Missing Min print 'FAILURE Expectedatleast % exp Missing Min stats Missing assert Falseif exp Missing Max is not None and stats Missing > exp Missing Max print 'FAILURE Expectedatmost % exp Missing Max stats Missing assert Falsereturn True 
def find ref chain obj predicate max depth 20 extra ignore return  find chain obj predicate gc referents max depth max depth extra ignore extra ignore [ -1 ]
@gof.local optimizer [parse Block Gemv inplace True def local inplace sparse block gemv node if isinstance node Sparse Block Gemv and not node new node sparse block gemv inplace *node.inputs copy stack trace node new node return [new node False 
def has isoinfo return has userland tool 'isoinfo'
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def CMO ds count timeperiod - 2 ** 31 return call talib with ds ds count talib C M O timeperiod 
def volume attach context values return I M P L attach context values 
def cross domain config func feature flag decorator patch settings F E A T U R E S {'ENABLE CORS HEADERS' True 'ENABLE CROSS DOMAIN CSRF COOKIE' True settings decorator override settings CORS ORIGIN WHITELIST ['www.edx.org'] CROSS DOMAIN CSRF COOKIE NAME 'prod-edx-csrftoken' CROSS DOMAIN CSRF COOKIE DOMAIN '.edx.org' is secure decorator patch W S G I Request 'is secure return value True return feature flag decorator settings decorator is secure decorator func 
def arcsech val return numpy 1.0 / val 
def final status statuses return sorted statuses key itemgetter 'updated at [ -1 ]
def find on path targets if sabnzbd W I N32 paths os 'PATH' .split ';' else paths os 'PATH' .split ' ' if isinstance targets basestring targets targets for path in paths for target in targets target path os os path target if os target path and os target path os X OK return target pathreturn None 
def test module level skip error testdir testdir '\nimportpytest\n@pytest.skip\ndeftest func \rue result testdir result lines 'singpytest 
def proxying engine conn cls D B A P I Proxy Connection cursor cls D B A P I Proxy Cursor def mock conn return conn cls config cursor cls return testing engine options {'creator' mock conn 
def response resp return [{'url' '' 'title' '' 'content' ''}]
def Get Unregister Server Keys clsid prog I D None ver Prog I D None custom Keys None ret [ ' L S I D % str clsid win32con H K E Y CLASSES ROOT ]if ver Prog I D ret ver Prog I D win32con H K E Y CLASSES ROOT if prog I D ret prog I D win32con H K E Y CLASSES ROOT ret 'pp I D % str clsid win32con H K E Y CLASSES ROOT if custom Keys ret ret + custom Keys return ret 
def get Pac Files pac Files []if sys 'win32' try import  winreg as winregexcept Import Error import winregnet winreg Open Key winreg H K E Y CURRENT USER 'oftware Microsoft Windows Current Version Internet Settings n Subs n Vals last Mod winreg Query Info Key net subkeys {}for i in range n Vals this Name this Val this Type winreg Enum Value net i subkeys Name this Valif 'uto Config U R L in subkeys and len subkeys Auto Config U R L > 0 pac Files subkeys Auto Config U R L elif sys 'darwin' import plistlibsys Prefs plistlib Plist 'ibrary Preferences System Configuration networks sys Prefs Network Services network in networks net Key network networkif 'roxy Auto Config U R L String in network Proxies pac Files network Proxies Proxy Auto Config U R L String return list set pac Files 
def start interactive mode result debuggers result result descrs + result descrs if len debuggers 1 debuggers else while True testindex 0print 'hooseatesttodebug ' print '\n'.join [ ' DCTB %s %s' % i descr for i _ descr in enumerate descrs ] print "ype or D toquit print try todebug input 'nteratestname ' if todebug .lower 'exit' print breakelse try testindex int todebug debugger debuggers Value Error Index Error print 'ERROR invalidtestnumber % todebug else debugger except E O F Error Keyboard Interrupt print break 
def task install api certificates api cert api key return sequence [run 'mkdir-p/etc/flocker' run 'chmodu rw X g o /etc/flocker' put path '/etc/flocker/plugin.crt' content api cert Content put path '/etc/flocker/plugin.key' content api key Content log content filter  remove private key ]
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def epost db **keywds cgi 'https //eutils.ncbi.nlm.nih.gov/entrez/eutils/epost.fcgi'variables {'db' db keywds return  open cgi variables post True 
def get cohort id user course key use cached False cohort get cohort user course key use cached use cached return None if cohort is None else cohort 
def generate settings dev False context {'secret key generate secret key 'debug flag dev 'mail.backend' 'console' if dev else 'smtp' }py load config template DEFAULT SETTINGS OVERRIDE 'default' % context yaml load config template DEFAULT SETTINGS CONF 'default' % context return py yaml 
def json encode value return json value .replace '</' '<\\/'
def create gs thumbnail layer overwrite False params {'layers' layer 'utf-8' 'format' 'image/png8' 'width' 200 'height' 150 'TIME' '-99999999999-01-01T00 00 00.0Z/99999999999-01-01T00 00 0 None not in layer params layer stringp '&'.join '%s %s' % item for item in params thumbnail remote url ogc server settings P U B L I C LOCATION + 'wms/reflect?' + p thumbnail create url ogc server settings L O C A T I O N + 'wms/reflect?' + p create thumbnail layer thumbnail remote url thumbnail create url ogc client http client overwrite overwrite 
def compile fnclex context codegen context library codegen library 'kb982107' ir mod '\ndefinevoid@fnclex {\ncallvoidasmsideeffect"fnclex" "" \nretvoid\n}\n'll.initialize native asmparser library llvm module ll assembly ir mod library return library 
def resolve allowed tags model obj tags curr tags new request user Anonymous User ns tags curr parse tag namespaces tags curr ns tags new parse tag namespaces tags new all ns set ns tags curr + ns tags new tags out []for ns in all ns if model obj tag namespace for ns request user if ns in ns tags new tags out ns tags new elif ns in ns tags curr tags out ns tags curr return tags out 
def  nmea Float degrees minutes return '%i%0.3f' % degrees minutes 
def  Chunk Factory chunk type stream rdr offset chunk cls map {PNG CHUNK TYPE.IHDR  I H D R Chunk PNG CHUNK T Y P E H Ys  p H Ys Chunk cls chunk cls map chunk type  Chunk return chunk cls offset chunk type stream rdr offset 
@functools.lru cache maxsize None def is language prefix patterns used urlconf for url pattern in get resolver urlconf .url patterns if isinstance url pattern Locale Regex U R L Resolver return True url pattern default language return False False 
def semanage port get ports seport setype proto records seport all by type if setype proto in records return records setype proto ]else return []
def jobconf from env variable default None name variable '.' '_' if name in os return os var in  JOBCONF M A P variable {} .values name var '.' '_' if name in os return os default 
def  archive package sources package sources sources dir manifest []for s in sources f str s if f sources dir path os f sources dir else path os f package f path manifest '%s%s' % s csig path return manifest 
def get Preference Colour name color String get Preference name return [ float int color String 3] 16 / 255 float int color String 5] 16 / 255 float int color String 7] 16 / 255 1.0]
def handle sigusr1 signal number stack frame handlers logging Logger Class .manager.root.handlersreopen log files handlers handlers 
@event u cleanup def db cleanup manager session existing tasks list manager + [one session Simple Key Value .filter ~ Simple Key Value  existing tasks .delete synchronize session False 
def key to cmp key def key cmp a b return cmp key a key b return key cmp 
def fnmatch all names patterns for name in names matches Falsefor pattern in patterns matches fnmatch name pattern if matches breakif not matches return Falsereturn True 
def setup ssl options config dir src dest option path os config dir dest shutil src option path return option path 
@pytest.mark.parametrize 'i' range len ITEMS def test valid objects i assert objects At i .alid 
def get cohort by name course key name return Course User Group course id course key group type Course User Group C O H O R T name name 
def allowed uid global votersfor  uid  timestamp in voters if time -  timestamp > TIME LIMIT del voters uid uid in voters last voted voters False timeformat until last voted now time - TIME LIMIT else voters time return True 0
def  item to subscription for topic iterator subscription path subscription name subscription name from path subscription path iterator return Subscription subscription name iterator 
def auth sub string from body http body for response line in http body if response line 'oken ' return response line ]return None 
def test iht fit sample gradient boosting est 'gradient-boosting'iht Instance Hardness Threshold est random state RND SEED X resampled y resampled iht sample X Y X gt np [[ -0.3879569 0.6894251] [ -0.09322739 1.28177189] [ -0.77740357 0.74097941] [0.91542919 -0.65453327 ] [ -0.43877303 1.07366684] [ -0.85795321 0.82980738] [ -0.18430329 0.52328473] [ -0.65571327 0.42412021] [ -0.28305528 0.30284991] [1.06446472 -1.09279772 ] [0.30543283 -0.02589502 ] [ -0.00717161 0.00318087]] y gt np [0 1 1 0 1 1 1 0 1 0 0 0] assert array equal X resampled X gt assert array equal y resampled y gt 
def  get spec tree base spec template saltenv 'base' spec tgt os spec dest os tree base 'SPECS' spec tgt return   salt  ['cp.get url spec dest saltenv saltenv 
def metadef tag count context namespace name session None session session or get session return metadef tag api context namespace name session 
@auth.s3 requires membership 1 def ticket import tracebackfrom gluon import Restricted Errorif len request ! 2 session T 'nvalidticket redirect URL r request app request request Restricted Error e request app ticket return dict app app ticket ticket traceback s3base Traceback e code e layer e 
def minkowski distance x y p 2 x np x y np y if p np or p 1 return minkowski distance p x y p else return minkowski distance p x y p ** 1.0 / p 
def  substitute bcc raw message bcc regexp re 'cc [^\\r\\n]*\\r\\n' re I G N O R E C A S E | re M U L T I L I N E return bcc regexp '' raw message 
def iter tracebacks logdir crash files sorted glob op logdir '*.pkl*' for cf in crash files yield cf load pklz traceback cf 
def require Attrs obj *attributes missing [name for name in attributes if not hasattr obj name ]return skip With Client If missing "don'thave" + ' '.join name for name in missing 
def  update epoch data params start params start epochs params epochs start + n epochs * len params data params data start end params pick ind in enumerate params params data / params params fun 
def sort nicely l l key alphanum key 
def get zonecode return salt utils return result ' 
def add node node visit function None depart function None docutils add node class names [node.  name  ] if visit function setattr docutils H T M L Translator u ' + node  name   visit function if depart function setattr docutils H T M L Translator u ' + node  name   depart function 
def  parse update data topic data parts topic '/' room parts -1 ]device id slugify data ATTR ID .upper distance data 'distance' parsed data {ATTR DEVICE ID device id ATTR ROOM room ATTR DISTANCE distance parsed data 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def snapshot get all for volume context volume id return I M P L get all for volume context volume id 
def parallel pick otus trie process run results f f lines list f basic process run results f [lines[1]] try basic process run results f [lines[2]] basic process run results f [lines[3]] except Index Error passfields lines .split infiles list fields -1 ]out filepath fields -1 ]try of open out filepath 'w' except I O Error raise I O Error "ollercan %s" % out filepath + 'eavingindividualjobsoutput Doyouhavewriteaccess unique otu map {}otu id 0for fp in infiles list for line in open fp fields line .split of ' DCTB '.join [ '%d' % otu id ] + fields ] of '\n' otu id + 1of.close return True 
def get prompt tokens cli now datetime return [ Token Prompt u %s %s' % now now now Token Prompt u Entersomething ' ]
def inside gamut r g b return r > 0 and g > 0 and b > 0
def update scene exceptions indexer id scene exceptions season -1 [ore D B x for x in sickrage Core D B many u exceptions indexer id with doc True if x season ]ore Logger u Updatingsceneexceptions if indexer id in exceptions Cache exceptions Cache id {ache id scene exceptionsfor cur exception in scene exceptions sickrage Core D B {u' t u exceptions u id indexer id u name cur exception u season 
def get info file filename data ''errors re '\\b error \\b' re I G N O R E C A S E if os filename f open '%s' % filename 'r' lines f f rx re ' \'|" ' for line in lines new line rx '' line errors found errors new line if len errors found > 0 data + '<fontcolor red % str new line else data + '%s<br>' % str new line if not data data 'o Information Found data 'ilenotfound data 
def facility geojson s3db facility geojson 
def  chunk write chunk local file progress local file chunk progress with increment value len chunk 
def eigvals banded a band lower False overwrite a band False select 'a' select range None check finite True return eig banded a band lower lower eigvals only 1 overwrite a band overwrite a band select select select range select range check finite check finite 
def hrm training organisation row try person id row training idexcept Attribute Error person id Noneif person id s3db current s3db human resourcequery table id person id & table ! 2 orgs current query .select table id distinct True if orgs output ''represent s3db Organisation Represent for org in orgs repr represent org id if output output '%s %s' % output repr else output reprreturn outputreturn current N O N E 
def message question text title informative text None details None buttons None default button None exc info False parent None return message Q Message Box Question text title informative text details buttons default button exc info parent 
@constructordef argmin x axis None keepdims False x as tensor variable x str x type str x if str x type 'float' or str x type in int dtypes return argmax - x axis axis keepdims keepdims else raise Not Implemented Error 
def  find review request object review request id local site q Review Request if local site q q local site local site local id review request id else q q pk review request id try q q related u u return q except Review Request Does Not Exist raise Http404 
def  get site profile self local site if not hasattr self u site profiles self site profiles {}if local site not in self site profiles site profile Local Site Profile user self local site local site site profile selfsite profile site local siteself site profiles site site profilereturn self site profiles site 
def generate clone url for installed repository app repository tool shed url get tool shed url from tool shed registry app str repository shed return util url tool shed url pathspec ['repos' str repository str repository ]
def list rooms api url None api key None api version None foo  query function 'rooms' api url api url api key api key api version api version log 'foo{0}'.format foo return foo 
def system info return cmd 'system info 
@pytest.fixture def default groups database return create default groups 
def rand sleep max 60 time random 0 max return True 
def create python27 stop cmd port stop cmd '/usr/bin/python2{0}/scripts/stop service appserver constants A P P S C A L E HOME port return stop cmd 
def join urls *urls if not urls returnurl urls u in urls ] if not url '/' url + '/'while u '/' u utils u '/' url + ureturn url 
def self Similarity Matrix feature Vectors [ims n Vectors feature Vectors Vectors2 MEAN STD] a T Features [ectors T feature Vectors2 feature Vectors2 T S 1.0 - distance distance feature Vectors2 T 'cosine' return S
def tanm A A  asarray square A return  maybe real A solve cosm A sinm A
def  run on all nodes nodes task return parallel list run remotely username 'root' address node commands task node for node in nodes 
def normaltest a axis 0 a axis  chk asarray a axis s _ skewtest a axis k _ kurtosistest a axis k2 s * s + k * k return Normaltest Result k2 distributions k2 2
def path to slug path from mezzanine import PAGES S L U Glang code translation language from path path for prefix in lang code settings S I T E PREFIX PAGES SLUG if prefix path path prefix u 1 return clean slashes path or u 
def zpickle data return zlib pickle data pickle H I G H E S T PROTOCOL
def image resize images vals big name 'image' medium name 'image medium small name 'image small if big name in vals vals image get resized images vals name return big True return medium True return small True big name big name medium name medium name small name small name avoid resize big True avoid resize medium False avoid resize small False elif medium name in vals vals image get resized images vals name return big True return medium True return small True big name big name medium name medium name small name small name avoid resize big True avoid resize medium True avoid resize small False elif small name in vals vals image get resized images vals name return big True return medium True return small True big name big name medium name medium name small name small name avoid resize big True avoid resize medium True avoid resize small True 
def heappushpop heap item if heap and cmp lt heap item item heap heap item  siftup heap 0 return item 
def F1 classify lambda document False documents [] average None return test classify documents average [3]
def test one dot line Line line 'onedot' [12] line labels ['one']q line pyquery assert len q '.axis.x' 1 assert len q '.axis.y' 1 assert len q '.y.axis.guides' 1
def org service root service service id db current current servicerecord db table service id .select table table service table .first try parent record root record serviceexcept Attribute Error current 'annotfindrecordwithservice id %s' % service id raiseif parent if parent service id raise Key Error 'ervice % service id parent new root org service root service parent else new root service idif current root ! new root def descendants ids rows db table ids .select table children set row for row in rows if children children | descendants children return ids | children else return idsnodes descendants set [service id db table nodes .update root service new root return new root 
def get sysprefix return run "condainfo-s|grep-e'sys.prefix'|awk'{print$2}'"
def Check For Multiline Comments And Strings filename clean lines linenum error line clean lines line '\\\\' '' if line '/*' > line '*/' error filename linenum 'readability/multiline comment 5 'omplexmulti Lintmaygiveboguswarnings Considerreplacingthesewith with orwithmoreclearlystructuredmulti if line '"' - line '\\"' % 2 error filename linenum 'readability/multiline string 5 'ulti "..." found Thislintscriptdoesn andmaygiveboguswarnings Use C 
def gf mul f g p K df gf degree f dg gf degree g dh df + dg h [0] * dh + 1 for i in range 0 dh + 1 coeff K j in range max 0 i - dg min i df + 1 coeff + f * g i - j ] h coeff % p return gf strip h 
def provides csp features response return len retrieve csp policies response + len retrieve csp policies response True > 0
def Clean cwd os os   file   for root _ files in os cwd for filename in files full filename os root filename if full filename ' pb2 or full filename ' pb2 os full filename 
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
def get registered trophy types warnings u registered trophy types isdeprecated Pleaseiteratethroughreviewboard trophies registryinstead Deprecation Warning return {trophy.category trophy for trophy in trophies registry 
def  different difference tuple if difference tuple member1 member2 difference tuplereturn member1 ! member2 else return False 
def whitelist check path left path left Nonemodule path path len left and left ! last left last left left left tail os left module path u [tail module path if module path in default test modules return Falsereturn True 
def find difference string1 string2 assert len string1 + 1 len string2 char array list string2 for char in string1 ind char array char char array ind return char array 
def  get all packages mirror DEFAULT MIRROR cyg arch 'x86 64' if 'cyg.all packages not in   context     context  ['cyg.all packages {}if mirror not in   context  ['cyg.all packages   context  ['cyg.all packages []if not len   context  ['cyg.all packages pkg source '/'.join [mirror cyg arch 'setup.bz2'] file data  urlopen pkg source .read file lines bz2 file data .decode 'utf 8' errors 'replace' .splitlines packages [re.search '^@ [^]+ ' line .group 1 for line in file lines if re '^@[^]+' line ]  context  ['cyg.all packages packagesreturn   context  ['cyg.all packages 
@step u Iinputananswerona [^"]* "problem" [^"]* ly def input problem answer _ problem type correctness assert correctness in ['correct' 'incorrect'] assert problem type in PROBLEM DICT answer problem world dict C O U R S E problem type correctness 
def get easy s3 config file None cache False cfg get config config file cache return cfg easy s3 
def prefix handlers default None error 'herequestedprefixdoesnotmatchanyofthoseallowed def output type data request response path request defaultfor prefix test prefix handler in handlers if path prefix test handler prefix handlerbreakif not handler raise falcon H T T P Not Acceptable error response type handler typereturn handler data request request response response output type  doc   'upportsanyofthefollowingformats {0}'.format ' '.join function  doc   for function in handlers output type type ' '.join handlers return output type 
def mock tab from json tab dict return tab dict 
def html doctype matches text return doctype matches text ' U B L I C W3 C D T D X H T M L 
def validate pack name name if not name raise Value Error 'ontentpacknamecannotbeempty if name in USER PACK NAME BLACKLIST raise Value Error 'ame % name return name 
@when u def step insert into table context context u x values 'xxx' ;"
def get sql reset app return get sql delete app + get sql all app 
def repeat func func *args **kwargs if kwargs return starmap lambda args kwargs func *args **kwargs repeat args kwargs else return starmap func repeat args 
def connect mailchimp api key mailchimp Mail Snake api key result mailchimp log result return mailchimp 
def default size parent width height if parent is not None width parent height parent return width height 
def install locally mobsf home local config mobsf home read config rewrite config create folders tools nuget tools binskim tools binscope  place lockfile mobsf home 
def  schema builder urn nid method attributes soap E T Element 'soap Body {'xmlns m 'https //durabledns.com/services/dns/%s' % method } urn E T Sub Element soap 'urn %s %s' % urn nid method for attribute in attributes E T Sub Element urn 'urn %s %s' % urn nid attribute return soap 
def format Stat Response msgs i 0bytes 0for size in msgs i + 1bytes + size yield None yield success Response '%d%d' % i bytes 
def  convert state state state state if u in state return u u in state return u u in state return u u 
def test against pyephem obstime Time u 50 00' location Earth Location lon Angle u lat Angle u height 30000.0 * u altaz frame Alt Az obstime obstime location location temperature 15 * u C pressure 1.01 * u altaz Sky Coord u frame altaz frame radec actual altaz to u radec expected Sky Coord u frame u distance radec actual radec expected .to u assert distance < 1000.0 * u radec expected Sky Coord u frame u distance radec actual radec expected .to u assert distance < 1 * u 
def deserialize field field value try deserialized json value if deserialized is None return deserializedtry field json deserialized return deserializedexcept Value Error Type Error return valueexcept Value Error Type Error return value 
def mask hash hash show 6 char '*' masked hash show + char * len hash ] return masked 
def salt main import salt '' in sys sys '' client salt Salt C M D  install signal handlers client client 
def ctype to model val if isinstance val dict and 'pk' in val and 'ctype' in val ctype Content Type for id val Model Class ctype class val Model Class pk val return val 
def make Setup **args distutils setup stop after 'commandline'args.setdefault 'script args ['install'] try return setuptools **args finally distutils setup stop after None 
def inline Callbacks f def unwind Generator *args **kwargs return  inline Callbacks None f *args **kwargs Deferred return merge Function Metadata f unwind Generator 
def clear limit key limits get limits to clear [key] if isinstance key basestring else key for key in to clear if key in limits del limits site config u limits validate False frappe limits 
def assert Log Message test Case expected Messages callable *args **kwargs logged Messages [bserver logged Messages test Case Cleanup log Observer logged Messages callable *args **kwargs test Case Equal [m['message'][0] for m in logged Messages expected Messages 
def Lin Get Raw Device path device map Get Mountpoints path utils Smart Unicode path mount point path utils Normalize Path path '/' result rdf paths Path Spec pathtype rdf paths Path Spec Path Type O S while mount point try result fs type device map point fs type in ['ext2' 'ext3' 'ext4' 'vfat' 'ntfs'] result rdf paths Path Spec Path Type O Selse result rdf paths Path Spec Path Type U N S E Tpath utils Normalize Path path mount point ] result point mount pointreturn result path except Key Error mount point os mount point 
def Retry With Backoff callable func retry notify func initial delay 1 backoff factor 2 max delay 60 max tries 20 delay initial delaynum tries 0while True done opaque value callable func num tries + 1if done return True opaque value if num tries > max tries return False opaque value retry notify func opaque value delay time delay delay min delay * backoff factor max delay 
def   resource with deleted self member name collection name **kwargs collection path kwargs 'path prefix '' + '/' + collection name + '/deleted' member path collection path + '/{id}' self 'deleted ' + collection name collection path controller collection name action 'index' deleted True conditions dict method ['GET'] self 'deleted ' + member name member path controller collection name action 'show' deleted True conditions dict method ['GET'] self 'undelete deleted ' + member name member path + '/undelete' controller collection name action 'undelete' conditions dict method ['POST'] self member name collection name **kwargs
def Dump Local Groups path 'in N T //%s computer % local name ob A Ds Get Object path IID I A Ds Container ob Filter [roup for sub ob in ob print 'roup %s %s ' % sub ob Name sub ob A Ds Path members sub ob Members for member in members print 'roupmember %s %s ' % member Name member A Ds Path 
def not allowed func def inner self *args **kwargs raise Not Implemented Error '%sisnotallowedon%sinstances' % func type self .  name   return inner 
def  get private key obj private key passphrase None private key  text or file private key private key get pem entry private key pem type 'RSAPRIVATEKEY' rsaprivkey M2 Crypto R S A key string private key callback  passphrase callback passphrase evpprivkey M2 Crypto E V P P Key evpprivkey rsa rsaprivkey return evpprivkey 
def to mlab linkage Z Z np Z order 'c' dtype np Zs Z len Zs 0 or len Zs 1 and Zs 0 return Z is valid linkage Z throw True name 'Z' ZP Z[ 0 3].copy ZP[ 0 2] + 1.0return ZP
def  blocked elementwise func block size 2 ** 20 def wrapper x if x < block size return func x else y0 func x block size y np x + y0 ] dtype y0 y block size y0del y0for j in range block size x block size y j + block size ] func x j + block size ] return yreturn wrapper 
def islink path try st os path except os Attribute Error return Falsereturn stat S ISLNK st mode 
def get Dot Product Plus One first Complex second Complex return 1.0 + get Dot Product first Complex second Complex 
def response middleware api None def decorator middleware method apply to api hug A P I api if api else hug object middleware method class Middleware Router object   slots   def process response self request response resource return middleware method request response resource apply to api middleware Middleware Router return middleware methodreturn decorator 
def logmgf exact q priv eps l if q < 0.5 t one 1 - q * math 1 - q / 1 - math priv eps * q l t two q * math priv eps * l t t one + t two try log t math t except Value Error print 'ot Value Errorinmath ' + str q priv eps l t log t priv eps * l else log t priv eps * l return min 0.5 * priv eps * priv eps * l * l + 1 log t priv eps * l 
def lottery promoted links sr names n 10 promo tuples get live promotions sr names weights {p p or 0.001 for p in promo tuples []while weights and len selected < n s weighted lottery weights del weights s return selected 
def enforce credentials action target do raise True init extra {}if do raise extra exc exception Forbidden Action action action do raise do raise return  E N F O R C E R action target credentials **extra
def  make ellipse mean cov ax level 0.95 color None from matplotlib import Ellipse v w np cov u w / np w angle np u / u angle 180 * angle / np v 2 * np v * stats level 2 ell Ellipse mean 2] v v 180 + angle facecolor 'none' edgecolor color lw 1.5 ell clip box ax ell alpha 0.5 ax artist ell 
def positive int list argument if ' ' in argument entries argument ' ' else entries argument return [positive int entry for entry in entries 
def To Sentences paragraph include token True s gen Snippet Gen paragraph SENTENCE START SENTENCE END include token return [s for s in s gen 
def  replace newline obj if isinstance obj dict d dict for key val in list obj d  replace newline val return delif isinstance obj list l list for index entry in enumerate obj l + [ replace newline entry ]return lelif isinstance obj six types s obj '\n' '<br>' if s ! obj warnings "ookslikeyouusedanewlinecharacter 'lotlyusesasubsetof H T M Lescapecharacters <br> bold <b></b> \nitalics <i></i> etc Yournewlinecharacters Plotlyfigure return selse return obj 
def writable preferred server selector selection return writable server selector selection or secondary server selector selection 
def task tag def prep r if r ! 'options' or r ! 's3json' return Falsereturn Trues3 prepreturn s3 rest controller 
def stacked value added taxes price taxes def money sum iterable return sum iterable Money 0 price if not taxes return Taxed Price Taxful Price price Taxless Price price [] if price tax taxful pricerate sum sum tax for tax in taxes if tax amount sum money sum tax for tax in taxes if tax taxless Taxless Price taxful - amount sum / 1 + rate sum else taxful Nonetaxless priceline taxes [ource Line Tax tax tax tax base amount taxless for tax in taxes taxful is None total tax amount money sum x for x in line taxes taxful Taxful Price taxless + total tax amount return Taxed Price taxful taxless line taxes 
def test lambda list keywords kwonly kwonly demo u fn printab 'if PY3 code can compile kwonly demo for i kwonlyarg name in enumerate u u assert kwonlyarg name code assert code defaults is None assert code defaults 2 else exception cant compile kwonly demo assert isinstance exception Hy Type Error message exception message u Python3 
def cho factor a lower False overwrite a False check finite True c lower  cholesky a lower lower overwrite a overwrite a clean False check finite check finite return c lower 
def get task data task id result Async Result task id state info result result if state 'PENDING' raise Task Not Found task id if 'task name not in info raise Task Not Found task id try task celery app name Key Error raise Task Not Found task id return task state info 
def set mindays name mindays pre info info name if mindays pre info return Truecmd 'chage-m{0}{1}'.format mindays name   salt  ['cmd.run'] cmd python shell False post info info name if post info ! pre info return post info mindays return False 
def test arg of sigmoid good X T Y T X Z arg of sigmoid Y assert X is Z
def add Loop infill Width infill Paths loop rotation Plane Angle simplified Loop euclidean Simplified Loop loop infill Width if len simplified Loop < 2 returnsimplified Loop simplified Loop plane Rotated euclidean Points Round Z Axis rotation Plane Angle simplified Loop infill Paths plane Rotated 
def ensure list from str or list x lineno None col None return ast If Exp test ast Call func ast Name id 'isinstance' ctx ast Load lineno lineno col offset col args [x ast Name id 'str' ctx ast Load lineno lineno col offset col ] keywords [] starargs None kwargs None lineno lineno col offset col body ast List elts [x] ctx ast Load lineno lineno col offset col orelse x lineno lineno col offset col 
def user from str identifier try user id int identifier except Value Error return User email identifier return User id user id 
def port Coerce value value int value if value < 0 or value > 65535 raise Value Error 'ortnumbernotinrange %s' % value return value 
def  consolidate sets k G nx Graph nodes {i s for i s in enumerate sets } nodes from nodes G edges from u v for u v in combinations nodes 2 if len nodes & nodes > k for component in nx components G yield set *[nodes[n] for n in component 
def  udivisors n factorpows [ p ** e for p e in factorint n .items ]for i in range 2 ** len factorpows d j k 1 i 0 while j if j & 1 d * factorpows >> 1k + 1 yield d 
def random upper t return ''.join c if random > 0.5 else c for c in t 
def test advinc subtensor1 for shp in [ 3 3 3 3 3 ] shared cuda constructorxval numpy numpy shp dtype 'float32' .reshape shp + 1 yval numpy 2 + shp ] dtype 'float32' yval ] 10x shared xval name 'x' y T dtype 'float32' broadcastable False * len shp name 'y' expr T inc subtensor1 x y [0 2] f theano [y] expr mode mode with gpu assert sum [isinstance node cuda Gpu Advanced Inc Subtensor1 for node in f ] 1 rval f yval rep xval rep 2]] + yvalutt allclose rval rep 
def  recode x levels from pandas import Seriesname Noneif isinstance x Series name x x x not in [np.str  np ] raise Value Error 'hisisnotacategorialfactor Arrayofstrtyperequired elif not isinstance levels dict raise Value Error 'hisisnotavalidvalueforlevels Dictrequired elif not np x np list iterkeys levels .all raise Value Error 'helevelsdonotmatchthearrayvalues else out np x dtype np for level coding in iteritems levels out x level ] codingif name out Series out out namereturn out 
def Create Feed Item Add Operation name price date adgroup id ad customizer feed feed item {d ad customizer feed Id 'roup Targeting {argeting Ad Group Id adgroup id 'alues [ttribute Id ad customizer feed Attributes 'alue name {ttribute Id ad customizer feed Attributes 'alue price {ttribute Id ad customizer feed Attributes 'alue date {'operator' 'ADD' 'operand' feed item 
def get node zones try file open buddyinfo file 'r' except I O Error return 0metrics {}for line in file metrics re '\\s+' line node id metrics ' ' '' zone metrics zones 'node' + node id + '_' + zone 
def create Buffer Texture tex I D texw texh gl Active Texture gl G L TEXTURE0 gl Bind Texture gl G L TEXTURE 2D tex I D black 0.0 0.0 0.0 0.0 gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE MIN FILTER gl G L NEAREST gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE MAG FILTER gl G L NEAREST gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE WRAP S gl G L CLAMP TO EDGE gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE WRAP T gl G L CLAMP TO EDGE gl Tex Parameterfv gl G L TEXTURE 2D gl G L TEXTURE BORDER COLOR black gl Tex Image2 D gl G L TEXTURE 2D 0 gl G L RGBA texw texh 0 gl G L RGBA gl G L UNSIGNED BYTE '\x00' * texw * texh * 4 gl Bind Texture gl G L TEXTURE 2D 0 check G L Error 
def raw arg *args **kwargs ret {'args' args 'kwargs' kwargs ret 
def create private ip linode id kwargs {inode I D linode id  query 'linode' 'ip.addprivate' args kwargs return  clean data result 
def test make sphere model info read info fname raw assert raises Value Error make sphere model 'foo' 'auto' info assert raises Value Error make sphere model 'auto' 'auto' None assert raises Value Error make sphere model 'auto' 'auto' info relative radii sigmas assert raises Value Error make sphere model 'auto' 'auto' info relative radii 1 bem make sphere model 'auto' 'auto' info assert true '3layers' in repr bem assert true 'phere in repr bem assert true 'mm' in repr bem bem make sphere model 'auto' None info assert true 'nolayers' in repr bem assert true 'phere in repr bem 
def synchronous switch listener dbapi conn connection rec dbapi conn ' R A G M Asynchronous OFF'
@lower builtin 'setitem' types Buffer types Any types Any def setitem array context builder sig args aryty idxty valty sig ary idx val argsif isinstance idxty types Base Tuple index types idxty cgutils tuple builder idx count len idxty else index types idxty indices idx ary make array aryty context builder ary index types indices normalize indices context builder index types indices try dataptr shapes strides basic indexing context builder aryty ary index types indices except Not Implemented Error use fancy indexing Trueelse use fancy indexing bool shapes if use fancy indexing return fancy setslice context builder sig args index types indices val context builder val valty aryty store item context builder aryty val dataptr 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def linebreaks value from django import linebreaksreturn linebreaks value 
def split train test all instances n None random 12345 random all instances if not n or n > len all instances n len all instances train set all instances int 0.8 * n ]test set all instances 0.8 * n n train set test set 
def  filter apis name apis return [api for api in apis if api name ]
def copy dedent source return lambda target dedent copy source target 
def least load registry xml parent data least X M L Sub Element xml parent 'east Load Disabled Property X M L Sub Element least 'oad Disabled .text str data 'disabled' True .lower
def pure complex v or real False h t v coeff Add if not t if or real return h t return c i t coeff Mul if i is S Imaginary Unit return h c 
def tmin a lowerlimit None axis 0 inclusive True a axis  chk asarray a axis am trima a lowerlimit None inclusive False return ma am axis 
def add Element To Pixel List From Point element pixel Dictionary point add Element To Pixel List element pixel Dictionary int round point int round point 
def length gte value arg return len value > int arg 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg 'console type metavar '<console-type>' help _ 'ypeofvncconsole "novnc"or"xvpvnc" .' def do get vnc console cs args server  find server cs args data server vnc console args type print console cs data 
def check clusterer compute labels predict name Clusterer X y make blobs n samples 20 random state 0 clusterer Clusterer if hasattr clusterer 'compute labels if hasattr clusterer 'random state clusterer params random state 0 X pred1 clusterer X .predict X clusterer params compute labels False X pred2 clusterer X .predict X assert array equal X pred1 X pred2 
def lqn n z if not isscalar n and isscalar z raise Value Error 'argumentsmustbescalars.' if n ! floor n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n < 1 n1 1else n1 nif iscomplex z qn qd specfun n1 z else qn qd specfun n1 z return qn n + 1 ] qd n + 1 ]
def rgba2rgb rgba background 1 1 1 arr  prepare rgba array rgba if isinstance background tuple and len background ! 3 raise Value Error ' G Bcolorofthebackground Got len background alpha arr -1 ]channels arr -1 ]out np like channels for ichan in range channels -1 ] out ichan np 1 - alpha * background + alpha * channels ichan a min 0 a max 1 return out 
def Get Active Object Class clsctx pythoncom C L S C T X ALL result C L S I D pywintypes I I D Class dispatch pythoncom Get Active Object result C L S I D dispatch dispatch Query Interface pythoncom I I D I Dispatch return   Wrap Dispatch dispatch Class result C L S I D result C L S I D clsctx clsctx 
def get interface config commands interface intf existing commands []desc interface 'description' if desc commands 'description{0}'.format desc mode interface 'mode' if mode if mode 'layer2' command 'switchport'elif mode 'layer3' command 'noswitchport'commands.append command admin state interface 'admin state if admin state command get admin state interface intf admin state commands command ip forward interface 'ip forward if ip forward if ip forward 'enable' commands 'ipforward' else commands 'noipforward' fabric forwarding anycast gateway interface 'fabric forwarding anycast gateway if fabric forwarding anycast gateway is not None if fabric forwarding anycast gateway is True commands 'fabricforwardingmodeanycast-gateway' elif fabric forwarding anycast gateway is False commands 'nofabricforwardingmodeanycast-gateway' if commands commands 0 'interface' + intf return commands 
def inplace csr row scale X scale assert scale X X * np scale np X 
def tan x return Tan x 
def  render certificate template request context course user certificate if settings F E A T U R E S 'CUSTOM CERTIFICATE TEMPLATES ENABLED' False custom template get certificate template course user certificate if custom template template Template custom template output encoding 'utf-8' input encoding 'utf-8' default filters ['decode.utf8'] encoding errors 'replace' context Request Context request context return Http Response template context return render to response 'certificates/valid.html' context 
def  character matches name1 name2 if name1 '*' for i in range len name2 + 1 yield 1 i if name2 '*' for i in range len name1 + 1 yield i 1 if name1 name2 yield 1 1
def rv subs expr symbols None if symbols is None symbols random symbols expr if not symbols return exprswapdict {rv rv for rv in symbols expr swapdict 
def create consumers endpoints prefix topic details start listening True connection n rpc connection for details in topic details topic operation node name itertools itertools details [one 3 topic name topics topic name prefix topic operation connection consumer topic name endpoints fanout True if node name node topic name '%s.%s' % topic name node name connection consumer node topic name endpoints fanout False if start listening connection in threads return connection 
def  compute eps log moments delta min eps float 'inf' for moment order log moment in log moments if moment order 0 continueif math log moment or math log moment sys 'he Nan % moment order continuemin eps min min eps log moment - math delta / moment order return min eps 
def detect django settings matches []for root dirnames filenames in os os for filename in fnmatch filenames '*settings.py' full os root filename if 'site-packages' in full continuefull os root filename package path full os '' package module package path os '.' .split '.' 1 [1].replace '.py' '' matches package module return matches 
def p pointer 3 t pass 
def clear timeline contents pipeline timeline key truncate timeline pipeline timeline key 0 timeline key truncate timeline pipeline make digest key timeline key 0 timeline key pipeline make last processed timestamp key timeline key 
def is fp closed obj try return obj except Attribute Error passtry return obj Attribute Error passtry return obj is None except Attribute Error passraise Value Error 'nabletodeterminewhetherfpisclosed 
@blueprint.route '/completed jobs methods ['GET'] def completed jobs completed datasets get job list dataset Dataset Job False completed models get job list model Model Job False running datasets get job list dataset Dataset Job True running models get job list model Model Job True pretrained models get job list pretrained model Pretrained Model Job False model output fields set data {'running' [json dict j model output fields for j in running datasets + running models ] 'datasets' [json dict j model output fields for j in completed datasets 'models' [json dict j model output fields for j in completed models 'pretrained models [json dict j model output fields for j in pretrained models 'model output fields sorted list model output fields }return flask data 
def combine max stats games return reduce lambda a b a + b [g.max player stats for g in games if g is not None ]
def sense chip fahrenheit False extra args ''if fahrenheit is True extra args '-f'sensors   salt  ['cmd.run'] '/usr/bin/sensors{0}{1}'.format chip extra args python shell False .splitlines ret {}for sensor in sensors sensor list sensor ' ' if len sensor list > 2 ret list sensor list return ret 
def get Repository Writer title repository Writer c String I O String I O repository Writer 'ormatistabseparated % title repository Writer ' Name Value % global Spreadsheet Separator return repository Writer 
def get path name scheme  get default scheme vars None expand True return get paths scheme vars expand [name]
def set obey over18 c over18 request G E T 'obey over18 'true'
def MACDEXT ds count fastperiod - 2 ** 31 fastmatype 0 slowperiod - 2 ** 31 slowmatype 0 signalperiod - 2 ** 31 signalmatype 0 ret call talib with ds ds count talib M A C D E X T fastperiod fastmatype slowperiod slowmatype signalperiod signalmatype if ret is None ret None None None return ret 
def delete column constraints func def  column rm self table name column name *args **opts try self foreign key table name column name except Value Error passtry reverse self lookup reverse constraint table name column name for cname rtable rcolumn in reverse self foreign key rtable rcolumn except Dry Run Error passreturn func self table name column name *args **opts return  column rm 
def allow connection pickling from multiprocessing import reduction 
def widgets entry points ep iter pkg resources entry points WIDGETS ENTRY chain [[default entry point ] ep iter itertools *chain
def openshift dep verify registry xml parent data osb X M L Sub Element xml parent 'pen Shift Deployment Verifier mapping [ 'api-url' ' R L 'https //openshift.default.svc.cluster.local' 'dep-cfg' 'fg 'frontend' 'namespace' 'namespace' 'test' 'replica-count' 'ount 0 'auth-token' 'oken '' 'verbose' 'verbose' False ]convert mapping to xml osb data mapping fail required True 
def tag autocomplete context data dict  check access 'tag autocomplete context data dict matching tags count  tag search context data dict if matching tags return [tag.name for tag in matching tags return []
def Msg msg print color B YELLOW + '[' + color B GREEN + '!' + color B YELLOW + ']%s' % msg + color E N D 
def get service name *args raw services  get services services dict for raw service in raw services if args if raw service Display Name in args or raw service Service Name in args or raw service Service Name in args services service Display Name raw service Service Name services service Display Name raw service Service Name services 
def get Provider By Name name if name 'mapnik' from . import Mapnikreturn Mapnik Image Providerelif name 'proxy' return Proxyelif name 'urltemplate' return Url Templateelif name 'vector' from . import Vectorreturn Vector Providerelif name 'mbtiles' from . import M B Tilesreturn M B Tiles Providerelif name 'mapnikgrid' from . import Mapnikreturn Mapnik Grid Providerelif name 'sandwich' from . import Sandwichreturn Sandwich Providerraise Exception 'nknownprovidername "%s"' % name 
def config true value value return value is True or isinstance value basestring and value in TRUE VALUES
def get python doc path if os 'nt' doc path osp sys 'oc if not osp doc path returnpython chm [path for path in os doc path if re ' ?i Python 6}.chm' path ]if python chm return file uri osp doc path python chm else vinf sys infodoc path '/usr/share/doc/python%d.%d/html' % vinf vinf python doc osp doc path 'index.html' if osp python doc return file uri python doc 
def find dsym file project image uuid image uuid image uuid try return Project D Sym File uuid image uuid project project .select related 'file' .get except Project D Sym File Does Not Exist passtry return Global D Sym File uuid image uuid .select related 'file' .get except Global D Sym File Does Not Exist return None 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def get enrollment attributes user id course id return  ENROLLMENT ATTRIBUTES
def group get all context filters None marker None limit None offset None sort keys None sort dirs None return I M P L get all context filters filters marker marker limit limit offset offset sort keys sort keys sort dirs sort dirs 
@testing.requires testing data freesurfer nibabel def test get volume label names aseg fname op subjects dir 'sample' 'mri' 'aseg.mgz' label names label colors get volume labels from aseg aseg fname return colors True assert equal label names 'rain Stem 1 assert equal len label colors len label names 
def execute concurrent with args session statement parameters *args **kwargs return execute concurrent session zip cycle statement parameters *args **kwargs
def subprocess visible devices gpus if not isinstance gpus list raise Value Error 'gpusshouldbealist' gpus [int g for g in gpus cvd os 'CUDA VISIBLE DEVICES' None if old cvd is None real gpus gpuselse map visible to real {}for visible real in enumerate old cvd ' ' map visible to real int real real gpus []for visible gpu in gpus real gpus map visible to real gpu return ' '.join str g for g in real gpus 
def get script name environ from google internal import settingsif settings F O R C E SCRIPT NAME is not None return force unicode settings F O R C E SCRIPT NAME script url environ 'SCRIPT URL' u if not script url script url environ 'REDIRECT URL' u if script url return force unicode script url - len environ 'PATH INFO' '' ] return force unicode environ 'SCRIPT NAME' u 
def get rotation rotation try angle float rotation except Value Error Type Error is String isinstance rotation six types if is String and rotation u or rotation is None angle 0.0elif is String and rotation u angle 90.0else raise Value Error u numericvalueor None rotation return angle % 360
def to join obj if isinstance obj tuple list alias Nonemethod Noneif len obj 3 alias obj len obj 4 alias method obj obj elif len obj < 2 or len obj > 4 raise Argument Error 'oinobjectcanhave1to {}'.format len obj obj master to join key obj detail to join key obj return Join master detail alias method elif hasattr obj 'get' return Join to join key obj 'master' to join key obj 'detail' obj 'alias' obj 'method' else return Join to join key obj to join key obj obj obj 
def generate Elements Q Named list name uri for n in list if I Element By n and n name and n uri yield n 
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def compile ir typingctx targetctx func ir args return type flags locals lifted lifted from None library None pipeline Pipeline typingctx targetctx library args return type flags locals return pipeline ir func ir func ir lifted lifted lifted from lifted from 
def get hook name return  H O O K S name Hook 
def link pantsrefs soups precomputed for page soup in soups for a in soup all u if a attr u pantsref a not pantsref in precomputed raise Task Error u Page Icannotfindpantsmarkforit page pantsref a rel href page precomputed 
def save state Article Cache articles Nzb Queue B P S Meter rss Rating Dir Scanner Post Processor 
@receiver user logged in def handle customer login sender **kwargs try kwargs kwargs Attribute Error Object Does Not Exist kwargs Simple Lazy Object lambda Customer Model from request kwargs 
def get Chain Matrix S V G element Node matrix S V G matrix S V G matrix S V G Other Times Self get Matrix S V G element Node .tricomplex if element Node Node ! None matrix S V G get Chain Matrix S V G element Node Node matrix S V G return matrix S V G 
def test tl sample wt fit tl Tomek Links random state RND SEED assert raises Runtime Error tl X Y
def extract sd config config sd config {}if config option 'ain 'sd config backend sd config config backend config 'ain 'sd config backend else sd config config backend Noneif config option 'ain 'sd template dir sd config template dir config 'ain 'sd template dir else sd config template dir SD TEMPLATE D I Rif config option 'ain 'sd backend host sd config backend host config 'ain 'sd backend host if config option 'ain 'sd backend port sd config backend port config 'ain 'sd backend port if config option 'ain 'sd jmx enable sd config jmx enable config 'ain 'sd jmx enable return sd config 
def  get blob storage return apiproxy stub map Get Stub 'blobstore' .storage
def post context url data '' return request context url method 'POST' data data 
def get Edge Width element Node if element Node None return 0.72preferences skeinforge craft Craft Preferences 'carve' layer Height skeinforge craft Craft Value 'ayer Height preferences layer Height get Cascade Float Without Self layer Height element Node 'eight edge Width Over Height skeinforge craft Craft Value 'dge Widthover Height preferences edge Width Over Height get Cascade Float Without Self edge Width Over Height element Node 'idth Over Height return get Cascade Float Without Self edge Width Over Height * layer Height element Node 'idth 
def  validate groupby fields groupby fields valid fields set ['user id 'resource id 'project id 'source' 'resource metadata type invalid fields set groupby fields - valid fields if invalid fields raise wsme Unknown Argument invalid fields 'nvalidgroupbyfields return list set groupby fields 
def make consumer request session request 'OPENID' {} store Django Open I D Store return Consumer session store 
def fountain url zsock zcontext zmq P U S H zsock url words [w for w in dir   builtins   if w ]while True zsock random words time 0.4
def visit scenario item item key url django url reverse 'jump to kwargs {'course id unicode world dict C O U R S E 'location' unicode world dict key } world url 
def  make c string string if isinstance string bytes try  utf 8 decode string None True return string + '\x00' except Unicode Error raise Invalid String Data ' T F %r' % string else return  utf 8 encode string [0] + '\x00'
def write version info conn version table version value conn sa version table values {'version' version value 
def nan dot A B should be nan 1 np np A B ! 0 should be nan 2 np A ! 0 np B should be nan should be nan 1 + should be nan 2 C np np to num A np to num B C be nan np C
def check System Encoding if sys 'cp720' try codecs 'cp720' except Lookup Error err Msg 'ythonissue #1616979 related Msg + "leasevisit Msg + "'http /sg + 'andfollowtheinstructionstobeabletofixit'logger.critical err Msg warn Msg "temporaryswitchingtocharset'cp1256'"logger.warn warn Msg reload sys sys 'cp1256'
def build Appropriate Dataset module if module d Sequential Data Set module module for dummy in range 2 d Sequence for dummy in range 3 d Sample randn module randn module else d Supervised Data Set module module for dummy in range 3 d Sample randn module randn module return d 
def test ast require can compile u requiretests ' can compile u require ' can compile u require ' can compile u require asfoobar ' can compile u require asquiz ' can compile u require asquizparald ' cant compile u require ' cant compile u require ' cant compile u require ' cant compile u require '
def rewriterule source target variables condition None assume None def rewrite rl expr assumptions True for match in unify source expr {} variables variables if condition and not condition *[match.get var var for var in variables continueif assume and not ask assume match assumptions continueexpr2 subs match target if isinstance expr2 Expr expr2 rebuild expr2 yield expr2 return rewrite rl 
def save workbook workbook filename writer Excel Writer workbook writer filename return True 
def pci device destroy context node id address return I M P L device destroy context node id address 
def Check Host host data os name None cpe None labels None exclude checks None restrict checks None kb host data 'nowledge Base if os name is None os name kb cpe is None passif labels is None passreturn Check Registry Process host data os name os name cpe cpe labels labels restrict checks restrict checks exclude checks exclude checks 
def locate Mark mark payload index payload mark 0 const M A X PADDING LENGTH + const M A R K LENGTH if index < 0 log 'ouldnotfindthemarkjustyet return Noneif len payload - index - const M A R K LENGTH < const H M A C SHA256 128 LENGTH log 'oundthemarkbutthe H M A Cisstillincomplete return Nonelog 'uccessfullylocatedthemark return index 
def getattr str obj attr fmt None fallback '?' if hasattr obj attr if fmt is not None return fmt % getattr obj attr return str getattr obj attr return fallback 
def win getpass prompt 'assword ' stream None if sys is not sys  stdin   return fallback getpass prompt stream import msvcrtfor c in prompt msvcrt c pw ''while 1 c msvcrt if c '\r' or c '\n' breakif c '\x03' raise Keyboard Interruptif c '\x08' pw pw -1 ]else pw pw + c msvcrt '\r' msvcrt '\n' return pw 
def get Next Edge Index Around Z edge faces remaining Edge Table for face Index in edge Indexes face faces Index edge Index in face Indexes if edge Index in remaining Edge Table return edge Indexreturn -1
def rescale layout pos scale 1 lim 0for i in range pos pos i - pos i lim max pos i lim if lim > 0 for i in range pos pos i * scale / lim return pos 
def combine funcs obj funcs out x obj for x in funcs return '<ul>%s</ul>' % ''.join '<li>%s</li>' % x for x in out if x 
def update translations lang untranslated file translated file clear cache full dict get full dict lang def restore newlines s return s u u .replace u u .replace u u .replace u u .replace u u .replace u u translation dict {}for key value in zip frappe file items untranslated file ignore empty lines False frappe file items translated file ignore empty lines False translation dict newlines key ] restore newlines value full dict translation dict for app in frappe all apps True write translations file app lang full dict 
def variance x n len x deviations de mean x return sum of squares deviations / n - 1
def  parse snippets file data filename lines Line Iterator data for line in lines if not line continue head tail head tail line if head 'extends' yield handle extends tail lines index elif head in 'snippet' snippet  parse snippet line lines filename if snippet is not None yield snippet elif head and not head '#' yield 'error' 'nvalidline % line lines index 
def test unschedule self observer class Event Handler File System Event Handler def on modified self event observer watch unschedule finished unschedule finished Event watch observer Event Handler u observer emitter observer event File Modified Event u assert unschedule finished assert len observer 0
def collectstatic settings module bin env None no post process False ignore None dry run False clear False link False no default ignore False pythonpath None env None args ['noinput']kwargs {}if no post process args 'no-post-process' if ignore kwargs ignoreif dry run args 'dry-run' if clear args 'clear' if link args 'link' if no default ignore args 'no-default-ignore' return command settings module 'collectstatic' bin env pythonpath env *args **kwargs
def report clone repo errors task if task is None or task return Interaction task message message task message details task details 
def  get static settings static dir os galaxy root 'static' return dict static enabled True static cache time 360 static dir static dir static images dir os static dir 'images' '' static favicon dir os static dir 'favicon.ico' static scripts dir os static dir 'scripts' '' static style dir os static dir 'june 2007 style 'blue' static robots txt os static dir 'robots.txt'
def is sequence of strings obj if not cbook obj return Falseif not isinstance obj np and cbook string like obj return Falsefor o in obj if not cbook string like o return Falsereturn True 
def tzname in python2 myfunc def inner func *args **kwargs if PY3 return myfunc *args **kwargs else return myfunc *args **kwargs .encode return inner func 
def path *s joined os os config S T O R E DIR *s absolute os joined verify absolute return absolute 
def deny ip return   apf cmd '-d{0}'.format ip 
def time in a while days 0 seconds 0 microseconds 0 milliseconds 0 minutes 0 hours 0 weeks 0 delta timedelta days seconds microseconds milliseconds minutes hours weeks return datetime + delta 
def create consumers endpoints prefix topic details start listening True connection n rpc connection for details in topic details topic operation node name itertools itertools details [one 3 topic name topics topic name prefix topic operation connection consumer topic name endpoints fanout True if node name node topic name '%s.%s' % topic name node name connection consumer node topic name endpoints fanout False if start listening connection in threads return connection 
def from migration import module name fromlist module path 'glance.db.sqlalchemy.migrate repo % module name module   import   module path globals locals fromlist 0 return [getattr module item for item in fromlist 
def matrix to vector matrix system outvec Vector system vectors for i x in enumerate matrix outvec + x * vects return outvec 
def get token for user user scope data { 'user %s id % scope user signing data 
def find font face rules sheet oeb ans []try rules sheet Rulesexcept Attribute Error rules sheet Rulesfor i rule in enumerate rules if rule ! rule F O N T FACE RULE continueprops get font properties rule default u if not props or not props continuetry path sheet props except Attribute Error path props oeb urlnormalize path None if not ff continueprops ffif props in {u'bolder' u props u int props props ruleprops set ans props return ans 
def permissions string permissions known permissions to set []if permissions is None to set ['+all']else to set ['-all']omitted sorted known permissions - set permissions to set '-{}'.format x for x in omitted to set '+{}'.format x for x in permissions return ' '.join to set 
def test math subclass import mathclass myfloat float passclass mylong long passmf myfloat 1 ml mylong 1 for x in math math math math math math math math math try resf x mf except Value Error resf Nonetry resl x ml except Value Error resl None Are Equal resf resl 
@bdd.when bdd 'waitforthe ? " ? "' def wait for message quteproc httpbin category message quteproc summary 'aitingfor category message expect message quteproc httpbin category message 
def yvp v z n 1 if not isinstance n int or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n 0 return yv v z else return  bessel diff formula v z n yv -1
def  check comp comp ref sens Nonekind -1 for k c k in enumerate comp if c k type ! kind c ref c kref sens c ref c k type not c k ref sens raise Runtime Error 'annotuseanunevencompensationmatrix 
def precompute pantsrefs soups accumulator {}for page soup in soups existing anchors find existing anchors soup count 100for tag in soup all u if tag attr u pantsmark tag pantsmark in accumulator raise Task Error u pantsmark page accumulator anchor tag u or tag u if not anchor anchor pantsmarkwhile anchor in existing anchors count + 1anchor u {1}'.format pantsmark count tag anchorexisting anchors find existing anchors soup link u page anchor accumulator linkreturn accumulator 
def  get child branch trie c for branch in  get child branches trie if branch c return branchreturn None 
def longest id ids seqs lengths map len [seqs.get id  '' for id  in ids return ids lengths ]
def get relative path path components split all path if len components < 1 return os parents [os.pardir] * len components - 1 return os *parents
def get search location try return file io constants S E A R C H FILE LOC .rstrip except I O Error logging 'earchroleisnotconfigured return ''
def set vif guest frontend config conf mac model driver conf addr macif model is not None conf modelif driver is not None conf name driver 
def ports2nmapspec portlist portlist sorted set portlist result []current None None for port in portlist if port - 1 current current current port else if current is not None result str current if current current else '%d-%d' % current current port port if current is not None result str current if current current else '%d-%d' % current return ' '.join result 
def psaux name sanitize name str name pattern re sanitize name salt exception pattern re 'salt.+ps.psaux.+' ps aux   salt  ['cmd.run'] 'psaux' found infos []ret []nb lines 0for info in ps aux found pattern info if found is not None if not salt exception pattern info nb lines + 1found infos info pid count str nb lines + 'occurence s .' ret []ret.extend [sanitize name found infos pid count return ret 
def get zen unitdata translation request search result search translation request try offset int request G E T u 0 except Value Error offset 0if isinstance search result Http Response return search result None search result section offset + 20 > len search result search result offsetunits translation set pk  in search result offset + 20 ] unitdata [{u'unit' unit u unit secondary units request if request authenticated and request in zen else None u Translation Form translation unit tabindex 100 + unit * 10 u offset + pos } for pos unit in enumerate units ]return search result unitdata 
def xdg config dir xdg config os 'XDG CONFIG HOME' os '~/.config' xdg config directory os xdg config 'salt' return xdg config directory 
def egl Initialize display major Version  c int * 1 minor Version  c int * 1 res  lib Initialize display major Version minor Version if res EGL FALSE raise Runtime Error 'ouldnotinitialize return major Version minor Version 
def  recommendation results if not results return Recommendation dist results min dist < config rec thresh number rec Recommendation min dist < config rec thresh number rec Recommendation len results 1 rec Recommendation results - min dist > config gap thresh number rec Recommendation return Recommendation set min dist if isinstance results hooks Album Match for track dist in min dist keys track dist max rec view config rec key in keys if key in max rec view max rec max rec view choice {'strong' Recommendation 'medium' Recommendation 'low' Recommendation 'none' Recommendation rec min rec max rec return rec 
def name filter sum dict align dict name list new sum dict F S S P F S S P Sum Dict new align dict copy align dict for cur pdb name in name list for prot num in sum dict if sum dict num + sum dict num cur pdb name new sum dict num sum dict num numbers sorted new sum dict for pos num in new align dict res dict new align dict pos num .pos align dict {}for prot num in prot numbers new align dict pos num .pos align dict num align dict pos num .pos align dict num new sum dict new align dict 
def test tmp dir exists in env script script no temp assert script T M P D I R script path assert isdir script path 
def test oss sk estimator check estimator One Sided Selection 
def forget func *xs return Forget func *xs
@register.inclusion tag u actions takes context True def recent actions context return context 
def widthratio parser token bits token if len bits ! 4 raise Template Syntax Error 'widthratiotakesthreearguments' tag this value expr max value expr max width bitstry max width int max width except Value Error raise Template Syntax Error 'widthratiofinalargumentmustbeaninteger' return Width Ratio Node parser filter this value expr parser filter max value expr max width 
def test represent hadamard circuit Hadamard Gate 0 * Qubit '00' answer represent circuit nqubits 2 assert answer Matrix [sqrt2 inv sqrt2 inv 0 0]
def amp server context factory ca certificate control credential return  Control Service Context Factory ca certificate control credential 'node-'
def get info from core path full exe path Noneoutput commands 'gdb-c%sbatch' % path path pattern re "orewasgeneratedby [^\x00]+ '" re I G N O R E C A S E match re path pattern output for m in match m m '' [0]if os m full exe path mbreakif full exe path is None syslog 'ouldnotdeterminefromwhichapplicationcorefile % path return {'full exe path full exe path 
def force exit event sys 'uit 
def reap children for col in all living collectors now int time status col if status is None continuecol Noneif status 13 L O G 'removing%sfromthelistofcollectors byrequest ' col col Trueelif status ! 0 L O G 'collector%sterminatedafter%dsecondswithstatuscode%d markingdead col now - col status col Trueelse register collector Collector col col col col col 
def get Outer Loops loops outer Loops []for loop in loops if not euclidean Path Inside Loops outer Loops loop outer Loops loop intercircle Loops True outer Loops return outer Loops 
def hg revision return local 'hgidentify-i' capture True 
def error response app error code message debug message None   warn True if   warn warnings 'wsgilib.error response appisdeprecated applicationmethodonan H T T P Exceptionobjectinstead Deprecation Warning 2 def application environ start response status headers body error response environ error code message debug message debug message   warn False start response status headers return [body]return application 
def  do extra actions api content cc content request fields actions form context request for field form value in actions form data if field in request fields and form value ! api content api content form valueif field 'following'  handle following field form value context requester cc content elif field 'abuse flagged  handle abuse flagged field form value context requester cc content elif field 'voted'  handle voted field form value cc content api content request context elif field 'read'  handle read field api content form value context requester cc content else raise Validation Error {field [nvalid Key 
def selective len str max res 0for c in str if ord c < max res + 1return res 
def get Double From Character Split Line Value character split Line value split Line Float get Double From Character Split Line character split Line if split Line Float None return valuereturn split Line Float 
def handle text mic profile messages [ couldyourepeatthat 'yapologies couldyoutrysayingthatagain 'aythatagain 'begyourpardon random messages mic message 
def get hostmask regex mask mask re mask mask mask u u return re mask + u re I 
def enter xml in advanced problem step text world component type in codemirror 0 text world component 
@ uniquedef uninstallation paths dist r csv Fake File dist metadata lines 'RECORD' for row in r path os dist row yield path if path '.py' dn fn os path base fn -3 ]path os dn base + '.pyc' yield path 
def db initial version database 'main' return I M P L initial version database database 
def  get yaml path builtin name runtime runtime specific os  handler dir builtin name INCLUDE FILENAME TEMPLATE % runtime if runtime and os runtime specific return runtime specificreturn os  handler dir builtin name DEFAULT INCLUDE FILENAME
def test escaped task kwarg split argstr 'cmd arg escaped arg nota kwarg regular kwarg escaped regular kwarg ['arg' 'escaped arg 'nota kwarg {'regular' 'kwarg' 'escaped' 'regular kwarg  parse arguments [argstr] [0] 'cmd' args kwargs [] [] []
def entropy image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy entropy image selem out out mask mask shift x shift x shift y shift y out dtype np 
def get build exe options opts freeze build exe options skip html True opts + pytest includes opts + ['unittest.mock' 'y Qt5 Qt Test 'hypothesis' 'bs4' 'httpbin' 'jinja2.ext' 'cheroot' 'pstats' 'queue']httpbin dir os httpbin  file   opts files + [ 'tests/end2end/data' 'end2end/data' os httpbin dir 'templates' 'end2end/templates' ]opts['packages'].append 'qutebrowser' return opts 
def generate map map name 'url map map rules []converters []for rule in map rules trace [{'is dynamic is dynamic 'data' data for is dynamic data in rule trace converters {}for key converter in rule converters js func js to url function converter try index converters js func except Value Error converters js func index len converters - 1 rule converters indexrules {u'endpoint' rule u list rule u rule converters u trace u rule return render template name parts name and name '.' or [] rules dumps rules converters converters 
def schedule url year stype week xmlurl 'http //www.nfl.com/ajax/scorestrip?'if stype 'POST' week + 17if week 21 week + 1return '%sseason %ype %s&week %d' % xmlurl year stype week 
def restack stack index 0 x stack index stack x return x 
def  Insert Node At new node target after False if new node is not None raise Runtime Error 'insertingnodewhichalreadyhasaparent' new node new node parent of target target parent of target is None raise Runtime Error 'expectedtargetnodetohaveaparent' target for i child in enumerate parent of target if child is target insertion index i + 1 if after else i parent of target child insertion index new node returnraise Runtime Error 'unabletofindinsertionpointfortargetnode' target 
def skip If Custom User test func return skip If settings A U T H USER MODEL ! 'ser 'ustomusermodelinuse test func 
def configure input data obj data if vtk old obj dataelse obj input data data 
def nlmeans pipeline name 'enoise params {'patch radius 1 'block radius 5} inputnode pe Node niu Identity Interface fields ['in file 'in mask name 'inputnode' outputnode pe Node niu Identity Interface fields ['out file name 'outputnode' nmask pe Node niu Function input names ['in file 'in mask output names ['out file function bg mask name 'oise Msk nlmeans pe Node dipy Denoise **params name ' L Means wf pe Workflow name name wf [ inputnode nmask [ 'in file 'in file 'in mask 'in mask ] inputnode nlmeans [ 'in file 'in file 'in mask 'in mask ] nmask nlmeans [ 'out file 'noise mask ] nlmeans outputnode [ 'out file 'out file ] ] return wf 
def compile device template pyfunc debug False inline False from .descriptor import C U D A Target Descdft Device Function Template pyfunc debug debug inline inline class device function template Abstract Template key dftdef generic self args kws assert not kws return dft args typingctx C U D A Target Desc user function dft device function template return dft 
def get role by name name result Role name name return result 
@with config DEBUG True ASSETS DEBUG True def test debug inheritance sub2 Bundle 's4' filters [js] output 'bar' sub1 Bundle 's3' sub2 debug 'merge' output 'foo' filters [css] b Bundle 's1' 's2' sub1 filters [js] jl bundle to joblist b assert len jl 3 assert 's1' in jl and 's2' in jl assert jl [] assert jl [] sub2 Truejl bundle to joblist b assert len jl 4 assert 's1' in jl and 's2' in jl and 's4' in jl assert jl []
def describe volumes kwargs None call None if call ! 'function' log 'hedescribe volumesfunctionmustbecalledwith return Falseif not kwargs kwargs {}params {ction 'escribe Volumes 'volume id in kwargs volume id kwargs id ' ' for volume index volume id in enumerate volume id params Volume Id volume index ] volume idlog params data aws params return url True location get location provider get provider opts   opts   sigver '4' return data 
def is client error status return 400 < status < 499
def sync Swap Buffers n try v ctypes int n cocoa C G L Set Parameter cocoa C G L Get Current Context k C G L C P Swap Interval ctypes v except Exception logging 'nabletosetvsyncmode Usingdriverdefaults 
def self accessing obj accessed obj *args **kwargs return accessing obj accessed obj 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def is valid short number numobj region codes region codes for country code numobj code short number national significant number numobj region code  region code for short number from region list numobj region codes if len region codes > 1 and region code is not None return Truereturn is valid short number for region short number region code 
def Create Path name version package dir '%s-%s' % name version return os PYTHON LIB 'versions' 'third party package dir 
@flake8extdef check builtins gettext logical line tokens filename lines noqa if noqa returnmodulename os filename .split '/' [0]if '%s/tests' % modulename in filename returnif os filename in 'i18n.py' ' i18n returntoken values [t[1] for t in tokens wrapper '%s. i18n % modulename if '_' in token values i18n import line found Falsefor line in lines split line [elm.rstrip ' ' for elm in line ]if len split line > 1 and split line 'from' and split line i18n wrapper and '_' in split line i18n import line found Truebreakif not i18n import line found msg 'N341  frompythonbuiltinsmoduleisused Use from % i18n wrapper yield 0 msg 
def set debug debug global  debug debug debug 
def assign parent node while node and isinstance node astroid Ass Name astroid Tuple astroid List node node node 
def bufsize type to bufsize bf type if bf type 1 bufsize 1024elif bf type 0 bufsize 1else bufsize bf typereturn bufsize 
def insert into target keys value for key in keys -1 ] if key not in target target {}target target -1 ]] value 
def avail images call None if call 'action' raise Salt Cloud System Exit 'heavail imagesfunctionmustbecalledwith orwiththe server user password  get xml rpc auth ' '.join [user password image pool server auth -2 -1 -1 [1]images {}for image in  get xml image pool images 'NAME' .text]  xml to dict image return images 
def get New Derivation element Node return Grid Derivation element Node 
def verify secret key request if request return Trueelse key request G E T user id secret key '.' 1 try profile User pk user id except return Falseif key get secret key request profile request profile Truereturn False 
def create drawdowns pnl hwm [0]idx pnl pd Series index idx duration pd Series index idx for t in range 1 len idx hwm max hwm t - 1 ] pnl drawdown hwm - pnl duration 0 if drawdown 0 else duration t - 1 ] + 1 return drawdown drawdown duration 
def get request header key default None return request key default 
def get list json object parent node name child node name None if not json object return []return list []if isinstance json object node name list for detail in json object node name if child node name return list detail node name else return list detail elif child node name return list json object node name node name else return list json object node name return return list 
def uniquify lst dct {}result []for k in lst if k not in dct result k dct 1return result 
def airport def prep r s3db location filter r if r if r if r 'human resource s3db site staff config r elif r 'inv item s3db 'inv inv item create False deletable False editable False listadd False elif r 'update' field r field Truereturn Trues3 prepreturn s3 rest controller rheader s3db rheader 
def fix Links document ext supported schemes ['http' 'https' 'ftp' 'mailto']for node in domhelpers Elements With Attribute document 'href' href node Attribute 'href' if urlparse href [0] in supported schemes continueif node Attribute 'class' 'absolute' continueif node Attribute 'class' .find 'listing' ! -1 continueif href 'html' or href href '#' ].endswith 'html' fname fext os href if '#' in fext fext ext + '#' + fext '#' 1 [1] else fext extnode Attribute 'href' fname + fext 
def crop image img x y width height img image from data img width min width img - x height min height img - y return img x y width height 
def image file to string filename cleanup cleanup scratch flag graceful errors True bool digits False try call tesseract filename scratch text name root bool digits text util text scratch text name root except errors Tesser General Exception if graceful errors im Image filename text image to string im cleanup bool digits else raisefinally if cleanup util cleanup scratch image name scratch text name root return text 
def vm netstats vm  None def  info vm  dom  get domain vm  nics get nics vm  ret {'rx bytes 0 'rx packets 0 'rx errs 0 'rx drop 0 'tx bytes 0 'tx packets 0 'tx errs 0 'tx drop 0}for attrs in six nics if 'target' in attrs dev attrs dom Stats dev ret bytes + stats packets + stats errs + stats drop + stats bytes + stats packets + stats errs + stats drop + stats retinfo {}if vm  info ]  info vm  else for vm  in list domains info ]  info vm  return info 
def  replace booleans tok toknum tokval tokif toknum tokenize O P if tokval '&' return tokenize N A M E 'and' elif tokval '|' return tokenize N A M E 'or' return toknum tokval return toknum tokval 
def items equal left right return sorted left sorted right 
def apply finite diff order x list y list x0 S 0 N len x list - 1 if len x list ! len y list raise Value Error 'x listandy listnotequalinlength delta finite diff weights order x list x0 derivative 0for nu in range 0 len x list derivative + delta N * y list return derivative 
def dumps obj key None salt u serializer J S O N Serializer compress False data serializer .dumps obj is compressed Falseif compress compressed zlib data if len compressed < len data - 1 data compressedis compressed Truebase64d b64 encode data if is compressed base64d '.' + base64d return Timestamp Signer key salt salt .sign base64d 
def version Options local True major Minor sorted list {'.'.join v '.' [ 2] for v in available Versions local local } reverse True major sorted list {v.split '.' [0] for v in major Minor reverse True special ['latest']return special + major + major Minor 
def construct **kwargs point x kwargs 'point x None point y kwargs 'point y None if 'point' in kwargs raise Type Error 'nknownkeyword point if None not in point x point y kwargs Ecc Point point x point y eq1 pow Integer point y 2  curve x Integer point x eq2 pow x 3  curve x * -3 eq2 + xeq2 +  curve %  curve eq1 ! eq2 raise Value Error 'hepointisnotonthecurve d kwargs 'd' None if d is not None and 'point' in kwargs pub key  curve G * d if pub key ! point x or pub key ! point y raise Value Error 'rivateandpublic E C Ckeysdonotmatch return Ecc Key **kwargs
def op sequence op *classes log []instances []for c in classes instances c log try op *instances except Type Error passreturn log 
def create Orphan Field fieldset address field cls *args **kw save size fieldset current sizetry fieldset current size addressfield field cls fieldset *args **kw finally fieldset current size save sizereturn field 
def get thread count t config N U M B A NUM T H R E A D Sif t < 1 raise Value Error 'umberofthreadsspecifiedmustbe return t 
def human time seconds units [ u 60 * 60 * 24 * 7 * 52 u 60 * 60 * 24 * 7 u 60 * 60 * 24 u 60 * 60 u 60 u 1 ]seconds int seconds if seconds < 60 return u 2d}s'.format seconds for i in range len units - 1 unit1 limit1 units unit2 limit2 units i + 1 ]if seconds > limit1 return u 2d}{1}{2 2d}{3}'.format seconds // limit1 unit1 seconds % limit1 // limit2 unit2 return u 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def tool shed is this tool shed toolshed base url cleaned toolshed base url common util protocol from tool shed url toolshed base url cleaned tool shed common util protocol from tool shed url str url for '/' qualified True return cleaned toolshed base url cleaned tool shed 
def parse expr s local dict global dict {}exec  'fromsympyimport*' global dict try a parse s mode 'eval' except Syntax Error raise Sympify Error 'annotparse % repr s a Transform local dict global dict .visit a e compile a '<string>' 'eval' return eval e global dict local dict 
def cube width dtype np return np width width width dtype dtype 
def test scenario outline1 ru from string ru Language 'ru' scenario Scenario string SCENARIO OUTLINE1 language ru assert equals scenario u assert equals scenario [{u'\u0438\u043c\u044f' u u '22'} {u'\u0438\u043c\u044f' u u '30'}]
def set wake alarm alarm time utils one line '/sys/class/rtc/rtc0/wakealarm' str alarm time 
def split datastore path datastore path spl datastore path '[' 1 [1].split ']' 1 path ''if len spl 1 datastore url spl datastore url path splreturn datastore url path 
def  sym decorrelation W s u linalg np W W.T return np np u * 1.0 / np s u T W
def apply sdb opts sdb opts None import salt sdb opts is None sdb opts optsif isinstance sdb opts string types and sdb opts 'sdb //' return salt get sdb opts opts elif isinstance sdb opts dict for key value in six sdb opts if value is None continuesdb opts apply sdb opts value elif isinstance sdb opts list for key value in enumerate sdb opts if value is None continuesdb opts apply sdb opts value return sdb opts 
def  blobs page start iterator page response page tuple response 'prefixes' iterator page 
def  maybe get pandas wrapper X trim head None trim tail None if  is using pandas X None return  get pandas wrapper X trim head trim tail else return 
def  get date value date try return '{0}'.format date except Value Error return 'ever 
def maybe sanitize url url mask u if isinstance url string t and u //' in url return sanitize url url mask return url 
def  shrink cache cache dict args dict locale sensitive max length divisor 5 cache keys tuple cache dict overage len cache keys - max length if overage < 0 returnnumber to toss max length // divisor + overage import randomif not hasattr random 'sample' returnfor doomed key in random cache keys number to toss try del cache dict key Key Error passargs dict sensitivity dict {}for pattern pattern type flags args default version locale in tuple cache dict args dict pattern pattern type flags default version locale ] argstry sensitivity dict pattern type pattern ] locale sensitive pattern type pattern ]except Key Error passlocale sensitive locale sensitive sensitivity dict 
def submit calculate grades csv request course key task type 'grade course class calculate grades csvtask input {}task key ''return submit task request task type task class course key task input task key 
def delimited List expr delim ' ' combine False if combine return Combine expr + Zero Or More delim + expr .ame  ustr expr +  ustr delim + '...' else return expr + Zero Or More Suppress delim + expr .ame  ustr expr +  ustr delim + '...'
@requires good networkdef test downloads data dir  Temp Dir path datasets fake path path data dir update path False assert true op op path 'bar' assert true datasets fake version is None 
def phrase extent for head tokens head index begin tokens index Offset begin + len tokens index for child in dependents tokens head index child begin child end phrase extent for head tokens child begin min begin child begin end max end child end return begin end 
def  coefficient t p t i j t R p [0] * R expv1 jexpv1 tuple expv1 p1 R 0 for expv in p if expv j p1 div expv expv1 ] p p1 
def to txt journal return journal 
def starting expression source code offset word finder worder Worder source code True expression starting starting offset word finder splitted primary before offset if expression return expression + '.' + starting return starting 
def bucket download file self Key Filename Extra Args None Callback None Config None return self file Bucket self Key Key Filename Filename Extra Args Extra Args Callback Callback Config Config 
def get Abs Time return int time time 
def register log filtering policy if policy global redaction engine policy policy logfilter log redaction filter to logger global redaction engine logging 
def item pack s3db 'supply item pack listadd False return s3 rest controller 
def get resources vms call None res Filter None include Config True log 'ettingresource vms filter {0} '.format res Filter resources query 'get' 'cluster/resources' ret {}for resource in resources if 'type' in resource and resource in ['openvz' 'qemu' 'lxc'] name resource resourceif include Config ret get vmconfig ret ret ret if res Filter is not None log 'iltergiven {0} returningrequestedresource nodes res Filter return ret Filter 'ilternotgiven {0} returningallresource nodes ret return ret 
def  find hypervisor cs hypervisor return utils resource cs hypervisor 
def overload func jit options {} from .typing.templates import make overload template infer globalopts  overload default jit options opts jit options def decorate overload func template make overload template func overload func opts infer template if hasattr func '  module  ' infer global func types Function template return overload funcreturn decorate 
def pop local dict  local dict stack 
def has binding new api module name api to module importlib import find specrequired [t Core 't Gui 't Svg api in QT API PYQT5 QT API PYSIDE2 required 't Widgets for submod in required try spec find spec '%s.%s' % module name submod except Import Error return Falseelse if spec is None return Falseif api QT API PYSIDE import Py Sidereturn check version Py Side  version   '1.0.3' return True 
def bytes leading raw bytes needle ZERO BYTE leading 0 byte needle x in raw bytes if x  byte leading + 1else breakreturn leading 
def copy file source path output path output dir os output path if not os output dir os output dir shutil source path output path 
def infer value types values depth 0 inferred Unknown for value in sample values type infer value type value depth inferred combine types inferred type return inferred 
def  expand type try return short2long Key Error return type 
def test import nested from os import pathpath2 import item 'os.path' nt true path is path2 
def get config paths config home os u X D G CONFIG HOME' os os u u config path join config home u config paths [config path dirs os u X D G CONFIG DIRS' DEFAULT SYSTEM CONFIG DIR if config dirs is not None config paths 0] reversed [join d u for d in config dirs u ' ] plugin path join os os   file   u files config paths 0 plugin path return config paths 
def get pathext default pathext None if default pathext is None default pathext os ['.COM' '.EXE' '.BAT' '.CMD'] pathext os 'PATHEXT' default pathext return pathext 
def test lex mangling qmark entry tokenize 'foo?' assert entry [y Symbol 'is foo ] entry tokenize '?' assert entry [y Symbol '?' ] entry tokenize 'im?foo' assert entry [y Symbol 'im?foo' ] entry tokenize '.foo?' assert entry [y Symbol '.is foo ] entry tokenize 'foo.bar?' assert entry [y Symbol 'foo.is bar ] entry tokenize 'foo?.bar' assert entry [y Symbol 'is foo ] entry tokenize '.foo?.bar.baz?' assert entry [y Symbol '.is foo baz ]
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def pow complexity num exp if num in 0 1 or exp in 0 1 return 0elif num & num - 1 0 return exp ** 1.092 * num length ** 1.65 / 623212911.121 else return exp ** 1.59 * num length ** 1.73 / 36864057619.3
def Binomial name n p succ 1 fail 0 return rv name Binomial Distribution n p succ fail 
def  get most recent snapshot snapshots max snapshot age secs None now None if len snapshots 0 return Noneif not now now datetime youngest snapshot max snapshots key  get snapshot starttime snapshot start datetime youngest snapshot time ' T H %M %S.000Z' snapshot age now - snapshot start if max snapshot age secs is not None if snapshot age seconds > max snapshot age secs return Nonereturn youngest snapshot 
def softsign x return tf x 
def trg validate uid res type res id signal cr assert isinstance signal basestring return Workflow Service cr uid res type res id .validate signal 
def get sample size format return pa sample size format 
def conductance G S T None weight None if T is None T set G - set S num cut edges cut size G S T weight weight volume S volume G S weight weight volume T volume G T weight weight return num cut edges / min volume S volume T
def  base64ify data chunksize None if chunksize is None chunksize  base64 chunksizeb64 data 'base64 codec b64 b64 '\n' '' l len b64 if l > chunksize chunks []i 0while i < l chunks b64 i + chunksize ] i + chunksizeb64 ''.join chunks return b64 
def  project correlation factors X nm np X * X .sum 1 ii np nm > 1 if len ii > 0 X ] / nm None 
def delete session session year tables {'bill id ['bill detail vote tbl 'bill history tbl 'bill summary vote tbl 'bill analysis tbl 'bill tbl 'committee hearing tbl 'daily file tbl 'bill version id ['bill version authors tbl 'bill version tbl 'session year ['legislator tbl 'location code tbl 'eletingalldataforsessionyear % session year connection My S Q Ldb user MYSQL USER passwd MYSQL PASSWORD db 'capublic' connection True cursor connection for token names in tables for table name in names sql " E L E T E F R O Mcapublic name year sql **locals logger 'executingsql "%s"' % sql cursor sql cursor connection logger '...donedeletingsessiondata.'
def get win32 compiler for v in sys if 'mingw32' in v return 'mingw32'return 'msvc'
def p conditional expression 1 t pass 
def  cluster mask to indices components for ci c in enumerate components if not isinstance c slice components np c [0]return components 
def create weight initializer fan in shape stddev 1 / math np fan in shape return tf normal initializer stddev stddev 
def  get level lengths levels sentinel '' if len levels 0 return []control [rue for x in levels []for level in levels last index 0lengths {}for i key in enumerate level if control and key sentinel passelse control Falselengths index i - last index last index ilengths index len level - last index result lengths return result 
def message information text title None informative text None details None buttons None default button None exc info False parent None if title is None title 'nformation not text text 'amnotanumber message Q Message Box Information text title informative text details buttons default button exc info parent 
def discrete log n a b order None prime order None if order is None order n order b n if prime order is None prime order isprime order if order < 1000 return  discrete log trial mul n a b order elif prime order if order < 1000000000000 return  discrete log shanks steps n a b order return  discrete log pollard rho n a b order return  discrete log pohlig hellman n a b order 
def discretize center 1D model x range x np *x range return model x 
def gemset present name ruby 'default' user None ret {'name' name 'result' None 'comment' '' 'changes' {}}ret  check rvm ret user if ret is False return retif '@' in name ruby name name '@' ret  check ruby ret ruby if not ret ret Falseret 'equestedrubyimplementationwasnotfound retif name in   salt  ['rvm.gemset list ruby runas user ret Trueret 'emsetalreadyexists if   opts  ['test'] ret Noneret 'ettoinstallgemset name return retif   salt  ['rvm.gemset create ruby name runas user ret Trueret 'emsetsuccessfullycreated 'created'else ret Falseret 'emsetcouldnotbecreated ret 
@webob.dec.wsgify@util.check accept 'application/json' def get aggregates req microversion 404 if not version req 1 1 context req util path item req 'uuid' resource provider objects Resource Provider by uuid context uuid aggregate uuids resource provider aggregates return  send aggregates req aggregate uuids 
def  active contributors id from date to date locale product editors Revision created  gte from date .values list 'creator' flat True .distinct reviewers Revision reviewed  gte from date .values list 'reviewer' flat True .distinct if to date editors editors created  lt to date reviewers reviewers reviewed  lt to date if locale editors editors document  locale locale reviewers reviewers document  locale locale if product editors editors Q document  products product | Q document  parent  products product reviewers reviewers Q document  products product | Q document  parent  products product return set list editors + list reviewers 
def purge options app env docname if not hasattr env 'optionlist all options returnenv all options [option for option in env all options if option ! docname ]env.optionlist indexed options dict [ option option for option in env all options 
def is errant log log return log hide is not True and log in mdl Node Log P R O J E C T REGISTERED and log is None and log 4 and log 0 or log in mdl Node Log R E G I S T R A T I O N APPROVAL APPROVED and log 4 and log 0
def lp2hp b a wo 1.0 a b map atleast 1d a b try wo float wo except Type Error wo float wo d len a n len b if wo ! 1 pwo pow wo numpy max d n else pwo numpy max d n b if d > n outa a -1 ] * pwo outb resize b d outb ] 0.0outb[ n b -1 ] * pwo n else outb b -1 ] * pwo outa resize a n outa ] 0.0outa[ d a -1 ] * pwo d return normalize outb outa 
def additive chi2 kernel X Y None if issparse X or issparse Y raise Value Error 'additive chi2doesnotsupportsparsematrices X Y check pairwise arrays X Y if X < 0 .any raise Value Error 'containsnegativevalues if Y is not X and Y < 0 .any raise Value Error 'containsnegativevalues result np X Y dtype X  chi2 kernel fast X Y result return result 
def sizeof fmt num for item in ['bytes' 'KB' 'MB' 'GB'] if num < 1024.0 return '%3.1f%s' % num item num / 1024.0return '%3.1f%s' % num 'TB'
@cache page XDOMAIN PROXY CACHE TIMEOUT def xdomain proxy request config X Domain Proxy Configuration if not config return Http Response Not Found allowed domains []for domain in config '\n' if domain allowed domains domain if not allowed domains log u Nowhitelistconfiguredforcross Youcanconfigurethewhitelistin Django Adminusingthe X Domain Proxy Configurationmodel return Http Response Not Found context {'xdomain masters json {domain '*' for domain in allowed domains }return render to response 'cors csrf proxy context 
def get file info map file infos return dict file info file info ] for file info in file infos 
def visit all objects f ids set ls locals import inspectcf inspect for o in gc objects if o is ids or o is ls or o is cf continueif not id o in ids ids id o f o for so in gc referents o if not id so in ids ids id so f so 
def ensure cache root environ None ensure directory cache root environ environ 
def replace params with consts expr if expr lo P A R A M return create const check param val expr expr else new args []for arg in expr new args replace params with consts arg if isinstance expr lo Lin Op and expr lo P A R A M data lin op expr check param val data lin op data create const val data lin op else data expr lo Lin Op expr expr new args data 
def jupyter notebook skeleton py version sys infonotebook skeleton {'cells' [] 'metadata' {'kernelspec' {'display name 'ython + str py version 'language' 'python' 'name' 'python' + str py version } 'language info {'codemirror mode {'name' 'ipython' 'version' py version 'file extension '.py' 'mimetype' 'text/x-python' 'name' 'python' 'nbconvert exporter 'python' 'pygments lexer 'ipython' + str py version 'version' '{0}.{1}.{2}'.format *sys.version info 3] }} 'nbformat' 4 'nbformat minor 0}return notebook skeleton 
def csrf request def  get val token get token request if token is None return ' O T P R O V I D E D return force text token return {'csrf token Simple Lazy Object  get val }
def get user permission full codename perm User get user model model name User meta namereturn u %s' % User meta label perm model name 
def get other props all props reserved props if hasattr all props 'items' and callable all props return dict [ k v for k v in all props if k not in reserved props ]
def test trigonometric Chart datas chart Chart interpolate 'trigonometric' chart make data chart datas assert chart 
def  determine function name type node if not node method return 'function'if node decorators node decorators []for decorator in decorators if isinstance decorator astroid Name or isinstance decorator astroid Getattr and decorator 'abstractproperty' infered safe infer decorator if infered and infered in PROPERTY CLASSES return 'attr'elif isinstance decorator astroid Getattr and decorator in 'setter' 'deleter' return 'attr'return 'method'
def default filter src dst return dst 
def server track request event type event page None if event type '/event logs and request staff returntry username request username 'anonymous'event {'username' username 'ip'  get request ip request 'referer'  get request header request 'HTTP REFERER' 'accept language  get request header request 'HTTP ACCEPT LANGUAGE' 'event source 'server' 'event type event type 'event' event 'agent'  get request header request 'HTTP USER AGENT' .decode 'latin1' 'page' page 'time' datetime 'host'  get request header request 'SERVER NAME' 'context' eventtracker tracker .resolve context }shim.remove shim context event log event event 
def split by array group size filler args [iter array ] * group size return list map list zip longest fillvalue filler *args
def compile string template string origin if settings T E M P L A T E DEBUG from debug import Debug Lexer Debug Parser lexer class parser class Debug Lexer Debug Parser else lexer class parser class Lexer Parser lexer lexer class template string origin parser parser class lexer return parser 
def xl range first row first col last row last col range1 xl rowcol to cell first row first col range2 xl rowcol to cell last row last col return range1 + ' ' + range2 
def state path rel *args return os C O N F path *args
def get input prompt if sys info > 3 return input prompt else return raw input prompt .decode u 
def e Get S Handle p I O Type Channel p Value x1 if os 'nt' static Lib ctypes Load Library 'labjackud' pv ctypes double p Value ec static Lib Get S Handle p I O Type Channel ctypes pv x1 if ec ! 0 raise Lab Jack Exception ec return pv raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def put original alpha original image new image try alpha idx original image 'A' alpha channel original image [alpha idx image alpha channel except Value Error passreturn new image 
def geoexplorer bing key settings gis api bing google key settings gis api google yahoo key settings gis api yahoo print service settings gis print service geoserver url settings gis geoserver url response 'eo Explorer dict bing key bing key google key google key yahoo key yahoo key print service print service geoserver url geoserver url 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def remove operation feed activities trim True batch interface None t timer msg format 'running%s.remove manyoperationfor msg format feed len activities batch interface feed many activities trim trim batch interface batch interface logger 'removemanyoperationtook%sseconds' t 
def  label all rag attr name node rag [0]new label rag n d in rag iter data True d name new label 
def get server id if salt proxy return {}return {'server id abs hash   opts  .get 'id' '' % 2 ** 31 }
def flatten errors cfg res levels None results None if levels is None levels []results []if res True return sorted results if res False or isinstance res Exception results levels ] None res if levels levels return sorted results for key val in list res if val True continueif isinstance cfg key collections Mapping levels key flatten errors cfg val levels results continueresults levels ] key val if levels levels return sorted results 
def get Clipped Simplified Loop Path clip loop Path radius return get Simplified Path get Clipped Loop Path clip loop Path radius 
def  parse resolve contents  read file  DEB RESOLV FILE return contents 
def random circuit ngates nqubits gate space X Y Z S T H CNOT SWAP qubit space range nqubits result []for i in range ngates g random gate space if g C Not Gate or g Swap Gate qubits random qubit space 2 g g *qubits else qubit random qubit space g g qubit result g return Mul *result
def snapshot from bdm snapshot id template copy from template 'disk bus 'device type 'boot index 'delete on termination 'volume size 'device name snapshot dict {'source type 'snapshot' 'destination type 'volume' 'snapshot id snapshot id key in copy from template snapshot dict template key return Block Device Dict snapshot dict 
def get vmdk detach config spec client factory device destroy disk False config spec client factory 'ns0 Virtual Machine Config Spec device config spec []virtual device config spec detach virtual disk spec client factory device destroy disk device config spec virtual device config spec config spec Change device config specreturn config spec 
def write pack object f type object sha None if type in DELTA TYPES delta base object objectelse delta base Noneheader bytes pack object header type delta base len object comp data zlib object crc32 0for data in header comp data f data if sha is not None sha data crc32 binascii data crc32 return crc32 & 4294967295
def tshark Version version Str quiet Run 'tshark-v' version Match re ' Shark \\d+.\\d+.\\d+ ' version Str return version Match 
def translate snapshot exception method def wrapper self ctx snapshot id *args **kwargs try res method self ctx snapshot id *args **kwargs except keystone exception Not Found cinder exception Not Found  reraise exception Snapshot Not Found snapshot id snapshot id return resreturn translate cinder exception wrapper 
def migrate meter table conn table meter table conn table meter filter "ow Filter 'regexstring [\\w\\. -]* \\d{19} \\w*' "gen meter table filter meter filter for row data in gen parts row '_' 2 new row hbase utils key *parts meter table new row data meter table row 
def take n iterable return islice iterable n 
def get downloaded track list albumpath downloaded track list []for root dirs files in os albumpath for  file in files extension os  file [1].lower [1 ]if extension in headphones M E D I A FORMATS downloaded track list os root  file return downloaded track list 
def  get current inventory resources conn rp cur res sel sa [ INV T B L class id .where  INV T B L provider id rp existing resources conn cur res sel .fetchall return set [r[0] for r in existing resources 
def construct message labels face annotations response text P R E T E X Tlabel desc ''pos labels ['verylikely' 'likely' 'possibly']for i in range len labels label desc + 'coreis % labels labels joy anger sorrow surprise extract sentiment face annotations for i in range len pos labels if joy > 0 label desc + 'efound % joy pos labels if anger > 0 label desc + 'efound % anger pos labels if sorrow > 0 label desc + 'efound % sorrow pos labels if surprise > 0 label desc + 'efound % surprise pos labels if not label desc label desc 'olabelsfound text + label descresp twilio Response resp response text return resp 
def import image src repo tag None client  get client status base status try ret client image src repository repo tag tag if ret image logs  info  parse image multilogs string ret  create image assemble error status status ret image logs if status is not False infos  get image infos image logs  valid status comment 'mage infos Id id  infos Id out ret else  invalid status except Exception  invalid status out traceback exc return status 
def  resp status property def getter self return '%s%s' % self int self def setter self value if isinstance value int long self int valueself self RESPONSE R E A S O N S if isinstance value unicode value value 'utf-8' self int int value '' 1 [0] self self value '' 1 [1]return property getter setter doc "etrieveandsetthe Responsestatus e O K 
def get localzone return  get localzone 
def get test value v if not isinstance v graph Variable v var theano tensor variable v else v var vreturn Pure Op get test value v var 
def generic send email script template factory identifier event name description help text initial None attrs {}attrs.setdefault u identifier attrs u event attrs u name attrs u description attrs u text help text attrs u initial or dict return type str u Generic Send Email Script Template Generic Send Email Script Template attrs 
def test collect 2 a b x symbols 'a b x assert collect a * cos x + sin x + b * cos x + sin x sin x + cos x a + b * cos x + sin x 
def add parse callback callback options parse callback callback 
@app.route '/drip' def drip args Case Insensitive Dict request duration float args 'duration' 2 numbytes min int args 'numbytes' 10 10 * 1024 * 1024 code int args 'code' 200 pause duration / numbytes delay float args 'delay' 0 if delay > 0 time delay def generate bytes for i in xrange numbytes yield u 'utf-8' time pause response Response generate bytes headers {ontent Type 'application/octet-stream' 'ontent Length str numbytes } response code codereturn response 
def attachment destroy context attachment id return I M P L destroy context attachment id 
def fail without changes name ret {'name' name 'changes' {} 'result' False 'comment' 'ailure   opts  ['test'] ret Falseret "fweweren thiswouldbeafailure ret 
def rotation multi x rg 20 is random False row index 0 col index 1 channel index 2 fill mode 'nearest' cval 0.0 if is random theta np / 180 * np - rg rg else theta np / 180 * rg rotation matrix np [[np.cos theta - np theta 0] [np.sin theta np theta 0] [0 0 1]] h w x index x index transform matrix transform matrix offset center rotation matrix h w results []for data in x results apply transform data transform matrix channel index fill mode cval return np results 
def support redirect request **kwargs return Http Response Redirect get support url request 
def challenge crap ''for x in range random 15 25 crap crap + chr random 65 90 crap md5 crap .digest return crap 
def stat mode to index mode mode if S ISLNK mode return S I F L N Kif S ISDIR mode or S IFMT mode S IFGITLINK return S I F G I T L I N Kreturn S IFREG | 420 | mode & 73
def sortdict dict items dict items reprpairs [ '%r %r' % pair for pair in items ' '.join reprpairs return '{%s}' % withcommas 
def search channel tag key None category None return Channel by tag key key category category 
def apply metaquery filter session query metaquery for k value in six metaquery key k ]try  model sql utils M E T A TYPE M A P value ]except Key Error raise ceilometer Not Implemented Error 'ueryon key sisof value stypeandisnotsupported % {'key' k 'value' type value } else meta alias aliased  model on clause and  models Resource id meta alias meta alias key key query query meta alias on clause query query meta alias value return query 
def deny demo request messages request _ u Youcannotchangedemoaccountonthedemoserver return redirect profile request P O S T u 
def clear alarms alarm if  TRAFFICCTL cmd  traffic ctl 'alarm' 'clear' alarm else cmd  traffic line '--clear alarms alarm log 'unning %s' cmd return  subprocess cmd 
def process Element Node element Node element Node Node Object + get Cubic Path element Node 
def  parse ndp options raw prev offset 0 buf len None  offset offsetif buf len is None buf len len raw remaining buf len - offset r []while offset < buf len - 2 if buf len - offset % 8 ! 0 raise Runtime Error 'adoptiondatalength offset o N D Option Base new raw offset buf len prev prev r o return offset r 
def  compile pathname timestamp codestring open pathname ' .read if codestring and codestring -1 ] ! '\n' codestring codestring + '\n' code   builtin  .compile codestring pathname 'exec' try f open pathname +  suffix char 'wb' except I O Error passelse f '\x00\x00\x00\x00' f struct '<I' timestamp marshal code f f f 0 0 f imp magic f return code 
def group members request slug template name 'groups/group members group get object or 404 Group slug slug is active True member list group return render request template name {'group' group 'member list member list 
def fetch raw image context target image id images context image id target 
def validate is document type option value if not isinstance value collections Mutable Mapping Raw B S O N Document raise Type Error '%smustbeaninstanceofdict bson S O N bson bson Raw B S O N Document oratypethatinheritsfromcollections Mutable Mapping % option 
def dict from cookiejar cj cookie dict {}for cookie in cj cookie dict cookie cookie dict 
def sweep poly t poly phi 0 phase  sweep poly phase t poly phi * pi / 180 return cos phase + phi 
def set backend name None possible list  BACKENDS if name is None names []else names name ' ' for name in reversed names for backend in list possible if backend N A M E name possible backend possible 0 backend breakelse raise Lookup Error 'nkownbackend %r' % name if 'null' not in names possible [b for b in possible if b N A M E ! 'null' ] ACTIVE BACKENDS[ ] possible 
def alpha max emp cov A np emp cov A A + 1 ] 0return np np A
def change qq header uri headers body return uri headers body 
def gone ctx 'one 'ontent Type 'text/html' return output 'gone'
def get Safe Ex String ex encoding None ret Val exif getattr ex 'message' None ret Val ex getattr ex 'msg' None ret Val ex get Unicode ret Val encoding encoding 
def prepare annotations def expand annotation annotation if isinstance annotation dict return Map Annotation annotation elif isinstance annotation string t return mlazy instantiate annotation return annotationif annotations is None return elif not isinstance annotations list tuple annotations annotations return [expand annotation anno for anno in annotations 
@api view ['GET'] @permission classes [s Authenticated Or Read Only def has node request node id request G E T 'node id '' exists storage node node id return Response {'exists' exists 
def Start Operation description operation Datastore Admin Operation description description id db ids db Key path Datastore Admin Operation 1 1 [0] operation config  Create Datastore Config return operation 
def normalized cut size G S T None weight None if T is None T set G - set S num cut edges cut size G S T T weight weight volume S volume G S weight weight volume T volume G T weight weight return num cut edges * 1 / volume S + 1 / volume T
def positive int argument value int argument if value < 1 raise Value Error 'negativeorzerovalue;mustbepositive' return value 
def compute node delete context compute id return I M P L node delete context compute id 
def build provider location system lun type lun id version location dict {'system' system 'type' lun type 'id' six type lun id 'version' version dump provider location location dict 
def contains at depth haystack needle n if not hasattr haystack '  iter  ' return Falseif n 0 return needle in haystack else for item in haystack if contains at depth item needle n - 1 return Truereturn False 
def from 7L7777M data return data + data << 7 + data << 14 + data << 21 + data << 28
def urlparams url  hash None **query url urlparse url  fragment hash if hash is not None else url q url dict dict urlparse qsl force bytes q if q else {} query dict k force bytes v if v is not None else v for k v in query query string urlencode [ k urllib v for k v in query dict if v is not None ] new urlparse Parse Result url url url url query string fragment return new 
def get external downloader external downloader bn os os external downloader [0]return  BY N A M E 
def  check vlim vlim return not np vlim and vlim is not None 
def pyramid gaussian image max layer -1 downscale 2 sigma None order 1 mode 'reflect' cval 0  check factor downscale image img as float image layer 0rows image image layer image image yield image while layer ! max layer layer + 1layer image pyramid reduce prev layer image downscale sigma order mode cval prev rows rowsprev cols colsprev layer image layer imagerows layer image layer image prev rows rows and prev cols cols break yield layer image 
def empty formatter view value return ''
def build cluster status fsm convergence loop fsm return construct Finite State Machine inputs Cluster Status Inputs outputs Cluster Status Outputs states Cluster Status States initial Cluster Status States D I S C O N N E C T E D table  CLUSTER STATUS FSM TABLE rich Inputs [ Connected To Control Service  Status Update input Context {} world Method Suffix Outputer Cluster Status convergence loop fsm 
def get br service url node return 'http //{0} {1}{2}'.format node hermes constants B R SERVICE PORT hermes constants B R SERVICE PATH
def canon bp p if isinstance p Tens Expr return p bp return p 
def course image url course image key 'course image if course asset path url '/static/' + course asset path or getattr course 'data dir '' if hasattr course image key and getattr course image key ! course key url + '/' + getattr course image key else url + '/images/' + image key + '.jpg' elif not getattr course image key url settings S T A T I C URL + settings D E F A U L T COURSE ABOUT IMAGE URL else loc Static Content location course getattr course image key url Static Content asset key with slash loc return url 
def template validator request settings modules {}for mod in settings A D M I N FOR settings module   import   mod {} {} [''] settings modules module S I T E ID] settings modulemanipulator Template Validator settings modules new data errors {} {} if request P O S T new data request P O S T errors manipulator validation errors new data if not errors request set message 'hetemplateisvalid return render to response 'admin/template validator {'title' 'emplatevalidator 'form' oldforms Form Wrapper manipulator new data errors } context instance template Request Context request 
def check if expired if not has expired returnlimits get limits expires on formatdate limits u support email limits u email if limits url message _ u Yoursubscriptionexpiredon Torenew {1}.' .format expires on get upgrade link limits url elif support email message _ u Yoursubscriptionexpiredon Torenew pleasesendanemailto .format expires on support email else message _ u Yoursubscriptionexpiredon .format expires on frappe message Site Expired Error 
def get Complex Path vector3 Path complex Path []for point in vector3 Path complex Path point Axis return complex Path 
def make contrib superclass func None def contribute to class self cls name if func func self cls name else super superclass self .contribute to class cls name setattr cls self Creator self return contribute to class 
def check access and print warning sock dir if os sock dir os R OK and os sock dir os W OK and os sock dir os X OK returnelse print 'WARNING Eventswillnotbereported notabletoaccess '.format sock dir 
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
def config file provider registry xml parent data cfp X M L Sub Element xml parent 'onfig File Build Step cfp 'plugin' 'config-file-provider' config file provider builder cfp data 
def timeformat when None when when if when else time tz offset datetime when - datetime when tz offset tz offset * 86400 + tz offset when datetime when - tz offset tz hour abs int tz offset // 3600 tz mins abs int tz offset // 60 % 60 tz sign '-' if tz offset > 0 else '+' return '%d-%02d-%02d%02d %02d %02d%s%02d%02d' % when when when when when when tz sign tz hour tz mins 
def find Stored Ticket bridge assert bridgeticket File const S T A T E LOCATION + const C L I E N T TICKET FILE log "ttemptingtoreadmasterkeyandticketfromfile % ticket File yaml Blurb util From File ticket File if yaml Blurb is None or len yaml Blurb 0 return Nonetickets yaml load yaml Blurb try timestamp master Key ticket tickets bridge ]except Key Error log "oundnoticketforbridge % str bridge return Nonelog 'eletingticketsinceitisabouttoberedeemed del tickets bridge ]o File yaml tickets ticket File ticket Age int time - timestamp if ticket Age > const S E S S I O N TICKET LIFETIME log 'edidhaveaticketbutitalreadyexpired % str datetime seconds ticket Age - const S E S S I O N TICKET LIFETIME return Nonereturn master Key ticket 
def  prep panel data data if isinstance data Panel return datareturn Panel Dict data 
def showpage path try import webbrowserwebbrowser new os path except traceback exc 
def  find migrate repo path os os os   file   'migrate repo assert os path return path 
@subliminal.command @click.option '--clear-subliminal' is flag True help "learsubliminal Usethis O N L Yifyourcacheiscorruptedorifyouexperienceissues @click.pass contextdef cache ctx clear subliminal if clear subliminal for file in glob os ctx dir cache file + '*' os file click "ubliminal else click 'othingdone 
def get Program Files Path keyname ' O F T W A R E Microsoft Windows Current Version V win32api Reg Open Key Ex win32con H K E Y LOCAL MACHINE keyname 0 win32con K E Y READ return win32api Reg Query Value Ex current V 'rogram Files Dir [0]
def merge init structs s0 s1 for k in s1 assert not k in s0 'rror lookslikeparameter % k s0 s1 s1 s0 s1 
def interp avg data low data high n if isinstance data low int long for i in range 1 n yield data low * n - i + data high * i / n else pairs zip data low data high pair iters [interp avg x y n for x y in pairs i in range 1 n yield [iter.next for iter in pair iters 
def test regression 3920 loc Earth Location geodetic 0 * u 0 * u 0 time Time u aa Alt Az location loc obstime time sc Sky Coord 10 * u 3 * u assert sc to aa .shape tuple sc2 Sky Coord 10 * u 3 * u 1 * u A U assert sc2 to aa .shape tuple icoo ICRS sc icoo2 ICRS sc2 assert icoo to aa .shape tuple assert icoo2 to aa .shape tuple 
def  qname matches tag namespace qname if qname is None member tag Nonemember namespace Noneelif qname '{' member namespace qname qname '}' ]member tag qname qname '}' + 1 ]else member namespace Nonemember tag qnamereturn tag is None and namespace is None or namespace is None and member tag tag or tag is None and member namespace namespace or tag is None and namespace '' and member namespace is None or tag member tag and namespace member namespace or tag member tag and namespace '' and member namespace is None 
def cs operation func ordinate False get False if get func check cs getdbl param POINTER c double else func check cs opdbl param c doubleif ordinate func [CS PTR c uint c uint dbl param func [CS PTR c uint dbl param c intreturn func 
def get extras path file path if extras dir is None return file pathreturn os extras dir file path 
def Create Ads With Customizations client adgroup ids feed name adgroup ad service client Get Service 'd Group Ad Service text ad {'xsi type 'ext Ad 'headline' 'uxury Cruiseto %ame % feed name 'description1' 'nly %rice % feed name 'description2' 'fferendsin countdown %ate }!' % feed name 'rls ['http //www.example.com'] 'rl 'www.example.com'}operations [{'operator' 'ADD' 'operand' {roup Id adgroup 'ad' text ad for adgroup in adgroup ids adgroup ad service operations if response and 'value' in response for ad in response print "reatedanadwith I D type andstatus % ad ad Ad Type ad else raise errors Google Ads Error 'oadswereadded 
def Plotly **options clf options 'clf' True Config **options import plotly as plotlyurl plotly mpl pyplot if clf Clf return url 
def make Fake K Queue test K Queue test K Event @implementer  I K Queue class Fake K Queue object kqueue test K Queuekevent test K Eventreturn Fake K Queue 
def  add axis labels title plot xlabel ylabel title try if hasattr plot 'set title plot title title plot xlabel xlabel plot ylabel ylabel else plot title plot xlabel plot ylabel except pass 
def test read write info tempdir  Temp Dir info read info raw fname temp file op tempdir 'info.fif' info head t np 4 t1 info head t info temp file info info2 read info temp file t2 info2 head t true len info len info2 assert array equal t1 t2 creator u read info chpi fname info history creatorinfo meas creatorinfo info id creatorwrite info temp file info info read info temp file assert equal info history creator assert equal info meas creator assert equal info info id creator 
def guard loglevel global LOG FLAGLOG FLAG True 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def add Env Path env name value try oldval env not oldval ';' oldval oldval + ';' except Key Error oldval ''if not value ';' value value + ';' env oldval + value 
def  mask trigs events mask mask type if not isinstance mask type string types or mask type not in 'not and 'and' raise Value Error 'mask typemustbe and got % mask type if mask is not None if not isinstance mask int raise Type Error 'ouprovideda n %s.' % type mask + 'askmustbeanintor None n events len events if n events 0 return events if mask is not None if mask type 'not and mask np not mask elif mask type ! 'and' if mask type is not None raise Value Error "'mask type and insteadof % mask type events 1 ] np and events 1 ] mask events events events 1] ! events 2] ]return events 
def test host role merge deduping @roles 'r1' 'r2' @hosts 'a' def command passtrue eq hosts command ['a' 'b' 'c'] env {'roledefs' fake roles 
def ivp v z n 1 if not isinstance n int or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' if n 0 return iv v z else return  bessel diff formula v z n iv 1
def compute C R C data crc 65535for a in data idx   crc16 table crc ^ ord a & 255 ]crc crc >> 8 & 255 ^ idx swapped crc << 8 & 65280 | crc >> 8 & 255 return swapped 
def LHOST return commands '/sbin/ifconfig' .split '\n' [1].split [1]
def idzp id eps A A np A k idx rnorms  id id eps A n A A T [ k * n - k ].reshape k n - k order 'F' return k idx proj 
def validate integer value name min value None max value None try value int str value except Value Error Unicode Encode Error msg _ '% value name smustbeaninteger raise exception Invalid Input reason msg % {'value name name if min value is not None if value < min value msg _ '% value name smustbe % min value d raise exception Invalid Input reason msg % {'value name name 'min value min value if max value is not None if value > max value msg _ '% value name smustbe % max value d raise exception Invalid Input reason msg % {'value name name 'max value max value return value 
def load all unload all plugins config 'ckan.plugins' '' .split + find system plugins if 'synchronous search not in plugins and asbool config 'ckan.search.automatic indexing True log 'oadingthesynchronoussearchplugin plugins 'synchronous search load *plugins
def get forums query result user it itertools query result operator 0 if user authenticated for key value in it forums key [ item item for item in value else for key value in it forums key [ item None for item in value return forums 
def  ppid ret {}if   grains  ['kernel'] 'un O S cmd 'ps-a-opid ppid cmd 'ps-ax-opid ppid   salt  ['cmd.run'] cmd python shell True for line in out pid ppid line ret ppidreturn ret 
def hash data data return base64 hashlib data .digest
def sizefilter st size if size is None or size > 0 and st size > abs size or size < 0 and st size < abs size return Truereturn False 
def setup authentication conf None if conf is None conf cfg C O N Ffor method name in conf if method name not in constants DEFAULT AUTH METHODS option cfg Str Opt method name  register auth plugin opt conf option 
def gen random usernames while 1 yield hex int random * 16 ** 12 [2 ].zfill 12 .decode 'ASCII'
def singularities expr sym if not expr rational function sym raise Not Implemented Error 'lgorithmsfindingsingularitiesfornonrationalfunctionsarenotyetimplemented else return solveset simplify 1 / expr sym 
def relevant values all values return dict option value for option value in six all values if  relevant option and cli was set option value 
def remove repeating from task task name s module str task name .rpartition u [0] + u return remove repeating module s 
def escape cdata cdata return xml safe cdata .replace ']]>' ' D A T A 
@pytest.fixture scope u def celery enable logging return False 
def start notification server global NOTIFICATION S E R V E Rif NOTIFICATION SERVER is None NOTIFICATION SERVER Notification Server NOTIFICATION S E R V E R return NOTIFICATION SERVER
def  get deps deps tree base saltenv 'base' deps list ''if deps is None return deps listif not isinstance deps list raise Salt Invocation Error "ythonlistorcomma for deprpm in deps parsed  urlparse deprpm depbase os deprpm dest os tree base depbase if parsed   salt  ['cp.get url deprpm dest saltenv saltenv else shutil deprpm dest deps list + '{0}'.format dest return deps list 
def register linter linter checker Exceptions Checker linter 
def Sourceify path if '$ ' in path return pathif os path return pathreturn srcdir prefix + path 
def  fetch templates src templates []log.debug 'istingcontentsof src for item in os src s os src item if os s template path os s TEMPLATE FILE NAME if os template path templates  get template template path item else log 'irectorydoesnotcontain template path TEMPLATE FILE NAME return templates 
def error xml try ET.XML xml except E T Parse Error return sys value 
def  get current site request crum current request if not request returnreturn {'id' request 'domain' request 'name' request 
def  soft update a b a {k v for k v in b if k not in a }
def  split commits and tags obj store lst ignore unknown False commits set tags set others set for e in lst try o obj store Key Error if not ignore unknown raiseelse if isinstance o Commit commits e elif isinstance o Tag tags e tagged o c t o  split commits and tags obj store [tagged] ignore unknown ignore unknown commits | ctags | tothers | oelse others e return commits tags others 
def  get ax freq ax ax freq getattr ax 'freq' None if ax freq is None if hasattr ax 'left ax ax freq getattr ax ax 'freq' None elif hasattr ax 'right ax ax freq getattr ax ax 'freq' None if ax freq is None shared axes ax shared x axes .get siblings ax if len shared axes > 1 for shared ax in shared axes ax freq getattr shared ax 'freq' None if ax freq is not None breakreturn ax freq 
def copy tcltk src dest symlink for libversion in '8.5' '8.6' for libname in 'tcl' 'tk' srcdir join src 'tcl' libname + libversion destdir join dest 'tcl' libname + libversion if os srcdir and not os destdir copyfileordir srcdir destdir symlink 
def change Password To disp newpassword host None if not host host disp owner Serverresp disp Send And Wait For Response Iq 'set' NS REGISTER to host payload [ode 'username' payload [disp. owner Server Node 'password' payload [newpassword] ] if is Result Node resp return 1
def Element With Text tag text **extra e Element tag **extra e textreturn e 
def get test classes from testsuite suite if not isinstance suite unittest Test Suite raise Type Error 'est Suite suite results set for test in suite tests if isinstance test unittest Test Case results test  class   else classes get test classes from testsuite test results classes return results 
def set enabled all objects enable for obj in objects obj Enabled enable 
def dataset followee list context data dict  check access 'dataset followee list context data dict if not context 'skip validation schema context 'schema' or ckan follow user schema data dict errors  validate data dict schema context if errors raise Validation Error errors model context id  get or bust data dict 'id' followees model User Following Dataset list user id datasets [ackage followee id for followee in followees [dataset for dataset in datasets if dataset is not None ]return [model dictize dictize dataset context for dataset in datasets 
def flatten expr new new cls expr  class  args []for arg in expr if arg  class   cls args arg else args arg return new expr  class   *args
def  gen find subseq generator subseq list subseq pos 0saved []for c in generator saved c if len saved > len subseq saved 0 pos + 1if saved subseq return posreturn -1
def  ask and call cmds cwd None def quote s return '"%s"' % s if '' in s else s sys 'kaytoexecute \n\n%s\n y ?\n' % '\n'.join [''.join [quote s for s in c for c in cmds while 1 input sys .strip .lower if input in ['y' 'n'] breakaccepted input 'y' if accepted  call cmds cwd return accepted 
def test modes try x file 'test file 'w' Are Equal x 'w' x Assert Error With Message Value Error 'emptymodestring' file 'abc' '' Assert Error With Message Value Error "modestringmustbeginwithoneof'r' 'w' ' not file 'abc' 'p' Assert Error With Message Value Error "universalnewlinemodecanonlybeusedwithmodesstartingwith'r'" file 'abc' 'w Assert Error With Message Value Error "universalnewlinemodecanonlybeusedwithmodesstartingwith'r'" file 'abc' 'a Assert Error With Message Value Error "universalnewlinemodecanonlybeusedwithmodesstartingwith'r'" file 'abc' 'w Assert Error With Message Value Error "universalnewlinemodecanonlybeusedwithmodesstartingwith'r'" file 'abc' 'a Assert Error Value Error file 'test file ' Assert Error Value Error file 'test file ' Assert Error Value Error file 'test file ' O O B A R finally os 'test file 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def get Inner Text node inner text []for child in node Nodes if child Type child T E X T NODE or child Type child C D A T A SECTION NODE inner text child elif child Type child E L E M E N T NODE inner text get Inner Text child else passreturn u inner text 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def initialized return D E T A I L S 'initialized' False 
def romanize string lang 'en' romanizer romanizers lang 'en' return romanizer string 
def server enabled s name **connection args server  server get s name **connection args return server is not None and server state 'ENABLED'
@cache permissiondef can upload dictionary user project return check permission user project 'trans.upload dictionary 
def  score estimator X test y test scorer if y test is None score scorer estimator X test else score scorer estimator X test y test if hasattr score 'item' try score score except Value Error passif not isinstance score numbers Number raise Value Error 'scoringmustreturnanumber got %s instead % str score type score return score 
def test reset in length  ip cell "print'foo'"  ip cell 'reset-fin' nt equal len  ip ns In  ip count + 1
def is task mutable context task if context admin return Trueif context is None return Falsereturn task context 
def getincrementalencoder encoding encoder lookup encoding .incrementalencoderif encoder is None raise Lookup Error encoding return encoder 
def udivisor count n if n 0 return 0return 2 ** len [p for p in factorint n if p > 1 ]
def get current site theme if not is comprehensive theming enabled return Nonerequest get current request if not request return Nonereturn getattr request 'site theme None 
def cwd at path def decorator func @functools.wraps func def wrapper *args **kwds try oldcwd os repo root os test dir os os repo root path return func *args **kwds finally os oldcwd return wrapperreturn decorator 
def p definition literal p print code p 0
def output opt info conf names for name in names L O G  LI ' DCTB % name -35s% attr s {'name' name + ' ' 'attr' getattr conf name }
def saved J S O N Invariants test Case saved J S O N test Case Is Instance saved J S O N unicode test Case Equal saved J S O N '\n' 0 return saved J S O N 
def dmp degree in f j u if not j return dmp degree f u if j < 0 or j > u raise Index Error '0< j %sexpected got % u j return  rec degree in f u 0 j 
def create bem flow name 'bem' out format 'stl' 'nitializetheworkflow pe Workflow name name 'efinetheinputstotheworkflow pe Node niu Identity Interface fields ['subject id 'subjects dir name 'inputspec' 'efineallthenodesoftheworkflow \n\nfssource usedtoretrieveaseg convert convertsaseg tessellatesregionsinaseg convertsregionstostereolithographic .stl format bem pe Node interface mne Watershed B E M name 'atershed B E M surfconvert pe Map Node fs M R Is Convert out datatype out format iterfield ['in file name 'surfconvert' 'onnectthenodes [ inputnode watershed bem [ 'subject id 'subject id 'subjects dir 'subjects dir ] watershed bem surfconvert [ 'mesh files 'in file ] ] 'etupanoutputnodethatdefinesrelevantinputsoftheworkflow pe Node niu Identity Interface fields ['meshes'] name 'outputspec' bemflow [ surfconvert outputnode [ 'converted' 'meshes' ] ] return bemflow 
def ownership required function None def decorator request *args **kwargs group get object or 404 Group slug kwargs if request anonymous return Http Response Redirect reverse 'django.contrib.auth.views.login' if Group Member owner group request return function request *args **kwargs else raise Http404return decorator 
def get New Repository return Fill Repository 
def identity Pump Policy queue target while queue bytes queue if bytes is None breaktarget Received bytes 
def warn config absent sections argument log printer if all argument not in section for section in sections log printer 'idyouforgettogivethe argument return Truereturn False 
def is Aqua Tk if not  tk type  init tk type return  tk type 'cocoa' or  tk type 'carbon'
def get collection summary from model collection summary model return collection domain Collection Summary collection summary model collection summary model collection summary model collection summary model collection summary model code collection summary model collection summary model collection summary model owned collection summary model ids collection summary model ids collection summary model ids collection summary model ids collection summary model summary collection summary model collection summary model count collection summary model model created on collection summary model model last updated 
@check is trading as api Execution Context phase EXECUTION PHASE.HANDLE BAR EXECUTION PHASE.SCHEDULED def order shares id or ins amount style None order book id assure order book id id or ins if amount 0 user log _ 'order shares book id .format order book id order book id returnround lot int get data proxy .instrument order book id .round lot amount int amount // round lot * round lot bar dict Execution Context current bar dict order get simu exchange .create order bar dict order book id amount style return order id 
def slice shape lst slices if atomp lst return []return [len lst ] + slice shape lst slices ]
@requires application @requires pyopengl def test functionality pyopengl  test functionality 'pyopengl2'
def get profile model if not getattr settings u A C C O U N T S PROFILE MODEL' None raise Profile Not Configuredtry return apps model settings A C C O U N T S PROFILE MODEL except Value Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lmustbeoftheform label name except Lookup Error raise Improperly Configured u A C C O U N T S PROFILE M O D E Lreferstomodel % settings A C C O U N T S PROFILE MODEL
def random adjacency mat directed False random state None if random state is None random state np not isinstance random state np Random State random state np Random State random state if issparse adjacency mat adjacency mat adjacency mat num nodes adjacency mat coords random state num nodes 2 line vertices arrows  straight line vertices adjacency mat node coords directed yield node coords line vertices arrows 
def remove entity headers headers allowed 'expires' 'content-location' allowed set x for x in allowed headers ] [ key value for key value in headers if not is entity header key or key in allowed ]
@with setup prepare stdout def test output level 1 success runner Runner join abspath dirname   file   'output features 'many successful scenarios verbosity 1 runner assert stdout lines '..\n1feature 1passed \n2scenarios 2passed \n2steps 2passed \n'
def  Add Rate To Summary tag rate step sw sw summary summary pb2 Summary value [summary pb2 Summary Value tag tag simple value rate ] step 
def  get bench name bench func return bench func  name  [ len BENCH METHOD PREFIX + 1 ]
def libvlc audio equalizer release p equalizer f  Cfunctions 'libvlc audio equalizer release None or  Cfunction 'libvlc audio equalizer release 1 None None ctypes void p return f p equalizer 
def get Center By Paths element Node transformed Paths element Node Object Transformed Paths return 0.5 * euclidean Maximum By Vector3 Paths transformed Paths + euclidean Minimum By Vector3 Paths transformed Paths 
def polynomial kernel X Y None degree 3 gamma None coef0 1 X Y check pairwise arrays X Y if gamma is None gamma 1.0 / X K safe sparse dot X Y.T dense output True K * gamma K + coef0 K ** degreereturn K
@utils.arg 'monitor' metavar '<monitor>' help ' Dofthemonitortodelete @utils.service type 'monitor' def do delete cs args monitor  find monitor cs args monitor 
def readmodule ex module path None return  readmodule module path or []
def get default contact doctype name out frappe u \n DCTB DCTB DCTB selectis primary contactfromtab Contactcwherec dl \n DCTB DCTB DCTB DCTB asis primary contact DCTB DCTB from DCTB DCTB DCTB `ynamic Link DCTB DCTB where DCTB DCTB DCTB dl doctype %sand\n DCTB DCTB DCTB dl name %sand\n DCTB DCTB DCTB dl "ontact doctype name if out return sorted out lambda x y cmp y x [0][0]else return None 
def transform soups config soups precomputed fixup internal links config soups ensure headings linkable soups generate page tocs soups precomputed link pantsrefs soups precomputed 
def group revision list context data dict  check access 'group revision list context data dict return  group or org revision list context data dict 
def authenticate username password service 'login' @CONV F U N Cdef my conv n messages messages p response app data 'impleconversationfunctionthatrespondstoany CALLOC n messages sizeof Pam Response p response cast addr POINTER Pam Response for i in range n messages if messages style PAM PROMPT ECHO OFF pw copy STRDUP str password p response cast pw copy c char p p response retcode 0return 0handle Pam Handle conv Pam Conv my conv 0 retval PAM START service username pointer conv pointer handle if retval ! 0 return Falseretval PAM AUTHENTICATE handle 0 return retval 0
def config get pattern '*' host None port None db None password None server  connect host port db password return server get pattern 
def get provider name None id None if id is not None provider ALL PROVIDERS BY I D else if name is None name settings D E F A U L T PAYMENT P R O V I D E Rprovider ALL P R O V I D E R S if provider not in settings P A Y M E N T PROVIDERS raise Improperly Configured 'heprovider P A Y M E N T P R O V I D E R S p provider return provider 
@skip 'silverlight' def test weakref x  struct Struct 'i' import  weakref Are Equal  weakref x .size x 
def  whatsnd data hdr data 512]fakefile Bytes I O hdr for testfn in sndhdr res testfn hdr fakefile if res is not None return  sndhdr M I M Emap res return None 
def make fastq rec header seq qual offset 33 result []if header '>' header header ]result.append '@' + header result seq result '+' + header result ''.join map chr [ 33 + i for i in qual return '\n'.join result 
def  inverse permutation p n p np n dtype np i np n dtype np np s p i return s 
@blueprint.route '/datasets/<job id methods ['POST'] @blueprint.route '/models/<job id methods ['POST'] @blueprint.route '/jobs/<job id methods ['POST'] @utils.auth.requires login redirect False def abort job job id job scheduler job job id if job is None raise werkzeug Not Found 'obnotfound if scheduler job job id return 'obaborted raise werkzeug Forbidden 'obnotaborted 
def  skip nonwhitespace data pos while pos < len data if data breakpos + 1return pos 
def setup test view cursor connection cursor ' R O P V I E W I F E X I S T Stko test view 2' cursor get create test view sql 
def safe Exp x return exp clip x -500 500
def read pyc filename data read file filename 'rb' if not is gae and data 4] ! imp magic raise System Error 'compiledcodeisincompatible' return marshal data header size ]
def rads2radsec in file delta te out file None import numpy as npimport nibabel as nbimport os as opimport mathif out file is None fname fext op op in file if fext u fname _ op fname out file op u radsec % fname im nb in file data im data .astype np * 1.0 / delta te nb Nifti1 Image data im im .to filename out file return out file 
def tmin a lowerlimit None axis 0 inclusive True a axis  chk asarray a axis am trima a lowerlimit None inclusive False return ma am axis 
def is member mutable context member if context admin return Trueif context is None return Falsereturn member id context 
def split filenames format string shards parsed formats parser format string sizes [files.stat filename .st size for filename in filenames per shard float sum sizes / shards if not size per shard returnif parsed formats split return  deep split filenames size per shard parsed formats else return  shallow split filenames size per shard parsed formats sizes 
def fit mps dist data x0 None xsorted np data if x0 is None x0 getstartparams dist xsorted args xsorted dist print x0 return optimize logmps x0 args args 
def uninstall python python runas None python re '^python-' '' python args '--force{0}'.format python  pyenv exec 'uninstall' args runas runas return True 
@ile System directory current directory 'django' 'brocolis' def test harvest uses test runner status out run scenario 'leaves' 'disabled' assert equals status 0 out assert 'ustomtestrunnerenabled in out 
def escape parameter text return escape identifier text '-' '_'
def get css dependencies group if settings P I P E L I N E ENABLED return [ I P E L I N E C S S filename return settings P I P E L I N E C S S filenames 
def iter errback iterable errback *a **kw it iter iterable while True try yield next it except Stop Iteration breakexcept errback failure Failure *a **kw
def  has uncommitted files uncommitted files subprocess output GIT IS DIRTY C M D '' return bool len uncommitted files 
def  raise error iface iface option expected msg  error msg iface iface option expected log msg raise Attribute Error msg 
def  is bad link info base tip resolved joinpath base dirname info return  is bad path info base tip 
def delete exploration committer id exploration id force deletion False exploration rights model exp models Exploration Rights Model exploration id exploration rights model committer id '' force deletion force deletion exploration model exp models Exploration Model exploration id exploration model committer id feconf C O M M I T MESSAGE EXPLORATION DELETED force deletion force deletion exploration memcache key  get exploration memcache key exploration id memcache services exploration memcache key delete documents from search index [exploration id delete exploration summary exploration id activity services featured activity feconf A C T I V I T Y TYPE EXPLORATION exploration id 
def  ecma Code Table Coordinate column row return bytes bytearray [ column << 4 | row ]
def filename if not  state raise Runtime Error 'noactiveinput ' return  state 
def  parse token word chunk 'O' pnp 'O' relation 'O' anchor 'O' format [WORD POS CHUNK PNP REL ANCHOR LEMMA] tags []for tag in format if tag WORD tags xml decode word elif tag POS tags xml decode word XML TYPE 'O' elif tag CHUNK tags chunk elif tag PNP tags pnp elif tag REL tags relation elif tag ANCHOR tags anchor elif tag LEMMA tags xml decode word XML LEMMA '' else tags xml decode word tag 'O' return tags 
def trained type return s3 rest controller 
def creation sequence to weights creation sequence first creation sequence isinstance first str if isinstance creation sequence list wseq creation sequence ]else wseq list creation sequence elif isinstance first tuple wseq [v[1] for v in creation sequence isinstance first int wseq uncompact creation sequence else raise Type Error 'otavalidcreationsequencetype wseq w 0prev 'i'for j s in enumerate wseq if s 'i' wseq wprev selif prev 'i' prev sw + 1wseq.reverse for j s in enumerate wseq if s 'd' wseq wprev selif prev 'd' prev sw + 1if prev 'd' w + 1wscale 1.0 / float w return [ ww * wscale for ww in wseq 
def p const map seq p  parse seq p 
def  do plot x y dist None line False ax None fmt 'bo' **kwargs fig ax utils mpl ax ax ax xmargin 0.02 ax x y fmt **kwargs if line if line not in ['r' 'q' '45' 's'] msg '%soptionforlinenotunderstood' % line raise Value Error msg qqline ax line x x y y dist dist return fig ax 
def log line filename line global  open log files  log file dirpath get path  log file dir filename if path not in  open log files close log file filename try os os path except O S Error pass open log files open path 'w' timestr time ' H %M %S'  open log files '%s %s\n' % timestr line  open log files 
def special rss site url return cfg filenames or match str url cfg odd titles 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def position of ngram ngram sentence for i sublist in enumerate ngrams sentence len ngram if ngram sublist return i 
def list datastore clusters service instance return list objects service instance vim Storage Pod 
@handle response format login required admin required def perspective view request perspective id response format 'html' perspective get object or 404 Perspective pk perspective id all modules Module message request 'message' '' return render to response 'core/administration/perspective view {'perspective' perspective 'all modules all modules 'message' message context instance Request Context request response format response format 
def serve protected file request path try file obj File file path is public False except File Does Not Exist raise Http404 'ilenotfound if not file obj read permission request if settings D E B U G raise Permission Deniedelse raise Http404 'ilenotfound return server request file obj file obj save as False 
def assert allclose cc actual desired **kw try assert allclose actual desired **kw except assert allclose actual conj desired **kw
def merge sync dsk1 dsk2 dsk2 topo toposort dsk2 sd  sync keys dsk1 dsk2 dsk2 topo new dsk dsk1 for key in dsk2 topo if key in sd new key sd if key in dsk1 new key next merge sync else new key keysd new keytask dsk2 a b in sd task subs task a b new dsk key taskreturn new dsk sd 
def get module app modname verbose failfast module name '%s.%s' % app modname app mod import module app try imp module modname app mod  path   if hasattr app mod '  path  ' else None except Import Error if failfast raiseelif verbose print u Couldnotfind % modname app traceback exc return Nonemodule import module module name if verbose print u Loaded % modname app return module 
@dispatch Reduction def group apply expr key expr namecol '$' + expr child name if isinstance expr count return {key {'$sum' 1}}if isinstance expr sum return {key {'$sum' col isinstance expr max return {key {'$max' col isinstance expr min return {key {'$min' col isinstance expr mean return {key {'$avg' col Not Implemented Error 'eduction Mongo D B % type expr .  name  
def override system resolver resolver None if resolver is None resolver get default resolver global  resolver resolver resolversocket  getaddrinfosocket  getnameinfosocket  getfqdnsocket  gethostbynamesocket ex  gethostbyname exsocket  gethostbyaddr 
def provision for any user node package source variants username node default username if username 'root' return provision as root node package source variants commands []start []def for thirty seconds *args **kwargs if not start start time return Effect Constant time - start < 30 commands run remotely username username address node commands retry task install ssh key for thirty seconds commands run remotely username username address node commands task enable root logins node commands provision as root node package source variants return sequence commands 
def device extents devmem s drvapi device ptr n c size t devptr device ctypes pointer devmem driver Mem Get Address Range byref s byref n devptr s n s n return s s + n 
def from epoch milliseconds ms seconds int ms / 1000.0 microseconds ms - 1000 * seconds * 1000.0 return EPOCH + timedelta seconds seconds microseconds microseconds 
def set diff renderer class renderer assert rendererglobals [u' diff renderer class renderer 
def wrap text width 70 **kwargs w Text Wrapper width width **kwargs return w text 
def verify certificate certificate now timeutils if now < certificate valid before raise exception Signature Verification Error reason _ 'ertificateisnotvalidbefore % T C % certificate valid before elif now > certificate valid after raise exception Signature Verification Error reason _ 'ertificateisnotvalidafter % T C % certificate valid after 
def Make Entity For Query query *path pseudo pb entity pb Entity Proto pseudo pb entity group pseudo pk pseudo pb key pseudo pk app query if query name space pseudo pk name space query space for i in xrange 0 len path 2 pseudo pe pseudo pk path .add element pseudo pe type path if isinstance path i + 1 ] basestring pseudo pe name path i + 1 ] else pseudo pe id path i + 1 ] return pseudo pb 
def draw Index probs tolerant False if not sum probs < 1.00001 or not sum probs > 0.99999 if tolerant probs / sum probs else print probs 1 - sum probs raise Value Error r random s 0for i p in enumerate probs s + pif s > r return ireturn choice list range len probs 
def Get Audit Log Files offset now token oldest time now - offset - rdfvalue Duration config lib C O N F I G Logging audit log rollover parentdir aff4 F A C T O R Y Open 'aff4 /audit/logs' token token logs list parentdir List Children age oldest time As Micro Seconds From Epoch now As Micro Seconds From Epoch if not logs raise Value Error "ouldn /audit/logsbetween%sand%s" % oldest time now return aff4 F A C T O R Y Multi Open logs aff4 type collects R D F Value Collection token token 
def reachable step Function start destinations  alreadyseen None if len start 0 or len destinations 0 return {}if  alreadyseen is None  alreadyseen [] alreadyseen start res {}for s in start if s in destinations res 0start.remove s new set for s in start new step Function s new update  alreadyseen ndestinations list destinations for s in list new if s in destinations res 1new.remove s ndestinations s  alreadyseen s deeper reachable step Function new ndestinations  alreadyseen for k val in list deeper res val + 1 return res 
def test credentials in url auth flag has priority httpbin both url add auth httpbin both + '/basic-auth/user/password' auth 'user wrong r http '--auth user password 'GET' url assert HTTP OK in r assert r {'authenticated' True 'user' 'user'}
def check subnet ip cidr ip address ip netaddr I P Address ip address net netaddr I P Network cidr return ip ! net and net 6 or ip ! net -1 ] and net & ip net 
@task name 'all' help {'args' 'ommandlineargsfortestrun def test all ctx args '' options '' pytest args select by prefix args ctx behave args select by prefix args ctx test pytest should run not args or args and pytest args behave should run not args or args and behave args if pytest should run pytest ctx pytest args options options if behave should run behave ctx behave args options options 
def  get volume tag volume name if volume for tag in volume if tag Key name return tag Value Tag Not Found volume name volume 
def  do inf pots mri rr bem rr mri Q sol bounds np [np.arange 0 len mri rr 200 [len mri rr ]] B np len mri rr * 3 sol for bi in range len bounds - 1 v0s  bem inf pots mri rr bounds bi + 1 ]] bem rr mri Q v0s v0s * 3 v0s B[ 3 * bounds 3 * bounds bi + 1 ] ] np v0s sol return B
def no mutable default args logical line msg "N322 Method mutable default args logical line yield 0 msg 
def get gdp year rdint vs request Request vs M A C R O URL % vs P T Y P E vs D O M A I N S rdint vs M A C R O TYPE[0] 0 70 rdint text urlopen request timeout 10 .read text text 'gbk' if ct P Y3 else text reg Sym re '\\ count .*? \\}' datastr reg Sym text datastr datastr datastr 'data ' [1]datastr datastr '"' '' .replace 'null' '0' js json datastr df pd Data Frame js columns vs G D P YEAR COLS df df 0 ] np Na Nreturn df 
def  sudo prefix user group None prefix env prefix % env if user is not None or group is not None return '%s%s%s' % prefix  sudo prefix argument '-u' user  sudo prefix argument '-g' group return prefix 
def  is protected type obj return isinstance obj types None Type int long datetime datetime datetime float Decimal basestring 
def file exists session ds browser ds path file name client factory session spec search datastore spec client factory file name search task session call method session 'earch Datastore Task ds browser datastore Path str ds path search Spec search spec try task info session wait for task search task except vexc File Not Found Exception return Falsefile exists getattr task info 'file' False and task info file name return file exists 
def natsort case insensitive seq return natsort seq case sensitive False 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
@app.route '/authorized' def authorized view session auth state session 'authstate' auth code request 'code' auth state request 'state' if session auth state ! auth state abort 401 redirect uri session 'redirecturiafterauthorized' auth session token token response auth tokens auth code auth session token response token response if not redirect uri redirect uri url for 'home view return redirect redirect uri 
def default component return {'host' '192.168.0.1' 'port' 8090 'name' 'soundtouch'}
def  in encoding return  stream encoding sys 
def  check update montage info montage path None update ch names False if montage is not None if not isinstance montage string types Montage err 'ontagemustbestr None orinstanceof Montage % type montage raise Type Error err if montage is not None if isinstance montage string types montage read montage montage path path  set montage info montage update ch names update ch names missing positions []exclude FIFF.FIFFV EOG CH FIFF.FIFFV MISC CH FIFF.FIFFV STIM CH for ch in info if not ch in exclude if np ch .size 1 missing positions ch name if missing positions raise Key Error 'hefollowingpositionsaremissingfromthemontagedefinitions %fthosechannelslackpositionsbecausetheyare E O Gchannelsusetheeogparameter % str missing positions 
def function1 individual position height width value 0.0for x p in zip individual position value + x - p ** 2 return height / 1 + width * value 
def twitter outbox if not auth logged in session T 'equires Login redirect URL c 'default' f 'user' args 'login' tablename 'msg twitter s3db twitters3 table False table Falses3 strings Storage title display T 'weet Details title list T 'ent Tweets label list button T 'iew Sent Tweets label delete button T 'elete Tweet msg record deleted T 'weetdeleted msg list empty T 'o Tweetscurrentlyin Outbox def postp r output if isinstance output dict add btn A T 'ompose  class 'action-btn'  href URL f 'compose' output add btnreturn outputs3 postps3db tablename editable False insertable False listadd False list fields ['id' 'date' 'to address 'body'] return s3 rest controller module 'twitter'
def  fit chpi pos coil dev rrs coil head rrs x0 from scipy import fmin cobyladenom np coil head rrs - np coil head rrs axis 0 ** 2 objective partial  chpi objective coil dev rrs coil dev rrs coil head rrs coil head rrs x0 x0 x0 ] * 10.0x fmin cobyla objective x0  unit quat constraint rhobeg 0.001 rhoend 1e-05 disp False result objective x x ] / 10.0return x 1.0 - result / denom 
def is comprehensive theming enabled if settings E N A B L E COMPREHENSIVE THEMING and current request has associated site theme return Trueif microsite request in microsite return Falsereturn settings E N A B L E COMPREHENSIVE THEMING
def alternatives *rules def  alternatives integral alts []for rule in rules result rule integral if result and not isinstance result Dont Know Rule and result ! integral and result not in alts alts result if len alts 1 return alts alts doable [rule for rule in alts if not contains dont know rule ]if doable return Alternative Rule doable *integral else return Alternative Rule alts *integral return  alternatives 
def revoke admin privileges name **client args client  client **client args client admin privileges name return True 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def Make Descriptor desc proto package '' full message name [desc proto package full message name 0 package fields []for field proto in desc proto full name '.'.join full message name + [field proto field Field Descriptor field proto full name field proto - 1 field proto field proto Field Descriptor Proto Type To Cpp Proto Type field proto field proto None None None None False None has default value False fields field desc name '.'.join full message name return Descriptor desc proto desc name None None fields [] [] []
def  task get context task id session None force show deleted False session session or get session query session models Task .options sa orm models Task .filter by id task id if not force show deleted and not context see deleted query query by deleted False try task ref query except sa orm No Result Found L O G 'otaskfoundwith I D task id raise exception Task Not Found task id task id if not  is task visible context task ref msg 'orbiddingrequest task % task id L O G msg raise exception Forbidden msg return task ref 
def p additive expression 2 t pass 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def recursive map fn element sequence type None if sequence type is None return recursive map fn element type element elif isinstance element sequence type return map lambda x recursive map fn x sequence type element else return fn element 
def rs atan p x prec if rs is puiseux p x return rs puiseux rs atan p x prec R p 0if  has constant term p x zm R monomc p R is EX c expr c expr const atan c expr elif isinstance c Poly Element try c expr c expr const R atan c expr except Value Error raise Domain Error "hegivenseriescan else try const R atan c except Value Error raise Domain Error "hegivenseriescan dp p x p1 rs square p x prec + R 1 p1 rs series inversion p1 x prec - 1 p1 rs mul dp p1 x prec - 1 return rs integrate p1 x + const 
def create kernel image context session instance name label image id image type filename ''if C O N F images args {}args['cached-image'] image idargs str uuid filename session plugin 'kernel' 'create kernel ramdisk args if filename '' return  fetch disk image context session instance name label image id image type else vdi type Image Type string image type return {vdi type dict uuid None file filename }
def cuckoo main max analysis count 0 cur path os os CUCKOO ROOT try sched Scheduler max analysis count sched except Keyboard Interrupt sched os cur path 
def CDLHOMINGPIGEON bar Ds count return call talib with ohlc bar Ds count talib C D L H O M I N G P I G E O N 
@translations.command 'new' @click.option '--plugin' '-p' type click S T R I N G help 'ddsanewlanguagetoaplugin @click.argument 'lang' def new translation lang plugin if plugin validate plugin plugin click 'ddingnewlanguage lang plugin fg 'cyan' add plugin translations plugin lang else click 'ddingnewlanguage lang fg 'cyan' add translations lang 
def  make sync method name def sync wrapper self *args **kwds method getattr self name future method *args **kwds return future result return sync wrapper 
def puts err s '' newline True stream STDERR puts s newline stream 
def get Craft Sequence return 'carvescalebottomprefacewideninsetfillmultiplyspeedtemperatureraftskirtchambertowerjitterclipsmoothstretchskincombcoolhopwipeoozebanesplodgehomelashfilletlimitunpausedimensionaltshellalterationexport'.split
def decistmt s result []g generate tokens String I O s .readline for toknum tokval _ _ _ in g if toknum NUMBER and '.' in tokval result [ NAME 'ecimal OP ' ' STRING repr tokval OP ' ' ] else result toknum tokval return untokenize result 
def get available ctid current ctids list ctids if current ctids return max current ctids + 1 else return 1000
def assert static analysis case actual desired a set actual d set desired assert actual desired 'est %s\nunspecified %s\n' % case sorted d - a sorted a - d 
def test arithmetic cov cov read cov cov fname cov sum cov + cov assert array almost equal 2 * cov cov sum assert array almost equal 2 * cov cov sum assert true cov names cov sum names cov + covassert array almost equal cov sum cov assert array almost equal cov sum cov assert true cov sum names cov names 
def get h5 data group grp name parent '/' f get h5 data file existed Truetry group f Node parent + grp name except existed Falsemsg 'datafor{}tests'.format grp name + '.py' group f group parent grp name msg return existed group 
@celery.task name 'redash.tasks.cleanup query results base Base Task def cleanup query results logging 'unningqueryresultscleanup removingmaximumof thatare ' settings Q U E R Y RESULTS CLEANUP COUNT settings Q U E R Y RESULTS CLEANUP MAX AGE unused query results models Query Result settings Q U E R Y RESULTS CLEANUP MAX AGE .limit settings Q U E R Y RESULTS CLEANUP COUNT total unused query results models Query Result .count deleted count models Query models Query  unused query results .delete synchronize session False models logger 'eleted % deleted count total unused query results 
def comment return s3 rest controller 
def circular adjacency mat directed False if issparse adjacency mat adjacency mat adjacency mat num nodes adjacency mat np 0 2 * np num nodes endpoint False dtype np node coords 0.5 * np [np.cos t np t ] + 0.5 .T line vertices arrows  straight line vertices adjacency mat node coords directed yield node coords line vertices arrows 
def generate s limit 20 return  gen parse s limit 
def  rec integrate in g m v i j K if i j return dmp integrate g m v K w i v - 1 i + 1 return dmp strip [ rec integrate in c m w i j K for c in g v 
def match filter filter list userargs found filter Nonefor f in filter list if f userargs if isinstance f filters Exec Command Filter leaf filters [fltr for fltr in filter list if not isinstance fltr filters Exec Command Filter ]args f args userargs if not args or not match filter leaf filters args continueif not os f path os X OK if not found filter found filter fcontinuereturn freturn found filter 
def bgsave host None port None db None password None server  connect host port db password return server 
def get course topics request course key topic ids None course  get course course key request courseware topics existing courseware topic ids get courseware topics request course key course topic ids non courseware topics existing non courseware topic ids get non courseware topics request course key course topic ids if topic ids not found topic ids topic ids - existing courseware topic ids | existing non courseware topic ids if not found topic ids raise Discussion Not Found Error "iscussionnotfoundfor ' '.join str id for id in not found topic ids return {'courseware topics courseware topics 'non courseware topics non courseware topics 
def threaded func return threaded factory func True 
def  refine value value value str value .lower if value in '1' 'on' 'yes' 'true' return 'on'if value in '0' 'off' 'no' 'false' return 'off'return None 
def extract nothing fileobj keywords comment tags options return []
def submit delete problem state for all students request usage key modulestore .get item usage key task type 'delete problem state class delete problem state task input task key encode problem and student input usage key return submit task request task type task class usage key key task input task key 
def reflected binary operator op assert not is comparison op @with name method name for op op commute True @coerce numbers to my dtypedef reflected binary operator self other if isinstance self Numerical Expression self expr other expr new inputs self binary op op other return Num Expr Factor ' {left} {op} {right} '.format left other expr right self expr op op new inputs dtype binop return dtype op other self elif isinstance other Number return Num Expr Factor '{constant}{op}x 0'.format op op constant other binds self dtype binop return dtype op other self raise Bad Binary Operator op other self return reflected binary operator 
@ helpers 3 def credentials from clientsecrets and code filename scope code message None redirect uri 'postmessage' http None cache None device uri None flow flow from clientsecrets filename scope message message cache cache redirect uri redirect uri device uri device uri credentials flow exchange code http http return credentials 
def cluster create version name 'main' port None locale None encoding None datadir None cmd [salt.utils.which 'pg createcluster ]if port cmd + ['--port' str port ]if locale cmd + ['--locale' locale encoding cmd + ['--encoding' encoding datadir cmd + ['--datadir' datadir + [version name ''.join [pipes.quote c for c in cmd ret   salt  ['cmd.run all cmdstr python shell False if ret 'retcode' 0 ! 0 log 'rrorcreatinga Postgresqlcluster version name return Falsereturn ret 
def  reverse cmp pkg versions pkg1 pkg2 if Loose Version pkg1 > Loose Version pkg2 return 1else return -1
def test classification report imbalanced multiclass iris datasets iris y true y pred _ make prediction dataset iris binary False expected report 'prerecspef1geoibasupsetosa0.830.790.920.810.860.7424versicolor0.330.100.860.150.440.1931virginica0.420.900.550.570.630.3720avg/total0.510.530.800.470.620.4175'report classification report imbalanced y true y pred labels np len iris names target names iris names assert equal  format report report expected report expected report 'prerecspef1geoibasup00.830.790.920.810.860.742410.330.100.860.150.440.193120.420.900.550.570.630.3720avg/total0.510.530.800.470.620.4175'report classification report imbalanced y true y pred assert equal  format report report expected report 
def reverse dict d result {}for key in d for val in d result result val tuple + key return result 
def find name name state high ext id []if name in high ext id name state elif state 'sls' for nid item in six high if item  sls  '] name ext id nid next iter item else for nid in high if state in high if isinstance high list for arg in high if not isinstance arg dict continueif len arg ! 1 continueif arg iter arg ] name ext id nid state return ext id 
def country mobile token country code return  MOBILE TOKEN M A P P I N G S country code U EMPTY STRING
def test mapping task classes list output 'mapping' 'normal' COMMANDS HEADER + ' \n\nmapping task 
def fields from log fh rows fh row rows '\n' [0]fields []matches re TIMESTAMP PATTERN row if matches fields 'timestamp' 'tdate' fields 'message' 'text general return fields 
def remove key kwargs None call None if call ! 'function' log 'hecreate keyfunctionmustbecalledwith return Falsetry result query method 'account' command 'keys/' + kwargs http method 'delete' except Key Error log '`id`argumentmustbespecified' return Falsereturn result 
def strategy random sequential G colors nodes list G random nodes return nodes 
def  microtime val1 val2 math time val2 int val2 return '{0 f val1 val2 
def is transparency supported if sys 'win32' return is dwm compositing enabled elif sys 'cygwin' return Falseelif sys 'darwin' if has x11 return is x11 compositing enabled else return Trueelif sys 'linux' return is x11 compositing enabled elif sys 'freebsd' return is x11 compositing enabled elif has x11 return is x11 compositing enabled else return False 
def module not found additional depth 0 tb sys info [2]if len traceback tb tb > 1 + additional depth return Falsereturn True 
def describe vpc peering connection name region None key None keyid None profile None conn  get conn3 region region key key keyid keyid profile profile return { P C Peerings  get peering connection ids name conn }
def source location to tuple locpb if locpb is None return Noneif not locpb and not locpb and not locpb name return Nonereturn locpb locpb locpb name 
def test return text assert 'foo' in color 'foo' 11
def to bytes text default 0 mult key org text '-1234567890' mult key mult key org mult key len len mult key if mult key 'b' mult key mult key -1 ]try multiplier BYTE M U L T I P L I E R S key mult key len text text - mult key len ]return int text * multiplier except Key Error msg _ 'nknownbytemultiplier %s' % mult key org raise Type Error msg except Value Error return default 
def tabular model dim name None table np [2] * dim inputs tuple u idx for idx in range table members {u'lookup table table u inputs name is None model id  Tabular id Tabular id + 1name u Tabular model id return type str name  Tabular members 
@must have addon SHORT NAME 'node' @must be addon authorizer SHORT NAME def dropbox folder list node addon **kwargs folder id request 'folder id return node addon folders folder id folder id 
def skip reason def decorator test item if isinstance test item type and issubclass test item Test Case test item  unittest skip   Truetest item  unittest skip why   reasonreturn test item copy test item def skip wrapper *args **kwargs raise Skip Test reason return skip wrapperreturn decorator 
def linear gradient start end nbins eps 1e-10 start array start end array end result []n minus 1 max float nbins - 1 eps for i in range nbins result list start * n minus 1 - i / n minus 1 + end * i / n minus 1 return result 
def  find dirs metadata ret {}for bucket name data in six metadata if bucket name not in ret ret name set for path in [ey for k in data prefix ''for part in path '/' [ -1 ] directory prefix + part + '/' ret name directory prefix directoryreturn ret 
def num2julian n if cbook n n np n return n - 1721425.5
def bag zip *bags npartitions bags all bag npartitions for bag in bags name 'zip-' + tokenize *bags dsk dict name i reify zip + tuple bag i for bag in bags for i in range npartitions bags dsk merge * bag for bag in bags return Bag merge bags dsk dsk name npartitions 
def delta t ts time while True t time dt ts t - ts t yield dt 
def test cache deactivated metadata config stub tmpdir config stub {'storage' {'cache-size' 1024} 'general' {'private-browsing' True 'http //qutebrowser.org'disk cache cache Disk Cache str tmpdir assert disk cache Data Q Url url Q Network Cache Meta Data 
def model from configuration deployment state applications deployment configuration nodes deployment from configuration deployment state deployment configuration applications return Deployment nodes frozenset nodes 
def RGS unrank rank m if m < 1 raise Value Error 'hesupersetsizemustbe 1' if rank < 0 or RGS enum m < rank raise Value Error 'nvalidarguments L [1] * m + 1 j 1D RGS generalized m for i in range 2 m + 1 v D[ m - i j ]cr j * v if cr < rank L j + 1 rank - crj + 1else L int rank / v + 1 rank % vreturn [ x - 1 for x in L[1 ]]
def gen test env paths envs shell num test folders 5 paths [os.path.join envs u test folder + 1 for test folder in range num test folders ]for path in paths 2] symlink conda path sys shell converter shells to {i converter path for i path in enumerate paths }paths[u'root'] u u {k shells set variable u C O N D A ENVNAME' value path for k path in paths }return paths envname 
def ensure files present original file dict modified file dict original files set original file dict modified files set modified file dict affected files original files | modified files original unique files affected files - modified files renamed files dict {}for file in filter lambda filter file filter file not in original files affected files for comparable file in original unique files s Sequence Matcher None ''.join modified file dict ''.join original file dict file if s quick ratio > 0.5 and s > 0.5 renamed files dict file filebreakelse original file dict []for file in filter lambda filter file filter file not in modified files affected files modified file dict []return renamed files dict 
def get theme names return get themes .keys
def recvfd socketfd data flags ancillary recv1msg socketfd [ cmsg level cmsg type packed F D ] ancillary F D unpack 'i' packed F D return unpacked F D data 
def confirm user user if user at is not None return Falseuser at datetime  datastore user user confirmed app get current object user user return True 
@blueprint.route '/projects/<project>/meters' def list meters by project project check authorized project project rq flask rq conn meters project project metaquery  get metaquery rq return flask meters [m.as dict for m in meters 
def clone repo parent runtask progress finish spawn result prompt for clone if result is None return url destdir resultprogress details N  u Clone Repository N  u Cloningrepositoryat % url task Clone Task url destdir spawn parent runtask task finish finish progress progress 
def requires ext **kwargs def decorator func @functools.wraps func def wrapper *func args **func kwargs if not is extension enabled kwargs kwargs msg 'kippedbecause %sisnotenabled' % kwargs kwargs raise testtools Test Case Exception msg return func *func args **func kwargs return wrapperreturn decorator 
def get build platform try from sysconfig import get platformexcept Import Error from distutils import get platformplat get platform if sys 'darwin' and not plat 'macosx-' try version  macosx vers machine os [4].replace '' '_' return 'macosx-%d.%d-%s' % int version int version  macosx arch machine except Value Error passreturn plat 
def service get all volume sorted context return I M P L get all volume sorted context 
def  has explicit scheme url return url Valid and url and url or url and '' not in url and not url .startswith ' '
def set binary path name global   SYSLOG NG BINARY P A T Hold   SYSLOG NG BINARY PATH  SYSLOG NG BINARY PATH namechanges  format changes old name return  format state result name result True changes changes 
def  clean nans scores scores as float array scores copy True scores scores ] np scores .minreturn scores 
def read request load scenario reactor cluster method 'version' request rate 10 sample size DEFAULT SAMPLE SIZE timeout 45 tolerance percentage 0.2 validate no arg method I Flocker A P I V1 Client method request getattr cluster control service reactor method return Request Load Scenario reactor Read Request request request rate request rate sample size sample size timeout timeout tolerance percentage tolerance percentage 
def get Evaluated Expression Value Evaluators evaluators for evaluator Index evaluator in enumerate evaluators evaluator Center Operation evaluators evaluator Index for negative Index in xrange 1 - len evaluators 0 evaluator Index negative Index + len evaluators evaluators Index Right Operation evaluators evaluator Index execute Left Operations evaluators 200 for operation Level in [80 60 40 20 15] execute Pair Operations evaluators operation Level execute Left Operations evaluators 13 execute Pair Operations evaluators 12 for negative Index in xrange - len evaluators 0 evaluator Index negative Index + len evaluators evaluators Index Pair Operation evaluators evaluator Index 10 for evaluator Index in xrange len evaluators - 1 -1 -1 evaluators Index Pair Operation evaluators evaluator Index 0 return evaluators 
def fix sys path current path def add path first path sys [path] + [p for p in sys if not p path and not p path + '/' ] path os os current path if not os os path 'web2py.py' i 0while i < 10 i + 1if os os path 'web2py.py' breakpath os os path '..' paths [path os os path 'site-packages' os os path 'gluon' ''][add path first path for path in paths 
def sqlors left lst if isinstance lst iters lst list lst ln len lst if ln 0 return S Q L Query '1 2' if ln 1 lst lst isinstance lst iters return S Q L Query [' '] + sum [[left sqlparam x 'OR'] for x in lst [] + ['1 2 '] else return left + sqlparam lst 
def reverse with get view args None kwargs None get None if args is None args dict url urlresolvers view args args kwargs kwargs if get is not None and len get > 0 params urlencode get url url + '?' + params return url 
def is absolute url path return path 'http'
def test report topic user report Report reason 'est Report report user user post topic post assert report 'est Report report 'est Report Edited assert report 'est Report Edited report report Report by id report .first assert report is None 
def stp br None state 'disable' iface None kernel   grains  ['kernel']if kernel 'inux states {'enable' 'on' 'disable' 'off'}return  os dispatch 'stp' br states elif kernel in SUPPORTED BSD LIKE states {'enable' 'stp' 'disable' '-stp'}return  os dispatch 'stp' br states iface else return False 
def is malicious app id changeset revision **kwd repository metadata get repository metadata by changeset revision app id changeset revision if repository metadata return repository metadata False 
def trackpoint return s3 rest controller 
def get valid serial nos sr nos qty 0 item code u serial nos cstr sr nos .strip .replace u ' u .split u valid serial nos []for val in serial nos if val val val if val in valid serial nos frappe _ u Serialnumber .format val else valid serial nos val if qty and len valid serial nos ! abs qty frappe _ u Item .format abs qty item code return valid serial nos 
def  check C Python sys sys platform platform return platform implementation ' Python 
def resource name res pkg name name my pkg None if res pkg name ! my pkg return res pkg name + PRN SEPARATOR + name return name 
def get Cross Product first Complex second Complex return first Complex * second Complex - first Complex * second Complex 
def torque job cmd pollpath name queue qsub call ' % 'MOTU' queue to submit 'echo"%s;echo$?>%s"|%s' % cmd pollpath qsub call return to submit 
@with setup step runner environ def test steps that match named groups takes them as parameters @step 'hena ? at ? "' def given action named step what city assert equals what 'foreign' assert equals city 'iode Janeiro f Feature string FEATURE5 feature result f scenario result feature result results equals len scenario result passed 1 assert equals scenario result steps 1
def  discrete log shanks steps n a b order None a % nb % nif order is None order n order b n m isqrt order + 1 T dict x 1for i in range m T ix x * b % n z mod inverse b n z pow z m n x afor i in range m if x in T return i * m + T x x * z % n raise Value Error 'ogdoesnotexist 
def parse siteclass proportions line floats site classes {}if line floats for n in range len line floats site classes {'proportion' line floats site classes 
def channel Mode Modify Acknowledge a Tp Pd pd 6 b Message Type mes Type 23 c Channel Description2 d Channel Mode packet a / b / c / d return packet 
def  rebuild reduction cls *args return cls rebuild *args
def scene To Normal Show Names name if not name return []name list [name]new name re u ?i [\\.] and [\\.] ' u name re I if new name not in name list name list new name results []for cur name in name list results re u \\D \\d{4} $' u \\2 ' cur name country match str u country List results re u ?i [._-] ' + country match str + u $' u \\2 ' cur name results + name listreturn list set results 
def Convert Nodes node from type to type to text if node Type from type new node Create Query Node to text to type else new node nodeconvert children lambda c Convert Nodes c from type to type to text new node map convert children node return new node 
def get clusters x original axis 'row' x x original if axis 'column' x x Tnr x dissims pw distances x ids map str range nr metric 'euclidean' linkage matrix linkage row dissims form method 'average' tree Tree Node linkage matrix linkage matrix row dissims return [int tip for tip in tree ]
def translate syntax error error source None error sourceerror Trueexc info error  class   error None filename error filename is None filename '<unknown>'return fake exc info exc info filename error 
def  legacy str to test flags fs desc string match re ' .*? / .*? / .*? / .* $' fs desc string if not match raise Value Error ' Slistentry % fs desc string flags obj partition Fs Options fstype match 1 .strip mkfs flags match 2 .strip mount options match 3 .strip fs tag match 4 .strip return flags obj 
def infinite sleeps sleep for for i in count yield i time sleep for 
def validate model metadata validator Model Metadata Validator metadata return validator 
def action name def decorator func func action namereturn funcreturn decorator 
def filter symbols iterator exclude exclude set exclude for s in iterator if s not in exclude yield s 
def consul fetch client path return client path recurse True 
def passthru arg return arg 
def futrig e **kwargs from sympy import hyper as trigfrom sympy import bottom upe sympify e if not isinstance e Basic return eif not e return eold ee bottom up e lambda x  futrig x **kwargs if kwargs 'hyper' True and e Hyperbolic Function e f hyper as trig e e f  futrig e if e ! old and e Mul and e Rational e Mul *e.as coeff Mul return e 
def set Clock Show Date kvalue **kwargs if kvalue is not True and kvalue is not False return False gsession  G Settings user kwargs 'user' schema 'org.gnome.desktop.interface' key 'clock-show-date' return  gsession set kvalue 
def  s word seq suffix 's' return word + suffix if len seq ! 1 else ''
def print Progress layer Index procedure Name print Progress By String '%slayercount%s...' % procedure Name layer Index + 1
def composite transform factory a b if isinstance a Identity Transform return belif isinstance b Identity Transform return aelif isinstance a Affine Base and isinstance b Affine Base return Composite Affine2 D a b return Composite Generic Transform a b 
def build output worklist force False output path abspath output source paths []for f files in worklist source paths map abspath files update needed Falseif not os output path if not settings A S S E T S AUTO CREATE and not force raise Merge Error "'%s'needstobecreated but A S S E T S AUTO C R E A T Eisdisabled % output else update needed Trueelif not force update needed get updater output path source paths if update needed or force output output pathtry try for filters files in worklist output merge map abspath files output filters output path close False finally if hasattr output 'close' output except if os output path os output path raise 
def usage parser help sys 2
def get url conn urlopen url resp conn conn return resp 
def  api config set nzbkey output kwargs cfg key config api key config config return report output keyword 'nzbkey' data cfg key 
def Normalize And Type Check Keys keys keys multiple Normalize And Type Check keys basestring Entity Key keys [ Get Complete Key Or Error key for key in keys keys multiple 
def syncdb settings module bin env None migrate False database None pythonpath None env None noinput True args []kwargs {}if migrate args 'migrate' if database kwargs databaseif noinput args 'noinput' return command settings module 'syncdb' bin env pythonpath env *args **kwargs
def arma pacf ar ma nobs 10 apacf np nobs acov arma acf ar ma nobs nobs + 1 apacf 1.0for k in range 2 nobs + 1 r acov k k - 1 ] linalg linalg r -1 ] r ] [ -1 ]return apacf 
def get repository heads repo heads [repo[h] for h in repo None ]return heads 
def  execute types in stmt evaluator stmt definitions evaluator element stmt types list [ execute array values evaluator d for d in definitions list list chain iterable types list return type list 
def mchoicefield form field default if field in form cm form cm form cm '*' form defaultelif ' ' in cm form cm ' ' else form [cm]
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def run shell command cmd child sp Popen cmd shell True stdout sp P I P E stderr sp S T D O U T output child [0]rc child output rc 
def  oauth2 web server flow params kwargs params {'access type 'offline' 'response type 'code'}params.update kwargs approval prompt params 'approval prompt if approval prompt is not None logger 'heapproval promptparameterfor O Auth2 Web Server Flowisdeprecated Pleaseusethepromptparameterinstead if approval prompt 'force' logger 'approval prompt "force"hasbeenadjustedtoprompt "consent"' params 'consent'del params prompt params 
def record agreement to terms user id user settings get user settings user id strict True user settings agreed to terms datetime  save user settings user settings 
def read comments ws xml source root fromstring xml source authors  get author list root comment nodes safe iterator root '{%s}comment' % SHEET MAIN NS for node in comment nodes author authors node Id ]cell node node node '{%s}text' % SHEET MAIN NS substrs []for run in text node '{%s}r' % SHEET MAIN NS runtext ''.join [t.text for t in run '{%s}t' % SHEET MAIN NS ] substrs runtext comment text ''.join substrs comment Comment comment text author ws coordinate cell .comment comment 
def sigmoid kernel X Y None gamma None coef0 1 X Y check pairwise arrays X Y if gamma is None gamma 1.0 / X K safe sparse dot X Y.T dense output True K * gamma K + coef0np K K return K
def description of file name 'stdin' u Universal Detector for line in file u line u result u result return '%s %swithconfidence%s' % name result result else return '%s noresult % name 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def resetdb from airflow import modelslogging u Droppingtablesthatexist models Base all settings mc Migration Context settings if mc version settings mc version settings initdb 
def  lowess initial fit x copy y copy k n weights np n k dtype x copy nn indices [0 k X np k 2 fitted np n for i in range n left width x copy - x copy indices right width x copy nn indices - 1 ] - x copy width max left width right width  lowess wt standardize weights ] x copy indices nn indices x copy width  lowess tricube weights ] weights ] np weights ] X[ 1] x copy indices nn indices i weights ] * y copy indices nn indices beta lstsq weights ].reshape k 1 * X y i [0]fitted[i] beta + beta * x copy  lowess update nn x copy nn indices i + 1 return fitted weights 
def init host ip range is external False add snat rule ip range is external rules []if is external for snat range in C O N F snat range rules ' R E R O U T I N G A C C E P T % ip range snat range if rules ensure ebtables rules rules 'nat' iptables manager rule 'POSTROUTING' ' C C E P T % ip range C O N F host for dmz in C O N F cidr iptables manager rule 'POSTROUTING' ' C C E P T % ip range dmz iptables manager rule 'POSTROUTING' '-s% range s range s D N A T A C C E P T % {'range' ip range iptables manager 
def  get logs used space logs dir settings value 'COMMON' 'test output dir default None autodir os os os   file   '..' '..' if logs dir is None logs dir os autodir 'results' usage psutil usage logs dir return int usage 
def instance update db context instance uuid extra values None now timeutils values {'host' None 'node' None 'scheduled at now extra values values extra values return db update context instance uuid values 
def take msb bytes read crc32 None ret []while len ret 0 or ret -1 ] & 128 b read 1 if crc32 is not None crc32 binascii b crc32 ret ord b 1] return ret crc32 
def collect parameters computation graph parameters parameter values parameter sizes parameter shapes [] [] [] for parameter in parameters parameter values parameter value borrow True parameter sizes parameter values -1 ].size parameter shapes parameter values -1 ].shape new parameters shared floatx zeros sum parameter sizes new parameters value numpy [value.flatten for value in parameter values new parameters 'collected parameters role new parameters COLLECTOR replacements {}for parameter shape i j in zip parameters parameter shapes numpy [0] + parameter sizes -1 ] numpy parameter sizes new parameter new parameters j shape new parameter of parameteradd role new parameter COLLECTED replacements new parameterreturn computation graph replacements 
def as column a if a ! 1 raise Value Error 'as columnexpectedan1 butgotanarrayofshape % a return a None 
def decode slice slc ret []for x in slc slc slc if hasattr x '  index  ' x x  index   ret x return tuple ret 
def Deconstruct Asset Id id prefix asset id assert Id Prefix Is Valid id prefix id prefixassert asset id id prefix asset idbyte str base64hex B64 Hex Decode asset id ] padding False device id num bytes util Decode Var Length Number byte str uniquifier  Decode Uniquifier byte str bytes ] return device id uniquifier 
def analytics upageviews by revisions revisions if not revisions return {}revision ids [r.id for r in revisions date min r for r in revisions return analytics upageviews revision ids start date 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  make Header I Pv4 sig V2 SIGNATURE ver Com '!' fam Proto '\x11' addr Length '\x00\x0c' addrs '\x7f\x00\x00\x01\x7f\x00\x00\x01' ports '\x1f\x90"\xb8' return sig + ver Com + fam Proto + addr Length + addrs + ports 
def test legacy format script data script 'install' '-f' data links '--no-index' 'simple 1.0' 'simple2 3.0' result script 'list' '--format legacy assert 'simple 1.0 ' in result str result assert 'simple2 3.0 ' in result str result 
def save filename None family 'ipv4' if  conf and not filename filename  conf family log 'avingrulesto filename parent dir os filename if not os parent dir os parent dir cmd '{0}-save'.format  iptables cmd family ipt   salt  ['cmd.run'] cmd if len  conf save filters > 0 ipt  regex iptables save ipt out   salt  ['file.write'] filename ipt return out 
def get request user request Request Cache current request return getattr request u None 
@when u def step wait prompt context  expect exact context u context timeout 5
def setup warning catcher caught warnings []original showwarning warnings custom showwarning *args **kwargs caught warnings args warnings custom showwarningdef restore showwarning warnings original showwarningreturn caught warnings restore showwarning 
def register custom supported check alias f plugin agnostic False EXTENSION SUPPORTED CHECK M A P fif plugin agnostic  PLUGIN AGNOSTIC E X T E N S I O N S alias 
def add domains args or config domains validated domains []for domain in domains ' ' domain util domain sanity domain validated domains domain if domain not in args or config args or config domain return validated domains 
def add settings mod settings for setting in dir mod if not setting continuesetting value getattr mod setting if setting in 'INSTALLED APPS' 'TEMPLATE DIRS' and isinstance setting value six types setting value setting value if setting 6] 'EXTRA ' base setting setting ]if isinstance getattr settings base setting list tuple curval getattr settings base setting setattr settings base setting curval + type curval setting value continuesetattr settings setting setting value 
def test can parse tabular step followed by regular step steps Step from lines I HAVE TASTY B E V E R A G E S + I LIKE V E G E T A B L E S assert equals len steps 2 assert isinstance steps Step assert isinstance steps Step assert equals steps string I HAVE TASTY BEVERAGES '\n' [0] assert equals steps I LIKE VEGETABLES
def Browse ob   main   root Make H L I ob 'root' if not root Is Expandable raise Type Error 'rowse argumentmusthave  dict  attribute orbea Browsersupportedtype dlg dynamic browser root dlg Create Window 
def is fixed orient forward orig False if orig fixed ori forward orig source ori FIFF.FIFFV MNE FIXED ORI else fixed ori forward ori FIFF.FIFFV MNE FIXED ORI return fixed ori 
def spherical bessel fn n x None **args if n < 0 dup dup spherical bessel fn minus - int n ZZ else dup dup spherical bessel fn int n ZZ poly DMP dup ZZ if x is not None poly Poly poly 1 / x else poly Pure Poly poly 1 / Dummy 'x' if not args 'polys' False return poly expr else return poly 
def get auth url try return   opts  ['keystone.auth url Key Error return 'http //localhost 35357/v2.0'
def validate argsort with ascending ascending args kwargs if is integer ascending or ascending is None args ascending + args ascending Truevalidate argsort args kwargs max fname arg count 1 return ascending 
def Current Line And Column line column vim - 1return line column 
def change username old username new username  xml '<RIBCLVERSION " O G I N U S E R LOGIN " A S S W O R D " S E R INFOMODE " O D USERUSER LOGIN " S E R N A M Evalue " S E R L O G I Nvalue " O D U S E R U S E R I N F O L O G I N R I B C L old username new username return   execute cmd 'hange username  xml 
def  create association context namespace name resource type name values session namespace resource type rec models Metadef Namespace Resource Type metadef utils protected attrs models Metadef Namespace Resource Type values namespace resource type rec values try namespace resource type rec session session except db exc D B Duplicate Entry L O G 'hemetadatadefinitionresource type % resource type name stonamespace % namespace name s alreadyexists {'resource type name resource type name 'namespace name namespace name raise exc Metadef Duplicate Resource Type Association resource type name resource type name namespace name namespace name return namespace resource type rec dict 
@step u w def step fails with text context word assert context is not None 'REQUIRE text fails with message context word context 
def network create request **kwargs L O G 'network create kwargs %s' % kwargs body {'network' kwargs quantumclient request .create network body body .get 'network' return Network network 
@pytest.mark.parametrize 'parallel' [rue False def test read tab parallel read tab if parallel pytest 'ultiprocessingcanfailwithquotedfields text '1 DCTB 2 DCTB 3\na DCTB b DCTB \nc DCTB "d\ne" DCTB 'table read tab text parallel parallel assert equal table 'a' assert equal table 'b' assert table is ma assert equal table 'de' assert equal table ''
def test random permutation n samples 10random state 42python randperm random permutation n samples random state matlab randperm np [7 6 5 1 4 9 10 3 8 2] assert array equal python randperm matlab randperm - 1
def untracked files git git paths None if paths is None paths []args [u'--'] + paths out git files z True others True exclude standard True *args [ T D O U T out return out -1 ].split u return []
def remove interface zone interface permanent True if interface not in get interfaces zone permanent log 'nterfaceisnotboundtozone cmd '--zone {0}--remove-interface {1}'.format zone interface if permanent cmd + '--permanent'return   firewall cmd cmd 
def verify for closed enrollment user cart None if cart is None cart Order cart for user user expired cart items []expired cart item names []valid cart item tuples []cart items cart set .select subclasses is any course expired Falsefor cart item in cart items course key getattr cart item 'course id None if course key is not None course get course by id course key depth 0 if Course Enrollment enrollment closed user course is any course expired Trueexpired cart items cart item expired cart item names course name else valid cart item tuples cart item course return is any course expired expired cart items expired cart item names valid cart item tuples 
def test cases suite for suite or case in suite tests if isinstance suite or case unittest Test Case yield suite or case else for case in test cases suite or case yield case 
def is non string iterable obj return not isinstance obj six types and isinstance obj Iterable 
def locales names family distrib family if family 'debian' command 'dpkg-reconfigure--frontend noninteractivelocales file '/etc/locale.gen' locales generic names config file config file command command elif family in ['arch' 'gentoo']  locales generic names config file '/etc/locale.gen' command 'locale-gen' elif distrib family 'redhat'  locales redhat names else raise Unsupported Family supported ['debian' 'arch' 'gentoo' 'redhat']
def disconnect discussion signals post save sender comment model dispatch uid COMMENT PS COUNT DISCUSSIONS pre delete sender comment model dispatch uid COMMENT PD COUNT DISCUSSIONS comment was flagged sender comment model dispatch uid COMMENT WF COUNT DISCUSSIONS comment was posted sender comment model dispatch uid COMMENT WP COUNT COMMENTS pingback was posted sender comment model dispatch uid PINGBACK WF COUNT PINGBACKS trackback was posted sender comment model dispatch uid TRACKBACK WF COUNT TRACKBACKS
def dir2 obj try words set dir obj except Exception words set words [w for w in words if isinstance w str ]return sorted words 
def  default stim chs info return pick types info meg False ref meg False misc True exclude [] [ 8]
def  clear cache tgt None tgt type 'glob' clear pillar flag False clear grains flag False clear mine flag False clear mine func flag None if tgt is None return Falsepillar util salt Master Pillar Util tgt tgt type use cached grains True grains fallback False use cached pillar True pillar fallback False opts   opts   return pillar util cached minion data clear pillar clear pillar flag clear grains clear grains flag clear mine clear mine flag clear mine func clear mine func flag 
def  add Slash request url U R L Text request 'ascii' url url path list url + [u''] return url Text .encode 'ascii'
def ast compile ast filename mode flags   future  .CO FUTURE DIVISION |   future  .CO FUTURE PRINT FUNCTION return compile ast filename mode flags 
def   assert sorted collection if collection ! sorted collection raise Value Error 'ollectionmustbesorted return True 
def int Color index hues 9 values 1 max Value 255 min Value 150 max Hue 360 min Hue 0 sat 255 alpha 255 **kargs hues int hues values int values ind int index % hues * values indh ind % hues indv ind / hues if values > 1 v min Value + indv * max Value - min Value / values - 1 else v max Valueh min Hue + indh * max Hue - min Hue / hues c Qt Gui Q Color c Hsv h sat v c Alpha alpha return c 
def update travis deploy password encrypted password config load yaml config TRAVIS CONFIG FILE config dict secure encrypted password save yaml config TRAVIS CONFIG FILE config line 'hisfilewasautogeneratedandwilloverwriteeachtimeyouruntravis pypi setup line TRAVIS CONFIG FILE line 
def tail conn stack name log func  tail print sleep time 5 include initial True seen set initial events get events conn stack name for e in initial events if include initial log func e seen e id while 1 events get events conn stack name for e in events if e id not in seen log func e seen e id time sleep time 
def subscribe to creator user id creator id subscribers model creator user models User Subscribers Model creator id strict False subscriptions model user user models User Subscriptions Model user id strict False if not subscribers model creator subscribers model creator user models User Subscribers Model id creator id if not subscriptions model user subscriptions model user user models User Subscriptions Model id user id if user id not in subscribers model creator ids subscribers model creator ids user id subscriptions model user ids creator id subscribers model creator subscriptions model user 
def process java resources target source env shutil str source str target return None 
def insertionsort a for i in range len a item a iwhile j > 0 and a j - 1 ] > item a a j - 1 ]j - 1a[j] itemreturn a 
def register service service frame inspect m name frame back globals  name  ']m sys name SERVICE NAME service 
def test warning on non existant path File Links fls display File Links 'example' nt true fls repr html  .startswith 'ath <tt>example</tt> '
def eigenvector centrality numpy G weight 'weight' max iter 50 tol 0 import scipy as spfrom scipy import linalgif len G 0 raise nx Network X Pointless Concept 'cannotcomputecentralityforthenullgraph' M nx scipy sparse matrix G nodelist list G weight weight dtype float eigenvalue eigenvector linalg M.T k 1 which 'LR' maxiter max iter tol tol largest eigenvector .realnorm sp largest * sp largest return dict zip G largest / norm 
def Max Pool images targets num Channels subs X start X stride X outputs X num Images images targets num Images num Channels * outputs X * outputs X  Conv Net Max Pool images mat targets mat num Channels subs X start X stride X outputs X 
def  remove Sender senderkey  remove Backrefs senderkey try del connections Key Error passtry del senders pass 
def package id or name exists package id or name context model context context session model Package .get package id or name if result return package id or nameresult session model Package .filter by name package id or name .first if not result raise Invalid '%s %s' % _ 'otfound _ 'ataset return package id or name 
def chown path owner execute 'chown' owner path run as root True 
def deactivate packages module port path packages deactivated c 0for package in packages if not query package module port path package module json msg 'failedtoactivate%s package s notpresent % package if not query package module port path package state 'active' continue rc out err module command '%sdeactivate%s' % port path package if query package module port path package state 'active' module json msg 'failedtodeactivated%s %s' % package out deactivated c + 1if deactivated c > 0 module json changed True msg 'deactivated%spackage s ' % deactivated c module json changed False msg 'package s alreadyinactive 
def send email for after purchase email invoice id order url event name event organiser send email to email action TICKET PURCHASED subject MAILS[TICKET P U R C H A S E D invoice id invoice id event name event name html MAILS[TICKET P U R C H A S E D order url order url event name event name event organiser event organiser 
def load backend full backend path path bits full backend path u if len path bits < 2 raise Improperly Configured u Theprovidedbackend Pythonpathtoa Base Enginesubclass % full backend path return import class full backend path 
def test escapes entry tokenize ' foo ' [0]assert entry 'foo\n' entry tokenize ' foo ' [0]assert entry 'foo\\s'
def create autoscaler gce mig params changed Falseas policy  gen gce as policy params autoscaler gce create autoscaler name params zone mig instance group mig policy as policy if autoscaler changed Truereturn changed 
def  can download report user try access group Group name settings P A Y M E N T REPORT GENERATOR GROUP except Group Does Not Exist return Falsereturn access group in user 
@local optimizer [pu Elemwise def local pycuda gpu elemwise node if isinstance node Gpu Elemwise if not any [any i for i in node and all [ i < 2 for i in node new op Pycuda Elemwise Source Module Op node op node pattern *node.inputs return [new op 
def  process to string to string return [x for x in re '\\s| |;| ' to string if x 
def make attrgetter environment attribute if not isinstance attribute string types or '.' not in attribute and not attribute return lambda x environment x attribute attribute attribute '.' def attrgetter item for part in attribute if part part int part item environment item part return itemreturn attrgetter 
def map reduce inputs mapper reducer collector defaultdict list for input in inputs for key value in mapper input collector value return [output for key values in collector for output in reducer key values ]
def get privs ret {}cmd   execute kadmin 'get privs if cmd ! 0 or cmd ret cmd [ -1 ]ret['result'] Falsereturn retfor i in cmd [1 ] prop val i ' ' 1 ret [j for j in val ]return ret 
def get Maximum first Complex second Complex return complex max first Complex second Complex max first Complex second Complex 
def format screen strng par re re '\\\\$' re M U L T I L I N E strng par re '' strng return strng 
def from mlab linkage Z Z np Z dtype np order 'c' Zs Z len Zs 0 or len Zs 1 and Zs 0 return Z if len Zs ! 2 raise Value Error 'helinkagearraymustberectangular if Zs 0 return Z Zpart Z if Zpart 0 2].min ! 1.0 and Zpart 0 2].max ! 2 * Zs raise Value Error 'heformatoftheindicesisnot1 N Zpart 0 2] - 1.0CS np Zs dtype np  hierarchy cluster sizes Zpart CS int Zs + 1 return np [part C S Zs 1 ]
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def  docker client wrapped @functools.wraps wrapped def wrapper *args **kwargs 'nsurethattheclientispresent timeout   context  .get 'docker.timeout' CLIENT TIMEOUT  get client timeout client timeout return wrapped *args **salt.utils.clean kwargs **kwargs return wrapper 
def apply profile node profile if not profile or profile call time 0 return Nonetime profile time node 0 call time profile call timereturn [time call time 
def tolerant equals a b atol 1e-06 rtol 1e-06 equal nan False if equal nan and isnan a and isnan b return Truereturn math a - b < atol + rtol * math b 
def user exists username **kwargs if 'database' not in kwargs return Falsereturn len tsql query query " E L E C Tname F R O Msysusers W H E R Ename '{0}'".format username **kwargs 1
def  is svc svc path run file os svc path 'run' if os svc path and os run file and os run file os X OK return Truereturn False 
def get Request Type packet return ord packet 
def init bookmark completions log 'nitializingbookmarkcompletion try  instances Completion by url Later except Key Error passmodel miscmodels Bookmark Completion Model  instances Completion by url model 
def add group type access context group type id project id if group type id is None msg _ 'group type idcannotbe None raise exception Invalid Group Type reason msg elevated context if context admin else context if is public group type elevated group type id msg _ 'ypeaccessmodificationisnotapplicabletopublicgrouptype raise exception Invalid Group Type reason msg return db type access add elevated group type id project id 
def get data home data home None if data home is None data home os 'SEABORN DATA' os '~' 'seaborn-data' data home os data home if not os data home os data home return data home 
def  get tls cacert url config if not config verify return Falsecerts getattr config 'tls cacerts None if not certs return Trueelif isinstance certs string types tuple return certselse hostname urlsplit url [1]if '@' in hostname hostname hostname '@' [1]return certs hostname True 
def parse text directive text node type nodes where None assert text is not None 'issingtextduringparse textin % where vl View List for line in text '\n' vl line line node node type rawsource text directive parse vl 0 node return node 
def test ast tuple code can compile u 123 ' .body[0].valueassert type code ast Tuple 
def  activation even odd W list b list samples beta odd True for i in xrange odd len samples 2 samples hi given samples i W list b list beta apply sigmoid False 
def get by name name try return  readline commands Key Error raise Key Error u Unknownreadlinecommand %r' % name 
def remove backslashes path if os 'nt' if path '\\' and not path '\\\\' path path -1 ]path path '\\' '/' path path "/'" "\\'" return path 
def set  key value profile None conn salt conn profile time profile 'expire' DEFAULT EXPIRATION return salt  conn key value time time 
def delete cache security group name region None key None keyid None profile None **args return  delete resource name name param 'ache Security Group Name desc 'cachesecuritygroup' res type 'cache security group region region key key keyid keyid profile profile **args
@login required perm or owns or 403 'forums forum edit forum 'creator' Thread 'id  iexact 'thread id Forum 'slug  iexact 'forum slug def edit thread request forum slug thread id forum get object or 404 Forum slug forum slug thread get object or 404 Thread pk thread id forum forum if thread locked raise Permission Deniedif request 'GET' form Edit Thread Form instance thread return render request 'forums/edit thread {'form' form 'forum' forum 'thread' thread form Edit Thread Form request P O S T if form valid log 'ser %s' % request thread thread form data url reverse 'forums.posts' args [forum slug thread id return Http Response Redirect url return render request 'forums/edit thread {'form' form 'forum' forum 'thread' thread 
def  close event event params params params params params 'hannelsmarkedasbad %s' % params 
def pool create request **kwargs body {'pool' {'name' kwargs 'description' kwargs 'subnet id kwargs id 'protocol' kwargs 'lb method kwargs method 'admin state up kwargs state up quantumclient request .create pool body .get 'pool' return Pool pool 
def karatsuba x y b 10 if x < 1000 or y < 1000 return x * y m min len str x / 2 len str y / 2 bm b ** m x1 x0 x / bm x % bm y1 y0 y / bm y % bm z1 karatsuba x1 y1 b z3 karatsuba x0 y0 b z2 karatsuba x1 + x0 y1 + y0 b - z1 - z3 return bm ** 2 * z1 + bm * z2 + z3 
def get blockdeviceapi config get blockdevice config backend api args backend and api args from configuration config api get api backend backend api args api args reactor reactor cluster id make cluster id Test Types F U N C T I O N A L return api 
def is instance of gateway java object java class if isinstance java class basestring param java classelif isinstance java class Java Class param java class fqnelif isinstance java class Java Object param java class Class else raise Py4 J Error u classmustbeastring a Java Class ora Java Object return gateway Type Util Instance Of param java object 
def transform surface to surf dest trans copy False if isinstance dest string types if dest not in  str to frame raise Key Error 'destmustbeoneof%s not % list  str to frame dest dest  str to frame surf frame dest return surftrans  ensure trans trans int surf frame dest surf frame destsurf apply trans trans surf surf apply trans trans surf move False return surf 
def test zeros Are Equal binascii hex '\x00\x00\x10\x00' '00001000'
@csrf exempt master P O S Tdef chargeback request raise Not Implemented Error 
def upload to field path default from mezzanine import settingsfor k v in settings U P L O A D TO H A N D L E R S if k field path return import dotted path v return default 
def authorization headers username server if not username if 'AUTOTEST USER' in os username os A U T O T E S T U S E R username getpass password getpass 'nterthepasswordfor ' % username base64string base64 '%s %s' % username password [ -1 ]return {'AUTHORIZATION' 'asic % base64string }
def hyperexpand f allow hyper False rewrite 'default' place None f sympify f def do replace ap bq z r  hyperexpand Hyper Function ap bq z rewrite rewrite if r is None return hyper ap bq z else return rdef do meijer ap bq z r  meijergexpand G Function ap ap bq bq z allow hyper rewrite rewrite place place if not r nan zoo oo - oo return rreturn f hyper do replace .replace meijerg do meijer 
def read nih image header fh byteorder dtype count a fh record NIH IMAGE HEADER byteorder byteorder a a byteorder a a a xunit len a a um len a 
def  get groupings dist matrix header dist matrix groups within True suppress symmetry and hollowness check False if not suppress symmetry and hollowness check if not is symmetric and hollow dist matrix raise Value Error 'hedistancematrixmustbesymmetricandhollow result []group items groups for i row group row ids in enumerate group items row indices  get indices dist matrix header row ids if within block dist matrix indices row indices len row indices indices []for i in range size for j in range i size if i ! j indices block if indices result row group row group indices else for j in range i + 1 len groups col group col ids group items indices  get indices dist matrix header col ids vals dist matrix indices col indices map None vals if vals result row group col group vals return result 
@frappe.whitelist def get due date posting date party type party company due date Noneif posting date and party due date posting date credit days based on credit days get credit days party type party company if credit days based on u Fixed Days and credit days due date add days posting date credit days elif credit days based on u Last Dayofthe Next Month due date get first day posting date 0 2 + datetime -1 .strftime u Y return due date 
def  set Conf Attributes debug Msg 'initializingtheconfiguration'logger.debug debug Msg conf Username Noneconf Password Noneconf []conf.cj Noneconf Connector Noneconf Handler Noneconf Server Noneconf Path Noneconf D B Noneconf D B File Noneconf Headers []conf.hostname Noneconf Falseconf Targets Falseconf Path Noneconf Dict {}conf.parameters {}conf.path Noneconf Noneconf List Noneconf Filename Noneconf F P Noneconf Noneconf [ P Noneconf File Type None 
def datetime to microseconds dt return int time dt * 1000000 + dt 
def  safe region region None context None ret region or settings 'region' context context or identity if not ret if not context  create identity context identityret context default region if not ret try ret regions Index Error ret ''return ret 
def isatty stream fn getattr stream 'isatty' None if fn is None return Falsereturn fn 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def query descendants model instance result Query .ancestor model instance result datastore types K E Y SPECIAL PROPERTY + '>' model instance return result 
def csrf failure request reason '' from django import REASON NO R E F E R E Rt Template CSRF FAILURE TEMPLATE c Context {'DEBUG' settings D E B U G 'reason' reason 'no referer reason REASON NO REFERER } return Http Response Forbidden t c mimetype 'text/html'
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
@pytest.yield fixture scope 'module' def real db engine main engine session new session engine yield session session session 
def readmodule module path None res {}for key value in  readmodule module path or [] .items if isinstance value Class res valuereturn res 
def  psd pinv decomposed log pdet mat cond None rcond None lower True check finite True s u scipy mat lower lower check finite check finite if rcond is not None cond rcondif cond in [one -1 ] t u factor {'f' 1000.0 'd' 1000000.0}cond factor * np t .eps eps cond * np abs s if np s < - eps raise Value Error 'thecovariancematrixmustbepositivesemidefinite' s pinv  pinv 1d s eps U np u np s pinv log pdet np np s s > eps ] return U log pdet 
def get courses courses [c for c in modulestore .get courses if isinstance c Course Descriptor ]courses sorted courses key lambda course course return courses 
def function variable *a **kw return a kw 
def Display Tree node children level 0 value ''node type ''if 'alue in node case value node Value type case value Product Dimension Type node type 'roduct Canonical Condition value case value if 'condition' in case value else 'OTHER' elif node type 'roduct Bidding Category value '%s %s ' % case value case value if 'value' in case value else 'OTHER' else value case value if 'value' in case value else 'OTHER' print '%sid %s node type %s value %s\n' % '' * level node node type value for child node in children Display Tree child node children level + 1
def assure container fnc @wraps fnc def  wrapped self container *args **kwargs if not isinstance container Container container self container return fnc self container *args **kwargs return  wrapped 
def get schema frame name flavor None keys None con None dtype None pandas sql pandas S Q L builder con con flavor flavor return pandas sql create sql schema frame name keys keys dtype dtype 
def info return  nodetool 'info'
def test operators for op in Operator check export 'ssertthatthe T P O T op  name   yield check export op 
def update email marketing config enabled True key 'badkey' secret 'badsecret' new user list 'newlist' template 'ctivation enroll cost 100 lms url override 'http //testserver' return Email Marketing Configuration enabled enabled sailthru key key sailthru secret secret sailthru new user list new user list sailthru activation template template sailthru enroll template 'enroll template sailthru lms url override lms url override sailthru get tags from sailthru False sailthru enroll cost enroll cost sailthru max retries 0 welcome email send delay 600
def params set module changed Falsemodule module bin path 'ovs-vsctl' True fmt '% ovs s timeout sget table s record s col s % key s fmt % module _ output _ cmd run module cmd False if module not in output fmt '% ovs s timeout sset table s record s col s % key s % value s fmt % module rtc _ err cmd run module cmd if rtc ! 0 module json msg err changed Truemodule json changed changed 
@utils.arg 'address' metavar '<ipaddress>' help _ 'ew I P Address @utils.arg 'port' metavar '<port>' help _ 'ew Port def do cloudpipe configure cs args cs args args 
def load pandas data  get data return du recarray pandas data endog idx 0 dtype float 
def  calculate batch size image count is hdf5 False hdf5 dset limit None image channels None image height None image width None if is hdf5 and hdf5 dset limit is not None return min 100 image count hdf5 dset limit / image channels * image height * image width else return min 100 image count 
def get tool shed repository by id app repository id return app model app model Tool Shed Repository .filter app model Tool Shed Repository app id repository id .first
def test resize promo img resize size [1050]final size [ 1050 591 640 360 320 180 ] promo img uploader resize size final size 
def test jpeg h f if h 10] in 'JFIF' 'xif or h 2] '\xff\xd8' and 'JFIF' in h 32] or '8BIM' in h 32] return 'jpeg'
def test cache line split issues assert jedi Script 'int \n' .call signatures [0].name 'int'
def auth info encoded info request ' Endpoint A P I User Info None if encoded info info json  base64 decode encoded info user info json info json else user info {'id' 'anonymous'}return jsonify user info 
def chained func def wrapper *args **kwargs for xs in func *args **kwargs for x in xs yield x return wrapper 
def set preprint providers providers {'osf' 'pen Science Framework 'socarxiv' 'oc Ar Xiv 'engrxiv' 'ngr Xiv 'psyarxiv' 'sy Ar Xiv key value in providers provider factories Preprint Provider Factory provider id keyprovider valuetry provider except Key Exists Exception continue 
def create profile hostname username password profile type name **kwargs ret {'name' name 'changes' {} 'result' False 'comment' ''}if   opts  ['test'] return  test output ret 'create' params {'hostname' hostname 'username' username 'password' password 'profile type profile type 'name' name existing   salt  ['bigip.list profile hostname username password profile type name if existing 200 ret Trueret 'profilebythisnamecurrentlyexists Nochangemade existing 404 response   salt  ['bigip.create profile hostname username password profile type name **kwargs if response 200 ret Trueret {}ret['changes']['new'] response 'rofilewassuccessfullycreated ret  load result response ret else ret  load result existing ret return ret 
def sel Stochastic Universal Sampling individuals k s inds sorted individuals key attrgetter 'fitness' reverse True sum fits sum ind for ind in individuals distance sum fits / float k start random 0 distance points [ start + i * distance for i in xrange k ]chosen []for p in points i 0sum  s inds sum  < p i + 1sum  + s inds s inds return chosen 
def get builtin sites jsondb json get pkg data contents u return Site Registry json jsondb 
def cleanup sff flowgrams header outhandle None outdir '/tmp' min length 150 max length 400 clean filename ''if not outhandle fd clean filename mkstemp dir outdir prefix 'cleanup sff suffix '.sff.txt' close fd outhandle open clean filename 'w' l filter sff file flowgrams header [ lambda f within length f min length max length lambda f f Proper Key ] outhandle return clean filename l 
def object build function node member localname args varargs varkw defaults getargspec member if varargs is not None args varargs if varkw is not None args varkw func build function getattr member '  name  ' None or localname args defaults six function code member .co flags member  doc   node local node func localname 
def  create config dir directory sqlcmd D E F A U L T CONFIG D I Rif not os directory os R OK | os W OK | os X OK old umask os 63 os sqlcmd D E F A U L T CONFIG DIR os old umask 
def tprint call name print 'testremotecall %s ' % call name 
def conv x y mode 2 warnings "senumpy x y mode 'full' " Deprecation Warning return np x y mode 
def is multilabel y if hasattr y '  array  ' y np y if not hasattr y 'shape' and y 2 and y > 1 return Falseif issparse y if isinstance y dok matrix lil matrix y y return len y 0 or np y .size 1 and y in 'biu' or  is integral float np y else labels np y return len labels < 3 and y in 'biu' or  is integral float labels 
def loaded vispy modules import module depth None all modules False vispy dir os os vispy  file   code "importsys %s;print ' '.join sys " % import module res run subprocess [sys.executable '-c' code cwd vispy dir [0]loaded modules [name.strip for name in res ' ' ]if all modules return loaded modulesvispy modules set for m in loaded modules if m 'vispy' and '  future  ' not in m if depth parts m '.' m '.'.join parts depth vispy modules m return vispy modules 
def is probably part of multiline line return u in line or u in line or line .endswith u 
def test nonexistent extra warns user no wheel script data result script 'install' '--no-binary all ' '--no-index' '--find-links ' + data links 'simple[nonexistent]' expect stderr True assert "simple3.0doesnotprovidetheextra'nonexistent'" in result 
def rollback unless managed if not is managed connection rollback else set dirty 
def erfc x z abs x t 1.0 / 1 + 0.5 * z r 0.0for y in 0.17087277 -0.82215223 1.48851587 -1.13520398 0.27886807 -0.18628806 0.09678418 0.37409196 1.00002368 -1.26551223 r y + t * r r t * exp - z ** 2 + r if x > 0 return rreturn 2.0 - r 
def compute targets gt bb rp bb x y w h  get xywh rp bb x gt y gt w gt h gt  get xywh gt bb targets dx x gt - x / w targets dy y gt - y / h targets dw np w gt / w targets dh np h gt / h targets np targets dx np targets dy np targets dw np targets dh np axis 1 return targets 
def blend *cols **kwargs return Blend *cols **kwargs
@unique valuesdef find external links url page for match in R E L page tag rel match rels set map str rel .split ' ' if 'homepage' in rels or 'download' in rels for match in H R E F tag yield urljoin url htmldecode match 1 for tag in 'ome Page 'ownload U R L pos page tag if pos ! -1 match H R E F page pos if match yield urljoin url htmldecode match 1
def safe max abs diff A ia B ib A A if np ia else 0.0 B B if np ia else 0.0 return np np A - B
def get Inset Loops From Vector3 Loop loop radius threshold Ratio 0.9 if len loop < 2 return [omplex euclidean Complex Path loop loop Complexes get Inset Loops From Loop loop Complex radius return euclidean Vector3 Paths loop Complexes loop 
def test sparse oneclasssvm X blobs _ make blobs n samples 100 centers 10 random state 0 X blobs sparse matrix X blobs datasets [[X sp None T] [X2 sp None T2] [X blobs 80] None X blobs ]] [iris.data None iris ['linear' 'poly' 'rbf' 'sigmoid']for dataset in datasets for kernel in kernels clf svm One Class S V M kernel kernel random state 0 sp clf svm One Class S V M kernel kernel random state 0 check svm model equal clf sp clf *dataset
def validate setup for nested quota use ctxt resources nested quota driver fix allocated quotas False try project roots get all root project ids ctxt for root in project roots root proj get project hierarchy ctxt root subtree as ids True nested quota driver nested setup ctxt resources {root proj root proj fix allocated quotas fix allocated quotas except exceptions Version Not Available msg _ 'eystoneversion3orgreatermustbeusedtogetnestedquotasupport raise exception Cinder Exception message msg except exceptions Forbidden msg _ 'ustrunthiscommandascloudadminusinga Keystonepolicy raise exception Cinder Exception message msg 
def get user copy module name user None if not user user frappe icon name frappe value u Desktop Icon {u'module name module name u user u 0} if desktop icon name return frappe doc u Desktop Icon desktop icon name else return make user copy module name user 
def make tags in aws format tags formatted tags list for key val in tags formatted tags {ey key 'alue val return formatted tags 
def parse html list dictionary prefix '' ret {}regex re '^%s\\[ [0-9]+ \\] .* $' % re prefix for field value in dictionary match regex field if not match continue index key match index int index if not key ret valueelif isinstance ret index dict ret valueelse ret Multi Value Dict {key [value]} return [ret[item] for item in sorted ret ]
def x [a for a in h if hio hio pass 
def get page context from template path for app in frappe installed apps frappe last True app path frappe app path app folders frappe pages folders or u u for start in folders search path os app path start path options search path search path + u search path + u search path + u search path + u for o in options if os o and not os o return get page info o app app path app path return None 
def get system encoding try encoding locale [1] or 'ascii' codecs encoding except Exception encoding 'ascii'return encoding 
def delete bookmark user usage key bookmark Bookmark user user usage key usage key bookmark  track event 'edx.bookmark.removed' bookmark 
def predicative adjective w adjective if w in adjective predicative return adjective predicative w 'ari' return w + 'o' if w 'ali' 'ili' 'esi' 'nti' 'ori' return w -1 ] + 'e' if w 'isti' return w -1 ] + 'a' if w 'che' 'ghe' return w -2 ] + 'a' if w 'chi' 'ghi' return w -2 ] + 'o' if w 'i' return w -1 ] + 'o' if w 'e' return w -1 ] + 'a' return adjective 
def  chr opt if isinstance opt basestring return optelse return chr opt 
def get secret filename '/etc/appscale/secret.key' return read file os filename chomp True 
def make track function request import track function event type event return track track request event type event page 'x module return function 
def uid to user uid try return pwd uid .pw nameexcept Key Error Name Error return uid 
def gauss chebyshev t n n digits xi []w []for i in range 1 n + 1 xi cos 2 * i - S One / 2 * n * S Pi .n n digits w S Pi / n .n n digits return xi w 
def feat tokens for artist True feat words ['ft' 'featuring' 'feat' 'feat.' 'ft.']if for artist feat words + ['with' 'vs' 'and' 'con' '&']return ' ?< \\s ? {0} ? \\s '.format '|'.join re x for x in feat words 
def wait for redis worker job timeout 5 start time time while time - start time < timeout if job REDIS SUCCESS RETURN VALUE returnelif job not in None REDIS SUCCESS RETURN VALUE assert False 'edisworkerfailed 0.1 assert False 'edisworkertimedout 
def  compare bem surfaces surfs 1 surfs 2 names ['id' 'nn' 'rr' 'coord frame 'tris' 'sigma' 'ntri' 'np']ignores ['tri cent 'tri nn 'tri area 'neighbor tri s0 s1 in zip surfs 1 surfs 2 assert equal set names set s0 - set ignores assert equal set names set s1 - set ignores for name in names assert allclose s0 s1 rtol 0.001 atol 1e-06 err msg 'ismatch "%s"' % name 
def show tree repo tree decode outstream sys for n in tree outstream decode n + '\n'
def organize commands corrected commands try first command next corrected commands yield first command except Stop Iteration returnwithout duplicates {command for command in sorted corrected commands key lambda command command if command ! first command }sorted commands sorted without duplicates key lambda corrected command corrected command logs 'orrectedcommands '.format ' '.join u cmd for cmd in [first command + sorted commands for command in sorted commands yield command 
def cov white simple results use correction True xu hessian inv  get sandwich arrays results sigma S white simple xu cov w  HCCM2 hessian inv sigma if use correction nobs k params xu w * nobs / float nobs - k params return cov w 
def shell quote text return u u % p for p in text u 
def get token ref context try auth context context A U T H CONTEXT E N V auth context Key Error msg _ "ouldn L O G msg raise exception Unauthorized msg 
def nuttall M sym True if  len guards M return np M M needs trunc  extend M sym w  cos win M [0.3635819 0.4891775 0.1365995 0.0106411] return  truncate w needs trunc 
def check Cell0 tp for c in range tp Of Cols assert tp Num Segments In Cell c 0 0
def  testrepeat **kwargs import timekwargs repeat 'epeatcalled %s' % time 
def simple conll corpus iterator corpus file l corpus file while l line l if line fields line '' ne tag fields -1 ]word ''.join fields -1 ] yield word ne tag else yield None None l corpus file 
def pport D3 state global data Regif state 0 data Reg data Reg & ~ 8 else data Reg data Reg | 8 port Dl Port Write Port Uchar base Address data Reg 
def candidate split labels data groups defaultdict list for attr in data for item in attr groups attr by keys defaultdict list for key _ attrs in groups by keys attrs candidates []for key groups in by keys count len groups if all len attrs count for attrs in groups and len groups > 1 and count > 1 candidates key return candidates 
def default database options if D A T A B A S E E N G I N E .endswith 'oracle' return {'threaded' True D A T A B A S E E N G I N E .endswith 'sqlite3' return {'timeout' 30}else return {}
def sign app src dest ids reviewer False local False tempname tempfile try return  sign app src dest ids reviewer tempname local finally try os tempname except O S Error pass 
def get http object *args **kwargs return httplib2 Http *args **kwargs
@ docstring 'release' def search releases query '' limit None offset None strict False **fields return  do mb search 'release' query fields limit offset strict 
def mplot3d f var1 var2 show True import warningswarnings 'ignore' 'ouldnotmatch S p import module 'pylab' p3 import module 'mpl toolkits   import  kwargs {'fromlist' ['something']} or import module 'matplotlib.axes3d' if not p or not p3 sys 'atplotlibisrequiredtousemplot3d x y z sample f var1 var2 fig p ax p3 Axes3 D fig ax wireframe x y z ax xlabel 'X' ax ylabel 'Y' ax zlabel 'Z' if show p 
def adam consensus trees clades [tree.root for tree in trees Base Tree Tree root  part clades rooted True 
def find packages by root package where root package os where packages [ '%s.%s' % root package sub package for sub package in find packages where ]packages.insert 0 root package return packages 
def p postfix expression 7 t pass 
def pop context  local 
def write info fname info data type None reset range True fid start file fname start block fid FIFF.FIFFB MEAS write meas info fid info data type reset range end block fid FIFF.FIFFB MEAS end file fid 
def Groc Time Specification schedule timezone None parser groc Create Parser schedule parser if parser string return Interval Time Specification parser mins parser string parser parser time string parser time string timezone else return Specific Time Specification parser set parser set parser set parser set parser string timezone 
def get organization by short name organization short name if not organizations enabled return Nonefrom organizations import api as organizations apifrom organizations import Invalid Organization Exceptiontry return organizations api organization by short name organization short name except Invalid Organization Exception return None 
def  identity X return X
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def assert Response Failed self deferred reason Types return assert Wrapper Exception Types self deferred Response Failed reason Types 
def optional type  return type  type None 
def csrf request def  get val token get token request if token is None return ' O T P R O V I D E D return force text token return {'csrf token Simple Lazy Object  get val }
def Application name uid None gid None ret components Componentized for comp in Multi Service sob Persistent ret name Process uid gid ret Component comp ignore Class 1 I Service ret .ame name return ret 
@then 'thefile"{filename}"shouldcontainthelogrecords' def step file should contain log records context filename assert context 'REQUIRE context columns ['category' 'level' 'message'] format getattr context 'log record format context format for row in context output Log Record Table output for row row format context outputstep file should contain multiline text context filename 
def cookie date expires None return  dump date expires '-'
def  read until sock char chunks []while True chunk sock 1 chunks chunk if chunk char breakreturn ''.join chunks 
def get core apps overrides None if not overrides return OSCAR CORE A P P Sfrom django import sixif isinstance overrides six types raise Value Error 'get core appsexpectsalistortupleofappstooverride def get app label app label overrides pattern app label 'oscar.apps.' '' for override in overrides if override pattern if 'dashboard' in override and 'dashboard' not in pattern continuereturn overridereturn app labelapps []for app label in OSCAR CORE APPS apps get app label app label overrides return apps 
def p enum specifier 1 t pass 
def add local bypass table chain ipv6 run iptables cmd ' R E T U R N % table chain ipv6 ipv6 v4 addrs v6 addrs get interface addresses for addr in v4 addrs run iptables cmd ' R E T U R N % table chain addr ipv6 False for addr in v6 addrs run iptables cmd ' R E T U R N % table chain addr ipv4 False ipv6 ipv6 
def from buffer buffer mime False m  get magic type mime return m buffer buffer 
def add users autogroup apps schema editor Group apps model u u Group Auto Group apps model u u Auto Group group Group or create name u Users [0]if not Auto Group group group .exists Auto Group group group match u 
def rehash runas None  pyenv exec 'rehash' runas runas return True 
def create default context context ssl S S L Context ssl P R O T O C O L S S Lv23 context mode ssl C E R T N O N Econtext hostname Falsecontext | ossllib S S L OP NO S S Lv2context | ossllib S S L OP NO S S Lv3context | ossllib S S L OP NO C O M P R E S S I O Ncontext | ossllib S S L OP CIPHER SERVER P R E F E R E N C Econtext | ossllib S S L OP SINGLE DH U S Econtext | ossllib S S L OP SINGLE ECDH U S Econtext ctx mode ossllib S S L MODE ENABLE PARTIAL WRITE | ossllib S S L MODE ACCEPT MOVING WRITE BUFFER | ossllib S S L MODE AUTO RETRY return context 
def hashes data step return [hash data hash  for hash  in step 
def function receiver if hasattr receiver '  call  ' if hasattr receiver  call   'im func or hasattr receiver  call   'im code receiver receiver  call  if hasattr receiver 'im func return receiver receiver func code 1 elif not hasattr receiver 'func code raise Value Error 'unknownrecievertype%s%s' % receiver type receiver return receiver receiver code 0
def string eval source node ast source '<source>' mode 'eval' if not isinstance node ast Str raise Value Error '%risnotastringliteral' % source return node 
def escaped Comment data if isinstance data unicode data data 'utf-8' data data '--' '--' .replace '>' '&gt;' if data and data -1 ] '-' data + ''return data 
def echo data '' return data 
def user exists username **kwargs if 'database' not in kwargs return Falsereturn len tsql query query " E L E C Tname F R O Msysusers W H E R Ename '{0}'".format username **kwargs 1
def Create M D I Interactive Window make Doc None make Frame None global editif make Doc is None make Doc Interactive Documentif make Frame is None make Frame Interactive Frameedit C Interactive Python make Doc make Doc make Frame make Frame 
def reboot zone single False altinit None smf options None ret {'status' True options ''if single boot options '-s{0}'.format boot options if altinit boot options '-i{0}{1}'.format altinit boot options if smf options boot options '-m{0}{1}'.format smf options boot options if boot options ! '' boot options '--{0}'.format boot options res   salt  ['cmd.run all 'zoneadm{zone}reboot{boot opts zone '-u{0}'.format zone if  is uuid zone else '-z{0}'.format zone boot opts boot options ret res 0 ret res if ret else res ret ret 'zoneadm ' '' if ret '' del ret ret 
def function mock request q function name **kwargs  patch patch q function name **kwargs request  patch return  patch 
def create volume ctxt host 'test host display name 'test volume display description 'thisisatestvolume' status 'available' migration status None size 1 availability zone 'fake az volume type id None replication status 'disabled' replication extended status None replication driver data None consistencygroup id None group id None previous status None testcase instance None **kwargs vol {}vol['size'] sizevol hostvol id ctxt idvol id ctxt idvol statusif migration status vol status migration statusvol name display namevol description display descriptionvol status fields Volume Attach Status D E T A C H E Dvol zone availability zoneif consistencygroup id vol id consistencygroup idif group id vol id group idif volume type id vol type id volume type idfor key in kwargs vol kwargs status replication statusif replication extended status vol extended status replication extended statusif replication driver data vol driver data replication driver dataif previous status vol status previous statusvolume objects Volume ctxt **vol volume if testcase instance testcase instance Cleanup volume return volume 
def load module instances setting name provide category return [x for x in load modules setting name provide category ]
def poweroff timeout 5 in seconds False return shutdown timeout timeout in seconds in seconds 
def compute change labels before after result {}for label before after in zip labels before after matched keys set before & set after value {key after - before for key in matched keys valuereturn result 
def greedy Q Policy Qs dim len Qs num A len Qs policy zeros dim num A for si in range dim actions all argmax Qs for a in actions policy si a ] 1.0 / len actions return policy 
def dynamic string param registry xml parent data dynamic param common registry xml parent data 'tring Parameter Definition 
def  Q filter  thing T type thing if isinstance {} T for k v in compat thing if filter  k if isinstance v type [] yield iter v else yield v if type v in type {} type [] yield Q filter  v elif isinstance [] T for k in thing yield Q filter  k else pass 
def  norm version version build '' l string version '.' if build l build try ints map int l except Value Error strings lelse strings map str ints version string strings 3] '.' return version 
def stop Dtmf a Tp Pd pd 3 b Message Type mes Type 49 packet a / b return packet 
def  type repr obj if isinstance obj type and not isinstance obj Typing Meta if obj  module   u  builtin  ' return  qualname obj return u % obj  module    qualname obj if obj is Ellipsis return u isinstance obj types Function Type return obj  name  return repr obj 
def check table table None family 'ipv4' if not table return 'rror tableneedstobespecified family  NFTABLES F A M I L I E S '{0}listtables{1}'.format  nftables cmd nft family out   salt  ['cmd.run'] cmd python shell False .find 'table{0}{1}'.format nft family table if out ! -1 out ''else return Falseif not out return Truereturn out 
def url in request environ if routers return map url in request environ return regex url in request environ 
def without none values iterable try return {k v for k v in six iterable if v is not None }except Attribute Error return type iterable v for v in iterable if v is not None 
def hide button menu indicator button name button  class  .  name  stylesheet u name s menu none name u Q Push Button stylesheet + u name s none Style Sheet stylesheet % dict name name 
def  copy if lds item return copy item if isinstance item list dict set else item 
def Escape Shell Argument s return "'" + s "'" "'\\''" + "'"
def  tree namespace handler k v cherrypy v v name cherrypy 'ounted %son%s' % v v name or '/'
def latapy clustering G nodes None mode 'dot' if not nx bipartite G raise nx Network X Error 'raphisnotbipartite try cc func modes Key Error raise nx Network X Error 'odeforbipartiteclusteringmustbe dot minormax if nodes is None nodes Gccs {}for v in nodes cc 0.0nbrs2 set [u for nbr in G for u in G - set [v] for u in nbrs2 cc + cc func set G set G if cc > 0.0 cc / len nbrs2 ccs ccreturn ccs 
def  run suite suite if verbose runner unittest Text Test Runner sys verbosity 2 else runner Basic Test Runner result runner suite if not result Successful if len result 1 and not result err result len result 1 and not result err result err 'errorsoccurred;runinverbosemodefordetails'raise Test Failed err 
def method2format output  format 'png' mx None raw None try import pydotexcept Import Error error 'modulepydotnotfound' buff 'digraph{\n'buff + 'graph[rankdir T B + 'node[shape plaintext raw data rawelse data method2dot mx buff + 'subgraphcluster ' + hashlib output .hexdigest + '{\nlabel "%s"\n' % data buff + data + '}\n'buff + data + '}\n'd pydot from dot data buff if d getattr d 'write ' +  format output 
def  process priv part perms  tmp {}previous Nonefor perm in perms if previous is None  tmp PRIVILEGES M A P Falseprevious  PRIVILEGES M A P perm '*'  tmp Trueelse  tmp PRIVILEGES M A P Falseprevious  PRIVILEGES M A P  tmp 
def snakify name sep '_' name re ' [A-Z]+ [ Z ' '\\1%s\\2' % sep name name re ' [a-z\\d] [A-Z] ' '\\1%s\\2' % sep name return name 
def split A fitnesses obj median  median fitnesses itemgetter obj best a worst a [] [] best b worst b [] [] for fit in fitnesses if fit > median  best a fit best b fit elif fit < median  worst a fit worst b fit else best a fit worst b fit balance a abs len best a - len worst a balance b abs len best b - len worst b if balance a < balance b return best a worst a else return best b worst b 
def update versions consumer resource versions  get cached tracker .update versions consumer resource versions 
def import classes name currmodule target Noneif currmodule target try import currmodule + '.' + name if target is None target try import name if target is None raise Inheritance Exception 'ouldnotimportclassormodule % name if inspect target return [target]elif inspect target classes []for cls in target  dict  .values if inspect cls and cls  module   target  name   classes cls return classesraise Inheritance Exception '%rspecifiedforinheritancediagramisnotaclassormodule' % name 
def test transformer iterator test path os pylearn2  path  [0] 'datasets' 'tests' 'test.csv' raw C S V Dataset path test path expect headers False block Block dataset Transformer Dataset raw block iterator dataset 'shuffled sequential 3 try iter iterator except Type Error assert False "ransformer Iteratorisn 
def get Begin X M L Output output c String I O String I O output "<?xmlversion '1.0'?>\n" return output 
def alloc timedelta result builder name 'ret' ret cgutils once builder TIMEDELTA64 name name builder NAT ret return ret 
def  from path path if not path 's3 //' raise Value Error 'ad S3path % path r path 's3 //' ].split '/' 1 bucket key Noneif len r 2 bucket key r r else bucket r not bucket raise Value Error 'ad S3path % path return bucket key 
def retry flaky run test factory None if run test factory is None run test factory testtools Run Testreturn partial  Retry Flaky run test factory 
def bsd jail id pid ps output call GET BSD JAIL ID PS % pid [] if len ps output 2 and len ps output 1 jid ps output if jid return int jid os name platform if os name 'ree B S D log 'nabletogetthejailidforprocess % pid else log 'bsd jail id %s jailidsdonotexiston % pid os name return 0
def test read col starts table 'ohn555 Mary555 Bob555 ascii table Reader ascii Fixed Width No Header names 'ame 'hone 'TCP' col starts 0 9 18 col ends 5 17 28 assert equal tuple dat 'ame 'hone 'TCP' assert equal dat '555-1234' assert equal dat 'ary assert equal dat '192.168.1.' assert equal dat '192.168.1'
def  generate seed x System Random .randint 0 32 ** 16 - 1 h hex x .strip 'L' [2 ]if len h % 2 h '0' + h return h 
def flat unique ls return list unique chain iterable ls key id 
def  remove discussion tab course user id course [tab for tab in course if not tab 'discussion' ]modulestore .update item course user id 
def unslug s m  UNSLUG R E s if not m return None None return m 1 int m 2
def get page size args page sizes {}for arg in request re match re 'psize  .* ' arg if re match page sizes match int request arg return page sizes 
def negotiate websocket version uri opener websocket url for version in {13 12 14} upgrade request build ws upgrade request websocket url web socket version version try upgrade response uri opener mutant upgrade request except H T T P Request Exception continueupgrade code upgrade response code if upgrade code in {101} return versionelif upgrade code in {400} headers upgrade response headers version _ headers 'ec Web Socket Version None if version is None continuereturn versionelse continuereturn DEFAULT PROTOCOL VERSION
def pressure network jacobian flow rates Qtot k n len flow rates pdiff np flow rates ] * 2 * k ] - 2 * flow rates * k jac np n n jac n - 1 n - 1 ] pdiff * 0 jac n - 1 n - 1 ] 0jac[ n - 1 ] np n return jac 
def obtain vendor model show ver match re 'isco .+? .+bytesofmemory' show ver if match return 'isco match 1 else return None None 
def test gmail missing spam constants monkeypatch folder base [ 'as No Children '/' u I N B O X 'oselect 'as Children '/' u Gmail 'as No Children 'll '/' u Gmail All Mail 'as No Children 'rafts '/' u Gmail Drafts 'as No Children 'mportant '/' u Gmail Important 'as No Children 'ent '/' u Gmail Sent Mail 'lagged 'as No Children '/' u Gmail Starred 'as No Children 'rash '/' u Gmail Trash 'as No Children '/' u ]check missing generic 'spam' folder base localized folder names 'gmail' constants monkeypatch 
def  get ico map fro to nearest dists  compute nearest fro to return dists True n bads dists > 0.005 .sum if n bads > 0 raise Runtime Error 'omatchingvertexfor % n bads return nearest 
def config return   proxy  ['napalm.call'] 'get probes config **{}
def build swarm status 'uildingswarm cwd getcwd scripts join cwd 'scripts' try tempdir mkdtemp if download file 'https //github.com/torognes/swarm/archive/1.2.19.tar.gz' tempdir 'swarm-1.2.19.tar.gz' status 'ouldnotdownloadswarm socannotinstallit returnchdir tempdir if not system call 'tarxzfswarm-1.2.19.tar.gz' 'extractswarmarchive' returnchdir 'swarm-1.2.19' if not system call 'make' 'buildswarm' returncopy 'swarm' scripts copy 'scripts/amplicon contingency table scripts copy 'scripts/swarm breaker scripts status 'swarmbuilt.\n' finally rmtree tempdir chdir cwd 
def lpol fima d n 20 from scipy import gammalnj np n return np gammaln d + j - gammaln j + 1 - gammaln d 
def hash Password password digest Mod hashlib iterations 10000 salt Size 32 digestname iterations salt hash hash Password Tuple password digest Mod iterations salt Size return Delimiter [digestname str iterations base64 salt .decode u base64 hash .decode u ]
def getdefaulttimeout if  GLOBAL TIMEOUT VALUE < 0.0 return Nonereturn  GLOBAL TIMEOUT VALUE
def get thread pool lock name size 1024 @memoize lock name def  get thread pool return wsgi asynchronous eventlet pool size size return  get thread pool 
def trivial graph create using None G empty graph 1 create using G 'trivial graph 'return G
def is terminal item return hasattr item u  hash  ' and not isinstance item Nonterminal 
def p relational expression 2 t pass 
def paginator number cl i if i DOT return u i cl num return mark safe u "this-page">%d</span>' % i + 1 else return mark safe u "%s"%s>%d</a>' % escape cl query string {PAGE VAR i i cl pages - 1 and 'class "end"' or '' i + 1
def Check Invalid Increment filename clean lines linenum error line clean lines  RE PATTERN INVALID I N C R E M E N T line error filename linenum 'runtime/invalid increment 5 'hangingpointerinsteadofvalue orunusedvalueofoperator .'
def search File For file name try fp open file except return Nonetry lines fp finally fp for line in lines idx line '#' if idx ! -1 line line idx not line continueparts line if name in [s.lower for s in parts ]] return parts None 
def config from prefix prefix settings {}if prefix in 'default' 'auto' '' settings prefix ''settings['libzmq extension Falsesettings libzmq extension Falseelif prefix in 'bundled' 'extension' settings prefix ''settings['libzmq extension Truesettings libzmq extension Falseelse settings prefix prefixsettings extension Falsesettings libzmq extension Truesettings legacy libzmq Truereturn settings 
def regex from ec2 regex ec2 re iter ec2 re iter ec2 re py re ''for char in iter ec2 re if char '*' py re + '.*'elif char '?' py re + '.'elif char '\\' try next char next iter ec2 re except Stop Iteration next char ''if next char '*' or next char '?' py re + '[%s]' % next char else py re + '\\\\' + next char else py re + re char return ' Z ?s ' % py re 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def background func def internal *a **kw data ctx  context Thread ] context Thread ] storage ctx def newfunc  context Thread ] ctxfunc *a **kw t threading Thread target newfunc background t ] tt ctx []return seeother changequery  t id t return internal 
def unmount mountpoint cmd 'hdiutildetach"{0}"'.format mountpoint return   salt  ['cmd.run'] cmd 
def restorecon path recursive False if recursive cmd ['restorecon' '-FR' path cmd ['restorecon' '-F' path not   salt  ['cmd.retcode'] cmd python shell False 
def delete zone zone region None key None keyid None profile None if region is None region 'universal'conn  get conn region region key key keyid keyid profile profile  zone conn zone zone if  zone conn hosted zone  zone return Truereturn False 
def check requires python requires python if requires python is None return Truerequires python specifier specifiers Specifier Set requires python python version version '.'.join map str sys info 3] return python version in requires python specifier 
def create mode request course id PARAMETERS {'mode slug u 'mode display name u Honor Code Certificate 'min price 0 'suggested prices u 'currency' u parameter default in P A R A M E T E R S P A R A M E T E R S request G E T parameter default course key Course Key string course id Course Mode or create course id course key **PARAMETERS return Http Response "ode slug mode slug P A R A M E T E R S slug course course id 
def is buggy ua agent return 'umbug Desktop in agent or 'ulip Desktop in agent or 'ulip Desktop in agent and 'ac not in agent 
def  check editable fields cc content data context  check fields get editable fields cc content context data 'hisfieldisnoteditable 
def decode Int To Unicode value ret Val valueif isinstance value int try if value > 255 _ '%x' % value if len _ % 2 1 _ '0%s' % _ ret Val get Unicode hexdecode _ encoding 'UTF-16' if Backend Dbms DBMS.MSSQL else None else ret Val get Unicode chr value except ret Val INFERENCE UNKNOWN C H A Rreturn ret Val 
def prde spde a b Q n DE R Z list zip *[gcdex diophantine b a qi for qi in Q] A a B b + derivation a DE Qq [ zi - derivation ri DE for ri zi in zip R Z ]R list R n1 n - a D E return A B Qq R n1 
def encode if py2 func if not PY2 return funcdef wrapped *args **kwargs ret func *args **kwargs if not isinstance ret unicode raise Type Error 'rappedfunctionmustreturn return ret 'utf-8' 'ignore' return wrapped 
def ssh version ret subprocess Popen ['ssh' '-V'] stdout subprocess P I P E stderr subprocess P I P E .communicate try version parts ret ' ' [0].split '_' [1]parts []for part in version parts try parts int part except Value Error return tuple parts return tuple parts except Index Error return 2 0
def snmp extract snmp data if len snmp data > 1 raise Value Error 'snmp extractonlyallowsasingleelement if len snmp data 0 return Noneelse return snmp data Print 
def get Usage api key None api version None ret {'res' True not api key or not api version try options   salt  ['config.option'] 'random org if not api key api key options 'api key if not api version api version options 'api version except Name Error Key Error Attribute Error log 'o Random ret 'o Random Falsereturn retif isinstance api version int api version str api version  function RANDOM ORG F U N C T I O N S api version .get 'sage .get 'method' data {}data['id'] 1911220data['jsonrpc'] '2.0'data['method']  functiondata {ey api key  query api version api version data data if result ret Left result 'eft ret Left result 'eft ret Bits result 'its ret Requests result 'equests else ret Falseret result ret 
def  have soundcard global   have soundcard cacheif   have soundcard cache is None cscript path  get cscript path if cscript path is None return Truecheck script os os   file   'check soundcard p subprocess Popen [cscript path check script stdout subprocess P I P E   have soundcard cache not p p return   have soundcard cache 
def pass obj f def new func *args **kwargs return f get current context .obj *args **kwargs return update wrapper new func f 
def get cached content location return CONTENT C A C H E unicode location .encode 'utf-8' version STATIC CONTENT VERSION
def cookie is encoded data return bool data tob '!' and tob '?' in data 
def count to count numbers ['one' 'two' 'three' 'four' 'five']for pos number in zip range count numbers yield number 
def p direct abstract declarator 5 t pass 
def circmean samples high 2 * pi low 0 axis None samples ang  circfuncs common samples high low S sin ang .sum axis axis C cos ang .sum axis axis res arctan2 S C mask res < 0 if mask > 0 res + 2 * pi elif mask res + 2 * pi return res * high - low / 2.0 / pi + low 
def floating ip allocate address context project id pool auto assigned False return I M P L ip allocate address context project id pool auto assigned 
def test even sequences rng np Random State 123 lengths rng 1 10 100 data [ ['w'] * l for l in lengths size 5my iter Even Sequences Subset Iterator data batch size visited [alse * len data for ind list in my iter assert [ len data len data list for i in ind list i in ind list visited Trueassert all visited 
def  Add Enum Values descriptor cls for enum type in descriptor types setattr cls enum type enum type wrapper Enum Type Wrapper enum type for enum value in enum type setattr cls enum value enum value 
def get New Derivation element Node return Grid Derivation element Node 
def check initializers initializers keys if initializers is None return {}keys set keys if not issubclass type initializers dict raise Type Error "dictofinitializerswasexpected butnotgiven Youshoulddouble if not set initializers < keys extra keys set initializers - keys raise Key Error 'nvalidinitializerkeys initializerscanonlybeprovidedfor ' '.join "'{}'".format key for key in extra keys ' '.join "'{}'".format key for key in keys def check nested callables dictionary for key entry in dictionary if isinstance entry dict check nested callables entry elif not callable entry raise Type Error "nitializerfor key check nested callables initializers return dict initializers 
@decoratordef rollback open connections fn *args **kw try fn *args **kw finally testing reaper all 
def enable name **kwargs cmd '/usr/sbin/svcadmenable{0}'.format name return not   salt  ['cmd.retcode'] cmd python shell False 
def test completion for unknown shell script error msg 'nosuchoption --myfooshell'result script 'completion' '--myfooshell' expect error True assert error msg in result 'testsforanunknownshellfailed'
def require aggregate exists f @functools.wraps f def wrapper context aggregate id *args **kwargs aggregate get context aggregate id return f context aggregate id *args **kwargs return wrapper 
def new Der Set Of *der objs der Der Set Of for obj in der objs if isinstance obj Der Object der obj else der obj return der 
def  flatten to ascii txt if isinstance txt str txt txt 'utf-8' return unicodedata 'NFKD' txt .encode 'ASCII' 'ignore' else return unicode unicodedata 'NFKD' txt .encode 'ASCII' 'ignore'
def dirs Wav Feature Extraction dir Names mt Win mt Step st Win st Step compute B E A T False features [ames [ames []for i d in enumerate dir Names [f fn dir Wav Feature Extraction d mt Win mt Step st Win st Step compute B E A T compute B E A T if f > 0 features f file Names fn if d -1 ] '/' class Names d os [ -2 ] else class Names d os [ -1 ] return features class Names file Names 
def rep expectation expr **options if not 'index' in options options 1if not isinstance expr Operator raise Type Error 'hepassedexpressionisnotanoperator basis state get basis expr **options if basis state is None or not isinstance basis state State Base raise Not Implemented Error 'ouldnotgetbasisketsforthisoperator basis kets enumerate states basis state options 2 bra basis kets basis kets qapply bra * expr * ket 
def restart local drain False if  TRAFFICCTL cmd  traffic ctl 'server' 'restart' '--manager' else cmd  traffic line '-L' if drain cmd '{0}{1}'.format cmd '--drain' log 'unning %s' cmd return  subprocess cmd 
def decrypt hash vista edata nlkm ch aes A E S nlkm 32] AES.MODE CBC ch out ''for i in range 0 len edata 16 buf edata i + 16 ]if len buf < 16 buf + 16 - len buf * '\x00' out + aes buf return out 
def do fake registration zone Zone name 'he Danger Zone description 'elcometoit zone device Device own device device zone Device Zone device device zone zone device zone 
def compute file sha f start ofs 0 end ofs 0 buffer size 1 << 16 sha sha1 f 0 SEEK END length f if end ofs < 0 and length + end ofs < start ofs or end ofs > length raise Assertion Error 'ttempttoreadbeyondfilelength ofs %d end ofs %d filelength %d' % start ofs end ofs length todo length + end ofs - start ofs f start ofs while todo data f min todo buffer size sha data todo - len data return sha 
def can access self blocks requesting user course key return requesting user and Course Enrollment enrolled requesting user course key or has access requesting user Course Staff Role R O L E course key 
def dijkstra path length G source target weight 'weight' if source target return 0weight  weight function G weight length  dijkstra G source weight target target try return length Key Error raise nx Network X No Path 'ode % target source 
def get sympy dir global sys case insensitivethis file os   file   sympy dir os os this file '..' '..' sympy dir os sympy dir sys case insensitive os sympy dir and os sympy dir and os sympy dir return sys normcase sympy dir 
def fake payment db participant team timestamp amount payday direction return insert fake data db 'payments' timestamp timestamp participant participant team team amount amount payday payday direction direction 
def delete containers containers container client object client for cont in containers try params {'limit' 9999 'format' 'json'} resp objlist container client container contents cont params for obj in objlist test utils and ignore notfound exc object client object cont obj time 2 container client container cont except lib exc Not Found pass 
def module modified time module module asmodule module name module  name  module filename module  file  provider pkg resources provider name if provider m time os provider [ T M T I M E basename os module filename path pkg resources filename name basename m time os path [ T M T I M E module filename m time 
def decorator from middleware middleware class return make middleware decorator middleware class 
def mergedefaults d1 d2 for k in d2 if k in d1 and isinstance d1 dict and isinstance d2 dict mergedefaults d1 d2 else d1 k d2 
def Get Phrase Query Node Text node text Get Query Node Text node if text if text '"' and text -1 ] '"' text text -1 ]return text 
def merge sorted *seqs **kwargs key kwargs 'key' None if key is None return heapq *seqs else return  merge sorted key seqs key 
def get discussion id map entry xblock return xblock id {'location' xblock 'title' xblock category '/' [ -1 ].strip + '/' + xblock target }
def auth audit exempt action @functools.wraps action def wrapper context data dict return action context data dict wrapper audit exempt Truereturn wrapper 
def import required mod name error msg try return import module mod name except Import Error raise Runtime Error error msg 
def Get Resource Limits logging context error fh sys resource limits DEFAULT RESOURCE L I M I T S Status Update 'ettingcurrentresourcelimits error fh resource limits  Get Remote Resource Limits logging context logging 'singresourcelimits %s' resource limits return resource limits 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def sdm mul term f term O K X c termif not f or not c return []elif K one c return [ sdm monomial mul f M X f c for f M f c in f return [ sdm monomial mul f M X f c * c for f M f c in f 
def test can parse regular step followed by tabular step steps Step from lines I LIKE V E G E T A B L E S + I HAVE TASTY B E V E R A G E S assert equals len steps 2 assert isinstance steps Step assert isinstance steps Step assert equals steps I LIKE VEGETABLES assert equals steps string I HAVE TASTY BEVERAGES '\n' [0]
def decompress data results []while data decomp B Z2 Decompressor try res decomp data except O S Error if results breakelse raiseresults res if not decomp raise Value Error 'ompresseddataendedbeforetheend data decomp datareturn ''.join results 
def arp ip opcode src mac src ip dst mac dst ip return arp ARP HW TYPE ETHERNET ether E T H TYPE IP 6 4 opcode src mac src ip dst mac dst ip 
@decorators.which bin ['lsblk' 'df'] def fstype device if salt 'lsblk' lsblk out   salt  ['cmd.run'] 'lsblk-ofstype{0}'.format device .splitlines if len lsblk out > 1 fs type lsblk out if fs type return fs typeif salt 'df' df out   salt  ['cmd.run'] ' device .splitlines if len df out > 1 fs type df out fs type return fs typereturn ''
def enable quota volume name cmd 'volumequota{0}enable'.format name if not  gluster cmd return Falsereturn True 
def get remote events ret salt utils return result 'systemsetup-getremoteappleevents' enabled salt utils enabled salt utils return ret return enabled 'on'
def Coef Determination ys res return 1 - Var res / Var ys 
def progress cls name stats duration time - stats s '%20sclassifier DCTB ' % cls name s + '% n train 6dtraindocs % n train pos 6dpositive ' % stats s + '% n test 6dtestdocs % n test pos 6dpositive ' % test stats s + 'accuracy % accuracy .3f' % stats s + 'in%.2fs %5ddocs/s ' % duration stats train / duration return s 
def quota destroy by project context project id return I M P L destroy by project context project id 
def  strip af h base orbits transversals j base len len base for i in range j + 1 base len beta h beta base continueif beta not in orbits return h i + 1 u transversals h u return False base len + 1 h  af rmul  af invert u h return h base len + 1
def  expected output args f inspect .f back backi f lasti + 3 bytecode f code codeinstruction ordornot bytecode while True if instruction dis D U P TOP'] if ordornot bytecode i + 1 ] dis U N P A C K SEQUENCE'] return ordornot bytecode i + 2 ] i + 4instruction ordornot bytecode continueif instruction dis S T O R E NAME'] return 1if instruction dis U N P A C K SEQUENCE'] return ordornot bytecode i + 1 ] if instruction dis 'UNPACK EX' -1 return ordornot bytecode i + 1 ] + ordornot bytecode i + 2 ] + 0.1 return 0
def system Information Type8 a L2 Pseudo Length l2p Length 1 b Tp Pd pd 6 c Message Type mes Type 24 d Si8 Rest Octets packet a / b / c / d return packet 
def sms phone number msg provider None if provider is None assert  voice is not None 'oumustloginto Google Voiceusinggoogle voice loginbeforesendingansmswithouttheproviderparameter provider is not None assert  smtp is not None 'oumustlogintoan S M T Pserverusinggmail loginorbypassingansmtplib S M T Pinstanceviathesmtpparameterbeforesendingansmswiththeproviderparameter provider is None  google voice sms phone number msg else to '%s@%s' % phone number providers provider provider  send email '' to 'o %s\r\n\r\n%s' % to msg 
def create exponential delay function base growth factor return functools delay exponential base base growth factor growth factor 
def is ip filter ip options None return is ipv4 filter ip options options or is ipv6 filter ip options options 
def iter notes self offset self offset self offset + self filesz while offset < end note struct parse self Elf Nhdr self stream pos offset note offset offsetoffset + self Elf Nhdr self offset disk namesz roundup note namesz 2 note name bytes2str C String '' .parse self disk namesz offset + disk nameszdesc data bytes2str self note descsz note desc desc dataoffset + roundup note descsz 2 note size offset - note offset yield note 
def skip If Py3 message from unittest import skip Iffrom .platform import is py3return skip If is py3 message 
def attach user story extra info queryset as field 'user story extra info model queryset ' E L E C Trow to json u \ R O M S E L E C T userstory A S \n"userstories userstory A S \n"userstories userstory A S \n S E L E C Tjson agg row to json t \ R O M S E L E C T epic A S \n"epics epic A S \n"epics epic A S \n"epics epic A S \n S E L E C Trow to json p \ R O M S E L E C T project A S \n"projects project A S \n"projects project A S p A S F R O M relateduserstory I N N E R J O I N epic O N epic "epics relateduserstory id I N N E R J O I N project O N project "epics epic id W H E R E relateduserstory story id "{tbl}"."user story id O R D E R B Y project "epics epic t A S F R O M userstory W H E R E userstory "{tbl}"."user story id u sql tbl model meta table queryset queryset select {as field sql return queryset 
def update version and revision font version number roboto data version number version record 'ersion % version number date .year font data name record font 5 version record font Revision float version number 
@partial.partialdef login analytics strategy auth entry *args **kwargs event name Noneif auth entry AUTH ENTRY LOGIN event name 'edx.bi.user.account.authenticated'elif auth entry in [AUTH ENTRY ACCOUNT SETTINGS] event name 'edx.bi.user.account.linked'if event name is not None and hasattr settings 'LMS SEGMENT KEY' and settings L M S SEGMENT KEY tracking context tracker tracker .resolve context analytics kwargs event name {'category' 'conversion' 'label' None 'provider' kwargs context {'ip' tracking context 'ip' 'oogle Analytics {d tracking context 'client id }}
def ciphering Mode Complete Mobile Id presence 0 a Tp Pd pd 6 b Message Type mes Type 50 packet a / b if Mobile Id presence is 1 c Mobile Id Hdr iei M I 23 eight Bit M I 0 packet packet / c return packet 
def in6 islladdr str return in6 isincluded str 'fe80 ' 10
def name Score name year preferred words try score 0name name for value in name scores v value ' ' add int v if v in name score + addif str year in name score + 5nzb words re '\\W+' simplify String name score + 100 * len list set nzb words & set preferred words return scoreexcept log 'aileddoingname Score %s' traceback exc return 0
def get messaging urls if C O N F urls return C O N F urlsreturn [ O N F 
def  should Relocate Command cmd return cmd in  RELOCATABLE
def click and wait for page load context elem wait time MAX PAGE LOAD TIME wait elem context element by tag name 'body' elem return Web Driver Wait context wait time .until E C of wait elem 
def snapshot name to id name snap name strict False runas None name  sdecode name snap name  sdecode snap name info prlctl 'snapshot-list' name runas runas snap ids  find guids info named ids []for snap id in snap ids if snapshot id to name name snap id runas runas snap name named ids snap id if len named ids 0 raise Salt Invocation Error u Nosnapshotsfor V M name snap name elif len named ids 1 return named ids multi msg u Multiplesnapshotsfor V M name snap name if strict raise Salt Invocation Error multi msg else log multi msg return named ids 
def echo data '' return data 
def prioritize while True hp qs Message priority .using u mp qs Message priority .using u lp qs Message priority .using u while hp qs or mp qs while hp qs for message in hp qs by u added yield message while hp qs 0 and mp qs yield mp qs by u added [0] while hp qs 0 and mp qs 0 and lp qs yield lp qs by u added [0] if Message deferred .using u .count 0 break 
def  accessible courses list request def course filter course 'ilteroutunusableandinaccessiblecourses isinstance course Error Descriptor return Falseif isinstance course C C X Locator return Falseif course 'templates' return Falsereturn has studio read access request course courses filter course filter modulestore .get courses in process course actions get in process course actions request return courses in process course actions 
def theano simplify fgraph mode theano default mode .excluding 'fusion' fgraph fgraph mode fgraph return fgraph 
def hash ldap user password user try password user Key Error return userelse return dict user password ldap hash password password 
def Store Entity entity clone entity pb Entity Proto clone Copy From entity Prepare Special Properties For Store clone return clone 
def  keys equal x y return x y 
@requires application def test use textures assert raises Value Error Texture2 D np 2 2 3 np format 'rgba'
def write packet sock data already pickled False if already pickled sent data dataelse sent data pickle data PICKLE HIGHEST PROTOCOL sent data struct 'l' len sent data + sent data nsend len sent data while nsend > 0 nsend - temp fail retry socket sock sent data 
def  cinder execute *args **kargs cmd args -3 ] if args 'raidcom' else args ret stdout stderr EXECUTE T A B L E cmd CMD SUCCEED if ret SUCCEED return stdout stderr else pee processutils Process Execution Error exit code ret stdout stdout stderr stderr raise pee 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def listens for target identifier *args **kw def decorate fn listen target identifier fn *args **kw return fnreturn decorate 
def feed2fields file import feedparserd feedparser file for entry in d date time u Y H %M' entry parsed if hasattr entry u parsed else None author entry if hasattr entry u else None tags [e[u'term'] for e in entry if hasattr entry u else None slug slugify entry kind u yield entry entry slug date author [] tags None kind u 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def conda creator env name pkgs subprocess 'condacreate--yes-n%s%s' % env name pkgs shell True 
def test bootstrap options no config only sentry options settings settings S E N T R Y OPTIONS {'system.secret-key' 'my-system-secret-key' 'mail.backend' 'my-mail-backend' 'mail.host' 'my-mail-host' 'mail.port' 123 'mail.username' 'my-mail-username' 'mail.password' 'my-mail-password' 'mail.use-tls' True 'mail.from' 'my-mail-from' 'mail.subject-prefix' 'my-mail-subject-prefix'}bootstrap options settings assert settings S E C R E T KEY 'my-system-secret-key' assert settings E M A I L BACKEND 'my-mail-backend' assert settings E M A I L HOST 'my-mail-host' assert settings E M A I L PORT 123 assert settings E M A I L HOST USER 'my-mail-username' assert settings E M A I L HOST PASSWORD 'my-mail-password' assert settings E M A I L USE TLS is True assert settings S E R V E R EMAIL 'my-mail-from' assert settings E M A I L SUBJECT PREFIX 'my-mail-subject-prefix'
def  logistic loss w X y alpha sample weight None w c yz  intercept dot w X y if sample weight is None sample weight np y out - np sample weight * log logistic yz + 0.5 * alpha * np w w return out 
def unique values values com asarray tuplesafe values f lambda htype caster  unique object values htype caster return  hashtable algo f values 
def todo message def wrap func '\njustmarkthetest\n'func.todo messagereturn funcreturn wrap 
def  find type value fmts ['FIFF '] exclude ['FIFF UNIT'] value int value vals [k for k v in iteritems FIFF if v value and any fmt in k for fmt in fmts and not any exc in k for exc in exclude ]if len vals 0 vals ['???']return vals 
def test classes Chart chart Chart assert chart pyquery .attr 'class' 'pygal-chart' chart Chart classes assert not chart pyquery .attr 'class' chart Chart classes  ellipsis assert chart pyquery .attr 'class' 'pygal-chart' chart Chart classes 'graph' assert chart pyquery .attr 'class' 'graph' chart Chart classes 'pygal-chart' 'graph' assert chart pyquery .attr 'class' 'pygal-chartgraph' chart Chart classes  ellipsis 'graph' assert chart pyquery .attr 'class' 'pygal-chartgraph' chart Chart classes 'graph'  ellipsis assert chart pyquery .attr 'class' 'graphpygal-chart'
def  region code for number from list numobj regions national number national significant number numobj for region code in regions metadata Phone Metadata for region region code None if metadata is None continueif metadata digits is not None leading digit re re metadata digits match leading digit re national number if match return region codeelif  number type helper national number metadata ! Phone Number Type U N K N O W N return region codereturn None 
def plot Outputs Over Time vectors bu Vectors None title 'n import pylabpylab pylab im Data vectors if bu Vectors is not None assert bu Vectors vectors im Data im Data im Data Vectors .astype 'bool' ] 2pylab.imshow im Data aspect 'auto' cmap pylab r interpolation 'nearest' pylab title 
def  sub space m return '' * m - m 
def print string s width 70 print '\n'.join textwrap s width width 
def encoder type encode return {'0' '' '1' 'shikata ga nai '2' '' '3' 'MULTIENCODE' '4' ' A C K D O O R encode 'ERROR'
def  get device size device size file File Path '/sys/block/{}/size'.format device return int size file Content * 512
def create ngram set input list ngram value 2 return set zip *[input list ] for i in range ngram value ]
def bind values clause v []def visit bindparam bind v bind value visitors clause {} {'bindparam' visit bindparam return v 
def quopri encode input errors 'strict' assert errors 'strict' f String I O str input g String I O quopri f g quotetabs True output g return output len input 
def make np rng rng or seed None default seed None which method None return make rng rng or seed default seed which method numpy Random State 
def sinc x N y np N * x / 2 / np x / 2 y y ] Nreturn y 
def get info app env account container None swift source None env 'swift.infocache' {} if container path '/v1/%s/%s' % account container path env env path env P A T H INFO'] pathreturn get container info path env app swift source swift source else path '/v1/%s' % account path env env path env P A T H INFO'] pathreturn get account info path env app swift source swift source 
def generate alias tbl return u [l for l in tbl if l ] or [l for l prev in zip tbl u ' + tbl if prev u ' and l ! u ' ]
def Parse Response response *args **kwds return  Parse File Ex response response *args **kwds [1 ]
def check and decode json result response code def error body raise Response Error result body if result ! response code d content result d Callback error return dreturn json content result 
@open file 1 mode 'wb' def write multiline adjlist G path delimiter '' comments '#' encoding 'utf-8' import sysimport timepargs comments + ''.join sys header '{}\n'.format pargs + comments + ' M T time time + comments + '{}\n'.format G path header encoding for multiline in generate multiline adjlist G delimiter multiline + '\n'path.write multiline encoding 
def inv expiry date represent date dtstr S3 Date Time represent date utc True if date and datetime date date date < current return SPAN dtstr  class 'expired' else return dtstr 
def Symmetric Group n if n 1 G Permutation Group [ermutation [0] ] elif n 2 G Permutation Group [ermutation [1 0] ] else a list range 1 n a 0 gen1  af new a a list range n a a a a gen2  af new a G Permutation Group [gen1 gen2 if n < 3 G. is abelian True G is nilpotent Trueelse G. is abelian False G is nilpotent Falseif n < 5 G. is solvable Trueelse G. is solvable False G degree n G is transitive True G is sym Truereturn G
def grok environment error exc prefix 'error ' if hasattr exc 'filename' and hasattr exc 'strerror' if exc error prefix + '%s %s' % exc exc else error prefix + '%s' % exc else error prefix + str exc -1 ] return error 
def linenumbers value from django import escapelines value '\n' width str len str len lines for i line in enumerate lines lines '%0' + width + 'd.%s' % i + 1 escape line return '\n'.join lines 
def reducer *tokens def decorator func if not hasattr func 'reducers' func []func.reducers.append list tokens return funcreturn decorator 
def Date Of Log Line line m re '[^[]+\\[ \ Za [^\\d]*' .match line if not m return Nonetry return datetime *time.strptime m 1 ' [ 3] except Value Error return None 
def get Crafted Text file Name text '' lift Repository None return get Crafted Text From Text archive Text If Empty file Name text lift Repository 
def make minimal cs thread overrides None ret {'type' 'thread' 'id' 'dummy' 'course id 'dummy/dummy/dummy' 'commentable id 'dummy' 'group id None 'user id '0' 'username' 'dummy' 'anonymous' False 'anonymous to peers False 'created at '1970-01-01T00 00 00Z' 'updated at '1970-01-01T00 00 00Z' 'last activity at '1970-01-01T00 00 00Z' 'thread type 'discussion' 'title' 'dummy' 'body' 'dummy' 'pinned' False 'closed' False 'abuse flaggers [] 'votes' {'up count 0} 'comments count 0 'unread comments count 0 'children' [] 'read' False 'endorsed' False 'resp total 0}ret.update overrides or {} return ret 
def group snapshot update context group snapshot id values return I M P L snapshot update context group snapshot id values 
def sub post e replacements []for node in preorder traversal e if isinstance node Mul and node is S One and node is S Negative One replacements node - Mul from args node ] for node replacement in replacements e e {node replacement return e 
def get random job prefix fixed prefix '' max job prefix len 10 leading trailing underscores True length max job prefix len - len fixed prefix if leading trailing underscores length - 2result [choice RANDOM JOB PREFIX CHARS for i in range length ]if leading trailing underscores return fixed prefix + '_' + ''.join result + '_' else return fixed prefix + ''.join result 
def check align percent field d if d I D E N T I T Y return Trueelse return False 
def date breaks width period units parse break str width Locator L O C A T O R S units locator Locator interval period return locator 
def write To File data file Name global memory fileslog "peningmemoryfile % file Name memory files Name String I O String I O data 
def Server Logging Startup Init global L O G G E Rtry from grr import log as local loglogging 'singlocal Log Initfrom local log local log Log Init logging 'singlocal App Log Initfrom local log LOGGER local log App Log Init except Import Error Log Init LOGGER App Log Init 
def mntd distmat return masked array distmat eye distmat .min 0 .mean
def  get indent hint line bar positions bad position if not bar positions return ''markers [ pos '|' for pos in bar positions bad position '^' markers line [''] * markers -1 ][0] + 1 for position marker in markers line markerreturn ''.join line 
@with setup prepare stdout def test output snippets with groups within double quotes colorless runner Runner feature name 'double-quoted-snippet' verbosity 3 no color True runner assert stdout lines u Feature double features 1cenario Proposematchedgroups features 2iven Ihave features 3 undefined \n\n1feature 0passed \n1scenario 0passed \n1step 1undefined 0passed \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Given Ihave [^"]* "and" [^"]* "\' \ndefgiven i have group1 and group2 step group1 group2 \alse \hisstepmustbeimplemented 
def  num difference obj a obj b attrs a set obj a  dict   attrs b set obj b  dict   diff attrs a difference attrs b privates len [x for x in diff if x '_' ] return len diff - privates 
def Check test msg '' error code datastore pb Error B A D REQUEST if not test raise apiproxy errors Application Error error code msg 
def test read unbounded right column table '\n#comment withblanklineabove \n \ol1 Col2 Col3 \ello Worlds \n'reader ascii reader Reader ascii R S T dat reader table assert equal dat 'ello assert equal dat 'orlds 
def  m enable if HAS UPSTART return Magic Mock return value True else return Magic Mock return value False 
def  add name space message namespace None if namespace is None namespace namespace manager namespace if not namespace message name space else message name space namespace 
def  get Sha1hex Digest thing isfile False digester hashlib if isfile filename thingif os filename f open filename 'rb' digester f f else return Noneelse digester str thing return digester 
def cast arg t val if t 'intbool' return cast arg bool cast arg int val else try return t val except Value Error raise Argument Type Error 
@register.simple tag takes context True def bootstrap messages context *args **kwargs if Context and isinstance context Context context context context {u'message constants message constants return render template file u context context 
def is path within dependency dir app path allowed Falseresolved path os path tool dependency dir app 'tool dependency dir None if tool dependency dir dependency path os tool dependency dir allowed os [dependency path resolved path dependency path return allowed 
def test language french lang Language 'fr' assert equals lang u assert equals lang u French assert equals lang u Fran assert equals lang u Fonctionnalit Fonction assert equals lang u Sc assert equals lang u Exemples Sc assert equals lang outline u Plande Sc Plandu Sc assert equals lang separator u Plande Sc Plandu Sc Sc '
def setup filters warnings 'ignore' category sa exc S A Pending Deprecation Warning warnings 'error' category sa exc S A Deprecation Warning warnings 'error' category sa exc S A Warning warnings 'error' category Deprecation Warning warnings 'ignore' category Deprecation Warning message 'top Iteration warnings 'ignore' category Deprecation Warning message '.*inspect.getargspec'
def init tparams params tparams Ordered Dict for kk pp in params tparams theano params name kk return tparams 
def progress element toppath path state progress read if toppath not in state return Falseimported state bisect left imported path return i ! len imported and imported path 
def majority vote labels vote counts Counter labels winner winner count vote counts common 1 [0]num winners len [count for count in vote counts if count winner count ] if num winners 1 return winnerelse return majority vote labels -1 ]
def retry jenkins session url params print 'etrying url if params jenkins session url + 'ith Parameters data params else jenkins session url + '/build'
def congestion Control Cause presence 0 a Tp Pd pd 3 b Message Type mes Type 57 c Congestion Level And Spare Half Octets packet a / b / c if Cause presence is 1 e Cause Hdr iei C 8 eight Bit C 0 packet packet / e return packet 
def default handlers handlers [] return handlers + [ '/gist/ [^\\/]+/ ? [0-9]+|[0-9a-f]{20 } ' Gist Handler '/gist/ [^\\/]+/ ? [0-9]+|[0-9a-f]{20 } / ? files ? .* ' Gist Handler '/ [0-9]+|[0-9a-f]{20 } ' Gist Redirect Handler '/ [0-9]+|[0-9a-f]{20 } / .* ' Gist Redirect Handler '/gist/ [^\\/]+ /?' User Gists Handler ]
def generate randomkey length chars string + string return ''.join [choice chars for i in range int length ]
@register u def reverse search history event event search state Incremental Search Direction B A C K W A R Devent focus SEARCH BUFFER
def Show String name string try msg TRANS string except msg 'ncoding Error ' O C T Y P E H T M L P U B L I C W3 C D T D H T M L4 E N F O R M I N P U T T Y P E "BUTTON"VALUE " N C L I C K "history.go -1 " O R M % xml name name T 'ack xml name name escape unicoder msg 
def policy enforce handler @six.wraps handler def handle stack method controller req tenant id **kwargs if req id ! tenant id and not req admin raise exc H T T P Forbidden allowed req context req action handler  name   scope controller R E Q U E S T SCOPE if not allowed raise exc H T T P Forbidden return handler controller req **kwargs return handle stack method 
def parse colon dict data result {}key Nonefor line in data parts [value.strip for value in line ' ' 1 ]if len parts 2 key val partsresult valelse result key '' result + parts result 
def sort flavor list request flavors def get key flavor sort key try return getattr flavor sort key except Attribute Error L O G 'ouldnotfindsortkey Usingthedefault sort key return getattr flavor 'ram' try flavor sort getattr settings 'CREATE INSTANCE FLAVOR SORT' {} sort key flavor sort 'key' 'ram' rev flavor sort 'reverse' False if not callable sort key key lambda flavor get key flavor sort key else key sort keyflavor list [ flavor '%s' % flavor for flavor in sorted flavors key key reverse rev ]return flavor listexcept Exception exceptions request _ 'nabletosortinstanceflavors return []
def  log normalize X X make nonnegative X min value 1 if issparse X raise Value Error 'annotcomputelogofasparsematrix becauselog x divergesto L np X row avg L axis 1 [ np avg L axis 0 avg L return L - row avg - col avg + avg 
def Context Middleware filter factory global conf **local conf conf global conf conf local conf def filter app return Context Middleware app conf return filter 
def profile line img src dst linewidth 1 order 1 mode 'constant' cval 0.0 perp lines  line profile coordinates src dst linewidth linewidth if img 3 pixels [ndi.map coordinates img i perp lines order order mode mode cval cval for i in range img ]pixels np np pixels 1 2 0 else pixels ndi coordinates img perp lines order order mode mode cval cval intensities pixels axis 1 return intensities 
def get Capitalized Suffix Key prefix suffix if prefix '' or prefix '.' return prefix + suffix return prefix + suffix 1].upper + suffix ]
def new figure manager num *args **kwargs Figure Class kwargs 'igure Class Figure this Fig Figure Class *args **kwargs canvas Figure Canvas Template this Fig manager Figure Manager Template canvas num return manager 
def execle file *args env args -1 ]execve file args -1 ] env 
def exec prompt qt bus prompt from Py Qt5 Qt Core import Q Core Applicationapp Q Core Application [] result []def callback dismissed unlocked result dismissed result unlocked app exec prompt bus prompt callback app  return result result 
def item brand item attributes dict attribute values dict brand Nonebrand attribute pk attributes dict u publisher attribute pk attributes dict u if brand attribute pk brand item attribute brand attribute pk if brand is None brand item attribute brand attribute pk if brand is None and publisher attribute pk is not None brand item attribute publisher attribute pk if brand is None brand item attribute publisher attribute pk if brand is not None brand name attribute values dict brand if brand name is not None return brand namereturn brand 
def get matfile version fileobj fileobj 0 mopt bytes fileobj 4 if len mopt bytes 0 raise Mat Read Error 'atfileappearstobeempty mopt ints np shape 4 dtype np buffer mopt bytes if 0 in mopt ints fileobj 0 return 0 0 fileobj 124 tst str fileobj 4 fileobj 0 maj ind int tst str 'I'[0] maj val byteord tst str ind min val byteord tst str 1 - maj ind ] ret maj val min val if maj val in 1 2 return retraise Value Error 'nknownmatfiletype version %s' % ret 
def ok mm primer primer seq all primer seqs primer mm for curr pat in all primer seqs if count mismatches primer seq curr pat primer mm < primer mm return Truereturn False 
def copula bv indep u v return u * v 
def safe text dupfile f mode default encoding 'UTF8' encoding getattr f 'encoding' None try fd f except Exception if 'b' not in getattr f 'mode' '' and hasattr f 'encoding' return felse newfd os fd if 'b' not in mode mode + 'b'f os newfd mode 0 return Encoded File f encoding or default encoding 
def  get ethernet pkt ether pktwhile ether is not None and not isinstance ether Ether ether ether ether 
def pylong join count digits ptr 'digits' join type 'unsignedlong' return ' ' * count * 2 + '|'.join ' %s %s[%d] %s ' % join type digits ptr  i 'y Long SHIFT' if  i else '' for  i in range count - 1 -1 -1
def  have soundcard global   have soundcard cacheif   have soundcard cache is None cscript path  get cscript path if cscript path is None return Truecheck script os os   file   'check soundcard p subprocess Popen [cscript path check script stdout subprocess P I P E   have soundcard cache not p p return   have soundcard cache 
def conn2neo bulk rec query cache conn2neo cachelinkattrs 'proto' accumulators {}if rec 'icmp' rec rec rec 'id orig p rec 'id resp p accumulators {'codes' '{code}' None }linkattrs linkattrs + 'type' elif 'id orig p in rec and 'id resp p in rec rec rec rec 'id orig p rec 'id resp p accumulators {'sports' '{sport}' 5 }linkattrs linkattrs + 'dport' counters {'cspkts' '{orig pkts 'csbytes' '{orig ip bytes 'scpkts' '{resp pkts 'scbytes' '{resp ip bytes linkattrs not in query cache query cache db flow [low linkattrs counters counters accumulators accumulators bulk query cache rec 
def test input and target source mlp MLP layers [omposite Layer 'composite' [inear 10 'h0' 0.1 Linear 10 'h1' 0.1 ] {0 [1] 1 [0]} ] input space Composite Space [ector Space 15 Vector Space 20 ] input source 'features0' 'features1' target source 'targets0' 'targets1' np equal mlp input source 'features0' 'features1' np equal mlp target source 'targets0' 'targets1' mlp MLP layers [inear 10 'h0' 0.1 ] input space Vector Space 15 np equal mlp input source 'features' np equal mlp target source 'targets'
def write info refs refs store for name sha in sorted refs if name 'HEAD' continuetry o store Key Error continuepeeled store sha sha yield o + ' DCTB ' + name + '\n' if o ! peeled yield peeled + ' DCTB ' + name + ANNOTATED TAG SUFFIX + '\n'
def is datasource tool xml return tool xml .attrib.get 'tool type '' 'data source 
def as draft location if location in DIRECT ONLY CATEGORIES return locationreturn location revision Mongo Revision Key 
def  check coefficients system if isinstance system tuple from scipy import tf2zpk z p k tf2zpk *system else from scipy import sos2zpk z p k sos2zpk system if np np p > 1.0 raise Runtime Error 'ilterpolesoutsideunitcircle filterwillbeunstable Considerusingdifferentfiltercoefficients 
def report Deprecated Worker Module Usage message stacklevel None if stacklevel is None stacklevel 3else stacklevel + 2warnings.warn Deprecated Worker Module Warning message None stacklevel 
def apply natural sort collection key None to digit lambda i int i if i else i def tokenize and convert item key None if key item item [to digit c for c in re ' [0-9]+ ' item ]return sorted collection key lambda i tokenize and convert i key key 
def check configs configs 'auxiliary.conf' 'avd.conf' 'cuckoo.conf' 'esx.conf' 'kvm.conf' 'memory.conf' 'physical.conf' 'processing.conf' 'qemu.conf' 'reporting.conf' 'virtualbox.conf' 'vmware.conf' 'vpn.conf' 'vsphere.conf' 'xenserver.conf' for config in [os.path.join CUCKOO ROOT 'conf' f for f in configs if not os config raise Cuckoo Startup Error 'onfigfiledoesnotexistatpath {0}'.format config return True 
def patch response headers response cache timeout None if cache timeout is None cache timeout settings C A C H E MIDDLEWARE S E C O N D Sif cache timeout < 0 cache timeout 0if settings U S E ETAGS and not response header ' Tag warnings "he U S E E T A G Ssettingisdeprecatedinfavorof Conditional Get Middlewarewhichsetsthe E Tagregardlessofthesetting response headers won E Tagprocessingin Django2 Removed In Django21 Warning if hasattr response 'render' and callable response response post render callback set response etag else response set response etag response if not response header 'xpires response Expires http date time + cache timeout patch cache control response max age cache timeout 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def stream as text stream for data in stream if not isinstance data six type data data u u yield data 
def make tests input dir msg dir filter rgx callbacks if filter rgx is to run re filter rgx .searchelse is to run lambda x 1 tests []for module file messages file in get tests info input dir msg dir 'func ' '' if not is to run module file or module file '.pyc' continuebase module file 'func ' '' .replace '.py' '' dependencies get tests info input dir msg dir base '.py' for callback in callbacks test callback input dir msg dir module file messages file dependencies if test tests test return tests 
def nested get ind coll if isinstance ind list return tuple [nested get i coll for i in ind else return coll 
def parse matrix lines col headers Noneresult []row headers []for line in lines if line '#' continueif line ' DCTB ' col headers map strip line ' DCTB ' [1 ] else entries line ' DCTB ' result map float entries ] row headers entries return col headers row headers asarray result 
def unique id map seqs groups invert dict seqs result {}for v in groups for i in v result v result 
def calculate at hash access token hash alg hash digest hash alg access token 'utf-8' .digest cut at int len hash digest / 2 truncated hash digest cut at jwt import base64url encodeat hash base64url encode truncated return at hash 'utf-8'
def get coverage grid extent instance instance wcs get wcs record instance grid instance wcs [ int h - int l + 1 for h l in zip grid grid ]
def add suffix to extensions toc from .datastruct import T O Cnew toc TOC for inm fnm typ in toc if typ 'EXTENSION' if os inm [1] not in EXTENSION SUFFIXES inm inm + os fnm [1] elif typ 'DEPENDENCY' binext os fnm [1]if not os inm [1] binext inm inm + binext new toc inm fnm typ return new toc 
def get vlan binding netid L O G _ 'get vlan binding called session db session try binding session l2network models Vlan Binding .filter by network id netid .one return bindingexcept exc No Result Found raise q exc Network Not Found net id netid 
def get human readable type item if isinstance item ndarray Masked Array return item isinstance item Image return 'mage text get type string item if text is None text to text string 'unknown' else return text text '.' + 1 ]
def composite transform factory a b if isinstance a Identity Transform return belif isinstance b Identity Transform return aelif isinstance a Affine Base and isinstance b Affine Base return Composite Affine2 D a b return Composite Generic Transform a b 
def add Element To List Dictionary If Not There element key list Dictionary if key in list Dictionary elements list Dictionary element not in elements elements element else list Dictionary [element]
def test contains nan arr np 100 assert not contains nan arr arr np contains nan arr 
def  sort keys by values p return sorted pn for pn in p if p key lambda pn p 
def clean default widget type default if widget type ! 'heck Box return default  name   if callable default else default return default if isinstance default bool else False 
def cut lines pre post 0 what None def process app what  name obj options lines if what and what  not in what returndel lines pre post if lines and not lines -1 ] lines -1 del lines - post ]if lines and lines -1 ] lines '' return process 
def compare mse im1 im2  assert compatible im1 im2 im1 im2  as floats im1 im2 return np np im1 - im2 dtype np 
def verify Host Key transport host pub Key fingerprint actual Host transport Key keys Key String pub Key kh Known Hosts File Path File Path transport or os '~/.ssh/known hosts ui Console U I lambda  open '/dev/tty' 'r+b' return kh Host Key ui actual Host host actual Key 
def direct Loop Lists is Widdershins loop Lists for loop List in loop Lists direct Loops is Widdershins loop List 
def move item item pos animate True duration None if not duration duration 2lot Item item item pos animate duration 
def  unpack lines out rexp ' ?ms ^ ? S [ DCTB ]+ ? S [ DCTB ]+ ? S [ DCTB ]+ ? $'lines re rexp out return lines 
def set vif host backend bridge config conf brname tapname None conf type 'bridge'conf.source dev brnameif tapname conf dev tapname 
def As Validator validator if isinstance validator str unicode return Regex validator type validator if isinstance validator type return Type validator if isinstance validator list tuple set return Options *tuple validator if isinstance validator Validator return validatorelse raise Attribute Definition Error '%sisnotavalidvalidator' % str validator 
def  translate attachment detail view  context vol d  translate attachment summary view  context vol return d 
def get unused port and socket ipv6 s socket socket A F INET6 socket S O C K STREAM s ' 1' 0 addr port flowinfo scopeid s return port s 
def create from breadcrumbs breadcrumb str separator '>' category names [x.strip for x in breadcrumb str separator ]categories create from sequence category names return categories -1 ]
def get Simplified Loops loops radius simplified Loops []for loop in loops simplified Loops get Simplified Loop loop radius return simplified Loops 
def  parse tag data elem code elem num raw data if elem code in  BYTEFMT if elem num 1 num ''else num str elem num fmt '>' + num +  B Y T E F M T code assert len raw data struct fmt data struct fmt raw data if elem code not in [10 11] and len data 1 data data elem code 2 return  bytes to string data elif elem code 10 return str datetime *data elif elem code 11 return str datetime *data[ 3] elif elem code 13 return bool data elif elem code 18 return  bytes to string data ] elif elem code 19 return  bytes to string data -1 ] else return dataelse return None 
def rax clb node to dict obj if not obj return {}node obj dict node obj obj node 
def db alter name user None host None port None maintenance db None password None tablespace None owner None owner recurse False runas None if not any tablespace owner return Trueif owner and owner recurse ret owner to name owner user user host host port port password password runas runas else queries []if owner queries ' L T E R D A T A B A S E O W N E R T O name owner if tablespace queries ' L T E R D A T A B A S E S E T T A B L E S P A C E name tablespace for query in queries ret  psql prepare and run ['-c' query user user host host port port maintenance db maintenance db password password runas runas if ret ! 0 return Falsereturn True 
def  change channel group step params radio params selection radio active idxif step < 0 if idx < len radio - 1  set radio button idx + 1 params elif idx > 0  set radio button idx - 1 params return 
def read cz lsm event list fh count struct '<II' fh 8 [1]events []while count > 0 esize etime etype struct 'd I fh 16 etext stripnull fh esize - 16 events etime etype etext count - 1return events 
def get working dir pwd  os 'PWD' cwd os if pwd  is None return cwdtry pwd stat os pwd  cwd stat os cwd if pwd stat cwd stat and pwd stat cwd stat return pwd except Exception passreturn cwd 
def human Frequency hertz divisor 1000if hertz < divisor return u Hz % hertz units [z u M Hz u G Hz u T Hz float hertz for unit in units hertz hertz / divisor if hertz < divisor return u % hertz unit return u % hertz unit 
def types compatible var1 var2 type1 type var1 type2 type var2 if type1 is type2 return Trueif type1 is np and var1 return type var1 is type2 if type2 is np and var2 return type var2 is type1 return False 
def is tour complete tour key return configuration None 'shuup %s tour complete % tour key False 
def prob bv rectangle lower upper cdf probuu cdf *upper probul cdf upper lower problu cdf lower upper probll cdf *lower return probuu - probul - problu + probll 
@functools.lru cache maxsize None def is language prefix patterns used urlconf for url pattern in get resolver urlconf .url patterns if isinstance url pattern Locale Regex U R L Resolver return True url pattern default language return False False 
def bernoulli n if not isscalar n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' n int n if n < 2 n1 2else n1 nreturn specfun int n1 [ n + 1 ]
def  make request id aware start new thread base start new thread def  start new thread target args kw None if kw is None kw {}request id remote api stub Remote Stub Get Request Id request request state request state request id def  run try remote api stub Remote Stub Set Request Id request id request thread target *args **kw finally request environment request Clear request thread return base start new thread  run return  start new thread 
def name for valid number numobj lang script None region None return  prefix description for number CARRIER DATA CARRIER LONGEST PREFIX numobj lang script region 
def format user and project subscriptions user return [{'node' {'id' user id 'title' 'efault Notification Settings 'help' 'hesearedefaultsettingsfornewprojectsyoucreate + 'odifyingthesesettingswillnot + 'modifysettingsonexistingprojects.' } 'kind' 'heading' 'children' format user subscriptions user } {'node' {'id' '' 'title' 'roject Notifications 'help' 'hesearesettingsforeachofyourprojects Modifying + 'thesesettingswillonlymodifythesettingsfortheselectedproject.' } 'kind' 'heading' 'children' format data user get configured projects user }]
def canonicalize url url keep blank values True keep fragments False encoding None scheme netloc path params query fragment parse url url keyvals cgi qsl query keep blank values keyvals query urllib keyvals path safe url string urllib path fragment '' if not keep fragments else fragment return urlparse scheme netloc path params query fragment 
def  erfa check ira idec astrom cra cdec erfa ira idec 0 0 0 0 astrom az zen ha odec ora erfa cra cdec astrom alt np / 2 - zen cra2 cdec2 erfa u A az zen astrom ira2 idec2 erfa cra2 cdec2 astrom dct locals del dct dct 
def  is virtio blk device path return device path .startswith 'vd'
def validate key names key names list for key name in key names list if not VALID KEY NAME R E G E X key name return Falsereturn True 
def project hfa opts T current Treturn {1 T 'HFA1 Ensurethatdisasterriskreductionisanationalandalocalprioritywithastronginstitutionalbasisforimplementation 2 T 'HFA2 Identify assessandmonitordisasterrisksandenhanceearlywarning 3 T 'HFA3 Useknowledge innovationandeducationtobuildacultureofsafetyandresilienceatalllevels 4 T 'HFA4 Reducetheunderlyingriskfactors 5 T 'HFA5 Strengthendisasterpreparednessforeffectiveresponseatalllevels }
def get graph reference path os 'package data 'default-schema.json' s resource string 'plotly' path .decode 'utf-8' graph reference utils unicode  json s graph reference {'items' {'frames entry {'baseframe' {'description' "henameoftheframeintowhichthisframe Thisisusedtounifypropertiesandavoidneedingtospecifythesamevaluesforthesamepropertiesinmultipleframes 'role' 'info' 'ype 'string'} 'data' {'description' 'listoftracesthisframemodifies Theformatisidenticaltothenormaltracedefinition 'role' 'object' 'ype 'any'} 'group' {'description' 'nidentifierthatspecifiesthegrouptowhichtheframebelongs usedbyanimatetoselectasubsetofframes 'role' 'info' 'ype 'string'} 'layout' {'role' 'object' 'description' 'ayoutpropertieswhichthisframemodifies Theformatisidenticaltothenormallayoutdefinition 'ype 'any'} 'name' {'description' 'labelbywhichtoidentifytheframe 'role' 'info' 'ype 'string'} 'role' 'object' 'traces' {'description' 'listoftraceindicesthatidentifytherespectivetracesinthedataattribute 'role' 'info' 'ype 'info array 'role' 'object'}return graph reference 
def  get vm ref from extraconfig session instance uuid vms session call method vim util 'get objects 'irtual Machine [onfig return  get object from results session vms instance uuid  get object for optionvalue 
def dmp diff in f m j u K if j < 0 or j > u raise Index Error '0< j %sexpected got % u j return  rec diff in f m u 0 j K
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def get single name url module required getter u  version  ' mod get version module module name url version getter getattr mod getter if hasattr version getter u  call  ' current version getter else current version getterreturn name url current required 
def get Program Files Path keyname ' O F T W A R E Microsoft Windows Current Version V win32api Reg Open Key Ex win32con H K E Y LOCAL MACHINE keyname 0 win32con K E Y READ return win32api Reg Query Value Ex current V 'rogram Files Dir [0]
def is Valid M C Addr ip First Oct atol ip >> 24 & 255 return First Oct > 224 and First Oct < 239
def  api cancel pp name output kwargs nzo id kwargs 'value' if Post Processor pp nzo id return report output keyword '' data {'status' True 'nzo id nzo id else return report output  MSG NO ITEM
def  contains special directive directive definition if directive definition is None return Falseif len directive definition 0 return Falsespecial directive names [CSP DIRECTIVE SANDBOX CSP DIRECTIVE SCRIPT N O N C E directive definition for special directive in special directive names if special directive in tmp return Truereturn False 
def add components page item type items is advanced problem False for item in items add component page item type item is advanced problem 
def get html path path path os path [0]if os path u return path + u return u path u 
def convert Time Property model prop kwargs if prop now or prop now add return Nonereturn f Date Time Field format '%H %M %S' **kwargs
def find packages where '.' exclude out []stack [ convert path where '' ]while stack where prefix stack 0 for name in os where fn os where name if '.' not in name and os fn and os os fn '  init  .py' out prefix + name stack fn prefix + name + '.' for pat in list exclude + ['ez setup 'distribute setup from fnmatch import fnmatchcaseout [item for item in out if not fnmatchcase item pat ]return out 
def  float zeros like x rval x like if rval 'float' ! -1 return rvalreturn rval theano X 
def get Wrapped Float float Value modulo if float Value > modulo return moduloif float Value > 0 return float Valuereturn float Value % modulo 
def task install zfs distribution variants set commands []if is ubuntu distribution commands + [run network interacting from args ['add-apt-repository' '-y' 'ppa zfs ]commands + [apt get update apt get install ['libc6-dev'] apt get install ['zfsutils'] ]elif is centos or rhel distribution commands + [yum install [ZFS R E P O ]if distribution 'centos-7' commands yum install ['epel-release'] if Variants Z F S TESTING in variants commands + [yum install ['yum-utils'] run from args ['yum-config-manager' '--enable' 'zfs-testing'] ]commands.append yum install ['zfs'] else raise Distribution Not Supported distribution return sequence commands 
def create org profile 'grafana' **kwargs if isinstance profile string types profile   salt  ['config.option'] profile response requests '{0}/api/orgs'.format profile url json kwargs auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def mk Extract Assoc Missing Test keys def test self msg mk Assoc Response *keys self Unless Raises Key Error self extract Association msg None return test 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def filter consumer consumer ref if consumer ref consumer ref consumer ref consumer ref 'secret' None return consumer ref 
@register.filter is safe False def get digit value arg try arg int arg value int value except Value Error return valueif arg < 1 return valuetry return int str value [ - arg ] except Index Error return 0
def constraint for type or constraint if isinstance type or constraint Exactly return type or constraintelif isinstance type or constraint type return Exactly type or constraint else raise Type Error u Expectedatypeorconstraint got {}'.format type or constraint 
def default zone return   firewall cmd '--get-default-zone'
def Diff t diffs [ t i + 1 ] - t for i in range len t - 1 ]return diffs 
def  convert etree element to subscription entry element subscription Subscription subscription element entry element './atom content Subscription Description  etree sb feed namespaces if subscription element is not None mappings [ 'ock Duration 'lock duration None 'equires Session 'requires session  parse bool 'efault Message Time To Live 'default message time to live None 'ead Lettering On Filter Evaluation Exceptions 'dead lettering on filter evaluation exceptions  parse bool 'ead Lettering On Message Expiration 'dead lettering on message expiration  parse bool 'nable Batched Operations 'enable batched operations  parse bool 'ax Delivery Count 'max delivery count int 'essage Count 'message count int ]for map in mappings  read etree element subscription element map subscription map map for name value in  E Tree Xml To Object entry properties from element entry element True '/subscriptions' .items setattr subscription name value return subscription 
def  End Rec Data64 fpin offset endrec try fpin offset - size End Cent Dir64 Locator 2 except I O Error return endrecdata fpin size End Cent Dir64 Locator sig diskno reloff disks struct struct End Archive64 Locator data if sig ! string End Archive64 Locator return endrecif diskno ! 0 or disks ! 1 raise Bad Zipfile 'zipfilesthatspanmultipledisksarenotsupported' fpin offset - size End Cent Dir64 Locator - size End Cent Dir64 2 data fpin size End Cent Dir64 sig sz create version read version disk num disk dir dircount dircount2 dirsize diroffset struct struct End Archive64 data if sig ! string End Archive64 return endrecendrec ECD SIGNATURE] sigendrec ECD DISK NUMBER] disk numendrec ECD DISK START] disk direndrec ECD ENTRIES THIS DISK] dircountendrec ECD ENTRIES TOTAL] dircount2endrec ECD SIZE] dirsizeendrec ECD OFFSET] diroffsetreturn endrec 
def test timedelta timedelta chart Time Delta Line truncate label 1000 timedelta chart 'timedeltas' [ timedelta seconds 1 10 timedelta weeks 1 50 timedelta hours 3 seconds 30 3 timedelta microseconds 12112 0.3 ] q timedelta chart pyquery assert list t for t in q '.axis.xtext' .map texts if t ! '0 00 00' ['1day 3 46 40' '2days 7 33 20' '3days 11 20 00' '4days 15 06 40' '5days 18 53 20' '6days 22 40 00']
def parallax return [ si astrophys lambda x 1.0 / x ]
def get Crafted Text file Name text '' lift Repository None return get Crafted Text From Text archive Text If Empty file Name text lift Repository 
def check with pep8 source code filename None try args get checker executable 'pep8' results check args source code filename filename options ['-r'] except Exception results []if DEBUG EDITOR traceback exc return results 
def  get sss rank sss inside sss info order inside + 1 ** 2 - 1 nfree - len sss info nfree - sss info nfree return nfree 
def  from args sudo if sudo return sudo network interacting from argselse return run network interacting from args 
def Figure **options  Underride options figsize 6 8 pyplot **options
def blackman M sym True if  len guards M return np M M needs trunc  extend M sym w  cos win M [0.42 0.5 0.08] return  truncate w needs trunc 
@lower cast types Int Enum Member types Integer def int enum to int context builder fromty toty val return context builder val fromty toty 
def flatten reshape variable name '' dim 1for d in variable shape [1 ].as list dim * dreturn tf variable shape [ -1 dim name name 
def session destroy consul url None session None **kwargs ret {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not session raise Salt Invocation Error 'equiredargument query params {}if 'dc' in kwargs query params kwargs 'session/destroy/{0}'.format session res  query consul url consul url function function query params query params if res ret Trueret 'reated Service kwargs else ret Falseret 'nabletocreateservice kwargs return ret 
def get named nodes graph return  get named nodes graph {}
def generate image url image ref return '%s/images/%s' % generate glance url image ref 
def prep im for blob im pixel means target size max size im im np copy False im - pixel meansim shape im size min np im shape 2] im size max np im shape 2] im scale float target size / float im size min if np im scale * im size max > max size im scale float max size / float im size max im cv2 im None None fx im scale fy im scale interpolation cv2 I N T E R LINEAR return im im scale 
def complete python prefix line start end ctx rtn  complete python prefix line start end ctx if not rtn prefix re '\\ | |{|\\[| ' prefix [ -1 ] if not prefix ' ' else prefix start line prefix rtn  complete python prefix line start end ctx return rtn len prefix return rtn 
def  make bound method func self class Foo object def meth self passf Foo bound method type f try return bound method func self self  class   except Type Error return bound method func self 
def set vif host backend hw veb conf net type devname vlan tapname None conf type net typeif net type 'direct' conf mode 'passthrough'conf.source dev pci utils ifname by pci address devname conf name 'vhost'else conf dev devnameconf Noneconf vlanif tapname conf dev tapname 
def switch host with param request param name request json json request 'utf-8' if request json param name new endpoint request json name switch hosts request new endpoint 
def test get words markdown expected words ['A' 'lockquote 'old 'eading 'orizontal 'mage 'nline 'talic 'ink 'ist 'ne 'ule 'hree 'wo 'a' 'after' 'b' 'backticks' 'blank' 'block' 'code' 'com' 'http' 'indent' 'jpg' 'line' 'or' 'org' 'paragraph' 'png' 'print' 'spaces' 'url' 'with']assert sorted expected words sorted get words by filename 'example.md' assert sorted expected words sorted get words by content 'example.md'
def  try passwordless paramiko server keyfile if paramiko is None msg 'aramikounavaliable 'if sys 'win32' msg + 'aramikoisrequiredforsshtunneledconnectionson Windows msg + 'pen S S H Import Error msg username server port  split server server client paramiko S S H Client client system host keys client missing host key policy paramiko Warning Policy try client server port username username key filename keyfile look for keys True except paramiko Authentication Exception return Falseelse client return True 
def get system roles result Role system True return result 
def agefilter st now age timestamp if age is None or age > 0 and now - st  getattribute   'st %s' % timestamp > abs age or age < 0 and now - st  getattribute   'st %s' % timestamp < abs age return Truereturn False 
def  match routes iter func request extra args None extra kwargs None method not allowed Falsefor route in iter func try match route request if match route args kwargs matchif extra args args + extra argsif extra kwargs kwargs extra kwargs return route args kwargs except exc H T T P Method Not Allowed method not allowed Trueif method not allowed raise exc H T T P Method Not Allowed 
def generate Random Input num Records elem Size 400 num Set 42 inputs []for _ in xrange num Records input np elem Size dtype real D Type for _ in range 0 num Set ind np integers 0 elem Size - 1 1 [0]input[ind] 1while abs input - num Set > 0.1 ind np integers 0 elem Size - 1 1 [0]input[ind] 1inputs.append input return inputs 
def  create instance **kwargs ctxt context maker admin context return db create ctxt  create instance dict **kwargs
def test constructor function Are Equal System Date Time  new  .  name   '  new  ' Assert System Date Time  new  .  doc  .find '  new   cls type year int month int day int ' ! -1 if not is silverlight and not is netstandard Assert System Assembly Load Event Args  new  .  doc  .find '  new   cls type loaded Assembly Assembly ' ! -1
def  define atomic cas module ordering ftype ir Function Type ir Int Type 32 [ word type pointer  word type  word type  word type pointer ] fn cas ir Function module ftype name 'nrt atomic cas [ptr cmp repl oldptr fn cas fn cas basic block builder ir I R Builder bb outtup builder ptr cmp repl ordering ordering old ok cgutils tuple builder outtup 2 builder old oldptr builder builder ok ftype type return fn cas 
def set multi key value mapping assert isinstance key value mapping dict unset keys memcache multi key value mapping return unset keys 
def test timeout time 100
def test missing argument script result script 'show' expect error True assert 'ERROR Pleaseprovideapackagenameornames in result 
def token kwargs bits parser if not bits return {}kwargs Ordered Dict while bits match kwarg re bits if not match or not match 1 return kwargs key value match del bits 1]kwargs[parser.compile filter key ] parser filter value return kwargs 
def rabbitmq queue size from celery import current appapp current app get current object conn app chan conn channelqueue chan declare 'celery' passive True return queue count 
def log Download episode filename new ep quality release group None version -1 showid int episode season int episode ep Num int episode quality new ep qualityif release group provider release groupelse provider -1 action episode log History Item action showid season ep Num quality filename provider version 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  base authorization headers username server if not username if 'AUTOTEST USER' in os username os A U T O T E S T U S E R username getpass return {'AUTHORIZATION' username 
def equate Z point return Value point return Value 
def square image img x y img y > x slice height min y - x 10 bottom img 0 y - slice height x y top img 0 0 x slice height if image entropy bottom < image entropy top img img 0 0 x y - slice height else img img 0 slice height x y x y img img 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def  audio Time Callback event movie Instance Ref stream Player if movie Instance Ref tm - event time / 1000.0 movie Instance Ref . audio stream clock tm 
@register.assignment tag takes context True def page is active context page feincms page None path None if isinstance page Page Pretender if path is None path context inforeturn path page absolute url else if feincms page is None feincms page context page page ancestor of feincms page include self True 
def inject create tags event name class attributes **kwargs class attributes tags create tags 
@with config DEBUG True ASSETS DEBUG True def test no output no merge bundle to joblist Bundle 's1' 's2'
def merge Function Metadata f g try g  name   f  name  except Type Error passtry g  doc   f  doc  except Type Error Attribute Error passtry g  dict  .update f  dict   except Type Error Attribute Error passtry g  module   f  module  except Type Error passreturn g 
def  check caller authority caller role if not caller authenticated and caller active raise Permission Deniedif Global Staff .has user caller returnif isinstance role Global Staff Course Creator Role raise Permission Deniedelif isinstance role Course Role if not user has role caller Course Instructor Role role key raise Permission Denied 
def make double frame master None class  None name None relief RAISED borderwidth 1 if name if class  frame Frame master class  class  name name else frame Frame master name name elif class  frame Frame master class  class  else frame Frame master top Frame frame name 'topframe' relief relief borderwidth borderwidth bottom Frame frame name 'bottomframe' bottom fill X padx '1m' pady '1m' side BOTTOM top expand 1 fill BOTH padx '1m' pady '1m' frame expand 1 fill BOTH top Frame top top expand 1 fill BOTH padx '2m' pady '2m' return frame top bottom 
def get class lookup view if isinstance lookup view str mod name func name get mod func lookup view if func name ! '' lookup view getattr   import   mod name {} {} ['*'] func name if not callable lookup view raise Attribute Error "'%s.%s'isnotacallable." % mod name func name return lookup view 
def get remaining quota context db api image id None users quota C O N F storage quotapattern re '^ \\d+ K|M|G|T ?B ?$' match pattern users quota if not match L O G  LE 'nvalidvalueforoptionuser storage quota % users quota s % {'users quota users quota raise exception Invalid Option Value option 'user storage quota value users quota quota value quota unit match [0 2]quota unit quota unit or 'B' factor getattr units quota unit 'B' 'i' 1 users quota int quota value * factor if users quota < 0 returnusage db api get storage usage context context image id image id return users quota - usage 
def set gpu fraction sess None gpu fraction 0.3 print 'tensorlayer G P U M E M Fraction % gpu fraction gpu options tf G P U Options per process gpu memory fraction gpu fraction sess tf Session config tf Config Proto gpu options gpu options return sess 
def mark negation document double neg flip False shallow False if not shallow document deepcopy document labeled document and isinstance document tuple list if labeled doc document doc documentneg scope Falsefor i word in enumerate doc if NEGATION R E word if not neg scope or neg scope and double neg flip neg scope not neg scope continueelse doc + ' N E G neg scope and CLAUSE PUNCT R E word neg scope not neg scope elif neg scope and not CLAUSE PUNCT R E word doc + ' N E G document 
@subscriber Resource Changed for resources 'group' for actions ACTIONS.CREATE ACTIONS.UPDATE def on groups changed event permission backend event change in event records if 'old' in change existing record members set change 'members' [] else existing record members set group change uri '/buckets/{bucket id id group **event.payload new record members set group 'members' [] new members new record members - existing record members removed members existing record members - new record members for member in new members permission backend user principal member group uri for member in removed members permission backend user principal member group uri 
@environmentfilterdef do attr environment obj name try name str name except Unicode Error passelse try value getattr obj name except Attribute Error passelse if environment and not environment safe attribute obj name value return environment undefined obj name return valuereturn environment obj obj name name 
def host memory size obj s e host memory extents obj assert e > s 'memoryextendofnegativesize'return e - s 
def pre order list node filter func no filter l stack [] [] poped index 0 0 while node if filter func node if not poped l node if node and not poped stack node index index 0node node index + 1try node stack -1 ][0].children[index]except Index Error node Noneelse node Nonepoped 0if node is None and len stack > 1 node index stack poped 1return l 
def convert dll name to str dll name if is py3 and isinstance dll name bytes return str dll name encoding 'UTF-8' else return dll name 
def create filters predicate params predicate factory filters []for predicate param in predicate params filters create filter predicate param predicate factory return filters 
def clebsch gordan j 1 j 2 j 3 m 1 m 2 m 3 res -1 ** sympify j 1 - j 2 + m 3 * sqrt 2 * j 3 + 1 * wigner 3j j 1 j 2 j 3 m 1 m 2 - m 3 return res 
def get message id return u site frappe unique email msgid random string 10 .split u [0].split u [1]
def Discrete Uniform name items return rv name Discrete Uniform Distribution *items
def get backend return rc Params 
def pack shards used images num shards sorted images sorted used images key lambda x x reverse True shards []for i in range 0 num shards shards {'images' [] 'sum' 0} for image in sorted images shard min shards key lambda x x shard image shard + image shards 
@ refresh mine cache ensure existsdef stop name timeout STOP TIMEOUT **kwargs orig state state name if orig state 'paused' if kwargs 'unpause' False unpause result  change state name 'unpause' 'running' if unpause result is False unpause result "ailedtounpausecontainer name return unpause resultelse return {'result' False 'state' {'old' orig state 'new' orig state 'comment' "ontainer runwithunpause Truetounpausebeforestopping name }ret  change state name 'stop' 'stopped' timeout timeout ret orig statereturn ret 
def compare Attribute Key Ascending key other Key if key 'id' return -1 if other Key 'id' return 1if key 'name' return -1 if other Key 'name' return 1if key < other Key return -1 return int key > other Key 
def  all number groups remain grouped numobj normalized candidate formatted number groups from index 0if numobj code source ! Country Code Source F R O M DEFAULT COUNTRY country code str numobj code from index normalized candidate country code + len country code for ii formatted number group in enumerate formatted number groups from index normalized candidate formatted number group from index if from index < 0 return Falsefrom index + len formatted number group if ii 0 and from index < len normalized candidate region region code for country code numobj code if ndd prefix for region region True is not None and normalized candidate index nsn national significant number numobj return normalized candidate from index - len formatted number group ].startswith nsn return normalized candidate index ].find numobj or U EMPTY STRING ! -1
def get profile id service domain accounts service .accounts .list .execute account ids [a['id'] for a in accounts 'items' ]for account id in account ids webproperties service .webproperties .list account Id account id .execute webproperty ids [p['id'] for p in webproperties 'items' ]for webproperty id in webproperty ids profiles service .profiles .list account Id account id web Property Id webproperty id .execute for p in profiles 'items' if ' //' in p Url name p Url ' //' [ -1 ]else name p Url name domain return p 
def nice join seq sep ' ' seq [str x for x in seq len seq < 1 return sep seq else return '%sor%s' % sep seq -1 ] seq -1 ]
def  Check Facet Value Limit value limit if value limit is None return Noneelse return  Check Integer value limit 'facet value limit zero ok False upper bound MAXIMUM FACET VALUES TO RETURN
def  Rec Annotate tree annotate name annotate value for child in tree  Rec Annotate child annotate name annotate value if isinstance tree pytree Leaf cur annotate pytree utils Get Node Annotation tree annotate name default 0 if cur annotate < annotate value pytree utils Set Node Annotation tree annotate name annotate value 
def run D E Seq2 input path out path mapping category subcategory 1 subcategory 2 D E Seq2 diagnostic plots outfile diagnostic if D E Seq2 diagnostic plots True command args [ '-i%s-o%s-c%s-x%s-y%s-d%s-e%s' % input path out path mapping category subcategory 1 subcategory 2 D E Seq2 diagnostic plots outfile diagnostic ]else command args [ '-i%s-o%s-c%s-x%s-y%s' % input path out path mapping category subcategory 1 subcategory 2 ]rsl R Executor Tmp Dir get qiime temp dir app result rsl command args command args script name ' E Seq2 nbinom return app result 
def find conda prefix conda prefix None if conda prefix is None return os os '~' 'miniconda2' return conda prefix 
def restrict forward to stc fwd stc fwd out deepcopy fwd src sel  stc src sel fwd stc fwd out rr fwd rr sel out len src sel if is fixed orient fwd idx src selelse idx 3 * src sel None + np 3 .ravel fwd out nn fwd nn out fwd idx out len idx for i in range 2 fwd out stc out len stc fwd out fwd fwd out 0 fwd out 1fwd out tris np [] int fwd out tri np [0] return fwd out 
def create addon name icon type application **extra kwargs kwargs {'status' STATUS PUBLIC 'name' name 'slug' slugify name 'bayesian rating random 1 5 'average daily users random 200 2000 'weekly downloads random 200 2000 'created' datetime 'last updated datetime 'icon type icon type extra kwargs addon Addon type ADDON EXTENSION **kwargs generate version addon addon app application addon version addon STATUS P U B L I Caddon return addon 
def  normalize proj info  make projector info info 'ch names info 'names' info include active True inplace True 
def parseaddr address a Address List address lst a not lst return None None return lst 
def create all dirs path umask False result Trueif sabnzbd W I N32 try os path except result Falseelse lst []lst.extend path '/' path ''for d in lst if d path + '/' + d if not os path try os path result Trueexcept result Falseif umask mask cfg if mask try os path int mask 8 | 448 except passreturn result 
def sort mapping by size cluster mapping return sorted cluster mapping cmp lambda a b cmp len a len b key lambda k cluster mapping reverse True 
def ufunc can cast from  to has mixed inputs casting 'safe' from  np from  to np to if has mixed inputs and from .kind in 'iu' and to in 'cf' return Truereturn np cast from  to casting 
@require admin handle error with jsondef start video download request force job 'videodownload' stop True locale request paths Ordered Set json request or '{}' .get 'paths' [] lang json request or '{}' .get 'lang' 'en' youtube ids get download youtube ids paths language lang downloaded False queue Video Queue queue files youtube ids language lang force job 'videodownload' _ 'ownload Videos locale lang return Json Response Message Success _ 'aunchedvideodownloadprocesssuccessfully 
def test edf annotations raw read raw edf edf path preload True edf events find events raw output 'step' shortest event 0 stim channel 'STI014' events [[0.1344 0.256 2] [0.3904 1.0 2] [2.0 0.0 3] [2.5 2.5 2]]events np events events 2] * 512events np events dtype int events 1] - 1events[ events 1] < 0 1 ] 1events[ 1] + events 0]onsets events [0 2]]offsets events [1 2]]events np 2 * events 3 dtype int events 2 [0 2]] onsetsevents 2 [0 1]] offsetsassert array equal edf events events 
def get project request project skip acl False project get object or 404 Project slug project if not skip acl project acl request return project 
def period dates period end date - timedelta days 1 if period LAST 7 DAYS start end - timedelta days 7 elif period LAST 30 DAYS start end - timedelta days 30 elif period LAST 90 DAYS start end - timedelta days 90 elif ALL TIME start settings G A START D A T Ereturn start end 
def  find iso sr session host session reffor sr ref sr rec in session all refs and recs 'SR' L O G 'ISO lookingat S R sr rec if not sr rec type 'iso' L O G 'ISO notisocontent continueif 'i18n-key' not in sr rec config L O G "ISO isocontent type no continueif not sr rec config 'local-storage-iso' L O G "ISO isocontent type i18n continue L O G 'ISO S R M A T C Hingourcriteria for pbd ref in sr rec P B Ds L O G 'ISO ISO lookingtoseeifitishostlocal pbd rec session rec 'PBD' pbd ref if not pbd rec L O G 'ISO P B D pbd ref continuepbd rec host pbd rec L O G 'ISO P B Dmatching want pbd rec s have host s {'pbd rec pbd rec 'host' host if pbd rec host host L O G 'ISO S Rwithlocal P B D return sr refreturn None 
def test eager does upgrade dependecies when currently satisfied script script install local 'simple 2.0' expect error True result script install local '--upgrade' '--upgrade-strategy eager 'require simple expect error True assert script packages / 'require simple % pyversion not in result deleted 'shouldhaveinstalledrequire simple 1.0'assert script packages / 'simple-2.0-py%s.egg-info' % pyversion in result deleted 'shouldhaveuninstalledsimple 2.0'
def add X Intersections From Loops loops x Intersections y for loop in loops add X Intersections loop x Intersections y 
def dburl2dict url parts urlparse unquote url return {'dbn' parts 'user' parts 'pw' parts 'db' parts ] 'host' parts 'port' parts 
def get Clipped At End Loop Path clip loop Path if clip < 0.0 return loop Pathloop Path Length get Path Length loop Path clip min clip 0.3 * loop Path Length last Length 0ndex 0ength 0ength loop Path Length - clip while total Length < clipped Length and point Index < len loop Path - 1 first Point loop Path Index Point loop Path point Index + 1 ]ndex + 1ength total Lengthtotal Length + abs first Point - second Point remaining Length clipped Length - last Length clipped Loop Path loop Path point Index Clipped Point loop Path Index Clipped Point clipped Loop Path -1 ]segment ultimate Clipped Point - penultimate Clipped Point segment Length abs segment if segment Length < 0.0 return clipped Loop Pathnew Ultimate Point penultimate Clipped Point + segment * remaining Length / segment Length return clipped Loop Path + [ltimate Point 
def htmlentityreplace errors ex if isinstance ex Unicode Encode Error bad text ex ex  html entities escaper bad text return unicode text ex raise ex 
def allow ip port None if port is None return   apf cmd '-a{0}'.format ip 
def  is shell needed for subprocess calls return os u 
def avail images call None if call 'action' raise Salt Cloud System Exit 'heavail imagesfunctionmustbecalledwith orwiththe server user password  get xml rpc auth ' '.join [user password image pool server auth -2 -1 -1 [1]images {}for image in  get xml image pool images 'NAME' .text]  xml to dict image return images 
def extract tokens l known tokens assert l ' ' and l -1 ].strip ' ' Value Error l result {}result has key result keyresult known tokens i 0l len len l while i < l len if result has key l token l + 1if i < l len if result has key l result elif l ' ' i + 1start iwhile i < l len and l ! ' ' i + 1result[token] tuple filter lambda v v ! '$' l i i + 1else result l i + 1else i + 1return result 
def  orbits transversals from bsgs base strong gens distr transversals only False from sympy groups import  orbit transversalbase len len base degree strong gens distr [one * base len if transversals only is False basic orbits [one * base len for i in range base len transversals dict  orbit transversal degree strong gens distr base pairs True if transversals only is False basic orbits list transversals if transversals only return transversalselse return basic orbits transversals 
def lxml trace data html True **kwargs from lxml import etreefor event element in etree String I O data html html **kwargs print '%s %4s %s' % event element element 
def test ncr sample wt fit ncr Neighbourhood Cleaning Rule random state RND SEED assert raises Runtime Error ncr X Y
def generate scale free graph steps growth num self loops False multi edges False graph Graph Graph store []for i in range growth num for j in range i + 1 growth num store i store j graph edge i j for node in range growth num steps * growth num graph node node while graph degree node < growth num nbr random store if node nbr and not self loops continueif graph by node node nbr and not multi edges continuegraph edge node nbr for nbr in graph nbrs node store node store nbr return graph 
def get Document Node file Name xml Text get File Text 'test.xml' return Document Node file Name xml Text 
def is path hidden filepath name os os filepath if isinstance name bytes is dotted name '.' else is dotted name u return is dotted or  has hidden attribute filepath 
def find cover image container strict False ver container version parsedif ver < 3 return find cover image2 container strict strict else return find cover image3 container 
@contextfunctiondef modules header block context request context modules active  get modules request for module in modules module _ module response format 'html'if 'response format in context response format context format Markup render to string 'core/tags/modules header block {'modules' modules 'active' active 'request' request response format response format 
def build simple tree node Tree Node 1 node Tree Node 2 node Tree Node 3 node Tree Node 4 node Tree Node 5 return node 
def format payload enc **kwargs payload {'enc' enc {}for key in kwargs load kwargs loadreturn package payload 
def run  task 
def get validation schema models default namespace None if default namespace is None default namespace models namespace fake app Fake Application fake app default namespacefake app []interface Interface fake app for m in models m namespace m default namespace interface class m schema Xml Schema interface schema validation schema return schema schema 
def generate token length 20 chars UNICODE ASCII CHARACTER SET return u choice chars for x in range length 
def raise if custom resource class pre v1 1 rc if isinstance rc six types if rc not in fields Resource Class V1 0 raise Value Errorelse try fields Resource Class V1 0[rc]except Index Error raise Value Error 
def libvlc media library media list p mlib f  Cfunctions 'libvlc media library media list None or  Cfunction 'libvlc media library media list 1 class result Media List ctypes void p Media Library return f p mlib 
def get Centers From Intersection Loop circle Intersection Loop radius loop []for circle Intersection in circle Intersection Loop loop circle Intersection Node Ahead * radius return loop 
def capitalize string input string if input string return input string + input string ] else return input string 
def bulk disable workers lbn profile 'default' ret {}if isinstance workers str workers workers ' ' for worker in workers try ret worker disable worker lbn profile except Exception ret Falsereturn ret 
def namespaces return  D B 
def  fprime ieqcons x full k params I np k params A np I I axis 1 B np - I I axis 1 C np A B axis 0 return C
def  fileobj to fd fileobj if isinstance fileobj six types fd fileobjelse try fd int fileobj except Attribute Error Type Error Value Error raise Value Error 'nvalidfileobject {0!r}'.format fileobj if fd < 0 raise Value Error 'nvalidfiledescriptor {0}'.format fd return fd 
def update Py Exec bindir executable None bindir os bindir if executable is None executable sys os bindir 'fail2ban-python' isfile os os pypath if not isfile or os pypath ! os executable if isfile os pypath os executable pypath if bindir not in os P A T H os os P A T H os P A T H + os + bindir 
def run module name file if name '  main  ' nose argv [file '-vvs' '-x' '--pdb' '--pdb-failure'] exit False 
def controller scan directory None if directory is None return []def find controllers dirname prefix '' 'ocatecontrollersinadirectory []for fname in os dirname filename os dirname fname if os filename and re '^[^_]{1 1}.*\\.py$' fname controllers prefix + fname -3 ] elif os filename controllers find controllers filename prefix prefix + fname + '/' return controllersdef longest first fst lst 'omparethelengthofonestringtoanother shortestgoesfirst cmp len lst len fst controllers find controllers directory controllers longest first return controllers 
def Fix Keys entity proto app id def Fix Key mutable key mutable key app app id def Fix Property List property list for prop in property list prop value prop value if prop value referencevalue Fix Key prop value referencevalue elif prop entity pb Property E N T I T Y PROTO embedded entity proto entity pb Entity Proto try embedded entity proto Parse Partial From String prop value except Exception logging 'ailedtofix prop entity proto else Fix Keys embedded entity proto app id prop value stringvalue embedded entity proto Serialize Partial To String if entity proto key and entity proto .path .element size Fix Key entity proto key Fix Property List entity proto list Fix Property List entity proto property list 
def make amp agent options tests options type class Tests Test Case def set Up self super Tests self .p self options type self directory File Path self self directory self content yaml dump {u'control-service' {u'hostname' u u 4524} u 1} self self directory 'dataset-config.yml' self Content self content def test default config file self 'hedefaultconfigfileisa File Pathwithpath Options [] self Equal self File Path '/etc/flocker/agent.yml' def test custom config file self 'he Options ['--agent-config' '/etc/foo.yml'] self Equal self File Path '/etc/foo.yml' return Tests 
def is empty body return len body 1 and isinstance body astroid Pass 
def add File Handler path add Handler logging File Handler path 
def resolve connection connection None if connection is not None return patch connection connection connection get current connection if connection is None raise No Redis Connection Exception u Couldnotresolvea Redisconnection return connection 
def  create ecb cipher factory **kwargs cipher state factory create base cipher kwargs if kwargs raise Type Error 'nknownparametersfor E C B %s' % str kwargs return Ecb Mode cipher state 
def  api auth name output kwargs auth 'one not cfg key auth 'badkey'key kwargs 'key' '' if not key auth 'apikey'else if key cfg key auth 'nzbkey'if key cfg key auth 'apikey'elif cfg and cfg auth 'login'return report output keyword 'auth' data auth 
def euclidean distances X Y squared False inverse True if X is Y X Y np X else X np X Y np Y if X ! Y raise Value Error 'ncompatibledimensionfor Xand Ymatrices if squared return ssd X Y 'sqeuclidean' XY ssd X Y return np 1.0 1.0 + XY if inverse else XY
def  format msg msg std msg if msg is None msg std msgelse try msg '%s %s' % std msg msg except Unicode Decode Error msg '%s %s' %  safe str std msg  safe str msg return msg 
@require P O S T exemptdef unhelpful survey request vote get object or 404 Helpful Vote id smart int request P O S T 'vote id if not vote and not vote key 'survey' .exists survey request P O S T survey 'vote id survey 'button' vote metadata 'survey' truncated json dumps survey 1000 'comment' return Http Response json {'message' _ 'hanksformakingusbetter }
@blueprint.route '/resources/<resource>/meters/<meter>/volume/max' def compute max resource volume resource meter return  get statistics 'max' meter meter resource resource project acl limited to project flask 
def embed album log album maxwidth None quiet False compare threshold 0 ifempty False imagepath album not imagepath log u Noalbumartpresentfor album returnif not os syspath imagepath log u Albumartnotfoundat displayable path imagepath album returnif maxwidth imagepath resize image log imagepath maxwidth log u Embeddingalbumartinto album for item in album embed item log item imagepath maxwidth None compare threshold ifempty as album True 
def take n iterable return islice iterable n 
def complete rules rules cmd if not isinstance rules list rules [rules]ret []for r in rules ret + complete rule r cmd return ret 
def mesh edges tris if np tris > len np tris raise Value Error 'annotcomputeconnectivityonaselectionoftriangles npoints np tris + 1 ones ntris np 3 * len tris a b c tris Tx np a b c y np b c a edges coo matrix ones ntris x y shape npoints npoints edges edges edges edges + edges T return edges 
def div roundup a b return int a + int b - 1 // int b 
def shi i base ' B C D E F G H I J K L M N O P Q R S T U V W X Y Zabcdefghijklmnopqrstuvwxyz s []while i > 0 i r divmod i len base s base return ''.join reversed s 
def survey build Questionnaire From Template template id questions survey get All Questions For Template template id return build Questions Form questions read Only True 
def token to cms signed text copy of text signed text '-' '/' lines [ E G I N C M S + [copy of text n + 64 ] for n in range 0 len copy of text 64 ]lines.append ' N D C M S return '\n'.join lines 
def col create fid body url build url RESOURCE id fid route 'col' return request 'post' url json body 
def build absolute uri host url path None path path or '' if path 'http //' or path 'https //' return pathif host url '/' and path '/' path path ]return host url + path 
def get vnc port session min port C O N F portport total C O N F port totalallocated ports  get allocated vnc ports session max port min port + port total for port in range min port max port if port not in allocated ports return portraise exception Console Port Range Exhausted min port min port max port max port 
def ignore error error e type e value e tb errorreturn issubclass e type socket and e value in errno E C O N N R E S E T errno E P I P E 
def init mpstate return Cmdlong Module mpstate 
def inspect stack return {'co name inspect [1][3]}
def indicator return s3 rest controller 
def init handler resource event trigger agent None global TRUNK S K E L E T O Nmanager trunk manager Trunk Manager agent br handler ovsdb handler O V S D B Handler manager TRUNK SKELETON O V S Trunk Skeleton handler 
def get Description Carve lines description Carve 'hickness String get Setting String lines 'carve' 'ayer Height if layer Thickness String ! None description Carve + layer Thickness String '.' '' + 'h' edge Width String get Setting String lines 'carve' 'dge Widthover Height if edge Width String ! None description Carve + 'x%sw' % str float edge Width String * float layer Thickness String .replace '.' '' return description Carve 
def  adjust Logging Formatter if hasattr FORMATTER ' format returndef format record message FORMATTER. format record message boldify Message message if kb 'lag message '\n%s' % message kb Flag Falsereturn message F O R M A T T E R format F O R M A T T E R F O R M A T T E R format 
def regenerate certificates request course key statuses to regenerate task type 'regenerate certificates all student input {}task input {'statuses to regenerate statuses to regenerate task class generate certificatestask key ''instructor task submit task request task type task class course key task input task key Certificate Generation History course id course key generated by request instructor task instructor task is regeneration True return instructor task 
def p rule empty p p p [[]]
def get report data year quarter if ct check input year quarter is True ct write head df  get report data year quarter 1 pd Data Frame if df is not None df df lambda x str x .zfill 6 return df 
def  has required boto if not HAS BOTO return Falseelif Loose Version boto3  version   < Loose Version required boto3 version return Falseelse return True 
def apply overwrites to context context overwrite context for variable overwrite in overwrite context if variable not in context continuecontext value context isinstance context value list if overwrite in context value context value overwrite context value 0 overwrite else context overwrite 
@skipif not has qt def test line profile rgb plugin setup line profile data limits None for i in range 6 plugin tool thicken scan line line image scan data plugin assert equal line image line image 128 ].size 750 assert equal line image line image 255 ].size 151 assert equal line image 300 451 assert equal scan data 151 3 assert allclose scan data 0.772 rtol 0.001 assert allclose scan data 0.4359 rtol 0.001
def getglobalui global globaluireturn globalui 
def  loc to eeg loc loc if loc 6].any return np [loc[0 3] loc 6]] .else return loc 3][ np 
def capture responder args req resp resource params resource req reqresource resp respresource kwargs params 
def send translations translation dict if u  messages not in frappe frappe  messages {}frappe.local.response[u'  messages translation dict 
def get valid qos policy group info volume extra specs None info dict legacy None spec None try volume type get volume type from volume volume except Key Error L O G  LE 'annotget Qo Sspecforvolume volume return infoif volume type is None return infoif extra specs is None extra specs volume type 'extra specs {} info get legacy qos policy extra specs info get valid backend qos spec from volume type volume volume type msg 'o Spolicygroupinfoforvolume vol s % info s L O G msg {'vol' volume 'info' info check for invalid qos spec combination info volume type return info 
def get configured provider return config provider configured   opts     active provider name   or   virtualname   'user' 'password' 'url'
def first every last iterable first every last did first Falsefor item in iterable if not did first did first Truefirst item every item if did first last item 
def tstd dlldy y df return - df + 1 / df - 2.0 / 1 + y ** 2 / df - 2.0 * y 
def random unicode length 20 def get char return six random 32 1000 chars u [get char for ii in six length ] return  join chars chars length 
def get Tree Walker tree Type implementation None **kwargs tree Type tree Type if tree Type not in tree Walker Cache if tree Type u from . import domtree Walker Cache Type dom Tree Walkerelif tree Type u from . import genshitree Walker Cache Type genshi Tree Walkerelif tree Type u from . import etree lxmltree Walker Cache Type etree lxml Tree Walkerelif tree Type u from . import etreeif implementation is None implementation default etreereturn etree E Tree Module implementation **kwargs .ree Walkerreturn tree Walker Cache tree Type 
@pytest.fixture scope 'module' params ['cpu'] def backend cpu request be get backend request datatype np def cleanup be request 'backend cpu del berequest cleanup return be 
def test feature fr from string lang Language 'fr' feature Feature string OUTLINED FEATURE language lang assert equals feature u Faireplusieurchosesenm assert equals feature u Defa Entantquefain J scenario feature equals scenario 'jouter2nombres assert equals scenario [{u'input 1' u u 2' u u u u u {u'input 1' u u 2' u u u u u {u'input 1' u u 2' u u u u u 
def in6 isaddrllallservers str return inet pton socket A F INET6 'ff02 2' inet pton socket A F INET6 str 
def  is url naive urlstr url qurl from user input urlstr assert url Valid if not utils Value Error ipaddress address urlstr return Trueif not Q Host Address urlstr .ull return Falsehost url return '.' in host and not host '.'
def get Round value return round value 
def update viewer dataset pv vis batch rows cols mapback hasattr dataset 'mapback for viewer display batch dataset for viewer vis batch if display batch 2 display batch dataset topological view display batch if mapback mapped batch get mapped batch dataset vis batch for i in xrange rows row start cols * i for j in xrange cols pv patch display batch row start + j ] rescale False if mapback pv patch mapped batch row start + j ] rescale False 
def libvlc media library new p instance f  Cfunctions 'libvlc media library new None or  Cfunction 'libvlc media library new 1 class result Media Library ctypes void p Instance return f p instance 
def get access flags string value buff ''for i in ACCESS FLAGS if i & value i buff + i + '' if buff ! '' return buff -1 ]return buff 
def  gluster xml cmd if  get minor version < 6 result   salt  ['cmd.run'] 'script-q-c"gluster--xml--mode script stdin '{0}\n\x04'.format cmd else result   salt  ['cmd.run'] 'gluster--xml--mode script stdin '{0}\n'.format cmd try root E T  gluster output cleanup result except E T Parse Error raise Command Execution Error '\n'.join result [ -1 ] if  gluster ok root output root 'output' if output is not None log 'lustercall {1}'.format cmd root 'output' .text else log 'lustercall cmd else log 'ailedglustercall {0} {1}'.format cmd root 'rrstr .text return root 
def pprint dict in order dictionary order None order order or def prettyprint title body print info '\n{} '.format title if not isinstance body str for value element in value print info '-' value element else print info value keys dictionary for element in order try key keys keys element value dictionary Key Error Value Error passelse prettyprint element value for rest keys in keys prettyprint rest keys dictionary keys 
def Max Pool Undo images targets grad maxes subs X start X stride X outputs X assert targets images  Conv Net Max Pool Undo images mat grad mat maxes mat targets mat subs X start X stride X outputs X 
def files exist comma sep fps filenames comma sep fps ' ' for file in filenames if not exists file return Falsereturn True 
@register.filter name 'unix to datetime def unix to datetime unixtime return datetime unixtime 
def run Module Test Suite module suite Test Suite [est Loader .ests From Module module ] optionflags ELLIPSIS | NORMALIZE WHITESPACE | REPORT ONLY FIRST FAILURE | IGNORE EXCEPTION DETAIL try suite Test Doc Test Suite module optionflags optionflags except Value Error pass Text Test Runner .run suite 
def Pmf Prob Equal pmf1 pmf2 total 0.0for v1 p1 in pmf1 Items for v2 p2 in pmf2 Items if v1 v2 total + p1 * p2 return total 
def get zk locations string zk location ips return ' ' + str zk D E F A U L T PORT + ' ' .join zk location ips + ' ' + str zk D E F A U L T PORT
def node boundary G nbunch1 nbunch2 None nset1 {n for n in nbunch1 if n in G }bdy set chain iterable G for v in nset1 - nset1 if nbunch2 is not None bdy & set nbunch2 return bdy 
@pytest.mark.skipif u H A S SCIPY' def test fit with fixed and bound constraints m models Gaussian1 D amplitude 3 mean 4 stddev 1 bounds {u'mean' 4 5 } fixed {u'amplitude' True x np 0 10 10 y np - x ** 2 / 2 f fitting Lev Mar L S Q Fitter fitted 1 f m x y assert fitted 1.mean > 4 assert fitted 1.mean < 5 assert fitted 1.amplitude 3.0 m Falsefitted 2 f m x y assert fitted 1.mean > 4 assert fitted 1.mean < 5
def allowed formats if gprefs add everything allowed All Allowed else allowed AUTO ADDED - frozenset gprefs auto formats return allowed 
def is field error errors if isinstance errors list tuple for e in errors if isinstance e string types return Truereturn False 
def dict match d key default None if key in d and '[' not in key return d for pattern value in iteritems d if fnmatchcase key pattern return valuereturn default 
def get sync num KEY datetime cache KEY 1 return cache KEY
def length value try return len value except Value Error Type Error return ''
@decorator.decoratordef convert masks to RGB f clip *a **k if clip clip clip RGB return f clip *a **k
def is all white line return re '^\\s*$' line is not None 
def generate certificates for students request course key student set None specific student id None if student set task type 'generate certificates student set input {'student set student set student set 'specific student task type 'generate certificates certain student specific student id is None raise Specific Student Id Missing Error 'ttemptedtogeneratecertificateforasinglestudent butnospecificstudentidprovided task input {'specific student id specific student id else task type 'generate certificates all student input {}task class generate certificatestask key ''instructor task submit task request task type task class course key task input task key Certificate Generation History course id course key generated by request instructor task instructor task is regeneration False return instructor task 
def next monday dt if dt 5 return dt + timedelta 2 elif dt 6 return dt + timedelta 1 return dt 
def generate Accept Header *elements parts []for element in elements if type element is str qs '1.0'mtype elementelse mtype q elementq float q if q > 1 or q < 0 raise Value Error 'nvalidpreferencefactor %r' % q qs '%0.1f' % q parts qs mtype parts chunks []for q mtype in parts if q '1.0' chunks mtype else chunks '%s;q %s' % mtype q return ' '.join chunks 
def  Check For Removed Contacts Reset tester user id validator tester validator Run Async Notification Range Query validator user id range desc None limit 1 col names None scan forward False invalidate json notifications removed contacts reset 'contacts' in invalidate and 'all' in invalidate and invalidate return removed contacts reset 
def recommend username users nearest compute Nearest Neighbor username users [0][1]recommendations [atings users Ratings users artist in neighbor Ratings if not artist in user Ratings recommendations artist neighbor Ratings return sorted recommendations key lambda artist Tuple artist Tuple reverse True 
def notify about instance usage context instance event suffix network info None system metadata None extra usage info None host None if not host host C O N F not extra usage info extra usage info {}usage info notifications from instance context instance network info system metadata **extra usage info notifier api context 'compute.%s' % host 'compute.instance.%s' % event suffix notifier api I N F O usage info 
def is datetime arraylike arr if isinstance arr A B C Datetime Index return Trueelif isinstance arr np A B C Series return arr object and lib dtype arr 'datetime' return getattr arr 'inferred type None 'datetime'
def Bytes Sizer field number is repeated is packed tag size  Tag Size field number local Varint Size  Varint Sizelocal len lenassert not is packed if is repeated def Repeated Field Size value result tag size * len value for element in value l local len element result + local Varint Size l + l return resultreturn Repeated Field Sizeelse def Field Size value l local len value return tag size + local Varint Size l + l return Field Size 
def prlsrvctl sub cmd args None runas None cmd ['prlsrvctl' sub cmd args cmd  normalize args args return   salt  ['cmd.run'] cmd runas runas 
def describe domain domain def clip attrs items s return clipped list [a.name for a in items 1000 total min 10 total ' total {{}}{} '.format s return Ordered Dict [ 'eatures clip attrs domain 'features' 'etaattributes bool domain and clip attrs domain 'metaattributes' 'arget bool domain vars and clip attrs domain vars 'targetsvariables' ]
def init ipython session argv [] auto symbols False auto int to Integer False import I Pythonif V I Python  version   > '0.11' if V I Python  version   > '1.0' from I Python import ipappelse from I Python import ipappapp ipapp Terminal I Python App app banner Falseapp argv if auto symbols readline import module 'readline' if readline enable automatic symbols app if auto int to Integer enable automatic int sympification app return app from I Python Shell import make I Pythonreturn make I Python argv 
def generate instance table fieldname if table instance T A G table else instance T A G return instance 
@hook.command 'tell' def tell cmd text nick db notice conn query text '' 1 if len query ! 2 notice conn 'command prefix + tell cmd  doc   returntarget query message query sender nickif target sender notice 'aveyoulookedinamirrorlately returnif target conn notice "nvalidnick target returnif not re '^[a-z0-9 |.\\-\\]\\[]*$' target notice "nvalidnick target returnif count unread db conn target > 10 notice 'orry {}hastoomanymessagesqueuedalready.'.format target returnadd tell db conn sender target message notice 'ourmessagehasbeensaved and target 
def  soft validate additional properties validator additional properties value instance schema if not validator type instance 'object' or additional properties value returnproperties schema 'properties' {} patterns '|'.join schema 'roperties {} extra properties set for prop in instance if prop not in properties if patterns if not re patterns prop extra properties prop else extra properties prop if not extra properties returnif patterns error 'dditionalpropertiesarenotallowed %s%sunexpected 'if len extra properties 1 verb 'was'else verb 'were' yield jsonschema exc Validation Error error % ' '.join repr extra for extra in extra properties verb else for prop in extra properties del instance 
def flavor list request try return api list request except Exception exceptions request _ 'nabletoretrieveinstanceflavors return []
def is macports env env prefix get macports prefix if env prefix and base prefix env prefix return Truereturn False 
def is super node if getattr node 'name' None 'super' and node .name BUILTINS NAME return Truereturn False 
def version number parser xml parent data version number X M L Sub Element xml parent 'ersion Number Builder mapping [ 'variable-name' 'ariable Name None 'format-string' 'umber String None 'skip-failed-builds' 'ailed Builds False 'display-name' 's Build Display Name False 'start-date' 'tart Date '1970-1-100 00 00.0UTC' 'builds-today' 'uilds Today '-1' 'builds-this-month' 'uilds This Month '-1' 'builds-this-year' 'uilds This Year '-1' 'builds-all-time' 'uilds All Time '-1' ]convert mapping to xml version number data mapping fail required True 
def  msg controller message if isinstance controller stem Control Socket controller message return controller else return controller message 
def logger name from path path return  name from project path path None  LOGGER TEMPLATE
def dfs postorder nodes G source None post v for u v d in nx labeled edges G source source if d 'reverse' return post 
def match to source source *translations first Truebest crc Nonefor translation in translations if translation is None continueif translation replacement current string number replace source translation current source number replace source translation current crc crc current source elif '{num}' in translation print u Warning {num}appearsin%s butnotmarkedfornumberreplacement Discarding % translation continueelse current string translation source translation crc translation crcif translation match Falseelif translation match Trueelif current source match source current source else match current crc crc source if first or match best string current stringbest crc current crcif match breakfirst Falseif best crc return source best crc best string match else return source None None None 
def is legal resource name name if name is None return Falsem RESOURCE NAME LEGAL CHARS P name return m is not None and m 0 name and not '//' in name 
def angle axis matrix m np matrix if m -2 ] ! 3 3 raise Value Error 'matrixisnot3x3' axis np m -1 ] axis 0] m 2 1] - m 1 2] axis 1] m 0 2] - m 2 0] axis 2] m 1 0] - m 0 1] r np axis * axis .sum -1 keepdims True angle np r 0] m 0 0] + m 1 1] + m 2 2] - 1.0 return Angle angle u - axis / r 
def STOCHF bar Ds count fastk period - 2 ** 31 fastd period - 2 ** 31 fastd matype 0 ret call talib with hlc bar Ds count talib S T O C H F fastk period fastd period fastd matype if ret is None ret None None return ret 
def  get modulestore branch setting def get branch setting 'indsandreturnsthebranchsettingbasedonthe Djangorequestandtheconfigurationsettings Nonehostname get current request hostname if hostname mappings getattr settings 'HOSTNAME MODULESTORE DEFAULT MAPPINGS' None if mappings for key in mappings if re key hostname return mappings branch is None branch getattr settings 'MODULESTORE BRANCH' None return branchreturn get branch setting 
def  bool from json value field if  not null value field return value in ['t' 'true' '1']
def  mostfunc lhs func X None fterms [tmp for tmp in lhs func if not X or X Symbol and X in tmp symbols or not X Symbol and tmp X ]if len fterms 1 return fterms fterms return max list ordered fterms key lambda x x func return None 
def isend var dest tag return M P I Send dest tag var 
def  toset thing if thing is None return set if isinstance thing six types return set thing try return set str x for x in thing except Type Error return set str thing 
def tidy fragment text options None keep doc False document errors tidy document text options keep doc match RE B O D Y document if match document match 1 .strip return document errors else raise Value Error 'tidy fragmentfailedtoprocesstext 
def circle perimeter aa r c radius shape None return  circle perimeter aa r c radius shape 
def is my process pid pid existence pid exists pid if not psutil or not pid existence return pid existenceif Platform windows return Trueelse try command psutil Process pid .cmdline or [] except psutil Error return Falseexec name os inspect [ -1 ][1] .lower return len command > 1 and exec name in command 
def install os name **kwargs ret {'name' name 'changes' {} 'result' True 'comment' ''}ret['changes']   salt  ['junos.install os name **kwargs return ret 
def has vary header response header query if not response header u Vary return Falsevary headers cc delim re response Vary existing headers set [header.lower for header in vary headers return header query in existing headers 
def create tree base dir files mode 511 verbose 1 dry run 0 need dir {}for file in files need dir base dir os file ] 1need dirs need dir need dirs for dir in need dirs mkpath dir mode verbose verbose dry run dry run 
def parse options header value def  tokenize string for match in  option header piece re string key value match key unquote header value key if value is not None value unquote header value value key 'filename' yield key value if not value return '' {} parts  tokenize ';' + value name parts [0]extra dict parts return name extra 
def maybe download filename work directory if not os work directory os work directory filepath os work directory filename if not os filepath filepath _ urllib SOURCE URL + filename filepath statinfo os filepath print 'uccesfullydownloaded filename statinfo size 'bytes.' return filepath 
def make overload method template typ attr overload func return make overload attribute template typ attr overload func base  Overload Method Template 
def match template filename project filename ext os os filename [1][1 ]if ext in project tool extensions if ext not in project tool extensions return Trueelif not find lang postfix project filename return Truereturn False 
def neuralnet cls Neural Net Base  name  ] clsreturn cls 
def get default yarncluster global MR NAME C A C H Etry return conf Y A R N CLUSTERS[MR NAME C A C H E Key Error return get yarn 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def snmp get oid a device oid '.1.3.6.1.2.1.1.1.0' display errors False a host community string snmp port a devicesnmp target a host snmp port cmd gen cmdgen Command Generator error detected error status error index snmp data cmd gen Cmd cmdgen Community Data community string cmdgen Udp Transport Target snmp target oid lookup Names True lookup Values True if not error detected return snmp dataelse if display errors print 'ERRORDETECTED ' print '%-16s%-60s' % 'error message error detected print '%-16s%-60s' % 'error status error status print '%-16s%-60s' % 'error index error index return None 
def register stanza plugin stanza plugin iterable False overrides False tag u % plugin plugin plugin info u attrib map u tag map u iterables u overrides for attr in plugin info info getattr stanza attr setattr stanza attr info stanza attrib map attrib pluginstanza tag map pluginif iterable stanza iterables plugin if plugin multi attrib multiplugin multifactory plugin plugin multi attrib register stanza plugin stanza multiplugin if overrides for interface in plugin stanza overrides plugin attrib 
def get violations reports violations type violations files []for subdir  dirs files in os os Env R E P O R T DIR for f in files if f '{violations type violations type violations type violations files os subdir f return violations files 
def to bytestring tuple *x return tuple imap to bytestring x 
def python major result sys info result 
def get notifier publisher id return N O T I F I E R publisher id publisher id 
def divide to width desired chunks max width chunks []for c in desired chunks nb divides int np c / max width for i in range nb divides n c // nb divides - i chunks n c - nassert c 0 return tuple chunks 
def emit options options return ' '.join '%s %s' % k v for k v in options 
def toplevel wrapper *args **kwargs return ndb *args **kwargs
def libvlc media list event manager p ml f  Cfunctions 'libvlc media list event manager None or  Cfunction 'libvlc media list event manager 1 class result Event Manager ctypes void p Media List return f p ml 
def tb lineno tb return tb lineno 
def initialize db db 
def homogeneity score labels true labels pred return homogeneity completeness v measure labels true labels pred [0]
def p definition type p p p 
def mkfs os type fs label target run as root True specified fs None mkfs command  MKFS C O M M A N D os type  DEFAULT MKFS COMMAND or '' % {'fs label fs label 'target' target if mkfs command utils run as root run as root *mkfs command else if not specified fs specified fs C O N F ephemeral formatif not specified fs specified fs  DEFAULT FS BY O S T Y P E os type  DEFAULT FILE SYSTEM utils specified fs target fs label run as root run as root 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def  timeitlike time format time seconds precision 3 usec time seconds * 1000000.0 if usec < 1000 return '%.*gusec' % precision usec else msec usec / 1000 if msec < 1000 return '%.*gmsec' % precision msec else sec msec / 1000 return '%.*gsec' % precision sec 
def worker get all context until None db filters None **filters return I M P L get all context until until db filters db filters **filters
def prefix handlers default None error 'herequestedprefixdoesnotmatchanyofthoseallowed def output type data request response path request defaultfor prefix test prefix handler in handlers if path prefix test handler prefix handlerbreakif not handler raise falcon H T T P Not Acceptable error response type handler typereturn handler data request request response response output type  doc   'upportsanyofthefollowingformats {0}'.format ' '.join function  doc   for function in handlers output type type ' '.join handlers return output type 
def dmp diff f m u K if not u return dup diff f m K if m < 0 return fn dmp degree f u if n < m return dmp zero u deriv v [] u - 1 if m 1 for coeff in f - m ] deriv dmp mul ground coeff K n v K n - 1else for coeff in f - m ] k nfor i in range n - 1 n - m -1 k * ideriv dmp mul ground coeff K k v K n - 1return dmp strip deriv u 
def  check precision matrix precision covariance type if not np precision precision T and np linalg precision > 0.0 raise Value Error "'%sprecision'shouldbesymmetric positive % covariance type 
def update server info repo repo put named file os 'info' 'refs' ''.join generate info refs repo repo put named file os 'objects' 'info' 'packs' ''.join generate objects info packs repo 
def find Around pic pat xy None r None if xy and r h w pat 2] x y xypic pic y - r y + h + r x - r x + w + r ]matches cv2 Template pat pic cv2 T M CCOEFF NORMED yf xf np index matches matches return x - r + xf y - r + yf if xy and r else xf yf 
def  iexp x M L 8 R  nbits x << L // M T - int -10 * len str M // 3 * L y  div nearest x T Mshift M << R for i in range T - 1 0 -1 y  div nearest x * Mshift + y Mshift * i for k in range R - 1 -1 -1 Mshift M << k + 2 y  div nearest y * y + Mshift Mshift return M + y 
def technical 500 response request exc type exc value tb reporter Exception Reporter request exc type exc value tb html reporter traceback html return Http Response Server Error html mimetype 'text/html'
@then u def then it should fail because context reason assert False 'FAILED %s' % reason 
def get default group type name C O N F group typegrp type {}if name is not None ctxt context admin context try grp type get group type by name ctxt name except exception Group Type Not Found By Name L O G  LE 'efaultgrouptypeisnotfound Pleasecheckdefault group typeconfig return grp type 
def do send confirmation email invitee referrer subject template path 'confirmation/invite email subject template path 'confirmation/invite email body {'referrer' referrer 'support email settings Z U L I P ADMINISTRATOR 'verbose support offers settings V E R B O S E SUPPORT O F F E R S referrer zephyr mirror realm subject template path 'confirmation/mituser invite email subject template path 'confirmation/mituser invite email body Confirmation confirmation invitee invitee additional context context subject template path subject template path body template path body template path host referrer 
def add deprecated argument add argument argument name nargs class Show Warning argparse Action 'ctiontologawarningwhenanargumentisused   call   self unused1 unused2 unused3 option string None sys 'seof option string configargparse A C T I O N TYPES THAT DONT NEED A V A L U E Show Warning add argument argument name action Show Warning help argparse S U P P R E S S nargs nargs 
def get mandlebrot escape values width height x vals np -3 2 width y vals np -1.5 1.5 height grid np x vals y vals v get num escape turns np get num escape turns return v get num escape turns *grid .astype np 
def proxy info from environment method 'http' if method not in ['http' 'https'] returnenv var method + ' proxy url os env var os env var if not url returnpi proxy info from url url method no proxy os 'no proxy os 'NO PROXY' '' bypass hosts []if no proxy bypass hosts no proxy ' ' if no proxy '*' bypass hosts All Hostspi hosts bypass hostsreturn pi 
def group type access remove context type id project id return I M P L type access remove context type id project id 
def npz to W pdf path None regx 'w1pre [0-9]+\\. npz ' file list load file list path path regx regx for f in file list W load npz path f [0]print '%s-->%s' % f f '.' [0] + '.pdf' visualize W W second 10 saveable True name f '.' [0] fig idx 2012
def loop template list loop positions instance instance type default template registery {} templates []local loop position loop positions loop position loop positions string slugify str instance for key in [ '%s-%s' % instance type instance string instance string instance type 'default'] try templates registery loop position except Key Error passtemplates append position default template global loop position '-' templates append position default template local loop position '_' templates default template return templates 
def load entry point dist group name return get distribution dist .load entry point group name 
def http response iterator conn response size chunk response size while chunk yield chunk chunk response size conn 
def activity type exists activity type if activity type in object id validators return activity typeelse raise Invalid '%s %s' % _ 'otfound _ 'ctivitytype 
def Authenticate opener host user pwd otp entry request dict {'username' user 'password' pwd 'otp' otp entry  Make Request host '/otp' request dict return  Handle Response 'authentication' opener req 
def get base type name return Py Object get base type name 
def environment return   proxy  ['napalm.call'] 'get environment **{}
def shape x return tf x 
def  extract future flags globs flags 0for fname in   future  .all feature names feature globs fname None if feature is getattr   future   fname flags | feature flagreturn flags 
def is B P F Socket obj return isinstance obj L2bpf Listen Socket or isinstance obj L2bpf Listen Socket or isinstance obj L3bpf Socket 
def csort objs key idxs dict obj i for i obj in enumerate objs return sorted objs key lambda obj key obj idxs 
def row name None dtype None if dtype is None dtype config Xtype Tensor Type dtype True False return type name 
def test list add a Hy List [1 2 3] b Hy List [3 4 5] c a + b assert c [1 2 3 3 4 5] assert c  class   Hy List 
def  property resolver arg try float arg except Value Error return Variable arg .resolveelse return itemgetter arg 
def cache disk seconds 86400 * 5 cache folder '/tmp' def do cache function def inner function *args **kwargs 'alculateacachekeybasedonthedecoratedmethodsignature wehashondomain sha1 str args + str kwargs .encode 'utf-8' .hexdigest filepath os cache folder key if os filepath modified os filepath age seconds time - modified if age seconds < seconds return pickle open filepath 'rb' result function *args **kwargs pickle result open filepath 'wb' return resultreturn inner functionreturn do cache 
def get results dir list pid core dir basename pid dir dict {}for debugdir file in glob '/tmp/autotest results dir a pid os debugdir file [1]results dir open debugdir file .read .strip pid dir dict pid os results dir core dir basename results dir list []if pid is not None while pid > 1 if pid in pid dir dict results dir list pid dir dict pid get parent pid pid else results dir list pid dir dict return results dir list or pid dir dict or [os.path.join '/tmp' core dir basename ]
def  format counters counters indent ' DCTB ' num counters sum len counter to amount for group counter to amount in counters message 'ounters %d' % num counters for group group counters in sorted counters if group counters message + '\n%s%s' % indent group for counter amount in sorted group counters message + '\n%s%s%s %d' % indent indent counter amount return message 
def enforce credentials action target do raise True init extra {}if do raise extra exc exception Forbidden Action action action do raise do raise return  E N F O R C E R action target credentials **extra
def repeat elements x rep axis x shape x shape .as list try splits tf value x num or size splits x shape axis axis except Type Error splits tf value x num split x shape split dim axis x rep [s for s in splits for i in range rep ]return concatenate x rep axis 
def running service owners exclude '/dev' '/home' '/media' '/proc' '/run' '/sys/' '/tmp' '/var' error {}if 'pkg.owner' not in   salt   error Unsupported Package Manager 'hemoduleforthepackagemanageronthissystemdoesnotsupportlookingupwhichpackage s ownswhichfile s 'if 'file.open files not in   salt   error Unsupported File Module 'hefilemoduleonthissystemdoesnotsupportlookingupopenfilesonthesystem error return {rror error {}open files   salt  ['file.open files execs   salt  ['service.execs'] for path in open files ignore Falsefor bad dir in exclude if path bad dir ignore Trueif ignore continueif not os path os X OK continuefor service in execs if path execs pkg   salt  ['pkg.owner'] path ret next six pkg return ret 
def render s context None if context is None context {}t get env .from string s return t context 
def notify retweet t source t at t at user cycle color source + color func c N O T I F I C A T I O N nick '@' + source name notify color func c N O T I F I C A T I O N 'retweetedyourtweet' date parser created at clock fallback humanize date clock color func c N O T I F I C A T I O N clock meta c N O T I F Y F O R M A T source user meta '#source user meta notify meta '#notify' meta clock meta '#clock' meta emojize meta print Nicely '' print Nicely meta draw t t status noti True 
def  append literal scope text if len text 0 returnscope  Literal Text text 
def Get Registered Server Option clsid option Name key Name Root ' L S I D % str clsid str option Name return  get string key Name Root 
def  read header stream decoder strict False name len stream ushort name stream utf8 string name len required bool stream uchar data len stream ulong pos stream data decoder Element if strict and pos + data len ! stream raise pyamf Decode Error 'atareadfromstreamdoesnotmatchheaderlength return name required data 
@register.simple tag takes context True def simple tag without context parameter arg return 'xpectedresult 
def p plist p if len p > 3 p p p else p [p[1]]
def reset vo warnings from . import converters xmlutilfor module in converters exceptions tree xmlutil if hasattr module u  warningregistry  ' del module  warningregistry  
def generate tmp file name file name ext None directory '/tmp/' while True file name file name + '-' + time ' H M S + generate random string 4 if ext file name + '.' + ext file name os directory file name if not os file name breakreturn file name 
def  mark package install module base pkg spec try base pkg spec except dnf Marking Error module json msg 'opackage pkg spec 
def verify cypher key return gluechops cypher key key encrypt int 
def require super admin handler def test super admin self **kwargs 'hecksiftheuserisloggedinandisasuperadmin not self id self current user services login url self returnif not current user services current user super admin raise self Unauthorized User Exception '%sisnotasuperadminofthisapplication' self id return handler self **kwargs return test super admin 
def  coerce indexer dtype indexer categories l len categories if l <  int8 max return  ensure int8 indexer elif l <  int16 max return  ensure int16 indexer elif l <  int32 max return  ensure int32 indexer return  ensure int64 indexer 
def cmd param args if len args > 0 wildcard args wildcard '*'k sorted mestate for p in k if fnmatch str p .upper wildcard print '%-16.16s%f' % str p mestate 
def runs once func @wraps func def decorated *args **kwargs if not hasattr decorated 'return value decorated value func *args **kwargs return decorated valuedecorated  wrap as new func decorated return serial decorated 
def tree to stream entries write ord zero ord '0' bit mask 7for binsha mode name in entries mode str ''for i in xrange 6 mode str bchr mode >> i * 3 & bit mask + ord zero + mode str if byte ord mode str ord zero mode str mode str ]if isinstance name text type name name defenc write ''.join mode str '' name '\x00' binsha 
def str match arr pat case True flags 0 na np as indexer False if not case flags | re I G N O R E C A S Eregex re pat flags flags if not as indexer and regex > 0 warnings 'nfutureversionsofpandas matchwillchangetoalwaysreturnaboolindexer Future Warning stacklevel 3 if as indexer and regex > 0 warnings 'hispatternhasmatchgroups Toactuallygetthegroups usestr User Warning stacklevel 3 if not as indexer and regex > 0 dtype objectdef f x m regex x if m return m else return []else dtype boolf lambda x bool regex x return  na map f arr na dtype dtype 
def generate srt from sjson sjson subs speed output ''equal len len sjson subs len sjson subs len sjson subs if not equal len return outputsjson speed 1 generate subs speed 1 sjson subs for i in range len sjson speed 1['start'] item Sub Rip Item index i start Sub Rip Time milliseconds sjson speed 1['start'][i] end Sub Rip Time milliseconds sjson speed 1['end'][i] text sjson speed 1['text'][i] output + unicode item output + '\n'return output 
def get markup filter display name name get markup filter name return {'textile' u Textile 'markdown' u Markdown 'restructuredtext' u Structured Text name u H T M L 
def get user settings from username username user model user models User Settings Model by normalized username User Settings username username if user model is None return Noneelse return get user settings user model 
def wrap text width 70 **kwargs w Text Wrapper width width **kwargs return w text 
def hello3 return dict message 'ello World 
def map reduce inputs mapper reducer collector defaultdict list for input in inputs for key value in mapper input collector value return [output for key values in collector for output in reducer key values ]
def arrswapmid data assert len data % 2 0 ret [''] * len data ret 2] data 2]ret[0 2] data 2]return ret 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
@core helper 'h.get facet titleisdeprecatedin2 def get facet title name config title config 'search.facets.%s.title' % name if config title return config titlefacet titles {'organization' _ 'rganizations 'groups' _ 'roups 'tags' _ 'ags 'res format _ 'ormats 'license' _ 'icenses }return facet titles name name 
def get html section name datetime time '%a%b%d%y %H %M %S' return "<h1>{}<spanclass 'timestamp'>{}</h1>".format name datetime 
def get meth class inst obj if PY2 return obj selfelse return obj  self  
def permission check check def decorator cls cls permission staticmethod check return clsreturn decorator 
def wait lock lk fn dest wait timeout 0 if not os lk fn return Falseif not os dest time 1 if not os dest  unlock cache lk fn return Falsetimeout Noneif wait timeout timeout time + wait timeout s count 0s size os dest .st sizewhile True time 1 if not os lk fn return Falsesize os dest .st sizeif size s size s count + 1if s count > 3  unlock cache lk fn return Falseelse s size sizeif timeout if time > timeout raise Value Error 'imeout {0}s for lock {2} elapsed wait timeout dest lk fn return False 
def  generate Model2 num Categories alpha 0.25 init Prob numpy num Categories / num Categories def generate Peaked Probabilities last Idx num Categories num Categories alpha alpha probs numpy alpha [alpha] * num Categories probs Idx 0.0probs / probs return probsfirst Order dict for cat Idx in range num Categories key str [dx probs generate Peaked Probabilities cat Idx first Order probssecond Order dict for first Idx in range num Categories for second Idx in range num Categories key str [dx second Idx probs generate Peaked Probabilities second Idx second Order probsreturn init Prob first Order second Order None 
def get Connect Error e if isinstance e Exception args e args etry number string argsexcept Value Error return Connect Error string e if hasattr socket 'gaierror' and isinstance e socket klass Unknown Host Errorelse klass errno Mapping number Connect Error return klass number string 
def check if project can be transfered project new owner if project is None return {'can be updated False 'reason' ERROR PROJECT WITHOUT O W N E R project new owner return True None if project private current projects new owner projects is private True .count max projects new owner private projectserror project exceeded _ "oucan current memberships project max memberships new owner memberships private projectserror memberships exceeded _ 'hisprojectreachesyourcurrentlimitofmembershipsforprivateprojects else current projects new owner projects is private False .count max projects new owner public projectserror project exceeded _ "oucan current memberships project max memberships new owner memberships public projectserror memberships exceeded _ 'hisprojectreachesyourcurrentlimitofmembershipsforpublicprojects if max projects is not None and current projects > max projects return False error project exceeded if max memberships is not None and current memberships > max memberships return False error memberships exceeded return True None 
def  ch neighbor connectivity ch names neighbors if len ch names ! len neighbors raise Value Error '`ch names set neighbors set [c for d in neighbors for c in d rest set ch names - set neighbors if len rest > 0 raise Value Error 'omeofyourneighborsarenotpresentinthelistofchannelnames for neigh in neighbors if not isinstance neigh list and not all isinstance c string types for c in neigh raise Value Error '`neighbors`mustbealistoflistsofstr' ch connectivity np len ch names dtype bool for ii neigbs in enumerate neighbors ch connectivity ii [ch names i for i in neigbs ] Truech connectivity sparse matrix ch connectivity return ch connectivity 
def filename2pathlist path skipfirst False h pathl []while True h t os h if h '' and t '' breakif h '' and skipfirst continueif t ! '' l t l return l 
def convert Email Property model prop kwargs kwargs validators return get Text Field kwargs 
def solution return s3 rest controller 
def remove key kwargs None call None if call ! 'function' log 'hecreate keyfunctionmustbecalledwith return Falsetry result query method 'account' command 'keys/' + kwargs http method 'delete' except Key Error log '`id`argumentmustbespecified' return Falsereturn result 
def strand s1 s2 return ''.join map lambda x y chr ord x & ord y s1 s2 
def mkchi2 k return Select K Best chi2 k k 
def get ports and sgs context port ids if len port ids > MAX PORTS PER QUERY L O G 'umberofports pcount sexceedsthemaximumperquery maxp s Partitioningqueries {'pcount' len port ids 'maxp' MAX PORTS PER QUERY} return get ports and sgs context port ids MAX PORTS PER QUERY] + get ports and sgs context port ids M A X PORTS PER QUERY ] L O G 'get ports and sgs calledforport ids port ids if not port ids return []ports to sg ids get sg ids grouped by port context port ids return [make port dict with security groups port sec groups for port sec groups in six ports to sg ids ]
def sci im gci current im 
def  validate password password username if not isinstance password basestring raise Account Password Invalid u Passwordmustbeastring if len password < PASSWORD MIN LENGTH raise Account Password Invalid u Passwordmustbeatleast min PASSWORD MIN LENGTH if len password > PASSWORD MAX LENGTH raise Account Password Invalid u Passwordmustbeatmost max PASSWORD MAX LENGTH if password username raise Account Password Invalid u Passwordcannotbethesameastheusername 
def convert datetime obj if not PY2 and isinstance obj bytes bytearray obj obj 'ascii' m DATETIME R E obj if not m return convert date obj try groups list m groups -1 ]  convert second fraction groups -1 ] return datetime *[int x for x in groups except Value Error return convert date obj 
def  url collapse path path path parts path '/' head parts []for part in path parts -1 ] if part '..' head parts elif part and part ! '.' head parts part if path parts tail part path parts if tail part if tail part '..' head parts tail part ''elif tail part '.' tail part ''else tail part ''splitpath '/' + '/'.join head parts tail part collapsed path '/'.join splitpath return collapsed path 
def o tmpfile supported return all [linkat.available platform 'inux Loose Version platform > Loose Version '3.16' ]
def get Geometry Output Copy object object Class object  class  if object Class dict object Copy {}for key in object object Copy get Geometry Output Copy object return object Copyif object Class list object Copy []for value in object object Copy get Geometry Output Copy value return object Copyif object Class face Face or object Class Vector3 or object Class Vector3 Index return object return object 
def  level traverse root get children Q collections [root] while Q v Q yield v Q get children v 
def markdown unescape escaped text warnings u utils unescapeisdeprecated Pleaseusedjblets unescape Deprecation Warning return djblets markdown unescape escaped text 
def  Determine Must Split Annotation node if not  Contains Comments node if sum 1 for ch in node if pytree utils Node Name ch 'COMMA' < 2 returnif not isinstance node -1 ] pytree Leaf or node -1 ].value ! ' ' returnnum children len node index 0 Set Must Split On First Leaf node while index < num children - 1 child node isinstance child pytree Leaf and child ' ' next child node index + 1 ]if next child grammar token C O M M E N T index + 1if index > num children - 1 break Set Must Split On First Leaf node index + 1 ] index + 1
def display2classmethod display L display '->' return L[0] L[1]
def parse iscsi rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--ipaddr' dest 'ipaddr' action 'store' parser argument '--port' dest 'port' action 'store' parser argument '--target' dest 'target' action 'store' parser argument '--iface' dest 'iface' action 'store' parser argument '--user' dest 'user' action 'store' parser argument '--password' dest 'password' action 'store' parser argument '--reverse-user' dest 'reverse-user' action 'store' parser argument '--reverse-password' dest 'reverse-password' action 'store' args clean args vars parser args rules parser Nonereturn args 
def test uninstall rollback script data result script 'install' '-f' data links '--no-index' 'broken 0.1' assert script packages / 'broken.py' in result created list result created result2 script 'install' '-f' data links '--no-index' 'broken 0.2broken' expect error True assert result2 1 str result2 assert script 'python' '-c' 'importbroken;print broken V E R S I O N ' .stdout '0.1\n' assert all changes result after result2 [ script / 'build' ]
def Open Document Text Master doc Open Document 'application/vnd.oasis.opendocument.text-master' doc Text doc Element doc return doc 
def outf writer compat outfile encoding errors gzip compress False if compat P Y3 if gzip compress outf gzip outfile 'wt' encoding encoding errors errors else outf open outfile 'w' encoding encoding errors errors writer csv outf else if gzip compress outf gzip outfile 'wb' else outf open outfile 'wb' writer compat Unicode Writer outf encoding encoding errors errors return writer outf 
@pytest.mark.skipif str u H A S SCIPY' def test distances scipy from ...cosmology import W M A P5d Distance z 0.23 npt allclose d4 0.23 rtol 1e-08 d5 Distance z 0.23 cosmology WMAP5 npt allclose d5 z WMAP5 0.23 rtol 1e-08 d6 Distance z 0.23 cosmology WMAP5 unit u npt allclose d6 3.5417046898762366e+22
def test pretty json test data {'text' 'text'}assert hug format json test data .decode 'utf8' '{\n"text" "text"\n}'
def  calc uniform order statistic medians n v np n dtype np v -1 ] 0.5 ** 1.0 / n v 1 - v -1 ] i np 2 n v -1 ] i - 0.3175 / n + 0.365 return v 
def add Unit Type Conversion unit Label mapping Func if unit Label in  unit2 Pix Mappings msg 'heunittypelabel Psycho Py Value Error msg unit Label  unit2 Pix Mappings Label mapping Func 
def split at breaks array breaks axis 0 padded breaks concat [one breaks [one slices [slice i j for i j in sliding window 2 padded breaks ]preslice slice None * axis split array [array[ preslice + s ] for s in slices split array 
def processor for content model or slug exact page False content model Noneslug u isinstance content model or slug str  str try parts content model or slug u 1 content model apps model *parts except Type Error Value Error Lookup Error slug content model or slugelif issubclass content model or slug Page content model content model or slugelse raise Type Error u processor whichshouldbeamodelsubclassof Pageinclassorstringform app oravalidslug % content model or slug def decorator func parts func exact page if content model model name content model meta name processors name 0 parts else processors u %s' % slug ].insert 0 parts return funcreturn decorator 
def confusion matrix rater a rater b min rating None max rating None assert len rater a len rater b if min rating is None min rating min rater a + rater b if max rating is None max rating max rater a + rater b num ratings int max rating - min rating + 1 conf mat [[0 for i in range num ratings ] for j in range num ratings ]for a b in zip rater a rater b conf mat a - min rating ][ b - min rating ] + 1return conf mat 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def markdown text mode '' context '' raw False return gh text mode context raw 
def execute Pair Operations evaluators operation Level for negative Index in xrange 1 - len evaluators -1 evaluator Index negative Index + len evaluators evaluators Index Pair Operation evaluators evaluator Index operation Level 
def Generate Classpath File target list target dicts toplevel dir toplevel build out name gyp Ensure Dir Exists out name result E T Element 'classpath' def Add Elements kind paths rel paths set for path in paths if os path rel paths os path toplevel dir else rel paths path for path in sorted rel paths entry element E T Sub Element result 'classpathentry' entry element 'kind' kind entry element 'path' path Add Elements 'lib' Get Java Jars target list target dicts toplevel dir Add Elements 'src' Get Java Source Dirs target list target dicts toplevel dir Add Elements 'con' [ R E CONTAINER'] Add Elements 'output' [os.path.join toplevel build '.eclipse-java-build' ] E T Element Tree result .write out name 
def log rewrite string if params 'debug' logger string elif params 'off' or not params passelif params 'print' print string elif params 'info' logger string elif params 'warning' logger string elif params 'error' logger string elif params 'critical' logger string else logger string 
def set public lan lan id conn get conn datacenter id get datacenter id try lan conn lan datacenter id datacenter id lan id lan id if not lan conn lan datacenter id datacenter id lan id lan id public True return lan Exception lan conn lan datacenter id LAN public True name 'ublic L A N return lan 
def fix stride builder slice stride return builder slice stride 
def test grouping structure complete parser result convert complete parser groupings result isinstance groupings dict for name group in groupings assert 'command' in group assert 'contents' in group assert isinstance group list 
def run http prompt args bin path get http prompt path p subprocess Popen [bin path + args stdin PIPE stdout PIPE return p 
def is unique conn table field rows query conn " E L E C Tinformation schema column usage name F R O Minformation schema constraints N A T U R A L J O I Ninformation schema column usage W H E R Einformation schema constraints name % N Dinformation schema column usage name % N Dinformation schema constraints type ' N I Q U E table field name return rows and True or False 
def get progress string tag epoch minibatch nbatches cost time blockchar u max bar width 20bar width int float minibatch / nbatches * max bar width if isinstance cost np s u Epoch <3}[{}|{ <%s}|{ 4}/{ <4}batches {}costs { .2f}s]' % max bar width cost u {} '.format u '.join '{ .2f}'.format c for c in cost else s u Epoch <3}[{}|{ <%s}|{ 4}/{ <4}batches { .2f}cost { .2f}s]' % max bar width return s epoch tag blockchar * bar width minibatch nbatches cost time 
def  expand powers factors new factors []for factor in factors if isinstance factor Pow and isinstance factor Integer and factor > 0 for n in range factor new factors factor else new factors factor return new factors 
def random binomial shape p 0.0 dtype None seed None if dtype is None dtype floatx if seed is None seed np 10000000.0 return tf tf uniform shape dtype dtype seed seed < p tf shape dtype dtype tf shape dtype dtype 
def Process Url service url for proxy False if not isinstance url atom Url url atom url url server url Falseport 80if not server if hasattr service 'server' server service server serviceif not url and hasattr service 'ssl' ssl service hasattr service 'port' port service if url 'https' ssl Trueelif url 'http' ssl Falseif url port int url elif port 80 and ssl port 443return server port ssl url request uri 
def get standby timeout scheme None return  get powercfg minute values scheme 'SUB SLEEP' 'STANDBYIDLE' 'leepafter 
@audio video fxdef audio fadein clip duration def fading gf t gft gf t if np t factor min 1.0 * t / duration 1 factor np [factor factor else factor np 1.0 * t / duration 1 factor np [factor factor .return factor * gft return clip fading keep duration True 
def generate all example rst app input dir os app try plot gallery eval app gallery except Type Error plot gallery bool app gallery for dir path dir names file names in os input dir if 'build' in dir path os or 'auto examples in dir path os continueif 'examples' in dir names generate example rst os dir path 'examples' os dir path 'auto examples plot gallery plot gallery 
def get testdata *paths path os tests datadir *paths return open path 'rb' .read
@db api if session inactive def get quota usage by resource and tenant context resource tenant id lock for update False query db utils query context quota models Quota Usage query query by resource resource tenant id tenant id if lock for update query query lockmode 'update' result query if not result returnreturn Quota Usage Info result result id result use result 
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
def pooled standard deviation input variances return sqrt mean square [float i for i in input variances 
def list own t rel []next cursor -1 while next cursor ! 0 res t screen name g name cursor next cursor rel + res cursor res cursor rel print list rel else print Nicely light magenta 'ouownnolists '
def lstrips text remove return  strips 'l' text remove 
def  process info installed output out filter attrs ret {}name Noneattrs {}attr Nonefor line in salt out '\n' if line and line '' if filter attrs is None or attr in filter attrs line line if len attrs attrs + '\n'attrs[attr] + linecontinueline line if not line if name ret attrsname Noneattrs {}attr Nonecontinue key value line ' ' 1 value value attr  convert to standard attr key if attr 'name' name valueelif filter attrs is None or attr in filter attrs attrs valueif name ret attrsreturn ret 
def instance group members add context group uuid members set delete False return I M P L group members add context group uuid members set delete set delete 
def distributed server only handler def distributed server only wrapper fn *args **kwargs if settings C E N T R A L SERVER raise Http404 _ 'hispathisonlyavailableondistributedservers return handler *args **kwargs return distributed server only wrapper fn 
def add blank lines tree blanks before blanks between try before blanks before blanks between Key Error for elem in tree if len elem add blank lines elem blanks before blanks between else last elem Nonefor elem in tree tag elem last elem is not None and last elem ! tag if tag in before and last elem is not None e last elem [ -1 ]e.text e or '' + '\n' elif tag in between e last elem [ -1 ]e.text e or '' + '\n' if len elem add blank lines elem blanks before blanks between last elem elem 
def  istree obj return isinstance obj nltk Tree 
def get spectrogram from .utils import check versionif check version 'scipy' '0.16.0' from scipy import spectrogramelse spectrogram  spectrogramreturn spectrogram 
def check sampling sampling n if sampling is None sampling 1.0if operator Number Type sampling sampling Split Sampling n evaluation fraction sampling return sampling 
def load Movie the File movie Res Ref Qt Open Movie File the File 1 movie d1 d2 Qt New Movie From File movie Res Ref 0 Quick Time Movie Active return movie 
def get shortcut context name return C O N F 'shortcuts' '%s/%s' % context name 
def  indent text amount indentation amount * '' return indentation + '\n' + indentation .join text '\n'
def  zpool data grains if salt windows or 'proxyminion' in   opts   return {}if not salt 'zpool' return {}zpool grains {}for zpool in   salt  ['cmd.run'] ' size .splitlines zpool zpool zpool grains zpool len zpool grains < 1 return {}return {'zpool' zpool grains 
def release tidy doc if hasattr thread local doc 'doc' tidy Release thread local doc del thread local doc 
def user return dict form auth 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def del attribute instance key state dict  instance state instance instance dict instance state state dict 
@require P O S T requireddef watch locale request product None kwargs {'locale' request L A N G U A G E C O D E product is not None kwargs product Reviewable Revision In Locale Event request **kwargs statsd 'wiki.watches.locale' return Http Response 
def pyzmq version info return version info 
def json in content type [ntou 'application/json' ntou 'text/javascript' ] force True debug False processor json processor request cherrypy isinstance content type basestring content type [content type force if debug cherrypy 'emovingbodyprocessors % repr request 'TOOLS.JSON IN' request request proc cherrypy H T T P Error 415 'xpectedanentityofcontenttype % ' '.join content type for ct in content type if debug cherrypy 'ddingbodyprocessorfor % ct 'TOOLS.JSON IN' request processor 
def is Elliptic Curve kex Algorithm return  I Elliptic Curve Exchange Kex Algorithm By get Kex kex Algorithm 
def  Float Decoder local unpack struct Inner Decode buffer pos new pos pos + 4 float bytes buffer new pos float bytes in '\x7f\xff' and float bytes > '\x80' if float bytes 3] ! '\x00\x00\x80' return  NAN new pos if float bytes '\xff' return  NEG INF new pos return  POS INF new pos result local unpack '<f' float bytes [0]return result new pos return  Simple Decoder wire format W I R E T Y P E FIXED32 Inner Decode 
def pretty filesize file bytes for mod in [ u K B u M B u G B u T B u P B if file bytes < 1024.0 return u % file bytes mod file bytes / 1024.0
def  check cors origin origin allowed origins if isinstance allowed origins list if origin in allowed origins return originelif allowed origins '*' return allowed originselif allowed origins origin return allowed origins 
def test sobel h mask np 0 result filters h np size 10 10 np 10 10 bool assert np result 0
def get script name environ from google internal import settingsif settings F O R C E SCRIPT NAME is not None return force unicode settings F O R C E SCRIPT NAME script url environ 'SCRIPT URL' u if not script url script url environ 'REDIRECT URL' u if script url return force unicode script url - len environ 'PATH INFO' '' ] return force unicode environ 'SCRIPT NAME' u 
def get fallback config value section 'openstack' try return config section value except Config Parser No Option Error return False 
def generate token length 20 chars UNICODE ASCII CHARACTER SET return u choice chars for x in range length 
def report ports target ports ans unans sr IP dst target / TCP dport ports timeout 5 rep '\\begin{tabular}{|r|l|l|}\n\\hline\n'for s r in ans if not r ICMP if r 18 rep + r ' C P S A rep + '\\hline\n'for s r in ans if r ICMP rep + r ' C Perror I C M Ptype I C M P I C M P I P elif r ! 18 rep + r ' C P T C P T C P rep + '\\hline\n'for i in unans rep + i ' C P rep + '\\hline\n\\end{tabular}\n'return rep 
def  save method def save wrapper self *args **kwargs self  doc   method  doc  ret method self *args **kwargs self save tree return retreturn update wrapper save wrapper method 
def iterate structure structure iterations origin None structure numpy structure if iterations < 2 return structure ni iterations - 1 shape [ ii + ni * ii - 1 for ii in structure [ ni * structure // 2 for ii in range len shape ]slc [slice pos pos + structure None for ii in range len shape ]out numpy shape bool out structure ! 0 out binary dilation out structure iterations ni if origin is None return outelse origin  ni support normalize sequence origin structure origin [ iterations * o for o in origin out origin 
def get Until Dot text dot Index text '.' if dot Index < 0 return textreturn text dot Index 
def getitem iterable index default None try return iterable Index Error return default 
def ptb raw data data path None train path os data path 'ptb.train.txt' valid path os data path 'ptb.valid.txt' test path os data path 'ptb.test.txt' word to id  build vocab train path train data  file to word ids train path word to id valid data  file to word ids valid path word to id test data  file to word ids test path word to id vocabulary len word to id return train data valid data test data vocabulary 
def onlywhite line for c in line if c is not '' and c is not '' return c is '' return line 
def get path names return  SCHEME KEYS
def get field size name m field size re name return int m 1 if m else None 
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def  root leastsq func x0 args jac None col deriv 0 xtol 1.49012e-08 ftol 1.49012e-08 gtol 0.0 maxiter 0 eps 0.0 factor 100 diag None **unknown options  check unknown options unknown options x cov x info msg ier leastsq func x0 args args Dfun jac full output True col deriv col deriv xtol xtol ftol ftol gtol gtol maxfev maxiter epsfcn eps factor factor diag diag sol Optimize Result x x message msg status ier success ier in 1 2 3 4 cov x cov x fun info 'fvec' sol info return sol 
def cache result default size settings A V A T A R DEFAULT SIZE if not settings A V A T A R CACHE ENABLED def decorator func return funcreturn decoratordef decorator func def cached func user size None prefix func  name  cached funcs prefix key get cache key user size or default size prefix prefix result cache key if result is None result func user size or default size cache set key result return resultreturn cached funcreturn decorator 
def set location node lineno col offset def  fix node lineno col offset if 'lineno' in node attributes node linenoif 'col offset in node attributes node offset col offsetfor child in ast child nodes node  fix child lineno col offset  fix node lineno col offset return node 
def dict merge a b result dict **b for key value in a if isinstance value collections Mapping value dict merge value result key {} result valuereturn result 
def ensure user exists keystone user name password email tenant name check mode try user get user keystone user name except Key Error passelse return False user if check mode return True None tenant get tenant keystone tenant name user keystone name user name password password email email tenant id tenant return True user 
def salt api import salt systemd import salt salt Salt A P I sapi 
def  cast object x x  cast none x if isinstance x six types try return json x except return ast eval x else return x 
def  visible to nonstaff users descriptor return Visibility Error if descriptor to staff only else ACCESS GRANTED
def get keywords git refnames 'ormat %d$'git full 'ormat % {'refnames' git refnames 'full' git full keywords 
def mmwrite target a comment '' field None precision None symmetry None M M File .write target a comment field precision symmetry 
def use c pointer x threadstate savethread x + 1restorethread threadstate return x 
def is Rar File filename archive regex u ? ? ? ?!\\.part\\d+\\.rar$ . * \\. ? ? part0 ?rar $ 'if re archive regex filename return Truereturn False 
def pythonversion return {'pythonversion' list sys info }
def rec2gtk r formatd None rownum 0 autowin True if formatd is None formatd dict formats []for i name in enumerate r dt r formatd name if format is None format mlab dt mlab Format Obj format gtkformat factory format i formatd formatcolheaders r Sorted Strings Scrolled Window colheaders formatd for row in r scroll row row if autowin win gtk Window win default size 800 600 win scroll win all scroll winreturn scroll 
def routing Area Update Reject a Tp Pd pd 3 b Message Type mes Type 11 c Gmm Cause d Force To Standby And Spare Half Octets packet a / b / c / d return packet 
def cubic x ax abs asarray x res zeros like ax cond1 less ax 1 if cond1 ax1 ax 2.0 / 3 - 1.0 / 2 * ax1 ** 2 * 2 - ax1 cond2 ~ cond1 & less ax 2 if cond2 ax2 ax 1.0 / 6 * 2 - ax2 ** 3 return res 
def attribute attrib type def make decorator *args **kwargs return Custom Attribute Decorator attrib type *args **kwargs return make decorator 
def is enabled name current schedule   salt  ['schedule.list'] show all False return yaml False if name in current schedule return current schedule return {}
def get cluster id by name cluster list cluster name cluster [c for c in cluster list if c Name cluster name ][0]return cluster Uuid cluster Bucket 
def gather Text Nodes i Node dounescape 0 join With '' gathered []gathered append gathered [ode len slice > 0 c slice 0 if hasattr c 'alue and c Value is not None if dounescape val unescape c Value else val c Valuegathered append val slice 0] c Nodesreturn join With gathered 
def make parameter name excess keyword 0 excess positional 0 n pynodes n make object name name assert not excess keyword or not excess positional if excess keyword n keyword 1if excess positional n positional 1return n 
def get Extra Fill Loops loops radius greater Than Radius 1.4 * radius extra Fill Loops []centers intercircle Centers From Points intercircle Points From Loops loops greater Than Radius greater Than Radius for center in centers inset intercircle Simplified Inset From Clockwise Loop center radius if intercircle Large Same Direction inset center radius if euclidean Is In Filled Region loops euclidean Left Point inset inset extra Fill Loops inset return extra Fill Loops 
def boolean validator value context if value is missing or value is None return Falseif isinstance value bool return valueif value in ['true' 'yes' 't' 'y' '1'] return Truereturn False 
def samestat s1 s2 return s1 ino s2 ino and s1 dev s2 dev 
def get unicode from response r warnings 'nrequests3 get unicode from responsewillberemoved Formoreinformation pleaseseethediscussiononissue Thiswarningshouldonlyappearonce ' Deprecation Warning tried encodings []encoding get encoding from headers r if encoding try return str r encoding except Unicode Error tried encodings encoding try return str r encoding errors 'replace' except Type Error return r 
def inputhook glut signal signal S I G I N T glut int handler try t clock if glut Get Window 0 glut Set Window 1 glut Main Loop Event return 0while not stdin ready glut Main Loop Event used time clock - t if used time > 10.0 time 1.0 elif used time > 0.1 time 0.05 else time 0.001 except Keyboard Interrupt passreturn 0
def get ssh gateway config vm  ssh gateway config cloud config value 'ssh gateway vm    opts   default None search global False if not isinstance ssh gateway str return Nonessh gateway config {'ssh gateway ssh gateway gateway config gateway port config cloud config value 'ssh gateway port vm    opts   default None search global False ssh gateway config gateway user config cloud config value 'ssh gateway username vm    opts   default None search global False ssh gateway config gateway key config cloud config value 'ssh gateway private key vm    opts   default None search global False ssh gateway config gateway password config cloud config value 'ssh gateway password vm    opts   default None search global False key filename ssh gateway config gateway key key filename is not None and not os key filename raise Salt Cloud Config Error "hedefinedssh gateway private key key filename elif key filename is None and not ssh gateway config gateway password raise Salt Cloud Config Error 'oauthenticationmethod Pleasedefine ssh gateway passwordorssh gateway private key return ssh gateway config 
def gcf fig Manager  pylab helpers Gcf active if fig Manager is not None return fig Manager return figure 
def get redis from config settings connection class Strict Redis if settings u R E D I S URL' is not None return connection class url settings R E D I S URL'] kwargs {u'host' settings u R E D I S HOST' u u settings u R E D I S PORT' 6379 u settings u R E D I S DB' 0 u settings u R E D I S PASSWORD' None }use ssl settings u R E D I S SSL' False if use ssl def safeint x try return int x except Value Error return 0version info tuple safeint x for x in redis  version  .split u if not version info > 2 10 raise Runtime Error u Using S S Lrequiresaredis 2.10' kwargs use sslreturn connection class **kwargs
def  from any any pb klass  TYPE URL M A P pb url klass From String any pb 
def get analysis tex root if tex root is None returnelif isinstance tex root sublime View tex root get tex root tex root elif not isinstance tex root strbase raise Value Error 'tex rootmustbeastringorview result cache tex root 'analysis' lambda analyze document tex root return result 
def supply catalog rheader r if r 'html' catalog r catalog T current Ttabs [ T 'dit Details None T 'ategories 'item category T 'tems 'catalog item ]rheader tabs s3 rheader tabs r tabs table r DIV TABLE TR TH '%s ' % table catalog TR TH '%s ' % table id table id catalog id rheader tabs return rheaderreturn None 
def combine hemi left right lh data nb left .get data rh data nb right .get data indices np 1000000 + np 0 lh data [ None 2000000 + np 0 rh data [ None all data np indices np lh data rh data filename left u [1] + u combined np filename all data fmt u '.join [u'%d'] + [u'%.10f'] * all data - 1 return os filename 
def no hyphen at end of rand name logical line filename msg 'T108 hyphenshouldnotbespecifiedattheendofrand name 'if RAND NAME HYPHEN R E logical line return 0 msg 
def  validate privileges object type privs privileges if object type ! 'group'  perms [ PRIVILEGES M A P for perm in  PRIVILEGE TYPE M A P type perms 'ALL' if object type not in  PRIVILEGES OBJECTS raise Salt Invocation Error 'nvalidobject type {0}provided'.format object type if not set privs .issubset set  perms raise Salt Invocation Error 'nvalidprivilege s {0}providedforobject{1}'.format privileges object type elif privileges raise Salt Invocation Error 'heprivilegesoptionshouldnotbesetforobject typegroup 
def sh prepare variables export False out []export 'export' if export else '' for k v in variables out '%s%s %s' % export k sh string v return ';'.join out 
@after.each scenariodef screenshot on error scenario if scenario try output dir '{}/log'.format settings T E S T ROOT image name '{}/{}.png'.format output dir scenario '' '_' world screenshot image name except Web Driver Exception L O G G E R 'ouldnotcaptureascreenshot 
@require backend 'openstack' def cinderblockdeviceapi for test test case return get blockdeviceapi with cleanup test case 
def init sigmoid bias from marginals dataset use y False if use y X dataset X dataset design matrix return init sigmoid bias from array X
def snuff subprocs for proc in subprocs if proc is None os proc signal S I G K I L L proc 
def New Collection seq cls Collection return pythoncom Wrap Object policy Default Policy cls seq pythoncom I I D I Dispatch pythoncom I I D I Dispatch 
def parse http date safe date try return parse http date date except Exception pass 
def apk actual predicted k 10 if len predicted > k predicted predicted k 0.0num hits 0.0for i p in enumerate predicted if p in actual and p not in predicted i num hits + 1.0score + num hits / i + 1.0 if not actual return 0.0return score / min len actual k 
def  get repo tag image default tag 'latest' if ' ' in image r name r tag image ' ' 1 if not r tag log "ssumingtag default tag image r tag default tagelse r name imager tag default tagreturn r name r tag 
def is complete edit initial line original wanted cmds buf original ]for cmd in cmds ctype line col char cmdline - initial lineif ctype 'D' if char ! '\n' buf buf col + buf col + len char ] elif line + 1 < len buf buf buf + buf line + 1 ] del buf line + 1 ]else del buf ctype 'I' buf buf col + char + buf ] buf '\n'.join buf .split '\n' return len buf len wanted and all j k for j k in zip buf wanted 
def  Handle Link jobs link title size age season episode flag orgcat cat pp script download star order priority NORMAL PRIORITY rule 0 if script '' script Noneif pp '' pp Nonejobs {}jobs[link]['title'] titlejobs linkjobs catjobs ppjobs scriptjobs str priority jobs orderjobs orgcatjobs sizejobs agejobs time jobs rulejobs seasonjobs episodeif special rss site link nzbname Noneelse nzbname titleif download jobs ' downloaded time logging 'dding %s toqueue link title sabnzbd url link pp pp script script cat cat priority priority nzbname nzbname elif star jobs flag + '*' else jobs flag 
def rebase cwd rev 'master' opts '' user None password None ignore retcode False cwd  expand path cwd user opts  format opts opts if any x for x in opts if x in '-i' '--interactive' raise Salt Invocation Error 'nteractiverebasesarenotsupported command ['git' 'rebase']command.extend opts if not isinstance rev six types rev str rev command salt split rev return  git run command cwd cwd user user password password ignore retcode ignore retcode ['stdout']
def test bootstrap multiarg x np [[1 10] for i in range 10 ] y np [[5 5] for i in range 10 ] test func lambda x y np x y .max axis 0 out actual algo x y n boot 2 func test func out wanted np [[5 10] [5 10]] assert array equal out actual out wanted 
def detect parquet fhandle return parquet check header magic bytes fhandle 
def convert integer to method list method int if method int 0 return []method map construct method map from config method ints []for k v in method map method ints k method ints reverse True confirmed methods []for m int in method ints if method int / m int 1 confirmed methods m int method int method int - m int methods []for method in confirmed methods methods method map return methods 
def calculate rms expected Image actual Image if expected Image ! actual Image raise Image Comparison Failure u {0}actualsize{1}'.format expected Image actual Image num values expected Image diff image abs expected Image - actual Image histogram np abs diff image minlength 256 sum of squares np histogram * np len histogram ** 2 rms np float sum of squares / num values return rms 
def  extract alignment region alignment seq with flanking annotation align stripped alignment seq with flanking '-' display start int annotation display start if int annotation start < int annotation stop start int annotation start - display start end int annotation stop - display start + 1 else start display start - int annotation start end display start - int annotation stop + 1 end + align stripped '-' assert 0 < start and start < end and end < len align stripped 'roblemwithsequencestart \n%s[%i %i]\n%s' % alignment seq with flanking start end annotation return align stripped end 
def test is repo url for remote urls remote repo url assert is repo url remote repo url is True 
def e message exit code None print log message YELLOW BOLD if exit code is not None exit exit code 
def test size hint view view message usertypes Message Level 'test1' height1 view Hint .height assert height1 > 0 view message usertypes Message Level 'test2' height2 view Hint .height assert height2 height1 * 2
def get client login token string http body for response line in http body if response line 'uth ' return response line ]return None 
def author structure user return {'user id user 'user login user username 'display name user  str   'user email user 
def format patchsets to export revs output u outs []errs []cur rev to export master idx revs cur rev patches to export [[cur rev idx 0for idx rev in enumerate to export ] try master idx revs master idx ].index rev master idx + cur master idxexcept Value Error master idx revs rev if master idx cur master idx + 1 patches to export idx rev cur master idx + 1continueelse patches to export [rev] cur master idx master idxpatchset idx + 1status 0for patchset in patches to export stat out err export patchset patchset patchset -1 ] output u n len patchset > 1 thread True patch with stat True outs out if err errs err status max stat status return status u outs u errs 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@with setup setup tmpdata teardown tmpdata def test download  urlopen ref datasets mock mldata urlopen {'mock' {'label' sp 150 'data' sp 150 4 }} try mock fetch mldata 'mock' data home tmpdir for n in ['COL NAMES' 'DESCR' 'target' 'data'] assert in n mock assert equal mock 150 assert equal mock 150 4 assert raises datasets H T T P Error fetch mldata 'not existing name finally datasets  urlopen ref 
def  kill Backref receiver senderkey receiverkey id receiver receivers list senders Back receiverkey while senderkey in receivers list try receivers list senderkey except breakif not receivers list try del senders Back Key Error passreturn True 
def  auth profile None if profile credentials   salt  ['config.option'] profile user credentials credentials credentials url credentials url name credentials 'keystone.region name None service type credentials type user   salt  ['config.option'] 'keystone.user' password   salt  ['config.option'] 'keystone.password' tenant   salt  ['config.option'] 'keystone.tenant' auth url   salt  ['config.option'] 'keystone.auth url region name   salt  ['config.option'] 'keystone.region name service type   salt  ['config.option'] 'keystone.service type kwargs {'username' user 'password' password 'tenant name tenant 'auth url auth url 'region name region name 'service type service type suoneu Salt Neutron **kwargs
def  plot update raw proj params bools if bools is not None inds np bools [0]params['info']['projs'] [copy.deepcopy params for ii in inds bools bools params _ setup proj params add eeg ref False verbose False params fun params fun 
def  reset module attempts studentmodule problem state json studentmodule problem state 0studentmodule.state json problem state studentmodule 
def find sockfile display None display display or os 'DISPLAY' or ' 0.0' if '.' not in display display + '.0'cache directory get cache dir return os cache directory SOCKBASE % display 
def  mri subject has bem subject subjects dir None subjects dir get subjects dir subjects dir raise error True pattern bem fname subjects dir subjects dir subject subject name '*-bem' fnames glob pattern return bool len fnames 
def get hash value context builder typ value sig typing types typ fn context function hash sig h fn builder value is ok is hash used context builder h fallback ir Constant h FALLBACK return builder is ok h fallback 
def libvlc audio output device list get p instance aout f  Cfunctions 'libvlc audio output device list get None or  Cfunction 'libvlc audio output device list get 1 1 None ctypes P O I N T E R Audio Output Device Instance ctypes char p return f p instance aout 
def update import job task result result status ij Import Job by task task .first if not ij returnij resultij status result statussave to db ij 'mportjobupdated 
def replace entry line fieldn newentry start  find start entry line fieldn leng len line ].split [0] newline line start + str newentry + line start + leng ] return newline 
def string2port port str return struct '>H' port str [0]
def site protected against xss by csp response allow unsafe inline False allow unsafe eval False protected Trueif not provides csp features response protected Falseelse vulns find vulns response if CSP DIRECTIVE SCRIPT in vulns protected Falseelse if not allow unsafe inline and unsafe inline enabled response protected Falseif not allow unsafe eval and unsafe eval enabled response protected Falsereturn protected 
@decoratordef rollback open connections fn *args **kw try fn *args **kw finally testing reaper all 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def check discrete rvs vars vars  [var for var in vars if not isinstance var pm Observed R V ]if any [ var in pm types for var in vars ] raise Value Error 'odelshouldnotincludediscrete R Vsfor A D V I 
def  localectl set locale '' locale params  parse dbus locale if HAS DBUS else  parse localectl locale params L A N G str locale args ''.join ['{0} "{1}"'.format k v for k v in six locale params ] cmd 'localectlset-locale{0}'.format args return   salt  ['cmd.retcode'] cmd python shell False 0
def get cast cast type return C A S T S cast type None 
def Check Flow Can Be Started As Global flow name flow cls flow G R R Flow Get Plugin flow name if not flow cls A C L ENFORCED or aff4 flow cls flow G R R Global Flow and flow cls return Trueelse raise access control Unauthorized Access "low % flow name 
def Source Tree And Path From Path input path source group match  path leading variable input path if source group match source tree source group match 1 output path source group match 3 else source tree Noneoutput path input pathreturn source tree output path 
def domain constructor **b kwargs def deco f def wrapper *args **kwargs if 'name' in b kwargs  b kwargs b kwargselse  b kwargs dict b kwargs name f  name   f rval f *args **kwargs domain Domain lambda x x f rval ** b kwargs return domainwrapper  name   f  name  return wrapperreturn deco 
def  Datastore Exception From Canonical Error Code And Detail error detail exception class  CLOUD DATASTORE EXCEPTION C L A S S E S error datastore errors Internal Error if detail is None return exception class else return exception class detail 
def entry from resource resource client loggers if 'ayload in resource return Text Entry api repr resource client loggers elif 'ayload in resource return Struct Entry api repr resource client loggers elif 'ayload in resource return Protobuf Entry api repr resource client loggers raise Value Error 'annotparselogentryresource 
def encode missing object hash ts data ts meta None ts ctype None msg '%s%s' % urllib object hash urllib ts data if ts meta and ts meta ! ts data delta ts meta - ts data msg '%sm %x' % msg delta if ts ctype and ts ctype ! ts data delta ts ctype - ts data msg '%s t %x' % msg delta return msg 
def exp safe x if type x is np return np np x exp safe MIN exp safe MAX else return math x 
def dmp revert f g u K if not u return dup revert f g K else raise Multivariate Polynomial Error f g 
def check dna chars bcs header mapping data errors has barcodes True valid dna chars D N A Sequence standard characters header fields to check []if has barcodes header fields to check 'arcode Sequence check indices []for curr field in range len header if header field in header fields to check check indices curr field correction ix 1for curr data in range len mapping data for curr ix in check indices if len mapping data data ix 0 errors 'issingexpected D N Asequence DCTB %d %d' % curr data + correction ix curr ix continuefor curr nt in mapping data data ix if curr nt not in valid dna chars errors 'nvalid D N Asequencedetected %s DCTB %d %d' % mapping data data ix curr data + correction ix curr ix continuereturn errors 
def test existing path File Link repr tf Named Temporary File fl display File Link tf actual repr fl expected tf equal actual expected 
def normalize time unit s s s .strip if s in units return sif s in unit aliases return unit aliases s -1 ] 's' return normalize time unit s 's' raise Value Error 'onotunderstandtimeunit % s 
def libvlc video set format callbacks mp setup cleanup f  Cfunctions 'libvlc video set format callbacks None or  Cfunction 'libvlc video set format callbacks 1 1 1 None None Media Player Video Format Cb Video Cleanup Cb return f mp setup cleanup 
def  is present name version installed pkgs pkg command for pkg in installed pkgs if 'list' in pkg command pkg pkg ' ' '' .replace ' ' '' if ' ' in pkg pkg name pkg version _ pkg ' ' '' .split '' else pkg name pkg version pkg '' elif 'freeze' in pkg command if ' ' in pkg pkg name pkg version pkg ' ' else continueelse continueif pkg name name and version is None or version pkg version return Truereturn False 
def  zone config zones if zones is None zones DEFAULT Z O N E Slines [ZONE H E A D E R entry in zones entry 'options' '' entry 'in options '' entry 'out options '' lines ZONE FORMAT % entry file '/etc/shorewall/zones' contents ''.join lines use sudo True 
def create pidlock pidfile pidlock  create pidlock pidfile atexit pidlock return pidlock 
def detect stream try json stream return Trueexcept Value Error return False 
def bilinear kernel 1D ratio normalize True T theano kern T 1 ratio + 1 dtype theano X kern T [half kern half kern -2 -1 ]] if normalize kern / ratioreturn kern 
def upgrade bill bill valide days bill type bill typestart date datetime expire date start date + datetime days valide days bill date start datebill date expire datebill 
def test flattener layer state separation for softmax soft1 Softmax 5 'sf1' 0.1 soft2 Softmax 5 'sf2' 0.1 mlp MLP layers [lattener Layer Composite Layer 'comp' [soft1 soft2 ] nvis 2 X np 20 2 .astype theano X y np 20 10 .astype theano X dataset Dense Design Matrix X X y y train Train dataset mlp SGD 0.1 batch size 5 monitoring dataset dataset train criterion Epoch Counter 1 train loop 
def process urls bot trigger urls results []for url in urls if not url bot char try url web to uri url except passmatched check callbacks bot trigger url False if matched continuetitle find title url verify bot ssl if title results title get hostname url return results 
def slaveof name sentinel host None sentinel port None sentinel password None **connection args ret {'name' name 'changes' {} 'result' False 'comment' 'ailedtosetupslave copy connection args sentinel master   salt  ['redis.sentinel get master ip name sentinel host sentinel port sentinel password if sentinel master host in   salt  ['network.ip addrs ret Trueret 'inionisthemaster {0}'.format name return retfirst master   salt  ['redis.get master ip **connection args if first master sentinel master ret Trueret 'inionalreadyslaveofmaster {0}'.format name return retif   opts  ['test'] is True ret 'inionwillbemadeaslaveof {1}'.format name sentinel master ret Nonereturn retkwargs **sentinel master   salt  ['redis.slaveof'] **kwargs current master   salt  ['redis.get master ip **connection args if current master ! sentinel master return retret Trueret {'old' first master 'new' current master 'inionsuccessfullyconnectedtomaster {0}'.format name return ret 
def dup to dict f K None zero False if not f and zero return { 0 K n result len f - 1 {} for k in range 0 n + 1 if f n - k ] result k ] f n - k ]return result 
def wait objects None timeout None count None if objects is None return get hub .join timeout timeout result []if count is None return list iwait objects timeout for obj in iwait objects objects timeout timeout result obj count - 1if count < 0 breakreturn result 
def colorize ansi msg color None style None if color is None and style is None return msgescape code  get ansi code color style if escape code return '%s%s%s' % escape code msg ANSI RESET return msg 
@builtin u Upper upper apply func to match groups def replace uppercase match number file name metadata dictionaries data functions *args **kwargs return apply func to match groups match upper 
def submit row context opts context context popup context popup as context as {'onclick attrib opts ordered objects and change and 'onclick "rder Form ;"' or '' 'show delete link not is popup and context delete permission and change or context delete 'show save as new not is popup and change and save as 'show save and add another context add permission and not is popup and not save as or context 'show save and continue not is popup and context change permission 'is popup is popup 'show save True 
def  find files root dir should include paths []is module lambda path path '.py' for dir path dir names file names in os root dir new paths [os.path.join dir path file name for file name in file names paths filter is module new paths new paths filter should include new paths paths new paths return paths 
def Formula Rule formula None stop If True None font None border None fill None rule Rule type 'expression' formula formula stop If True stop If True rule Differential Style font font border border fill fill return rule 
def  is promo preliminary end date now datetime g return end date + datetime days 1 > now 
def print datum datum logger ' DCTB Wx Hx C %sx%sx%s' % datum datum datum logger ' DCTB Label %s' % datum if datum Has Field 'label' else 'one logger ' DCTB Encoded %s' % datum 
def die s log s sys 1
def group type specs delete context group type id key return I M P L type specs delete context group type id key 
def cluster list verbose False cmd [salt.utils.which 'pg lsclusters '--no-header']ret   salt  ['cmd.run all ''.join [pipes.quote c for c in cmd if ret 'retcode' 0 ! 0 log 'rrorlistingclusters cluster dict  parse pg lscluster ret if verbose return cluster dictreturn cluster dict 
def list local cmd 'layman--quietness 1--list-local--nocolor'out   salt  ['cmd.run'] cmd python shell False .split '\n' ret [line.split [1] for line in out if len line > 2 ]return ret 
def latinify unicode string default '?' pure ascii False from unicodedata import nameconverted []for unich in iter unicode string try ch unich 'ascii' except Unicode Decode Error what name unich if what in  UNICODE MAP ch  UNICODE M A P what what if what 'LATIN' and what 'LETTER' and len what 1 ch what if what 'SMALL' else what else ch defaultconverted chr ord ch return ''.join converted 
def save Calibration Image i imgset dims if len imgset lastcb imgset -1 ]hessboard dims subpixel False thiscb i Chessboard dims subpixel False cbmid len lastcb / 2 if distance lastcb [cbmid] thiscb [cbmid] < 30 show Text i 'ovethechessboardaroundinsidethegreenrectangle returnimgset i global save locationif not save location returnfilename save location + ' image + str len imgset + '.png' imgset -1 ].save filename 
def test error wrong object smote 'rnd'enn 'rnd'smt SMOTEENN smote smote random state RND SEED assert raises Value Error smt X Y smt SMOTEENN enn enn random state RND SEED assert raises Value Error smt X Y
def  exception data type value traceback sys info while traceback next traceback traceback nextcode traceback frame codereturn type  name   value code filename traceback lineno code name 
def  format changes changes orchestration False if not changes return False u if orchestration return True  nested changes changes if not isinstance changes dict return True u Invalid Changesdata {0}'.format changes ret changes 'ret' if ret is not None and changes 'out' 'highstate' ctext u Falsefor host hostdata in six ret s c  format host host hostdata ctext + u + u u * 14 + l for l in s changed changed or c else changed Truectext  nested changes changes return changed ctext 
def parse events logger line match log event pattern line if match groups match groups {'alert type alert types groups type '' 'timestamp' calendar datetime groups ' H %M %S' .timetuple 'msg text line return groupselse return None 
def test can parse background and ignore tag steps Step from lines BACKGROUND WITH TAGGED S C E N A R I O steps without tags filter lambda x not x '@wip' steps assert equals len steps len steps without tags 
def pair hmm align unaligned seqs seqs moltype DNA cogent params {} seqs Load Seqs data seqs moltype moltype aligned False try s1 s2 seqs except Value Error raise Value Error 'airwisealigningofseqsrequiresexactlytwoseqs try gap open params open Key Error gap open 5try gap extend params extend Key Error gap extend 2try score matrix params matrix Key Error score matrix make dna scoring dict match 1 transition -1 transversion -1 return local pairwise s1 s2 score matrix gap open gap extend 
def test slugify assert slugify u Helloworld u assert slugify u C u 
def get old document resource req lookup document version if version ! 'all' and version ! 'diffs' and version is not None try version int version assert version > 0 except Value Error Bad Request Key Error Assertion Error abort 400 description debug error message 'ocumentversionnumbershouldbeanintgreaterthan0 resource def config D O M A I N versioned id field resource def not in lookup lookup id field resource def ] lookup def field lookup def field V E R S I O N versiondelta app one resource + config V E R S I O N S req **lookup if not delta abort 404 old document synthesize versioned document document delta resource def else old document document return old document 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def set proxy facts facts if 'common' in facts common facts 'http proxy in common or 'https proxy in common if 'no proxy in common and isinstance common proxy string types common proxy common proxy ' ' elif 'no proxy not in common common proxy []if 'generate no proxy hosts in common and safe get bool common no proxy hosts if 'no proxy internal hostnames in common common proxy common proxy internal hostnames ' ' common proxy '.' + common domain common proxy common common proxy sort unique common proxy facts commonreturn facts 
def os is running pid if isinstance pid six types pid int pid if HAS PSUTIL return psutil exists pid else try os pid 0 return Trueexcept O S Error return False 
def test multicolumn table html fill values col1 [1 2 3]col2 [ 1.0 1.0 2.0 2.0 3.0 3.0 ]col3 [ 'a' 'a' 'a' 'b' 'b' 'b' 'c' 'c' 'c' ]buffer output String I O t Table [col1 col2 col3 names 'C1' 'C2' 'C3' ascii t buffer output fill values 'a' 'z' format 'html' col1 [1 2 3]col2 [ 1.0 1.0 2.0 2.0 3.0 3.0 ]col3 [ 'z' 'z' 'z' 'b' 'b' 'b' 'c' 'c' 'c' ]buffer expected String I O t expected Table [col1 col2 col3 names 'C1' 'C2' 'C3' ascii t expected buffer expected format 'html' assert buffer output buffer expected 
def user exists username **kwargs if 'database' not in kwargs return Falsereturn len tsql query query " E L E C Tname F R O Msysusers W H E R Ename '{0}'".format username **kwargs 1
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def rollback name ret {'name' name 'changes' {} 'result' True 'comment' ''}ret['changes']   salt  ['junos.rollback'] return ret 
def job file for job return os job dir 'jobs' '%08d.pb' % job 
def memoize timeout dynamic timeout False cache {'timeout' timeout decorator func def wrapper *args **kwargs start time if not 'time' in cache or start - cache > cache cache func *args **kwargs cache time if dynamic timeout and cache - start > cache cache * 2return cache clear cache if 'time' in cache del cache 'result' in cache del cache cache clear cachereturn wrapperreturn decorator 
def user password update user id None name None password None profile None **connection args kstone auth profile **connection args if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid  OS IDENTITY API VERSION > 2 kstone user user id password password else kstone password user user id password password ret 'asswordupdatedforuser I D user id if name ret + ' {0} '.format name return ret 
def get taxa taxa fname sample ids kept None taxa f open taxa fname 'U' sample ids otu ids otu table lineages parse otu table taxa f count map f float remove empty rows True if sample ids kept sam idxs [sample ids sam for sam in sample ids kept table otu table sam idxs otu ids otu table 
def Get Web Server description None description description or '1' path Locate Web Server Path description server Load Web Server path return server 
def find Checker Factory auth Type for factory in find Checker Factories if factory Type auth Type return factoryraise Invalid Auth Type auth Type 
def  git str subprocess gitpath if not os os gitpath '.git' return Nonetry cid subprocess output ['git' 'describe' '--tags' '--dirty' '--always'] cwd gitpath .decode 'UTF-8' .strip date subprocess output ['git' 'show' '-s' '--format %ci' 'HEAD'] cwd gitpath .decode 'UTF-8' .strip return '{} {} '.format cid date except subprocess Called Process Error O S Error return None 
def private encrypt key message signer salt R S A X931 Signer key Key 'PEM' return signer message 
def  Extract Proxy proxy yaml key proxy config data proxy Nonetry if proxy yaml key in proxy config data proxy data proxy config data proxy yaml key original proxy keys list proxy data proxy Proxy Config Proxy proxy data proxy data username proxy data 'username' password proxy data 'password' except Key Error raise googleads Google Ads Value Error 'ouryamlfileismissingsomeoftherequiredproxyvalues Requiredvaluesare %s actualvaluesare %  PROXY KEYS original proxy keys return proxy 
def  item to dataset iterator resource return Dataset api repr resource iterator 
@register.tag 'get language info def do get language info parser token args token if len args ! 5 or args ! 'for' or args ! 'as' raise Template Syntax Error "'%s'requires'forstringasvariable' got " % args args ] return Get Language Info Node args args 
@receiver post delete sender Comment @receiver post save sender Comment def update comment flag sender instance **kwargs for unit in get related units instance unit has comment if instance is None unit cache 'sourcecomments'
def update Twisted Version Information base Directory now for project in find Twisted Projects base Directory project Version get Next Version project Version now now 
def p badrule t pass 
def  relative to abs sls relative sls levels suffix re '^ \\.+ .* $' relative .groups level count len levels p comps sls '.' if level count > len p comps raise Salt Render Error 'ttemptedrelativeincludegoesbeyondtoplevelpackage return '.'.join p comps - level count ] + [suffix]
def  extract volume info mgz raise error True try import nibabel as nibexcept Import Error returnheader nib mgz .headervol info dict version header version 1 version '%s#volumeinfovalid' % version else raise Value Error 'olumeinfoinvalid vol info versionvol info mgzvol info header 3]vol info header vol info vol info vol info header Mdc Tvol info header Pxyz c vol info 
@pytest.mark.parametrize 'funcname test id parameters ids ids def test ctypes in func gen pyi builder monkeypatch funcname compiled dylib test id soname compiled dylib '\nimportctypes;fromctypesimport*\ndeff \ndefg \nlib %s %% soname r \n' % funcname +  template ctypes test + '\ng \nf \n'   monkeypatch resolve Ctypes Imports monkeypatch compiled dylib pyi builder source source % locals test id test id 
def out and err command input None shell False env None process Popen command stdout PIPE stdin PIPE stderr PIPE shell shell env env out err process input input status process if status error Called Process Error status command error outraise errorreturn out err 
def Get Availability Zones region ec2  Connect region return [z.name for z in ec2 all zones ]
def gf sqf part f p K _ sqf gf sqf list f p K g [ f _ in sqf g gf mul g f p K return g 
def pip args prefix if sys 'win32' pip path join prefix 'cripts 'pip-script.py' py path join prefix 'python.exe' else pip path join prefix 'bin' 'pip' py path join prefix 'bin' 'python' if isfile pip path and isfile py path ret [py path pip path version subprocess output ret + ['-V'] .decode 'utf-8' .split [1]major ver pip version '.' [0]if int major ver > 6 ret '--disable-pip-version-check' return retelse return None 
def version agnostic children return [child.version agnostic for child in children 
def learner name learner return getattr learner 'name' type learner .  name  
def sosfilt sos x axis -1 zi None x np x sos n sections  validate sos sos use zi zi is not None if use zi zi np zi x zi shape list x x zi shape 2x zi shape tuple [n sections + x zi shape if zi ! x zi shape raise Value Error 'nvalidzishape Withaxis %r aninputwithshape andansosarraywith zimusthaveshape got % axis x n sections x zi shape zi zf zeros like zi for section in range n sections if use zi x zf lfilter sos 3] sos 3 ] x axis zi zi else x lfilter sos 3] sos 3 ] x axis out x zf if use zi else x return out 
@requires version 'scipy' '0.11' def test module nesting proc Popen [sys.executable '-c' run script stdout PIPE stderr PIPE stdout stderr proc if proc raise Assertion Error stdout 
def print header line header str ' 'header line header str * len line print '\n' + header line print line print header line 
def Str1 s result Seq *tuple map Char s result 'tr %s ' % repr s return result 
def quote etag etag weak False if '"' in etag raise Value Error 'invalidetag' etag '"%s"' % etag if weak etag 'W/' + etag return etag 
def normal upper bound probability mu 0 sigma 1 return inverse normal cdf probability mu sigma 
def  format assertmsg obj if py istext obj or py isbytes obj s objis repr Falseelse s py obj is repr Trueif py istext s t py t py s t '\n' t '\n~' .replace t '%' t '%%' if is repr s s t '\\n' t '\n~' return s 
def requires *dependencies def wrapper self *args **kwargs 'njecteachdependencyfromtheregistry  wrapped init   *args **kwargs  process dependencies self def wrapped cls 'otetherequireddependenciesontheobjectforlaterinjection Thedependenciesoftheparentclassarecombinedwiththatofthe dependencies getattr cls ' dependencies set cls dependencies existing dependencies dependencies if not hasattr cls '  wrapped init  ' cls  wrapped init   cls  init  cls  init   wrapperreturn clsreturn wrapped 
def node return uname .node
def contiguous regions mask mask np mask dtype bool if not mask return [] idx np mask -1 ] ! mask ] idx + 1idx idx if mask idx [0] + idx if mask -1 ] idx len mask return list zip idx 2] idx 2]
def append To Bundle bundle osc Address data Array bundle create Binary Msg osc Address data Array 'b'
def MIDPRICE bar Ds count timeperiod - 2 ** 31 return call talib with hl bar Ds count talib M I D P R I C E timeperiod 
def all weighers if C O N F cost functions is not None or C O N F fill first cost fn weight is not None L O G _ 'least costhasbeendeprecatedinfavorofthe R A M Weigher return least cost least cost weighers return Host Weight Handler .get all classes 
def dummy limits d nobs nvars d start1 col1 np np d axis 0 1 end1 col1  np np d axis 0 -1 cc np nvars if not np [ [0] col1 ] cc .all or not np [ col1  [ nvars - 1 ] ] cc .all raise Value Error 'dummyvariableisnotsorted' start np [ [0] start1 + 1 ]end np [ end1 + 1 [nobs] ]return start end 
def tail avg timeseries try t timeseries -1 ][1] + timeseries -2 ][1] + timeseries -3 ][1] / 3 return texcept Index Error return timeseries -1 ][1]
def parsedotval s if type s is tuple o val sval parse value val else o val keyvaluesplit s keys o u if len keys > 1 r keys {} rcur r key in keys -1 ] rcur {}rcur rcur -1 ]] valreturn relse return o val 
def format number numobj num format if numobj number 0 and numobj input is not None if len numobj input > 0 return numobj inputcountry calling code numobj codensn national significant number numobj if num format Phone Number Format E164 return  prefix number with country calling code country calling code num format nsn if not  has valid country calling code country calling code return nsnregion code region code for country code country calling code metadata Phone Metadata for region or calling code country calling code region code formatted number  format nsn nsn metadata num format formatted number  maybe append formatted extension numobj metadata num format formatted number return  prefix number with country calling code country calling code num format formatted number 
def  compute normalized phase data from scipy import hilbertreturn np hilbert data + np / 2 * np 
def val to py val if isinstance val collections Sequence and len val 2 if val 'uuid' return uuid U U I D val elif val 'set' return [val to py x for x in val val 'map' return {val to py x val to py y for x y in val val 
def  read data file obj fo encoding value count bit width vals []if fo encoding parquet thrift Encoding R L E seen 0while seen < value count values encoding rle bit packed hybrid file obj bit width if values is None breakvals + valuesseen + len values elif fo encoding parquet thrift Encoding B I T PACKED raise Not Implemented Error u Bitpackingnotyetsupported return vals 
def  add unique id msg unique id uuid .hexmsg.update {UNIQUE ID unique id L O G _ 'UNIQUE I Dis % unique id 
def kmz request label model field name None using DEFAULT DB ALIAS return kml request label model field name compress True using using 
def libvlc audio output set p mi psz name f  Cfunctions 'libvlc audio output set None or  Cfunction 'libvlc audio output set 1 1 None ctypes int Media Player ctypes char p return f p mi psz name 
def path string s if isinstance s binary type return selif isinstance s text type return s sys else raise Type Error 'athmustberepresentedasbytesorunicodestring 
def project embed request project slug project get object or 404 Project request slug project slug version project slug LATEST files version files by 'path' return render to response 'projects/project embed {'project' project 'files' files 'settings' {'GROK API HOST' settings G R O K API HOST 'URI' request absolute uri location '/' .rstrip '/' }} context instance Request Context request 
def is encrypted path if path '/dev/mapper' return path '/' [2].endswith  dmcrypt suffix else return False 
def macosx sdk root cflags sysconfig config var 'CFLAGS' m re '-isysroot\\s+ \\S+ ' cflags if m is None sysroot '/'else sysroot m 1 return sysroot 
def get avg purchase rate serial nos serial nos get valid serial nos serial nos return flt frappe u purchase rate from Serial No DCTB DCTB wherenamein %s ' % u '.join [u'%s'] * len serial nos tuple serial nos [0][0]
def reset app global bottle appbottle app Dynamic Bottle 
def fgraph of *exprs outs list map theano code exprs ins theano outs ins outs theano ins outs return theano Function Graph ins outs 
def str to unicode s encoding None if not type s str return sif not encoding encoding E N C O D I N Gfor c in [encoding u u try return s c except Unicode Decode Error passreturn s encoding u 
def trust Root From Certificates certificates certs []for cert in certificates if isinstance cert Cert Base cert cert raise Type Error 'ert Baseinstances certs cert return Open S S L Certificate Authorities certs 
def  function type self if self for node in self if isinstance node Call Func try current next node except Inference Error continue type  infer decorator callchain current if  type is not None return  typetry for infered in node  type  infer decorator callchain infered if  type is not None return  typeif not isinstance infered Class continuefor ancestor in infered if not isinstance ancestor Class continueif ancestor subtype of '%s.classmethod' % BUILTINS return 'classmethod'elif ancestor subtype of '%s.staticmethod' % BUILTINS return 'staticmethod'except Inference Error passreturn self type 
def fixup indent suite kids suite -1 ]while kids node kids if node token I N D E N T breakwhile kids node kids if isinstance node Leaf and node ! token D E D E N T if node node prefix '' returnelse kids node -1 ]
def  setup Syslog test Case log Messages []class fakesyslogobserver object def   init   self prefix log Messages prefix def emit self event Dict log Messages event Dict test Case syslog 'yslog Observer fakesyslogobserver return log Messages 
def  get tl gs path texpath pdflatex which 'pdflatex' path texpath if pdflatex is None return Nonetlgs path os os os pdflatex '..' '..' 'tlpkg' 'tlgs' 'bin' return which 'gswin32c' path tlgs path or which 'gswin64c' path tlgs path 
def get build platform try from sysconfig import get platformexcept Import Error from distutils import get platformplat get platform if sys 'darwin' and not plat 'macosx-' try version  macosx vers machine os [4].replace '' '_' return 'macosx-%d.%d-%s' % int version int version  macosx arch machine except Value Error passreturn plat 
def regionalize language if not isinstance language basestring return []if '-' in language language region language '-' return [ language + '-' + region ]main lambda tag tag in ' E ' S ' N or tag 2] tag ].lower a [ language + '-' + r for r in regions language ]a sorted a key main reverse True return a 
def make request token headers {uthorization 'earer token }conn httplib H T T P S Connection HOST conn 'GET' '/auth/info/googleidtoken' None headers res conn conn return res 
def get db connection path timeout 30 okay to create False try connect time time conn sqlite3 path check same thread False factory Green D B Connection timeout timeout if path ! ' memory ' and not okay to create stat os path if stat size 0 and stat ctime > connect time os path raise Database Connection Error path ' Bfilecreatedbyconnect conn factory sqlite3 Rowconn factory strconn ' R A G M Asynchronous NORMAL' conn ' R A G M Acount changes OFF' conn ' R A G M Atemp store MEMORY' conn ' R A G M Ajournal mode DELETE' conn function 'chexor' 3 chexor except sqlite3 Database Error import tracebackraise Database Connection Error path traceback exc timeout timeout return conn 
def enable console debug logging logger logging Logger 'github' logger Level logging D E B U G logger Handler logging Stream Handler 
def reservation get context uuid return I M P L get context uuid 
def is gcs uri uri try parse gcs uri uri return Trueexcept Value Error return False 
def get parent context liveaction db context getattr liveaction db 'context' None if not context return Nonereturn context 'parent' None 
def model is projection model instance return model instance entity and model instance entity projection 
def reconfigure vm session vm ref config spec reconfig task session call method session 'econfig V M Task vm ref spec config spec session wait for task reconfig task 
def write html file out table outpath page out PAGE HTML % 'axa Summaries out table out open outpath 'w+' out page out out 
def stddev from moving average timeseries series pandas Series [x[1] for x in timeseries exp Average pandas series com 50 std Dev pandas series com 50 return abs series -1 - exp Average -1 > 3 * std Dev -1
def get Polar angle Degrees radius 1.0 return radius * euclidean Widdershins Unit Polar math angle Degrees 
def dict title prj lang return _ '% language sdictionaryfor project s % {'language' lang 'project' prj 
def register linter linter checker Exceptions Checker linter 
def unproxy object obj if isinstance obj Array Collection return list obj elif isinstance obj Object Proxy return obj amf objectreturn obj 
def get Melded Pillar Output loops faces []vertexes get Unique Vertexes loops add Melded Pillar By Loops faces loops return get Geometry Output By Faces Vertexes faces vertexes 
@memoizeddef get Color value default None if isinstance value Color return valuevalue str value .strip .lower if value 'transparent' or value 'none' return defaultif value in COLOR BY NAME return COLOR BY N A M E value '#' and len value 4 value '#' + value + value + value + value + value + value elif rgb re value r g b [int x for x in rgb re value .groups ]value '#%02x%02x%02x' % r g b else passreturn to Color value default 
def connect kms aws access key id None aws secret access key None **kwargs from boto import K M S Connectionreturn K M S Connection aws access key id aws access key id aws secret access key aws secret access key **kwargs
def  ensure pinned rows dashboard pinned row titles   salt  ['pillar.get']  PINNED ROWS PILLAR if not pinned row titles returnpinned row titles lower []for title in pinned row titles pinned row titles lower title rows dashboard 'rows' [] pinned rows []for i row in enumerate rows if row 'title' '' .lower in pinned row titles lower del rows rows row rows pinned rows + rows 
def rst to html in rst stderr if not in rst return u 0 orig sys exit sys sys stderr sys []try sys returncodes stderrpp publish parts in rst writer name u settings overrides dict exit status level 2 report level 2 enable exit status True finally sys orig sys exitsys orig sys stderrreturn value u u in pp and pp return value + u "font 200%bold">{0}</p>\n'.format pp return value + pp return return value returncodes if returncodes else 0
def has arg scope func key op func  module   func  name   return key op in  DECORATED OPS
def  address from socket sock addr type sock 1 if addr type '\x01' ipv4 addr  read exactly sock 4 return socket ntoa ipv4 addr elif addr type '\x04' ipv6 addr  read exactly sock 16 return socket ntop socket A F INET6 ipv6 addr elif addr type '\x03' addr len ord sock 1 return  read exactly sock addr len else raise Runtime Error 'nexpectedaddrtype %r' % addr type 
def make Png img io Qt Core Q Buffer qim fn Q Image img 1 0 2 alpha False qim io 'PNG' png bytes io .data return png 
def conv ch coupling input  dim name use batch norm True train True weight norm True reverse False residual blocks 5 bottleneck False use aff True change bottom True skip True if use aff return conv ch aff coupling input  input  dim dim name name use batch norm use batch norm train train weight norm weight norm reverse reverse residual blocks residual blocks bottleneck bottleneck change bottom change bottom skip skip else return conv ch add coupling input  input  dim dim name name use batch norm use batch norm train train weight norm weight norm reverse reverse residual blocks residual blocks bottleneck bottleneck change bottom change bottom skip skip 
def domain check f symbol p f p sympify f sympify p if p infinite return Falsereturn  domain check f symbol p 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def matrix tie parent registry xml parent data mtp X M L Sub Element xml parent 'uild Wrapper Mtp X M L Sub Element mtp 'ame .text data 
def  strided from memmap filename dtype mode offset order shape strides total buffer len if mode 'w+' mode 'r+'if strides is None return np filename dtype dtype shape shape mode mode offset offset order order else base np filename dtype dtype shape total buffer len mode mode offset offset order order return as strided base shape shape strides strides 
def set displayer config if config config mode Truedisplayer display util Noninteractive Display open os 'w' elif config mode displayer display util Noninteractive Display sys else displayer display util File Display sys config interactive zope Utility displayer 
def  check result method name result if result code ! 200 msg 'heserverreturned H T T P Responsebody \n[{2}]'.format result code result result 'utf8' raise Api Exception msg method name result try result json result except msg 'heserverreturnedaninvalid J S O Nresponse Responsebody \n[{0}]'.format result 'utf8' raise Api Exception msg method name result if not result json msg 'rrorcode {escription {1}'.format result json code result json raise Api Exception msg method name result return result json 
@register useless canonicalize specialize optimizer [ubtensor def local useless slice node if isinstance node Subtensor slices get idx list node node list last slice len slices for s in slices -1 ] if isinstance s slice and s is None and s is None and s is None or T constant s only process constants True 1 last slice - 1else breakif last slice < len slices subtens Subtensor slices last slice sl ins Subtensor slices last slice lambda x isinstance x T Variable out subtens node *sl ins copy stack trace node out return [out]
def str findall arr pat flags 0 regex re pat flags flags return  na map regex arr 
def noise filter image selem out None mask None shift x False shift y False centre r int selem / 2 + shift y centre c int selem / 2 + shift x selem cpy selem selem cpy centre r centre c ] 0return  apply scalar per pixel generic cy noise filter image selem cpy out out mask mask shift x shift x shift y shift y 
@ docstring 'recording' def get recordings by puid puid includes [] release status [] release type [] warn ' U I Dsupportwasremovedfromtheserver P U I Dswillbefound 404 ' Warning stacklevel 2 raise Response Error cause compat H T T P Error None 404 'ot Found None None 
def keep Original Text s start Loc t try endloc get Tokens End Loc except Parse Exception raise Parse Fatal Exception 'riginal Text del t ]t + Parse Results s Loc endloc return t 
def setup stubs config remote api stub Configure Remote Api config id '/' lambda '' '' 'localhost %d' % config port use remote datastore False if config Has Field 'cloud sql config sys rdbms mysqldbgoogle rdbms mysqldbconnect kwargs dict host config sql config host port config sql config port user config sql config user passwd config sql config password if config sql config socket connect kwargs socket config sql config socketelif os 'posix' and config sql config host 'localhost' connect kwargs socket rdbms mysqldb Find Unix Socket rdbms mysqldb Set Connect Kwargs **connect kwargs 
def draw texture tex from .program import Programprogram Program vert draw frag draw program texture texprogram position [[ -1.0 -1.0 ] [ -1.0 1.0] [1.0 -1.0 ] [1.0 1.0]]program['a texcoord [[0.0 1.0] [0.0 0.0] [1.0 1.0] [1.0 0.0]]program.draw 'triangle strip 
def test pip show divider script data script 'install' 'pip-test-package' '--no-index' '-f' data result script 'show' 'pip' 'pip-test-package' lines result assert '---' in lines 
def split company name notes name name name notes u name ' ' fpidx name ' ' if fpidx ! -1 notes name ]name name fpidx return name notes 
def get user auth request user request key request params 'view only None if user anonymous auth Auth None private key private key else auth Auth user private key private key return auth 
@dog stats api 'status.service.celery.status' def celery status _ stats celery .stats or {} return Http Response json stats indent 4 content type 'application/json'
def get Geometry Output By Function manipulation Function xml Element geometry Output []target evaluate Paths By Key 'target' xml Element for path in target geometry Output + get Geometry Output By Loop Function manipulation Function Side Loop path xml Element return get Unpacked Loops geometry Output 
def  apply filters query start end locale None product None if start is None start date - timedelta days 90 query query created  gte start if end query query created  lt end if locale query query locale locale if product if isinstance product Product product product query product product return query 
def download unsigned request uuid **kwargs extension get object or 404 Extension deleted uuid uuid version get object or 404 extension deleted pk kwargs id def is author return extension pk request .exists def is reviewer return action allowed request 'ontent Tools 'ddon Review if request authenticated and is author or is reviewer log 'ownloadingunsignedadd %sversion%sfrom%s' % extension version version path return  download request extension version version path public False else raise Permission Denied 
def EI empirical samples thresh improvement np samples - thresh 0 return improvement 
def write fiducials fname pts coord frame FIFF.FIFFV COORD UNKNOWN write dig fname pts coord frame 
def endjob filename cat status path bytes fail msg stages script script output script ret test None tr sabnzbd Ttemplateif not status and fail msg xstages {tr 'stage-fail' fail msg }else xstages {}for stage in stages lines []for line in stages if '\n' in line or '<br/>' in line lines line '<br/>' '\n' .split '\n' else lines line xstages 'stage-' + stage ] linesparm {}parm['status'] statusparm filenameparm pathparm ''parm['stages'] xstagesparm scriptparm output script outputparm ret script retparm catparm ' % to units bytes parm time time time format ' H %M %S' time time .decode codepage return send with template 'email' parm test 
def test sys info out String I O sys info fid out out out assert true 'numpy ' in out 
def relaxed distance rx step res ops rx done [] [] {} for v in tf variables if v 2] 'RX' rx name v v '/' + 1 ]if rx name not in rx done avg dist loss relaxed average rx name rx step res dist loss rx done name avgops v rx done name return tf n res tf *ops
def save filename None family 'ipv4' if  conf and not filename filename  conf family log 'avingrulesto filename parent dir os filename if not os parent dir os parent dir cmd '{0}-save'.format  iptables cmd family ipt   salt  ['cmd.run'] cmd if len  conf save filters > 0 ipt  regex iptables save ipt out   salt  ['file.write'] filename ipt return out 
def respond request code redirect request G E T 'next' request P O S T 'next' if redirect return Http Response Redirect redirect return type 'esponse % code Http Response {'status code code 
def get progress opts out progress return salt mod opts out 'rawmodule' mod 'output' ['{0}.progress iter out ] progress 
def get object or none klass *args **kwargs queryset  get queryset klass try return queryset *args **kwargs except queryset Does Not Exist return None 
def  build publish data topic qos retain data {ATTR TOPIC topic qos is not None data A T T R QOS] qosif retain is not None data A T T R RETAIN] retainreturn data 
def build object spec client factory root folder traversal specs object spec client factory 'ns0 Object Spec object spec root folderobject spec Falseobject spec Set traversal specsreturn object spec 
def fake upload image context image instance **kwargs pass 
def fermat n if n & 1 0 return [ n >> 1 2]x int sqrt n if x * x n return [x x + 1while True y2 x * x - n y int sqrt y2 if y * y y2 breakelse x + 1return [ x - y x + y ]
def extended Measurement Order a L2 Pseudo Length l2p Length 18 b Tp Pd pd 6 c Message Type mes Type 55 d Extended Measurement Frequency List packet a / b / c / d return packet 
def  find optimal rlist row first False separator size 2 displaywidth 80 for max rows in range 1 len rlist + 1 col widths list map max  col chunks rlist max rows row first sumlength sum col widths ncols len col widths if sumlength + separator size * ncols - 1 < displaywidth breakreturn {'num columns ncols 'optimal separator width displaywidth - sumlength // ncols - 1 if ncols - 1 else 0 'max rows max rows 'column widths col widths 
def  mk tree basedir tempfile return basedir 
def  run horcmshutdown inst result utils 'horcmshutdown.sh' inst return result 
def parse ticket references text return set JIRA R E text 
def strlist union a b temp cidict for elt in a temp eltfor elt in b temp eltreturn temp 
def  get drafts user drafts {'image' None 'video' None user authenticated drafts Image creator user is draft True drafts Video creator user is draft True return drafts 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def Create Sitelink Feed Item feed items feed item id site link from feed feed items item id link feed item {ext site link from feed 'ine2 site link from feed 'ine3 site link from feed 'scheduling' site link from feed 'rls in site link from feed and site link from feed Urls site link feed item Final Urls {'urls' site link from feed Urls 'obile Urls in site link from feed site link feed item Final Mobile Urls {'urls' site link from feed Mobile Urls link feed item Tracking Url Template site link from feed Url Template site link feed item Url site link from feed site link feed item 
def  filter source try varname re 'eval\\ \\w+\\ \\w+\\ \\w+ \\ \\ \\ ;' source .group 1 reverse re "var+%s*\\ *' .* ';" % varname source .group 1 except Attribute Error raise Unpacking Error 'alformed My Obfuscatedata try return base64 reverse -1 ].encode 'utf8' .decode 'utf8' except Type Error raise Unpacking Error 'y Obfuscatepayloadisnotbase64 
def forecast cov ma coefs sig u steps k len sig u forc covs np steps k k prior np k k for h in range steps phi ma coefs chain dot phi sig u phi T forc covs prior prior + var return forc covs 
def test ncr wrong nn obj nn 'rnd'ncr Neighbourhood Cleaning Rule return indices True random state RND SEED n neighbors nn assert raises Value Error ncr sample X Y
def python version tuple if hasattr sys 'version info return sys info 3]return tuple string  sys version [1] '.'
def pastel colour weight 2.4 rgb np mcolors rgba colour [ 3] maxc max rgb if maxc < 1.0 and maxc > 0 scale 1.0 / maxc rgb rgb * scale total rgb slack 0for x in rgb slack + 1.0 - x x weight - total / slack rgb [ c + x * 1.0 - c for c in rgb rgb 
def traverse dict and list data key default delimiter DEFAULT TARGET DELIM for each in key delimiter if isinstance data list try idx int each except Value Error embed match Falsefor embedded in x for x in data if isinstance x dict try data embedded match Truebreakexcept Key Error passif not embed match return defaultelse try data data Index Error return defaultelse try data data Key Error Type Error return defaultreturn data 
@handle response format login required admin required def user edit request user id response format 'html' profile get object or 404 User pk user id if request P O S T if 'cancel' not in request P O S T form User Form request P O S T instance profile if form valid profile form return Http Response Redirect reverse 'core admin user view args [profile.id] else return Http Response Redirect reverse 'core admin user view args [profile.id] else form User Form instance profile return render to response 'core/administration/user edit {'profile' profile 'form' form context instance Request Context request response format response format 
def create redirect URL f 'new assessment vars {'viewing' 'survey series % request }
def up iface iface type None if iface type not in ['slave'] return   salt  ['cmd.run'] 'iplinkset{0}up'.format iface return None 
def write module js output root return  write js output root  list modules 
def Create Client client gdata Docs Client source Sample Config A P P NAME client client Sample Config D E B U Gtry gdata util client client service client service source client scopes client scopes except gdata Bad Authentication exit 'nvalidusercredentialsgiven except gdata Error exit 'ogin Error return client 
def  append to conf paths option opt str value parser  default to parser 'conf paths [] if value not in parser paths parser paths value 
def  update email opt in request org email opt in request P O S T 'email opt in if email opt in is not None email opt in boolean email opt in 'true' preferences api email opt in request org email opt in boolean 
def  generate Sample Data mean 0.2 variance 0.2 metric Mean 0.2 metric Variance 0.2 data []p {'mean' mean 'name' 'normal' 'stdev' math variance 'variance' variance  sample Distribution p 1440 p {'mean' metric Mean 'name' 'normal' 'stdev' math metric Variance 'variance' metric Variance Values  sample Distribution p 1440 for hour in range 0 24 for minute in range 0 60 data [datetime.datetime 2013 2 2 hour minute 0 metric Values hour * 60 + minute ] samples hour * 60 + minute ]] return data 
def extract messages doctree for node in doctree nodes Text Element if isinstance node nodes and not node definition list item node definition list item is not None node definition list item definition list item - 1 node definition list item '\n' 2 [0]if isinstance node nodes nodes and not node node node 0if not node continueif isinstance node IGNORED NODES and 'translatable' not in node continueif isinstance node nodes name and node 'orphan' continuemsg node '\n' '' .strip if msg yield node msg 
def random port sock socket socket A F INET socket S O C K STREAM sock 'localhost' 0 port sock [1]sock.close return port 
def  clone vdi session vdi to clone ref vdi ref session xenapi ' D I vdi to clone ref L O G 'loned V D I vdi ref sfrom V D I vdi to clone ref s {'vdi ref vdi ref 'vdi to clone ref vdi to clone ref return vdi ref 
def powerlaw sequence n exponent 2.0 return [random.paretovariate exponent - 1 for i in range n ]
def generate hotp secret counter 4 msg struct '>Q' counter digest hmac to bytes secret msg hashlib .digest ob digest PY2 ob ord ob pos ob & 15 base struct '>I' digest pos + 4 ] [0] & 2147483647 token base % 1000000 return token 
def  build state value request handler user uri request handler xsrfutil token xsrf secret key user id action id str uri return uri + ' ' + token 
def test saving state exclude entities hass recorder hass hass recorder {'exclude' {'entities' 'test.recorder'}} states  add entities hass ['test.recorder' 'test2.recorder'] assert len states 1 assert hass 'test2.recorder' states 
def connect S S H Transport service host Address None peer Address None transport S S H Server Transport transport Connection String Transport host Address host Address peer Address peer Address transport Service service 
def IN item in List if not isinstance item schema Column return OR *[ x item for x in in List else return item  in List 
def region return s3 rest controller 
def  get pass exec pass exec salt 'pass' if pass exec return pass execelse raise Salt Render Error 'passunavailable'
def get quarter names width 'wide' context 'format' locale LC TIME return Locale locale .quarters[context][width]
def filter requirement statements req req pattern re u [^\\#]+ ' m req pattern req if m return m 0 .replace u u 
def set link color palette palette if palette is None palette ['g' 'r' 'c' 'm' 'y' 'k']elif type palette not in list tuple raise Type Error 'palettemustbealistortuple'  ptypes [isinstance p string types for p in palette False in  ptypes raise Type Error 'allpalettelistelementsmustbecolorstrings' for i in list  link line colors  link line colors i  link line colors list palette 
def user get user id None name None profile None **connection args kstone auth profile **connection args ret {}if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid user kstone user id except keystoneclient Not Found msg "ouldnotfinduser user id log msg return {rror msg dict value getattr user value None for value in dir user if not value '_' and isinstance getattr user value None six type dict bool str tenant id getattr user 'd None if tenant id ret id tenant idreturn ret 
def  add call item to queue pending work items work ids call queue while True if call queue returntry work id work ids block False except queue Empty returnelse work item pending work items id work item running or notify cancel call queue  Call Item work id work item work item work item block True else del pending work items id 
def session return Session 
def condense Spaces s s s '\n' '' s spacere '' s return s 
def check Compatibility old new prefs None fix True if old new return 1 '' if old > new old new new old msg 'rom ' % old new warning Falseif old 4] < '1.74' msg + 'hereweremanychangesinversion1 Makesureyoureadthechangelogcarefully Donotupgradetothisversionhalfwaythroughanexperiment fix and 'atch Component not in prefs Components prefs Components 'atch Component warning Trueif not warning msg + 'oknowncompatibilityissues not warning msg 
def systemd command generator command command name 'systemctl'if command 'is enabled command 'is-enabled'elif command 'list' def list command service name return [command name 'list-unit-files' '--type service '--no-pager' '--full']return list commandelif command 'set target def set target command target return [command name 'isolate' target set target commanddef method service name return [command name command '%s.service' % service name ]return method 
def escape markup text return text '&' '&amp;' .replace '[' '&bl;' .replace ']' '&br;'
def make Extension *args **kwargs return Super Fences Code Extension *args **kwargs
def usergroup get name None usrgrpids None userids None **connection args conn args  login **connection args try if conn args method 'usergroup.get'params {'output' 'extend' 'filter' {}}if not name and not usrgrpids and not userids return Falseif name params 'name' name if usrgrpids params 'usrgrpids' usrgrpids if userids params 'userids' userids params  params extend params **connection args ret  query method params conn args conn args return False if len ret < 1 else ret else raise Key Errorexcept Key Error return False 
def find executable path None if path is None dirnames os P A T H os suffixes ['th']else dirnames [path]suffixes ['th' os 'bin' 'th' os 'install' 'bin' 'th' ]for dirname in dirnames dirname dirname '"' for suffix in suffixes path os dirname suffix if os path and os path os X OK return pathreturn None 
def shuffle X y idx np [random.random for i in range len y ] y np y X [ for i in idx y X y 
def do login sender user request **kwargs if user and user authenticated token Nonetry Application get application model app Application name 'eo Server token generate token Access Token or create user user application app expires datetime + datetime days 1 token token except u uuid token u '%s%s?access token %s' % settings O G C S E R V E R P U B L I C LOCATION'] 'ows?service wms 1.3.0&request Get Capabilities token cj cookielib Cookie Jar opener urllib2 opener urllib2 H T T P Cookie Processor cj jsessionid Nonetry opener url for c in cj if c 'JSESSIONID' jsessionid c u uuid jsessionid u token tokenrequest J S E S S I O N I D jsessionid 
def repr tree defs data indent str None lines []nodes data for i mod sub files in enumerate sorted nodes key lambda x x if not files files ''else files ' %s ' % ' '.join files if indent str is None lines '%s%s' % mod files sub indent str ''else lines '%s\\-%s%s' % indent str mod files if i len nodes - 1 sub indent str '%s' % indent str else sub indent str '%s|' % indent str if sub lines repr tree defs sub sub indent str return '\n'.join lines 
def parse boolean envvar val if not val or val in {'false' '0'} return Falseelif val in {'true' '1'} return Trueelse raise Value Error 'nvalidbooleanenvironmentvariable %s' % val 
def get free space dir name if on win free bytes ctypes ulonglong 0 ctypes Get Disk Free Space Ex W ctypes wchar p dir name None None ctypes free bytes return free bytes st os dir name return st bavail * st frsize 
def  get endpoint reviewer False active settings S I G N E D APPS REVIEWER SERVER ACTIVE if reviewer else settings S I G N E D APPS SERVER ACTIVE server settings S I G N E D APPS REVIEWER SERVER if reviewer else settings S I G N E D APPS SERVER if active if not server raise Value Error 'nvalidconfig The % 'reviewer' if reviewer else '' return server + '/1.0/sign app 
def do mark unsafe value return text type value 
def probvec m k random state None parallel True if k 1 return np m k random state check random state random state r random state sample size m k - 1 x np m k if parallel  probvec parallel r x else  probvec cpu r x return x 
def is admin name groups get user groups name True for group in groups if group in 'S-1-5-32-544' 'S-1-5-18' return Truereturn False 
def get pressure return  sensehat pressure 
def get gateway details args if args u gateway return get payment gateway account args u gateway if args payment gateway account frappe doc u Shopping Cart Settings .payment gateway accountreturn get payment gateway account payment gateway account gateway account get payment gateway account {u'is default 1} return gateway account 
def get Print Z Value line Block last Z -1 for line in line Block last Z get Value line 'Z' last Z if line 'G1' and get Value line 'X' None is not None or get Value line 'Y' None is not None breakreturn last Z 
def relu x return x * x > 0
def get source sid source Nonequery Source Source id sid source get one or else query app abort return source 
def build def use graph lparams analysis reach def analysis graph lparams UD defaultdict list for node in graph for i ins in node loc with ins for var in ins used vars if var not in analysis to loc continueldefs analysis def -1 for v in ldefs var set if prior def < v < i prior def vif prior def > 0 UD[ var i ].append prior def else intersect analysis to loc analysis R UD[ var i ].extend intersect DU defaultdict list for var loc defs loc in U D var loc var locfor def loc in defs loc DU[ var def loc ].append loc return UD DU
def datetime to csl dt return {'date-parts' [[dt.year dt dt 
def  key exists hive key use 32bit registry False if PY2 local hive  mbcs to unicode hive local key  unicode to mbcs key else local hive hivelocal key keyregistry Registry hkey registry hive mask registry 32[use 32bit registry handle  winreg Open Key hkey local key 0 access mask  winreg Close Key handle return Trueexcept Windows Error return False 
def does user exist email server secret appscale info secret return server user exist email secret 'true'
def prob quantize cdf binsx binsy cdf binsx np binsx binsy np binsy nx len binsx - 1 ny len binsy - 1 probs np * np nx ny cdf values cdf binsx None binsy cdf func lambda x y cdf values x y ] for xind in range 1 nx + 1 for yind in range 1 ny + 1 upper xind yind lower xind - 1 yind - 1 probs xind - 1 yind - 1 ] prob bv rectangle lower upper cdf func assert not np probs .any return probs 
def lookup Sender Policy name timeout None return get Resolver .ender Policy name timeout 
@abortsdef test require noniterable provided by key def fake providing function passrequire 'foo' provided by fake providing function 
def alerting Ms To Net Facility presence 0 User User presence 0 Ss Version Indicator presence 0 a Tp Pd pd 3 b Message Type mes Type 1 packet a / b if Facility presence is 1 c Facility Hdr iei F 28 eight Bit F 0 packet packet / c if User User presence is 1 d User User Hdr iei U U 126 eight Bit U U 0 packet packet / d if Ss Version Indicator presence is 1 e Ss Version Indicator Hdr iei S V I 127 eight Bit S V I 0 packet packet / e return packet 
def assert sp array equal left right check dtype True assert Is Instance left pd Sparse Array 'parse Array assert Is Instance right pd Sparse Array 'parse Array assert numpy array equal left values right values check dtype check dtype assert Is Instance left index pd sparse Sparse Index 'parse Index assert Is Instance right index pd sparse Sparse Index 'parse Index if not left index right index raise assert detail 'parse Array 'indexarenotequal' left index right index assert attr equal 'fill value left right if check dtype assert attr equal 'dtype' left right assert numpy array equal left right check dtype check dtype 
def get Window Analyze File Given Text file Name gcode Text repository None if gcode Text '' return Noneif repository None repository settings Read Repository Skeinlayer Repository skein Window get Window Given Text Repository file Name gcode Text repository skein Window Deiconify return skein Window 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def active children  cleanup return list  current process children 
def general return {'username' ['' 'admin' 'administrator'] 'password' ['' 'admin' 'administrator' 'password' '1234']}
def check ref format refname if '/.' in refname or refname '.' return Falseif '/' not in refname return Falseif '..' in refname return Falsefor i c in enumerate refname if ord refname i + 1 ] < 32 or c in BAD REF CHARS return Falseif refname -1 ] in '/.' return Falseif refname '.lock' return Falseif '@{' in refname return Falseif '\\' in refname return Falsereturn True 
def  Match Directive token if token '.' token token ]else return None None if token 'alternateswith' return ALTERNATES TOKEN token if token 'or' if token 'or' return OR TOKEN None else pred str token ].strip return OR TOKEN pred str if token 'end' return END TOKEN None match  SECTION R E token if match repeated section name match if repeated return REPEATED SECTION TOKEN section name else return SECTION TOKEN section name if token 'if' return PREDICATE TOKEN token ].strip if token '?' return PREDICATE TOKEN token return None None 
def processinfo processname p  process if processname 'inder p Nonep Noneelse p  processproperty processname 'appt' p  processproperty processname 'pusd' p  processproperty processname 'pvis' p  processproperty processname 'pisf' p  processproperty processname 'file' p  processproperty processname 'asty' p  processproperty processname 'fcrt' p  processproperty processname 'revt' p  processproperty processname 'hscr' return p 
def  Build Arg List fdesc names num Args max fdesc len fdesc names list names while None in names i names None names 'arg%d' % i names list map Make Public Attribute Name names num Args + 1 ] name num 0while len names < num Args names 'arg%d' % len names for i in range 0 len names 5 names names + '\n DCTB DCTB DCTB ' return ' ' + ' '.join names 
def remove content references content id if not settings F E A T U R E S 'MILESTONES APP' return Nonereturn milestones api content references content id 
def organization revision list context data dict  check access 'organization revision list context data dict return  group or org revision list context data dict 
@pytest.mark.usefixtures 'redirect webengine data @pytest.mark.parametrize 'js enabled expected [ True 2.0 False 2.0 ] def test simple js webengine callback checker webengineview js enabled expected from Py Qt5 Qt Web Engine Widgets import Q Web Engine Settingswebengineview .ttribute Q Web Engine Settings Javascript Enabled js enabled webengineview .ava Script '1+1' callback checker callback checker expected 
def cache dir *args if sys 'darwin' base os 'ibrary Caches elif sys 'win32' base os 'APPDATA' os 'pp Data Local elif os 'posix' base os 'XDG CACHE HOME' os '~/.cache' else base os '~/.cache' base os base 'range Orange  version   if sys 'win32' return os base 'ache else return base 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def  find pkg data path data name package None if package is None module find current module 1 True if module is None return data nameif not hasattr module u  package  ' or not module  package   if u in module  name   package module  name  .rpartition u [0]else package module  name  else package module  package  else module resolve name package rootpkgname package u [0]rootpkg resolve name rootpkgname module path os module  file   path os module path data name root dir os rootpkg  file   assert  is inside path root dir u + rootpkgname + u return path 
def p parameter declaration 2 t pass 
def sweep A fitnesses front stairs [ - fitnesses ]fstairs [fitnesses[0]]for fit in fitnesses ] idx bisect right stairs - fit if 0 < idx < len stairs fstair max fstairs idx key front  getitem   front max front front + 1 for i fstair in enumerate fstairs ] idx if front front del stairs fstairs idx - fit fstairs idx fit 
def Check Response Status response if response rdf data store Data Store Response Status O K return responseelif response rdf data store Data Store Response Status A U T H O R I Z A T I O N DENIED raise access control Unauthorized Access response desc response subject elif response rdf data store Data Store Response Status T I M E O U T ERROR raise data store Timeout Error response desc elif response rdf data store Data Store Response Status D A T A STORE ERROR raise data store Error response desc raise data store Error 'nknownerror % response desc 
def rand base length bad chars cset set chars - set list bad if len cset 0 return ''chars [list cset [random.randrange len cset ] for i in xrange length ]chars map str chars return ''.join chars 
def group add user group user id None username None if user id user get object User id user id else user get object User username username if user group set user 
def xl cell to rowcol abs cell str if not cell str return 0 0 False False match range parts cell str col abs match 1 col str match 2 row abs match 3 row str match 4 if col abs col abs Trueelse col abs Falseif row abs row abs Trueelse row abs Falseexpn 0col 0for char in reversed col str col + ord char - ord 'A' + 1 * 26 ** expn expn + 1row int row str - 1 col - 1return row col row abs col abs 
def read cache time f return struct '>LL' f 8
def is holiday employee date None holiday list get holiday list for employee employee if not date date today if holiday list return frappe all u Holiday List dict name holiday list holiday date date and True or False 
def get Preview layer return 200 Headers [ 'ontent Type 'text/html' ] Core preview layer 
def clear zipimport cache import sys zipimportsyspath backup list sys zipimport zip directory cache sys syspath backupsys importer cache 
def get download url for platform url templates platform info dict os ok Falsearchitecture ok Falsefor url template in url templates os name url template 'os' None architecture url template 'architecture' None if os name if os name platform info dict os ok Trueelse os ok Falseelse os ok Trueif architecture if architecture platform info dict architecture ok Trueelse architecture ok Falseelse architecture ok Trueif os ok and architecture ok return url templatereturn None 
def chunkize serial iterable chunksize as numpy False it iter iterable while True if as numpy wrapped chunk [[np.array doc for doc in itertools it int chunksize ]]else wrapped chunk [list itertools it int chunksize ]if not wrapped chunk break yield wrapped chunk 
def is User Pass password computed User Pass dict U revision if revision 5 v Salt dict U 4ash hashlib password + v Salt .digest if input Hash dict U 32] return Trueelse return Falseelif revision 3 or revision 4 if computed User Pass 16] dict U 16] return Trueelse return Falseelif revision < 3 if computed User Pass dict U return Trueelse return False 
def reservation create context uuid usage project id resource delta expire return I M P L create context uuid usage project id resource delta expire 
@not implemented for 'multigraph' def jit data G indent None json graph []for node in G json node {'id' node 'name' node node G G json node []for neighbour in G adjacency {o neighbour G node adjacency json graph json node return json json graph indent indent 
@app.route '/login' def login view redirect uri request 'redirect uri url for 'account view  external True return render template 'login.html' title 'ogin year datetime .year message 'ourloginpage redirect uri redirect uri 
def add acl group name description None group models Acl Group object name name description description group models User user return group 
def set gui mode global gui modegui mode True 
def get tests info input dir msg dir prefix suffix result []for fname in glob join input dir prefix + '*' + suffix infile basename fname fbase splitext infile [0]pyrestr fbase ' py 1 [ -1 ]if pyrestr if SYS VERS STR < pyrestr continueif pyrestr '_' and pyrestr ].isdigit if SYS VERS STR > pyrestr ] continuemessages glob join msg dir fbase + '*.txt' if messages for outfile in sorted messages reverse True py rest outfile ' py 1 [ -1 ][ -4 ]if py rest and SYS VERS STR > py rest breakelse outfile join msg dir fbase + '.txt' result infile outfile return result 
def format execution status instance start timestamp getattr instance 'start timestamp None end timestamp getattr instance 'end timestamp None if instance LIVEACTION STATUS RUNNING and start timestamp start timestamp instance timestampstart timestamp parse isotime start timestamp start timestamp calendar start timestamp now int time elapsed seconds now - start timestamp instance '%s %sselapsed ' % instance elapsed seconds elif instance in LIVEACTION COMPLETED STATES and start timestamp and end timestamp start timestamp parse isotime start timestamp start timestamp calendar start timestamp end timestamp parse isotime end timestamp end timestamp calendar end timestamp elapsed seconds end timestamp - start timestamp instance '%s %sselapsed ' % instance elapsed seconds return instance 
def get lexer for filename  fn code None **options matches []fn basename  fn for modname name _ filenames _ in L E X E R S for filename in filenames if fnmatch fn filename if name not in  lexer cache  load lexers modname matches  lexer cache for cls in find plugin lexers for filename in cls if fnmatch fn filename matches cls if sys info > 3 and isinstance code bytes code code 'latin1' def get rating cls d cls text code return dif code matches key get rating if matches return matches -1 ] **options raise Class Not Found 'nolexerforfilename%rfound' %  fn 
def combine images im1 im2 alpha return 1 - alpha * im1 + alpha * im2 
def arg string func return inspect *inspect.getargspec func 
def auto complete request queryset fields None object list []limit request G E T 'limit' 10 query request G E T 'term' '' if fields q object Q for field in fields q object | Q **{field query queryset queryset q object for obj in queryset limit object list {'text' obj  unicode   'id' obj return Http Response json object list mimetype 'application/json'
def set rollback rollback using None return get connection using .set rollback rollback 
def assert python failure *args **env vars return  assert python False *args **env vars 
def union all graphs rename None name None graphs names zip longest graphs rename U gname next graphs names for H hname in graphs names U nx U H gname hname name name gname Nonereturn U
def get Date Time value None if value is None return datetime if isinstance value datetime return valueif isinstance value datetime return datetime value if isinstance value int float return datetime value if isinstance value str raise Not Implemented Error "tringsaren if hasattr value '  getitem  ' return datetime *tuple value [ 6] return datetime value 
def  patch config section desc monkeypatch stubs symbol section desc {'general' 'eneral 'ui' 'eneraloptionsrelatedtotheuserinterface 'searchengines' 'efinitionsofsearchengines symbol section desc 
def  extract id token id token if type id token bytes segments id token '.' else segments id token u if len segments ! 3 raise Verify Jwt Token Error 'rongnumberofsegmentsintoken {0}'.format id token return json  helpers from bytes  helpers urlsafe b64decode segments 
def loadavg try load avg os except Attribute Error raise salt Command Execution Error 'status.loadavagisnotavailableonyourplatform' return {'1-min' load avg '5-min' load avg '15-min' load avg 
def setegid gid gid parse gid gid if gid ! os os gid 
def do striptags value if hasattr value '  html  ' value value  html   return Markup unicode value .striptags
def facility user signup request if getattr request 'is logged in False return Http Response Redirect reverse 'homepage' if settings D I S A B L E SELF ADMIN raise Permission Denied _ 'leasecontactacoachoradministratortoreceivelogininformationtothisinstallation if settings C E N T R A L SERVER raise Http404 _ 'oumaynotsignupasafacilityuseronthecentralserver title _ 'ignupforanaccount return  facility user request new user True title title 
def db get name **connection args dbc  connect **connection args if dbc is None return []cur dbc qry 'SELECTDEFAULT CHARACTER SET NAME DEFAULT COLLATION NAMEFROMINFORMATION SCHEMA.SCHEMATAWHERESCHEMA NAME % dbname s {'dbname' name execute cur qry args if cur rows cur return {'character set rows 'collate' rows {}
def save minions jid minions syndic id None pass 
def  dict deep update d u for k v in u if isinstance v collections Mapping r  dict deep update d k {} v d relse d u d 
def get Starting Address packet return ord packet << 8 + ord packet 
def  parse pre yarn counters counters str counters {}for group match in  PRE YARN COUNTER GROUP R E counters str group name  pre yarn history unescape group match 'group name group counters {}for counter match in  PRE YARN COUNTER R E group match 'counter list str counter name  pre yarn history unescape counter match 'counter name amount int counter match 'amount' group counters name amountcounters name group countersreturn counters 
def environ add path env key path old env key if old env path + ' ' + old else env path 
def check derivative fun jac x0 bounds - np np args kwargs {} J to test jac x0 *args **kwargs if issparse J to test J diff approx derivative fun x0 bounds bounds sparsity J to test args args kwargs kwargs J to test csr matrix J to test abs err J to test - J diff i j abs err data find abs err J diff data np J diff i j ] .ravel return np np abs err data / np 1 np J diff data else J diff approx derivative fun x0 bounds bounds args args kwargs kwargs abs err np J to test - J diff return np abs err / np 1 np J diff 
def free swap out sh 'free-b' lines out '\n' for line in lines if line 'wap _ total used free line nt collections 'free' 'totalusedfree' return nt int total int used int free raise Value Error "wap \n%s" % '\n'.join lines 
def  count replacement codon set G from math import floorif len codon set 1 return 0 0 elif len codon set 2 codons list codon set return floor G else codons list codon set return  prim G
def pairwise iterable it iter iterable try first next it except Stop Iteration returnfor second in it yield first second first second 
def get fixed timezone offset if isinstance offset timedelta offset offset // 60 sign '-' if offset < 0 else '+' hhmm '%02d%02d' % divmod abs offset 60 name sign + hhmm return Fixed Offset offset name 
def is short w return is short syllable w -3 ] and len [ch for ch in w -3 ] if ch in VOWELS ] 0
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
@genericdef inspect object obj raise Try Next 
def norm l1 tf Z shape n orient if Z n positions Z // n orient Z  np np np Z ** 2.0 .reshape n orient -1 order 'F' axis 0 Z  Z .reshape n positions -1 order 'F' .reshape *shape l1 norm 2.0 * Z .sum axis 2 .sum axis 1 - np Z [ 0 ] axis 1 - np Z [ -1 ] axis 1 l1 norm l1 norm else l1 norm 0.0return l1 norm 
def  get method name func def method self *args **kw return func self *args **kw method  name   namereturn method 
def destroy instance id call None if call 'function' raise Salt Cloud System Exit 'hedestroyactionmustbecalledwith --destroy -aor--action.' instance data show instance instance id call 'action' name instance data name  utils  ['cloud.fire event 'event' 'destroyinginstance' 'salt/cloud/{0}/destroying'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] params {'action' 'erminate Instances 'zone'  get specified zone provider get configured provider 'instances.1' instance id query params   utils  ['cloud.fire event 'event' 'destroyedinstance' 'salt/cloud/{0}/destroyed'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def is encrypted path if path '/dev/mapper' return path '/' [2].endswith  dmcrypt suffix else return False 
def test proxy  test function names gl  test constant names gl constants 
def build averaged flowgrams mapping sff fp min coverage 50 out fp None l len mapping flowgrams header lazy parse sff handle open sff fp header Reads lheader Index Length ' A out fp out filename out fpelse fd out filename mkstemp dir '/tmp/' prefix 'prefix dereplicated suffix '.sff.txt' close fd outhandle open out filename 'w' write sff header header outhandle seqs {}sample keys sample mapped keys mapping min coverage for ave f id in  average flowgrams mapping flowgrams sample keys outhandle ave f Flow Header + '\n' ave f Bases ave f Seq seqs ave f Basesouthandle return out filename seqs 
def get referent by identifier category value try identifier Identifier one Q 'category' 'eq' category & Q 'value' 'eq' value except No Results Found raise H T T P Error http N O T FOUND if identifier return redirect identifier raise H T T P Error http N O T FOUND
def start subprocess cmd return subprocess Popen cmd stdout DEVNULL stderr DEVNULL
def Apply Plugin To Multi Type Collection plugin output collection for chunk in plugin Start yield chunk for stored type name in sorted output collection List Stored Types stored cls rdfvalue R D F Value type name Get Values for timestamp value in output collection Scan By Type stored type name _ timestamp yield value for chunk in plugin Process Values stored cls Get Values yield chunk for chunk in plugin Finish yield chunk 
def unwrap url url url if url 1] '<' and url -1 ] '>' url url -1 ].strip if url 4] 'URL ' url url ].strip return url 
def sm volume delete context volume id return I M P L volume delete context volume id 
def unpack session item  init globals session  SESSION H A N D L E R item if session and session time item return sessionreturn None 
def fix method name name if keyword name or name in RESERVED WORDS return name + '_' else return name 
def  extract attached to disk users disk 'users' [] if not users return Noneif len users > 1 raise G C E Volume Exception 'olumeisattachedtomorethanoneinstance {}'.format disk return unicode users '/' [ -1 ]
def unwrap function func max depth 10 iteration 0wrapped getattr func '  wrapped  ' None while wrapped and iteration < max depth func wrappedwrapped getattr func '  wrapped  ' None iteration + 1return func 
def  generate faux mime message parser response content if not isinstance content six type content content 'utf-8' content type response not isinstance content type six type content type content type 'utf-8' faux message ''.join [ontent Type ' content type ' I M E Version 1.0\n\n' content if six P Y2 return parser faux message else return parser faux message 'utf-8'
@jit nopython True cache True def min ratio test no tie breaking tableau pivot test col argmins num candidates ratio min np argmins 0for k in range num candidates i argmins tableau i pivot ] < TOL PIV continueratio tableau i test col ] / tableau i pivot ] if ratio > ratio min + TOL RATIO DIFF continueelif ratio < ratio min - TOL RATIO DIFF ratio min rationum argmins 1else num argmins + 1argmins[ num argmins - 1 ] ireturn num argmins 
def pygraphviz layout G prog 'neato' root None args '' try import pygraphvizexcept Import Error raise Import Error 'requirespygraphviz' 'http //pygraphviz.github.io/' if root is not None args + 'root %s' % root A to agraph G A prog prog args args node pos {}for n in G node pygraphviz Node A n try xx yy node ' ' node pos float xx float yy except print 'nopositionfornode' n node pos 0.0 0.0 return node pos 
def test has release assert equals lettuce 'kryptonite'
def none Test vm prompt Prompt install Pexpect vm prompt vm 'echo'
def get vf num by pci address pci addr VIRTFN RE re 'virtfn \\d+ ' virtfns path '/sys/bus/pci/devices/%s/physfn/virtfn*' % pci addr vf num Nonetry for vf path in glob virtfns path if re pci addr os vf path t VIRTFN R E vf path vf num t 1 breakexcept Exception passif vf num is None raise exception Pci Device Not Found By Id id pci addr return vf num 
def validate overlap for doc doctype fieldname value None existing get overlap for doc doctype fieldname value if existing frappe _ u This .format doc existing doc label fieldname if not value else fieldname value or doc fieldname Overlap Error 
def get configured provider return config provider configured   opts     active provider name   or   virtualname   'user' 'password' 'url'
def network in use on host context network id host None return I M P L in use on host context network id host 
def local merge model main cfg gitcfg view Merge View cfg model qtutils window view view  return view 
def set inactdays name inactdays pre info info name if inactdays pre info return Truecmd ' inactdays name   salt  ['cmd.run'] cmd python shell False post info info name if post info ! pre info return post info inactdays return False 
def libvlc media list player event manager p mlp f  Cfunctions 'libvlc media list player event manager None or  Cfunction 'libvlc media list player event manager 1 class result Event Manager ctypes void p Media List Player return f p mlp 
def install requirement virtualenv path requirement pip path os virtualenv path 'bin/pip' cmd [pip path 'install' requirement get env for subprocess command exit code stdout stderr run command cmd cmd env env if exit code ! 0 raise Exception 'ailedtoinstallrequirement %s' % requirement stdout return True 
def git wrapper path path os path if path not in  wrapper cache if hasattr Repo 'commits'  wrapper cache  Git Wrapper Legacy path else  wrapper cache  Git Wrapper path return  wrapper cache 
def  should index collection rights rights manager collection rights collection return rights ! rights manager A C T I V I T Y STATUS PRIVATE
def init Repeat container func n return container func for _ in xrange n 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def create attachments note formset errors []for form in formset if not form valid errors form continuedata form dataif not data continueattachment data name  save attachment attachment '%s/%s' % settings R E V I E W E R ATTACHMENTS PATH attachment note description data 'description' filepath attachment name mimetype attachment type return errors 
def binop return dtype op left right if is comparison op if left ! right raise Type Error "on Comparisonsareonlysupportedbetween Factorsofequaldtypes left left op op right right return bool dtypeelif left ! float64 dtype or right ! float64 dtype raise Type Error "on Arithmeticoperatorsareonlysupportedbetween Factorsofdtype left left op op right right return float64 dtype 
def  permutation test score estimator X y groups cv scorer avg score []for train test in cv X y groups X train y train  safe split estimator X y train X test y test  safe split estimator X y test train estimator X train y train avg score scorer estimator X test y test return np avg score 
def alter Widdershins Supported Path along Away close along Away Points [way Y get Minimum Y By Path along Away for point in along Away if point - along Away Y < close along Away To Bottom Points point ascending Y Points along Away ] Points compare Y Ascending overhang Widdershins Left Overhang Widdershins Left along Away overhang Widdershins Right Overhang Widdershins Right along Away for point in ascending Y Points alter Widdershins Supported Path By Point along Away overhang Widdershins Left overhang Widdershins Right point 
def ansi highlight classified text colors default ansi result []for kind text in classified text opener closer colors kind '' '' result + [opener text closer ''.join result 
def roc auc score y true y score average 'macro' sample weight None def  binary roc auc score y true y score sample weight None if len np y true ! 2 raise Value Error 'nlyoneclasspresentiny true R O C A U Cscoreisnotdefinedinthatcase fpr tpr tresholds roc curve y true y score sample weight sample weight return auc fpr tpr reorder True return  average binary score  binary roc auc score y true y score average sample weight sample weight 
def set data dir directory None create False save False if directory is None directory  data pathif  data path is None raise I O Error 'defaultpathcannotbedetermined pleasesetitmanually directory None ' if not op directory if not create raise I O Error 'directory"%s"doesnotexist perhapstrycreate Truetocreateit % directory os directory config data path directory if save save config data path directory 
def quantize amount to string amount return '%i%%' % int amount * 100.0
def p storage class specifier t pass 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def launchd attrs None where None if salt darwin return  osquery cmd table 'launchd' attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def  get cpu policy constraints flavor image meta flavor policy image policy  get flavor image meta 'cpu policy flavor image meta if flavor policy fields C P U Allocation Policy D E D I C A T E D cpu policy flavor policyelif flavor policy fields C P U Allocation Policy S H A R E D if image policy fields C P U Allocation Policy D E D I C A T E D raise exception Image C P U Pinning Forbidden cpu policy flavor policyelif image policy fields C P U Allocation Policy D E D I C A T E D cpu policy image policyelse cpu policy fields C P U Allocation Policy S H A R E Dreturn cpu policy 
def  get timezone name timezone try return timezone Attribute Error local now datetime timezone return timezone local now 
def get X Intersection If Exists begin Complex end Complex y if y > begin Complex y > end Complex return Noneend Minus Begin Complex end Complex - begin Complex return y - begin Complex / end Minus Begin Complex * end Minus Begin Complex + begin Complex 
def set virt type self vtype if vtype '<<inherit>>' self type '<<inherit>>'returnif vtype not in ['qemu' 'kvm' 'xenpv' 'xenfv' 'vmware' 'vmwarew' 'openvz' 'auto'] raise CX _ 'invalidvirttype %s ' % vtype self type vtype 
def process fastq single end read file no barcode fastq read f sample id store unassigned False max bad run length 0 phred quality threshold 2 min per read length fraction 0.75 rev comp False seq max N 0 start seq id 0 filter bad illumina qual digit False log f None histogram f None phred offset None fake barcodes cycle ['@' 'AAAAAAAAAAAA' '+' 'CCCCCCCCCCCC'] barcode to sample id {'AAAAAAAAAAAA' sample id e in process fastq single end read file fastq read f fake barcodes barcode to sample id store unassigned store unassigned max bad run length max bad run length phred quality threshold phred quality threshold min per read length fraction min per read length fraction rev comp rev comp rev comp barcode False seq max N seq max N start seq id start seq id filter bad illumina qual digit filter bad illumina qual digit log f log f histogram f histogram f barcode correction fn None max barcode errors 0 strict header match False phred offset phred offset yield e 
def remove chars string repl if type string str return string maketrans '' '' repl elif type string unicode return string dict [ ord s None for s in repl 
def from 1D to 2D constant if isinstance constant np and constant 1 return np constant .else return constant 
def read buffer request return Http Response request 99999
def mon is **kwargs return ceph cfg is **kwargs
def save cert domain master result   salt  ['cmd.run'] 'icinga2pkisave-cert--key/etc/icinga2/pki/{0}.key--cert/etc/icinga2/pki/{0}.cert--trustedcert/etc/icinga2/pki/trusted-master.crt--host{1}'.format domain master return result 
def identify user g addr request u H T T P X FORWARDED FOR' u if not g addr g addr request u R E M O T E ADDR' u Unknown I P Address authenticators p Plugin Implementations p I Authenticator if authenticators for item in authenticators item if g breakif not getattr g u None  identify user default if g and not getattr g u None g model User name g if g g g g g addrg unicode g 
def deep dict obj return json json obj 
def publish collection and update user profiles committer id collection id rights manager collection committer id collection id contribution time msec utils current time in millisecs collection summary get collection summary by id collection id contributor ids collection summary idsfor contributor in contributor ids user services first contribution msec if not set contributor contribution time msec 
def clipped relu x z 20.0 return Clipped Re L U z x 
def  deep deannotate element values None cloned util dict def clone elem if values or elem not in cloned newelem elem deannotate values values clone True newelem copy internals clone clone if not values cloned newelemreturn newelemelse return cloned element is not None element clone element return element 
def is code line indent depth 4 if line u * indent depth return len line - len line u return 0
@lower setattr generic types Record def record setattr context builder sig args attr typ valty sig target val argscontext record alignment typ attr offset typ attr elemty typ attr dptr cgutils record member builder target offset context data type elemty val context builder val valty elemty align None if typ else 1 context value builder elemty val dptr align align 
def vector as matrix v return [[v i for v i in v 
def read packet data local sock remote addr opcode unpack '!H' data 2] if opcode < 1 or opcode > 6 logging 'nknownrequestid % opcode remote addr local sock E R R O R Packet 0 'nknownrequest .marshall remote addr return Noneif R E Q U E S T S R E Q CLASS] is None if opcode ! TFTP OPCODE ERROR logging 'nsupportedrequest %s from % opcode R E Q U E S T S R E Q NAME] remote addr local sock E R R O R Packet 2 'nsupportedrequest .marshall remote addr return Nonetry return R E Q U E S T S R E Q CLASS] data local sock remote addr except return None 
def games gen year week None home None away None kind 'REG' started False infos  search schedule year week home away kind started if not infos return Nonedef gen for info in infos g nflgame Game info if g is None continue yield g return gen 
def text charp if not charp return ''return native ffi charp 
def  Cycle value unused context args return args value - 1 % len args ]
def list shared folders users try return   salt  ['group.info']  shared folders group ['members']except Key Error return []
def add Geometry List element Node faces for face in faces face Element xml simple reader Element Node face To Attributes face Element face Element Name 'lement Node element Nodeelement Node Nodes face Element 
def  sysv enabled name for match in glob ' %  runlevel name if re ' 2}%s' % name os match return Truereturn False 
def  process os dir directory files template linters options summary results out for current file in sorted files key lambda s s full path os directory current file  process file full path template linters options summary results out 
def mahalanobis u v VI u  validate vector u v  validate vector v VI np 2d VI delta u - v m np np delta VI delta return np m 
def get diagonal subtensor view x i0 i1 i0 int i0 i1 int i1 if x < x raise Not Implemented Error 'isthisallowed?' idx [slice None ] * x idx slice x - 1 None None xview x  getitem   tuple idx strides list xview if x ! 1 strides - strides stridesreturn xview 
def get sans from csr csr typ Open S S L F I L E T Y P E PEM return  get sans from cert or req csr Open S S L certificate request typ 
def markdown set field escaped obj field escaped if escaped markdown escape field obj field else markdown unescape field obj field 
def  mask border keypoints image shape keypoints distance rows image shape image shape distance - 1 < keypoints 0] & keypoints 0] < rows - distance + 1 & distance - 1 < keypoints 1] & keypoints 1] < cols - distance + 1 return mask 
@with setup step runner environ def test undefined behave as step doesnt pass runnable step Step string 'iven Ihaveastepwhichcallsthe as assert raises Assertion Error runnable step True assert false runnable step 
def ipv6 addr addr return   ip addr addr socket A F INET6
def  orm deannotate element return sql util deep deannotate element values ' orm adapt 'parententity'
def fix keys data new data []if isinstance data list for n in xrange len data if isinstance data dict new {}for key in data new key ] data new data data new return new data 
def get Bottom Path path bottom 999999999.9for point in path bottom min bottom point return bottom 
def arma2ar ar ma nobs 100 return arma impulse response ma ar nobs nobs 
def  get installed models table list from django import modelsall models []for app in models apps for model in models models app all models model return set [m for m in all models if m meta table in table list ]
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def get Plugin File Names From Directory Path directory Path file In Directory os directory Path '  init  .py' full Plugin File Names get Python File Names Except Init file In Directory plugin File Names []for full Plugin File Name in full Plugin File Names plugin Basename os full Plugin File Name plugin Basename get Until Dot plugin Basename plugin File Names plugin Basename return plugin File Names 
def to Dicts articles u Articles to Unicode articles return dict [ x x for x in articles dict [ x x for x in u Articles 
def nova import no db in virt logical line filename if 'nova/virt' in filename and not filename 'fake.py' if logical line 'fromnovaimportdb' yield 0 'N307 nova 
def  ask user to confirm new names config new domains certname old domains if config with new domains returnmsg 'onfirmthatyouintendtoupdatecertificate Notethatitpreviouslycontaineddomains certname new domains old domains obj zope Utility interfaces I Display if not obj msg 'pdatecert 'ancel default True raise errors Configuration Error 'pecifiedmismatchedcertnameanddomains 
def getmodulename path info getmoduleinfo path if info return info 
def  handle existing loggers existing child loggers disable existing root logging log in existing logger root Dict log in child loggers logger logging N O T S E Tlogger []logger.propagate Trueelse logger disable existing 
def create users n users for i in range 0 n users user Profile user 'user %s' % i user 
def create volume service test service Volume Service File Path test Filesystem Storage Pool File Path test reactor Clock service Service test Cleanup service Service return service 
def run fasta checks input fasta fp mapping fp tree fp None tree subset False tree exact match False same seq lens False all ids found False suppress barcode checks False suppress primer checks False fasta report {} sample ids barcodes linkerprimerseqs get mapping details mapping fp suppress barcode checks suppress primer checks fasta labels get fasta labels input fasta fp total seq count len fasta labels fasta report labels fasta report ids get dup labels perc fasta labels fasta report labels fasta report ids map check labels sampleids fasta labels sample ids total seq count fasta report seq chars fasta report detected fasta report detected fasta report at start check fasta seqs input fasta fp barcodes linkerprimerseqs total seq count if same seq lens fasta report seq lens check fasta seqs lens input fasta fp else fasta report seq lens Falseif all ids found fasta report ids found check all ids fasta labels sample ids else fasta report ids found Falseif tree subset fasta report subset check tree subset fasta labels tree fp else fasta report subset Falseif tree exact match fasta report exact match check tree exact match fasta labels tree fp else fasta report exact match Falsereturn fasta report 
def refine Relational expr assumptions return ask Q true expr assumptions 
@after.each scenariodef screenshot on error scenario if scenario try output dir '{}/log'.format settings T E S T ROOT image name '{}/{}.png'.format output dir scenario '' '_' world screenshot image name except Web Driver Exception L O G G E R 'ouldnotcaptureascreenshot 
def noisy max logits lap scale return clean votes False labels labels from probs logits labels shape np labels labels labels labels shape labels shape result np int labels shape if return clean votes clean votes np int labels shape 10 for i in xrange int labels shape label counts np labels i minlength 10 if return clean votes clean votes label countslabel counts np label counts dtype np for item in xrange 10 label counts + np loc 0.0 scale float lap scale result np label counts result np result dtype np if return clean votes return result clean votes labels else return result 
def trace cls name **kwargs def decorator cls if profiler and 'profiler' in CONF and C O N F trace decorator profiler cls name kwargs return trace decorator cls return clsreturn decorator 
def  check touch name atime mtime if not os name return None 'ile name stats   salt  ['file.stats'] name follow symlinks False if atime is not None if str atime ! str stats return None 'imessettobeupdatedonfile name if mtime is not None if str mtime ! str stats return None 'imessettobeupdatedonfile name return True 'ile name 
def Handle environ error logservice Logs Buffer request environment request Init error environ response {'error' 0 'response code 200}try request id environ B A C K G R O U N D REQUEST ID] pending background threads Run Background Thread request id return responseexcept exception sys info tb exception nextif tb tb tb nextmessage ''.join traceback exception exception exception tb logging message response code 500response['error'] 1return responsefinally request environment request Clear response error logs 
def make url parser global conf directory base python name index names None hide extensions None ignore extensions None **constructor conf if index names is None index names global conf 'index names 'index' 'ndex 'main' 'ain index names converters index names if hide extensions is None hide extensions global conf 'hide extensions '.pyc' 'bak' 'py~' hide extensions converters hide extensions if ignore extensions is None ignore extensions global conf 'ignore extensions ignore extensions converters ignore extensions return U R L Parser {} directory base python name index names index names hide extensions hide extensions ignore extensions ignore extensions **constructor conf 
def uifftn inarray dim None if dim is None dim inarray np inarray axes range - dim 0 return outarray * np np inarray - dim ]
def Embl Cds Feature Iterator handle alphabet Alphabet protein return Embl Scanner debug 0 .parse cds features handle alphabet 
def native String s if not isinstance s bytes unicode raise Type Error '%risneitherbytesnorunicode' % s if  PY3 if isinstance s bytes return s 'ascii' else s 'ascii' elif isinstance s unicode return s 'ascii' else s 'ascii' return s 
def api level cmd name if cmd in  api table return  api table name 'queue' and cmd in  api queue table return  api queue table name 'config' and cmd in  api config table return  api config table 4
def disjoint sets sets list sets n len sets disjoint sets [one * 2 ** n for i in range 2 ** n key setkey i n included [s for s inc in zip sets key if inc [s for s inc in zip sets key if not inc ]if any included s reduce set included else s set s reduce set excluded s disjoint sets sreturn disjoint sets 
def remove function outliers function if function 'block' return 'block'return  ruby anon func ' <anon>' function 
def  invert selem selem inverted selem slice None None -1 * selem ]return inverted 
def  req body property def getter self body self self String I O body return bodydef setter self value self String I O value self C O N T E N T LENGTH'] str len value return property getter setter doc 'etandsettherequestbodystr 
def test hsl to rgb part 2 assert hsl to rgb 360 100 50 255 0 0 assert hsl to rgb 420 100 50 255 255 0 assert hsl to rgb 480 100 50 0 255 0 assert hsl to rgb 540 100 50 0 255 255 assert hsl to rgb 600 100 50 0 0 255 assert hsl to rgb 660 100 50 255 0 255
def  minpoly mul x dom *a mp  minpoly op algebraic element Mul a a x dom p a * a for px in a ] mp  minpoly op algebraic element Mul p px x dom mp1 mp p p * px return mp 
def collect glib translations prog global  glib translationsif  glib translations is None  glib translations collect glib share files 'locale' names [ os + prog + '.mo' os + prog + '.po' ]namelen len names return [ src dst for src dst in  glib translations if src - namelen ] in names ]
def delete versions project version data current versions []if 'tags' in version data for version in version data current versions version if 'branches' in version data for version in version data current versions version to delete qs project to delete qs to delete qs identifier  in current versions to delete qs to delete qs uploaded True to delete qs to delete qs active True to delete qs to delete qs slug  in NON REPOSITORY VERSIONS if to delete qs ret val {obj.slug for obj in to delete qs ' Sync Versions Deleted Versions [%s]' % ''.join ret val to delete qs return ret valelse return set 
def freeze login details mc kwargs mm kwargs for cls kwargs in Musicmanager mm kwargs Mobileclient mc kwargs freeze method kwargs cls u **kwargs
def test syntax error with non ascii chars testdir testdir u U T F result testdir result lines [ R R O Rcollecting 'yntax Error '*1errorin*']
def checkout branch branch choose potential branch N  u Checkout Branch N  u Checkout if not branch returncmds cmds Checkout Branch branch 
def create path *args return os *args
def get alarm name region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile alarms conn alarms alarm names [name] if len alarms 0 return Noneif len alarms > 1 log "multiplealarmsmatchedname'{0}'".format name return  metric alarm to dict alarms 
def Check Installed Library name desired dependencies P A C K A G E S dependencies for dep name dep version in dependencies Allow Installed Library dep name dep version Check Installed Version name desired explicit True 
def align Value value align if value % align ! 0 return value + align - value % align else return value 
def sel N S G A2 individuals k nd 'standard' if nd 'standard' pareto fronts sort Nondominated individuals k elif nd 'log' pareto fronts sort Log Nondominated individuals k else raise Exception ' S G A2 Thechoiceofnon nd for front in pareto fronts assign Crowding Dist front chosen list chain *pareto fronts -1 ] k k - len chosen if k > 0 sorted front sorted pareto fronts -1 ] key attrgetter 'fitness.crowding dist reverse True chosen sorted front k return chosen 
def  parse pattern source info branches [parse sequence source info ]while source '|' branches parse sequence source info if len branches 1 return branches Branch branches 
def print range range list return '{}->{}'.format range list range list -1 ]
def is unbound method fn is bound is bound method fn if not is bound and inspect fn spec getargspec fn has self len spec > 0 and spec 'self' if PY2 and inspect fn return Trueelif inspect fn and has self return Truereturn False 
def list policies ret {}cmd   execute kadmin 'list policies if cmd ! 0 or cmd ret cmd [ -1 ]ret['result'] Falsereturn retret {'policies' []}for i in cmd [1 ] ret i return ret 
def get Plugins interface package None if package is None import twisted as packageall Dropins get Cache package for key dropin in iteritems all Dropins for plugin in dropin try adapted interface plugin None except log else if adapted is not None yield adapted 
def s3 get utc offset offset Nonesession current current in current logged in if logged in offset session offsetif offset offset offset if not offset offset request vars ' utc offset None if offset offset int offset utcstr offset < 0 and '+' or '-' hours abs int offset / 60 minutes abs int offset % 60 offset '%s%02d%02d' % utcstr hours minutes if logged in session offset offsetif not offset offset current settings L10n offsetsession offset offsetreturn offset 
def runscope registry xml parent data runscope X M L Sub Element xml parent 'unscope Runscope Builder runscope 'plugin' 'runscope' mapping [ 'test-trigger-url' 'nd Point None 'access-token' 'oken None 'timeout' 'timeout' 60 ]convert mapping to xml runscope data mapping fail required True 
def run pyflakes no warnings False files list files '.py' rval {}for filepath in files output rc run shell command 'pyflakes' + filepath output output sys if u notfound in output raise Runtime Error "ouldn + filepath + "rrorcodereturned " + str rc + 'utputwas ' + output output  filter output no warnings if output is not None rval outputreturn rval 
def  do scale test scaled row sum scaled axis 1 col sum scaled axis 0 if issparse scaled row sum np row sum .squeeze col sum np col sum .squeeze assert array almost equal row sum np row sum 100 decimal 1 assert array almost equal col sum np col sum 100 decimal 1
def  parse exchange token response content resp {}content  helpers from bytes content try resp json content except Exception resp  helpers unique urlencoded content if resp and 'expires' in resp resp in resp 'expires' return resp 
def  Get System Stats request system service pb Get System Stats Request response system service pb Get System Stats Response apiproxy stub map Make Sync Call 'system' 'et System Stats request response return response 
def getencoder encoding return lookup encoding .encode
def triplet anchor positive negative margin 0.2 return Triplet margin anchor positive negative 
def extract option object option @optiondef opt passreturn opt  click params  [0]
def get Mirror Path path close 0.001 * get Path Length path for point Index in xrange len path - 1 -1 -1 point path Index Point complex - point point if abs flip Point - path -1 ] > close path flip Point return path 
def  netbios getnode import win32wnet netbiosncb netbios N C B ncb Command netbios N C B E N U Mncb Buffer adapters netbios L A N A ENUM adapters pack if win32wnet Netbios ncb ! 0 returnadapters unpack for i in range adapters ncb Reset ncb Command netbios N C B R E S E Tncb Lana num ord adapters if win32wnet Netbios ncb ! 0 continuencb Reset ncb Command netbios N C B A S T A Tncb Lana num ord adapters ncb Callname '*'.ljust 16 ncb Buffer status netbios A D A P T E R STATUS if win32wnet Netbios ncb ! 0 continuestatus unpack bytes status address 6]if len bytes ! 6 continuereturn int bytes bytes 'big'
def flush Errors *ypes warnings 'rrorsisdeprecatedsince Twisted2 Ifyouneedtoflusherrorsfromwithinaunittest use Test Case Logged Errorsinstead category Deprecation Warning stacklevel 2 return  flush Errors *ypes 
def preprocess options args search for i 0while i < len args arg args arg '--' try option val arg ].split ' ' 1 except Value Error option val arg ] None try cb takearg search for Key Error i + 1else del args takearg and val is None if i > len args or args '-' msg 'ption % option raise Argument Preprocessing Error msg val args args not takearg and val is not None msg "ption % option raise Argument Preprocessing Error msg cb option val else i + 1
def serial proxy if proxy return {'serial'  get grain proxy 'serial number }
def  make seg w prime w per topic postings measure gamma backtrack num docs context vectors {}if isinstance w prime np for w j in w for w i in w prime if w i w j not in backtrack backtrack w i w j ] measure [[ w i w j ]] per topic postings num docs measure [0]if w j not in context vectors context vectors j backtrack w i w j ] ** gamma else context vectors j + backtrack w i w j ] ** gamma else for w j in w if w prime w j not in backtrack backtrack w prime w j ] measure [[ w prime w j ]] per topic postings num docs measure [0]context vectors j backtrack w prime w j ] ** gamma return context vectors backtrack 
def strip non float chars s return re '[^-+0123456789.]+' '' six type s 
def shutdown delay 0 message None cmd ['shutdown' '-i' '5' '-g' delay '-y']if message cmd message ret   salt  ['cmd.run'] cmd python shell False return ret 
def  coerce to type x dtype Noneif is timedelta64 dtype x x to timedelta x .view np dtype np is datetime64 dtype x x to datetime x .view np dtype np x dtype 
def generate lines text for line in text True yield line while True yield ''
def deprecated version replacement None def deprecation Decorator function 'ecoratorthatmarks C String get Deprecation Warning String function version None replacement @wraps function def deprecated Function *args **kwargs warn warning String Deprecation Warning stacklevel 2 return function *args **kwargs  append To Docstring deprecated Function  get Deprecation Docstring version replacement deprecated Function Version versionreturn deprecated Functionreturn deprecation Decorator 
def  invalidate star import cache module module only main False try t modules  time caches import cache validity Key Error passelse del  time caches import cache validity 
def monomial divides A B return all a < b for a b in zip A B
def  calculate normals rr tris rr rr np r1 rr 0] ]r2 rr 1] ]r3 rr 2] ]tri nn  fast cross 3d r2 - r1 r3 - r1 size np np tri nn * tri nn axis 1 size size 0 ] 1.0tri nn / size np len rr nn np npts 3 for verts in tris T for idx in range 3 nn idx + np verts np tri nn idx minlength npts size np np nn * nn axis 1 size size 0 ] 1.0nn / size np nn 
def experience s3 FS 'person id resource 1 return s3db experience controller 
def  count nans per row sparse X weights items per row 1 if X 1 else X counts np X * items per row nnz per row np X minlength len counts counts - nnz per rowif weights is not None counts * weightsreturn np counts 
def host list **connection args conn args  login **connection args try if conn args method 'host.get'params {'output' 'extend'}ret  query method params conn args conn args return ret raise Key Errorexcept Key Error return False 
def iter ret opts ret if not opts job cache raise Stop Iterationget load '{0}.get load opts job cache get jid '{0}.get jid opts job cache get jids '{0}.get jids opts job cache if get load not in ret raise Stop Iterationelse get load ret load get jid not in ret raise Stop Iterationelse get jid ret jid get jids not in ret raise Stop Iterationelse get jids ret jids jid in get jids jids {}jids['load'] get load jid jids get jid jid jids jid yield jids 
def  extract inventory body schema data util json body schema inventory data copy INVENTORY DEFAULTS inventory data data return inventory data 
def center loss features label alfa nrof classes nrof features features shape [1]centers tf variable 'centers' [nrof classes nrof features dtype tf initializer tf initializer 0 trainable False label tf label [ -1 ] centers batch tf centers label diff 1 - alfa * centers batch - features centers tf sub centers label diff loss tf loss features - centers batch return loss centers 
def test freeze with pip script result script 'freeze' '--all' assert 'pip ' in result 
def  fork win32 args cwd None if args u args [sys.executable] + args args  win32 find exe args if PY3 argv [decode arg for arg in args argv [encode arg for arg in args D E T A C H E D PROCESS 8return subprocess Popen argv cwd cwd creationflags DETACHED PROCESS .pid
def cuts from string cube string member converters None role member converters None if not string return []cuts []dim cuts CUT STRING S E P A R A T O R string for dim cut in dim cuts cut cut from string dim cut cube member converters role member converters cuts cut return cuts 
def get dns hosts context network ref hosts []for fixedip in objects Fixed I P List by network context network ref if fixedip hosts  host dns fixedip return '\n'.join hosts 
def check shared axs x shared y shared shared [axs[0]. shared x axes axs shared y axes i1 ax1 i2 ax2 i3 name shared in zip enumerate axs enumerate axs enumerate zip u [x shared y shared if i2 < i1 continueassert shared ax1 ax2 shared i1 i2 ] u % i1 i2 u if shared i1 i2 ] else u name 
def number of cliques G nodes None cliques None if cliques is None cliques list find cliques G if nodes is None nodes list G if not isinstance nodes list v nodesnumcliq len [1 for c in cliques if v in c ] else numcliq {}for v in nodes numcliq len [1 for c in cliques if v in c ] return numcliq 
def check magic magic if magic ! 779314790 raise Runtime Error 'hisfiledoesnotseemstobeansfffile 
def  get server id servers identity for server in servers if identity in server server return server None 
def find sample file filename return find file filename path os neutron  path  [0] '..' 'etc'
def get redaction policy return LOG REDACTION F I L E 
def convert in file in format out file out format in kwargs None out kwargs None if in kwargs is None in kwargs {}if out kwargs is None out kwargs {}qresults parse in file in format **in kwargs return write qresults out file out format **out kwargs 
def fake input inputs it iter inputs def mock input prompt '' try return next it except Stop Iteration raise E O F Error 'omoreinputsgiven return patch 'builtins.input' mock input 
def full process s force ascii False if s is None return u force ascii s asciidammit s string out String Processor non letters non numbers with whitespace s string out String Processor lower case string out string out String Processor string out return string out 
def checkout with ecommerce service user course key course mode processor course id unicode course key try api ecommerce api client user result api {'products' [{'sku' course mode 'checkout' True 'payment processor name processor return result 'payment data except Slumber Base Exception params {'username' user 'mode' course mode 'course id course id 'ailedtocreateorderfor username s mode smodeof course id s params raisefinally audit log 'checkout requested course id course id mode course mode processor name processor user id user 
def force global eggs after local site packages egginsert getattr sys '  egginsert 0 for i path in enumerate sys if i > egginsert and path sys egginsert isys  egginsert egginsert + 1
def get members mailchimp list id status mc get members mailchimp Membersmembers set for page in itertools response mc get members id list id status status start page limit BATCH SIZE data response 'data' [] if not data breakmembers d for d in data return members 
def make remotestatepersister test case clock Clock control amp service client make loopback control client test case reactor clock persistence service control amp service servicereturn Remote State Persister client client lambda persistence service .persistent state 
def urlsplit absolute uri match SPLIT MATCH absolute uri if match g match return g g g g g 
def  apply Constraints block Vector V fact Y B Y block Vector B Y block Vector Y gram Y B V np block Vector B Y T block Vector V tmp cho solve fact Y B Y gram Y B V block Vector V - np block Vector Y tmp 
def do test bloom test logs for data in test logs address data bloom insert 0 decode hex address for t in data b bloom insert b decode hex t topics [decode int from hex x for x in data pb Log decode hex address topics '' log bloom bloom bloom from list log assert encode hex log bloom encode hex from int b assert str to bytes data encode hex log bloom 
def pypackable name pytype format size items  formatinfo format return type Packable name pytype Packable {' format ' format ' size ' size ' items ' items 
def teensy config choice return {'1' 'powershell down '2' 'wscript.ino' '3' 'powershell reverse '4' 'beef.ino' '5' 'java applet '6' 'gnome wget choice 'ERROR'
def add Cylinder faces inradius sides top Over Bottom vertexes polygon Bottom euclidean Complex Polygon By Complex Radius complex inradius inradius sides polygon Top polygon Bottomif top Over Bottom < 0.0 polygon Top [complex ]elif top Over Bottom ! 1.0 polygon Top euclidean Complex Path By Multiplier top Over Bottom polygon Top bottom Top Polygon [triangle mesh Add Indexed Loop polygon Bottom vertexes - inradius triangle mesh Add Indexed Loop polygon Top vertexes inradius ]triangle mesh Pillar By Loops faces bottom Top Polygon 
@utils.service type 'monitor' def do backup list cs args backups cs columns ['ID' 'ervice Manage I D 'tatus 'ame 'ize 'bject Count 'ontainer list backups columns 
def banner if not any _ in sys for _ in '--version' '--pickled-options' _ B A N N E Rif not getattr LOGGER HANDLER 'is tty False or '--disable-coloring' in sys _ re '\x1b.+?m' '' _ elif IS WIN coloramainit data To Stdout _ force Output True 
def p type qualifier t pass 
def require tool tool name path os 'PATH' if not path return Falsefor searchdir in path os executable1 os os searchdir tool name executables [executable1]if sys 'win' executables executable1 + '.exe' for executable in executables if os executable return Truereturn False 
def get current url environ root only False strip querystring False host only False trusted hosts None tmp [environ['wsgi.url scheme ' //' get host environ trusted hosts ]cat tmp host only return uri to iri ''.join tmp + '/' cat url quote wsgi get bytes environ 'SCRIPT NAME' '' .rstrip '/' cat '/' if not root only cat url quote wsgi get bytes environ 'PATH INFO' '' .lstrip '/' if not strip querystring qs get query string environ if qs cat '?' + qs return uri to iri ''.join tmp 
def test module scope is updated on patch expected attrs from gooey import image repositorytesting icons 'config icon 'success icon try make user files *testing icons old icon image repository iconimage repository images tempfile new icon image repository iconassert old icon ! new icon finally cleanup temp *testing icons 
def s3 auth on login form s3 clear session 
def is frozen G try return G Attribute Error return False 
def deprecated version replacement None def deprecation Decorator function 'ecoratorthatmarks C String get Deprecation Warning String function version None replacement @wraps function def deprecated Function *args **kwargs warn warning String Deprecation Warning stacklevel 2 return function *args **kwargs  append To Docstring deprecated Function  get Deprecation Docstring version replacement deprecated Function Version versionreturn deprecated Functionreturn deprecation Decorator 
def check firefox version expected firefox ver 'ozilla Firefox + str MINIMUM FIREFOX VERSION firefox ver string subprocess output 'firefox--version' shell True .strip firefox version regex re 'ozilla Firefox \\d+.\\d+ ' try firefox ver float firefox version regex firefox ver string .group 1 except Attribute Error firefox ver 0.0debian location 'https //s3.amazonaws.com/vagrant.testeng.edx.org/'debian package 'firefox-mozilla-build 42.0-0ubuntu1 amd64 path '{location}{package}'.format location debian location package debian package if firefox ver < MINIMUM FIREFOX VERSION raise Exception 'equiredfirefoxversionnotfound Expected {expected version Actual {actual version Asthevagrantuserindevstack runthefollowing \n\n DCTB $ 42.deb{debian path DCTB $sudoapt-getremovefirefox\n\n DCTB $sudogdebi-nq/tmp/firefox 4onfirmthenewversion \n DCTB $firefox--version\n DCTB {expected version actual version firefox ver expected version expected firefox ver debian path debian path 
def getargspec f spec getfullargspec f return Arg Spec spec spec spec spec 
def generate sub created events src dir path for root directories filenames in os src dir path for directory in directories yield Dir Created Event os root directory for filename in filenames yield File Created Event os root filename 
def get Complex By Float List float List value Complex if len float List > 0 value Complex complex euclidean Float From Value float List value Complex if len float List > 1 value Complex complex value Complex euclidean Float From Value float List return value Complex 
@block user agents required required 'wiki.delete document @check readonly document pathdef delete document request document slug document locale document get object or 404 Document locale document locale slug document slug prevent document first revision document [0]if request 'POST' form Document Deletion Form data request P O S T if form valid Document Deletion Log locale document slug document user request reason form data document return redirect document else form Document Deletion Form context {'document' document 'form' form 'request' request 'revision' first revision 'prevent' prevent render request 'wiki/confirm document delete context 
def rotate 90 counterclockwise request fileobjects transpose image request fileobjects 2
def Fit Line xs inter slope fit xs np xs fit ys inter + slope * fit xs return fit xs fit ys 
def comparable formats return [u'png'] + list converter 
def is html ct headers url allow xhtml False if not ct headers ext os  rfc3986 url [2] [1]html exts ['.htm' '.html']if allow xhtml html exts + ['.xhtml']return ext in html exts ct split header words ct headers [0][0][0]html types ['text/html']if allow xhtml html types + ['text/xhtml' 'text/xml' 'application/xml' 'application/xhtml+xml']return ct in html types 
def  tweet for template tweet https False data json tweet json parsed date parsedate data at date datetime *parsed date 6] if settings C C SHOW REPLIES replies  get tweets limit 0 reply to tweet https https else replies Noneif 'from user in data user data datafrom user data user user data data user user data name https img bleach user data image url https else img bleach user data image url return {'profile img img 'user' from user 'text' bleach data 'id' tweet 'date' date 'reply count len replies if replies else 0 'replies' replies 'reply to tweet to and tweet to 'hidden' tweet 
def upgrade migrate engine meta Meta Data meta migrate enginevolume type projects Table 'volume type projects meta autoload True if migrate engine 'postgresql' sql ' L T E R T A B L Evolume type projects A L T E R C O L U M Ndeleted + ' Y P E I N T E G E R U S I N Gdeleted integer migrate engine sql else volume type projects Integer 
@hrows Web App Exception error code IMAGE DECODE ERROR def read image base64 image enc data base64 base64 image file like c String I O String I O enc data im Image file like im im 'L' return im 
@ docstring 'series' def search series query '' limit None offset None strict False **fields return  do mb search 'series' query fields limit offset strict 
def  gen starting points shape ny nx shapexfirst 0yfirst 1xlast nx - 1 ylast ny - 1 x y 0 0 i 0direction u i in xrange nx * ny yield x y if direction u x + 1if x > xlast xlast - 1direction u direction u y + 1if y > ylast ylast - 1direction u direction u x - 1if x < xfirst xfirst + 1direction u direction u y - 1if y < yfirst yfirst + 1direction u 
def  flush dscl cache   salt  ['cmd.run'] ['dscacheutil' '-flushcache'] python shell False 
def application Information a Tp Pd pd 6 b Message Type mes Type 56 c Apdu I D And Apdu Flags e Apdu Data packet a / b / c / e return packet 
def post form view request return post form response 
def step runner environ from lettuce import registryregistry @step 'haveadefinedstep def have a defined step *args **kw assert True 'otherstepfails' def and another *args **kw assert False 'tshouldfail 'defineastep' def define a step *args **kw assert True u When Ihaveastepthatraisesanexception def raises exception step raise Exception @step 'haveastepwhichcallsthe .* "stepwithbehave as def runs some other step with behave as step something else step as 'hen i do something else s % {'i do something else something else 
def  passive handler store **kwargs def wrapper cls funcs ['on request 'on inject request 'on response 'on inject response func in funcs f  passive handler func getattr cls func setattr cls func f return handler store passive True **kwargs cls return wrapper 
def migration get all by filters context filters return I M P L get all by filters context filters 
def is form post environ content type environ 'CONTENT TYPE' '' .lower if ';' in content type content type content type ';' 1 [0]return content type in 'application/x-www-form-urlencoded' 'multipart/form-data'
def sanitize illegal chars for xml s warnings u utils illegal chars for xmlisdeprecated Pleaseusedjblets illegal chars for xml Deprecation Warning return djblets markdown illegal chars for xml s 
def bitcount num num num - num >> 1 & 6148914691236517205 num num & 3689348814741910323 + num >> 2 & 3689348814741910323 num num + num >> 4 & 1085102592571150095 return int num * 72340172838076673 >> 56
def set restart delay seconds if seconds % 30 ! 0 msg 'nvalidvaluepassedforseconds Mustbeamultipleof30 Passed {0}'.format seconds raise Salt Invocation Error msg cmd 'systemsetup-setwaitforstartupafterpowerfailure{0}'.format seconds salt utils return success cmd return salt utils updated seconds get restart delay 
def   parse xml metadata xml dic xml node for child in xml node if child 'ame 'cl.exe' xml dic version child 'ersion elif child 'ame 'isual Studio xml dic studio version child 'ersion elif child 'ame 'isual Studio Edition xml dic studio edition child 'alue elif child 'ame 'perating System xml dic os child 'ersion elif child 'ame 'icrosoft Build Appx Package xml dic dll version child 'ersion elif child 'ame 'roject G U I D xml dic guid child 'alue elif child 'ame 'ptimizing Toolset xml dic tool child 'alue elif child 'ame 'arget Runtime xml dic run child 'alue return xml dic 
@register.inclusion tag u def feincms breadcrumbs page include self True ancs page ancestors bc [ anc absolute url anc title for anc in ancs include self bc None page title return {u'trail' bc 
def folder size pth ignore None if not os pth raise exc Folder Not Foundignore coerce to list ignore def get size total root names paths [os.path.realpath os root nm for nm in names pth in paths -1 ] if not os pth paths pth elif os pth paths pth elif match pattern pth ignore paths pth total + sum os pth .st size for pth in paths total [0]os.path.walk pth get size total return total 
def get test fname fname path os   file   full path os path 'test' fname return full path 
def  Init Ninja Flavor params target list target dicts for qualified target in target list spec target dicts target spec 'msvs external builder continuepath to ninja spec 'msvs path to ninja 'ninja.exe' spec external builder 'ninja'if not spec 'msvs external builder out dir gyp file _ _ gyp Parse Qualified Target qualified target gyp dir os gyp file configuration '$ Configuration 'if params 'target arch 'x64' configuration + ' x64 external builder out dir os gyp Relative Path params dir gyp dir ninja generator Compute Output Dir params configuration if not spec 'msvs external builder build cmd spec external builder build cmd [path to ninja '-C' '$ Out Dir ' '$ Project Name ']if not spec 'msvs external builder clean cmd spec external builder clean cmd [path to ninja '-C' '$ Out Dir ' '-tclean' '$ Project Name ']
def  consolidate sets k G nx Graph nodes {i s for i s in enumerate sets } nodes from nodes G edges from u v for u v in combinations nodes 2 if len nodes & nodes > k for component in nx components G yield set *[nodes[n] for n in component 
def access settings service group Id settings group service g group group Unique Id group Id .execute print 'rouppropertiesforgroup % g pprint g if not settings print 'iveaccessparameterstoupdategroupaccesspermissions returnbody {}for key in settings if settings is not None body settings group group Unique Id group Id body body .execute print 'pdated Access Permissionstothegroup pprint g1 
def  Image Header Factory stream from docx import S I G N A T U R E Sdef read 32 stream stream 0 return stream 32 header read 32 stream for cls offset signature bytes in SIGNATURES end offset + len signature bytes found bytes header end found bytes signature bytes return cls stream stream raise Unrecognized Image Error 
def bytes chr i raise Exception 'houldbeoverriden 
def  Presentatable Kind Stats kind ent count kind ent bytes kind ent bytestotal bytes kind ent bytes entity bytes / count return {'kind name kind ent name 'count' utils Format Thousands kind ent 'entity bytes str utils Get Pretty Bytes entity bytes 'entity bytes entity bytes 'total bytes str utils Get Pretty Bytes total bytes 'total bytes total bytes 'average bytes str utils Get Pretty Bytes average bytes }
def enable site site name if not is site enabled site name run as root 'a2ensite%s' %  site config filename site name 
def get meter columns metaquery None need timestamp False **kwargs columns ['f message 'f recorded at 'f %s' % k for k v in kwargs if v is not None if metaquery columns 'f r %s' % k for k v in metaquery if v is not None source kwargs 'source' if source columns 'f s %s' % source if need timestamp columns ['f rts 'f timestamp return columns 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def send query query json query if query ' color query json {'xy' xy color query color } conn httplib H T T P Connection query 'host' conn query 'method' query 'url' query 'data'
def  check ironic client enabled if ironic client is None common feature not supported 
def Mail Item Property From String xml string return atom Create Class From X M L String Mail Item Property xml string 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def grep pattern file command 'grep"%s">/dev/null' % pattern ret cat file to cmd file command ignore status True return not ret 
def filter List Value value regex if isinstance value list and regex ret Val filter lambda _ re regex _ re I value else ret Val valuereturn ret Val 
def skip if not available modules None datasets None configurations None if modules is None modules []if datasets is None datasets []if configurations is None configurations []for module in modules try import module module except Exception raise Skip Testif module 'bokeh' Connection Error import module 'requests.exceptions' .onnection Errorsession import module 'bokeh.session' .ession try session 'get' session url except Connection Error raise Skip Testif datasets and not hasattr config 'data path raise Skip Testfor dataset in datasets if not os os config path dataset raise Skip Testfor configuration in configurations if not hasattr config configuration raise Skip Test 
def from links container toc TOC link path X Path u a seen titles seen dests set set for spinepath in container items name container to name spinepath root container name for a in link path root href a u if not href or not href continuedest container to name href base name frag href u [ -1 ] or None if dest frag in seen dests continueseen dests dest frag text elem to toc text a if text in seen titles continueseen titles text toc text dest frag frag verify toc destinations container toc for child in toc if not child exists toc child return toc 
def in6 addrtomac addr mask inet pton socket A F INET6 ' ffff ffff ffff ffff x in6 and mask inet pton socket A F INET6 addr ifaceid inet ntop socket A F INET6 x [2 ]return in6 ifaceidtomac ifaceid 
def allocate ids model size **kwargs return allocate ids async model size **kwargs .get result 
def process files f1 f2 f get contents f1 f2 if not len f and not len f return True True f remove shbang *f f remove encoding *f f remove licence future *f f remove first comment *f f replace Patch Stim *f f replace xrange *f f replace my Win win *f f remove semicolon *f f remove win close *f f remove core quit *f f flatten content *f return f 
def do pprint value verbose False return pformat value verbose verbose 
def spearman v1 v2 v1 v2 array v1 array v2 if not v1 v2 > 1 raise Value Error "neormorevectorsisn return spearmanr v1 v2 [0]
@must have addon SHORT NAME 'node' @must be addon authorizer SHORT NAME def box folder list node addon **kwargs folder id request 'folder id return node addon folders folder id folder id 
def  arr2img ar return Image 'L' ar ar ar numpy .tostring
def DEMA ds count timeperiod - 2 ** 31 return call talib with ds ds count talib D E M A timeperiod 
def get Inclination end start if end None or start None return 0inus Start end - start return math end Minus Start abs end Minus Start Axis 
def check installation if can import 'requests' import requestsrequests version requests  version  else requests version 'no'if can import 'pen S S L import Open S S Lopenssl version Open S S L  version  else openssl version 'no'if can import 'cryptography' import cryptographycryptography version cryptography  version  else cryptography version 'no'if can import 'pyasn1' import pyasn1pyasn version pyasn1  version  else pyasn1 version 'no'if can import 'ndg.httpsclient' from ndg import httpsclientndg version httpsclient  date  else ndg version 'no'sys.stdout.write 'hecking Pythonversion %s.%s.%s\n' % sys info 3] sys 'peratingsystem %s\n' % sys sys 'heckingifrequestscanbeimported %s\n' % requests version sys 'heckingifpy Open S S Lisinstalled %s\n' % openssl version sys 'heckingifcryptographyisinstalled %s\n' % cryptography version sys 'heckingifpyasn1isinstalled %s\n' % pyasn1 version sys 'heckingifndg %s\n' % ndg version 
def  tps distsq out np like distsq mask distsq > 0 valid distsq valid * np valid return out 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def p direct declarator 6 t pass 
def warn msg stacklevel 3 if isinstance msg compat types warnings msg exc S A Warning stacklevel stacklevel else warnings msg stacklevel stacklevel 
def expect types   funcname  qualified name **named for name type  in iteritems named if not isinstance type  type tuple raise Type Error "expect types expectedatypeortupleoftypesforargument butgot }instead.".format name name type  type  def  expect type type   template "% funcname s expectedavalueoftype or types argname s butgot actual sinstead isinstance type  tuple template  template type or types 'or'.join map  qualified name type  else template  template type or types  qualified name type  return make check exc type Type Error template template pred lambda v not isinstance v type  actual compose  qualified name type funcname   funcname return preprocess **valmap  expect type named 
def  is indirect member doc d member in doc e 'indirectdoctest' in doc if not d and not e return Trueelse return False 
def get Front Over Width Add X List Y List front loop Lists number Of Lines x Intersection Index Lists width y List front Over Width get Front Over Width Add Y List front number Of Lines x Intersection Index Lists width y List for loop List Index in xrange len loop Lists loop List loop Lists List Index X Intersection Indexes From Loops front Over Width loop List loop List Index x Intersection Index Lists width y List return front Over Width 
def check newlines fname bytes to read 52428800 CHUNK SIZE 2 ** 20 f open fname 'r' for chunk in f CHUNK SIZE if f > bytes to read breakif chunk '\r' f return Truef return False 
def validate local ip local ip if not ip lib I P Wrapper .get device by ip local ip L O G  LE "unnelingcan ip I Pcouldn local ip raise System Exit 1
def RGS rank rgs rgs size len rgs rank 0D RGS generalized rgs size for i in range 1 rgs size n len rgs i + 1 ] m max rgs i rank + D[ n m + 1 ] * rgs return rank 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
@pytest.mark.parametrize u totest frames def test cirs altaz moonish testframe moon CIRS MOONDIST CART obstime testframe moonaa moon to testframe assert 1000 * u < np moonaa - moon .to u < 7000 * u moon2 moonaa to moon assert allclose moon moon2 
def  negotiate value response if hasattr  negotiate value 'regex' regex  negotiate value regex re ' ? .* *egotiate [^ ]* ?' re I  negotiate value regexauthreq response 'www-authenticate' None if authreq match obj regex authreq if match obj return match obj 1 return None 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def is server resolvable socket timeout socket socket 1 try socket 'server' return Trueexcept socket return Falsefinally socket socket timeout 
def get cms block link block page return u settings C M S BASE page block 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def skel setup environment inventory for key value in environment if key 'version' continuefor  key  value in value if  key not in inventory logger 'ey  key inventory key {}if  key 'container' if 'hosts' not in inventory key inventory key []else if 'children' not in inventory key inventory key []if 'hosts' not in inventory key inventory key []if 'belongs to in  value for assignment in  value to if assignment not in inventory logger 'reatedgroup assignment inventory {}if 'children' not in inventory inventory []if 'hosts' not in inventory inventory []
def  match label with color label colors bg label bg color if bg color is None bg color 0 0 0 bg color  rgb vector [bg color unique labels mapped labels np label return inverse True bg label rank list mapped labels label bg label ]if len bg label rank list > 0 bg label rank bg label rank list labels mapped labels < bg label rank ] + 1mapped labels label bg label ] 0else mapped labels + 1color cycle itertools colors color cycle itertools bg color color cycle return mapped labels color cycle 
def approx hessian point vars None model None from numdifftools import Jacobianmodel modelcontext model if vars is None vars model varsvars inputvars vars point Point point model model bij Dict To Array Bijection Array Ordering vars point dlogp bij model vars def grad logp point return np to num dlogp point 'indthejacobianofthegradientfunctionatthecurrentposition Hessian - Jacobian grad logp bij point 
def ytdl is updateable from zipimport import zipimporterreturn isinstance globals .get u  loader  ' zipimporter or hasattr sys u 
def  open shelve shelffn withclosing False import shelveshelf shelve shelffn protocol 2 if withclosing return contextlib shelf else return shelf 
def get modified time storage name try modified time storage time name except O S Error return 0except Not Implemented Error return Noneif modified time and timezone naive modified time if getattr settings 'USE TZ' False default timezone timezone default timezone return timezone aware modified time default timezone return modified time 
def is valid mpls labels labels if not isinstance labels list tuple return Falsefor label in labels if not is valid mpls label label return Falsereturn True 
def no prefix name return name 'E' and not name 'EVENT'
def copy model instance obj exclude None exclude exclude or initial dict f getattr obj f for f in obj meta if not isinstance f Auto Field and f not in exclude and f not in obj meta return obj  class   **initial
def validate connection status value if value not in ['planned' 'connected'] raise Validation Error 'nvalidconnectionstatus {} ;mustbeeither"planned"or"connected".'.format value 
def het arch resid maxlag None autolag None store False regresults False ddof 0 return acorr lm resid ** 2 maxlag maxlag autolag autolag store store regresults regresults 
def assure image fnc @wraps fnc def  wrapped self img *args **kwargs if not isinstance img Image img self manager img return fnc self img *args **kwargs return  wrapped 
def right join left right left vars right vars indices right join indices left right left vars right vars return join table by indices left right indices 
def parse set inter source info items [parse set diff source info ]while source '&&' items parse set diff source info if len items 1 return items Set Inter info items 
def choose package file type file name if not file type return Nonefile type file type file name file name if 'apk' in file name return 'apk'elif 'zip' in file type return 'apk'else return 'apk'
def skip without tool tool id def method wrapper method def get tool ids api test case index api test case interactor 'tools' data dict in panel False tools index tool ids [itemgetter 'id' _ for _ in tools tool idsdef wrapped method api test case *args **kwargs if tool id not in get tool ids api test case from nose import Skip Testraise Skip Test return method api test case *args **kwargs wrapped method  name   method  name  return wrapped methodreturn method wrapper 
def load smbclient auth file path lineno 0domain Noneusername Nonepassword Nonefor line in open path lineno + 1line line if line '#' or line '' continueparts line ' ' 1 if len parts ! 2 raise Auth File Syntax Error path lineno 'o "presentinline' k v parts parts if k 'username' username velif k 'password' password velif k 'domain' domain velse raise Auth File Syntax Error path lineno 'nknownoption % repr k return domain username password 
def  get journal if 'systemd.journald' in   context   return   context  ['systemd.journald']  context  ['systemd.journald'] systemd Reader   context  ['systemd.journald'].seek tail   context  ['systemd.journald'].get previous return   context  ['systemd.journald']
def root test return True 
def call With Logger logger func *args **kw try lp logger Prefix except Keyboard Interrupt raiseexcept lp ' buggylog Prefixmethod 'err system lp try return call With Context {'system' lp func *args **kw except Keyboard Interrupt raiseexcept err system lp 
def  step ids for job steps job key step ids []for step in steps if step job key step ids step return step ids 
def find release date source xblock if xblock 'chapter' return xblockparent location modulestore .get parent location xblock revision Module Store Enum Revision Option preferred if not parent location return xblockparent modulestore .get item parent location if parent ! xblock return xblockelse return find release date source parent 
def part rebulk Rebulk .regex defaults flags re I G N O R E C A S E abbreviations [dash] validator {'  parent  ' seps surround prefixes ['pt' 'part']def validate roman match 'alidatearomanmatchifsurroundedbyseparators parammatch \n typematch \n return \n rtype \n'if int coercable match return Truereturn seps surround match rebulk build or pattern prefixes + '-? ? + numeral + ' ' prefixes prefixes validate all True private parent True children True formatter parse numeral validator {'part' compose validate roman lambda m 0 < m < 100 } return rebulk 
def  choose random tests tests ratio seed rnd random Random rnd seed if isinstance tests unittest Test Suite tests  flatten suite tests tests rnd tests int len tests * ratio tests sorted tests key lambda case case return unittest Test Suite tests 
def Get Secrets Manager For Secret secret global  user secrets managerif  user secrets manager is not None and  user secrets manager Has Secret secret return  user secrets managerreturn Get Shared Secrets Manager 
def test type constructor overloads global calledimport clrclr Add Reference 'ron Python Test import Iron Python Test as I P Tcalled Falseclass My Type type def   clrtype   self global calledcalled Truereturn I P T Sanity Constructor Overloadsclass X object   metaclass   My Typedef   init   self *args **kwargs pass Are Equal called True temp X Assert str temp .startswith '<first' str temp 
def is lyrics content ok title text keywords LYRICS T E X T S title ]return all x in text for x in keywords 
def nearest roads client points params {'points' convert list points }return client get 'oads params base url  ROADS BASE URL accepts clientid False extract body  roads extract .get 'oints []
@pytest.mark.parametrize 'text expected [ 'one<tw>o' 'one|two' '<one>two' '|onetwo' '|onetwo' '|onetwo' ] def test rl backward word text expected lineedit bridge lineedit aug text text bridge backward word assert lineedit text expected 
def clear uuids apps schema editor Document apps model u u Document Document uuid  isnull True .update uuid None 
def get partial date formats warnings "'django.utils.translation.get partial date formats Pleaseupdateyourcodetousethenewi18nawareformatting Pending Deprecation Warning from google internal import settingsyear month format ugettext 'YEAR MONTH FORMAT' month day format ugettext 'MONTH DAY FORMAT' if year month format 'YEAR MONTH FORMAT' year month format settings Y E A R MONTH F O R M A Tif month day format 'MONTH DAY FORMAT' month day format settings M O N T H DAY F O R M A Treturn year month format month day format 
def binary crossentropy y true y pred y true tf y true tf y pred logit tf y pred tf return tf mean tf cross entropy with logits y pred y true 
def  deprecated configs agent Config deprecated checks {}deprecated configs enabled [v for k v in OLD STYLE PARAMETERS if len [l for l in agent Config if l k ] > 0 ]for deprecated config in deprecated configs enabled msg 'onfiguring Pleaseuseconf % deprecated config deprecated checks config {'error' msg 'traceback' None msg return deprecated checks 
@core helperdef url for static or external *args **kw def fix arg arg url urlparse str arg url is relative url '' and url '' and not url '/' if url is relative return '/' + url return url if args args fix arg args + args ] if kw 'qualified' False kw kw get site protocol and host my url  routes default url for *args **kw return  local url my url locale 'default' **kw
def safe max abs A ia if np ia return np np A else return 0.0
def format in original format numobj region calling from if numobj input is not None and  has unexpected italian leading zero numobj or not  has formatting pattern for number numobj return numobj inputif numobj code source is None return format number numobj Phone Number Format N A T I O N A L formatted number  format original allow mods numobj region calling from num raw input numobj inputif formatted number is not None and num raw input normalized formatted number  normalize diallable chars only formatted number normalized raw input  normalize diallable chars only num raw input if normalized formatted number ! normalized raw input formatted number num raw inputreturn formatted number 
def complex accuracy result re im re acc im acc resultif not im if not re return I N Freturn re accif not re return im accre size fastlog re im size fastlog im absolute error max re size - re acc im size - im acc relative error absolute error - max re size im size return - relative error 
def libvlc media player set pause mp do pause f  Cfunctions 'libvlc media player set pause None or  Cfunction 'libvlc media player set pause 1 1 None None Media Player ctypes int return f mp do pause 
def get complex part expr no prec options workprec preci 0while 1 res evalf expr workprec options value accuracy res 2]if not value or accuracy > prec or - value > prec return value None accuracy None workprec + max 30 2 ** i i + 1
def dup sturm f K if not K Field raise Domain Error "turmsequenceover % K f dup sqf part f K sturm [f dup diff f 1 K ]while sturm -1 ] s dup rem sturm -2 ] sturm -1 ] K sturm dup neg s K return sturm -1 ]
def ifloordiv a b a // breturn a 
def list  profile 'splunk' client  get splunk profile searches [x['name'] for x in client searches searches 
def scp to ip address keyname local file remote file key file '{}/{}.key'.format KEY DIRECTORY keyname remote location '{} {}'.format ip address remote file scp cmd ['scp' '-i' key file local file remote location call scp cmd 
def draw figure canvas figure loc 0 0 figure canvas agg Figure Canvas Agg figure figure canvas agg figure x figure y figure w figure h figure figure w figure h int figure w int figure h photo tk Photo Image master canvas width figure w height figure h canvas image loc + figure w / 2 loc + figure h / 2 image photo tkagg photo figure canvas agg renderer . renderer colormode 2 return photo 
@hook 'after request def security headers json header True response Server 'erver X Content Type Options ' Frame Options ' E N Y X X S S Protection '1;mode block Pragma 'ache Control 'xpires '0'if json header response type 'application/json;charset UTF-8'
def bull graph create using None description ['adjacencylist' 'ull Graph 5 [[2 3] [1 3 4] [1 2 5] [2] [3]]]G make small undirected graph description create using return G
def loadapp conf file global conf None allow modify pipeline True global conf global conf or {} ctx loadcontext loadwsgi A P P conf file global conf global conf if ctx type 'pipeline' app ctx context func getattr app 'modify wsgi pipeline None if func and allow modify pipeline func Pipeline Wrapper ctx return ctx 
def group types get by name or id context group type list return I M P L types get by name or id context group type list 
def  get ttl return   opts  .get 'couchbase.ttl' 24 * 60 * 60
def build Package *args **options o options title version desc o Title o Version o Description pm Package Maker title version desc apply pm list args options 
def ip to cidr ip prefix None net netaddr I P Network ip if prefix is not None net netaddr I P Network str net + '/' + str prefix return str net 
def  get changed filenames unstaged files subprocess output ['git' 'diff' '--name-only'] .splitlines staged files subprocess output ['git' 'diff' '--cached' '--name-only' '--diff-filter ACM'] .splitlines return unstaged files + staged files 
def get dist Y W domain return np Y weights W minlength len domain var 
def no backend test func backend if settings D A T A B A S E S D E F A U L T DB A L I A S E N G I N E '.' [ -1 ] backend return pass testelse return test func 
def migrate drafts metadata key schema drafts Draft Registration Q 'registration schema 'eq' schema total drafts drafts logger 'xamining total drafts draft count 0for draft in drafts draft count + 1if draft metadata 'recommended-methods' {} .get 'value' {} .get 'undefined' {} draft metadata draft metadata 'undefined' draft logger 'igratedkeyfor draft count total drafts draft id else logger 'eyalreadycorrectfor Nochange draft count drafts draft id 
def expand key k dims def inds i ind rv []if ind - 0.9 > 0 rv ind - 0.9 rv ind if ind + 0.9 < dims - 1 rv ind + 0.9 return rvshape []for i ind in enumerate k ] num 1if ind > 0 num + 1if ind < dims - 1 num + 1shape.append num seq list product [k[0]] *[inds i ind for i ind in enumerate k ] ] return reshapelist shape seq 
def  sanity check generate control is server client control file kernels upload kernel config if is server and client control file raise model logic Validation Error {'tests' 'oucannotrunservertestsatthesametimeasdirectlysupplyingaclient if kernels kernel error model logic Validation Error {'kernel' 'hekernelparametermustbeasequenceofdictionariescontainingatleastthe got %r ' % kernels } try iter kernels except Type Error raise kernel errorfor kernel info in kernels if not isinstance kernel info dict or 'version' not in kernel info raise kernel errorif upload kernel config and not is server raise model logic Validation Error {'upload kernel config 'annotuseupload kernel configwithclientsidetests 
def get vmlinux vmlinux '/boot/vmlinux-%s' % os [2] if os vmlinux return vmlinuxvmlinux '/lib/modules/%s/build/vmlinux' % os [2] if os vmlinux return vmlinuxreturn None 
def delete cache cluster name wait 600 region None key None keyid None profile None **args return  delete resource name name param 'ache Cluster Id desc 'cachecluster' res type 'cache cluster wait wait status param 'ache Cluster Status region region key key keyid keyid profile profile **args
def filter pathname val return os os val or u [0]
def one hot action action size 19 categorical np size size categorical 1return categorical 
def get jid jid ret {}for returner  in   opts  [CONFIG KEY] ret  mminion .returners['{0}.get jid returner  ] jid return ret 
def get Beveled Rectangle bevel bottom Left bottom Right complex - bottom Left bottom Left rectangle [eft bottom Right - bottom Left - bottom Right ]if bevel < 0.0 return rectanglebeveled Rectangle []for point Index point in enumerate rectangle begin rectangle point Index + len rectangle - 1 % len rectangle ]end rectangle point Index + 1 % len rectangle ]long Way point bevel begin beveled Rectangle add Along Way point bevel end beveled Rectangle return beveled Rectangle 
def normal ordered form expr independent False recursive limit 10  recursive depth 0 if  recursive depth > recursive limit warnings 'oomanyrecursions aborting return exprif isinstance expr Add return  normal ordered form terms expr recursive limit recursive limit  recursive depth  recursive depth independent independent elif isinstance expr Mul return  normal ordered form factor expr recursive limit recursive limit  recursive depth  recursive depth independent independent else return expr 
def  Format As Environment Block envvar dict block ''nul '\x00'for key value in envvar dict block + key + ' ' + value + nul block + nulreturn block 
def xframe options exempt view func def wrapped view *args **kwargs resp view func *args **kwargs resp options exempt Truereturn respreturn wraps view func assigned available attrs view func wrapped view 
def get class lookup view if isinstance lookup view str mod name func name get mod func lookup view if func name ! '' lookup view getattr   import   mod name {} {} ['*'] func name if not callable lookup view raise Attribute Error "'%s.%s'isnotacallable." % mod name func name return lookup view 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
def handle errors errors format error func filename errors list sorted errors key str if not errors returnerror msg u format error func error for error in errors raise Configuration Error u The Composefile msg \n{error msg file msg u filename if filename else u error msg error msg 
@bdd.when bdd 'spawnanewwindow def invoke with quteproc quteproc summary 'reateanewwindow quteproc ipc [] target arg 'window' quteproc for category 'init' module 'app' function ' open startpage message 'peningstartpage 
def prefer xmodules identifier entry points from xmodule [entry point for entry point in entry points if entry point 'xmodule' ]if from xmodule return default select identifier from xmodule else return default select identifier entry points 
def identify landmark gcs uri max results 4 batch request [{'image' {'source' {'gcs image uri gcs uri 'features' [{'type' 'LANDMARK DETECTION' 'esults max results get vision service request service .annotate body {'requests' batch request response request return response 'nnotations None 
def copy cache cache if cache is None return Noneelif type cache is dict return {}return L R U Cache cache 
def arcsin x return Arcsin x 
def constr unpack constraints vector values []offset 0for constr in constraints rows cols constr np rows cols for col in range cols val col vector offset + rows ]offset + rowsvalues val return values 
def cdao to obo s return 'obo %s' % cdao elements 'cdao ' ]]
def get popularity obj region None return  property value by region obj region region property 'popularity'
def concat multi values models attribute return u getattr m attribute for m in models if getattr m attribute None is not None 
def get intersection cx1 cy1 cos t1 sin t1 cx2 cy2 cos t2 sin t2 line1 rhs sin t1 * cx1 - cos t1 * cy1 line2 rhs sin t2 * cx2 - cos t2 * cy2 a b sin t1 - cos t1 c d sin t2 - cos t2 ad bc a * d - b * c if ad bc 0.0 raise Value Error 'ivenlinesdonotintersect a  b  d - b c  d  - c a a  b  c  d  [ k / ad bc for k in [a  b  c  d ]]x a  * line1 rhs + b  * line2 rhs y c  * line1 rhs + d  * line2 rhs return x y 
def  launch reaper id pid from subprocess import Popen P I P Eme   file  if me '.pyc' me me -1 ]myloc os me if not myloc myloc os reaper cmd os myloc 'run on me or pid quit Popen [reaper cmd str pid me '--free' str id ] stdout open '/dev/null' 'w'
def encode extension av data quote default extension quote if not data return ''return quote data 
@then u def step undefined step snippet should exist for context step undefined step snippet make undefined step snippet step context steps u Thenthecommandoutputshouldcontain \n"""\n{undefined step snippet undefined step snippet text indent undefined step snippet 4
def get module version module name mod   import   module name fromlist [module name '.' [ -1 ]] return getattr mod '  version  ' getattr mod 'VERSION' None 
def test feature finder finds all feature files within a dir ff Feature Loader cjoin files ff feature files assert equals sorted files sorted [cjoin '1st feature dir 'one more cjoin '1st feature dir 'some.feature' cjoin '1st feature dir 'more features here 'another.feature' cjoin '2nd feature dir 'before and after all cjoin '2nd feature dir 'with defined steps cjoin '3rd feature dir 'my steps are anywhere ]
def security hash request form *args data []for bf in form if form permitted and not form changed value bf or '' else value bf bf or '' if isinstance value basestring value value data bf value data args data settings S E C R E T KEY pickled pickle data pickle H I G H E S T PROTOCOL return md5 constructor pickled .hexdigest
def is valid endpoint url endpoint url parts urlsplit endpoint url hostname parts hostname is None return Falseif len hostname > 255 return Falseif hostname -1 ] '.' hostname hostname -1 ]allowed re '^ ?!- [ Z 63} ?<!- \\. * ?!- [ Z 63} ?<!- $' re I G N O R E C A S E return allowed hostname 
def  generate hypercube samples dimensions rng if dimensions > 30 return np [ generate hypercube samples dimensions - 30 rng  generate hypercube samples 30 rng ] out astype sample without replacement 2 ** dimensions samples random state rng dtype '>u4' copy False out np out '>u1' .reshape -1 32 [ - dimensions ]return out 
def get flavor by flavor id flavorid ctxt None read deleted 'yes' if ctxt is None ctxt context admin context read deleted read deleted return objects Flavor by flavor id ctxt flavorid read deleted 
def require change password self if 'llow First User Django Backend in desktop A U T H B A C K E N D and self login and desktop A U T H C H A N G E DEFAULT P A S S W O R D return True 
def enhance info description info line length 50 paragraphs info '\n\n' lines [paragraph.replace '\n' '' for paragraph in paragraphs '\n'.join lines info [ info + '.' + info ]regex ' ? file [\\w\\/]+\\.\\w+ 'for name in re regex text if name not in info info name folder ' '.join info sep [ -1 ] + '_' text re ' [ ? file [\\w\\/]+\\.\\w+ ' '\\1 ref `\\2<$folder$\\2>`' text text text '$folder$' folder lines text '\n' paragraphs [textwrap.wrap line line length for line in lines description paragraphs 
def after point if not point return Trueelse return not before point 
def get expr vars operator if operator lo V A R I A B L E return [ operator operator ]else vars  []for arg in operator vars  + get expr vars arg return vars 
def partition suite suite classes bins for test in suite if isinstance test unittest Test Suite partition suite test classes bins else for i in range len classes if isinstance test classes bins Test test breakelse bins -1 ]est test 
def guess sys stdout encoding return getattr sys 'encoding' None or getattr   stdout   'encoding' None or locale or sys or 'ascii'
def get Minimum first Complex second Complex return complex min first Complex second Complex min first Complex second Complex 
def mod Null s titles Refs names Refs characters Refs return s 
def certificate create context values return I M P L create context values 
def is google instance global   IS ON G O O G L Eif   IS ON GOOGLE is None   IS ON GOOGLE fetch GOOGLE METADATA URL google True .ok return   IS ON GOOGLE
def add Y Intersection Path To List path Index point Index y y Intersection y Intersection Paths if y Intersection None returny Intersection Path Y Intersection Path path Index point Index y Intersection y Intersection Path Minus Center y Intersection - y y Intersection Paths y Intersection Path 
def type return s3 rest controller 'impact' 'type'
def write incron file user path return   salt  ['cmd.retcode']  get incron cmdstr path runas user python shell False 0
def log request headers debug False h [ '%s %s' % k v for k v in cherrypy list 'equest Headers \n' + '\n'.join h 'HTTP'
def sab sanitize foldername name CH ILLEGAL '\\/<>?*|"'CH LEGAL '++{}!@#`'FL ILLEGAL CH ILLEGAL + ' \x92"' FL LEGAL CH LEGAL + "-''" u F L ILLEGAL FL I L L E G A L 'latin-1' u F L LEGAL FL L E G A L 'latin-1' if not name return nameif isinstance name unicode illegal u F L I L L E G A Llegal u F L L E G A Lelse illegal FL I L L E G A Llegal FL L E G A Llst []for ch in name if ch in illegal ch legal ch ]lst.append ch else lst ch name ''.join lst name name '.' if not name name 'unknown'return name 
def arbitrary transformation deployment uuid uuid4 return deployment ['nodes' uuid Node uuid uuid 
def is initialized cr cr " E L E C Trelname F R O Mpg class W H E R Erelkind ' N Drelname 'ir module module return len cr > 0
def error xml try ET.XML xml except E T Parse Error return sys value 
def get Starts With Curly Equal Round Square word return word '{' or word ' ' or word ' ' or word '['
def create decimal128 context opts  CTX O P T I O N S opts []return decimal Context **opts
def service delete service id None name None profile None **connection args kstone auth profile **connection args if name service id service get name name profile profile **connection args [name]['id']kstone.services.delete service id return 'eystoneservice I D service id 
def structure tensor image sigma 1 mode 'constant' cval 0 image  prepare grayscale input 2D image imx imy  compute derivatives image mode mode cval cval Axx ndi filter imx * imx sigma mode mode cval cval Axy ndi filter imx * imy sigma mode mode cval cval Ayy ndi filter imy * imy sigma mode mode cval cval return Axx Axy Ayy 
def Start Map operation key job name handler spec reader spec writer spec mapper params mapreduce params None start transaction True queue name None shard count MAPREDUCE DEFAULT SHARDS if not mapreduce params mapreduce params {}mapreduce params Datastore Admin Operation P A R A M DATASTORE ADMIN OPERATION] str operation key mapreduce params callback '%s/%s' % config B A S E PATH Mapreduce Done Handler S U F F I X if queue name is not None mapreduce params callback queue queue namemapreduce params writes 'rue tx operation Datastore Admin Operation operation key job id control map job name handler spec reader spec mapper params output writer spec writer spec mapreduce parameters mapreduce params base path config M A P R E D U C E PATH shard count shard count transactional True queue name queue name transactional parent operation operation Datastore Admin Operation S T A T U S A C T I V Eoperation jobs + 1operation.active job ids list set operation job ids + [job id operation config  Create Datastore Config return job idif start transaction return db in transaction tx else return tx 
def  getinfos cert spec infos {}fullinfos {}try cert spec 'fullvalue' spec .decode 'base64' except Exception return {}for hashtype in ['md5' 'sha1'] infos '%shash' % hashtype ] hashlib hashtype cert .hexdigest proc subprocess Popen ['openssl' 'x509' '-noout' '-text' '-inform' 'DER'] stdin subprocess P I P E stdout subprocess P I P E proc cert proc try newinfos  C E R T I N F O S proc .groupdict newfullinfos {}for field in newinfos if len newinfos > utils M A X V A L L E N newfullinfos newinfos newinfos utils M A X V A L L E N newinfos fullinfos newfullinfos except Exception passres {}if infos res infosif fullinfos res fullinfosreturn res 
def test regression 3938 vega Sky Coord 279.23473479 * u 38.78368896 * u capella Sky Coord 79.17232794 * u 45.99799147 * u sirius Sky Coord 101.28715533 * u -16.71611586 * u targets [vega capella sirius coords Sky Coord targets time Time u 00 00' location Earth Location u u 0 aa Alt Az location location obstime time combined coords to aa 
def get review request fieldset fieldset id return fieldset registry u id fieldset id 
def cprint stream *args **kwds if isinstance stream basestring stream kwds 'stream' 'stdout' err stream 'stderr' stream getattr sys stream else err kwds 'stderr' False if hasattr stream 'isatty' and stream if  WIN for arg in args if isinstance arg basestring stream arg else kwds W I N stderr err **kwds else for arg in args if isinstance arg basestring stream arg else stream A N S I else for arg in args if isinstance arg basestring stream arg 
def say hello name None if name is None name u Stranger u Hithere %s!' % name 
@lru cache def is mock available try import unittest Trueexcept Import Error passtry import mockif not hasattr mock 'dict' raise Import Error if 'new callable not in inspect mock .args raise Import Error return Trueexcept Import Error return False 
def etree strip namespaces element retval etree Element element '}' [ -1 ] retval element a in element retval '}' [ -1 ]] element e in element retval etree strip namespaces e return retval 
def test main3 import tempfilewfn 'tmp weights os wfn os wfn arglist '-e2-otmp weights attentiontrain5000 arglist '' tf default graph ts2s Command Line arglist arglist assert os wfn arglist '-itmp weights attentionpredict1234567890 arglist '' tf default graph ts2s Command Line arglist arglist assert len ts2s results 10
def test find number 0 r find number 'sss' assert r is None 
def load notebook resources None verbose False hide banner False load timeout 5000 html js  load notebook html resources verbose hide banner load timeout publish display data {'text/html' html publish display data {'application/javascript' js 
def  set labels node apiserver url labels url '{0}/api/v1/nodes/{1}'.format apiserver url node data [{'op' 'replace' 'path' '/metadata/labels' 'value' labels  kpatch url data if ret 'status' 404 return "ode node return ret 
def build desired iface config module module desired config {'addr family None 'auto' True 'config' {} 'name' module 'name' }for  attr in ['vlan aware 'pvid' 'ports' 'stp'] build bridge attr module  attr build addr method module build address module build vids module build alias name module build vrr module for  attr in ['mtu' 'mstpctl treeprio build generic attr module  attr 
def adagrad loss or grads params learning rate 1.0 epsilon 1e-06 grads get or compute grads loss or grads params updates Ordered Dict for param grad in zip params grads value param value borrow True accu theano np value dtype value broadcastable param accu new accu + grad ** 2 updates accu newupdates param - learning rate * grad / T accu new + epsilon return updates 
def Value typecode or type *args **kwds from multiprocessing import Valuereturn Value typecode or type *args **kwds
def process X M L Element By Function manipulation Function xml Element geometry Output get Geometry Output By Function manipulation Function xml Element process X M L Element By Geometry geometry Output xml Element 
def set scroll commands widget hbar vbar if vbar widget vbar 'set' vbar widget 'yview' if hbar widget hbar 'set' hbar widget 'xview' widget vbarwidget hbar 
def sobel image mask None assert n D image 2 out np sobel h image mask ** 2 + sobel v image mask ** 2 out / np 2 return out 
def apply template on contents contents template context defaults saltenv if template in salt T E M P L A T E REGISTRY context dict defaults if defaults else {} if context context dict context contents salt T E M P L A T E R E G I S T R Y contents from str True to str True context context dict saltenv saltenv grains   opts  ['grains'] pillar   pillar   salt   salt   opts   opts   ['data'].encode 'utf-8' else ret {}ret['result'] Falseret 'pecifiedtemplateformat template return retreturn contents 
def killprocs pattern sh 'pkill-9-f%s' % pattern while True try pids co ['pgrep' '-f' pattern except Called Process Error pids ''if pids sh 'pkill-9-f%s' % pattern time 0.5 else break 
def  random name size 6 return 'cloud-test-' + ''.join random string lowercase + string for x in range size 
def simultaneous ci q crit var groupnobs pairindices None ng len groupnobs if pairindices is None pairindices np indices ng 1 gvar var / groupnobs d12 np gvar + gvar d np ng ng d d12d d + d .T sum1 np d12 sum2 np d axis 0 if ng > 2 w ng - 1.0 * sum2 - sum1 / ng - 1.0 * ng - 2.0 else w sum1 * np 2 1 / 2.0 return q crit / np 2 * w 
def nthhost value query '' try vtype ipaddr value 'type' if vtype 'address' v ipaddr value 'cidr' elif vtype 'network' v ipaddr value 'subnet' value netaddr I P Network v except return Falseif not query return Falsetry nth int query if value > nth return value Value Error return Falsereturn False 
def  construct machine label header sql machine labels machine labels sorted machine labels if clauses []for label in machine labels if clauses 'IF FIND IN SET "%s" tko test attributes host labels "%s" NULL ' % label label return 'CONCAT WS " " %s ' % ' '.join if clauses 
def Make Sandbox On Prod Response return '{"status" 21007}'
def Matrix data typecode None copy 1 savespace 0 if isinstance data type '' raise Type Error 'atrixdoesnotsupport Numericmatrixstringnotation Usenestedlists a fromlist data type typecode if a 0 a 1 1 elif a 1 a 1 + a a  class    Matrixreturn a 
def  attempt nocopy reshape context builder aryty ary newnd newshape newstrides ll intp context value type types ll intp star ll intp pointer ll intc context value type types fnty lc Type ll intc [ll intp ll intp star ll intp star ll intp ll intp star ll intp star ll intp ll intc fn builder or insert function fnty name 'numba attempt nocopy reshape nd ll intp aryty shape cgutils inbounds builder ary get ptr by name 'shape' 0 0 strides cgutils inbounds builder ary get ptr by name 'strides' 0 0 newnd ll intp newnd newshape cgutils inbounds builder newshape 0 0 newstrides cgutils inbounds builder newstrides 0 0 is f order ll intc 0 res builder fn [nd shape strides newnd newshape newstrides ary is f order return res 
def remove protocol from tool shed url tool shed url return util protocol from url tool shed url 
def get redirect route regex route handler defaults None if defaults is None defaults {}name regex route '/' '_' return Redirect Route regex route handler name strict slash True defaults defaults 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def  get Model Checkpoint Dir experiment Dir checkpoint Label checkpoint Dir os get Checkpoint Parent Dir experiment Dir checkpoint Label + g default Checkpoint Extension checkpoint Dir os checkpoint Dir return checkpoint Dir 
def decorator from middleware middleware class return make middleware decorator middleware class 
def build heap seq n len seq - 1 for i in range n // 2 -1 -1 max heapify seq i n 
def getheader filename *args **kwargs mode closed  get file mode filename hdulist extidx  getext filename mode *args **kwargs try hdu hdulist hdu hdulist close closed closed return header 
@sopel.module.require privmsg admin u @sopel.module.priority u @sopel.module.example u Your Pants Doesanyoneelsesmellneurotoxin def msg bot trigger if trigger 2 is None return channel  sep message trigger 2 .partition u message message if not channel or not message returnbot channel message 
def s3 key to uri s3 key return 's3 //%s/%s' % s3 key s3 key 
def  cumulative sum xs cumsum 0for x in xs cumsum + x yield cumsum 
def subsector return s3 rest controller 
def regexp tokenize text pattern gaps False discard empty True flags re U N I C O D E | re M U L T I L I N E | re D O T A L L tokenizer Regexp Tokenizer pattern gaps discard empty flags return tokenizer text 
def month weekdays year int month int cal calendar Calendar return [d for d in cal year int month int if d < 5 and d year int ]
def get declarative base name 'base' base class object bases not isinstance base class tuple and base class or base class class dict {'  init  '  kwarg init constructor ' validate required  validate required '  pre publish  '  pre publish validator ' declarative artifact type True 'update'  update Artifact Type Metaclass name bases class dict 
def get course milestones course id if not settings F E A T U R E S 'MILESTONES APP' return []return milestones api course milestones course id 
def idz estrank eps A A np A m n A n2 w idz frmi m ra np n * n2 + n + 1 * n2 + 1 dtype 'complex128' order 'F' k ra  id estrank eps A w ra return k 
def asint value if value is None return valuereturn int value 
def indent text text indent regex re ' \\\\* """|\'\'\' ' res []in quote Nonefor line in text if in quote res line else res indent + line while line match regex line if match if len match 1 % 2 0 if not in quote in quote match 2 [0]elif in quote match 2 [0] in quote Noneline line ]else breakreturn '\n'.join res 
@bp.route '/' def home nodes Node by Node .all home nodes filter lambda o o home nodes home node ids map lambda o o home nodes if len home node ids topics Topic Topic id  home node ids .order by Topic .limit 16 topics fill topics topics else topics Noneblog Node by urlname 'blog' .first if blog blogs Topic by node id blog .order by Topic .limit 2 else blogs Nonereturn render template 'index.html' topics topics nodes nodes 16] blog blog blogs blogs 
@pytest.mark.skip reason 'https //github.com/mozilla/addons-server/issues/2462' def test login base url selenium user page Home selenium base url .open assert not page in page user user assert page in 
def to yaml a *args **kw transformed yaml a Dumper Ansible Dumper allow unicode True **kw return to text transformed 
def libvlc video get scale p mi f  Cfunctions 'libvlc video get scale None or  Cfunction 'libvlc video get scale 1 None ctypes float Media Player return f p mi 
def unmimify infile outfile decode base64 0 if type infile type '' ifile open infile if type outfile type '' and infile outfile import os d f os infile os infile os d ' ' + f else ifile infileif type outfile type '' ofile open outfile 'w' else ofile outfilenifile File ifile None unmimify part nifile ofile decode base64 ofile 
def get uid gid username groupname None try uid default grp pwd username [2 4]except Key Error raise Key Error "ouldn % username if groupname is None gid default grpelse try gid grp groupname [2]except Key Error raise Key Error "ouldn % groupname return uid gid 
def vrrp shutdown app instance name shutdown request vrrp event Event V R R P Shutdown Request instance name app event vrrp event V R R P MANAGER NAME shutdown request 
def cache return func  cache []def wrap if not  cache  cache func return  cache wrap 
def create global secondary index table name global index region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile table Table table name connection conn return table global secondary index global index 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def fletcher checksum data offset c0 0c1 0pos 0length len data data bytearray data data offset + 2 ] [0] * 2 while pos < length tlen min length - pos  MODX for d in data pos + tlen ] c0 + dc1 + c0c % 255c1 % 255pos + tlenx length - offset - 1 * c0 - c1 % 255 if x < 0 x + 255y 510 - c0 - x if y > 255 y - 255data[offset] xdata offset + 1 ] yreturn x << 8 | y & 255
def asksaveasfilename **options return Save As **options .show
def Display Ad Unit Tree root ad unit ad unit tree depth 0 print '%s%s %s ' % Generate Tab depth root ad unit root ad unit if root ad unit in ad unit tree for child in ad unit tree ad unit Display Ad Unit Tree child ad unit tree depth + 1
def get default encoding file return default encoding file 
def enable enhanced monitoring stream name metrics region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile r  execute with retries conn 'enable enhanced monitoring Stream Name stream name Shard Level Metrics metrics if 'error' not in r r Truereturn r 
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def update security group security group name None description None profile None conn  auth profile return conn security group security group name description 
def plot day summary2 ochl ax opens closes highs lows ticksize 4 colorup u colordown u return plot day summary2 ohlc ax opens highs lows closes ticksize colorup colordown 
def get duplicates fields cnt {}for field in fields try cnt + 1except Key Error cnt 1return [key for key in cnt if cnt > 1 ]
def get dirs dirs { D G CACHE DIR' os u X D G CACHE HOME' or os '~/.cache' u X D G CONFIG DIR' os u X D G CONFIG HOME' or os '~/.config' u X D G DATA DIR' os u X D G DATA HOME' or os '~/.local/share' }dirs.update  get user dirs dirs X D G CONFIG DIR'] return dirs 
def  get possible outcomes m bits size max m nqubits int math size 2 + 0.1 output matrices []for i in range 1 << len bits output matrices zeros 2 ** nqubits 1 bit masks []for bit in bits bit masks 1 << bit for i in range 2 ** nqubits trueness 0for j in range len bit masks if i & bit masks trueness + j + 1 output matrices m output matrices 
def test not found exception exception app request response sanic endpoint test exception app uri '/404' assert response 404
def release hosts host filter data username None hosts models Host objects host filter data reservations hosts to release [h.hostname for h in hosts username username 
def notify about host update context event suffix host payload host identifier host payload 'host name if not host identifier L O G  LW 'ohostnamespecifiedforthenotificationof Host A P I event suffix returnnotifier rpc notifier service 'api' host host identifier notifier context 'ost A P I % event suffix host payload 
def  clear context for key in list   context   try if key 'systemd. systemctl status or key in 'systemd.systemd services   context  .pop key except Attribute Error continue 
def setup client webtest Web Case P O R T cherrypy portwebtest Web Case H O S T cherrypy hostif cherrypy certificate C P Web Case 'https'
def  compile multi match regex strings return re '|'.join re s for s in strings 
def unquote header value value is filename False if value and value value -1 ] '"' value value -1 ]if not is filename or value 2] ! '\\\\' return value '\\\\' '\\' .replace '\\"' '"' return value 
def  execute pillar pillar name run type groups   salt  ['pillar.get'] pillar name data {}for group in groups data {}commands groups command in commands if isinstance command dict plugin next six command args command plugin commandargs ''command key  format dict key args plugin data key run type plugin args return data 
def stop version module None version None rpc stop version async module version rpc result 
def constant time compare actual expected actual len len actual expected len len expected result actual len ^ expected len if expected len > 0 for i in xrange actual len result | ord actual ^ ord expected i % expected len ] return result 0
def make step net step size 1.5 end 'inception 4c/output' jitter 32 clip True src net net ox oy np - jitter jitter + 1 2 src np np src ox -1 oy -2 net end end dst ] dst start end g src ] + step size / np g .mean * g src np np src - ox -1 - oy -2 if clip bias net ] np src - bias 255 - bias 
def  handle topomap bads ch name params for type in 'mag' 'grad' 'eeg' 'seeg' 'hbo' 'hbr' if type in params types np np params type [0]breakcolor ind np np params names [types] ch name [0]if len color ind > 0 sensors params selection color sensors edgecolors ind all this color [1.0 0.0 0.0 1.0] sensors edgecolors ind [0.0 0.0 0.0 1.0]else sensors edgecolors ind [1.0 0.0 0.0 1.0]params['fig selection 
def Is In Transaction return isinstance  Get Connection datastore rpc Transactional Connection 
def is router interface port port return  is owner router interface port owner 
def shorten key ids key id list short []for key in key id list short key -8 ] return short 
def make segments x y points np [x y . -1 1 2 segments np [points[ -1 ] points ]] axis 1 return segments 
def site activity return s3 rest controller 
def parse querystring environ source environ 'QUERY STRING' '' if not source return []if 'paste.parsed querystring in environ parsed check source environ querystring check source source return parsedparsed cgi qsl source keep blank values True strict parsing False environ querystring parsed source return parsed 
def get batch notification listener transport targets endpoints allow requeue False batch size 1 batch timeout None return oslo messaging batch notification listener transport targets endpoints executor 'threading' allow requeue allow requeue batch size batch size batch timeout batch timeout 
def get diff renderer *args **kwargs return  diff renderer class *args **kwargs
def vxlan in use segmentation id namespace None ip wrapper I P Wrapper namespace namespace interfaces ip wrapper ['ip' '-d' 'link' 'list'] check exit code True return 'vxlanid%s' % segmentation id in interfaces 
def  check firstset info reverse fs if not fs or None in fs return Nonemembers set case flags N O C A S Efor i in fs if isinstance i Character and not i return Nonecase flags | i flagsmembers i flags case flags NOCASE if case flags FULLCASE | IGNORECASE return Nonefs Set Union info list members case flags case flags & ~ FULLCASE zerowidth True fs fs info reverse in set True return fs 
def  chop seq how much return seq B how much ]
def volume type destroy context id return I M P L type destroy context id 
def test cirs to altaz from .. import Earth Location ra dec dist randomly sample sphere 200 cirs CIRS ra ra dec dec obstime u J2000 crepr Spherical Representation lon ra lat dec distance dist cirscart CIRS crepr obstime cirs representation Cartesian Representation loc Earth Location lat 0 * u lon 0 * u height 0 * u altazframe Alt Az location loc obstime Time u J2005 cirs2 cirs to altazframe .transform to cirs cirs3 cirscart to altazframe .transform to cirs assert allclose cirs cirs2 assert allclose cirs cirs2 assert allclose cirs cirs3 assert allclose cirs cirs3 
@when u def step update table context context u 'yyy'wherex 'xxx';"
def  load function pickled func globals code info func info doc pickle pickled func func function code *code info globals *func info func doc docreturn func 
def ORIG k n return  XXX k n  ORIG
def slugify unicode s chars []for char in str smart text s cat unicodedata char [0]if cat in u L N or char in u ~' chars char elif cat u Z chars u return re u u u chars .strip .lower
def makeiter obj return obj if hasattr obj '  iter  ' else [obj]
def qqplot 2samples data1 data2 xlabel None ylabel None line None ax None check data1 isinstance data1 Prob Plot check data2 isinstance data2 Prob Plot if not check data1 and not check data2 data1 Prob Plot data1 data2 Prob Plot data2 fig data1 xlabel xlabel ylabel ylabel line line other data2 ax ax return fig 
def get formatted string string type string fallback case if string is not None if case string return stringelse string case fallback question u Doyouwishtouse % string string type if not get confirmation question string input u Pleaseinputa ' % string type while not case string print u % string string type string input u Pleaseinputavalid ' % string type return string 
def decodeerror arguments errn arguments a1 errnif 'errs' in arguments err a2 arguments err a2 Mac O S Get Error String errn if 'erob' in arguments err a3 arguments err a3 Nonereturn err a1 err a2 err a3 
def get autoconfig client client cache  AUTOCONFIG CLIENT try return client cache Attribute Error configured client hdfs config configured hdfs client if configured client 'webhdfs' client cache hdfs webhdfs client Web Hdfs Client elif configured client 'snakebite' client cache hdfs snakebite client Snakebite Hdfs Client elif configured client 'snakebite with hadoopcli fallback client cache luigi Cascading Client [hdfs snakebite client Snakebite Hdfs Client hdfs hadoopcli clients hadoopcli client ] elif configured client 'hadoopcli' client cache hdfs hadoopcli clients hadoopcli client else raise Exception 'nknownhdfsclient + configured client return client cache 
def  Get Type Name x if type x is types Instance Type return x  class  .  name  else return type x .  name  
@ api version 1.21 @ client version '1.5.0' def remove network network id response  client wrapper 'remove network network id  clear context return response 
def pg word body return html header % word + body + html trailer 
def get egl path if not sys 'win' return Nonereturn os distutils python lib 'y Qt5 E G L 
def get type class typ try return  type map Key Error return types Buffer 
def Convert Keys keys def Change App key app id if key app id return keyreturn datastore Key path namespace key  app app id *key.to path app id datastore Key path 'kind' 'name' .app return [hange App key app id for key in keys 
def test adagard max scaling try Ada Grad -1.0 allows null Trueexcept Assertion Error allows null Falseassert not allows null def one case dataset type model type cost model dataset sgd state prepare adagrad test dataset type model type sgd dataset dataset for param in model params assert not np np param value one case 'zeros' 'zeros' one case 'arange' 'zeros' one case 'zeros' 'random' one case 'arange' 'random'
def inter community non edges G partition return inter community edges nx G partition 
@require context instance exists using uuid context manager reader allow asyncdef virtual interface get by instance context instance uuid vif refs  virtual interface query context .filter by instance uuid instance uuid .order by asc 'created at asc 'id' .all return vif refs 
def crontab attrs None where None return  osquery cmd table 'crontab' attrs attrs where where 
def nomethod cls context 'ethod Not Allowed 'ontent Type 'text/html' header 'llow ' '.join [method for method in ['GET' 'HEAD' 'POST' 'PUT' 'DELETE'] if hasattr cls method ] return output 'methodnotallowed'
def test will not fix Are Equal com obj Byte '123' System Byte 123 Are Equal com obj Char '123' System S Byte 123 Are Equal com obj Float '123' 123.0 Are Equal com obj Bstr object 'ystem Object Are Equal type com obj I Dispatch object object Are Equal com obj Byte None System Byte 0 Are Equal com obj Float None 0.0 Are Equal com obj Bstr 3.14 '3.14'
def merge translations source stream *translation streams **kwargs source tuple source stream streams [synchronize source t key lambda m m key unused kwargs 'unused' for t in translation streams messages in zip source *streams yield match to source *messages
def task reserved request add request requests  setitem   add reserved request reserved requests add request request request add reserved request request 
def mon active **kwargs return ceph cfg active **kwargs
def  check permission request owner name error msg allow root False if request ! owner name if allow root and request superuser returnaccess warn request error msg raise Popup Exception _ 'ermissiondenied Youarenottheowner 
def  verify source estimate compat a b compat Falseif len a len b if all np equal av vv for av vv in zip a b compat Trueif not compat raise Value Error 'annotcombine Source Estimatesthatdonothavethesamevertices Considerusingstc .' if a ! b raise Value Error 'sourceestimatesdonothavethesamesubjectnames %rand%r' % a b 
def  reloader stat loop extra files None interval 1 from itertools import chainmtimes {}while 1 for filename in chain  iter module files extra files or try mtime os filename .st mtimeexcept O S Error continueold time mtimes filename if old time is None mtimes mtimecontinueelif mtime > old time  log 'info' 'etectedchangein reloading % filename sys 3 time interval 
def test user columns flag script data virtualenv virtualenv site packages Truescript 'install' '-f' data links '--no-index' 'simple 1.0' script 'install' '-f' data links '--no-index' '--user' 'simple2 2.0' result script 'list' '--user' '--format columns assert 'ackage in result assert 'ersion in result assert 'simple2 2.0 ' not in result assert 'simple22.0' in result str result 
def due in minutes timestamp diff datetime timestamp ' H %M %S' - dt util .replace tzinfo None return str int diff seconds / 60
def corpus ribes list of references hypotheses alpha 0.25 beta 0.1 corpus best ribes 0.0for references hypothesis in zip list of references hypotheses corpus best ribes + sentence ribes references hypothesis alpha beta return corpus best ribes / len hypotheses 
def package delete context data dict model context context  get or bust data dict 'id' entity model Package id if entity is None raise Not Found check access 'package delete context data dict rev model revision rev userrev _ u R E S T A P I Delete Package %s' % entity for item in plugins Plugin Implementations plugins I Package Controller item entity item delete context data dict entity dataset memberships model Session model Member .filter model Member id id .filter model Member 'active' .all for membership in dataset memberships membership model 
@pytest.fixture autouse True def change qapp name qapp old name qapp Name qapp Application Name 'qute test yield qapp Application Name old name 
def numeric assortativity coefficient G attribute nodes None a numeric mixing matrix G attribute nodes return numeric ac a 
def info return  nodetool 'info'
def utf8 value if value is None or isinstance value six type return valueif not isinstance value six type value six type value return value 'utf-8'
def start app runas None if runas is None and not salt windows runas salt user res   salt  ['cmd.run all [  context  ['rabbitmqctl'] 'start app runas runas python shell False  check response res return res 
def  check sets result expected msg path type  if result ! expected if result > expected diff result - expected msg 'extra%sinresult %r' %  s type  diff diff elif result < expected diff expected - result msg 'resultismissing%s %r' %  s type  diff diff else in result result - expected in expected expected - result msg '%sonlyinresult %s\n%sonlyinexpected %s' %  s type  in result in result  s type  in expected in expected raise Assertion Error '%s%ssdonotmatch\n%s' %  fmt msg msg type   fmt path path 
def rax find image module rax module image exit True cs rax module UUID image except Value Error try image cs human id image except cs Not Found cs No Unique Match try image cs name image except cs Not Found cs No Unique Match if exit module json msg 'omatchingimagefound %s ' % image else return Falsereturn rax module id image 
def remove tenant user request project None user None domain None client keystoneclient request admin True roles client for user user project for role in roles remove tenant user role request user user role role project project domain domain 
def methods via query allowed handler method def redirect if needed self *args **kwargs real verb self ' method None if not real verb and ' H T T P Method Override in self real verb self X H T T P Method Override real verb logging 'edirectedfrom P O S T Detectedmethodoverride %s' real verb method real verb if method 'HEAD' self *args **kwargs elif method 'PUT' self *args **kwargs elif method 'DELETE' self *args **kwargs elif method 'TRACE' self *args **kwargs elif method 'OPTIONS' self *args **kwargs elif method 'POST' self *args **kwargs elif method 'GET' self *args **kwargs else self 405 else handler method self *args **kwargs return redirect if needed 
def tenant absent name profile None **connection args ret {'name' name 'changes' {} 'result' True 'comment' 'enant name }tenant   salt  ['keystone.tenant get name name profile profile **connection args if 'rror not in tenant if   opts  .get 'test' ret Noneret 'enant name return ret  salt  ['keystone.tenant delete name name profile profile **connection args ret 'enant name ret Tenant Project 'eleted ret 
def image fig data h w x range y range plot size fig figure x range x range y range y range plot width plot size plot height plot size toolbar location None fig rgba [data] x [0] y [0] dw [w] dh [h] fig Nonefig border 0return fig 
def mktemp suffix '' prefix template dir None if dir is None dir gettempdir names  get candidate names for seq in range TMP MAX name next names file  os dir prefix + name + suffix if not  exists file return fileraise File Exists Error  errno E E X I S T 'ousabletemporaryfilenamefound 
def  base fact atom if isinstance atom Not return atom return atom 
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
def str wrap arr width **kwargs kwargs widthtw textwrap Text Wrapper **kwargs return  na map lambda s '\n'.join tw s arr 
def find predicate seq for element in seq if predicate element return elementreturn None 
def normal denom fa fd ga gd DE dn ds splitfactor fd DE en es splitfactor gd DE p dn en h en en D E .quo p p D E a dn * h c a * h if c en [1] raise Non Elementary Integral Exceptionca c * ga ca cd ca gd include True ba a * fa - dn * derivation h DE * fd ba bd ba fd include True return a ba bd ca cd h 
def inerasable msg if color enabled return  CLEAR LINE + msg return msg 
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def clean Host host protocol True ssl False username None password None if not ' //' in host and protocol host 'https //' if ssl else 'http //' + host if not protocol host host ' //' 1 [ -1 ]if protocol and username and password try auth re '^ ? .+?// .+? .+? @ ? .+ $' host if auth log 'leanhosterror authalreadydefinedinurl %s pleaseremove Basic Authfromurl host else host host ' //' ' //%s %s@' % username password 1 except passhost host '/' if protocol host + '/'return host 
def e Get S S Handle p I O Type p Channel p Value x1 if os 'nt' static Lib ctypes Load Library 'labjackud' pv ctypes double p Value ec static Lib Get S S Handle p I O Type p Channel ctypes pv x1 if ec ! 0 raise Lab Jack Exception ec return pv raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def parse filename page ranges args pairs []pdf filename Nonedid page range Falsefor arg in args + [one if Page Range arg if not pdf filename raise Value Error 'hefirstargumentmustbeafilename notapagerange pairs pdf filename Page Range arg did page range Trueelse if pdf filename and not did page range pairs pdf filename PAGE RANGE ALL pdf filename argdid page range Falsereturn pairs 
def is invalid token platform version return False 
def get version from pkg info package name try pkg info file open 'PKG-INFO' 'r' except I O Error O S Error return Nonetry pkg info email from file pkg info file except email Message Error return Noneif pkg info 'ame None ! package name return Nonereturn pkg info 'ersion None 
def load ctypes library name try return cdll Load Library name except O S Error name find library name if name is None raisereturn cdll Load Library name 
def shear x intensity 0.1 is random False row index 0 col index 1 channel index 2 fill mode 'nearest' cval 0.0 if is random shear np - intensity intensity else shear intensityshear matrix np [[1 - np shear 0] [0 np shear 0] [0 0 1]] h w x index x index transform matrix transform matrix offset center shear matrix h w x apply transform x transform matrix channel index fill mode cval return x 
def save db model new model model name event id None save to db new model 'odel % model name return new model 
def get hosts service instance datacenter name None host names None cluster name None get all hosts False properties ['name']if not host names host names []if cluster name properties 'parent' if datacenter name start point get datacenter service instance datacenter name if cluster name cluster get cluster start point cluster name else start point get root folder service instance hosts get mors with properties service instance vim Host System container ref start point property list properties filtered hosts []for h in hosts name condition get all hosts or h in host names cluster condition not datacenter name or not cluster name or isinstance h vim Cluster Compute Resource and h cluster name if name condition and cluster condition filtered hosts h return filtered hosts 
def Coin name p S Half return rv name Bernoulli Distribution p 'H' 'T'
def  check valid version npm version distutils Loose Version salt 'npm--version' output loglevel 'quiet' valid version distutils Loose Version '1.2' if npm version < valid version raise Command Execution Error "'npm'isnotrecentenough {0}<{1} .lease Upgrade npm version valid version 
def find parameters obj fields None if fields is None fields [k for k in obj  dict  .keys if not k '_' ]params []for field in fields data getattr obj field if isinstance data basestring for match in Template data name match 'named' or match 'braced' if name is not None params name return params 
def atrm *args if not salt 'at' return "'at.atrm'isnotavailable."if not args return {'jobs' {'removed' [] 'tag' None args 'all' if len args > 1 opts list list map str [j['job'] for j in atq args ['jobs']] ret {'jobs' {'removed' opts 'tag' args opts list list map str [j['job'] for j in atq ['jobs']] ret {'jobs' {'removed' opts 'tag' None opts list list map str [i['job'] for i in atq ['jobs'] if i in args ] ret {'jobs' {'removed' opts 'tag' None  cmd 'at' '-d' ''.join opts if output is None return "'at.atrm'isnotavailable."return ret 
@spm face spm datadef test read spm ctf data path spm face path raw fname op data path 'MEG' 'spm' 'SPM CTF MEG example faces1 3 raw read raw ctf raw fname extras raw raw extras equal extras samp raw times assert false extras samp extras samp tot 
def get Scale Tetragrid element Node prefix scale Default Vector3 Vector3 1.0 1.0 1.0 scale get Cumulative Vector3 Remove scale Default Vector3 element Node prefix if scale scale Default Vector3 return Nonereturn [[scale.x 0.0 0.0 0.0] [0.0 scale 0.0 0.0] [0.0 0.0 scale 0.0] [0.0 0.0 0.0 1.0]]
def  check dladm return salt 'dladm'
def nnls A b A b map asarray chkfinite A b if len A ! 2 raise Value Error 'expectedmatrix' if len b ! 1 raise Value Error 'expectedvector' m n A m ! b raise Value Error 'incompatibledimensions' w zeros n dtype double zz zeros m dtype double index zeros n dtype int x rnorm mode  nnls A m n b w zz index if mode ! 1 raise Runtime Error 'toomanyiterations' return x rnorm 
def hosts hostnames zone 'net' addresses [gethostbyname name for name in hostnames '%s %s' % zone ' '.join addresses 
def vat number check digit vat number normalized vat number smart str vat number .zfill 10 total 0for i in range 0 10 2 total + int normalized vat number for i in range 1 11 2 quotient remainder divmod int normalized vat number * 2 10 total + quotient + remainder return smart unicode 10 - total % 10 % 10
def get Bracket Values Delete Evaluator bracket Begin Index bracket End Index evaluators evaluated Expression Value Evaluators get Bracket Evaluators bracket Begin Index bracket End Index evaluators bracket Values []for evaluated Expression Value Evaluator in evaluated Expression Value Evaluators bracket Values evaluated Expression Value Evaluator del evaluators bracket Begin Index + 1 bracket End Index + 1 ]return bracket Values 
def wrap elemwise numpy ufunc array wrap False def wrapped *args **kwargs dsk [arg for arg in args if hasattr arg ' elemwise ]if len dsk > 0 if array wrap return dsk elemwise   array wrap   numpy ufunc *args **kwargs else return dsk elemwise numpy ufunc *args **kwargs else return numpy ufunc *args **kwargs wrapped  name   numpy ufunc  name  wrapped  doc   skip doctest numpy ufunc  doc   return wrapped 
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def test intersect 2 old 20 20 20 20 20 new 58 4 20 18 answer [ 0 slice 0 20 1 slice 0 20 2 slice 0 18 2 slice 18 20 3 slice 0 2 3 slice 2 20 4 slice 0 2 4 slice 2 20 ]cross list intersect chunks old chunks old new chunks new assert answer cross 
def squeeze nxn input  n factor 2 if isinstance input  float int return input shape input .get shape .as list batch size shape shape shape shape height % n factor ! 0 raise Value Error 'eightnotdivisibleby % n factor if width % n factor ! 0 raise Value Error 'idthnotdivisibleby % n factor res tf input  [batch size height // n factor n factor width // n factor n factor channels res tf res [0 1 3 5 2 4] res tf res [batch size height // n factor width // n factor channels * n factor * n factor ] return res 
def metadef tag delete context namespace name name session None session session or get session return metadef tag api context namespace name name session 
def test mapping inverse RS Rotation2 D & Scale M RS | Mapping [2 0 1] | RS m M 12.1 13.2 14.3 15.4 assert allclose 0 1 2 m *m 0 1 2 atol 1e-08
def minimum spanning edges G algorithm 'kruskal' weight 'weight' keys True data True return  spanning edges G minimum True algorithm algorithm weight weight keys keys data data 
def dup inner gcd f g K if not K Exact try exact K exact except Domain Error return [ f g f dup convert f K exact g dup convert g K exact h cff cfg dup inner gcd f g exact h dup convert h exact K cff dup convert cff exact K cfg dup convert cfg exact K return h cff cfg elif K Field if K QQ and query 'USE HEU GCD' try return dup qq heu gcd f g K except Heuristic G C D Failed passreturn dup ff prs gcd f g K else if K ZZ and query 'USE HEU GCD' try return dup zz heu gcd f g K except Heuristic G C D Failed passreturn dup rr prs gcd f g K
def add Faces Given Binary stl Data triangle Mesh vertex Index Table number Of Vertexes len stl Data - 84 / 50 vertexes []for vertex Index in xrange number Of Vertexes byte Index 84 + vertex Index * 50 vertexes get Vertex Given Binary byte Index + 12 stl Data vertexes get Vertex Given Binary byte Index + 24 stl Data vertexes get Vertex Given Binary byte Index + 36 stl Data add Faces Given Vertexes triangle Mesh vertex Index Table vertexes 
def Get Argument kwargs name die fn if name in kwargs return kwargs print >>sys.stderr '%sargumentrequired' % name die fn 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def inttobits anint width None remains anintretreverse []while remains retreverse remains & 1 remains remains >> 1 retreverse ret retreverseif None ! width ret head [0] * width - len ret ret ret head + ret return ret 
def pr realm entity if not entity return []s3db current s3db affiliationrtable s3db rolequery atable ! True & atable id rtable & atable id entity & rtable ! True & rtable type OU rows current query .select rtable id realm [row.pe id for row in rows realm 
def CDLCONCEALBABYSWALL bar Ds count return call talib with ohlc bar Ds count talib C D L C O N C E A L B A B Y S W A L L 
def  format mappings properties result mappings [ame m 'ame m for m in  properties get mappings properties if block device swap or ephemeral m ]block device mapping [ format block device mapping bdm for bdm in properties 'block device mapping [] ]for bdm in block device mapping for i in range len mappings if bdm Name mappings Name del mappings bdm mappings [bdm for bdm in mappings if not bdm 'evice False ]if mappings result Device Mapping mappings 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def  losetup list parse output devices []for line in output parts line u ' 2 if len parts ! 3 continue device file _ backing file partsdevice file File Path device file .encode 'utf-8' left bracket offset backing file ' ' backing file backing file left bracket offset + 1 ]right bracket offset backing file ' ' backing file backing file right bracket offset suffix list [' deleted ']for suffix in expected suffix list offset backing file suffix if offset > -1 backing file backing file offset file backing file backing file File Path backing file 'utf-8' devices device file backing file return devices 
def Abelian Group *cyclic orders groups []degree 0order 1for size in cyclic orders degree + sizeorder * sizegroups Cyclic Group size G Direct Product *groups G. is abelian True G degree degree G order orderreturn G
def kill listen processes namespace if  kill listen processes namespace force False try wait until no listen pids namespace namespace except Pids In Namespace Exception  kill listen processes namespace force True wait until no listen pids namespace namespace 
def local import aux name reload force False app 'welcome' items name '/' '.' name 'applications.%s.modules.%s' % app items module   import   name for item in name '.' [1 ] module getattr module item if reload force reload module return module 
def  restore Merged Options for option in RESTORE MERGED OPTIONS conf merged Options 
def create hadoopcli client version hdfs config configured hadoop version if version 'cdh4' return Hdfs Client elif version 'cdh3' return Hdfs Client Cdh3 elif version 'apache1' return Hdfs Client Apache1 else raise Value Error 'rror Unknownversionspecifiedin Hadoopversionconfigurationparameter 
def H Box *args **kwargs return Row *args **kwargs
def product simplify s from sympy import Productterms Mul args s p t []o t []for term in terms if isinstance term Product p t term else o t term used [alse * len p t for method in range 2 for i p term1 in enumerate p t if not used for j p term2 in enumerate p t if not used and i ! j if isinstance product mul p term1 p term2 method Product p t product mul p term1 p term2 method used Trueresult Mul *o t for i p term in enumerate p t if not used result Mul result p term return result 
def name fixer p if isinstance p unicode return pelif isinstance p str try return p 'utf-8' except try return p codepage except return p 'cp1252' 'replace' .replace '?' '!' else return p 
def gps bearing lat1 lon1 lat2 lon2 lat1 math lat1 lat2 math lat2 lon1 math lon1 lon2 math lon2 d Lat lat2 - lat1 d Lon lon2 - lon1 y math d Lon * math lat2 x math lat1 * math lat2 - math lat1 * math lat2 * math d Lon bearing math math y x if bearing < 0 bearing + 360.0return bearing 
def autocomplete query url 'http //autocomplete.wunderground.com/aq?query {}'.format query return requests url .json ['RESULTS']
def py2encode s return s 'utf-8' if PY2 and type s is unicode else s 
def canonical path request lang getattr request 'locale' settings L A N G U A G E CODE url getattr request 'path' '/' return {'canonical path re '^/' + lang '' url }
def ansible group init ansible inv group name ansible inv name {}ansible inv name []ansible inv name {}
def list to scope scope if isinstance scope unicode type or scope is None return scopeelif isinstance scope set tuple list return u [unicode type s for s in scope else raise Value Error u Invalidscope %s mustbestring tuple set orlist % scope 
def wholelist *field list return Role Role field list 
def  unquote slashes match matched match 0 if matched ';;' return ';'elif matched ';_' return '/'else return matched 
def node state id  states int {0 'RUNNING' 1 'REBOOTING' 2 'TERMINATED' 3 'PENDING' 4 'UNKNOWN' 5 'STOPPED' 6 'SUSPENDED' 7 'ERROR' 8 ' A U S E D str {'running' 'RUNNING' 'rebooting' 'REBOOTING' 'starting' 'STARTING' 'terminated' 'TERMINATED' 'pending' 'PENDING' 'unknown' 'UNKNOWN' 'stopping' 'STOPPING' 'stopped' 'STOPPED' 'suspended' 'SUSPENDED' 'error' 'ERROR' 'paused' 'PAUSED' 'reconfiguring' ' E C O N F I G U R I N G states str ] if isinstance id  string types else states int ]
def deepfirst seq if not isinstance seq list tuple return seqelse return deepfirst seq 
def val2array value with None True with Scalar True length 2 if value is None if with None return Noneelse raise Value Error 'nvalidparameter Noneisnotacceptedasvalue value numpy value float if numpy value 1 if with Scalar return numpy value length else msg 'nvalidparameter Singlenumbersarenotaccepted Shouldbetuple Value Error msg % str length elif value -1 ] length return numpy value float else msg 'nvalidparameter Shouldbelength Value Error msg % str length str len value 
def track closed cls class Tracking Closed cls def   init   self *a **kw super Tracking Closed self .  init   *a **kw self Falsedef close self super Tracking Closed self .close self Truereturn Tracking Closed 
def sample hi given samples i W list b list beta 1.0 hi mean hi given samples i W list b list beta hi sample theano rng size samples value .shape n 1 p hi mean dtype float X return hi sample 
def reissue receipt receipt time  calendar time receipt obj Receipt receipt data receipt obj decoded data {'exp' time  + settings W E B A P P S RECEIPT EXPIRY SECONDS 'iat' time  'nbf' time } return sign data 
def Validate Property Integer name value if not -9223372036854775808 < value < 9223372036854775807 raise Overflow Error '%disoutofboundsforint64' % value 
def samples to file samples rate file out fmt '' dtype 'int16' file fmt data fmt  get pyo codes fmt dtype file out if type samples np samples samples if type samples ! list raise Type Error 'samplesshouldbealistornp.array' try pyo samples path file out sr int rate channels 1 fileformat file fmt sampletype data fmt except Exception msg 'couldnotsave`{0}`;permissionsorotherissue?'raise I O Error msg file out 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def list route methods None **kwargs methods [u'get'] if methods is None else methods def decorator func func to methods methodsfunc Falsefunc kwargsreturn funcreturn decorator 
def get Arounds From Path path radius threshold Ratio 0.9 radius abs radius points get Points From Path path radius threshold Ratio return get Arounds From Path Points points radius threshold Ratio 0.9
def import vul csv part2 job id request vars not job id return "rror No Job I D s3 rest controller 'vulnerability' 'data' csv stylesheet 'data.xsl' total Records output Errors output Ignored output gluon import json as jsonsresponse Content Type 'application/json'return jsons {ecords total Records 'rrors total Errors 'gnored total Ignored 
def identification field factory label error required return forms Char Field label label widget forms Text Input attrs attrs dict max length 75 error messages {u'required' error required 
def media type matches lhs rhs lhs  Media Type lhs rhs  Media Type rhs return lhs rhs 
def write wcsconfig h paths h file io String I O h file u Thebundledversionhas W C S L I B V E R S I O N H A V E WCSLIB V E R S I O N1 W C S L I Blibraryversionnumber W C S L I B V E R S I O N W C S L I B I N T64 Windowsneedssomeotherdefinestopreventinclusionofwcsset \nwhichconflictswithwcslib'swcsset .heseneedtobeset inadditiontoastropy  WIN32 ||defined  MSC VER ||defined   MINGW32   ||defined   MINGW64   \ Y NO UNISTD H Y Y NO UNISTD H CRT SECURE NO W A R N I N G S CRT SECURE NO W A R N I N G S NO O L D N A M E S NO O L D N A M E S N O O L D N A M E S N O O L D N A M E S  STDC  \n#define  STDC  1\n#endif\n\n#endif\n".format WCSVERSION determine 64 bit int content h file .encode u for path in paths setup helpers if different path content 
def vhosts cmd '  detect os ret {}namevhost ''out   salt  ['cmd.run'] cmd for line in out if not line continuecomps line if 'ame Virtual Host in line namevhost comps {}else if comps 'default' ret {}ret[namevhost]['default']['vhost'] comps re '\\ |\\ ' '' comps if comps 'port' ret {}ret[namevhost][comps[3]]['vhost'] comps re '\\ |\\ ' '' comps ret comps ret 
def print Traceback tb log 'erspective Broker Traceback ' log tb 
def test suggested cased column names with alias cased completer complete event text u S E L E C Tu u len u S E L E C Tu u result set cased completer completions Document text text cursor position position complete event assert set result set cased users cols 
def  read arraydesc f arraydesc {'arrstart'  read long f }if arraydesc 8  skip bytes f 4 arraydesc  read long f arraydesc  read long f arraydesc  read long f  skip bytes f 8 arraydesc  read long f arraydesc []for d in range arraydesc arraydesc  read long f elif arraydesc 18 warnings 'singexperimental64  skip bytes f 8 arraydesc  read uint64 f arraydesc  read uint64 f arraydesc  read long f  skip bytes f 8 arraydesc 8arraydesc['dims'] []for d in range arraydesc v  read long f if v ! 0 raise Exception 'xpectedazeroin A R R A Y DESC' arraydesc  read long f else raise Exception 'nknown A R R S T A R T %i' % arraydesc return arraydesc 
def ecommerce api client user session None jwt auth configuration helpers value 'JWT AUTH' settings J W T AUTH return Edx Rest Api Client configuration helpers value 'ECOMMERCE API URL' settings E C O M M E R C E API URL configuration helpers value 'ECOMMERCE API SIGNING KEY' settings E C O M M E R C E API SIGNING KEY user user if hasattr user 'profile' else None user tracking context create tracking context user issuer jwt auth J W T ISSUER'] expires in jwt auth J W T EXPIRATION'] session session 
def on Base App Ready is Bootstrap INFO MSG 'ase App Ready is Bootstrap %s app I D %s bootstrap Group Index %s bootstrap Global Index %s' % is Bootstrap os 'KBE COMPONENTID' os 'KBE BOOTIDX GROUP' os 'KBE BOOTIDX GLOBAL'
def generate json file results dir relative links True results data parse results dir results dir relative links json path os results dir 'status.json' json file open json path 'w' json results data json file json file return json path 
def Triangle Collection mode 'raw' *args **kwargs return Raw Triangle Collection *args **kwargs
def Error To String Error Code if os 'nt' static Lib ctypes Load Library 'labjackud' p String ctypes string buffer 256 static Lib Error To String ctypes long Error Code ctypes p String return p String raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def  get reparse data path if sys .major < 6 raise Salt Invocation Error 'ymlinksareonlysupportedon Windows Vistaorlater path os path if not  is reparse point path return Nonefile Handle Nonetry file Handle win32file Create File W path 2147483648 1 None 3 2097152 | 33554432 reparse Data win32file Device Io Control file Handle 589992 None 16384 finally if file Handle win32file Close Handle file Handle return reparse Data 
def debounce seconds 1 def decorator func func None func def wrapper *args **kwargs def call func *args **kwargs func Noneif func func func Timer seconds call func return wrapperreturn decorator 
def get valid utf8 str str or unicode if isinstance str or unicode unicode str or unicode  len utf8 encoder str or unicode 'replace' valid utf8 str  len utf8 decoder str or unicode 'replace' return valid utf8 str 'utf-8'
def rfind s *args return  apply s args 
@register.inclusion tag u blog takes context True def quick blog context context Blog Post Form return context 
def get instructions xmltree instructions xmltree 'instructions' if instructions is not None instructions 'div'xmltree.remove instructions return etree instructions encoding 'unicode' return None 
def this is a testfile filename return TESTFILE R E osp filename 
def Draw Box v Min v Max gl Begin GL LINE LOOP gl Vertex3f v Min v Min v Min gl Vertex3f v Max v Min v Min gl Vertex3f v Max v Max v Min gl Vertex3f v Min v Max v Min gl End gl Begin GL LINE LOOP gl Vertex3f v Min v Min v Max gl Vertex3f v Max v Min v Max gl Vertex3f v Max v Max v Max gl Vertex3f v Min v Max v Max gl End gl Begin GL LINES gl Vertex3f v Min v Min v Min gl Vertex3f v Min v Min v Max gl Vertex3f v Max v Min v Min gl Vertex3f v Max v Min v Max gl Vertex3f v Max v Max v Min gl Vertex3f v Max v Max v Max gl Vertex3f v Min v Max v Min gl Vertex3f v Min v Max v Max gl End 
def check response method @functools.wraps method def wrapped self *args **kwargs response method self *args **kwargs status response codeif status > 400 if response code 429 self 429 resp *args **kwargs return method self *args **kwargs .json msg args response response response msg 'adapiresponse %r%r%r' % msg args raise Bad A P I Response response msg return response return wrapped 
def get C S Velement v v cstr v if not v return u u ' in v or u in v or u in v if u in v v v u u return u + v + u else return v or u 
def  next version version if hasattr version 'base version if version version parts version version '.' else parts []else parts []for part in version if part '*' breakparts part parts [int p for p in parts len parts < 3 parts + [0] * 3 - len parts major minor micro parts 3]return '{0}.{1}.{2}'.format major minor + 1 0
def get maker engine autocommit True expire on commit False return sqlalchemy bind engine autocommit autocommit expire on commit expire on commit 
def  restore path envvar original if original os P A T H original 
def void output func argtypes errcheck True if argtypes func argtypesif errcheck func c intfunc check errcodeelse func Nonereturn func 
def SVG path path transform None simplify False if transform is not None path path transform vc tuples [ vertices if path code ! Path C L O S E P O L Y else [] PATH D I C T code for vertices path code in path segments simplify simplify ]if not vc tuples return np 0 2 [] else vertices codes zip *vc tuples vertices np list itertools *vertices .reshape -1 2 return vertices list codes 
def  inputs swap needed mode shape1 shape2 if mode 'valid' ok1 ok2 True True for d1 d2 in zip shape1 shape2 if not d1 > d2 ok1 Falseif not d2 > d1 ok2 Falseif not ok1 or ok2 raise Value Error "or onemustbeatleastaslargeastheotherineverydimension return not ok1 return False 
def isnumeric obj try float obj return Trueexcept return False 
@not implemented for 'directed' def is biconnected G bcc list biconnected components G if not bcc return Falsereturn len bcc len G
def find in path fname path None if path is None path os 'PATH' '' for dir in path os fpath os dir fname if os fpath return fpathelse return None 
def  check type compatible alphabets dna rna nucl protein False False False False for alpha in alphabets a  get base alphabet alpha if isinstance a D N A Alphabet dna Truenucl Trueif rna or protein return Falseelif isinstance a R N A Alphabet rna Truenucl Trueif dna or protein return Falseelif isinstance a Nucleotide Alphabet nucl Trueif protein return Falseelif isinstance a Protein Alphabet protein Trueif nucl return Falsereturn True 
def generate objects info packs repo for pack in repo store yield 'P' + pack sys + '\n'
def  include in cluster context cluster model partial rename filters filters  clean filters filters if filters and not is valid model filters model filters return Nonequery get session .query model if hasattr model 'deleted' query query by deleted False for field in {'cluster name 'host'}.intersection filters value filters field query query  filter host getattr model field value if partial rename and isinstance cluster six types cluster func getattr model field value cluster query query by **filters result query {'cluster name cluster synchronize session False return result 
def error codes *errnames ans {getattr errno x None for x in errnames None return ans 
def  retrieve users return   salt  ['users.config']
def get pci requests from flavor flavor pci requests []if 'extra specs in flavor and 'pci passthrough alias in flavor specs pci requests  translate alias to requests flavor specs passthrough alias return objects Instance P C I Requests requests pci requests 
def  Copy Query Options To Protocol Buffer query offset limit number found accuracy cursor cursor type ids only returned fields snippeted fields returned expressions sort options params if offset params offset offset params limit limit params matched count accuracy number found accuracy if cursor params cursor cursor 'utf-8' params cursor type cursor type if ids only params keys only ids only if returned fields or snippeted fields or returned expressions field spec pb params field spec for field in returned fields field spec pb name field 'utf-8' for snippeted field in snippeted fields expression u %s %s ' %  Quote String query snippeted field  Copy Field Expression To Protocol Buffer Field Expression name snippeted field expression expression 'utf-8' field spec pb expression for expression in returned expressions  Copy Field Expression To Protocol Buffer expression field spec pb expression if sort options is not None  Copy Sort Options To Protocol Buffer sort options params 
def isgeneratorfunction object return bool isfunction object or ismethod object and object code flags & CO GENERATOR
def enable merge strategies *merge strategies return  Enable Merge Strategies *merge strategies 
def pro cv seq m n c if not isscalar m and isscalar n and isscalar c raise Value Error 'rgumentsmustbescalars if n ! floor n or m ! floor m raise Value Error 'odesmustbeintegers if n - m > 199 raise Value Error 'ifferencebetweennandmistoolarge max L n - m + 1 return specfun m n c 1 [1][ max L 
def is bsd return platform in 'arwin 'ree B S D 'pen B S D 
def adapt obj obj blob sqlite3 Binary c Pickle obj if len blob > config blob size warnings ' Q Lite + LARGE BLOB W A R N I N G type obj len blob warnings 'ignore' 'largeobjects.*' return blob 
def contract creation exceptions return {olumn ['.'.join [table 'project id for table in get tables ] sa Index get tables }
def  get self href response data jsonutils response for link in data if link 'self' return link ''
def set output fp import commands browsercommands O U T browser O U T fp 
def test nearmiss fit single class ratio 'auto'nm2 Near Miss ratio ratio random state RND SEED version VERSION NEARMISS y single class np X assert warns User Warning nm2 X y single class 
def is hidden folder folder def is hidden filepath name ek os ek os filepath return name u or has hidden attribute filepath def has hidden attribute filepath try attrs ctypes Get File Attributes W ctypes wchar p unicode filepath assert attrs ! -1 result bool attrs & 2 except Attribute Error Assertion Error result Falsereturn resultif ek os folder if is hidden folder return Truereturn False 
def remote user auth view request t Template 'sernameis c Request Context request {} return Http Response t c 
def s3 image get context image id return I M P L image get context image id 
def safe add x y if x is not None and y is not None return x + y elif x is not None return xelif y is not None return yelse return None 
def test threading limit db folder sync engine monkeypatch from inbox import Message Thread M A X THREAD LENGTH 10monkeypatch.setattr ' A X THREAD LENGTH' MAX THREAD LENGTH namespace id folder sync engine idmsg Mock Raw Message [] for i in range 3 * MAX THREAD LENGTH m Message m id namespace idm date datetime m []m.size 0m.body ''m.from addr [ 'arim Hamidou 'karim@nilas.com' ]m.to addr [ 'ben Freeman 'eben@nilas.com' ]m.snippet ''m.subject 'uniquesubject'db.session.add m folder sync engine message to thread db m msg db new threads db Thread .filter Thread 'uniquesubject' .all assert len new threads 3 assert all len thread MAX THREAD LENGTH for thread in new threads 
def import string dotted path try module path class name dotted path u 1 except Value Error msg u % dotted path six Import Error Import Error msg sys info [2] module import module module path try return getattr module class name except Attribute Error msg u Module % dotted path class name six Import Error Import Error msg sys info [2]
def test setup stubs request data None app id 'myapp' application root '/tmp/root' trusted False blobstore path '/dev/null' datastore consistency None datastore path ' memory ' datastore require indexes False datastore auto id policy datastore stub util S C A T T E R E D images host prefix 'http //localhost 8080' logs path ' memory ' mail smtp host '' mail smtp port 25 mail smtp user '' mail smtp password '' mail enable sendmail False mail show mail body False matcher prospective search path '/dev/null' search index path None taskqueue auto run tasks False taskqueue default http server 'http //localhost 8080' uaserver path 'localhost' user login url '/ ah %s' user logout url '/ ah %s' xmpp path 'localhost' apiproxy stub map apiproxy stub map A P I Proxy Stub Map if datastore consistency is None datastore consistency datastore stub util Pseudo Random H R Consistency Policy setup stubs request data app id application root trusted blobstore path datastore consistency datastore path datastore require indexes datastore auto id policy images host prefix logs path mail smtp host mail smtp port mail smtp user mail smtp password mail enable sendmail mail show mail body matcher prospective search path search index path taskqueue auto run tasks taskqueue default http server uaserver path user login url user logout url xmpp path 
def   format columns column names sort field dataset []if sort field is not None sort name sort fieldelse sort name 'name'if sort name '!' sort name sort name ]sort order 'desc'else sort order 'asc'for fieldname in column names fieldorder 'none'if fieldname sort name fieldorder sort orderdataset [fieldname fieldorder return dataset 
def  vode banded jac wrapper jacfunc ml jac params def jac wrapper t y jac asarray jacfunc t y *jac params padded jac vstack jac zeros ml jac return padded jacreturn jac wrapper 
def test sensitivity specificity unused pos label assert warns message User Warning "otethatpos label setto2 isignoredwhenaverage 'binary' got .oumayuselabels [pos label sensitivity specificity support [1 2 1] [1 2 2] pos label 2 average 'macro'
def is fits origin filepath fileobj *args **kwargs if fileobj is not None pos fileobj sig fileobj 30 fileobj pos return sig FITS SIGNATURE elif filepath is not None if filepath .endswith '.fits' '.fits.gz' '.fit' '.fit.gz' '.fts' '.fts.gz' return Trueelif isinstance args H D U List Table H D U Bin Table H D U Groups H D U return Trueelse return False 
def  chinese remainder reconstruction univariate hp hq p q n hp x hp hp i in range n + 1 hpq i ] crt [p q [hp.coeff x ** i hq x ** i ] symmetric True [0]hpq.strip zero return hpq 
def moderator required function None def decorator request *args **kwargs group get object or 404 Group slug kwargs if request anonymous return Http Response Redirect reverse 'django.contrib.auth.views.login' if Group Member moderator group request return function request *args **kwargs else raise Http404return decorator 
def  generate communities degree sequence community sizes mu max iters result [set for _ in community sizes len degree sequence free list range n for i in range max iters v free c random range len community sizes s round degree sequence * 1 - mu if s < community sizes result v else free v if len result > community sizes free result if not free return resultmsg 'ouldnotassigncommunities community nx Exceeded Max Iterations msg 
def override bytes from content type listing dict logger None listing dict type swift bytes extract swift bytes listing dict type if swift bytes is not None try listing dict int swift bytes except Value Error if logger logger _ 'nvalidswift bytes 
def  maybe reset index data if data Index lrange 1 len data + 1 data data index drop True return data 
def get contact objects current user contact objects dict CONTACT OBJECTS for key in objects if hasattr contact key manager getattr contact key try manager manager status  hidden False except passobjects Object permitted current user manager return objects 
def  get django vars import refrom django import Transaction Test Casecamelcase re u [ Z A Z ' def insert underscore m u Insertanappropriateunderscoreintothename a b m 0 if b return u {}{}'.format a b else return u {}'.format a b def pep8 name u Replacecamelcasenamewith P E P8equivalent str camelcase insert underscore name .lower class Dummy Transaction Test Case u Adummytestcaseforgatheringcurrentassertionhelpers nop u Adummytesttogetaninitializedtestcase test Dummy u new names {}for assert name in [at for at in dir dummy test if at u and u ' not in at ] pepd pep8 assert name new names getattr dummy test assert name return new names 
def ccx dummy request factory Request Factory request factory 'ccx coach dashboard request Magic Mock return request 
@must be valid project have permission WRITE @must not be registrationdef remove pointer from folder auth node pointer id **kwargs if pointer id is None raise H T T P Error http B A D REQUEST pointer id node at pointer id pointer Pointer pointer id if pointer is None raise H T T P Error http B A D REQUEST try node pointer pointer auth auth except Value Error raise H T T P Error http B A D REQUEST node 
def cleanup  lib R A N D cleanup 
def  Boolean Attribute value if value in ['true' '1'] return Trueelif value in ['false' '0'] return Falseelse return None 
def serialize for reading element return etree element encoding u pretty print True 
def make pkg resources global conf egg resource name '' if pkg resources is None raise Not Implemented Error 'hisfunctionrequirespkg resources return Pkg Resources Parser egg resource name 
def regularize layer params weighted layers penalty tags {'regularizable' True **kwargs return sum coeff * apply penalty layer params **tags penalty **kwargs for layer coeff in layers 
def create variable name shape initializer tf initializer conv2d variable tf Variable initializer shape shape name name return variable 
def last focused window try return get 'last-focused-main-window' except Key Error return window by index -1
def parse cachecontrol header directives {}for directive in header ' ' key sep val directive .partition ' ' if key directives ] val if sep else None return directives 
def  i18n cache key suffix request cache key if settings U S E I18N or settings U S E L10N cache key + u % get language from request request if settings U S E TZ tz name force text get current timezone name errors u cache key + u % tz name u u .decode u .replace u u ' return cache key 
def isdata object return not inspect object or inspect object or inspect object or inspect object or inspect object or inspect object 
@csrf exemptdef checkout cancel  request context {'payment support email configuration helpers value 'payment support email settings P A Y M E N T SUPPORT EMAIL }return render to response 'commerce/checkout cancel context 
def ms attacks exploit return {'1' 'dll hijacking '2' 'unc embed '3' 'exploit/windows/fileformat/ms15 100 mcl exe '4' 'exploit/windows/fileformat/ms14 017 rtf '5' 'exploit/windows/fileformat/ms11 006 createsizeddibsection '6' 'exploit/windows/fileformat/ms10 087 rtf pfragments bof '7' 'exploit/windows/fileformat/adobe flashplayer button '8' 'exploit/windows/fileformat/adobe cooltype sing '9' 'exploit/windows/fileformat/adobe flashplayer newfunction '10' 'exploit/windows/fileformat/adobe collectemailinfo '11' 'exploit/windows/fileformat/adobe geticon '12' 'exploit/windows/fileformat/adobe jbig2decode '13' 'exploit/windows/fileformat/adobe pdf embedded exe '14' 'exploit/windows/fileformat/adobe utilprintf '15' 'custom/exe/to/vba/payload' '16' 'exploit/windows/fileformat/adobe u3d meshdecl '17' 'exploit/windows/fileformat/adobe pdf embedded exe nojs '18' 'exploit/windows/fileformat/foxit title bof '19' 'exploit/windows/fileformat/apple quicktime pnsize '20' 'exploit/windows/fileformat/nuance pdf launch overflow '21' 'exploit/windows/fileformat/adobe reader u3d '22' 'exploit/windows/fileformat/ms12 027 mscomctl bof exploit 'INVALID'
def test spans override sentiment en tokenizer text u en tokenizer text tokens 3.0tokens.vocab[tokens[2].text].sentiment -2.0 doc get doc tokens [t.text for t in tokens doc span hooks lambda span 10.0 assert doc 2].sentiment 10.0 assert doc -2 ].sentiment 10.0 assert doc -1 ].sentiment 10.0
def Add Batch Job client batch job service client Get Service 'atch Job Service version 'v201605' batch job operations [{'operand' {} 'operator' ' D D batch job service batch job operations ['value'][0]
def  parse params term keys ['key' 'type' 'section' 'file' 're' 'default']params {}for k in keys params ''thiskey 'key'for idp phrase in enumerate term for k in keys if '%s ' % k in phrase thiskey kif idp 0 or not params params phraseelse params + '' + phrase rparams [params[x] for x in keys if params rparams 
def  eapply func e cond None if not isinstance e Expr return eif  is Expr e or not e return func e return e *[  eapply func ei if cond is None or cond ei else ei for ei in e 
def parse File Paths page if page for regex in FILE PATH REGEXES for match in re regex page abs File Path match 'result' .strip page page abs File Path '' if is Windows Drive Letter Path abs File Path abs File Path posix To Nt Slashes abs File Path if abs File Path not in kb File Paths kb File Paths abs File Path 
def test correctness model MLP layers [inear dim 10 layer name 'linear' irange 1.0 Softmax n classes 2 layer name 'softmax' irange 1.0 ] batch size 10 nvis 10 cost Lp Penalty variables model params p 2 penalty cost model None penalty function theano inputs [] outputs penalty p penalty function actual p 0for param in model params actual p + numpy param value ** 2 assert numpy p actual p 
def new data None return S H A224 Hash .new data 
def binned binom proportion x success bins 10 range None conf 0.68269 interval u x np x success np success .astype np if x ! success raise Value Error u n bin edges np x bins bins range range k bin edges np x bins bin edges bin ctr bin edges -1 ] + bin edges ] / 2.0 bin halfwidth bin ctr - bin edges -1 ] valid n > 0 bin ctr bin ctr halfwidth bin halfwidth n k k / n bounds binom conf interval k n conf conf interval interval perr np bounds - p return bin ctr bin halfwidth p perr 
def disabled name ret {'name' name 'result' True 'comment' '' 'changes' {}}is enabled   salt  ['apache.check conf enabled name if is enabled if   opts  ['test'] msg 'pacheconf name ret msgret nameret Noneret Nonereturn retstatus   salt  ['apache.a2disconf'] name [tatus isinstance status string types and 'disabled' in status ret Trueret nameret Noneelse ret Falseret 'ailedtodisable Apacheconf name if isinstance status string types ret ret + ' {0} '.format status return retelse ret '{0}alreadydisabled.'.format name return ret 
def test enn fit sample with indices enn Edited Nearest Neighbours return indices True random state RND SEED X resampled y resampled idx under enn sample X Y X gt np [[ -0.10903849 -0.12085181 ] [0.01936241 0.17799828] [2.59928271 0.93323465] [1.92365863 0.82718767] [0.25738379 0.95564169] [0.78318102 2.59153329] [0.52726792 -0.38735648 ]] y gt np [0 0 1 1 2 2 2] idx gt np [4 11 0 3 1 8 15] assert array equal X resampled X gt assert array equal y resampled y gt assert array equal idx under idx gt 
def  fit eval rd B B2 fwd svd None fwd data None whitener None if fwd svd is None fwd  dipole forwards fwd data whitener rd ] [0] uu sing vv linalg fwd overwrite a True full matrices False else uu sing vv fwd svdgof  dipole gof uu sing vv B B2 [0]return 1.0 - gof 
def is reserved with trailing underscore name if name u ' and not name u  ' return is reserved name name -1 ] return False 
def cosh x return Cosh x 
def  get Deprecation Docstring version replacement None doc 'eprecatedin % get Version String version if replacement doc '%s;%s' % doc  get Replacement String replacement return doc + '.'
def  logistic x x np x if x 0 y np x 1 1 1 elif x 1 y np x len x 1 1 elif x 2 y np x x 1 x elif x 3 y xelse raise Not Implemented Errortmp np [ np y -1 ] y 1 y T ]evaluated np np y - logsumexp tmp axis 0 x return evaluated 
def camelcase to snakecase string to convert s1 re ' . [ Z ' '\\1_\\2' string to convert return re ' [a-z0-9] [A-Z] ' '\\1_\\2' s1 .lower
def unpack unicode data pos lenlen 2 nchars unpack '<' + 'BH'[ lenlen - 1 ] data pos + lenlen ] [0]if not nchars return UNICODE LITERAL '' pos + lenlenoptions BYTES ORD data pos + 1if options & 8 pos + 2if options & 4 pos + 4if options & 1 rawstrg data pos + 2 * nchars ]strg unicode rawstrg 'utf 16 le else strg unicode data pos + nchars ] 'latin 1' return strg 
def get interface type interface if interface .startswith 'ET' return 'ethernet'elif interface .startswith 'VL' return 'svi'elif interface .startswith 'LO' return 'loopback'elif interface .startswith 'MG' return 'management'elif interface .startswith 'MA' return 'management'elif interface .startswith 'PO' return 'portchannel'else return 'unknown'
def qnwunif n a b n a b list map np [n a b nodes weights qnwlege n a b weights weights / np b - a return nodes weights 
def sigmoid cutoff x cutoff y tf x if cutoff < 1.01 return yd cutoff - 1.0 / 2.0 return tf 1.0 tf 0.0 cutoff * y - d 
def buffer Data target data usage if isinstance data int size datadata ctypes voidp 0 else if not data C CONTIGUOUS'] or not data A L I G N E D data data 'C' data  datasize data .nbytesdata data .ctypes.data if isinstance data int size datadata Noneelse size data G L Buffer Data target size data usage 
def Dis Max Parser fieldboosts schema tiebreak 0.0 **kwargs from whoosh import pluginsmfp plugins Multifield Plugin list fieldboosts fieldboosts fieldboosts group syntax Dis Max Group pins [hitespace Plugin plugins Plus Minus Plugin plugins Phrase Plugin mfp Query Parser None schema plugins pins **kwargs
@step 'willcancelallalerts def i cancel all alerts step world script 'window.confirm function {returnfalse;};window.alert function {return;}'
def add Submenus craft Type Name menu plugin File Name plugin Path profile Radio Var submenu settings Tkinter Menu menu tearoff 0 menu cascade label plugin File Name menu submenu settings Tool Dialog .lugin To Menu submenu plugin Path submenu separator plugin Module skeinforge profile Craft Type Plugin Module plugin File Name profile Plugin Settings settings Read Repository plugin Module New Repository is Selected craft Type Name plugin File Name for profile Name in profile Plugin Settings List value is Selected and profile Name profile Plugin Settings Listbox Profile Menu Radio plugin File Name submenu profile Name profile Radio Var value 
def disable enhanced monitoring stream name metrics region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile r  execute with retries conn 'disable enhanced monitoring Stream Name stream name Shard Level Metrics metrics if 'error' not in r r Truereturn r 
def  fastq generic2 in handle out handle mapping truncate char truncate msg from Bio Seq I O Quality I O import Fastq General Iteratorcount 0null chr 0 for title seq old qual in Fastq General Iterator in handle count + 1qual old qual mapping if null in qual raise Value Error 'nvalidcharacterinqualitystring if truncate char in qual qual qual truncate char chr 126 import warningswarnings truncate msg Biopython Warning out handle '@%s\n%s\n+\n%s\n' % title seq qual return count 
@utils.synchronized 'safe set attr def set safe attr instance attr val if not instance or not attr return Falseold val getattr instance attr None if val is None and old val is None return Falseelif val old val return Falseelse setattr instance attr val return True 
def make Term node title 'ode term 'xterm' display None cmd 'bash' title '"%s %s"' % title node if not node Namespace title + ' root 'cmds {'xterm' ['xterm' '-title' title '-display'] 'gterm' ['gnome-terminal' '--title' title '--display']}if term not in cmds error 'invalidterminaltype %s' % term return display tunnel tunnel X11 node display if display is None return []term node cmds + [display '-e' ' E R M ansi % cmd ] return [tunnel term if tunnel else [term]
def get event node sock dir None transport 'zeromq' opts None listen True io loop None keep loop False raise errors False sock dir sock dir or opts dir if transport in 'zeromq' 'tcp' if node 'master' return Master Event sock dir opts listen listen io loop io loop keep loop keep loop raise errors raise errors return Salt Event node sock dir opts listen listen io loop io loop keep loop keep loop raise errors raise errors elif transport 'raet' import salt salt R A E T Event node sock dir sock dir listen listen opts opts 
@commands u u @example u America New York def f time bot trigger if trigger 2 zone get timezone bot bot trigger 2 .strip None None if not zone bot u Couldnotfindtimezone % trigger 2 .strip returnelse zone get timezone bot bot None trigger trigger time format time bot bot zone trigger trigger bot time 
def get storage path global  storage pathif  storage path is None storage path config 'ckan.storage path ofs impl config 'ofs.impl' ofs storage dir config 'ofs.storage dir if storage path  storage path storage pathelif ofs impl 'pairtree' and ofs storage dir log 'leaseuseconfigoptionckan pathinsteadof dir  storage path ofs storage dirreturn  storage pathelif ofs impl log 'eonlysupportlocalfilestorageformversion2 pathinyour  storage path Falseelse log 'leasespecifyackan pathinyourconfig  storage path Falsereturn  storage path 
def upload package conn module remotepath None if remotepath is None remotepath conn python lib localpath os module  file   upload dir conn localpath remotepath ['.py' '.pyd' '.dll' '.so' '.zip']
def get next exploration ids to complete by user user id collection id completed exploration ids get completed exploration ids user id collection id collection get collection by id collection id if completed exploration ids return collection next exploration ids completed exploration ids else return collection exploration ids 
def set salt view options  get options ret None new doc {}new doc get valid salt views new doc 'javascript' response  request 'PUT' options + options + '/ design 'application/json' json new doc if 'error' in  response log 'nabletosetthesaltdesigndocument {0}'.format  response return Falsereturn True 
def format msg *attr if DISABLE COLOR SUPPORT return msgif RESET in msg return ''.join [format comp *attr for comp in msg RESET ] encodings []for text attr in attr text attr encoding stem tools to camel case text attr None encoding FG E N C O D I N G text attr encoding encoding BG E N C O D I N G text attr encoding encoding ATTR E N C O D I N G text attr encoding if encoding encodings encoding if encodings prefix suffix CSI % ';'.join encodings RESET if Attr R E A D L I N E ESCAPE in attr prefix '\x01%s\x02' % prefix suffix '\x01%s\x02' % suffix return prefix + msg + suffix else return msg 
def write File Text file Name file Text write Mode 'w+' try file open file Name write Mode file file Text file except I O Error print 'hefile + file Name + 'cannotbewrittento.'
@ docstring 'releases' browse True def browse releases artist None track artist None label None recording None release group None release status [] release type [] includes [] limit None offset None valid includes VALID BROWSE I N C L U D E S {'artist' artist 'track artist track artist 'label' label 'recording' recording 'release-group' release group  browse impl 'release' includes valid includes limit offset params release status release type 
def sin mat target None if not target target materr code  cudamat sin mat mat target mat if err code raise generate exception err code return target 
def detach lb kwargs None call None if call ! 'function' raise Salt Cloud System Exit 'hedetach lbfunctionmustbecalledwith if not kwargs or 'name' not in kwargs log 'load return Falseif 'member' not in kwargs log 'nodenamenamemustbespecified return Falseconn get conn lb conn get lb conn conn lb lb conn balancer kwargs member list lb conn list members lb remove member Nonefor member in member list if member kwargs remove member memberbreakif not remove member log 'hespecifiedmember L B kwargs kwargs return False  utils  ['cloud.fire event 'event' 'detachload balancer 'salt/cloud/loadbalancer/detaching' args kwargs sock dir   opts  ['sock dir transport   opts  ['transport'] result lb conn detach member lb remove member   utils  ['cloud.fire event 'event' 'detachedload balancer 'salt/cloud/loadbalancer/detached' args kwargs sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def rands nchars return ''.join np RANDS CHARS nchars 
def resetwarnings util util testing warnwarnings 'ignore' category sa exc S A Pending Deprecation Warning warnings 'error' category sa exc S A Deprecation Warning warnings 'error' category sa exc S A Warning 
def each cy in setup top dir for dir path f in each setup in pkg top dir text f match RE C Y T H O N text if match for cy file in match if '.' in cy file parts cy file '.' cy file parts -1 ]path os dir path *parts[ -1 ] else path dir pathfull path os path cy file yield full path 
def process file data cls name func file attr cls path os inspect cls data file path os os cls path file attr def  raise ve *args raise Value Error '%sdoesnotexist' % file attr if os data file path is False test name mk test name name 'error' add test cls test name  raise ve None else data json open data file path .read for i elem in enumerate data if isinstance data dict key value elem data test name mk test name name key i elif isinstance data list value elemtest name mk test name name value i if isinstance value dict add test cls test name func **value else add test cls test name func value 
def may inject context view context 'view' return bool view and bool getattr view 'xtheme injection True 
def reset Counter technique kb 0
def xframe options sameorigin view func def wrapped view *args **kwargs resp view func *args **kwargs if resp ' Frame Options None is None resp X Frame Options ' A M E O R I G I N respreturn wraps view func assigned available attrs view func wrapped view 
def num ok for type number proposed type if proposed type 'long' return Trueif proposed type 'float' return Trueif number > eval proposed type + 'in Value and number < eval proposed type + 'ax Value return Trueif eval proposed type + 'in Value < number and eval proposed type + 'ax Value > number return Truereturn False 
def fancy logging from log buffer import Fixed Buffer Handler B U F F E R SIZE 1500 * 200 buffer handler Fixed Buffer Handler BUFFER SIZE  formatter formatter Formatter LOG FORMAT DATE FORMAT buffer handler Level logging D E B U G buffer handler Formatter  formatter root logger logging Logger root logger Handler buffer handler 
def expm frechet kronform A method None check finite True if check finite A np chkfinite A else A np A if len A ! 2 or A ! A raise Value Error 'expectedasquarematrix' n A np n cols []for i in range n for j in range n E np ident ident F expm frechet A E method method compute expm False check finite False cols vec F return np cols .T
def text charp if not charp return ''return native ffi charp 
@lru cache def get git hash return  shell command ['/usr/bin/git' 'rev-parse' '--verify' '--short' 'HEAD'] .strip
def do with parser token bits list token contents if len bits ! 4 or bits ! 'as' raise Template Syntax Error "%rexpectedformatis'valueasname'" % bits var parser filter bits name bits parser 'endwith' parser first token return With Node var name nodelist 
def condition input args kwargs ret []for arg in args if six P Y3 and isinstance arg six types and salt jid str arg or six P Y2 and isinstance arg long ret str arg else ret arg if isinstance kwargs dict and kwargs kw  {'  kwarg  ' True key val in six kwargs kw [key] valreturn ret + [kw ] return ret 
def dhcp configuration from querystring querystring option u Dhcp Configuration key needle re u Key option re U N I C O D E response values {}for key value in querystring if key needle key values []key index key u [1]value index 1while True value key u Value option key index value index if value key in querystring values querystring key else breakvalue index + 1response values valuesreturn response values 
def generate signed message method headers dict body dict access key secret key message signing format message method headers dict body dict hashed hmac secret key 'utf-8' message sha256 signature binascii base64 hashed .rstrip '\n' authorization header 'SSI{} {}'.format access key signature message + '\n'return message signature authorization header 
def NOPTRACE v context asbool v 
def gridsize expand ndim if ndim 1 fname 'ptx.gridsize.1d'restype types ndim 2 fname 'ptx.gridsize.2d'restype types Uni Tuple types 2 elif ndim 3 fname 'ptx.gridsize.3d'restype types Uni Tuple types 3 else raise Value Error 'argumentcanonlybe1 2or3' return ir Intrinsic fname typing restype types args [ndim]
def get task output description task output output description 'n/a'if isinstance task output Remote Target output description '[SSH]{0} {1}'.format task output fs context task output elif isinstance task output S3 Target output description '3 task output elif isinstance task output File System Target output description 'ile System task output elif isinstance task output Postgres Target output description '[DB]{0} {1}'.format task output task output else output description 'tobedetermined'return output description 
def  is bad fname fname if fname ' whitened ' fname fname -11 ]if not fname tuple VALID EXTENSIONS + ['bem' 'custom'] return 'red'else return ''
def create verifier for ecc signature hash method public key return public key signature ec E C D S A hash method 
def item category table s3db item categorys3 table be asset True field table be assetfield field Falsefield Truereturn s3 rest controller 'supply' 'item category 
def capa render template template context return get template template .render unicode **context
def assoc recurrence memo base seq cache []def decorator f @wraps f def g n m L len cache if n < L return cache i in range L n + 1 F i0 base seq i F i cache [F i0 F i cache for j in range 1 i + 1 F ij f i j cache F i cache F ij return cache greturn decorator 
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
@decorators.api view ['POST'] @decorators.permission classes permissions Is Admin User @decorators.renderer classes J S O N Renderer def index search request data request D A T A pk data pk data 'commit' version Version pk version pk project scale 1page scale 1utils.index search request version version page list data list commit commit project scale project scale page scale page scale return Response {'indexed' True 
def remove List From Dictionary dictionary keys for key in keys remove Element From Dictionary dictionary key 
def identity key *args **kwargs if args if len args 1 class  args row kwargs 'row' except Key Error ident kwargs 'ident' elif len args 2 class  ident argselif len args 3 class  ident argselse raise sa exc Argument Error 'expecteduptothreepositionalarguments got % len args if kwargs raise sa exc Argument Error 'unknownkeywordarguments %s' % ' '.join kwargs mapper class mapper class  if 'ident' in locals return mapper key from primary key util list ident return mapper key from row row instance kwargs 'instance' if kwargs raise sa exc Argument Error 'unknownkeywordarguments %s' % ' '.join kwargs mapper object mapper instance return mapper key from instance instance 
def create scenario actions logs None keys [str i for i in range len actions ]key provider create mock key provider keys digest provider Mock Digest Provider actions logs digest validator Mock def validate bucket key public key digest data digest str if ' invalid in digest data raise Digest Error 'invaliderror' digest validator validatereturn key provider digest provider digest validator 
def unquote to bytes string if not string string ''if isinstance string str string string 'utf-8' bits string '%' if len bits 1 return stringres [bits[0]]append res  hextobyteif  hextobyte is None  hextobyte { a + b .encode bytes [int a + b 16 ] for a in  hexdig for b in  hexdig item in bits ] try append  hextobyte 2]] append item ] except Key Error append '%' append item return ''.join res 
def  dmp simplify gcd f g u K df dmp degree f u dg dmp degree g u if df > 0 and dg > 0 return Noneif not df or dg F dmp LC f K G dmp LC g K elif not df F dmp LC f K G dmp content g u K else F dmp content f u K G dmp LC g K v u - 1 h dmp gcd F G v K cff [dmp quo cf h v K for cf in f [dmp quo cg h v K for cg in g [h] cff cfg 
def pformat obj verbose False try from pretty import prettyreturn pretty obj verbose verbose except Import Error from pprint import pformatreturn pformat obj 
def gradient percentile image selem out None mask None shift x False shift y False p0 0 p1 1 return  apply percentile cy gradient image selem out out mask mask shift x shift x shift y shift y p0 p0 p1 p1 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def test no data interpolation Chart chart Chart interpolate 'cubic' q chart pyquery assert q '.text-overlaytext' .text 'odata 
def reset template info cache  template info cache 
def open project path return open project with extensions settings S U P P O R T E D EXTENSIONS
def Process Motion vf time last pos Nonefor event in pygame if event pygame Q U I T or event pygame K E Y D O W N return sys 0 if vf time Is Active if event pygame M O U S E M O T I O N if event last pos event event pygame M O U S E B U T T O N U P if event 1 vf time Stop elif event pygame M O U S E B U T T O N D O W N if event 1 pos Pixels To Dimensions event x y posif x > iphone dims - target box width - target box padding and x < iphone dims - target box padding and y > target box padding and y < iphone dims - target box padding vf time Start pos if last pos vf time Adjust Time Pixels To Dimensions last pos 
def  get cibpath cibpath os   opts  ['cachedir'] 'pcs'   env   log 'cibpath {0}'.format cibpath return cibpath 
def make cache key *args **kwargs path request str hash frozenset request return path + args .encode 'ascii' 'ignore'
def s metric G normalized True if normalized raise nx Network X Error 'ormalizationnotimplemented return float sum [ G u * G v for u v in G ]
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def aws provisioner access key secret access token keyname region zone security groups instance type 'm3.large' session token None conn connect to region region aws access key id access key aws secret access key secret access token security token session token if conn is None raise Value Error 'nvalidregion {}'.format region return A W S Provisioner  connection conn  keyname keyname  security groups security groups  zone zone  default size instance type 
def which program def is exe fpath return os fpath and os fpath os X OK fpath fname os program if fpath if is exe program return programelse for path in os P A T H os exe file os path program if is exe exe file return exe file 
def calc syndrome codeword n sym 0for i in range 1 n if codeword sym ^ iextra parity calc parity vector codeword if extra parity codeword if sym 0 return 0 sym else return 2 sym else if sym > n passelse codeword ^ 1return 1 sym 
def decipher bifid5 msg key msg key _  prep msg key None bifid5 key padded key key bifid5 return decipher bifid msg '' key 
def access message user profile message id try message Message related .get id message id except Message Does Not Exist raise Jsonable Error _ 'nvalidmessage s ' try user message User Message related .get user profile user profile message message except User Message Does Not Exist user message Noneif user message is None if message ! Recipient S T R E A M raise Jsonable Error _ 'nvalidmessage s ' stream Stream id message id if not stream public raise Jsonable Error _ 'nvalidmessage s ' if stream ! user profile raise Jsonable Error _ 'nvalidmessage s ' return message user message 
def pool health monitor create request **kwargs body {'health monitor {'type' kwargs 'delay' kwargs 'timeout' kwargs 'max retries kwargs retries 'http method kwargs method 'url path kwargs path 'expected codes kwargs codes 'admin state up kwargs state up quantumclient request .create health monitor body .get 'health monitor body {'health monitor {'id' mon request .associate health monitor kwargs id body return Pool Monitor mon 
def  default content type rewriter state if not 'ontent Type in state state Content Type 'text/html'
def document action section resource name event emitter action model service model include signature True operation model service model model action model ignore params get resource ignore params action model example return value 'response'if action model example return value xform name action model example resource name xform name resource name if service model name resource name example resource name resource nameexample prefix '%s %s.%s' % example return value example resource name action model document model driven resource method section section method name action model operation model operation model event emitter event emitter method description operation model example prefix example prefix exclude input ignore params resource action model action model include signature include signature 
def test smote fit single class smote SMOTEENN random state RND SEED y single class np X assert warns User Warning smote X y single class 
def add X Intersections loop x Intersections y for point Index in xrange len loop point First loop Index Second loop point Index + 1 % len loop ]ntersection get X Intersection If Exists point First point Second y if x Intersection ! None x Intersections x Intersection 
def pci device get all by node context node id return I M P L device get all by node context node id 
def set level request level if not hasattr request ' messages return Falserequest messages levelreturn True 
def  import module reload 'alse from sympy import import moduletry namespace namespace default translations import commands M O D U L E S Key Error raise Name Error "'%s'modulecan'tbeusedforlambdification" % module if namespace ! namespace default if reload namespace namespace namespace default else returnfor import command in import commands if import command 'import module module eval import command if module is not None namespace module  dict   continueelse try exec  import command {} namespace continueexcept Import Error passraise Import Error "can'timport'%s'with'%s'command" % module import command for sympyname translation in translations namespace namespace 'bs not in namespace namespace Abs abs 
def get trace db by live action liveaction trace db Nonecreated Falsetrace context liveaction TRACE CONTEXT None if trace context trace context  get valid trace context trace context trace db get trace trace context trace context ignore trace tag True if not trace db trace db Trace D B trace tag trace context tag created Truereturn created trace db parent context executions parent context liveaction db liveaction if not trace context and parent context parent execution id parent context 'execution id None if parent execution id trace db get trace db by action execution action execution id parent execution id if not trace db raise Stack Storm D B Object Not Found Error 'otracefoundforexecution % parent execution id return created trace db execution Action Execution liveaction  id str liveaction if execution trace db get trace db by action execution action execution execution if not trace db trace db Trace D B trace tag 'execution-%s' % str liveaction created Truereturn created trace db 
def libvlc media player get nsobject p mi f  Cfunctions 'libvlc media player get nsobject None or  Cfunction 'libvlc media player get nsobject 1 None ctypes void p Media Player return f p mi 
def step 1b w if w 'y' and w 'edly' 'ingly' w w -2 ]if w 'ed' 'ing' if w 'ied' return len w 4 and w -1 ] or w -2 ] if w 'eed' return R1 w .endswith 'eed' and w -1 ] or w for suffix in 'ed' 'ing' if w suffix and has vowel w - len suffix ] w w - len suffix ]if w 'at' 'bl' 'iz' return w + 'e' if is double consonant w -2 ] return w -1 ]if is short w return w + 'e' return w 
def send messages messages if not messages returnconn mail connection fail silently True conn for msg in messages conn messages [msg]
def splitpasswd user global  passwdprogif  passwdprog is None import re passwdprog re '^ [^ ]* .* $' re S match  passwdprog user if match return match 1 2 return user None 
def linear lm resid exog func None from scipy import statsif func is None func lambda x np x 2 exog aux np stack exog func exog 1 ] nobs k vars exog OLS resid exog aux .fit ftest ls test np k vars - 1 k vars * 2 - 1 k vars lm nobs * ls lm pval stats lm k vars - 1 return lm lm pval ftest 
def hash digest text text encoded text 'utf8' hash result hashlib text encoded return hash result 
def as template value if isinstance value Template return valueelif isinstance value collections Mapping return Mapping Template value elif value is int return Integer elif isinstance value int return Integer value elif isinstance value type and issubclass value BASESTRING return String elif isinstance value BASESTRING return String value elif value is float return Number elif value is None return Template elif value is dict return Type Template collections Mapping elif value is list return Type Template collections Sequence elif isinstance value type return Type Template value else raise Value Error u {0!r}'.format value 
def convert To Pix vertices pos units win unit2pix Func  unit2 Pix Mappings units if unit2pix Func return unit2pix Func vertices pos win else msg 'heunittype Psycho Py Value Error msg units 
def path getrootdir path drive _ os path if drive return drive + os return os 
def replication func func Truereturn func 
def assert http server test host port path '' expected response 'hi' d query http server host port path d Callback test Equal expected response return d 
def pollard pm1 n B 10 a 2 retries 0 seed 1234 n int n if n < 4 or B < 3 raise Value Error 'pollard pm1shouldreceiven B prng random Random seed + B for i in range retries + 1 a M afor p in sieve 2 B + 1 e int math B p a M pow a M pow p e n g igcd a M - 1 n if 1 < g < n return int g a prng 2 n - 2
def Abort Admin Operation operation key  status Datastore Admin Operation S T A T U S ABORTED  status info '' operation Datastore Admin Operation operation key operation  statusoperation info  status infooperation config  Create Datastore Config for job in operation job ids logging 'borting Job job model Mapreduce Control job config  Create Datastore Config 
def import object name if isinstance name unicode type and str is not unicode type name name 'utf-8' if name '.' 0 return   import   name None None parts name '.' obj   import   '.'.join parts -1 ] None None [parts[ -1 ]] 0 try return getattr obj parts -1 ] except Attribute Error raise Import Error 'omodulenamed % parts -1 ]
def cout *args cprint 'stdout' *args
def index if mode task s3 redirect default URL f 'project' vars {'tasks' 1} else s3 redirect default URL f 'project'
def add intercept panel name 'intercept' panel panel panel 1.0return panel 
def rax slugify value return 'rax %s' % re '[^\\w-]' '_' value .lower .lstrip '_'
def nsecs to timeval ns ns int ns return ns / 10 ** 9 ns % 10 ** 9 / 1000
def files in dir directory file patterns [] files []for file pattern in file patterns files glob os directory file pattern return files 
def test image less than mask image np 5 5 mask np 5 5 * 2 assert close reconstruction image mask 1
def random name size 6 chars string uppercase + string return 'test-' + ''.join random chars for x in range size 
def time2isoz t None if t is None t time year mon mday hour min sec time t [ 6]return '%04d-%02d-%02d%02d %02d % % year mon mday hour min sec 
def  redefines import node current nodewhile current and not isinstance current astroid Except Handler current current not current or not is import error current return Falsetry block current import node in try block of class astroid From astroid Import for name alias in import node if alias if alias node return Trueelif name node return Truereturn False 
def russellrao u v u  validate vector u v  validate vector v if u bool ntt u & v .sum else ntt u * v .sum return float len u - ntt / float len u 
def CDLSTALLEDPATTERN bar Ds count return call talib with ohlc bar Ds count talib C D L S T A L L E D P A T T E R N 
def is classic task tup name func tuptry is classic callable func and func not in  internals and not name '_' and not inspect func and issubclass func Exception except Value Error Type Error is classic Falsereturn is classic 
@register.inclusion tag 'schedule/ daily table takes context True def daily table context day width width slot height start 8 end 20 increment 30 user context CHECK PERMISSION FUNC None user width occ width - width slot day part day time slot day + datetime hours start day + datetime hours end occurrences day part occurrences occurrences  cook occurrences day part occurrences width occ height slots  cook slots day part increment width height context occurrencescontext slotscontext widthcontext slot width slotcontext occ width occcontext heightreturn context 
def refresh pillar try ret   salt  ['event.fire'] {} 'pillar refresh except Key Error log 'ventmodulenotavailable Modulerefreshfailed ret Falsereturn ret 
def psea2 H E C pseq seq []for ss in pseq if ss 'a' n ' ss 'b' n ' ss 'c' n ' n return seq 
def get contrast change value label return  get array element 'contrastchange' label 0.8 1.3
def aaq languages request return {'AAQ LANGUAGES' Question Locale list }
def check geoserver is up url '%sweb/' % ogc server settings L O C A T I O N resp content http client url 'GET' msg 'annotconnecttothe Geo Serverat Pleasemakesureyouhavestartedit % ogc server settings L O C A T I O N assert resp '200' msg 
def  int Or Default value default None if value try return int value except Type Error Value Error passreturn default 
def wait for assertion assertion expression timeout 5 start time time while time - start time < timeout try return assertion expression except Assertion Error time 0.1 return assertion expression 
def  assert valid categorical missing value value label types Label Array S U P P O R T E D SCALAR T Y P E Sif not isinstance value label types raise Type Error 'ategoricaltermsmusthavemissingvaluesoftype types 'or'.join [t.  name   for t in label types 
def retry assertion timeout sec retry interval sec 0.1 def retry assertion decorator func 'ecorator func def retry assertion wrap *args **kwargs 'hewrapper attempts 0start time time while True num attempts + 1try result func *args **kwargs except Assertion Error now time if now < start time start time nowif now - start time > timeout sec logging "xceededretrytimeoutof Caller \n%s" timeout sec num attempts func ''.join traceback stack raiselogging 'ttempt num attempts func retry interval sec time retry interval sec else logging '%rsucceededatattempt%s' func num attempts return resultreturn retry assertion wrapreturn retry assertion decorator 
def  eventlet stop client server conn try try client finally conn except greenlet Greenlet Exit passexcept Exception greenthread server *sys.exc info 
def spawn raw function *args **kwargs if not callable function raise Type Error 'functionmustbecallable' hub get hub if kwargs function  functools partial function *args **kwargs g greenlet function hub hub callback g else g greenlet function hub hub callback g *args return g 
def _ text return text 
def Application name uid None gid None ret components Componentized for comp in Multi Service sob Persistent ret name Process uid gid ret Component comp ignore Class 1 I Service ret .ame name return ret 
def get enabled jail None ret []service  cmd jail prf  get jail path jail if jail else '' for svc in   salt  ['cmd.run'] '{0}-e'.format service .splitlines ret os svc for svc in get all jail if svc in ret continueif not os '{0}/etc/rc.conf.d/{1}'.format prf svc continueif enabled svc jail jail ret svc return sorted ret 
@salt.utils.decorators.which bin 'unrar' 'rar' def unrar rarfile dest excludes None template None runas None trim output False if isinstance excludes string types excludes [entry.strip for entry in excludes ' ' ]cmd [salt.utils.which bin 'unrar' 'rar' 'x' '-idp' '{0}'.format rarfile ]if excludes is not None for exclude in excludes cmd ['-x' '{0}'.format exclude ] cmd '{0}'.format dest files   salt  ['cmd.run'] cmd template template runas runas python shell False .splitlines return  trim files files trim output 
def  check entry first nent if first > nent raise I O Error 'ouldnotreaddata perhapsthisisacorruptfile 
def merge dict1 dict2 for key val2 in dict2 if val2 is not None val1 dict1 key if isinstance val2 dict if val1 is None val1 {}if isinstance val1 Alias val1 val1 val2 elif isinstance val1 tuple alias others val1others others merge others val2 val1 alias others else val1 val1 merge val1 val2 else val1 val2dict val1 
def load theme plugins if not pkg resources return []theme paths []for plugin in pkg resources entry points 'sphinx themes func or path plugin try path func or path except Exception path func or pathif isinstance path string types theme paths path else raise Theme Error 'lugin % plugin name return theme paths 
def dup l1 norm f K if not f return K return sum dup abs f K
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def  is leading zero possible country code region code region code for country code country code metadata Phone Metadata for region or calling code country code region code if metadata is None return Falsereturn metadata zero possible 
def  offset a if np a 2 0 return -0.5 else return 0.0
def get Overlap Ratio loop point Table number Of Overlaps 0for point in loop if point in point Table number Of Overlaps + 1return float number Of Overlaps / float len loop 
@click.command u @click.argument u @click.argument u @pass contextdef export doc context doctype docname import frappe site in context try frappe site site frappe frappe doc doctype docname finally frappe 
def create xmpp user password uaserver username regex re '\\A .* @' username username regex hermes constants U S E R EMAIL .groups [0]xmpp user '{0}@{1}'.format username appscale info login ip xmpp pass appscale utils password xmpp user password does user exist uaserver user exist xmpp user appscale info secret if does user exist 'true' logging ' M P P User sonotcreatingitagain xmpp user return Trueelif uaserver new user xmpp user xmpp pass hermes constants A C C O U N T TYPE appscale info secret 'true' logging ' M P Pusernameis xmpp user return Trueelse logging 'rrorwhilecreatingan X M P Puser return False 
def test multi render Chart datas chart Chart chart make data chart datas svg chart for i in range 2 assert svg chart 
def all matches names pattern matches {}for item name in names m re pattern name re I G N O R E C A S E if m and m matches m else return Nonereturn matches 
def libvlc media player event manager p mi f  Cfunctions 'libvlc media player event manager None or  Cfunction 'libvlc media player event manager 1 class result Event Manager ctypes void p Media Player return f p mi 
def get temperature return  sensehat temperature 
def before categorize f f Truereturn f 
def close swift conn src try src from orbit except Exception pass 
def get Line With Value String character line split Line value String rounded Value String character + value String index Of Value get Index Of Starting With Second character split Line if index Of Value -1 return line + '' + rounded Value String word split Line Of Value line word rounded Value String 
def  assert poles close P1 P2 rtol 1e-08 atol 1e-08 P2 P2 for p1 in P1 found Falsefor p2 idx in range P2 if np [np.real p1 np p1 ] [np.real P2 idx np P2 idx ] rtol atol found Truenp P2 p2 idx breakif not found raise Value Error "an + str p1 + 'in' + str P2
def check message extractors dist name value assert name 'message extractors if not isinstance value dict raise Distutils Setup Error 'thevalueofthe"message extractors 
def staff member required view func @wraps view func def  checklogin request *args **kwargs if request active and request staff return view func request *args **kwargs assert hasattr request 'session' "he Djangoadminrequiressessionmiddlewaretobeinstalled Edityour M I D D L E W A R E C L A S S E Ssettingtoinsert Session Middleware {'template name 'admin/login.html' 'authentication form Admin Authentication Form 'extra context {'title' _ 'ogin 'app path request full path REDIRECT FIELD NAME request full path }}return login request **defaults return  checklogin 
def start tomcat run as root '/etc/init.d/tomcatstart'
def push cwd remote None ref None opts '' user None password None identity None ignore retcode False saltenv 'base' **kwargs kwargs salt kwargs **kwargs if kwargs salt kwargs kwargs cwd  expand path cwd user command ['git' 'push']command.extend  format opts opts if not isinstance remote six types remote str remote if not isinstance ref six types ref str ref command [remote ref return  git run command cwd cwd user user password password identity identity ignore retcode ignore retcode saltenv saltenv ['stdout']
def test debug file logging caplog info logger with file debug file debug messages [file handler stream handler info logger with file isinstance file handler logging File Handler assert isinstance stream handler logging Stream Handler assert stream handler logging I N F O assert file handler logging D E B U G create log records assert debug file assert debug file cr False debug messages + ['']
def sstr expr **settings p Str Printer settings s p expr return s 
def picklechops chops value zlib dumps chops encoded base64 value return encoded 
@register specialize optimizer [ Elemwise def local alloc unary node if isinstance node T Elemwise and len node 1 a node a and isinstance a T Alloc x a a ]v node x copy stack trace node v ret T T v node *shp copy stack trace [node.outputs[0] a ret return [ret]
def set runner scenario testcase scenario name clear tracker True scenarios testcase scenariostestcase scenarios name pidlockfile scenario testcase testcase scenario name if clear tracker testcase tracker 
def gen combos challbs return tuple i for i _ in enumerate challbs 
def fix ampersands value from django import fix ampersandsreturn fix ampersands value 
def make color tuple color R color 3]G color 5]B color 7]R int R 16 G int G 16 B int B 16 return R G B
@js defined 'uery def disable jquery animations page page script 'uery true 
def  ipaddress match ipname host ip ip ipaddress address  to unicode ipname .rstrip return ip host ip 
def ipdb breakpoint x import ipdbipdb trace 
def get changed packages blob name1 blob name2 package list changed files check output 'git' 'diff' '--name-only' blob name1 blob name2 changed files changed files '\n' result set for filename in changed files file root rootname filename if file root in package list result file root return sorted result 
def lang set languages strict False return set Language l strict strict for l in languages 
def head account url token http conn None headers None service token None if http conn parsed conn http connelse parsed conn http connection url method ' E A D headers { Auth Token token service token req headers X Service Token service tokenif headers req headers headers conn method parsed '' req headers resp conn body resp http log url method {'headers' req headers resp body if resp < 200 or resp > 300 raise Client Exception response resp 'ccount H E A Dfailed body resp headers resp header dict resp return resp headers 
def get activation name try return globals [name]except raise Value Error 'nvalidactivationfunction 
def parse mapping file to dict *args **kwargs mapping data header comments parse mapping file *args **kwargs return mapping file to dict mapping data header comments 
@bdd.then 'nocrashshouldhappen' def no crash time 0.5
def load collectors from entry point path collectors {}for ep in pkg resources entry points path try mod ep except Exception logger 'ailedtoimportentry point %s.%s' ep traceback exc else collectors get collectors from module mod return collectors 
def greater equal x y return tf equal x y 
def  parse settings bond 6 opts iface bond def bond {'mode' '6'}for binding in ['miimon' 'downdelay' 'updelay'] if binding in opts try int opts bond {binding opts except Value Error  raise error iface iface binding ['integer'] else  log default iface iface binding bond def bond {binding bond def if 'use carrier in opts if opts carrier in  CONFIG TRUE bond {'use carrier '1'} elif opts carrier in  CONFIG FALSE bond {'use carrier '0'} else valid  CONFIG TRUE +  CONFIG FALSE  raise error iface iface 'use carrier valid else  log default iface iface 'use carrier bond def carrier bond {'use carrier bond def carrier return bond 
def get all node subscriptions user node user subscriptions None if not user subscriptions user subscriptions get all user subscriptions user for subscription in user subscriptions if subscription and subscription node yield subscription 
def jelly To A O T obj return A O T Jellier .jelly obj 
def std data return np data 
def ensure vlan bridge session vif cluster None create vlan True vlan num vif meta 'vlan' bridge vif interface C O N F interfacenetwork ref network util network with the name session bridge cluster if network ref and network ref 'istributed Virtual Portgroup return network refif not network ref vswitch associated  get associated vswitch for interface session vlan interface cluster network util port group session bridge vswitch associated vlan num if create vlan else 0 cluster network ref network util network with the name session bridge cluster elif create vlan vswitch associated  get associated vswitch for interface session vlan interface cluster  get pg info network util vlanid and vswitch for portgroup pg vlanid pg vswitch  get pg info session bridge cluster if pg vswitch ! vswitch associated raise exception Invalid V L A N Port Group bridge bridge expected vswitch associated actual pg vswitch if pg vlanid ! vlan num raise exception Invalid V L A N Tag bridge bridge tag vlan num pgroup pg vlanid return network ref 
def disconnect all signal Any sender Any for receiver in live Receivers get All Receivers sender signal disconnect receiver signal signal sender sender 
def build arg parser parser argparse Argument Parser description 'tandard Argumentsfortalkingtov Center parser argument '-s' '--host' required True action 'store' help 'phereservicetoconnectto parser argument '-o' '--port' type int default 443 action 'store' help 'orttoconnecton parser argument '-u' '--user' required True action 'store' help 'sernametousewhenconnectingtohost parser argument '-p' '--password' required False action 'store' help 'asswordtousewhenconnectingtohost return parser 
def plot matches im1 im2 locs1 locs2 matchscores show below True im3 appendimages im1 im2 if show below im3 vstack im3 im3 imshow im3 cols1 im1 i m in enumerate matchscores if m > 0 plot [locs1[i][1] locs2 + cols1 ] [locs1[i][0] locs2 'c' axis 'off'
def  Double Decoder local unpack struct Inner Decode buffer pos new pos pos + 8 double bytes buffer new pos double bytes in '\x7f\xff' and double bytes > '\xf0' and double bytes 7] ! '\x00\x00\x00\x00\x00\x00\xf0' return  NAN new pos result local unpack '<d' double bytes [0]return result new pos return  Simple Decoder wire format W I R E T Y P E FIXED64 Inner Decode 
def repost only actual False allow negative stock False allow zero rate False only bin False frappe commit on many writes 1if allow negative stock existing allow negative stock frappe value u Stock Settings None u negative stock frappe value u Stock Settings None u negative stock 1 for d in frappe u code warehousefrom DCTB DCTB selectitem code warehousefromtab Bin DCTB DCTB union DCTB DCTB selectitem code warehousefrom Stock Ledger Entry a try repost stock d d allow zero rate only actual only bin frappe except frappe if allow negative stock frappe value u Stock Settings None u negative stock existing allow negative stock frappe commit on many writes 0
def update num gildings update trophy True user id None query select [gold table id sa count gold table id ] .where gold table id 'X%' .group by gold table id .order by sa count gold table id .desc if user id query query gold table id str user id rows E N G I N E query total updated 0for paying id count in rows try a Account by I D int paying id data True a gildings counta commit total updated + 1if update trophy and a public server seconds add to trophy queue a 'gilding' except g 'update num gildings paying id % paying id g 'update num gildings updated % total updated 
def p equality expression 3 t pass 
def inst tops days 5 retry count 3 pause 0.001 if ct check lhb input days is True ct write head df  inst tops days page No 1 retry count retry count pause pause df df lambda x str x .zfill 6 return df 
def enable print sys sys  stdout  sys sys  stderr  
def get gif api key gif id url 'http //api.giphy.com/v1/gifs/{}?api key {}'.format gif id api key r urlopen url return json r .decode 'utf-8'
@binding.ffi callback 'int char int int void ' name 'ryptography pem password cb def  pem password cb buf size writing userdata handle ud  ffi handle userdata handle ud + 1if not ud ud Type Error 'asswordwasnotgivenbutprivatekeyisencrypted return -1 elif len ud < size pw buf  ffi buf size pw buf len ud ] ud len ud else ud Value Error 'asswordslongerthan size - 1 return 0
def lower bound w dyad assert is dyad weight w dyad md get max denom w dyad lb1 len bin md - 3 lb2 sum 1 if e ! 0 else 0 for e in w dyad - 1 return max lb1 lb2 
def left join left right left vars right vars indices left join indices left right left vars right vars return join table by indices left right indices 
def formstyle table form fields *args **kwargs def render row row id label widget comment hidden False row [] class 'hide' if hidden else None row TR TD label  class 'w2p fl TD ''  id row id + '1'  class  class row TR widget TD comment  class 'w2p fc  id row id  class  class return tuple row if args hidden kwargs 'hidden' False return render row form fields args args hidden hidden else parent TABLE for row id label widget comment in fields rows render row row id label widget comment parent rows parent rows return parent 
def ignore code code for ignore in options if code ignore return True 
def execute external command command cmd input None result ''P Popen [command] stdout PIPE stdin PIPE stderr PIPE shell True result err P cmd input if err and config Option 'debug' 'on' warning msg err return decode string escape result 
def parse html html parser Parser parser html parser document parser if len document 1 if not isinstance document six types document document document 
def paired euclidean distances X Y X Y check paired arrays X Y return row norms X - Y
def run pending default scheduler pending 
def  project im rois im rois im scale factor rois im rois * im scale factor return rois 
def disks if salt freebsd return  freebsd geom elif salt linux return  linux disks else log 'iskgraindoesnotsupport O S 
def  get Install Function platform try if platform Linux try from twisted import installexcept Import Error from twisted import installelif platform Type 'posix' and not platform Mac O S X from twisted import installelse from twisted import installexcept Import Error from twisted import installreturn install 
def install ssl options conf options ssl if not os options ssl shutil constants constant 'MOD SSL CONF SRC' options ssl 
def W S G I Server server address wsgi app from . import wsgiserverwsgiserver adapters {'builtin' 'web.wsgiserver.ssl builtin Builtin S S L Adapter 'pyopenssl' 'web.wsgiserver.ssl pyopenssl Open S S L Adapter wsgiserver Cherry Py W S G I Server server address wsgi app server name 'localhost' def create ssl adapter cert key import typescherrypy types Module Type 'cherrypy' cherrypy wsgiserversys cherrypysys wsgiserverfrom wsgiserver pyopenssl import py Open S S L Adapteradapter py Open S S L Adapter cert key del sys sys adapterif server adapter is None and getattr server 'ssl certificate None and getattr server 'ssl private key None server adapter create ssl adapter server certificate server private key server not sys 'java' return server 
def is beta version return bool amo V E R S I O N B E T A version 
def str2time s suffixes 'S' 1 'M' 60 'H' 60 * 60 'D' 60 * 60 * 24 'W' 60 * 60 * 24 * 7 'Y' 60 * 60 * 24 * 365 if  PY3 and isinstance s bytes s s 'ascii' if isinstance s str s s .strip for suff mult in suffixes if s suff return int float s -1 ] * mult try s int s except Value Error raise Value Error 'nvalidtimeintervalspecifier ' + s return s 
def plot evoked topo evoked layout None layout scale 0.945 color None border 'none' ylim None scalings None title None proj False vline [0.0] fig facecolor 'k' fig background None axis facecolor 'k' font color 'w' merge grads False show True return  plot evoked topo evoked evoked layout layout layout scale layout scale color color border border ylim ylim scalings scalings title title proj proj vline vline fig facecolor fig facecolor fig background fig background axis facecolor axis facecolor font color font color merge grads merge grads show show 
def cinder docstring start space physical line pos max [physical line i for i in DOCSTRING TRIPLE] if pos ! -1 and len physical line > pos + 1 if physical line pos + 3 ] '' return pos 'CINDERN401 onelinedocstringshouldnotstartwithaspace 
def  scalar tester norm instance vals scalar result [norm instance float v for v in vals array almost equal scalar result norm instance vals 
@cacheitdef  remove multiple delta expr from sympy import solveif expr Add return expr *list map  remove multiple delta expr if not expr Mul return expreqs []newargs []for arg in expr if isinstance arg Kronecker Delta eqs arg - arg else newargs arg if not eqs return exprsolns solve eqs dict True if len solns 0 return S Zeroelif len solns 1 for key in solns newargs Kronecker Delta key solns expr2 expr *newargs if expr ! expr2 return  remove multiple delta expr2 return expr 
def scrub user tags tagcount rdict {}tagdict dict tagcount for t in tagdict if not t continuealltags t u ' for tag in alltags if tag if not tag in rdict rdict 0rdict[tag] + tagdict []for tag in rdict rlist [tag rdict return rlist 
def get preconditioner diags x zeros 3 nx diags x ] 1 / hx / hx diags x ] -2 / hx / hx diags x ] 1 / hx / hx Lx spdiags diags x [ -1 0 1] nx nx diags y zeros 3 ny diags y ] 1 / hy / hy diags y ] -2 / hy / hy diags y ] 1 / hy / hy Ly spdiags diags y [ -1 0 1] ny ny J1 kron Lx eye ny + kron eye nx Ly J1 ilu spilu J1 M Linear Operator shape nx * ny nx * ny matvec J1 ilu return M
def  init libcrypto libcrypto  load libcrypto libcrypto R S A new libcrypto R S A new c void plibcrypto R S A free c void p libcrypto R S A size c void plibcrypto B I O new mem buf c char p c int libcrypto B I O new mem buf c void plibcrypto B I O free c void p libcrypto P E M read bio R S A Private Key c void p c void p c void p c void p libcrypto P E M read bio R S A Private Key c void plibcrypto P E M read bio RSA P U B K E Y c void p c void p c void p c void p libcrypto P E M read bio RSA P U B K E Y c void plibcrypto R S A private encrypt c int c char p c char p c void p c int libcrypto R S A public decrypt c int c char p c char p c void p c int try if libcrypto O P E N S S L init crypto OPENSSL INIT NO LOAD CONFIG | OPENSSL INIT ADD ALL CIPHERS | OPENSSL INIT ADD ALL DIGESTS None ! 1 raise O S Error 'ailedtoinitialize Open S S Llibrary OPENSSL init cryptofailed ' except Attribute Error libcrypto O P E N S S L no config libcrypto O P E N S S L add all algorithms noconf return libcrypto 
def  timestamp to json value if isinstance value datetime if value not in None UTC value value tzinfo None - value value '%s%s+00 00' % value .isoformat value .isoformat return value 
def test config change initial config stub basedir download stub data tmpdir tmpdir create blocklist tmpdir blocked hosts BLOCKLIST HOSTS name 'blocked-hosts' line format 'one per line config stub {'content' {'host-block-lists' None 'host-blocking-enabled' True 'host-blocking-whitelist' None blocker adblock Host Blocker host blocker hosts for str url in URLS TO CHECK assert not host blocker blocked Q Url str url 
def  unpickle app v2 cls kwargs kwargs as current Falsereturn cls **kwargs
def format string f val grouping False percents list  percent re f new f  percent re '%s' f if isinstance val tuple new val list val i 0for perc in percents starcount perc 'modifiers' .count '*' new val format perc new val grouping False *new val i + 1 i + 1 + starcount ] del new val i + 1 i + 1 + starcount ]i + 1 + starcount val tuple new val elif operator Mapping Type val for perc in percents key perc 'key' val format perc val grouping else val format percents val grouping return new f % val 
def is independent set G nodes return G nodes .number of edges 0
def  fa items s if atomp items return itemsif len s 0 return items [0] * s stride s i in range s lst  fa items stride s ] return lst 
def Normal Probability ys jitter 0.0 n len ys xs np 0 1 n xs if jitter ys Jitter ys jitter else ys np ys ys return xs ys 
def get Enumerator Keys enumerator keys if len keys 1 return keys get Enumerator Keys Except For One Argument enumerator keys 
def test GPU nstreams limit if not cuda available raise Skip Test 'ptionalpackagecudanotavailable seed 12345R MRG Random Streams seed seed use cuda True def eval uniform size nstreams if theano 'FAST COMPILE' mode 'FAST R U N mode copy theano default mode mode py code Falseout R size size nstreams nstreams dtype 'float32' f theano [] out mode mode return f eval uniform 10 2 ** 20 assert raises Value Error eval uniform 10 2 ** 20 + 1
def make color table in class for name value in color templates setattr in class name in class base % value 
@task @timeitdef send group email announcement id try announcement Announcement pk announcement id except Announcement Does Not Exist returngroup announcement User groups  in [group] plain content bleach announcement parsed tags [] strip True .strip email kwargs {'content' plain content 'content html announcement parsed 'domain' Site current .domain}text template 'announcements/email/announcement.ltxt'html template 'announcements/email/announcement.html'@safe translationdef  make mail locale user subject _ 'ewannouncementfor .format group group mail make mail subject subject text template text template html template html template context vars email kwargs from email settings T I D I N G S FROM ADDRESS to email user return mailmessages []for u in users locale u or settings L A N G U A G E CODE messages  make mail locale u send messages messages 
def http time to posix http time if http time is not None return email utils tz email utils tz http time 
@memoize 'media.fetch size time 3600 def  fetch image size url referer request  initialize request url referer if not request return Noneparser Image File Parser response Nonetry response urllib2 request while True chunk response 1024 if not chunk breakparser chunk if parser return parser urllib2 U R L Error return Nonefinally if response response 
def fixed ips by virtual interface context vif id return I M P L ips by virtual interface context vif id 
@login required http methods ['GET' 'POST'] @mobile template 'users/{mobile/}' def change email request template if request 'POST' form Email Change Form request request P O S T u request form valid and u ! form data Email Change user request .delete email change Email Change profile user request email form data Email Change confirmation email email change form data return render request template + 'change email done {'email' form data else form Email Change Form request initial {'email' request return render request template + 'change email {'form' form 
def s bit field value width endian '<' format 'binary' signed False full range False fuzzable True name None bit field primitives field value width None endian format signed full range fuzzable name blocks C U R R E N T bit field 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def get expected key error user message preference key preference value return u Invaliduserpreferencekey key preference key preference key 
@condition etag func lambda r E T A G '"' def etag view unquoted request return Http Response FULL RESPONSE
def list ports zone permanent True cmd '--zone {0}--list-ports'.format zone if permanent cmd + '--permanent'return   firewall cmd cmd .split
@receiver got request exception def record request exception sender **kwargs logging 'ncaughtexceptionfrom sender sender 
def url equal url 1 url 2 parse result 1 urlparse url 1 parse result 2 urlparse url 2 return parse result 1[ 4] parse result 2[ 4] and parse qs parse result 1[5] parse qs parse result 2[5]
def  Running Avg Loss loss running avg loss summary writer step decay 0.999 if running avg loss 0 running avg loss losselse running avg loss running avg loss * decay + 1 - decay * loss running avg loss min running avg loss 12 loss sum tf Summary loss sum tag 'running avg loss simple value running avg loss summary writer summary loss sum step sys 'running avg loss %f\n' % running avg loss return running avg loss 
@expect downsample frequency docstring frequency PIPELINE DOWNSAMPLING FREQUENCY DOC def select sampling indices dates frequency return changed locations  dt to period dates include first True 
def item return s3 rest controller 
def get info filename base path base file os base path return C O N F info filename pattern % {'image' base file 
def  determine Pickle Module try import c Picklereturn c Pickleexcept Import Error import picklereturn pickle 
def resize Window win w h timeout 2.0 Qt Gui Q Application Events Qt Test Q Test Wait For Window Shown win win w h start time while True w1 h1 win win if w h w1 h1 return Qt Test Q Test Wait 10 if time - start > timeout raise Timeout Error 'indowresizefailed requested got ' % w h w1 h1 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def Message Set Item Encoder field number start bytes ''.join [ag Bytes 1 wire format W I R E T Y P E START GROUP Tag Bytes 2 wire format W I R E T Y P E VARINT  Varint Bytes field number Tag Bytes 3 wire format W I R E T Y P E LENGTH DELIMITED ] end bytes Tag Bytes 1 wire format W I R E T Y P E END GROUP local Encode Varint  Encode Varintdef Encode Field write value write start bytes local Encode Varint write value Byte Size value Internal Serialize write return write end bytes return Encode Field 
def  workout filename filename if os filename or filename '/' if filename '/' filename Nonereturn filenameelse return  workout filename os filename 
def  log rescale baseline mode 'mean' if baseline is not None valid modes 'logratio' 'ratio' 'zscore' 'mean' 'percent' 'zlogratio' if mode not in valid modes raise Exception 'modeshouldbeanyof %s' % valid modes msg 'pplyingbaselinecorrection mode %s ' % mode else msg 'obaselinecorrectionapplied msg 
def test zero image one mask result reconstruction np 10 10 np 10 10 assert close result 0
def p expression binop t if t '+' t t + t elif t '-' t t - t elif t '*' t t * t elif t '/' t t / t 
def rsa decrypt data rsa priv key str key R S A Key rsa priv key str cipher PKCS1 O A E P key return cipher data 
def utf8 barebyte encoding t return t 'utf8'
def update static names names file files if os names file names json open names file else names {}base os names file for path in files name os path base mangled name generate static name name base names mangled nameif not os path mangled path os base mangled name shutil path mangled path if os path os path os mangled name path json enc json J S O N Encoder indent 2 sort keys True open names file 'w' .write json enc names return names 
def initialize container path to container opf name 'metadata.opf' extra entries [] rootfiles ''for path mimetype _ in extra entries rootfiles + u "{0}"media-type "{1}"/>'.format path mimetype CONTAINER u "1.0"?>\n<containerversion "1.0"xmlns "urn oasis names tc opendocument xmlns container "{0}"media-type "application/oebps-package+xml"/>\n{extra entries opf name extra entries rootfiles .encode 'utf-8' zf Zip File path to container 'w' zf 'mimetype' 'application/epub+zip' compression ZIP STORED zf 'META-INF/' '' 493 zf ' E T A I N F CONTAINER for path _ data in extra entries zf path data return zf 
@require G E T CORS G E T document path indexingdef toc request document slug None document locale None query {'locale' request L A N G U A G E CODE 'current revision  isnull False document slug is not None query document slugquery document localeelif 'title' in request G E T query request G E T 'slug' in request G E T query request G E T return Http Response Bad Request document get object or 404 Document **query toc html document toc html if toc html toc html '<ol>' + toc html + '</ol>' return Http Response toc html 
def test chimecho session media root chimecho session tables Pokemon Species .filter by identifier u .one accessor media Pokemon Species Media media root chimecho male accessor 'platinum' back True frame 2 female accessor 'platinum' back True female True frame 2 assert male ! female 
def set  key value profile None conn salt conn profile time profile 'expire' DEFAULT EXPIRATION return salt  conn key value time time 
def list share files cookie tokens uk shareid dirname page 1 if not dirname return list share single file cookie tokens uk shareid url ''.join [ A N URL 'share/list?channel chunlei 0&web 1&num 50' '&t ' util '&page ' str page '&dir ' encoder uri component dirname '&t ' util '&shareid ' shareid '&order time 1' '&uk ' uk '&_ ' util '&bdstoken ' tokens req net url headers {ookie cookie output 'eferer const S H A R E REFERER} if req content req json content if info 0 return info list share single file cookie tokens uk shareid 
def job id conf return hashlib json conf sort keys True .encode u .hexdigest
def  generate weighted edges A if A 'csr' return  csr gen triples A if A 'csc' return  csc gen triples A if A 'dok' return  dok gen triples A return  coo gen triples A 
def unquote keys data if isinstance data dict for key value in data if isinstance value dict unquote keys value if key '%24' k parse key data data key return data 
def  get window registry window if window is None raise Type Error 'onewithscopewindow try if window 'current' app get 'app' win app Window elif window 'last-focused' win last focused window else win window registry Key Error No Window win Nonetry return win Attribute Error raise Registry Unavailable Error 'window'
@pytest.yield fixture scope u autouse True def ctx builtins  xonsh shell   Shell { A T H []} yield del builtins  xonsh shell  
def test obstime b1950 Time u B1950 scale u j1975 Time u J1975 scale u fk4 50 FK4 ra 1 * u dec 2 * u obstime b1950 fk4 75 FK4 ra 1 * u dec 2 * u obstime j1975 icrs 50 fk4 50.transform to ICRS icrs 75 fk4 75.transform to ICRS assert icrs 50.ra.degree ! icrs 75.ra.degree assert icrs 50.dec.degree ! icrs 75.dec.degree
def  compute subcorr G phi sig Ug Sg Vg linalg G full matrices False tmp np Ug T phi sig Uc Sc Vc linalg tmp full matrices False X np np Vg T np 1.0 / Sg Uc return Sc X[ 0] / linalg X[ 0]
def simple def build 'uildslossgraph tf variable 'x' shape [] dtype tf initializer tf initializer return tf x name 'x squared return build 
def  append param insert pk returning compiler stmt c values kw if c is not None if c sequence if compiler sequences and not c or not compiler optional proc compiler c **kw values c proc compiler c elif c clause element values c compiler c group **kw compiler c else values c  create insert prefetch bind param compiler c elif c is stmt autoincrement column or c default is not None compiler c elif not c  warn pk with no anticipated value c 
def zipline root environ None if environ is None environ os environ 'ZIPLINE ROOT' None if root is None root expanduser '~/.zipline' return root 
def  read dictionary page file obj schema helper page header column metadata raw bytes  read page file obj page header column metadata io obj io Bytes I O raw bytes values encoding plain io obj column metadata page header page header values schema element schema helper element column metadata in schema -1 ] return convert column values schema element if schema element type is not None else values 
def strip irc string return IRC COLOR R E '' string 
def  setup canned roles cls roles methods collection type util type collection cls if collection type in   interfaces canned roles decorators   interfaces type role name in canned roles roles role name for method decorator in decorators fn getattr cls method None if fn and method not in methods and not hasattr fn ' sa instrumented setattr cls method decorator fn 
def get related models recursive model seen set queue  get related models model for rel mod in queue rel app label rel model name rel mod meta label rel mod meta name if rel app label rel model name in seen continueseen rel app label rel model name queue  get related models rel mod return seen - { model meta label model meta name }
@receiver [models.signals.post delete models save sender Extension Version dispatch uid 'extension version change def update extension status and manifest fields sender instance **kw instance status according to versions if instance STATUS PUBLIC instance manifest fields from latest public version 
def event return events opts  get options {} opts Truefor event in events log 'arbonreturnerreceivedevent {0}'.format event metric base event event 'data'  send saltdata metric base opts 
def mut Node Replacement individual pset if len individual < 2 return individual index random 1 len individual node individual node 0 term random pset if isclass term term term individual termelse prims [p for p in pset if p node ]individual[index] random prims return individual 
def Get User Agent product tokens []product tokens 'oogle api product tokens appengine rpc Get Platform Token python version '.'.join str i for i in sys info product tokens 'ython % python version return ''.join product tokens 
def  get num interval config num pre num post post int num post if num post else 0 pre int num pre if num pre is not None else  get last snapshot config ['id'] return pre post 
def sample mem current rss mem rss  mem sample current rss return current rss 
def  register lltd specific class *attr types def  register cls for attr type in attr types SPECIFIC C L A S S E S type clstype fld L L T D Attribute desc type fld attr types desc [type fld + cls desc return clsreturn  register 
def add Pillar By Loops faces indexed Loops if len indexed Loops < 1 returnif len indexed Loops -1 ] < 1 add Faces By Convex Loops faces indexed Loops returnadd Faces By Loop Reversed faces indexed Loops add Faces By Convex Loops faces indexed Loops add Faces By Loop faces indexed Loops -1 ]
def is throttled address return bool find containing network g address 
def partition list osd return ceph cfg list osd 
def positive integer value try value int value except Exception raise argparse Argument Type Error "nvalidintvalue '{}'".format value if value < 0 raise argparse Argument Type Error "nvalidpositiveintvalue '{}'".format value return value 
def escape2null text parts []start 0while 1 found text '\\' start if found -1 parts text ] return ''.join parts parts text found parts '\x00' + text found + 1 found + 2 ] start found + 2
def specialize entry entry cname entry fused specialized Trueentry get fused cname cname entry if entry cmethod entry entry entry inherited entry String Encoding Encoded String '%s.%s' % Naming base cname entry else entry get fused cname cname entry if entry cname entry cname get fused cname cname entry cname 
def blocks device args None fsdump dump device args return fsdump 
def weighted objective fn def weighted y true y pred weights mask None score array fn y true y pred if mask is not None mask K mask K score array * maskscore array / K mask ndim K score array weight ndim K weights score array K score array axis list range weight ndim ndim if weights is not None score array * weightsscore array / K K K equal weights 0 K return K score array return weighted 
def gce credentials from config gce credentials config None if gce credentials config is not None credentials Service Account Credentials p12 keyfile buffer service account email gce credentials config email file buffer Bytes I O gce credentials config key scopes [u'https //www.googleapis.com/auth/compute'] else credentials Google Credentials application default return credentials 
def add Submenus craft Type Name menu plugin File Name plugin Path profile Radio Var submenu settings Tkinter Menu menu tearoff 0 menu cascade label plugin File Name menu submenu settings Tool Dialog .lugin To Menu submenu plugin Path submenu separator plugin Module skeinforge profile Craft Type Plugin Module plugin File Name profile Plugin Settings settings Read Repository plugin Module New Repository is Selected craft Type Name plugin File Name for profile Name in profile Plugin Settings List value is Selected and profile Name profile Plugin Settings Listbox Profile Menu Radio plugin File Name submenu profile Name profile Radio Var value 
def clf gcf .clf draw if interactive 
@get '/admin/<taskid>/list' def task list taskid None tasks {}for key in Data Store if is admin taskid or Data Store addr request addr tasks dejsonize scan status key ['status']logger.debug 'istedtaskpool %s ' % taskid 'admin' if is admin taskid else request addr return jsonize {'success' True 'tasks' tasks 'tasks num len tasks }
def urlsafe encrypt key plaintext blocksize 16 def pad text 'adstexttobeencrypted length blocksize - len text % blocksize sr random Strong Random pad ''.join chr sr 1 255 for i in range pad length - 1 return text + chr 0 + pad init vector Random random bytes 16 cypher A E S key AES.MODE CBC init vector padded cypher pad str plaintext return base64 b64encode init vector + padded 
def get base url response if response not in  baseurl cache text response as unicode [0 4096] baseurl cache html base url text response response return  baseurl cache 
def file list emptydirs load  init return []
def Compute M D5 Base64 byte str hasher hashlib hasher byte str return base64 hasher 
@pytest.mark.parametrize u totest frames def test cirs icrs moonish testframe moonish CIRS MOONDIST CART obstime testframe moonicrs moonish to ICRS assert 0.97 * u < moonicrs < 1.03 * u 
def  check arity and homogeneity sig args arity return type None assert len args arity assert len sig arity ty sig return type is None return type tyif not all arg ty for arg in sig and sig type return type import inspectfname inspect .f back code namemsg '{0}calledwithinvalidtypes {1}'.format fname sig assert False msg 
def avg darknesses training data digit counts defaultdict int darknesses defaultdict float for image digit in zip training data training data digit counts + 1darknesses[digit] + sum image avgs defaultdict float for digit n in digit counts avgs darknesses / n return avgs 
def get Filename aggregation Info input File input File resource filename 'nupic.datafiles' input File a defaultdict lambda 0 aggregation Info output Dir os input File output File 'agg %s' % os os input File [0] no Aggregation Truetime Periods 'yearsmonthsweeksdayshoursminutessecondsmillisecondsmicroseconds'for k in time Periods if a > 0 no Aggregation Falseoutput File + ' %s %d' % k a if no Aggregation return input Fileoutput File + 'ile os output Dir output File return output File 
def test prewitt v vertical i j np -5 6 -5 6]image j > 0 .astype float result filters v image j np i 5 ] 10000assert np result j 0 ] 1 assert allclose result np j > 1 ] 0 atol 1e-10
def remove fc zone terminate connection def decorator self *args **kwargs conn info terminate connection self *args **kwargs if not conn info L O G  LW "riverdidn connectioncall return Nonevol type conn info 'driver volume type None if vol type 'fibre channel if 'initiator target map in conn info zm create zone manager if zm L O G 'remove fc zoneconnectioninfo % conninfo s {'conninfo' conn info zm connection conn info return conn inforeturn decorator 
def test random state none ratio 'auto'ee Easy Ensemble ratio ratio random state None X resampled y resampled ee sample X Y
def  make money currency code value return Money Maker currency code value 
def patch crypto be discovery if sys 'win32' or sys 'darwin' and is frozen from cryptography import backendstry from cryptography import backend as be ccexcept Import Error be cc Nonetry from cryptography import backend as be osslexcept Import Error be ossl Nonebackends available backends list [be for be in be cc be ossl if be is not None ]
@expect element invalid data behavior {'warn' 'raise' 'ignore'} def winsorise uint32 df invalid data behavior column *columns columns list column + columns mask df > UINT32 MAX if invalid data behavior ! 'ignore' mask | df else df np to num df mv mask mv if invalid data behavior 'raise' raise Value Error '%dvaluesoutofboundsforuint32 %r' % mv df axis 1 ] if invalid data behavior 'warn' warnings 'gnoring %r' % mv df axis 1 ] stacklevel 3 df 0return df 
def  check footer magic bytes file obj file obj -4 2 magic file obj 4 return magic 'PAR1'
def Bad X M L2 Node xml return Node Builder xml .om 
def insert text to cursor text fmt while True index text chr 8 if index -1 breakcursor Text text index fmt if cursor In Block > 0 cursor Previous Char text text index + 1 ]ext text fmt 
def is Valid text return any word in text for word in WORDS
def block device mapping create context values return I M P L device mapping create context values 
def complement sequence if isinstance sequence Seq return sequence elif isinstance sequence Mutable Seq return sequence .complement if 'U' in sequence or 'u' in sequence and 'T' in sequence or 't' in sequence raise Value Error 'ixed R N A D N Afound elif 'U' in sequence or 'u' in sequence ttable  rna complement tableelse ttable  dna complement tablereturn sequence ttable 
def pimap iterable function *args **kwargs from multiprocessing import Poolglobal workerdef worker x return function x *args **kwargs return Pool processes None .imap worker iterable 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def  get result obj method key axis if isinstance key dict key key method 'indexer' method 'ix'key obj get axis axis [key]try xp getattr obj method .  getitem    axify obj key axis except xp getattr obj method .  getitem   key return xp 
def test ast good assoc can compile u assocxyz '
def  iterate coronal slices array limits None shape array ind in range shape if limits and ind not in limits continue yield ind np np array ind 
def create asyncio eventloop loop None if is windows from prompt toolkit win32 import Win32 Asyncio Event Loop as Asyncio Event Loopelse from prompt toolkit posix import Posix Asyncio Event Loop as Asyncio Event Loopreturn Asyncio Event Loop loop 
def  repack options options return dict [ str x  normalize y for x y in six salt dictlist options ]
@receiver post save sender User def user signup handler sender **kwargs if 'created' in kwargs and kwargs site configuration helpers value 'SITE NAME' if site user signup source User Signup Source user kwargs site site user signup source log u Microsite kwargs 
def remove image permissions apps schema editor Content Type apps model u Content Type Permission apps model u Permission image content type Content Type model u app label u Permission content type image content type codename  in u image u image u image .delete
def default stream factory total content length filename content type content length None if total content length > 1024 * 500 return Temporary File 'wb+' return Bytes I O 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def  get row dict row len model idx {}if row len 3 idx 0idx['midline'] 1idx['hit'] 2 idx idx None None elif row len 4 if 'protein2' in model idx 0idx['midline'] 1idx['hit'] 2idx['hannot'] 3idx['qannot'] Noneelif '2protein' in model idx 1idx['midline'] 2idx['hit'] 3idx['hannot'] Noneidx 0else raise Value Error 'nexpectedmodel ' + model elif row len 5 idx 0idx['query'] 1idx['midline'] 2idx['hit'] 3idx['hannot'] 4else raise Value Error 'nexpectedrowcountinalignmentblock %i' % row len return idx 
def get boot options module command 'showboot'body execute show command command module [0]boot options raw text body 'oot Variablesonnextreload [1]if 'kickstart' in boot options raw text kick regex 'kickstartvariable bootflash / \\S+ 'sys regex 'systemvariable bootflash / \\S+ 'kick re kick regex boot options raw text .group 1 sys re sys regex boot options raw text .group 1 retdict dict kick kick sys sys else nxos regex ' X O Svariable bootflash / \\S+ 'nxos re nxos regex boot options raw text .group 1 retdict dict sys nxos command 'showinstallallstatus'retdict['status'] execute show command command module [0]return retdict 
def continued fraction iterator x from sympy import floorwhile True i floor x yield i x - iif not x breakx 1 / x 
def find repo repo name path os os os sql  file   repo name if not os path raise exception Migration Not Provided sql  name   path return path 
def config control result Truecomment '' changed not changed reason config changed if not changed return changed not changed reason try commit commit if not try commit 'result' result Falsecomment 'nabletocommitthechanges {illtrytorollbacknow reason try commit 'comment' try rollback rollback if not try rollback 'result' comment + 'annotrollback reason try rollback 'comment' return result comment 
def create application return webapp W S G I Application [ '.*/worker callback handlers Mapper Worker Callback Handler '.*/controller callback handlers Controller Callback Handler '.*/kickoffjob callback handlers Kick Off Job Handler '.*/command/start job handlers Start Job Handler '.*/command/cleanup job handlers Clean Up Job Handler '.*/command/abort job handlers Abort Job Handler '.*/command/list configs status List Configs Handler '.*/command/list jobs status List Jobs Handler '.*/command/get job detail status Get Job Detail Handler '/[^/]+ ? / ?' Redirect Handler '.+/ [ Z0 ? \\. ? css ? ' status Resource Handler ] debug True 
def  get count from last line filename file type last line  get report contents filename last line only True if file type is 'python complexity regex '\\d+.\\d+'else regex '^\\d+'try return float re regex last line .group 0 except Attribute Error Value Error return None 
def progress iter progress widgets [ercentage '' progressbar Bar '' progressbar Timer 'eturns [' progressbar Counter '/{0}]'.format progress count ]bar progressbar Progress Bar widgets widgets maxval progress count bar return bar 
def instance group get all context return I M P L group get all context 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def  is pair obj return isinstance obj tuple and len obj 2
def test input validation assert raises Value Error Data Specs Mapping Vector Space dim 10 'features' 'targets' assert raises Assertion Error Data Specs Mapping 'features' 'targets' Vector Space dim 10
def default list brand brand globals .get brand if not brand return Nonebase general base list set base + brand base list set base + brand return base 
def condense floating points css return re ' |\\s 0+\\. \\d+ ' '\\1.\\2' css 
def get module list app name return get file items os os get module app name .  file   u 
def download all recommended False restart True to download  get available recommended restart for name in to download download name return list downloads 
def create gs key filename rpc None rpc create gs key async filename rpc return rpc result 
@register.tag 'cache' def do cache parser token nodelist parser 'endcache' parser first token tokens token if len tokens < 3 raise Template Syntax Error u % tokens return Cache Node nodelist tokens tokens tokens ]
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def Get Audit Log Entries offset now token for fd in Get Audit Log Files offset now token for event in fd Generate Items if now - offset < event < now yield event 
def Declare Key Flags flag values FLAGS for flag name in DECLARED KEY FLAGS gflags D E C L A R E key flag flag name flag values flag values 
def test open docs old tab webbrowser new tabtry webbrowser new tab lambda x assert true 'martinos' in x open docs open docs 'tutorials' 'dev' open docs 'examples' 'stable' assert raises Value Error open docs 'foo' assert raises Value Error open docs 'api' 'foo' finally webbrowser new tab old tab 
def get Polar By Radians angle Radians radius 1.0 return radius * euclidean Widdershins Unit Polar angle Radians 
def scharr image mask None out np scharr h image mask ** 2 + scharr v image mask ** 2 out / np 2 return out 
def  get version from git pre version git dir  get git directory if git dir if pre version try return  run shell command 'git--git-dir ' + git dir + 'describe--exact-match' throw on error True .replace '-' '.' except Exception sha  run shell command 'git--git-dir ' + git dir + 'log-n1--pretty format %h' return '%s.a%s.g%s' % pre version  get revno git dir sha else return  run shell command 'git--git-dir ' + git dir + 'describe--always' .replace '-' '.' return None 
def collect stats bin dir bucket if not os '%s/cbstats' % bin dir returncli '%s/cbstats' % bin dir try ts time stats subprocess output [cli 'localhost 11211' '-b' bucket 'all'] except subprocess Called Process Error returnfor stat in stats metric stat ' ' [0].lstrip '' value stat ' ' [1].lstrip ' DCTB ' if metric in KEYS print 'couchbase.%s%i%sbucket %s' % metric ts value bucket 
def is valid stream id entry return is valid circuit id entry 
def get entity converter id resolver None id resolver id resolver or  Identity Id Resolver return  Entity Converter id resolver 
def  compute fixed length solns model t0 k0 results {}for integrator in ['dopri5' 'dop853' 'vode' 'lsoda'] discrete soln model t0 k0 h 1.0 T 1000.0 integrator integrator atol 1e-14 rtol 1e-11 results discrete solnreturn results 
def get variables x collection None if collection is None collection tf variables node dict {node.name node for node in collection set [] nodes set [x] while nodes node nodes if isinstance node Random Variable node node candidate node node dict node None if candidate node and candidate node ! x output candidate node nodes node return list output 
def make hybi00 frame buf return '\x00%s\xff' % buf 
@login requireddef favorite req subject id if subject 'document' obj get object or 404 Document pk id elif subject 'map' obj get object or 404 Map pk id elif subject 'layer' obj get object or 404 Layer pk id elif subject 'user' obj get object or 404 settings A U T H USER MODEL pk id favorite models Favorite favorite obj req delete url reverse 'delete favorite args [favorite.pk] response {'has favorite 'true' 'delete url delete url Http Response json response content type 'application/json' status 200
def  filter apis desc desc apis return [api for api in apis if api desc ]
def  synchronous switch listener dbapi conn connection rec dbapi conn ' R A G M Asynchronous OFF'
def messages request return {'messages' get messages request }
def dict merge a b result dict **b for key value in a if isinstance value collections Mapping value dict merge value result key {} result valuereturn result 
def relay ip list name addresses None server  DEFAULT SERVER ret {'name' name 'changes' {} 'comment' str 'result' None addresses   salt  ['win smtp server relay ip list server server if addresses if addresses 'one addresses Noneelif addresses is None addresses [one addresses current addresses ret 'elay Ip Listalreadycontainstheprovidedaddresses Trueelif   opts  ['test'] ret 'elay Ip Listwillbechanged {'old' current addresses 'new' addresses ret 'et Relay Ip Listtocontaintheprovidedaddresses {'old' current addresses 'new' addresses   salt  ['win smtp server relay ip list addresses addresses server server return ret 
def test class name Are Equal S W F Text Box  name   'ext Box Are Equal S W F Text Box .  class  .  name   'ext Box 
def initialize subtask info entry action name total num subtask id list task progress {'action name action name 'attempted' 0 'failed' 0 'skipped' 0 'succeeded' 0 'total' total num 'duration ms int 0 'start time time }entry.task output Instructor Task output for success task progress entry state P R O G R E S Snum subtasks len subtask id list subtask status {subtask id Subtask Status subtask id .to dict for subtask id in subtask id list dict {'total' num subtasks 'succeeded' 0 'failed' 0 'status' subtask status json subtask dict entry now return task progress 
def get all queues redis conn  connect prefix  get queue name prefix return [q for q in rq Queue connection redis conn if q prefix ]
def force shutdown func request 'werkzeug.server.shutdown' if func is None raise Runtime Error 'otrunningwiththe Werkzeug Server func 
def  find columns clause cols util set traverse clause {} {u'column' cols return cols 
def get log transform otu table if otu table 0 raise Value Error 'llvaluesinthe O T Utablearezero def h s v s id s md return np s v return otu table h axis 'sample' inplace False 
def get makeopts return get var 'MAKEOPTS'
def test logarithmic bad interpolation line Line logarithmic True interpolate 'cubic' line '_' [0.001 1e-08 1] q line pyquery assert len q '.y.axis.guides' 41
@register opt 'fast compile @local optimizer [lloc def local gpua alloc2 node try get context None except Context Not Defined returnif isinstance node tensor Alloc and all c ! 'output' and isinstance c tensor Join and all i and i in [host from gpu tensor for i in c ] for c idx in node return [host from gpu gpu alloc None *node.inputs ]
def cli pip test venv name 'flocker-client' package source Package Source return sequence [run from args ['source' '{}/bin/activate'.format venv name ] run 'test`flocker-ca--version` {}'.format quote  get wheel version package source ]
def test pdf2 r S3 Request prefix 'gis' name 'hierarchy' from s3 import S3 Exporterexporter S3 Exporter .pdfreturn exporter r request r method 'list' pdf title T ' D F Test Card I I pdf table autogrow 'B' pdf header header pdf footer footer 
def register scheme map scheme map for k v in scheme map if k not in SCHEME TO CLS MAP L O G 'egisteringscheme k v SCHEME TO CLS M A P v 
def check if project is out of owner limits project current memberships None current private projects None current public projects None if project is None return {'can be updated False 'reason' ERROR PROJECT WITHOUT O W N E R current memberships is None current memberships project if project private max memberships project memberships private projectsif current private projects is None current projects project projects is private True .count else current projects current private projectsmax projects project private projectselse max memberships project memberships public projectsif current public projects is None current projects project projects is private False .count else current projects current public projectsmax projects project public projectsif max memberships is not None and current memberships > max memberships return Trueif max projects is not None and current projects > max projects return Truereturn False 
def predicative adjective w adjective if w in adjective predicative return adjective predicative w 'ari' return w + 'o' if w 'ali' 'ili' 'esi' 'nti' 'ori' return w -1 ] + 'e' if w 'isti' return w -1 ] + 'a' if w 'che' 'ghe' return w -2 ] + 'a' if w 'chi' 'ghi' return w -2 ] + 'o' if w 'i' return w -1 ] + 'o' if w 'e' return w -1 ] + 'a' return adjective 
def wigner 9j j 1 j 2 j 3 j 4 j 5 j 6 j 7 j 8 j 9 prec None imin 0imax min j 1 + j 9 j 2 + j 6 j 4 + j 8 sumres 0for kk in range imin int imax + 1 sumres sumres + 2 * kk + 1 * racah j 1 j 2 j 9 j 6 j 3 kk prec * racah j 4 j 6 j 8 j 2 j 5 kk prec * racah j 1 j 4 j 9 j 8 j 7 kk prec return sumres 
def safe get bool fact return bool strtobool str fact 
def get tree base exclude coverage the coverage tree {}runs coverage files for path in runs if not  skip file path exclude and not os path  graft path tree return tree 
def get request kwargs timeout useragent return {'headers' {ser Agent useragent 'cookies' cj 'timeout' timeout 'allow redirects True 
def ignore not sysadmin key data errors context user context 'user' ignore auth context 'ignore auth if ignore auth or user and authz sysadmin user returndata key 
def get mat product viewer W1 W2 prod np W1 W2 pv make viewer prod T return pv 
def approx error a orig w approx assert all v > 0 for v in a orig assert is weight w approx assert len a orig len w approx w orig np a orig dtype float / sum a orig return float max abs v1 - v2 for v1 v2 in zip w orig w approx 
def  norm along axis x axis return np np 'ij ij x x 
def lpr ma data year None year du year if year is None else year lab ct S H I B O R TYPE['LPR Tendency lab 'utf-8' if ct P Y3 else lab try df pd excel ct S H I B O R DATA URL % ct P T Y P E ct D O M A I N S ct P A G E S 'LPR Tendency year lab year skiprows [0] df ct L P R MA C O L Sdf df lambda x x df df np return dfexcept return None 
def metric handler name return stats 
def has multiple pks model if not hasattr model ' sa class manager raise Type Error 'modelmustbeasqlalchemymappedmodel' return len model sa class manager key > 1
def  find vm name data quiet False for hv  in data if not isinstance data ] dict continueif name in data ].get 'vm info {} ret {hv  {name data ]['vm info not quiet   jid event  .fire event {'data' ret 'outputter' 'nested'} 'progress' return retreturn {}
def test install from wheel script data result script 'install' 'has.script 1.0' '--no-index' '--find-links ' + data links expect error False dist info folder script packages / 'has.script-1.0.dist-info' assert dist info folder in result created dist info folder result created result script file script / 'script.py' assert script file in result created 
def  name to index cursor table name return dict [ d i for i d in enumerate get table description cursor table name ]
def correlation X Y condition None **kwargs return covariance X Y condition **kwargs / std X condition **kwargs * std Y condition **kwargs
def volume get all by project context project id marker limit sort key sort dir return I M P L get all by project context project id marker limit sort key sort dir 
def generate aliases fieldfile **kwargs from easy thumbnails import generate all aliasesgenerate all aliases fieldfile include global False 
def assert tol equal a b rtol 1e-07 atol 0 err msg '' verbose True def compare x y return np x y rtol rtol atol atol a b np a np b header 'otequaltotolerancertol %g atol %g' % rtol atol np array compare compare a b err msg str err msg verbose verbose header header 
def login fresh return session ' fresh False 
def  anomaly Score Moving Average anomaly Scores window Size 10 verbosity 0 historical Values []total 0ecord List []for record in anomaly Scores if not isinstance record list tuple or len record ! 3 if verbosity > 1 print 'alformedrecord ' record continue avg historical Values total Moving Average historical Values total record window Size averaged Record List [record[0] record avg if verbosity > 2 print 'ggregatinginputrecord ' record print 'esult ' [record[0] record avg return averaged Record List historical Values total 
def running name sig None return status name .get name False 
def makepatch original modified patch {}for key original value in original modified value modified key None if modified value is None patch Noneelif original value ! modified value if type original value type {} patch makepatch original value modified value else patch modified valueelse passfor key in modified if key not in original patch modified patch 
def convert y domain mpl plot bounds mpl max y bounds mpl y dom [mpl plot bounds mpl plot bounds + mpl plot bounds ]plotting height mpl max y bounds - mpl max y bounds y0 mpl y dom - mpl max y bounds / plotting height y1 mpl y dom - mpl max y bounds / plotting height return [y0 y1 
def  if match passes target etag etags if not target etag return Falseelif etags ['*'] return Trueelif target etag 'W/' return Falseelse return target etag in etags 
def unicode string string if isinstance string six type return stringtry return string 'utf8' except Unicode Decode Error return '[BASE64-DATA]' + base64 string + '[/BASE64-DATA]'
def require admin handler @require logindef require admin wrapper fn request *args **kwargs if settings C E N T R A L SERVER and request authenticated or getattr request 'is admin False return handler request *args **kwargs facility user id kwargs 'facility user id if request 'facility user and facility user id request 'facility user .id return handler request *args **kwargs raise Permission Denied _ 'oumustbeloggedinasanadmintoaccessthispage return require admin wrapper fn 
def  process timestamp ts if ts is None return Noneelif ts is None return dt util U T C ts else return dt util utc ts 
def save instance form instance commit True from django import modelsopts instance  class  . metaif form raise Value Error "he % opts name clean data form datafor f in opts if not f or isinstance f models Auto Field continuesetattr instance f clean data if commit instance for f in opts to many setattr instance f clean data return instance 
def sine Time Scaling sfreq smag time Scaling if time Scaling % 2 ! 0 raise Value Error 'imescalingarraydoesnothaveanevensize L sfreq In Time max time Scaling 2] max Out Time max time Scaling 2] out L int L * max Out Time / max In Time in Frames L - 1 * time Scaling 2] / max In Time out Frames out L * time Scaling 2] / max Out Time time Scaling Env interp1d out Frames in Frames fill value 0 indexes time Scaling Env np out L ysfreq sfreq indexes ]ysmag smag indexes ]for l in indexes ] ysfreq np ysfreq sfreq l ] ysmag np ysmag smag l ] return ysfreq ysmag 
def  filter running runnings ret dict tag value for tag value in six runnings if not value or value return ret 
def notify notification Name message if sabnzbd F O U N D A T I O N pool Foundation N S Autorelease Pool .init nc Foundation N S Distributed Notification Center Center nc Notification Name object  notification Name message del pool 
def  insert node path itemid if len path 1 node itemidelse dirname path path ]if dirname not in node node Node {} {}  insert node rest itemid 
@task base Base Instructor Task def rescore problem entry id xmodule instance args action name ugettext noop 'rescored' update fcn partial rescore problem module state xmodule instance args def filter fcn modules to update 'ilterthatmatchesproblemswhicharemarkedasbeingdone modules to update state  contains '"done" true visit fcn partial perform module state update update fcn filter fcn return run main task entry id visit fcn action name 
def ismethoddescriptor object return hasattr object '  get  ' and not hasattr object '  set  ' and not ismethod object and not isfunction object and not isclass object 
def repartition df divisions None force False token tokenize df divisions if isinstance df  Frame tmp 'repartition-split-' + token out 'repartition-merge-' + token dsk repartition divisions df divisions df name tmp out force force return new dd object merge df dsk out df meta divisions elif isinstance df pd Series pd Data Frame name 'repartition-dataframe-' + token from .utils import shard df on indexdfs shard df on index df divisions -1 ] dsk dict name i df for i df in enumerate dfs return new dd object dsk name df divisions raise Value Error 'atamustbe Data Frameor Series 
def load obj load path if isinstance load path str load path os os load path if load path '.gz' import gzipload path gzip load path 'rb' else load path open load path 'rb' fname load path 'deserializingobjectfrom %s' fname try return pickle load load path except Attribute Error msg 'roblemsdeserializing %tspossibletheinterfaceforthisobjecthaschangedsincebeingserialized Youmayneedtoremoveandrecreateit % load path logger msg raise Attribute Error msg 
def get template dir prefix template path '/templates/head' if feconf I S MINIFIED or not feconf D E V MODE else '/templates/dev/head' return '%s%s' % get asset dir prefix template path 
def get plural num pos match plural str match 0 .strip if plural str not in  PLURAL NUM POS first arg num  check plural arg is num match 2 .strip second arg num  check plural arg is num match 3 .strip if first arg num second arg num first arg num second arg num Nonepos Noneif first arg num is False or second arg num is True pos 2elif second arg num is False or first arg num is True pos 1else pos prompt user 'mbiguous %swhichisthenumber? [1]2 ' % plural str default 1  PLURAL NUM P O S str int pos return  PLURAL NUM P O S str 
def florentine families graph G nx Graph G edge 'cciaiuoli 'edici G edge 'astellani 'eruzzi G edge 'astellani 'trozzi G edge 'astellani 'arbadori G edge 'edici 'arbadori G edge 'edici 'idolfi G edge 'edici 'ornabuoni G edge 'edici 'lbizzi G edge 'edici 'alviati G edge 'alviati 'azzi G edge 'eruzzi 'trozzi G edge 'eruzzi 'ischeri G edge 'trozzi 'idolfi G edge 'trozzi 'ischeri G edge 'idolfi 'ornabuoni G edge 'ornabuoni 'uadagni G edge 'lbizzi 'inori G edge 'lbizzi 'uadagni G edge 'ischeri 'uadagni G edge 'uadagni 'amberteschi return G
def matrix multiply elementwise A B if A ! B raise Shape Error shape A classof A B . new shape shape lambda i j A[ i j ] * B[ i j ]
def notrace *args **kwds def decorator func return funcarg0 len args and args or None if callable arg0 or type arg0 in classmethod staticmethod return decorator arg0 else return decorator 
def formatargvalues args varargs varkw locals formatarg str formatvarargs lambda name '*' + name formatvarkw lambda name '**' + name formatvalue lambda value ' ' + repr value join joinseq def convert name locals locals formatarg formatarg formatvalue formatvalue return formatarg name + formatvalue locals specs []for i in range len args specs strseq args convert join if varargs specs formatvarargs varargs + formatvalue locals if varkw specs formatvarkw varkw + formatvalue locals return ' ' + string specs ' ' + ' '
def pickle Module module return unpickle Module module  name  
def  process rules list rules match rule if isinstance match rule policy Rule Check rules match rule elif isinstance match rule policy And Check for rule in match rule  process rules list rules rule return rules 
def  reindent stats tokens find stmt 1level 0stats []for t in tokens token type t t t token type tokenize N E W L I N E find stmt 1elif token type tokenize I N D E N T find stmt 1level + 1elif token type tokenize D E D E N T find stmt 1level - 1elif token type tokenize C O M M E N T if find stmt stats sline -1 elif token type tokenize N L passelif find stmt find stmt 0if line stats sline level return stats 
def  maybe Cleanup Scope Index family packed if sys 'freebsd' and packed 2] '\xfe\x80' return packed 2] + '\x00\x00' + packed ] return packed 
def  update property value properties key value for prop in properties if prop key prop {'value' value 
def discretize oversample 1D model x range factor 10 x np x range - 0.5 * 1 - 1 / factor x range + 0.5 * 1 + 1 / factor 1.0 / factor values model x values np values x // factor factor return values axis 1 [ -1 ]
def  get placeholder cache version key placeholder lang site id prefix get cms setting 'CACHE PREFIX' key '{prefix}|placeholder cache version {id}|lang {lang}|site {site}'.format prefix prefix id placeholder lang str lang site site id if len key > 250 key '{prefix}|{hash}'.format prefix prefix hash hashlib key 'utf-8' .hexdigest return key 
def generate example rst app example dir os os app '..' '..' 'examples' generated dir os os app 'examples' try plot gallery eval app gallery except Type Error plot gallery bool app gallery if not os example dir os example dir if not os generated dir os generated dir seen backrefs set generate dir rst '.' example dir generated dir plot gallery seen backrefs 
@register.filter is safe True def safeseq value return [mark safe force unicode obj for obj in value 
def get one version kwargs None call None if call 'action' raise Salt Cloud System Exit 'heget cluster idfunctionmustbecalledwith if kwargs is None kwargs {} server user password  get xml rpc auth ' '.join [user password return server auth [1]
def  caa request mbid imageid None size None entitytype 'release' path [entitytype mbid imageid and size path '%s-%s' % imageid size elif imageid path imageid url compat 'http' hostname '/%s' % '/'.join path '' '' '' musicbrainz log ' E Trequestfor % url http Handler compat H T T P Handler debuglevel 0 handlers [andler compat opener *handlers req musicbrainz Musicbrainz Http Request 'GET' url None if musicbrainz useragent ! '' req header 'ser Agent musicbrainz useragent musicbrainz log ' A % musicbrainz useragent resp musicbrainz safe read opener req None if imageid return respelse return json resp 
def libvlc media player retain p mi f  Cfunctions 'libvlc media player retain None or  Cfunction 'libvlc media player retain 1 None None Media Player return f p mi 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def require valid intent intent if intent not in feconf V A L I D MODERATOR ACTIONS raise Exception 'nrecognizedemailintent %s' % intent 
@task name 'geonode.tasks.email.send queued notifications queue 'email' def send queued notifications *args try from notification import send allexcept Import Error returnif not args and getattr settings 'NOTIFICATION LOCK LOCATION' None send all settings N O T I F I C A T I O N LOCK LOCATION else send all *args
def test scenario outline2 fr from string lang Language 'fr' scenario Scenario string OUTLINED SCENARIO2 language lang assert equals scenario 'jouter2nombres assert equals scenario [{u'input 1' u u 2' u u u u u {u'input 1' u u 2' u u u u u {u'input 1' u u 2' u u u u u 
def mlevel level if level and not isinstance level numbers Integral return LOG L E V E L S ]return level 
def reduce memmap a m  get backing memmap a if m is not None return  reduce memmap backed a m else return loads dumps np a protocol HIGHEST PROTOCOL
def fitbinnedgmm distfn freq binedges start fixed None weightsoptimal True if not fixed is None raise Not Implemented Errornobs np freq if weightsoptimal weights freq / float nobs else weights np len freq freqnormed freq / float nobs def gmmobjective params 'negativeloglikelihoodfunctionofbinneddata\n\ncorrespondstomultinomial\n'prob np distfn binedges *params momcond freqnormed - prob return np momcond * weights momcond return optimize gmmobjective start 
def outer a b out None n a b shape n m if out is None return core core a b None n m 1 ret shape if out ! n * m raise Value Error 'utputarrayhasaninvalidsize if out contiguous return core core a b out n m 1 ret shape else out ] core core a b None n m 1 ret shape return out 
def freespace path s os path return s bavail * s bsize 
def plot harris points image filtered coords figure gray imshow image plot [p[1] for p in filtered coords [p[0] for p in filtered coords '*' axis 'off' show 
def format size size for unit in 'B' 'KB' 'MB' 'GB' 'TB' if size < 2048 return '%.f%s' % size unit size / 1024.0
def slashappend s if s and not s '/' return s + '/' else return s 
def get fifo rate previous stock queue qty if qty > 0 total sum f for f in previous stock queue return sum flt f * flt f for f in previous stock queue / flt total if total else 0.0 else available qty for outgoing outgoing cost 0 0 qty to pop abs qty while qty to pop and previous stock queue batch previous stock queue 0 < batch < qty to pop available qty for outgoing + flt batch outgoing cost + flt batch * flt batch qty to pop - batch stock queue 0 else available qty for outgoing + flt qty to pop outgoing cost + flt qty to pop * flt batch batch - qty to popqty to pop 0return outgoing cost / available qty for outgoing 
def convert to response dict http response operation model response dict {'headers' http response 'status code http response code response dict code > 300 response dict http response operation model streaming output response dict Streaming Body http response response dict 'content-length' else response dict http response response dict 
@jit nopython True def searchsorted a v lo -1 hi len a while lo < hi - 1 m lo + hi // 2 if v < a hi melse lo mreturn hi 
def text finder registry xml parent data finder X M L Sub Element xml parent 'ext Finder Publisher if 'fileset' in data X M L Sub Element finder 'et .text data X M L Sub Element finder 'regexp' .text data output str data 'also-check-console-output' False .lower X M L Sub Element finder 'heck Console Output .text check outputsucceed if found str data 'succeed-if-found' False .lower X M L Sub Element finder 'f Found .text succeed if foundunstable if found str data 'unstable-if-found' False .lower X M L Sub Element finder 'f Found .text unstable if found 
def part range filter partition iterator lb ub for state in partition iterator f lpart pstack stateif lpart > lb and lpart < ub yield state 
def get human readable user ids user ids users settings get users settings user ids usernames []for ind user settings in enumerate users settings if user settings is None logging 'serid ids % user ids user ids raise Exception 'sernotfound elif user settings id feconf S Y S T E M COMMITTER ID usernames 'admin' elif user settings usernames user settings else usernames 'waitinguserregistration %s]' % user settings email return usernames 
def  responds result type data None msg '' return {'result' result type map type 'message' msg 'data' {} if not data else data }
def get evennia pids server pidfile os settings G A M E DIR 'server.pid' portal pidfile os settings G A M E DIR 'portal.pid' server pid portal pid None None if os server pidfile f open server pidfile 'r' server pid f f if os portal pidfile f open portal pidfile 'r' portal pid f f if server pid and portal pid return int server pid int portal pid return None None 
def test create tuple a1 Angle 1 30 0 unit u assert a1 1.5 a1 Angle 1 30 0 unit u assert a1 1.5
def test sensitivity specificity score binary y true y pred _ make prediction binary True sen spe sup sensitivity specificity support y true y pred average None assert allclose sen [0.88 0.68] rtol R TOL assert allclose spe [0.68 0.88] rtol R TOL assert array equal sup [25 25] for kwargs my assert in [ {} assert no warnings {'average' 'binary'} assert no warnings ] sen my assert sensitivity score y true y pred **kwargs assert allclose sen 0.68 rtol R TOL spe my assert specificity score y true y pred **kwargs assert allclose spe 0.88 rtol R TOL
def sort key s global sort keytry from gluon import unicode collatorunicode sort key unicode collator keysort key lambda s unicode sort key to unicode s 'utf-8' if isinstance s str else s except sort key lambda s to unicode s 'utf-8' if isinstance s str else s .lower return sort key s 
def dictfilter d None **kw d kw if d is None else dict d **kw if kw else d return {k v for k v in items d if v is not None }
def  unpack septets seq padding 0 msgbytes r  consume bytes seq len seq / 2 msgbytes asbinary ''.join map  to binary msgbytes if padding ! 0 asbinary asbinary - padding ]chars []while len asbinary > 7 chars int asbinary -7 ] 2 asbinary asbinary -7 ]return ''.join map chr chars 
@with open mode 'rb' @with sizes 'medium' def read seek blockwise f f 0 while f 1000 f 1000 1
def tanh X return np X out X
def gen data files *dirs **kwargs results []optional kwargs u False def filter illegal extensions f return os f [1] ! u for src dir in dirs if not os src dir if optional continueelse raise Runtime Error u s cannotcontinue dir src dir for root dirs files in os src dir results root filter filter illegal extensions map lambda f os root f files return results 
def copy column constraints func def  column cp self table name column old column new *args **opts try constraint self find foreign constraints table name column old [0]refs self lookup constraint references table name constraint if refs is not None ftable fcolumn refsif ftable and fcolumn fk sql self key sql table name column new ftable fcolumn get logger .debug 'oreignkey S Q L ' + fk sql self deferred sql fk sql except Index Error passexcept Dry Run Error passtry reverse self lookup reverse constraint table name column old for cname rtable rcolumn in reverse fk sql self key sql rtable rcolumn table name column new self deferred sql fk sql except Dry Run Error passreturn func self table name column old column new *args **opts return  column cp 
@real memoizedef is netbsd return sys 'netbsd'
def render formset errors formset **kwargs renderer cls get formset renderer **kwargs return renderer cls formset **kwargs .render errors 
def new service name restart True out   mgmt name 'service' 'new' if restart if out 'success' return   firewall cmd '--reload' return out 
def  install remote download config read config rewrite config create folders check dependencies tools nuget tools binskim tools binscope tools rpcclient generate secret autostart 
def gradient image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy gradient image selem out out mask mask shift x shift x shift y shift y 
def needs values func @wraps func def assure data present self *args **kwargs self return func self *args **kwargs return assure data present 
def set Debugging on Deferred bool on 
def parse resource resource error msg 'esourcesshouldbedefinedas kinto import Name Generatorid generator Name Generator parts resource '/' if len parts 2 bucket collection partselif len parts 5 _ _ bucket _ collection partselse raise Value Error error msg if bucket '' or collection '' raise Value Error error msg if not id generator bucket or not id generator collection raise Value Error error msg return {'bucket' bucket 'collection' collection 
def on Reuqest Login login Name password client Type datas INFO MSG 'euqest Login login Name %s client Type %s' % login Name client Type errorno K B Engine S E R V E R S U C C E S Sif len login Name > 64 errorno K B Engine S E R V E R ERR N A M Eif len password > 64 errorno K B Engine S E R V E R ERR P A S S W O R Dreturn errorno login Name password client Type datas 
def dmp trunc f p u K return dmp strip [dmp rem c p u - 1 K for c in f u 
@check login required local site accessdef submitter request username grid None template name u local site None if local site try user local site username username except User Does Not Exist raise Http404else user get object or 404 User username username if grid is None or grid u datagrid cls User Page Review Request Data Gridelif grid u datagrid cls User Page Reviews Data Gridelse raise Http404datagrid datagrid cls request user local site local site datagrid [ User Page Review Request Data Grid title local site reverse u local site local site args [username] User Page Reviews Data Grid title local site reverse u local site local site args [username u ]return datagrid to response template name 
def  usable Py Open S S L version major minor int part for part in version '.' [ 2] return major minor > 0 12
def on Finish pass 
def get value generators js all value generators value generators domain Registry all generator classes value generators js ''for _ generator cls in all value generators value generators js + generator cls js template return value generators js 
def write global name obj cache path  global cache path  write cache path name obj 
def  Verify Extension Handle message extension handle if not isinstance extension handle  Field Descriptor raise Key Error 'as Extension expectsanextensionhandle got %s' % extension handle if not extension handle extension raise Key Error '"%s"isnotanextension.' % extension handle name if not extension handle type raise Key Error '"%s"ismissingacontaining type % extension handle name if extension handle type is not message D E S C R I P T O R raise Key Error 'xtension butthismessageisoftype % extension handle name extension handle type name message D E S C R I P T O R name 
def generate relationship base direction return fn attrname local cls referred cls **kw if return fn is backref return return fn attrname **kw elif return fn is relationship return return fn referred cls **kw else raise Type Error 'nknownrelationshipfunction %s' % return fn 
def is successful upgrade upgrade response if upgrade response code ! 101 return Falseheaders upgrade response headers upgrade value _ headers 'pgrade None connection value _ headers 'onnection None sec websocket accept value _ headers 'ec Web Socket Accept None if upgrade value and connection value and sec websocket accept value return Truereturn False 
def infer class cls for attr value in cls  dict  .items if type value is type infer class setattr cls attr infer method signature cls  name   value return cls 
def show weights model path rescale 'individual' border False out None pv get weights report weights report model path model path rescale rescale border border if out is None pv else pv out 
@partial.partialdef login analytics strategy auth entry *args **kwargs event name Noneif auth entry AUTH ENTRY LOGIN event name 'edx.bi.user.account.authenticated'elif auth entry in [AUTH ENTRY ACCOUNT SETTINGS] event name 'edx.bi.user.account.linked'if event name is not None and hasattr settings 'LMS SEGMENT KEY' and settings L M S SEGMENT KEY tracking context tracker tracker .resolve context analytics kwargs event name {'category' 'conversion' 'label' None 'provider' kwargs context {'ip' tracking context 'ip' 'oogle Analytics {d tracking context 'client id }}
def get current thread object dict rval dict threading active limbo lock rval threading active rval threading limbo threading active limbo lock return rval 
def  passive handler func f def func self input f self input return inputreturn func 
def dot inp matrix if 'int' in inp and inp 2 return matrix ]elif 'int' in inp return matrix 'float' in inp and inp 3 shape0 inp inp inp T T inp shape0 * shape1 shape2 matrix else return T T inp matrix 
def simplegesture name point list g Gesture g stroke point list g g namereturn g 
@handle response format login required admin required def group edit request group id response format 'html' group get object or 404 Group pk group id if request P O S T if 'cancel' not in request P O S T form Group Form request P O S T instance group if form valid group form return Http Response Redirect reverse 'core admin group view args [group.id] else return Http Response Redirect reverse 'core admin group view args [group.id] else form Group Form instance group return render to response 'core/administration/group edit {'group' group 'form' form context instance Request Context request response format response format 
def  ignore CTRL C other pass 
@iquid Tags 'blockdiag' def blockdiag parser preprocessor tag markup m DOT BLOCK R E markup if m diagram m 'diagram' .strip code markupoutput diag code diagram if output return '<spanclass "blockdiag"style "align center "data image %s"></span>' % base64 output else raise Value Error 'rrorprocessinginput Expectedsyntax {0}'.format SYNTAX
def fail on pylint arg if 'pylint' in arg paver 'exit1' else return 
def update profile picture data url user id profile picture data url user settings get user settings user id strict True user settings picture data url profile picture data url save user settings user settings 
def select item x t return Select Item x t 
def malt demo nx False dg Dependency Graph u Pierre N N P2 N M O D Vinken N N P8 S U B 2 C D5 N M O D N N S6 A M O D J J2 N M O D 2 M D0 R O O T V B8 V C D T11 N M O D N N9 O B J I N9 V M O D D T15 N M O D J J15 N M O D N N12 P M O D Nov N N P9 V M O D C D16 N M O D V M O D tree dg tree if nx import networkxfrom matplotlib import pylabg dg graph g pos networkx layout g dim 1 networkx networkx nodes g pos node size 50 networkx networkx labels g pos dg labels pylab [] pylab [] pylab u pylab 
def  Modified Encoder wire type encode value compute value size modify value def Specific Encoder field number is repeated is packed if is packed tag bytes Tag Bytes field number wire format W I R E T Y P E LENGTH DELIMITED local Encode Varint  Encode Varintdef Encode Packed Field write value write tag bytes size 0for element in value size + compute value size modify value element local Encode Varint write size for element in value encode value write modify value element return Encode Packed Fieldelif is repeated tag bytes Tag Bytes field number wire type def Encode Repeated Field write value for element in value write tag bytes encode value write modify value element return Encode Repeated Fieldelse tag bytes Tag Bytes field number wire type def Encode Field write value write tag bytes return encode value write modify value value return Encode Fieldreturn Specific Encoder 
def itemgetter tuple items if len items 0 return lambda a if len items 1 return lambda gettable gettable return operator *items
def  run task hook hooks method task queue name if hooks is not None try getattr hooks method task queue name except Not Implemented Error return Falsereturn Truereturn False 
def generate java test target source env target name str target main class str source test jar str source jars []for jar in source ] jars os str jar test class names  get all test class names in jar test jar return  generate java test target name main class jars '' ''.join test class names env 
def text concat *args **kwargs separator text value kwargs u u values filter None [text value v for v in args return separator values 
def rosen x x asarray x r numpy 100.0 * x ] - x -1 ] ** 2.0 ** 2.0 + 1 - x -1 ] ** 2.0 axis 0 return r 
def expand degeneracies raw primers expanded primers []for raw primer in raw primers primer seq D N A Sequence raw primer for expanded primer in primer seq expanded primers str expanded primer return expanded primers 
def  is ignorable 404 uri for start in settings I G N O R A B L E 404 STARTS if uri start return Truefor end in settings I G N O R A B L E 404 ENDS if uri end return Truereturn False 
def reconstructor fn fn  sa reconstructor   Truereturn fn 
def UTOF val return val 
def write libraries dir libraries files [open os dir k 'w' for k _ in libraries f _ v in zip files libraries v markdown to file f for f _ v in zip files libraries v other members f f 
def  drop log stats drop log ignore 'IGNORED' if not isinstance drop log list or not isinstance drop log list raise Value Error 'drop logmustbealistoflists perc 100 * np [ len d > 0 for d in drop log if not any r in ignore for r in d ] return perc 
@real memoizedef is netbsd return sys 'netbsd'
def  prefix commands command which prefixes list env prefixes cwd env if which 'remote' else env redirect '>/dev/null' if not win32 else '' if cwd prefixes 0 'cd%s%s' % cwd redirect glue '&&'prefix glue prefixes + glue if prefixes else '' return prefix + command 
@remote data u H A S JPLEPHEM' @pytest.mark.parametrize u Time u 00' Time u 00' Time u 00' def test get sun consistency time sun jpl gcrs get body u time ephemeris u builtin get sun get sun time sep builtin get sun sun jpl gcrs assert sep < 0.1 * u 
def  ret top ids segmented topics top ids set for s i in segmented topics for id in chain iterable s i if isinstance id np for i in id top ids i else top ids id return top ids 
def rev parse committish repo dir None head read ref committish repo dir repo dir if head debug2 'resolvedfromref commit %s\n' % head 'hex' return headp L Pack Idx List repo 'objects/pack' repo dir repo dir if len committish 40 try hash committish 'hex' except Type Error return Noneif p L hash return hashreturn None 
def  get adapter name and ip address network adapters mac address adapter name Noneip address Nonefor network adapter in network adapters if network adapter mac address adapter name network adapter address network adapter adapter name ip address 
def trace to dataframe trace chains None varnames None hide transformed vars True var shapes trace straces shapesif varnames is None varnames var shapes flat names {v create flat names v shape for v shape in var shapes if not hide transformed vars and v '_' }var dfs []for v shape in var shapes if v in varnames if not hide transformed vars or not v '_' vals trace values v combine True chains chains flat vals vals vals -1 var dfs pd Data Frame flat vals columns flat names return pd var dfs axis 1
def bool or str *text def bool or value obj if obj in text return objelse return asbool obj return bool or value 
def  new versions quay conda sconda set conda squay set quay if quay else set return sconda - squay 
def get sys cmd ''if salt 'localectl' cmd 'eymap / /"-e"s/^[ DCTB ]*//"'elif 'ed Hat in   grains  ['os family cmd ' A Y O U T E 'ebian in   grains  ['os family cmd ' K B L A Y O U T E 'entoo in   grains  ['os family cmd '   salt  ['cmd.run'] cmd python shell True .split ' ' ret out '"' '' return ret 
def string to tokentype s if isinstance s  Token Type return sif not s return Tokennode Tokenfor item in s '.' node getattr node item return node 
def get handle global   handle  if not   handle     handle   FT Library error FT Init Free Type byref   handle   if error raise Runtime Error hex error return   handle  
def heldout score clf X test y test score np n estimators dtype np for i y pred in enumerate clf decision function X test score clf  y test y pred return score 
def Create Extension Setting client feed items campaign feed feed item ids platform restrictions None campaign extension setting service client Get Service 'ampaign Extension Setting Service 'v201609' extension feed items [reate Sitelink Feed Item feed items feed item id } for feed item id in feed item ids setting {'extensions' extension feed items platform restrictions extension setting Restrictions platform restrictionscampaign extension setting {d campaign feed Id 'ype 'SITELINK' 'etting extension setting {'operand' campaign extension setting 'operator' ' D D extension setting service [operation]
def get Decoders decoder paths import base os decoder paths .split os [ -1 ]decoders {}for path in decoder paths import path path os [len import base ]for f in glob '%s/*.py' % path name os os f [0]if name ! '  init  ' decoders '.'.join import path + [name] return decoders 
def render s context None if context is None context {}t get env .from string s return t context 
def ssl potential try import sslexcept Import Error return []return [p[9 ] for p in dir ssl if p 'PROTOCOL ' ]
def check is admin roles context None init target {'project id ''}if context is None credentials {'roles' roles credentials context dict return  E N F O R C E R 'context is admin target credentials 
def T layer return tf default graph .get tensor by name '%s 0' % layer 
def create Key Pair type bits pkey crypto P Key pkey key type bits return pkey 
def blend image img bgcolor u canvas Q Image img Q Image Format RGB32 canvas Q Color bgcolor overlay image img canvas return canvas 
def find gating milestones course key content key None relationship None user None return [m for m in milestones api course content milestones course key content key relationship user if GATING NAMESPACE QUALIFIER in m 'namespace' ]
@then u def step see named query saved context  expect exact context u Saved timeout 1
def p enum specifier 2 t pass 
def  bootstrap deb root arch flavor repo url None static qemu None pkgs None exclude pkgs None if repo url is None repo url 'http //ftp.debian.org/debian/'deb args ['debootstrap' '--foreign' '--arch'  cmd quote arch '--include'] + pkgs + ['--exclude'] + exclude pkgs + [ cmd quote flavor  cmd quote root  cmd quote repo url ]   salt  ['cmd.run'] deb args python shell False   salt  ['cmd.run'] 'cp{qemu}{root}/usr/bin/'.format qemu  cmd quote static qemu root  cmd quote root env {'DEBIAN FRONTEND' 'noninteractive' 'DEBCONF NONINTERACTIVE SEEN' 'true' 'LC ALL' 'C' 'LANGUAGE' 'C' 'LANG' 'C' 'PATH' '/sbin /bin /usr/bin'}  salt  ['cmd.run'] 'chroot{root}/debootstrap/debootstrap--second-stage'.format root  cmd quote root env env   salt  ['cmd.run'] 'chroot{root}dpkg--configure-a'.format root  cmd quote root env env 
def rc params fail on error False fname matplotlib fname if not os fname message u Rc Params [ key default for key default _ in six default Params if key not in  all deprecated ] warnings message return retreturn rc params from file fname fail on error 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def review branch branch choose ref N  u Select Branchto Review N  u Review if not branch returnmerge base gitcmds base parent branch difftool commits qtutils window merge base branch 
def human Readable Mask mask s []for k v in  FLAG TO HUMAN if k & mask s v return s 
def  inspect environment app version os C U R R E N T VERSION I D '.' 1 [0]conf version int os 'CURRENT CONFIGURATION VERSION' '0' development os 'SERVER SOFTWARE' '' .startswith 'evelopment return app version conf version development 
def check cycle reg assignments return check cycle  reg assignments []
@register u def quoted insert event event insert True 
def cpu affinity by task pid vcpu pid cmd "pus allowed |awk'{print$2}'" % pid vcpu pid output system output cmd ignore status False return output 
def mlarr *args **kwargs arr np *args **kwargs arr matdims arr return arr 
def  rotate Left x n return x << n | x >> 32 - n 
def truncatewords value arg from django import truncate wordstry length int arg except Value Error return valuereturn truncate words value length 
def snapshot absent name force False recursive False return  absent name 'snapshot' force recursive 
def  get transformed points tps new points source points coefficients num points batch size to transform new points 0 'x' 1 2 stacked transform T to transform 1 num points 1 1 r 2 T stacked transform - source points 'x' 1 0 'x' ** 2 axis 2 log r 2 T r 2 distances T T log r 2 r 2 * log r 2 0.0 upper array T [ batch size 1 new points dtype theano X new points axis 1 right mat T [upper array distances axis 1 new value T dot coefficients right mat return new value 
def  check for unit changes name contextkey 'systemd. check for unit changes name if contextkey not in   context   if  untracked custom unit found name or  unit file changed name systemctl reload   context  [contextkey] True 
def form List tables ['irs ireport 'rms req 'cr shelter 'pr person 'pr image T A G for tablename in tables xml T A G get name tablename  url 'http //' + request host + URL f 'create' args tablename response Content Type 'text/xml'response.view 'xforms.xml'return xml 
def get Minimum By Paths element Node return euclidean Minimum By Vector3 Paths element Node Object Transformed Paths 
def new entry id entry cache {} s entry + entry .encode 'ascii' 'ignore' return hashlib s .hexdigest
def  parse sv8 int fileobj limit 9 num 0for i in xrange limit c fileobj 1 if len c ! 1 raise E O F Errorc bytearray c num num << 7 | c & 127 if not c & 128 return num i + 1 if limit > 0 raise Value Errorreturn 0 0
def cluster get context id None is up None get services False services summary False read deleted 'no' name match level None **filters return I M P L get context id is up get services services summary read deleted name match level **filters
def assert before lst item1 item2 assert less lst item1 lst item2 '{0!r}appearsbefore{1!r}'.format item1 item2 
def  quote And Escape string assert type string in types String Types return pprint string 
def delete object url **kwargs client Simple Client url url client request 'DELETE' **kwargs
def thread try thread id int g print thread g threads id g name g name except Exception debug option print Nicely red 'osuchthread 
def pkg resources get default cache egg cache compat 'PYTHON EGG CACHE' if egg cache is not None return egg cacheif os ! 'nt' return os '~/.python-eggs' app data 'pplication Data homes [ 'APPDATA' None 'USERPROFILE' app data 'HOMEDRIVE' 'HOMEPATH' app data 'HOMEPATH' app data 'HOME' None 'WINDIR' app data ]for keys subdir in app homes dirname ''for key in keys if key in os dirname os dirname compat key else breakelse if subdir dirname os dirname subdir return os dirname 'ython Eggs else raise Runtime Error 'leasesetthe P Y T H O N EGG C A C H Eenviromentvariable 
def get rect xmin data return min data data data data 
def get scaling policy arn as group scaling policy name region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile policies conn all policies as group as group for policy in policies if policy scaling policy name return policy arnlog 'ouldnotconvert {0}'.format as group return None 
def parse s3 uri uri components urlparse uri if components not in 's3' 's3n' or '/' not in components raise Value Error 'nvalid S3 U R I %s' % uri return components components ]
def map relation type relation type if isinstance relation type Product Cross Sell Type return relation typeattr name force ascii relation type .upper try return getattr Product Cross Sell Type attr name except Attribute Error raise Lookup Error 'nknown Product Cross Sell Type % relation type 
def Time From Ticks ticks return Time *time.localtime ticks [3 6]
def get A D B TOOLSDIR try if len settings A D B BINARY > 0 and is File Exists settings A D B BINARY return settings A D B B I N A R Yelse adb 'adb'if platform 'arwin adb dir os TOOLSDIR 'adb/mac/' subprocess ['chmod' '777' adb dir adb os TOOLSDIR 'adb/mac/adb' elif platform 'inux adb dir os TOOLSDIR 'adb/linux/' subprocess ['chmod' '777' adb dir adb os TOOLSDIR 'adb/linux/adb' elif platform 'indows adb os TOOLSDIR 'adb/windows/adb.exe' return adbexcept Print Exception ' R R O R Getting A D B Location return 'adb'
def get Evaluated Link Value word xml Element if word '' return Noneif get Starts With Curly Equal Round Square word return get Evaluated Expression Value word xml Element return word 
def set enabled equivalencies equivalencies context  Unit Context get current unit registry get current unit registry .set enabled equivalencies equivalencies return context 
def delete ip call None kwargs None global netconnif not netconn netconn get conn Network Management Client if kwargs 'resource group is None kwargs group config cloud config value 'resource group {}   opts   search global True return netconn ip addresses kwargs group kwargs name 
def unfreeze name quiet False path None data  do names name 'unfreeze' path path if data and not quiet   jid event  .fire event {'data' data 'outputter' 'lxc resume 'progress' return data 
def gcdex diophantine a b c s g a gcdex b q c g s q * s if not s zero and b > b q s s b t c - s * a .exquo b return s t 
def prompt async message u **kwargs kwargs asyncio coroutine Truereturn prompt message **kwargs
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def unique values values com asarray tuplesafe values f lambda htype caster  unique object values htype caster return  hashtable algo f values 
def strpdate string format whence datetime string format return whence 
def response status message status return '%s%s' % status http int status 
def get inheritance obj name obj type 'file' dacl Dacl obj name obj type inherited win32security I N H E R I T E D A C Efor i in range 0 dacl Get Ace Count ace dacl Get Ace i if ace & inherited inherited return Truereturn False 
@require P O S T csrf cookie control no cache True no store True must revalidate True @common exceptions 400@require level 'staff' @require post params unique student identifier 'emailorusernameofstudentforwhomtogetprogressurl' def get student progress url request course id course id Slash Separated Course Key deprecated string course id user get student from identifier request P O S T 'unique student identifier progress url reverse 'student progress kwargs {'course id course id deprecated string 'student id user response payload {'course id course id deprecated string 'progress url progress url Json Response response payload 
def clear mappers mapperlib CONFIGURE M U T E X try while  mapper registry try mapper b  mapper registry mapper except Key Error passfinally mapperlib CONFIGURE M U T E X 
def p fused definition s pos ctx if ctx not in 'module' 'module pxd error pos 'usedtypedefinitionnotallowedhere s name p ident s s ' ' s newline s indent types []while s ! 'DEDENT' if s ! 'pass' types p c base type s else s s newline s dedent if not types error pos 'eedatleastonetype return Nodes Fused Type Node pos name name types types 
def xxinv mul factor matrices mul coeff matrices for i X Y in enumerate zip matrices -1 ] matrices ] try if X square and Y square and X Y I Identity X return newmul factor * matrices i + [I] + matrices i + 2 ] except Value Error passreturn mul 
def  run horcmgr inst result utils 'env' 'HORCMINST %s' % inst 'horcmgr' '-check' return result 
def check array instances evaluator instance if not settings array additions return instance argsai  Array Instance evaluator instance from jedi import paramreturn param Arguments evaluator [lready Evaluated [ai] ]
def bfs tree G source reverse False T nx Di Graph T node source T edges from bfs edges G source reverse reverse return T
def wait Until All Disconnected reactor protocols lc Nonedef  check if not True in [x.transport.connected for x in protocols lc lc task Looping Call  check lc reactorreturn lc 0.01 now True 
def deinstall name portpath  check portname name old   salt  ['pkg.list pkgs result   salt  ['cmd.run all ['make' 'deinstall' 'BATCH yes cwd portpath python shell False   context  .pop 'pkg.list pkgs None new   salt  ['pkg.list pkgs return salt dicts old new 
def validate scale values scale if len scale < 2 raise exceptions Plotly Error 'oumustinputalistofscalevaluesthathasatleasttwovalues if scale ! 0 or scale -1 ] ! 1 raise exceptions Plotly Error 'hefirstandlastnumberinyourscalemustbe0 if not all x < y for x y in zip scale scale ] raise exceptions Plotly Error "'scale'mustbealistthatcontainsastrictlyincreasingsequenceofnumbers."
def  fix multiple roots node real nodes [x for x in node if not isinstance x SKIPPED ELEMENT TYPES ]if len real nodes > 1 data node etree Element 'data' for child in node data node child node data node 
def lesser equal x y return tf equal x y 
@register u def redraw current line event pass 
def set expire name expire pre info info name if expire pre info return Trueif   grains  ['kernel'] 'ree B S D cmd ['pw' 'user' 'mod' name '-e' expire cmd ['usermod' '-e' expire name  salt  ['cmd.run'] cmd python shell False post info info name if post info ! pre info return post info expire 
def regenerate user certificates student course key course None forced grade None template file None insecure False xqueue X Queue Cert Interface if insecure xqueue https Falsegenerate pdf not has html certificates enabled course key course return xqueue cert student course key course course forced grade forced grade template file template file generate pdf generate pdf 
def get enrollments user id return  data api .get course enrollments user id 
def connect to region region name **kw params for region in regions if region region name return region **kw params return None 
@fixturedef io loop loop ioloop I O Loop loop current return loop 
def pick channels regexp ch names regexp r re regexp return [k for k name in enumerate ch names if r name ]
def get correct indentation diff code filename code buffer String I O code output buffer String I O reindenter reindent Reindenter code buffer reindenter reindenter output buffer reindent output output buffer output buffer if code ! reindent output diff generator difflib diff code True reindent output True fromfile filename tofile filename + ' reindented ' diff tuple map clean diff line for python bug 2142 diff generator diff ''.join diff tuple return diffelse return None 
def create palette light color color palette Q Palette palette Color Q Palette Inactive Q Palette Light saturated light color 50 palette Color Q Palette Inactive Q Palette Midlight saturated light color 90 palette Color Q Palette Inactive Q Palette Button light color palette Color Q Palette Active Q Palette Light saturated color 50 palette Color Q Palette Active Q Palette Midlight saturated color 90 palette Color Q Palette Active Q Palette Button color palette Color Q Palette Button Text Q Color '#515151' return palette 
def cubehelix palette n colors 6 start 0 rot 0.4 gamma 1.0 hue 0.8 light 0.85 dark 0.15 reverse False as cmap False cdict mpl cm gamma start rot hue cmap mpl Linear Segmented Colormap 'cubehelix' cdict x np light dark n colors pal cmap x [ 3].tolist if reverse pal pal -1 ]if as cmap x 256 np light dark 256 if reverse x 256 x 256[ -1 ]pal 256 cmap x 256 cmap mpl Listed Colormap pal 256 return cmapelse return pal 
def get default currency company get default company if company return frappe value u Company company u currency 
def oauth token info from body http body token Nonetoken secret Nonefor pair in http body '&' if pair 'oauth token ' token urllib pair 'oauth token ' ] if pair 'oauth token secret ' token secret urllib pair 'oauth token secret ' ] return token token secret 
def  generate url arg stable url BASE U R Lif stable url + 'stable/'else url + 'devel/'if arg is None return urlelif type arg is str url + 'search.html?'url + urlencode {'q' arg url + '&check keywords yes default try func argfunc name func  name  func module func  module  if not func module 'statsmodels.' return Value Error 'unctionmustbefromstatsmodels url + 'generated/'url + func module + '.' + func name + '.html' except return Value Error 'nputnotunderstood return url 
def extract auth vars request if request M E T A 'HTTP X SENTRY AUTH' '' .startswith 'entry return request M E T A H T T P X SENTRY A U T H request M E T A 'HTTP AUTHORIZATION' '' .startswith 'entry return request M E T A H T T P A U T H O R I Z A T I O N args [ '%s %s' % i for i in request G E T if i 'sentry ' and i ! 'sentry data ]if args return 'entry % ' '.join args return None 
def new Action parent text slot None shortcut None icon None tip None checkable False enabled True a Q Action text parent if icon is not None a Icon new Icon icon if shortcut is not None if isinstance shortcut list tuple a Shortcuts shortcut else a Shortcut shortcut if tip is not None a Tool Tip tip a Status Tip tip if slot is not None a slot if checkable a Checkable True a Enabled enabled return a 
def auto decode data for bom encoding in BOMS if data bom return data bom ].decode encoding for line in data '\n' [ 2] if line 1] '#' and ENCODING R E line encoding ENCODING R E line .groups [0].decode 'ascii' return data encoding return data locale False 
def remove tap module brew path tap failed changed msg False False '' if not a valid tap tap failed Truemsg 'notavalidtap %s' % tap elif already tapped module brew path tap if module mode module json changed True rc out err module command [brew path 'untap' tap if not already tapped module brew path tap changed Truemsg 'successfullyuntapped %s' % tap else failed Truemsg 'failedtountap %s' % tap else msg 'alreadyuntapped %s' % tap return failed changed msg 
def mock streams which both which 'both' stdout which 'stdout' or both stderr which 'stderr' or both def mocked streams decorator func @wraps func def inner wrapper *args **kwargs if both sys String I O fake stdout Carbon Copy cc sys fake stderr Carbon Copy cc sys else fake stdout fake stderr String I O String I O if stdout my stdout sys sys fake stdout if stderr my stderr sys sys fake stderr try func *args **kwargs finally if stdout sys my stdoutif stderr sys my stderrif both del sys inner wrapperreturn mocked streams decorator 
def push mirrors config git dir log logging Logger 'gitosis.mirror.push mirrors repository dir os util Repository Dir config git dir os git dir git name get git name repository dir git dir log "pdating % git name for remote in get mirrors config git name log 'pdating % remote repository git dir remote 
def auth backends request return {u'auth backends get enabled auth backends }
def notify new suggestion unit suggestion user mails []subscriptions Profile new suggestion unit unit user for subscription in subscriptions mails subscription new suggestion unit suggestion unit send mails mails 
def detect config path try proc subprocess Popen ['nginx' '-V'] stderr subprocess P I P E except O S Error error exit 'ccesslogfileorformatwasnotsetandnginxconfigfilecannotbedetected + 'erhapsnginxisnotinyour P A T H stdout stderr proc version output stderr 'utf-8' conf path match re '--conf-path \\S* ' version output if conf path match is not None return conf path match 1 prefix match re '--prefix \\S* ' version output if prefix match is not None return prefix match 1 + '/conf/nginx.conf' return '/etc/nginx/nginx.conf'
def list extractors age limit return sorted filter lambda ie ie suitable age limit gen extractors key lambda ie ie I E N A M E 
def normalize keys upper data return dict key val for key val in data 
def lowstate file refs chunks refs {}for chunk in chunks saltenv 'base'crefs []for state in chunk if state '  env  ' saltenv chunk state 'saltenv' saltenv chunk state '__' continuecrefs salt refs chunk if crefs if saltenv not in refs refs []refs[saltenv].append crefs return refs 
def libvlc video set adjust float p mi option value f  Cfunctions 'libvlc video set adjust float None or  Cfunction 'libvlc video set adjust float 1 1 1 None None Media Player ctypes uint ctypes float return f p mi option value 
def roots sh legendre n mu False x w roots legendre n x x + 1 / 2 w / 2if mu return x w 1.0 else return x w 
def attempt read and call uhandle method **keywds line safe readline uhandle passed not  fails conditions * line **keywds if passed method line else uhandle line return passed 
def cuckoo analysis target options submit job target options def read cuckoo output return Cuckoo Tests .rstrip def is completion line return None ! re 'ask analysis line def is error line if re '.*ERROR Analysisfailed ' line ! None raise Exception 'uckooanalysisfailed line read cuckoo output while not is completion line and not is error line line read cuckoo output return latest analysis results 
def has html certificates enabled course key course None if not settings F E A T U R E S 'CERTIFICATES HTML VIEW' False return Falseif not course if not isinstance course key Course Key try course key Course Key string course key except Invalid Key Error log 'nabletoparsecourse key course key exc info True return Falsetry course Course Overview from id course key except log 'nabletoload Course Overviewobjectforcourse key unicode course key exc info True return course html view enabled if course else False 
def task doctest return {'actions' ['py.test--doctest-modulesnikola/'] 'verbosity' 2}
def boykov kolmogorov G s t capacity 'capacity' residual None value only False cutoff None R boykov kolmogorov impl G s t capacity residual cutoff R 'boykov kolmogorov R
def has plugin permission user plugin type permission type from cms pool import plugin poolplugin class plugin pool plugin plugin type codename get model permission codename plugin class action permission type return user perm codename 
def register vcs handler vcs method def decorate f 'torefin H A N D L E R S vcs not in HANDLERS H A N D L E R S { A N D L E R S freturn freturn decorate 
def render subcommand args if args 'delete' return 'delete' + args subcommand if args in 'wal-prefetch' 'wal-push' 'wal-fetch' return Nonereturn args 
def  check mayavi version min version '4.3.0' if not check version 'mayavi' min version raise Runtime Error 'eedmayavi %s' % min version 
def sanitize filename filename if isinstance filename str unicode filename re u u filename filename re u "<>|?]' u filename filename re u u filename filename filename u return filenamereturn u 
def  parse snapshot description snapshot unix time False ret dict tree Element Tree snapshot X M L Desc for node in tree if node 'name' ret node node 'ime ret not unix time and datetime float node .isoformat '' or float node elif node 'state' ret node 'running' ret snapshot Current 1 return ret 
def rand *shape return backend srand np shape .reshape shape 
def strip Tags s intag [alse chk c if intag intag c ! '>' return Falseelif c '<' intag Truereturn Falsereturn Truereturn ''.join c for c in s if chk c 
def  on property usage prop name stacklevel stacklevel + 1deprecated to new props {'slavename' 'workername'}if prop name in deprecated to new props report Deprecated Worker Name Usage "roperty name use name old name prop name new name deprecated to new props name stacklevel stacklevel 
def  format number is negative intpart fracpart exp spec sign  format sign is negative spec if fracpart or spec fracpart spec point + fracpart if exp ! 0 or spec in ' echar {'E' 'E' 'e' 'e' 'G' 'E' 'g' 'e'}[spec['type']]fracpart + '{0}{1 +}'.format echar exp if spec '%' fracpart + '%'if spec min width spec - len fracpart - len sign else min width 0intpart  insert thousands sep intpart spec min width return  format align sign intpart + fracpart spec 
@ replace If  PY3 passthru @ replace If not  should Enable New Style  ensure Old Class def  old Style cls  ensure Old Class cls  bases cls  bases   + object return type cls  name    bases cls  dict  
def assure check fnc @wraps fnc def  wrapped self check *args **kwargs if not isinstance check Cloud Monitor Check check self check manager check return fnc self check *args **kwargs return  wrapped 
def item category table s3db item categorys3 table be asset True field table be assetfield field Falsefield Truereturn s3 rest controller 'supply' 'item category 
def formstyle foundation form fields *args **kwargs def render row row id label widget comment hidden False if hasattr widget 'element' submit widget 'input'  type 'submit' if submit submit class 'smallprimarybutton'  class 'form-rowrowhide' if hidden else 'form-rowrow' hints DIV render tooltip label comment  class 'inline-tooltip' controls DIV label DIV widget hints  class 'controls'  class 'small-12columns' return DIV controls  class  class  id row id if args row id formlabel fields widget comment argshidden kwargs 'hidden' False return render row row id label widget comment hidden else parent TAG[''] for row id label widget comment in fields parent render row row id label widget comment return parent 
def  generate Metrics Substitutions options token Replacements options Metrics ['.*'] metric List optimize Metric Label  generate Metric Specs options metric List String ' \n'.join metric List metric List String  indent Lines metric List String 2 indent First Line False perm Optimize Setting Str 'minimize "%s"' % optimize Metric Label logged Metrics List As Str '[%s]' % ' '.join [ "'%s'" % ptrn for ptrn in options Metrics token Replacements L O G G E D METRICS'] logged Metrics List As Strtoken Replacements M E T R I C S metric List Stringtoken Replacements P E R M OPTIMIZE SETTING'] perm Optimize Setting Str 
def generate R S A Key bits implementations ['openssl' 'python'] for implementation in implementations if implementation 'openssl' and cryptomath Loaded return Open S S L R S A Key bits elif implementation 'python' return Python R S A Key bits raise Value Error 'oacceptableimplementations 
def  evalf func points derivatives False method 'RK4' ann func ann R ann K R field if method 'uler meth  eulerelse meth  rk4dmf []for j in ann dmf K j red [ - dmf / dmf for i in range a ]y0 func len y0 < a raise Type Error 'ot Enough Initial Conditions x0 func [meth red x0 points y0 a ]for i j in enumerate points ] sol meth red points j sol -1 ] a if not derivatives return [sympify i for i in sol return sympify sol 
@image comparison baseline images [u'tight layout1 def test tight layout1 fig plt ax fig subplot 111 example plot ax fontsize 24 plt layout 
def  readline workaround if not sys 'win32' returntry import readlineexcept Import Error pass 
def reflection matrix point normal normal unit vector normal 3] M numpy 4 M[ 3 3] - 2.0 * numpy normal normal M[ 3 3] 2.0 * numpy point 3] normal * normal return M
def dict to protobuf pb klass or instance values type callable map REVERSE TYPE CALLABLE MAP strict True if isinstance pb klass or instance Message instance pb klass or instanceelse instance pb klass or instance return  dict to protobuf instance values type callable map strict 
def   Load Module path name 'module' try if sys info < 3 import impreturn imp source name path elif sys info < 5 from importlib import Source File Loaderreturn Source File Loader name path .load module else import importlib importlib from file location name path rv importlib from spec spec spec module rv return rvexcept return None 
def do upper s return soft unicode s .upper
def build vocab data counter collections Counter data count pairs sorted counter key lambda x - x x words _ list zip *count pairs word to id dict zip words range len words return word to id 
def blended transform factory x transform y transform if isinstance x transform Affine2 D Base and isinstance y transform Affine2 D Base return Blended Affine2 D x transform y transform return Blended Generic Transform x transform y transform 
def  get params mapper spec allowed keys None if 'output writer not in mapper spec message "utputwriter writersubdictionary allowed keys raise errors Bad Writer Params Error message params mapper spec dict str n v for n v in params else if not isinstance mapper spec 'output writer dict raise errors Bad Writer Params Error 'utputwriterparametersshouldbeadictionary params mapper spec 'output writer params dict str n v for n v in params if allowed keys params diff set params - allowed keys if params diff raise errors Bad Writer Params Error 'nvalidoutput writerparameters %s' % ' '.join params diff return params 
def absent dest username check mode if Strict Version passlib  version   > Strict Version '1.6' ht Htpasswd File dest new False else ht Htpasswd File dest if username not in ht return '%snotpresent' % username False else if not check mode ht username ht return 'emove % username True 
def image shape img if hasattr img 'shape' return img img return img img 
def is Hex Encoded String subject return re ' A Fx Z subject is not None 
def get complete url backend name if not any provider Registry enabled by backend name backend name raise Value Error 'roviderwithbackend % backend name return  get url 'social complete backend name 
def main for service reactor service service Service stop Deferred reactor System Event Trigger 'before' 'shutdown'  chain stop result service stop return stop 
def target def prep r if r if r name 'collection' record r s3db collectiontable id record idtable id record idreturn Trues3 prepreturn s3 rest controller rheader s3db rheader 
def equate Rectangular Dot Y point return Value point return Value 
def test editable list special pks app db admin setup class Model1 db Model def   init   self id None val1 None self idself val1id db Column db String 20 primary key True val1 db Column db String 20 db all view Custom Model View Model1 db column editable list ['val1'] admin view view db Model1 '1-1' 'test1' db Model1 '1-5' 'test2' db client app client rv client '/admin/model1/ajax/update/' data {'list form pk '1-1' 'val1' 'change-success-1'} data rv 'utf-8' ok  'ecordwassuccessfullysaved data rv client '/admin/model1/' data rv 'utf-8' ok  'change-success-1' in data 
def set cuda disabled global cuda available cuda warning is displayedcuda available False 
def  wikify one language pat page title pat 2 if pat 1 page name pat 1 .rstrip '|' else page name page titleif ' ' in page name and not page name 'http' parts page name ' ' 2 if page name page title page title parts "<ahref '%s'>%s</a>" % pageurl page name language page title return link 
def finder for path path result Nonepkgutil importer path loader sys importer cache path finder  finder registry type loader if finder module  dummy modulemodule  file   os path u module  loader   loaderresult finder module return result 
def  verify alphabet sequence letters sequence not letters raise Value Error 'lphabetdoesnotdefineletters for letter in sequence if letter not in letters return Falsereturn True 
def test install wheel with root script data root dir script path / 'root' result script 'install' 'simple.dist 0.1' '--root' root dir '--no-index' '--find-links ' + data links assert Path 'scratch' / 'root' in result created 
def truediv a b return a / b 
def may Contain Text Nodes node try return node Contain Text Nodesexcept Attribute Error passresult Trueif node Type ! 1 result Falseelif node U R I ! NS['SVG'] result Trueelif node Name in ['rect' 'circle' 'ellipse' 'line' 'polygon' 'polyline' 'path' 'image' 'stop'] result Falseelif node Name in ['g' 'ath 'marker' 'mask' 'pattern' 'radient 'radient 'symbol'] result Falsefor child in node Nodes if may Contain Text Nodes child result Truenode Contain Text Nodes resultreturn result 
def track state change entity ids from state None to state None def track state change decorator action 'ecoratortotrackstatechanges state change HASS entity ids functools action HASS from state to state return actionreturn track state change decorator 
def  synthesize stim channel events n samples onset events 0]stim channel np n samples int for onset duration trigger in events stim channel onset + duration ] triggerreturn stim channel 
def ln label label len len label + 2 chunk 70 - label len // 2 out '%s%s%s' % '-' * chunk label '-' * chunk pad 70 - len out if pad > 0 out out + '-' * pad return out 
def  xr to keyset line tkns [elm for elm in line .split ' ' 1 if elm len tkns 1 return "'{0}' ".format tkns else key val tknsreturn "'{0}' '{1}' ".format key val 
def test represent xgate circuit X Gate 0 * Qubit '00' answer represent circuit nqubits 2 assert Matrix [0 1 0 0] answer 
def format code entry code ''for line in entry '\n' code + ' % line return code 
def  prog shell cmd if not util exists shell cmd plug util surgery shell cmd if not util exists shell cmd return Nonereturn os shell cmd 
def display options options settings table []for idx opt in enumerate options tmp []tmp.append idx + 1 tmp options tmp options Str tmp options tmp options table tmp if len table > 0 config [settings] + table else Msg ' DCTB Modulehasnooptions print color B YELLOW + '0' + color B GREEN + ' ' + color B WHITE + 'ack + color E N D return table 
def load Meshes filename ext os filename [1].lower if ext '.stl' return stl Scene filename if ext '.obj' return obj Scene filename if ext '.dae' return dae Scene filename if ext '.amf' return amf Scene filename print 'rror Unknownmodelextension %s' % ext return []
def get exps unresolved answers for default rule exp ids def  get explorations states tuples by ids exp ids "eturnsalistofall exp id state name tuplesforthegiven ids E 'eid1' 'ntroduction \n 'eid1' 'nd \n 'eid2' 'ntroduction \n 'eid3' 'ntroduction \n]\nwhenexp ids ['eid1' 'eid2' 'eid3'].\n"explorations exp services multiple explorations by id exp ids strict False return [ exploration state name for exploration in explorations for state name in exploration states tuples  get explorations states tuples by ids exp ids exploration states answers list get top state rule answers multi explorations states tuples [exp domain D E F A U L T RULESPEC STR] exps answers mapping {}for ind statewise answers in enumerate exploration states answers list exp id explorations states tuples exp id not in exps answers mapping exps answers mapping id {'count' 0 'unresolved answers []}for answer in statewise answers exps answers mapping id + answer explorations states tuples answers mapping id answers statewise answers for exp id in exps answers mapping exps answers mapping id answers sorted exps answers mapping id answers key lambda a a reverse True return exps answers mapping 
def generate test cases for p in sickbeard  all   provider sickbeard Provider Module p .providerif provider backlog and provider type u and provider generated class type str provider Base Parser Test Case {u'provider' provider globals [generated class  name  ] generated classdel generated class 
def make union *transformers **kwargs n jobs kwargs 'n jobs 1 if kwargs raise Type Error 'nknownkeywordarguments "{}"'.format list kwargs [0] return Feature Union  name estimators transformers n jobs n jobs 
def get theme path theme return theme 
def test merge duplicate keys merge log err packages {'pack 1' {'input select {'ib1' None {config util C O N F CORE {config util C O N F PACKAGES packages 'input select {'ib1' None util packages config config packages assert merge log err count 1 assert len config 2 assert len config select 1
def attach userstory statuses queryset as field 'userstory statuses attr model queryset ' E L E C Tjson agg \nrow to json projects userstorystatus \ R D E R B Yprojects userstorystatus \ R O Mprojects userstorystatus W H E R Eprojects userstorystatus id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def c moves n client return 'north'
def foo pass 
def is not a b return a is not b 
def recursively remove key obj key to remove if isinstance obj list for item in obj recursively remove key item key to remove elif isinstance obj dict if key to remove in obj del obj to remove key unused value in obj recursively remove key obj key to remove 
def  exit status retcode ret {0 'uccessfulcompletion 1 'nerroroccurred 2 'sageerror ret 
def  init externals if   version   'git' sys 0 osp osp   file   'ext' 'gitdb' try import gitdbexcept Import Error raise Import Error " Y T H O N P A T H 
def test api create invalid membership no email no user client user f User Factory role f Role Factory client role url reverse 'memberships-list' data {'role' role 'project' role client url json data assert response code 400 response user 0
def compare region length r1 r2 r1 r1 r2 r2 s1 r1 - r1 s2 r2 - r2 return int s2 - s1 
def check stats permission request addon for contributions False if addon stats and not for contributions returnif not request authenticated raise Permission Deniedif not for contributions if addon author request or acl allowed request 'tats 'iew returnelif addon author request or acl allowed request 'evenue Stats 'iew returnraise Permission Denied 
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def is unedited config file content template content None content content u content re '\njquery url \\s*[^\n]+' '' content buffer io Bytes I O content buffer 0 raw cfg configobj Config Obj buffer interpolation True for v in six raw cfg if len v breakelse return Trueknown configs set [u'7d4b4f1120304b286d71f205975b1286' u u u md5 hashlib md5 content digest md5 return digest in known configs 
def create task **kwargs owner kwargs 'owner' None if not owner owner User Factory project kwargs 'project' None if project is None project Project Factory owner owner defaults {'project' project 'owner' owner 'status' Task Status Factory project project 'milestone' Milestone Factory project project 'user story User Story Factory project project owner owner }defaults.update kwargs return Task Factory **defaults
def num To String num num Digits if not isinstance num int return -1 'adnumber str Num str num if num Digits < len str Num return -1 'addigitnumber for i in range num Digits - len str Num str Num '0' + str Num return 0 str Num 
def get qiime project dir current file path abspath   file   current dir path dirname current file path return dirname current dir path 
def versioned hmac secret body global version GLOBAL TOKEN VERSION assert global version < GLOBAL TOKEN VERSION "nvalidversionsigningversion % global version return hmac secret body hashlib .hexdigest
def parse request uri uri if uri '*' return None None uri i uri ' //' if i > 0 and '?' not in uri i scheme remainder uri i uri i + 3 ] authority path remainder '/' [ 2]path '/' + path return scheme authority path if uri '/' return None None uri else return None uri None 
def get change summary model1 model2 changes get changes between models model1 model2 ['search text change descriptions []for field delta in changes change descriptions _ "% field schangedfrom old value s new value s % {'field' field 'old value delta 'new value delta return '\n'.join change descriptions 
def calibration prob outcome n bins 10 prob np prob outcome np outcome c 0.0judgement bins np n bins + 1 / n bins bin num np prob judgement bins for j bin in np bin num in bin bin num j bin predicted prob np prob bin true bin prob np outcome bin c + np in bin * predicted prob - true bin prob ** 2 return c / len prob 
def align down alignment x a alignmentreturn x // a * a 
def decipher kid rsa msg key n d keyreturn msg * d % n 
def render icon icon **kwargs attrs {u'class' add css class u icon icon kwargs u classes u }title kwargs u if title attrs titlereturn render tag u attrs attrs 
def exec command stdout *command args **kwargs encoding kwargs 'encoding' None kwargs newlines encoding is None stdout subprocess output command args **kwargs return stdout if encoding is None else stdout encoding 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def get spontaneous environment *args try env  spontaneous environments args except Type Error return Environment *args if env is not None return env spontaneous environments env Environment *args env Truereturn env 
def inv a try return np a except linalg Lin Alg Error return np a 
def test import raises nt raises Import Error import item ' Python 
def salt call import salt '' in sys sys '' client salt Salt Call  install signal handlers client client 
def get Unified Output outputs if len outputs < 1 return {'trianglemesh' {'vertex' [] 'face' []}}if len outputs < 2 return outputs {'union' {'shapes' outputs 
@egister With Arg Checks name 'neighbor.out filter req args [ P ADDRESS] def get neighbor out filter neigh ip address core CORE M A N A G E R core service ret core manager by addr neigh ip address .out filtersreturn ret 
def get exponential symbol locale LC NUMERIC return Locale locale .number symbols 'exponential' u E 
def convert in file in format out file out format in kwargs None out kwargs None if in kwargs is None in kwargs {}if out kwargs is None out kwargs {}qresults parse in file in format **in kwargs return write qresults out file out format **out kwargs 
@docfillerdef mat reader factory file name appendmat True **kwargs byte stream  open file file name appendmat mjv mnv get matfile version byte stream if mjv 0 return Mat File4 Reader byte stream **kwargs elif mjv 1 return Mat File5 Reader byte stream **kwargs elif mjv 2 raise Not Implemented Error 'leaseuse H D Freaderformatlabv7 else raise Type Error 'idnotrecognizeversion % mjv 
def get hwclock seconds utc True cmd '/sbin/hwclock--debug'if utc cmd + '--utc'hwclock output utils output cmd ignore status True match re ' [0-9]+ secondssince -?[0-9.]+ seconds hwclock output re D O T A L L if match seconds int match 1 + float match 2 logging 'hwclockseconds %f' % seconds return secondsraise Value Error 'nabletoreadthehardwareclock + hwclock output 
def ec2 vol id to uuid ec2 id ctxt context admin context int id ec2 id to id ec2 id return get volume uuid from int id ctxt int id 
def image from data data if isinstance data Q Image return datai Q Image if not i From Data data raise Not Image u Notavalidimage return i 
def get repository dir name if name 'spinnaker' return os os os   file   '..' else return name 
def is Inline begin Complex center Complex end Complex center Begin Complex begin Complex - center Complex center End Complex end Complex - center Complex center Begin Length abs center Begin Complex center End Length abs center End Complex if center Begin Length < 0.0 or center End Length < 0.0 return Falsecenter Begin Complex / center Begin Lengthcenter End Complex / center End Lengthreturn euclidean Dot Product center Begin Complex center End Complex < -0.999
def test logo logo data assert equal logo 3 assert equal logo 4
def q Uri s return resolve uri s namespaces NAMESPACES xml style True 
def add or update enrollment attr user id course id attributes for attribute in attributes  ENROLLMENT A T T R I B U T E S {'namespace' attribute 'name' attribute 'value' attribute 
def laguerre n monic False if n < 0 raise Value Error 'nmustbenonnegative.' if n 0 n1 n + 1 else n1 n x w mu0 roots laguerre n1 mu True if n 0 x w [] [] hn 1.0kn -1 ** n /  gam n + 1 p orthopoly1d x w hn kn lambda x exp - x 0 inf monic lambda x eval laguerre n x return p 
def wait for master topology def get master try return topology server writable server selector 0 except Connection Failure return Nonereturn wait until get master 'findmaster'
def open cover tilt hass entity id None data {ATTR ENTITY ID entity id if entity id else None hass DOMAIN SERVICE OPEN COVER TILT data 
def build name registry xml parent data bsetter X M L Sub Element xml parent 'uild Name Setter X M L Sub Element bsetter 'template' .text data 
def gen arg type fn mod fn fn [eta Data String mod str a for a in fnty lc Meta Data String mod 'kernel arg type return lc Meta Data mod [name] + consts 
def invalidate generated certificates course id enrolled students certificate statuses certificates Generated Certificate user  in enrolled students course id course id status  in certificate statuses certificates status Certificate Statuses verify uuid '' download uuid '' download url '' grade ''
def get spec tests spec test dir print 'pystache spectests using %  get parser info cases []spec test dir os spec test dir spec paths glob os spec test dir '*.%s' % file extension for path in spec paths new cases  read spec tests path cases new cases spec test count len cases class Check Spec Tests Found unittest Test Case def run Test self if spec test count > 0 returnraise Exception 'pectestsnotfound Consultthe R E A D M Efileonhowtoaddthe Mustachespectests % repr spec test dir case Check Spec Tests Found cases case return cases 
def  clear plugins global plugin storeplugin store {'imread' [] 'imsave' [] 'imshow' [] 'imread collection [] 'imshow collection [] ' app show []}
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def get rendition upload to instance filename return instance upload to filename 
def Dispatch dispatch user Name None result C L S I D None typeinfo None Unicode To String None clsctx pythoncom C L S C T X SERVER assert Unicode To String is None 'thisisdeprecatedandwillgoaway' dispatch user Name dynamic Get Good Dispatch And User Name dispatch user Name clsctx return   Wrap Dispatch dispatch user Name result C L S I D typeinfo clsctx clsctx 
@command 'mv\\s* %s\\s+%s ' % WORD WORD def playlist rename playlists  a b '' playlists .split '' while a not in g a a + '' + b 0 .strip if not b and a not in g g util F 'noplmatchforrename' g g or content display returnb '-'.join b g Playlist b g list g playlist remove a g util F 'plrenamed' % a b playlists 
def write conditional formatting worksheet wb worksheet range string rules in iteritems worksheet formatting rules cf Element 'ormatting {'sqref' range string for rule in rules if rule is not None if rule ! Differential Style rule Id len wb differential styles wb differential styles rule cf rule tree yield cf 
@dual decoratordef enforce ids param position 1 @decoratordef wrapper function *args **kw if not isinstance args list tuple or not all [isinstance e basestring for e in args raise Value Error u Invalidparamtypeinposition didyoupassdictionaries ' % position return function *args **kw return wrapper 
def load class by alias or classname namespace name if not name L O G  LE 'liasorclassnameisnotset raise Import Error _ 'lassnotfound try mgr  Silent Driver Manager namespace name class to load mgr Runtime Error e1 info sys info try class to load importutils class name except Import Error Value Error L O G  LE 'rrorloadingclassbyalias exc info e1 info L O G  LE 'rrorloadingclassbyclassname exc info True raise Import Error _ 'lassnotfound return class to load 
def maximum flow G s t capacity 'capacity' flow func None **kwargs if flow func is None if kwargs raise nx Network X Error 'ouhavetoexplicitlysetaflow funcifyouneedtopassparametersviakwargs flow func default flow funcif not callable flow func raise nx Network X Error 'flow funchastobecallable R flow func G s t capacity capacity value only False **kwargs flow dict build flow dict G R return R value flow dict 
def boxcox x lmbda None alpha None x np x if x 0 return xif any x < 0 raise Value Error 'atamustbepositive if lmbda is not None return special x lmbda lmax boxcox normmax x method 'mle' y boxcox x lmax if alpha is None return y lmax else interval  boxcox conf interval x lmax alpha return y lmax interval 
def secgroup allocate call None kwargs None if call ! 'function' raise Salt Cloud System Exit 'hesecgroup allocatefunctionmustbecalledwith if kwargs is None kwargs {}path kwargs 'path' None data kwargs 'data' None if data if path log "oththe elif path data salt path mode 'r' .read else raise Salt Cloud System Exit "hesecgroup allocatefunctionrequireseither server user password  get xml rpc auth ' '.join [user password response server auth data ret {'action' 'secgroup.allocate' 'allocated' response 'secgroup id response 'error code response ret 
def add level messages storage storage constants I N F O 'genericinfomessage storage 29 'omecustomlevel storage constants D E B U G 'debuggingmessage extra tags 'extra-tag' storage constants W A R N I N G 'warning storage constants E R R O R 'nerror storage constants S U C C E S S 'hiswasatriumph 
def encode entrance exam and student input usage key student None assert isinstance usage key Usage Key if student is not None task input {'entrance exam url unicode usage key 'student' student key stub '{student} {entranceexam}'.format student student entranceexam unicode usage key else task input {'entrance exam url unicode usage key }task key stub ' {entranceexam}'.format entranceexam unicode usage key task key hashlib task key stub .hexdigest return task input task key 
def is Unsaved Path path tag 'nsaved len tag if path tag and len path length or path in '\\/' return Trueelse return False 
def create figure fig Figure a fig subplot 111 t np 0.0 3.0 0.01 s np 2 * np * t a t s return fig 
def  declare function context builder name sig cargs mangler mangle c mod builder sig type types llretty lc Type else llretty context value type sig type llargs [context.get value type t for t in sig Type llretty llargs mangled mangler name cargs fn mod or insert function fnty mangled fn convention target C C SPIR F U N Creturn fn 
@step 'seetheresultwithwordscount def see result  step strong css '.your wordsstrong text set [world.css text strong css i for i in range 2 ] assert set ['text1' 'text2'] target text 
def get Carving file Name return get From G N U Triangulated Surface Text archive File Text file Name trianglemesh Triangle Mesh 
def fuse selections dsk head1 head2 merge dsk2 dict for k v in dsk try if istask v and v head1 and v in dsk and istask dsk and dsk head2 dsk2 merge v dsk else dsk2 vexcept Type Error dsk2 vreturn dsk2 
@register u def beginning of history event event buffer to history 0
def create diff object a object b changes  create diffs for pvector [] object a object b return Diff changes changes 
def  format jid local None domain None resource None result []if local result local result u if domain result domain if resource result u result resource return u result 
def init logging options log file options basename + '.log' log dir options dir config {'version' 1 'disable existing loggers True 'formatters' {'timestamped' {'format' '% asctime s message s 'datefmt' '%H %M %S'}} 'handlers' {'console' {'level' 'WARNING' 'class' 'tream Handler 'formatter' 'timestamped'} 'file' {'level' 'DEBUG' 'class' 'ile Handler 'formatter' 'timestamped' 'filename' os log dir log file 'mode' 'w'}} 'loggers' {'' {'level' 'DEBUG' 'handlers' ['console' 'onfig log config 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
def find selection text return  setup text .find selection text 
def get global Lock ratio name try result get rate NAME PREFIX + 'ock lock Time / get rate NAME PREFIX + 'ock total Time * 100 except Zero Division Error result 0return result 
def lang istrusted cursor lang query " E L E C Tlanpltrusted F R O Mpg language W H E R Elanname '%s'" % lang cursor query return cursor [0]
def test gemini v1 2 table parse single table get pkg data filename u assert table is not None 
def import object ns name space import str *args **kwargs import value '%s.%s' % name space import str try return import class import value *args **kwargs except Import Error return import class import str *args **kwargs
def train mlp train os pylearn2  path  [0] 'train extensions monitor test 
def test ee fit ratio 'auto'ee Easy Ensemble ratio ratio random state RND SEED ee X Y assert equal ee c  0 assert equal ee c  1 assert equal ee c [0] 2 assert equal ee c [2] 3 assert equal ee c [1] 5
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def set bot update args job queue chat data chat id update idtry due int args if due < 0 update text 'orrywecannotgobacktofuture returnjob Job alarm due repeat False context chat id chat data jobjob queue job update text 'imersuccessfullyset except Index Error Value Error update text 'sage /set<seconds>'
def default billship handler request order form if not request u shipping settings cache set shipping request _ u Flatrateshipping settings S H O P DEFAULT SHIPPING VALUE
def assert not almost equal first second places 7 msg None values True if round second - first places 0 extra 'within%rplaces' % places  report inequality failure first second msg values ' ' extra 
def current Time Millis return time * 1000
def  make Usage Error Str error String usage String return 'ERROR %s %s ' % error String usage String 
def log buffer lines return logs buffer .lines
def buffer to bytes buf if not isinstance buf bytes buf bytes buf return buf 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def no real wabs credentials if parse boolean envvar os 'WALE WABS INTEGRATION TESTS' is not True return Truefor e var in 'WABS ACCOUNT NAME' 'WABS ACCESS KEY' if os e var is None return Truereturn False 
def make hotp secret counter key base64 secret counter encoded struct '>q' counter hmac result hmac H M A C key counter encoded hashlib .digest offset ord hmac result -1 ] & 15 truncated hash hmac result offset + 4 ] code bits struct '>L' truncated hash htop code bits & 2147483647 % 1000000 return '%06d' % htop 
def default credentials if HAS GOOGLE AUTH credentials _ google return credentialselif HAS OAUTH2CLIENT return oauth2client Google Credentials application default else raise Environment Error 'oauthenticationlibraryisavailable Pleaseinstalleithergoogle 
def sort version list version list reverse version list reverse reverse key lambda s Strict Version s return version list 
def Json Dump For Script Context dump object js state json json dump object return js state json '<' '\\\\x3c' .replace '>' '\\\\x3e'
def collect list option opt str value parser assert value is None value []for arg in parser if arg 1] '-' breakvalue arg del parser len value ]setattr parser option value 
def validate host host allowed hosts for pattern in allowed hosts pattern pattern match pattern u or pattern u and host pattern or host pattern ] or pattern host if match return Truereturn False 
def set gc state state if gc state returnif state gc else gc 
def Parse Rate rate if rate '0' return 0.0elements rate '/' if len elements ! 2 raise Malformed Queue Configuration 'ate % rate number unit elementstry number float number except Value Error raise Malformed Queue Configuration 'ate "%s"isnotanumber.' % rate number if unit not in 'smhd' raise Malformed Queue Configuration 'ate "%s"isnotoneofs m h d % rate unit if unit 's' return numberif unit 'm' return number / 60 if unit 'h' return number / 60 * 60 if unit 'd' return number / 24 * 60 * 60
def get file filename return os TEST DIR filename 
def Create C Make Target Base Name qualified target _ gyp target name gyp target toolset gyp Parse Qualified Target qualified target cmake target base name gyp target nameif gyp target toolset and gyp target toolset ! 'target' cmake target base name + '_' + gyp target toolset return String To C Make Target Name cmake target base name 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def print Progress By Number layer Index number Of Layers procedure Name print Progress By String '%slayercount%sof%s...' % procedure Name layer Index + 1 number Of Layers 
def  unpack keydata parts []while keydata dlen struct '>I' keydata 4] [0] data keydata keydata dlen + 4 ] keydata 4 + dlen ] parts data return parts 
def create pairs x digit indices pairs []labels []n min [len digit indices for d in range 10 ] - 1 for d in range 10 for i in range n z1 z2 digit indices digit indices i + 1 ] pairs + [[x[z1] x random 1 10 dn d + inc % 10 z1 z2 digit indices digit indices pairs + [[x[z1] x + [1 0]return np pairs np labels 
@frappe.whitelist def get html and style doc name None print format None meta None no letterhead None trigger print False if isinstance doc basestring and isinstance name basestring doc frappe doc doc name if isinstance doc basestring doc frappe doc json doc print format get print format doc print format meta meta or frappe meta doc return {u'html' get html doc name name print format print format meta meta no letterhead no letterhead trigger print trigger print u get print style print format print format }
def remove feature feature remove payload False image None restart False cmd ['DISM' 'uiet 'mage {0}'.format image if image else 'nline 'isable Feature 'eature Name {0}'.format feature ]if remove payload cmd 'emove if not restart cmd 'o Restart return   salt  ['cmd.run all cmd 
def fail when undefined value if isinstance value jinja2 Undefined value return value 
def get ifname by pci address pci addr pf interface False dev path  get sysfs netdev path pci addr pf interface try dev info os dev path return dev info except Exception raise exception Pci Device Not Found By Id id pci addr 
def  trim front strings trimmed stringswhile len strings > 0 and all [ x '' for x in trimmed trimmed [x[1 ] for x in trimmed trimmed 
def S ISDIR mode return S IFMT mode S IFDIR
@deprecateddef script resolve name script name name if not name return roslib ros namespace if roslib global name return nameelif roslib private name return ns join roslib caller id script name name ] return roslib ros namespace + name 
def make identifier name if isinstance name bytes identifier name 'utf-8' else identifier nameidentifier identifier identifier identifier u u identifier re u \xe2\x80\x93]+' u identifier identifier re u ]" u identifier identifier identifier u u if identifier 'route-' identifier 'kalos-' + identifier if not identifier u u .isalnum raise Value Error identifier return identifier 
def project hazard help fields options table current hazardkeys dict options .keys rows current table keys .select table table T current Ttranslated lambda string T string if string else '' tooltips {}for row in rows tooltips translated row return tooltips 
def get fallback locale doc request translated locales doc list 'locale' flat True .exclude current revision None accept header request M E T A 'HTTP ACCEPT LANGUAGE' or '' header locales parse accept lang header accept header all accepted locales []all accepted locales request L A N G U A G E CODE all accepted locales header locales for locale in all accepted locales if locale settings W I K I DEFAULT LANGUAGE return Noneelif locale in translated locales return localeelif settings N O N SUPPORTED L O C A L E S locale in translated locales return settings N O N SUPPORTED L O C A L E S fallback in FALLBACK L O C A L E S locale [] if fallback in translated locales return fallbackreturn None 
def  set qresult hits qresult hit rows for hit row in hit rows hit id remainder hit row '' 1 if hit id not in qresult frag H S P Fragment hit id qresult hsp HSP [frag] hit Hit [hsp] qresult hit return qresult 
def get Profile Name name repository if repository Profile Directory None return namereturn os repository Profile Directory name 
def condense multidimensional zeros css css css ' 0000;' ' 0;' css css ' 000;' ' 0;' css css ' 00;' ' 0;' css css 'background-position 0;' 'background-position 00;' return css 
def detectencoding unicode input final False prefix '@charset"'if input prefix pos input '"' len prefix if pos > 0 return input prefix pos True elif final or not prefix input return 'utf-8' False return None False 
def light palette color n colors 6 reverse False as cmap False input 'rgb' color  color to rgb color input light set hls values color l 0.95 colors [color light if reverse else [light color return blend palette colors n colors as cmap 
def parallel targets threads []for target in targets if isinstance target tuple or isinstance target list t Interrupted Thread *target else t Interrupted Thread target threads t t return [t.join for t in threads 
def  apply functions tokens local dict global dict result []symbol Nonefor tok in tokens if tok NAME symbol tokresult tok elif isinstance tok Parenthesis Group if symbol and  token callable symbol local dict global dict result -1 ] Applied Function symbol tok symbol Noneelse result tok else symbol Noneresult tok return result 
def  get objects obj type lst objs Fake Retrieve Result for key in  db content type lst objs object  db content type return lst objs 
def collection exists collection name **kwargs if not isinstance collection name six types raise Value Error 'ollectionnamemustbeastring return collection name in collection list **kwargs
def signin failure request message template name 'authopenid/signin.html' redirect field name REDIRECT FIELD NAME openid form Openid Signin Form auth form Authentication Form extra context None **kwargs return render template name {'msg' message 'form1' openid form 'form2' auth form redirect field name request R E Q U E S T redirect field name '' } context instance  build context request extra context 
def prelu x W return P Re L U Function x W
def get matching for product shop product provide category skippable classes None collected set matcher Product Campaign Matcher shop product for item in get provide objects provide category if skippable classes objects item meta instance of *skippable classes .all else objects item meta for obj in objects if matcher obj collected obj return collected 
def set hls values color h None l None s None rgb mplcol Converter rgb color vals list colorsys to hls *rgb for i val in enumerate [h l s if val is not None vals valrgb colorsys to rgb *vals return rgb 
def  Fix Path path if fixpath prefix and path and not os path and not path '$' path os fixpath prefix path path path '/' '\\' path  Normalized Source path if path and path -1 ] '\\' path path -1 ]return path 
def use metaclass meta *bases if not bases bases object return meta 'ack Class bases {}
def get absolute url path return u //testserver/{}'.format path u 
def save cover data to data path bgcolor '#ffffff' resize to None return data False compression quality 90 minify to None grayscale False fmt os path [1]if return data path Noneif isinstance data Image data data  save cover data to data path bgcolor bgcolor resize to resize to compression quality compression quality minify to minify to grayscale grayscale data fmt fmt 
@click.command 'set-nginx-port' @click.argument 'site' @click.argument 'port' type int def set nginx port site port from bench config import set nginx portset nginx port site port 
@ docstring 'artists' browse True def browse artists recording None release None release group None includes [] limit None offset None valid includes VALID BROWSE I N C L U D E S {'recording' recording 'release' release 'release-group' release group  browse impl 'artist' includes valid includes limit offset params 
def directory path use sudo False owner '' group '' mode '' func use sudo and run as root or run if not is dir path func 'mkdir-p"% path s % locals if owner and  owner path use sudo ! owner or group and  group path use sudo ! group func 'chown% owner s % group s path s % locals if mode and  mode path use sudo ! mode func 'chmod% mode s path s % locals 
def index hydrate params container cli type key value if 'ndex Field not in params params Index Field {}if 'ndex Field Type not in params Index Field raise Runtime Error 'oumustpassthe  type params Index Field Index Field Type type ''.join [i.capitalize for i in  type '-' ] if  type 'atlon  type 'at Lon key SEP [ -1 ] 'efault Value value DEFAULT VALUE TYPE M A P  type lambda x x value if  type + 'ptions not in params Index Field params Index Field  type + 'ptions ] {ndex Field  type + 'ptions ][key.split SEP [ -1 ]] value 
def  Scrub Post Comment op args  Scrub For Class Comment op args 
def make Setup **args distutils setup stop after 'commandline'args.setdefault 'script args ['install'] try return setuptools **args finally distutils setup stop after None 
def get mor by property service instance object type property value property name 'name' container ref None object list get mors with properties service instance object type property list [property name container ref container ref for obj in object list obj id str obj 'object' '' .strip '\'"' if obj name property value or property value obj id return obj None 
def destroy instance id call None if call 'function' raise Salt Cloud System Exit 'hedestroyactionmustbecalledwith --destroy -aor--action.' instance data show instance instance id call 'action' name instance data name  utils  ['cloud.fire event 'event' 'destroyinginstance' 'salt/cloud/{0}/destroying'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] params {'action' 'erminate Instances 'zone'  get specified zone provider get configured provider 'instances.1' instance id query params   utils  ['cloud.fire event 'event' 'destroyedinstance' 'salt/cloud/{0}/destroyed'.format name args {'name' name sock dir   opts  ['sock dir transport   opts  ['transport'] return result 
def  get app revision environ None if environ is None environ os 'CURRENT VERSION ID' in environ return environ C U R R E N T VERSION I D '.' [1]
def phabricator registry xml parent data root X M L Sub Element xml parent 'habricator Notifier if 'comment-on-success' in data X M L Sub Element root 'n Success .text str data 'comment-on-success' .lower if 'uberalls-enabled' in data X M L Sub Element root 'nabled .text str data 'uberalls-enabled' .lower if 'comment-file' in data X M L Sub Element root 'ile .text data 'comment-file' if 'comment-size' in data X M L Sub Element root 'ize .text str data 'comment-size' if 'comment-with-console-link-on-failure' in data X M L Sub Element root 'ith Console Link On Failure .text str data 'comment-with-console-link-on-failure' .lower
def fnmatchcase name pat try re pat  cache Key Error res translate pat if len  cache >  MAXCACHE  cache  cache re pat re res return re pat name is not None 
def read element unicode stream size return  read stream size .decode 'utf-8'
def radius neighbors graph X radius mode 'connectivity' metric 'minkowski' p 2 metric params None include self False n jobs 1 if not isinstance X Radius Neighbors Mixin X Nearest Neighbors radius radius metric metric p p metric params metric params n jobs n jobs .fit X else  check params X metric p metric params query  query include self X include self return X neighbors graph query radius mode 
def vrrp list app instance name None list request vrrp event Event V R R P List Request instance name list request vrrp event V R R P MANAGER N A M Ereturn app request list request 
def  compute phasediff cross correlation max return np cross correlation max cross correlation max 
def Wrap Enum ob result C L S I D None if type ob ! pythoncom Type I I Ds I I D I Enum V A R I A N T ob ob Query Interface pythoncom I I D I Enum V A R I A N T return Enum V A R I A N T ob result C L S I D 
def get Window Analyze File Given Text file Name gcode Text repository None if gcode Text '' return Noneif repository None repository settings Read Repository Skeinlayer Repository skein Window get Window Given Text Repository file Name gcode Text repository skein Window Deiconify return skein Window 
@require G E T valid course keydef get course lti endpoints request course id course key Slash Separated Course Key deprecated string course id try course get course course key depth 2 except Value Error return Http Response status 404 anonymous user Anonymous User anonymous user Falselti descriptors modulestore .get items course qualifiers {'category' 'lti'} lti noauth modules [get module for descriptor anonymous user request descriptor Field Data Cache for descriptor descendents course key anonymous user descriptor course key course course for descriptor in lti descriptors [{'display name module name 'lti 2 0 result service json endpoint module outcome service url service name 'lti 2 0 result rest handler + '/user/{anon user id 'lti 1 1 result service xml endpoint module outcome service url service name 'grade handler } for module in lti noauth modules Http Response json endpoints content type 'application/json'
def save model model file name model liblinear model model file name model 
def sos2zpk sos sos np sos n sections sos np n sections * 2 np p np n sections * 2 np k 1.0for section in range n sections zpk tf2zpk sos 3] sos 3 ] z 2 * section 2 * section + 1 ] zpk 2 * section 2 * section + 1 ] zpk * zpk z p k 
def htmlify validation validation for msg in validation msg linkify escape msg for key in 'description' 'signing help if key in msg if not isinstance msg list tuple msg [msg[key]]msg[key] [linkify escape text for text in msg 
def is str string return isinstance string base 
def init params bi options params Ordered Dict params Wemb norm weight options words src options word params get layer options [0] options params prefix 'encoder' nin options word dim options params get layer options [0] options params prefix 'encoder r nin options word dim options return params 
def resolve transport transport None if isinstance transport string t try transport TRANSPORT A L I A S E S Key Error if u not in transport and u ' not in transport from kombu import fmatch bestalt fmatch best transport TRANSPORT ALIASES if alt raise Key Error u Nosuchtransport {idyoumean transport alt raise Key Error u Nosuchtransport {0}'.format transport else if callable transport transport transport return symbol by name transport return transport 
def  binary replace old new old isbin not salt old new isbin not salt new if any old isbin new isbin if all old isbin new isbin return 'eplacebinaryfile old isbin return 'eplacebinaryfilewithtextfile new isbin return 'eplacetextfilewithbinaryfile ''
def Internaldate2epoch resp from calendar import timegmmo Internal Date resp if not mo return Nonemon Mon2num 'mon' ]zonen mo 'zonen' day int mo 'day' year int mo 'year' hour int mo 'hour' min int mo 'min' sec int mo 'sec' zoneh int mo 'zoneh' zonem int mo 'zonem' zone zoneh * 60 + zonem * 60 if zonen '-' zone - zone tt year mon day hour min sec -1 -1 -1 return timegm tt - zone 
def  check image id image id if image id and len image id > models Image raise exception Image Not Found 
def backward induction ddp T v term None n ddp statesvs np T + 1 n sigmas np T n dtype int if v term is None v term np n vs T ] v termfor t in range T 0 -1 ddp operator vs ] Tv vs t - 1 ] sigma sigmas t - 1 ] return vs sigmas 
def prefixes seq n len seq for i in range n yield seq i + 1 ]
def get flag var fallback expected True warn True val get config var var if val is None if warn logger "onfigvariable Python A B Itagmaybeincorrect var return fallback return val expected 
@ratelimit @requires auth 'item' @pre eventdef put resource payload None **lookup return put internal resource payload concurrency check True skip validation False **lookup
def symrand dim or eigv if isinstance dim or eigv int dim dim or eigvd random dim * 2 - 1 elif isinstance dim or eigv ndarray and len dim or eigv 1 dim dim or eigv dim or eigvelse raise Type Error 'inputtypenotsupported.' v random rot dim h dot dot v T diag d v h 0.5 * h T + h return h 
def function absent name Function Name region None key None keyid None profile None ret {'name' Function Name 'result' True 'comment' '' 'changes' {}}r   salt  ['boto lambda exists Function Name region region key key keyid keyid profile profile if 'error' in r ret Falseret 'ailedtodeletefunction {0}.'.format r return retif r and not r ret 'unction Function Name return retif   opts  ['test'] ret 'unction Function Name ret Nonereturn retr   salt  ['boto lambda function Function Name region region key key keyid keyid profile profile if not r ret Falseret 'ailedtodeletefunction {0}.'.format r return retret {'function' Function Name {'function' None 'unction Function Name return ret 
def mask email ref pepno None if ref 'refuri' and ref 'mailto ' if ref ] in non masked addresses replacement ref replacement text ref .replace '@' '&#32;&#97;t&#32;' replacement nodes '' replacement text format 'html' if pepno is None return replacementelse ref + '?subject P E P % pepno ref ] [replacement]return refelse return ref 
def convert type ty default None guessed type Falseif ty is None and default is not None if isinstance default tuple ty tuple map type default else ty type default guessed type Trueif isinstance ty tuple return Tuple ty if isinstance ty Param Type return tyif ty is text type or ty is str or ty is None return S T R I N Gif ty is int return I N Tif ty is bool and not guessed type return B O O Lif ty is float return F L O A Tif guessed type return S T R I N Gif   debug   try if issubclass ty Param Type raise Assertion Error 'ttemptedtouseanuninstantiatedparametertype %s .' % ty except Type Error passreturn Func Param Type ty 
def Shutdown dev process Global Process if not dev process Is Master returnif os 'nt' import ctypesfor child in dev process Children logging 'windowskill' + str child ctypes Terminate Process int child handle -1 else Posix Shutdown dev process api server Quit 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def unbuckle Basis basis maximum Unbuckling normal normal Dot basis normal dot Complement math 1.0 - normal Dot * normal Dot unbuckling maximum Unbucklingif dot Complement > 0.0 unbuckling min 1.0 / dot Complement maximum Unbuckling basis To Vector3 basis * unbuckling 
def keep query *keep params **additional params if not keep params and not additional params keep params '*' params additional params qs keys request for keep param in keep params for param in fnmatch qs keys keep param if param not in additional params and param in qs keys params request param return werkzeug encode params 
def auto threaded interface reactor sync threadpool return interface decorator 'auto threaded interface  threaded method sync reactor threadpool 
@environmentfilterdef do sort environment value reverse False case sensitive False attribute None if not case sensitive def sort func item if isinstance item basestring item item return itemelse sort func Noneif attribute is not None getter make attrgetter environment attribute def sort func item processor sort func or lambda x x return processor getter item return sorted value key sort func reverse reverse 
def munge title to name name if isinstance name unicode name substitute ascii equivalents name name re '[. /]' '-' name name re ' Z0 ]' '' name .lower name re '-+' '-' name name name '-' max length model P A C K A G E NAME MAX LENGTH - 5 if len name > max length year match re '.*?[_-] ? \\d{2 4}[-/] ?\\d{2 4} $' name if year match year year match [0]name '%s-%s' % name max length - len year - 1 ] year else name name max length  munge to length name model P A C K A G E NAME MIN LENGTH model P A C K A G E NAME MAX LENGTH return name 
def get Insideness path loop if len path < 2 return 0ength euclidean Path Length path if path Length < 0.0 return 0atio 0.017increment increment Ratio * path Length old Point path Of Points Inside float euclidean Point Inside Loop loop old Point for point in path ] segment point - old Point distance abs segment number Of Posts int math distance / increment if number Of Posts > 0 segment Increment segment / float number Of Posts for post in xrange number Of Posts post Point old Point + float post * segment Increment number Of Points Inside + float euclidean Point Inside Loop loop post Point old Point pointreturn increment Ratio * number Of Points Inside 
def check passwd guess passwd m sha1 salt passwd salt len * 2 ]m.update unicode2bytes guess + unicode2bytes salt crypted guess bytes2 Native String salt + m return crypted guess bytes2 Native String passwd 
def store and queue identity text store message INCOMING identity text connection lookup connections BACKEND NAME [identity] [0]receive text connection 
def stride repeat x n axis 0 if axis not in [0 1] raise Value Error u x np x if x ! 1 raise Value Error u if n 1 if axis 0 return np 2d x else return np 2d x .if n < 1 raise Value Error u n int n if axis 0 shape n x strides 0 x else shape x n strides x 0 return np tricks strided x shape shape strides strides 
def  strip named query txt if named query regex txt txt named query regex '' txt return txt 
def Lock from multiprocessing import Lockreturn Lock 
def get Linked Element Node id Suffix parent Node target linked Element Node xml simple reader Element Node euclidean Dictionary target ['id' 'name' 'quantity'] linked Element Node linked Element Node Suffix To I D id Suffix tag Keys target Tag Keys tag Keys 'disjoin' tag Keys tags ' '.join tag Keys linked Element Node tagslinked Element Node Parent Add To Child Nodes parent Node linked Element Node To Identifier Dictionaries return linked Element Node 
def  add inc data name chunksize points D A T A S E T S points Nonenmin ndim + 2 if name 'some-points' opts ' J Pp name 'pathological-1' nmin 12chunks [points[ nmin j in xrange nmin len points chunksize chunks points j + chunksize ] new name '%s-chunk-%d' % name chunksize assert new name not in INCREMENTAL DATASETS INCREMENTAL D A T A S E T S name chunks opts 
def Make Renewed Expired Response return k Verify Response Renewed Expired 
def  curry callable obj *args **kwargs if isinstance obj types Method Type return invoke member obj self obj func  name   + args kwargs elif isinstance obj types Builtin Method Type if not obj  self   return obj args kwargs else return invoke member obj  self   obj  name   + args kwargs elif isinstance obj types Object Type and hasattr obj '  call  ' return obj args kwargs elif isinstance obj types Function Type types Builtin Function Type types Class Type types Unbound Method Type return obj args kwargs else raise Value Error 'objmustbecallable'
def opt string2dict opt string opt dict {}for item in opt string '-' item item if '' in item opt value item '' 1 opt dict '-%s' % opt ] valueelif item ! '' opt dict '-%s' % item ] Nonefor key value in opt dict if value and value opt dict int value return opt dict 
def version date return version D A T E '' [0]
def dmp true LT f u K monom []while u monom len f - 1 f u f u - 1 if not f monom 0 else monom len f - 1 return tuple monom dup LC f K
def cache subnet group exists name region None key None keyid None profile None return bool describe cache subnet groups name name region region key key keyid keyid profile profile 
def regularize network params layer penalty tags {'regularizable' True **kwargs return apply penalty get all params layer **tags penalty **kwargs
def test allknn fit single class allknn All K N N random state RND SEED y single class np X assert warns User Warning allknn X y single class 
def pport Init Out state global ctrl Regif state 0 ctrl Reg ctrl Reg & ~ 4 else ctrl Reg ctrl Reg | 4 port Dl Port Write Port Uchar ctrl Reg Adrs ctrl Reg 
def ensure ca filesystem ca dir ca folder if not os ca path genrootca sh path os os os   file   'CA' 'genrootca.sh' start os fileutils tree ca dir os ca dir utils 'sh' genrootca sh path os start 
def  init signals import signalimport threadimport sysprev handler signal signal S I G I N T def thread interrupt handler signum frame thread terminate threads if callable prev handler prev handler signum frame raise Keyboard Interrupt try signal signal S I G I N T thread interrupt handler except Value Error print >>sys.stderr 'ailedtosetupthread Thisisusuallynotcritical 
def  get service name services  available services name name if name in services return services service in six services if service path name return service basename ext os service name if basename name return serviceraise Command Execution Error 'ervicenotfound {0}'.format name 
def interpolate inverse from value to value current value ease out degree t 0.0 if from value - to value 0 else - float current value - from value / float from value - to value return inverse ease out t ease out degree 
def encode password s if isinstance s unicode s s 'utf-8' x base64 os 32 return 'pbkdf2 sha256 10000 %s %s' % x pbkdf2 s 1024] x 
def swapon name priority None ret {}on  swaps if name in on  ret on [name]ret['new'] Falsereturn retif   grains  ['kernel'] 'un O S if   grains  ['virtual'] ! 'zone'   salt  ['cmd.run'] 'swap-a{0}'.format name python shell False else return Falseelse cmd 'swapon{0}'.format name if priority cmd + '-p{0}'.format priority   salt  ['cmd.run'] cmd python shell False on  swaps if name in on  ret on [name]ret['new'] Truereturn retreturn ret 
def instance destroy context instance uuid constraint None update cells True rv I M P L destroy context instance uuid constraint if update cells try cells rpcapi Cells A P I .instance destroy at top context rv except Exception L O G _ 'ailedtonotifycellsofinstancedestroy return rv 
def snowflake time id return datetime int id >> 22 + DISCORD EPOCH / 1000
def get unique constraints table context list of constraints []for contraint in table if isinstance contraint sqlalchemy Unique Constraint columns [column.name for column in contraint of constraints columns return list of constraints 
def mv mixture rvs prob size dist nvars **kwargs if len prob ! len dist raise Value Error 'oumustprovideasmanyprobabilitiesasdistributions if not np np prob 1 raise Value Error 'probdoesnotsumto1' if kwargs is None kwargs {} * len prob idx  make index prob size sample np size nvars for i in range len prob sample idx idx i size sample idx sample idx dist size int sample size return sample 
def snake s s re ' ?< [^A-Z] \\B [A-Z] ' '\\1' s return ' '.join s .split
def cast items exporter fmt itemsize shape None bytelen exporter shape if prod shape * itemsize ! bytelen return None shape elif shape [] if exporter 0 or itemsize ! bytelen return None shape else n r divmod bytelen itemsize shape [n]if r ! 0 return None shape mem exporter byteitems [mem[i i + itemsize ] for i in range 0 len mem itemsize ]items []for v in byteitems item struct fmt v [0]if item ! item return 'nan' shape items item return items shape if shape ! [] else items shape 
@removals.remove message 'sekeystoneauth version '2.1.0' removal version '3.0.0' def get available plugin classes mgr stevedore Extension Manager namespace PLUGIN NAMESPACE propagate map exceptions True invoke on load False return dict mgr lambda ext ext point ext 
def ave seqs per sample matrix seqs per samp sample I Ds ave ser {}temp dict {}for i sid in enumerate sample I Ds temp dict {}for j seq in enumerate seqs per samp try temp dict matrix except Key Error temp dict []temp dict matrix for sid in sample I Ds ave ser []keys sorted temp dict for k in keys ave ser mean array temp dict 0 return ave ser 
def get names from csr csr typ Open S S L F I L E T Y P E PEM return  get names from cert or req csr Open S S L certificate request typ 
def contains metastrings s if s  table names key > 0 or s  columns > 0 or s  data > 0 or s  rowid > 0 return 1else return 0
def  scrub request http request if http request and http request and http request and http request 'lient Login http request body parts []http request form inputs {'form data 'clientloginrequesthasbeenscrubbed'} else http request body parts []return http request 
def framework info filename is framework STRICT FRAMEWORK R E filename if not is framework return Nonereturn is framework 
def share config dbdriver dbtype dbhost dbuser dbpasswd testdb global DBDRIVER DBTYPE DBHOST DBUSER DBPASSWD TESTDB D B S C H E M Aglobal SYSTEM SQL FILEDBDRIVER dbdriver D B T Y P E dbtype D B H O S T dbhost D B U S E R dbuser D B P A S S W D dbpasswd T E S T D B testdb 
def compute epipole F U S V linalg F e V[ -1 ]return e / e 
def is inf builder val pos inf lc Constant val float '+inf' neg inf lc Constant val float '-inf' isposinf builder lc F C M P OEQ val pos inf isneginf builder lc F C M P OEQ val neg inf return builder  isposinf isneginf 
def libvlc video set key input p mi on f  Cfunctions 'libvlc video set key input None or  Cfunction 'libvlc video set key input 1 1 None None Media Player ctypes uint return f p mi on 
def  masked rec array to mgr data index columns dtype copy fill value data valuefdata ma data if index is None index  get names from index fdata if index is None index  default index len data index  ensure index index if columns is not None columns  ensure index columns arrays arr columns  to arrays fdata columns new arrays []for fv arr col in zip fill value arrays arr columns mask ma data if mask arr fv  maybe upcast arr fill value fv copy True arr fvnew arrays arr arrays arr columns  reorder arrays new arrays arr columns columns if columns is None columns arr columnsmgr  arrays to mgr arrays arr columns index columns if copy mgr mgr return mgr 
def  samme proba estimator n classes X proba estimator proba X proba proba < np proba .eps ] np proba .epslog proba np proba return n classes - 1 * log proba - 1.0 / n classes * log proba axis 1 [ np 
def log normalize a axis None a lse logsumexp a axis a - a lse np 
def track cls cls no instance tracking Falsereturn cls 
@skip 'silverlight' 'multiple execute 'win32' def test c1cs if not has csc returnc1cs get local filename 'c1.cs' outp sys prefixcompile And Ref 'c1' c1cs '/d BAR1' import Fooclass c1 Child Foo Bar passo c1 Child Are Equal o Method 'nbar1 compile And Ref 'c1 b c1cs import Fooclass c2 Child Foo Bar passo c2 Child Are Equal o Method 'nbar2 
def html ify text t cgi text t  I T A L I C '<em>' + '\\1' + '</em>' t t  B O L D '<b>' + '\\1' + '</b>' t t  M O D U L E "<spanclass 'module'>" + '\\1' + '</span>' t t  U R L "<ahref '" + '\\1' + "'>" + '\\1' + '</a>' t t  C O N S T '<code>' + '\\1' + '</code>' t return t 
def test config alterations kwargs class Line Config Config no prefix Trueshow legend Falsefill Truepretty print Truex labels ['a' 'b' 'c']config Line Config line1 Line config line1 '_' [1 2 3] l1 line1 line1 Falsel1bis line1 assert l1 ! l1bis line2 Line config line2 '_' [1 2 3] l2 line2 assert l1 l2 assert l1bis ! l2 line3 Line config title 'itle line3 '_' [1 2 3] l3 line3 assert l3 ! l2 l2bis line2 assert l2 l2bis 
@bdd.given bdd 'run def run command given quteproc command quteproc cmd command 
def encode int v if not is numeric v or v < 0 or v > TT256 raise Exception 'ntegerinvalidoroutofrange %r' % v return int to big endian v 
def fftsurr x detrend detrend none window window none if cbook window x window * detrend x else x window detrend x z np x a 2.0 * np * 1j phase a * np len x z z * np phase return np z .real
def  available name ret avail Falseif 'service.available' in   salt   avail   salt  ['service.available'] name elif 'service.get all in   salt   avail name in   salt  ['service.get all if not avail ret Falseret 'henamedservice name return avail 
def error xml try ET.XML xml except E T Parse Error return sys value 
def  Validate Match regex value message matcher regex value if not matcher raise validation Validation Error message return matcher 
def exif orientation im try exif im getexif except Exception exif Noneif exif orientation exif 274 if orientation 2 im im Image F L I P LEFT RIGHT elif orientation 3 im im Image R O T A T E 180 elif orientation 4 im im Image F L I P TOP BOTTOM elif orientation 5 im im Image R O T A T E 270 .transpose Image F L I P LEFT RIGHT elif orientation 6 im im Image R O T A T E 270 elif orientation 7 im im Image R O T A T E 90 .transpose Image F L I P LEFT RIGHT elif orientation 8 im im Image R O T A T E 90 return im 
def org site has inv row tablename 'org facility if not current settings module 'inv' return Falseif hasattr row tablename row row id row Attribute Error return Nones3db current s3db inv itemstable s3db itable ! True & stable id & itable id stable id & itable > 0 inv current query .select itable limitby 0 1 .first if inv return Trueelse return False 
def push note device None title None body None spb  Salt Pushbullet device res spb note title body return res 
def render require js path overrides path overrides html '<scripttype "text/javascript">\n function require {{\nrequire.config {{\npaths {{\n{overrides}\n}}\n}} ;\n}} .call this require Require J S ;\n</script>'new paths []for module in path overrides actual url staticfiles storage path overrides path actual url '.js' '' .replace django settings S T A T I C URL '' new paths "'{module}' '{path}'".format module module path path return html overrides ' \n'.join new paths 
def get pokemon inventory size  inventory inventories size return  inventory inventory size 
def update rollout dict spec rollout dict if should skip env spec for tests spec logger u Skippingtestsfor spec return Falseif spec logger u Skippingtestsfornondeterministicenv spec return Falselogger u Generatingrolloutfor spec try observations hash actions hash rewards hash dones hash generate rollout hash spec except logger u Exception Rolloutnotadded sys info [0] spec return Falserollout {}rollout[u'observations'] observations hashrollout actions hashrollout rewards hashrollout dones hashexisting rollout dict spec if existing differs Falsefor key new hash in rollout differs differs or existing ! new hash if not differs logger u Hashesmatchwithexistingfor spec return Falseelse logger u Gotnewhashfor Overwriting spec rollout dict rolloutreturn True 
def tensor5 name None dtype None if dtype is None dtype config Xtype Tensor Type dtype False False False False False return type name 
def  rewrite1 f x recursive True fac po g  split mul f x g  rewrite single g x recursive if g return fac po g g 
def test ecl geo gcrs GCRS 10 * u 20 * u distance 1.5 * R earth gecl gcrs to Geocentric True Ecliptic assert quantity allclose gecl gcrs 
def expand Service service element uris sorted U R Is service element if not uris uris [one []for uri in uris type uris get Type U R Is service element expanded type uris uri service element return expanded 
def  unchanged name msg return {'name' name 'result' True 'comment' msg 'changes' {}}
def date validator optdict name value return optik ext date None name value 
def build entrypoints prefix entrypoints result []for entrypoint id rel class name in entrypoints if ' ' in rel class name sep '.'else sep ' 'result.append '%s %s%s%s' % entrypoint id prefix sep rel class name return result 
@render to 'distributed/loadtesting/load test def load test request nusers None username uuid .hex[ 12]if not Facility fac Facility name 'fac' fac Facility [0] user _ Facility User or initialize username username facility fac user password username user return {'pct videos request G E T 'pct videos 0.3 'username' username 
def audio loop audioclip nloops None duration None if duration is not None nloops int duration / audioclip + 1 return concatenate audioclips nloops * [audioclip] .set duration duration else return concatenate audioclips nloops * [audioclip]
def get password vm  return config cloud config value 'password' vm    opts   default config cloud config value 'passwd' vm    opts   search global False search global False 
def allow serial nos with different item sle serial no sle allow serial nos Falseif sle type u Stock Entry and sle qty > 0 stock entry frappe doc u Stock Entry sle no if stock entry in u Repack u Manufacture for d in stock entry u if d no and d warehouse if sle cancelled u No else d warehouse serial nos get serial nos d no if sle serial no in serial nos allow serial nos Truereturn allow serial nos 
def suid bin attrs None where None return  osquery cmd table 'suid bin attrs attrs where where 
def virtual interface get all context return I M P L interface get all context 
def get autocommit using None return get connection using .get autocommit 
def test grad X T y X G T y [X] assert isinstance G list G T y X assert not isinstance G list 
def  build text msg message  L O G G E R 'uildingplaintextemail return M I M E Text message 
def list nodes full call None if call 'action' raise Salt Cloud System Exit 'helist nodes fullfunctionmustbecalledwith return get resources vms include Config True 
def func name return name 
def  bcsys dev name value None log lvl None log msg None return  sysfs attr [ bcpath dev name value log lvl log msg 
def parse process statistics statistics if statistics is None statistics DEFAULT S T A T I S T I C Sstatistics util statistics statistics [ tuplize statistic _ for _ in statistics statistic in statistics if statistic not in STATISTIC TYPES raise Exception 'nknownstatistictypeencountered % statistic if statistic not in PROCESS COLUMNS raise Exception 'nknownprocesscolumnencountered % statistic return statistics 
def manual search session task artist input  u Artist ' .strip name input  u Album ' if task album else u Track ' .strip if task album _ _ prop autotag album task artist name return propelse return autotag item task artist name 
def collapse spaces string indentation False replace '' p []for x in string n indentation and len x - len x or 0 p x n + RE S P A C E S replace x ] .strip return '\n'.join p 
def get recursive filelist args files []for arg in args if os arg files arg continueif os arg newfiles list Files arg recurse 1 return folders 1 files newfiles return [f for f in files if not os f ]
def init handler resource event trigger agent None global TRUNK S K E L E T O Nmanager trunk manager Trunk Manager agent br handler ovsdb handler O V S D B Handler manager TRUNK SKELETON O V S Trunk Skeleton handler 
def lastsave host None port None db None password None server  connect host port db password return int server .strftime '%s'
def stringify dict dct or tuples encoding 'utf-8' keys only True d {}for k v in dict dct or tuples .iteritems k k encoding if isinstance k unicode else k if not keys only v v encoding if isinstance v unicode else v d vreturn d 
def notify event callbacks service resource type operation payload if operation in  SUBSCRIBERS if resource type in  S U B S C R I B E R S for cb in  S U B S C R I B E R S type subst dict {'cb name cb  name   'service' service 'resource type resource type 'operation' operation 'payload' payload L O G 'nvokingcallback cb name sforevent service s resource type s operation sfor payload s subst dict cb service resource type operation payload 
def test imap missing trash constants monkeypatch folder base [ 'as No Children '/' u I N B O X 'oselect 'as Children '/' u S K I P 'as No Children 'rafts '/' u Drafts 'as No Children 'ent '/' u Sent 'as No Children 'ent '/' u Sent Items 'as No Children 'unk '/' u Spam 'as No Children '/' u ]check missing generic 'trash' folder base localized folder names 'imap' constants monkeypatch 
def  systemctl status name contextkey 'systemd. systemctl status % name if contextkey in   context   return   context  [contextkey]  context  [contextkey]   salt  ['cmd.run all  systemctl cmd 'status' name python shell False redirect stderr True ignore retcode True return   context  [contextkey]
def try to serve 304 dispatch result request etag if not etag returnqs etag request 'etag' if qs etag and qs etag ! etag raise Response 410 headers etag request 'f None Match if not headers etag returnif headers etag ! etag returnraise Response 304
def sel Tournament individuals k tournsize chosen []for i in xrange k aspirants sel Random individuals tournsize chosen max aspirants key attrgetter 'fitness' return chosen 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def find apple crash report referenced images binary images threads image map {}for image in binary images image map addr image load set for thread in threads if 'backtrace' not in thread continuefor frame in thread img uuid image map frame addr if img uuid is not None to load img uuid return list to load 
def normalize form dict form attr list assert isinstance form forms Form res {}for attr in attr list res form data attr return res 
def process message notification request messages path if not messages path returnglobal  MESSAGES C A C H Eglobal  MESSAGES M T I M Eif  MESSAGES CACHE is None or  MESSAGES MTIME ! os messages path  MESSAGES CACHE  get processed messages messages path  MESSAGES MTIME os messages path for msg in  MESSAGES CACHE msg message request 
def get incoming shape incoming if isinstance incoming tf Tensor return incoming shape .as list elif type incoming in [np.array list tuple return np incoming else raise Exception 'nvalidincominglayer 
def set api sub params params api params dict for param in params param value params param None if param value api params param ] param valuereturn api params 
def build profile map parsed ini config parsed config copy parsed ini config profiles {}final config {}for key values in parsed config if key 'profile' try parts shlex key except Value Error continueif len parts 2 profiles valueselif key 'default' profiles valueselse final config valuesfinal config profilesreturn final config 
def test locale html testfield Mock this lang translation language testfield this langs helpers html testfield assert not s ' T M Lattributesforsitelanguage 'de's helpers html testfield assert s 'lang "de"dir "ltr"' for lang in settings R T L LANGUAGES testfield langs helpers html testfield assert s 'lang "%s"dir "rtl"' % testfield 
def  translate keys cons pool cons {'id' cons 'console type pool type dict console info 
def decrypt string s key '' key + ''s base64 b64decode s a []for i in xrange len s try a chr ord s - ord key i % len key ] % 256 except raise Decryption Error s ''.join a s decode utf8 s return s 
def set socket inherit sock inherit try if iswindows import win32api win32conif inherit flags win32con H A N D L E FLAG I N H E R I Telse flags 0et Handle Information sock win32con H A N D L E FLAG INHERIT flags else import fcntlfd sock flags fcntl fd fcntl F GETFD & ~ fcntl F D CLOEXEC if not inherit flags flags | fcntl F D CLOEXEC fcntl fd fcntl F SETFD flags except import tracebacktraceback exc 
def  Varint Bytes value pieces [] Encode Varint pieces value return ''.join pieces 
def  get commit message for suggestion suggestion author username commit message return '%s%s %s' % feconf C O M M I T MESSAGE ACCEPTED SUGGESTION PREFIX suggestion author username commit message 
def create ma deg f deg g row1 row2 col num if deg g - deg f > 1 print 'eversedegrees returnm zeros deg f - deg g + 2 col num for i in range deg f - deg g + 1 m ] rotate r row1 i m deg f - deg g + 1 ] row2return m 
def get mapping types mapping types None if mapping types is None values  search mapping types else values [ search mapping types for name in mapping types key lambda cls cls mapping type name return values 
def test nvidia driver2 a numpy 10000 .astype 'float32' cuda constructor a assert theano number is not None 
def  compute diff configured expected diff {'add' {} 'update' {} 'remove' {}}configured users set configured expected users set expected add usernames expected users - configured users remove usernames configured users - expected users common usernames expected users & configured users add dict username expected username for username in add usernames remove dict username configured username for username in remove usernames update {}for username in common usernames user configuration configured username user expected expected username if user configuration user expected continueupdate {}for field field value in six user expected if user configuration field ! field value update field valuediff {'add' add 'update' update 'remove' remove return diff 
def validate xml content schema content xml schema doc etree schema content xml schema etree X M L Schema xml schema doc xml etree String I O String I O content try xml schema Valid xml except etree Document Invalid return xml schema logreturn ''
def  blockdevice volume from datasetid volumes dataset id for volume in volumes if volume id dataset id return volume 
def  str extract noexpand arr pat flags 0 from pandas import Data Frame Indexregex re pat flags flags groups or na  groups or na fun regex if regex 1 result np [groups or na val [0] for val in arr dtype object name  get single group name regex else if isinstance arr Index raise Value Error 'ndex name Nonenames dict zip regex regex columns [names.get 1 + i i for i in range regex ]if arr result Data Frame columns columns dtype object else result Data Frame [groups or na val for val in arr columns columns index arr dtype object return result name 
def key text to keyinfo keytext if keytext '"' return keyseq to keyinfo keytext -1 ] else return keyname to keyinfo keytext 
def job delete by id job id Job pk job id .delete return job get by id job id is None 
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
@register u def previous history event event buffer backward count event 
def Find Web Server options server desc server desc options or server desc if server desc and not isinstance server desc unicode server desc server desc 'mbcs' server Get Web Server server desc return server Path 
def dealarm shell tube tube tube 'whichpython||echo' if tube .startswith '/' tube 'execpython-c"importsignal os 0 ;os.execl \'$SHELL\' \'\' "' return tubetube 'whichperl||echo' if tube .startswith '/' tube ' H E L L -/bin/sh}\'"' return tubereturn None 
def  dirs are unequal dir1 dir2 dircmps [filecmp.dircmp dir1 dir2 ]while len dircmps dircmp dircmps if dircmp only or dircmp only logger 'hefollowingfilesanddirectoriesareonlypresentinonedirectory if dircmp only logger dircmp only else logger dircmp only return Trueelif dircmp funny or dircmp files logger 'hefollowingfilesanddirectoriescouldnotbecompared ' if dircmp funny logger dircmp funny else logger dircmp files return Trueelif dircmp files logger 'hefollowingfilesdiffer ' logger dircmp files return Truefor subdir in dircmp dircmps subdir return False 
def list custom images call None if call ! 'function' raise Salt Cloud System Exit 'helist vlansfunctionmustbecalledwith ret {}conn get conn 'oft Layer Account response conn Block Device Template Groups for image in response if 'dentifier not in image continueret {'id' image 'name' image 'dentifier image Identifier 'note' in image ret image ret 
def start standalone config args logger 'tartstandalonemode global standalonefrom glances import Glances Standalonestandalone Glances Standalone config config args args standalone forever 
def wait for scrub path http httplib2 Http wait for 300check every 15for _ in xrange wait for / check every time check every response content http path 'HEAD' if response 'deleted' and response 'rue breakelse continueelse self 'imagewasneverscrubbed'
def train student dataset nb teachers assert input dir if needed F L A G S dir stdnt dataset prepare student data dataset nb teachers save True stdnt data stdnt labels stdnt test data stdnt test labels stdnt datasetif F L A G S ckpt path F L A G S dir + '/' + str dataset + '_' + str nb teachers + ' student deeper else ckpt path F L A G S dir + '/' + str dataset + '_' + str nb teachers + ' student assert deep cnn stdnt data stdnt labels ckpt path ckpt path final ckpt path + '-' + str F L A G S steps - 1 student preds deep cnn preds stdnt test data ckpt path final precision metrics student preds stdnt test labels print 'recisionofstudentaftertraining ' + str precision return True 
def  clean ccx key block location if isinstance block location C C X Block Usage Locator clean key block location block locator else clean key block locationreturn clean key agnostic .for branch None 
def split repeated headers kvset headers defaultdict list for key value in kvset headers value '\x00' return dict headers 
def expand tabs file0 str file contents open file0 'rb' .read str pep contents str file contents ' DCTB ' 4 * '' open file0 'wb' .write str pep contents return None 
def get block device mapping image bdm dict dict bdm getattr image 'block device mapping for device name in bdm bdm dict name {'size' bdm name 'snapshot id bdm name id 'volume type bdm name type 'encrypted' bdm name 'delete on termination bdm name on termination bdm dict 
def getsourcelines object lines lnum findsource object if ismodule object return lines 0 else return getblock lines ] lnum + 1
def  expand node node ret {}ret.update node  dict   try del ret disk Exception passzone ret {}ret['extra']['zone'].update zone  dict   return ret 
def onlyif cmds exist *commands for cmd in commands if not which cmd return skip "histestrunsonlyifcommand cmd return null deco 
def parse userinfo userinfo if '@' in userinfo or userinfo ' ' > 1 raise Invalid U R I "' ' F C2396 user _ passwd  partition userinfo ' ' if not user raise Invalid U R I 'heemptystringisnotvalidusername user unquote plus user passwd unquote plus passwd return user passwd 
def connect to region region name **kw params for region in regions if region region name return region **kw params return None 
def  code To Message code try return R E S P O N S E S int code except Value Error Attribute Error return None 
def parse commit range repo committishs committishs to bytes committishs return iter [parse commit repo committishs ]
def sm volume get context volume id return I M P L volume get context volume id 
def  parse imap reply if not reply or len reply < 2 return False [] stack []pdata []for dline in reply while True if isinstance dline str unicode m IMAP T O K E N dline else print 'WARNING Unparsed I M A Presponsedata %s' % dline m Noneif m token m 0 dline dline token ]if token 1] '"' pdata token -1 ] elif token 1] ' ' stack pdata pdata [] pdata pdata -1 ]elif token 1] ' ' pdata stack -1 elif token 1] not in '' ' DCTB ' '\n' '\r' pdata token else breakreturn reply 'OK' pdata 
def get New Derivation element Node return Grid Derivation element Node 
def  api test pushbullet name output kwargs logging 'ending Pushbulletnotification res sabnzbd pushbullet ' A Bnzbd T 'est Notification 'other' force True test kwargs return report output error res 
def  functions expr x from sympy import Functionreturn set e for e in expr Function if x in e symbols 
def fail acquire settings log printer settings names dict section if not isinstance settings names dict dict raise Type Error 'hesettings names dictparameterhastobeadictionary required settings settings names dict if len required settings ! 0 msg 'uringexecution wefoundthatsomerequiredsettingswerenotprovided Theyare \n'for name setting in settings names dict msg + '{} from -{}'.format name setting setting log printer msg raise Assertion Error 
def set virt file size self num if num is None or num '' self file size 0returnif num '<<inherit>>' self file size '<<inherit>>'returnif isinstance num basestring and num ' ' ! -1 tokens num ' ' for t in tokens self virt file size t self file size numreturntry inum int num if inum ! float num raise CX _ 'invalidvirtfilesize %s ' % num if inum > 0 self file size inumreturnraise CX _ 'invalidvirtfilesize %s ' % num except raise CX _ 'invalidvirtfilesize %s ' % num 
def epydoc a b ab 
def Parser file asf Asf file if not len asf or len asf return asfaudio Asf Audio for key in audio keys if key in asf keys if not getattr audio key None setattr audio key getattr asf key return audio 
def grains if not GRAINS CACHE return  grains D E T A I L S D E T A I L S D E T A I L S return GRAINS CACHE
def get Transformed By List float List point return float List * point + float List * point + float List * point + float List 
def active log format name log format server  DEFAULT SERVER ret {'name' name 'changes' {} 'comment' str 'result' None log format   salt  ['win smtp server log format server if log format current log format ret 'og Plugin Clsidalreadycontainstheidoftheprovidedlogformat Trueelif   opts  ['test'] ret 'og Plugin Clsidwillbechanged {'old' current log format 'new' log format ret 'et Log Plugin Clsidtocontaintheidoftheprovidedlogformat {'old' current log format 'new' log format   salt  ['win smtp server log format log format server return ret 
def win hibernate try subprocess Popen 'rundll32powrprof.dll Set Suspend State Hibernate time 10 except logging T 'ailedtohibernatesystem logging 'raceback ' exc info True 
def mutual info classif X y discrete features 'auto' n neighbors 3 copy True random state None check classification targets y return  estimate mi X y discrete features True n neighbors copy random state 
def get lineno node lineno Nonewhile lineno is None and node node node node lineno 
def delete vm options cmd 'salt-cloud-d{0}-y'.format options vm print 'unning C M D {0}'.format cmd sys proc Non Blocking Popen cmd shell True stdout subprocess P I P E stderr subprocess P I P E stream stds True proc and read until finish interval 0.5 proc 
def read package file package relative path binary False if relative path is None return Falsepackage dir  get package dir package if os package dir and  regular file exists package relative path return  read regular file package relative path binary if int sublime > 3000 result  read zip file package relative path binary if result is not False return resultreturn False 
def get Manipulated Geometry Output geometry Output xml Element scale Points matrix Connection Vertexes geometry Output 'scale.' xml Element return geometry Output 
def is groebner G ring for i in range len G for j in range i + 1 len G s spoly G G s s G if s return Falsereturn True 
def  item to sink iterator log sink pb resource Message To Dict log sink pb return Sink api repr resource iterator 
def  can have arbitrary unit value return np np or np value 0.0 ~ np value 
def test image overlay data [[[1 0 0 1] [0 0 0 0] [0 0 0 0]] [[1 1 0 0.5] [0 0 1 1] [0 0 1 1]]]m folium Map io plugins Image Overlay data [[0 -180 ] [90 180]] mercator project True io to m m repr html  out m parent url 'data image i V B O Rw0 K Ggo A A A A N S Uh E Ug A A A A M A A A A C C A Y A A A Cdd G Ya A A A A F0l E Q V R42m P4z A A R F Dw Dei A5 H4 Q B V60 H6 A Bl9 Z I A A A A A S U V O R K5 C Y I I 'assert io url tmpl Template "\nvar{{this.get name }} L Overlay \n'{{this.url}}' \n{{this.bounds}} \n{{this.options}}\n .o {{this. parent name }} ;\n" assert tmpl this io in out bounds m bounds assert bounds [[0 -180 ] [90 180]] bounds 
def create package project name sourcefolder None if sourcefolder is None sourcefolder project name '.' parent sourcefolderfor package in packages -1 ] parent parent child package made packages parent folder packages -1 ] made packages file '  init  .py' return made packages 
def mime decode header line newline ''pos 0while 1 res mime head line pos if res is None breakmatch res 1 match ''.join match '_' newline newline + line res 0 ] + mime decode match pos res 0 return newline + line ]
def all return M I G R A T I O N S 
def  handle exception if sys einfo sys info try traceback exception einfo einfo einfo None sys except I O Error passfinally del einfo 
def get top rated exploration summaries limit return  get exploration summaries from models exp models Exp Summary Model top rated limit 
def render placeholder context placeholder name default layout None template name None global type False renderer Placeholder Renderer context placeholder name default layout default layout template name template name global type global type return renderer 
def csviter obj delimiter None headers None encoding None encoding obj if isinstance obj Text Response else encoding or 'utf-8' def  getrow csv r return [str to unicode field encoding for field in csv r ]lines String I O body or str obj unicode False if delimiter csv r csv lines delimiter delimiter else csv r csv lines if not headers headers  getrow csv r while True row  getrow csv r if len row ! len headers log 'ignoringrow%d length %d shouldbe %d ' % csv r num len row len headers log W A R N I N G continueelse yield dict zip headers row 
def match metric regex if  TRAFFICCTL cmd  traffic ctl 'metric' 'match' regex else cmd  traffic ctl '-m' regex log 'unning %s' cmd return  subprocess cmd 
def nzb redirect wdir nzbname pp script cat priority files []for root  dirs names in os wdir for name in names files os root name for file  in files if os file  [1].lower ! '.nzb' return Noneif len files ! 1 nzbname Nonefor file  in files dirscanner Process Single File os file  [1] file  pp script cat priority priority keep False dup check False nzbname nzbname return files 
def  osbornei e d def f rv if not isinstance rv Trigonometric Function return rva rv {d S One if rv is sin return sinh a / I elif rv is cos return cosh a elif rv is tan return tanh a / I elif rv is cot return coth a * I elif rv is sec return 1 / cosh a elif rv is csc return I / sinh a else raise Not Implemented Error 'unhandled%s' % rv return bottom up e f 
def get Geometry Output By Loop element Node side Loop side Loop element Node return get Geometry Output By Manipulation element Node side Loop 
def get config status cmd 'et Dsc Configuration Status Select Object Property Host Name Status Meta Data @ame "tart Date Expression {et Date $ .tart Date -ormatg Type Mode Reboot Requested Numberof Resources  pshell cmd 
def  Sort Chunks By File chunks chunks by file defaultdict list for chunk in chunks filepath chunk by file chunk return chunks by file 
def escape markdown text escape chars '\\* `\\['return re ' [%s] ' % escape chars '\\\\\\1' text 
@memory.cachedef load data dtype np order 'F' print 'oadingdataset data fetch mldata ' N I S Toriginal X check array data dtype dtype order order y data X X / 255 print 'reatingtrain n train 60000X train X[ n train train y n train X test X train ]y test y train ]return X train X test y train y test 
def priority value def decorator target target valuereturn targetreturn decorator 
def iirpeak w0 Q return  design notch peak filter w0 Q 'peak'
def studio help links page return page css '.support.list-actionsa' .results
def write translations file app lang full dict None app messages None if not app messages app messages get messages for app app if not app messages returntpath frappe pymodule path app u frappe folder tpath write csv file os tpath lang + u app messages full dict or get full dict lang 
def pr add to role role id pe id atable current affiliationquery atable id role id & atable id pe id affiliation current query .select atable limitby 0 1 .first if affiliation is None atable role id role id pe id pe id pr rebuild path pe id clear True return 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def get source line node while node if node or node return node node node node None None 
def guess zip filename zf files zf if len files 1 return files for e in files if posixpath e [0].lower 'hosts' return eraise File Not Found Error 'ohostsfilefoundinzip 
def save subs to store subs subs id item language 'en' filedata json subs indent 2 filename subs filename subs id language return save to store filedata filename 'application/json' item 
def get non supported lang lang lang langs dict k v for k v in settings N O N SUPPORTED L O C A L E S if lang in langs if langs is None return settings L A N G U A G E C O D Ereturn langs None 
def  handlers module name handlers module try import '%s.handlers' % module name if handlers module is None return []if not hasattr handlers module '  path  ' raise Handler Error 'odule % handlers module  name   files find python files handlers module  path  [0] module names [ '%s.%s' % handlers module  name   file for file in files [try import mod name for mod name in module names [get class mod Base Handler for mod in modules if mod 
def render to link list link list return render to js vardef ' C E Link List link list 
def stop name kill False runas None args [ sdecode name ]if kill args '--kill' return prlctl 'stop' args runas runas 
def generate localized events generator if 'i18n subsites in generator P L U G I N S if not os generator O U T P U T PATH'] os generator O U T P U T PATH'] for e in events if 'lang' in e localized events e else log 'event%scontainsnolangattribute' % e 
def bounds overlap bound1 bound2 x1 y1 w1 h1 bound1 x2 y2 w2 h2 bound2if x1 + w1 < x2 return Falseif x2 + w2 < x1 return Falseif y1 + h1 < y2 return Falseif y2 + h2 < y1 return Falsereturn True 
def validipaddr address try octets address '.' if len octets ! 4 return Falsefor x in octets if not 0 < int x < 255 return Falseexcept Value Error return Falsereturn True 
def cities2table filename rel name dbname verbose False setup False import sqlite3records  str2records filename rel name connection sqlite3 dbname cur connection if setup cur u C R E A T E T A B L Ecity table Citytext Countrytext Populationint ' table name u table t in records cur u ? ? ? ' % table name t if verbose print u ' % table name t connection if verbose print u Committingupdateto % dbname cur 
def extract documentation content language docstyle docstyle definition Docstyle Definition language docstyle return extract documentation with markers content docstyle definition 
def provide session func @wraps func def wrapper *args **kwargs needs session Falsearg session u params func  code  .co varnamessession in args arg session in func params and func params arg session < len args if not arg session in kwargs or session in args needs session Truesession settings Session kwargs session sessionresult func *args **kwargs if needs session session all session session return resultreturn wrapper 
def load rsa private key *names loader  guess loader names -1 ] serialization pem private key serialization der private key return jose Comparable R S A Key loader load vector *names password None backend default backend 
def fallback humanize date fallback format None use fallback False date arrow date .to 'local' if not fallback format fallback format ' H %M % use fallback return date fallback format try lang encode locale clock date locale lang except if not dg unsupported dg unsupported Trueprint Nicely light magenta 'umanizeddatedisplaymethoddoesnotsupportyour L C ALL.' clock date fallback format return clock 
def  determine notification info notification arn notification arn from pillar notification types notification types from pillar pillar arn list copy   salt  ['config.option'] notification arn from pillar {} pillar arn Noneif len pillar arn list > 0 pillar arn pillar arn list notification types copy   salt  ['config.option'] notification types from pillar {} arn notification arn if notification arn else pillar arn types notification types if notification types else pillar notification types return arn types 
@ssl required csrf template 'users/{mobile/}pw reset confirm def password reset confirm request template uidb36 None token None try uid int base36 to int uidb36 except Value Error raise Http404user get object or 404 User id uid int context {}if default token generator token user token context Trueif request 'POST' form Set Password Form user request P O S T if form valid form return Http Response Redirect reverse 'users.pw reset complete else form Set Password Form None else context Falseform Nonecontext formreturn render request template context 
def color name data bits ret ['#']for i in range 3 ret '%02X' % data << 8 - bits return ''.join ret 
def freeze region clip t 0 region None outside region None mask None if region is not None x1 y1 x2 y2 regionfreeze clip crop *region .to Image Clip t t .set duration clip .set position x1 y1 return Composite Video Clip [clip freeze elif outside region is not None x1 y1 x2 y2 outside regionanimated region clip crop *outside region .set position x1 y1 freeze clip Image Clip t t .set duration clip return Composite Video Clip [freeze animated region elif mask is not None freeze clip Image Clip t t .set duration clip .set mask mask return Composite Video Clip [clip freeze 
def binipdisplay s if len s % 4 ! 0 raise Environment Errorol []for i in range len s / 4 s1 s 4]s s ]ip []for j in s1 ip str ord j ol string ip '.' return ol 
def create modulestore instance engine contentstore doc store config options i18n service None fs service None user service None signal handler None class  load function engine if issubclass class  Module Store Draft And Published options setting func lambda Module Store Enum Branch preferred return class  doc store config doc store config contentstore contentstore signal handler signal handler **options
def apply grover oracle nqubits iterations None if nqubits < 0 raise Quantum Error "rover received % nqubits if iterations is None iterations floor sqrt 2 ** nqubits * pi / 4 v Oracle Gate nqubits oracle iterated superposition basis nqubits for iter in range iterations iterated grover iteration iterated v iterated qapply iterated return iterated 
def dictfetchmany cursor number return cursor number 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def Product sequence return reduce lambda x y x * y sequence 
def print tb tb limit None file None if file is None file sys limit is None if hasattr sys 'tracebacklimit' limit sys 0while tb is not None and limit is None or n < limit f tb framelineno tb linenoco f codefilename co filenamename co name print file 'ile line in % filename lineno name linecache filename line linecache filename lineno f globals if line  print file '' + line tb tb nextn n + 1
def points at corner index contour index return [contour[ i + 1 ] for i in index 
def recapitalize text text force unicode text .lower caps R E re ' ? ^| ?< [\\.\\?\\!] [a-z] ' text caps R E lambda x x 1 .upper text return text 
def bootstrap sample data return [random.choice data for _ in data 
@login required http methods 'GET' 'DELETE' def orphan handler request course key string course usage key Course Key string course key string if request 'GET' if has studio read access request course usage key return Json Response [unicode item for item in modulestore .get orphans course usage key ] else raise Permission Denied if request 'DELETE' if request staff deleted items  delete orphans course usage key request commit True return Json Response {'deleted' deleted items else raise Permission Denied 
def exec statement statement statement textwrap statement cmd ['-c' statement   exec python cmd cmd 
def test functions as bound methods callable attrs filter callable getattr t a None for a in dir t if not a '__' or a '__' for attr in callable attrs assert isinstance attr Method Type assert attr  self   is t or attr  self   is type t 
def get accessible discussion xblocks course user include all False all xblocks modulestore .get items course qualifiers {'category' 'discussion'} include orphans False return [xblock for xblock in all xblocks if has required keys xblock and include all or has access user 'load' xblock course ]
def canvass return s3 rest controller 
def dmp pow f n u K if not u return dup pow f n K if not n return dmp one u K if n < 0 raise Value Error "can'traisepolynomialtoanegativepower" if n 1 or dmp zero p f u or dmp one p f u K return fg dmp one u K while True n m n // 2 n if m & 1 g dmp mul g f u K if not n breakf dmp sqr f u K return g 
@receiver user logged in @receiver user logged out def enforce single login sender request user signal **kwargs if settings F E A T U R E S 'PREVENT CONCURRENT LOGINS' False if signal user logged in key request keyelse key Noneif user user profile __ User Profile or create user user defaults {'name' user if user profile user login session key 
def glibc version string process namespace ctypes C D L L None try gnu get libc version process namespace get libc versionexcept Attribute Error return Nonegnu get libc version ctypes char pversion str gnu get libc version if not isinstance version str str version str version str 'ascii' return version str 
def clone Parasite individual clone individual  class   list seq for seq in individual clone individual clone 
def connect on app finalize callback  on app finalizers callback return callback 
def check course access course key user None ip address None url None if not settings F E A T U R E S 'EMBARGO' return Truecourse is restricted Restricted Course restricted course course key if not course is restricted return Trueif user is not None and has course author access user course key return Trueif ip address is not None user country from ip  country code from ip ip address if not Country Access Rule country access course key user country from ip log u Blockinguser I Paddress getattr user 'id' 'ot Authenticated course key url ip address user country from ip return Falseif user is not None user country from profile  get user country from profile user if not Country Access Rule country access course key user country from profile log u Blockinguser user course key url user country from profile return Falsereturn True 
def cheby1 N rp Wn btype 'low' analog False output 'ba' return iirfilter N Wn rp rp btype btype analog analog output output ftype 'cheby1'
def cmoment X n condition None **kwargs mu expectation X condition **kwargs return moment X n mu condition **kwargs
def resolve etag is at header req metadata alternate etag Nonemetadata Header Key Dict metadata if ' Backend Etag Is At in req names list from csv req X Backend Etag Is At for name in names if name in metadata alternate etag metadata alternate etag 
def merge and compress summaries vals and weights vals and weights [x for x in vals and weights if x not vals and weights return it merge sorted *[zip x y for x y in vals and weights vals []weights []vals append vals append weights val weight prev val prev weight next it for val weight in it if val prev val prev weight + weightelse vals append prev val weights append prev weight prev val prev weight val weight if val prev val vals append prev val weights append prev weight return vals weights 
def env to bool input if isinstance input str if input 'alse return Falseelse return Trueelse return input 
def test simple concurrency pool make pool 1 1 for i in range 3 pool Fake Tar Partition 1 pool 
def  Init Colorize output file color Falseif options is not None and curses and options 'yes' or options 'auto' and output file try curses if curses 'colors' > 0 color Trueexcept Exception passif not color return []directives []normal unicode curses 'sgr0' 'ascii' fg color unicode curses 'setaf' or curses 'setf' or '' 'ascii' for directive in options regexp color index directive ' ' color unicode curses fg color int color index 'ascii' directives Color Directive re regexp color normal return directives 
def test Logit Locator set params loc mticker Logit Locator loc params minor True assert loc 
def  get contract head file path config return os  get root versions dir config CONTRACT HEAD FILENAME
def create new event transaction id new id uuid4 get cache 'event transaction ['id'] new idreturn new id 
def  find prefix filename if not is venv return sys os filename prefixes [os.path.abspath sys base prefix prefixes []for prefix in prefixes common os [prefix filename if common prefix possible prefixes prefix possible prefixes key lambda p len p reverse True return possible prefixes 
def  unimplemented func @functools.wraps func def wrapper *args **kwargs try func *args **kwargs except Typing Error raise unittest Expected Failure sys info raise unittest Unexpected Success 
def validate iops iops iops integer iops if int iops 0 return iopsif int iops < 1000 raise Value Error ' B Instance Iops ifset mustbegreaterthan1000 return iops 
def display graph g format u include asset exists False try import I Python as displayexcept Import Error raise No I Python u I Pythonisnotinstalled Can if format u display cls display S V Gelif format in u u display cls partial display Image format format embed True out Bytes I O  render g out format include asset exists include asset exists return display cls data out 
def canonical Title title lang None imdb Index None is Unicode isinstance title unicode articles Dicts linguistics Dicts For Lang lang try if title ' ' [ -1 ].lower in articles Dicts Unicode return titleexcept Index Error passif is Unicode  format u %s'else  format '%s%s %s'ltitle title if imdb Index imdb Index ' %s ' % imdb Index else imdb Index 'rticles linguistics Articles For Lang lang for article in sp Articles Unicode if ltitle article lart len article title  format % title ] imdb Index title lart if article -1 ] '' title title -1 ]breakreturn title 
def binarize X threshold 0.0 copy True X check array X accept sparse ['csr' 'csc'] copy copy if sparse X if threshold < 0 raise Value Error 'annotbinarizeasparsematrixwiththreshold cond X > threshold not cond np not cond X 1 cond 0 zeros else cond X > threshold not cond np not cond X 1 cond 0return X
def ensure dict param default value default key None if not param param default valueif not isinstance param dict if param default value paramreturn {default key param default value return param default value 
def  handle Text Notes s ssplit s ' ' 1 if len ssplit 1 return sreturn u % ssplit ssplit 
def two step backprop mlp raise Not Implemented Error 'TODO implementthisfunction 
@step u def step note that context remark log getattr context 'log' None if log log u N O T E %s;' % remark 
def Set Properties msg prop Dict new Props []for key val in prop Dict if type key in [str unicode new Props mapi P S PUBLIC STRINGS key if new Props new Ids msg Get I Ds From Names new Props mapi M A P I CREATE new Id No 0rops []for key val in prop Dict if type key in [str unicode type val type val if type val in [str unicode tag Type mapitags P T U N I C O D Eelif type val Int Type tag Type mapitags P T I4elif type val Time Type tag Type mapitags P T S Y S T I M Eelse raise Value Error 'hetypeofobject %s cannotbewritten % repr val type val key mapitags P R O P TAG tag Type mapitags P R O P ID new Ids Id No new Id No new Id No + 1 new Props key val msg Set Props new Props 
@decorators.which bin ['lsblk' 'df'] def fstype device if salt 'lsblk' lsblk out   salt  ['cmd.run'] 'lsblk-ofstype{0}'.format device .splitlines if len lsblk out > 1 fs type lsblk out if fs type return fs typeif salt 'df' df out   salt  ['cmd.run'] ' device .splitlines if len df out > 1 fs type df out fs type return fs typereturn ''
def  getargs func import typesif sys info > 3 0 if isinstance func types Method Type func func  func  co func  code  else if isinstance func types Method Type func func funcco func codereturn co varnames co argcount 
def box on None ax gca on  string to bool on if on is None on not ax frame on ax frame on on 
def call status *args **kwargs res dict devices  get lights for dev id in 'id' not in kwargs and sorted devices or  get devices kwargs res id {'on' devices id 'reachable' devices id res 
@permission required 'users.add userban def ban user request username User get user model user get object or 404 User username username if request 'POST' form User Ban Form data request P O S T if form valid ban User Ban user user by request reason form data is active True ban return redirect user else if user ban return redirect user form User Ban Form try common reasons json config C O M M O N REASONS TO BAN USERS except Type Error Value Error common reasons [pam if not common reasons common reasons [pam render request 'users/ban user {'form' form 'detail user user 'common reasons common reasons 
def calc H A1 psz Alg psz User Name psz Realm psz Password psz Nonce psz C Nonce pre H A1 None if pre H A1 and psz User Name or psz Realm or psz Password raise Type Error ' A1isincompatiblewiththepsz User Name psz Realm andpsz Passwordarguments if pre H A1 is None m algorithms Alg m psz User Name m ' ' m psz Realm m ' ' m psz Password HA1 m else HA1 pre H A1 'hex' if psz Alg 'md5-sess' m algorithms Alg m HA1 m ' ' m psz Nonce m ' ' m psz C Nonce HA1 m return H A1 'hex'
def setup index page info if page info u index txt path os page info u if os index txt path page info open index txt path u .read .splitlines
def get client ip request if 'HTTP X REAL IP' in request M E T A if request M E T A R E M O T E ADDR'] not in atc api settings P R O X Y IPS raise Value Error 'HTTP X REAL I Psetbynon return request M E T A H T T P X REAL I P return request M E T A R E M O T E ADDR']
def sectorize position x y z normalize position x y z x // SECTOR SIZE y // SECTOR SIZE z // SECTOR SIZE return x 0 z 
def setup test template loader templates dict use cached loader False if hasattr loader RESTORE LOADERS ATTR raise Exception 'loader.%salreadyexists' % RESTORE LOADERS ATTR def test template loader template name template dirs None 'customtemplateloaderthatloadstemplatesfromadictionary return templates dict name 'test %s' % template name except Key Error raise Template Does Not Exist template name if use cached loader template loader cached Loader 'test template loader template loader cached loaders test template loader else template loader test template loadersetattr loader RESTORE LOADERS ATTR loader source loaders loader source loaders template loader return template loader 
def sqrtdenest expr max iter 3 expr expand mul sympify expr for i in range max iter z  sqrtdenest0 expr if expr z return exprexpr zreturn expr 
def get Hypersearch Winning Model I D job I D cj D A O Client Jobs D A O job Results cj D A O Get Fields job I D ['results'] [0]print 'ypersearchjobresults %r' % job Results job Results json job Results return job Results Model 
@handle response format login required admin required def perspective add request response format 'html' if request P O S T if 'cancel' not in request P O S T perspective Perspective form Perspective Form request request P O S T instance perspective if form valid perspective form perspective user from request request return Http Response Redirect reverse 'core admin perspective view args [perspective.id] else return Http Response Redirect reverse 'core admin index perspectives else form Perspective Form request return render to response 'core/administration/perspective add {'form' form ul } context instance Request Context request response format response format 
def  Can Merge Line Into If Statement lines limit if len lines 1 and lines multiline string return Trueif lines ! lines return Falseif lines length > limit return Falsereturn style Get 'JOIN MULTIPLE LINES'
def command output cmd shell False proc subprocess Popen cmd stdout subprocess P I P E stderr subprocess P I P E close fds platform ! 'indows shell shell stdout stderr proc if proc raise subprocess Called Process Error returncode proc cmd ''.join cmd return stdout 
def get image model string return getattr settings u W A G T A I L I M A G E S IMAGE MODEL' u Image 
def QTEV type uuid hostname clock name None timestamp None return Event u type uuid uuid hostname hostname clock clock name name timestamp timestamp or time 
def get Arc Path element Node begin element Node Previous Vertex Vector3 end evaluate Vector3 From Element Node element Node large Arc Flag evaluate Evaluated Boolean True element Node 'rc Flag radius lineation Complex By Prefix element Node 'radius' complex 1.0 1.0 sweep Flag evaluate Evaluated Boolean True element Node 'lag x Axis Rotation math evaluate Evaluated Float 0.0 element Node 'xis Rotation arc Complexes svg reader Arc Complexes begin Axis end Axis large Arc Flag radius sweep Flag x Axis Rotation path []if len arc Complexes < 1 return [ end - begin / float len arc Complexes z begin point Index in xrange len arc Complexes point Complex arc Complexes Index + increment Zpath Vector3 point Complex point Complex z if len path > 0 path -1 ] endreturn path 
def  do extrapolate fill value return isinstance fill value string types and fill value 'extrapolate'
@register u def insert comment event buff event bufferif event ! 1 def change line return line ] if line u else line else def change line return u + line buff Document text u map change buff cursor position 0 buff action and handle event buff 
def address type address return len address 4 and  TYPE A or  TYPE AAAA
def vb start vm name None timeout 10000 **kwargs start time time timeout in seconds timeout / 1000 max time start time + timeout in seconds vbox vb get box machine vbox Machine name session  virtualbox Manager Session Object vbox log 'tartingmachine name vb machinestate to str machine try args machine session progress wait for  start machine timeout timeout in seconds func args args if not progress progress machine V M Process session '' '' time left max time - time progress For Completion time left * 1000 finally  virtualbox Manager Machine Session session time left max time - time vb wait for session state session timeout time left log 'tartedmachine name return vb xpcom to attribute dict machine ' Machine 
def treeapply tree join leaf identity for typ in join if isinstance tree typ return join *map partial treeapply join join leaf leaf tree return leaf tree 
def trailing n n int n if not n return 0low byte n & 255 if low byte return small trailing byte bitcount n - 1 if isinstance z SYMPY INTS if n 1 << z return zt 0p 8while not n & 1 while not n & 1 << p - 1 n >> pt + pp * 2p // 2return t 
def read raw ctf directory system clock 'truncate' preload False verbose None return Raw C T F directory system clock preload preload verbose verbose 
def test x 2d assert equal lae a X 2 assert equal lae b X 2
def remove zone slave service master device id service 'master' slaves ids service 'slaves' slaves [device for device in DEVICES if device id in slaves ids ]master next [device for device in DEVICES if device id master device id ].  iter   None if master is None  L O G G E R 'nabletofindmasterwithentity id ' + master device id elif not slaves  L O G G E R 'nabletofindslavestoremove else  L O G G E R 'emovingslavesfromzonewithmaster + str master master zone slave [slave.device for slave in slaves 
def is consistent type the Type name *rgs assert the Type  name   name assert isinstance the Type type instance the Type *rgs assert type instance is the Type return True 
@register.inclusion tag 'zinnia/tags/dummy.html' def get popular entries number 5 template 'zinnia/tags/entries popular return {'template' template 'entries' Entry comment count  gt 0 .order by '-comment count '-publication date [ number 
def to 7L1M value return value & 127 value >> 7 & 1
def in reactor f def wrap *args **kwargs from twisted import reactor deferresult []def async d defer Deferred f *args **kwargs @rrbackdef eb f f Traceback @othdef do stop r result r reactor reactor When Running async reactor return result  doc   f  doc  wrap  name   f  name  wrap orig freturn wrap 
def retract bindings fstruct bindings fs class u if fs class u fs class  default fs class fstruct fstruct new bindings copy fstruct bindings bindings new bindings inv bindings dict id val var for var val in bindings  retract bindings fstruct inv bindings fs class set return fstruct 
def  clear context for key in list   context   try if key 'systemd. systemctl status or key in 'systemd.systemd services   context  .pop key except Attribute Error continue 
def generate timestamp return int time 
def isident s first string + '_' body string + first if not s return Falseif s not in first return Falseif not all c in body for c in s ] return Falsereturn True 
def local align primer seq primer sequence sw scorer equality scorer ambigs query primer primerquery sequence str sequence alignment pair hmm align unaligned seqs [query primer query sequence primer hit str alignment Seqs target hit str alignment Seqs insertions primer hit '-' deletions target hit '-' mismatches 0for i in range len target hit if sw scorer target hit primer hit -1 and target hit ! '-' and primer hit ! '-' mismatches + 1try hit start query sequence target hit '-' '' except Value Error raise Value Error 'substringnotfound querystring target hit % query sequence target hit mismatch count insertions + deletions + mismatches return mismatch count hit start 
def thetagrids *args **kwargs ax gca if not isinstance ax Polar Axes raise Runtime Error 'rgridsonlydefinedforpolaraxes' if len args 0 lines ax ticklines labels ax ticklabels else lines labels ax thetagrids *args **kwargs draw if interactive return silent list 'ine2 Dthetagridline lines silent list 'extthetagridlabel labels 
def create module bookmark actions parent bookmarks actions []for key url title in bookmarks create act Trueif key 'winpython' if not programs module installed key create act Falseif create act act create bookmark action parent url title actions act return actions 
def Profile List Entry From String xml string return atom Create Class From X M L String Profile List Entry xml string 
def  set term title *args **kw pass 
def is nose class cls return any name in [p u Down for name _ in inspect cls 
def get location vm  None return   opts  .get 'location' config cloud config value 'location' vm  or get configured provider   opts   default DEFAULT LOCATION search global False 
def  copy master fd master read  read stdin read  read fds [master fd STDIN F I L E N O True rfds wfds xfds select fds [] [] if master fd in rfds data master read master fd if not data fds master fd else os STDOUT FILENO data if STDIN FILENO in rfds data stdin read STDIN FILENO if not data fds STDIN FILENO else  writen master fd data 
def Create C Make Target Full Name qualified target gyp file gyp target name gyp target toolset gyp Parse Qualified Target qualified target cmake target full name gyp file + ' ' + gyp target name if gyp target toolset and gyp target toolset ! 'target' cmake target full name + '_' + gyp target toolset return String To C Make Target Name cmake target full name 
def flow from clientsecrets filename scope message None try client type client info clientsecrets filename if client type in [ Y P E WEB clientsecrets T Y P E INSTALLED] return O Auth2 Web Server Flow client info id client info secret scope None client info uri client info uri except clientsecrets Invalid Client Secrets Error if message sys message else raiseelse raise Unknown Client Secrets Flow Error 'his O Auth2 "%s"' * client type 
def get installed extension name user None host None port None maintenance db None password None runas None return installed extensions user user host host port port maintenance db maintenance db password password runas runas .get name None 
def dup sqf list include f K all False coeff factors dup sqf list f K all all if factors and factors 1 g dup mul ground factors coeff K return [ g 1 ] + factors ] else g dup strip [coeff] return [ g 1 ] + factors 
def mcycles to seconds mcycles if mcycles is None return 0return quota to cpu seconds mcycles 
def length prefix length offset if length < 56 return chr offset + length else length string int to big endian length return chr offset + 56 - 1 + len length string + length string 
def depart snippet literal self node self literal block node 
def get affected nodes db addon class query db {'.'.join '  backrefs 'addons' addon class  name  .lower 'owner' '0' {'$exists' False return Node node id for node in query 
def gf frobenius map f g b p K m gf degree g if gf degree f > m f gf rem f g p K if not f return []n gf degree f sf [f[ -1 ]]for i in range 1 n + 1 v gf mul ground b f n - i ] p K sf gf add sf v p K return sf 
@nottestdef slow test f f test Truereturn f 
def  count elements mapping iterable mapping get mapping elem in iterable mapping mapping get elem 0 + 1
def guess spatial dimensions image if image 2 return 2if image 3 and image -1 ] ! 3 return 3if image 3 and image -1 ] 3 return Noneif image 4 and image -1 ] 3 return 3else raise Value Error 'xpected2 D 3D or4 Darray got D % image 
def parse repl named char source saved pos source source '{' name source while ALPHA | set '' if source '}' try value unicodedata name return ord value except Key Error raise error 'undefinedcharactername' source source source saved posreturn None 
@must be logged indef user choose mailing lists auth **kwargs user auth data escape html request json if json data for list name subscribe in json data if list name settings O S F HELP LIST update osf help mails subscription user user subscribe subscribe else update mailchimp subscription user list name subscribe else raise H T T P Error http B A D REQUEST data dict message long "ustprovideadictionaryoftheformat Boolean user all mailing lists {}all mailing lists user mailing lists all mailing lists user mailing lists return {'message' 'uccessfullyupdatedmailinglists 'result' all mailing lists 200
def count unbalanced brackets line count 0for opening closing in [u' ' u u count + abs line opening - line closing return count 
@with setup prepare stdout def test output of table with success colorless runner Runner join path 'pt-br' 'success' 'table.feature' verbosity 3 no color True runner assert stdout lines u Funcionalidade featureburra comtabela specific features 3omoumprogramador specific features 4uquerotestarstepscomtabelas specific features 5araverooutputempt specific features 6en Fazernada comtabelas #tests/functional/language specific features 8adoqueeubrincocomosseguintesitens #tests/functional/language specific features steps 6\n|id|description|\n|12|somedesc|\n|64|anotherdesc|\n\n1feature 1passed \n1scenario 1passed \n1step 1passed \n'
def verify and update password password user if  pwd context user ! 'plaintext' password get hmac password verified new password  pwd context and update password user if verified and new password user encrypt password password  datastore user return verified 
def set Logger Class logging Class assert issubclass logging Class I Logger 'lassmustsubclass I Logger  Logger Class Logger Class logging Class 
def add taps module brew path taps failed unchanged added msg False 0 0 '' for tap in taps failed changed msg add tap module brew path tap if failed breakif changed added + 1else unchanged + 1if failed msg 'added %d unchanged %d error ' + msg msg msg % added unchanged elif added changed Truemsg 'added %d unchanged %d' % added unchanged else msg 'added %d unchanged %d' % added unchanged return failed changed msg 
def check pg name name if not regex pg name name raise Validation Error 'nvalidcharactersintablename % name if len name > 63 raise Validation Error 'ablename % name 
def render final params runner parameters action parameters params action context G  create graph action context [ node name value value for name value in six params ] process defaults G [action parameters runner parameters  validate G context  resolve dependencies G context  cast params from context context [action parameters runner parameters return  split params runner parameters action parameters context 
def is modified kev fflags kev fflags & select K Q NOTE EXTEND or fflags & select K Q NOTE WRITE
def abs mat target None if not target target materr code  cudamat abs mat mat target mat if err code raise generate exception err code return target 
def colorize image hue saturation 1 hsv color image hsv 1] saturationhsv 0] huereturn color hsv 
def replication group exists name region None key None keyid None profile None return bool describe replication groups name name region region key key keyid keyid profile profile 
def create ca file anchor list filename try f open filename 'w' for a in anchor list s a fmt 'PEM' f s f except return Nonereturn filename 
def set descriptor dev desc desc type desc index w Index None w Value desc index | desc type << 8 bm Request Type util request type util C T R L OUT util C T R L TYPE STANDARD util C T R L RECIPIENT DEVICE dev transfer bm Request Type bm Request Type b Request 7 w Value w Value w Index w Index data or w Length desc 
def get Loops Loops Intersections loops other Loops loops Loops Intersections []for loop in loops add Loop Loops Intersections loop loops Loops Intersections other Loops return loops Loops Intersections 
def sqlors left lst if isinstance lst iters lst list lst ln len lst if ln 0 return S Q L Query '1 2' if ln 1 lst lst isinstance lst iters return S Q L Query [' '] + sum [[left sqlparam x 'OR'] for x in lst [] + ['1 2 '] else return left + sqlparam lst 
def get file device path fname fname os fname mtab dict {}try for ent in get mtab mtab dict dir ent fsnameexcept passfdir os fname if fdir in mtab dict match Trueelse match Falsechrootfs Falsewhile not match if fdir os chrootfs Truebreakfdir os os fdir os if fdir in mtab dict match Trueelse match Falseif fdir ! os fname fname fdir ]if chrootfs return ' ' fname else return mtab dict fname 
@handle response format login requireddef receivable view request receivable id response format 'html' receivable get object or 404 Liability pk receivable id transactions receivable set return render to response 'finance/receivable view {'liability' receivable 'transactions' transactions context instance Request Context request response format response format 
def variation a axis 0 a axis  chk asarray a axis return a axis / a axis 
def  argus phi chi return  norm cdf chi - chi *  norm pdf chi - 0.5
def pairwise kernels X Y None metric 'linear' filter params False n jobs 1 **kwds from ..gaussian process import Kernel as G P Kernelif metric 'precomputed' X _ check pairwise arrays X Y precomputed True return Xelif isinstance metric G P Kernel func metric  call  elif metric in PAIRWISE KERNEL FUNCTIONS if filter params kwds dict k kwds for k in kwds if k in KERNEL P A R A M S func PAIRWISE KERNEL F U N C T I O N S callable metric func partial  pairwise callable metric metric **kwds else raise Value Error 'nknownkernel % metric return  parallel pairwise X Y func n jobs **kwds
def add links plan scheme links force replace False links to add list links links to remove [conflicting single link scheme link for link in links to remove [ f for  f in links to remove if  f not force replace links to add links to remove remove duplicates links to add links to remove return links to add links to remove 
def create epic **kwargs owner kwargs 'owner' None if not owner owner User Factory project kwargs 'project' None if project is None project Project Factory owner owner defaults {'project' project 'owner' owner kwargs return Epic Factory **defaults
def  Get Google Storage File Metadata blob key try gs info datastore Get datastore Key path file service stub G S INFO KIND blob key namespace '' return gs info gs info type gs info key except datastore errors Entity Not Found Error return None None None 
def call c library expanduser '~/.image.so' sauce join dirname   file   'image.c' if not exists library or getmtime sauce > getmtime library build ' I C % library sauce os build + '>/dev/null2>&1' image c ctypes Load Library library image c return image c to ansi 
def lookup casstype simple casstype shortname trim if startswith casstype apache cassandra type prefix try typeclass  casstypes Key Error typeclass mk Unrecognized Type casstype return typeclass 
def block device mapping get all by instance context instance uuid return I M P L device mapping get all by instance context instance uuid 
def Derive I D From Path path invalid chars re ' Z0 components path '/' return '_' + '-'.join [invalid chars lambda x ' %02X' % ord x 0 x for x in components if x 
def  mask filter result result mask if mask is None result ] 0result[ -1 ] 0result[ 0] 0result[ -1 ] 0return resultelse mask binary erosion mask EROSION SELEM border value 0 return result * mask 
@db api context manager  ensure rc cache ctx global  RC C A C H Eif  RC CACHE is not None return RC CACHE rc cache Resource Class Cache ctx 
def config dict changed module current config module current config 'config' desired config module desired config 'config' return current config ! desired config 
def pport D4 state global data Regif state 0 data Reg data Reg & ~ 16 else data Reg data Reg | 16 port Dl Port Write Port Uchar base Address data Reg 
def  ip sort ip idx '001'if ip '127.0.0.1' idx '200'if ip ' 1' idx '201'elif ' ' in ip idx '100'return '{0}   {1}'.format idx ip 
def register api routes application register log 'installingapplicationroutes ' methods inspect application methods filter lambda n not n '_' methods for method func in dict methods .iteritems pieces method '_' verb path pieces pieces ] args inspect func .args[1 ]args [ '<%s>' % arg for arg in args '/'.join args args '' if len args 0 else '/' + args path 0 application namespace path '/'.join path + args log '%6s %s' % verb path register path method verb name method func 
def pkill pattern user None signal 15 full False killed []for proc in psutil iter name match pattern in ''.join  get proc cmdline proc if full else pattern in  get proc name proc user match True if user is None else user  get proc username proc if name match and user match try proc signal signal killed  get proc pid proc except psutil No Such Process passif not killed return Noneelse return {'killed' killed 
@register.inclusion tag u issue takes context True def comment issue context review request comment comment type issue status Base Comment status to string comment status user context u None return {u'comment' comment u type comment type u status issue status u comment review u comment change issue status user }
def meanabs x1 x2 axis 0 x1 np x1 x2 np x2 return np np x1 - x2 axis axis 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def get String From Character Split Line character split Line index Of Character get Index Of Starting With Second character split Line if index Of Character < 0 return Nonereturn split Line Of Character ]
def event handlers all handlers defaultdict list for plugin in find plugins if plugin for event handlers in plugin all handlers + handlersreturn all handlers 
def  compute lwork routine *args **kwargs wi routine *args **kwargs if len wi < 2 raise Value Error '' info wi -1 ]if info ! 0 raise Value Error 'nternalworkarraysizecomputationfailed %d' % info lwork [w.real for w in wi -1 ]]dtype getattr routine 'dtype' None if dtype  np or dtype  np lwork  np lwork  np dtype  np lwork  np lwork  np if  np  np or lwork < 0 lwork >  np  np .max raise Value Error 'oolargeworkarrayrequired L A P A C K lwork lwork  np if lwork 1 return lwork lwork 
def requires load dynamic meth meth support only meth return unittest If not hasattr imp 'load dynamic 'imp.load dynamic required meth 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def get lang js fortype name return u frappe messages %s ' % json get dict fortype name 
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def event source mapping exists UUID None Event Source Arn None Function Name None region None key None keyid None profile None desc describe event source mapping UUID UUID Event Source Arn Event Source Arn Function Name Function Name region region key key keyid keyid profile profile if 'error' in desc return descreturn {'exists' bool desc 'event source mapping }
def close room room socketio flask app room room namespace flask 
def get version version None if version is None from gfirefly import VERSION as versionelse assert len version 5 assert version in u u u u parts 2 if version 0 else 3 main u str x for x in version parts sub u version u and version 0 git changeset get git changeset if git changeset sub u % git changeset elif version ! u mapping {u'alpha' u u u u u mapping + str version return str main + sub 
def spectral radius bound X log2 exponent if X ! 2 raise Type Error 'spectral radius boundrequiresamatrixargument X if not isinstance log2 exponent integer types raise Type Error 'spectral radius boundrequiresanintegerexponent log2 exponent if log2 exponent < 0 raise Value Error 'spectral radius boundrequiresastrictlypositiveexponent log2 exponent XX Xfor i in xrange log2 exponent XX tensor XX XX return tensor trace XX 2 ** - log2 exponent 
def match device device match re ' ^/dev/x{0 1}[a-z]{0 1}d{0 1} [a-z]+ [0-9]*$' device if not match return Nonereturn match 
def rename files container file map overlap set file map .intersection set file map if overlap raise Value Error u Circularrenamedetected Thefiles % u '.join overlap for name dest in file map if container dest if name ! dest and name dest continueraise Value Error u Cannotrename name dest if len tuple file map ! len set file map raise Value Error u Cannotrename thesetofdestinationfilescontainsduplicates link map {}for current name new name in file map container current name new name if new name ! container name link map name new namereplace links container link map replace in opf True 
def attach epics queryset as field 'epics attr model queryset ' E L E C Tjson agg row to json t \ R O M S E L E C T epic A S \n"epics epic A S \n"epics epic A S \n"epics epic A S \n S E L E C Trow to json p \ R O M S E L E C T project A S \n"projects project A S \n"projects project A S p A S F R O M relateduserstory I N N E R J O I N epic O N epic "epics relateduserstory id I N N E R J O I N project O N project "epics epic id W H E R E relateduserstory story id { R D E R B Y project "epics epic t sql tbl model meta table queryset queryset select {as field sql return queryset 
def modify group group params immediate False changed {}new params dict params for key in new params if key in group param group value new params old value param Value Error old value param valueif old value ! new value if not param modifiable raise Not Modifiable Error 'arameter % key changed {'old' old value 'new' new value parameter param new value immediate del new params changed new params 
def test keypoints censure scale range error assert raises Value Error CENSURE min scale 1 max scale 2
def  Set Must Split On First Leaf node def Find First Leaf node if isinstance node pytree Leaf return nodereturn Find First Leaf node pytree utils Set Node Annotation Find First Leaf node pytree utils Annotation M U S T SPLIT True 
def get vdi for vm safely session vm ref userdevice '0' vbd refs  vm get vbd refs session vm ref for vbd ref in vbd refs vbd rec  vbd get rec session vbd ref if vbd rec userdevice vdi ref vbd rec V D I rec  vdi get rec session vdi ref return vdi ref vdi rec raise exception Nova Exception _ 'oprimary V D Ifoundfor % vm ref 
def dynamic import import string lastdot import string '.' if lastdot -1 return   import   import string {} {} [] module name attr import string lastdot import string lastdot + 1 ] parent module   import   module name {} {} [attr] return getattr parent module attr 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def import set dset in stream headers True dset if is py3 rows csv in stream delimiter ' DCTB ' else rows csv in stream delimiter ' DCTB ' encoding DEFAULT ENCODING for i row in enumerate rows if not row continueif i 0 and headers dset rowelse dset row 
def win standby try subprocess Popen 'rundll32powrprof.dll Set Suspend State Standby time 10 except logging T 'ailedtostandbysystem logging 'raceback ' exc info True 
def write File Message End end file Name file Text message suffix File Name get Until Dot file Name + end write File Text suffix File Name file Text print message + get Summarized File Name suffix File Name 
@register.inclusion tag 'test incl tag use l10n takes context True def inclusion tag use l10n context return {}
def  is metadata of group parent group if group v depth < parent group v depth return Falsecurrent groupwhile current v depth > 1 parent current v parentif parent parent group and current v name 'meta' return Truecurrent current v parentreturn False 
def get from identity session key passive instance session map key if instance is not None state attributes state instance if state if not passive & attributes S Q L OK return attributes P A S S I V E NO R E S U L Telif not passive & attributes R E L A T E D OBJECT OK return instancetry state load expired state passive except orm exc Object Deleted Error session remove newly deleted [state] return Nonereturn instanceelse return None 
def save load jid load minions None serv  get serv ret None serv jid json load  append list serv 'jids' jid 
def list services zone None permanent True if zone cmd '--zone {0}--list-services'.format zone else cmd '--list-services'if permanent cmd + '--permanent'return   firewall cmd cmd .split
def is user lockable request try field getattr User 'USERNAME FIELD' 'username' kwargs {field request P O S T USERNAME FORM FIELD }user User **kwargs except User Does Not Exist return Trueif hasattr user 'nolockout' return not user elif hasattr settings 'AUTH PROFILE MODULE' try profile user profile if hasattr profile 'nolockout' return not profile except Site Profile Not Available Object Does Not Exist Attribute Error return Truereturn True 
def rst add mathjax content _ ext os os content path if ext ! '.rst' returnif 'class "math"' in content content content content + "<scripttype 'text/javascript'>%s</script>" % rst add mathjax script 
def clause is present clause search for elem in surface selectables search if clause elem return Trueelse return False 
def mkdir dir path return os 'mkdir-p' + dir path 
def get Kex kex Algorithm if kex Algorithm not in  kex Algorithms raise error Conch Error 'nsupportedkeyexchangealgorithm %s' % kex Algorithm return  kex Algorithms Algorithm 
def parent dir action parent fn action cmd action parent cmds Open Parent Dir fn hotkeys S E C O N D A R Y ACTION action Icon icons return action 
def parse parameter list lines parameters num params for line num in range len lines line lines num floats res line floats re line line floats [float val for val in line floats res len line floats num params parameters line if ' Esforparameters ' in lines line num + 1 ] S Es line lines line num + 2 ] Es S Es line breakreturn parameters 
def page from href href return page from reference Reference href 
def get event source status event source lambda arn target function boto session dry False event source obj ctx funk get event source event source lambda arn target function boto session dry False return event source obj funk 
def check version v check try return Loose Version v > Loose Version check except Type Error return True 
def item category table s3db item categorys3 table be asset True field table be assetfield field Falsefield Truereturn s3 rest controller 'supply' 'item category 
def get free space dir name if on win free bytes ctypes ulonglong 0 ctypes Get Disk Free Space Ex W ctypes wchar p dir name None None ctypes free bytes return free bytes st os dir name return st bavail * st frsize 
def personas reviewer required f @login required f def wrapper request *args **kw if  view on get request or acl personas reviewer request return f request *args **kw raise Permission Deniedreturn wrapper 
def blocks are equivalent block1 block2 if block1  class   ! block2  class   return Falseif set block1 ! set block2 return Falsefor field name in block1 if field name in 'parent' 'children' continueif getattr block1 field name ! getattr block2 field name return Falseif block1 children ! block2 children return Falseif block1 children if len block1 ! len block2 return Falsefor child id1 child id2 in zip block1 block2 if child id1 child id2 continuechild1 block1 block child id1 child2 block2 block child id2 if not blocks are equivalent child1 child2 return Falsereturn True 
@context.quietfunc@with devicedef logcat stream False if stream return process ['logcat'] else return process ['logcat' '-d'] .recvall
def  check queue queue kwargs if queue  wait kwargs '  pub jid else conflict running concurrent kwargs 'concurrent' False if conflict   context  ['retcode'] 1return conflict 
def  require permission code name content type from django import Permissioncriteria {'codename' code 'name' name 'content type content type Permission or create **criteria [0]return permission 
def test incomplete list comprehension assert Parser With Recovery load grammar u ' 1fordef' .module.statements []
def consistencygroup update context consistencygroup id values return I M P L update context consistencygroup id values 
def  make Latitude value return base Coordinate value Angles L A T I T U D E 
def read keyval path if os path path os path 'keyval' keyval {}if os path for line in open path line re '#.*' '' line .rstrip if not re '^[-\\.\\w]+ ' line raise Value Error 'nvalidformatline %s' % line key value line ' ' 1 if re '^\\d+$' value value int value elif re '^ \\d+\\. ?\\d+$' value value float value keyval valuereturn keyval 
def agent check warn consul url None checkid None **kwargs ret {}query params {}if not consul url consul url  get config if not consul url log 'o Consul U R Lfound ret 'o Consul U R Lfound Falsereturn retif not checkid raise Salt Invocation Error 'equiredargument if 'note' in kwargs query params kwargs 'agent/check/warn/{0}'.format checkid res  query consul url consul url function function query params query params method 'GET' if res ret Trueret 'heck checkid else ret Falseret 'nabletoupdatecheck checkid return ret 
def   get location conn vm  location config cloud config value 'location' vm    opts   return conn get zone location 
@hypothesis.given strategies def test content disposition directly s try cd rfc6266 headers s cd except Syntax Error Unicode Decode Error rfc6266 Error pass 
def resolve reverse packed ip flags 0 waiter Waiter core resolve reverse packed ip flags waiter args result  type ttl addr waiter if result ! core D N S ERR NONE raise D N S Error result return ttl addr 
def get cached http return  CACHED HTTP
def test angsep from ..angle utilities import angular separationfor conv in np lambda x u Quantity x u lambda x Angle x u for lon1 lat1 lon2 lat2 corrsep in zip coords correct seps angsep angular separation conv lon1 conv lat1 conv lon2 conv lat2 assert np angsep - conv corrsep < conv correctness margin 
def dup to tuple f return tuple f 
def get test file name return os TEST DATA name 
def subplot plot style list ['g+-' 'r*-' 'b.-' 'yo-']for num in range 4 x np 0.0 2 + num num 10 * num + 1 y np 5 - num * np * x plt 2 2 num + 1 plt x y style list plt True plt return 
def copy or rename transcript new name old name item delete old False user None filename 'subs {0}.srt.sjson'.format old name content location Static Content location item key filename transcripts contentstore .find content location .datasave subs to store json transcripts new name item item new nameitem with metadata user if delete old remove subs from store old name item 
def board ids p Popen ['/u/tang/bin/get num gpu boards stdout PIPE n Boards int p return range n Boards 
def remove docker files for filename in ['dev.yml' 'docker-compose.yml' '.dockerignore'] os os PROJECT DIRECTORY filename shutil os PROJECT DIRECTORY 'compose'
def filldoc docdict unindent params True if unindent params docdict unindent dict docdict def decorate f f  doc   docformat f  doc   docdict return freturn decorate 
def Unset Variable output variable name output 'unset ' output variable name output ' \n'
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def close review request review request review request id description if review request Review Request S U B M I T T E D logging u Reviewrequest review request id returnif not review request review request review request review request Review Request S U B M I T T E D description description logging u Reviewrequest review request id review request 
def Get Query Node Text node return Get Query Node Text Unicode node .encode 'utf-8'
def make runner scenarios pidlockfile scenarios make pidlockfile scenarios scenarios {'simple' {'pidlockfile scenario name 'simple'} 'pidfile-locked' {'pidlockfile scenario name 'exist-other-pid-locked'}}for scenario in scenarios if 'pidlockfile scenario name in scenario pidlockfile scenario pidlockfile scenarios scenario scenario name scenario pidlockfile scenario path pidlockfile scenario timeout 23scenario['pidlockfile scenario pidlockfile scenarioreturn scenarios 
def p statement assign p names p 
def load macros module name def  import module module name module name '  import  amodule avoidingrecursions module ! module name   import   module for module in CORE MACROS  import module if module name 'hy.core' returnfor module in EXTRA MACROS  import module 
def  get binding info hostheader '' ipaddress '*' port 80 ret '{0} {1} {2}'.format ipaddress port hostheader '' '' return ret 
def get value by key attrs *args for search attr key in args for attr key attr value in attrs if attr key search attr key return attr valuereturn None 
def test tl fit tl Tomek Links random state RND SEED tl X Y assert equal tl c  0 assert equal tl c  1 assert equal tl c [0] 7 assert equal tl c [1] 13
@blueprint.route '/visualize-network' methods ['POST'] def visualize network framework flask 'framework' if not framework raise werkzeug Bad Request 'frameworknotprovided' fw frameworks framework by id framework ret fw network visualization flask network return ret 
def relative distance a str b str set a set a str '' set b set b str '' if min len set a len set b in 0 1 return difflib Sequence Matcher None a str b str .quick ratio return 1.0 * len set a set b / max len set a len set b 
def  get A P I node base ''if node Attribute 'base' base node Attribute 'base' + '.' return base + node Nodes Value 
def get city lat long request if ' App Engine City in request return request X App Engine City Lat Long None 
def with rw directory func @wraps func def wrapper self path tempfile prefix func  name   os path keep Falsetry return func self path except Exception log 'est outputisat type self .  name   func  name   path keep Trueraisefinally import gcgc if not keep rmtree path return wrapper 
def secure required view func def  wrapped view request *args **kwargs if not request secure if getattr settings 'USERENA USE HTTPS' userena settings D E F A U L T USERENA USE HTTPS request url request absolute uri request full path secure url request url 'http //' 'https //' return Http Response Permanent Redirect secure url return view func request *args **kwargs return wraps view func assigned available attrs view func  wrapped view 
def f classif X y X y check X y X y ['csr' 'csc' 'coo'] args [ mask X y k ] for k in np y ]return f oneway *args
def track seen event db conn db init db conn if event 1] '#' and not re '^s/.*/.*/$' event db 'insertorreplaceintoseen user name time quote chan host values name time quote chan host ' {'name' event 'time' time 'quote' event 'chan' event 'host' event db 
@task ignore result False def run indexing index index name ids indexer INDEXER M A P name indexing ids ES index index 
def list with level course level return R O L E S course .users with role 
def  add node class names names for  name in names setattr Generic Node Visitor 'visit ' +  name  call default visit setattr Generic Node Visitor 'depart ' +  name  call default departure setattr Sparse Node Visitor 'visit ' +  name  nop setattr Sparse Node Visitor 'depart ' +  name  nop 
def random identifier return '%016x' % random 0 2 ** 64 - 1
def inject coursetalk keys into context context course key show coursetalk widget models Course Talk Widget Configuration enabled if show coursetalk widget context coursetalk widget Truecontext key models Course Talk Widget Configuration platform key context review key get coursetalk course key course key 
def initialized return D E T A I L S 'initialized' False 
def p compound statement 4 t pass 
def amap fn *args return np list map fn *args
def extract dependencies reg assignments return sorted [k for k v in assignments if v reg ]
def association proxy target collection attr **kw return Association Proxy target collection attr **kw
def firebase get path response content  get http .request path method 'GET' return json content 
def test senn multiclass error y np 0 1 20 sm SMOTEENN random state RND SEED assert warns User Warning sm X y y np [0] * 3 + [1] * 2 + [2] * 15 sm SMOTEENN random state RND SEED assert warns User Warning sm X y 
def  fix up media upload method desc root desc path url parameters media upload method desc 'pload {} accept media upload 'accept' [] max size  media size to long media upload 'ize '' media path url Noneif media upload media path url  media path url from info root desc path url parameters body MEDIA BODY PARAMETER DEFAULT V A L U E parameters mime type MEDIA MIME TYPE PARAMETER DEFAULT V A L U E if 'body' in parameters parameters Falsereturn accept max size media path url 
def make pattern pat if pat is None return Noneif isinstance pat six type pat pat 'utf8' if isinstance pat six type pat re pat if hasattr pat 'search' return pat hasattr pat '  call  ' return patraise Value Error 'annotmakecallablepatternobjectoutof % pat 
def As Iter arg if isinstance arg basestring rslt [arg]elif isinstance arg collections Iterable rslt argelif not arg rslt []else rslt [arg]return tuple rslt 
def  populate unknown statuses set tasks visited set for task in set tasks pending not ext  depth first search set tasks task visited 
@not implemented for 'undirected' 'multigraph' def overall reciprocity G n all edge G of edges n overlap edge n all edge - G undirected .number of edges * 2 if n all edge 0 raise Network X Error 'otdefinedforemptygraphs return float n overlap edge / float n all edge 
def attach tags objs if objs obj dict {obj.id obj for obj in objs name Tag get m2m name objs field name getattr objs m2m name .query field nameqs Tag blocked .filter **{ '%s  in % field name obj dict } .values list '%s  id % field name 'tag text for obj tags in sorted groupby qs lambda x x setattr obj dict '%s list % m2m name [t[1] for t in tags 
def make tag target **attrs target id target type object class target name default time int time datetime 2010 1 1 .timetuple all attrs {'tagger' 'est Author 'tag time default time 'tag timezone 0 'message' 'estmessage 'object' target type target id 'name' 'est Tag attrs attrs return make object Tag **all attrs 
def find predicate seq for element in seq if predicate element return elementreturn None 
def get list for db participant id if participant id is None return db ' E L E C Tc F R O Mcommunitiesc O R D E R B Ynmembers D E S C slug else return db ' E L E C Tc F R O Mcurrent community membersccm J O I Ncommunitiesc O Nc ccm W H E R Eccm member A N Dccm % R D E R B Yc A S C c participant id 
def try polynomial func z abuckets bbuckets sift func  mod1 sift func  mod1 a0 abuckets S 0 ]b0 bbuckets S 0 ]a0.sort b0 al0 [x for x in a0 if x < 0 ]bl0 [x for x in b0 if x < 0 ]if bl0 return ooif not al0 return Nonea al0 -1 ]fac 1res S 1 for n in Tuple *list range - a fac * zfac / n + 1 for a in func fac * a + n for b in func fac / b + n res + facreturn res 
def task install ssh key return sequence [sudo from args ['cp' '.ssh/authorized keys '/root/.ssh/authorized keys ]
@pytest.fixture scope u def celery worker pool return u 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  Check Enum value name values None if value not in values raise Value Error '%s %rmustbein%s' % name value values return value 
def get jobs server  connect jobs server jobs if jobs return jobsreturn {}
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def update and define min max config minimum default maximum default minimum value minimum defaultmaximum value maximum defaultif config CONF MINIMUM minimum value config CONF MINIMUM if config CONF MAXIMUM maximum value config CONF MAXIMUM return minimum value maximum value 
def most common d return sorted iteritems d key operator 1 reverse True 
def social auth user backend uid user *args **kwargs social user User Social Auth social auth backend uid user return {'social user social user 'user' user 'new association False 
def  sort messages messages sort by messages list messages if sort by 'message' messages elif sort by 'location' messages key lambda m m return messages 
def find file in dirs path dirs if os path return pathfor d in dirs if d '.' f pathelse d os d f os d path if os f return freturn path 
def inv item packs try item id request raise HTTP 400 current message False 400 'ovalueprovided table s3db inv itemptable db item packquery table item id & table id ptable id records db query .select ptable ptable ptable output records response Content Type 'application/json'return output 
@csrf protect cachedef login request template name 'registration/login.html' redirect field name REDIRECT FIELD NAME authentication form Authentication Form redirect to request R E Q U E S T redirect field name '' if request 'POST' form authentication form data request P O S T if form valid if not redirect to or '' in redirect to redirect to settings L O G I N REDIRECT U R Lelif '//' in redirect to and re '[^\\?]*//' redirect to redirect to settings L O G I N REDIRECT U R Lauth login request form user if request cookie worked request test cookie return Http Response Redirect redirect to else form authentication form request request test cookie current site get current site request return render to response template name {'form' form redirect field name redirect to 'site' current site 'site name current site context instance Request Context request 
def scale image data width 60 height 80 compression quality 70 as png False preserve aspect ratio True img image from data data if preserve aspect ratio scaled nwidth nheight fit image img img width height if scaled img img nwidth nheight Qt Keep Aspect Ratio Qt Smooth Transformation elif img ! width or img ! height img img width height Qt Ignore Aspect Ratio Qt Smooth Transformation fmt u P N G if as png else u J P E G w h img img return w h image to data img compression quality compression quality fmt fmt 
def test option w ignore pyi builder monkeypatch def My E X E *args **kwargs args list args args [ 'ignore '' 'OPTION' ] return EXE *args **kwargs import Py Installer E X E Py Installer main E X Emonkeypatch 'y Installer main E X E My E X E pyi builder source "\nimportsys\nassert'ignore'insys.warnoptions\n"
def virtualenv exists directory return is file posixpath directory 'bin' 'python'
def init logging options log file options basename + '.log' log dir options dir config {'version' 1 'disable existing loggers True 'formatters' {'timestamped' {'format' '% asctime s message s 'datefmt' '%H %M %S'}} 'handlers' {'console' {'level' 'WARNING' 'class' 'tream Handler 'formatter' 'timestamped'} 'file' {'level' 'DEBUG' 'class' 'ile Handler 'formatter' 'timestamped' 'filename' os log dir log file 'mode' 'w'}} 'loggers' {'' {'level' 'DEBUG' 'handlers' ['console' 'onfig log config 
@should dump tracemallocdef stop tracemalloc dump cancel thread SAVE TRACEMALLOC PTR dump tracemalloc 
def time openpyxl start time clock workbook openpyxl Workbook worksheet workbook row in range row max // 2 for col in range col max colletter get column letter col + 1 worksheet '%s%s' % colletter row * 2 + 1 .value 'ow %ol %d' % row col for col in range col max colletter get column letter col + 1 worksheet '%s%s' % colletter row * 2 + 2 .value row + col workbook 'openpyxl.xlsx' elapsed clock - start time print elapsed time 'openpyxl' elapsed 
def device portnumber enum comm Comm Port Identifier Port Identifiers ports []while enum More Elements el enum Element if el Port Type comm Comm Port Identifier P O R T SERIAL ports el return ports Name 
def  format firewall stdout cmd ret ret dict {'success' True 'rulesets' {}}for line in cmd ret if line 'ame continueif line '---' continueruleset status line ret dict status bool ruleset status return ret dict 
def parse graftpoints graftpoints grafts {}for l in graftpoints raw graft l None 1 commit raw graft len raw graft 2 parents raw graft else parents []for sha in [commit] + parents check hexsha sha 'nvalidgraftpoint grafts parentsreturn grafts 
def  fix region region region region or '' .lower return  ALIAS TO R E G I O N region or region 
@auth.s3 requires membership 1 def ticket import tracebackfrom gluon import Restricted Errorif len request ! 2 session T 'nvalidticket redirect URL r request app request request Restricted Error e request app ticket return dict app app ticket ticket traceback s3base Traceback e code e layer e 
def  To Time Zone t tzinfo if pytz is None return t tzinfo None elif tzinfo if not t t pytz t return tzinfo t tzinfo elif t return pytz t pytz .replace tzinfo None else return t 
def rundeck registry xml parent data p X M L Sub Element xml parent 'undeck Notifier mappings [ 'job-id' 'd None 'options' 'options' '' 'node-filters' 'ilters '' 'tag' 'tag' '' 'wait-for-rundeck' 'ait For Rundeck Job False 'fail-the-build' 'ail The Build False ]helpers.convert mapping to xml p data mappings fail required True 
def detach Accept Ms Terminated a Tp Pd pd 3 b Message Type mes Type 6 packet a / b return packet 
def group type get context id inactive False expected fields None return I M P L type get context id inactive expected fields 
def has dataproviders cls if not hasattr cls  DATAPROVIDER CLASS MAP KEY setattr cls  DATAPROVIDER CLASS MAP KEY {} else existing dataproviders getattr cls  DATAPROVIDER CLASS MAP KEY copied dataproviders copy existing dataproviders setattr cls  DATAPROVIDER CLASS MAP KEY copied dataproviders dataproviders getattr cls  DATAPROVIDER CLASS MAP KEY for attr key attr value in cls  dict  .iteritems if callable attr value and not attr key '__' and getattr attr value  DATAPROVIDER METHOD NAME KEY None name getattr attr value  DATAPROVIDER METHOD NAME KEY dataproviders attr valuereturn cls 
def standard team team team team for variants in teams for variant in variants if team variant return variants None 
def Format Number As String num for suffix in ['b' 'KB' 'MB' 'GB'] if num < 1024.0 return '%3.2f%s' % num suffix num / 1024.0return '%3.1f%s' % num 'TB'
def esummary **keywds cgi 'https //eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi'variables {}variables.update keywds return  open cgi variables 
def iter format modules lang if check for language lang format locations ['django.conf.locale.%s']if settings F O R M A T MODULE PATH format locations settings F O R M A T MODULE PATH + '.%s' format locations locale to locale lang locales [locale]if '_' in locale locales locale '_' [0] for location in format locations for loc in locales try yield import module '.formats' location % loc except Import Error pass 
def Go if os 'nt' static Lib ctypes Load Library 'labjackud' ec static Lib Go if ec ! 0 raise Lab Jack Exception ec else raise Lab Jack Exception 'unctiononlysupportedfor Windows 
def  generate user id user return '{0} user id user .lower
def  fake click fig ax point xform 'ax' button 1 kind 'press' if xform 'ax' x y ax Axes point point elif xform 'data' x y ax Data point point else raise Value Error 'unknowntransform' if kind 'press' func partial fig press event x x y y button button elif kind 'release' func partial fig release event x x y y button button elif kind 'motion' func partial fig notify event x x y y try func gui Event None except Exception func 
def  to D O Mname C S Sname def  do C S Sto D O Mname2 m return m 0 [1].capitalize return  re C S Sto D O Mname  do C S Sto D O Mname2 C S Sname 
def nt search seq subseq pattern ''for nt in subseq value I U P A C Data dna values len value 1 pattern + valueelse pattern + '[%s]' % value pos -1 result [pattern]l len seq while True pos + 1s seq ]m re pattern s if not m breakpos + int m 0 result pos return result 
def Ensure Module For Typelib Interface typelib ob progress Instance None b For Demand b For Demand Default b Build Hidden 1 tla typelib ob Get Lib Attr guid tla tla tla tla b For Demand demand Generated Type Libraries str guid lcid major minor ] typelib obtry return Get Module For Typelib guid lcid major minor except Import Error passreturn Make Module For Typelib Interface typelib ob progress Instance b For Demand b Build Hidden 
def get billable traffic campaign start end promote traffic dates campaign return get promo traffic campaign start end 
def add quote db chan target sender message try query qtable .values chan chan nick target add nick sender msg message time time db query db except Integrity Error return 'essagealreadystored doingnothing 'uoteadded 
@ F F I u Value Extern Context Value ' def extern clone val context handle val c  F F I handle context handle item c value val return c value item type id val id 
def  homebrew bin ret   salt  ['cmd.run'] 'brew--prefix' output loglevel 'trace' ret + '/bin/brew'return ret 
def  Test Update Friend tester user cookie request dict validator tester user id device id tester Get Ids From Cookie user cookie request dict deepcopy request dict actual dict tester Send Request 'update friend user cookie request dict op dict tester Derive Notification Op Dict user id device id request dict friend dict request dict dict id friend dict 'user id friend dict id user idvalidator Validate Update D B Object Friend **friend dict invalidate {'users' [friend dict id Validate Notification 'update friend user id op dict invalidate tester Compare Response Dicts 'update friend user id request dict {} actual dict return actual dict 
@js defined 'uery def enable jquery animations page page script 'uery false 
def step 2 w for suffix rules in suffixes2 if w suffix for A B in rules if w A return R1 w .endswith A and w - len A ] + B or w if w 'li' and R1 w [ -3 -2 ] in VALID LI return w -2 ]return w 
def table lines from stats stats old stats columns lines []for m type in columns new stats type strif isinstance new float format lambda num '%.3f' % num old old stats m type if old is not None diff str diff string old new old format old else old diff str 'NC' 'NC' lines + m type '_' '' format new old diff str return lines 
def mod Clear Name Refs s titles Refs names Refs characters Refs return re name Ref '\\1' s 
def  parse json s def  obj hook pairs 'convertjsonobjecttopythonobject'o Json Dict for k v in pairs o k ] vreturn oreturn json s object hook  obj hook 
def  build national number for parsing number index of phone context number  RFC3966 PHONE CONTEXT if index of phone context > 0 phone context start index of phone context + len  RFC3966 PHONE CONTEXT if number context start  PLUS SIGN phone context end number U SEMICOLON phone context start if phone context end > 0 national number number context start phone context end national number number context start ]else national number U EMPTY S T R I N Gindex of rfc3996 prefix number  RFC3966 PREFIX index of national number index of rfc3996 prefix + len  RFC3966 PREFIX if index of rfc3996 prefix > 0 else 0 national number + number of national number index of phone context national number  extract possible number number index of isdn national number  RFC3966 ISDN SUBADDRESS if index of isdn > 0 national number national number index of isdn national number 
def check name name safe chars regexp re '[^{0}]'.format safe chars if regexp name raise Salt Cloud Exception 'alidcharactersare {1}'.format name safe chars 
def use powerline prompt cls @propertydef prompt self try powerline self Attribute Error powerline P D B Powerline powerline self self powerlinereturn Powerline Render Result powerline side u @prompt.setterdef prompt self _ pass prompt self passif not hasattr cls u  class  ' old cls clsclass cls cls object   module   cls  module    doc   cls  doc  cls  name   old cls  name  cls promptreturn cls 
def check issues issues after None issues closed issues issues after if after else all issues issues issues sorted issues key ISSUES SORT KEY have warnings Falsefor section issue group in groupby issues key ISSUES BY SECTION for issue in issue group have warnings | check issue issue after return have warnings 
def test zoom output shape x np 12 .reshape 3 4 ndimage x 2 output np 6 8
def clone name new name linked False template False runas None args [ sdecode name '--name'  sdecode new name ]if linked args '--linked' if template args '--template' return prlctl 'clone' args runas runas 
def select request microversion test min version cfg min version test version api version request A P I Version Request test min version cfg version api version request A P I Version Request cfg min version max version cfg version if cfg version > test version else test version return max version string 
def which program def is exe fpath return os fpath and os fpath os X OK fpath fname os program if fpath if is exe program return programelse for path in os P A T H os exe file os path program if is exe exe file return exe file 
def run Model gym Name plot False print 'reatingmodelfrom % gym Name model create Model get Model Params From Name gym Name input Data '%s/%s.csv' % DATA DIR gym Name '' '_' run Io Through Nupic input Data model gym Name plot 
def bspline x n ax - abs asarray x funclist condfuncs  bspline piecefunctions n condlist [func ax for func in condfuncs piecewise ax condlist funclist 
def  mul args f args Mul args f gs []for g in args if g Pow and g Integer n g g n < 0 n - n base 1 / base gs + [base] * n else gs g return gs 
def collection list **kwargs return  query 'admin/collections?action L I S T json **kwargs ['collections']
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  find chocolatey context salt if 'chocolatey. path in context return context path defaults ['C \hocolatey 'C \rogram Data Chocolatey path salt 'chocolatey.exe' if not choc path for choc dir in choc defaults if salt exec choc dir choc path choc dirif not choc path err 'hocolateynotinstalled Usechocolatey Chocolateypackagemanager Command Execution Error err context path choc pathreturn choc path 
def concatenate events events first samps last samps if not isinstance events list raise Value Error 'eventsmustbealistofarrays' if not len events len last samps and len events len first samps raise Value Error 'events first samps andlast sampsmustallhavethesamelengths first samps np first samps last samps np last samps n samps np last samps - first samps + 1 events out events e f n in zip events ] first samps ] n samps -1 ] e2 e e2 0] - fe2 0] + n + first samps events out np events out e2 axis 0 return events out 
def  check minute range m if np m 60.0 warn Illegal Minute Warning m u Treatingas0min +1hr/deg' elif np m < -60.0 or np m > 60.0 raise Illegal Minute Error m 
def get Quadratic Point along begin control Point end one Minus Along 1.0 - along segment Begin one Minus Along * begin + along * control Point segment End one Minus Along * control Point + along * end return one Minus Along * segment Begin + along * segment End 
def load Shape Texture filename tex I D data texw texh load Image load data file 'jfa/' + filename gl Active Texture gl G L TEXTURE0 gl Bind Texture gl G L TEXTURE 2D tex I D gl Tex Image2 D gl G L TEXTURE 2D 0 gl G L LUMINANCE texw texh 0 gl G L LUMINANCE gl G L UNSIGNED BYTE data gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE MIN FILTER gl G L NEAREST gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE MAG FILTER gl G L NEAREST gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE WRAP S gl G L REPEAT gl Tex Parameteri gl G L TEXTURE 2D gl G L TEXTURE WRAP T gl G L REPEAT check G L Error return texw texh 
def invert permutation indices indices inverted [0] * len indices for i index in enumerate indices inverted ireturn inverted 
def test shallow copy original header fits Header [ 'a' 1 'b' 1 ] copied header copy original header original header 100assert 'c' not in copied header copied header 0assert original header 1
def load ipython extension ipython if not ipython line magic 'sql' ipython line magic 'load ext 'sql' ipython magic function pgcli line magic 'line' 'pgcli'
def get backend return rc Params 
def serve mogilefs file request key None mimetype mimetypes type key [0] or 'application/x-octet-stream' client mogilefs Client settings M O G I L E F S DOMAIN settings M O G I L E F S TRACKERS if hasattr settings 'SERVE WITH PERLBAL' and settings S E R V E WITH PERLBAL path cache key if not path path client paths key cache key path 60 if path response Http Response content type mimetype response X R E P R O X Y U R L path response Http Response Not Found else file data client file data response Http Response file data mimetype mimetype else response Http Response Not Found return response 
def request done request id try  R E Q U E S T S request id .request done request id except Key Error pass 
def  Simple Encoder wire type encode value compute value size def Specific Encoder field number is repeated is packed if is packed tag bytes Tag Bytes field number wire format W I R E T Y P E LENGTH DELIMITED local Encode Varint  Encode Varintdef Encode Packed Field write value write tag bytes size 0for element in value size + compute value size element local Encode Varint write size for element in value encode value write element return Encode Packed Fieldelif is repeated tag bytes Tag Bytes field number wire type def Encode Repeated Field write value for element in value write tag bytes encode value write element return Encode Repeated Fieldelse tag bytes Tag Bytes field number wire type def Encode Field write value write tag bytes return encode value write value return Encode Fieldreturn Specific Encoder 
def parse request data and get user request course key certificate exception parse request data request user certificate exception 'user name '' or certificate exception 'user email '' if not user raise Value Error _ 'tudentusername Kindlyfillinusername Addto Exception List db user get student user course key return certificate exception db user 
def setup app app role 'rfc' rfclink return 
def make dependencies package name package version distribution dependencies D E P E N D E N C I E S name package name in 'node' 'cli' 'docker-plugin' dependencies + Dependency package 'clusterhq-python-flocker' compare ' ' version package version return dependencies 
def p dimitem double p p p eval p eval p 
def parse ext value val if len val 3 charset langtag coded valelse charset coded vallangtag Nonedecoded urllib coded charset errors 'strict' if charset 'iso-8859-1' for c in decoded if 127 < ord c < 159 raise Invalid I S O8859 Error c return Lang Tagged decoded langtag 
def get token host port headers auth data url api url host port 'sers Authenticate By Name r requests url headers headers data auth data return r .get 'ccess Token 
def  isnull old obj if is scalar obj return lib old obj elif isinstance obj A B C Multi Index raise Not Implemented Error 'ulti Index elif isinstance obj A B C Series np A B C Index Class return  isnull ndarraylike old obj elif isinstance obj A B C Generic return obj constructor obj data func  isnull old elif isinstance obj list or hasattr obj '  array  ' return  isnull ndarraylike old np obj else return obj is None 
def utf8tounicode arg if PY2 and isinstance arg str return arg 'utf-8' return arg 
def get url conn urlopen url resp conn conn return resp 
def compute log ais weights batch size free energy fn sample fn betas log ais w numpy batch size dtype float X for i in range len betas - 1 bp bp1 betas betas i + 1 ] log ais w + free energy fn bp - free energy fn bp1 sample fn bp1 if i % 1000.0 0 logging 'emperature % bp1 return log ais w 
def assert true instance logical line if asse trueinst re logical line yield 0 'G316 assert True isinstance a b sentencesnotallowed 
def chop parts value prec re im re acc im acc valueif re and re not in  infs nan and fastlog re < - prec + 4 re re acc None None if im and im not in  infs nan and fastlog im < - prec + 4 im im acc None None if re and im delta fastlog re - fastlog im if re acc < 2 and delta - re acc < - prec + 4 re re acc None None if im acc < 2 and delta - im acc > prec - 4 im im acc None None return re im re acc im acc 
def test init with header original header fits Header [ 'a' 10 ] new header fits Header original header copy True original header 20assert new header 10 new header 0assert original header 20
def break down cookie cookie cookie a cookie ';' cookie name cookie a ' ' [0]cookie text '{0};${1}'.format cookie a ' ' [1] cookie a return {cookie name cookie text 
def image get request image id return glanceclient request .images.get image id 
def pixel scale pixscale if pixscale equivalent si / astrophys pixscale val pixscale si / astrophys .valueelif pixscale equivalent astrophys / si pixscale val 1 / pixscale .to si / astrophys .valueelse raise Units Error u Thepixelscalemustbeinangle return [ astrophys si lambda px px * pixscale val lambda rad rad / pixscale val ]
def compactionstats return  nodetool 'compactionstats'
def get Keys repository repository Class repository  class  if repository Class list or repository Class tuple return range len repository if repository Class dict return repository return None 
def gating enabled default None def wrap f def function wrapper course *args if not course subsection gating return defaultreturn f course *args return function wrapperreturn wrap 
def has method obj name return callable getattr obj name None 
def Sign Component Content component filename output filename component rdf client Client Component From Serialized String open component filename 'rb' .read E Print 'penedcomponent % component if component system 'indows  Sign Windows Component component output filename returnraise Runtime Error 'omponentsigningisnotimplementedfor O S % component system 
def db repair name table None **connection args ret []if table is None tables db tables name **connection args for table in tables log "epairingtable name table ret   repair table name table **connection args else log "epairingtable name table ret   repair table name table **connection args return ret 
def  hex to octets addr return '{0} {1} {2} {3}'.format int addr 8] 16 int addr 6] 16 int addr 4] 16 int addr 2] 16
def generate git command hotfix hash git string 'gittag-ahotfix-{iso date Hotfixfor date hash iso date date .isoformat msg date date .strftime '%b%d %Y' hotfix hash hotfix hash return git string 
def parse xml string target class None version 1 encoding None if target class is None target class Xml Elementif isinstance xml string unicode if encoding is None xml string xml string STRING ENCODING else xml string xml string encoding tree Element Tree xml string return  xml element from tree tree target class version 
def extension elements to elements extension elements schemas res []if isinstance schemas list passelif isinstance schemas dict schemas schemas else return resfor extension element in extension elements for schema in schemas inst extension element to element extension element schema E L E M E N T FROM STRING schema N A M E S P A C E if inst res inst breakreturn res 
def get network state physical network vlan id session db session try state session l2network models v2 Network State .filter by physical network physical network vlan id vlan id .one return stateexcept exc No Result Found return None 
def lazy related operation function model *related models **kwargs models [model] + [resolve relation model rel for rel in related models model keys make model tuple m for m in models apps model meta apps model operation partial function **kwargs *model keys 
def build xmlrpc xml string fuzzed parameters handler Xml Rpc Write Handler fuzzed parameters xml String xml string handler return handler xml string 
def monthly activity request project None subproject None lang None user None activity get json stats request 31 1 project subproject lang user serie []labels []for pos item in enumerate activity serie item if pos % 5 0 labels pgettext 'ormatstringformonthlyactivitychart '{day}/{month}' .format day item month item year item else labels '' return Json Response data {'series' [serie] 'labels' labels 
def create local servicepair test def create service path File Path test path Directory pool Filesystem Storage Pool path service Volume Service File Path test pool reactor Clock service Service test Cleanup service Service return serviceto service create service from service create service remote Local Volume Manager to service return Service Pair from service from service to service to service remote remote origin remote remote 
def iter strides f contig arr shape None shape arr if shape is None else shape itemsize arr yield itemsize sum 1for s in shape -1 ] sum * s yield sum * itemsize 
def bonus rebulk Rebulk .regex defaults flags re I G N O R E C A S E rebulk 'x \\d+ ' name 'bonus' private parent True children True formatter int validator {'  parent  ' lambda match seps surround } conflict solver lambda match conflicting match if conflicting in ['video codec 'episode'] and 'bonus-conflict' not in conflicting else '  default  ' rebulk Bonus Title Rule return rebulk 
def set  key value profile None conn salt conn profile time profile 'expire' DEFAULT EXPIRATION return salt  conn key value time time 
def roots hermitenorm n mu False m int n if n < 1 or n ! m raise Value Error 'nmustbeapositiveinteger.' mu0 np 2.0 * np if n < 150 an func lambda k 0.0 * k bn func lambda k np k f cephes hermitenormdf lambda n x n * cephes hermitenorm n - 1 x return  gen roots and weights m mu0 an func bn func f df True mu else nodes weights  roots hermite asy m nodes * sqrt 2 weights * sqrt 2 if mu return nodes weights mu0 else return nodes weights 
def get display sleep ret salt utils return result 'systemsetup-getdisplaysleep' return salt utils return ret 
def build api url slug if len slug u ! 2 raise Value Error u Invalid Git Hubslug {0}'.format slug return RELEASES B A S E slug 
def singularityintegrate f x if not f Singularity Function return Noneif f Singularity Function x sympify f a sympify f n sympify f if n positive or n zero return Singularity Function x a n + 1 / n + 1 elif n -1 or n -2 return Singularity Function x a n + 1 if f Mul or f Pow expr f Dirac Delta expr integrate expr x return expr Singularity Function return None 
def Dispatch Ex clsid machine None user Name None result C L S I D None typeinfo None Unicode To String None clsctx None assert Unicode To String is None 'thisisdeprecatedandwillgoaway'if clsctx is None clsctx pythoncom C L S C T X S E R V E Rif machine is not None clsctx clsctx & ~ pythoncom C L S C T X INPROC if machine is None server Info Noneelse server Info machine if user Name is None user Name clsiddispatch pythoncom Co Create Instance Ex clsid None clsctx server Info pythoncom I I D I Dispatch [0]return Dispatch dispatch user Name result C L S I D typeinfo clsctx clsctx 
def copy path filename absolute True if filename is None returnif absolute filename core filename set clipboard filename 
def array encoding disabled array return array not in BINARY ARRAY TYPES
def plan rechunk old chunks new chunks itemsize threshold DEFAULT THRESHOLD block size limit DEFAULT BLOCK SIZE LIMIT ndim len new chunks steps []if ndim < 1 or not all new chunks return steps + [new chunks block size limit / itemsizelargest old block  largest block size old chunks largest new block  largest block size new chunks block size limit max [block size limit largest old block largest new block graph size threshold threshold *  number of blocks old chunks +  number of blocks new chunks current chunks old chunksfirst pass Truewhile True graph size estimate graph size current chunks new chunks if graph size < graph size threshold breakif first pass chunks current chunkselse chunks find split rechunk current chunks new chunks graph size * threshold chunks memory limit hit find merge rechunk chunks new chunks block size limit if chunks current chunks or chunks new chunks breaksteps chunks current chunks chunksif not memory limit hit breakfirst pass Falsereturn steps + [new chunks 
def find file path tgt env 'base' **kwargs fnd {'path' '' 'rel' ''}if os path or tgt env not in envs return fndfor repo in init env root  env root repo tgt env if env root is None continueif repo and not path repo + os continuerepo path path repo ].lstrip os if repo repo path os repo repo path full os env root repo path if os full fnd pathfnd fulltry fnd list os full except Exception passreturn fndreturn fnd 
def listener dict to tuple listener if 'instance protocol not in listener instance protocol listener protocol else instance protocol listener protocol listener tuple [listener['elb port listener port listener protocol instance protocol 'certificate' in listener listener tuple listener return tuple listener tuple 
def D N S Service Construct Full Name service None regtype  NO DEFAULT domain  NO DEFAULT  NO D E F A U L T regtype  NO D E F A U L T domain  global lock try full Name  D N S Service Construct Full Name service regtype domain finally  global lock return full Name 'utf-8'
def generate random graph node num edge num self loops False multi edges False g Graph Graph if not multi edges if self loops max edges node num * node num else max edges node num * node num - 1 if edge num > max edges raise Graph Error "inconsistentargumentsto'generate random graph nodes range node num for node in nodes g node node while 1 head random nodes tail random nodes if head tail and not self loops continueif g by node head tail is not None and not multi edges continueg edge head tail if g of edges > edge num breakreturn g 
def get packages dname pkgname None results None ignore None parent None parent parent or '' prefix []if parent prefix [parent]bname os dname ignore ignore or [] if bname in ignore return []if results is None results []if pkgname is None pkgname []subfiles os dname abssubfiles [os.path.join dname x for x in subfiles '  init  .py' in subfiles results prefix + pkgname + [bname] for subdir in filter os abssubfiles get packages subdir pkgname pkgname + [bname] results results ignore ignore parent parent res ['.'.join result for result in results res 
def normalize data query time dt time tz return pd Timestamp datetime dt time tz tz .tz convert 'utc'
def get courses courses [c for c in modulestore .get courses if isinstance c Course Descriptor ]courses sorted courses key lambda course course return courses 
def sdm nf buchberger reduced f G O K h sdm zero g fwhile g g sdm nf buchberger g G O K if g h sdm add h [sdm LT g ] O K g g ]return h 
def   do query into hash conn sql str mod sys getframe .f code namelog '{0}<-- {1} '.format mod sql str rtn results []try cursor conn except My S Q Ldb My S Q L Error log "{0} Can S Q L mod sql str cursor log '{0}-->'.format mod return rtn resultstry  execute cursor sql str except My S Q Ldb My S Q L Error log '{0} trytoexecute S Q L mod sql str cursor log '{0}-->'.format mod return rtn resultsqrs cursor for row data in qrs col cnt 0row {}for col data in cursor col name col data name row data cnt cnt + 1rtn results row cursor log '{0}-->'.format mod return rtn results 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def Get Attribute node attr return node attr ''
def state str state if state is None return 'one return '<%sat0x%x>' % state .  name   id state 
def ixor a b a ^ breturn a 
def  interpolate bads meg inst mode 'accurate' verbose None picks meg pick types inst meg True eeg False exclude [] picks good pick types inst meg True eeg False exclude 'bads' meg ch names [inst.info['ch names for p in picks meg meg [ch for ch in inst if ch in meg ch names ]if len bads meg 0 picks bad []else picks bad pick channels inst names bads meg exclude [] if len picks meg 0 or len picks bad 0 returninfo from pick info inst picks good info to pick info inst picks bad mapping  map meg channels info from info to mode mode  do interp dots inst mapping picks good picks bad 
def test clrtype returns existing clr types global calledif is netstandard clr Add Reference 'ystem Data Common else clr Add Reference 'ystem Data types [ystem Byte System Int16 System U Int32 System Int32 System Int64 System Double System Data Command Type System Boolean System Char System Decimal System Int Ptr System Object System String System Collections Bit Array System Collections Generic List System Char not is netstandard types System Data Common Data Adapter for x in types called Falseclass My Type type def   clrtype   self global calledcalled Truereturn xclass X object   metaclass   My Type Are Equal called True 
def axis name None cols None values None units None ax {ame Order ['name' 'units' 'title']if name is not None ax nameif values is not None ax valuesif units is not None ax unitsif cols is not None ax []for c in cols if type c ! list and type c ! tuple c [c]col {}for i in range 0 len c col Name Order c col return ax 
def predict classifier pickle open 'best model predict model theano inputs [classifier.input] outputs classifier pred dataset 'mnist.pkl.gz'datasets load data dataset test set x test set y datasets set x test set x value predicted values predict model test set x 10] print 'redictedvaluesforthefirst10examplesintestset ' print predicted values 
def test lone hat sol re '^' Are Equal sol 'bazbar' 1 2 None Are Equal sol 'foobar' 1 2 None 
def apply colormap image colormap contig True image numpy colormap image axis 1 image numpy image 0 image if contig image numpy image return image 
def  Analyze Solution Space initial state count 0seen set p queue []node  State Node initial state False None heapq p queue  Queue Item  Ordered Penalty 0 count node count + 1prev penalty 0while p queue item p queue item penalty item nodeif not node token breakheapq p queue if count > 10000 node stack for comparison Trueif node in seen continueprev penalty penaltyseen node count  Add Next State To Queue penalty node False count p queue count  Add Next State To Queue penalty node True count p queue if not p queue return False Reconstruct Path initial state heapq p queue .state node return True 
def ok  pred msg None msg msg or '%r! True % pred assert pred msg 
def from text rdclass rdtype ttl *text rdatas return from text list rdclass rdtype ttl text rdatas 
def identify table soup htmldict numtable if soup is None or soup ! 'table' return Falseelif 'table id not in htmldict return numtable 1 table id htmldict id isinstance table id six types return 'id' in soup and soup table id elif isinstance table id int return table id numtable return False 
def libvlc media new fd p instance fd f  Cfunctions 'libvlc media new fd None or  Cfunction 'libvlc media new fd 1 1 class result Media ctypes void p Instance ctypes int return f p instance fd 
def group snapshot destroy context group snapshot id return I M P L snapshot destroy context group snapshot id 
def  validate servicetype ref data valid values None svc type id datasvctype mgr servicetype db Service Type Manager instance try svctype mgr service type context admin context svc type id except servicetype db Service Type Not Found return _ "heservicetype % svc type id 
@monkey sphinx Build Environment def resolve toctree old resolve self docname *args **kwargs navbar kwargs 'navbar' None if docname self doc and not navbar return resolve content toctree self docname *args **kwargs toc old resolve self docname *args **kwargs if toc is None return Nonenavbarify toc navbar navbar return toc 
def aware datetime *args **kwargs tz kwargs 'tz' None return make aware datetime *args **kwargs tz tz 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def  sort and fill taxa summaries taxa summaries master taxa []for ts in taxa summaries master taxa + ts taxa sorted set master taxa result []for ts in taxa summaries samples ts taxa ts data ts []for taxa in master taxa try taxa index orig taxa taxa data orig data index except Value Error data [0.0] * len samples result samples master taxa array data return result 
def parse filters kwargs request client keywords None filters {}kwargs {}client keywords client keywords or {} for param in request G E T param value PARAM M A P P I N G request G E T request G E T if param in client keywords kwargs param valueelse filters param valuereturn filters kwargs 
def test import nothing modnames loaded vispy modules 'os' 2 assert equal modnames set 
def list test cases class  return  list testloader .ests From Test Case class 
def compressor request return gzip compressor request 
def test scenario description string 'cenario N A M E O F S C E N A R I Ojdkasbdkajsb Fsdad Scenario N A M E O F S C E N A R I O Scenario Fake name ' A M E O F S C E N A R I O core Scenario Description Scenario Fake   file   string core Language assert equals description core   file   assert not equals description   file   assert equals description 6
def text2string content try return ast eval content + '\n' except Exception return content + '\n'
def test ast good get can compile u getxy '
def test init pytables with labels rng np Random State [34 22 89] X rng 2 3 y rng low 0 high 5 size 2 ds Dense Design Matrix Py Tables X X y y X labels len np X .flat y labels np y + 1
def remove css class css classes css class remove set split css classes css class classes list [c for c in split css classes css classes if c not in remove ]return u classes list 
def vpprint expr **settings pp Vector Pretty Printer settings use unicode pp settings unicode sympy symbology import pretty use unicodeuflag pretty use unicode use unicode try return pp expr finally pretty use unicode uflag 
def test iforest sparse rng check random state 0 X train X test y train y test train test split boston 50] boston 50] random state rng grid Parameter Grid {'max samples [0.5 1.0] 'bootstrap' [rue False for sparse format in [csc matrix csr matrix X train sparse sparse format X train X test sparse sparse format X test for params in grid sparse classifier Isolation Forest n estimators 10 random state 1 **params .fit X train sparse sparse results sparse classifier X test sparse dense classifier Isolation Forest n estimators 10 random state 1 **params .fit X train dense results dense classifier X test assert array equal sparse results dense results assert array equal sparse results dense results 
def  netstat route sunos ret []cmd 'netstat-finet-rn|tail-n+5'out   salt  ['cmd.run'] cmd python shell True for line in out comps line ret {'addr family 'inet' 'destination' comps 'gateway' comps 'netmask' '' 'flags' comps 'interface' comps if len comps > 6 else '' } cmd 'netstat-finet6-rn|tail-n+5'out   salt  ['cmd.run'] cmd python shell True for line in out comps line ret {'addr family 'inet6' 'destination' comps 'gateway' comps 'netmask' '' 'flags' comps 'interface' comps if len comps > 6 else '' } return ret 
def aggregate host add context aggregate id host I M P L host add context aggregate id host 
def update configuration schema schema default update configuration schema for plugin in plugins Plugin Implementations plugins I Configurer if hasattr plugin 'update config schema schema plugin config schema schema return schema 
def pre event f @wraps f def decorated *args **kwargs method request method 'HEAD' method ' E T name 'on pre ' + method resource args if args else None gh params rh params if method in 'GET' 'PATCH' 'DELETE' 'PUT' gh params resource request kwargs rh params request kwargs elif method in 'POST' gh params resource request rh params request getattr app event name *gh params if resource getattr app event name + '_' + resource *rh params combined args kwargsif len args > 1 combined args args r f resource **combined args return rreturn decorated 
def search fields to dict fields if not fields return {}try int list dict fields .values [0] except Type Error Value Error fields dict zip fields [1] * len fields return fields 
def chomp commit offset version if version is None return versionelse return str version .split '+' [0]
def  int64 feature value if not isinstance value list value [value]return tf Feature int64 list tf Int64 List value value 
def source gdb script script contents to string False fd filename tempfile f os fd 'w' f script contents f gdb 'source%s' % filename to string to string os filename 
def url prefix join prefix fragment prefix + prefix -1 ] ! '/' and '/' or '' return urlparse prefix fragment 
def combine hemi left right lh data nb left .get data rh data nb right .get data indices np 1000000 + np 0 lh data [ None 2000000 + np 0 rh data [ None all data np indices np lh data rh data filename left u [1] + u combined np filename all data fmt u '.join [u'%d'] + [u'%.10f'] * all data - 1 return os filename 
def get email preferences for exploration user id exploration id exploration user model user models Exploration User Data Model user id exploration id if exploration user model is None return user domain User Exploration Prefs default prefs else return user domain User Exploration Prefs exploration user model feedback notifications exploration user model suggestion notifications 
def add html component page menu index boilerplate None page for component menu click css page 'button>span.large-html-icon' menu index require notification False page for element visibility '.new-component-html' ' T M Lcomponentmenuisvisible component css 'button[data-category html boilerplate component css + '[data-boilerplate {}]'.format boilerplate else component css + ' not [data-boilerplate] 'page.wait for element visibility component css ' T M Lcomponent boilerplate click css page component css 0
def create dock title parent stretch True dock Qt Widgets Q Dock Widget parent dock Window Title title dock Object Name title titlebar Dock Title Bar Widget dock title stretch stretch dock Title Bar Widget titlebar dock Auto Fill Background True if hasattr parent u parent dock return dock 
def  es down template request *args **kwargs return 'search/mobile/down.html' if request M O B I L E else 'search/down.html'
def  non dominated front arr iterable key lambda x x allowequality True items list iterable fits list map key items l len items x array fits a tile x l 1 1 b a 1 0 2 if allowequality ndom sum a < b axis 2 else ndom sum a < b axis 2 ndom array ndom dtype bool res set for ii in range l res ii for ij in list res if ii ij continueif not ndom ij ii ] res ii breakelif not ndom ii ij ] res ij return set [items[i] for i in res 
def gethostname return os 'HTTP HOST' 'www.appspot.com'
def memoize timeout dynamic timeout False cache {'timeout' timeout decorator func def wrapper *args **kwargs start time if not 'time' in cache or start - cache > cache cache func *args **kwargs cache time if dynamic timeout and cache - start > cache cache * 2return cache clear cache if 'time' in cache del cache 'result' in cache del cache cache clear cachereturn wrapperreturn decorator 
def test advset subtensor1 shp 10 shared cuda constructorxval numpy shp dtype 'float32' .reshape shp + 1 idxs numpy [0 2 5 7 3] dtype 'int32' yval numpy len idxs dtype 'float32' * 10 x shared xval name 'x' y T dtype 'float32' broadcastable False * len shp name 'y' expr T set subtensor1 x y idxs f theano [y] expr mode mode with gpu assert sum [isinstance node cuda Gpu Advanced Inc Subtensor1 for node in f ] 1 rval f yval rep xval rep yvalutt allclose rval rep 
def wrap with license block view frag context license getattr block 'license' None if license context {'license' license + block template 'license wrapper context return frag 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
def  do prim curr rr coils pc np len rr * 3 len coils for ci c in enumerate coils pc ci np c *  bem inf fields rr c c 2 .ravel return pc 
def get random int upper bound assert upper bound > 0 and isinstance upper bound int generator random System Random return generator 0 upper bound 
def user generator gendesc libs def imp context builder sig args func context function builder gendesc status retval context conv function builder func gendesc gendesc args env None return status retval imp tuple libs return imp 
def escape xml illegal chars val replacement '' return  illegal xml chars re replacement val 
def  compare replication current desired region key keyid profile if desired is not None and desired 'ole desired deepcopy desired desired Role  get role arn desired Role region region key key keyid keyid profile profile return   utils  ['boto3.json objs equal current desired 
def quota class get context class name resource return I M P L class get context class name resource 
def qprogress s global  last prognow time if now -  last prog > 0.1 progress s  last prog now 
def  section analytics course access section data {'section key 'instructor analytics 'section display name _ 'nalytics 'access' access 'course id unicode course }return section data 
def  fprime score x k params alpha x arr np x params x arr k params fprime arr np score params alpha return matrix fprime arr 1 2 * k params 
def expand column list from order by collist order by cols already present set [ col if col order by label element is not None else col for col in collist return [col for col in chain *[unwrap order by o for o in order by if col not in cols already present ]
def parse backup info file content reader records Records Reader c String I O String I O content version reader if version ! '1' raise I O Error 'nsupportedversion return datastore Entity From Pb record for record in reader 
def get image list releaseid return  caa request releaseid 
def  zstat generic value1 value2 std diff alternative diff 0 zstat value1 - value2 - diff / std diff if alternative in ['two-sided' '2-sided' '2s'] pvalue stats np zstat * 2 elif alternative in ['larger' 'l'] pvalue stats zstat elif alternative in ['smaller' 's'] pvalue stats zstat else raise Value Error 'invalidalternative' return zstat pvalue 
def tree to treesegment canvas t make node Text Widget make leaf Text Widget **attribs tree attribs {}node attribs {}leaf attribs {}loc attribs {}for key value in list attribs if key 5] 'tree ' tree attribs ]] valueelif key 5] 'node ' node attribs ]] valueelif key 5] 'leaf ' leaf attribs ]] valueelif key 4] 'loc ' loc attribs ]] valueelse raise Value Error 'adattribute %s' % key return  tree to treeseg canvas t make node make leaf tree attribs node attribs leaf attribs loc attribs 
def update url url debug if not url return urloriginal url urlurl url ' //raw.github.com/' ' //raw.githubusercontent.com/' url url ' //nodeload.github.com/' ' //codeload.github.com/' url re '^ https //codeload.github.com/[^/]+/[^/]+/ zipball /.* $' '\\1zip\\2' url if url 'https //sublime.wbond.net/repositories.json' or url 'https //sublime.wbond.net/channel.json' url 'https //packagecontrol.io/channel v3 debug and url ! original url console write u Fixed U R Lfrom original url url return url 
def leaks url 'http //localhost 8080/manager' timeout 180 return  wget 'findleaks' {ine 'true'} url timeout timeout ['msg']
def get Class obj if hasattr obj '  class  ' return obj  class  else return type obj 
def  validate ui config obj type ui config reference dict UI CONFIG S P E C S type set ui config < set reference dict for key value in ui config schema utils against schema value reference dict 
def Reader database return open database database 
def endpoint type bm Attributes return bm Attributes &  ENDPOINT TRANSFER TYPE MASK
def const eval expr c test expr expr  CONST OPCODES return unsafe eval c 
def param init lstm options params prefix 'lstm' W numpy [ortho weight options proj ortho weight options proj ortho weight options proj ortho weight options proj ] axis 1 params p prefix 'W' ] WU numpy [ortho weight options proj ortho weight options proj ortho weight options proj ortho weight options proj ] axis 1 params p prefix 'U' ] Ub numpy 4 * options proj params p prefix 'b' ] b config X return params 
def assert element text is output path text assert element text matches output path re text 
def mapping decoder mapping blocks decoder None decoder decoder or Modbus Type Decoder for block in mapping blocks for mapping in block mapping int mapping mapping int mapping mapping decoder mapping 
def set random state estimator random state 0 if isinstance estimator DBSCAN returnif 'random state in estimator params estimator params random state random state 
def get credit requests for user username return Credit Request requests for user username 
def  blockdevicevolume from dataset id dataset id size attached to None return Block Device Volume size size attached to attached to dataset id dataset id blockdevice id u dataset id 
def triangle code X centroids X sqr T X .sum axis 1 .dimshuffle 0 'x' c sqr T centroids .sum axis 1 .dimshuffle 'x' 0 c sqr 'c sqr Xc T X centroids T Xc 'c dists c sqr + X sqr - 2.0 * Xc sq dists safe T sq dists 0.0 1e+30 Z T sq dists safe Z ' Z axis 1 mu 'mu'mu mu 0 'x' mu 'mu broadcasted T mu - Z 0.0 1e+30 rval 'triangle code rval 
def do unpickle data return loads to str data 
def check minus one result func cargs if result -1 raise G E O S Exception 'rrorencounteredin G E O S Cfunction % func  name   else return result 
def bandpass pre cache lows 80 100 120 highs 1200 3000 8000 bands 2000 8000 rate 44100 for low in lows for high in highs  butter 6 low high rate rate for band in bands  butter 6 band rate rate 
def get valid filename s s force unicode s .strip .replace '' '_' return re ' ?u [^-\\w.]' '' s 
def votes visible user return c is loggedin and c user or user public votes or c is admin 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def get product images product return list product 
def posix time to http posix time if posix time return email utils posix time usegmt True 
def get Ordered Nested Rings nested Rings insides [ested Rings []for loop Index in xrange len nested Rings nested Ring nested Rings Index Loops []for before Index in xrange loop Index other Loops nested Rings Index for after Index in xrange loop Index + 1 len nested Rings other Loops nested Rings Index if is Path Entirely Inside Loops other Loops nested Ring insides nested Ring else ordered Nested Rings nested Ring for outside in ordered Nested Rings outside From Inside Surroundings insides return ordered Nested Rings 
def import by name name prefixes [one tried []for prefix in prefixes try if prefix prefixed name '.'.join [prefix name else prefixed name name obj parent modname  import by name prefixed name return prefixed name obj parent modname except Import Error tried prefixed name raise Import Error 'nomodulenamed%s' % 'or'.join tried 
def forecast location params None url '{}/{}'.format api location headers {ccept Encoding 'gzip'}r requests url params params headers headers if r code ! 200 raise Weather Exception 'ourkeyisinvalidorforecast r r if 'error' in r raise Weather Exception 'rrorgettingweather {}'.format r r return r 
def fork try pid fd os except Attribute Error O S Error passelse if pid CHILD try os except O S Error passreturn pid fd master fd slave fd openpty pid os if pid CHILD os os master fd os slave fd STDIN FILENO os slave fd STDOUT FILENO os slave fd STDERR FILENO if slave fd > STDERR FILENO os slave fd tmp fd os os STDOUT FILENO os O RDWR os tmp fd else os slave fd return pid master fd 
def  No Blank Lines Before Current Token text cur token prev token cur token lineno cur token cur token comment cur token lineno - cur token u num newlines text u if not prev token comment else 0 return prev token + num newlines cur token lineno - 1
def is rhel distribution return distribution 'rhel-'
def  Serialize Aggregate Metrics obj if isinstance obj metric Aggregated Metric return {'start time obj time 'end time obj time 'group key obj key 'machines' list obj 'data' obj data isinstance obj metric Aggregated Metric Aggregated Counter logging 'description %r' % obj return {'description' obj 'is average obj average 'machine data obj data 'cluster total obj total 'cluster avg obj avg raise web H T T P Error 400 'xpectedinstanceof Aggregated Metricor Aggregated Counter got % obj 
def to img arr os return Image arr os os * 255.0
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def get all exploration summaries return  get exploration summaries from models exp models Exp Summary Model all 
def dump data every thread func delay minutes save thread ptr try func except Keyboard Interrupt passsave thread threading Timer delay minutes * 60 dump data every thread args func delay minutes save thread ptr save thread 'rofiling Dump Data thread Truesave thread if save thread ptr save thread ptr 0 save thread ptr save thread 
def create equity curve all holdings curve pd Data Frame all holdings curve index 'datetime' inplace True curve curve change curve 0 3 ] 0curve['networth'] 1.0 + curve .cumprod return curve 
def exception msg *args error msg exc info 1 *args
def S Q Lite File Lock *args **kwds from . import sqlitelockfilereturn  fl helper sqlitelockfile S Q Lite Lock File 'lockfile.sqlitelockfile' *args **kwds
def get member refids group exclude None members get members group if len members 0 return []if exclude is None exclude []return [n Get Ref Id for r in members if r Fn Get Ref Id not in exclude ]
def read cifar10 filename queue class C I F A R10 Record object passresult C I F A R10 Record label bytes 1result.height 32result.width 32result.depth 3image bytes result * result * result record bytes label bytes + image bytes reader tf Fixed Length Record Reader record bytes record bytes result value reader filename queue record bytes tf raw value tf result tf tf slice record bytes [0] [label bytes tf depth major tf tf slice record bytes [label bytes [ label bytes + image bytes ] [result.depth result result result tf depth major [1 2 0] return result 
def tablespace list user None host None port None maintenance db None password None runas None ret {}query ' E L E C Tspcnameas Name pga Owner spcaclas A C L spcoptionsas Opts pg tablespace location pgts as Location F R O Mpg tablespacepgts pg rolespga W H E R Epga pgts   salt  ['postgres.psql query query runas runas host host user user port port maintenance db maintenance db password password for row in rows ret Name rowret Name 'ame return ret 
def write dau pack16 fid kind data data size 2data np data dtype '>i2' .T write fid data kind data size FIFF.FIFFT DAU PACK16 '>i2'
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def strip between a b string p '%s.*?%s' % a b p re p re D O T A L L | re I return re p '' string 
def read string buffer offset length int struct from buffer offset [0]offset + int struct length < 0 return None offset else index offsetoffset + lengthreturn buffer index + length ].decode 'utf-8' offset 
def setup axes fig rect tr Affine2 D .scale np / 180.0 1.0 + Polar Axes Polar Transform extreme finder angle helper Extreme Finder Cycle 20 20 lon cycle 360 lat cycle None lon minmax None lat minmax 0 np grid locator1 angle helper Locator D M S 12 grid locator2 grid finder Max N Locator 5 tick formatter1 angle helper Formatter D M S grid helper Grid Helper Curve Linear tr extreme finder extreme finder grid locator1 grid locator1 grid locator2 grid locator2 tick formatter1 tick formatter1 ax1 axisartist Subplot fig rect grid helper grid helper ax1 ].toggle ticklabels False fig subplot ax1 ax1 aspect 1.0 ax1 xlim -5 12 ax1 ylim -5 10 return ax1 
def key value to tree data tree {}for flatkey value in six data t treekeys flatkey   opts  ['pepa delimiter for key in keys if key keys -1 ] t valueelse t t key {} return tree 
def precedence state try return PRECEDENCE L O O K U P Key Error return NONE PRECEDENCE
def test hard sigmoid def ref hard sigmoid x 'eferencehardsigmoidwithslopeandshiftvaluesfromtheano see /heano Theano x * 0.2 + 0.5 z 0.0 if x < 0 else 1.0 if x > 1 else x return zhard sigmoid np ref hard sigmoid x K ndim 2 f K [x] [activations.hard sigmoid x ] test values get standard values result f [test values [0]expected hard sigmoid test values assert allclose result expected rtol 1e-05
def default deadline for credit eligibility return datetime pytz U T C + datetime days getattr settings 'CREDIT ELIGIBILITY EXPIRATION DAYS' 365
@collect authdef auth login auth campaign request 'campaign' next url request 'next' data login and register handler auth login True campaign campaign next url next url if data code http F O U N D return redirect data url 
def config name from full name full name projects _ configs result full name '/' if projects ! 'projects' or configs ! 'configs' raise Value Error 'nexpectedformatofresource full name 'xpected return result 
def parse btrfs rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--name' dest 'name' action 'store' parser argument '--data' dest 'data' action 'store' parser argument '--metadata' dest 'metadata' action 'store' parser argument '--label' dest 'label' action 'store' parser argument '--noformat' dest 'noformat' action 'store true parser argument '--useexisting' dest 'useexisting' action 'store true parser argument '--subvol' dest 'subvol' action 'store true args clean args vars parser args rules parser Nonereturn args 
def get Fabmetheus Path sub Name '' return get Joined Path os os os   file   sub Name 
def undo logger setup root logger Handler handler for logger in  extra loggers logger Level logging N O T S E T 
def  api test windows name output kwargs logging 'endingtestnotification res sabnzbd windows ' A Bnzbd T 'est Notification 'other' return report output error res 
@get '/scan/<taskid>/stop' def scan stop taskid if taskid not in Data Store or Data Store process is None or Data Store has terminated logger 'nvalidtask I Dprovidedtoscan stop ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D Data Store stop logger 'toppedscan % taskid return jsonize {'success' True 
def add Negatives derivation negatives paths portion Directions get Spaced Portion Directions derivation Dictionary for path in paths loop Lists get Loop Lists By Path derivation 1.000001 path portion Directions geometry Output triangle mesh Pillars Output loop Lists negatives geometry Output 
def get default object values return json utils file contents feconf O B J E C T DEFAULT VALUES FILE PATH
def jcal2jd year month day year int year month int month day int day jd 367 * year x ipart month - 9 / 7.0 jd - ipart 7 * year + 5001 + x / 4.0 jd + ipart 275 * month / 9.0 jd + dayjd + 1729777 - 2400000.5 jd - 0.5return MJD 0 jd 
def  add call item to queue pending work items work ids call queue while True if call queue returntry work id work ids block False except queue Empty returnelse work item pending work items id work item running or notify cancel call queue  Call Item work id work item work item work item block True else del pending work items id 
def quota usage get context project id resource return I M P L usage get context project id resource 
def mackinnoncrit N 1 regression 'c' nobs inf reg regressionif reg not in ['c' 'ct' 'nc' 'ctt'] raise Value Error 'regressionkeyword%snotunderstood' % reg if nobs is inf return eval 'tau ' + reg + '_2010[' + str N - 1 + ' 0]' else return polyval eval 'tau ' + reg + '_2010[' + str N - 1 + ' -1].T' 1.0 / nobs 
def critical block end registry xml parent data cbs X M L Sub Element xml parent 'ritical Block End cbs 'plugin' 'xclusion 
def verify Host Key transport host pub Key fingerprint actual Host transport Key keys Key String pub Key kh Known Hosts File Path File Path transport or os '~/.ssh/known hosts ui Console U I lambda  open '/dev/tty' 'r+b' return kh Host Key ui actual Host host actual Key 
def prepare bearer headers token headers None headers headers or {} headers Authorization u Bearer % token return headers 
def  sakurai n A scipy n n d0 array r [ 5 6 * ones n - 2 5 ] d1 -4 * ones n d2 ones n B scipy [d2 d1 d0 d1 d2 [ -2 -1 0 1 2] n n k arange 1 n + 1 w ex sort 1.0 / 16.0 * pow cos 0.5 * k * pi / n + 1 4 return A B w ex 
def fnmatchcase name pat try re pat  cache Key Error res translate pat if len  cache >  MAXCACHE  cache  cache re pat re res return re pat name is not None 
def get Reg Info disp host info {} sync True iq Iq 'get' NS REGISTER to host for i in info iq Tag Data i info if sync resp disp Send And Wait For Response iq  Received Reg Info disp Dispatcher resp host return respelse disp Send And Call For Response iq  Received Reg Info {'agent' host 
def  get descending key gettime time now descending int  FUTURE TIME - gettime * 100 request id hash os 'REQUEST ID HASH' if not request id hash request id hash str random 32 return '%d%s' % now descending request id hash 
def ignore missing key data errors context value data key if value is missing or value is None data key None raise Stop On Error 
def  maybe schedule rebuild form if 'title' in form data or 'slug' in form data schedule rebuild kb 
def cache translations for tree root objects languages None all objects {}def walk object list for object in object list all objects objectwalk object children walk root objects cache translations list all objects languages languages 
def  create new course request org number run fields org data get organization by short name org if not org data and organizations enabled return Json Response {'error' _ 'oumustlinkthiscoursetoanorganizationinordertocontinue Organizationyouselecteddoesnotexistinthesystem youwillneedtoaddittothesystem } status 400 store for new course modulestore .default modulestore modulestore type new course create new course in store store for new course request org number run fields add organization course org data new course return Json Response {'url' reverse course url 'course handler new course 'course key unicode new course }
def get home dir home os 'HOME' if home is None home os '~' if home '~' home os 'USERPROFILE' assert home is not None return home 
def list public ip blocks module driver network domain try blocks driver list public ip blocks network domain return blocksexcept Dimension Data A P I Exception e get exception module json msg 'rrorretreving Public I P Blocks %s' % e 
def  download and uncompress dataset dataset dir filename  DATA U R L '/' [ -1 ]filepath os dataset dir filename if not os filepath def  progress count block size total size sys 'ownloading % filename float count * block size / float total size * 100.0 sys filepath _ urllib  DATA URL filepath  progress print statinfo os filepath print 'uccessfullydownloaded filename statinfo size 'bytes.' tarfile filepath 'r gz .extractall dataset dir 
def Recursive Download dir obj target dir max depth 10 depth 1 overwrite False max threads 10 if not isinstance dir obj aff4 A F F4 Volume returnthread pool threadpool Thread Pool Factory 'ownloader max threads thread pool Start for sub file entry in dir obj Open Children path elements [target dir target dir u path elements try if isinstance sub file entry aff4 A F F4 Stream args sub file entry sub target dir sub file entry overwrite thread pool Add Task target Copy A F F4 To Local args args name 'ownloader elif 'ontainer in sub file entry if depth > max depth continuetry os sub target dir except O S Error pass Recursive Download sub file entry sub target dir overwrite overwrite depth depth + 1 except I O Error logging 'nabletodownload sub file entry finally sub file entry Close if depth < 1 thread pool Stop 
def get temp dir temp get environ variable 'TMP' if temp None temp get environ variable 'TEMP' if temp None or '' in temp and os 'nt' temp 'C \\temp'if temp None or '' in temp and os 'posix' temp '/tmp'return temp 
def tree hash fo hashes []hashes.extend fo while len hashes > 1 new hashes []while True if len hashes > 1 first hashes 0 second hashes 0 new hashes hashlib first + second .digest elif len hashes 1 only hashes 0 new hashes only else breakhashes new hashes return hashes 
def  by srid things srs True ret {}for thing in tup things if getattr thing 'sr id None is not None ret thing id [] .append thing if srs  srs Subreddit by I D ret return dict True if ret else {} return ret  srs else return ret 
def get window window Nx fftbins True sym not fftbins try beta float window except Type Error Value Error args if isinstance window tuple winstr window len window > 1 args window ]elif isinstance window string types if window in  needs param raise Value Error "he + window + "'windowneedsoneormoreparameters--passatuple." else winstr windowelse raise Value Error '%saswindowtypeisnotsupported.' % str type window try winfunc  win equiv Key Error raise Value Error 'nknownwindowtype params Nx + args + sym else winfunc kaiserparams Nx beta sym return winfunc *params
def  numpy true div x y out numpy divide x y if x in tensor dtypes and y in tensor dtypes out theano asarray out dtype config X return out 
def file hash load fnd gitfs salt Git F S   opts   gitfs remotes   opts  ['gitfs remotes PER REMOTE OVERRIDES PER REMOTE ONLY return gitfs hash load fnd 
@when u def step use named query context context u 
def  linear 2eq order1 type3 x y t r eq C1 C2 C3 C4 get numbered constants eq num 4 F Integral r t G Integral r t sol1 exp F * C1 * exp G + C2 * exp - G sol2 exp F * C1 * exp G - C2 * exp - G return [q x t sol1 Eq y t sol2 ]
@cmddef test install sh '%s%s' % PYTHON TSCRIPT
@require P O S T required 'kbforums.sticky thread def sticky thread request document slug thread id doc get document document slug request thread get object or 404 Thread pk thread id document doc thread sticky not thread sticky log 'ser sticky % Bthreadwithid %s' % request thread sticky thread thread return Http Response Redirect reverse 'wiki.discuss.posts' args [document slug thread id 
def get storage plugin config storage name getattr config 'STORAGE' 'helf extra storage plugins dir getattr config 'BOT EXTRA STORAGE PLUGINS DIR' None spm Specific Plugin Manager config 'storage' Storage Plugin Base CORE STORAGE extra storage plugins dir storage pluginfo spm candidate storage name log "ound Storageplugin 'escription %s" % storage pluginfo storage pluginfo storage plugin spm plugin by name storage name return storage plugin 
def resolve ssl version candidate if candidate is None return PROTOCOL S S Lv23if isinstance candidate str res getattr ssl candidate None if res is None res getattr ssl 'PROTOCOL ' + candidate return resreturn candidate 
def region code for number numobj country code numobj coderegions COUNTRY CODE TO REGION C O D E country code None if regions is None return Noneif len regions 1 return regions return  region code for number from list numobj regions 
def get New Repository return Fill Repository 
def profile T P tp Class tp Dim n Runs tp tp Class number Of Cols tp Dim data numpy 0 2 [im n Runs .astype 'float32' for i in xrange n Runs d data i d True 
def nt quote arg arg result []needquote Falsenb 0needquote '' in arg or ' DCTB ' in arg if needquote result '"' for c in arg if c '\\' nb + 1elif c '"' result '\\' * nb * 2 + '\\"' nb 0else if nb result '\\' * nb nb 0result.append c if nb result '\\' * nb if needquote result '\\' * nb result '"' return ''.join result 
def make subreddit traffic report subreddits None num None if subreddits subreddit summary traffic Pageviews By Subreddit month subreddits else subreddit summary traffic Pageviews By Subreddit last month num report []for srname data in subreddit summary if srname  Default S R name _ '[frontpage]' url Noneelif srname in Subreddit specials name '[%s]' % srname url Noneelse name '/r/%s' % srname url name + '/about/traffic' report name url data return report 
def v6 int to packed address try return address bytes 16 'big' except Exception raise Value Error 'ddressnegativeortoolargefor I Pv6 
def get parametrized fixture keys item scopenum assert scopenum < scopenum function try cs item Attribute Error passelse for argname param index in cs if cs arg2scopenum ! scopenum continueif scopenum 0 key argname param index elif scopenum 1 key argname param index item elif scopenum 2 key argname param index item item yield key 
def ATOM atom return etree X M L atom atom parser 
def get model by resource ref db api ref ref obj Resource Reference string reference ref ref result db api name ref obj pack ref obj .first return result 
def multiple choice validator optdict name value choices optdict optik ext csv None name value for value in values if not value in choices msg 'option%s invalidvalue %r shouldbein optik ext Option Value Error msg % name value choices return values 
def recho text return text -1 ]
def decode tbs byts flag size 4 byts bytes byts val flags consumed decode fvwi byts flag size flag size extra {}byts byts ]if flags & 8 and flag size > 3 extra Trueif flags & 2 x consumed2 decint byts byts byts ]extra[2] xconsumed + consumed2if flags & 4 extra ord byts byts byts ]consumed + 1if flags & 1 x consumed2 decint byts byts byts ]extra[1] xconsumed + consumed2return val extra consumed 
def configure cluster cluster dataset backend configuration provider logging config None return sequence [configure control node cluster provider logging config parallel [sequence [configure node cluster node certnkey dataset backend configuration provider logging config ] for certnkey node in zip cluster cluster nodes ] ]
def ckan after request response response check session cookie response response set cors headers for response response return response 
def calculate group counts messages user email res defaultdict int for msg in messages participants  get participants msg [user email if len participants > MIN GROUP SIZE res '.join participants ] + 1return res 
def get completed exercises user exercises by user Exercise Log user user complete True .values list 'exercise id flat True return exercises by user 
def get mongo application return Application name MONGO APPLICATION image Docker Image string MONGO IMAGE + u latest 
def whitelist allow guest False xss safe False def innerfn fn global whitelisted guest methods xss safe methodswhitelisted fn if allow guest guest methods fn if xss safe xss safe methods fn return fnreturn innerfn 
def lshift a b return a << b 
def install p Poll Reactor from twisted import install Reactorinstall Reactor p 
def show security rule call None kwargs None global netconnif not netconn netconn get conn Network Management Client if kwargs is None kwargs {}if kwargs 'resource group is None kwargs group config cloud config value 'resource group {}   opts   search global True rule netconn rules resource group name kwargs group network security group name kwargs group security rule name kwargs return make safe rule 
def lagged groups x lag groupidx out0 []out lagged []for l u in groupidx if l + lag < u out0 x l + lag u out lagged x u - lag ] if out0 [] raise Value Error 'allgroupsareemptytakinglags' return np out0 np out lagged 
def resource view list context data dict model context  get or bust data dict 'id' resource model Resource id if not resource raise Not Foundcontext resource check access 'resource view list context data dict q model Session model Resource View .filter by resource id id resource views [resource view for resource view in q by model Resource View .all if datapreview view plugin resource view type ]return model dictize view list dictize resource views context 
def ppcc max x brack 0.0 1.0 dist 'tukeylambda' dist  parse dist kw dist osm uniform  calc uniform order statistic medians len x osr sort x def tempfunc shape mi yvals func xvals func mi shape r prob stats xvals yvals return 1 - r return optimize tempfunc brack brack args osm uniform osr dist 
def get organizations if not organizations enabled return []from organizations import api as organizations apitry return organizations api organizations except Database Error return []
def juggle axes xs ys zs zdir if zdir u return zs xs ys elif zdir u return xs zs ys elif zdir u return rotate axes xs ys zs zdir else return xs ys zs 
def output opts conf opts names [opt.name for opt in opts if not opt ]output opt info conf names 
def manual search session task artist input  u Artist ' .strip name input  u Album ' if task album else u Track ' .strip if task album _ _ prop autotag album task artist name return propelse return autotag item task artist name 
def init mpstate return Cmdlong Module mpstate 
def get inner objects vim base obj path inner type properties to collect None all False client factory vim type base obj typetraversal spec vutil traversal spec client factory 'inner' base type path False [] object spec vutil object spec client factory base obj [traversal spec property spec vutil property spec client factory type  inner type properties to collect properties to collect all properties all property filter spec vutil property filter spec client factory [property spec [object spec options client factory 'ns0 Retrieve Options options Objects C O N F objectsreturn vim Retrieve Properties Ex vim content Collector spec Set [property filter spec options options 
def hwaddr interfaces ret {}ifaces  get interfaces for face in ifaces if 'hwaddr' in ifaces ret ifaces {'hwaddr interfaces ret 
def format power power if not isinstance power Fraction if power % 1.0 ! 0.0 frac Fraction float power power frac denominator 10 if power 1 power int power else power int power return six type power 
def de dupe version table apps schema editor db alias schema editor Version apps model u u Version keep version ids Version db alias .order by .values list u id u type id u id .annotate max pk models Max u .values list u pk flat True if keep version ids Version db alias .all .count returndelete version ids list Version db alias .exclude pk  in keep version ids .values list u flat True Version db alias .filter pk  in delete version ids .delete
@open file 1 mode 'wb' def write edgelist G path comments '#' delimiter '' data True encoding 'utf-8' for line in generate edgelist G delimiter data line + '\n'path.write line encoding 
def libvlc set fullscreen p mi b fullscreen f  Cfunctions 'libvlc set fullscreen None or  Cfunction 'libvlc set fullscreen 1 1 None None Media Player ctypes int return f p mi b fullscreen 
def reload routes import gluon redirect URL 'site'
def ffmpeg movie from frames filename folder fps digits 6 s '%' + '%02d' % digits + 'd.png' cmd [get setting 'FFMPEG BINARY' '-y' '-f' 'image2' '-r' '%d' % fps '-i' os folder folder + '/' + s '-b' '%dk' % bitrate '-r' '%d' % self filename call cmd 
def mvn nloglike obs x sigma sigmainv np sigma cholsigmainv np sigmainv .x whitened np cholsigmainv x logdetsigma np np sigma sigma2 1.0llike 0.5 * np sigma2 - 2.0 * np np cholsigmainv + x whitened ** 2 / sigma2 + np 2 * np return llike 
def div expr lh op rh op return lo Lin Op lo D I V lh op [lh op rh op 
def evaluate quadratic J g s diag None if s 1 Js J s q np Js Js if diag is not None q + np s * diag s else Js J s T q np Js ** 2 axis 0 if diag is not None q + np diag * s ** 2 axis 1 l np s g return 0.5 * q + l 
def pvector field item type optional False initial return  sequence field Checked P Vector ' Vector item type optional initial 
def str join arr sep return  na map sep arr 
def to encodable string obj encoding if isinstance obj Data Token obj obj value if isinstance obj unicode obj obj encoding errors 'ignore' else obj str obj return obj 
def make default short help help max length 45 words help total length 0result []done Falsefor word in words if word -1 ] '.' done Truenew length result and 1 + len word or len word if total length + new length > max length result '...' done Trueelse if result result '' result word if done breaktotal length + new lengthreturn ''.join result 
def test scharr mask np 0 result filters np size 10 10 np 10 10 bool assert allclose result 0
def match dhcp options vpc conn tags None options None dhcp options vpc conn all dhcp options for dopts in dhcp options if not tags or get resource tags vpc conn dopts tags if not options or dopts options return True dopts return False None 
def kegg link target db source db option None if option and option not in ['turtle' 'n-triple'] raise Exception 'nvalidoptionargforkeggconvrequest if isinstance source db list source db '+'.join source db if option resp  q 'link' target db source db option else resp  q 'link' target db source db return resp 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def File Check path path Path Check path if not os path raise Value Error _ 'otafile %s' % path return path 
def update autoscaler gce autoscaler params as policy  gen gce as policy params if autoscaler ! as policy autoscaler as policyautoscaler gce update autoscaler autoscaler if autoscaler return Truereturn False 
@pytest.mark.skipif ' A S BEAUTIFUL SOUP' def test rename cols table in ['<table>' ' B '<tr><td>1</td><td>2</td></tr>' '</table>']dat Table table in format 'ascii.html' names ['B' 'A'] assert dat ['B' 'A'] assert len dat 1 dat Table table in format 'ascii.html' names ['B' 'A'] include names ['A'] assert dat ['A'] assert len dat 1 assert np dat A 2
def List Client Logs client obj store auth credentials request callback def  On List Client Logs log urls logging 'LISTCLIENTLOGS admin %s clientuser id %d start %s end %s filter %s num logs %d' % auth credentials request id Client Log Iso Date request timestamp Client Log Iso Date request timestamp request 'filter' None len log urls response {'log urls log urls response Client Log List Client Logs request id request timestamp request timestamp request 'filter' None  On List Client Logs 
def  list keys user None gnupghome None secret False gpg  create gpg user gnupghome  keys gpg keys secret return  keys 
def get available formats ret ''for formats in IRC FORMATTING DICT ret + formats + ' ' return ret -2 ]
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def  leading space count line i 0while i < len line and line u i + 1return i 
def  generation hash value factory x if x is None return xtransform lambda y y if isinstance x bytes transform ordreturn tuple transform i for i in x 
def test read bin lush matrix ubyte 3tensor path example bin lush path + 'ubyte 3tensor.lushbin' result read bin lush matrix path assert str result 'uint8' assert len result 3 if result ! 2 3 4 raise Assertion Error 'ubyte 3tensor.lushbinstoresa3-tensorofshape 2 3 4 butread bin lush matrixthinksithasshape + str result for i in xrange 1 3 for j in xrange 1 4 for k in xrange 1 5 assert result i - 1 j - 1 k - 1 ] i + 3 * j + 12 * k 
def create Logger obj if inspect obj my Class objelse my Class obj  class  logger logging Logger '.'.join ['com.numenta' my Class  module   my Class  name  ] return logger 
def listicons icondir ICONDIR root Tk import globlist glob os icondir '*.gif' list images []row column 0for file in list name os os file [0]image Photo Image file file master root images image label Label root image image bd 1 relief 'raised' label row row column column label Label root text name label row row + 1 column column column column + 1 if column > 10 row row + 2 column 0root.images images 
def get Vector3 Paths complex Paths z 0.0 vector3 Paths []for complex Path in complex Paths vector3 Paths get Vector3 Path complex Path z return vector3 Paths 
def has forum access uname course id rolename try role Role name rolename course id course id except Role Does Not Exist return Falsereturn role username uname .exists
def get os info filepath '/etc/os-release' if os filepath os name os version get systemd os info filepath filepath if os name return os name os version return get python os info 
@xfail py3 wx Python fail reason 'nsupportedwx Pythonversion @importorskip 'wx.lib.pubsub' def test wx lib pubsub protocol default pyi builder pyi builder script 'pyi hooks lib pubsub 
def tar backup files file paths target backup file location targetif not rename backup file location '{0}{1}'.format backup file location BACKUP ROLLBACK SUFFIX logging "kippingfilerename backup file location tar tarfile backup file location 'w' for name in file paths tar name tar return backup file location 
def is safe url url host None if url is not None url url if not url return Falseurl url u u if url u return Falseurl info urlparse url if not url info and url info return Falseif unicodedata url [0] u C return Falsereturn not url info or url info host and not url info or url info in [u'http' u 
def preflow push G s t capacity 'capacity' residual None global relabel freq 1 value only False R preflow push impl G s t capacity residual global relabel freq value only R 'preflow push R
def mac set relative dylib deps libname distname from Py Installer import utilfrom Py Installer Mach O import Mach Oif os libname in  BOOTLOADER FNAMES returnparent dir ''if os distname parent level len os distname .split os parent dir parent level * os + os def match func pth 'orsystemlibrariesisstillusedabsolutepath Itisunchanged not util system path pth return os '@loader path parent dir os pth dll Mach O libname dll Load Commands match func try f open dll 'rb+' for header in dll f 0 dll f f 0 2 f f except Exception pass 
def get Profile Base Name repository if repository Profile Directory None return repository Namereturn os repository Profile Directory repository Name 
def service get all by topic context topic return I M P L get all by topic context topic 
@utils.arg 'server' metavar '<server>' help _ 'ameor I Dofserver @utils.arg 'address' metavar '<address>' help _ ' P Address def do remove fixed ip cs args server  find server cs args server fixed ip args 
@frappe.whitelist def get incoming rate args from erpnext ledger import get previous sleif isinstance args basestring args json args in rate 0if args u no or u .strip in rate get avg purchase rate args u no else valuation method get valuation method args u code previous sle get previous sle args if valuation method u F I F O if not previous sle return 0.0previous stock queue json previous sle u queue u or u in rate get fifo rate previous stock queue args u or 0 if previous stock queue else 0 elif valuation method u Moving Average in rate previous sle u rate or 0 return in rate 
def parse ancient function plugin logger line res line res {'metric type 'gauge'}
@register.simple tag takes context True def avatar context user size service id None service avatar services user user service id if service is None logging u Couldnotgetasuitableavatarserviceforuser user return mark safe u return service request context user user size size 
def reader macroexpand char tree compiler load macros compiler name reader macro  hy reader name char if reader macro is None try reader macro  hy reader None Key Error raise Hy Type Error char "`{0}'isnotadefinedreadermacro.".format char expr reader macro tree return replace hy obj wrap value expr tree 
def os version attrs None where None return  osquery cmd table 'os version attrs attrs where where 
def eb Connection reason log Logging sys log reason return reason 
def attach role points queryset as field 'role points attr model queryset 'SELECTFORMAT \'{{%%s}}\' \ T R I N G AGG format \n\'"%%s" %%s\' \ O JSON userstories rolepoints id \ O JSON userstories rolepoints id \n \' \' \n json F R O Muserstories rolepoints W H E R Euserstories rolepoints story id {tbl}.id'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def tracer pid tpid int status pid [racer Pid return tpid if tpid > 0 else None 
def  get contrast indices effect idx n factors binrepr np repr effect idx n factors return np [int i for i in binrepr dtype int 
def add Geometry List element Node faces for face in faces face Element xml simple reader Element Node face To Attributes face Element face Element Name 'lement Node element Nodeelement Node Nodes face Element 
def  onpick sensor event fig ax pos ch names show names if event 'control' and fig is not None for ind in event fig one ind returnif show names returnind event name ch names pos pos 0 if len this pos 3 ax this pos this pos this pos ch name else ax this pos this pos ch name fig 
def test root normalized mean absolute error max rating 5.0min rating 1.0y real np [0.0 1.0 0.0 2.0 3.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert equals 0.0 normalized mean absolute error y real y pred max rating min rating y real np [3.0 1.0 2.0 1.0 1.0] y pred np [0.0 1.0 0.0 2.0 3.0] assert almost equals 0.4 normalized mean absolute error y real y pred max rating min rating 
def sub matlist1 matlist2 K return add matlist1 negate matlist2 K K
def set log level for all loggers level logging D E B U G root logger logging Logger loggers logging Logger Dict loggers + [root logger logger in loggers if not isinstance logger logging Logger continueset log level for all handlers logger logger 
@register.filter 'phone2numeric' is safe True def phone2numeric filter value return phone2numeric value 
def instance profile exists name region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile try conn instance profile name return Trueexcept boto Boto Server Error return False 
def length of national destination code numobj if numobj is not None copied numobj Phone Number copied numobj from numobj copied numobj Noneelse copied numobj numobjnsn format number copied numobj Phone Number Format I N T E R N A T I O N A L number groups re NON DIGITS PATTERN nsn if len number groups < 3 return 0if number type numobj Phone Number Type M O B I L E mobile token country mobile token numobj code if mobile token ! U EMPTY STRING return len number groups + len number groups return len number groups 
def  init non posix vars vars L I B D E S T get path 'stdlib' vars B I N L I B D E S T get path 'platstdlib' vars I N C L U D E P Y get path 'include' vars S O ' X E ' E R S I O N  PY VERSION SHORT NO D O Tvars B I N D I R os  safe realpath sys 
def ode Liouville eq func order match x func func matchy r C1 C2 get numbered constants eq num 2 int Integral exp Integral r y y None f x sol Eq int + C1 * Integral exp - Integral r x x + C2 0 return sol 
@app.route '/put' methods 'PUT' def view put return jsonify get dict 'url' 'args' 'form' 'data' 'origin' 'headers' 'files' 'json'
def Insert Nodes Before new nodes target for node in new nodes  Insert Node At node target after False 
def validate tunnel config tunnel types local ip if not tunnel types returnvalidate local ip local ip for tun in tunnel types if tun not in constants T U N N E L NETWORK TYPES L O G  LE 'nvalidtunneltypespecified %s' tun raise System Exit 1
def make matrix return T 
def dashboard activity list user id limit offset q  dashboard activity query user id limit + offset return  activities at offset q limit offset 
def require git version required version git path  DEFAULT GIT found version git version git path git path if found version is None raise Skip Test 'estrequiresgit %s butcgitnotfound % required version if len required version >  VERSION LEN raise Value Error 'nvalidversiontuple expected % required version  VERSION LEN required version list required version while len found version < len required version required version 0 required version tuple required version if found version < required version required version '.'.join map str required version found version '.'.join map str found version raise Skip Test 'estrequiresgit %s found % required version found version 
@then 'itshouldpassbecause"{reason}"' def then it should pass because context reason pass 
def virt type return   grains  ['virtual']
def check id ID name u I D config None pos None if ID is not None and not xml check id ID warn or raise W02 W02 name ID config pos return Falsereturn True 
def  iso8601 dt return dt 
def tagged Value key value f locals sys getframe 1 .f localstagged values f locals TAGGED DATA {} tagged values valuereturn  decorator non return 
def  add Recent Tile layer coord format body age 300 key layer coord format due time + age  recent tiles body due  recent tiles key due logging 'ile Stache Core add Recent Tile addedtiletorecenttiles %s' key cutoff 0for i key due by in enumerate  recent tiles if time < due by cutoff ibreaklogging 'ile Stache Core add Recent Tile removedtilefromrecenttiles %s' key try del  recent tiles Key Error passdel  recent tiles cutoff 
def get signature signature data try signature base64 as bytes signature data except Type Error binascii Error raise exception Signature Verification Error reason _ 'hesignaturedatawasnotproperlyencodedusingbase64 return signature 
def get root dir curdir os os   file   return os os curdir '..'
def get Geometry Utilities Path sub Name '' return get Joined Path get Geometry Path 'geometry utilities sub Name 
def skipgrams sequence n k **kwargs if 'pad left in kwargs or 'pad right in kwargs sequence pad sequence sequence n **kwargs SENTINEL object for ngram in ngrams sequence n + k pad right True right pad symbol SENTINEL head ngram 1]tail ngram ]for skip tail in combinations tail n - 1 if skip tail -1 ] is SENTINEL continue yield head + skip tail 
def paragraph return ''.join sentence for i in range random 1 4
def check permission user project permission return has group perm user permission project project or check owner user project permission or user perm permission 
def instance cache func def  wrapper self *args **kwargs key func  name   + args for pair in sorted kwargs key + pairif key in self cache return self cache func self *args **kwargs self cache datareturn datareturn  wrapper 
def find common parent a b a parents list a b parents list b a parents set set a parents b parents set set b parents if a b return aif b in a parents set return bif a in b parents set return aif len a parents < len b parents for elem in a parents if elem b or elem in b parents set return elemelse for elem in b parents if elem a or elem in a parents set return elem 
def  interpolate a b fraction return a + b - a * fraction 
def  consume topics pubsub client return list pubsub client topics 
def p idlist p if len p 2 p [p[1]]else p p p 
@with setup prepare stdout def test output snippets with normalized unicode names runner Runner feature name 'latin-accents' verbosity 3 no color True runner assert stdout lines u Funcionalidade melhorarooutputdesnippetsdolettuce features 2omoautordolettuce features 3uqueroterumoutputrefinadodesnippets features 4aramelhorar deumaformageral avidadoprogramador features 5en normalizarsnippetscomunicode features 7adoqueeutenhopalavr features 8 undefined \v taiscomo " \xe9 n l choror ch ep "#tests/functional/output features 9 undefined \nt features 10 undefined \n\n1feature 0passed \n1scenario 0passed \n3steps 3undefined 0passed \oucanimplementstepdefinitionsforundefinedstepswiththesesnippets \n\n#-*-coding utf u Dadoqueeutenhopalavr \ndefdado que eu tenho palavroes e outras situacoes step \alse \hisstepmustbeimplemented u Ev taiscomo " [^"]* "\' \ndefe varias palavras acentuadas sao uteis tais como group1 step group1 \alse \hisstepmustbeimplemented u Ent \ndefentao eu fico felizao step \alse \hisstepmustbeimplemented 
def healthz request return Http Response 'ok'
def  generate Category filename 'simple.csv' num Sequences 2 elements Per Seq 1 num Repeats 10 script Dir os   file   pathname os script Dir 'datasets' filename print 'reating % pathname fields [ 'classification' 'string' '' 'field1' 'string' '' ]ile File Record Stream pathname write True fields fields sequences []for i in range num Sequences seq [x for x in range i * elements Per Seq i + 1 * elements Per Seq ]sequences.append seq seq Idxs []for i in range num Repeats seq Idxs + range num Sequences random seq Idxs for seq Idx in seq Idxs seq sequences Idx x in seq out File Record [str seq Idx str x ] out File 
def raises Stop On Error function def call and assert *args **kwargs import ckan functions as dfnose raises df Stop On Error function *args **kwargs return call and assert 
def n2s data if data is None return ''return data 
@nottestdef slow test f f test Truereturn f 
def unsafe S Q L Identificator Naming name ret Val nameif isinstance name basestring if Backend Identified Dbms in DBMS.MYSQL DBMS.ACCESS ret Val name '`' '' elif Backend Identified Dbms in DBMS.PGSQL DBMS.DB2 ret Val name '"' '' elif Backend Identified Dbms in DBMS.ORACLE ret Val name '"' '' .upper elif Backend Identified Dbms in DBMS.MSSQL ret Val name '[' '' .replace ']' '' if Backend Identified Dbms in DBMS.MSSQL DBMS.SYBASE prefix '%s.' % DEFAULT MSSQL SCHEMA if ret Val prefix ret Val ret Val prefix ]return ret Val 
def filter products queryset user if user staff return querysetreturn queryset stockrecords  partner  users  pk user .distinct
@login required shopping cart enableddef remove item request item id request G E T 'id' or request P O S T 'id' or '-1' items Order Item id item id status 'cart' .select subclasses if not len items log u Cannotremovecart Order Itemid %oes Not Existoritemisalreadypurchased item id else item items item request Order cart item from order item request item order type return Http Response 'OK'
@step 'sendatestemailwiththefollowingset $' def mail send yaml step mail send yaml step 
def layer op def layer decorated self *args **kwargs name kwargs 'name' self unique name op  name   if len self 0 raise Runtime Error 'oinputvariablesfoundforlayer % name elif len self 1 layer input self layer input list self layer output op self layer input *args **kwargs self layer outputself layer output return selfreturn layer decorated 
def length conditional mangler length mangler def mangle key if len key > length return mangler key else return keyreturn mangle 
def parse snmp return ret is bulk False err True err Indication err Status err Idx var Binds retif err Indication data err Indicationelif err Status if is bulk var Binds var Binds -1 ]data '%sat%s' % err Status Print err Idx and var Binds int err Idx - 1 ] or '?' else err Falsedata var Bindsreturn err data 
def test structs am eo erfa 2456165.5 [0.401182685 1] assert am 2 assert am erfa era A S T R O M assert eo 2 np allclose am 12.651337940273786 np allclose am [4.2896388971570276e-05 8.115034002544664e-05 3.5175551225931444e-05] ri di erfa 2.71 0.174 am np allclose ri 2.709994899247599 np allclose di 0.17287407209836234
def iface dtype name obj dynamic go type iface commontype obj if dynamic go type is None returnreturn dynamic go type ['str'].string
def queued task task @functools.wraps task def wrapped *args **kwargs signature task *args **kwargs enqueue task signature return wrapped 
def install numpy scipy chdir SRC DIR apt command 'build-deppython-numpy' apt command 'build-deppython-scipy' run command 'pipinstall-d.numpy' run command 'tarxvzfnumpy*.tar.gz' run command "one run command 'cdnumpy*&&pythonsetup.pyinstall' run command 'pipinstallscipy'
def create context manager connection return I M P L context manager connection connection 
def slim exception data instance frame allowance settings S E N T R Y MAX STACKTRACE FRAMES frames []for exception in instance if not exception continueframes exception slim frame data frames frame allowance 
def  extend M sym if not sym return M + 1 True else return M False 
def validate busy func *args **kwargs def inner self *args **kwargs target id Noneif 'target id in kwargs and kwargs id ! None target id kwargs id target id 0if self is busy target id raise Target Busy Exception return func self *args **kwargs return inner 
def bdist py make env 'wheel' run [py 'setup.py' 'bdist wheel 
def test scenario with inline comments scenario Scenario string INLINE COMMENTS step1 step2 scenario step1 .to.equal u Given Iamusingananvil expect step2 .to.equal u And Iamusingahammer 
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
def format timestamp timestamp return u >010x}'.format int timestamp 
def make logs response None if not response response frappe frappe log response json [frappe.utils.cstr d for d in frappe log if frappe log response server messages json [frappe.utils.cstr d for d in frappe log if frappe log and frappe u or False response debug messages json frappe log 
def request cancellation liveaction requester if liveaction action constants L I V E A C T I O N STATUS CANCELING return liveactionif liveaction not in action constants L I V E A C T I O N CANCELABLE STATES raise Exception 'nabletocancelexecutionbecauseitisalreadyinacompletedstate result {'message' 'ctioncanceledbyuser 'user' requester action constants L I V E A C T I O N STATUS CANCELING if liveaction action constants L I V E A C T I O N STATUS RUNNING else action constants L I V E A C T I O N STATUS CANCELED update status liveaction status result result execution Action Execution liveaction  id str liveaction return liveaction execution 
def exception From Stanza stanza children []condition text text Lang app Condition type code Nonefor element in stanza if element 'error' and element stanza code element Attribute 'code' type element Attribute 'type' error  parse Error element NS XMPP STANZAS condition error error Lang error Lang Condition error Condition not condition and code condition type CODES TO C O N D I T I O N S unicode stanza else children element if condition is None return Stanza Error None exception Stanza Error condition type text text Lang app Condition exception childrenexception stanzareturn exception 
def run tests argv None default Test None topleveldir None xmloutput None verbosity 1 nomultiproc False if xmloutput is not None import xmlrunnerrunner xmlrunner X M L Test Runner output xmloutput else runner Noneprog Numba Test Program argv argv module None default Test default Test topleveldir topleveldir test Runner runner exit False verbosity verbosity nomultiproc nomultiproc return prog 
def rewrite user user if user is None L O G 'ailedtorewriteuser useris None else augment get user augmentation class user for attr in 'get groups 'get home directory 'has hue permission setattr user attr getattr augment attr return user 
def group person s3 lambda r r 's3json' and r 'options' return s3 rest controller 
def get File Used output Configuration read Config File USER CONFIG if output ! {} return USER C O N F I Greturn DEFAULT CONFIG
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def restore nesting d separator ' ' d copy d if any [ separator in k for k in d ] else d for k v in d .items if separator in k top rem k separator 1 nest d if isinstance d top dict else {} nest vd restore nesting nest separator del d d 
def replacement traverse obj opts replace cloned {}stop on set [id x for x in opts 'stop on [] ] def clone elem **kw if id elem in stop on or 'no replacement traverse in elem annotations return elemelse newelem replace elem if newelem is not None stop on id newelem return newelemelse if elem not in cloned cloned newelem elem clone newelem copy internals clone clone **kw return cloned obj is not None obj clone obj **opts return obj 
def generate theme images theme header hash uuid .hexfooter hash uuid .hexcreate theme images theme 'header' header hash create theme images theme 'footer' footer hash persona theme header hashpersona footer hashpersona save theme header hash footer hash theme 
def p file input end p p ast Stmt p 
@auth.s3 requires membership 1 def tropo channel tablename 'msg tropo channel s3db messaging T 'ropo Messaging Token table messaging DIV DIV  class 'stickytip'  title '%s|%s' % T 'ropo Messaging Token T 'hetokenassociatedwiththisapplicationon + "<ahref 'https //www.tropo.com/docs/scripting/troposessionapi.htm'target  blank Tropo s3 strings Storage label create T 'reate Tropo Channel title display T 'ropo Channel Details title list T 'ropo Channels title update T 'dit Tropo Channel label list button T 'ist Tropo Channels label delete button T 'elete Tropo Channel msg record created T 'ropo Channeladded msg record modified T 'ropo Channelupdated msg record deleted T 'ropo Channeldeleted msg list empty T 'o Tropo Channelscurrentlyregistered return s3 rest controller 
def dist location dist egg link egg link path dist if egg link return egg linkreturn dist 
def copy struct dst src repl {} repl repl for k in src datamodel fields v repl k getattr src k setattr dst k v for k v in repl setattr dst k v return dst 
def eval X K C D individual target price price 0.0times list for item number in individual price + I T E M S * number times I T E M S return abs price - target price max times 
def Read Input data filepattern shuffle params image size params size tf Glob data filepattern filename queue tf input producer filenames shuffle shuffle reader tf T F Record Reader _ example reader filename queue feature sepc {'moving objs tf Fixed Len Sequence Feature shape [ image size * image size * 3 ] dtype tf } _ features tf single sequence example example sequence features feature sepc moving objs tf features objs [params['seq len image size image size 3] if shuffle examples tf batch [moving objs batch size params size num threads 64 capacity params size * 100 min after dequeue params size * 4 else examples tf [moving objs batch size params size num threads 16 capacity params size examples / params scale examples 
def retrieve Reject a Tp Pd pd 3 b Message Type mes Type 30 c Cause packet a / b / c return packet 
def parse iso8601 datestring m ISO8601 R E G E X datestring if not m raise Value Error u % datestring groups m tz groups tz u Z tz Fixed Offset 0 elif tz m TIMEZONE R E G E X tz prefix hours minutes m hours minutes int hours int minutes if prefix u hours - hours minutes - minutes tz Fixed Offset minutes + hours * 60 return datetime int groups int groups int groups int groups or 0 int groups or 0 int groups or 0 int groups or 0 tz 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def autocreate username candidate tries 1 max tries settings M A X GEN USERNAME T R I E Sfrom olympia import slugify SLUG O Kmake u partial slugify ok SLUG OK lower True spaces False delimiter '-' adjusted u make u candidate if tries > 1 adjusted u '%s%s' % adjusted u tries if Denied Name adjusted u or adjusted u '' or tries > max tries or len adjusted u > 255 log 'usernameblocked empty maxtriesreached ortoolong %s;max %s' % adjusted u max tries return autocreate username uuid .hex[0 15] if User Profile username adjusted u .count return autocreate username candidate tries tries + 1 return adjusted u 
def regions language x a language [] for tag language region iso639 iso3166 in LANGUAGE R E G I O N if iso639 x a iso3166 return sorted a key lambda tag tag ! x and tag or ''
def squeeze axes shape axes skip 'XY' if len shape ! len axes raise Value Error 'dimensionsofaxesandshapedonotmatch' shape axes zip * i for i in zip shape axes if i > 1 or i in skip return tuple shape ''.join axes 
def remove Unreferenced Elements doc global num Elems Removednum 0ags [radient 'radient 'lements find Elements With Id doc Element referenced I Ds find Referenced Elements doc Element for id in identified Elements if not id in referenced I Ds goner identified Elements goner ! None and goner Node ! None and goner Name in remove Tags goner Node Child goner num + 1lems Removed + 1defs doc Element Elements By Tag Name 'defs' for a Def in defs elems To Remove remove Unused Defs doc a Def for elem in elems To Remove elem Node Child elem num Elems Removed + 1num + 1return num 
def linear kernel X Y None X Y check pairwise arrays X Y return safe sparse dot X Y.T dense output True 
def Service Manager run utils service manager  service managers name of init run ]global  service managertry return  service managerexcept Name Error  service manager service manager  get service command generator run  get service result parser run return  service manager 
def compute kkt optimality g on bound g kkt g * on bound free set on bound 0 g kkt set np g set return np g kkt 
def predict true args return True 
def interface get options port cmd 'ovs-vsctlgetinterface{0}options'.format port result   salt  ['cmd.run all cmd retcode result result  stdout list split retcode stdout 
def  bem inf pots mri rr bem rr mri Q None diff bem rr T ] - mri rr np diff norm np diff * diff axis 1 diff norm * np diff norm diff norm diff norm 0 ] 1if mri Q is None return diff / diff norm np ] else return np 'ijk mj diff mri Q / diff norm np ]
def rayleigh2waist z r wavelen z r wavelen map sympify z r wavelen return sqrt z r / pi * wavelen 
def convert markdown markdown source extensions None extension configs None md markdown Markdown extensions extensions or [] extension configs extension configs or {} html content md markdown source meta getattr md u Meta {} toc html getattr md u u table of contents toc Table Of Contents toc html return html content table of contents meta 
def  init nt g { I B D E S T get python lib plat specific 0 standard lib 1 g B I N L I B D E S T get python lib plat specific 1 standard lib 1 g I N C L U D E P Y get python inc plat specific 0 g S O ' X E ' E R S I O N get python version .replace '.' '' g B I N D I R os os sys global  config vars config vars g 
def semaphorereset semaphore originalstate for i in range originalstate semaphore for i in range originalstate semaphore 
def get chr template stream chrs num chrs reduce lambda x y x + y chrs 0 stream 'umberofindependent unlinked chromosomes and 0foridenticalstructureacrosschromosomes and1fordifferentstructuresondifferentchromosomes if len chrs > 1 or num chrs 1 stream str num chrs + '1\n' else stream str num chrs + '0\n' for chr in chrs repeats chr chr len chrs 1  gen loci stream loci else for i in range repeats  gen loci stream loci 
def test against jpl horizons obstime Time u 00' location Earth Location lon Angle u lat Angle u height 2.06 * u altaz frame Alt Az obstime obstime location location altaz Sky Coord u frame altaz frame radec actual altaz to u radec expected Sky Coord u frame u distance radec actual radec expected .to u assert distance < 1 * u 
def demean x axis 0 return detrend mean x axis axis 
def s word value endian '<' format 'binary' signed False full range False fuzzable True name None word primitives value endian format signed full range fuzzable name blocks C U R R E N T word 
def test mult div dt small 6 * dt tiny dt big Time Delta 20000.0 format 'jd' dt big small by 6 dt big + dt small / 6.0 dt frac dt big small by 6 - Time Delta 3333.0 format 'jd' assert allclose jd2 dt frac 0.33333333333333354
def  get default column value column type type schema {'datetime' None 'big integer 0 'integer' 0 'string' ''}if isinstance column type sa sql api Variant return  get default column value column type return type schema type  visit name  ]
def get Transformed Fill Outline element Node loop y Axis Pointing Upward fill Outline Loops Noneif get Style Value 'none' element Node 'fill' .lower 'none' fill Outline Loops intercircle Arounds From Loop loop get Stroke Radius element Node else fill Outline Loops [loop]return get Chain Matrix S V G If Necessary element Node y Axis Pointing Upward .ransformed Paths fill Outline Loops 
def   flatten into root prefix target for name value in root key prefix + name if isinstance value dict   flatten into value key + '.' target else target value 
def add time interval base time interval textparser parsedatetime Calendar if interval .isdigit interval + 'days'tzinfo base time or pytz U T C return textparser D T interval base time tzinfo tzinfo [0]
def Retrieve Cached Stats return memcache KINDS AND SIZES VAR namespace MEMCACHE NAMESPACE
def user to uid user if user is None user salt user try if isinstance user int return userreturn pwd user .pw uidexcept Key Error return ''
def snapshot create request conf request isinstance conf basestring config json conf snapshot Map Snapshot config clean config conf map Map id config return Http Response num encode snapshot content type 'text/plain' else return Http Response 'nvalid J S O N content type 'text/plain' status 500
def xkcd info xkcd id url False request requests 'http //www.xkcd.com/' + xkcd id + '/info.0.json' data request date '{}{}{}'.format data months data ] data if url url '|http //xkcd.com/' + xkcd id '/' '' return 'xkcd \x02{}\x02 {} {}'.format data date url if url else ''
def optimal data chunks data minimum 4 data to bytestring data re repeat six '{' + six type minimum .encode 'ascii' + six ' }' num pattern re six '\\d' + re repeat num bits  optimal split data num pattern alpha pattern re six '[' + re ALPHA NUM + six ']' + re repeat for is num chunk in num bits if is num yield Q R Data chunk mode MODE NUMBER check data False else for is alpha sub chunk in  optimal split chunk alpha pattern if is alpha mode MODE ALPHA N U Melse mode MODE 8BIT BYTE yield Q R Data sub chunk mode mode check data False 
def guess method if hasattr method ' api return method args vname kwname defaults getargspec method names tuple args + None * 4 if names 'self' if names in 'cr' 'cursor' if names in 'uid' 'user' if names 'ids' if 'context' in names or kwname return cr uid ids context method else return cr uid ids method elif names 'id' or names 'res id if 'context' in names or kwname return cr uid id context method else return cr uid id method elif 'context' in names or kwname return cr uid context method else return cr uid method elif 'context' in names return cr context method else return cr method return noguess method 
def restore required config elements config renewalparams required items itertools six BOOL CONFIG ITEMS itertools  restore bool six INT CONFIG ITEMS itertools  restore int six STR CONFIG ITEMS itertools  restore str for item name restore func in required items if item name in renewalparams and not cli by cli item name value restore func item name renewalparams name setattr config item name value 
def  parse course id from string input str m obj re '^/courses/{}'.format settings C O U R S E ID PATTERN input str if m obj return Course Key string m obj 'course id return None 
def run script usage tests test data dir scripts dir working dir verbose False tests None force overwrite False timeout 60 working dir join working dir 'script usage tests logger Noneif verbose logger sys tester Script Tester logger logger script tester scripts dir test data dir working dir scripts tests timeout timeout force overwrite force overwrite result summary script tester summary has failures or errors script tester failures or errors if exists working dir rmtree working dir return result summary has failures or errors 
def  code to file co return Bytes I O imp magic + '\x00\x00\x00\x00' + marshal co 
def get partitions diskpath dev parted Device diskpath disk parted Disk dev partitions []for part in disk _ _ pname part '/' partitions {'name' pname 'size' part Length * dev Size } return partitions 
def fix Size Policy size hint policy width height hint hint expanding policy Directions hpolicy vpolicy policy Policy policy Policy if expanding & Qt Horizontal width max width size if hpolicy Q Size Policy Maximum width min width size if expanding & Qt Vertical height max height size if vpolicy Q Size Policy Maximum height min height hint return Q Size width height .o size 
def Bgzf Blocks handle data start 0while True start offset handle block length data  load bgzf block handle data len len data yield start offset block length data start data len data start + data len 
def  convert nn fr val if val < 20 return to 19 fr dcap dval in k 20 + 10 * v for v k in enumerate tens fr if dval + 10 > val if val % 10 return dcap + '-' + to 19 fr val % 10 ] return dcap 
def get mod name path base rel path os path base rel path ign os rel path file module '' h t os rel path while h or t if t file module t + '.' + file module h t os h return file module -1 ]
def Create Extension Setting client feed items campaign feed feed item ids platform restrictions None campaign extension setting service client Get Service 'ampaign Extension Setting Service 'v201609' extension feed items [reate Sitelink Feed Item feed items feed item id } for feed item id in feed item ids setting {'extensions' extension feed items platform restrictions extension setting Restrictions platform restrictionscampaign extension setting {d campaign feed Id 'ype 'SITELINK' 'etting extension setting {'operand' campaign extension setting 'operator' ' D D extension setting service [operation]
def tprob t df tails 'high' if tails 'two-sided' if t > 0 return 2 * 1.0 - tdist t df else return 2 * tdist t df elif tails 'high' return 1 - tdist t df elif tails 'low' return tdist t df else raise Value Error 'nknowndirection 
def serverdir path join ROOT DIR 'server' path normpath path if sys 'cygwin' path realpath path return path 
def bidirectional shortest path G source target if source not in G or target not in G msg 'ithersource G nx Node Not Found msg source target results  bidirectional pred succ G source target pred succ w resultspath []while w is not None path w w pred w succ -1 ]]while w is not None path w w succ path 
def restart local drain False if  TRAFFICCTL cmd  traffic ctl 'server' 'restart' '--manager' else cmd  traffic line '-L' if drain cmd '{0}{1}'.format cmd '--drain' log 'unning %s' cmd return  subprocess cmd 
def multiblock lbp int image r c width height int image np int image dtype np lbp code  multiblock lbp int image r c width height return lbp code 
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def  include file context uri calling uri **kwargs template  lookup template context uri calling uri callable  ctx  populate self namespace context clean inheritance tokens template callable  ctx ** kwargs for include callable  context data **kwargs
def test is repo url for local urls local repo url assert is repo url local repo url is False 
def  get arg tokens cli arg cli processor [ Token Prompt Arg u arg ' Token Prompt Arg Text str arg Token Prompt Arg u ' ]
def tokenwrap tokens separator '' width 70 return '\n'.join textwrap separator tokens width width 
def trim Lens lens min Len index 0for i in range len lens if lens < min Len index + 1else breakreturn lens len lens ]
def generate accepted kwargs function *named arguments if hasattr function '  code  ' and takes kwargs function function takes kwargs Truefunction takes arguments []else function takes kwargs Falsefunction takes arguments takes arguments function *named arguments def accepted kwargs kwargs if function takes kwargs return kwargselif function takes arguments return {key value for key value in kwargs if key in function takes arguments }else return {}return accepted kwargs 
def add atomic group name max number of machines None description None return models Atomic Group object name name max number of machines max number of machines description description .id
def cla Model Control Enable T P Learning Cb cla Model assert isinstance cla Model C L A Model cla Model get T P Region .arameter 'ode True return 
def  determinism check objects u format u usetex False plots []for i in range 3 result check output [sys.executable u R u u called from pytest True %r ;frommatplotlib.testing.determinismimport determinism save determinism save %r %r %r ' % format objects format usetex ] plots result for p in plots ] if usetex if p ! plots pytest u maybeduetoghostscripttimestamps else assert p plots 
@with setup step runner environ def test scenarios inherit feature tags feature Feature string FEATURE10 scenarios ran []@after.each scenariodef just register scenario scenarios ran scenario result feature tags ['tag'] assert result resultsassert equals scenarios ran ['1stone' '2ndone']
def top down once rule fns basic fns return do one rule lambda expr sall top down rule fns fns expr 
def communicate command None if command is not None logger 'DEBUG sendingcommand % command pipe in command result []while True data pipe out if data is None breakresult data logger 'DEBUG result % repr result return ''.join result 
def  connect socket host port start time while True try return  try connect host port except sc exceptions Socket Connection Refused if time - start > constants S O C K E T CONNECT TIMEOUT raise sc exceptions Connection Timeout Exception host host port port 
def power state vm state force power status vm status check status ''.join state '_' .upper if not force and power status in ['SUSPENDED' 'POWERINGON' 'RESETTING' 'BLOCKEDONMSG'] return ' Misin Forceisrequired % power status if power status check status return Falseelse try if state 'powered off vm off sync run True elif state 'powered on vm on sync run True elif state 'restarted' if power status in 'POWEREDON' 'POWERINGON' 'RESETTING' vm sync run False else return 'annotrestart V Minthecurrentstate % power status return Trueexcept Exception return get exception return False 
def add or update given trace context trace context action executions None rules None trigger instances None trace db get trace trace context trace context ignore trace tag True if not trace db trace context  get valid trace context trace context trace db Trace D B trace tag trace context tag return add or update given trace db trace db trace db action executions action executions rules rules trigger instances trigger instances 
def  get comment callback comment data thread id parent id def callback request  uri headers 'imulatethecommentcreationorupdateendpointasdescribedabove data make minimal cs comment comment data response data id thread idresponse data id parent idfor key val list in request body val val list key in ['anonymous' 'anonymous to peers 'endorsed'] response data val 'rue else response data valreturn 200 headers json response data return callback 
def webpack asset path asset paths asset paths debug settings D E B U G MODE if not asset paths logger 'allingbacktonon return pathif not debug key path base static path '' .replace '.js' '' hash path asset paths os base static path hash path else return path 
def discard p global freelistx referents freelistfreelist preturn x 
def create work name name strip ext ['.nzb' '.par' '.par2']name name if name ' //' < 0 name base ext os name while ext in strip ext name name base name base ext os name return name else return name 
def get print format doc print format name meta if not print format name print format name frappe dict or meta print format or u Standard if print format name u Standard return Noneelse try return frappe doc u Print Format print format name except frappe Does Not Exist Error return None 
def os release info return  distro release info 
def verify webhook signature body public key   utils  ['http.query'] 'https //api.travis-ci.org/config' ['config']['notifications']['webhook']['public key public key Open S S L publickey Open S S L F I L E T Y P E PEM public key certificate Open S S L X509 certificate pubkey pkey public key signature base64 signature payload json parse qs body ['payload'][0] try Open S S L certificate signature payload str 'sha1' except Open S S L Error return Falsereturn True 
def interactive open targets command assert commandtry args shlex split command except Value Error args [command]args.insert 0 args args + targetsreturn os *args
def str2regexp string if string '/' string string '/' 2 [1 ]if len string 1 string '' string re string sum getattr re f for f in string return string 
def get current connection return  connection stack 
def  make Header Unix sig V2 SIGNATURE ver Com '!' fam Proto '1' addr Length '\x00\xd8' addrs '/home/tests/mysockets/sock' + '\x00' * 82 * 2 return sig + ver Com + fam Proto + addr Length + addrs 
def out format data out opts None **kwargs return try printout data out opts **kwargs
def split first s delims min idx Nonemin delim Nonefor d in delims idx s d if idx < 0 continueif min idx is None or idx < min idx min idx idxmin delim dif min idx is None or min idx < 0 return s '' None return s min idx s min idx + 1 ] min delim 
def translate urls json home new prefix for dummy rel resource in json home if 'href' in resource resource new prefix + resource elif 'href-template' in resource resource new prefix + resource 
def WMA ds count timeperiod - 2 ** 31 return call talib with ds ds count talib W M A timeperiod 
def handle add var request basket product id quantity 1 **kwargs vars dict int k u ' [ -1 ] int v for k v in six kwargs if k u ' var product Product Variation Result product id combination vars if not var product raise Validation Error _ u Thisvariationisnotavailable code u variation combination return handle add request request basket basket product id var product quantity quantity 
def raise cmdexc if invalid url if not url Valid raise cmdexc Command Error get errstring url 
def prepare commentdoc s result []lines [line.strip for line in s .splitlines ]for line in lines if line '# ' line line ]if line and line '' line line ]result.append line if result and result -1 ] result '' return result 
def  unicode to mbcs instr if isinstance instr six type return instr u else return instr 
def radius G e None if e is None e eccentricity G return min e 
def  capabilities conn   get conn caps conn Capabilities caps minidom String caps return caps 
def get thread cpu thread cmd 'ps-ocpuid lwp L % thread cpu thread system output cmd if not cpu thread return []return list set [ .strip .split [0] for _ in cpu thread ]
def class Provides *interfaces frame sys getframe 1 locals frame localsif locals is frame globals or '  module  ' not in locals raise Type Error 'rovidescanbeusedonlyfromaclassdefinition if '  provides  ' in locals raise Type Error 'rovidescanonlybeusedonceinaclassdefinition locals  provides  ']  normalizeargs interfaces add Class Advisor  class Provides advice depth 2
def  get bbox regression labels bbox target data num classes clss bbox target data 0]bbox targets np clss 4 * num classes dtype np bbox loss weights np bbox targets dtype np inds np clss > 0 [0]for ind in inds cls clss 4 * cls end start + 4 bbox targets start end bbox target data 1 ]bbox loss weights start end [1.0 1.0 1.0 1.0]return bbox targets bbox loss weights 
def atanh x np import module 'numpy' if isinstance x int float if abs x > 1 return interval - np np is valid False else return interval np x elif isinstance x interval if x valid is False or x > 1 or x < -1 return interval - np np is valid False elif x < -1 or x > 1 return interval - np np is valid None else start np x end np x return interval start end is valid x valid else return Not Implemented Error 
def p selection statement 3 t pass 
def port add br port may exist False param may exist  param may exist may exist cmd 'ovs-vsctl{2}add-port{0}{1}'.format br port param may exist result   salt  ['cmd.run all cmd retcode result  retcode to bool retcode 
def set language data from request request if 'default language not in request request language select best available language getattr request 'facility user 'default language None or get default language cur lang request G E T 'lang' or request 'default language set request language request lang code cur lang 
def  generate meas id id  dict id ['version'] FIFF.FIFFC V E R S I O Nid ['machid'] get machid id ['secs'] id ['usecs']  date now return id 
def remove chars string repl if type string str return string maketrans '' '' repl elif type string unicode return string dict [ ord s None for s in repl 
def singleitem attr None doc '' def getter self if len self items > 1 raise Value Error 'orethanone H S P Fragmentobjectsfoundin H S P if attr is None return self items getattr self items attr return property fget getter doc doc 
def  get cleaned headers headers cleaned headers []for header in headers sanitized sub '^\\d+' '' sub '[\\W ]' '' header if len sanitized > 0 cleaned headers sanitized else raise Google Spreadsheet Error "ncounteredaheader Couldnotmaptheheadertotheinternalrepresentationusedbythe Google Spreadsheet Pleasechangetheheadertoconsistofatleastonealphanumericcharacter % header header count defaultdict int results []for header cleaned header in zip headers cleaned headers new header cleaned headerif header count header > 0 new header '%s %d' % cleaned header header count header + 1 header count header + 1results.append new header return results 
def validate file path path  validate path path if not  CS FULLPATH R E G E X path raise Value Error 'athshouldhaveformat % path 
def empty queues global   INITIALIZED  return not   INITIALIZED   or Post Processor and Nzb Queue empty 
def  parse progress from job tracker html bytes start html bytes 'unning Jobs if start -1 return None None end html bytes 'obs start + len 'unning Jobs if end -1 end Nonehtml bytes html bytes end  JOB TRACKER HTML R E html bytes if len matches > 2 return float matches float matches else return None None 
def p declaration specifiers 2 t pass 
def close serial port *args D E V I C E 
def  build Likelihood Training Set num Ones 5 relative Frequencies None num Patterns 7p  get Simple Patterns num Ones num Patterns s1 [p[0] p p p p [p[0] p p p p [p[0] p p p p Sequences [s1 s2 s3 Patterns preturn training Sequences relative Frequencies all Patterns 
def  decode utf8 s return unicode s 'utf-8'
def block device mapping get all by instance uuids context instance uuids return I M P L device mapping get all by instance uuids context instance uuids 
def create mig gce params changed Falsereturn data []actions filter [ R E A T I N G gce create instancegroupmanager name params size params template params zone params if mig changed Truereturn data  get instance list mig filter list actions filter return changed return data 
def datetimeformat dt fmt None relative False fmt fmt or '%b%d %Y%I % if relative time difference  relative timestamp dt if time difference return '{}ago'.format time difference return dt fmt 
def sigterm handler signum frame logger u Got S I G T E R Msignal Exiting exit process 
def Interruptible Sleep sleep time slept 0.0epsilon 0.0001thread threading Thread while slept < sleep time - epsilon remaining sleep time - slept this sleep time min remaining 0.25 time this sleep time slept + this sleep timeif thread flag return 
def reload  name cmd ['service' name 'reload']return not   salt  ['cmd.retcode'] cmd python shell False 
def has module module modnames {'numpy' numpy 'ython Cython 'f2py' f2py modnames if module 'f2py' and not f2pyworks skip "ouldn return Trueskip "ouldn % module 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def cholesky solve matlist variable constant K new matlist copy matlist nrow len new matlist L Lstar cholesky new matlist K y [[i] for i in symbols 'y %i' % nrow ]forward substitution L y constant K backward substitution Lstar variable y K return variable 
def  set random states estimator random state None random state check random state random state to set {}for key in sorted estimator params deep True if key 'random state or key '  random state to set random state MAX RAND SEED if to set estimator params **to set 
def make decorator func def decorate newfunc if hasattr func 'compat func name name func func nameelse name func  name  newfunc  dict   func  dict  newfunc  doc   func  doc  newfunc  module   func  module  if not hasattr newfunc 'compat co firstlineno newfunc co firstlineno func code firstlinenotry newfunc  name   nameexcept Type Error newfunc func name namereturn newfuncreturn decorate 
def  fread3 fobj b1 b2 b3 np fobj '>u1' 3 return b1 << 16 + b2 << 8 + b3 
def remove blanks elem out list for child in elem remove blanks child if child or len child > 0 out child elem ] out 
def tops opts if 'master tops not in opts return {}whitelist list opts tops ret Lazy Loader  module dirs opts 'tops' 'top' opts tag 'top' whitelist whitelist return Filter Dict Wrapper ret '.top'
def render s context None if context is None context {}t get env .from string s return t context 
def check write repo try repo testfile '.repo test file run command repo 'touch%s' % repo testfile .stdout.strip repo run command repo 'rm' + repo testfile except error Cmd Error raise error Repo Write Error 'nabletowriteto + repo 
def p tokenid p p p 
def posterize image bits lut []mask ~ 2 ** 8 - bits - 1 for i in range 256 lut i & mask return  lut image lut 
def with addon allow missing False def wrapper fn @functools.wraps fn def inner view request **kwargs guid kwargs 'guid' None try if guid is None raise Addon Does Not Exist 'o G U I D addon Addon guid guid except Addon Does Not Exist if allow missing addon Noneelse return Response {'error' _ 'ouldnotfindadd .format guid } status status H T T P 404 NOT FOUND has perm addon is None or addon author request or request 'GET' and acl allowed user request 'ddons 'dit if has perm return fn view request addon addon **kwargs else return Response {'error' _ 'oudonotownthisaddon } status status H T T P 403 FORBIDDEN return innerreturn wrapper 
def run after loading view func def run if view loading sublime timeout run 10 else sublime timeout func 10 run 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
@magic arguments @kwds argument default argparse S U P P R E S S @argument '-f' '--foo' help 'anargument' def magic foo4 self args return parse argstring magic foo4 args 
def sphinx extension app exception if not app in 'html' 'dirhtml' returnif not app to github if app to github verbose stdout 'phinx Disabled doingnothing returnif exception if app to github verbose stdout 'phinx Exceptionraisedinmainbuild doingnothing returndir helper Dir Helper os os os shutil file helper File System Helper lambda f mode codecs f mode app to github encoding os shutil os operations factory Operations Factory handler factory Handler Factory layout factory Layout Factory operations factory handler factory file helper dir helper app to github verbose sys force True layout layout factory layout app layout 
def get power types power types []power template re 'fence  .* ' fence files glob '/usr/sbin/fence *' + glob '/sbin/fence *' for x in fence files templated x power template x .group 1 if templated x not in power types power types templated x power types return power types 
def  sympy to scalar e if isinstance e Expr if e Integer return int e elif e Float return float e elif e Rational return float e elif e Number or e Number Symbol or e I return complex e raise Type Error 'xpectednumber got %r' % e 
def npm check npm missing "leasenavigatetothebokehjsdirectoryandtype not path '../bokehjs/node modules print red npm missing 
def test mne analyze colormap assert raises Value Error mne analyze colormap [0] assert raises Value Error mne analyze colormap [ -1 1 2] assert raises Value Error mne analyze colormap [0 2 1]
def Get Enabled Interfaces interfaces []show args ['/c' 'netsh' 'show' 'interface']res client utils common Execute 'cmd' show args time limit -1 bypass whitelist True pattern re '\\s*' for line in res '\r\n' interface info pattern line if 'nabled in interface info interfaces interface info -1 ] return interfaces 
def jsonrpc client call url method *args **kwargs  urllib kwargs ' urllib urllib if args and kwargs raise Value Error 'ass client call req {'jsonrpc' '2.0' 'method' method 'params' args or kwargs 'id' 1}res json  urllib url json req .read if 'result' in res return res 'error' in res er res Json Rpc Error er er er else msg " S O N R P Cresponsemustcontain %s" % res raise Value Error msg 
@newrelic.agent.function trace def make course settings course user obj {'is cohorted is course cohorted course 'allow anonymous course anonymous 'allow anonymous to peers course anonymous to peers 'cohorts' [{'id' str g 'name' g for g in get course cohorts course ] 'category map utils discussion category map course user }return obj 
def calendar hierarchy units hierarchy units []for level in hierarchy role level or level if role in  CALENDAR UNITS units role else raise Argument Error "nknowntimerole % role str level return units 
def n colors lowcolor highcolor n colors diff 0 float highcolor - lowcolor incr 0 diff 0 / n colors - 1 diff 1 float highcolor - lowcolor incr 1 diff 1 / n colors - 1 diff 2 float highcolor - lowcolor incr 2 diff 2 / n colors - 1 color tuples []for index in range n colors new tuple lowcolor + index * incr 0 lowcolor + index * incr 1 lowcolor + index * incr 2 color tuples new tuple return color tuples 
def is same transform matrix0 matrix1 matrix0 numpy matrix0 dtype numpy copy True matrix0 / matrix0 3 3 ]matrix1 numpy matrix1 dtype numpy copy True matrix1 / matrix1 3 3 ]return numpy matrix0 matrix1 
def connect route53domains aws access key id None aws secret access key None **kwargs from boto import Route53 Domains Connectionreturn Route53 Domains Connection aws access key id aws access key id aws secret access key aws secret access key **kwargs
def dot shape from shape x y if isinstance x Linear Transform if type y ! tuple raise Type Error 'yshouldbetuple' y return x shape + x right shape y False [1] elif isinstance y Linear Transform if type x ! tuple raise Type Error 'xshouldbetuple' x return y left shape x False [0] + y shape else raise Type Error 'neofxoryshouldbea Linear Transform 
@endpoint u postprocess json def library info ctx rd library map default library ctx info rd return {u'library map library map u library default library 
def download setuptools version DEFAULT VERSION download base DEFAULT URL to dir os delay 15 downloader factory get best downloader to dir os to dir tgz name 'setuptools-%s.tar.gz' % version url download base + tgz name saveto os to dir tgz name if not os saveto log 'ownloading url downloader downloader factory downloader url saveto return os saveto 
def split by position linked promotions context for linked promotion in linked promotions promotion linked promotion objectif not promotion continuekey 'promotions %s' % linked promotion if key not in context context []context[key].append promotion 
def no log warn logical line if logical line ' O G ' yield 0 'eat301 Use L O G ratherthan L O G '
def gen test func None timeout None if timeout is None timeout get async test timeout def wrap f f gen f @functools.wraps f def wrapper self return self loop sync functools f self timeout timeout return wrapperif func is not None return wrap func else return wrap 
def absolute self return Absolute self 
def  parse url default Port None url url parsed http url scheme parsed urlunparse '' '' + parsed ] if default Port is None if scheme 'https' default Port 443else default Port 80 host port parsed default Port if ' ' in host host port host ' ' try port int port except Value Error port default Portif path '' path '/'return scheme host port path 
def  microseconds from datetime value if not value value value tzinfo UTC value value UTC return int calendar value * 1000000.0 + value 
def matroska date to datetime date format re u [- .] ' u Y H %M % while format try return datetime date u format except Value Error format format -2 ]return date 
def  is package path return os path and os os path '  init  .py'
def test doc api merge children en tokenizer text u W K R Oplayedsongsbythebeachboysallnight en tokenizer text assert len doc 9 doc doc doc + len doc u N A M E D u L E M M A u T Y P E for word in doc if word < word assert word in list word elif word > word assert word in list word 
def clear search index search services index SEARCH INDEX EXPLORATIONS
def  get request value request value name default '' if request is not None and hasattr request 'GET' and value name in request G E T return request G E T name request is not None and hasattr request 'POST' and value name in request P O S T return request P O S T name return default 
def ref sort key ref return len ref ref 
def ones shape dtype None if not isinstance shape list tuple Tensor Variable shape [shape]if dtype is None dtype config Xreturn alloc numpy 1 dtype dtype *shape
def Get Previous Non Blank Line clean lines linenum prevlinenum linenum - 1 while prevlinenum > 0 prevline clean lines not Is Blank Line prevline return prevline prevlinenum prevlinenum - 1return '' -1
def generate token length 20 chars UNICODE ASCII CHARACTER SET return u choice chars for x in range length 
def  set attributes clean test data test type {'client' 1 'server' 2}test time {'short' 1 'medium' 2 'long' 3}test.test type test type type ]test.test time test time ]string attributes 'name' 'author' 'test class 'test category 'test category 'sync count for attribute in string attributes setattr test attribute getattr data attribute test data ' '.join data int attributes 'experimental' 'run verify for attribute in int attributes setattr test attribute int getattr data attribute 
def  retry instance update exception checker lambda exc isinstance exc exception Unknown Instance Update Conflict return oslo db api db retry max retries 5 retry on deadlock True exception checker exception checker 
def  ico downsample surf dest grade n tri surf -1 bad msg 'surfacewith % surf if n tri % 20 ! 0 raise Runtime Error bad msg n tri n tri // 20 found int round np n tri / np 4 if n tri ! 4 ** found raise Runtime Error bad msg del n triif dest grade > found raise Runtime Error 'orthissurface decimationgradeshouldbe not % found dest grade source  get ico surface found dest  get ico surface dest grade patch stats True del dest cent dest nn dest tri dest area not np equal source surf raise Runtime Error 'hesourcesurfacehasamatchingnumberoftrianglesbutorderingiswrong logger 'oingfrom n tri %d->%d ' % found dest grade surf dest dest surf get ico map source dest ]return dest 
def test elemwise collapse shape 4 5 60 a cuda ndarray Cuda Ndarray theano asarray numpy *shape dtype 'float32' a theano asarray numpy *shape dtype 'float32' a2 tcn constructor a 'a' a3 a2 0 'x' 1 2 b tcn Cuda Ndarray Type False True False False c a3 + b f pfunc [b] [c] mode mode with gpu v theano asarray numpy shape 1 *shape[1 ] dtype 'float32' v cuda ndarray Cuda Ndarray v out f v [0]assert numpy out a shape 1 *shape[1 ] + v 
def is collection obj if isinstance obj basestring return Falsereturn hasattr obj '  getitem  '
def setup gpmdp hass config code add devices name config CONF NAME host config CONF HOST port config CONF PORT url 'ws //{} {}'.format host port if not code request configuration hass config url add devices returnif 'gpmdp' in  CONFIGURING configurator get component 'configurator' configurator done  C O N F I G U R I N G 'gpmdp' add devices [GPMDP name url code ]
def contract nonce gasprice startgas endowment code v 0 r 0 s 0 tx Transaction nonce gasprice startgas '' endowment code v r s return tx 
def move source destination use sudo False func use sudo and run as root or run func '/bin/mv{0}{1}'.format quote source quote destination 
def get documented filenames documented {}for filename in filenames f open filename u lines f .splitlines documented get documented in lines lines filename filename f return documented 
def equalize epoch counts epochs list method 'mintime' if not all isinstance e Base Epochs for e in epochs list raise Value Error 'llinputsmustbe Epochsinstances for e in epochs list if not e bad dropped e bad event times [e.events[ 0] for e in epochs list  get drop indices event times method for e inds in zip epochs list indices e inds reason 'EQUALIZED COUNT'
def attribute path to object names attribute container path object names ['figure']if 'layout' in attribute container path for path part in attribute container path if path part in OBJECTS object names path part if path part in ARRAYS object names path part object names path part -1 ] elif 'ttributes in attribute container path object names 'layout' start index attribute container path 'ttributes for path part in attribute container path index ] if path part in OBJECTS object names path part if path part in ARRAYS object names path part object names path part -1 ] else object names 'data' for path part in attribute container path if path part in OBJECTS object names path part if path part in ARRAYS object names path part object names path part -1 ] return tuple object names 
def get absolute path to file in repository repo files dir file name stripped file name basic util path file name file path Nonefor root dirs files in os repo files dir if root '.hg' < 0 for name in files if name stripped file name return os os root name return file path 
@unbox types Array def unbox array typ obj c nativearycls c array typ nativeary nativearycls c c aryptr nativeary getpointer ptr c aryptr c if c nrt errcode c adapt ndarray from python obj ptr else errcode c array adaptor obj ptr failed cgutils not null c errcode return Native Value c aryptr is error failed 
def  turn off csrf request csrf token csrf get new token request token csrf tokenrequest X C S R F T O K E N csrf token 
@taskdef linkcheck ctx build ctx builder 'linkcheck'
def  intersect items baselist comparelist return list set baselist & set comparelist 
def validate course mode course id mode is active None include expired False if not include expired include expired not is active if is active is not None else False course enrollment info  data api .get course enrollment info course id include expired include expired course modes course enrollment info modes modes [m['slug'] for m in course modes mode not in available modes msg u Specifiedcoursemode id Availablemodeswere {available}".format mode mode course id course id available ' '.join available modes log msg raise errors Course Mode Not Found Error msg course enrollment info 
def n files str count return '{}file{}'.format count 's' if count ! 1 else ''
def if safe multiprocessing with blas func @wraps func def run test *args **kwargs if sys 'darwin' raise Skip Test 'ossiblemulti B L A S return func *args **kwargs return run test 
def write With Attribute Escaping write def  write data write escape For Content data .replace '"' '&quot;' return  write 
@register.inclusion tag u list takes context True def result list context view context list context list list result headers view num sorted fields 0for h in headers if h and h num sorted fields + 1context.update {u'result headers headers u sorted fields num sorted fields u list results view object list } return context 
def remove cwd targets msg None user None username None password None *opts if msg opts + '-m' msg if targets opts + tuple salt split targets return  run svn 'remove' cwd user username password opts 
def int or true div x discrete y discrete if x discrete and y discrete if config division 'raise' raise Integer Division Error "ith division dividingtwointegertypeswith Pleaseuse orifyouwantafloatresulteithercastoneoftheargumentstoafloatordirectlycall  truediv   y `." elif config division 'int' warnings 'ivisionoftwointegertypeswithx pleaseusex Deprecation Warning stacklevel 4 return int divelif config division ' return true divelse raise Not Implemented Error config division else return true div 
def odd ext x n axis -1 if n < 1 return xif n > x - 1 raise Value Error 'heextensionlengthn %d istoobig + 'tmustnotexceedx whichis % n x - 1 left end axis slice x start 0 stop 1 axis axis left ext axis slice x start n stop 0 step -1 axis axis right end axis slice x start -1 axis axis right ext axis slice x start -2 stop - n + 2 step -1 axis axis ext np 2 * left end - left ext x 2 * right end - right ext axis axis return ext 
def set base image properties properties None if isinstance properties dict and len properties 0 properties format 'qcow2'properties['container format 'bare'
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def Unregister Server clsid prog I D None ver Prog I D None custom Keys None for args in Get Unregister Server Keys clsid prog I D ver Prog I D custom Keys recurse delete key *args
def set evacuate or drain option facts if facts gte 3 5 or 1 5'] facts or drain '--drain'else facts or drain '--evacuate'return facts 
def invalidate module pricing cache driver type driver name if driver name in PRICING D A T A type del PRICING D A T A type name 
def escape s if s is None return ''assert isinstance s basestring 'expected%sbutgot%s;value %s' % basestring type s s s s '\\' '\\\\' s s '\n' '\\n' s s ' DCTB ' '\\t' s s ' ' ' DCTB ' return s 
def transfer Closest Path old Ordered Location remaining Paths skein closest Distance 1ath Noneold Ordered Location Complex old Ordered Location Axis 2 for remaining Path in remaining Paths distance min abs old Ordered Location Complex - remaining Path abs old Ordered Location Complex - remaining Path -1 ] if distance < closest Distance closest Distance distanceclosest Path remaining Pathremaining Paths closest Path skein Gcode From Thread Z closest Path old Ordered Location old Ordered Location closest Path -1 ]rdered Location closest Path -1 ].imag
def  extract issues logs issues ISSUE R E G E X ''.join [log.message for log in logs links { ISSUE URL FORMAT STRING % issue for issue in issues links 
def export states to yaml exploration id version None width 80 exploration get exploration by id exploration id version version exploration dict {}for state in exploration exploration dict utils from dict exploration dict width width return exploration dict 
def Fake Open filename flags mode 511 raise O S Error errno E P E R M 'perationnotpermitted filename 
def execusercustomize try import usercustomizeexcept Import Error passexcept Exception if sys sys *sys.exc info else print >>sys.stderr "'importusercustomize'failed;use-vfortraceback"
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
def empty Line pass 
def evaluate op op str a b raise on error False use numexpr True **eval kwargs use numexpr use numexpr and  bool arith check op str a b if use numexpr return  evaluate op op str a b raise on error raise on error **eval kwargs return  evaluate standard op op str a b raise on error raise on error 
def sets G c color G X set n for n in c if c Y set n for n in c if not c return X Y
def Tspec txt if txt 'one return T 'one elif txt in 'efault '*' return T 'efault else return txt 
def profile func stream None def wrapper *args **kwargs prof Line Profiler val prof func *args **kwargs show results prof stream stream return valreturn wrapper 
def get osf statistics time None time get previous midnight time latest Noneif O S F Website Statistics ! 0 latest O S F Website Statistics 'date' if latest time returndates get list of dates latest time else dates [time]for date in dates get days statistics date latest latest O S F Website Statistics 'date'
def diff dicts d expected prefix None prefix prefix or [] diffs {}for k in set d + expected current prefix prefix + [k] want d k got expected k if isinstance want dict and isinstance got dict diffs diff dicts got want prefix current prefix elif got ! want key '.'.join current prefix diffs got want return diffs 
def test enn sample wrong X enn Edited Nearest Neighbours random state RND SEED enn X Y assert raises Runtime Error enn np 100 40 np [0] * 50 + [1] * 50
def is func decorator node parent node parent is not None if isinstance parent astroid Decorators return Trueif parent statement or isinstance parent astroid Lambda or isinstance parent scoped nodes Comprehension Scope scoped nodes List Comp breakparent parent False 
def bucket download fileobj self Key Fileobj Extra Args None Callback None Config None return self fileobj Bucket self Key Key Fileobj Fileobj Extra Args Extra Args Callback Callback Config Config 
def sanitize filename filename if isinstance filename str unicode filename re u u filename filename re u "<>|?]' u filename filename re u u filename filename filename u return filenamereturn u 
def parsedate tz data res  parsedate tz data if not res returnif res is None res 0return tuple res 
def total seconds delta if sys info 2] ! 2 6 return delta seconds day in seconds delta * 24 * 3600.0 micro in seconds delta / 10.0 ** 6 return day in seconds + delta + micro in seconds 
def epath path expr None func None args None kwargs None  epath E Path path if expr is None return  epathif func is None return  epath expr else return  epath expr func args kwargs 
def upcast float16 ufunc fn def ret *args **kwargs out dtype numpy common type [a.dtype for a in args [numpy.float16] if out dtype 'float16' sig 'f' * fn + '->' + 'f' * fn kwargs sig sig return fn *args **kwargs return ret 
def pkgdb opts return Lazy Loader  module dirs opts 'pkgdb' base path os SALT BASE PATH 'spm' opts tag 'pkgdb'
def transplant func func module from nose import make decoratorif isgenerator func def newfunc *arg **kw for v in func *arg **kw yield v else def newfunc *arg **kw return func *arg **kw newfunc make decorator func newfunc newfunc  module   modulereturn newfunc 
def removeslash method @functools.wraps method def wrapper self *args **kwargs if self '/' if self in 'GET' 'HEAD' uri self '/' if uri if self uri + '?' + self self uri permanent True returnelse raise H T T P Error 404 return method self *args **kwargs return wrapper 
def image volume cache delete context volume id return I M P L volume cache delete context volume id 
def tic return   timer  .tic
def  construct yaml str self node return self scalar node 
def erfinv x a 0.147 lnx log 1 - x * x part1 2 / a * pi + lnx / 2 part2 lnx / a sgn 1 if x > 0 else -1 return sgn * sqrt sqrt part1 * part1 - part2 - part1 
def ipv6 to str ip if isinstance ip numbers Integral return addrconv to text type desc Int16 user ip else return addrconv to text ip 
def check config permission permission key permission 'ckan.auth.' '' if key not in CONFIG PERMISSIONS DEFAULTS return Falsedefault value CONFIG PERMISSIONS D E F A U L T S key config key 'ckan.auth.' + key value config config key default value if key 'roles that cascade to sub groups value value if value else [] else value asbool value return value 
def get Additional Length path point point Index if point Index 0 return abs point - path if point Index len path return abs point - path -1 ] return abs point - path point Index - 1 ] + abs point - path Index - abs path Index - path point Index - 1 ]
def loadarff f if hasattr f 'read' ofile felse ofile open f 'rt' try return  loadarff ofile finally if ofile is not f ofile 
def  read cfg production input return  read production input standard nonterm parser 
def  pivot row T pivcol phase tol 1e-12 if phase 1 k 2else k 1ma np where T[ - k pivcol < tol T[ - k pivcol copy False if ma 0 return False np mb np where T[ - k pivcol < tol T[ - k -1 ] copy False q mb / ma return True np q q [0][0]
def normalize scene text return re u A Z0  ]' u normalize u N F K D text .encode u A S C I I u .decode
def  ask user a formatted try rv  vim 'inputlist %s ' %  vim formatted if rv is None or rv '0' return Nonerv int rv if rv > len a rv len a return a rv - 1 ]except  vim return Noneexcept Keyboard Interrupt return None 
def gen pubpriv keys nbits p q e d gen keys nbits return {'e' e 'n' p * q } {'d' d 'p' p 'q' q 
def get current worker task for task in reversed  task stack if not task directly return task 
def educate Dashes Old School text text re '---' smartchars text text re '--' smartchars text return text 
@app.route '/stream-bytes/<int n def stream random bytes n n min n 100 * 1024 params Case Insensitive Dict request if 'seed' in params random int params if 'chunk size in params chunk size max 1 int params size else chunk size 10 * 1024 def generate bytes chunks bytearray for i in xrange n chunks random 0 255 if len chunks chunk size yield bytes chunks chunks bytearray if chunks yield bytes chunks headers {ontent Type 'application/octet-stream'}return Response generate bytes headers headers 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def is choice action return action 
def  count clades trees bitstrs {}tree count 0for tree in trees tree count + 1clade bitstrs  tree to bitstrs tree for clade in tree clades terminal False bitstr clade bitstrs bitstr in bitstrs count sum bl bitstrs + 1sum bl + clade length or 0 bitstrs count sum bl else bitstrs 1 clade length or 0 return bitstrs tree count 
def NXM IS NX REG o return o reg 
def test invalid usage exception exception app request response sanic endpoint test exception app uri '/invalid' assert response 400
def index template delete name hosts None profile None es  get instance hosts profile try result es template name name if result 'acknowledged' False return Trueexcept elasticsearch Not Found Error return Nonereturn None 
def  determine levels index if isinstance index tuple list and len index > 1 return list range len index else return 0
def use coupon code coupons user cart Order cart for user user cart items cart set .select subclasses is redemption applied Falsefor coupon in coupons try if Coupon Redemption coupon redemption coupon cart cart items is redemption applied Trueexcept Multiple Coupons Not Allowed Exception return Http Response Bad Request _ 'nlyonecouponredemptionisallowedagainstanorder if not is redemption applied log u Discountdoesnotexistagainstcode coupons return Http Response Not Found _ "iscountdoesnotexistagainstcode .format code coupons return Http Response json {'response' 'success' 'coupon code applied True content type 'application/json'
def strip stopwords sentence words sentence sentence []for word in words if word not in stopwords sentence word return ''.join sentence 
def is dirty return dirty thread ident False 
def get image members table meta get image members table from migration import '008 add image members table ['get image members table images get image members table meta return images 
def get person contact user if not user or user anonymous return Anonymous Contact defaults {u'is active user active u name getattr user u name u u name getattr user u name u u getattr user u u }return Person Contact or create user user defaults defaults [0]
def format lea seq log input seqs count barcode errors exceed max count barcode not in map count primer mismatch count seq too short count total seqs kept log out 'ualityfilterresults Totalnumberofinputsequences {arcodenotinmappingfile {equenceshorterthanthreshold {arcodeerrorsexceedslimit {rimermismatchcount {otalnumberseqswritten {}'.format input seqs count barcode not in map count seq too short count barcode errors exceed max count primer mismatch count total seqs kept return log out 
def tiles iht O Rsize numtilings floats ints [] readonly False qfloats [floor f * numtilings for f in floats Tiles []for tiling in range numtilings tiling X2 tiling * 2 coords [tiling]b tilingfor q in qfloats coords q + b // numtilings b + tiling X2coords ints Tiles hashcoords coords iht O Rsize readonly return Tiles 
def get cluster for job submission yarn get next ha yarncluster if yarn return yarnmr get next ha mrcluster if mr is not None return mrreturn None 
def  cql from cass type cass type if issubclass cass type types Reversed Type return cass type parameterized type else return cass type parameterized type 
def version profile 'default' cmd {'cmd' 'version' 'mime' 'prop'}return  do http cmd profile ['worker.jk version '/' [ -1 ]
def get New Repository return Fill Repository 
def reset model model elements for model element in model elements model element 
def help output test subcommand '' cmd get ipython cmd + [subcommand '-h'] out err rc get output error code cmd nt equal rc 0 err nt not in 'raceback err nt in 'ptions out nt in '--help-all' out return out err 
def  validate requirements requirements invalid requirements []for requirement in requirements invalid params []if not requirement 'namespace' invalid params 'namespace' if not requirement 'name' invalid params 'name' if not requirement 'display name invalid params 'display name if 'criteria' not in requirement invalid params 'criteria' if invalid params invalid requirements u {params}'.format requirement requirement params invalid params return invalid requirements 
def defer succeed result d defer Deferred reactor Later 0.1 d result return d 
def md5 for file filename try md5 hashlib for byte in read File Buffered filename md5 byte return md5 except Exception return None 
def sum x axis None return Sum axis x 
def movetotrash path fss Carbon File F S Spec path trashfolder Carbon Folder F S Find Folder fss tuple [0] 'trsh' 0 move path trashfolder 
def movefile source dest if os dest try os dest except O S Error passos source dest 
def rst fmt text fmt return fmt % text 
def get fans obj obj type apps model 'contenttypes' 'ontent Type .objects.get for model obj return get user model .objects.filter likes  content type obj type likes  object id obj 
def qsturng p r v if all map  isfloat [p r v return  qsturng p r v return  vqsturng p r v 
def raw tool xml tree path tree  parse xml path return tree 
def file param registry xml parent data base param registry xml parent data False 'ile Parameter Definition 
def Print Extremes live hist thinkstats2 Hist live thinkplot Hist hist label 'livebirths' thinkplot Save root 'first nsfg hist live title 'istogram xlabel 'weeks' ylabel 'frequency' print 'hortestlengths ' for weeks freq in hist Smallest 10 print weeks freq print 'ongestlengths ' for weeks freq in hist Largest 10 print weeks freq 
def dump device args None cmd 'blockdev--getro--getsz--getss--getpbsz--getiomin--getioopt--getalignoff--getmaxsect--getsize--getsize64--getra--getfra{0}'.format device ret {}opts [c[2 ] for c in cmd if c '--' ]out   salt  ['cmd.run all cmd python shell False if out 0 lines [line for line in out if line 0for line in lines ret linecount count + 1 if args temp ret {}for arg in args temp ret ret temp retelse return retelse return False 
def addtogether *things return reduce operator things 
def unhexify hexsum if hexsum 'one return Nonesum ''for i in range 0 len hexsum 2 sum sum + chr string hexsum i + 2 ] 16 return sum 
def register probe probe class if probe class not in REGISTERED PROBES REGISTERED P R O B E S probe class 
def logger name 'ibpy' level level format format datefmt datefmt logging Config level level format format datefmt datefmt return logging Logger name 
def  get pyqt objects lines obj depth 0 for kid in obj Children Q Object '' Qt Find Direct Children Only lines '' * depth + repr kid  get pyqt objects lines kid depth + 1
def  randint seed None if seed is None return random isinstance seed int return random Random seed .randintelif is sequence seed seed list seed seed def give a b seq seed a b as int a as int b w b - a if w < 0 raise Value Error ' randintgotemptyrange try x seq except Attribute Error raise Value Error ' randintexpectsalist except Index Error raise Value Error ' randintsequencewastooshort if a < x < b return xelse return give a b seq return giveelse raise Value Error ' randintgotanunexpectedseed 
def check compatibility version name if not version raise Unsupported Wheel '%sisinanunsupportedorinvalidwheel' % name if version > VERSION COMPATIBLE[0] raise Unsupported Wheel "heel Version %s isnotcompatiblewiththisversionofpip % name '.'.join map str version elif version > VERSION COMPATIBLE logger 'nstallingfromanewer Wheel Version %s ' '.'.join map str version 
def get bound method weakref target on delete if hasattr target '  get  ' return Bound Method Weakref target target on delete on delete else return Bound Non Descriptor Method Weakref target target on delete on delete 
def total seconds delta if sys info 2] ! 2 6 return delta seconds day in seconds delta * 24 * 3600.0 micro in seconds delta / 10.0 ** 6 return day in seconds + delta + micro in seconds 
def get vmdk size and properties context image instance L O G _ 'ettingimagesizefortheimage % image instance instance image service image id glance remote image service context image meta data image service context image id size properties meta data meta data L O G _ 'otimagesizeof size sfortheimage image s % locals instance instance return size properties 
def unsafe version version return version '_' '.'
def triu m k 0 return m * 1 - tri m m k k - 1 dtype m 
def create connection conf new connection pool return Connection Context conf connection pool pooled not new 
def scan archive path if not os path raise Value Error 'athdoesnotexist if not path ARCHIVE EXTENSIONS raise Value Error '%risnotavalidarchiveextension' % os path [1] dirpath filename os path logger 'canningarchive filename dirpath if filename '.rar' rar Rar File path rar filenames [f for f in rar if f VIDEO EXTENSIONS ]if not rar filenames raise Value Error 'ovideoinarchive if len rar filenames > 1 raise Value Error 'orethanonevideoinarchive rar filename rar filenames filepath os dirpath rar filename video Video rar filepath guessit rar filepath video rar rar filename .file sizeelse raise Value Error 'nsupportedextension % os path [1] return video 
def random insert circuit choices seed None from sympy import  randrangeif not choices return circuitif isinstance circuit Mul circuit circuit  randrange seed loc randrange len circuit + 1 choice choices len choices ]circuit list circuit circuit loc choicereturn tuple circuit 
def Download File file obj target path buffer size BUFFER SIZE logging u Downloading %sto %s' file obj target path target file open target path 'wb' file obj Seek 0 count 0data buffer file obj Read buffer size while data buffer target file data buffer data buffer file obj Read buffer size count + 1if not count % 3 logging u Downloading %s %sdone' file obj utils Format Number As String count * buffer size target file 
def extract data input dir output dir if os output dir print 'singextracteddataat % output dir returnfor filename in 'data object label 2.zip' 'data object image 2.zip' 'devkit object filename os input dir filename zf zipfile Zip File filename 'r' print 'nzipping % filename zf output dir 
def  gerrit user to author props username u username props 'username' username username props 'name' username if 'email' in props username + u email s % props return username 
def clear post mortem if IS IPYKERNEL from I Python import get ipythonipython shell get ipython if ipython shell ipython shell custom exc None else sys sys  excepthook  
def looks like a tool cwl path return looks like a cwl artifact path classes [ommand Line Tool 'xpression Tool 
def most square shape N for i in xrange int numpy N 0 -1 if 0 N % i return i N / i 
def list stacks by path path stacks None cache None if stacks is None stacks []MANIFEST FILE rospkg M A N I F E S T F I L Ebasename os d dirs files in os path topdown True if STACK FILE in files stack basename d if stack not in stacks stacks stack if cache is not None cache ddel dirs ]continueelif MANIFEST FILE in files del dirs ]continueelif 'rospack nosubdirs in files del dirs ]continue[dirs.remove di for di in dirs if di '.' ]for sub d in dirs sub p os d sub d if os sub p stacks list stacks by path sub p cache cache return stacks 
def filter by version test class version dict current version find required version version dict dummy test method self passfor name in dir test class expected version find required version name 0 0 0 if expected version > current version setattr test class name dummy test method 
@timer.timeddef identity *args **kwargs return args kwargs 
def with setup command root *args **kwds def generator func @wraps func def deco *args2 **kwargs2 tempdir path tempfile pkgrootdir tempdir / 'root' root pkgrootdir cwd os os pkgrootdir command [sys.executable 'setup.py' 'build sphinx args try proc subprocess Popen command stdout subprocess P I P E stderr subprocess P I P E func pkgrootdir proc *args **kwds finally tempdir os cwd return decoreturn generator 
def serialize instance instance ret dict [ k v for k v in instance  dict  .items if not k '_' ] return json json ret cls Django J S O N Encoder 
def equate Spherical Dot Radius point return Value original Radius abs point if original Radius > 0.0 point * return Value / original Radius 
def  parse profile profile if isinstance profile string types  profile   salt  ['config.option'] profile if not  profile msg 'illarkeyforprofile profile raise Salt Invocation Error msg else  profile profilehosts  profile 'hosts' index  profile 'index' return hosts index 
def crc32 data return  crc32 data & 4294967295
def len Sig obj return obj / 8
def median v n len v sorted v sorted v midpoint n // 2 if n % 2 1 return sorted v lo midpoint - 1 hi midpointreturn sorted v + sorted v / 2
def  api resume name output kwargs scheduler resume 0 sabnzbd all return report output 
def geodjango suite apps True import sysfrom django import get appsuite unittest Test Suite from django import tests as geos testssuite Test geos tests from django import HAS G D A Lif HAS GDAL from django import tests as gdal testssuite Test gdal tests else sys ' D A Lnotavailable G D A Lwillberun from django import HAS G E O I Pif HAS GEOIP and hasattr settings 'GEOIP PATH' from django import tests as geoip testssuite Test geoip tests if apps for app name in geo apps namespace False suite Test build suite get app app name return suite 
def from text list name ttl rdclass rdtype text rdatas if isinstance name str unicode name dns text name None if isinstance rdclass str unicode rdclass dns text rdclass if isinstance rdtype str unicode rdtype dns text rdtype r R Rset name rdclass rdtype r ttl ttl for t in text rdatas rd dns text r r t r rd return r 
def  traverse metric stats ts tags if isinstance stats dict if 'timestamp' in stats ts stats / 1000 for key in stats if key ! 'timestamp'  traverse metric + '.' + key stats ts tags if isinstance stats list set tuple count 0for value in stats  traverse metric + '.' + str count value ts tags count + 1if utils numeric stats and not isinstance stats bool if isinstance stats int stats int stats printmetric metric ts stats tags return 
@not implemented for 'directed' def average clustering G trials 1000 n len G triangles 0nodes list G for i in [int random * n for i in range trials ] nbrs list G if len nbrs < 2 continue u v random nbrs 2 if u in G triangles + 1return triangles / float trials 
def interpose el seq combined zip itertools el seq return drop 1 concat combined 
def fixed ip disassociate all by timeout context host time return I M P L ip disassociate all by timeout context host time 
def test Redshift Scale Factor m models Redshift Scale Factor 0.4 assert m 0 0 assert array equal m [1 2] [1.4 2.8] assert allclose m m [1 2] [1 2] m models Redshift Scale Factor [ -0.5 0 0.5] n models 3 assert array equal m 0 0 assert array equal m [1 2] model set axis False [[0.5 1] [1 2] [1.5 3]] assert allclose m m [1 2] model set axis False [[1 2] [1 2] [1 2]]
def convert Date Time Property model prop kwargs if prop now or prop now add return Nonereturn f Date Time Field format ' H %M %S' **kwargs
def sanitize path path replacements None replacements replacements or CHAR REPLACE comps components path if not comps return ''for i comp in enumerate comps for regex repl in replacements comp regex repl comp comps compreturn os *comps
def p program p if len p 2 and p p {} line stat p statelif len p 3 p p not p p {}if p line stat p stat 
def  generate cache header key key prefix request path hashlib force bytes iri to uri request full path cache key u header % key prefix path return  i18n cache key suffix request cache key 
def sdm to vector f gens K n None dic sdm to dict f dics {}for k v in dic dics k [] .append k ] v n n or len dics res []for k in range n if k in dics res Poly dict dics gens gens domain K .as expr else res S Zero return res 
def decrease stream retention period stream name retention hours region None key None keyid None profile None conn  get conn region region key key keyid keyid profile profile r  execute with retries conn 'decrease stream retention period Stream Name stream name Retention Period Hours retention hours if 'error' not in r r Truereturn r 
def split huge add or mul node if node op in scal scal max nb inputs max inputs to Gpu Elemwise node if max nb inputs < 1 and len node > 1 return Falsewhile len node > max nb inputs inner op []for i in xrange 0 len node max nb inputs inner op node *node.inputs[i i + max nb inputs ] node node *inner op .ownerreturn node 
def  Parse Full App Id app id partition ''psep app id  PARTITION SEPARATOR if psep > 0 partition app id psep id app id psep + 1 ]domain name ''dsep app id  DOMAIN SEPARATOR if dsep > 0 domain name app id dsep id app id dsep + 1 ]return partition domain name app id 
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def test load train file environ {'PYLEARN2 DATA PATH' '/just/a/test/path/'}load train file yaml path + 'test model load train file yaml path + 'test model environ environ 
def filter otus from otu map input otu map fp output otu map fp min count min sample count 1 results set output otu map f open output otu map fp 'w' for line in open input otu map fp 'U' fields line .split ' DCTB ' sample ids set [e.split '_' [0] for e in fields ]] if len fields > min count and len sample ids > min sample count output otu map f line results fields ' DCTB ' [0] output otu map f return results 
def dumps obj key None salt u serializer J S O N Serializer compress False data serializer .dumps obj is compressed Falseif compress compressed zlib data if len compressed < len data - 1 data compressedis compressed Truebase64d b64 encode data if is compressed base64d '.' + base64d return Timestamp Signer key salt salt .sign base64d 
def filter sum dict align dict filter attribute low bound high bound new sum dict F S S P F S S P Sum Dict new align dict copy align dict for prot num in sum dict attr value getattr sum dict num filter attribute if attr value > low bound and attr value < high bound new sum dict num sum dict num numbers sorted new sum dict for pos num in new align dict res dict new align dict pos num .pos align dict {}for prot num in prot numbers new align dict pos num .pos align dict num align dict pos num .pos align dict num new sum dict new align dict 
def infer dict node context None has keywords lambda args all isinstance arg nodes Keyword for arg in args if not node and not node return nodes Dict elif has keywords node and node items [ nodes Const arg arg for arg in node len node > 2 and has keywords node ] elts  get elts node context keys [ nodes Const arg arg for arg in node ]]items elts + keys elif len node 1 items  get elts node context else raise Use Inference Default empty nodes Dict empty itemsreturn empty 
def get deps dir frame inspect [1]module inspect frame p os module  file   nesting limit 10index 0while 'deps' not in os p if '.git' in os p raise Missing Deps Dir Error 'ouldnotfindadepsdirforgitrepo % p if index > nesting limit raise Missing Deps Dir Error 'ouldnotfindadepsdirafterlooking % nesting limit p os p index + 1return os p 'deps'
def  invert monoms p1 terms list p1 terms deg p1 R p1 R p1 mv p1 for i in range len mv p deg - mv ] cv p 
def values store load return store 
def execute request service property uri request return service .query site Url property uri body request .execute
def test get by name assert Operator by name 'elect K Best .  class   T P O T Select K Best 
def read Queue thread id None return  read Queue thread id 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def get issues url page after template '{base url closed page 100&page {page}&since {after}'return template page page after after **API PARAMS
def recursive repr fillvalue u def decorating function user function repr running set def wrapper self key id self get ident if key in repr running return fillvaluerepr running key try result user function self finally repr running key return resultwrapper  module   getattr user function u  module  ' wrapper  doc   getattr user function u  doc  ' wrapper  name   getattr user function u  name  ' wrapper  annotations   getattr user function u  annotations  ' {} return wrapperreturn decorating function 
def get next prior import or install required dict entry prior required dict processed tsr ids for key value in prior required dict if key in processed tsr ids continueif not value return keyfor key value in prior required dict if key in processed tsr ids continueall contained Truefor required repository id in value if required repository id not in processed tsr ids all contained Falsebreakif all contained return keyfor key value in prior required dict if key in processed tsr ids continuereturn key 
@status 'configureregenerated' modal True info str def regenerated configure file paths if 'configure.ac' in file paths return 'yes' if 'configure' in file paths else 'no' else return 'notneeded'
def  remove repeated inds sum index {}for i in inds if i in sum index sum index + 1else sum index 0inds [x for x in inds if not sum index ]return set inds tuple [i for i in sum index if sum index 
def channel return s3 rest controller 
def dump config profile 'default' cmd {'cmd' 'dump' 'mime' 'prop'}return  do http cmd profile 
def getprime nbits poolsize pipe recv pipe send mp Pipe duplex False procs [rocess target  find prime args nbits pipe send for _ in range poolsize ][p.start for p in procs pipe recv [p.terminate for p in procs result 
def write stream stream outfile flush try buf outfile Attribute Error buf outfilefor chunk in stream buf chunk if flush outfile 
def test oss fit single class oss One Sided Selection random state RND SEED y single class np X assert warns User Warning oss X y single class 
def csrf exempt view func def wrapped view *args **kwargs return view func *args **kwargs wrapped view exempt Truereturn wraps view func wrapped view 
def method2png output mx raw False buff rawif raw False buff method2dot mx method2format output 'png' mx buff 
def add flex arithmetic methods cls flex arith method flex comp method None flex bool method None use numexpr True force False select None exclude None new methods  create methods flex arith method flex comp method flex bool method use numexpr default axis 'columns' special False new methods dict multiply new methods subtract new methods divide new methods for k in 'ror ' 'rxor' 'rand ' if k in new methods new methods k add methods cls new methods new methods force force select select exclude exclude 
def  orange to numpy x if isinstance x data Table return x Xelif isinstance x data Instance return np 2d x elif isinstance x np return np 2d x else return x 
def uppercase range code1 code2 code3 max code1 ord 'a' code4 min code2 ord 'z' + 1 if code3 < code4 d ord 'A' - ord 'a' return code3 + d code4 + d else return None 
def sysv hash symbol h 0g 0for c in symbol h h << 4 + ord c g h & 4026531840 h ^ g >> 24 h & ~ g return h & 4294967295
def test cmp a frozenset [1 2] b set [1 2] abig frozenset [1 2 3] bbig set [1 2 3] Are Equal cmp a b 0 Are Equal cmp a bbig -1 Are Equal cmp abig b 1 class sset set passclass fset frozenset passa fset [1 2] b sset [1 2] abig fset [1 2 3] bbig sset [1 2 3] Are Equal cmp a b 0 Are Equal cmp a bbig -1 Are Equal cmp abig b 1
def  long to bin x hex format string return binascii hex format string % x 
def send daily now frappe datetime for report in frappe all u Auto Email Report {u'enabled' 1 u u u Daily u Weekly } auto email report frappe doc u Auto Email Report report if auto email report u Weekly if now ! {onday 0 u Tuesday 1 u Wednesday 2 u Thursday 3 u Friday 4 u Saturday 5 u Sunday 6}[auto email report of week continueauto email report 
def make main argv sys from sphinx import make modereturn make mode make mode argv ]
def test token auth precomptoken 'hb Gci Oi J I Uz I1 Ni Is In R5c C I6 Ikp X V C J9 Jk Y X Rh Ijoib Xkg Z G F0 Y S Is In Vz Z X Ii Oi J Ua W1vd Gh5 In0 Qqd Q M J U Tq0 Dq7v Hln Djdo C K F P D Alvx G Cpc 8 F41n I token authentication token if token precomptoken return 'imothy requires token authentication def hello world return 'ello World hug api 'hello world headers {uthorization precomptoken .data 'ello World assert '401' in hug api 'hello world .status assert '401' in hug api 'hello world headers {uthorization 'hb Gci .status
def sanitize host host return ''.join [c for c in host 255] if c in ascii letters + digits + '.-' ]
def create volumes w3af home os '~/.w3af' w3af shared os '~/w3af-shared' if not os w3af home os w3af home if not os w3af shared os w3af shared 
def  serialize allocations for resource provider allocations resource provider return  allocations dict allocations lambda x x id resource provider resource provider 
def  apply exif orientation image try exif tags image getexif or {} except Attribute Error return image O R I E N T A T I O N TAG ID 274orientation exif tags ORIENTATION TAG ID if orientation 1 passelif orientation 2 image image Image F L I P LEFT RIGHT elif orientation 3 image image Image R O T A T E 180 elif orientation 4 image image Image F L I P TOP BOTTOM elif orientation 5 image image Image F L I P LEFT RIGHT image image Image R O T A T E 90 elif orientation 6 image image Image R O T A T E 270 elif orientation 7 image image Image F L I P LEFT RIGHT image image Image R O T A T E 270 elif orientation 8 image image Image R O T A T E 90 return image 
def  handle objects related type conversions values for key in 'access ip v4 'access ip v6 if key in values and values is not None values str values datetime keys 'created at 'deleted at 'updated at 'launched at 'terminated at convert objects related datetimes values *datetime keys 
def point is valid generator x y n generator curve generator if x < 0 or n < x or y < 0 or n < y return Falseif not curve point x y return Falseif not n * ellipticcurve Point curve x y ellipticcurve I N F I N I T Y return Falsereturn True 
def  neighbor test nr points dim bucket size radius kdt  C K D Tree K D Tree dim bucket size coords random nr points dim kdt data coords neighbors kdt search radius r [neighbor.radius for neighbor in neighbors r is None l1 0else l1 len r neighbors kdt simple search radius r [neighbor.radius for neighbor in neighbors r is None l2 0else l2 len r if l1 l2 return Trueelse print 'otpassed %i! %i.' % l1 l2 return False 
def lengths *args results []for arg in args try arglen len arg except Type Error arglen Noneresults arglen arg return results 
def download command url to STDOUT INDICATOR quote url False if quote url url "'%s'" % url if to ! STDOUT INDICATOR to "'%s'" % to if which 'wget' download cmd ['wget' '-q']if to STDOUT INDICATOR download cmd + ['-O' STDOUT INDICATOR url download cmd + ['--recursive' '-O' to url download cmd ['curl' '-L' url to ! STDOUT INDICATOR download cmd + ['-o' to download cmd 
def lookup Well Known Services name timeout None return get Resolver .ell Known Services name timeout 
def requeue queue index -1 x queue index queue 0 x return x 
def remove nanrows y x mask ~ np y mask * ~ np x .any -1 y y x y x 
def config file kind 'local' if kind 'local' return 'setup.cfg'if kind 'global' return os os distutils  file   'distutils.cfg' if kind 'user' dot os 'posix' and '.' or '' return os convert path '~/%spydistutils.cfg' % dot raise Value Error "config file typemustbe 'global' or kind 
def shortcut launch argv [u'cola' u path find git if git path prepend path git path return main argv 
def fake cluster orm **updates db cluster fake db cluster **updates del db cluster models Cluster **db cluster return cluster 
def collect merged boolean field block structure transformer xblock field name merged field name for block key in block structure traversal parents block structure parents block key all parents merged value all block structure transformer block field parent key transformer merged field name False for parent key in parents if parents else False block structure transformer block field block key transformer merged field name all parents merged value or get field on block block structure xblock block key xblock field name False 
def test nonexistent extra warns user with wheel script data result script 'install' '--no-index' '--find-links ' + data links 'simplewheel[nonexistent]' expect stderr True assert "simplewheel2.0doesnotprovidetheextra'nonexistent'" in result 
def resource link path request '/' if '|item' in request path path path '/' ]def strip prefix hit return path hit ] if path hit else path if config U R L PREFIX path strip prefix config U R L PREFIX + '/' if config A P I VERSION path strip prefix config A P I VERSION + '/' return path 
def get user model safe user app user model settings A U T H USER M O D E L '.' try return apps model user app user model except App Registry Not Ready if apps ready and not apps ready app config apps app config user app import module '%s.%s' % app config MODELS MODULE NAME return apps registered model user app user model else raise 
def build api server args facts cloud cfg path os facts base 'cloudprovider' if 'master' in facts api server args {}if 'cloudprovider' in facts if 'kind' in facts if facts 'aws' api server args ['aws']api server args [ cloud cfg path + '/aws.conf' ]if facts 'openstack' api server args ['openstack']api server args [ cloud cfg path + '/openstack.conf' ]if facts 'gce' api server args ['gce']api server args [ cloud cfg path + '/gce.conf' ]if api server args ! {} facts merge facts {'master' {'api server args api server args facts [] [] return facts 
def cx Two Point ind1 ind2 size min len ind1 len ind2 cxpoint1 random 1 size cxpoint2 random 1 size - 1 if cxpoint2 > cxpoint1 cxpoint2 + 1else cxpoint1 cxpoint2 cxpoint2 cxpoint1 ind1 cxpoint2 ind2 cxpoint2 ind2 cxpoint2 ind1 cxpoint2 return ind1 ind2 
@receiver UNENROLL DONE def handle unenroll done sender course enrollment None skip refund False **kwargs if not is commerce service configured or skip refund returnif course enrollment and course enrollment try request user get request user or course enrollment if isinstance request user Anonymous User returnrefund seat course enrollment request user except log u Unexpectedexceptionwhileattemptingtoinitiaterefundforuser course course enrollment course enrollment id 
def isenumattribute x if enum is None return Falsereturn isinstance x enum Enum 
def init all applications from django import get apps get modelsfor app in get apps try get models app except Exception continue 
def dup ff div f g K df dup degree f dg dup degree g q r dr [] f df if not g raise Zero Division Error 'polynomialdivision' elif df < dg return q r lc g dup LC g K while True lc r dup LC r K c K lc r lc g j dr - dg q dup add term q c j K h dup mul term g c j K r dup sub r h K  dr dr dr dup degree r if dr < dg breakelif not dr <  dr raise Polynomial Division Failed f g K return q r 
@not implemented for 'directed' def is edge cover G cover return set G < set chain iterable cover 
def add plugin translations plugin translation plugin folder os current app P L U G I N S FOLDER'] plugin translations folder os plugin folder 'translations' source file os translations folder 'messages.pot' subprocess ['pybabel' 'extract' '-F' 'babel.cfg' '-k' 'lazy gettext '-o' source file plugin folder subprocess ['pybabel' 'init' '-i' source file '-d' translations folder '-l' translation 
def check cs ptr result func cargs if not result raise G E O S Exception 'rrorencounteredchecking Coordinate Sequencereturnedfrom G E O S Cfunction % func  name   return result 
@jit nopython True def searchsorted a v lo -1 hi len a while lo < hi - 1 m lo + hi // 2 if v < a hi melse lo mreturn hi 
def  is reference arg return isinstance arg dict and len arg 1 and isinstance next six arg six types 
def get url conn urlopen url resp conn conn return resp 
def make color dict start name start hsv end name end hsv n colors linear gradient start hsv end hsv n names [ '%sto%s%s %s' % start name end name n i for i in range n ]return dict zip names colors 
def show commit repo commit decode outstream sys print commit commit decode decode outstream outstream parent commit repo tree diff outstream repo store parent commit commit 
def get cli body ssh vrf interface command response module if '^' in response body []elif 'showrun' in command body responseelse body [json.loads response ]return body 
def is installed return get binstar is not None 
def tokenize wrapper input skip set token N E W L I N E token I N D E N T token D E D E N T tokens tokenize tokens io String I O input .readline for quintuple in tokens type value start end line text quintupleif type not in skip yield quintuple 
def  call brew cmd failhard True user   salt  ['file.get user  homebrew bin runas user if user !   opts  ['user'] else None result   salt  ['cmd.run all cmd runas runas output loglevel 'trace' python shell False if failhard and result ! 0 raise Command Execution Error 'rewcommandfailed info {'result' result return result 
def remove license key result {'result' False 'retcode' -1 'output' ''}if not has powerpath result 'ower Pathisnotinstalled resultcmd '/sbin/emcpreg-remove{0}'.format key ret   salt  ['cmd.run all cmd python shell True result ret ret ! 0 result ret result ret Truereturn result 
def gosper sum f k indefinite Falseif is sequence k k a b kelse indefinite Trueg gosper term f k if g is None return Noneif indefinite result f * g else result f * g + 1 .subs k b - f * g .subs k a if result is S Na N try result f * g + 1 .limit k b - f * g .limit k a except Not Implemented Error result Nonereturn factor result 
def dup exquo f g K q r dup div f g K if not r return qelse raise Exact Quotient Failed f g 
def clean path execbit path current pathwhile True try mode os current .st modeif mode & stat S IXOTH 0 raise forms Validation Error _ "hepath % current except O S Error breakcurrent os os current os if current '/' break 
def   Doc Test Finder from module self module object import inspectif module is None return Trueelif inspect object or inspect object return module  name   object  module   elif inspect object is not None return module is inspect object elif hasattr object '  module  ' return module  name   object  module   elif isinstance object property return Trueelse raise Value Error 'objectmustbeaclassorfunction'
def make cidx file fp if which 'cdbfasta' args ['cdbfasta' fp stdout stderr Popen args stderr PIPE stdout PIPE .communicate else raise Application Not Found Error 
def sample with replacement population k return [random.choice population for i in range k ]
def  create test message sqs S Q S Connection sqs q sqs queue g sqs queue assert sqs q 'failedtoconnecttoqueue'message sqs q message body json {'job name 'daily-sr-sitemap-reporting' 'location' 's3 //reddit-data-analysis/big-data/r2/prod/' + 'daily sr sitemap reporting 2016-06-14' 'timestamp'  current timestamp } sqs q message 
def  get changes rsync out copied list deleted list for line in rsync out '\n\n' [0].split '\n' [1 ] if line 'deleting' deleted line '' 1 [ -1 ] else copied line return {'copied' os sorted copied or 'N/A' 'deleted' os sorted deleted or 'N/A' }
def msec time return int time * 1000.0
def help problems command name help text problems []expected start u Usage {command}'.format command command name .encode 'utf8' if not help text expected start problems 'oesnotbeginwith Found expected repr expected start actual repr help text len expected start ] return problems 
def  mobius to interval M field a b c d M s t field a c field b d if s < t return s t else return t s 
def coverage with hotshot fn fp Hot Shot Func Coverage fn def new fn *args **kw return fp *args **kw new fn  doc   fn  doc  new fn  name   fn  name  new fn  dict   fn  dict  new fn  module   fn  module  return new fn 
def ensure fromlist mod fromlist buf recursive if not hasattr mod '  path  ' returnfor item in fromlist if not hasattr item 'rindex' raise Type Error "temin if item '*' if recursive continuetry all mod  all  except Attribute Error passelse ret ensure fromlist mod all buf 1 if not ret return 0elif not hasattr mod item import submodule mod item buf + '.' + item 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def set Active Privacy List disp listname None typ 'active' if listname attrs {'name' listname attrs {}resp disp Send And Wait For Response Iq 'set' NS PRIVACY payload [ode typ attrs ] if is Result Node resp return 1
def  theano hamiltonian model vars shared logpt potential dlogp gradient logpt model vars logp dlogp q join nonshared inputs [logpt dlogp model vars shared logp Callable Tensor logp dlogp Callable Tensor dlogp return Hamiltonian logp dlogp potential q 
def getrss tag '' popular 0 url '' user '' return dlcs rss request tag tag popular popular user user url url 
def set subtensor x y inplace False tolerate inplace aliasing False return inc subtensor x y inplace set instead of inc True tolerate inplace aliasing tolerate inplace aliasing 
def pow mid p max denom 1024 assert 0 < p < 1 p Fraction p .limit denominator max denom return p p 1 - p 
def grade histogram module id from django import connectioncursor connection query ' E L E C Tcourseware studentmodule \ O U N T courseware studentmodule id \ R O Mcourseware studentmodule W H E R Ecourseware studentmodule id % R O U P B Ycourseware studentmodule query [module id deprecated string ] grades list cursor grades key lambda x x if len grades > 1 and grades is None return []return grades 
def rwxtype mode if stat S ISLNK mode return 'l'elif stat S ISDIR mode return 'd'elif stat S ISREG mode return '-'else return '?'
def list active vms conn   get conn vms []for id  in conn Domains I D vms conn By I D id  .name return vms 
def  get root versions dir config root dir  get package root dir config script location config main option 'script location part1 part2 script location ' ' parts part1 '.' + part2 '.' + ['versions'] return os root dir *parts
def timedelta range start None end None periods None freq 'D' name None closed None return Timedelta Index start start end end periods periods freq freq name name closed closed 
def solve Bilinear Transform points1 points2 import numpy A np [[ points1 * points1 points1 points1 1] for i in range 4 ] B np [[points2[i].x points2 ] for i in range 4 ] matrix np 2 4 for i in range 2 matrix numpy A B[ i return matrix 
def fuzzy not equal a str b str threshold 0.6 return not relative distance boolean a str b str threshold 
def  create diff action diff diff key key value if diff key not in diff diff key {}diff[diff key value 
def  repl X M L Ref match ref match 1 value entcharrefsget ref if value is None if ref '#' ref code ref ]if ref code in '34' '38' '60' '62' '39' return match 0 elif ref code 'x' return unichr int ref ] 16 else return unichr int ref ] else return refreturn value 
def  get proc username proc try return proc if PSUTIL2 else proc except psutil No Such Process psutil Access Denied Key Error return None 
def  apply forwards fstruct forward fs class visited while id fstruct in forward fstruct forward fstruct ]if id fstruct in visited returnvisited id fstruct if  is mapping fstruct items fstruct elif  is sequence fstruct items enumerate fstruct else raise Value Error u Expectedmappingorsequence for fname fval in items if isinstance fval fs class while id fval in forward fval forward fval ]fstruct[fname] fval apply forwards fval forward fs class visited return fstruct 
def  required jdk arch system arch get arch if system arch 'x86 64' return 'x64'elif re 'i[0-9]86' system arch return 'i586'else raise Exception "nsupportedsystemarchitecture Oracle J D K % system arch 
def has super powers return os 0
def setup worker fp server addr port counter 0 verbose False error profile None if fp is None raise Value Error 'setup workerneedsfilepathforworker log fh Noneif verbose dir dirname fp + '.log' if not exists dir makedirs dir log fh open fp + '.log' 'a' 0 new fp fpif exists '/tmp' new fp '/tmp/' + split fp [1] worker Denoise Worker new fp server addr port counter counter log fh log fh error profile error profile loop 
def read uic3tag fh byteorder dtype plane count assert dtype '2I' and byteorder '<' values fh array '<u4' 2 * plane count .reshape plane count 2 return {'wavelengths' values 0] / values 1] }
def get Identity Tetragrid tetragrid None if tetragrid None return [[1.0 0.0 0.0 0.0] [0.0 1.0 0.0 0.0] [0.0 0.0 1.0 0.0] [0.0 0.0 0.0 1.0]]return tetragrid 
def Redis Session redis conn session expiry False with lock False db None locker try instance name 'redis instance ' + current if not hasattr Redis Session instance name setattr Redis Session instance name Redis Client redis conn session expiry session expiry with lock with lock return getattr Redis Session instance name finally locker 
def test flat b Bundle 's1' 'a2' output 'foo' jl bundle to joblist b assert len jl 1 assert jl [0] 'foo' assert len jl 1 assert len jl 2
def async raise tid exctype if not isinstance exctype six types type raise Type Error 'nlytypescanberaised notinstances ' if not isinstance tid int raise Type Error 'tidmustbeaninteger' res ctypes Py Thread State Set Async Exc ctypes long tid ctypes object exctype if res 0 raise Value Error 'invalidthreadid' elif res ! 1 ctypes Py Thread State Set Async Exc ctypes long tid 0 raise System Error 'y Thread State Set Async Excfailed 
def  main test main test proxy test destop test es2 test pyopengl 
def  Gen Client Lib Callback args client func Gen Client Lib discovery path language output path args doc args args client path client func discovery path language output path print ' P Iclientlibrarywrittento % client path 
def equate Rectangular point return Value point To Vector3 evaluate Vector3 By Dictionary List Value return Value point 
def cr uid records method method api 'cr uid records method 
def version windows versions major 1 minor 1 point 1 version identifiers []for version string in versions try version identifiers Version version string except Invalid Version Unicode Encode Error passmajor version window majorminor version window minorpoint version window pointmanager Version Manager for v in version identifiers manager v manager major major version window manager minor minor version window manager point point version window return manager version list 
def pw Encode pw pop u A B C D E F G H I J K L M N O P Q R S T U V W X Y Z0123456789 ; - !$?*+#'rpw u random pop 32 + pw + u random pop 32 return Encode Marker + base64 rpw u .decode u 
def get ext filename try return os filename [1].lower except return ''
def test sharedlibs mappath os test location '../test data gdb plugin sharedlibs p angr Project binpath load options {'gdb map mappath 'gdb fix True check addrs p 
def testnewdocument document docbody relationships simpledoc coreprops coreproperties 'ythondocxtestnewdocument 'shortexampleofmakingdocxfrom Python 'lan Brooks ['python' 'ffice Open X M L 'ord savedocx document coreprops appproperties contenttypes websettings wordrelationships relationships TEST FILE
def Get keys **kwargs return Get Async keys **kwargs .get result 
def get revision vcs revision tag None None None hgdir os basedir '..' '.hg' gitdir os basedir '..' '.git' if os gitdir vcs 'git'vcs info vcs revision tag return revision vcs info 
def introspector field arg defs kwarg defs matching details field args []kwargs {}for defn in arg defs try args get value field defn except Is Default passfor kwd defn in kwarg defs try kwargs get value field defn except Is Default passreturn args kwargs 
def create cloud oname words maxsize 120 fontname 'obster try from pytagcloud import create tag image make tagsexcept Import Error if not warned of error print 'ouldnotimportpytagcloud Skippingcloudgeneration returnwords [ w int v * 10000 for v w in words make tags words maxsize maxsize create tag image tags oname size 1800 1200 fontname fontname 
def short2rgb short return SHORT2RGB D I C T 
def get Warning Method return warn 
def  api change cat name output kwargs value kwargs 'value' value2 kwargs 'value2' if value and value2 nzo id valuecat value2if cat 'one cat Noneresult Nzb Queue cat nzo id cat return report output keyword 'status' data bool result > 0 else return report output  MSG NO VALUE
def register access role cls try role name cls R O L E R E G I S T E R E D ACCESS R O L E S name clsexcept Attribute Error log u Unabletoregister Access Rolewithattribute R O L E return cls 
@ F F I u Value Extern Context Key ' def extern val for context handle key c  F F I handle context handle return c to value key 
def b36 number if not number or number < 0 return B36 A L P H A B E T []while number number i divmod number 36 base36 B36 A L P H A B E T return ''.join reversed base36 
def Rebuild Proxy func token serializer kwds server getattr process process ' manager server None if server and server token util 'ebuildaproxyownedbymanager token %r' token kwds owned Trueif token not in server to local proxy obj server to local proxy obj server to obj kwds 'incref' True and not getattr process process ' inheriting False return func token serializer incref incref **kwds
def read names names path names data pd csv names path names data Name names data Name name data names data by [ame [ount name counts np name data names deduped np name data Dataset collections 'ataset [ame 'ount return Dataset names deduped name counts 
def pick installer config default plugins question 'owwouldyouliketoinstallcertificates return pick plugin config default plugins question interfaces I Installer 
def  from dict entry name entry 'name' code entry 'code' message entry 'message' return name Error Code code message 
def test read types t1 ascii 'abc\n123\n456' format 'fast basic guess False t2 ascii String I O 'abc\n123\n456' format 'fast basic guess False t3 ascii ['abc' '123' '456'] format 'fast basic guess False assert table equal t1 t2 assert table equal t2 t3 
def get locale name locale cls  locales name if locale cls is None raise Value Error u Unsupportedlocale name return locale cls 
def  dt to float ordinal dt if isinstance dt np Index Series and is datetime64 ns dtype dt base dates dt / 1000000000.0 else base dates dt return base 
def config megam bin None global  megam bin megam bin find binary 'megam' bin env vars ['MEGAM'] binary names ['megam.opt' 'megam' 'megam 686' 'megam i686 url 'http //www.umiacs.umd.edu/~hal/megam/index.html'
def  do download version download base to dir download delay egg os to dir 'setuptools-%s-py%d.%d.egg' % version sys info sys info if not os egg archive download setuptools version download base to dir download delay  build egg egg archive to dir sys 0 egg if 'pkg resources in sys  unload pkg resources import setuptoolssetuptools install from egg 
def floating ip get all by project context project id return I M P L ip get all by project context project id 
def arg lookup fun aspec None ret {'kwargs' {}}if aspec is None aspec salt function argspec fun if aspec ret dict zip aspec -1 ] aspec -1 ] ret [arg for arg in aspec if arg not in ret ]return ret 
def test notation regexp pattern re SCIENTIFIC NOTATION REGEXP matches ['1e3' '1.E4' '-1e-3' '2.3e+4' '.2e4']fails ['string' '4' '2.1' '1.2e3.2' '.e4' 'a3e4']for match in matches assert pattern match for fail in fails assert not pattern fail 
def serialize dt value return value if hasattr value 'isoformat' else value 
def limit validation results validation messages validation settings V A L I D A T O R MESSAGE L I M I Tif lim and len messages > lim TYPES {'error' 0 'warning' 2 'notice' 3}def message key message if message 'signing severity return 1else return T Y P E S message 'type' messages key message key leftover count len messages - lim del messages ]if validation msg type 'error'elif validation msg type 'warning'else msg type 'notice'compat type msg type if any msg 'compatibility type for msg in messages else None messages 0 {'tier' 1 'type' msg type 'id' ['validation' 'messages' 'truncated'] 'message' _ "alidationgeneratedtoomanyerrors Afteraddressingthevisiblemessages you % leftover count 'description' [] 'compatibility type compat type 
def Parse Trace Dump msg return re k Trace Code Line msg 
def list add t owner slug get slug user name raw input light magenta 'ivemenameofthenewbie ' rl True if user name '@' user name user name ]try t slug slug owner screen name owner screen name user name print Nicely green 'dded except debug option print Nicely light magenta " 
def ndependents dependencies dependents result dict num needed dict k len v for k v in dependents current set k for k v in num needed if v 0 while current key current result 1 + sum result for parent in dependents for child in dependencies num needed - 1if num needed 0 current child return result 
def filelines source file source file 0 2 while True line source file if not line sleep 0.1 continue yield line 
def poly collection 2d to 3d col zs 0 zdir u segments 3d codes paths to 3d segments with codes col paths zs zdir col  class   Poly3 D Collectioncol verts and codes segments 3d codes col 3d properties 
def add class classname cls if classname in cls decl class registry existing cls decl class registry not isinstance existing  Multiple Class Marker existing cls decl class registry  Multiple Class Marker [cls existing else cls decl class registry clstry root module cls decl class registry sa module registry Key Error cls decl class registry sa module registry root module  Module Marker ' sa module registry None tokens cls  module  .split '.' while tokens token tokens 0 module root module module token for token in tokens module module module token module class classname cls 
def  flatten units collection items if not isinstance items list items [items]result set for item in items if isinstance item Unit Base result item else if isinstance item dict units item elif inspect item units vars item .values elif isiterable item units itemelse continuefor unit in units if isinstance unit Unit Base result unit return result 
def  plot raw onscroll event params len channels None if 'fig selection in params  change channel group event params returnif len channels is None len channels len params orig start params start event < 0 params start min params start + params channels len channels - params channels else params start max params start - params channels 0 if orig start ! params start  channels changed params len channels 
@cleanupdef test  Event Collection  get lineoffset _ coll props generate Event Collection plot assert equal props coll lineoffset 
def sendmail smtphost from addr to addrs msg sender Domain Name None port 25 if not hasattr msg 'read' msg String I O str msg d defer Deferred factory S M T P Sender Factory from addr to addrs msg d if sender Domain Name is not None factory sender Domain Namereactor T C P smtphost port factory return d 
def  zstat generic2 value std diff alternative zstat value / std diff if alternative in ['two-sided' '2-sided' '2s'] pvalue stats np zstat * 2 elif alternative in ['larger' 'l'] pvalue stats zstat elif alternative in ['smaller' 's'] pvalue stats zstat else raise Value Error 'invalidalternative' return zstat pvalue 
def roles required *roles def wrapper fn @wraps fn def decorated view *args **kwargs perms [ermission Role Need role for role in roles perm in perms if not perm if  security unauthorized callback return  security unauthorized callback else return  get unauthorized view return fn *args **kwargs return decorated viewreturn wrapper 
def  positive int integer string strict False cutoff None ret int integer string if ret < 0 or ret 0 and strict raise Value Error if cutoff ret min ret cutoff return ret 
@ Configurable Filter executable 'HTML TIDY EXECUTABLE' def html tidy nowrap infile executable 'tidy5' return  html tidy runner infile '-quiet--show-infono--show-warningsno-utf8-indent--indent-attributesno--sort-attributesalpha--wrap0--wrap-sectionsno--drop-empty-elementsno--tidy-markno-modify%1' executable executable 
def descendants pid this pid pidallpids all pids ppids {}def  parent pid if pid not in ppids ppids parent pid return ppids  children ppid return [pid for pid in allpids if  parent pid ppid ]def  loop ppid return {pid  loop pid for pid in  children ppid }return  loop pid 
def print rows results print 'ows ' if results 'rows' [] for row in results 'rows' print ' DCTB '.join row else print 'o Rows Found 
def jsonrpc error id code message data None return {'jsonrpc' '2.0' 'error' {'code' code 'message' message 'data' data 'id' id 
def create service credentials Google Credentials application default return discovery 'storage' 'v1' credentials credentials 
def  hash data data if isinstance data function Function data copy data if not isinstance data six types if isinstance data collections Sequence return hash tuple  hash data d for d in data if isinstance data collections Mapping item hashes hash k ^  hash data v for k v in data return six operator item hashes 0 return hash data 
@then u def step it should fail with context assert context is not None 'ENSURE multilinetextisprovided command output should contain context assert that context result is not equal to 0
def schema remove dbname name user None db user None db password None db host None db port None if not schema exists dbname name db user db user db password db password db host db host db port db port log "chema name dbname return Falsesub cmd ' R O P S C H E M A name  psql prepare and run ['-c' sub cmd runas user maintenance db dbname host db host user db user port db port password db password if not schema exists dbname name db user db user db password db password db host db host db port db port return Trueelse log "ailedtodeleteschema name return False 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def scan postfix smtpd line date log collector m re 'NOQUEUE reject R C P Tfrom .*? ;from < .*? >to < .*? >' log if m message sender recipient m if recipient in collector mail addresses if 'ecipientaddressrejected Greylisted in message returnm re 'lienthost .*? \\]blockedusingzen.spamhaus.org; .* ' message if m message 'ipblocked ' + m 2 m re 'enderaddress .* \\]blockedusingdbl.spamhaus.org; .* ' message if m message 'domainblocked ' + m 2 collector recipient [] .append date sender message 
def create route table vpc id None vpc name None route table name None tags None region None key None keyid None profile None vpc id check vpc vpc id vpc name region key keyid profile if not vpc id return {'created' False 'error' {'message' ' P C vpc name or vpc id }}return  create resource 'route table route table name tags tags vpc id vpc id region region key key keyid keyid profile profile 
def get eol chars text for eol chars  os name in EOL CHARS if text eol chars > -1 return eol chars 
def get fixers from package pkg name return [ pkg name + '.' + fix name for fix name in get all fix names pkg name False ]
def  check valid key val valid if val not in valid raise Value Error '%smustbeoneof%s not % key valid val 
def asint value if value is None return valuereturn int value 
@constructordef argmin x axis None keepdims False x as tensor variable x str x type str x if str x type 'float' or str x type in int dtypes return argmax - x axis axis keepdims keepdims else raise Not Implemented Error 
def  parse datetime string val dt Nonelenval len val fmt {19 ' H %M %S' 10 ' lenval if fmt is None raise exc Invalid Date Time String "hesuppliedvalue Y Y Y Y M M D D H H MM S S Y Y Y Y M M D D % val return datetime val fmt 
def ntohl integer if sys 'big' return integerif not isinstance integer int long raise Type Error 'expectedint/long %sfound' %  Type Name integer if integer < 0 raise Overflow Error "can'tconvertnegativenumbertounsignedlong" if integer > 1 << 32 raise Overflow Error 'longintlargerthan32bits' return int integer & 4278190080 >> 24 | integer & 16711680 >> 8 | integer & 65280 << 8 | integer & 255 << 24
def has Handlers logger rv Falsewhile logger if logger rv Truebreakelif not logger breakelse logger logger rv 
def  Add Equals Method message descriptor cls def   eq   self other if not isinstance other message mod Message or other D E S C R I P T O R ! self D E S C R I P T O R return Falseif self is other return Trueif not self List Fields other List Fields return Falseunknown fields list self unknown fields unknown fields other unknown fields list other unknown fields other unknown fields return unknown fields other unknown fields cls  eq     eq  
def  bootstrap arch name **kwargs if not salt 'pacstrap' raise Command Execution Error 'pacstrapnotfound isthearch dst  make container root name cmd 'pacstrap-c-d{0}base'.format dst ret   salt  ['cmd.run all cmd python shell False if ret ! 0  build failed dst name return ret 
@app.route '/hello' def hello response make response json {'hello' current app H E L L O response Content Type 'application/json'return response 
@permission required 'wiki.delete document def delete document request document try Document Deletion Log locale document slug document user request reason 'pam document except Exception return Falsereturn True 
def get controller args for types func arg types args kwargs result args []result kwargs {}argspec inspect func names argspec ]for index name in enumerate names if name in kwargs try value kwargs type arg types cast argument value value type value type value value result kwargs valueexcept Index Error L O G "ypedefinitionfor name func  name   continuetry value args 0 value type arg types cast argument value value type value type value value result args value except Index Error L O G "ypedefinitionfor name func  name   return result args result kwargs 
def get sql indexes app from django import modelsoutput []for model in models models app output get sql indexes for model model return output 
def  epochs navigation onclick event params import matplotlib as pltp paramshere Noneif event p here 1elif event p here -1 elif event p if p idx p p idx plt p plt event figure if here is not None p handler here p handler here this idx p handler draw epochs axes this idx p ch idx p ch idx p idx p p p str p handler p figure .canvas.draw
def remove True List From Dictionary dictionary keys for key in keys remove True From Dictionary dictionary key 
def commented out code lines source line numbers []try for t in generate tokens source token type t string t row t t not line .startswith u continueif token type tokenize C O M M E N T stripped line token string u .strip if u in stripped line and u not in stripped line and check syntax stripped line line numbers start row except Syntax Error tokenize Token Error passreturn line numbers 
def Get Indent Level line indent Match '^ * \\S' line if indent return len indent 1 else return 0
def degrees to dms degrees deg int degrees min int degrees - deg * 60 sec degrees - deg - min / 60.0 * 60 * 60 return u % deg abs min abs sec 
def water source return s3 rest controller 
def  get json data eid None fpath None assert eid is not None or fpath is not None if fpath is not None return gzip fpath .read fpath  jsonf % eid if os fpath os R OK return gzip fpath .read try return urllib2  json base url % eid eid timeout 5 .read except urllib2 H T T P Error passexcept socket passreturn None 
def alexnet spec batch size 500 return Data Spec batch size batch size scale size 256 crop size 227 isotropic False 
def is builtin name if name in builtins return Trueif name in SPECIAL BUILTINS return Truereturn False 
@require role 'admin' def asset del request asset id request G E T 'id' '' if asset id Asset id asset id .delete if request 'POST' asset batch request G E T 'arg' '' asset id all str request P O S T 'asset id all '' if asset batch for asset id in asset id all ' ' asset get object Asset id asset id asset return Http Response u 
def print groups per container inventory containers get all groups inventory required list ['container name 'groups']table prettytable Pretty Table required list for container name groups in containers row [container name ' '.join sorted groups ]table.add row row for tbl in table table 'l'return table 
def get End Index Convert Equation Value bracket End Index evaluator Index evaluators evaluator evaluators Index evaluator  class   ! Evaluator Value return bracket End Indexif not evaluator 'equation.' return bracket End Indexif evaluators evaluator Index + 1 ].word ! ' ' return bracket End Indexvalue Begin Index evaluator Index + 2 equation Value String ''for value Evaluator Index in xrange value Begin Index len evaluators value Evaluator evaluators Evaluator Index value Evaluator ' ' or value Evaluator '}' if equation Value String '' return bracket End Indexelse evaluators Begin Index Evaluator Value equation Value String value Delete Index value Begin Index + 1 del evaluators Delete Index value Evaluator Index bracket End Index - value Evaluator Index + value Delete Index equation Value String + value Evaluator bracket End Index 
def normalize line endings lines newline return [ line u + newline for line in lines 
def Add Request S Handle p I O Type Channel Value x1 User Data if os 'nt' static Lib ctypes Load Library 'labjackud' v ctypes double Value ud ctypes double User Data ec static Lib Add Request S Handle p I O Type Channel v x1 ud if ec ! 0 raise Lab Jack Exception ec else raise Lab Jack Exception 0 'unctiononlysupportedfor Windows 
def find missing children filters None dryrun False errors []fixed []query Q 'nodes.0' 'exists' True if filters query query & filters with children models Node query for parent in with children for child in parent if not child  parent msg u Inconsistency Child {} doesnotpointtoparent {} .ttemptingtofix child child primary key parent parent primary key logger msg errors child if dryrun is False child  parent parent child msg u Fixedinconsistency Child {} doesnotpointtoparent {} .\n'.format child child primary key parent parent primary key logger msg fixed child return errors fixed 
def make encoding map decoding map m {}for k v in decoding map if not v in m m kelse m Nonereturn m 
def blend palette colors n colors 6 as cmap False input 'rgb' colors [ color to rgb color input for color in colors 'blend'pal mpl Linear Segmented Colormap list name colors if not as cmap pal  Color Palette pal np 0 1 n colors return pal 
def merge dicts d1 d2 result copy d1 for key value in six d2 if isinstance value dict result merge dicts result value elif key not in result or value is not None result valuereturn result 
def get stdlib modules modules list sys module names for path in sys ] if 'site-packages' not in path modules + module list path modules set modules if '  init  ' in modules modules '  init  ' modules list modules return modules 
def ts dlldy y df return - df + 1 / df / 1 + y ** 2 / df * y 
def get exercise prereqs exercises if exercises exercises get content items ids exercises prereqs []for exercise in exercises prereqs + exercise 'prerequisites' [] return list set prereqs 
def copy annotations src dest assert len src len dest for src tok dest tok in zip src dest dest tok src tok 
def  crop image to square image width height image width ! height side width if width < height else height left width - side // 2 top height - side // 2 right width + side // 2 bottom height + side // 2 image image left top right bottom return image 
def update timeline doc for timeline doctype update for linked docs timeline doctype update for dynamically linked docs timeline doctype 
def get exploration ids subscribed to user id subscriptions model user models User Subscriptions Model user id strict False return subscriptions model ids if subscriptions model else []
def find system plugins eps []for ep in iter entry points group SYSTEM PLUGINS ENTRY POINT GROUP ep eps ep return eps 
def treat file filename outfp try fp open filename 'r' except O S Error sys 'annotopen % filename returncharno 0lineno 0tags []size 0while 1 line fp if not line breaklineno lineno + 1 m matcher line if m tag m 0 + '\x7f%d %d\n' % lineno charno tags tag size size + len tag charno charno + len line outfp '\x0c\n%s %d\n' % filename size for tag in tags outfp tag 
def find DN eq var coeff diop type classify diop eq  dict False if diop type 'binary quadratic return  find DN var coeff 
def create finder project name pyname only calls False imports True unsure None docs False instance None in hierarchy False keywords True pynames  set [pyname] filters []if only calls filters Calls Filter if not imports filters No Imports Filter if not keywords filters No Keywords Filter if isinstance instance pynames Parameter Name for pyobject in instance objects try pynames .add pyobject except exceptions Attribute Not Found Error passfor pyname in pynames  filters Py Name Filter pyname if in hierarchy filters In Hierarchy Filter pyname if unsure filters Unsure Filter unsure return Finder project name filters filters docs docs 
def multivariate t rvs m S df np n 1 m np m d len m if df np x 1.0else x np df n / df z np normal np d S n return m + z / np x [ None 
def start name call None return  query 'grid' 'server/power' args {'name' name 'power' 'start'}
def quota usage get context project id resource return I M P L usage get context project id resource 
def make request token headers {uthorization 'earer token }conn httplib H T T P S Connection HOST conn 'GET' '/auth/info/googleidtoken' None headers res conn conn return res 
def  mkfs root fs format fs opts None if fs opts is None fs opts {}if fs format in 'ext2' 'ext3' 'ext4'   salt  ['extfs.mkfs'] root fs format **fs opts elif fs format in 'btrfs'   salt  ['btrfs.mkfs'] root **fs opts elif fs format in 'xfs'   salt  ['xfs.mkfs'] root **fs opts 
def get port mapper proto 'TCP' import nattraverso nattraverso port mapper 
def walk top topdown True followlinks False names os top dirs nondirs [] [] for name in names if path path top name dirs name else nondirs name if topdown yield top dirs nondirs for name in dirs fullpath path top name if followlinks or not path fullpath for x in walk fullpath topdown followlinks yield x if not topdown yield top dirs nondirs 
def task package install package name distribution package source Package Source base url installer  get base url and installer for distro distribution package source server package source return installer package name distribution package source base url 
def polynomial reduce mod poly polymod p assert polymod -1 ] 1 assert len polymod > 1 while len poly > len polymod if poly -1 ] ! 0 for i in range 2 len polymod + 1 poly - i ] poly - i ] - poly -1 ] * polymod - i ] % p poly poly -1 ]return poly 
def truncatechars value arg try length int arg except Value Error return valueif len value > length return value length - 3 ] + '...' return value 
def factorial n if n < 1 return 1return n * factorial n - 1
@uses mandrilldef clear followup emails queue email mail client None if not mail client items Scheduled Job type Scheduled Job E M A I L filter string  iexact email items returnfor email message in mail client scheduled to email result mail client scheduled id email message id if result 'status' 'error' print result 'name' result 'error' return 
def remove jacket container name find existing jacket container if name is not None remove jacket images container name container item name return Truereturn False 
def is html ct headers url allow xhtml False if not ct headers ext os  rfc3986 url [2] [1]html exts ['.htm' '.html']if allow xhtml html exts + ['.xhtml']return ext in html exts ct split header words ct headers [0][0][0]html types ['text/html']if allow xhtml html types + ['text/xhtml' 'text/xml' 'application/xml' 'application/xhtml+xml']return ct in html types 
def list private repos profile 'github' repos []for repo in  get repos profile if repo is True repos repo return repos 
def is masquerading as specific student user course key course masquerade get course masquerade user course key return bool course masquerade and course masquerade name 
def  make http response code 200 response requests Response response code codereturn response 
def  check copy from header req return  check path header req ' Copy From 2 ' Copy Fromheadermustbeoftheform 
def rate limited min interval def decorate func last time called [0.0]def rate limited function *args **kargs elapsed time - last time called log 'lapsed % elapsed left to wait min interval - elapsed if left to wait > 0 log 'ait % left to wait time left to wait ret func *args **kargs last time called time return retreturn rate limited functionreturn decorate 
def container to string cont if hasattr cont u  iter  ' and not isinstance cont str cont u cont return str cont 
def quat2angle axis quat identity thresh None w x y z quatvec np [x y z if identity thresh is None try identity thresh np vec .eps * 3 except Value Error identity thresh FLOAT EPS * 3 n math x * x + y * y + z * z if n < identity thresh return 0.0 np [1.0 0 0] return 2 * math w vec / n 
def parse addon pkg addon None return Web App Parser .parse pkg 
def get exception for uncaught api error func exc if isinstance exc mongoengine Validation Error result webob exc H T T P Bad Request detail exc return resultelif isinstance exc jsonschema Validation Error result webob exc H T T P Bad Request detail exc return resultreturn exc 
def get Crafted Text file Name text '' lift Repository None return get Crafted Text From Text archive Text If Empty file Name text lift Repository 
def everything but k d assert k in d return concat itervalues keyfilter ne k d 
def build page rex kwargs target node kwargs 'node' or kwargs 'project' target id target node iddata {'target id target id kwargs data request dict try return rex **data except Key Error return None 
def solo name **kwargs return  run name 'chef.solo' kwargs 
def add nova for name function in globals .items if not inspect function continueargs inspect function [0]if args and name 'nova' exec 'pep8.%s %s' % name name 
def thin sum cachedir form 'sha1' thintar gen thin cachedir return salt hash thintar form 
def install blas lapack chdir SRC DIR apt install 'libopenblas-dev'
def force job command name '' frequency 'YEARLY' stop False **kwargs jobs Job command command if jobs > 0 job jobs job Job command command job frequencyjob job or name or command job if stop job running Falseelse job run datetime job ''.join [ '%s %s' % k v for k v in kwargs ] job launch job not stop and not job running if launch job if Job disabled False is running False next run  lte datetime .count > 0 call command async 'cron'
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
def is fp closed obj try return obj except Attribute Error passtry return obj Attribute Error passtry return obj is None except Attribute Error passraise Value Error 'nabletodeterminewhetherfpisclosed 
def parse Expected expected text expected []if expected text for chunk in expected text ' ' chunk chunk mtype qstuff chunk ';' mtype mtype assert '/' in mtype qstuff qstuff q qstr qstuff ' ' assert q 'q' qval float qstr expected mtype qval return expected 
def Get Runlevels L S B states if not states return set valid set ['0' '1' '2' '3' '4' '5' '6']  Log Invalid Run Levels states valid return valid set states 
def  detach db obj func @functools.wraps func def decorator self *args **kwargs synthetic changed bool self get changed synthetic fields res func self *args **kwargs if synthetic changed self context self obj self context self obj return resreturn decorator 
def get current locale return getattr  thread locals 'locale' None 
def printf format for type t types description type description t types if 'struct' in description specifer printf format for struct t types else specifer description specifier specifer '"' '\\"'
def test summary np 4323 n 100exog np size n 2 exog 0] 1endog np size n for method in 'irls' 'cg' fa sm Gaussian model sm G L M endog exog family fa rslt model method method s rslt 
def apphook post title checker instance **kwargs if instance is draft returnold title getattr instance ' old data None if not old title if instance urls request finished trigger restart dispatch uid DISPATCH UID else old values old title old title urls old title namespace old title old title new values instance instance urls instance namespace instance instance if old values ! new values and old values or new values request finished trigger restart dispatch uid DISPATCH UID
def rename abe sequences key store try data store ' E L E C T D I S T I N C Tkey nextid F R O Mabe sequences except Exception store returnstore 'copyingsequencepositions %s' data store ' R O P T A B L Eabe sequences store ' R E A T E T A B L Eabe sequences \nsequence key V A R C H A R 100 PRIMARYKEY \ U M E R I C 30 \n ' for row in data store ' N S E R T I N T Oabe sequences sequence key nextid VALUES ? ? ' row 
def  is query precomputed query rules list query rules while rules rule rules if isinstance rule Boolean Op rules rule continueif rule ' date return Truereturn False 
def showinfo title None message None **options return  show title message INFO OK **options
def  Output Format return  cpplint state format 
def pkginfo name version arch repoid pkginfo tuple collections 'kg Info 'name' 'version' 'arch' 'repoid' return pkginfo tuple name version arch repoid 
def quopri encode input errors 'strict' assert errors 'strict' f String I O str input g String I O quopri f g quotetabs True output g return output len input 
def  parse search term s s s split s maxsplit 1 if len split 2 engine split config 'searchengines' engine except configexc No Option Error engine Noneterm selse term split not split raise Value Error 'mptysearchterm else engine Noneterm slog 'engine{} term engine term return engine term 
def get current target module module parameter None action parameter None result exec action module 'show' module parameter module parameter action parameter action parameter [0]if not result return Noneif result ' unset ' return Nonereturn result 
def Forget About Typelib Interface typelib ob tla typelib ob Get Lib Attr guid tla tla tla tla str guid lcid major minor try del demand Generated Type Libraries Key Error print 'orget About Typelib Interface Warning % info for key val in list version Redirect Map if val info del version Redirect Map 
def move items lib dest query copy album items albums  do query lib query album False objs albums if album else items action 'opying if copy else 'oving entity 'album' if album else 'item' log u action len objs entity for obj in objs log u {0}'.format util path obj obj copy basedir dest obj 
def assets depreciate assets Asset for asset in assets if not asset asset current value 
def get exe version exe args [u'--version'] version re u [0-9. - Z ' unrecognized u try out err subprocess Popen [exe] + args stdout subprocess P I P E stderr subprocess S T D O U T .communicate except O S Error return Falsefirstline out '\n' [0].decode u u m re version re firstline if m return m 1 else return unrecognized 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def intersection all graphs graphs iter graphs R next graphs for H in graphs R nx R H return R
def is resource modified environ etag None data None last modified None if etag is None and data is not None etag generate etag data elif data is not None raise Type Error 'bothdataandetaggiven' if environ R E Q U E S T METHOD'] not in 'GET' 'HEAD' return Falseunmodified Falseif isinstance last modified basestring last modified parse date last modified if last modified is not None last modified last modified microsecond 0 modified since parse date environ 'HTTP IF MODIFIED SINCE' if modified since and last modified and last modified < modified since unmodified Trueif etag if none match parse etags environ 'HTTP IF NONE MATCH' if if none match unmodified if none match raw etag return not unmodified 
def testing off name reload False ret {'name' 'testingmode' 'changes' {} 'result' True 'comment' 'estingmodealready O F F {}testing   salt  ['csf.get testing status if int testing 0 return retdisable   salt  ['csf.disable testing mode if disable comment 'sftestingmodedisabled reload if   salt  ['csf.reload'] comment + 'esting Mode 'off'ret['comment'] commentreturn ret 
def sdb get uri opts if not isinstance uri string types return uriif not uri 'sdb //' return urisdlen len 'sdb //' indx uri '/' sdlen if indx -1 or len uri indx + 1 ] 0 return uriprofile opts uri indx {} if not profile profile opts 'pillar' {} .get uri indx {} if 'driver' not in profile return urifun '{0}.get'.format profile query uri indx + 1 ]loaded db salt opts fun return loaded db query profile profile 
def parse nms url url pr urlparse url scheme pr scheme 'auto' if auto scheme 'http'user 'admin'password 'nexenta'if '@' not in pr host and port pr user and password host and port pr '@' 1 if ' ' in user and password user password user and password ' ' else user user and passwordif ' ' in host and port host port host and port ' ' 1 else host port host and port '2000' return auto scheme user password host port '/rest/nms/'
@decoratordef rollback open connections fn *args **kw try fn *args **kw finally testing reaper all 
def mv file s3 s3 connection src path dst path src bucket name src key name  from path src path dst bucket name dst key name  from path dst path src bucket s3 connection bucket src bucket name k boto Key src bucket k src key namek dst bucket name dst key name k 
def make raw query exclude None rows []for instance in query data model to dict instance exclude exclude 'n Django1 model to dictresolves Many To Many Fieldasa Query Set Previously weusedtogetprimarykeys Followingcodeconvertsthe Query Setintoprimarykeys Forreference https //www.mail-archive.com/django-updates@googlegroups.com/msg163020.html\n'for field in instance meta to many value data isinstance value Query Set data [row.pk for row in value data return rows 
def  HCCM1 results scale if scale 1 H np results wexog scale None * results wexog T else H np results wexog np scale results wexog T return H
def find bricks top bricks predicate found []visited set to visit deque top bricks while len to visit > 0 current to visit if current not in visited visited current if predicate current found current to visit current return found 
def generate password length 12 chars string + string choice random System Random .choicereturn ''.join [choice chars for  i in range length ]
def  task update context task ref values session None if 'deleted' not in values values Falsetask ref values task ref session session return task ref 
def Pack User name value pbvalue pbvalue uservalue .set email value .encode 'utf-8' pbvalue uservalue .set auth domain value domain .encode 'utf-8' pbvalue uservalue .set gaiaid 0 if value id is not None pbvalue uservalue .set obfuscated gaiaid value id .encode 'utf-8' if value identity is not None pbvalue uservalue .set federated identity value identity .encode 'utf-8' if value provider is not None pbvalue uservalue .set federated provider value provider .encode 'utf-8'
def call service sample operation Nonewhile operation not in ['c' 'C' 'g' 'G' 'u' 'U' 'd' 'D' 'q' 'Q'] operation raw input 'o create get update delete quit ' operation operation if operation 'q' return 'n'resource properties get input operation if operation 'c' sample resource properties elif operation 'g' sample resource properties id elif operation 'u' sample resource properties elif operation 'd' sample resource properties id do continue Nonewhile do continue not in ['' 'y' 'Y' 'n' 'N'] do continue raw input 'anttocontinue Y ' if do continue '' do continue 'y'return do continue 
def is pid running pid if os 'nt' return  is pid running on windows pid else return  is pid running on unix pid 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def pairwise distances argmin X Y axis 1 metric 'euclidean' batch size 500 metric kwargs None if metric kwargs is None metric kwargs {}return pairwise distances argmin min X Y axis metric batch size metric kwargs [0]
@receiver pre save sender User def disable anon user password save sender **kwargs instance kwargs instance ANONYMOUS USER NAME and instance usable password raise Value Error 'nonymoususercannothaveusablepassword 
def regexp to list pattern @none if emptydef regexp to list lambda value result re pattern value if result [] return Nonereturn resultreturn regexp to list lambda 
@real memoizedef is netbsd return sys 'netbsd'
def combine paths *paths return expand path combine values *paths
def get policy index req headers res headers header ' Backend Storage Policy Index index res headers header req headers header return str policy index if policy index is not None else None 
def get element by id id html return get element by attribute u id html 
def get tool path by shed tool conf filename app shed tool conf for shed tool conf dict in app confs include migrated tool conf True config filename shed tool conf dict filename config filename shed tool conf return shed tool conf dict path file name basic util path config filename if file name shed tool conf return shed tool conf dict path None 
def test settext empty mocker qtbot label Text Base qtbot widget label mocker 'ext Base autospec True label Text '' label called with 
def read metric *args ret {}if  TRAFFICCTL cmd  traffic ctl 'metric' 'get' else cmd  traffic line '-r' try for arg in args log 'uerying %s' arg ret  subprocess '{0}{1}'.format cmd arg except Key Error passreturn ret 
def format html join sep format string args generator return mark safe conditional escape sep .join format html format string *tuple args for args in args generator 
@must have permission ADMIN @must be valid projectdef get draft registrations auth node *args **kwargs count request 'count' 100 drafts itertools node registrations active 0 count serialized drafts [serialize draft registration d auth for d in drafts serialized drafts sorted serialized drafts key itemgetter 'updated' reverse True return {'drafts' sorted serialized drafts http O K 
def task has custom task attr return mro lookup task  class   attr stop {ase Task object monkey patched [u'celery.app.task']
def init Logger obj if inspect obj my Class objelse my Class obj  class  logger logging Logger '.'.join ['com.numenta' my Class  module   my Class  name  ] return logger 
def iscsi get sessions cmd 'iscsiadm--modesession'output utils output cmd ignore status True sessions []if 'oactivesessions not in output for session in output ip addr session [2].split ' ' [0]target session [3]sessions.append ip addr target return sessions 
@gof.local optimizer [ def local mul zero node if node T otype node i in node try value get scalar constant value i except Not Scalar Constant Error continueif value 0 return  fill chain theano asarray 0 dtype otype node 
@register.filter name 'angular escapes def angular escapes value return value '\\' '\\\\' .replace '"' '\\"' .replace "'" "\\'" .replace '\n' '\\n' .replace '\r' '\\r'
def estimate optimal with K and f num kmers des fp rate n tables math des fp rate 0.5 int n tables int n tables if int n tables 0 int n tables 1ht size int - num kmers / math 1 - des fp rate ** 1 / float int n tables mem cap ht size * int n tables fp rate 1 - math - num kmers / float ht size ** int n tables res namedtuple u [u'num htables u size u use u rate return res int n tables ht size mem cap fp rate 
def close issue issue github auth closed issue issue closed issue 'closed'r requests 'https /han % issue data json closed issue auth github auth try r for status time 1 return Trueexcept requests H T T P Error return False 
def ungroup expr return Token Converter expr .arse Action lambda t t 
def restrict dict d keys return {k v for k v in six d if k in keys }
def manage mode mode return salt mode mode 
def  grains host protocol None port None username password find credentials D E T A I L S ret   salt  ['vsphere.system info host host username username password password protocol protocol port port GRAINS C A C H E ret return GRAINS CACHE
def  format Actual Schema schema title schema store yield '..hidden-code-block json yield ' label ' + title yield ' starthidden True yield '' schema resolve Schema schema schema store lines json schema indent 4 separators ' ' ' ' sort keys True .splitlines for line in lines yield '' + line yield ''
def ppcc plot x a b dist 'tukeylambda' plot None N 80 if b < a raise Value Error '`b`hastobelargerthan`a`.' svals np a b num N ppcc np like svals for k sval in enumerate svals _ r2 probplot x sval dist dist fit True ppcc r2 -1 ]if plot is not None plot svals ppcc 'x'  add axis labels title plot xlabel 'hape Values ylabel 'rob Plot Corr Coef title ' %s P P C C Plot % dist return svals ppcc 
def get add id list user site check global True use cache True page ids  get page ids for action user user site site action 'add page check global check global use cache use cache return page ids 
def menu style type default 'dropdown' '' d dict lightdrop 'dropdown' 'lightdrop' tabdrop 'dropdown' 'tabdrop' srdrop 'dropdown' 'srdrop' flatlist 'flatlist' 'flat-list' tabmenu 'tabmenu' '' formtab 'tabmenu' 'formtab' flat vert 'flatlist' 'flat-vert' return d type default 
def test multiple samples allowed encoding model MLP layers [inear layer name 'h' dim 10 irange 0.01 ] decoding model MLP layers [inear layer name 'h' dim 10 irange 0.01 ] prior Diagonal Gaussian Prior conditional Bernoulli Vector mlp decoding model name 'conditional' posterior Diagonal Gaussian mlp encoding model name 'posterior' vae VAE nvis 10 prior prior conditional conditional posterior posterior nhid 5 X T 'X' lower bound vae likelihood lower bound X num samples 10 f theano inputs [X] outputs lower bound rng make np rng default seed 11223 f as float X rng size 10 10
def sparse categorical crossentropy y true y pred y true tf y true tf y pred logit tf y pred tf return tf mean tf softmax cross entropy with logits y pred y true 
def   import   name globals None locals None fromlist None try return sys Key Error passmodule name name '.' [ -1 ]module path os EXAMPLE DIR *name.split '.' [ -1 ] fp pathname description imp module module name [module path try return imp module module name fp pathname description finally if fp fp 
def build template error formatters formatters []def mako html data exc value if isinstance exc value mako Compile Exception mako Syntax Exception return mako error template .render full False css False if isinstance exc value Attribute Error and exc value "ndefined return mako error template .render full False css False formatters mako html data return formatters 
def copy int little src dest word src 4 dest word val unpack '<I' word return val 
def simplefilter f return type f  name   Function Filter {'function' f '  module  ' getattr f '  module  ' '  doc  ' f  doc  }
@gen.coroutinedef wait for server ip port timeout 10 loop ioloop I O Loop tic loop while loop - tic < timeout if can connect ip port returnelse yield gen 0.1 raise Timeout Error "erverat {port}didn'trespondin{timeout}seconds".format **locals
def  inherit docstrings cls for name method in cls  dict  .items if name '_' or not callable method continueupstream method getattr Authenticator name None if not method  doc   method  doc   upstream method  doc  return cls 
def  get object objname objtype ret Noneif objname is None return retif isinstance objname string types if objname in   opts   ret   opts  [objname]master opts   pillar  .get 'master' {} if objname in master opts ret master opts objname in   pillar   ret   pillar  [objname]elif isinstance objname objtype ret objnameif not isinstance ret objtype ret Nonereturn ret 
def formatters *chained formatters def formatters chain input string for chained formatter in chained formatters input string chained formatter input string return input stringreturn formatters chain 
def  task format task ref task info ref None task dict {'id' task ref 'type' task ref 'status' task ref 'owner' task ref 'expires at task ref at 'created at task ref at 'updated at task ref at 'deleted at task ref at 'deleted' task ref task info ref task info dict {'input' task info ref 'result' task info ref 'message' task info ref dict task info dict return task dict 
@register u def unix line discard event buff event bufferif buff position col 0 and buff position > 0 buff before cursor count 1 else deleted buff before cursor count - buff start of line position event text deleted 
def serializers opts return Lazy Loader  module dirs opts 'serializers' opts tag 'serializers'
def limited Memory limit func *args **kw clear Caches max rss get Memory Size if max rss is not None old limit get Memory Limit limit max rss + limit limited set Memory Limit limit else limited Falsetry return func *args **kw finally if limited set Memory Limit old limit clear Caches 
@ F F I u Value Buffer Extern Context Value Field ' def extern project multi context handle val field c  F F I handle context handle obj c value val field name c key field projected tuple c value p for p in getattr obj field name return c buf projected len projected 
def nfs shares attrs None where None if salt darwin return  osquery cmd table 'nfs shares attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
@bdd.then bdd 'thepageshouldcontaintheplaintext"{text}"' def check contents plain quteproc text content quteproc content .strip assert text in content 
def seek end of string module data start line start col next node line next node col raise Not Implemented Error 'indingendofstringnotyetimplemented 
def preprocess for train image output height output width padding  PADDING tf summary 'image' tf dims image 0 image tf float image if padding > 0 image tf image [[padding padding [padding padding [0 0]] distorted image tf crop image [output height output width 3] distorted image tf flip left right distorted image tf summary 'distorted image tf dims distorted image 0 distorted image tf brightness distorted image max delta 63 distorted image tf contrast distorted image lower 0.2 upper 1.8 return tf image whitening distorted image 
def html publisher registry xml parent data reporter X M L Sub Element xml parent 'tml Publisher targets X M L Sub Element reporter 'argets ptarget X M L Sub Element targets 'tml Publisher Target mapping [ 'name' 'ame None 'dir' 'ir None 'files' 'iles None 'link-to-last-build' 'ink To Last Build False 'keep-all' 'll False 'allow-missing' 'issing False ]helpers.convert mapping to xml ptarget data mapping fail required True X M L Sub Element ptarget 'ame .text 'htmlpublisher-wrapper.html'
def get Path Output creation First derivation translation vector3 Gear Profile First vector3 Gear Paths xml Element vector3 Gear Profile First lineation Packed Geometry Output By Loop lineation Side Loop vector3 Gear Profile First xml Element if creation First 'f' return vector3 Gear Profile Firstpacked Gear Geometry []for vector3 Gear Path in vector3 Gear Paths packed Gear Geometry + lineation Packed Geometry Output By Loop lineation Side Loop vector3 Gear Path xml Element if creation First 's' return packed Gear Geometryeuclidean Vector3 Paths packed Gear Geometry translation return vector3 Gear Profile First + packed Gear Geometry 
@rofiler test orm query cols only n session Session bind engine for id  in random ids n session Customer Customer Customer .filter Customer id  .one
def compute full text get deps dict buff String I O sep ' ' * 80 + '\n' buff get deps dict buff '\n' for d in get deps dict buff sep buff 'MSG %s\n' % d buff roslib registered d .text buff '\n' return buff [ -1 ]
def  clear weights Distance  dict  [' weights False 
def truncate content length 100 suffix '...' if len content < length return contentelse return content length '' 1 [0] + suffix 
def add or update priority name code None load order existing code  existing info name True if load order is not None if not code code  default loader name if load order priority and code existing code returnremove name swap event add priority name code 
def trasnlate js HEADER DEFAULT HEADER return translate js js HEADER
def test get syslog facility notempty monkeypatch monkeypatch 'WALE SYSLOG FACILITY' 'local0' out valid facility log help syslog facility assert valid facility is True assert out handlers Sys Log Handler L O G LOCAL0 monkeypatch 'WALE SYSLOG FACILITY' 'user' out valid facility log help syslog facility assert valid facility is True assert out handlers Sys Log Handler L O G USER
def wr long f x f chr x & 255 f chr x >> 8 & 255 f chr x >> 16 & 255 f chr x >> 24 & 255
@commands u @example u def f etymology bot trigger word trigger 2 try result etymology word except I O Error msg u Can %s " % etyuri % word bot trigger msg return N O L I M I Texcept Attribute Error Type Error result Noneif result is not None bot trigger result else uri etysearch % word msg u Can Try % word uri bot trigger msg return NOLIMIT
def detect stream try json stream return Trueexcept Value Error return False 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
def get Loops Intersection By Pair import Radius loops First loops Last radius Side 0.01 * import Radius corners get Loops Lists Intersections [irst loops Last corners + get Inset Points By Inset Loops loops First True loops Last radius Side corners + get Inset Points By Inset Loops loops Last True loops First radius Side all Points corners ]oints + get Inset Points By Inset Loops get In Between Loops From Loops import Radius loops First True loops Last radius Side all Points + get Inset Points By Inset Loops get In Between Loops From Loops import Radius loops Last True loops First radius Side return trianglemesh Descending Area Loops all Points corners import Radius 
def test mixed inheritance class foo passclass bar object passclass baz1 foo bar passclass baz2 bar foo pass Are Equal baz1  bases   foo bar Are Equal baz2  bases   bar foo class foo abc 3class bar object def get abc return 42def set abc passabc property fget get abc fset set abc class baz foo bar pass Are Equal baz .abc 3
def reorient bvecs in dwi old dwi in bvec import osimport numpy as npimport nibabel as nb name fext os os in bvec if fext u name _ os name out file os u reorient % name bvecs np in bvec .new bvecs []N nb in dwi . nb old dwi . S N np O [ 3 3]sc idx np np RS ! 1 & RS ! 0 S np like RS S idx R S idx R RS / S new bvecs [ b for b in bvecs out file np new bvecs .T fmt '%0.15f' return out file 
def bulk update public context data dict  check access 'bulk update public context data dict  bulk update dataset context data dict {'private' False 
def check run quick command echo True result run quick command echo if result error ' A I L E Dwithexitcode Commandwas Errorwas code result command command stdout result raise Runtime Error error return result 
def is nnf expr simplified True expr sympify expr if is literal expr return Truestack [expr]while stack expr stack if expr in And Or if simplified args expr arg in args if Not arg in args return Falsestack expr elif not is literal expr return Falsereturn True 
def  Create Config Parser From Config String config string if config string ! '{' or config string -1 ] ! '}' raise Style Config Error "nvalidstyledictsyntax '{}'.".format config string config py3compat Config Parser config section 'style' for key value in re ' [ Z0 ]+ \\s*[ ]\\s* [ Z0 ]+ ' config string config 'style' key value return config 
def del Privacy List disp listname resp disp Send And Wait For Response Iq 'set' NS PRIVACY payload [ode 'list' {'name' listname ] if is Result Node resp return 1
def rtb changed route tables None vpc conn None module None vpc None igw None rtb len len route tables + 1 remote rtb len len vpc conn all route tables filters {'vpc id vpc if remote rtb len ! rtb len return Truefor rt in route tables rt id Nonefor sn in rt rsn vpc conn all subnets filters {'cidr' sn 'vpc id vpc if len rsn ! 1 module json msg 'hesubnet table aborting sn rt nrt vpc conn all route tables filters {'vpc id vpc 'association.subnet-id' rsn if not nrt return Trueelse nrt nrt not rt id rt id nrt not routes match rt nrt igw return Truecontinueelif rt id nrt continueelse return Truereturn Truereturn False 
def guard invalid slice context builder typ slicestruct if typ step cgutils null context builder slicestruct Value Error 'slicestepcannotbezero'
def  tag from clark name match CLARK TAG R E G E X name if match and match 'namespace' in NAMESPACES REV args {'ns' NAMESPACES R E V 'namespace' ] 'tag' match 'tag' }return '% ns s % tag s % args return name 
def group followee list context data dict  check access 'group followee list context data dict return  group or org followee list context data dict is org False 
def process X M L Element xml Element xml Element evaluate Vector3 From X M L Element xml Element 
def get path to toplevel modules filename curr dir os os filename pattern '  init  .py'try for i in range 10 files set os curr dir if pattern in files curr dir os curr dir else return curr direxcept I O Error passreturn None 
def cert is san cert if len cert get domains cert > 1 return True 
def  get course creator status user if user staff course creator status 'granted'elif settings F E A T U R E S 'DISABLE COURSE CREATION' False course creator status 'disallowed for this site settings F E A T U R E S 'ENABLE CREATOR GROUP' False course creator status get course creator status user if course creator status is None add user with status unrequested user course creator status get course creator status user else course creator status 'granted'return course creator status 
def parse tags text if not text return []return Parser variant 'tags' .parse tags text 
def test S A M P Hub Error S A M P Hub Error 'test'
def list active vms conn   get conn vms []for id  in conn Domains I D vms conn By I D id  .name return vms 
def batches2string batches s [''] * batches for b in batches s [''.join x for x in zip s characters b ]return s 
def PBKDF1 password salt dk Len count 1000 hash Algo None if not hash Algo hash Algo S H A1password tobytes password p Hash hash Algo password + salt digest p Hash sizeif dk Len > digest raise Type Error 'electedhashalgorithmhasatooshortdigest %dbytes .' % digest if len salt ! 8 raise Value Error 'altisnot8byteslong for i in xrange count - 1 p Hash p Hash p Hash return p Hash [ dk Len 
def Not query return ' N O T ' % query 
def clean hosts hosts default port None cleaned hosts []for cur host in [host.strip for host in hosts ' ' if host ] cleaned host clean host cur host default port if cleaned host cleaned hosts cleaned host cleaned hosts ' '.join cleaned hosts if cleaned hosts else '' return cleaned hosts 
def get meta doctype cached True import frappe frappe meta doctype cached cached 
def libvlc audio get delay p mi f  Cfunctions 'libvlc audio get delay None or  Cfunction 'libvlc audio get delay 1 None ctypes int64 Media Player return f p mi 
def get num args f if inspect f return f  func  .  code  .co argcount - 1 elif inspect f return f  code  .co argcountelse raise Type Error u 
def qnwtrap n a b return  make multidim func  qnwtrap1 n a b 
def frames iter socket while True n next frame size socket if n 0 breakwhile n > 0 result read socket n n - len result yield result 
def img as uint image force copy False return convert image np force copy 
def get edxnotes id token user try client Client name CLIENT NAME except Client Does Not Exist raise Improperly Configured ' Auth2 Clientwithname CLIENT NAME scopes ['email' 'profile']expires in settings O A U T H ID TOKEN E X P I R A T I O Njwt Jwt Builder user secret client secret .build token scopes expires in aud client id return jwt 
def test lex integers objs tokenize '42' assert objs [y Integer 42 ]
def test validate coord result conesearch validate coord ICRS 6.02233 * u -72.08144 * u np allclose result [6.022330000000011 -72.08144 ] result conesearch validate coord Sky Coord 6.02233 * u -72.08144 * u frame u np allclose result [6.022330000000011 -72.08144 ] result conesearch validate coord 0 0 np allclose result [0 0] result conesearch validate coord -1 -1 np allclose result [359 -1 ]
def dt to http dt return dt '%a % H %M %SGMT'
def open file filename mode 'r' encoding None errors 'strict' lazy False atomic False if lazy return Lazy File filename mode encoding errors atomic atomic f should close open stream filename mode encoding errors atomic atomic if not should close f Keep Open File f return f 
def make canvas parent width 0 height 0 hbar 1 vbar 1 fill BOTH expand 1 pack 1 class  None name None takefocus None hbar vbar frame make scrollbars parent hbar vbar pack class  class  name name takefocus takefocus widget Canvas frame scrollregion 0 0 width height name 'canvas' if width widget width width if height widget height height widget expand expand fill fill side LEFT set scroll commands widget hbar vbar return widget frame 
def mro lookup cls attr stop set monkey patched [] for node in cls if node in stop try value node  dict  [attr]module origin value  module  except Attribute Error Key Error passelse if module origin not in monkey patched return nodereturnif attr in node  dict   return node 
def normal approximation to binomial n p mu p * n sigma math p * 1 - p * n return mu sigma 
def complete hybi00 headers challenge key1 headers Sec Web Socket Key1 headers Sec Web Socket Key2 int ''.join i for i in key1 if i in digits // key1 '' second int ''.join i for i in key2 if i in digits // key2 '' nonce pack ' I8s first second challenge return md5 nonce .digest
def processors return Rebulk .rules Enlarge Group Matches Equivalent Holes Remove Ambiguous Season Year Processors 
def set  key value profile None conn salt conn profile time profile 'expire' DEFAULT EXPIRATION return salt  conn key value time time 
@task queue 'web' time limit EMAIL TIME LIMIT def send email task recipient subject template template html context None msg Email Multi Alternatives subject get template template .render context settings D E F A U L T FROM EMAIL [recipient] try msg alternative get template template html .render context 'text/html' except Template Does Not Exist passmsg log 'entemailtorecipient %s' recipient 
def  check Prefix ip prefixlen version bits  ip Version To Len version if prefixlen < 0 or prefixlen > bits return Noneif ip 0 zbits bits + 1 else zbits  count0 Bits ip if zbits < bits - prefixlen return 0else return 1
def Line Ending lines endings {CRLF 0 CR 0 LF 0}for line in lines if line CRLF endings C R L F + 1elif line CR endings C R + 1elif line LF endings L F + 1return sorted endings key endings reverse True or [LF] [0]
@oncedef install logging hook  patch logger 
def  Check Prefix prefix return  Validate String prefix 'prefix' MAXIMUM FIELD PREFIX LENGTH empty ok True 
@ docstring 'urls' browse True def browse urls resource None includes [] limit None offset None valid includes VALID BROWSE I N C L U D E S {'resource' resource  browse impl 'url' includes valid includes limit offset params 
@should dump tracemallocdef stop tracemalloc dump cancel thread SAVE TRACEMALLOC PTR dump tracemalloc 
def  expand config config defaults defaults config return defaults 
def  is ascii encoding encoding if encoding is None return Falsetry return codecs encoding .name 'ascii' except Lookup Error return False 
def write Fasta from name seq pairs name seqs fh if fh is None raise Value Error 'eedopenfilehandletowriteto for name seq in name seqs fh '%s\n' % Biological Sequence seq id name .to fasta 
def double urlencode t return urllib urllib t 
def  get timestamp data position dummy0 dummy1 dummy2 end position + 8 inc timestamp  UNPACK TIMESTAMP data end return Timestamp timestamp inc end 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def ckan before request app globals globals check uptodate identify user 
def ulp abs check expected got ulp tol abs tol ulp error abs to ulps expected - to ulps got abs error abs expected - got if abs error < abs tol or ulp error < ulp tol return Noneelse fmt 'error { .3g} { d ;permittederror { .3g}or{ d fmt abs error ulp error abs tol ulp tol 
def get project groups roles request project groups roles collections list project role assignments role assignments list request project project for role assignment in project role assignments if not hasattr role assignment 'group' continuegroup id role assignment id role assignment 'project' in role assignment and role assignment project groups roles id role id return groups roles 
def detrend x order 1 axis -1 from scipy import detrendif axis > len x raise Value Error 'xdoesnothave%daxes' % axis if order 0 fit 'constant'elif order 1 fit 'linear'else raise Value Error 'ordermustbe0or1' y detrend x axis axis type fit return y 
def process image source processor options processors None global  default processorsif processors is None if  default processors is None  default processors [import string name for name in VERSION P R O C E S S O R S  default processorsimage sourcefor processor in processors image processor image **processor options return image 
@app.template filter 'external url def external url url url pattern '^ https //.*$'scheme re url pattern url if not scheme url root request root '/' return '{}{}'.format url root url else return url 
def  Get Remote App Id url throttle email passin raw input fn raw input password input fn getpass throttle class None scheme host port url path _ _ urlparse url secure scheme 'https' throttled rpc server factory remote api throttle Throttled Http Rpc Server Factory throttle throttle class throttle class def Auth Function return  Auth Function host port email passin raw input fn password input fn app id server remote api stub Get Remote App Id host port url path Auth Function rpc server factory throttled rpc server factory secure secure return app id server 
def lookup command command name BASE COMMANDS {'help' print help R E P L I C A T I O N COMMANDS {'compare' replication compare 'dump' replication dump 'livecopy' replication livecopy 'load' replication load 'size' replication size {}for command set in BASE COMMANDS REPLICATION COMMANDS commands command set try command commands name Key Error if command name sys _ 'nknowncommand %s' % command name else command commands command 
def make absolute request view name kwargs None return request absolute uri urlresolvers view name kwargs kwargs 
def publish pages include unpublished False language None site None qs Page if not include unpublished qs qs title set  published True .distinct if site qs qs site site output language Nonefor i page in enumerate qs add Truetitles page setif not include unpublished titles titles published True for lang in titles list 'language' flat True if language is None or lang language if not output language output language langif not page lang add Falseactivate output language yield page add 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def do with ruby ruby cmdline runas None if not cmdline raise Salt Invocation Error 'ommandmustbespecified try cmdline salt split cmdline except Attribute Error cmdline salt split str cmdline env {}if ruby env R B E N V VERSION'] rubycmd cmdlineelse cmd cmdlinereturn do cmd runas runas env env 
def  get or define module full name modules module modules full name if not module module new full name modules name modulesplit name full name '.' 1 if len split name > 1 parent module name sub module name split nameparent module  get or define module parent module name modules setattr parent module sub module name module return module 
def get roles with permission permission roles []for role in ROLE PERMISSIONS permissions ROLE P E R M I S S I O N S permission in permissions or 'admin' in permissions roles role return roles 
def get releases episode downloaded None start None stop None count False descending False sort by None session None releases session Release .filter Release id episode if downloaded is not None releases releases Release downloaded if count return releases releases releases start stop .from self if descending releases releases by getattr Release sort by .desc else releases releases by getattr Release sort by return releases 
def test summary without shipping method request cart with item client monkeypatch monkeypatch 'heckout True response client reverse 'checkout summary assert response code 302 assert get redirect location response reverse 'checkout shipping 
def find boundaries label img connectivity 1 mode 'thick' background 0 if label img 'bool' label img label img np ndim label img ndi binary structure ndim connectivity if mode ! 'subpixel' boundaries dilation label img selem ! erosion label img selem if mode 'inner' foreground image label img ! background boundaries & foreground imageelif mode 'outer' max label np label img .maxbackground image label img background selem ndi binary structure ndim ndim inverted background np label img copy True inverted background image max labeladjacent objects dilation label img selem ! erosion inverted background selem & ~ background image boundaries & background image | adjacent objects return boundarieselse boundaries  find boundaries subpixel label img return boundaries 
def mm Null a Tp Pd pd 5 b Message Type mes Type 48 packet a / b return packet 
def make fastq multi in fasta quals out fp label transform split lib transform mkdir out fp seen libs defaultdict list for rec label in iter fastq in fasta quals label transform lib id seq id label '_' 1 seen libs id rec for lib recs in seen libs if lib is None continueoutfile open out fp + '/' + lib + '.fastq' 'w' outfile '\n'.join recs outfile 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
@shared task def update email in basket old email new email if not BASKET ENABLED or not waffle is active 'BASKET SWITCH ENABLED' returnchain lookup user task old email | group subscribe user task new email unsubscribe user task .delay
def normalize X R I xri if xri 'xri //' xri xri ]return xri 
def check dyad w w dyad if not is weight w and is dyad weight w dyad return Falseif w w dyad return Trueif len w dyad len w + 1 return w tuple Fraction v 1 - w dyad -1 ] for v in w dyad -1 ] else return False 
def notify list member added e target e target name ! c name returnsource e object [e['target object at e at user cycle color source + color func c N O T I F I C A T I O N nick '@' + source name notify color func c N O T I F I C A T I O N 'addedyoutoalist' date parser created at clock fallback humanize date clock color func c N O T I F I C A T I O N clock meta c N O T I F Y F O R M A T source user meta '#source user meta notify meta '#notify' meta clock meta '#clock' meta emojize meta print Nicely '' print Nicely meta print list target object noti True 
def select option by value browser query value select Select browser query select by value value def options selected 'eturns Trueifalloptionsinselectelementwherevalueattribute False False options selected Truehas option Falsefor opt in select if opt attribute 'value' value has option Trueif not opt selected all options selected Falseopt if all options selected and not has option all options selected Falsereturn all options selected Empty Promise options selected 'ptionisselected .fulfill
def  log ch start info ch if ch is not None extra just ch 'storedonchannel ' 50 info names else extra just ch 'notstored' 0 '' logger start + extra .ljust just + ch 
def get minions log 'sqlite3returner<get minions conn  get conn ret None cur conn sql ' E L E C T D I S T I N C Tid F R O Msalt returns sql data cur ret []for minion in data ret minion  close conn conn return ret 
def  get options raw options apply config if not raw options return parse args [u''] apply config apply config if isinstance raw options dict options parse args [u''] apply config apply config for name value in raw options if not hasattr options name raise Value Error u Nosuchoption name expected type type getattr options name if not isinstance expected type str unicode if isinstance value str unicode raise Value Error u Option name setattr options name value else options raw optionsreturn options 
def set cached content content CONTENT C A C H E unicode content .encode 'utf-8' content version STATIC CONTENT VERSION
def get Crafted Text From Text gcode Text repository None if gcodec Procedure Done Or File Is Empty gcode Text 'chamber' return gcode Textif repository None repository settings Read Repository Chamber Repository if not repository Chamber return gcode Textreturn Chamber Skein .rafted Gcode gcode Text repository 
def openshift build verify registry xml parent data osb X M L Sub Element xml parent 'pen Shift Build Verifier mapping [ 'api-url' ' R L 'https //openshift.default.svc.cluster.local' 'bld-cfg' 'fg 'frontend' 'namespace' 'namespace' 'test' 'auth-token' 'oken '' 'verbose' 'verbose' False ]convert mapping to xml osb data mapping fail required True 
def correl ts frame1 frame2 results {}for col series in compat frame1 if col in frame2 other frame2 series .indexidx2 other .indexcommon index idx1 idx2 series Stand zscore series common index other Stand zscore other common index results series Stand * other Stand .mean return Series results 
def rm job user cmd minute None hour None daymonth None month None dayweek None identifier None lst list tab user ret 'absent'rm  Nonefor ind in range len lst if rm  is not None breakif  cron matched lst cmd identifier identifier if not any [ x is not None for x in minute hour daymonth month dayweek ] rm  indelif  date time match lst minute minute hour hour daymonth daymonth month month dayweek dayweek rm  indif rm  is not None lst rm  ret 'removed'comdat  write cron lines user  render tab lst if comdat return comdat ret 
def get exploration rights exploration id strict True model exp models Exploration Rights Model exploration id strict strict if model is None return Nonereturn  get activity rights from model model feconf A C T I V I T Y TYPE EXPLORATION
def   cacheit debug maxsize def func wrapper func from .decorators import wrapscfunc   cacheit maxsize func @wraps func def wrapper *args **kw args r1 func *args **kw args r2 cfunc *args **kw args hash r1 hash r2 if r1 ! r2 raise Runtime Error 'eturnedvaluesarenotthesame return r1return wrapperreturn func wrapper 
def test cache deactivated insert data config stub tmpdir url 'http //qutebrowser.org'disk cache Q Network Disk Cache disk cache Cache Directory str tmpdir metadata Q Network Cache Meta Data metadata Url Q Url url device disk cache metadata assert device is not None config stub {'storage' {'cache-size' 1024} 'general' {'private-browsing' True cache cache Disk Cache str tmpdir assert deactivated cache device is None 
def first hour average timeseries last hour threshold time - FULL DURATION - 3600 series pandas Series [x[1] for x in timeseries if x < last hour threshold ] mean series std Dev series t tail avg timeseries return abs t - mean > 3 * std Dev 
def read unsigned var int file obj result 0shift 0while True byte struct '<B' file obj 1 [0]result | byte & 127 << shift if byte & 128 0 breakshift + 7return result 
def create new paste contents import reif sys info < 3 0 from urllib import urlopen urlencodeelse from urllib import urlopenfrom urllib import urlencodeparams {'code' contents 'lexer' 'python3' if sys info 3 else 'python' 'expiry' '1week'}url 'https //bpaste.net'response urlopen url data urlencode params .encode 'ascii' .read m re 'href "/raw/ \\w+ "' response 'utf-8' if m return '%s/show/%s' % url m 1 else return 'badresponse ' + response 
def frame msg ipc body header None raw body False framed msg {}if header is None header {}framed msg headerframed msg bodyif six P Y2 return msgpack framed msg else return msgpack framed msg use bin type True 
def add handlers handler list subparsers command handlers [ist Artifacts Handler 'screenboard' None 'list datadog screenboards 'etthelistof Screenboardsfrom Datadog List Artifacts Handler 'timeboard' None 'list datadog timeboards 'etthelistof Timeboardsfrom Datadog Get Artifact Handler 'screenboard' None 'get datadog screenboard 'etthea Datadog Screenboard Get Artifact Handler 'timeboard' None 'get datadog timeboard 'etthea Datadog Timeboard ]for handler in command handlers handler argparser subparsers handler list handler 
def abandon execution if incomplete liveaction id publish True liveaction db action utils liveaction by id liveaction id if liveaction db in action constants L I V E A C T I O N COMPLETED STATES raise Value Error 'ive Action % liveaction id liveaction db liveaction db action utils liveaction status status action constants L I V E A C T I O N STATUS ABANDONED liveaction db liveaction db result {} execution db update execution liveaction db publish publish L O G 'arkedexecution execution db action constants L I V E A C T I O N STATUS ABANDONED return execution db 
def is masquerading as student user course key return get masquerade role user course key 'student'
def error from response message http response error class response body None if response body is None body http response else body response bodyerror error class '%s %i %s' % message http response body error http response http response bodyerror atom core headers http response return error 
@login required local site accessdef new review request request local site None template name u review request valid repos []repos Repository request local site local site if local site local site name local site local site name u repo in repos by u try scmtool repo scmtool valid repos {u'id' repo u repo u name scmtool u post commit repo post commit u site name local site name u only False u change number scmtool pending changesets u basedir not scmtool use absolute paths } except Exception logging u Errorloading S C M Toolforrepository I D ' repo repo valid repos 0 {u'id' u u _ u None Fileattachmentsonly ' u name u u post commit False u only True u site name local site name return render to response template name Request Context request {u'repos' valid repos 
def do cloudpipe list cs  args cloudpipes cs columns [roject Id 'ublic I P 'ublic Port 'nternal I P list cloudpipes columns 
@require chanmsg privilege OP u Youarenotachanneloperator @commands u def set mask bot trigger bot channel value trigger u mask trigger 2 bot u Gotcha ' + trigger 
def check coverage images used images uncovered set images - set [x[0] for x in used images if uncovered L O G G E R 'hefollowing Dockerfilesarenotdescribedintheparsefiles config {leaseseethefollowingdocumentationonhowtoadd Dockerfilerankstotheconfigurationfile {}'.format uncovered 'https / E A D M E sys 1
def libvlc media tracks release p tracks i count f  Cfunctions 'libvlc media tracks release None or  Cfunction 'libvlc media tracks release 1 1 None None ctypes P O I N T E R Media Track ctypes uint return f p tracks i count 
def test help command should exit status error when cmd does not exist script result script 'help' 'mycommand' expect error True assert result ERROR
def make image location size fmt if not os location return ''if not os os location return ''if not   salt  ['cmd.retcode'] ' fmt location size python shell False return locationreturn ''
@then u def step see table dropped context  expect exact context u D R O P T A B L E timeout 2
def render from lms template name dictionary context None namespace 'main' return render to string template name dictionary context namespace 'lms.' + namespace 
def restart service service name minimum running time None if minimum running time ret code Falseservices   salt  ['cmd.run'] ['/usr/bin/openstack-service' 'list' service name .split '\n' for service in services service info   salt  ['service.show'] service boot time float salt '/proc/uptime' .read .split '' [0] expr time int service info 'xec Main Start Timestamp Monotonic 0 / 1000000 < boot time - minimum running time expr active service info 'ctive State 'active' if expr time or not expr active ret   salt  ['service.restart'] service if ret ret code Truereturn ret codeelse os cmd ['/usr/bin/openstack-service' 'restart' service name   salt  ['cmd.retcode'] os cmd 0
def try dbfield fn field class for cls in field class if cls is models Field continuedata fn cls if data return data 
@csrf exempt P O S Tdef password reset request limiter Bad Request Rate Limiter if limiter rate limit exceeded request AUDIT L O G 'atelimitexceededinpassword reset return Http Response Forbidden form Password Reset Form No Active request P O S T if form valid form use https request secure from email configuration helpers value 'email from address settings D E F A U L T FROM EMAIL request request domain override request host tracker SETTING CHANGE INITIATED {'setting' 'password' 'old' None 'new' None 'user id request destroy oauth tokens request else AUDIT L O G 'adpassword resetuserpassedin limiter bad request counter request return Json Response {'success' True 'value' render to string 'registration/password reset done {} }
def  old process multipart entity process multipart entity params entity part in entity if part is None key ntou 'parts' else key part part is None value part else value partif key in params if not isinstance params list params [params[key]]params[key].append value else params value 
def add Cage Groove derivation negatives positives add Cage derivation derivation negatives positives add Groove derivation negatives 
def enable tab completion unused command libedit 'libedit' in readline  doc   command 'rl complete if libedit else 'tab complete readline and bind command 
def rename in module occurrences finder new name resource None pymodule None replace primary False region None reads True writes True if resource is not None source code resource else source code pymodule codechange collector codeanalyze Change Collector source code for occurrence in occurrences finder occurrences resource pymodule if replace primary and occurrence a fixed primary continueif replace primary start end occurrence primary range else start end occurrence word range if not reads and not occurrence written or not writes and occurrence written continueif region is None or region < start < region change collector change start end new name return change collector changed 
def extract cluster size line cluster size line ' ' [ -1 ]try cluster size int cluster size except Value Error return 0return cluster size 
@ignore warnings category Deprecation Warning def check estimators fit returns self name Estimator X y make blobs random state 0 n samples 9 n features 4 y multioutput estimator convert y 2d name y X - X estimator Estimator set testing parameters estimator set random state estimator assert true estimator X y is estimator 
def logspace start stop num 50 endpoint True base 10.0 dtype None y linspace start stop num num endpoint endpoint if dtype is None return core base y return core base y .astype dtype 
def safecharencode value ret Val valueif isinstance value basestring if any _ not in SAFE CHARS for _ in value ret Val ret Val '\\' SLASH MARKER for char in SAFE ENCODE SLASH REPLACEMENTS ret Val ret Val char repr char .strip "'" ret Val reduce lambda x y x + y if y in string or isinstance value unicode and ord y > 160 else '\\x%02x' % ord y ret Val unicode if isinstance value unicode else str ret Val ret Val SLASH MARKER '\\\\' elif isinstance value list for i in xrange len value ret Val safecharencode value return ret Val 
def p base type p if p 'bool' p T Type B O O Lif p 'byte' p T Type B Y T Eif p 'i16' p T Type I16if p 'i32' p T Type I32if p 'i64' p T Type I64if p 'double' p T Type D O U B L Eif p 'string' p T Type S T R I N Gif p 'binary' p T Type B I N A R Y 
def get pdherr code code & 2 ** 32 - 1 return  pdh errcodes code code 
def group member role return s3 rest controller 
def update model model item id data event id None if event id is not None item get object in event model item id event id else item get object or 404 model item id if len data 0 return itemdb model .filter by id item id .update dict data save to db item '%supdated' % model  name   return item 
def gzip decode data if not gzip raise Not Implemented Errorf String I O String I O data gzf gzip Gzip File mode 'rb' fileobj f try decoded gzf except I O Error raise Value Error 'invaliddata' f gzf return decoded 
def dataset purge context data dict from sqlalchemy import or model context  get or bust data dict 'id' pkg model Package id context pkgif pkg is None raise Not Found 'atasetwasnotfound  check access 'dataset purge context data dict members model Session model Member .filter model Member id pkg .filter model Member name 'package' if members > 0 for m in members m for r in model Session model Package Relationship .filter or  model Package Relationship package id pkg model Package Relationship package id pkg .all r pkg model Package id pkg model and remove 
def extract code from function function if not function  name  .startswith u ' return Nonecode re u ' u function  name   if not code return Nonetry int code ] except Value Error return Nonereturn code 
def check password password encoded setter None preferred u if not password or not is password usable encoded return Falsepreferred get hasher preferred hasher identify hasher encoded must update hasher ! preferred is correct hasher password encoded if setter and is correct and must update setter password return is correct 
def option was set option value return set by cli option or not has default value option value 
def  publish file token room filepath message '' api url None if not os filepath raise Value Error "ile filepath if len message > 1000 raise Value Error 'essagetoolong url '{0}/v2/room/{1}/share/file'.format api url room headers {ontent 'multipart/related;boundary boundary123456 Authorization 'earer + token msg json {'message' message payload 'ontent Type application U T F Content Disposition attachment "ontent Disposition attachment "file";filename "{1}"\n\n{2}\n\n--boundary123456--'.format msg os filepath open filepath 'rb' .read salt url method 'POST' header dict headers data payload 
def format live refs ignore None Type s 'ive References time for cls wdict in sorted six live refs key lambda x x  name   if not wdict continueif issubclass cls ignore continueoldest min six wdict s + '%-30s%6doldest %dsago\n' % cls  name   len wdict now - oldest return s 
def salt auth tool if 'token' not in cherrypy raise cherrypy H T T P Error 401 cherrypy Cache Control 'private'
def glob pathname return list iglob pathname 
def test denoise tv chambolle 4d im 255 * np 8 8 8 8 res restoration tv chambolle im np weight 0.1 assert  res np assert  res * 255 < im 
def decargs arglist return [s.decode  encoding for s in arglist 
def  future repr info future info [future. state ]if future state  FINISHED if future exception is not None info 'exception {!r}'.format future exception else result reprlib future result info 'result {}'.format result if future callbacks info  format callbacks future callbacks if future source traceback frame future source traceback -1 ]info.append 'createdat%s %s' % frame frame return info 
def guess kern maxfiles return 65536
def activity hours mode session prep r if mode is not None auth return Trues3 prepreturn s3 rest controller 
def get impl ver impl ver get config var 'py version nodot if not impl ver or get abbr impl 'pp' impl ver ''.join map str get impl version info return impl ver 
def get saved rules conf file None family 'ipv4' return  parse conf conf file conf file family family 
def  make error index code errmsg operation return { UINDEX index  UCODE code  UERRMSG errmsg  UOP operation 
def make opt parser command descriptions []for name in sorted commands command commands ''.join [ '<%s>' % param for param in command + [ '[<%s>]' % param for param in command command descriptions '%%prog[options]%s%s' % name params command usage 'usage %s\n' % '\n'.join command descriptions parser optparse Option Parser usage command usage parser option '-d' '--dest dir dest 'dest dir default os help 'ritegeneratedfilesto D I R metavar 'DIR' parser option '-f' '--force' action 'store true dest 'force' default False help 'orceoverwriteofexistingfiles return parser 
def generate ims variation 1.0 fonts font char ims load fonts FONT DIR num bg images len os 'bgs' while True yield generate im font char ims fonts ] num bg images 
def cache with field field name def decorator fn @wraps fn assigned available attrs fn def wrapper self *args **kwargs force fresh kwargs 'force fresh False field val getattr self field name if field val is not None and not force fresh return field valfield val fn self force fresh force fresh setattr self field name field val return field valreturn wrapperreturn decorator 
def  index document index list if isinstance index list collections Mapping raise Type Error 'passingadicttosort/create index % list iteritems index list elif not isinstance index list list tuple raise Type Error 'mustusealistof key direction pairs not ' + repr index list if not len index list raise Value Error 'key or listmustnotbetheemptylist index SON for key value in index list if not isinstance key string type raise Type Error 'firstitemineachkeypairmustbeastring' if not isinstance value string type int collections Mapping raise Type Error "seconditemineachkeypairmustbe1 -1 '2d' 'aystack oranothervalid Mongo D Bindexspecifier index valuereturn index 
def relative luminance color rgb mpl Converter rgba array color [ 3]rgb np rgb < 0.03928 rgb / 12.92 rgb + 0.055 / 1.055 ** 2.4 lum rgb [0.2126 0.7152 0.0722] try return lum except Value Error return lum 
def find join source clauses join to selectables list  from objects join to for i f in enumerate clauses for s in selectables if f derived from s return i f else return None None 
def Wmi Time To Epoch cimdatetime str re match TIME WMI R E cimdatetime str try t dict re match flt time time t dict ' H M S epoch time int calendar flt time * 1000000 epoch time + int t dict return epoch timeexcept Key Error Attribute Error return 0
def p statement blank p p 0 'BLANK' int p 
def Int2 A P num val ''AP ' B C D E F G H I J K L M N O P int abs num while num num mod divmod num 16 val A P + val return val 
def  to bool string value string value low string value if string value low not in 'false' 'true' raise Value Error 'invalidliteralforboolean %s mustbe ' % string value return string value low 'true'
def api v2 url path str params None base route website settings A P I DOMAIN base prefix api settings A P I BASE **kwargs params params or {} base url furl base route + base prefix base url [x for x in path str '/' if x + [''] base url params base url kwargs return str base url 
def Add Batch Job client batch job service client Get Service 'atch Job Service version 'v201605' batch job operations [{'operand' {} 'operator' ' D D batch job service batch job operations ['value'][0]
def add module check parse check module service parse service module if not service and not check module json msg 'anameandportarerequiredtoregisteraservice' if service if check service check check add service module service elif check add check module check 
def emit setting changed event user db table setting name old value new value truncated fields truncate fields old value new value truncated fields setting nametruncated fields id user fields db tabletracker USER SETTINGS CHANGED EVENT NAME truncated fields USER FIELD C H A N G E D sender None user user table db table setting setting name old value old value new value new value 
def s3 required label field label return TAG[''] '%s ' % field label SPAN '*'  class 'req'
def make minimal cs comment overrides None ret {'type' 'comment' 'id' 'dummy' 'commentable id 'dummy' 'thread id 'dummy' 'parent id None 'user id '0' 'username' 'dummy' 'anonymous' False 'anonymous to peers False 'created at '1970-01-01T00 00 00Z' 'updated at '1970-01-01T00 00 00Z' 'body' 'dummy' 'abuse flaggers [] 'votes' {'up count 0} 'endorsed' False 'child count 0 'children' []}ret.update overrides or {} return ret 
def simple entry analyze fig data n data2 dataentry nbar best data2 nbar best nbar worst data2 nbar worst plot simple entry fig entry nbar best entry nbar worst n 
def  copy master fd master read  read stdin read  read fds [master fd STDIN F I L E N O True rfds wfds xfds select fds [] [] if master fd in rfds data master read master fd if not data fds master fd else os STDOUT FILENO data if STDIN FILENO in rfds data stdin read STDIN FILENO if not data fds STDIN FILENO else  writen master fd data 
def mulrowscaler row scaler K return [ scaler * element for element in row 
def pbucket tail return 's3 //' + bucket tail 
def summer rc 'image' cmap 'summer' im gci if im is not None im cmap cm draw if interactive 
def pad method dict method dict for key in AUTH BACKEND NAME MAP if key not in method dict method dict Falsereturn method dict 
@get '/scan/<taskid>/log/<start>/<end>' def scan log limited taskid start end json log messages list if taskid not in Data Store logger 'nvalidtask I Dprovidedtoscan log limited ' % taskid return jsonize {'success' False 'message' 'nvalidtask I D if not start or not end or end < start logger 'nvalidstartorendvalueprovidedtoscan log limited ' % taskid return jsonize {'success' False 'message' 'nvalidstartorendvalue mustbedigits start max 1 int start end max 1 int end for time  level message in Data Store db ' E L E C Ttime level message F R O Mlogs W H E R Etaskid ? N Did ? N Did ? R D E R B Yid A S C taskid start end json log messages {'time' time  'level' level 'message' message logger 'etrievedscanlogmessagessubset % taskid return jsonize {'success' True 'log' json log messages 
def  splitall path allparts []while True parts os path if parts path allparts 0 parts breakelif parts path allparts 0 parts breakelse path parts 0 parts return allparts 
def  calc padding for alignment align base rmdr int base % align if rmdr 0 return 0else return align - rmdr 
def guess field type field if isinstance field Translated Fields Field return 'object'elif isinstance field Enum Field types Counter [type x for x in field most common types common 1 [0][0]if most common in six types or most common six type return 'string'elif most common in six types return 'number'elif most common bool return 'boolean'return types lookup 
def hamming M sym True if  len guards M return np M M needs trunc  extend M sym w  cos win M [0.54 0.46] return  truncate w needs trunc 
def Present Dialog message choices default choice index 0 to eval u '{0}' '{1}' {2} ".format Escape For Vim To Unicode message Escape For Vim To Unicode u choices default choice index + 1 try return Get Int Value to eval - 1 except Keyboard Interrupt return -1
def  crop image offset height offset width crop height crop width original shape tf image rank assertion tf Assert tf tf image 3 [ankofimagemustbeequalto3 cropped shape control flow ops dependencies [rank assertion tf [crop height crop width original shape size assertion tf Assert tf and tf equal original shape crop height tf equal original shape crop width [ropsizegreaterthantheimagesize offsets tf int32 tf [offset height offset width 0] image control flow ops dependencies [size assertion tf image offsets cropped shape return tf image cropped shape 
def cla Model Control Disable S P Learning Cb cla Model assert isinstance cla Model C L A Model cla Model get S P Region .arameter 'ode False return 
def  prepare trans tar name mods None saltenv 'base' pillar None chunks  compile state mods saltenv refs salt file refs chunks  mk fileclient trans tar salt trans tar   opts     context  ['cp.fileclient'] chunks refs pillar name return trans tar 
@declareddef set value obj ref output None perfdata None return code None obj get object obj ref if not obj returnoutput output or obj perfdata perfdata or obj data if return code is None return code obj idlogger 'etting output perfdata return code obj full name if perfdata output output + '|' + perfdata now time cls obj  class  i obj check now force True for chk in obj in progress if chk i logger 'foundthecheck Iwanttochange c chkc status return codec outputs output obj plugins output length c 'waitconsume'c.check time nowc trigger True 
def get all specs context filters None marker None limit None offset None sort keys None sort dirs None return objects Quality Of Service Specs List all context filters filters marker marker limit limit offset offset sort keys sort keys sort dirs sort dirs 
@mine.command 'remove' @click.argument 'x' type float @click.argument 'y' type float def mine remove x y click 'emovedmineat %s' % x y 
def factor sum self limits None radical False clear False fraction False sign True from sympy import factor termsfrom sympy import Sumresult self if limits is None else self limits self if limits is None else limits if result 0 return S Zerosum vars set [limit.args[0] for limit in limits retv factor terms result radical radical clear clear fraction fraction sign sign if not result commutative return Sum result *limits i d retv independent *sum vars if isinstance retv Add return i * Sum 1 *limits + Sum d *limits else return i * Sum d *limits
def expanded data double fc n 100 expanded training data _ _ network3 data shared '../data/mnist expanded for j in range 3 print 'rainingwithexpandeddata % Clayers runnum % n j net Network [onv Pool Layer image shape mini batch size 1 28 28 filter shape 20 1 5 5 poolsize 2 2 activation fn Re L U Conv Pool Layer image shape mini batch size 20 12 12 filter shape 40 20 5 5 poolsize 2 2 activation fn Re L U Fully Connected Layer n in 40 * 4 * 4 n out n activation fn Re L U Fully Connected Layer n in n n out n activation fn Re L U Softmax Layer n in n n out 10 ] mini batch size net S G D expanded training data 60 mini batch size 0.03 validation data test data lmbda 0.1
def unarmor pem bytes multiple False generator  unarmor pem bytes if not multiple return next generator return generator 
def  split module dicts if not isinstance   salt   dict return   salt  mod dict dict   salt   for module func name mod fun in six mod dict mod fun module func name '.' 1 if mod not in mod dict mod dict lambda None setattr mod dict fun mod fun return mod dict 
def dmp slice in f m n j u K if j < 0 or j > u raise Index Error '-%s< j got % u u j if not u return dup slice f m n K f g dmp to dict f u {} for monom coeff in f k monom k < m or k > n monom monom j + 0 + monom j + 1 ] if monom in g g + coeffelse g coeffreturn dmp from dict g u K
def  Retain Vertical Spacing Between Tokens cur tok prev tok if prev tok is None returnif prev tok string prev lineno prev tok + prev tok u elif prev tok pseudo paren if not prev tok token multiline string prev lineno prev tok token prev lineno prev tok prev lineno prev tok cur tok comment cur lineno cur tok - cur tok u else cur lineno cur tok tok Adjust Newlines Before cur lineno - prev lineno 
def core Test vm prompt Prompt log 'akingsurecgroupsaremounted vm 'sudo-nservicecgroup-literestart' vm prompt vm 'sudo-ncgroups-mount' vm prompt log 'unningmaketest vm 'cd~/mininet;sudomaketest' for test in range 0 2 if vm [ K ' A I L E D pexpect T I M E O U T timeout 180 0 log 'est test 'OK' else log 'est test 'FAILED' log 'est test 'output ' log vm 
def label rgb colors return 'rgb %s %s %s ' % colors colors colors 
def split string separator txt size if len txt > size txt ''.join [re.sub u ? $' '.\n\n\\g<ends>' txt i + size ] 1 for i in xrange 0 len txt size ] return txt 
def run banner output cmd banner output '%s\n%%s\n\n' % cmd 60 '-' command output ''try cmd out utils cmd ignore status True timeout 30 command output cmd out + cmd out except error Cmd Error command output 'imedout banner output % command output 
def merge setting request setting session setting dict class Ordered Dict if session setting is None return request settingif request setting is None return session settingif not isinstance session setting Mapping and isinstance request setting Mapping return request settingmerged setting dict class to key val list session setting merged setting to key val list request setting none keys [k for k v in merged setting if v is None ]for key in none keys del merged setting merged setting 
@not implemented for 'directed' @not implemented for 'multigraph' def communicability exp G import scipy list G A nx numpy matrix G nodelist A[ A ! 0.0 ] 1 scipy A.A mapping dict zip nodelist range len nodelist c {}for u in G c {}for v in G c float exp A mapping mapping ] return c 
def default Factory Method row Class data kw new Object row Class new Object  dict  .update kw return new Object 
def test parse no timezone d iso8601 date '2007-01-01T08 00 00' assert d 2007 assert d 1 assert d 1 assert d 8 assert d 0 assert d 0 assert d 0 assert d iso8601 U T C 
def  active games inactive interval games  games in week  cur year  cur week  cur season phase active []for info in games if not  game is active info inactive interval continueactive info return active 
def get rtd version version None version str get docs version version version positions 3 return 'latest' if version str 'dev' else 'stable-%s' % version str 
def  leftmost descendants node try treepos node except Attribute Error return []return [node[x] for x in treepos ] if all y 0 for y in x ]
def import curve p a b g r name 'ame oid 1 3 132 0 255 if isinstance p str p pkcs os2ip p if isinstance a str a pkcs os2ip a if isinstance b str b pkcs os2ip b if isinstance r str r pkcs os2ip r curve Curve Fp p a b x y extract coordinates g curve generator Point curve x y r return Curve name curve generator oid 
def  validate sos sos sos np 2d sos if sos ! 2 raise Value Error ' n sections m sos m ! 6 raise Value Error 'sosarraymustbeshape n sections 6 ' if not sos 3] 1 .all raise Value Error 'sos[ 3]shouldbeallones' return sos n sections 
def read from numa maps pid key numa maps open '/proc/%s/numa maps % pid numa map info numa maps numa maps numa maps dict {}numa pattern ' ^[\\dabcdfe]+ \\s+.*%s[ ] \\d+ ' % key for address number in re numa pattern numa map info re M numa maps dict numberreturn numa maps dict 
def test option exclude module pyi builder pyi builder source "\ntry \ption xml System Exit 'odulexml \mport Error \he Importerrorisexpectedsince Py Installershould pyi args ['--exclude-module' 'xml.sax']
def get city data data pd csv pm data file 'pymc3.examples' 'data/srrs2.dat' cty data pd csv pm data file 'pymc3.examples' 'data/cty.dat' data data data 'MN' ]data['fips'] data * 1000 + data cty data cty data * 1000 + cty data data np np data 0 0.1 data data data cty data 'inner' on 'fips' unique data duplicates unique np len unique unique index 'fips' return data unique 'inner' on 'fips'
def obl cv seq m n c if not isscalar m and isscalar n and isscalar c raise Value Error 'rgumentsmustbescalars if n ! floor n or m ! floor m raise Value Error 'odesmustbeintegers if n - m > 199 raise Value Error 'ifferencebetweennandmistoolarge max L n - m + 1 return specfun m n c -1 [1][ max L 
def run discovery entry points iter cached False reg cache {}if cached reg cache cache cache discovery Qt Widget Discovery cached descriptions reg cache registry Qt Widget Registry discovery category registry category discovery widget registry widget discovery if cached cache registry cache reg cache return registry 
def jenkins result from api result if result is None return Jenkins Results R U N N I N Gelif result in ['FAILURE' 'ABORTED'] return Jenkins Results F A I L E Delif result 'SUCCESS' return Jenkins Results P A S S E Delse raise Assertion Error "on Jenkinsresult result 
def  effective debug level ctx bundle extra filters None default None if default is None default ctx bundle 'debug' is not None level bundle filters merge filters bundle extra filters level 'merge' if select filters filters True else None if level is not None if cmp debug levels default level > 0 return levelreturn default 
def find the diff s t t dict {}s dict {}for i in s s dict s dict i 0 + 1 for i in t t dict t dict i 0 + 1 for i in t dict if t dict > s dict i 0 return i 
def G Data Entry From String xml string return atom Create Class From X M L String G Data Entry xml string 
def strips a b return rstrips lstrips a b b 
def map tag source target source tag if target u if source u source u source u source u tagset mapping source target [source tag 
def cubic spline x absx np x absx2 absx ** 2 absx3 absx ** 3 kernel weight 1.5 * absx3 - 2.5 * absx2 + 1 * absx < 1 + -0.5 * absx3 + 2.5 * absx2 - 4 * absx + 2 * 1 < absx & absx < 2 return kernel weight 
def get physical type unit r unit get physical type id return  physical unit mapping r u 
def open filename flag 'c' protocol None writeback False return Dbfilename Shelf filename flag protocol writeback 
def binhex inp out finfo getfileinfo inp ofp Bin Hex finfo out ifp io inp 'rb' while True d ifp 128000 if not d breakofp d ofp data ifp ifp openrsrc inp 'rb' while True d ifp 128000 if not d breakofp rsrc d ofp ifp 
def format national number with preferred carrier code numobj fallback carrier code if numobj domestic carrier code is not None carrier code numobj domestic carrier codeelse carrier code fallback carrier codereturn format national number with carrier code numobj carrier code 
def init addons settings routes True from website import init addonsettings A D D O N S AVAILABLE getattr settings 'ADDONS AVAILABLE' [] settings A D D O N S AVAILABLE DICT getattr settings 'ADDONS AVAILABLE DICT' Ordered Dict for addon name in settings A D D O N S REQUESTED if settings U S E POSTGRES try addon apps app config 'addons {}'.format addon name except Lookup Error addon Noneelse addon init addon app addon name routes routes if addon if addon not in settings A D D O N S AVAILABLE settings A D D O N S A V A I L A B L E addon settings A D D O N S AVAILABLE D I C T name addonsettings A D D O N CAPABILITIES render addon capabilities settings A D D O N S AVAILABLE
def Get All Headers message name for header line in message name yield header line ' ' 1 [1].strip
def validate thrift transport confvar transport confvar error res [ confvar 'hrifttransport Pleasechooseasupportedtransport %s' % transport ' '.join SUPPORTED THRIFT TRANSPORTS ]if transport not in SUPPORTED THRIFT TRANSPORTS return error resreturn []
def init mpstate return Cmdlong Module mpstate 
def Key Str key assert isinstance key datastore Key path key path out path []for part in path if isinstance part int long part '%020d' % part else part ' %s' % part out path zero matcher u part out str u out path return out str 
def chemical equations equal eq1 eq2 exact False left1 arrow1 right1 split on arrow eq1 left2 arrow2 right2 split on arrow eq2 if arrow1 '' or arrow2 '' return Falseif arrow1 ! arrow2 return Falsetry factor left divide chemical expression left1 left2 if not factor left return Falsefactor right divide chemical expression right1 right2 if not factor right return Falseif factor left ! factor right return Falseif exact and factor left ! 1 return Falsereturn Trueexcept Parse Exception return False 
def test starts with empty strings assert strings {}
def safe repr fmt *args **kwargs if not is py3 fmt fmt 'utf-8' out fmt *args **kwargs return out 'utf-8' else return fmt *args **kwargs
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
def connection from url url **kw scheme host port get host url if scheme 'https' return H T T P S Connection Pool host port port **kw else return H T T P Connection Pool host port port **kw
@require contextdef volume glance metadata get all context return  volume glance metadata get all context 
def  aggr weighted mean in List params assert len in List len params weights Sum sum params if weights Sum 0 return Noneweighted Mean 0for i elem in enumerate in List weighted Mean + elem * params return weighted Mean / weights Sum 
def port container private port status base status client  get client try port info client  get container infos container [d private port  valid status id  container out port info except Exception  invalid status id  container out traceback exc return status 
def amin a axis None out None keepdims False dtype None return a axis axis dtype dtype out out keepdims keepdims 
def p struct declarator list 1 t pass 
def color Str c return '%02x' * 4 % color Tuple c 
def flip tree node if hasattr node 'root' node node root if node flip tree node if node flip tree node node node node node 
def mean absolute error y true y pred return tf mean tf y pred - y true 
@ile System directory current directory 'django' 'alfaces' def test django background server running in background with custom port import tornado tornado Main Handler tornado Request Handler def get self self 'ello world raise System Exit def runserver application tornado Application [ '/' Main Handler ] application 9889 tornado I O Loop .start server multiprocessing Process target runserver server time 1 e 'ettucecouldnotrunthebuiltin Djangoserverat0 9889"\nmaybeyouforgota"runserver"instancerunning?\n\nwellifyoureallydonotwantlettucetoruntheserverforyou thenjustrun \n\npythonmanage.py--no-server'try status out commands 'pythonmanage.pyharvest--verbosity 3--no-color--port 9889' assert equals out e assert not equals status 0 finally os server 9
def  error to jsondict mod type  code t name c name  get error names mod type  code return {'type' '%s %d ' % t name type  'code' '%s %d ' % c name code }
def combine map label cols combinecolorby mapping combinedmapdata array [''] * len mapping dtype 'a100' title []match Falsefor p in range len combinecolorby for i in range len mapping if str combinecolorby str mapping match Truefor q in range len mapping combinedmapdata combinedmapdata + mapping breakelse match Falseif not match raise Value Error 'neofthecolumnsyoutriedtocombinedoesnotexist title combinecolorby combinedmapdata '&&'.join title for i in range len combinedmapdata mapping combinedmapdata return mapping 
def  superlative interface comparison result class Comparison Proxy proxy For Interface interface ' original def   cmp   self other return comparison resultreturn Comparison Proxy 
def corename filename f1 Nonef2 os filename while f1 ! f2 f1 f2 f2 ext os f1 return f2 
def get networks context filters None fields None session context nets session Brocade Network .all return netsexcept sa S Q L Alchemy Error return None 
def Find Next Matching Angle Bracket clean lines linenum init suffix line init suffixnesting stack ['<']while True match Search '^[^<> ;\\[\\]]* [<> ;\\[\\]] .* $' line if match operator match 1 line match 2 if nesting stack -1 ] '<' if operator in '<' ' ' '[' nesting stack operator elif operator '>' nesting stack if not nesting stack return Trueelif operator ' ' return Trueelse return Falseelif operator in '<' ' ' '[' nesting stack operator elif operator in ' ' ']' nesting stack else linenum + 1if linenum > len clean lines breakline clean lines True 
@django jinja function show prices context options Price Display Options context context return options prices 
def  allow new attributes f def decorated self *args **kw 'hedecoratedfunctionthatreplaces  init   or  setstate   \n\n'if not hasattr self ' can Add Attributes self  dict  [' can Add Attributes 1else self can Add Attributes + 1assert self can Add Attributes > 1 count self can Add Attributesf self *args **kw if hasattr self ' can Add Attributes self can Add Attributes - 1else self can Add Attributes count - 1 assert self can Add Attributes > 0 if self can Add Attributes 0 del self can Add Attributesdecorated  doc   f  doc  decorated  name   f  name  return decorated 
def test get set sensor positions raw1 read raw fif raw fname picks pick types raw1 meg False eeg True pos np [ch['loc'][ 3] for ch in raw1 [picks]raw pos raw1 get channel positions picks picks assert array equal raw pos pos ch name raw1 names raises Value Error raw1 set channel positions [1 2] ['name'] raw2 read raw fif raw fname raw2 3] np [1 2 3] raw1 set channel positions [[1 2 3]] [ch name assert array equal raw1 raw2 
def check win pos pos if not pos return dict valid True message 'indowpositionnotset default ' pos pos reg ' TOP|BOTTOM .? LEFT|RIGHT 'if not re reg pos re I msg 'rysomethingliketop ordefault 'return dict valid False message msg else p re reg pos re I .groups p '%s-%s' % p msg 'indowpositionsetto % p return dict valid True message msg value p 
def parameterize ref params ref for key in ref if key -3 ] ' id params key -3 ] params key return params 
def find induced nodes G s t treewidth bound sys if not is chordal G raise nx Network X Error 'nputgraphisnotchordal H nx Graph G H edge s t I set triplet  find chordality breaker H s treewidth bound while triplet u v w triplet I triplet for n in triplet if n ! s H edge s n triplet  find chordality breaker H s treewidth bound if I I t for u in G if len I & set G 2 I u breakreturn I
def Gen Bank Cds Feature Iterator handle alphabet Alphabet protein return Gen Bank Scanner debug 0 .parse cds features handle alphabet 
def parse host connect string hcs if '@' in hcs p re ' ? ]* ? ? ?!\\\\ @ ? ]* ? ? ' else p re ' ? ? ? ]* ? ? ' m p hcs d m d d '\\@' '@' return d 
def format file subscription user node id path provider Abstract Node apps model 'bstract Node node Abstract Node node id wb path path '/' for subscription in get all node subscriptions user node if wb path in getattr subscription 'event name return serialize event user subscription node return serialize event user node node event description 'file updated 
def restore fid url build url RESOURCE id fid route 'restore' return request 'post' url 
def test install pardir script data run from data ' S Pkg 'fspkg' result script 'install' pardir cwd run from expect error False fspkg folder script packages / 'fspkg' egg info folder script packages / ' S Pkg % pyversion assert fspkg folder in result created str result assert egg info folder in result created str result 
def html diff old new diff Sequence Matcher None old new result []for tag oldpos1 oldpos2 newpos1 newpos2 in diff opcodes if tag 'replace' result '<del>%s</del><ins>%s</ins>' % old oldpos2 new newpos2 elif tag 'delete' result '<del>%s</del>' % old oldpos2 elif tag 'insert' result '<ins>%s</ins>' % new newpos2 elif tag 'equal' result new newpos2 return ''.join result 
def list running ret []for line in  machinectl 'list' ['stdout'].splitlines try ret line [0] except Index Error passreturn sorted ret 
def create dark lang config apps schema editor Dark Lang Config apps model u lang u Dark Lang Config objects Dark Lang Config not objects objects enabled True 
def public func func accessible True func def wrapped *a **kw return func *a **kw return wrapped 
def get lineno node lineno Nonewhile lineno is None and node node node node lineno 
def dist string dist out '%.1f%%' % 1 - dist * 100 if dist < config rec thresh number out ui 'green' out elif dist < config rec thresh number out ui 'yellow' out else out ui 'red' out return out 
def get ids lines field bad ids None debug False result defaultdict list for line in lines if line '>' fields map strip line ].split label fields not '_' in label continue lib id  label '_' 1 if bad ids and label in bad ids if debug print 'xcludedbadid %s' % label else result fields return result 
def find in path fname path None if path is None path os 'PATH' '' for dir in path os fpath os dir fname if os fpath return fpathelse return None 
def data upload progress req if 'id' in req G E T upload id str req G E T if upload id in req upload obj get object or 404 Upload import id upload id user req upload session upload obj session else upload session req id session upload session sessionprogress import session progress return json response progress else return json response {'state' 'NONE'}
@click.command 'remote-set-url' @click.argument 'git-url' def remote set url git url set git remote url git url 
def s3 redirect default location '' how 303 client side False headers None response current current response response response response location how how client side client side headers headers 
def xprotect entries attrs None where None if salt darwin return  osquery cmd table 'xprotect entries attrs attrs where where return {'result' False 'comment' 'nlyavailableonmac O Ssystems 
def sample final epsilon final epsilons np [0.1 0.01 0.5] probabilities np [0.4 0.3 0.3] return np final epsilons 1 p list probabilities [0]
def v4 key to string v4 key path element strings []for path element in v4 key element list if path element id id or name str path element elif path element name id or name path element else id or name ''path element strings '%s %s' % path element id or name return '[%s]' % ' '.join path element strings 
def gf cofactors f g p K if not f and not g return [] [] [] h gf gcd f g p K return h gf quo f h p K gf quo g h p K
@require chanmsg privilege OP u Youarenotachanneloperator @commands u def topic bot trigger if bot < HALFOP return bot u I if not trigger 2 returnchannel trigger narg 1mask Nonemask bot channel value channel u mask mask mask or default mask trigger mask mask u u narg len re u mask top trigger 2 args []if top args top u narg if len args ! narg message u Notenougharguments Yougave itrequires len args narg return bot message topic mask *args bot u T O P I C channel + u ' + topic 
def get conf if  HIVE SITE DICT is None  parse hive site return  HIVE SITE DICT
def api doc section uses site False **kwargs def add metadata api function doc api function api doc getattr api function ' api doc {} if 'extends' in kwargs kwargs kwargs api docdoc kwargs doc site uses sitedoc sectiondoc api function code firstlinenofile path abspath api function code filename root dir g file path root dir doc relpath file path root dir doc root url 'https //github.com/reddit/reddit/blob/master/r2/r2/'else for plugin in g plugin root plugin plugin root url and file path plugin root doc relpath file path plugin root doc root url plugin root urlreturn api functionreturn add metadata 
def get paths extents paths transforms [] from .transforms import Bbox Affine2 Dif len paths 0 raise Value Error u Nopathsprovided return Bbox extents * path path collection extents Affine2 D paths transforms [] Affine2 D 
def  unquote json quoted json document json document unquote quoted json document return json json document 
def shrink tensor x w raise Not Implemented Error 'TODO implementthisfunction 
def cart counter request cart get cart from request request return {u'cart counter cart 
def check normal basic shape as symbolic dim as symbolic False rng CURAND Random Streams 234 if shape as symbolic shape constant 10 10 elif dim as symbolic shape 10 constant 10 else shape 10 10 u0 rng shape u1 rng shape f0 theano [] u0 mode mode with gpu f1 theano [] u1 mode mode with gpu v0list [f0 for i in range 3 ]v1list [f1 for i in range 3 ]assert numpy v0list ! v0list assert numpy v1list ! v1list assert numpy v0list ! v1list for v in v0list assert v 10 10 assert v < v assert -0.5 < v < 0.5
def  make chunk iter stream limit buffer size if isinstance stream bytes bytearray text type raise Type Error 'assedastringorbyteobjectinsteadoftrueiteratororstream if not hasattr stream 'read' for item in stream if item yield item returnif not isinstance stream Limited Stream and limit is not None stream Limited Stream stream limit  read stream 1 item  read buffer size if not item break yield item 
def test cnn fit sample with wrong object knn 'rnd'cnn Condensed Nearest Neighbour random state RND SEED n neighbors knn assert raises Value Error cnn sample X Y
def test incorrect case file index data req Install Requirement line 'dinner' None finder Package Finder [] [data.find links3 session Pip Session link finder requirement req False assert link 'inner 
def Get Ad Words Client **kwargs client customer id kwargs 'ccid' 'clientcustomerid' dev token kwargs 'dev token 'dev token user agent kwargs 'user agent 'user agent validate only kwargs 'validate only False partial failure kwargs 'partial failure False report downloader headers kwargs 'report downloader headers {} if 'oauth2 client in kwargs oauth2 client kwargs client oauth header {uthorization 'header'}oauth2 client mock Mock oauth2 client Create Http Header value dict oauth header client googleads Ad Words Client dev token oauth2 client user agent client customer id client customer id cache kwargs 'cache' proxy config kwargs 'proxy config validate only validate only partial failure partial failure report downloader headers report downloader headers return client 
def freeze G G node frozen G nodes from frozen G node frozen G nodes from frozen G edge frozen G edges from frozen G edge frozen G edges from frozen G frozen G Truereturn G
def get top rated exploration summary dicts language codes limit filtered exp summaries [exp summary for exp summary in exp services top rated exploration summaries limit .values if exp summary code in language codes and sum exp summary > 0 ]sorted exp summaries sorted filtered exp summaries key lambda exp summary exp summary average rating reverse True return get displayable exp summary dicts sorted exp summaries 
def test radian base assert 1 * u .si.unit u 
def educate single backticks s return s '`' '&#8216;' .replace "'" '&#8217;'
def libvlc media set meta p md e meta psz value f  Cfunctions 'libvlc media set meta None or  Cfunction 'libvlc media set meta 1 1 1 None None Media Meta ctypes char p return f p md e meta psz value 
def global contrast normalize X scale 1.0 subtract mean True use std False sqrt bias 0.0 min divisor 1e-08 assert X 2 ' float scale assert scale > min divisor mean X axis 1 if subtract mean X X - mean numpy else X X if use std ddof 1if X 1 ddof 0normalizers numpy sqrt bias + X axis 1 ddof ddof / scale else normalizers numpy sqrt bias + X ** 2 .sum axis 1 / scale normalizers normalizers < min divisor ] 1.0X / normalizers numpy X
def restore file ownership path os os '~/' '.w3af' if not os path return Falsetry uid int os 'SUDO UID' gid int os 'SUDO GID' except Value Error return Falsetry  chown path uid gid except return Falsereturn True 
def load Mime Types mimetype locations None init mimetypes init mimetype locations mimetypes map {'.conf' 'text/plain' '.diff' 'text/plain' '.flac' 'audio/x-flac' '.java' 'text/plain' '.oz' 'text/x-oz' '.swf' 'application/x-shockwave-flash' '.wml' 'text/vnd.wap.wml' '.xul' 'application/vnd.mozilla.xul+xml' '.patch' 'text/plain'} return mimetypes map 
def hsetnx key field value host None port None db None password None server  connect host port db password return server key field value 
def get attributes dicts object name parent object names object dict O B J E C T S name attributes object dict attributes paths list object dict paths if FRAME NAME in parent object names len parent object names len parent object names index parent object names FRAME NAME if len parent object names index + 1 if object name in 'data' 'layout' parent object names ['figure' object name len parent object names > index + 1 if parent object names index + 1 ] in 'data' 'layout' parent object names ['figure'] + list parent object names [ index + 1 ] for parent object name in reversed parent object names if parent object name in ARRAYS continueparent object dict O B J E C T S object name attribute paths parent object dict paths path in list attribute paths if not  is valid sub path path parent attribute paths attribute paths path attributes dicts {path utils by path GRAPH REFERENCE path for path in attribute paths dicts attributes additional attributesreturn attributes dicts 
def parse call named group source info pos group parse name source source ' ' return Call Group info group pos 
def test compilation cfile compiler None **compiler attrs cc get compiler compiler **compiler attrs efile ext os cfile cpreargs lpreargs Noneif sys 'darwin' if platform [0] '32bit' if platform 'powerpc' cpu 'ppc'else cpu 'i386'cpreargs ['-arch' cpu ['-arch' cpu '-undefined' 'dynamic lookup lpreargs ['-undefined' 'dynamic lookup sys 'sunos5' if platform [0] '32bit' lpreargs ['-m32']else lpreargs ['-m64']extra compiler attrs 'extra compile args None objs cc [cfile] extra preargs cpreargs extra postargs extra cc executable objs efile extra preargs lpreargs return efile 
def  get random string length 44 allowed chars ' B C D E F G H I J K L M N O P Q R S T U V W X Y Z0123456789 secret key settings key bytes secret key  ensure bytes secret key  reseed if needed using sysrandom secret key return ''.join random allowed chars for i in range length 
def escape invalid characters name invalid char list replace with '_' for char in invalid char list if char in name name name char replace with return name 
def auth complete request backend user *args **kwargs if request PIPELINE KEY data request PIPELINE KEY kwargs kwargs if user kwargs user idx xargs xkwargs backend session dict data request request *args **kwargs if 'backend' in xkwargs and xkwargs backend A U T H B A C K E N D return backend pipeline pipeline index idx *xargs **xkwargs return backend complete user user request request *args **kwargs
def image whitening data assert len np data 4 nb pixels np data [1] * np data [2] * np data [3] mean np data axis 1 2 3 ones np np data [1 4] dtype np for i in xrange len data data ] - mean * ones adj std var np np len data dtype np / math nb pixels np data axis 1 2 3 for i in xrange len data data ] data ] / adj std var print np data return data 
def handle 500 _ response exception logging exception response status 500 response jinja environment template '500.html' .render
def organization create context data dict data dict 'type' 'organization'  check access 'organization create context data dict return  group or org create context data dict is org True 
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
def undefine vm  dom  get domain vm  return dom 0
def connect Server And Client test client Factory server Factory addr '127.0.0.1' client Broker client Factory Protocol addr server Broker server Factory Protocol addr client Transport String I O server Transport String I O client Broker Connection protocol File Wrapper client Transport server Broker Connection protocol File Wrapper server Transport pump I O Pump client Broker server Broker client Transport server Transport def maybe Disconnect broker if not broker broker Lost failure Failure main C O N N E C T I O N DONE def disconnect Client Factory client Factory Connection Lost connector None reason failure Failure main C O N N E C T I O N DONE test Cleanup maybe Disconnect client Broker test Cleanup maybe Disconnect server Broker test Cleanup disconnect Client Factory pump return client Broker server Broker pump 
def split datastore path datastore path spl datastore path '[' 1 [1].split ']' 1 path ''if len spl 1 datastore url spl datastore url path splreturn datastore url path 
def  api rss now name output kwargs scheduler rss return report output 
def rindex s *args return s *args
def submit row context opts context context popup context popup as context as {'onclick attrib opts ordered objects and change and 'onclick "rder Form ;"' or '' 'show delete link not is popup and context delete permission and change or context delete 'show save as new not is popup and change and save as 'show save and add another context add permission and not is popup and not save as or context 'show save and continue not is popup and context change permission 'is popup is popup 'show save True 
def globalsfilter input dict check all False filters None exclude private None exclude capitalized None exclude uppercase None exclude unsupported None excluded names None output dict {}for key value in list input dict excluded exclude private and key '_' or exclude capitalized and key or exclude uppercase and key and len key > 1 and not key ].isdigit or key in excluded names or exclude unsupported and not is supported value check all check all filters filters if not excluded output dict valuereturn output dict 
def absolute reverse view name query kwargs None args None kwargs None relative url reverse view name kwargs kwargs url website util v2 url relative url params query kwargs base prefix '' return url 
def  specify repositories base disablerepo enablerepo base all repos repos base repo pattern in disablerepo for repo in repos matching repo pattern repo for repo pattern in enablerepo for repo in repos matching repo pattern repo 
def login redirect request ignorable nexts u if u in settings I N S T A L L E D APPS from mezzanine import urlsignorable nexts + urls S I G N U P URL urls L O G I N URL urls L O G O U T URL next next url request or u if next in ignorable nexts next settings L O G I N REDIRECT U R Lif next u next get script prefix else try next reverse next except No Reverse Match passreturn redirect next 
def Pdf pdf **options low high options 'low' None options 'high' None n options 'n' 101 xs ps pdf Render low low high high n n options  Underride options label pdf Plot xs ps **options
def cov nw groupsum results nlags time weights func weights bartlett use correction 0 xu hessian inv  get sandwich arrays results S hac S hac groupsum xu time nlags nlags weights func weights func cov hac  HCCM2 hessian inv S hac if use correction nobs k params xu use correction 'hac' cov hac * nobs / float nobs - k params elif use correction in ['c' 'cluster'] n groups len np time cov hac * n groups / n groups - 1.0 cov hac * nobs - 1.0 / float nobs - k params return cov hac 
def   options2hash list retval {}counter 0while counter < len list retval list counter + 1 ]counter + 2  debug '  options2hashreturning ' retval return retval 
def register linter linter checker Exceptions Checker linter 
@mock streams 'stdout' def test puts with unicode output s u Trueputs s show prefix False eq  sys s + '\n'
def transform command src show diff True i 0limit sys lst ''raw srcwhile src ! lst lst srcsrcs events transform command src for s in srcs if s ! lst src sbreaki + 1if i limit print exception 'odifcationstosourceinputtookmorethantherecursionlimitnumberofinterationstoconverge debug level builtins  xonsh env  .get 'XONSH DEBUG' if show diff and debug level > 1 and src ! raw sys difflib diff raw keepends True src keepends True fromfile 'beforeprecommandevent' tofile 'afterprecommandevent' return src 
def load pandas data  get data return du recarray pandas data endog idx 0 dtype float 
def tokenize readline from itertools import chain repeat encoding consumed detect encoding readline rl gen iter readline '' empty repeat '' return  tokenize chain consumed rl gen empty .  next   encoding 
def get registered from registration if registration from return registration from idelse log registration log 'node' or log 'project'
def do one *brules def do one brl expr yielded Falsefor brl in brules for nexpr in brl expr yielded True yield nexpr if yielded returnreturn do one brl 
def Filter Fn Table fn table symbol new table list for entry in fn table if entry ! symbol new table entry return new table 
def ztost x1 low upp x2 None usevar 'pooled' ddof 1.0 tt1 ztest x1 x2 alternative 'larger' usevar usevar value low ddof ddof tt2 ztest x1 x2 alternative 'smaller' usevar usevar value upp ddof ddof return np tt1 tt2 tt1 tt2 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def  generate tar package target sources sources dir suffix mode  get tar mode from suffix suffix tar tarfile target mode manifest  archive package sources tar sources sources dir manifest path ' A N I F E S T % target m open manifest path 'w' print >>m '\n'.join manifest + '\n' m tar manifest path  PACKAGE MANIFEST tar return None 
def disable site site name if is site enabled site name run as root 'a2dissite%s' %  site config filename site name 
def get Perimeter Width element Node if element Node None return 0.72preferences skeinforge craft Craft Preferences 'carve' layer Thickness skeinforge craft Craft Value 'ayer Thickness preferences layer Thickness get Cascade Float Without Self layer Thickness element Node 'hickness perimeter Width Over Thickness skeinforge craft Craft Value 'erimeter Widthover Thickness preferences perimeter Width Over Thickness get Cascade Float Without Self perimeter Width Over Thickness element Node 'idth Over Thickness return get Cascade Float Without Self perimeter Width Over Thickness * layer Thickness element Node 'idth 
def s3 get foreign key field m2m True ftype str field multiple Falseif ftype 9] 'reference' key ftype ]elif m2m and ftype 14] 'list reference key ftype ]multiple Trueelse key current reference field if not key return None None None if '.' in key rtablename key key '.' else rtablename keyrtable current rtablename if rtable key rtable id key Nonereturn rtablename key multiple 
def fix Relative Links document linkrel for attr in 'src' 'href' for node in domhelpers Elements With Attribute document attr href node Attribute attr if not href 'http' and not href '/' node Attribute attr linkrel + node Attribute attr 
def unpack zipfile filename extract dir progress filter default filter if not zipfile zipfile filename raise Unrecognized Format '%sisnotazipfile' % filename z zipfile Zip File filename try for info in z name info name '/' or '..' in name '/' continuetarget os extract dir *name.split '/' target progress filter name target if not target continueif name '/' ensure directory target else ensure directory target data z info f open target 'wb' try f data finally f del dataunix attributes info attr >> 16 if unix attributes os target unix attributes finally z 
def Get Global V S Macro Env vs version env {}if vs version Path env V S Install Dir '] vs version Path env V C Install Dir '] os vs version Path 'VC' + '\\' dxsdk dir  Find Direct X Installation env DXSDK DIR '] dxsdk dir if dxsdk dir else '' env WDK DIR '] os 'WDK DIR' '' return env 
def test type for c in Script 'importos;os.path.' .completions assert c 
def submit step outer step def decorator f @functools.wraps f def wrapper request *args **kw from mkt import  resumefrom mkt import App Submission Checklistaddon kw 'addon' False if addon try step addon next except App Submission Checklist Does Not Exist step Noneif step and step ! outer step return  resume addon step return f request *args **kw wrapper Truereturn wrapperreturn decorator 
def create bookmark action parent url title icon None shortcut None @lot def open url return programs file url return create action parent title shortcut shortcut icon icon triggered open url 
def prepare fsdev job global FSDEV J O Bglobal FSDEV D I S K L I S Tglobal FSDEV PREP C N Tif not FSDEV FS DESC return None None FSDEV PREP CNT + 1if FSDEV PREP CNT > 1 return FSDEV D I S K L I S T FSDEV DISKLIST FSDEV JOB job path toss disks prepare disks job fs desc FSDEV FS DESC disk1 only FSDEV DISK1 ONLY disk list None FSDEV DISKLIST disksreturn path disks 
def demo serialize tagger postag serialize output 'tagger.pcl'
def has gravatar email if frappe import or frappe install or frappe test return u md5 frappe unicode email .encode u .hexdigest gravatar url u //secure.gravatar.com/avatar/{hash}?d 404&s 200'.format hash hexdigest try res requests gravatar url if res code 200 return gravatar urlelse return u requests Connection Error return u 
def askyesno title None message None **options s  show title message QUESTION YESNO **options return s YES
def  ll nb2 y X beta alph ll  ll nbp y X beta alph Q 0 return ll 
def execute rule rule matches context if rule context log rule level 'heckingrulecondition %s' rule when response rule matches context if when response log rule level 'ulewastriggered %s' when response log rule level 'unningruleconsequence %s%s' rule when response rule matches when response context return when responseelse log rule level 'uleisdisabled %s' rule 
def verify running as root if os ! 0 raise error Test N A Error 'histestrequiresrootprivileges currentlyrunningwithuser ' % getpass 
def test setting the same value marks field as dirty class Field Tester X Block 'estblockforset mutable String scope Scope list field List scope Scope dict field Dict scope Scope runtime Test Runtime services {'field-data' Dict Field Data {} } field tester Field Tester runtime scope ids Mock spec Scope Ids assert equals len field tester dirty fields 0 assert false field tester field set on field tester assert false field tester field set on field tester assert false field tester mutable set on field tester field tester mutable field tester mutablefield tester field field tester fieldfield tester field field tester fieldassert not in field tester mutable field tester dirty fields assert in field tester field field tester dirty fields assert in field tester field field tester dirty fields assert false field tester mutable set on field tester assert false field tester field set on field tester assert false field tester field set on field tester 
def template pattern flags 0 return  compile pattern flags | TEMPLATE
def  get kernel value if value is None or value u return Noneif value u value DEFAULT JPL E P H E M E R I Sif value in u u value u //naif.jpl.nasa.gov/pub/naif/generic kernels s value else try six value except Exception raise Value Error u U R L value try from jplephem import S P Kexcept Import Error raise Import Error u Solarsystem J P Lephemeriscalculationsrequirethejplephempackage https //pypi.python.org/pypi/jplephem ' return S P K download file value cache True 
def is logged in cookie set request return settings E D X M K T G LOGGED IN COOKIE NAME in request C O O K I E S and settings E D X M K T G USER INFO COOKIE NAME in request C O O K I E S 
def get family families if not isinstance families list families [families]for family in families if font is installed family return familyelse print 'arning Noneofthefollowingfontsisinstalled %r' % families return Q Font .family
def call Into P A M service user conv pam P A M pam service pam item PAM.PAM USER user pam item PAM.PAM CONV conv gid os uid os os 0 os 0 try pam pam mgmt return 1finally os gid os uid 
def mpd distmat return distmat / distmat - distmat 
@frappe.whitelist def update column order board name order board frappe doc u Kanban Board board name order json order old columns board columns []for col in order for column in old columns if col column name new columns column old columns column new columns old columns board []for col in new columns board u dict column name col name status col order col indicator col board return board 
@testing.requires testing data mnedef test other volume source spaces tempdir  Temp Dir temp name op tempdir 'temp-src.fif' run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name '--mri' fname mri src read source spaces temp name src new setup volume source space None pos 7.0 mri fname mri subjects dir subjects dir  compare source spaces src src new mode 'approx' assert true 'volume shape in repr src del srcdel src newassert raises Value Error setup volume source space 'sample' temp name pos 7.0 sphere [1.0 1.0] mri fname mri subjects dir subjects dir run subprocess ['mne volume source space '--grid' '7.0' '--src' temp name assert raises Value Error read source spaces temp name 
def test tb syntaxerror ip get ipython ip cell 'for' save stdout sys sys String I O ip cell '%tb' out sys finally sys save stdoutlast line out .splitlines [ -1 ].strip nt equal last line 'yntax Error invalidsyntax 
def pool list **kwargs return ceph cfg list **kwargs
def p exclusive or expression 1 t pass 
def inference tip infer function def transform node infer function infer function node explicit inference infer functionreturn nodereturn transform 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def test renn sample wrong X renn Repeated Edited Nearest Neighbours random state RND SEED renn X Y assert raises Runtime Error renn np 100 40 np [0] * 50 + [1] * 50
def candlestick ochl ax quotes width 0.2 colorup u colordown u alpha 1.0 return  candlestick ax quotes width width colorup colorup colordown colordown alpha alpha ochl True 
def dup from sympy f K return dup strip [ sympy c for c in f 
def fullsplit path result None if result is None result [] head tail os path if head '' return [tail] + result if head path return resultreturn fullsplit head [tail] + result 
def  check group branches config physical skel logging 'heckinggroupbranchesmatchexpectations for group relations in physical skel if 'belongs to not in relations continueparents relations to parent in parents if parent in config message 'roup butalsohashostentriesinuserconfiguration Hostscannotbesiblingwithgroups parent parent child group raise Group Conflict message logging 'roupbranchesok return True 
def user must complete entrance exam request user course if user can skip entrance exam user course return Falseif user has passed entrance exam request course return Falsereturn True 
def validate timeout or none option value if value is None return valuereturn validate positive float option value / 1000.0
def  Make X M L Safe s s cgi s s re '[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]' '' s s s 'ascii' 'xmlcharrefreplace' return s 
def get cache key request key prefix None method 'GET' cache None if key prefix is None key prefix settings C A C H E MIDDLEWARE KEY P R E F I Xcache key  generate cache header key key prefix request if cache is None cache caches C A C H E MIDDLEWARE A L I A S cache cache key if headerlist is not None return  generate cache key request method headerlist key prefix else return None 
def  fix shape x n axis s list x if s > n index [slice None ] * len s index slice 0 n x x x False else index [slice None ] * len s index slice 0 s s nz zeros s x z xreturn z True 
def  reorient starts starts blksizes seqlen strand assert len starts len blksizes 'nequalstartcoordinatesandblocksizeslist %rvs%r ' % len starts len blksizes if strand > 0 return startselse return [ seqlen - start - blksize for start blksize in zip starts blksizes ]
def all valid formsets valid Truefor formset in formsets if not formset valid valid Falsereturn valid 
@with setup prepare stdout registry def test xunit output with one error called []def assert correct xml filename content called True assert xsd valid filename content root etree content assert equals root 'tests' '2' assert equals root 'failures' '1' assert equals len root 2 passed failed root 'testcase' assert equals passed 'name' 'ivenmystepthatpasses assert true float passed 'time' > 0 assert equals failed 'name' 'ivenmystepthatblowsaexception assert true float failed 'time' > 0 assert true failed 'failure' is not None old xunit output outputxunit output output assert correct xmlrunner Runner feature name 'error traceback enable xunit True runner assert equals 1 len called 'unctionnotcalled xunit output output old 
def test hosts decorator overrides env hosts @hosts 'bar' def command passeq hosts command ['bar'] env {'hosts' ['foo']}
@deprecated u def allequal seq if len seq < 2 return Trueval seq i in xrange 1 len seq thisval seq thisval ! val return Falsereturn True 
def ode 1st homogeneous coeff best eq func order match sol1 ode 1st homogeneous coeff subs indep div dep eq func order match sol2 ode 1st homogeneous coeff subs dep div indep eq func order match simplify match 'simplify' True if simplify constants sol1 symbols eq symbols sol1 odesimp sol1 func order constants '1st homogeneous coeff subs indep div dep constants sol2 symbols eq symbols sol2 odesimp sol2 func order constants '1st homogeneous coeff subs dep div indep return min [sol1 sol2 key lambda x ode sol simplicity x func trysolving not simplify 
def get vlan vlanid module command 'showvlanid' + vlanid body execute show command command module try vlan table body T A B L E vlanbriefid R O W vlanbriefid Type Error Index Error return {}key map {'vlanshowbr-vlanid-utf' 'vlan id 'vlanshowbr-vlanname' 'name' 'vlanshowbr-vlanstate' 'vlan state 'vlanshowbr-shutstate' 'admin state apply key map key map vlan table value map {'admin state {'shutdown' 'down' 'noshutdown' 'up'}}vlan apply value map value map vlan vlan vni get vni vlanid module return vlan 
def get text tag tag name default if tag is None return defaultt tag name if t is not None and t is not None return t return default 
def test dataset validation shuffle split skip if no sklearn mapping {'dataset iterator 'ataset Validation Shuffle Split yaml test yaml dataset iterator % mapping trainer yaml parse test yaml trainer loop 
def read crop fname lims 0 None return read raw fif fname allow maxshield 'yes' .crop *lims
@image comparison baseline images [u'tight layout4 freetype version u u def test tight layout4 fig plt ax1 plt 3 3 0 0 ax2 plt 3 3 0 1 colspan 2 ax3 plt 3 3 1 0 colspan 2 rowspan 2 ax4 plt 3 3 1 2 rowspan 2 example plot ax1 example plot ax2 example plot ax3 example plot ax4 plt layout 
def get ninja plugin file path extension '.plugin'return get ninja file path extension only first True 
def  correct auto elements surf mat pi2 2.0 * np tris flat surf misses pi2 - mat axis 1 for j miss in enumerate misses n memb len surf tri mat j j ] miss / 2.0 miss / 4.0 * n memb members np j tris flat [0]mods members % 3 offsets np [[1 2] [ -1 1] [ -1 -2 ]] tri 1 members + offsets mods 0 ] tri 2 members + offsets mods 1 ] for t1 t2 in zip tri 1 tri 2 mat j tris flat ] + missmat j tris flat ] + missreturn 
def read url url logging 'reading{url}...'.format url url r urlopen url .read return json r 'UTF-8'
def valid jsonp callback value value for identifier in value u while '[' in identifier if not has valid array index identifier return Falseidentifier replace array index u identifier if not valid javascript identifier identifier return Falsereturn True 
def p function definition 4 t pass 
def test signature is definition s 'pam pass Spam Script s + ' ' .call signatures [0]definition Script s + ' ' column 0 .goto definitions [0] signature 1 signature 6 for attr name in dir definition dont scan ['defined names 'line nr 'start pos 'documentation' 'doc' 'parent' 'goto assignments attr name '_' or attr name in dont scan continueattribute getattr definition attr name signature attribute getattr signature attr name if inspect attribute assert attribute signature attribute else assert attribute signature attribute 
def  validate time req values for time field in ['created at 'updated at 'deleted at if time field in values and values field try time timeutils isotime values field if time < 1900 raise Value Errorvalues field time timeutils P E R F E C T TIME FORMAT except Value Error msg _ 'nvalidtimeformatfor % time field raise H T T P Bad Request explanation msg request req 
def gen cosine amp amp 100 period 1000 x0 0 xn 50000 step 1 k 0.0001 cos np xn - x0 * step 1 1 for i in range len cos idx x0 + i * step cos i 0 0 ] amp * np 2 * np * idx / period cos i 0 0 ] cos i 0 0 ] * np - k * idx return cos 
def delete name root None cmd 'groupdel' name if root is not None cmd '-R' root ret   salt  ['cmd.run all cmd python shell False return not ret 
def from tuple tup if len tup not in 2 3 raise Value Error 'tuplemustcontain2or3elements not %d %r' % len tup tup return range *tup
def  cursor return connections for read Document ].cursor
def test elemwise collapse7 atol 1e-06 shape 5 4 1 a cuda ndarray Cuda Ndarray theano asarray numpy *shape dtype 'float32' a theano asarray numpy *shape dtype 'float32' a2 tcn constructor a 'a' a3 a2 0 'x' 1 2 f pfunc [] [ a3 + 2 ] mode mode with gpu out f [0]ans a + 2 .reshape shape 1 shape shape assert numpy out ans atol atol 
def get featured activity references featured model instance activity models Activity References Model or create activity models A C T I V I T Y REFERENCE LIST FEATURED return [activity domain Activity Reference reference reference for reference in featured model instance references 
def stub and esp32 function only func return check supported function func lambda o o I S STUB or o C H I P NAME 'ESP32'
def test read unbounded right column header table '\n#comment withblanklineabove \n \ol1 Col2 Col3 Long \ello Worlds \n'reader ascii reader Reader ascii R S T dat reader table assert equal dat -1 ] 'ol3 Long 
def get nic module cli vrouter name module vrouter name ip module interface ip VRRP E X I S T Sshow cli + 'vrouter-interface-showvrouter-name%s' % vrouter name show + 'ip%sformatip nicno % interface ip show shlex show out module command show [1]out out if len out > 3 VRRP EXISTS Truereturn Noneelse nic out V R R P EXISTS Falsereturn nic 
def find newline source assert not isinstance source unicode counter collections int for line in source if line CRLF counter C R L F + 1elif line CR counter C R + 1elif line LF counter L F + 1return sorted counter key counter reverse True or [LF] [0]
def  convert date time string dt string dt string dt string '.' [0]dt obj datetime dt string ' H M S return dt obj ' H %M %S'
def featurewise norm x mean None std None epsilon 1e-07 if mean x x - mean if std x x / std + epsilon return x 
def atlas6 Atlas graph atlas g [0 208]U nx Graph for G in Atlas zerodegree [n for n in G if G n 0 ]for n in zerodegree G node n U nx union U G C nx component subgraphs U UU nx Graph nlist []for G in C if not iso G nlist nlist G UU nx union UU G return UU
def cert generation enabled course key return Certificate Generation Configuration .enabled and Certificate Generation Course Setting enabled for course course key 
def mul expr lh op rh op size return lo Lin Op lo M U L size [rh op lh op 
def log query func def wrapper obj query string *args **kwargs start time try return func obj query string *args **kwargs finally stop time if settings D E B U G from haystack import connectionsconnections alias {u'query string query string u args args u kwargs kwargs u u % stop - start u start u stop return wrapper 
def compute readout params epi factor 1.0acc factor 1.0try if params factor > 1 epi factor float params factor - 1 except passtry if params factor > 1 acc factor 1.0 / params factor except passreturn acc factor * epi factor * params 
def  get finder import path Finder import by path import path if not issubclass Finder Base Finder raise Improperly Configured 'inder % Finder Base Finder return Finder 
def delete users users test False commit True return   salt  ['net.load template 'delete users users users test test commit commit 
@builtin u Capitalizetext ignoretags ' capitalize apply func to html text def replace capitalize ignore tags match number file name metadata dictionaries data functions *args **kwargs return apply func to html text match capitalize 
def  Generic Retrieve root default path if not root return defaultif not path return rootreturn  Generic Retrieve root path default path ]
def   Get Service Version Description protocol server port path ssl Context tree   Get Element Tree protocol server port path + 'ervice Versions ssl Context if tree is not None return treetree   Get Element Tree protocol server port path + 'ervice ssl Context return tree 
def  store option config option default type  None allowed None section 'server' if config option section option if type  'bool' value config section option elif type  'int' value config section option else value config section option else value defaultif allowed and value not in allowed raise Configuration Error "nvaluedvalue % value option setattr current app option value 
@decorators.which 'blkid' def blkid device None args ''if device args '' + device ret {}blkid result   salt  ['cmd.run all 'blkid' + args python shell False if blkid result > 0 return retfor line in blkid result if not line continuecomps line device comps -1 ]info {}device attributes re '"*"' line '' [2] for key value in zip * [iter device attributes ] * 2 key key ' ' .strip '' info value '"' ret inforeturn ret 
def verify signed by app data signature public certificates app identity public certificates for cert in public certificates if verify signature data signature cert certificate pem return Truereturn False 
def tokenize by number s r find number s if r is None return [s]else tokens []if r > 0 tokens s r tokens float s r if r < len s tokens tokenize by number s ] return tokensassert False 
def  find start entry line n infield 0if n 1 return 0c 1leng len line if line '' infield 0field 0else infield 1field 1while c < leng and field < n if infield if line '' and not line c - 1 ] '' infield 0elif not line '' infield 1field field + 1 c c + 1 return c - 1
def set Offset By Multiplier begin end multiplier offset segment end - begin delta segment * multiplier - segment offset To Vector3 offset + delta 
def rgba to hex rgba string return '#' + ''.join [hex int each .replace '0x' '' .upper for each in rgba string 'rgba ' '' .replace ' ' '' .split ' ' [ -1 ]]
def module Path try _ sys if we Are Frozen else   file   except Name Error _ inspect module Path return get Unicode os os _ encoding sys or UNICODE ENCODING
def get Files With File Types Without Words file Types words [] file In Directory '' files With File Types []for file Path in get File Paths file In Directory for file Type in file Types if is File With File Type Without Words file Type file Path words files With File Types file Path files With File Types return files With File Types 
def test with refcounts runner verbosity testcase import gcimport ctypesptc ctypes pointer type cache cfc ctypes c functype cache wfc ctypes win functype cache def cleanup ctypes pointer type cache ptc ctypes c functype cache cfc ctypes win functype cache wfc gc test unittest Suite testcase for i in range 5 rc sys runner test cleanup COUNT 5refcounts [one * COUNT for i in range COUNT rc sys runner test cleanup refcounts sys - rc if filter None refcounts print '%sleaks \n DCTB ' % testcase refcountselif verbosity print '%s ok % testcase 
def multithread request urls config None config config or Configuration num threads config threadstimeout config timeout secondspool Thread Pool num threads timeout m requests []for url in urls m requests M Request url config for req in m requests pool task req pool completion return m requests 
def  get User Name U I D user os 'USER' None or os 'USERNAME' None if not user return 'undefined' '-1' if sys not in ['win32'] uid shell Call 'id-u' else uid '1000'if have Ctypes and ctypes Is User An Admin uid '0'return str user int uid 
def additions removed name force False ret {'name' name 'changes' {} 'result' False 'comment' ''}current state   salt  ['vbox guest version if not current state ret Trueret 'ystemalreadyinthecorrectstate retif   opts  ['test'] ret 'hestateof Virtual Box Guest Additionswillbechanged {'old' current state 'new' True Nonereturn retnew state   salt  ['vbox guest remove force force ret 'hestateof Virtual Box Guest Additionswaschanged {'old' current state 'new' new state bool new state return ret 
def  policy File Replace Or Append List string list policy data if not policy data policy data 'alue Regex ' \el Del Vals {0 1}'for this string in string list list item key this string '{0};'.format chr 0 [0].lstrip '[' list item value name re special Value Regex '' this string '{0};'.format chr 0 [1] flags re I G N O R E C A S E log 'itemvaluenameis{0}'.format list item value name data to replace  regex Search Key Value Combo policy data list item key list item value name if data to replace log 'replacing{0}with{1}'.format [data to replace [this string policy data policy data data to replace this string else log 'appending{0}'.format [this string policy data ''.join [policy data this string return policy data 
def list length queue items  list items queue return len items 
def config get pattern '*' host None port None db None password None server  connect host port db password return server get pattern 
def get next double context builder state ptr a builder get next int32 context builder state ptr const int 5 b builder get next int32 context builder state ptr const int 6 a builder a double b builder b double return builder builder b builder a ir Constant double 67108864.0 ir Constant double 9007199254740992.0
def  dlog10 c e p p + 2l len str c f e + l - e + l > 1 if p > 0 M 10 ** p k e + p - f if k > 0 c * 10 ** k else c  div nearest c 10 ** - k log d  ilog c M log 10  log10 digits p log d  div nearest log d * M log 10 log tenpower f * M else log d 0log tenpower  div nearest f 10 ** - p return  div nearest log tenpower + log d 100
def get system managers only name False import email frappe import STANDARD U S E R Ssystem managers frappe u \n DCTB DCTB concat ws "" if first name "" null first name if last name "" null last name \n DCTB DCTB asfullnamefromtab Userp DCTB DCTB wheredocstatus 1\n DCTB DCTB andnamenotin {} \n DCTB DCTB andexists select User Roleur DCTB DCTB DCTB whereur p "ystem Manager \n DCTB DCTB orderbycreationdesc u '.join [u'%s'] * len STANDARD USERS STANDARD USERS as dict True if only name return [p.name for p in system managers return [email.utils.formataddr p p for p in system managers 
def libvlc media player set title p mi i title f  Cfunctions 'libvlc media player set title None or  Cfunction 'libvlc media player set title 1 1 None None Media Player ctypes int return f p mi i title 
def array to img x dim ordering 0 1 2 scale True from PIL import Imagex x dim ordering if scale x + max - np x 0 x max np x if x max ! 0 x x / x max x * 255if x 3 return Image x 'uint8' 'RGB' elif x 1 return Image x 0].astype 'uint8' 'L' else raise Exception 'nsupportedchannelnumber ' x 
def get kvm arch flags {'kvm amd 'svm' 'kvm intel 'vmx'}vendor name utils cpu vendor name if not vendor name raise error Test Error ' P U Mustbe A M D Intelor Power7 arch type 'kvm %s' % vendor name cpu flag flags arch type None if cpu flag is None and vendor name in 'power7' return arch typeif not utils has flags cpu flag raise error Test Error ' P Uarchitecturemusthave K V Mready % arch type cpu flag return arch type 
def get family families if not isinstance families list families [families]for family in families if font is installed family return familyelse print 'arning Noneofthefollowingfontsisinstalled %r' % families return Q Font .family
def get collection links request items links []try limit int request 'limit' or 0 except Value Error limit 0if limit > 0 and limit len items last item items -1 ]last item id last item {'rel' 'next' 'href'  get next link request last item id } return links 
def setup app app role 'rfc' rfclink return 
def token from http body http body for response line in http body if response line 'oken ' return response line ]return None 
def bfs edges G source reverse False if reverse and G directed successors G successors G e in generic bfs edges G source successors yield e 
def getattribute value arg if hasattr value str arg return getattr value arg elif hasattr value 'has key and value key arg return value return settings T E M P L A T E STRING IF INVALID
def token bytes nbytes None if nbytes is None nbytes DEFAULT E N T R O P Yreturn os nbytes 
def read features from file filename f loadtxt filename return f 4] f 4 ]
def popall seq for i in xrange len seq seq 
def fancify summary expr seen names name dict exprs pipe expr map Expr traverse concat filter lambda x isinstance x Reduction set one summary **dict  name expr expr for expr in exprs two dict  name expr symbol  name expr datashape * expr for expr in exprs d dict expr two name expr ] for expr in exprs three dict name value subs d for name value in zip expr expr return one two three 
def ptp a axis None a as tensor variable a out max a axis - min a axis return out 
def validipport port try assert 0 < int port < 65535 except Assertion Error Value Error return Falsereturn True 
def guess scheme environ if environ 'HTTPS' in 'yes' 'on' '1' return 'https'else return 'http'
def  function Only Implementer *interfaces def check obj 'fthedecoratedobjectisnotafunction raiseanexception not isinstance obj Function Type raise Type Error "an Useoneoftheclass return check 
def entropy image selem out None mask None shift x False shift y False return  apply scalar per pixel generic cy entropy image selem out out mask mask shift x shift x shift y shift y out dtype np 
def get preferred input encoding if hasattr locale u L C MESSAGES' return locale locale L C MESSAGES [1] or locale [1] or u return locale [1] or u 
def standard deviation input labels None index None return numpy variance input labels index 
@must be contributor or public have addon 'github' 'node' def github root folder *args **kwargs node settings kwargs addon kwargs request dict return github hgrid data node settings auth auth **data
def marquee txt '' width 78 mark '*' if not txt return mark * width [ width width - len txt - 2 // len mark // 2 if nmark < 0 nmark 0marks mark * nmark return '%s%s%s' % marks txt marks 
def  zpklp2lp z p k wo 1.0 z atleast 1d z p atleast 1d p wo float wo degree  relative degree z p z lp wo * z p lp wo * p k lp k * wo ** degree return z lp p lp k lp 
def kendall tau worder normalize True worder len len worder increasing sequences find increasing sequences worder num increasing pairs sum choose len seq 2 for seq in increasing sequences num possible pairs choose worder len 2 tau 2 * num increasing pairs / num possible pairs - 1 if normalize return tau + 1 / 2 else return tau 
def sudo network interacting from args *a **kw return retry effect with timeout sudo from args *a **kw timeout  T I M E O U T seconds 
def get package paths package file attr get module file attribute package pkg dir os file attr pkg base remove suffix pkg dir package '.' os return pkg base pkg dir 
def get placementgroup vm  return config cloud config value 'placementgroup' vm    opts   search global False 
def mod10r number codec [0 9 4 6 8 2 7 1 3 5]report 0result ''for digit in number result + digitif digit report codec int digit + report % 10 ]return result + str 10 - report % 10
def catch request request try uh urlopen request return uh False except HTTP ERRORS e get exception return None e 
@library.global function display context context include callables False if not settings D E B U G return ''keys sorted context parts ['<dt>{key}</dt><dd>{value}</dd>'.format key key value repr context for key in keys if include callables or not callable context ]html '<dlclass "jinja-context">{parts}</dl>'.format parts ''.join parts return Markup html 
@login required view master viewdef pay status request addon contrib uuid qs Contribution uuid contrib uuid addon  addonpurchase  user request type mkt C O N T R I B PURCHASE return {'status' 'complete' if qs else 'incomplete' }
def call unrar params custom path None global rar executable cachedif rar executable cached is None for command in custom path 'unrar' 'rar' osx unrar if not command continuetry subprocess Popen [command] stdout subprocess P I P E rar executable cached commandbreakexcept O S Error passif rar executable cached is None raise Unpacker Not Installed 'osuitable R A Runpackerinstalled assert type params list 'paramsmustbelist'args [rar executable cached + params try gc return subprocess Popen args stdout subprocess P I P E stderr subprocess P I P E finally gc 
def test triadic census G nx Di Graph G edges from ['01' '02' '03' '04' '05' '12' '16' '51' '56' '65'] expected {'030T' 2 '120C' 1 '210' 0 '120U' 0 '012' 9 '102' 3 '021U' 0 '111U' 0 '003' 8 '030C' 0 '021D' 9 '201' 0 '111D' 1 '300' 0 '120D' 0 '021C' 2}actual nx census G assert equal expected actual 
def  fs to tree path fs path fs encoding None if fs encoding is None fs encoding sys if not isinstance fs path bytes fs path bytes fs path fs encoding else fs path bytes fs pathif os sep bytes ! '/' tree path fs path bytes os sep bytes '/' else tree path fs path bytesreturn tree path 
def gf to dict f p symmetric True n result gf degree f {} for k in range 0 n + 1 if symmetric a gf int f n - k ] p else a f n - k ]if a result areturn result 
def  fast traverse self cls result []if isinstance self cls result self for child in self result child fast traverse cls return result 
def show version queue a device output q output dict {}creds a device conn Connect Handler device type a device type ip a device address username creds password creds port a device secret '' verbose False output '#' * 80 + '\n' output + remote conn command expect 'showversion' + '\n' output + '#' * 80 + '\n' output dict device name outputoutput q output dict 
def never cache view func def  wrapped view func request *args **kwargs response view func request *args **kwargs add never cache headers response return responsereturn  wrapped view func 
def derive by array expr dx from sympy import Matrix Basearray types collections Iterable Matrix Base N Dim Array if isinstance dx array types dx Immutable Dense N Dim Array dx for i in dx if not i diff wrt raise Value Error 'cannotderivebythisarray' if isinstance expr array types expr Immutable Dense N Dim Array expr if isinstance dx array types new array [[y.diff x for y in expr for x in dx type expr new array dx + expr else return expr dx elif isinstance dx array types return Immutable Dense N Dim Array [expr.diff i for i in dx dx else return diff expr dx 
def autoload Model extract key inject key func @functools.wraps func def wrapper *args **kwargs primary key kwargs extract key instance get or http error Model primary key kwargs key instancereturn func *args **kwargs return wrapper 
def List Hunt Approvals context None items context Send Iterator Request 'ist Hunt Approvals api pb2 Api List Hunt Approvals Args def Map Hunt Approval data return Hunt Approval data data username context context context return utils Map Items Iterator Map Hunt Approval items 
def gammamomentcond2 distfn params mom2 quantile None alpha scale paramsmom2s distfn alpha 0.0 scale return np mom2 - mom2s 
def ifacestartswith cidr net list interfaces intfnames []pattern str cidr size len pattern for ifname ifval in six net list if 'inet' in ifval for inet in ifval if inet size pattern if 'label' in inet intfnames inet else intfnames ifname return intfnames 
def fuzzy equal a str b str threshold 0.6 return relative distance boolean a str b str threshold 
def get Maximum By Vector3 Path path maximum Vector3 -9.876543219876543e+17 -9.876543219876543e+17 -9.876543219876543e+17 for point in path maximum point return maximum 
def get server status server status {}concerns Falsedisk treshold int settings value 'SERVER' 'logs disk usage treshold default '80' used space logs  get logs used space if used space logs > disk treshold concerns Trueserver status space logs used space logsscheduler running  process running 'autotest-scheduler' if not scheduler running concerns Trueserver status running scheduler runningwatcher running  process running 'autotest-scheduler-watcher' if not watcher running concerns Trueserver status watcher running watcher runningif settings value 'INSTALL SERVER' 'xmlrpc url default '' install server running get install server profiles is not None if not install server running concerns Trueelse install server running Falseserver status server running install server runningserver status concernsreturn server status 
def expand mul expr deep True return sympify expr .expand deep deep mul True power exp False power base False basic False multinomial False log False 
def recreq table s3db recreqtable id s3 logged in person def prep r if r and not r table Falsetable Falsetable recovered Falsetable recovered Falsereturn Trues3 prepoutput s3 rest controller return output 
def  Make Welcome Properties web xml static files static welcome files []for welcome file in web xml files if any f '/' + welcome file for f in static files static welcome files welcome file welcome value tuple static welcome files or None return {'welcome' welcome value 
def ask for credentials api Mobileclient logged in Falseattempts 0while not logged in and attempts < 3 email input u Email ' password getpass logged in api email password Mobileclient F R O M MAC ADDRESS attempts + 1return api 
@mark.skipif not hasattr zmq ' libzmq reason 'bundledlibzmq' def test has curve assert zmq 'curve'
@webapp file view tokendef serve request viewer key files viewer files obj files key if not obj log u Couldn %dentries forfile % key files [ 10] len files viewer raise http Http404 return get file response request obj content type obj 
@login required required viewdef watch request username slug collection get collection request username slug d dict user request collection collection qs Collection Watcher cache .using 'default' .filter **d watching not qs if qs qs else Collection Watcher **d if request ajax return {'watching' watching return http Http Response Redirect collection url path 
@require G E Tdef contributors detail request readout slug product  get product request return  kb detail request readout slug CONTRIBUTOR READOUTS 'dashboards.contributors' _ 'nowledge Base Dashboard locale settings W I K I DEFAULT LANGUAGE product product 
def add func stats target source cc nc tt ct callers source t cc t nc t tt t ct t callers targetreturn cc + t cc nc + t nc tt + t tt ct + t ct add callers t callers callers 
def get utc now iso False now datetime .replace tzinfo iso8601 U T C if iso return datetime tuple to iso now else return now 
def  ensure running name no start False path None  ensure exists name path path pre state name path path if pre 'running' return start name path path elif pre 'stopped' if no start raise Command Execution Error "ontainer name return start name path path elif pre 'frozen' if no start raise Command Execution Error "ontainer name return unfreeze name path path 
def inplace relu derivative Z delta delta Z 0 ] 0
@memoizeddef get Color value default None if isinstance value Color return valuevalue str value .strip .lower if value 'transparent' or value 'none' return defaultif value in COLOR BY NAME return COLOR BY N A M E value '#' and len value 4 value '#' + value + value + value + value + value + value elif rgb re value r g b [int x for x in rgb re value .groups ]value '#%02x%02x%02x' % r g b else passreturn to Color value default 
def teardown container container dir container root device None try img  Disk Image image None mount dir container dir img if container root device if 'loop' in container root device L O G 'eleaseloopdevice container root device utils 'losetup' '--detach' container root device run as root True attempts 3 elif 'nbd' in container root device L O G 'eleasenbddevice container root device utils 'qemu-nbd' '-d' container root device run as root True else L O G 'oreleasenecessaryforblockdevice container root device except Exception L O G  LE 'ailedtoteardowncontainerfilesystem 
def safe scan path python myself os os os   file   'pybinary.py' proc Timed Popen cmd '%s%s%s' % python myself path env dict PYTHONPATH os sys out err proc if err raise Binary Scan Error err return out 
def  check meg type meg allow auto False if isinstance meg string types allowed types ['grad' 'mag' 'planar1' 'planar2']allowed types + ['auto'] if allow auto else [] if meg not in allowed types raise Value Error 'megvaluemustbeoneof%sorbool not % allowed types meg 
def getifaddrs libc ctypes C D L L ctypes library 'c' getifaddrs libc ctypes intgetifaddrs [ O I N T E R ctypes P O I N T E R struct ifaddrs ]freeifaddrs libc Nonefreeifaddrs [ O I N T E R struct ifaddrs ]ifaptr ctypes P O I N T E R struct ifaddrs result getifaddrs ctypes ifaptr if result -1 raise O S Error ctypes errno del resulttry ifas []while ifaptr ifac ifaptr {'name' ifac name 'flags' ifac flags ifac addr ifa ifa sockaddr fixup ifac addr else ifa ifa None None if ifac netmask _ ifa sockaddr fixup ifac netmask else ifa Noneifas ifa ifaptr ifac nextreturn ifasfinally freeifaddrs ifaptr 
def uninstall flocker nodes return  run on all nodes nodes task lambda node task uninstall flocker node 
def get exploration by id exploration id strict True version None exploration memcache key  get exploration memcache key exploration id version version memcached exploration memcache services multi [exploration memcache key .get exploration memcache key if memcached exploration is not None return memcached explorationelse exploration model exp models Exploration Model exploration id strict strict version version if exploration model exploration get exploration from model exploration model memcache services multi {exploration memcache key exploration return explorationelse return None 
def write sff header header fh num None lines [ommon Header ']if num is not None header Flows numlines [ '%s DCTB %s' % param header for param in header fh '\n'.join lines + '\n\n'
def versiontuple v return tuple int x for x in v '.'
def  set Request From File if not conf File returnadded Target Urls set conf File safe Expand User conf File info Msg " T T Prequestfrom % conf File logger info Msg if not os conf File err Msg ' T T Prequestfile Msg + 'doesnotexist'raise Sqlmap File Path Exception err Msg  feed Targets Dict conf File added Target Urls 
def   last error namespace args cmd SON [ 'getlasterror' 1 ] cmd args splitns namespace '.' 1 return query 0 splitns + '.$cmd' 0 -1 cmd None DEFAULT CODEC OPTIONS
def dump privatekey type pkey cipher None passphrase None bio  new mem buf if cipher is not None if passphrase is None raise Type Error 'ifavalueisgivenforcipheronemustalsobegivenforpassphrase' cipher obj  lib E V P get cipherbyname  byte string cipher if cipher obj  ffi N U L L raise Value Error 'nvalidciphername else cipher obj  ffi N U L Lhelper  Passphrase Helper type passphrase if type FILETYPE PEM result code  lib P E M write bio Private Key bio pkey pkey cipher obj  ffi N U L L 0 helper helper args helper if problem elif type FILETYPE ASN1 result code  lib Private Key bio bio pkey pkey elif type FILETYPE TEXT rsa  ffi  lib E V P PKEY get1 RSA pkey pkey  lib R S A free result code  lib R S A print bio rsa 0 else raise Value Error ' I L E T Y P E PEM FILETYPE ASN1 or F I L E T Y P E TEXT'  openssl assert result code ! 0 return  bio to string bio 
def decipher rsa i key n d keyreturn pow i d n 
def test hash evoked ave read evokeds fname 0 ave 2 read evokeds fname 0 assert equal hash ave hash ave 2 assert true pickle ave pickle ave 2 ave 2.data[ 0 0 ] - 1assert not equal hash ave hash ave 2
def parse tmp to final filepath map file lines infiles lists []out filepaths []for line in lines fields line infiles lists fields -1 ] out filepaths fields -1 ] return infiles lists out filepaths 
def delete mount target mounttargetid keyid None key None profile None region None **kwargs client  get conn key key keyid keyid profile profile region region client mount target Mount Target Id mounttargetid 
def  check all conf groups present config environment excludes 'global overrides 'cidr networks 'used ips config groups [k for k in config if k not in excludes ]env groups environment skel retval Truefor group in config groups if group not in env groups msg 'roup group warnings msg retval Falsereturn retval 
def parse addon pkg addon None return Web App Parser .parse pkg 
def symlink list saltenv 'base' backend None fileserver salt Fileserver   opts   load {'saltenv' saltenv 'fsbackend' backend fileserver list load load 
def s3 url represent url if not url return ''return A url  href url  target ' blank 
def texture im im im np return mh im .ravel
def get calltip project source code offset resource None maxfixes 1 ignore unknown False remove self False fixer fixsyntax Fix Syntax project source code resource maxfixes pyname fixer at offset if pyname is None return Nonepyobject pyname object return Py Doc Extractor .get calltip pyobject ignore unknown remove self 
def  merge results x y return dict s dict x s {} .items + y s {} .items for s in set x + y 
def set mysql collation for column apps cursor model column collation schema if not hasattr cursor 'mysql version returndb name cursor connection params ['db']table name apps model model . meta tablecursor "SELECTCOLLATION N A M E F R O M schema W H E R E T A B L E SCHEMA ' N D T A B L E NAME ' N D C O L U M N NAME '%s';" % db name table name column current collation cursor [0]if current collation ! collation cursor ' L T E R T A B L E M O D I F Y C H A R A C T E R S E Tutf8 C O L L A T E N O T N U L L % db name table name column schema collation 
def add Positive Peg derivation positives x y positive Peg Radius derivation Radius Arealized - derivation Peg Clearance radius Arealized complex positive Peg Radius positive Peg Radius copy Shallow derivation Node Copy Shallow start Vector3 x y derivation end Z derivation Peg Output derivation Bevel end Z positives radius Arealized derivation start derivation Over Bottom 
def element has text page css selector text text present Falsetext list page css css selector .textif len text list > 0 and text in text list text present Truereturn text present 
def build ssl validation error hostname port paths exc None msg [ailedtovalidatethe S S Lcertificatefor %akesureyourmanagedsystemshaveavalid C Acertificateinstalled not HAS SSLCONTEXT msg 'fthewebsiteservingtheurluses S N Iyouneedpython 2.7.9onyourmanagedmachine' if not HAS URLLIB3 SNI SUPPORT msg 'oryoucaninstallthe`urllib3` `pyopenssl` `ndg-httpsclient` and msg ' N Iverificationinpython 2.6.' msg 'oucanusevalidate certs Falseifyoudonotneedtoconfirmtheserversidentitybutthisisunsafeandnotrecommended Pathscheckedforthisplatform %s.' if exc msg 'heexceptionmsgwas %s.' % to native exc raise S S L Validation Error ''.join msg % hostname port ' '.join paths 
def check policy enforce logical line filename msg 'N351 nova E N F O R C E R shouldnotbeused Usetheauthorize methodinstead policy enforce re logical line yield 0 msg 
def configured backend configured cfg C O N F is not None mock backend backend configured and cfg C O N F 'zake' or cfg C O N F 'file' return backend configured and not mock backend 
def  solve compute return b bcpy raise Not Implemented Error 
def hex Without Quotes l return str [hex i for i in l .replace "'" ''
def count lines filename non empty False try if non empty out subprocess Popen ['grep' '-cve' '^\\s*$' filename stdout subprocess P I P E else out subprocess Popen ['wc' '-l' filename stdout subprocess P I P E return int out [0].split [0] except passreturn 0
def post container url token container headers http conn None response dict None service token None if http conn parsed conn http connelse parsed conn http connection url path '%s/%s' % parsed quote container method ' O S T X Auth Token tokenif service token headers X Service Token service tokenif 'content-length' not in k for k in headers headers Content Length '0'conn.request method path '' headers resp conn body resp http log '%s%s' % url parsed '' path method {'headers' headers resp body store response resp response dict if resp < 200 or resp > 300 raise Client Exception response resp 'ontainer P O S Tfailed body 
def report error error exc info request None extra data None level None if HAS ROLLBAR and hasattr settings u R O L L B A R rollbar exc info exc info request extra data extra data level level L O G G E R u Handledexception %s' error  class  .  name   force text error .encode u if sys 2] [u'test'] traceback exc 
def decode rfc2231 s parts s TICK 2 if len parts < 2 return None None s return parts 
def map project slug view func @wraps view func def inner view request project None project slug None *args **kwargs if project is None if not project slug project slug request project Project slug project slug except Project Does Not Exist raise Http404 'rojectdoesnotexist return view func request project project *args **kwargs return inner view 
def  has fulfilled prerequisites user course id return Milestone Error if get pre requisite courses not completed user course id else ACCESS GRANTED
def has access api f if hasattr f ' permission name permission str f permission nameelse permission str f  name  def wraps self *args **kwargs permission str PERMISSION PREFIX + f permission name if self access permission str self  class  .  name   return f self *args **kwargs else log LOGMSG ERR SEC ACCESS D E N I E D permission str self  class  .  name   response make response jsonify {'message' str FLAMSG ERR SEC ACCESS DENIED 'severity' 'danger'} 401 response Content Type 'application/json'return responsereturn redirect url for self view  class  .  name   + '.login' f permission name permission strreturn functools wrapper wraps f 
def show tenant status result  query action 'tenants' command 'current' return result 
def  add batch axis var new var new var tensor padleft var new var 'shape padleft {} '.format var return new var 
def test cnn sample wrong X cnn Condensed Nearest Neighbour random state RND SEED cnn X Y assert raises Runtime Error cnn np 100 40 np [0] * 50 + [1] * 50
def read preprocessed data out fp '/tmp/' seqs dict [ a ' ' [0] b for a b in parse fasta open out fp + '/prefix dereplicated ] mapping read denoiser mapping open out fp + '/prefix mapping return out fp + '/prefix dereplicated len mapping mapping seqs 
def is response to head response method response methodif isinstance method int return method 3 return method 'HEAD'
@treeio login required response formatdef source add request response format 'html' if not request admin 'treeio.sales' return user denied request message "oudon Salesmodule if request P O S T if 'cancel' not in request P O S T source Sale Source form Sale Source Form request request P O S T instance source if form valid source form source user from request request return Http Response Redirect reverse 'sales source view args [source.id] else return Http Response Redirect reverse 'sales settings view else form Sale Source Form request all products Object by request request Product parent  isnull True all sources Object by request request Sale Source return render to response 'sales/source add {'form' form 'sources' all sources 'products' all products context instance Request Context request response format response format 
def decode entities html def decode m html m 0 if html 2] u try if html 3] u return chr int html -1 ] 16 else return chr int html -1 ] except Value Error passelse try html chr name2codepoint -1 ]] except Key Error passreturn htmlreturn re u decode html u u 
def  assert reorder cov new cov orig order inv order np order assert array equal [cov new for ii in inv order cov orig assert allclose cov new order inv order cov orig atol 1e-20
def Resolve Namespace namespace if namespace is None namespace namespace manager namespace else namespace manager namespace namespace datastore errors Bad Argument Error return namespace 
def extract request response None ids []cookie name settings O S C A R RECENTLY VIEWED COOKIE N A M Eif cookie name in request C O O K I E S try ids json request C O O K I E S name except Value Error if response response cookie cookie name else if not isinstance ids list ids []return ids 
def test multicolumn write col1 [1 2 3]col2 [ 1.0 1.0 2.0 2.0 3.0 3.0 ]col3 [ 'a' 'a' 'a' 'b' 'b' 'b' 'c' 'c' 'c' ]table Table [col1 col2 col3 names 'C1' 'C2' 'C3' expected '<html>\n<head>\n<metacharset "utf-8"/>\n<metacontent "text/html;charset U T F "ontent C1 "2 "3 html H T M L .write table [0].strip assert out expected 
def test not equal x labels line Line line 'test1' range 100 line label -1 line labels map str range 11 q line pyquery assert len q '.dots' 100 assert len q '.axis.x' 1 assert q '.axis.xtext' .map texts ['0' '1' '2' '3' '4' '5' '6' '7' '8' '9' '10']
def  set result unless cancelled fut result if fut returnfut result result 
def  explode shorthand ip string ip str if not  is shorthand ip ip str return ip strnew ip []hextet ip str ' ' if '.' in ip str ' ' [ -1 ] fill to 7else fill to 8if len hextet > 1 sep len hextet ' ' + len hextet ' ' new ip hextet ' ' for __ in range fill to - sep new ip '0000' new ip + hextet ' ' else new ip ip str ' ' ret ip []for hextet in new ip ret ip '0' * 4 - len hextet + hextet .lower return ' '.join ret ip 
def get account by name account name account Account Account account name .first manager class account registry account type account manager class . load account db account return account 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
@ F F I u U T F8 Buffer Extern Context Value ' def extern val to str context handle val c  F F I handle context handle return c buf str c value val 
def host format s host None name None **extra host host or gethostname hname _ domain host u name name or hname keys dict {u'h' host u name u domain u  fmt process index u I  fmt process index with prefix **extra return simple format s keys 
def test rfc822 format stub message from raw api client mime message full path '/messages/{}'.format stub message from raw id resp api client raw full path headers {ccept 'message/rfc822'} assert resp get from blockstore stub message from raw sha256 
def default feedback url return 'http //groups.google.com/a/cloudera.org/group/hue-user'
def add pseudo pupy module if not 'pupy' in sys mod imp module 'pupy' mod  name   'pupy'mod.  file   '<memimport>\\\\pupy'mod.  package   'pupy'sys.modules['pupy'] modmod True 
@testing.requires testing data nibabel def test add htmls to section report Report info fname raw fname subject 'sample' subjects dir subjects dir html ' N E Pythonis A W E S O M E caption section 'html' 'html section report htmls to section html caption section idx report sectionlabels 'report ' + section html compare report true html in html compare assert true repr report 
def decrypt stream mode in stream out stream block size BLOCK SIZE padding PADDING DEFAULT decrypter Decrypter mode padding padding  feed stream decrypter in stream out stream block size 
def brain to mpl brain tmp path op op op 'my tmp brain imageset tmp path views ['ven'] im imread tmp path + ' ven os tmp path + ' ven return im 
def get repository and repository dependencies from repo info dict app repo info dict repository name list repo info dict [0]repo info tuple repo info dict name description repository clone url changeset revision ctx rev repository owner repository dependencies tool dependencies get repo info tuple contents repo info tuple if hasattr app 'install model tool shed get tool shed from clone url repository clone url repository get repository for dependency relationship app tool shed repository name repository owner changeset revision else repository get repository by name and owner app repository name repository owner return repository repository dependencies 
def sge debug print message logger DEBUGGING PREFIX + u + u !' * 3 + u + message 
@core helperdef url for static *args **kw if args url urlparse args url is external url ! '' or url ! '' if url is external Ckan Url Exception ckan Ckan Url Exceptionraise Ckan Url Exception 'xternal U R Lpassedtourl for static ' return url for static or external *args **kw
def local plugins if not os resources P L U G I N S DESCRIPTOR return []plugins json manager json resources P L U G I N S DESCRIPTOR return plugins 
def extend image size virt size get disk size image if virt size > size returnutils 'qemu-img' 'resize' image size resize2fs image 
def  nvp dump data def escape k v return '%s %s' % k urlquote v out []for k v in sorted data if isinstance v list tuple out [escape '%s %s ' % k x v  for x v  in enumerate v ] else out escape k v return '&'.join out 
def numpy cupy array equal err msg '' verbose True name 'xp' type check True accept error False def check func x y array array equal x y err msg verbose return  make decorator check func name type check accept error 
def get client options session *args **kwargs client options session get True 
def messages path module path os   file   return os os module path 'messages'
def next run return default scheduler run 
def no os popen logical line if 'os.popen ' in logical line yield 0 '348 Deprecatedlibraryfunctionos .eplaceitusingsubprocessmodule 
def  safe reshape arr new shape if isinstance arr A B C Series arr arr valuesif not isinstance arr Categorical arr arr new shape return arr 
def slugify iarc name obj return obj name .replace '' '-'
def  simpleprint styles  styles return u u map u sorted  styles 
def retry jenkins session url params print 'etrying url if params jenkins session url + 'ith Parameters data params else jenkins session url + '/build'
@with devicedef which name which cmd ' F S \ I N A R Y % $PATH \ B I N A R Y B I N A R Y % name which cmd which cmd return process ['sh' '-c' which cmd .recvall .strip
def choice in choices ignore case False if ignore case choice set frozenset e if isinstance e basestring else e for e in choices else choice set frozenset choices def validator value if not isinstance value collections Hashable raise Validation Error 'ustspecifyasinglechoice if ignore case and isinstance value basestring value value if value in choice set return Trueelse raise Validation Value Error 'aluemustbeoneoftheseoptions {}'.format choices return validator 
def get Int value return int value 
def network size value options None version None ipaddr filter out  filter ipaddr value options options version version if not ipaddr filter out returnif not isinstance value list tuple types Generator Type return  network size ipaddr filter out return [ network size ip a for ip a in ipaddr filter out 
def  get format datetime64 from values values date format is dates only  is dates only values if is dates only return date format or ' return date format 
def get feedback form context request context {}context['subject'] request P O S T request P O S T dict [ tag request P O S T for tag in ['issue type 'course id if request P O S T tag ] context info {}if request authenticated context request request info request context request P O S T request P O S T header pretty in [ 'HTTP REFERER' 'age 'HTTP USER AGENT' 'rowser 'REMOTE ADDR' 'lient I P 'SERVER NAME' 'ost ] context info request M E T A header context email configuration helpers value 'email from address settings D E F A U L T FROM EMAIL return context 
def safe truncate value length b value encodeutils encode value [ length ok Falsewhile not decode ok try u value encodeutils decode b value decode ok Trueexcept Unicode Decode Error b value b value -1 ]return u value 
def stats quantile data q sx sorted data def get quantile q1 pos len sx - 1 * q1 if abs pos - int pos - 0.5 < 0.1 return sx pos ] + sx int pos + 1 ] * 0.5 else return sx pos + 0.5 ]if hasattr q '  iter  ' return tuple [get quantile qi for qi in q else return get quantile q 
def  find identity pool ids name pool id conn ids []if pool id is None for pools in salt call conn identity pools marker flag 'ext Token marker arg 'ext Token Max Results 25 for pool in pools Identity Pools if pool Identity Pool Name name ids pool Identity Pool Id else ids pool id return ids 
def rounded num precision 0 precision cint precision multiplier 10 ** precision num round num * multiplier if precision else num 8 floor math num decimal part num - floor if not precision and decimal part 0.5 num floor if floor % 2 0 else floor + 1 else num round num return num / multiplier if precision else num 
def jwt response payload handler token user None request None return {'user' get username user 'token' token 
def image comparison expect rms im1 im2 tol expect rms im1 os baseline dir im1 im2 src os baseline dir im2 im2 os result dir im2 shutil im2 src im2 results compare images im1 im2 tol tol in decorator True if expect rms is None assert equal None results else assert results is not None assert almost equal expect rms results decimal 4
def  get flavor image meta key flavor image meta flavor key ' '.join ['hw' key image key ' '.join ['hw' key flavor policy flavor 'extra specs {} .get flavor key image policy image meta image key return flavor policy image policy 
def Find Next Multi Line Comment End lines lineix while lineix < len lines if lines .endswith '*/' return lineixlineix + 1return len lines 
def remove vdir name site app '/' ret {'name' name 'changes' {} 'comment' str 'result' None vdirs   salt  ['win iis vdirs site app if name not in current vdirs ret 'irtualdirectoryhasalreadybeenremoved {0}'.format name ret Trueelif   opts  ['test'] ret 'irtualdirectorywillberemoved {0}'.format name ret {'old' name 'new' None ret 'emovedvirtualdirectory {0}'.format name ret {'old' name 'new' None   salt  ['win iis vdir name site app return ret 
def  get run by other worker worker task sets  get external workers worker .values return functools lambda a b a | b task sets set 
def make pdf to png converter tools available []try check output [str u u stderr subprocess S T D O U T tools available u except pass gs ver mpl ghostscript if gs tools available u if u in tools available def cairo convert pdffile pngfile dpi cmd [str u u u u % dpi pdffile os pngfile [0]]check output cmd shell True stderr subprocess S T D O U T return cairo convertelif u in tools available def gs convert pdffile pngfile dpi cmd [str gs u Q U I E T u S A F E R u B A T C H u N O P A U S E u N O P R O M P T u D E V I C E png16m u Use C I E Color u Text Alpha Bits 4' u Graphics Alpha Bits 4' u D O I N T E R P O L A T E u Output File %s' % pngfile u % dpi pdffile output cmd stderr subprocess S T D O U T return gs convertelse raise Runtime Error u Nosuitablepdftopngrendererfound 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def do mark safe value return Markup value 
def  merge element contents el parent el text el or '' if el if not len el text + el el -1 ].tail el -1 ].tail + el el -1 ].tail el parent el if text if index 0 previous Noneelse previous parent index - 1 ]if previous is None if parent parent + textelse parent textelif previous previous + textelse previous textparent index + 1 ] el 
def do File filename linkrel ext url templ options {} outfile Generator get Output File Name doc parse File And Report filename cloned Node templ Node 1 munge doc cloned Node linkrel os filename filename ext url options outfile Generator new Filename outfile Generator filename ext  write Document new Filename cloned Node 
def get Cubic Point along begin control Points end segment Begin get Quadratic Point along begin control Points control Points segment End get Quadratic Point along control Points control Points end return 1.0 - along * segment Begin + along * segment End 
def make Builder options if options return Expat Builder N S options else return Expat Builder options 
def  unique list seq seen set return [x for x in seq if x not in seen and not seen x ]
def get size start path total size 0for dirpath __ filenames in os start path for f in filenames fp os dirpath f total size + os fp return total size 
def cpu seconds to megacycles cpu secs return int cpu secs * MCYCLES PER SECOND
def  build cmdtuple path cmdtuples for f in os path real f os path f if os real f and not os real f  build cmdtuple real f cmdtuples else cmdtuples os real f cmdtuples os path 
def sitemonitor registry xml parent data mon X M L Sub Element xml parent 'ite Monitor Recorder if data 'sites' sites X M L Sub Element mon 'ites for siteurl in data 'sites' site X M L Sub Element sites 'ite X M L Sub Element site 'rl .text siteurl 
def release data key state delete True if key in state data assert not state data del state data key if delete del state 
def querydict to multidict query dict wrap None wrap wrap or lambda val val return Multi Dict chain iterable izip repeat key wrap v for v in vals for key vals in query dict 
def supply item rheader r if r 'html' item r item T current Ttabs [ T 'dit Details None T 'acks 'item pack T 'lternative Items 'item alt T 'n Inventories 'inv item T 'equested 'req item T 'n Catalogs 'catalog item ]if item True tabs T 'it Items 'kit item rheader tabs s3 rheader tabs r tabs table r DIV TABLE TR TH '%s ' % table item TR TH '%s ' % table id table id item id TR TH '%s ' % table item or current N O N E rheader tabs return rheaderreturn None 
def connect to cloud databases region None return  create client ep name 'database' region region 
def login wrapper request template name 'registration/login.html' redirect field name REDIRECT FIELD NAME authentication form Extended Auth Form current app None extra context None view app Pool app index 'account login request view filter None view if view return view extra context is None extra context {}extra context {'sw login version get sw login version 'sw name get sw name } if not models Users root password authentication form forms New Password Formextra context {'reset password True response login request template name 'registration/login.html' redirect field name redirect field name authentication form authentication form current app current app extra context extra context if response code in 301 302 and response headers 'location' '' '' [1] in reverse 'system reboot reverse 'system shutdown reverse 'account logout response headers 'ocation '/' elif request authenticated return Http Response Redirect '/' return response 
def net Parse ipstr prefix Len 0if '/' in ipstr ip pf ipstr '/' prefix Len int pf else ip ipstrprefix Len 24return ip Parse ip prefix Len 
def solo name **kwargs return  run name 'chef.solo' kwargs 
def Hex Bin xs ys **options options  Underride options cmap matplotlib Blues pyplot xs ys **options
def test gmail missing sent constants monkeypatch folder base [ 'as No Children '/' u I N B O X 'oselect 'as Children '/' u Gmail 'as No Children 'll '/' u Gmail All Mail 'as No Children 'rafts '/' u Gmail Drafts 'as No Children 'mportant '/' u Gmail Important 'as No Children 'unk '/' u Gmail Spam 'lagged 'as No Children '/' u Gmail Starred 'as No Children 'rash '/' u Gmail Trash 'as No Children '/' u ]check missing generic 'sent' folder base localized folder names 'gmail' constants monkeypatch 
def lcm2 a b return a * b // gcd a b 
def get vswitch for vlan interface session vlan interface cluster None host mor vm util host ref session cluster vswitches ret session call method vim util 'get dynamic property host mor 'ost System 'config.network.vswitch' if not vswitches ret returnvswitches vswitches ret Host Virtual Switchfor elem in vswitches try for nic elem in elem if str nic elem .split '-' [ -1 ].find vlan interface ! -1 return elem Attribute Error pass 
def search pattern string flags 0 pos None endpos None partial False concurrent None **kwargs return  compile pattern flags kwargs .search string pos endpos concurrent partial 
@not implemented for 'undirected' @not implemented for 'multigraph' def tournament matrix G A nx matrix G return A - A.T
def download data filename merge java application oldrecords []oldfile Noneif merge try oldfile open filename 'rb' except I O Error logging 'ofiletomerge Creatingnewfile filename if oldfile logging 'ergingwithexistingfile filename oldrecords loader Unpickle From File oldfile oldfile if oldrecords last timestamp oldrecords timestamp milliseconds records loader From Memcache filter timestamp last timestamp java application java application else records loader From Memcache java application java application merged records records + oldrecords try outfile open filename 'wb' except I O Error logging 'annotopen filename returnloader Pickle To File merged records outfile outfile 
def censor non alphanum s def censor ch if ch > 'A' and ch < 'z' or ch > '0' and ch < '9' return chreturn '*'return ''.join censor ch for ch in s 
def person tag descriptions for tag text person tag text return person tag descriptions for keyword tag text 
def scp to remote host port username password local path remote path limit '' log filename None timeout 600 interface None if limit limit '-l%s' % limit if host and host .startswith 'fe80' if not interface raise S C P Error 'henusingipv6linklocaladdressmustassign 'theinterfacetheneighbourattache' host '%s%%%s' % host interface command 'ser Known Hosts File /referred Authentications password P %s' % limit port local path username host remote path password list []password list password return remote scp command password list log filename timeout 
def  json game player stats game data players Ordered Dict for team in 'home' 'away' for category in nflgame if category not in data continuefor pid raw in data stats {}for k v in raw if k 'name' continuestats '%s %s' % category k ] vif pid not in players home team 'home' if home team name game team name game nflgame Game Player Stats pid raw home team name players add stats stats return players 
def pi hex digits n prec 14 n prec as int n as int prec if n < 0 raise Value Error 'ncannotbenegative' if prec 0 return ''n - 1a [4 2 1 1]j [1 4 5 6]D  dn n prec x + a *  series j n prec - a *  series j n prec - a *  series j n prec - a *  series j n prec & 16 ** D - 1 s '%0' + '%ix' % prec % x // 16 ** D - prec return s 
def semiflatten multi if multi result multi dict flat False for k v in result if len v 1 result v resultelse return multi 
def desargues graph create using None G LCF graph 20 [5 -5 9 -9 ] 5 create using G 'esargues Graph G
def libvlc audio output device list get p instance aout f  Cfunctions 'libvlc audio output device list get None or  Cfunction 'libvlc audio output device list get 1 1 None ctypes P O I N T E R Audio Output Device Instance ctypes char p return f p instance aout 
def longest ones x return longest contiguous ones x 
def max abs diff a1 a2 return np np a1 - a2 
def get search rank from exp summary exp summary rating weightings {'1' -5 '2' -2 '3' 2 '4' 5 '5' 10}rank  DEFAULT RANK +  STATUS PUBLICIZED BONUS if exp summary rights manager A C T I V I T Y STATUS PUBLICIZED else 0 if exp summary for rating value in exp summary rank + exp summary value * rating weightings value return max rank 0
def extract capabilities text if not '\x00' in text return text [] text capabilities text .split '\x00' return text capabilities .split ''
def get prior import or install required dict app tsr ids repo info dicts prior import or install required dict {}for tsr id in tsr ids prior import or install required dict id []for repo info dict in repo info dicts repository repository dependencies get repository and repository dependencies from repo info dict app repo info dict if repository encoded repository id app id repository if encoded repository id in tsr ids prior import or install ids get repository ids requiring prior import or install app tsr ids repository dependencies prior import or install required dict repository id prior import or install idsreturn prior import or install required dict 
def p start t pass 
def main if len sys > 1 write Output ''.join sys ] else settings Main Loop From Constructor get New Repository 
def choose best location locations **kwargs locations get ordered locations locations **kwargs if locations return locations return None 
def  add epytext field obj field message indent ''if obj  doc   obj  doc   obj  doc  .rstrip + '\n\n' indents re ' ?< \\n []+ ?!\\s ' obj  doc  .expandtabs if indents indent min indents else obj  doc   ''obj.  doc   + textwrap '@%s %s' % field message initial indent indent subsequent indent indent + ''
def build volume from volume from spec if isinstance volume from spec Service containers volume from spec stopped True if not containers return u {}'.format volume from spec container .id volume from spec container containers u {}'.format container volume from spec elif isinstance volume from spec Container return u {}'.format volume from spec volume from spec 
def Group By items key key map {}try item iter iter items except Type Error item iter [items]for item in item iter key id key item key map key id [] .append item return key map 
def  ensure encodeable value try json value except Value Error Type Error return repr value return value 
def complete rmdir prefix line start end ctx if start ! 0 and line '' [0] 'rmdir' opts {i for i in complete from man '-' 'rmdir-' 6 7 ctx if i prefix } comps lp complete dir prefix line start end ctx True return comps | opts lp return set 
def  escape argspec obj iterable for key value in iterable if hasattr value '  html  ' or isinstance value basestring obj escape value return obj 
def  set Warning Registry To None modules for v in list modules if v is not None try v  warningregistry   Noneexcept pass 
def get user count db db entry points ENTRY POINTS count list []percent list []tags entry points tags 'osf' total db {} .count for entry point in entry points count db {'system tags entry point .count percent round float count / float total 2 count list count percent list percent osf count total - sum count list osf percent 1 - sum percent list count list osf count percent list osf percent sorted index get sorted index count list count list [count list for i in sorted index list [percent list for i in sorted index [tags[i] for i in sorted index {'tags' tags 'count' count list 'percent' percent list 'total' total 
@image comparison baseline images [vent Collection plot  set linestyle def test  Event Collection  set linestyle splt coll _ generate Event Collection plot new linestyle u linestyle new linestyle assert equal coll linestyle [ 0 6.0 6.0 ] splt title u Event Collection set linestyle 
def test print monitor cv skip if no sklearn handle filename tempfile trainer yaml parse test print monitor cv yaml % {'filename' filename trainer loop print monitor cv filename print monitor cv filename all True os filename 
def get Manipulated Paths close loop prefix side Length xml Element scale Points loop prefix xml Element return [loop]
def input string or dict options allow multiples True if options '<<inherit>>' options {}if options is None or options 'delete' return True {} elif isinstance options list raise CX _ 'oideawhattodowithlist %s' % options elif isinstance options basestring new dict {}tokens shlex options for t in tokens tokens2 t ' ' 1 if len tokens2 1 key tokens2 Noneelse key tokens2 tokens2 key in new dict and allow multiples if isinstance new dict list new dict value else new dict [new dict value new dict valuenew dict '' None return True new dict elif isinstance options dict options '' None return True options else raise CX _ 'invalidinputtype'
def get load jid cb   get connection try jid doc cb .get str jid except couchbase Not Found Error return {}ret jid doc 'minions' in jid doc ret Minions jid doc ret 
def Get Active Editor Document view Get Active View if view is None or isinstance view Tree View return None None doc view Get Document if hasattr doc 'arker Add return doc view return None None 
def  expm multiply simple core A B t mu m star s tol None balance False if balance raise Not Implemented Errorif tol is None u d 2 ** -53 tol u d F Beta np t * mu / float s for i in range s c1  exact inf norm B for j in range m star coeff t / float s * j + 1 B coeff * A B c2  exact inf norm B F F + B if c1 + c2 < tol *  exact inf norm F breakc1 c2 F eta * F B Freturn F
def yesno value arg None if arg is None arg gettext 'yes no maybe bits arg ' ' if len bits < 2 return valuetry yes no maybe bitsexcept Value Error yes no maybe bits bits bits if value is None return maybeif value return yesreturn no 
@task.task ignore result True def store likes user likes converter class get class for 'user conversion logger 'celeryisstoring%slikes' % len likes converter class store likes user likes return likes 
def create banner message if message is None versions get versions return 'ython % versions versions versions else return message 
def cy kim smoother regime transition predicted joint probabilities filtered joint probabilities k regimes filtered joint probabilities filtered joint probabilities -1 ]order filtered joint probabilities - 2 dtype filtered joint probabilities joint probabilities np k regimes * order + 1 + nobs dtype dtype if regime transition -1 ] nobs + order regime transition regime transition order ] prefix dtype _ find best blas type regime transition predicted joint probabilities filtered joint probabilities func prefix kim smoother map nobs k regimes order regime transition predicted joint probabilities k regimes ** order + 1 nobs filtered joint probabilities k regimes ** order + 1 nobs smoothed joint probabilities k regimes ** order + 1 nobs smoothed marginal probabilities smoothed joint probabilitiesfor i in range 1 smoothed marginal probabilities - 1 smoothed marginal probabilities np smoothed marginal probabilities axis -2 return smoothed joint probabilities smoothed marginal probabilities 
def quorum size n return n + 1 // 2
def  sysv disable name if not  service is chkconfig name and not  chkconfig add name return Falsecmd '/sbin/chkconfig{0}off'.format name return not   salt  ['cmd.retcode'] cmd python shell False 
def get bookmark user usage key fields None bookmarks queryset Bookmark len set fields or [] & set OPTIONAL FIELDS > 0 bookmarks queryset bookmarks queryset related 'user' 'xblock cache else bookmarks queryset bookmarks queryset related 'user' bookmark bookmarks queryset user user usage key usage key return Bookmark Serializer bookmark context {'fields' fields .data
def get Fabmetheus Tools Path sub Name '' return get Joined Path get Fabmetheus Utilities Path 'fabmetheus tools sub Name 
def register exporter exporter E X P O R T E R S exporterreturn exporter 
def safe to snap client repository None retry interval 120 retry count 3 if not repository raise Missing Argument 'ovaluefor for count in range 1 retry count + 1 in progress snapshot in progress client repository repository if in progress logger 'napshotalreadyinprogress {0}'.format in progress logger 'ausing retry interval time retry interval logger 'etry count retry count else return Truereturn False 
def with metaclass meta *bases class metaclass meta   call   type  call    init   type  init  def   new   cls name this bases d if this bases is None return type  new   cls name d return meta name bases d return metaclass 'ummy Meta Class None {}
@decoratordef assert signal called signal **expected handler Mock def on call **kwargs return handler **kwargs signal on call try yield handler finally signal on call handler called with signal signal **expected
def in special context node global p0 p1 p2 pats builtif not pats built p0 patcomp pattern p0 p1 patcomp pattern p1 p2 patcomp pattern p2 pats built Truepatterns [p0 p1 p2 pattern parent in zip patterns attr chain node 'parent' results {}if pattern parent results and results is node return Truereturn False 
@api wrapperdef update export module export filesystem system changed Falsename module list module list export is None if not module mode export system export path name filesystem filesystem if client list export permissions client list changed Trueelif client list if set map transform unmunchify export permissions ! set map transform client list if not module mode export permissions client list changed Truemodule json changed changed 
def make colorscale colors scale None colorscale []if len colors < 2 raise exceptions Plotly Error 'oumustinputalistofcolorsthathasatleasttwocolors if scale is None scale incr 1.0 / len colors - 1 return [[ i * scale incr color for i color in enumerate colors ]else if len colors ! len scale raise exceptions Plotly Error 'helengthofcolorsandscalemustbethesame validate scale values scale colorscale [list tup for tup in zip scale colors ]return colorscale 
def get Radius Arealized Multiplier sides return math global Tau / sides / math global Tau / sides 
def  should update date verified mode return not verified mode is None or verified mode datetime is explicit 
def nickname commands *command list def add attribute function if not hasattr function u function []rule u ]ickname {command} #ommandasgroup1 ? \hitespacetoendcommand #estofthelineasgroup2 ? \\S+ ?arameters1 ? \\s+ \\S+ ?\n ? \\s+ \\S+ ?\n ? \\s+ \\S+ ?cceptanythingaftertheparameters Leaveitupto ?roup1mustbe None iftherearenoparameters Eo L sotherearenopartialmatches command u command list function rule return functionreturn add attribute 
def  to ansi obj if hasattr obj '  iter  ' return [ to ansi o for o in obj return A N S I String to unicode obj 
def json response body None errors None redirect to None exception None content type None status None if content type is None content type 'application/json'if errors if isinstance errors basestring errors [errors]body {'success' False 'errors' errors redirect to body {'success' True 'redirect to redirect to exception if body is None body 'nexpectedexception % exception else body body % exception body {'success' False 'errors' [body]}elif body passelse raise Exception 'mustcallwithbody errorsorredirect to if status is None status 200if not isinstance body basestring body json body return Http Response body content type content type status status 
@pytest.mark.parametrize 'key modifiers text filtered [ Qt Key A Qt No Modifier 'a' True Qt Key Up Qt No Modifier '' False Qt Key A Qt Shift Modifier 'A' True Qt Key A Qt Shift Modifier | Qt Control Modifier 'x' False ] def test non alphanumeric key modifiers text filtered fake keyevent factory modeman evt fake keyevent factory key key modifiers modifiers text text assert modeman Filter evt filtered 
def get region code request if ' App Engine City in request return request X App Engine Region None 
def vocabulary delete context data dict model context id data dict 'id' if not vocab id raise Validation Error {'id' _ 'idnotindata' } vocab obj model Vocabulary vocab id if vocab obj is None raise Not Found _ 'ouldnotfindvocabulary % vocab id  check access 'vocabulary delete context data dict vocab obj model 
def get active conferences user conferences get memcached get key 'conferences' list conferences []for key in conferences if user in conferences list conferences dict id key title conferences creator conferences creation date str conferences date users [dict username username profile get user profile username for username in conferences if not username user ] return list conferences 
def get manager class from engine django engine rdbms type engine to rdbms type django engine return get manager class rdbms type 
def parse firewall rule parser argparse Argument Parser rules shlex rule rules 0 parser argument '--enable' '--enabled' dest 'enable' action 'store true parser argument '--disable' '--disabled' dest 'disable' action 'store true parser argument '--port' dest 'port' action 'store' parser argument '--service' dest 'service' action 'store' parser argument '--ssh' dest 'ssh' action 'store true parser argument '--smtp' dest 'smtp' action 'store true parser argument '--http' dest 'http' action 'store true parser argument '--ftp' dest 'ftp' action 'store true args clean args vars parser args rules parser Nonereturn args 
def to Graphics Object If Possible item if item is None return Noneobj item Graphics Object return item if obj is None else obj 
def offset line y yerr if cbook numlike yerr or cbook yerr and len yerr len y ymin y - yerr ymax y + yerr elif len yerr 2 ymin ymax y - yerr y + yerr else raise Value Error u 1or2x N return ymin ymax 
def rename register llvmir def repl mat return '% dot .{0}'.format mat 1 return re regname repl llvmir 
def modpython Handler request from mod python import apacheconfig path request options .get 'config' 'tilestache.cfg' config path realpath pathjoin dirname request config path path info request infoquery string request mimetype content request Handler config path path info query string request apache H T T P O Krequest type mimetyperequest content length len content request http header request content return apache O K 
def fetch gravatar email gravatar url get gravatar url email try result urlfetch gravatar url headers {ontent Type 'image/png'} follow redirects False except urlfetch Invalid U R L Error urlfetch Download Error logging 'ailedtofetch Gravatarfrom % gravatar url else if result code 200 if imghdr None result 'png' return utils png binary to data url result else logging 'tatus Failedtofetch Gravatarfrom % result code gravatar url return DEFAULT IDENTICON DATA URL
def  revoke challenge global challengechallenge None 
def get net size mask binary str ''for octet in mask '.' binary str + bin int octet [2 ].zfill 8 return len binary str '0'
def videos index html course return render to response 'videos index {'context course course 'video handler url reverse course url 'videos handler unicode course 'encodings download url reverse course url 'video encodings download unicode course 'previous uploads  get index videos course 'concurrent upload limit settings V I D E O UPLOAD P I P E L I N E 'CONCURRENT UPLOAD LIMIT' 0 'video supported file formats VIDEO SUPPORTED FILE F O R M A T S 'video upload max file size VIDEO UPLOAD MAX FILE SIZE GB}
@np.deprecate new name 'expm' def expm2 A A  asarray square A t A t not in ['f' 'F' 'd' 'D'] A A 'd' t 'd' s vr eig A vri inv vr r dot dot vr diag exp s vri if t in ['f' 'd'] return r t else return r t 
def fake team db teamowner teamname None isapproved [rue False [roduct 'ervice teamname is None teamname faker name + fake text id 3 ctime teamowner + datetime days 7 try teamslug slugize teamname homepage 'http //www.example.org/' + fake text id 3 insert fake data db 'teams' slug teamslug slug lower teamslug name teamname homepage homepage ctime ctime product or service random productorservice 1 [0] onboarding url homepage + '/contributing' owner teamowner is approved random isapproved 1 [0] receiving 0.1 nreceiving from 3 except Integrity Error Invalid Team Name return fake team db teamowner return Team slug teamslug 
def class is abstract node for method in node if method is node if method abstract pass is abstract False return Truereturn False 
def normalize and reduce paths paths reduced paths []for p in paths np os p if np not in reduced paths reduced paths np return reduced paths 
def auth sub string from url url scopes param prefix 'auth sub scopes if isinstance url str unicode url atom core Uri uri url if 'token' not in url return None None token url Noneif scopes param prefix in url scopes tuple url param prefix '' return token scopes 
@jit nopython True cache True def lex min ratio test tableau pivot slack start argmins nrows tableau candidates nrowsfor i in range nrows argmins inum argmins min ratio test no tie breaking tableau pivot -1 argmins num candidates if num argmins 1 return argmins j in range slack start slack start + nrows if j pivot continuenum argmins min ratio test no tie breaking tableau pivot j argmins num argmins if num argmins 1 breakreturn argmins 
def init Experiment Prng seed 42random.seed seed numpy seed 
def transformation to normal eq var coeff diop type classify diop eq  dict False if diop type in 'homogeneous ternary quadratic 'homogeneous ternary quadratic normal return  transformation to normal var coeff 
def Split By Kind freqdict kinds {}for kind fullname freq in freqdict kind fullname kind fullname ' ' if not kind in kinds kinds []kinds[kind].append fullname freq freq freq for kind in kinds kinds key lambda ent ent + ent reverse True kinds bycount sorted kinds key lambda pair len pair reverse True maxcount 0for kind in kinds maxcount max maxcount kinds + kinds return kinds bycount maxcount 
def best match supported header parsed header [parse media range r for r in header ' ' ]weighted matches [ quality parsed mime type parsed header mime type for mime type in supported matches return weighted matches -1 ][0] and weighted matches -1 ][1] or ''
def get connection ip list as wmi format False server  DEFAULT SERVER ret dict setting ' P Grant separator ' \\s*'if as wmi format ret list addresses  get wmi setting ' Is I P Security Setting setting server for unnormalized address in addresses ip address subnet re reg separator unnormalized address if as wmi format ret '{0} {1}'.format ip address subnet else ret address subnetif not ret  L O G '%sisempty.' setting return ret 
def get random text and whitespace length 10 return ''.join random BLOG CHARACTERS length .strip
def arrange By Type service list preferred types def enumerate elts 'eturnaniterablethatpairstheindexofanelementwith For Python2 zip range len elts elts def best Matching Service service 'eturntheindexofthefirstmatchingtype orsomething Thisprovidesanorderinginwhichserviceelementsthat Ifaservice themostpreferredonewins i t in enumerate preferred types if preferred types in service uris return ireturn len preferred types prio services [ best Matching Service s orig index s for orig index s in enumerate service list ]prio services for i in range len prio services prio services prio services prio services 
def get Circle Nodes From Points points radius circle Nodes [ver Radius 1.0 / radius points euclidean Away Points points 0.001 * radius for point in points circle Nodes Circle Node point * one Over Radius len circle Nodes return circle Nodes 
def  quote And Escape string assert type string in types String Types return pprint string 
def assert request user has rule trigger and action permission request rule api if not cfg C O N F return Truetrigger rule api rule api type trigger ref action db get user db from request request request has trigger permission request user has rule trigger permission request request trigger trigger if not has trigger permission msg 'ser %s tousetrigger % user db Permission Type W E B H O O K CREATE trigger type raise Access Denied Error message msg user db user db has action permission request user has rule action permission request request action ref action ref if not has action permission msg 'ser %s permissiontouseaction % user db Permission Type A C T I O N EXECUTE action ref raise Access Denied Error message msg user db user db return True 
def fallocate fd size global  sys fallocateif  sys fallocate is None  sys fallocate Fallocate Wrapper if size < 0 size 0ret  sys fallocate fd 1 0 ctypes uint64 size err ctypes errno if ret and err not in 0 errno E N O S Y S errno E O P N O T S U P P errno E I N V A L raise O S Error err 'nabletofallocate %s ' % size 
def properties to params props candidates filter lambda x 'efinitions in x props if candidates def transform x return {x['name'] x Parameter Value {k v for d in map transform candidates Definitions for k v in d }return None 
@handle response format login required admin required def index pages request response format 'html' pages Page .order by 'name' folders Page Folder .order by 'name' return render to response 'core/administration/index pages {'pages' pages 'folders' folders context instance Request Context request response format response format 
def write external book rel book root Element 'elationships xmlns PKG REL NS rel Relationship '' target book Target target Mode book Target Mode id 'd1 rel book Typeroot rel tree return root 
@ docstring 'label' def get label by id id includes [] release status [] release type [] params  check filter and make params 'label' includes release status release type return  do mb query 'label' id includes params 
@register.filter name 'role contain which sudos def role contain which sudos role sudo names [sudo.name for sudo in role ]return ' '.join sudo names 
@disable for loaddatadef ping directories handler sender **kwargs entry kwargs entry visible and settings S A V E PING DIRECTORIES for directory in settings P I N G DIRECTORIES Directory Pinger directory [entry]
def get sharejs uuid node wname wiki key to mongo key wname private uuid node private uuids wiki key return str uuid uuid U U I D private uuid str node id if private uuid else None 
def  create post request rf directory user url '/' data None if data is None data {}request rf url data data request userrequest get matching permissions request directory return request 
def target outdated target deps try target time os target except os return 1for dep in deps dep time os dep if dep time > target time return 1return 0
def tidy stacktrace stack trace []for frame path line no func name text in f 5] for f in stack if omit path os path continuetext u force text t for t in text .strip if text else u trace path line no func name text return trace 
def hosts hostnames zone 'net' addresses [gethostbyname name for name in hostnames '%s %s' % zone ' '.join addresses 
def virtual interface get by instance and network context instance id network id return I M P L interface get by instance and network context instance id network id 
def get page class page id warn u page classisdeprecatedin Review Board3 Account Page Deprecation Warning return Account Page u id page id 
def can resize image image size L O G 'heckingifwecanresizeimage image s % size s {'image' image 'size' size virt size get disk size image if virt size > size L O G 'annotresizeimage image return Falsereturn True 
def Update Manifest Resources From X M L dstpath xmlstr names None languages None logger 'pdatingmanifestin dstpath if dstpath .endswith '.exe' name 1else name 2pdate Resources dstpath xmlstr RT MANIFEST names or [name] languages or [0 '*']
def new figure manager num *args **kwargs Figure Class kwargs 'igure Class Figure this Fig Figure Class *args **kwargs canvas Figure Canvas Template this Fig manager Figure Manager Template canvas num return manager 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def check config changed Falsedata get all config for key in c if key in data if data ! c changed Trueif changed reload config 
def configure proxy proxyname start True changes new []changes old []status file Truetest   opts  ['test']proxyfile '/etc/salt/proxy' status file msg new msg old  proxy conf file proxyfile test changes new msg new changes old msg old status proc Falseif start status proc msg new msg old  proxy process proxyname test changes old msg old changes new msg new else changes old 'tartis False notstartingsalt log 'rocessnotstarted return {'result' status file and status proc 'changes' {'old' '\n'.join changes old 'new' '\n'.join changes new }}
def euler n if not isscalar n or n < 0 raise Value Error 'nmustbeanon-negativeinteger.' n int n if n < 2 n1 2else n1 nreturn specfun n1 [ n + 1 ]
def to unit value unit return value / 1024 ** BYTE S I Z E S unit 
def  unpack matrix fid rows cols dtype out dtype dtype np dtype string fid int dtype * rows * cols out np string dtype dtype .reshape rows cols .astype out dtype return out 
def pixmap to data pixmap format 'JPEG' quality 90 ba Q Byte Array buf Q Buffer ba buf Q Buffer Write Only pixmap buf format quality quality return bytes ba 
def bzr wc sudo user test 'bzr wc sudo user '%s-test-%s' % DIR test puts magenta 'xecutingtest %s' % test from fabric import cd sudofrom fabtools import group is dir ownerfrom fabtools import requirerequire 'bzruser' group 'bzrgroup' assert not is dir wt require copy REMOTE URL wt use sudo True user 'bzruser' assert wc exists wt assert owner wt 'bzruser' assert group wt 'bzrgroup'
def append token url token if token url + '?' + urlencode { Plex Token token return url 
@require P O S T requireddef watch locale request product None kwargs {'locale' request L A N G U A G E C O D E product is not None kwargs product Reviewable Revision In Locale Event request **kwargs statsd 'wiki.watches.locale' return Http Response 
def dict to string  dict buffer ''if not isinstance  dict dict return  dictfor key in  dict value  dict not value buffer + str key + '' elif isinstance value list for item in value buffer + str key + ' ' + str item + '' else buffer + str key + ' ' + str value + '' return buffer 
def get column name column try inspected column inspect column except No Inspection Available return columnelse return inspected column 
def to bytes text default 0 mult key org text '-1234567890' mult key mult key org mult key len len mult key if mult key 'b' mult key mult key -1 ]try multiplier BYTE M U L T I P L I E R S key mult key len text text - mult key len ]return int text * multiplier except Key Error msg _ 'nknownbytemultiplier %s' % mult key org raise Type Error msg except Value Error return default 
@register.simple tag takes context True def translate url context language try request context Key Error return u resolve request current language translation language translation language try url reverse view args view kwargs view except No Reverse Match try url name view name if not view else u %s' % view view name url reverse url name args view kwargs view except No Reverse Match url name u ' + view name url reverse url name args view kwargs view translation current language if context M E T A Q U E R Y STRING'] url + u + context M E T A Q U E R Y STRING'] return url 
def delete blob call None kwargs None global storconnif not storconn storconn get conn Storage Management Client if kwargs is None kwargs {}if 'container' not in kwargs raise Salt Cloud System Exit 'containermustbespecified if 'blob' not in kwargs raise Salt Cloud System Exit 'blobmustbespecified storageaccount azure Cloud Storage Account config cloud config value 'storage account get configured provider   opts   search global False config cloud config value 'storage key get configured provider   opts   search global False storageservice storageaccount block blob service storageservice blob kwargs kwargs return True 
def create configuration username password management url san iscsi ip poolname thin provision True configuration mock Mock configuration login usernameconfiguration password passwordconfiguration management url management urlconfiguration thin provision thin provisionconfiguration iscsi ip san iscsi ipconfiguration poolname poolnameconfiguration get value ' N A P ip address '1.2.3.4'configuration.qnap storage protocol 'iscsi'configuration.reserved percentage 0return configuration 
def show instance name call None if call ! 'action' raise Salt Cloud Exception 'heshow instanceactionmustbecalledwith node id get linode id from name name node data get linode kwargs {'linode id node id ips get ips node id state int node data S T A T U S ret {'id' node data L I N O D E I D 'image' node data D I S T R I B U T I O N V E N D O R 'name' node data L A B E L 'size' node data T O T A L R A M 'state'  get status descr by id state 'private ips ips ips 'public ips ips ips ret 
def dist matrix clustering matrix linkage AVERAGE Z dist matrix linkage matrix linkage linkage return tree from linkage Z
def  my trans data data t fft data data t np [data t None data t None axis 2 return data t None 
def class from name module name class name m importlib module module name c getattr m class name return c 
def solution return s3 rest controller 
def login user user remember False force False fresh True if not force and not user active return Falseuser id getattr user current app manager attribute session id user idsession fresh freshsession id  create identifier if remember session 'set' request ctx stack useruser logged in current app get current object user  get user return True 
def get rate name [curr metrics last metrics get metrics name name NAME PREFIX ]try rate float curr metrics - last metrics / float curr metrics - last metrics if rate < 0 rate float 0 except Standard Error rate float 0 return rate 
def broadcast change _ res Send Message Timeout HWND BROADCAST WM SETTINGCHANGE 0 0 SMTO ABORTIFHUNG 5000 return not bool res 
def latex expr **settings return Latex Printer settings .doprint expr 
def edge boundary G nbunch1 nbunch2 None data False keys False default None nset1 {v for v in G if v in nbunch1 }if G multigraph edges G nset1 data data keys keys default default else edges G nset1 data data default default if nbunch2 is None return e for e in edges if e not in nset1 nset2 set nbunch2 return e for e in edges if e in nset2 
def is sabnzbd running url try url '%s&mode version % url prev sabnzbd https verification False ver sabnzbd from url url sabnzbd https verification prev return ver and re '\\d+\\.\\d+\\.' ver or ver sabnzbd  version   except return False 
def fixed ip get by address context address columns to join None return I M P L ip get by address context address columns to join columns to join 
def test qiime config variable variable qiime config test access var R OK fail on missing False fp qiime config not fp if fail on missing test '%snotset.' % variable else returntest True exists fp '%ssettoaninvalidfilepath %s' % variable fp modes {R OK 'readable' W OK 'writable' X OK 'rue access fp access var '%sisnot%s %s' % variable modes var fp 
@pytest.mark.parametrize 'encoding' [one 'UTF-8' 'unicode escape def test issue encoding context Nonetext2 ''expected text u problematic step impl context except Exception text2 traceback exc text3 text text2 encoding print u E X C E P T I O N T E X T %s' % text3 assert that text3 contains string u Exception u assert that text3 contains string u Exception \u043f\u043e\u0440\u0443\u0441\u0441\u043a\u0438'
def  check worktree support failhard True git version version versioninfo False if  Loose Version git version <  Loose Version '2.5.0' if failhard raise Command Execution Error 'orktreesareonlysupportedingit2 detectedgitversion ' + git version + ' ' return Falsereturn True 
def fetch public key repo keyurl 'https //api.travis-ci.org/repos/{0}/key'.format repo data json urlopen keyurl .read .decode if 'key' not in data errmsg 'ouldnotfindpublickeyforrepo {}.\n'.format repo errmsg + 'aveyoualreadyaddedyour Git Hubrepoto Travis Value Error errmsg return data 
def get Insides Add To Outsides loops outsides insides []for loop Index in xrange len loops loop loops Index is Inside Other Loops loop Index loops insides loop else outsides loop return insides 
@collect authdef auth login auth campaign request 'campaign' next url request 'next' data login and register handler auth login True campaign campaign next url next url if data code http F O U N D return redirect data url 
def  is metaclass klass seen None if klass 'type' return Trueif seen is None seen set for base in klass try for baseobj in base if baseobj in seen continueelse seen baseobj if isinstance baseobj Instance return Falseif baseobj is YES continueif baseobj is klass continueif not isinstance baseobj Class continueif baseobj type 'metaclass' return Trueif  is metaclass baseobj seen return Trueexcept Inference Error continuereturn False 
def l2 norm tensors squared False summed [tensor.sqr tensor tensor variable t .sum for t in tensors tensor summed axis 0 return joined if squared else tensor joined 
def i1 x return tt tt x 5 x / 2 + x ** 3 / 16 + x ** 5 / 384 + x ** 7 / 18432 + x ** 9 / 1474560 + x ** 11 / 176947200 + x ** 13 / 29727129600 np ** x / 2 * np * x ** 0.5 * 1 - 3 / 8 * x + 15 / 128 * x ** 2 + 315 / 3072 * x ** 3 + 14175 / 98304 * x ** 4
def  escape backslashes data jinja env if '\\' in data and '{{' in data new data []d2 jinja env data in var Falsefor token in jinja env d2 if token 'variable begin in var Truenew data token elif token 'variable end in var Falsenew data token elif in var and token 'string' new data token '\\' '\\\\' else new data token data ''.join new data return data 
def dijkstra shortest paths graph id heuristic None directed False W adjacency graph directed directed heuristic heuristic Q []D {}P { [id]seen {id 0}heappush Q 0 id while Q dist v heappop Q if v in D continue D distfor w in W vw dist D + W if w not in D and w not in seen or vw dist < seen seen vw distheappush Q vw dist w P P + [w] for n in graph if n not in P P Nonereturn P
def edges G nbunch None return G nbunch 
def create tarball fileobj path callback None tar cmd 'tar-zc--directory % path s % locals tar proc make subprocess tar cmd stdout True stderr True while True chunk tar proc CHUNK SIZE if chunk '' breakif callback callback chunk if fileobj fileobj chunk finish subprocess tar proc tar cmd 
def state schema module '' specs state argspec module schemas []for state mod state spec in specs schemas  argspec to schema state mod state spec return schemas 
def devices out   salt  ['cmd.run all 'blkid-oexport' salt verify run out return salt blkid output out fs type 'btrfs'
def ADX bar Ds count timeperiod - 2 ** 31 return call talib with hlc bar Ds count talib A D X timeperiod 
def  Find Node With Standalone Line Parent node if pytree utils Node Name node in  STANDALONE LINE NODES return nodeelse return  Find Node With Standalone Line Parent node 
def Get Image Names test name  S U M M A R Y name []current path os  RESULTS PATH 'current' test path os current path options if test name files os '%s/%s/%s' % test path test name 'un1 files tmpfile in files if tmpfile 'png'  S U M M A R Y name tmpfile return  S U M M A R Y name 
def get metadata from object instance metadata {'display name instance 'name' getattr instance 'OS-EXT-SRV-ATTR instance name u 'instance type instance if instance else None 'host' instance Id 'image ref instance if instance else None }if instance and instance 'links' metadata ref url instance metadata ref url Nonefor name in INSTANCE PROPERTIES metadata getattr instance name u return metadata 
def regions language x a language [] for tag language region iso639 iso3166 in LANGUAGE R E G I O N if iso639 x a iso3166 return sorted a key lambda tag tag ! x and tag or ''
def update email preferences user id can receive email updates can receive editor role email can receive feedback email can receive subscription email email preferences model user models User Email Preferences Model user id strict False if email preferences model is None email preferences model user models User Email Preferences Model id user id email preferences model updates can receive email updatesemail preferences model role notifications can receive editor role emailemail preferences model message notifications can receive feedback emailemail preferences model notifications can receive subscription emailemail preferences model 
def  split input list str list new list re '[\\n\\r\\s ]' str list new list [s.strip for s in new list list [s for s in new list if s ! '' ]return new list 
def get runner constructor suite tag module name 'api tests + suite tag module importlib module module name suite runner function getattr module 'est + suite tag return suite runner function 
def shape x return tf x 
def identical signature wrapper original function wrapped function context {'  wrapped  ' wrapped function def compile 'def{0} {1} \nreturn  wrapped   {2} '.format original function  name   inspect *salt.utils.args.get function argspec original function [1 -1 ] inspect formatvalue lambda val '' *salt.utils.args.get function argspec original function [1 -1 ] '<string>' 'exec' six  function def context return wraps original function context function  name  ]
def walktree classes children parent results []classes.sort key attrgetter '  module  ' '  name  ' for c in classes results c c  bases   if c in children results walktree children children c return results 
def del lease mac ip address api network rpcapi Network A P I api fixed ip context admin context ip address C O N F mac 
def get File Text Given Directory File Name directory file Name absolute File Path os directory file Name return archive File Text absolute File Path 
def where art thy filehandles os 'ls-l/proc/%d/fd>>/dev/tty' % os 
def user delete user id None name None profile None **connection args kstone auth profile **connection args if name for user in kstone if user name user id user not user id return {rror 'nabletoresolveuserid user id ret 'ser I D user id if name ret + ' {0} '.format name return ret 
def ip to uuid ip return UUID bytes md5 ip 'utf-8' .digest
def get authorities return dict DIRECTORY AUTHORITIES
def hard linking possible scratch directory File Path tempfile test file scratch directory 'src' test file try os test file scratch directory 'dst' .path return Trueexcept return Falsefinally scratch directory 
@csrf protectdef render flatpage request f if f required and not request authenticated from django import redirect to loginreturn redirect to login request if f name t loader template f name DEFAULT TEMPLATE else t loader template DEFAULT TEMPLATE f mark safe f f mark safe f c Request Context request {'flatpage' f response Http Response t c populate xheaders request response Flat Page f return response 
def  secure Enough String path secureish String armor sha1 random Bytes 64 .digest [ 16]return  coerce To Filesystem Encoding path secureish String 
def  pretty size size units ['G' 'M' 'K' ' len units and size > 1000 size size / 1024.0 units return '{0}{1}'.format round size 1 units -1 ]
def  generate doc ret retc ret retc id ret time return retc 
def  skew a try res stats a except Value Error res np res 
def diag mat operator size operator 1 return lo Lin Op lo D I A G MAT size [operator] None 
@verbosedef tfr stockwell inst fmin None fmax None n fft None width 1.0 decim 1 return itc False n jobs 1 verbose None data  get data inst return itc picks pick types inst meg True eeg True info pick info inst picks data data picks ]n jobs check n jobs n jobs power itc freqs  induced power stockwell data sfreq info fmin fmin fmax fmax n fft n fft width width decim decim return itc return itc n jobs n jobs times inst decim nave len data out Average T F R info power times freqs nave method 'stockwell-power' if return itc out out Average T F R deepcopy info itc times freqs nave method 'stockwell-itc' return out 
def process or children is defunct ppid defunct Falsetry pids get children pids ppid except error Cmd Error return Truefor pid in pids cmd 'ps--no-headers-ocmd%d' % int pid proc name system output cmd ignore status True if '<defunct>' in proc name defunct Truebreakreturn defunct 
def srange s try return ''.join [ expanded part for part in  re Bracket Expr String s .body] except return ''
@handle response format login required process mass formdef index request response format 'html' if request G E T query  get filter query request G E T contacts Object by request request Contact query .order by 'name' else contacts Object by request request Contact by 'name' filters Filter Form request 'name' request G E T context  get default context request context {'contacts' contacts 'filters' filters return render to response 'identities/index' context context instance Request Context request response format response format 
def gzip compress data s Bytes I O g gzip Gzip File fileobj s mode 'wb' g data g return s 
def fg2 x return np 2 * x + 2 * np -16 * x ** 2
def queue models models context MAX CYCLES 5model queue []number remaining models len models allowed cycles MAX C Y C L E Swhile number remaining models > 0 previous number remaining models number remaining modelsmodel models 0 if check dependencies model model queue model class Model Code model model context context model queue model class else models model number remaining models len models if number remaining models previous number remaining models allowed cycles - 1if allowed cycles < 0 missing models [odel Code model m context context for m in models queue + missing modelsmodels ] missing modelsbreakelse allowed cycles MAX C Y C L E Sreturn model queue 
def create retention policy database name duration replication default False **client args client  client **client args client retention policy name duration replication database default return True 
def get python lib plat specific 0 standard lib 0 prefix None if prefix is None if standard lib prefix plat specific and BASE EXEC PREFIX or BASE PREFIX else prefix plat specific and EXEC PREFIX or PREFIX if os 'posix' libpython os prefix 'lib' 'python' + get python version if standard lib return libpythonelse return os libpython 'site-packages' elif os 'nt' if standard lib return os prefix 'ib else return os prefix 'ib 'site-packages' else raise Distutils Platform Error "don Pythoninstallsitslibraryonplatform % os 
def convert from latlon to utm points None latitudes None longitudes None false easting None false northing None old geo Geo reference utm points []if points None assert len latitudes len longitudes points map None latitudes longitudes for point in points zone easting northing redfearn float point float point false easting false easting false northing false northing new geo Geo reference zone old geo zones new geo utm points [easting northing return utm points old geo zone 
def check whitelist request host whitelist if ' ' not in request host request host request host + ' 80' if request host in whitelist return Truereturn any match host request host host for host in whitelist 
@commands u @example u def meetinginfo bot trigger if not ismeetingrunning trigger bot u Can startmeetingfirst returnif not trigger 2 bot u returnif not ischair trigger trigger bot u Onlymeetingheadorchairscandothat returnlogplain u I N F O ' + trigger 2 trigger log H T M L listitem trigger 2 trigger bot u I N F O ' + trigger 2
def render template file template context None assert isinstance context Mapping template get template template return template context 
def last arg byref args return args -1 ]. obj 
def test rl end of line lineedit bridge lineedit aug text 'f<oo>bar' bridge end of line assert lineedit text 'foobar|'
def close tunnel  data global K N X T U N N E L K N X T U N N E L KNXTUNNEL None 
def attach epic custom attributes queryset as field 'epic custom attributes attr model queryset ' E L E C Tjson agg \nrow to json custom attributes epiccustomattribute \ R D E R B Ycustom attributes epiccustomattribute \ R O Mcustom attributes epiccustomattribute W H E R Ecustom attributes epiccustomattribute id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def  contextual locale context request context 'request' locale request L A N G U A G E C O D Eif not localedata locale locale settings L A N G U A G E C O D Ereturn locale 
def write Plist To String root Object f String I O write Plist root Object f return f 
def libvlc media player get time p mi f  Cfunctions 'libvlc media player get time None or  Cfunction 'libvlc media player get time 1 None ctypes longlong Media Player return f p mi 
def frt2 a if a ! 2 or a ! a raise Value Error 'nputmustbeasquare 2array ai a n ai np n + 1 n np f ai axis 0 for m in range 1 n for row in range 1 n ai roll ai - row f ai axis 0 f ai axis 1 return f 
def forwards apps schema editor config {u'default' {u'accomplishment class append u u name u Your Platform Name Here u about url u //www.example.com/about-us' u privacy url u //www.example.com/privacy-policy' u tos url u //www.example.com/terms-service' u verified certificate url u //www.example.com/verified-certificate' u src u u url u //www.example.com'} u {u'certificate type u Honor Code u title u Certificateof Achievement u {u'certificate type u Verified u title u Verified Certificateof Achievement html view configuration model apps model u u Certificate Html View Configuration objects certificate html view configuration model not objects objects configuration json config enabled False 
def check for date filename matcher x 0if matcher for expression in matcher regex re expression match1 regex filename x + 1if match1 return match1 x return None 0
def diff before after assert after before plays []after plays list after before plays list before for play in after plays if play not in before plays plays play  players Ordered Dict after players list after player stats before players list before player stats for aplayer in after players has before Falsefor bplayer in before players if aplayer bplayer has before Truepdiff aplayer - bplayer if pdiff is not None  players pdiffif not has before  players aplayerplayers nflgame Gen Player Stats  players return Game Diff before before after after plays plays players players 
def attach issue statuses queryset as field 'issue statuses attr model queryset ' E L E C Tjson agg \nrow to json projects issuestatus \ R D E R B Yprojects issuestatus \ R O Mprojects issuestatus W H E R Eprojects issuestatus id {tbl}.id\n'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def dylib info filename is dylib DYLIB R E filename if not is dylib return Nonereturn is dylib 
def generate sentence start with lorem False return  G E N E R A T O R sentence start with lorem 
def  Add Byte Size Method message descriptor cls def Byte Size self if not self cached byte size dirty return self cached byte sizesize 0for field descriptor field value in self List Fields size + field descriptor sizer field value for tag bytes value bytes in self unknown fields size + len tag bytes + len value bytes self cached byte size sizeself cached byte size dirty Falseself listener for children Falsereturn sizecls Byte Size Byte Size 
def widget move request profile Profile or create user request [0]profile data profile datawidget type request P O S T u if widget type u positions key u widget positions primary widgetselse positions key u widget positions secondary widgetspositions profile data positions key {} for widget in widgets widget position request P O S T widget id if widget position is not None positions id widget positionelse positions id str len widgets profile return Http Response 
def scale s dtype None assert len s 3 return np np np [s 1.0 ] dtype 
def p const ref p child thrift stack -1 ]for name in p '.' father childchild getattr child name None if child is None raise Thrift Parser Error "ann % p p 1 if  get ttype child is None or  get ttype father T Type I32 p childelse raise Thrift Parser Error 'oenumvalueorconstantfoundnamed % p 
def safe rmtree directory if os directory safe delete directory else shutil directory ignore errors True 
def safe brands brands if isinstance brands str brands set [brands] if isinstance brands list brands set brands return brands 
def  serialize inventory inventory generation None data {field getattr inventory field for field in OUTPUT INVENTORY F I E L D S generation data provider generation generationreturn data 
def get Crafted Text file Name text '' lift Repository None return get Crafted Text From Text archive Text If Empty file Name text lift Repository 
def ec2 credentials delete user id None name None access key None profile None **connection args kstone auth profile **connection args if name user id user get name name profile None **connection args [name]['id']if not user id return {rror 'ouldnotresolve User I D user id access key return 'ec2key"{0}"deletedunderuserid"{1}"'.format access key user id 
def triplet to rrggbb rgbtuple global  tripdicthexname  tripdict rgbtuple if hexname is None hexname '#%02x%02x%02x' % rgbtuple  tripdict hexnamereturn hexname 
def kill job jid return signal job jid salt SIGKILL
def get Is Layer Start first Word skein split Line if skein There A Layer Start Word return first Word ' <layer>' if first Word ! 'G1' and first Word ! 'G2' and first Word ! 'G3' return Falselocation gcodec Location From Split Line skein Location split Line if location - skein Z > 0.1 skein Z location Truereturn False 
def  encode dbref name value check keys opts buf bytearray '\x03' + name + '\x00\x00\x00\x00' begin len buf - 4 buf +  name value to bson '$ref\x00' value check keys opts buf +  name value to bson '$id\x00' value check keys opts if value is not None buf +  name value to bson '$db\x00' value check keys opts for key val in iteritems value D B Ref  kwargs buf +  element to bson key val check keys opts buf + '\x00'buf[begin begin + 4 ]  PACK INT len buf - begin return bytes buf 
def pid sig cmd   grains  ['ps']output   salt  ['cmd.run stdout cmd pids ''for line in output if 'status.pid' in line continueif re sig line if pids pids + '\n'pids + line [1]return pids 
def validate email address emailaddress emailaddress '%s' % emailaddress domains 'aero' 'asia' 'biz' 'cat' 'com' 'coop' 'edu' 'gov' 'info' 'int' 'jobs' 'mil' 'mobi' 'museum' 'name' 'net' 'org' 'pro' 'tel' 'travel' if len emailaddress < 7 return Falsetry localpart domainname emailaddress '@' 1 host toplevel domainname '.' 1 except Value Error return Falseif len toplevel ! 2 and toplevel not in domains return Falsefor i in '-_.%+.' localpart localpart i '' for i in '-_.' host host i '' if localpart and host return Trueelse return False 
def configtest ret {}cmd '{0}-t'.format   detect os out   salt  ['cmd.run all cmd if out ! 0 ret 'yntax Error out Falsereturn retret 'yntax O K out Truereturn ret 
def repr strength strength return {REQUIRED u Required STRONG u Strong MEDIUM u Medium WEAK u Weak 
def update gems ruby None runas None gem bin None try gems gems except Attribute Error passreturn  gem ['update'] + gems ruby gem bin gem bin runas runas 
def get sleep return {omputer get computer sleep 'isplay get display sleep 'ard Disk get harddisk sleep }
def getrsq fitresult if hasattr fitresult 'resid' and hasattr fitresult 'model' resid fitresult fitresult fitresult resid fitresult fitresult resid np resid resid tss np endog * nobs return 1 - rss / tss rss tss tss - rss 
def pause execution message 'estexecutionpaused Press O Ktocontinue Message Dialog message .show
def norm l21 A n orient copy True if A 0 return 0.0if copy A A return np np groups norm2 A n orient 
def status name sig None runas None if sig return   salt  ['status.pid'] sig output list  runas runas pids ''for line in output if 'PID' in line continueif re name line if line [0].isdigit if pids pids + '\n'pids + line [0]return pids 
def  set Auth Cred if kb Mgr and all _ is not None for _ in conf conf conf conf Username conf Password kb Mgr password None '%s //%s %d' % conf conf conf conf Username conf Password 
def bitarray to bool data length results []for byte in data if six P Y2 byte ord byte for bit no in range 7 -1 -1 bit byte & 1 << bit no bit bit ! 0 results bit if len results length breakif len results length breakreturn np results dtype u 
def  bootstrap ubuntu name **kwargs version kwargs 'version' False if not version if   grains  ['os'].lower 'ubuntu' version   grains  ['oscodename']else version 'xenial'dst  make container root name cmd 'debootstrap--arch amd64 version dst ret   salt  ['cmd.run all cmd python shell False if ret ! 0  build failed dst name return ret 
def Sig Term Handler signum frame raise Keyboard Interrupt 
def memory since 0.0 ans get memory ans / float 1024 ** 2 return ans - since 
def  fixencoding input encoding final False prefix u len input > len prefix if input prefix pos input u len prefix if pos > 0 if encoding '_' '-' .lower 'utf-8-sig' encoding u prefix + encoding + input ] else return inputelif not prefix input or final return inputif final return inputreturn None 
def security group update context security group id values columns to join None return I M P L group update context security group id values columns to join columns to join 
def mount module args mount bin module bin path 'mount' required True name args [mount bin ismount name return remount module mount bin args if get platform .lower 'openbsd' if module is not None module json msg 'pen B S Ddoesnotsupportalternatefstabfiles Donotspecifythefstabparameterfor Open B S Dhosts else cmd +  set fstab args args cmd + [name] rc out err module command cmd if rc 0 return 0 '' else return rc out + err 
def test cc sk estimator check estimator Cluster Centroids 
def  get thumbnail path image path width height if image path is None return None _ ext os image path if ext in ['.png' '.jpg' '.jpeg' '.gif'] thumbnail path image pathelse fingerprint cache digest '{width}x{height}\n{image path **locals thumbnail path os temp path fingerprint +  IMAGE EXTENSION  validate thumbnail currentness image path thumbnail path return thumbnail path 
def  get regexp ops connection regexp op map {'postgresql' '~' 'mysql' 'REGEXP' 'sqlite' ' E G E X P safe filters {'mysql'  safe regex mysql type  db connection type connection return regex safe filters db type lambda x x regexp op map db type 'LIKE'
def b2a hex s return binascii hex s 
def lexicographic alphabet for n in count for e in product alphabet repeat n yield e 
@not implemented for 'directed' def min weighted dominating set G weight None if len G 0 return set dom set set def  cost node and neighborhood 'eturnsthecost and neighborhood v neighborhood node and neighborhoodreturn G weight 1 / len neighborhood - dom set vertices set G neighborhoods {v {v} | set G for v in G vertices dom node min set min neighborhoods key  cost dom set dom node del neighborhoods node - min setreturn dom set 
def dumps obj key None salt u serializer J S O N Serializer compress False data serializer .dumps obj is compressed Falseif compress compressed zlib data if len compressed < len data - 1 data compressedis compressed Truebase64d b64 encode data if is compressed base64d '.' + base64d return Timestamp Signer key salt salt .sign base64d 
def get release group image front releasegroupid size None return get image releasegroupid 'front' size size entitytype 'release-group'
def slide in clip duration side w h clip dict {'left' lambda t min 0 w * t / duration - 1 'center' 'right' lambda t max 0 w * 1 - t / duration 'center' 'top' lambda t 'center' min 0 h * t / duration - 1 'bottom' lambda t 'center' max 0 h * 1 - t / duration }return clip pos pos dict 
def am following dataset context data dict return  am following context data dict ckan follow dataset schema context User Following Dataset 
def Socket Connection host port DEFAULT PORT return Connection Channel Socket Stream new socket host port 
@click.group def tsdb pass 
def get repository dependencies app metadata id sa session app sa session app Repository Dependency .filter app Repository Dependency metadata id metadata id .all
def test bayesian info criterion lsq n samples 25n params 1 2 1 ssr 48959 32512 37980 answer 192.706 185.706 186.36 assert allclose answer bayesian info criterion lsq ssr n params n samples atol 0.01 assert allclose answer bayesian info criterion lsq ssr n params n samples atol 0.01 assert allclose answer bayesian info criterion lsq ssr n params n samples atol 0.01
def str startswith arr pat na np f lambda x x pat return  na map f arr na dtype bool 
def test lex symbols objs tokenize 'foo' assert objs [y Symbol 'foo' ]
def generate kindofgarch nobs ar ma mu 1.0 from statsmodels process import arma generate sampleh arma generate sample ar ma nobs 0.1 h mu + h ** 2 h np h err np h * np nobs return err h 
def  clean names names remove whitespace False before dash True cleaned []for name in names if '' in name and remove whitespace name name '' '' if '-' in name and before dash name name '-' [0]if name ' virtual name name -8 ]cleaned.append name return cleaned 
def enroll email course id student email auto enroll False email students False email params None language None previous state Email Enrollment State course id student email enrollment obj Noneif previous state if Course Mode white label course id course mode Course Mode D E F A U L T SHOPPINGCART MODE S L U Gelse course mode Noneif previous state course mode previous state obj Course Enrollment by email student email course id course mode if email students email params 'enrolled enroll params address student emailemail params name previous state namesend mail to student student email email params language language else cea _ Course Enrollment Allowed or create course id course id email student email cea enroll auto enrollcea if email students email params 'allowed enroll params address student emailsend mail to student student email email params language language after state Email Enrollment State course id student email return previous state after state enrollment obj 
def forums request qs Forum is listed True qs qs related 'last post 'last post  author qs qs select {'thread count 'SELECTCOUNT * F R O Mforums thread W H E R Eforums thread id forums forum forums  [f for f in qs if f viewing by request ]return render request 'forums/forums.html' {'forums' paginate request forums  }
def longest increasing subseq seq if not seq return []head [0]predecessor [ -1 ]for i in range 1 len seq j bisect left [seq[head[idx]] for idx in range len head ] seq if j len head head i if seq < seq head ipredecessor head j - 1 ] if j > 0 else -1 result []trace idx head -1 ]while trace idx > 0 result seq idx trace idx predecessor idx result -1 ]
def update comments in parent after request if hasattr frappe u comments for reference doctype reference name  comments in frappe comments add column reference doctype u comments u Text update comments in parent reference doctype reference name  comments frappe 
def mem rss p ps if p is not None return humanbytes  process memory info p .rss
def conda prefix '~/miniconda' use sudo False if not is conda installed install miniconda prefix prefix use sudo use sudo 
def fake set locale category value None original setlocale locale if value not in None '' 'C' 'POSIX' raise locale Error ' return original setlocale category 'C'
def register admin extension url prefix extension data ADMIN E X T E N S I O N S prefix extension data 
def qqplot data dist stats distargs a 0 loc 0 scale 1 fit False line None ax None probplot Prob Plot data dist dist distargs distargs fit fit a a loc loc scale scale fig probplot ax ax line line return fig 
def yellow text attrib None return colorize text 'yellow' attrib 
def Files Belong To Same Module filename cc filename h if not filename cc '.cc' return False '' filename cc filename cc - len '.cc' ]if filename cc ' unittest filename cc filename cc - len ' unittest ]elif filename cc ' test filename cc filename cc - len ' test ]filename cc filename cc '/public/' '/' filename cc filename cc '/internal/' '/' if not filename h '.h' return False '' filename h filename h - len '.h' ]if filename h '-inl' filename h filename h - len '-inl' ]filename h filename h '/public/' '/' filename h filename h '/internal/' '/' files belong to same module filename cc filename h common path ''if files belong to same module common path filename cc - len filename h ]return files belong to same module common path 
def is I P Address addr dotted Parts addr '.' if len dotted Parts 4 for octet in dotted Parts try value int octet except Value Error return Falseelse if value < 0 or value > 255 return Falsereturn Truereturn False 
def character count html count 0strip space re u for match in re u html count + len strip space u match - 2 return count 
def reinstall ruby ruby runas None return  rvm ['reinstall' ruby runas runas 
def validate reading data return data ! 'isabled 
def set test mode v True global  TEST MODE  TEST RESULT TEST MODE v TEST RESULT []
@register hookdef bitbucket hook helper data if 'push' in data return bitbucket webhook helper data owner data data data branch data -1 ]['branch']else branch Noneparams {'owner' owner 'slug' slug data 'git' repos [ repo % params for repo in BITBUCKET GIT R E P O S data 'hg' repos [ repo % params for repo in BITBUCKET HG R E P O S L O G G E R 'unsupportedrepository %s' repr data raise Value Error 'unsupportedrepository' return {'service long name 'itbucket 'repo url ''.join [data['canon url data url 'repos' repos 'branch' branch 
def film rebulk Rebulk .regex defaults flags re I G N O R E C A S E rebulk 'f \\d{1 2} ' name 'film' private parent True children True formatter int rebulk Film Title Rule return rebulk 
def  get sqs conn profile region None key None keyid None if profile if isinstance profile string types  profile   opts  [profile]elif isinstance profile dict  profile profilekey  profile 'key' None keyid  profile 'keyid' None region  profile 'region' None if not region region   opts  .get 'sqs.region' 'us-east-1' if not key key   opts  .get 'sqs.key' None if not keyid keyid   opts  .get 'sqs.keyid' None try conn boto to region region aws access key id keyid aws secret access key key except boto No Auth Handler Found log 'oauthenticationcredentialsfoundwhenattemptingtomakesqs eventengineconnectionto A W S return Nonereturn conn 
def whois t Twitter auth authen try screen name g [0]except print Nicely red "orry Ican returnif screen name '@' try user t screen name screen name ] include entities False show profile user except debug option print Nicely red 'ouser else print Nicely red "nameshouldbeginwitha 
def qubit to matrix qubit format 'sympy' return represent qubit format format 
def regexp bool regexp flags 0 def transform function value return bool re regexp value flags return transform function 
def delete thread request thread id cc thread context  get thread and context request thread id if can delete cc thread context cc thread thread deleted sender None user request post cc thread else raise Permission Denied 
def savehist readline history file HISTFILE
def template macro params root param dict {}macro dict  macros of type root 'template' lambda el el for key value in macro dict param dict valuereturn param dict 
def dry registry xml parent data xml element X M L Sub Element xml parent 'ry Publisher helpers trends publisher '[DRY]' xml element data settings [ 'high-threshold' 'hreshold 50 'normal-threshold' 'hreshold 25 ]helpers.convert mapping to xml xml element data settings fail required True 
def bulk build jail pkg file keep False if not os pkg file return 'ouldnotfindfile pkg file if not is jail jail return 'ouldnotfindjail jail if keep cmd 'poudrierebulk-k-f{0}-j{1}'.format pkg file jail else cmd 'poudrierebulk-f{0}-j{1}'.format pkg file jail res   salt  ['cmd.run'] cmd lines res for line in lines if 'packagesbuilt' in line return linereturn 'heremayhavebeenanissuebuildingpackagesdumpingoutput {0}'.format res 
def get score submissions scores csm scores persisted block block weight  get weight from block persisted block block raw earned raw possible weighted earned weighted possible attempted  get score from submissions submissions scores block or  get score from csm csm scores block weight or  get score from persisted or latest block persisted block block weight if weighted possible is None or weighted earned is None return Noneelse has valid denominator weighted possible > 0.0 graded  get graded from block persisted block block if has valid denominator else False return Problem Score raw earned raw possible weighted earned weighted possible weight graded attempted attempted 
def safe name name return re ' Za '-' name 
def  tuplify obj if np obj and not isinstance obj string types res tuple str o for o in obj else res str obj return res 
@blueprint.route '/sources/<source>/meters' def list meters by source source rq flask rq conn meters source source project acl limited to project rq metaquery  get metaquery rq return flask meters [m.as dict for m in meters 
def get query words query word finder re u [^"]+ "| \\S+ ' .findallnormalize spaces re u }' .subwords []for word in word finder query found word word or word words normalize spaces u found word return words 
def askdirectory **options return apply Directory Browser options .show
def valid anytype val for validator in V A L I D A T O R if validator valid anytype continuetry if validator val return Trueexcept Not Valid passif isinstance val type return Trueraise Not Valid 'ny Type 
def  api test growl name output kwargs logging 'ending Growlnotification res sabnzbd growl ' A Bnzbd T 'est Notification 'other' test kwargs return report output error res 
def report Deprecated Worker Name Usage message stacklevel None filename None lineno None if filename is None if stacklevel is None stacklevel 3else stacklevel + 2warnings.warn Deprecated Worker Name Warning message None stacklevel else assert stacklevel is None if lineno is None lineno 0warnings.warn explicit Deprecated Worker Name Warning message Deprecated Worker Name Warning filename lineno 
def classname object modname name object  name  if object  module   ! modname name object  module   + '.' + name return name 
def instance group get all by project id context project id return I M P L group get all by project id context project id 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def maybe add auth url auth force False if not auth return urlurl parts urlparse url . asdict if url parts and not force return urlurl parts authreturn Url **url parts .url
def capfirst value return value and value + value ]
def linear transform weights input dim output dim param list None name '' weight inialization uniform numpy 2.0 / input dim input dim output dim W theano weight inialization name name assert param list is not None param list W return W
def  tgrep nltk tree pos action  s  l tokens node tree position tuple int x for x in tokens if x return lambda i lambda n m None l None hasattr n u and n i node tree position 
def get ordered categories database cats get categories categories []for cat in database cats if cat ! '*' categories database cats dict categories key lambda cat cat categories 0 database cats dict return categories 
@with open mode 'r' @with sizes 'medium' def seek forward blockwise f f 0 2 size f f 0 0 for i in xrange 0 size - 1 1000 f i 0
def string escape text replacements '\\' '\\\\' "'" "\\'" '"' '\\"' '\n' '\\n' '\r' '\\r' '\x00' '\\x00' '\\ufeff' '\\ufeff' '\\u2028' '\\u2028' '\\u2029' '\\u2029' for orig repl in replacements text text orig repl return text 
def cos mat target None if not target target materr code  cudamat cos mat mat target mat if err code raise generate exception err code return target 
def returner ret conn mdb  get conn ret if isinstance ret dict back  remove dots ret else back ret isinstance ret dict full ret  remove dots ret else full ret retlog back sdata {'minion' ret 'jid' ret 'return' back 'fun' ret 'full ret full ret 'out' in ret sdata ret float version > 2.3 mdb Returns one sdata else mdb Returns sdata 
def organization purge context data dict return  group or org purge context data dict is org True 
def separate users node user ids O S F User apps model ' S F User removed []subbed []for user id in user ids try user O S F User user id except Type Error user user idif node permission user 'read' subbed user id else removed user id return subbed removed 
def test record good output String I O recorder Record file object output replay False num lines 10for i in xrange num lines recorder line str i + '\n' output value output assert output value ''.join str i + '\n' for i in xrange num lines output String I O output value playback checker Record file object output replay True for i in xrange num lines playback checker line str i + '\n'
def check virtualserver lb name if   opts  ['load balancers lb None username password list   opts  ['load balancers else raise Exception 'nabletofind lb F5 F5 Mgmt lb username password return F5 virtualserver name 
def to marshallable type obj if obj is None return Noneif hasattr obj '  marshallable  ' return obj  marshallable   if hasattr obj '  getitem  ' return objreturn dict obj  dict  
def build repository type select field trans repository None name 'repository type if repository selected type str repository else selected type Nonerepository type select field Select Field name name for type label type class in trans types registry types by label option label str type class option value str type class if selected type and selected type option value selected Trueelse selected Falseif repository if repository option value repository type select field option option label option value selected selected elif type class valid for type trans repository repository type select field option option label option value selected selected else repository type select field option option label option value selected selected return repository type select field 
def polygamma n x n x asarray n asarray x fac2 -1.0 ** n + 1 * gamma n + 1.0 * zeta n + 1 x return where n 0 psi x fac2 
def all pairs shortest path G cutoff None return {n single source shortest path G n cutoff cutoff for n in G}
def parse field path field path model path field name field path u 1 app name model name model path u _ app label app name u 1 return app label model name field name 
def stub set host enabled context host name enabled results {rue 'enabled' False 'disabled'}if host name 'notimplemented' raise Not Implemented Error elif host name 'dummydest' raise exception Compute Host Not Found host host name elif host name 'service not available raise exception Compute Service Unavailable host host name elif host name 'host c2 return results not enabled ]else return results 
def secgroup create name description profile None conn  auth profile return conn create name description 
def unsafe eval enabled response non report only policies retrieve csp policies response report only policies retrieve csp policies response True policies all merge policies dict non report only policies report only policies if len policies all > 0 for directive name in policies all if directive name ! CSP DIRECTIVE SCRIPT continuefor directive value in policies all name if directive value .lower CSP DIRECTIVE VALUE UNSAFE EVAL return Truereturn False 
def  to micropennies per op pennies per return pennies * 1000000 / per 
def fuse getitem dsk func place return fuse selections dsk getitem func lambda a b tuple b place + a + tuple b place + 1 ]
def p expression uminus t t - t 
def istraceback object return isinstance object types Traceback Type 
def cm Service Request Priority Level presence 0 a Tp Pd pd 5 b Message Type mes Type 36 c Cm Service Type And Ciph Key Seq Nr e Mobile Station Classmark2 f Mobile Id packet a / b / c / e / f if Priority Level presence is 1 g Priority Level Hdr iei P L 8 eight Bit P L 0 packet packet / g return packet 
def shape x return tf x 
def page not found request template name '404.html' t loader template template name return http Http Response Not Found t Request Context request {'request path request 
def cmd map args from mavflightview import mavflightview mav mavflightview optionsoptions mavflightview options options mestate flightmodes mestate flightmodesoptions flightmode legend mestate flightmodeif len args > 0 options ' '.join args [path wp fen used flightmodes mavflightview mav mestate options mestate selections child multiprocessing Process target map process args [path wp fen used flightmodes options child mestate 
def do cli manager options if options action u entry list lists options returnif options action u entry list list options returnif options action u entry list show options returnif options action u entry list add options returnif options action u entry list del options returnif options action u entry list purge options return 
def size string return Utf8 string .  size  
def format html html return html u u .replace u u 
def get deleted objects objs opts user admin site using collector Nested Objects using using collector objs perms needed set def format callback obj has admin obj  class   in admin site registry opts obj metaif has admin admin url reverse u %s %s change % admin site opts label opts name None quote obj get pk val p u % opts label opts delete permission if not user perm p perms needed opts name return format html u <ahref "{1}">{2}</a>' capfirst opts name admin url obj else return u %s' % capfirst opts name force text obj to delete collector format callback protected [format callback obj for obj in collector to delete perms needed protected 
def find vpc module vpc conn vpc id None cidr None if vpc id None and cidr None module json msg 'oumustspecifyeitheravpc idoracidrblock aborting found vpcs []resource tags module 'resource tags if vpc id is not None found vpcs vpc conn all vpcs None {'vpc-id' vpc id 'state' 'available'} else previous vpcs vpc conn all vpcs None {'cidr' cidr 'state' 'available'} for vpc in previous vpcs vpc tags dict t t for t in vpc conn all tags filters {'resource-id' vpc if resource tags and set resource tags .issubset set vpc tags found vpcs vpc found vpc Noneif len found vpcs 1 found vpc found vpcs len found vpcs > 1 module json msg 'oundmorethanonevpcbasedonthesuppliedcriteria aborting return found vpc 
def extract javascript msgids source extracted extract javascript fileobj String I O source keywords {'_' None 'P ' 1 2 'N ' None 'NP ' 1 2 } comment tags {} options {} return [msg id for line func msg id comments in extracted 
def  handle zeros in scale scale copy True if np scale if scale 0.0 scale 1.0return scaleelif isinstance scale np if copy scale scale scale scale 0.0 ] 1.0return scale 
def create figure fig Figure a fig subplot 111 t np 0.0 3.0 0.01 s np 2 * np * t a t s return fig 
def get One Payload results ans auth add resultsreturn ans 
def get browse partitioned table limit return BROWSE PARTITIONED TABLE L I M I T 
def same file a b a os os a b os os b if sabnzbd W I N32 or sabnzbd D A R W I N a a b b if b a return 2if 'samefile' in os  dict   try return int os a b except return 0else return int a b 
def no such executable logged case logger assert Has Message case logger ZFS ERROR {'status' 1 'zfs command 'nonsensegarbagemadeupnosuchcommand' 'output' 'rrno2 Nosuchfileordirectory case Equal len Logged Message Type logger ZFS ERROR 1
def create Model model Params model Model Factory model Params model Inference {ield 'kw energy consumption return model 
def test dont break imports without namespaces src u 'from  future  importabsolute import parser Parser With Recovery load grammar src 'test.py' assert parser explicit absolute import 
@register.simple tag takes context True def locale js include context request context lang code request L A N G U A G E C O D Eexcept Attribute Error return ''if lang code 'en' or lang code not in settings S U P P O R T E D LANGUAGES return ''href get asset url 'sentry' 'dist/locale/' + lang code + '.js' return '<scriptsrc "{0}"{1}></script>'.format href crossorigin 
def test randomize corrmat dist a rs 3 20 for n i in [5 10] p mat dist algo corrmat a n iter n i return dist True assert equal n i dist -1 ] p mat dist algo corrmat a n iter 10000 return dist True diag mean dist 0 0 ].mean assert equal diag mean 1 off diag mean dist 0 1 ].mean nose greater 0.05 off diag mean 
def get Galera File return '/usr/lib/libgalera smm 
@evalcontextfilterdef do urlize eval ctx value trim url limit None nofollow False target None rel None policies eval ctx set rel or '' .split or [] if nofollow rel 'nofollow' rel policies or '' .split if target is None target policies ''.join sorted rel or None rv urlize value trim url limit rel rel target target if eval ctx rv Markup rv return rv 
@check is trading as api Execution Context phase EXECUTION PHASE.HANDLE BAR EXECUTION PHASE.SCHEDULED def order lots id or ins amount style None order book id assure order book id id or ins round lot int get data proxy .instrument order book id .round lot return order shares order book id amount * round lot style 
def setup app app role 'rfc' rfclink return 
def abstract func def wrapper *  args **  kw raise Not Implemented Error 'issingrequired method % func  name   wrapper  name   func  name  wrapper  dict   func  dict  wrapper  doc   func  doc  return wrapper 
def wait for volume status client volume id status body client volume volume id ['volume']volume status body int time while volume status ! status time client interval body client volume volume id ['volume']volume status body volume status 'error' and status ! 'error' raise exceptions Volume Build Error Exception volume id volume id if volume status 'error restoring raise exceptions Volume Restore Error Exception volume id volume id if int time - start > client timeout message 'olume current withintherequiredtime %ss .' % volume id status volume status client timeout raise lib exc Timeout Exception message 
def  abstract Path case return md5 case .hexdigest
def get pull request project num github api 3 if github api 2 url 'http //github.com/api/v2/json/pulls/{project}/{num}'.format project project num num elif github api 3 url 'https //api.github.com/repos/{project}/pulls/{num}'.format project project num num response requests url response for status if github api 2 return json response ['pull']return json response 
def  format content password salt encrypt True if not encrypt and not salt return passwordassert salt ' format contentwascalledwithencryptionrequestedbutnosaltvalue u %s' % password salt 
def handle extensions extensions 'html' ignored 'py' ext list []for ext in extensions ext list ext '' '' .split ' ' for i ext in enumerate ext list if not ext '.' ext list '.%s' % ext list return set [x for x in ext list if x '.' not in ignored ]
def get output volume cmd 'osascript-e"getoutputvolumeof getvolumesettings "'call   salt  ['cmd.run all cmd output loglevel 'debug' python shell False  check cmd call return call 'stdout'
def  trace D gj p i Dxtrav for h in Dxtrav if h p i return hreturn None 
def compile file filepath libraries None combined 'bin abi optimize True extra args None workdir filename os filepath args solc arguments libraries libraries combined combined optimize optimize extra args extra args args 0 get compiler path args filename output subprocess output args cwd workdir return solc parse output output 
def send notif for after purchase user invoice id order url send notification user user action NOTIF TICKET PURCHASED title NOTIFS[NOTIF TICKET P U R C H A S E D invoice id invoice id message NOTIFS[NOTIF TICKET P U R C H A S E D order url order url 
def ustr what if isinstance what unicode return whattry r what  str   except Attribute Error r str what if not isinstance r unicode return unicode r ENCODING return r 
def  tgrep rel disjunction action  s  l tokens tokens [x for x in tokens if x ! u ]if len tokens 1 return tokens len tokens 2 return lambda a b lambda n m None l None a n m l or b n m l tokens tokens 
def  invalid Win32 App pywinerr return pywinerr 193
def assert array list equal xlist ylist err msg '' verbose True if len xlist ! len ylist raise Assertion Error 'istsizeisdifferent for x y in zip xlist ylist numpy array equal cupy x cupy y err msg err msg verbose verbose 
def  get output filename dataset dir split name return '%s/mnist %s.tfrecord' % dataset dir split name 
@auth.route '/reset-password' methods ['GET' 'POST'] def forgot password if not current user anonymous return redirect url for 'forum.index' form Forgot Password Form if form on submit user User by email form .first if user send reset token user flash _ 'mailsent Pleasecheckyourinbox 'info' return redirect url for 'auth.forgot password else flash _ 'ouhaveenteredanusernameoremailaddressthatisnotlinkedwithyouraccount 'danger' return render template 'auth/forgot password form form 
def lambdify leaves expr s scope funcstr leaves expr return eval s scope 
def Contact V Card parent synopsis [ t and t 'vcard' 'contact' or t for t in parent S Y N O P S I S synopsis Contact V Card Command parent SYNOPSIS tuple synopsis KIND ' R D E R 'agging 3 VCARD 'contact'return Contact V Card Command 
def get flow **kwargs task id kwargs 'task id task type kwargs 'task type image repo kwargs 'image repo L O G 'low % task type swith I D id son repo s {'task type task type 'id' task id 'repo' image repo return lf Flow task type .add  Introspect task id task type image repo 
def Rekall E Process Renderer x return '%s %s ' % x Cybox Name x Cybox P I D 
def test get editor filter assert get editor filter state 'untranslated' '#filter untranslated assert get editor filter state 'untranslated' sort 'newest' '#filter untranslated newest assert get editor filter sort 'newest' '#sort newest assert get editor filter state 'all' search 'oo sfields 'locations' '#filter all assert get editor filter search 'oo sfields 'locations' '#search Foo locations assert get editor filter search 'oo sfields ['locations' 'notes'] '#search Foo locations notes assert get editor filter search 'oo bar I D 1' sfields 'locations' '#search Foo A A I D A locations 
def get default gcs bucket name deadline None rpc create rpc deadline make get default gcs bucket name call rpc rpc return rpc result 
def  aggr mean in List aggr Sum 0one 0for elem in in List if elem ! SENTINEL VALUE FOR MISSING DATA aggr Sum + elemnon None + 1if non None ! 0 return aggr Sum / non None else return None 
def test zeros Are Equal binascii hex '\x00\x00\x10\x00' '00001000'
@conf.commands.registerdef split layers lower upper   fval None **fval if   fval is not None fval   fval split bottom up lower upper **fval split top down lower upper **fval
def mask secret parameters parameters secret parameters result copy parameters for parameter in secret parameters if parameter in result result MASKED ATTRIBUTE V A L U Ereturn result 
def iri To U R I iri return  escapeme re  percent Escape Unicode iri 
def schema create dbname name owner None user None db user None db password None db host None db port None if schema exists dbname name db user db user db password db password db host db host db port db port log "'{0}'alreadyexistsin'{1}'".format name dbname return Falsesub cmd ' R E A T E S C H E M A name if owner is not None sub cmd ' U T H O R I Z A T I O N sub cmd owner ret  psql prepare and run ['-c' sub cmd user db user password db password port db port host db host maintenance db dbname runas user return ret 0
def make cgi application global conf script path None include os environ None query string None if path is None path global conf 'path' or global conf 'PATH' include os environ converters include os environ return C G I Application None script path path include os environ include os environ query string query string 
def connected return {'out'   proxy  ['napalm.ping'] }
@frappe.whitelist def set value doctype name fieldname value None if fieldname ! u and fieldname in frappe fields frappe _ u Cannoteditstandardfields if not value values fieldnameif isinstance fieldname basestring try values json fieldname except Value Error values {fieldname u values {fieldname value frappe value doctype name [u'parenttype' u as dict True if doc and doc and doc doc frappe doc doc doc child doc {u'doctype' doctype u name child values else doc frappe doc doctype name doc values doc return doc dict 
def get image label name default 'not found label Q Label label Pixmap Q Pixmap get image path name default return label 
@command 'rmp\\s* \\d+|%s ' % WORD def playlist remove name if name or g name if name name int name - 1 name sorted g [name]del g 'eletedplaylist % c name c g content display playlists else g util F 'plnotfoundadvisels' % name g content display 
def listify value arg split None out []if not isinstance arg list tuple arg [arg]for val in arg if val is None continueif isinstance val list tuple out listify value val split split continueout s for s in text type val .split split assert all isinstance val string types for val in out return out 
def base64 decode s if not isinstance s bytes s s 'ascii' 'replace' decoded decodebytes s return decoded 
def auto fields resource resource def config D O M A I N [resource def field config L A S T UPDATED config D A T E CREATED config E T A G + [ S S U E S config S T A T U S config L I N K S resource def is True fields config V E R S I O N fields config L A T E S T VERSION fields resource def field + config V E R S I O N ID SUFFIX if resource def delete is True fields config D E L E T E D return fields 
def document batch action section resource name event emitter batch action model service model collection model include signature True operation model service model model batch action model ignore params get resource ignore params batch action model example return value 'response'if batch action model example return value xform name batch action model example resource name xform name resource name if service model name resource name example resource name resource nameexample prefix '%s %s.%s.%s' % example return value example resource name collection model batch action model document model driven resource method section section method name batch action model operation model operation model event emitter event emitter method description operation model example prefix example prefix exclude input ignore params resource action model batch action model include signature include signature 
def diff jid jid config 'root' pre snapshot post snapshot  get jid snapshots jid config config return diff config num pre pre snapshot num post post snapshot 
def  split symbol mappings df mappings df mapping columns ]ambigious {}for symbol in mappings persymbol mappings mappings symbol ]intersections list intersecting ranges map from tuple zip persymbol date persymbol date if intersections ambigious intersections persymbol date 'end date 'datetime64[ns]' if ambigious raise Value Error 'mbiguousownershipfor multipleassetsheldthefollowingsymbols \n%s' % len ambigious '' if len ambigious 1 else 's' '\n'.join '%s \nintersections %s\n%s' % symbol tuple map  format range intersections '\n'.join str df .splitlines for symbol intersections df in sorted ambigious key first return df level 0 .apply  check asset group df mapping columns ]
def test ros fit sample ros Random Over Sampler random state RND SEED X resampled y resampled ros sample X Y X gt np [[0.04352327 -0.20515826 ] [0.20792588 1.49407907] [0.22950086 0.33367433] [0.15490546 0.3130677] [0.09125309 -0.85409574 ] [0.12372842 0.6536186] [0.094035 -2.55298982 ] [0.92923648 0.76103773] [0.47104475 0.44386323] [0.13347175 0.12167502] [0.92923648 0.76103773] [0.47104475 0.44386323] [0.92923648 0.76103773] [0.47104475 0.44386323]] y gt np [1 1 1 1 1 1 1 0 0 0 0 0 0 0] assert array equal X resampled X gt assert array equal y resampled y gt 
def fullmatch pattern string flags 0 grouped pattern re '^ ? %s $' % pattern pattern m grouped pattern string if m and m < len string m Nonereturn m 
def lookup Naming Authority Pointer name timeout None return get Resolver .aming Authority Pointer name timeout 
def build auxiliary edge connectivity G if G directed H nx Di Graph H nodes from G H edges from G capacity 1 return Helse H nx Di Graph H nodes from G for source target in G H edges from [ source target target source ] capacity 1 return H
def test factory support as data True if support as data return Data Model Tester Support As Data Mixinelse return Data Model Tester Not Support As Data Mixin 
def internalerror context 'nternal Server Error [ 'ontent Type 'text/html' ]context.output 'internalservererror'
def Get Flavor params flavors {'cygwin' 'win' 'win32' 'win' 'darwin' 'mac'}if 'flavor' in params return params sys in flavors return flavors sys 'sunos' return 'solaris'if sys 'freebsd' return 'freebsd'if sys 'openbsd' return 'openbsd'if sys 'netbsd' return 'netbsd'if sys 'aix' return 'aix'return 'linux'
def looks like a tool path invalid names [] enable beta formats False looks Falseif os path in invalid names return Falseif looks like a tool xml path looks Trueif not looks and enable beta formats for tool checker in BETA TOOL C H E C K E R S if tool checker path looks Truebreakreturn looks 
def  find vpcs vpc id None vpc name None cidr None tags None region None key None keyid None profile None if all vpc id vpc name raise Salt Invocation Error 'nlyoneofvpc nameorvpc idmaybeprovided if not any vpc id vpc name tags cidr raise Salt Invocation Error 'tleastoneofthefollowingmustbeprovided vpc id vpc name cidrortags conn  get conn region region key key keyid keyid profile profile filter parameters {'filters' {}}if vpc id filter parameters ids [vpc id cidr filter parameters cidrif vpc name filter parameters Name vpc nameif tags for tag name tag value in six tags filter parameters {0}'.format tag name ] tag valuevpcs conn all vpcs **filter parameters log 'hefilterscriteria V P Cs {1}'.format filter parameters vpcs if vpcs return [vpc.id for vpc in vpcs return []
def load config filename None text None test False commit True debug False replace False fun 'load merge candidate replace fun 'load replace candidate loaded   proxy  ['napalm.call'] fun **{'filename' filename 'config' text loaded config Noneif debug if filename loaded config open filename .read else loaded config textreturn  config logic  loaded test test commit config commit loaded config loaded config 
def frame msg body header None raw body False framed msg {}if header is None header {}framed msg headerframed msg bodyreturn msgpack framed msg 
def footnotes document footnotes domhelpers Elements With Attribute document 'class' 'footnote' if not footnotes returnfootnote Element dom Element 'ol' id 1for footnote in footnotes href dom String '<ahref "#footnote-% id d id d % vars .lementtext ''.join domhelpers Node Text footnote .split href Attribute 'title' text target dom Element 'a' target Attribute 'name' 'footnote-%d' % id target Nodes [ontent dom Element 'li' footnote Content Nodes [lement Nodes footnote Content footnote Node Child href footnote id + 1body domhelpers Nodes Named document 'body' [0]header dom String 'ootnotes .lementbody Nodes header body Nodes footnote Element 
def  upgrade from setuptools python cmd use sudo  easy install ['-U' 'setuptools'] python cmd use sudo 
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def  get address binary address if is valid ipv4 address address return ''.join [ get binary int octet 8 for octet in address '.' ] elif is valid ipv6 address address address expand ipv6 address address return ''.join [ get binary int grouping 16 16 for grouping in address ' ' ] else raise Value Error " Pv4or I Pv6address % address 
def  check cron user path mask cmd arg mask mask ' ' arg mask lst   salt  ['incron.list tab user for cron in lst if path cron and cron cmd cron mask cron ' ' cron mask if cron mask arg mask return 'present'if any [ x in cron mask for x in arg mask return 'update'return 'absent'
def api get manageable volumes *args **kwargs vols [{'reference' {'source-name' 'volume-%s' % fake V O L U M E ID } 'size' 4 'extra info 'qos setting high 'safe to manage False 'cinder id fake V O L U M E ID 'reason not safe 'volumeinuse'} {'reference' {'source-name' 'myvol'} 'size' 5 'extra info 'qos setting low 'safe to manage True 'cinder id None 'reason not safe None vols 
def custom verify access cookie zmirror verify cookie flask request return verify ip hash cookie zmirror verify cookie 
def print Exc msg '' indent 4 prefix '|' exc get Exc indent prefix + '' skip 2 print '[%s]%s\n' % time '%H %M %S' msg print '' * indent + prefix + ' ' * 30 + '>>' print exc print '' * indent + prefix + ' ' * 30 + '<<'
@utils.arg 'monitor id metavar '<monitor-id>' help ' Dofthemonitortosnapshot @utils.arg '--force' metavar 'rue False help "ptionalflagtoindicatewhethertosnapshotamonitorevenifit Default False " default False @utils.arg '--display-name' metavar '<display-name>' default None help 'ptionalsnapshotname Default None ' @utils.arg '--display name help argparse S U P P R E S S @utils.arg '--display-description' metavar '<display-description>' default None help 'ptionalsnapshotdescription Default None ' @utils.arg '--display description help argparse S U P P R E S S @utils.service type 'monitor' def do snapshot create cs args snapshot cs snapshots args id args args name args description  print monitor snapshot snapshot 
def get field java object field name command proto F I E L D COMMAND NAME + proto F I E L D GET SUBCOMMAND NAME + java object target id + u + field name + u + proto E N D COMMAND PART answer java object gateway client command command if answer proto N O MEMBER COMMAND or is error answer [0] raise Py4 J Error u field name java object target id else return get return value answer java object gateway client java object target id field name 
def validate color s if s 'none' return 'one is color like s return sstmp '#' + s if is color like stmp return stmpcolorarg smsg ''if s ' ' > 0 stmp ''.join [c for c in s if c or c '.' or c ' ' ] vals stmp ' ' if len vals ! 3 msg 'olortuplesmustbelength3 try colorarg [float val for val in vals Value Error msg 'ouldnotconvertallentriestofloats not msg and is color like colorarg return colorargraise Value Error '%sdoesnotlooklikeacolorarg%s' % s msg 
def dict error formatting errors index None formatted error list []top level error keys ['links' 'status' 'code' 'detail' 'source' 'meta']resource object identifiers ['type' 'id']if index is None index ''else index str index + '/' for error key error description in errors if isinstance error description basestring error description [error description error key in top level error keys formatted error list {error key description for description in error description elif error key in resource object identifiers formatted error list [{'source' {'pointer' '/data/{}'.format index + error key } 'detail' reason for reason in error description elif error key 'non field errors formatted error list [{'detail' description for description in error description else formatted error list [{'source' {'pointer' '/data/{}attributes/'.format index + error key } 'detail' reason for reason in error description return formatted error list 
def resnet v2 101 inputs num classes None is training True global pool True output stride None reuse None scope 'resnet v2 101' blocks [resnet utils Block 'block1' bottleneck [ 256 64 1 ] * 2 + [ 256 64 2 ] resnet utils Block 'block2' bottleneck [ 512 128 1 ] * 3 + [ 512 128 2 ] resnet utils Block 'block3' bottleneck [ 1024 256 1 ] * 22 + [ 1024 256 2 ] resnet utils Block 'block4' bottleneck [ 2048 512 1 ] * 3 ]return resnet v2 inputs blocks num classes is training is training global pool global pool output stride output stride include root block True reuse reuse scope scope 
def deploy application war file webapp path None if not webapp path webapp path os DEFAULT INSTALLATION PATH 'webapps' put local path war file remote path os webapp path war file use sudo True 
def patch vary headers response newheaders if response header 'ary vary headers cc delim re response Vary else vary headers []existing headers set [header.lower for header in vary headers additional headers [newheader for newheader in newheaders if newheader not in existing headers ]ary ' '.join vary headers + additional headers 
def get vsphere location context image id if image id metadata IMAGE A P I context image id include locations True locations metadata 'locations' if locations for loc in locations loc url loc 'url' if loc url and loc url 'vsphere //' return loc urlreturn None 
def test close connections print 'unningtest close connections s3 boto s3 for b in s3 all buckets if b 'test-' for key in b all keys key b bucket s3 bucket 'test-%d' % int time names [str uuid for _ in range 30 ]threads [spawn put object bucket name for name in names t in threads t threads [spawn get object bucket name for name in names t in threads t 
def list env saltenv 'base' ret {}if saltenv not in   opts  ['file roots return retfor f root in   opts  ['file roots ret root {}for root dirs files in os f root sub ret root root ! f root sroot rootabove []while not os sroot f root base os sroot if base above 0 base sroot os sroot for aroot in above sub sub dir  in dirs sub ] {}for fn  in files sub ] 'f'return ret 
def read reflog f for l in f yield parse reflog line l 
def same origin url1 url2 p1 p2 urlparse url1 urlparse url2 try return p1 p1 p1 p2 p2 p2 except Value Error return False 
def b64d s return base64 s 
def file upload filename case view request file request F I L E S field File Model obj file file return Http Response u % obj 
def compile function name code globs co compile code '<string>' 'single' ns {}eval co globs ns return ns 
def line2d seg dist p1 p2 p0 x21 p2 - p1 y21 p2 - p1 x01 np p0 - p1 y01 np p0 - p1 u x01 * x21 + y01 * y21 / float abs x21 ** 2 + y21 ** 2 u np u 0 1 d np x01 - u * x21 ** 2 + y01 - u * y21 ** 2 return d 
@ noconds  True def  fourier transform f x k a b name simplify True from sympy import exp IF integrate a * f * exp b * I * x * k x - oo oo if not F Integral return  simplify F simplify True if not F Piecewise raise Integral Transform Error name f 'couldnotcomputeintegral' F cond F F Integral raise Integral Transform Error name f 'integralinunexpectedform' return  simplify F simplify cond 
def convert to bcd decimal place bcd 0 0 while decimal > 0 nibble decimal % 10 bcd + nibble << place decimal / 10place + 4return bcd 
def from any size fraction ref None if cbook numlike size return Fixed size elif cbook string like size if size -1 ] u return Fraction float size -1 ] / 100.0 fraction ref raise Value Error u Unknownformat 
def attribute assortativity coefficient G attribute nodes None M attribute mixing matrix G attribute nodes return attribute ac M
def unparse multistring values if not isinstance values multistring or isinstance values list return valuestry values list list values has plural placeholder getattr values 'plural' False except Attribute Error values list valueshas plural placeholder Falseif list empty values list return ''if len values list 1 and has plural placeholder values list PLURAL PLACEHOLDER return S E P A R A T O R values list 
def query yes no question default 'yes' valid {'yes' True 'y' True 'ye' True 'no' False 'n' False default is None prompt '[y/n]'elif default 'yes' prompt ' default 'no' prompt ' raise Value Error "invaliddefaultanswer '%s'" % default while True sys question + prompt choice raw input .lower if default is not None and choice '' return valid choice in valid return valid sys "leaserespondwith or .\n"
def kernel d1 d2 r None weights None diff d1 - d2 if weights is None or r 0 return np r * diff 0 else return weights * np r ] * diff ] 0
def expected text *args text '<table>'for group in args text + "<tr><td>{}</td><tdstyle 'color {}'>{}</td><tdstyle 'padding-left 2ex'>{}</td></tr>".format *group return text + '</table>'
def  get bus number for scsi controller devices taken [umber for dev in devices if  is scsi controller dev ]for i in range constants S C S I MAX CONTROLLER NUMBER if i not in taken return imsg _ 'nly S C S Icontrollersareallowedtobecreatedonthisinstance % constants S C S I MAX CONTROLLER NUMBER raise vexc V Mware Driver Exception msg 
def minkowski u v p u  validate vector u v  validate vector v if p < 1 raise Value Error 'pmustbeatleast1' dist norm u - v ord p return dist 
def  git diff name status left right diff filter '' git cmd ['git' 'diff' '--name-status']if diff filter git cmd '--diff-filter {}'.format diff filter git cmd [left right out err  start subprocess for result git cmd if not err file list []for line in out file list File Diff line line line ' DCTB ' + 1 ] return file listelse raise Value Error err 
@docfillerdef mat reader factory file name appendmat True **kwargs byte stream  open file file name appendmat mjv mnv get matfile version byte stream if mjv 0 return Mat File4 Reader byte stream **kwargs elif mjv 1 return Mat File5 Reader byte stream **kwargs elif mjv 2 raise Not Implemented Error 'leaseuse H D Freaderformatlabv7 else raise Type Error 'idnotrecognizeversion % mjv 
def unique everseen iterable key None seen set seen add seen key is None for element in ifilterfalse seen  contains   iterable seen add element yield element else for element in iterable k key element if k not in seen seen add k yield element 
def samples from file file in start 0 stop -1 if not os file in raise I O Error 'nosuchfile`{0}`'.format file in rate table table from file file in start start stop stop return rate np table Table 
def contrast all one nm contr np stack np nm - 1 - np nm - 1 return contr 
def get horizontal shift value label return  check range and return 'horizontalshift' label -5 5
def grey closing input size None footprint None structure None output None mode 'reflect' cval 0.0 origin 0 tmp grey dilation input size footprint structure None mode cval origin return grey erosion tmp size footprint structure output mode cval origin 
@staff member requireddef cache stats request template name u stats cache stats get cache stats cache info settings C A C H E S D E F A U L T FORWARD CACHE A L I A S render to response template name Request Context request {u'cache hosts cache stats u backend cache info B A C K E N D u _ u Server Cache u path settings S I T E ROOT + u }
def  rfc3339 to datetime dt str return datetime dt str  RFC3339 MICROS .replace tzinfo UTC
def unquote to bytes string if not string string ''if isinstance string str string string 'utf-8' bits string '%' if len bits 1 return stringres [bits[0]]append res  hextobyteif  hextobyte is None  hextobyte { a + b .encode bytes [int a + b 16 ] for a in  hexdig for b in  hexdig item in bits ] try append  hextobyte 2]] append item ] except Key Error append '%' append item return ''.join res 
def validate title value if value is None or not value raise Validation Value Error 'itlecannotbeblank value sanitize html value if value is None or not value raise Validation Value Error 'nvalidtitle if len value > 200 raise Validation Value Error 'itlecannotexceed200characters return True 
def search explorations query limit sort None cursor None return search services query SEARCH INDEX EXPLORATIONS cursor limit sort ids only True 
def register mimetype handler handler if not issubclass handler Mimetype Handler raise Type Error u Only Mimetype Handlersubclassescanberegistered  registered mimetype handlers handler 
def getstatementrange old lineno source assertion False from codeop import compile commandfor start in range lineno -1 -1 if assertion line source 'super' in line and 'self' in line and '  init  ' in line raise Index Error 'likelyasubclass' if 'assert' not in line and 'raise' not in line continuetrylines source lineno + 1 ]trylines.insert 0 'defxxx ' trysource '\n'.join trylines try compile command trysource except Syntax Error Overflow Error Value Error continuefor end in range lineno + 1 len source + 1 trysource source end trysource return start end raise Syntax Error 'novalidsourcerangearoundline%d' % lineno 
@context.quietfunc@with devicedef logcat stream False if stream return process ['logcat'] else return process ['logcat' '-d'] .recvall
def sql demo print print u Using S Q Ltoextractrowsfrom R D B for row in sql query u database u S E L E C T F R O Mcity table print row 
def get unmounted partition list root part job None min blocks 0 filter func None exclude swap True open func open partitions get partition list job job min blocks min blocks filter func filter func exclude swap exclude swap open func open func unmounted []for part in partitions if part ! partname to device root part and not part mountpoint open func open func unmounted part return unmounted 
def get slug list name raw input light magenta 'ivemethelist "@owner/list name ' rl True try owner slug list name '/' if slug '@' slug slug ]return owner slug except print Nicely light magenta 'istnameshouldfollow name raise Exception 'ronglistname 
@transaction.non atomic requests P O S T csrf cookie control no cache True no store True must revalidate True @require level 'staff' def calculate grades csv request course id course key Slash Separated Course Key deprecated string course id try lms task calculate grades csv request course key success status _ 'hegradereportisbeingcreated Toviewthestatusofthereport see Pending Tasksbelow return Json Response {'status' success status except Already Running Error already running status _ 'hegradereportiscurrentlybeingcreated Toviewthestatusofthereport see Pending Tasksbelow Youwillbeabletodownloadthereportwhenitiscomplete return Json Response {'status' already running status 
def clean Request U R L url url Noneurl Noneurl Noneurl {}
def test cc fit single class ratio 'auto'cc Cluster Centroids ratio ratio random state RND SEED y single class np X assert warns User Warning cc X y single class 
def  make compatible taxa summaries ts1 ts2 sample id map None if sample id map for samp id in ts1 + ts2 if samp id not in sample id map raise Value Error "heoriginalsample I D I Dmap Allsample I Dsmusthaveamapping % samp id new samp ids1 new samp ids2 new data1 new data2 [] [] [] [] for samp idx samp id in enumerate ts1 matching samp id Noneif sample id map new samp id sample id map id orig samp id in sample id map if orig samp id ! samp id and sample id map samp id new samp id matching samp id orig samp idelif samp id in ts2 matching samp id samp idif matching samp id new samp ids1 samp id new samp ids2 matching samp id new data1 ts1 T idx new data2 ts2 T matching samp id ] if len new samp ids1 0 raise Value Error 'osample I Dsmatchedbetweenthetaxasummaries Thetaxasummariesareincompatible return new samp ids1 ts1 array new data1 .T new samp ids2 ts2 array new data2 .T
def set Slice Element Z decimal Places Carried slice Element slice Element Index z rounded Z euclidean Rounded To Places String decimal Places Carried z id Value 'z %s' % rounded Z slice Element Dictionary id Valuetext Element slice Element First Child With Class Name 'text' text Element 'ayer %s' % slice Element Index id Value 
def  set contour locator vmin vmax contours locator Noneif isinstance contours int from matplotlib import tickerlocator ticker Max N Locator nbins contours + 1 contours locator values vmin vmax return locator contours 
def get instance type access by flavor id flavorid ctxt None if ctxt is None ctxt context admin context return db type access get by flavor id ctxt flavorid 
def getcfs key filename filter None try t stat filename .st mtimeexcept O S Error return filter if callable filter else '' cfs lock item cfs key None cfs lock if item and item t return item not callable filter data read file filename else data filter cfs lock cfs t data cfs lock return data 
def search by name service name **kwargs if 'search' in inspect service [0] res service search 'name {name}'.format name name else res [e for e in service if e name ]if kwargs res [e for e in service if len [k for k v in kwargs if getattr e k None v ] len kwargs ]res res or [one return res 
def blank lines logical line blank lines indent level line number previous logical previous indent level if line number < 3 and not previous logical returnif previous logical '@' if blank lines yield 0 '304blanklinesfoundafterfunctiondecorator elif blank lines > 2 or indent level and blank lines 2 yield 0 '303toomanyblanklines %d ' % blank lines elif logical line 'def' 'class' '@' if indent level if not blank lines or previous indent level < indent level or DOCSTRING R E G E X previous logical yield 0 '301expected found0 elif blank lines ! 2 yield 0 '302expected found % blank lines 
def  defer Generator g deferred result Nonewaiting [rue None 1 try result g except Stop Iteration deferred result return deferredexcept deferred return deferredif isinstance result Deferred return fail Type Error 'ieldwait For Deferred d notd if isinstance result wait For Deferred def got Result r result result result rif waiting waiting Falsewaiting relse  defer Generator g deferred result Both got Result if waiting waiting Falsereturn deferredwaiting Truewaiting Noneresult None 
def failure code sub return '{\n% failure var s % id s !y Err Occurred {y Err Set String Py Exc Runtime Error \nexpectederrorinan Op Ccode No Pythonexceptionwasset ;\n}\ngoto  label % id i % sub 
def create private key path None text False bits 2048 passphrase None cipher 'aes 128 cbc verbose True if not path and not text raise salt Salt Invocation Error 'itherpathortextmustbespecified if path and text raise salt Salt Invocation Error 'itherpathortextmustbespecified notboth if verbose  callback func M2 Crypto R S A callbackelse  callback func  keygen callbackrsa M2 Crypto R S A key bits M2 Crypto R S A F4  callback func bio M2 Crypto B I O Memory Buffer if passphrase is None cipher Nonersa key bio bio cipher cipher callback  passphrase callback passphrase if path return write pem text bio all path path pem type 'RSAPRIVATEKEY' else return bio all 
def compute node get context compute id return I M P L node get context compute id 
def test seed diff skip if no scipy rng np Random State [1 2 3] seed rng 2147462579 - 1 dim 3mu rng dim rank dim X rng rank dim cov np X.T X mnd1 MND sigma cov mu mu seed seed num samples 5rd1 mnd1 design matrix num samples rd1 function [] rd1 mnd2 MND sigma cov mu mu seed seed + 1 rd2 mnd2 design matrix num samples rd2 function [] rd2 assert np rd1 ! rd2 
def get Temp Markdown Preview Path view settings sublime settings 'arkdown Preview tmp filename '%s.html' % view tmp dir tempfile if settings 'path tempfile if os settings 'path tempfile tmp dir settings 'path tempfile else tmp dir os os view name settings 'path tempfile if not os tmp dir os tmp dir tmp fullpath os tmp dir tmp filename return tmp fullpath 
def timestamp U U I D60 value if not isinstance value float int long raise Type Error 'anintegerorfloatisrequired' if value < 0 raise Value Error 'valuehavetobeapositiveornulinteger' try return UUID60 TIMESTAMP T0 + timedelta microseconds value / 10 except Overflow Error raise Value Error _ ' U I D60 overflow value %s ' % value 
def patch vary headers response newheaders if response header 'ary vary headers cc delim re response Vary else vary headers []existing headers set [header.lower for header in vary headers additional headers [newheader for newheader in newheaders if newheader not in existing headers ]ary ' '.join vary headers + additional headers 
def groupby key seq if not callable key key getter key d collections lambda [].append for item in seq d item ] item rv {}for k v in iteritems d rv v  self  return rv 
def random game nums actions random state None N len nums actions if N 0 raise Value Error 'nums actionsmustbenon random state check random state random state players [layer random state sample nums actions ] + nums actions i for i in range N ]g Normal Form Game players return g 
def vlan in use segmentation id namespace None ip wrapper I P Wrapper namespace namespace interfaces ip wrapper ['ip' '-d' 'link' 'list'] check exit code True return 'id % segmentation id in interfaces 
def is namespace property mutable context namespace property if context admin return Trueif context is None return Falsereturn namespace property context 
def get global options return  global options 
def check installed name path try return  read link name path except O S Error return False 
def  mbcs to unicode instr if instr is None or isinstance instr six type return instrelse return six type instr u 
def  control segment path name server dir os os   file   return os server dir 'control segments name 
def  operation complete result return result 
def freeze G G node frozen G nodes from frozen G node frozen G nodes from frozen G edge frozen G edges from frozen G edge frozen G edges from frozen G frozen G Truereturn G
def set Logger Class logging Class assert issubclass logging Class I Logger 'lassmustsubclass I Logger  Logger Class Logger Class logging Class 
def  get task statuses task ids response client tasks tasks task ids if response ! [] raise Exception 'hereweresomefailures \n{0}'.format response status code response Response Metadata H T T P Status Code status code ! 200 msg 'askstatusrequestreceivedstatuscode \n{1}'raise Exception msg status code response return [tatus for t in response 
def fnpickle object fileorname usec Pickle True protocol None append False if usec Pickle and six P Y2 import c Pickle as pickleelse import pickleif protocol is None protocol pickle H I G H E S T P R O T O C O Lif isinstance fileorname six types f open fileorname u if append else u close Trueelse f fileornameclose Falsetry pickle object f protocol protocol finally if close f 
def  parse check rule if rule '!' return False Check elif rule '@' return True Check try kind match rule ' ' 1 except Exception L O G _ 'ailedtounderstandrule % rule return False Check if kind in  checks return  checks kind match elif None in  checks return  checks None kind match else L O G _ 'ohandlerformatchesofkind % kind return False Check 
def iplayer from raw raw linktype 1 if linktype 1 try pkt dpkt Ethernet raw return pkt dpkt Need Data passelif linktype 101 return dpkt I P raw else raise Cuckoo Processing Error ' C A Plinktype 
@core helper 'h.subnav named routeisdeprecatedpleaseuseh link N O T E youwillneedtopasstheroute nameasanamedparameter def subnav named route text named route **kwargs return nav link text named route named route **kwargs
@require role 'admin' def asset update request asset id request G E T 'id' '' asset get object Asset id asset id name request not asset return Http Response Redirect reverse 'asset detail + '?id %s' % asset id else asset ansible update [asset] name return Http Response Redirect reverse 'asset detail + '?id %s' % asset id 
def ode 1st homogeneous coeff subs dep div indep eq func order match x func func Dummy 'u' u1 Dummy 'u1' r match C1 get numbered constants eq num 1 xarg match 'xarg' 0 yarg match 'yarg' 0 int Integral - r / r + u1 * r .subs {x 1 r u1 u1 None f x / x sol logcombine Eq log x int + log C1 force True sol sol f x u .subs u u - yarg x x - xarg u f x return sol 
def setup livestreamer global livestreamerlivestreamer Livestreamer 
def skip unless lms func return skip Unless settings R O O T URLCONF 'lms.urls' 'estonlyvalidin L M S func 
def server handled successfully status int return is success status int or is redirection status int or status int HTTP NOT FOUND or status int HTTP PRECONDITION FAILED or status int HTTP REQUESTED RANGE NOT SATISFIABLE
def get service hass config discovery info None api key config CONF API KEY sender config CONF SENDER recipient config CONF RECIPIENT return Sendgrid Notification Service api key sender recipient 
def grain funcs opts proxy None return Lazy Loader  module dirs opts 'grains' 'grain' ext type dirs 'grains dirs opts tag 'grains'
def  diff cache subnet group current desired modifiable {ache Subnet Group Description 'ache Subnet Group Description 'ubnet Ids 'ubnet Ids update {}for m o in modifiable if m in desired if not o need update desired m in current if current ! desired need update desired need update 
def CDLADVANCEBLOCK bar Ds count return call talib with ohlc bar Ds count talib C D L A D V A N C E B L O C K 
def usages add import modules evaluator definitions new set for d in definitions imp or stmt d definition if isinstance imp or stmt tree Import s imports Import Wrapper evaluator d new | set s is goto True return set definitions | new 
def Get Label plist try return plist Label Key Error return 'alse 
def  get borrowing getitem context seqty retty seqty impl context function 'getitem' signature retty seqty types def wrap builder args ret getitem impl builder args if context nrt context builder retty ret return retreturn wrap 
def sign string v2 string to sign signature base64 hmac Config Config .secret key deunicodise string to sign sha1 .digest .strip return signature 
def upload dev pdf user 'pandas' if os 'cdbuild/latex;scppandas.pdf{0}@pandas.pydata.org /usr/share/nginx/pandas/pandas-docs/dev/'.format user raise System Exit ' D Fuploadto Pydata Devfailed 
def get group type by name context name if name is None msg _ 'one raise exception Invalid Group Type reason msg return db type get by name context name 
def load item types item types {}for meta source in META S O U R C E S item types meta source types return item types 
def group membership s3db configure pr group membership table db group membershipgtable db grouphtable s3db human resources3 gtable False & gtable type 3 & htable 1 & htable id table id def prep r if r in 'create' 'create.popup' 'update' 'update.popup' person id get vars '~.person id None if person id field table idfield person idfield field Falsereturn Trues3 prepoutput s3 rest controller 'pr' 'group membership csv stylesheet 'hrm' 'group membership csv template 'group membership return output 
def test hermite cardinal Chart datas chart Chart interpolate 'hermite' interpolation parameters {'type' 'cardinal' 'c' 0.75} chart make data chart datas assert chart 
def invoke cmd stdout stderr environ prefix cmd cmd args error msg error status func name prefix + cmd if func name in globals return globals [func name stdout stderr environ *cmd args else stderr error msg return -1
def  rec list terms g v monom d terms dmp degree g v [] if not v for i c in enumerate g if not c continueterms monom + d - i c else w v - 1 for i c in enumerate g terms  rec list terms c w monom + d - i return terms 
def update quota tenant id subnet None router None network None floatingip None port None security group None security group rule None profile None conn  auth profile return conn quota tenant id subnet router network floatingip port security group security group rule 
def  get profile image filename name size file extension PROFILE IMAGE FILE EXTENSION return '{name} {size}.{file extension name name size size file extension file extension 
def viewdefaults wrapped def wrapper self *arg **kw defaults {}if arg view arg view kw 'view' view self dotted view if inspect view defaults getattr view '  view defaults  ' {} .copy if ' backframes not in kw kw backframes 1defaults.update kw return wrapped self *arg **defaults return functools wrapped wrapper 
def is py2exe or cx Freeze return osp osp get module path 'spyder' osp 
def egl Query String display name out  lib Query String display name if not out raise Runtime Error 'ouldnotquery % name return out 
def get Page url context Factory None *args **kwargs def  clientfactory *args **kwargs timeout kwargs 'timeout' 0 f client Scrapy H T T P Client Factory Request *args **kwargs timeout timeout f Callback lambda r r return ffrom twisted import  make Getter Factoryreturn  make Getter Factory url  clientfactory context Factory context Factory *args **kwargs .deferred
def set var value hass entity id value data {ATTR ENTITY ID entity id ATTR VALUE value DOMAIN SERVICE SET VAR VALUE data 
def Validate String Length name value max len if len value > max len raise datastore errors Bad Value Error 'roperty Consider Textinstead whichcanstorestringsofanylength % name len value max len 
def no import translation in tests logical line filename if 'nova/tests/' in filename res import translation for log or exception logical line if res yield 0 "337 Don 
def  gs decorrelation w W j t np like w for u in range j t t + np w W * W w - treturn w 
def get Minimum By Paths Complex paths minimum complex 999999999.0 999999999.0 for path in paths minimum get Minimum minimum get Minimum By Path Complex path return minimum 
def expect warnings *messages **kw return  expect warnings sa exc S A Warning messages **kw
def export to files record list None record module None verbose 0 create init None if frappe import returnif record list for record in record list write document file frappe doc record record record module create init create init 
def service get all by host context host return I M P L get all by host context host 
def compute Compr Rate meta compr size if not meta 'width' or not meta 'height' or not meta 'bits per pixel returnif not compr size returnorig size meta 'width' * meta 'height' * meta 'bits per pixel meta rate float orig size / compr size 
def sp sum x axis None sparse grad False return Sp Sum axis sparse grad x 
@register.simple tag takes context True def admin widget context widget request context u siteconfig Site Configuration site Site current widget states siteconfig u settings if widget states widget widget states widget u ! u else widget Falsereturn widget request 
def test unicode labels python3 Chart if sys info 2 returnchart Chart chart u ' [{'value' 1 'xlink' 'http //1/' 'label' eval "'{\\}\xc3\x82\xc2\xb0\xc4\xb3\xc3\xa6\xc3\xb0\xc2\xa9&\xc3\x97&<\xe2\x80\x94\xc3\x97\xe2\x82\xac\xc2\xbf \xe2\x80\xa6\\{ \xe2\x80\xa6'" } {'value' 2 'xlink' {'href' 'http //6.example.com/'} 'label' eval "'\xc3\xa6\xc3\x82\xc2\xb0\xe2\x82\xac\xe2\x89\xa0|\xe2\x82\xac\xc3\xa6\xc3\x82\xc2\xb0\xe2\x82\xac\xc9\x99\xc3\xa6'" } {'value' 3 'label' eval "b'unicode<3'" }] if not chart dual chart labels eval "['&\xc5\x93' '\xc2\xbf?' '\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0\xe2\x80\xa0' 'unicode<3']" chart pyquery 
def stringformat value arg try return '%' + str arg % value except Value Error Type Error return ''
def list quota volume name cmd 'volumequota{0}'.format name cmd + 'list'root  gluster xml cmd if not  gluster ok root return Noneret {}for limit in  iter root 'limit' path limit 'path' .textret[path]  etree to dict limit return ret 
def DESL K D d1 des expand Des Key K[0 7] d2 des expand Des Key K[7 14] d3 des expand Des Key K[14 16] + '\x00' * 5 return d1 D + d2 D + d3 D
def check Google words factory Google Checker Factory words reactor T C P 'www.google.com' 80 factory return factory 
def pretty try use unicode try symbols []symbols.extend greek unicode symbols + atoms table for s in symbols if s is None returnencoding getattr sys 'encoding' None if encoding is None returns encoding except Unicode Encode Error passelse pretty use unicode True 
def update session plot options **kwargs for key in kwargs if key not in PLOT OPTIONS raise exceptions Plotly Error '{}isnotavalidconfigorplotoptionkey'.format key if not isinstance kwargs PLOT O P T I O N S raise exceptions Plotly Error "{}mustbeoftype'{}'".format key PLOT O P T I O N S if key 'sharing' and not kwargs in SHARING OPTIONS raise exceptions Plotly Error "'{0}'mustbeofeither'{1}' '{2}'or'{3}'".format key *SHARING OPTIONS  session options kwargs 
def layers n m def bump a x 1 / 0.1 + np y 2 * np - 0.5 z 10 / 0.1 + np for i in range m w i / float m - y * z a + x * np - w * w a np m n for i in range n for j in range 5 bump a i return a 
def  partial regression endog exog i exog others res1a OLS endog exog others .fit res1b OLS exog i exog others .fit res1c OLS res1a res1b .fit return res1c res1a res1b 
def update nested dict main dict new dict for name rc dict in six new dict if name in main dict main dict rc dict else main dict rc dictreturn main dict 
def get course cohorts course assignment type None migrate cohort settings course query set Course User Group course id course key group type Course User Group C O H O R T query set query set cohort  assignment type assignment type if assignment type else query set return list query set 
def  translate conductor detail view context vol image id None d  translate conductor summary view context vol image id return d 
def get public certificates deadline None rpc create rpc deadline make get public certificates call rpc rpc return rpc result 
def store media files document resource original None for field in resource media fields document resource if original and field in original if isinstance original list for file id in original app file id resource else app original resource if document if isinstance document list id lst []for stor obj in document id lst app stor obj filename stor obj content type stor obj resource resource document id lstelse document app document filename document content type document resource resource 
def  morph sparse stc subject from subject to subjects dir None maps read morph map subject to subject from subjects dir stc morph stc stc morph subject tocnt 0for k hemi in enumerate ['lh' 'rh'] if stc > 0 map hemi maps k  sparse argmax nnz row map hemi order np vertno k n active hemi len vertno k data hemi stc morph data cnt + n active hemi ]stc morph data cnt + n active hemi ] data hemi morph vertno k + n active hemielse stc morph np [] int return stc morph 
def test install from local directory with no setup py script data result script 'install' data expect error True assert not result created assert "ile in result 
def run Length Encode stream encoded Stream ''return -1 'un Length Encodenotsupportedyet 
def split keyword keyword split set re '\\w+' keyword return split 
def resolve possible pending xrefs app fromdocname maybe xrefs result []for node in maybe xrefs if isinstance node addnodes xref result resolve pending xref app fromdocname node else result node return result 
def root create request root get or create root return redirect 'wiki get path root 
def libvlc vlm get media instance title p instance psz name i instance f  Cfunctions 'libvlc vlm get media instance title None or  Cfunction 'libvlc vlm get media instance title 1 1 1 None ctypes int Instance ctypes char p ctypes int return f p instance psz name i instance 
def  merge entries path tree1 tree2 entries1  tree entries path tree1 entries2  tree entries path tree2 i1 i2 0len1 len entries1 len2 len entries2 result []while i1 < len1 and i2 < len2 entry1 entries1 entries2 entry1 < entry2 result entry1  NULL ENTRY i1 + 1elif entry1 > entry2 result  NULL ENTRY entry2 i2 + 1else result entry1 entry2 i1 + 1i2 + 1for i in range i1 len1 result entries1  NULL ENTRY for i in range i2 len2 result  NULL ENTRY entries2 return result 
def unique file name base name extension '' idcount 0if extension and not extension '.' extension '.%s' % extension fname base name + extension while os fname fname '%s-%d%s' % base name idcount extension idcount + 1return fname 
def Unique Iterator iterator key lambda x x so far set def no dups x k key x if k in so far return Falseelse so far k return Truereturn Iterator Filter iterator no dups 
def  get frame class frame import inspectif isinstance frame six types frame names frame transform graph names if frame not in frame names raise Value Error u Coordinateframe frame sorted frame names frame cls frame transform graph name frame elif inspect frame and issubclass frame Base Coordinate Frame frame cls frameelse raise Value Error u Coordinateframemustbeaframenameorframeclass return frame cls 
def  warn iers ierserr msg u Assuming U T1 U T C 0forcoordinatetransformations.'warnings.warn msg ierserr Astropy Warning 
def get details for etag options tags noserver read etag file options if noserver and not options options noserverm re ' ? W/ ?"? .* "?$' options if m options m 1 etag options etag in tags print 'oundetag % etag tags return tags etag '-' ]for t in tags if t short ! -1 print 'artial E Tagmatch [%s] [%s]forversion%s' % etag t tags return tags None 
def parse options parser cli args if not cli args cli args '-h' options args parser args cli args options  parser parserif not args parser usage sys 0 command name args 0 command lookup command parser command name return options command args 
def get profiler log path autodir return os autodir 'results' 'default' 'debug' ' E B U G 
def dup transform f p q K if not f return []n len f - 1 h Q [f[0]] [ for i in range 0 n Q dup mul Q[ -1 ] q K for c q in zip f ] Q[1 ] h dup mul h p K q dup mul ground q c K h dup add h q K return h 
def create instance context user id 'fake' project id 'fake' params None flavor flavors flavor by name 'm1.tiny' net info model Network Info [] info cache objects Instance Info Cache network info net info inst objects Instance context context image ref uuids image ref reservation id 'r-fakeres' user id user id project id project id instance type id flavor flavor flavor old flavor None new flavor None system metadata {} ami launch index 0 root gb 0 ephemeral gb 0 info cache info cache if params inst params inst return inst 
def current route url request *elements **kw return request route url *elements **kw
def synopsis filename cache {} mtime os filename .st mtime lastupdate result cache filename None None if lastupdate is None or lastupdate < mtime info inspect filename try file open filename except I O Error return Noneif info and 'b' in info try module imp module '  temp  ' file filename info ] except return Noneresult module  doc  .splitlines [0] if module  doc   else None del sys  temp  ']else result source synopsis file file cache mtime result return result 
def get default ddir user home os '~' join exists os os if mswin return join user home 'ownloads 'mps' USER DIRS join user home '.config' 'user-dirs.dirs' DOWNLOAD HOME join user home 'ownloads if 'XDG DOWNLOAD DIR' in os ddir os X D G DOWNLOAD D I R exists USER DIRS lines open USER DIRS .readlines defn [x for x in lines if x 'XDG DOWNLOAD DIR' ]if len defn 1 ddir defn ' ' [1].replace '"' '' ddir ddir '$HOME' user home .strip else ddir DOWNLOAD HOME if exists DOWNLOAD HOME else user home else ddir DOWNLOAD HOME if exists DOWNLOAD HOME else user home ddir ddirreturn os ddir 'mps'
def floating ip pool list call None if call ! 'function' raise Salt Cloud System Exit 'hefloating ip pool listactionmustbecalledwith conn get conn return conn ip pool list 
def data path path return path if isabs path else join project data dir path 
def add interface zone interface permanent True if interface in get interfaces zone permanent log 'nterfaceisalreadyboundtozone cmd '--zone {0}--add-interface {1}'.format zone interface if permanent cmd + '--permanent'return   firewall cmd cmd 
def confirm title text informative text ok text icon None default True cancel text None cancel icon None msgbox Qt Widgets Q Message Box active window msgbox Window Modality Qt Window Modal msgbox Window Title title msgbox Text text msgbox Informative Text informative text icon icons icon icons ok msgbox Button ok text Qt Widgets Q Message Box Action Role ok Icon icon cancel msgbox Button Qt Widgets Q Message Box Cancel cancel icon icons cancel icon icons cancel Icon cancel icon if cancel text cancel Text cancel text if default msgbox Default Button ok else msgbox Default Button cancel msgbox  return msgbox Button ok 
def lstrips text remove return  strips 'l' text remove 
def move source destination use sudo False func use sudo and run as root or run func '/bin/mv{0}{1}'.format quote source quote destination 
def float sum iterable return float sum iterable 
def json2csv entities tweets file outfile main fields entity type entity fields encoding 'utf8' errors 'replace' gzip compress False writer outf outf writer compat outfile encoding errors gzip compress header get header field list main fields entity type entity fields writer header for line in tweets file tweet json line if  is composed key entity type key value  get key value composed entity type object json  get entity recursive tweet key if not object json continueobject fields extract fields object json main fields items  get entity recursive object json value  write to file object fields items entity fields writer else tweet fields extract fields tweet main fields items  get entity recursive tweet entity type  write to file tweet fields items entity fields writer outf 
def quota allocated update context project id resource allocated return I M P L allocated update context project id resource allocated 
def Allocate Ids Async model key size None **kwargs max kwargs 'max' None config  Get Config From Kwargs kwargs if getattr config 'read policy None EVENTUAL CONSISTENCY raise datastore errors Bad Request Error 'read policyisonlysupportedonreadoperations keys _ Normalize And Type Check Keys model key if len keys > 1 raise datastore errors Bad Argument Error 'annotallocate I Dsformorethanonemodelkeyatatime rpc  Get Connection .async allocate ids config keys size max return rpc 
def write checkpoint current key ctr cluster mapping ids bestscores order out fp checkpoint dir out fp + '/checkpoints/' if not exists checkpoint dir create dir checkpoint dir out fp checkpoint dir + '/checkpoint%d.pickle' % ctr out fh open out fp 'w' pickle current key ctr cluster mapping ids bestscores order out fh return out fp 
def Chi Noncentral name k l return rv name Chi Noncentral Distribution k l 
def zip timeseries *series **kwargs next slice max if kwargs 'order' 'descending' 'descending' else min iterators [eekable Iterator s for s in series []for w in iterators r w if r date values rwidths len values else widths 0 while True items [it.peek for it in iterators not any items returncurrent slice next slice item for item in items if item data []for i item in enumerate items if item and item current slice data item iterators else data [0] * widths yield current slice tuple data 
def wl Pen wl l1 400l2 700hue np l2 - l1 - wl - l1 * 0.8 / l2 - l1 0 0.8 val 1.0if wl > 700 val 1.0 * 700 - wl / 700.0 + 1 elif wl < 400 val wl * 1.0 / 400.0 color pg Color hue 1.0 val pen pg Pen color return pen 
def test lda empty docs Z np 5 4 for X in [Z csr matrix Z ] lda Latent Dirichlet Allocation max iter 750 .fit X assert almost equal lda .sum axis 0 np lda .shape[1]
def op abs tmul lin op value if lin op is lo N E G result valueelif lin op is lo M U L coeff mul lin op {} True if np coeff result coeff * value else result coeff T * value elif lin op is lo D I V divisor mul lin op {} True result value / divisor elif lin op is lo C O N V result conv mul lin op value True True else result op tmul lin op value return result 
def get resources dests resources root rules def get rel path base path base base os '/' path path os '/' assert path base return path base ].lstrip '/' destinations {}for base suffix dest in rules prefix os resources root base for abs base in iglob prefix abs glob os abs base suffix for abs path in iglob abs glob resource file get rel path resources root abs path if dest is None destinations resource file None else rel path get rel path abs base abs path rel dest dest os '/' .rstrip '/' destinations file rel dest + '/' + rel path return destinations 
def local extra dirs func def wraps self *args **kwargs if kwargs 'base dir None is None return func self *args **kwargs else for c in self  class  .  mro   if c  name   'isk Object Store return getattr c func  name   self *args **kwargs raise Exception "ouldnotcall Disk Object Store doesyour Object Storeplugininheritfrom Disk Object Store % func  name   return wraps 
def  labels inertia precompute dense X x squared norms centers distances n samples X labels mindist pairwise distances argmin min X X Y centers metric 'euclidean' metric kwargs {'squared' True labels labels np if n samples distances distances ] mindistinertia mindist return labels inertia 
def  validate dict keys dict to check required keys optional keys assert set required keys < set dict to check 'issingkeys %s' % dict to check assert set dict to check < set required keys + optional keys 'xtrakeys %s' % dict to check 
def image volume cache create context host cluster name image id image updated at volume id size return I M P L volume cache create context host cluster name image id image updated at volume id size 
def copy constr constr func expr func constr return type constr expr constr id constr 
def  write 3 fid val f bytes np 3 dtype np f bytes val >> 16 & 255 f bytes val >> 8 & 255 f bytes val & 255 fid f bytes 
def cluster remove version name 'main' stop False cmd [salt.utils.which 'pg dropcluster ]if stop cmd + ['--stop']cmd + [version name ''.join [pipes.quote c for c in cmd ret   salt  ['cmd.run all cmdstr python shell False if ret 'retcode' 0 ! 0 log 'rrorremovinga Postgresqlcluster version name else ret 'uccessfullyremovedcluster version name return ret 
def get Local Android Path client args local Path os args Output Folder '{0}-{1}'.format client Android I D client if not os local Path logging 'reating local Path os local Path return local Path 
def mult a b try return a * b except Type Error return to decimal a * to decimal b 
def  run shell command cmd tmpdir cmdsuf ''if platform 'indows cmdsuf '.bat'cmd '@echooff\r\n' + cmd handle path tempfile text True dir tmpdir suffix cmdsuf os handle cmd 'utf-8' os handle os path stat S IRWXU proc Popen path shell True stdout PIPE stderr PIPE proc stdout _ proc os path return  chomp as unicode stdout 
def Search Data Adapter results format collection if results and results and results search data results collection Selected headers collection Selected headers [field['name'] for field in collection []for data in search data row []for column in headers if column not in data row '' elif isinstance data basestring or isinstance data int long float complex row data elif isinstance data list row [smart str val errors 'replace' for val in data else row smart str data rows row else rows [[]] yield headers rows 
def to tornado future asyncio future tf tornado Future tornado future asyncio future tf return tf 
def import string dotted path try module path class name dotted path u 1 except Value Error msg u % dotted path six Import Error Import Error msg sys info [2] module import module module path try return getattr module class name except Attribute Error msg u Module % dotted path class name six Import Error Import Error msg sys info [2]
def english sort x y  spat re '^the\\s+|^a\\s+|^an\\s+' re I G N O R E C A S E return cmp  spat '' x  spat '' y 
def set block scalar indent Token Class def callback lexer match context text match context scalar indent Noneif not text returnincrement match 1 if increment current indent max context 0 increment int increment context scalar indent current indent + increment if text yield match Token Class text context match return callback 
def run discovery entry points iter cached False reg cache {}if cached reg cache cache cache discovery Qt Widget Discovery cached descriptions reg cache registry Qt Widget Registry discovery category registry category discovery widget registry widget discovery if cached cache registry cache reg cache return registry 
def do lower s return soft unicode s .lower
def verbose lookup expr lookup expr from .conf import settings as app settings V E R B O S E LOOKUPS app settings V E R B O S E LOOKUPS or {} lookups [force text VERBOSE L O O K U P S lookup _ lookup for lookup in lookup expr LOOKUP SEP ]return ''.join lookups 
def instance add security group context instance id security group id return I M P L add security group context instance id security group id 
@login required jsondef  create item request parent locator request locator key usage key with run parent locator if not has studio write access request usage key key raise Permission Denied category request isinstance usage key Library Usage Locator if category not in ['html' 'problem' 'video'] return Http Response Bad Request "ategory Libraries % category content type 'text/plain' created block create xblock parent locator parent locator user request category category display name request 'display name boilerplate request 'boilerplate' return Json Response {'locator' unicode created block 'ey unicode created block key }
def simsam range to files table tree simulated sample sizes dissimilarities output dir mapping f None output table basename 'table' output map basename 'map' create dir output dir for e in simsam range table tree simulated sample sizes dissimilarities mapping f output table e mapping lines e sample size e e table fp join output dir '%s n d % output table basename simulated sample size dissimilarity write biom table output table output table fp if output mapping lines is not None output map fp join output dir '%s n d % output map basename simulated sample size dissimilarity output map f open output map fp 'w' output map f ''.join output mapping lines output map f 
def parse function plugin logger line state try acc state acc + 1 except Key Error acc 1state['test acc accres line res accres {'metric type 'counter'}return tuple res 
def set subnet name name cmd 'systemsetup-setlocalsubnetname"{0}"'.format name salt utils return success cmd return salt utils updated name get subnet name 
@ignore warningsdef check estimators pickle name Estimator check methods ['predict' 'transform' 'decision function 'predict proba X y make blobs n samples 30 centers [[0 0 0] [1 1 1]] random state 0 n features 2 cluster std 0.1 X - X y multioutput estimator convert y 2d name y estimator Estimator set random state estimator set testing parameters estimator estimator X y result dict for method in check methods if hasattr estimator method result getattr estimator method X pickled estimator pickle estimator if Estimator  module  .startswith 'sklearn.' assert true 'version' in pickled estimator unpickled estimator pickle pickled estimator for method in result unpickled result getattr unpickled estimator method X assert array almost equal result unpickled result 
def estimate beta ridge x y alpha beta initial [random.random for x i in x minimize stochastic partial squared error ridge alpha alpha partial squared error ridge gradient alpha alpha x y beta initial 0.001
def get common path pathlist common osp osp pathlist if len common > 1 if not osp common return abspardir common else for path in pathlist if not osp osp common path len common + 1 ] return abspardir common else return osp common 
def remove wsgi intercept host port key host port if  wsgi intercept key key del  wsgi intercept 
def find Image File filename isfile os isfile filename return filenameorig copy filename extensions '.jpg' '.png' '.tif' '.bmp' '.gif' '.jpeg' '.tiff' def log Corrected orig actual logging 'equestedimage Thiswillbeusedinsteadbutchangingthefilenameisadvised orig actual if filename extensions filename os orig [0]if isfile filename log Corrected orig filename return filenamefor ext in extensions if isfile filename + ext filename + extlog Corrected orig filename return filename 
def login required func @wraps func def decorated view *args **kwargs if not users current user return redirect users login url request return func *args **kwargs return decorated view 
def  compute variable length solns model t0 k0 g tol results {}for integrator in ['dopri5' 'dop853' 'vode' 'lsoda'] discrete soln model t0 k0 h 1.0 g g tol tol integrator integrator atol 1e-14 rtol 1e-11 results discrete solnreturn results 
def compile and install client project client extra args '' install client True java args {}java args dir  TMP COMPILE D I Rjava args dir  DEFAULT APP D I Rjava args dir find gwt dir java args args extra argsjava args client project clientcmd  COMPILE LINE % java args logging 'ompilingclient project client try utils cmd verbose True if install client return install completed client java args dir project client return Trueexcept error Cmd Error logging 'rrorcompiling leavingoldclient project client return False 
def validate auth option option value lower value validate option value if lower not in  AUTH OPTIONS raise Configuration Error 'nknownauthenticationoption %s' % option return lower value 
def UINT value if value is None raise Value Error u Noneisnotavalidinteger if not value raise Value Error u Onlypositivenumbersareallowed return int value 
def libvlc video set spu p mi i spu f  Cfunctions 'libvlc video set spu None or  Cfunction 'libvlc video set spu 1 1 None ctypes int Media Player ctypes int return f p mi i spu 
def cache project cls projects dict resources dict def get ctx *args **kwargs path env resources path return resources path project path env 'g pymode rope project root if not project path project path env 'ookctx project path if env 'g pymode rope lookup project True project path look ropeproject project path if not os project path env 'opeprojectrootnotexist %s' % project path ctx Noneelse ctx projects project path if not ctx projects path ctx cls path project path resources ctxreturn ctxreturn get ctx 
def filename match filename if not options return Truefor pattern in options if fnmatch filename pattern return True 
def connect configservice aws access key id None aws secret access key None **kwargs from boto import Config Service Connectionreturn Config Service Connection aws access key id aws access key id aws secret access key aws secret access key **kwargs
def  decode preferred encoding s enc locale try try return s enc except Lookup Error enc  DEFAULT E N C O D I N Greturn s enc except Unicode Decode Error return s u 
def  on Pyglet Text text emulated False global use Textif not use Text returnkey Time psychopy Time if emulated key Source 'mulated Key key Source 'ey Press key Buffer text key Time logging '%s %s' % key Source text 
def  sphinx version major minor micro level serial sys inforelease '%s%s' % major minor if micro release + '%s' % micro if level 'candidate' release + 'rc%s' % serial elif level ! 'final' release + '%s%s' % level serial return release 
def Zero dtype None return Constant 0.0 dtype dtype 
def wrap aws conn raw conn def retry if ex 'etryifwegetaservererrorindicatingthrottling Also A W S isinstance ex boto Boto Server Error and 'hrottling in ex or 'equest Expired in ex or ex 505 or isinstance ex socket and ex in 104 'onnectionresetbypeer 110 'onnectiontimedout return Retry Wrapper raw conn retry if retry if backoff  EMR BACKOFF multiplier  EMR BACKOFF MULTIPLIER max tries  EMR MAX TRIES
def compute Overlap x y return x & y .sum
def  fulfills version spec version version spec for oper spec in version spec if oper is None continueif not salt versions ver1 version oper oper ver2 spec return Falsereturn True 
def mkdir dir path return os 'mkdir-p' + dir path 
def option present name value reload False ret {'name' 'testingmode' 'changes' {} 'result' True 'comment' 'ptionalreadypresent namecurrent option   salt  ['csf.get option option if current option l   salt  ['csf.split option current option option value l '"{0}"'.format value option value return retelse result   salt  ['csf.set option option value ret 'ptionmodified Option 'hanged result   salt  ['file.append'] '/etc/csf/csf.conf' args '{0} "{1}"'.format option value ret 'ptionnotpresent Appendedtocsf Option 'hanged reload if   salt  ['csf.reload'] ret + 'sfreloaded ret + 'sffailedtoreload Falsereturn ret 
def attach total points queryset as field 'total points attr model queryset 'SELECTSUM projects points \ R O Muserstories rolepoints I N N E R J O I Nprojects points O Nuserstories rolepoints id projects points W H E R Euserstories rolepoints story id {tbl}.id'sql sql tbl model meta table queryset queryset select {as field sql return queryset 
def test hsl to rgb part 4 assert hsl to rgb 0 100 50 255 0 0 assert hsl to rgb 12 100 50 255 51 0 assert hsl to rgb 24 100 50 255 102 0 assert hsl to rgb 36 100 50 255 153 0 assert hsl to rgb 48 100 50 255 204 0 assert hsl to rgb 60 100 50 255 255 0 assert hsl to rgb 72 100 50 204 255 0 assert hsl to rgb 84 100 50 153 255 0 assert hsl to rgb 96 100 50 102 255 0 assert hsl to rgb 108 100 50 51 255 0 assert hsl to rgb 120 100 50 0 255 0
def initiate deletion req location data id store utils image location from backend req id location data 
def publish exploration and update user profiles committer id exp id rights manager exploration committer id exp id contribution time msec utils current time in millisecs contributor ids get exploration summary by id exp id .contributor idsfor contributor in contributor ids user services first contribution msec if not set contributor contribution time msec 
def riemann cyclic t2 if isinstance t2 Tens Mul Tensor args [t2]else args t2 [x.split for x in args [[riemann cyclic replace tx for tx in y for y in a1 [tensor mul *v for v in a2 Tens Add *a3 if not t3 return t3else return canon bp t3 
@register.simple tagdef disqus id for obj return u % obj meta name obj 
def kinetic energy frame *body if not isinstance frame Reference Frame raise Type Error 'leaseenteravalid Reference Frame ke sys S 0 for e in body if isinstance e Rigid Body Particle ke sys + e energy frame else raise Type Error 'articleor Rigid Body return ke sys 
def generate module src if not src return UNKNOWN MODULE filename ext splitext urlsplit src .path if ext not in '.js' '.jsx' '.coffee' return UNKNOWN M O D U L Eif filename '.min' filename filename -4 ]tokens filename '/' for idx token in enumerate tokens if VERSION R E token return '/'.join tokens idx + 1 ] return CLEAN MODULE R E '' filename or UNKNOWN MODULE
@contextmanagerdef safe concurrent creation target path safe mkdir for target path tmp path u target path uuid .hex try yield tmp path finally if os tmp path safe concurrent rename tmp path target path 
def  get ssh interface vm  return config cloud config value 'ssh interface vm    opts   default 'public ips search global False 
@decorators.api view ['GET'] @decorators.permission classes permissions Allow Any @decorators.renderer classes J S O N Renderer def section search request query request G E T 'q' None if not query return Response {'error' 'earchtermrequired Usethe G E Targtosearch status status H T T P 400 BAD REQUEST project slug request G E T 'project' None version slug request G E T 'version' LATEST path request G E T 'path' None log ' A P I Section Search [%s %s]%s' project slug version slug query results search section request request query query project slug project slug version slug version slug path path return Response {'results' results 
def is filelike obj return hasattr obj 'read'
@csrf exempt page sync session handle error with jsondef device download data session zone session device zone devicezones list Device Zone objects zone zone device  in data devices [devicezone.device for devicezone in devicezones downloaded + len devices + len devicezones return Json Response {'devices' serialize devices + devicezones dest version session version ensure ascii False }
def load auth tokens user None if user is None user users current user if user is None return {}pickled tokens memcache 'gdata pickled tokens %s' % user if pickled tokens return pickle pickled tokens user tokens Token Collection .filter 'user ' user .get if user tokens memcache 'gdata pickled tokens %s' % user user tokens tokens return pickle user tokens tokens return {}
@sopel.module.commands u @sopel.module.priority u @sopel.module.thread False def pm f reload bot trigger if trigger privmsg f reload bot trigger 
def get default access key id access key id script AWS A C C O U N T S A C C E S S KEY ID S C R I P T return access key id script or get s3a access key 
def  not a knot x k x np x if k % 2 ! 1 raise Value Error 'dddegreefornowonly Got % k m k - 1 // 2 t x m + 1 - m - 1 ]t np [ x * k + 1 t x -1 ] * k + 1 ]return t 
def reinitialize command self command reinit subcommands cmd obj  DISTUTILS REINIT self command reinit subcommands options self options command if options self set command options cmd obj options return cmd obj 
def  allow CTRL C posix signal signal S I G I N T signal int handler 
def backup dir dir ext '.bak' n 1extension extwhile os dir + extension n + 1extension ext + str n return dir + extension 
def init native init subsystem Native Factory return Native Factory instance .create
def timeout reactor deferred timeout sec reason None def  timeout deferred delayed timeout reactor Later timeout sec  timeout if reason is not None def maybe replace reason passthrough if delayed timeout return passthroughreturn Failure reason deferred Errback maybe replace reason def abort timeout passthrough if delayed timeout delayed timeout return passthroughdeferred Both abort timeout return deferred 
def  row from json row schema row data []for field cell in zip schema row converter  CELLDATA FROM J S O N type field 'REPEATED' row data [converter item field for item in cell else row data converter cell field return tuple row data 
def create Memory Worker def perform if not worker pending return Falseif worker pending is No More Work return Falseworker pending 0 return Trueworker Memory Worker return worker perform 
def do baremetal node list cs  args  emit deprecation warning 'baremetal-node-list' nodes cs  print baremetal nodes list nodes 
def primary key value instance as string False result getattr instance primary key for instance if not as string return resulttry return str result except Unicode Encode Error return url quote plus result 'utf-8'
def setup app app role 'rfc' rfclink return 
def ci a which 95 axis None p 50 - which / 2 50 + which / 2 return percentiles a p axis 
@CELERY A P P send ccx course published course key course key Course Locator string course key for ccx in Custom Course For Ed X course id course key try ccx key C C X Locator course locator course key unicode ccx except Invalid Key Error log 'ttempttopublishcoursewithdeprecatedid Course % C X %s' course key ccx continueresponses Signal Handler published sender ccx course key ccx key for rec response in responses log 'ignalfiredwhencourseispublished Receiver %esponse %s' rec response 
def inverse hankel transform F k r nu **hints return Inverse Hankel Transform F k r nu .doit **hints
def set main css css file assert css file '.css' new css css fileapp globals css str new css 
def brightness temperature beam area disp beam beam area si .valuenu disp si G Hz spectral def convert Jy to K x jybm factor 2 *  si B * si K * nu ** 2 /  si ** 2 .to astrophys Jy .valuereturn x jybm / beam / factor def convert K to Jy x K factor astrophys Jy / 2 *  si B * nu ** 2 /  si ** 2 .to si K .valuereturn x K * beam / factor return [ astrophys Jy si K convert Jy to K convert K to Jy ]
def color text color code readline False if sys 'win32' and os 'TERM' ! 'xterm' return str text if readline return '\x01\x1b[%dm\x02%s\x01\x1b[0m\x02' % color code text return '\x1b[%dm%s\x1b[0m' % color code text 
def Create G R R Temp File V F S directory None filename None lifetime 0 mode 'w+b' suffix '' fd Create G R R Temp File directory directory filename filename lifetime lifetime mode mode suffix suffix pathspec rdf paths Path Spec path fd pathtype rdf paths Path Spec Path Type T M P F I L E return fd pathspec 
def p postfix expression 2 t pass 
def can introspect field if hasattr field ' south introspects and field south introspects return Truefull name '%s.%s' % field  class  .  module   field  class  .  name   for regex in allowed fields if re regex full name return Truereturn False 
def etc hosts attrs None where None return  osquery cmd table 'etc hosts attrs attrs where where 
def available modules extra service versions set []  tempest modules set tempest modules plugin services Clients Registry .get service clients for plugin name in plugin services plug service versions set [x['service version for x in plugin services name if plug service versions if not plug service versions extra service versions detailed error 'lugin % plugin name extra service versions & plug service versions raise exceptions Plugin Registration Exception name plugin name detailed error detailed error if not plug service versions  tempest internal modules detailed error 'lugin Tempestone % plugin name  tempest internal modules & plug service versions raise exceptions Plugin Registration Exception name plugin name detailed error detailed error extra service versions | plug service versionsreturn  tempest modules | extra service versions 
def  get mask X value to mask if value to mask 'a N or np value to mask return np X else return X value to mask 
def colname colx alphabet ' B C D E F G H I J K L M N O P Q R S T U V W X Y Z colx < 25 return alphabet xdiv26 xmod26 divmod colx 26 return alphabet xdiv26 - 1 ] + alphabet 
def seek wrapped response response if not hasattr response 'seek' wrapper class get seek wrapper class response response wrapper class response assert hasattr response 'get data return response 
def  build Fake F K Table cls fake Table Name count Cols 0attrs {}for col in cls imdbpy Schema count Cols + 1if col 'id' continueif not col Key attrs MAP C O L S **col.params continuethis Col Name col this Col Name 'ID' this Col Name this Col Name -2 ]fks col Key '.' 1 foreign Table Name fks len fks 2 foreign Col Name fks foreign Col Name 'id'fk Foreign Key foreign Table Name name this Col Name default None attrs Col Name fknewcls type fake Table Name S Q L Object attrs return newcls 
def edns from text text return  from text text  edns by text 
def add Y Groove derivation negatives x if derivation Bevel < 0.0 returnbottom derivation - derivation Bevel top derivation [complex x bottom complex x - derivation Bevel top complex x + derivation Bevel top ]triangle mesh Symmetric Y Path negatives groove 1.0001 * derivation Right 
def is valid number for region numobj region code country code numobj codeif region code is None return Falsemetadata Phone Metadata for region or calling code country code region code if metadata is None or region code ! REGION CODE FOR NON GEO ENTITY and country code ! country code for valid region region code return Falsensn national significant number numobj return  number type helper nsn metadata ! Phone Number Type U N K N O W N 
def Needs Mac O S X Proxy Fakes return sys 'darwin' and 2 6 0 < sys info < 2 6 4
def event name ret {'name' name 'changes' {} 'comment' '' 'result' False event in   events   if salt match event name ret Truereturn ret 
def prepare wmt data data dir en vocabulary size fr vocabulary size tokenizer None train path get wmt enfr train set data dir dev path get wmt enfr dev set data dir from train path train path + '.en' to train path train path + '.fr' from dev path dev path + '.en' to dev path dev path + '.fr' return prepare data data dir from train path to train path from dev path to dev path en vocabulary size fr vocabulary size tokenizer 
def setraw fd when TCSAFLUSH mode tcgetattr fd mode I F L A G mode I F L A G & ~ BRKINT | ICRNL | INPCK | ISTRIP | IXON mode O F L A G mode O F L A G & ~ OPOST mode C F L A G mode C F L A G & ~ CSIZE | PARENB mode C F L A G mode C F L A G | CS8 mode L F L A G mode L F L A G & ~ ECHO | ICANON | IEXTEN | ISIG mode C C V M I N 1 C V T I M E 0tcsetattr fd when mode 
@jinja2.contextfunction@library.global functiondef number context n if n is None return ''return format decimal n locale  babel locale  contextual locale context 
def split qexpr parts e expr part []qexpr part []for arg in e if not isinstance arg Q Expr expr part arg else qexpr part arg return expr part qexpr part 
def pmap field key type value type optional False invariant  valid initial  UNDEFINED factory None input factory factoryclass The Map Checked P Map   key type   key type  value type   value type The Map  name   key type  name  .capitalize + value type  name  .capitalize + ' Map if optional def mapping factory argument if argument is None return Noneelse return The Map argument else mapping factory The Mapif input factory factory lambda x mapping factory input factory x else factory mapping factoryif initial is  UNDEFINED initial The Map else initial factory initial return field mandatory True initial initial type optional type The Map if optional else The Map factory factory invariant invariant 
def curve4 bezier p1 p2 p3 p4 x1 y1 p1 x2 y2 p2 x3 y3 p3 x4 y4 p4points [] curve4 recursive bezier points x1 y1 x2 y2 x3 y3 x4 y4 dx dy points - x1 points - y1 if dx * dx + dy * dy > 1e-10 points 0 x1 y1 dx dy points -1 ][0] - x4 points -1 ][1] - y4 if dx * dx + dy * dy > 1e-10 points x4 y4 return np points .reshape len points 2
def cram text maxlen if len text > maxlen pre max 0 maxlen - 3 // 2 post max 0 maxlen - 3 - pre return text pre + '...' + text len text - post ] return text 
def build provider location system lun type lun id version location dict {'system' system 'type' lun type 'id' six type lun id 'version' version dump provider location location dict 
def p unary expression 4 t pass 
def get hqe percentage complete **filter data query models Host Queue Entry objects filter data complete count query complete True .count total count query if total count 0 return 1return float complete count / total count 
def build query rep query divider u return divider [el[0] for el in query 
def set range metadata builder load lower bound upper bound range operands [onstant load lower bound Constant load upper bound ]md builder metadata range operands load metadata 'range' md 
def hadoop fs ls stdout stderr environ *args if mock hadoop uses yarn environ and args and args '-R' path args args ]recursive Trueelse path args argsrecursive Falsereturn  hadoop fs ls 'ls' stdout stderr environ path args path args recursive recursive 
def run Calibration eyegaze control import subprocess timeresult p Eye Gaze Eg Exit byref eyegaze control eyegaze control Nonep subprocess Popen 'calibrate.exe' '' while p is None time 0.05 return init Eye Gaze 
def   validate   config if not isinstance config dict return False 'onfigurationforbonjour announcementbeaconmustbeadictionary elif not all x in list config for x in 'servicetype' 'port' 'txt' return False 'onfigurationforbonjour announcebeaconmustcontainservicetype portandtxtitems return True 'alidbeaconconfiguration 
def heatmap data vmin None vmax None cmap None center None robust False annot None fmt '.2g' annot kws None linewidths 0 linecolor 'white' cbar True cbar kws None cbar ax None square False ax None xticklabels True yticklabels True mask None **kwargs plotter  Heat Mapper data vmin vmax cmap center robust annot fmt annot kws cbar cbar kws xticklabels yticklabels mask kwargs linewidthskwargs linecolorif ax is None ax plt if square ax aspect 'equal' plotter ax cbar ax kwargs return ax 
def get Level level return  level Names level 'evel % level 
def  delete rpm probes probes return   salt  ['probes.delete probes  ordered dict to dict probes commit False 
def  get encryption headers key source False if key is None return {}key  to bytes key key hash hashlib key .digest key hash base64 key hash .rstrip key base64 key .rstrip if source prefix ' Goog Copy Source Encryption prefix ' Goog Encryption { prefix + 'lgorithm 'AES256' prefix + 'ey  bytes to unicode key prefix + 'ey Sha256  bytes to unicode key hash }
def test get debug values no debugger prev value config test valuetry config test value 'off'x T for x val in op debug values x assert Falsefinally config test value prev value 
def berp zeros nt if not isscalar nt or floor nt ! nt or nt < 0 raise Value Error 'ntmustbepositiveintegerscalar.' return specfun nt 5
def generate random alphanumeric length return ''.join random string uppercase + string for  x in range length 
def assert raises regex exception class expected regexp callable obj None *args **kwargs   tracebackhide   Truenose import nose if sys info > 3 funcname nose raises regexelse funcname nose raises regexpreturn funcname exception class expected regexp callable obj *args **kwargs
def find tests testdir prefixes DEFAULT PREFIXES suffix '.py' excludes remove suffix True tests []for name in os testdir if not suffix or name suffix for prefix in prefixes if name prefix if remove suffix and name suffix name name - len suffix ]if name not in excludes tests name tests return tests 
def load class dotted path dotted path split dotted path '.' if len dotted path split > 1 klass name dotted path split -1 ]module name '.'.join dotted path split -1 ] module load module module name if has attribute module klass name klass getattr module klass name return klasselse raise Attribute Error 'odule % module name klass name else raise Value Error 'ottedmodulepath % dotted path 
def deconv X w subsample 1 1 border mode 0 0 conv mode 'conv' img gpu contiguous X kerns gpu contiguous w desc Gpu Dnn Conv Desc border mode border mode subsample subsample conv mode conv mode gpu alloc empty img kerns img * subsample img * subsample .shape kerns out gpu alloc empty img kerns img * subsample img * subsample d img Gpu Dnn Conv Grad I kerns img out desc return d img 
def volumedriver cls  volume register cls return cls 
def  matching String constant String input String if isinstance constant String bytes other Type constant String 'ascii' else other Type constant String 'ascii' if type constant String type input String return constant Stringelse return other Type 
def node degree xy G x 'out' y 'in' weight None nodes None if nodes is None nodes set G else nodes set nodes xdeg G G G directed direction {'out' G degree 'in' G degree direction direction u degu in xdeg nodes weight weight neighbors nbr for _ nbr in G u if nbr in nodes for v degv in ydeg neighbors weight weight yield degu degv 
def load meta prefix dist return linked data prefix .get dist 
def validate **vkargs depr 'seroutewildcardfiltersinstead def decorator func @functools.wraps func def wrapper *args **kargs for key value in vkargs if key not in kargs abort 403 'issingparameter %s' % key try kargs value kargs except Value Error abort 403 'rongparameterformatfor %s' % key return func *args **kargs return wrapperreturn decorator 
def tetrahedral graph create using None G complete graph 4 create using G 'latonic Tetrahedralgraph G
def get data path file name None if file name is None file name ''return os DATA DIR file name 
def python version return  sys version [1]
def liveobj changed obj other return obj ! other or type obj ! type other 
def  d n j prec sq23pi sqrt8 j from int j pi mpf pi prec a mpf div sq23pi j prec b mpf sub from int n from rational 1 24 prec prec c mpf sqrt b prec ch sh mpf cosh sinh mpf mul a c prec D mpf div mpf sqrt j prec mpf mul mpf mul sqrt8 b pi prec E mpf sub mpf mul a ch mpf div sh c prec prec return mpf mul D E
def mkdir p dir if not dir returnif dir '/' or dir '\\' mkdir p dir -1 ] returnif os dir returnmkdir p os dir try os dir except Exception pass 
def  can do sum of squares n k if k < 1 return Falseif n < 0 return Falseif n 0 return Trueif k 1 return is square n if k 2 if n in 1 2 return Trueif isprime n if n % 4 1 return 1return Falseelse f factorint n for p m in f if p % 4 3 and m % 2 return Falsereturn Trueif k 3 if n // 4 ** multiplicity 4 n % 8 7 return Falsereturn True 
def dynamize value val dynamodb type get dynamodb type val if dynamodb type 'N' val {dynamodb type serialize num val }elif dynamodb type 'S' val {dynamodb type val dynamodb type 'NS' val {dynamodb type list map serialize num val }elif dynamodb type 'SS' val {dynamodb type [n for n in val dynamodb type 'B' if isinstance val bytes val Binary val val {dynamodb type val }elif dynamodb type 'BS' val {dynamodb type [n.encode for n in val val 
def split title title width title fs titles []if not title return titlessize reverse text len width title fs * 1.1 title lines title '\n' for title line in title lines while len title line > size title part title line size title part '' if i -1 i len title part titles title part i title line title line ].strip titles title line return titles 
def to nnf expr simplify True if is nnf expr simplify return exprreturn expr nnf simplify 
def create and check dir path if not os path os path elif not os path os W OK raise O S Error 'DATA D I R path 
def get datasources orgname None profile 'grafana' if isinstance profile string types profile   salt  ['config.option'] profile if orgname switch org orgname profile response requests '{0}/api/datasources'.format profile url auth  get auth profile headers  get headers profile timeout profile 'grafana timeout 3 if response code > 400 response for status return response 
def terminal action parent fn action cmd action parent cmds Launch Terminal lambda utils directory fn hotkeys T E R M I N A L return action 
def get all collections bus service obj bus get object bus SS PATH service props iface dbus Interface service obj dbus P R O P E R T I E S IFACE for collection path in service props iface Get SERVICE IFACE 'ollections signature 'ss' yield Collection bus collection path 
def is valid csv parser file name row limit row count 0for row in csv open file name row count + 1if row limit > row count parser "he count row limit file name sys 1
def  extract id token id token if type id token bytes segments id token '.' else segments id token u if len segments ! 3 raise Verify Jwt Token Error 'rongnumberofsegmentsintoken {0}'.format id token return json  helpers from bytes  helpers urlsafe b64decode segments 
def unwatch log log root logging Logger None .loggerto replace [h for h in log root if isinstance h handlers Watched File Handler ]for handler in to replace new handler std logging File Handler handler Filename mode handler encoding handler log root Handler handler log root Handler new handler 
def setup platform hass config add devices discovery info None if discovery info is None returnadd devices Telldus Live Sensor hass sensor for sensor in discovery info 
def convert tree beautiful soup tree makeelement None if makeelement is None makeelement html parser  convert tree beautiful soup tree makeelement children root for child in children root child return children 
def  validate list key value for ind element in enumerate value if not isinstance element basestring or isinstance element datetime or isinstance element datetime or isinstance element numbers Number raise Value Error 'llvaluesofamulti strings dateordatetimeinstances The % ind key type element 
def ntohl integer if sys 'big' return integerif not isinstance integer int long raise Type Error 'expectedint/long %sfound' %  Type Name integer if integer < 0 raise Overflow Error "can'tconvertnegativenumbertounsignedlong" if integer > 1 << 32 raise Overflow Error 'longintlargerthan32bits' return int integer & 4278190080 >> 24 | integer & 16711680 >> 8 | integer & 65280 << 8 | integer & 255 << 24
def load stored item cache path item return cache parser path item time - 1
def has flag conf atom flag if flag in get flags from package conf conf atom return Truereturn False 
def obtain lock id to hog for id in board ids if  obtain lock id return idreturn -1
def get latest flexget version number try page requests u //download.flexget.com/latestversion' except requests Request Exception returnver page return ver 
def isproxy obj return orig isinstance obj Net Proxy 
def  to app identity error error error map {app identity service pb App Identity Service Error N O T A VALID APP Internal Error app identity service pb App Identity Service Error D E A D L I N E EXCEEDED Backend Deadline Exceeded app identity service pb App Identity Service Error B L O B TOO LARGE Blob Size Too Large app identity service pb App Identity Service Error U N K N O W N ERROR Internal Error app identity service pb App Identity Service Error U N K N O W N SCOPE Invalid Scope app identity service pb App Identity Service Error N O T ALLOWED Not Allowed app identity service pb App Identity Service Error N O T IMPLEMENTED Operation Not Implemented error error in error map return error map error error detail else return Internal Error '%s %s' % error error error detail 
def  put Result In Deferred reactor deferred f args kwargs try result f *args **kwargs except Exception f failure Failure reactor From Thread deferred f else reactor From Thread deferred result 
def export stats request project subproject subprj get subproject request project subproject data [trans.get stats for trans in subprj set ]return export response request 'stats-%s-%s.csv' % subprj subprj 'name' 'code' 'total' 'translated' 'translated percent 'total words 'translated words 'failing' 'failing percent 'fuzzy' 'fuzzy percent 'url translate 'url' 'last change 'last author data 
def convert opt key val if key 'env' val env to str val elif val is None val ''else val str val return val 
def disinherit name object Type copy inherited acl True ret {'name' name 'result' True 'changes' {} 'comment' 'et   salt  ['win dacl inheritance name object Type if t Ret if t Ret Inheritance if   opts  ['test'] ret Noneret Inheritance 'isabled 'nheritanceissettobedisabled Inherited A C Ls 'resettobekept if copy inherited acl else 'resettoberemoved return rete Ret   salt  ['win dacl inheritance name object Type copy inherited acl ret e Ret e Ret ret dict ret *et else ret ''.join [ret['comment'] e Ret elif   opts  ['test'] ret Noneret 'nheritanceisdisabled ret Falseret t Ret ret 
def colnum2name n assert n > 0 s ''while n n m divmod n - 1 26 s chr m + ord 'A' + s return s 
def task reserved request add request requests  setitem   add reserved request reserved requests add request request request add reserved request request 
@csrf exempt P O S Tdef password reset request limiter Bad Request Rate Limiter if limiter rate limit exceeded request AUDIT L O G 'atelimitexceededinpassword reset return Http Response Forbidden form Password Reset Form No Active request P O S T if form valid form use https request secure from email configuration helpers value 'email from address settings D E F A U L T FROM EMAIL request request domain override request host tracker SETTING CHANGE INITIATED {'setting' 'password' 'old' None 'new' None 'user id request destroy oauth tokens request else AUDIT L O G 'adpassword resetuserpassedin limiter bad request counter request return Json Response {'success' True 'value' render to string 'registration/password reset done {} }
def worker e step input queue result queue logger ' while True logger 'gettinganewjob' chunk no chunk worker lda input queue logger 'processingchunk#%iof%idocuments' chunk no len chunk worker lda worker lda estep chunk del chunklogger 'processedchunk queuingtheresult result queue worker lda del worker ldalogger 'resultput'
def  relpath path start '.' if not path raise Value Error 'nopathspecified' start List os start .split os path List os path .split os i len os [ist path List rel List ['..'] * len start List - i + path List ] if not rel List return pathreturn os *ist 
def construct mirror name volume return 'mirror ' + six type volume 
def assert array max ulp a b maxulp 1 dtype None numpy array max ulp cupy a cupy b maxulp maxulp dtype dtype 
def  map to list game map list map game map '\n' return [ character 'UTF-8' if isinstance character basestring else character for character in list map 
def service Command method Name cmd Class Service Wrapper Command def wrapper obj journal *args **kwargs return journal Command cmd Class method Name args kwargs return wrapper 
def  build offset offset kwargs default if offset is None if not kwargs return defaultelse return  td check datetime **kwargs elif kwargs raise Value Error 'annotpasskwargsandanoffset elif isinstance offset datetime return  td check offset else raise Type Error "ustpass 
def has required keys xblock for key in 'discussion id 'discussion category 'discussion target if getattr xblock key None is None log "equiredkey leavingoutofcategorymap key xblock return Falsereturn True 
@add to dict  after create functions def after VBD create vbd ref vbd rec vbd rec attached Falsevbd rec ''vbd rec 'other config {} vm ref vbd rec V M rec  db content V M ref rec V B Ds vbd ref vm name label  db content V M ref label rec name label vm name labelvdi ref vbd rec V D I vdi ref and vdi ref ! 'paque Ref NULL' vdi rec  db content V D I ref rec V B Ds vbd ref 
def identify format origin data class required path fileobj args kwargs valid formats []for data format data class in  identifiers if  is best match data class required data class  identifiers if  identifiers data format data class ] origin path fileobj *args **kwargs valid formats data format return valid formats 
def get messages from page name return  get messages from page or report u Page name 
def extra padding y keep ratio original size padding return  resize original size 1 padding padding keep aspect ratio True 
def get all vlanids L O G _ 'get all vlanids called session db session try vlanids session network models v2 Vlan I D .all return vlanidsexcept exc No Result Found return []
def count Non Printable Chars string counter 0for i in range len string if ord string < 31 or ord string > 127 counter + 1return counter 
def kill pid pid signal 15 try psutil Process pid .send signal signal return Trueexcept psutil No Such Process return False 
def for all dtypes name 'dtype' no float16 False no bool False return for dtypes  make all dtypes no float16 no bool name name 
def mapping file to dict mapping data header map dict {}for i in range len mapping data sam mapping data dict {}for j in range len header if j 0 continuemap dict sam map dict 
def is jid jid if not isinstance jid six types return Falseif len jid ! 20 return Falsetry int jid return Trueexcept Value Error return False 
def  patched list steps emr conn *args **kwargs try boto Cluster Timeline  Patched Cluster Timelinereturn emr conn steps *args **kwargs finally boto Cluster Timeline Cluster Timeline 
def is list of ints intlist if not isinstance intlist list return Falsefor i in intlist if not isinstance i int return Falsereturn True 
def in6 isaddr6to x x inet pton socket A F INET6 x return x 2] '\x02'
def   virtual   if not HAS ELASTICSEARCH return False 'annotloadmoduleelasticsearch elasticsearchlibrariesnotfound return True 
def new figure manager given figure num figure canvas Figure Canvas Mac figure manager Figure Manager Mac canvas num return manager 
def generate presigned url self Client Method Params None Expires In 3600 Http Method None client method Client Methodparams Paramsexpires in Expires Inhttp method Http Methodrequest signer self request signerserializer self serializertry operation name self PY TO OP N A M E method Key Error raise Unknown Client Method Error method name client method operation model self model model operation name request dict serializer to request params operation model if http method is not None request dict http methodprepare request dict request dict endpoint url self url return request signer presigned url request dict request dict expires in expires in operation name operation name 
def oo random word length source ' B C D E F G H I J K L M N O P Q R S T U V W X Y Z0123456789 return ''.join random source for i in range length 
def  get info slice obj indexer if not hasattr obj ' info axis number raise Type Error 'objectoftype%rhasnoinfoaxis' % type obj .  name   slices [slice None ] * obj slices info axis number indexerreturn tuple slices 
def add key to url url scheme key query request dict query only keyreplacements {'query' urllib query }if scheme replacements schemeparsed url urlparse url if parsed url replacements '{}%23{}'.format parsed url parsed url replacements ''parsed redirect url parsed url replace **replacements return urlparse parsed redirect url 
def batch indices batch nb data length batch size start int batch nb * batch size end int batch nb + 1 * batch size if end > data length shift end - data length start - shiftend - shiftreturn start end 
def recreate tags from list list of tags tags list i 0list of tags list of tagsfor i in range len list of tags key name list of tags val list of tags {ey key name 'alue key val return tags 
def get base domain url domain get domain url tld '.'.join domain '.' [ -2 ] if tld in ['co.uk' 'com.au' 'au.com'] end chunks domain '.' [ -3 ]else end chunks domain '.' [ -2 ]base domain '.'.join end chunks return base domain 
def relativize classpath classpath root dir followlinks True def relativize url url root dir url os url if followlinks else url root dir os root dir if followlinks else root dir url in bundle os url root dir if os url url in bundle + u url in bundlereturn [relativize url url root dir for url in classpath 
